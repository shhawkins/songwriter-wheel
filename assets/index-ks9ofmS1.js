(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var gM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function B3(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Gm={exports:{}},wf={};var _v;function q3(){if(_v)return wf;_v=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,o){var h=null;if(o!==void 0&&(h=""+o),a.key!==void 0&&(h=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:i,type:r,key:h,ref:a!==void 0?a:null,props:o}}return wf.Fragment=t,wf.jsx=e,wf.jsxs=e,wf}var wv;function z3(){return wv||(wv=1,Gm.exports=q3()),Gm.exports}var L=z3(),Ym={exports:{}},Ye={};var Sv;function F3(){if(Sv)return Ye;Sv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function y(X){return X===null||typeof X!="object"?null:(X=w&&X[w]||X["@@iterator"],typeof X=="function"?X:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function T(X,E,H){this.props=X,this.context=E,this.refs=k,this.updater=H||A}T.prototype.isReactComponent={},T.prototype.setState=function(X,E){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,E,"setState")},T.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function P(){}P.prototype=T.prototype;function F(X,E,H){this.props=X,this.context=E,this.refs=k,this.updater=H||A}var I=F.prototype=new P;I.constructor=F,N(I,T.prototype),I.isPureReactComponent=!0;var B=Array.isArray;function Q(){}var Y={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function R(X,E,H){var tt=H.ref;return{$$typeof:i,type:X,key:E,ref:tt!==void 0?tt:null,props:H}}function Z(X,E){return R(X.type,E,X.props)}function C(X){return typeof X=="object"&&X!==null&&X.$$typeof===i}function j(X){var E={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(H){return E[H]})}var U=/\/+/g;function J(X,E){return typeof X=="object"&&X!==null&&X.key!=null?j(""+X.key):E.toString(36)}function ut(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(Q,Q):(X.status="pending",X.then(function(E){X.status==="pending"&&(X.status="fulfilled",X.value=E)},function(E){X.status==="pending"&&(X.status="rejected",X.reason=E)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function $(X,E,H,tt,it){var ot=typeof X;(ot==="undefined"||ot==="boolean")&&(X=null);var mt=!1;if(X===null)mt=!0;else switch(ot){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(X.$$typeof){case i:case t:mt=!0;break;case m:return mt=X._init,$(mt(X._payload),E,H,tt,it)}}if(mt)return it=it(X),mt=tt===""?"."+J(X,0):tt,B(it)?(H="",mt!=null&&(H=mt.replace(U,"$&/")+"/"),$(it,E,H,"",function(_t){return _t})):it!=null&&(C(it)&&(it=Z(it,H+(it.key==null||X&&X.key===it.key?"":(""+it.key).replace(U,"$&/")+"/")+mt)),E.push(it)),1;mt=0;var ft=tt===""?".":tt+":";if(B(X))for(var gt=0;gt<X.length;gt++)tt=X[gt],ot=ft+J(tt,gt),mt+=$(tt,E,H,ot,it);else if(gt=y(X),typeof gt=="function")for(X=gt.call(X),gt=0;!(tt=X.next()).done;)tt=tt.value,ot=ft+J(tt,gt++),mt+=$(tt,E,H,ot,it);else if(ot==="object"){if(typeof X.then=="function")return $(ut(X),E,H,tt,it);throw E=String(X),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.")}return mt}function rt(X,E,H){if(X==null)return X;var tt=[],it=0;return $(X,tt,"","",function(ot){return E.call(H,ot,it++)}),tt}function ct(X){if(X._status===-1){var E=X._result;E=E(),E.then(function(H){(X._status===0||X._status===-1)&&(X._status=1,X._result=H)},function(H){(X._status===0||X._status===-1)&&(X._status=2,X._result=H)}),X._status===-1&&(X._status=0,X._result=E)}if(X._status===1)return X._result.default;throw X._result}var pt=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var E=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(E))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},Nt={map:rt,forEach:function(X,E,H){rt(X,function(){E.apply(this,arguments)},H)},count:function(X){var E=0;return rt(X,function(){E++}),E},toArray:function(X){return rt(X,function(E){return E})||[]},only:function(X){if(!C(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return Ye.Activity=b,Ye.Children=Nt,Ye.Component=T,Ye.Fragment=e,Ye.Profiler=a,Ye.PureComponent=F,Ye.StrictMode=r,Ye.Suspense=f,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(X){return Y.H.useMemoCache(X)}},Ye.cache=function(X){return function(){return X.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(X,E,H){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var tt=N({},X.props),it=X.key;if(E!=null)for(ot in E.key!==void 0&&(it=""+E.key),E)!D.call(E,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&E.ref===void 0||(tt[ot]=E[ot]);var ot=arguments.length-2;if(ot===1)tt.children=H;else if(1<ot){for(var mt=Array(ot),ft=0;ft<ot;ft++)mt[ft]=arguments[ft+2];tt.children=mt}return R(X.type,it,tt)},Ye.createContext=function(X){return X={$$typeof:h,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},Ye.createElement=function(X,E,H){var tt,it={},ot=null;if(E!=null)for(tt in E.key!==void 0&&(ot=""+E.key),E)D.call(E,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(it[tt]=E[tt]);var mt=arguments.length-2;if(mt===1)it.children=H;else if(1<mt){for(var ft=Array(mt),gt=0;gt<mt;gt++)ft[gt]=arguments[gt+2];it.children=ft}if(X&&X.defaultProps)for(tt in mt=X.defaultProps,mt)it[tt]===void 0&&(it[tt]=mt[tt]);return R(X,ot,it)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(X){return{$$typeof:c,render:X}},Ye.isValidElement=C,Ye.lazy=function(X){return{$$typeof:m,_payload:{_status:-1,_result:X},_init:ct}},Ye.memo=function(X,E){return{$$typeof:d,type:X,compare:E===void 0?null:E}},Ye.startTransition=function(X){var E=Y.T,H={};Y.T=H;try{var tt=X(),it=Y.S;it!==null&&it(H,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Q,pt)}catch(ot){pt(ot)}finally{E!==null&&H.types!==null&&(E.types=H.types),Y.T=E}},Ye.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Ye.use=function(X){return Y.H.use(X)},Ye.useActionState=function(X,E,H){return Y.H.useActionState(X,E,H)},Ye.useCallback=function(X,E){return Y.H.useCallback(X,E)},Ye.useContext=function(X){return Y.H.useContext(X)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(X,E){return Y.H.useDeferredValue(X,E)},Ye.useEffect=function(X,E){return Y.H.useEffect(X,E)},Ye.useEffectEvent=function(X){return Y.H.useEffectEvent(X)},Ye.useId=function(){return Y.H.useId()},Ye.useImperativeHandle=function(X,E,H){return Y.H.useImperativeHandle(X,E,H)},Ye.useInsertionEffect=function(X,E){return Y.H.useInsertionEffect(X,E)},Ye.useLayoutEffect=function(X,E){return Y.H.useLayoutEffect(X,E)},Ye.useMemo=function(X,E){return Y.H.useMemo(X,E)},Ye.useOptimistic=function(X,E){return Y.H.useOptimistic(X,E)},Ye.useReducer=function(X,E,H){return Y.H.useReducer(X,E,H)},Ye.useRef=function(X){return Y.H.useRef(X)},Ye.useState=function(X){return Y.H.useState(X)},Ye.useSyncExternalStore=function(X,E,H){return Y.H.useSyncExternalStore(X,E,H)},Ye.useTransition=function(){return Y.H.useTransition()},Ye.version="19.2.0",Ye}var Av;function eg(){return Av||(Av=1,Ym.exports=F3()),Ym.exports}var dt=eg();const vn=B3(dt);var Wm={exports:{}},Sf={},Xm={exports:{}},Zm={};var Nv;function P3(){return Nv||(Nv=1,(function(i){function t($,rt){var ct=$.length;$.push(rt);t:for(;0<ct;){var pt=ct-1>>>1,Nt=$[pt];if(0<a(Nt,rt))$[pt]=rt,$[ct]=Nt,ct=pt;else break t}}function e($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var rt=$[0],ct=$.pop();if(ct!==rt){$[0]=ct;t:for(var pt=0,Nt=$.length,X=Nt>>>1;pt<X;){var E=2*(pt+1)-1,H=$[E],tt=E+1,it=$[tt];if(0>a(H,ct))tt<Nt&&0>a(it,H)?($[pt]=it,$[tt]=ct,pt=tt):($[pt]=H,$[E]=ct,pt=E);else if(tt<Nt&&0>a(it,ct))$[pt]=it,$[tt]=ct,pt=tt;else break t}}return rt}function a($,rt){var ct=$.sortIndex-rt.sortIndex;return ct!==0?ct:$.id-rt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var h=Date,c=h.now();i.unstable_now=function(){return h.now()-c}}var f=[],d=[],m=1,b=null,w=3,y=!1,A=!1,N=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function I($){for(var rt=e(d);rt!==null;){if(rt.callback===null)r(d);else if(rt.startTime<=$)r(d),rt.sortIndex=rt.expirationTime,t(f,rt);else break;rt=e(d)}}function B($){if(N=!1,I($),!A)if(e(f)!==null)A=!0,Q||(Q=!0,j());else{var rt=e(d);rt!==null&&ut(B,rt.startTime-$)}}var Q=!1,Y=-1,D=5,R=-1;function Z(){return k?!0:!(i.unstable_now()-R<D)}function C(){if(k=!1,Q){var $=i.unstable_now();R=$;var rt=!0;try{t:{A=!1,N&&(N=!1,P(Y),Y=-1),y=!0;var ct=w;try{e:{for(I($),b=e(f);b!==null&&!(b.expirationTime>$&&Z());){var pt=b.callback;if(typeof pt=="function"){b.callback=null,w=b.priorityLevel;var Nt=pt(b.expirationTime<=$);if($=i.unstable_now(),typeof Nt=="function"){b.callback=Nt,I($),rt=!0;break e}b===e(f)&&r(f),I($)}else r(f);b=e(f)}if(b!==null)rt=!0;else{var X=e(d);X!==null&&ut(B,X.startTime-$),rt=!1}}break t}finally{b=null,w=ct,y=!1}rt=void 0}}finally{rt?j():Q=!1}}}var j;if(typeof F=="function")j=function(){F(C)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,J=U.port2;U.port1.onmessage=C,j=function(){J.postMessage(null)}}else j=function(){T(C,0)};function ut($,rt){Y=T(function(){$(i.unstable_now())},rt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function($){switch(w){case 1:case 2:case 3:var rt=3;break;default:rt=w}var ct=w;w=rt;try{return $()}finally{w=ct}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function($,rt){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ct=w;w=$;try{return rt()}finally{w=ct}},i.unstable_scheduleCallback=function($,rt,ct){var pt=i.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?pt+ct:pt):ct=pt,$){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=ct+Nt,$={id:m++,callback:rt,priorityLevel:$,startTime:ct,expirationTime:Nt,sortIndex:-1},ct>pt?($.sortIndex=ct,t(d,$),e(f)===null&&$===e(d)&&(N?(P(Y),Y=-1):N=!0,ut(B,ct-pt))):($.sortIndex=Nt,t(f,$),A||y||(A=!0,Q||(Q=!0,j()))),$},i.unstable_shouldYield=Z,i.unstable_wrapCallback=function($){var rt=w;return function(){var ct=w;w=rt;try{return $.apply(this,arguments)}finally{w=ct}}}})(Zm)),Zm}var Tv;function U3(){return Tv||(Tv=1,Xm.exports=P3()),Xm.exports}var Km={exports:{}},Rr={};var Cv;function V3(){if(Cv)return Rr;Cv=1;var i=eg();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:d,implementation:m}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Rr.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,m)},Rr.flushSync=function(f){var d=h.T,m=r.p;try{if(h.T=null,r.p=2,f)return f()}finally{h.T=d,r.p=m,r.d.f()}},Rr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Rr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Rr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,b=c(m,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:y}):m==="script"&&r.d.X(f,{crossOrigin:b,integrity:w,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Rr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Rr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,b=c(m,d.crossOrigin);r.d.L(f,m,{crossOrigin:b,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Rr.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Rr.requestFormReset=function(f){r.d.r(f)},Rr.unstable_batchedUpdates=function(f,d){return f(d)},Rr.useFormState=function(f,d,m){return h.H.useFormState(f,d,m)},Rr.useFormStatus=function(){return h.H.useHostTransitionStatus()},Rr.version="19.2.0",Rr}var Ev;function Fb(){if(Ev)return Km.exports;Ev=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Km.exports=V3(),Km.exports}var kv;function H3(){if(kv)return Sf;kv=1;var i=U3(),t=eg(),e=Fb();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function c(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(o(n)!==n)throw Error(r(188))}function d(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,u=s;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return f(g),n;if(x===u)return f(g),s;x=x.sibling}throw Error(r(188))}if(l.return!==u.return)l=g,u=x;else{for(var M=!1,K=g.child;K;){if(K===l){M=!0,l=g,u=x;break}if(K===u){M=!0,u=g,l=x;break}K=K.sibling}if(!M){for(K=x.child;K;){if(K===l){M=!0,l=x,u=g;break}if(K===u){M=!0,u=x,l=g;break}K=K.sibling}if(!M)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function m(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=m(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),F=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=C&&n[C]||n["@@iterator"],typeof n=="function"?n:null)}var U=Symbol.for("react.client.reference");function J(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===U?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case T:return"Profiler";case k:return"StrictMode";case B:return"Suspense";case Q:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case F:return n.displayName||"Context";case P:return(n._context.displayName||"Context")+".Consumer";case I:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Y:return s=n.displayName||null,s!==null?s:J(n.type)||"Memo";case D:s=n._payload,n=n._init;try{return J(n(s))}catch{}}return null}var ut=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},pt=[],Nt=-1;function X(n){return{current:n}}function E(n){0>Nt||(n.current=pt[Nt],pt[Nt]=null,Nt--)}function H(n,s){Nt++,pt[Nt]=n.current,n.current=s}var tt=X(null),it=X(null),ot=X(null),mt=X(null);function ft(n,s){switch(H(ot,s),H(it,n),H(tt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?H5(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=H5(s),n=G5(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}E(tt),H(tt,n)}function gt(){E(tt),E(it),E(ot)}function _t(n){n.memoizedState!==null&&H(mt,n);var s=tt.current,l=G5(s,n.type);s!==l&&(H(it,n),H(tt,l))}function Rt(n){it.current===n&&(E(tt),E(it)),mt.current===n&&(E(mt),yf._currentValue=ct)}var Xt,Ht;function $t(n){if(Xt===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Xt=s&&s[1]||"",Ht=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xt+n+Ht}var V=!1;function Dt(n,s){if(!n||V)return"";V=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Yt=function(){throw Error()};if(Object.defineProperty(Yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Yt,[])}catch(jt){var Mt=jt}Reflect.construct(n,[],Yt)}else{try{Yt.call()}catch(jt){Mt=jt}n.call(Yt.prototype)}}else{try{throw Error()}catch(jt){Mt=jt}(Yt=n())&&typeof Yt.catch=="function"&&Yt.catch(function(){})}}catch(jt){if(jt&&Mt&&typeof jt.stack=="string")return[jt.stack,Mt.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),M=x[0],K=x[1];if(M&&K){var ht=M.split(`
`),Ot=K.split(`
`);for(g=u=0;u<ht.length&&!ht[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Ot.length&&!Ot[g].includes("DetermineComponentFrameRoot");)g++;if(u===ht.length||g===Ot.length)for(u=ht.length-1,g=Ot.length-1;1<=u&&0<=g&&ht[u]!==Ot[g];)g--;for(;1<=u&&0<=g;u--,g--)if(ht[u]!==Ot[g]){if(u!==1||g!==1)do if(u--,g--,0>g||ht[u]!==Ot[g]){var Ft=`
`+ht[u].replace(" at new "," at ");return n.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",n.displayName)),Ft}while(1<=u&&0<=g);break}}}finally{V=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?$t(l):""}function ue(n,s){switch(n.tag){case 26:case 27:case 5:return $t(n.type);case 16:return $t("Lazy");case 13:return n.child!==s&&s!==null?$t("Suspense Fallback"):$t("Suspense");case 19:return $t("SuspenseList");case 0:case 15:return Dt(n.type,!1);case 11:return Dt(n.type.render,!1);case 1:return Dt(n.type,!0);case 31:return $t("Activity");default:return""}}function ne(n){try{var s="",l=null;do s+=ue(n,l),l=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Lt=Object.prototype.hasOwnProperty,ee=i.unstable_scheduleCallback,ie=i.unstable_cancelCallback,le=i.unstable_shouldYield,pe=i.unstable_requestPaint,ke=i.unstable_now,Gt=i.unstable_getCurrentPriorityLevel,Kt=i.unstable_ImmediatePriority,ce=i.unstable_UserBlockingPriority,ge=i.unstable_NormalPriority,ae=i.unstable_LowPriority,Te=i.unstable_IdlePriority,oe=i.log,Ze=i.unstable_setDisableYieldValue,De=null,we=null;function Se(n){if(typeof oe=="function"&&Ze(n),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(De,n)}catch{}}var Fe=Math.clz32?Math.clz32:zt,wt=Math.log,qt=Math.LN2;function zt(n){return n>>>=0,n===0?32:31-(wt(n)/qt|0)|0}var re=256,Ee=262144,te=4194304;function Jt(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ve(n,s,l){var u=n.pendingLanes;if(u===0)return 0;var g=0,x=n.suspendedLanes,M=n.pingedLanes;n=n.warmLanes;var K=u&134217727;return K!==0?(u=K&~x,u!==0?g=Jt(u):(M&=K,M!==0?g=Jt(M):l||(l=K&~n,l!==0&&(g=Jt(l))))):(K=u&~x,K!==0?g=Jt(K):M!==0?g=Jt(M):l||(l=u&~n,l!==0&&(g=Jt(l)))),g===0?0:s!==0&&s!==g&&(s&x)===0&&(x=g&-g,l=s&-s,x>=l||x===32&&(l&4194048)!==0)?s:g}function Nn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Qe(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cn(){var n=te;return te<<=1,(te&62914560)===0&&(te=4194304),n}function Tn(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function he(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function sn(n,s,l,u,g,x){var M=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var K=n.entanglements,ht=n.expirationTimes,Ot=n.hiddenUpdates;for(l=M&~l;0<l;){var Ft=31-Fe(l),Yt=1<<Ft;K[Ft]=0,ht[Ft]=-1;var Mt=Ot[Ft];if(Mt!==null)for(Ot[Ft]=null,Ft=0;Ft<Mt.length;Ft++){var jt=Mt[Ft];jt!==null&&(jt.lane&=-536870913)}l&=~Yt}u!==0&&jn(n,u,0),x!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=x&~(M&~s))}function jn(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Fe(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function Cn(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var u=31-Fe(l),g=1<<u;g&s|n[u]&s&&(n[u]|=s),l&=~g}}function Ln(n,s){var l=s&-s;return l=(l&42)!==0?1:Je(l),(l&(n.suspendedLanes|s))!==0?0:l}function Je(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function En(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Dn(){var n=rt.p;return n!==0?n:(n=window.event,n===void 0?32:pv(n.type))}function Qi(n,s){var l=rt.p;try{return rt.p=n,s()}finally{rt.p=l}}var ui=Math.random().toString(36).slice(2),wn="__reactFiber$"+ui,Wn="__reactProps$"+ui,ji="__reactContainer$"+ui,ur="__reactEvents$"+ui,Mr="__reactListeners$"+ui,ga="__reactHandles$"+ui,Ur="__reactResources$"+ui,Vr="__reactMarker$"+ui;function Xs(n){delete n[wn],delete n[Wn],delete n[ur],delete n[Mr],delete n[ga]}function Ts(n){var s=n[wn];if(s)return s;for(var l=n.parentNode;l;){if(s=l[ji]||l[wn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=Q5(n);n!==null;){if(l=n[wn])return l;n=Q5(n)}return s}n=l,l=n.parentNode}return null}function Cs(n){if(n=n[wn]||n[ji]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Ro(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Zs(n){var s=n[Ur];return s||(s=n[Ur]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function vi(n){n[Vr]=!0}var vc=new Set,Hr={};function Es(n,s){va(n,s),va(n+"Capture",s)}function va(n,s){for(Hr[n]=s,n=0;n<s.length;n++)vc.add(s[n])}var yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bc={},xc={};function du(n){return Lt.call(xc,n)?!0:Lt.call(bc,n)?!1:yc.test(n)?xc[n]=!0:(bc[n]=!0,!1)}function Gr(n,s,l){if(du(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function ya(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function ks(n,s,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+u)}}function bn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _c(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ks(n,s,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,x=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(M){l=""+M,x.call(this,M)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(M){l=""+M},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ao(n){if(!n._valueTracker){var s=_c(n)?"checked":"value";n._valueTracker=Ks(n,s,""+n[s])}}function wc(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return n&&(u=_c(n)?n.checked?"true":"false":n.value),n=u,n!==l?(s.setValue(n),!0):!1}function xr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ri=/[\n"\\]/g;function Si(n){return n.replace(Ri,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _l(n,s,l,u,g,x,M,K){n.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.type=M:n.removeAttribute("type"),s!=null?M==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+bn(s)):n.value!==""+bn(s)&&(n.value=""+bn(s)):M!=="submit"&&M!=="reset"||n.removeAttribute("value"),s!=null?Sc(n,M,bn(s)):l!=null?Sc(n,M,bn(l)):u!=null&&n.removeAttribute("value"),g==null&&x!=null&&(n.defaultChecked=!!x),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?n.name=""+bn(K):n.removeAttribute("name")}function pu(n,s,l,u,g,x,M,K){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),s!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){ao(n);return}l=l!=null?""+bn(l):"",s=s!=null?""+bn(s):l,K||s===n.value||(n.value=s),n.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=K?n.checked:!!u,n.defaultChecked=!!u,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(n.name=M),ao(n)}function Sc(n,s,l){s==="number"&&xr(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function _r(n,s,l,u){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&u&&(n[l].defaultSelected=!0)}else{for(l=""+bn(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function Ac(n,s,l){if(s!=null&&(s=""+bn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+bn(l):""}function Nc(n,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(ut(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=bn(s),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),ao(n)}function Os(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var Io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(n,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,l):typeof l!="number"||l===0||Io.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function gu(n,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&mu(n,g,u)}else for(var x in s)s.hasOwnProperty(x)&&mu(n,x,s[x])}function Tc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lr(n){return vu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ms(){}var ba=null;function Bo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var oo=null,je=null;function yu(n){var s=Cs(n);if(s&&(n=s.stateNode)){var l=n[Wn]||null;t:switch(n=s.stateNode,s.type){case"input":if(_l(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Si(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==n&&u.form===n.form){var g=u[Wn]||null;if(!g)throw Error(r(90));_l(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===n.form&&wc(u)}break t;case"textarea":Ac(n,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&_r(n,!!l.multiple,s,!1)}}}var Ec=!1;function bu(n,s,l){if(Ec)return n(s,l);Ec=!0;try{var u=n(s);return u}finally{if(Ec=!1,(oo!==null||je!==null)&&(Bd(),oo&&(s=oo,n=je,je=oo=null,yu(s),n)))for(s=0;s<n.length;s++)yu(n[s])}}function Yr(n,s){var l=n.stateNode;if(l===null)return null;var u=l[Wn]||null;if(u===null)return null;l=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kc=!1;if(Ji)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){kc=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{kc=!1}var Wr=null,zo=null,$s=null;function xu(){if($s)return $s;var n,s=zo,l=s.length,u,g="value"in Wr?Wr.value:Wr.textContent,x=g.length;for(n=0;n<l&&s[n]===g[n];n++);var M=l-n;for(u=1;u<=M&&s[l-u]===g[x-u];u++);return $s=g.slice(n,1<u?1-u:void 0)}function is(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function wl(){return!0}function Sl(){return!1}function Vi(n){function s(l,u,g,x,M){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=x,this.target=M,this.currentTarget=null;for(var K in n)n.hasOwnProperty(K)&&(l=n[K],this[K]=l?l(x):x[K]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?wl:Sl,this.isPropagationStopped=Sl,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),s}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=Vi(Qs),xa=b({},Qs,{view:0,detail:0}),Al=Vi(xa),Fo,_a,wa,Po=b({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qe,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wa&&(wa&&n.type==="mousemove"?(Fo=n.screenX-wa.screenX,_a=n.screenY-wa.screenY):_a=Fo=0,wa=n),Fo)},movementY:function(n){return"movementY"in n?n.movementY:_a}}),Oc=Vi(Po),Sa=b({},Po,{dataTransfer:0}),Aa=Vi(Sa),_u=b({},xa,{relatedTarget:0}),Na=Vi(_u),wu=b({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Vi(wu),q=b({},Qs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),lt=Vi(q),vt=b({},Qs,{data:0}),St=Vi(vt),Pt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ye={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ae(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=ye[n])?!!s[n]:!1}function qe(){return Ae}var He=b({},xa,{key:function(n){if(n.key){var s=Pt[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=is(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Zt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qe,charCode:function(n){return n.type==="keypress"?is(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?is(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),un=Vi(He),ei=b({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yi=Vi(ei),zn=b({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qe}),Ii=Vi(zn),Ai=b({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),tr=Vi(Ai),Ta=b({},Po,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ls=Vi(Ta),Ca=b({},Qs,{newState:0,oldState:0}),Mc=Vi(Ca),Nl=[9,13,27,32],Js=Ji&&"CompositionEvent"in window,Ds=null;Ji&&"documentMode"in document&&(Ds=document.documentMode);var Uo=Ji&&"TextEvent"in window&&!Ds,Ea=Ji&&(!Js||Ds&&8<Ds&&11>=Ds),Hi=" ",lo=!1;function co(n,s){switch(n){case"keyup":return Nl.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tl(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ta=!1;function wr(n,s){switch(n){case"compositionend":return Tl(s);case"keypress":return s.which!==32?null:(lo=!0,Hi);case"textInput":return n=s.data,n===Hi&&lo?null:n;default:return null}}function ka(n,s){if(ta)return n==="compositionend"||!Js&&co(n,s)?(n=xu(),$s=zo=Wr=null,ta=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ea&&s.locale!=="ko"?null:s.data;default:return null}}var Cl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Cl[n.type]:s==="textarea"}function Xr(n,s,l,u){oo?je?je.push(u):je=[u]:oo=u,s=Hd(s,"onChange"),0<s.length&&(l=new rs("onChange","change",null,l,u),n.push({event:l,listeners:s}))}var js=null,Oa=null;function Dc(n){q5(n,0)}function Rs(n){var s=Ro(n);if(wc(s))return n}function uo(n,s){if(n==="change")return s}var Dr=!1;if(Ji){var Sr;if(Ji){var ea="oninput"in document;if(!ea){var na=document.createElement("div");na.setAttribute("oninput","return;"),ea=typeof na.oninput=="function"}Sr=ea}else Sr=!1;Dr=Sr&&(!document.documentMode||9<document.documentMode)}function Ma(){js&&(js.detachEvent("onpropertychange",El),Oa=js=null)}function El(n){if(n.propertyName==="value"&&Rs(Oa)){var s=[];Xr(s,Oa,n,Bo(n)),bu(Dc,s)}}function kl(n,s,l){n==="focusin"?(Ma(),js=s,Oa=l,js.attachEvent("onpropertychange",El)):n==="focusout"&&Ma()}function bi(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Rs(Oa)}function Su(n,s){if(n==="click")return Rs(s)}function ia(n,s){if(n==="input"||n==="change")return Rs(s)}function ra(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var er=typeof Object.is=="function"?Object.is:ra;function La(n,s){if(er(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Lt.call(s,g)||!er(n[g],s[g]))return!1}return!0}function Ol(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ml(n,s){var l=Ol(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=s&&u>=s)return{node:l,offset:s-n};n=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Ol(l)}}function Da(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Da(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function ja(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=xr(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=xr(n.document)}return s}function sa(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Vo=Ji&&"documentMode"in document&&11>=document.documentMode,Zr=null,Ra=null,hr=null,ss=!1;function xn(n,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ss||Zr==null||Zr!==xr(u)||(u=Zr,"selectionStart"in u&&sa(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),hr&&La(hr,u)||(hr=u,u=Hd(Ra,"onSelect"),0<u.length&&(s=new rs("onSelect","select",null,s,l),n.push({event:s,listeners:u}),s.target=Zr)))}function hn(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Fn={animationend:hn("Animation","AnimationEnd"),animationiteration:hn("Animation","AnimationIteration"),animationstart:hn("Animation","AnimationStart"),transitionrun:hn("Transition","TransitionRun"),transitionstart:hn("Transition","TransitionStart"),transitioncancel:hn("Transition","TransitionCancel"),transitionend:hn("Transition","TransitionEnd")},xi={},aa={};Ji&&(aa=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function Is(n){if(xi[n])return xi[n];if(!Fn[n])return n;var s=Fn[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in aa)return xi[n]=s[l];return n}var Ho=Is("animationend"),jc=Is("animationiteration"),Fh=Is("animationstart"),dd=Is("transitionrun"),pd=Is("transitionstart"),md=Is("transitioncancel"),Ph=Is("transitionend"),Uh=new Map,Go="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Go.push("scrollEnd");function as(n,s){Uh.set(n,s),Es(s,[n])}var Rc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Kr=[],Yo=0,Au=0;function Ic(){for(var n=Yo,s=Au=Yo=0;s<n;){var l=Kr[s];Kr[s++]=null;var u=Kr[s];Kr[s++]=null;var g=Kr[s];Kr[s++]=null;var x=Kr[s];if(Kr[s++]=null,u!==null&&g!==null){var M=u.pending;M===null?g.next=g:(g.next=M.next,M.next=g),u.pending=g}x!==0&&qc(l,g,x)}}function Bc(n,s,l,u){Kr[Yo++]=n,Kr[Yo++]=s,Kr[Yo++]=l,Kr[Yo++]=u,Au|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Nu(n,s,l,u){return Bc(n,s,l,u),fr(n)}function Ia(n,s){return Bc(n,null,null,s),fr(n)}function qc(n,s,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var g=!1,x=n.return;x!==null;)x.childLanes|=l,u=x.alternate,u!==null&&(u.childLanes|=l),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(g=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,g&&s!==null&&(g=31-Fe(l),n=x.hiddenUpdates,u=n[g],u===null?n[g]=[s]:u.push(s),s.lane=l|536870912),x):null}function fr(n){if(50<hf)throw hf=0,mm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var nr={};function Tu(n,s,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(n,s,l,u){return new Tu(n,s,l,u)}function Cu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function os(n,s){var l=n.alternate;return l===null?(l=dr(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function zc(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ll(n,s,l,u,g,x){var M=0;if(u=n,typeof n=="function")Cu(n)&&(M=1);else if(typeof n=="string")M=N3(n,l,tt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case R:return n=dr(31,l,s,g),n.elementType=R,n.lanes=x,n;case N:return ho(l.children,g,x,s);case k:M=8,g|=24;break;case T:return n=dr(12,l,s,g|2),n.elementType=T,n.lanes=x,n;case B:return n=dr(13,l,s,g),n.elementType=B,n.lanes=x,n;case Q:return n=dr(19,l,s,g),n.elementType=Q,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:M=10;break t;case P:M=9;break t;case I:M=11;break t;case Y:M=14;break t;case D:M=16,u=null;break t}M=29,l=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=dr(M,l,s,g),s.elementType=n,s.type=u,s.lanes=x,s}function ho(n,s,l,u){return n=dr(7,n,u,s),n.lanes=l,n}function Fc(n,s,l){return n=dr(6,n,null,s),n.lanes=l,n}function Eu(n){var s=dr(18,null,null,0);return s.stateNode=n,s}function Dl(n,s,l){return s=dr(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var ku=new WeakMap;function ls(n,s){if(typeof n=="object"&&n!==null){var l=ku.get(n);return l!==void 0?l:(s={value:n,source:s,stack:ne(s)},ku.set(n,s),s)}return{value:n,source:s,stack:ne(s)}}var jl=[],Wo=0,Ou=null,Pc=0,cs=[],us=0,fo=null,hs=1,fs="";function $r(n,s){jl[Wo++]=Pc,jl[Wo++]=Ou,Ou=n,Pc=s}function gd(n,s,l){cs[us++]=hs,cs[us++]=fs,cs[us++]=fo,fo=n;var u=hs;n=fs;var g=32-Fe(u)-1;u&=~(1<<g),l+=1;var x=32-Fe(s)+g;if(30<x){var M=g-g%5;x=(u&(1<<M)-1).toString(32),u>>=M,g-=M,hs=1<<32-Fe(s)+g|l<<g|u,fs=x+n}else hs=1<<x|l<<g|u,fs=n}function Vh(n){n.return!==null&&($r(n,1),gd(n,1,0))}function Mu(n){for(;n===Ou;)Ou=jl[--Wo],jl[Wo]=null,Pc=jl[--Wo],jl[Wo]=null;for(;n===fo;)fo=cs[--us],cs[us]=null,fs=cs[--us],cs[us]=null,hs=cs[--us],cs[us]=null}function vd(n,s){cs[us++]=hs,cs[us++]=fs,cs[us++]=fo,hs=s.id,fs=s.overflow,fo=n}var ir=null,Xn=null,en=!1,Ar=null,hi=!1,Bs=Error(r(519));function po(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(ls(s,n)),Bs}function Hh(n){var s=n.stateNode,l=n.type,u=n.memoizedProps;switch(s[wn]=n,s[Wn]=u,l){case"dialog":rn("cancel",s),rn("close",s);break;case"iframe":case"object":case"embed":rn("load",s);break;case"video":case"audio":for(l=0;l<df.length;l++)rn(df[l],s);break;case"source":rn("error",s);break;case"img":case"image":case"link":rn("error",s),rn("load",s);break;case"details":rn("toggle",s);break;case"input":rn("invalid",s),pu(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":rn("invalid",s);break;case"textarea":rn("invalid",s),Nc(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||U5(s.textContent,l)?(u.popover!=null&&(rn("beforetoggle",s),rn("toggle",s)),u.onScroll!=null&&rn("scroll",s),u.onScrollEnd!=null&&rn("scrollend",s),u.onClick!=null&&(s.onclick=Ms),s=!0):s=!1,s||po(n,!0)}function Ba(n){for(ir=n.return;ir;)switch(ir.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:ir=ir.return}}function rr(n){if(n!==ir)return!1;if(!en)return Ba(n),en=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Om(n.type,n.memoizedProps)),l=!l),l&&Xn&&po(n),Ba(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Xn=$5(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Xn=$5(n)}else s===27?(s=Xn,Zl(n.type)?(n=Rm,Rm=null,Xn=n):Xn=s):Xn=ir?ua(n.stateNode.nextSibling):null;return!0}function Xo(){Xn=ir=null,en=!1}function Gh(){var n=Ar;return n!==null&&(ys===null?ys=n:ys.push.apply(ys,n),Ar=null),n}function Rl(n){Ar===null?Ar=[n]:Ar.push(n)}var Lu=X(null),mo=null,oa=null;function go(n,s,l){H(Lu,s._currentValue),s._currentValue=l}function ds(n){n._currentValue=Lu.current,E(Lu)}function Il(n,s,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===l)break;n=n.return}}function Zo(n,s,l,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var x=g.dependencies;if(x!==null){var M=g.child;x=x.firstContext;t:for(;x!==null;){var K=x;x=g;for(var ht=0;ht<s.length;ht++)if(K.context===s[ht]){x.lanes|=l,K=x.alternate,K!==null&&(K.lanes|=l),Il(x.return,l,n),u||(M=null);break t}x=K.next}}else if(g.tag===18){if(M=g.return,M===null)throw Error(r(341));M.lanes|=l,x=M.alternate,x!==null&&(x.lanes|=l),Il(M,l,n),M=null}else M=g.child;if(M!==null)M.return=g;else for(M=g;M!==null;){if(M===n){M=null;break}if(g=M.sibling,g!==null){g.return=M.return,M=g;break}M=M.return}g=M}}function vo(n,s,l,u){n=null;for(var g=s,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var M=g.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var K=g.type;er(g.pendingProps.value,M.value)||(n!==null?n.push(K):n=[K])}}else if(g===mt.current){if(M=g.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(yf):n=[yf])}g=g.return}n!==null&&Zo(s,n,l,u),s.flags|=262144}function Du(n){for(n=n.firstContext;n!==null;){if(!er(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function yo(n){mo=n,oa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function sr(n){return yd(mo,n)}function ju(n,s){return mo===null&&yo(n),yd(n,s)}function yd(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},oa===null){if(n===null)throw Error(r(308));oa=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else oa=oa.next=s;return l}var j1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},R1=i.unstable_scheduleCallback,I1=i.unstable_NormalPriority,_i={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bl(){return{controller:new j1,data:new Map,refCount:0}}function Uc(n){n.refCount--,n.refCount===0&&R1(I1,function(){n.controller.abort()})}var Vc=null,Ru=0,p=0,v=null;function S(n,s){if(Vc===null){var l=Vc=[];Ru=0,p=_m(),v={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ru++,s.then(O,O),s}function O(){if(--Ru===0&&Vc!==null){v!==null&&(v.status="fulfilled");var n=Vc;Vc=null,p=0,v=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function z(n,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var G=$.S;$.S=function(n,s){f5=ke(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&S(n,s),G!==null&&G(n,s)};var W=X(null);function et(){var n=W.current;return n!==null?n:Kn.pooledCache}function nt(n,s){s===null?H(W,W.current):H(W,s.pool)}function at(){var n=et();return n===null?null:{parent:_i._currentValue,pool:n}}var yt=Error(r(460)),Et=Error(r(474)),st=Error(r(542)),xt={then:function(){}};function Tt(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Bt(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(Ms,Ms),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Qt(n),n;default:if(typeof s.status=="string")s.then(Ms,Ms);else{if(n=Kn,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Qt(n),n}throw It=s,yt}}function Ct(n){try{var s=n._init;return s(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(It=l,yt):l}}var It=null;function Ut(){if(It===null)throw Error(r(459));var n=It;return It=null,n}function Qt(n){if(n===yt||n===st)throw Error(r(483))}var Wt=null,xe=0;function fe(n){var s=xe;return xe+=1,Wt===null&&(Wt=[]),Bt(Wt,n,s)}function Pe(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function me(n,s){throw s.$$typeof===w?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function tn(n){function s(At,bt){if(n){var kt=At.deletions;kt===null?(At.deletions=[bt],At.flags|=16):kt.push(bt)}}function l(At,bt){if(!n)return null;for(;bt!==null;)s(At,bt),bt=bt.sibling;return null}function u(At){for(var bt=new Map;At!==null;)At.key!==null?bt.set(At.key,At):bt.set(At.index,At),At=At.sibling;return bt}function g(At,bt){return At=os(At,bt),At.index=0,At.sibling=null,At}function x(At,bt,kt){return At.index=kt,n?(kt=At.alternate,kt!==null?(kt=kt.index,kt<bt?(At.flags|=67108866,bt):kt):(At.flags|=67108866,bt)):(At.flags|=1048576,bt)}function M(At){return n&&At.alternate===null&&(At.flags|=67108866),At}function K(At,bt,kt,Vt){return bt===null||bt.tag!==6?(bt=Fc(kt,At.mode,Vt),bt.return=At,bt):(bt=g(bt,kt),bt.return=At,bt)}function ht(At,bt,kt,Vt){var Le=kt.type;return Le===N?Ft(At,bt,kt.props.children,Vt,kt.key):bt!==null&&(bt.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===D&&Ct(Le)===bt.type)?(bt=g(bt,kt.props),Pe(bt,kt),bt.return=At,bt):(bt=Ll(kt.type,kt.key,kt.props,null,At.mode,Vt),Pe(bt,kt),bt.return=At,bt)}function Ot(At,bt,kt,Vt){return bt===null||bt.tag!==4||bt.stateNode.containerInfo!==kt.containerInfo||bt.stateNode.implementation!==kt.implementation?(bt=Dl(kt,At.mode,Vt),bt.return=At,bt):(bt=g(bt,kt.children||[]),bt.return=At,bt)}function Ft(At,bt,kt,Vt,Le){return bt===null||bt.tag!==7?(bt=ho(kt,At.mode,Vt,Le),bt.return=At,bt):(bt=g(bt,kt),bt.return=At,bt)}function Yt(At,bt,kt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return bt=Fc(""+bt,At.mode,kt),bt.return=At,bt;if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case y:return kt=Ll(bt.type,bt.key,bt.props,null,At.mode,kt),Pe(kt,bt),kt.return=At,kt;case A:return bt=Dl(bt,At.mode,kt),bt.return=At,bt;case D:return bt=Ct(bt),Yt(At,bt,kt)}if(ut(bt)||j(bt))return bt=ho(bt,At.mode,kt,null),bt.return=At,bt;if(typeof bt.then=="function")return Yt(At,fe(bt),kt);if(bt.$$typeof===F)return Yt(At,ju(At,bt),kt);me(At,bt)}return null}function Mt(At,bt,kt,Vt){var Le=bt!==null?bt.key:null;if(typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint")return Le!==null?null:K(At,bt,""+kt,Vt);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case y:return kt.key===Le?ht(At,bt,kt,Vt):null;case A:return kt.key===Le?Ot(At,bt,kt,Vt):null;case D:return kt=Ct(kt),Mt(At,bt,kt,Vt)}if(ut(kt)||j(kt))return Le!==null?null:Ft(At,bt,kt,Vt,null);if(typeof kt.then=="function")return Mt(At,bt,fe(kt),Vt);if(kt.$$typeof===F)return Mt(At,bt,ju(At,kt),Vt);me(At,kt)}return null}function jt(At,bt,kt,Vt,Le){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number"||typeof Vt=="bigint")return At=At.get(kt)||null,K(bt,At,""+Vt,Le);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case y:return At=At.get(Vt.key===null?kt:Vt.key)||null,ht(bt,At,Vt,Le);case A:return At=At.get(Vt.key===null?kt:Vt.key)||null,Ot(bt,At,Vt,Le);case D:return Vt=Ct(Vt),jt(At,bt,kt,Vt,Le)}if(ut(Vt)||j(Vt))return At=At.get(kt)||null,Ft(bt,At,Vt,Le,null);if(typeof Vt.then=="function")return jt(At,bt,kt,fe(Vt),Le);if(Vt.$$typeof===F)return jt(At,bt,kt,ju(bt,Vt),Le);me(bt,Vt)}return null}function be(At,bt,kt,Vt){for(var Le=null,Sn=null,Ne=bt,Ke=bt=0,on=null;Ne!==null&&Ke<kt.length;Ke++){Ne.index>Ke?(on=Ne,Ne=null):on=Ne.sibling;var An=Mt(At,Ne,kt[Ke],Vt);if(An===null){Ne===null&&(Ne=on);break}n&&Ne&&An.alternate===null&&s(At,Ne),bt=x(An,bt,Ke),Sn===null?Le=An:Sn.sibling=An,Sn=An,Ne=on}if(Ke===kt.length)return l(At,Ne),en&&$r(At,Ke),Le;if(Ne===null){for(;Ke<kt.length;Ke++)Ne=Yt(At,kt[Ke],Vt),Ne!==null&&(bt=x(Ne,bt,Ke),Sn===null?Le=Ne:Sn.sibling=Ne,Sn=Ne);return en&&$r(At,Ke),Le}for(Ne=u(Ne);Ke<kt.length;Ke++)on=jt(Ne,At,Ke,kt[Ke],Vt),on!==null&&(n&&on.alternate!==null&&Ne.delete(on.key===null?Ke:on.key),bt=x(on,bt,Ke),Sn===null?Le=on:Sn.sibling=on,Sn=on);return n&&Ne.forEach(function(tc){return s(At,tc)}),en&&$r(At,Ke),Le}function Ie(At,bt,kt,Vt){if(kt==null)throw Error(r(151));for(var Le=null,Sn=null,Ne=bt,Ke=bt=0,on=null,An=kt.next();Ne!==null&&!An.done;Ke++,An=kt.next()){Ne.index>Ke?(on=Ne,Ne=null):on=Ne.sibling;var tc=Mt(At,Ne,An.value,Vt);if(tc===null){Ne===null&&(Ne=on);break}n&&Ne&&tc.alternate===null&&s(At,Ne),bt=x(tc,bt,Ke),Sn===null?Le=tc:Sn.sibling=tc,Sn=tc,Ne=on}if(An.done)return l(At,Ne),en&&$r(At,Ke),Le;if(Ne===null){for(;!An.done;Ke++,An=kt.next())An=Yt(At,An.value,Vt),An!==null&&(bt=x(An,bt,Ke),Sn===null?Le=An:Sn.sibling=An,Sn=An);return en&&$r(At,Ke),Le}for(Ne=u(Ne);!An.done;Ke++,An=kt.next())An=jt(Ne,At,Ke,An.value,Vt),An!==null&&(n&&An.alternate!==null&&Ne.delete(An.key===null?Ke:An.key),bt=x(An,bt,Ke),Sn===null?Le=An:Sn.sibling=An,Sn=An);return n&&Ne.forEach(function(I3){return s(At,I3)}),en&&$r(At,Ke),Le}function Hn(At,bt,kt,Vt){if(typeof kt=="object"&&kt!==null&&kt.type===N&&kt.key===null&&(kt=kt.props.children),typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case y:t:{for(var Le=kt.key;bt!==null;){if(bt.key===Le){if(Le=kt.type,Le===N){if(bt.tag===7){l(At,bt.sibling),Vt=g(bt,kt.props.children),Vt.return=At,At=Vt;break t}}else if(bt.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===D&&Ct(Le)===bt.type){l(At,bt.sibling),Vt=g(bt,kt.props),Pe(Vt,kt),Vt.return=At,At=Vt;break t}l(At,bt);break}else s(At,bt);bt=bt.sibling}kt.type===N?(Vt=ho(kt.props.children,At.mode,Vt,kt.key),Vt.return=At,At=Vt):(Vt=Ll(kt.type,kt.key,kt.props,null,At.mode,Vt),Pe(Vt,kt),Vt.return=At,At=Vt)}return M(At);case A:t:{for(Le=kt.key;bt!==null;){if(bt.key===Le)if(bt.tag===4&&bt.stateNode.containerInfo===kt.containerInfo&&bt.stateNode.implementation===kt.implementation){l(At,bt.sibling),Vt=g(bt,kt.children||[]),Vt.return=At,At=Vt;break t}else{l(At,bt);break}else s(At,bt);bt=bt.sibling}Vt=Dl(kt,At.mode,Vt),Vt.return=At,At=Vt}return M(At);case D:return kt=Ct(kt),Hn(At,bt,kt,Vt)}if(ut(kt))return be(At,bt,kt,Vt);if(j(kt)){if(Le=j(kt),typeof Le!="function")throw Error(r(150));return kt=Le.call(kt),Ie(At,bt,kt,Vt)}if(typeof kt.then=="function")return Hn(At,bt,fe(kt),Vt);if(kt.$$typeof===F)return Hn(At,bt,ju(At,kt),Vt);me(At,kt)}return typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint"?(kt=""+kt,bt!==null&&bt.tag===6?(l(At,bt.sibling),Vt=g(bt,kt),Vt.return=At,At=Vt):(l(At,bt),Vt=Fc(kt,At.mode,Vt),Vt.return=At,At=Vt),M(At)):l(At,bt)}return function(At,bt,kt,Vt){try{xe=0;var Le=Hn(At,bt,kt,Vt);return Wt=null,Le}catch(Ne){if(Ne===yt||Ne===st)throw Ne;var Sn=dr(29,Ne,null,At.mode);return Sn.lanes=Vt,Sn.return=At,Sn}finally{}}}var Zn=tn(!0),Ge=tn(!1),de=!1;function se(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ni(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Re(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Xe(n,s,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Mn&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=fr(n),qc(n,null,l),s}return Bc(n,u,s,l),fr(n)}function kn(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Cn(n,l)}}function Bi(n,s){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var M={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?g=x=M:x=x.next=M,l=l.next}while(l!==null);x===null?g=x=s:x=x.next=s}else g=x=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var ar=!1;function Pn(){if(ar){var n=v;if(n!==null)throw n}}function Ni(n,s,l,u){ar=!1;var g=n.updateQueue;de=!1;var x=g.firstBaseUpdate,M=g.lastBaseUpdate,K=g.shared.pending;if(K!==null){g.shared.pending=null;var ht=K,Ot=ht.next;ht.next=null,M===null?x=Ot:M.next=Ot,M=ht;var Ft=n.alternate;Ft!==null&&(Ft=Ft.updateQueue,K=Ft.lastBaseUpdate,K!==M&&(K===null?Ft.firstBaseUpdate=Ot:K.next=Ot,Ft.lastBaseUpdate=ht))}if(x!==null){var Yt=g.baseState;M=0,Ft=Ot=ht=null,K=x;do{var Mt=K.lane&-536870913,jt=Mt!==K.lane;if(jt?(an&Mt)===Mt:(u&Mt)===Mt){Mt!==0&&Mt===p&&(ar=!0),Ft!==null&&(Ft=Ft.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});t:{var be=n,Ie=K;Mt=s;var Hn=l;switch(Ie.tag){case 1:if(be=Ie.payload,typeof be=="function"){Yt=be.call(Hn,Yt,Mt);break t}Yt=be;break t;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ie.payload,Mt=typeof be=="function"?be.call(Hn,Yt,Mt):be,Mt==null)break t;Yt=b({},Yt,Mt);break t;case 2:de=!0}}Mt=K.callback,Mt!==null&&(n.flags|=64,jt&&(n.flags|=8192),jt=g.callbacks,jt===null?g.callbacks=[Mt]:jt.push(Mt))}else jt={lane:Mt,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Ft===null?(Ot=Ft=jt,ht=Yt):Ft=Ft.next=jt,M|=Mt;if(K=K.next,K===null){if(K=g.shared.pending,K===null)break;jt=K,K=jt.next,jt.next=null,g.lastBaseUpdate=jt,g.shared.pending=null}}while(!0);Ft===null&&(ht=Yt),g.baseState=ht,g.firstBaseUpdate=Ot,g.lastBaseUpdate=Ft,x===null&&(g.shared.lanes=0),Hl|=M,n.lanes=M,n.memoizedState=Yt}}function pr(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Ti(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)pr(l[n],s)}var $e=X(null),pn=X(0);function ii(n,s){n=sl,H(pn,n),H($e,s),sl=n|s.baseLanes}function _n(){H(pn,sl),H($e,$e.current)}function qi(){sl=pn.current,E($e),E(pn)}var ri=X(null),mn=null;function wi(n){var s=n.alternate;H(fn,fn.current&1),H(ri,n),mn===null&&(s===null||$e.current!==null||s.memoizedState!==null)&&(mn=n)}function On(n){H(fn,fn.current),H(ri,n),mn===null&&(mn=n)}function Ci(n){n.tag===22?(H(fn,fn.current),H(ri,n),mn===null&&(mn=n)):Ei()}function Ei(){H(fn,fn.current),H(ri,ri.current)}function Rn(n){E(ri),mn===n&&(mn=null),E(fn)}var fn=X(0);function mr(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Dm(l)||jm(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fi=0,Oe=null,Me=null,gn=null,jr=!1,ps=!1,Nr=!1,ki=0,bo=0,xo=null,Iu=0;function Un(){throw Error(r(321))}function Yh(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!er(n[l],s[l]))return!1;return!0}function Wh(n,s,l,u,g,x){return fi=x,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=n===null||n.memoizedState===null?S2:H1,Nr=!1,x=l(u,g),Nr=!1,ps&&(x=qa(s,l,u,g)),Bu(n),x}function Bu(n){$.H=ef;var s=Me!==null&&Me.next!==null;if(fi=0,gn=Me=Oe=null,jr=!1,bo=0,xo=null,s)throw Error(r(300));n===null||Yi||(n=n.dependencies,n!==null&&Du(n)&&(Yi=!0))}function qa(n,s,l,u){Oe=n;var g=0;do{if(ps&&(xo=null),bo=0,ps=!1,25<=g)throw Error(r(301));if(g+=1,gn=Me=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}$.H=A2,x=s(l,u)}while(ps);return x}function B1(){var n=$.H,s=n.useState()[0];return s=typeof s.then=="function"?_o(s):s,n=n.useState()[0],(Me!==null?Me.memoizedState:null)!==n&&(Oe.flags|=1024),s}function Xh(){var n=ki!==0;return ki=0,n}function Zh(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function qu(n){if(jr){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}jr=!1}fi=0,gn=Me=Oe=null,ps=!1,bo=ki=0,xo=null}function Gi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Oe.memoizedState=gn=n:gn=gn.next=n,gn}function di(){if(Me===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=Me.next;var s=gn===null?Oe.memoizedState:gn.next;if(s!==null)gn=s,Me=n;else{if(n===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));Me=n,n={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},gn===null?Oe.memoizedState=gn=n:gn=gn.next=n}return gn}function Hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _o(n){var s=bo;return bo+=1,xo===null&&(xo=[]),n=Bt(xo,n,s),s=Oe,(gn===null?s.memoizedState:gn.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?S2:H1),n}function ql(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return _o(n);if(n.$$typeof===F)return sr(n)}throw Error(r(438,String(n)))}function Ko(n){var s=null,l=Oe.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Hc(),Oe.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),u=0;u<n;u++)l[u]=Z;return s.index++,l}function la(n,s){return typeof s=="function"?s(n):s}function zu(n){var s=di();return zl(s,Me,n)}function zl(n,s,l){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=n.baseQueue,x=u.pending;if(x!==null){if(g!==null){var M=g.next;g.next=x.next,x.next=M}s.baseQueue=g=x,u.pending=null}if(x=n.baseState,g===null)n.memoizedState=x;else{s=g.next;var K=M=null,ht=null,Ot=s,Ft=!1;do{var Yt=Ot.lane&-536870913;if(Yt!==Ot.lane?(an&Yt)===Yt:(fi&Yt)===Yt){var Mt=Ot.revertLane;if(Mt===0)ht!==null&&(ht=ht.next={lane:0,revertLane:0,gesture:null,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null}),Yt===p&&(Ft=!0);else if((fi&Mt)===Mt){Ot=Ot.next,Mt===p&&(Ft=!0);continue}else Yt={lane:0,revertLane:Ot.revertLane,gesture:null,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null},ht===null?(K=ht=Yt,M=x):ht=ht.next=Yt,Oe.lanes|=Mt,Hl|=Mt;Yt=Ot.action,Nr&&l(x,Yt),x=Ot.hasEagerState?Ot.eagerState:l(x,Yt)}else Mt={lane:Yt,revertLane:Ot.revertLane,gesture:Ot.gesture,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null},ht===null?(K=ht=Mt,M=x):ht=ht.next=Mt,Oe.lanes|=Yt,Hl|=Yt;Ot=Ot.next}while(Ot!==null&&Ot!==s);if(ht===null?M=x:ht.next=K,!er(x,n.memoizedState)&&(Yi=!0,Ft&&(l=v,l!==null)))throw l;n.memoizedState=x,n.baseState=M,n.baseQueue=ht,u.lastRenderedState=x}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Fu(n){var s=di(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var u=l.dispatch,g=l.pending,x=s.memoizedState;if(g!==null){l.pending=null;var M=g=g.next;do x=n(x,M.action),M=M.next;while(M!==g);er(x,s.memoizedState)||(Yi=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,u]}function Pu(n,s,l){var u=Oe,g=di(),x=en;if(x){if(l===void 0)throw Error(r(407));l=l()}else l=s();var M=!er((Me||g).memoizedState,l);if(M&&(g.memoizedState=l,Yi=!0),g=g.queue,q1($h.bind(null,u,g,n),[n]),g.getSnapshot!==s||M||gn!==null&&gn.memoizedState.tag&1){if(u.flags|=2048,Qo(9,{destroy:void 0},Kh.bind(null,u,g,l,s),null),Kn===null)throw Error(r(349));x||(fi&127)!==0||za(u,s,l)}return l}function za(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Oe.updateQueue,s===null?(s=Hc(),Oe.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Kh(n,s,l,u){s.value=l,s.getSnapshot=u,bd(s)&&Qh(n)}function $h(n,s,l){return l(function(){bd(s)&&Qh(n)})}function bd(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!er(n,l)}catch{return!0}}function Qh(n){var s=Ia(n,2);s!==null&&bs(s,n,2)}function wo(n){var s=Gi();if(typeof n=="function"){var l=n;if(n=l(),Nr){Se(!0);try{l()}finally{Se(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:n},s}function xd(n,s,l,u){return n.baseState=l,zl(n,Me,typeof u=="function"?u:la)}function _d(n,s,l,u,g){if(Nd(n))throw Error(r(485));if(n=s.action,n!==null){var x={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){x.listeners.push(M)}};$.T!==null?l(!0):x.isTransition=!1,u(x),l=s.pending,l===null?(x.next=s.pending=x,wd(s,x)):(x.next=l.next,s.pending=l.next=x)}}function wd(n,s){var l=s.action,u=s.payload,g=n.state;if(s.isTransition){var x=$.T,M={};$.T=M;try{var K=l(g,u),ht=$.S;ht!==null&&ht(M,K),Jh(n,s,K)}catch(Ot){$o(n,s,Ot)}finally{x!==null&&M.types!==null&&(x.types=M.types),$.T=x}}else try{x=l(g,u),Jh(n,s,x)}catch(Ot){$o(n,s,Ot)}}function Jh(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Sd(n,s,u)},function(u){return $o(n,s,u)}):Sd(n,s,l)}function Sd(n,s,l){s.status="fulfilled",s.value=l,Uu(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,wd(n,l)))}function $o(n,s,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Uu(s),s=s.next;while(s!==u)}n.action=null}function Uu(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Gc(n,s){return s}function ca(n,s){if(en){var l=Kn.formState;if(l!==null){t:{var u=Oe;if(en){if(Xn){e:{for(var g=Xn,x=hi;g.nodeType!==8;){if(!x){g=null;break e}if(g=ua(g.nextSibling),g===null){g=null;break e}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Xn=ua(g.nextSibling),u=g.data==="F!";break t}}po(u)}u=!1}u&&(s=l[0])}}return l=Gi(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gc,lastRenderedState:s},l.queue=u,l=x2.bind(null,Oe,u),u.dispatch=l,u=wo(!1),x=V1.bind(null,Oe,!1,u.queue),u=Gi(),g={state:s,dispatch:null,action:n,pending:null},u.queue=g,l=_d.bind(null,Oe,g,x,l),g.dispatch=l,u.memoizedState=n,[s,l,!1]}function Fa(n){var s=di();return Pa(s,Me,n)}function Pa(n,s,l){if(s=zl(n,s,Gc)[0],n=zu(la)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=_o(s)}catch(M){throw M===yt?st:M}else u=s;s=di();var g=s.queue,x=g.dispatch;return l!==s.memoizedState&&(Oe.flags|=2048,Qo(9,{destroy:void 0},Vu.bind(null,g,l),null)),[u,x,n]}function Vu(n,s){n.action=s}function Hu(n){var s=di(),l=Me;if(l!==null)return Pa(s,l,n);di(),s=s.memoizedState,l=di();var u=l.queue.dispatch;return l.memoizedState=n,[s,u,!1]}function Qo(n,s,l,u){return n={tag:n,create:l,deps:u,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=Hc(),Oe.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,s.lastEffect=n),n}function Ad(){return di().memoizedState}function Fl(n,s,l,u){var g=Gi();Oe.flags|=n,g.memoizedState=Qo(1|s,{destroy:void 0},l,u===void 0?null:u)}function Pl(n,s,l,u){var g=di();u=u===void 0?null:u;var x=g.memoizedState.inst;Me!==null&&u!==null&&Yh(u,Me.memoizedState.deps)?g.memoizedState=Qo(s,x,l,u):(Oe.flags|=n,g.memoizedState=Qo(1|s,x,l,u))}function a2(n,s){Fl(8390656,8,n,s)}function q1(n,s){Pl(2048,8,n,s)}function Ow(n){Oe.flags|=4;var s=Oe.updateQueue;if(s===null)s=Hc(),Oe.updateQueue=s,s.events=[n];else{var l=s.events;l===null?s.events=[n]:l.push(n)}}function o2(n){var s=di().memoizedState;return Ow({ref:s,nextImpl:n}),function(){if((Mn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function l2(n,s){return Pl(4,2,n,s)}function c2(n,s){return Pl(4,4,n,s)}function u2(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function h2(n,s,l){l=l!=null?l.concat([n]):null,Pl(4,4,u2.bind(null,s,n),l)}function z1(){}function f2(n,s){var l=di();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Yh(s,u[1])?u[0]:(l.memoizedState=[n,s],n)}function d2(n,s){var l=di();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Yh(s,u[1]))return u[0];if(u=n(),Nr){Se(!0);try{n()}finally{Se(!1)}}return l.memoizedState=[u,s],u}function F1(n,s,l){return l===void 0||(fi&1073741824)!==0&&(an&261930)===0?n.memoizedState=s:(n.memoizedState=l,n=p5(),Oe.lanes|=n,Hl|=n,l)}function p2(n,s,l,u){return er(l,s)?l:$e.current!==null?(n=F1(n,l,u),er(n,s)||(Yi=!0),n):(fi&42)===0||(fi&1073741824)!==0&&(an&261930)===0?(Yi=!0,n.memoizedState=l):(n=p5(),Oe.lanes|=n,Hl|=n,s)}function m2(n,s,l,u,g){var x=rt.p;rt.p=x!==0&&8>x?x:8;var M=$.T,K={};$.T=K,V1(n,!1,s,l);try{var ht=g(),Ot=$.S;if(Ot!==null&&Ot(K,ht),ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var Ft=z(ht,u);tf(n,s,Ft,Fs(n))}else tf(n,s,u,Fs(n))}catch(Yt){tf(n,s,{then:function(){},status:"rejected",reason:Yt},Fs())}finally{rt.p=x,M!==null&&K.types!==null&&(M.types=K.types),$.T=M}}function Mw(){}function P1(n,s,l,u){if(n.tag!==5)throw Error(r(476));var g=g2(n).queue;m2(n,g,s,ct,l===null?Mw:function(){return v2(n),l(u)})}function g2(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:ct},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function v2(n){var s=g2(n);s.next===null&&(s=n.alternate.memoizedState),tf(n,s.next.queue,{},Fs())}function U1(){return sr(yf)}function y2(){return di().memoizedState}function b2(){return di().memoizedState}function Lw(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=Fs();n=Re(l);var u=Xe(s,n,l);u!==null&&(bs(u,s,l),kn(u,s,l)),s={cache:Bl()},n.payload=s;return}s=s.return}}function Dw(n,s,l){var u=Fs();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nd(n)?_2(s,l):(l=Nu(n,s,l,u),l!==null&&(bs(l,n,u),w2(l,s,u)))}function x2(n,s,l){var u=Fs();tf(n,s,l,u)}function tf(n,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Nd(n))_2(s,g);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var M=s.lastRenderedState,K=x(M,l);if(g.hasEagerState=!0,g.eagerState=K,er(K,M))return Bc(n,s,g,0),Kn===null&&Ic(),!1}catch{}finally{}if(l=Nu(n,s,g,u),l!==null)return bs(l,n,u),w2(l,s,u),!0}return!1}function V1(n,s,l,u){if(u={lane:2,revertLane:_m(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Nd(n)){if(s)throw Error(r(479))}else s=Nu(n,l,u,2),s!==null&&bs(s,n,2)}function Nd(n){var s=n.alternate;return n===Oe||s!==null&&s===Oe}function _2(n,s){ps=jr=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function w2(n,s,l){if((l&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Cn(n,l)}}var ef={readContext:sr,use:ql,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useLayoutEffect:Un,useInsertionEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useSyncExternalStore:Un,useId:Un,useHostTransitionStatus:Un,useFormState:Un,useActionState:Un,useOptimistic:Un,useMemoCache:Un,useCacheRefresh:Un};ef.useEffectEvent=Un;var S2={readContext:sr,use:ql,useCallback:function(n,s){return Gi().memoizedState=[n,s===void 0?null:s],n},useContext:sr,useEffect:a2,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Fl(4194308,4,u2.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Fl(4194308,4,n,s)},useInsertionEffect:function(n,s){Fl(4,2,n,s)},useMemo:function(n,s){var l=Gi();s=s===void 0?null:s;var u=n();if(Nr){Se(!0);try{n()}finally{Se(!1)}}return l.memoizedState=[u,s],u},useReducer:function(n,s,l){var u=Gi();if(l!==void 0){var g=l(s);if(Nr){Se(!0);try{l(s)}finally{Se(!1)}}}else g=s;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=Dw.bind(null,Oe,n),[u.memoizedState,n]},useRef:function(n){var s=Gi();return n={current:n},s.memoizedState=n},useState:function(n){n=wo(n);var s=n.queue,l=x2.bind(null,Oe,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:z1,useDeferredValue:function(n,s){var l=Gi();return F1(l,n,s)},useTransition:function(){var n=wo(!1);return n=m2.bind(null,Oe,n.queue,!0,!1),Gi().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var u=Oe,g=Gi();if(en){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Kn===null)throw Error(r(349));(an&127)!==0||za(u,s,l)}g.memoizedState=l;var x={value:l,getSnapshot:s};return g.queue=x,a2($h.bind(null,u,x,n),[n]),u.flags|=2048,Qo(9,{destroy:void 0},Kh.bind(null,u,x,l,s),null),l},useId:function(){var n=Gi(),s=Kn.identifierPrefix;if(en){var l=fs,u=hs;l=(u&~(1<<32-Fe(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=ki++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Iu++,s="_"+s+"r_"+l.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:U1,useFormState:ca,useActionState:ca,useOptimistic:function(n){var s=Gi();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=V1.bind(null,Oe,!0,l),l.dispatch=s,[n,s]},useMemoCache:Ko,useCacheRefresh:function(){return Gi().memoizedState=Lw.bind(null,Oe)},useEffectEvent:function(n){var s=Gi(),l={impl:n};return s.memoizedState=l,function(){if((Mn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},H1={readContext:sr,use:ql,useCallback:f2,useContext:sr,useEffect:q1,useImperativeHandle:h2,useInsertionEffect:l2,useLayoutEffect:c2,useMemo:d2,useReducer:zu,useRef:Ad,useState:function(){return zu(la)},useDebugValue:z1,useDeferredValue:function(n,s){var l=di();return p2(l,Me.memoizedState,n,s)},useTransition:function(){var n=zu(la)[0],s=di().memoizedState;return[typeof n=="boolean"?n:_o(n),s]},useSyncExternalStore:Pu,useId:y2,useHostTransitionStatus:U1,useFormState:Fa,useActionState:Fa,useOptimistic:function(n,s){var l=di();return xd(l,Me,n,s)},useMemoCache:Ko,useCacheRefresh:b2};H1.useEffectEvent=o2;var A2={readContext:sr,use:ql,useCallback:f2,useContext:sr,useEffect:q1,useImperativeHandle:h2,useInsertionEffect:l2,useLayoutEffect:c2,useMemo:d2,useReducer:Fu,useRef:Ad,useState:function(){return Fu(la)},useDebugValue:z1,useDeferredValue:function(n,s){var l=di();return Me===null?F1(l,n,s):p2(l,Me.memoizedState,n,s)},useTransition:function(){var n=Fu(la)[0],s=di().memoizedState;return[typeof n=="boolean"?n:_o(n),s]},useSyncExternalStore:Pu,useId:y2,useHostTransitionStatus:U1,useFormState:Hu,useActionState:Hu,useOptimistic:function(n,s){var l=di();return Me!==null?xd(l,Me,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Ko,useCacheRefresh:b2};A2.useEffectEvent=o2;function G1(n,s,l,u){s=n.memoizedState,l=l(u,s),l=l==null?s:b({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Y1={enqueueSetState:function(n,s,l){n=n._reactInternals;var u=Fs(),g=Re(u);g.payload=s,l!=null&&(g.callback=l),s=Xe(n,g,u),s!==null&&(bs(s,n,u),kn(s,n,u))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var u=Fs(),g=Re(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Xe(n,g,u),s!==null&&(bs(s,n,u),kn(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=Fs(),u=Re(l);u.tag=2,s!=null&&(u.callback=s),s=Xe(n,u,l),s!==null&&(bs(s,n,l),kn(s,n,l))}};function N2(n,s,l,u,g,x,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,x,M):s.prototype&&s.prototype.isPureReactComponent?!La(l,u)||!La(g,x):!0}function T2(n,s,l,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==n&&Y1.enqueueReplaceState(s,s.state,null)}function Yc(n,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(n=n.defaultProps){l===s&&(l=b({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function C2(n){Rc(n)}function E2(n){console.error(n)}function k2(n){Rc(n)}function Td(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function O2(n,s,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function W1(n,s,l){return l=Re(l),l.tag=3,l.payload={element:null},l.callback=function(){Td(n,s)},l}function M2(n){return n=Re(n),n.tag=3,n}function L2(n,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var x=u.value;n.payload=function(){return g(x)},n.callback=function(){O2(s,l,u)}}var M=l.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(n.callback=function(){O2(s,l,u),typeof g!="function"&&(Gl===null?Gl=new Set([this]):Gl.add(this));var K=u.stack;this.componentDidCatch(u.value,{componentStack:K!==null?K:""})})}function jw(n,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&vo(s,l,g,!0),l=ri.current,l!==null){switch(l.tag){case 31:case 13:return mn===null?qd():l.alternate===null&&Oi===0&&(Oi=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===xt?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),ym(n,u,g)),!1;case 22:return l.flags|=65536,u===xt?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),ym(n,u,g)),!1}throw Error(r(435,l.tag))}return ym(n,u,g),qd(),!1}if(en)return s=ri.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==Bs&&(n=Error(r(422),{cause:u}),Rl(ls(n,l)))):(u!==Bs&&(s=Error(r(423),{cause:u}),Rl(ls(s,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=ls(u,l),g=W1(n.stateNode,u,g),Bi(n,g),Oi!==4&&(Oi=2)),!1;var x=Error(r(520),{cause:u});if(x=ls(x,l),uf===null?uf=[x]:uf.push(x),Oi!==4&&(Oi=2),s===null)return!0;u=ls(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=W1(l.stateNode,u,n),Bi(l,n),!1;case 1:if(s=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Gl===null||!Gl.has(x))))return l.flags|=65536,g&=-g,l.lanes|=g,g=M2(g),L2(g,n,l,u),Bi(l,g),!1}l=l.return}while(l!==null);return!1}var X1=Error(r(461)),Yi=!1;function Tr(n,s,l,u){s.child=n===null?Ge(s,null,l,u):Zn(s,n.child,l,u)}function D2(n,s,l,u,g){l=l.render;var x=s.ref;if("ref"in u){var M={};for(var K in u)K!=="ref"&&(M[K]=u[K])}else M=u;return yo(s),u=Wh(n,s,l,M,x,g),K=Xh(),n!==null&&!Yi?(Zh(n,s,g),Jo(n,s,g)):(en&&K&&Vh(s),s.flags|=1,Tr(n,s,u,g),s.child)}function j2(n,s,l,u,g){if(n===null){var x=l.type;return typeof x=="function"&&!Cu(x)&&x.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=x,R2(n,s,x,u,g)):(n=Ll(l.type,null,u,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(x=n.child,!nm(n,g)){var M=x.memoizedProps;if(l=l.compare,l=l!==null?l:La,l(M,u)&&n.ref===s.ref)return Jo(n,s,g)}return s.flags|=1,n=os(x,u),n.ref=s.ref,n.return=s,s.child=n}function R2(n,s,l,u,g){if(n!==null){var x=n.memoizedProps;if(La(x,u)&&n.ref===s.ref)if(Yi=!1,s.pendingProps=u=x,nm(n,g))(n.flags&131072)!==0&&(Yi=!0);else return s.lanes=n.lanes,Jo(n,s,g)}return Z1(n,s,l,u,g)}function I2(n,s,l,u){var g=u.children,x=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,n!==null){for(u=s.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~x}else u=0,s.child=null;return B2(n,s,x,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&nt(s,x!==null?x.cachePool:null),x!==null?ii(s,x):_n(),Ci(s);else return u=s.lanes=536870912,B2(n,s,x!==null?x.baseLanes|l:l,l,u)}else x!==null?(nt(s,x.cachePool),ii(s,x),Ei(),s.memoizedState=null):(n!==null&&nt(s,null),_n(),Ei());return Tr(n,s,g,l),s.child}function nf(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function B2(n,s,l,u,g){var x=et();return x=x===null?null:{parent:_i._currentValue,pool:x},s.memoizedState={baseLanes:l,cachePool:x},n!==null&&nt(s,null),_n(),Ci(s),n!==null&&vo(n,s,u,!0),s.childLanes=g,null}function Cd(n,s){return s=kd({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function q2(n,s,l){return Zn(s,n.child,null,l),n=Cd(s,s.pendingProps),n.flags|=2,Rn(s),s.memoizedState=null,n}function Rw(n,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(en){if(u.mode==="hidden")return n=Cd(s,u),s.lanes=536870912,nf(null,n);if(On(s),(n=Xn)?(n=K5(n,hi),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:fo!==null?{id:hs,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},l=Eu(n),l.return=s,s.child=l,ir=s,Xn=null)):n=null,n===null)throw po(s);return s.lanes=536870912,null}return Cd(s,u)}var x=n.memoizedState;if(x!==null){var M=x.dehydrated;if(On(s),g)if(s.flags&256)s.flags&=-257,s=q2(n,s,l);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Yi||vo(n,s,l,!1),g=(l&n.childLanes)!==0,Yi||g){if(u=Kn,u!==null&&(M=Ln(u,l),M!==0&&M!==x.retryLane))throw x.retryLane=M,Ia(n,M),bs(u,n,M),X1;qd(),s=q2(n,s,l)}else n=x.treeContext,Xn=ua(M.nextSibling),ir=s,en=!0,Ar=null,hi=!1,n!==null&&vd(s,n),s=Cd(s,u),s.flags|=4096;return s}return n=os(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Ed(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function Z1(n,s,l,u,g){return yo(s),l=Wh(n,s,l,u,void 0,g),u=Xh(),n!==null&&!Yi?(Zh(n,s,g),Jo(n,s,g)):(en&&u&&Vh(s),s.flags|=1,Tr(n,s,l,g),s.child)}function z2(n,s,l,u,g,x){return yo(s),s.updateQueue=null,l=qa(s,u,l,g),Bu(n),u=Xh(),n!==null&&!Yi?(Zh(n,s,x),Jo(n,s,x)):(en&&u&&Vh(s),s.flags|=1,Tr(n,s,l,x),s.child)}function F2(n,s,l,u,g){if(yo(s),s.stateNode===null){var x=nr,M=l.contextType;typeof M=="object"&&M!==null&&(x=sr(M)),x=new l(u,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Y1,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=u,x.state=s.memoizedState,x.refs={},se(s),M=l.contextType,x.context=typeof M=="object"&&M!==null?sr(M):nr,x.state=s.memoizedState,M=l.getDerivedStateFromProps,typeof M=="function"&&(G1(s,l,M,u),x.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(M=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),M!==x.state&&Y1.enqueueReplaceState(x,x.state,null),Ni(s,u,x,g),Pn(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){x=s.stateNode;var K=s.memoizedProps,ht=Yc(l,K);x.props=ht;var Ot=x.context,Ft=l.contextType;M=nr,typeof Ft=="object"&&Ft!==null&&(M=sr(Ft));var Yt=l.getDerivedStateFromProps;Ft=typeof Yt=="function"||typeof x.getSnapshotBeforeUpdate=="function",K=s.pendingProps!==K,Ft||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(K||Ot!==M)&&T2(s,x,u,M),de=!1;var Mt=s.memoizedState;x.state=Mt,Ni(s,u,x,g),Pn(),Ot=s.memoizedState,K||Mt!==Ot||de?(typeof Yt=="function"&&(G1(s,l,Yt,u),Ot=s.memoizedState),(ht=de||N2(s,l,ht,u,Mt,Ot,M))?(Ft||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Ot),x.props=u,x.state=Ot,x.context=M,u=ht):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{x=s.stateNode,ni(n,s),M=s.memoizedProps,Ft=Yc(l,M),x.props=Ft,Yt=s.pendingProps,Mt=x.context,Ot=l.contextType,ht=nr,typeof Ot=="object"&&Ot!==null&&(ht=sr(Ot)),K=l.getDerivedStateFromProps,(Ot=typeof K=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M!==Yt||Mt!==ht)&&T2(s,x,u,ht),de=!1,Mt=s.memoizedState,x.state=Mt,Ni(s,u,x,g),Pn();var jt=s.memoizedState;M!==Yt||Mt!==jt||de||n!==null&&n.dependencies!==null&&Du(n.dependencies)?(typeof K=="function"&&(G1(s,l,K,u),jt=s.memoizedState),(Ft=de||N2(s,l,Ft,u,Mt,jt,ht)||n!==null&&n.dependencies!==null&&Du(n.dependencies))?(Ot||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,jt,ht),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,jt,ht)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||M===n.memoizedProps&&Mt===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&Mt===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=jt),x.props=u,x.state=jt,x.context=ht,u=Ft):(typeof x.componentDidUpdate!="function"||M===n.memoizedProps&&Mt===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&Mt===n.memoizedState||(s.flags|=1024),u=!1)}return x=u,Ed(n,s),u=(s.flags&128)!==0,x||u?(x=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,n!==null&&u?(s.child=Zn(s,n.child,null,g),s.child=Zn(s,null,l,g)):Tr(n,s,l,g),s.memoizedState=x.state,n=s.child):n=Jo(n,s,g),n}function P2(n,s,l,u){return Xo(),s.flags|=256,Tr(n,s,l,u),s.child}var K1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $1(n){return{baseLanes:n,cachePool:at()}}function Q1(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=zs),n}function U2(n,s,l){var u=s.pendingProps,g=!1,x=(s.flags&128)!==0,M;if((M=x)||(M=n!==null&&n.memoizedState===null?!1:(fn.current&2)!==0),M&&(g=!0,s.flags&=-129),M=(s.flags&32)!==0,s.flags&=-33,n===null){if(en){if(g?wi(s):Ei(),(n=Xn)?(n=K5(n,hi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:fo!==null?{id:hs,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},l=Eu(n),l.return=s,s.child=l,ir=s,Xn=null)):n=null,n===null)throw po(s);return jm(n)?s.lanes=32:s.lanes=536870912,null}var K=u.children;return u=u.fallback,g?(Ei(),g=s.mode,K=kd({mode:"hidden",children:K},g),u=ho(u,g,l,null),K.return=s,u.return=s,K.sibling=u,s.child=K,u=s.child,u.memoizedState=$1(l),u.childLanes=Q1(n,M,l),s.memoizedState=K1,nf(null,u)):(wi(s),J1(s,K))}var ht=n.memoizedState;if(ht!==null&&(K=ht.dehydrated,K!==null)){if(x)s.flags&256?(wi(s),s.flags&=-257,s=tm(n,s,l)):s.memoizedState!==null?(Ei(),s.child=n.child,s.flags|=128,s=null):(Ei(),K=u.fallback,g=s.mode,u=kd({mode:"visible",children:u.children},g),K=ho(K,g,l,null),K.flags|=2,u.return=s,K.return=s,u.sibling=K,s.child=u,Zn(s,n.child,null,l),u=s.child,u.memoizedState=$1(l),u.childLanes=Q1(n,M,l),s.memoizedState=K1,s=nf(null,u));else if(wi(s),jm(K)){if(M=K.nextSibling&&K.nextSibling.dataset,M)var Ot=M.dgst;M=Ot,u=Error(r(419)),u.stack="",u.digest=M,Rl({value:u,source:null,stack:null}),s=tm(n,s,l)}else if(Yi||vo(n,s,l,!1),M=(l&n.childLanes)!==0,Yi||M){if(M=Kn,M!==null&&(u=Ln(M,l),u!==0&&u!==ht.retryLane))throw ht.retryLane=u,Ia(n,u),bs(M,n,u),X1;Dm(K)||qd(),s=tm(n,s,l)}else Dm(K)?(s.flags|=192,s.child=n.child,s=null):(n=ht.treeContext,Xn=ua(K.nextSibling),ir=s,en=!0,Ar=null,hi=!1,n!==null&&vd(s,n),s=J1(s,u.children),s.flags|=4096);return s}return g?(Ei(),K=u.fallback,g=s.mode,ht=n.child,Ot=ht.sibling,u=os(ht,{mode:"hidden",children:u.children}),u.subtreeFlags=ht.subtreeFlags&65011712,Ot!==null?K=os(Ot,K):(K=ho(K,g,l,null),K.flags|=2),K.return=s,u.return=s,u.sibling=K,s.child=u,nf(null,u),u=s.child,K=n.child.memoizedState,K===null?K=$1(l):(g=K.cachePool,g!==null?(ht=_i._currentValue,g=g.parent!==ht?{parent:ht,pool:ht}:g):g=at(),K={baseLanes:K.baseLanes|l,cachePool:g}),u.memoizedState=K,u.childLanes=Q1(n,M,l),s.memoizedState=K1,nf(n.child,u)):(wi(s),l=n.child,n=l.sibling,l=os(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,n!==null&&(M=s.deletions,M===null?(s.deletions=[n],s.flags|=16):M.push(n)),s.child=l,s.memoizedState=null,l)}function J1(n,s){return s=kd({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function kd(n,s){return n=dr(22,n,null,s),n.lanes=0,n}function tm(n,s,l){return Zn(s,n.child,null,l),n=J1(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function V2(n,s,l){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Il(n.return,s,l)}function em(n,s,l,u,g,x){var M=n.memoizedState;M===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:x}:(M.isBackwards=s,M.rendering=null,M.renderingStartTime=0,M.last=u,M.tail=l,M.tailMode=g,M.treeForkCount=x)}function H2(n,s,l){var u=s.pendingProps,g=u.revealOrder,x=u.tail;u=u.children;var M=fn.current,K=(M&2)!==0;if(K?(M=M&1|2,s.flags|=128):M&=1,H(fn,M),Tr(n,s,u,l),u=en?Pc:0,!K&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&V2(n,l,s);else if(n.tag===19)V2(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&mr(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),em(s,!1,g,l,x,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&mr(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}em(s,!0,l,null,x,u);break;case"together":em(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Jo(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Hl|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(vo(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=os(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=os(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function nm(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Du(n)))}function Iw(n,s,l){switch(s.tag){case 3:ft(s,s.stateNode.containerInfo),go(s,_i,n.memoizedState.cache),Xo();break;case 27:case 5:_t(s);break;case 4:ft(s,s.stateNode.containerInfo);break;case 10:go(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,On(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(wi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?U2(n,s,l):(wi(s),n=Jo(n,s,l),n!==null?n.sibling:null);wi(s);break;case 19:var g=(n.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(vo(n,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return H2(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),H(fn,fn.current),u)break;return null;case 22:return s.lanes=0,I2(n,s,l,s.pendingProps);case 24:go(s,_i,n.memoizedState.cache)}return Jo(n,s,l)}function G2(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)Yi=!0;else{if(!nm(n,l)&&(s.flags&128)===0)return Yi=!1,Iw(n,s,l);Yi=(n.flags&131072)!==0}else Yi=!1,en&&(s.flags&1048576)!==0&&gd(s,Pc,s.index);switch(s.lanes=0,s.tag){case 16:t:{var u=s.pendingProps;if(n=Ct(s.elementType),s.type=n,typeof n=="function")Cu(n)?(u=Yc(n,u),s.tag=1,s=F2(null,s,n,u,l)):(s.tag=0,s=Z1(null,s,n,u,l));else{if(n!=null){var g=n.$$typeof;if(g===I){s.tag=11,s=D2(null,s,n,u,l);break t}else if(g===Y){s.tag=14,s=j2(null,s,n,u,l);break t}}throw s=J(n)||n,Error(r(306,s,""))}}return s;case 0:return Z1(n,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=Yc(u,s.pendingProps),F2(n,s,u,g,l);case 3:t:{if(ft(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var x=s.memoizedState;g=x.element,ni(n,s),Ni(s,u,null,l);var M=s.memoizedState;if(u=M.cache,go(s,_i,u),u!==x.cache&&Zo(s,[_i],l,!0),Pn(),u=M.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:M.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=P2(n,s,u,l);break t}else if(u!==g){g=ls(Error(r(424)),s),Rl(g),s=P2(n,s,u,l);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Xn=ua(n.firstChild),ir=s,en=!0,Ar=null,hi=!0,l=Ge(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Xo(),u===g){s=Jo(n,s,l);break t}Tr(n,s,u,l)}s=s.child}return s;case 26:return Ed(n,s),n===null?(l=nv(s.type,null,s.pendingProps,null))?s.memoizedState=l:en||(l=s.type,n=s.pendingProps,u=Gd(ot.current).createElement(l),u[wn]=s,u[Wn]=n,Cr(u,l,n),vi(u),s.stateNode=u):s.memoizedState=nv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return _t(s),n===null&&en&&(u=s.stateNode=J5(s.type,s.pendingProps,ot.current),ir=s,hi=!0,g=Xn,Zl(s.type)?(Rm=g,Xn=ua(u.firstChild)):Xn=g),Tr(n,s,s.pendingProps.children,l),Ed(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&en&&((g=u=Xn)&&(u=f3(u,s.type,s.pendingProps,hi),u!==null?(s.stateNode=u,ir=s,Xn=ua(u.firstChild),hi=!1,g=!0):g=!1),g||po(s)),_t(s),g=s.type,x=s.pendingProps,M=n!==null?n.memoizedProps:null,u=x.children,Om(g,x)?u=null:M!==null&&Om(g,M)&&(s.flags|=32),s.memoizedState!==null&&(g=Wh(n,s,B1,null,null,l),yf._currentValue=g),Ed(n,s),Tr(n,s,u,l),s.child;case 6:return n===null&&en&&((n=l=Xn)&&(l=d3(l,s.pendingProps,hi),l!==null?(s.stateNode=l,ir=s,Xn=null,n=!0):n=!1),n||po(s)),null;case 13:return U2(n,s,l);case 4:return ft(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Zn(s,null,u,l):Tr(n,s,u,l),s.child;case 11:return D2(n,s,s.type,s.pendingProps,l);case 7:return Tr(n,s,s.pendingProps,l),s.child;case 8:return Tr(n,s,s.pendingProps.children,l),s.child;case 12:return Tr(n,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,go(s,s.type,u.value),Tr(n,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,yo(s),g=sr(g),u=u(g),s.flags|=1,Tr(n,s,u,l),s.child;case 14:return j2(n,s,s.type,s.pendingProps,l);case 15:return R2(n,s,s.type,s.pendingProps,l);case 19:return H2(n,s,l);case 31:return Rw(n,s,l);case 22:return I2(n,s,l,s.pendingProps);case 24:return yo(s),u=sr(_i),n===null?(g=et(),g===null&&(g=Kn,x=Bl(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=l),g=x),s.memoizedState={parent:u,cache:g},se(s),go(s,_i,g)):((n.lanes&l)!==0&&(ni(n,s),Ni(s,null,null,l),Pn()),g=n.memoizedState,x=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),go(s,_i,u)):(u=x.cache,go(s,_i,u),u!==g.cache&&Zo(s,[_i],l,!0))),Tr(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function tl(n){n.flags|=4}function im(n,s,l,u,g){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(y5())n.flags|=8192;else throw It=xt,Et}else n.flags&=-16777217}function Y2(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!ov(s))if(y5())n.flags|=8192;else throw It=xt,Et}function Od(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?cn():536870912,n.lanes|=s,Xu|=s)}function rf(n,s){if(!en)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function si(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=l,s}function Bw(n,s,l){var u=s.pendingProps;switch(Mu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(s),null;case 1:return si(s),null;case 3:return l=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ds(_i),gt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(rr(s)?tl(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Gh())),si(s),null;case 26:var g=s.type,x=s.memoizedState;return n===null?(tl(s),x!==null?(si(s),Y2(s,x)):(si(s),im(s,g,null,u,l))):x?x!==n.memoizedState?(tl(s),si(s),Y2(s,x)):(si(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&tl(s),si(s),im(s,g,n,u,l)),null;case 27:if(Rt(s),l=ot.current,g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&tl(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return si(s),null}n=tt.current,rr(s)?Hh(s):(n=J5(g,u,l),s.stateNode=n,tl(s))}return si(s),null;case 5:if(Rt(s),g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&tl(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return si(s),null}if(x=tt.current,rr(s))Hh(s);else{var M=Gd(ot.current);switch(x){case 1:x=M.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:x=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":x=M.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":x=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":x=M.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof u.is=="string"?M.createElement("select",{is:u.is}):M.createElement("select"),u.multiple?x.multiple=!0:u.size&&(x.size=u.size);break;default:x=typeof u.is=="string"?M.createElement(g,{is:u.is}):M.createElement(g)}}x[wn]=s,x[Wn]=u;t:for(M=s.child;M!==null;){if(M.tag===5||M.tag===6)x.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===s)break t;for(;M.sibling===null;){if(M.return===null||M.return===s)break t;M=M.return}M.sibling.return=M.return,M=M.sibling}s.stateNode=x;t:switch(Cr(x,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&tl(s)}}return si(s),im(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,l),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&tl(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=ot.current,rr(s)){if(n=s.stateNode,l=s.memoizedProps,u=null,g=ir,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[wn]=s,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||U5(n.nodeValue,l)),n||po(s,!0)}else n=Gd(n).createTextNode(u),n[wn]=s,s.stateNode=n}return si(s),null;case 31:if(l=s.memoizedState,n===null||n.memoizedState!==null){if(u=rr(s),l!==null){if(n===null){if(!u)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[wn]=s}else Xo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;si(s),n=!1}else l=Gh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return s.flags&256?(Rn(s),s):(Rn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return si(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=rr(s),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[wn]=s}else Xo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;si(s),g=!1}else g=Gh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Rn(s),s):(Rn(s),null)}return Rn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==g&&(u.flags|=2048)),l!==n&&l&&(s.child.flags|=8192),Od(s,s.updateQueue),si(s),null);case 4:return gt(),n===null&&Nm(s.stateNode.containerInfo),si(s),null;case 10:return ds(s.type),si(s),null;case 19:if(E(fn),u=s.memoizedState,u===null)return si(s),null;if(g=(s.flags&128)!==0,x=u.rendering,x===null)if(g)rf(u,!1);else{if(Oi!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(x=mr(n),x!==null){for(s.flags|=128,rf(u,!1),n=x.updateQueue,s.updateQueue=n,Od(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)zc(l,n),l=l.sibling;return H(fn,fn.current&1|2),en&&$r(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&ke()>Rd&&(s.flags|=128,g=!0,rf(u,!1),s.lanes=4194304)}else{if(!g)if(n=mr(x),n!==null){if(s.flags|=128,g=!0,n=n.updateQueue,s.updateQueue=n,Od(s,n),rf(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!en)return si(s),null}else 2*ke()-u.renderingStartTime>Rd&&l!==536870912&&(s.flags|=128,g=!0,rf(u,!1),s.lanes=4194304);u.isBackwards?(x.sibling=s.child,s.child=x):(n=u.last,n!==null?n.sibling=x:s.child=x,u.last=x)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=ke(),n.sibling=null,l=fn.current,H(fn,g?l&1|2:l&1),en&&$r(s,u.treeForkCount),n):(si(s),null);case 22:case 23:return Rn(s),qi(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(si(s),s.subtreeFlags&6&&(s.flags|=8192)):si(s),l=s.updateQueue,l!==null&&Od(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),n!==null&&E(W),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ds(_i),si(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function qw(n,s){switch(Mu(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ds(_i),gt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Rt(s),null;case 31:if(s.memoizedState!==null){if(Rn(s),s.alternate===null)throw Error(r(340));Xo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Rn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Xo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return E(fn),null;case 4:return gt(),null;case 10:return ds(s.type),null;case 22:case 23:return Rn(s),qi(),n!==null&&E(W),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ds(_i),null;case 25:return null;default:return null}}function W2(n,s){switch(Mu(s),s.tag){case 3:ds(_i),gt();break;case 26:case 27:case 5:Rt(s);break;case 4:gt();break;case 31:s.memoizedState!==null&&Rn(s);break;case 13:Rn(s);break;case 19:E(fn);break;case 10:ds(s.type);break;case 22:case 23:Rn(s),qi(),n!==null&&E(W);break;case 24:ds(_i)}}function sf(n,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&n)===n){u=void 0;var x=l.create,M=l.inst;u=x(),M.destroy=u}l=l.next}while(l!==g)}}catch(K){Bn(s,s.return,K)}}function Ul(n,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var x=g.next;u=x;do{if((u.tag&n)===n){var M=u.inst,K=M.destroy;if(K!==void 0){M.destroy=void 0,g=s;var ht=l,Ot=K;try{Ot()}catch(Ft){Bn(g,ht,Ft)}}}u=u.next}while(u!==x)}}catch(Ft){Bn(s,s.return,Ft)}}function X2(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{Ti(s,l)}catch(u){Bn(n,n.return,u)}}}function Z2(n,s,l){l.props=Yc(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Bn(n,s,u)}}function af(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(g){Bn(n,s,g)}}function So(n,s){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Bn(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Bn(n,s,g)}else l.current=null}function K2(n){var s=n.type,l=n.memoizedProps,u=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Bn(n,n.return,g)}}function rm(n,s,l){try{var u=n.stateNode;a3(u,n.type,l,s),u[Wn]=s}catch(g){Bn(n,n.return,g)}}function $2(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Zl(n.type)||n.tag===4}function sm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||$2(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Zl(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function am(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ms));else if(u!==4&&(u===27&&Zl(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(am(n,s,l),n=n.sibling;n!==null;)am(n,s,l),n=n.sibling}function Md(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(u!==4&&(u===27&&Zl(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Md(n,s,l),n=n.sibling;n!==null;)Md(n,s,l),n=n.sibling}function Q2(n){var s=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Cr(s,u,l),s[wn]=n,s[Wn]=l}catch(x){Bn(n,n.return,x)}}var el=!1,Wi=!1,om=!1,J2=typeof WeakSet=="function"?WeakSet:Set,gr=null;function zw(n,s){if(n=n.containerInfo,Em=Qd,n=ja(n),sa(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break t}var M=0,K=-1,ht=-1,Ot=0,Ft=0,Yt=n,Mt=null;e:for(;;){for(var jt;Yt!==l||g!==0&&Yt.nodeType!==3||(K=M+g),Yt!==x||u!==0&&Yt.nodeType!==3||(ht=M+u),Yt.nodeType===3&&(M+=Yt.nodeValue.length),(jt=Yt.firstChild)!==null;)Mt=Yt,Yt=jt;for(;;){if(Yt===n)break e;if(Mt===l&&++Ot===g&&(K=M),Mt===x&&++Ft===u&&(ht=M),(jt=Yt.nextSibling)!==null)break;Yt=Mt,Mt=Yt.parentNode}Yt=jt}l=K===-1||ht===-1?null:{start:K,end:ht}}else l=null}l=l||{start:0,end:0}}else l=null;for(km={focusedElem:n,selectionRange:l},Qd=!1,gr=s;gr!==null;)if(s=gr,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,gr=n;else for(;gr!==null;){switch(s=gr,x=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,l=s,g=x.memoizedProps,x=x.memoizedState,u=l.stateNode;try{var be=Yc(l.type,g);n=u.getSnapshotBeforeUpdate(be,x),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ie){Bn(l,l.return,Ie)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)Lm(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Lm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,gr=n;break}gr=s.return}}function t5(n,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:il(n,l),u&4&&sf(5,l);break;case 1:if(il(n,l),u&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(M){Bn(l,l.return,M)}else{var g=Yc(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(M){Bn(l,l.return,M)}}u&64&&X2(l),u&512&&af(l,l.return);break;case 3:if(il(n,l),u&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Ti(n,s)}catch(M){Bn(l,l.return,M)}}break;case 27:s===null&&u&4&&Q2(l);case 26:case 5:il(n,l),s===null&&u&4&&K2(l),u&512&&af(l,l.return);break;case 12:il(n,l);break;case 31:il(n,l),u&4&&i5(n,l);break;case 13:il(n,l),u&4&&r5(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=Xw.bind(null,l),p3(n,l))));break;case 22:if(u=l.memoizedState!==null||el,!u){s=s!==null&&s.memoizedState!==null||Wi,g=el;var x=Wi;el=u,(Wi=s)&&!x?rl(n,l,(l.subtreeFlags&8772)!==0):il(n,l),el=g,Wi=x}break;case 30:break;default:il(n,l)}}function e5(n){var s=n.alternate;s!==null&&(n.alternate=null,e5(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Xs(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pi=null,ms=!1;function nl(n,s,l){for(l=l.child;l!==null;)n5(n,s,l),l=l.sibling}function n5(n,s,l){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(De,l)}catch{}switch(l.tag){case 26:Wi||So(l,s),nl(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Wi||So(l,s);var u=pi,g=ms;Zl(l.type)&&(pi=l.stateNode,ms=!1),nl(n,s,l),mf(l.stateNode),pi=u,ms=g;break;case 5:Wi||So(l,s);case 6:if(u=pi,g=ms,pi=null,nl(n,s,l),pi=u,ms=g,pi!==null)if(ms)try{(pi.nodeType===9?pi.body:pi.nodeName==="HTML"?pi.ownerDocument.body:pi).removeChild(l.stateNode)}catch(x){Bn(l,s,x)}else try{pi.removeChild(l.stateNode)}catch(x){Bn(l,s,x)}break;case 18:pi!==null&&(ms?(n=pi,X5(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),nh(n)):X5(pi,l.stateNode));break;case 4:u=pi,g=ms,pi=l.stateNode.containerInfo,ms=!0,nl(n,s,l),pi=u,ms=g;break;case 0:case 11:case 14:case 15:Ul(2,l,s),Wi||Ul(4,l,s),nl(n,s,l);break;case 1:Wi||(So(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Z2(l,s,u)),nl(n,s,l);break;case 21:nl(n,s,l);break;case 22:Wi=(u=Wi)||l.memoizedState!==null,nl(n,s,l),Wi=u;break;default:nl(n,s,l)}}function i5(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{nh(n)}catch(l){Bn(s,s.return,l)}}}function r5(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{nh(n)}catch(l){Bn(s,s.return,l)}}function Fw(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new J2),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new J2),s;default:throw Error(r(435,n.tag))}}function Ld(n,s){var l=Fw(n);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=Zw.bind(null,n,u);u.then(g,g)}})}function gs(n,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],x=n,M=s,K=M;t:for(;K!==null;){switch(K.tag){case 27:if(Zl(K.type)){pi=K.stateNode,ms=!1;break t}break;case 5:pi=K.stateNode,ms=!1;break t;case 3:case 4:pi=K.stateNode.containerInfo,ms=!0;break t}K=K.return}if(pi===null)throw Error(r(160));n5(x,M,g),pi=null,ms=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)s5(s,n),s=s.sibling}var Ua=null;function s5(n,s){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:gs(s,n),vs(n),u&4&&(Ul(3,n,n.return),sf(3,n),Ul(5,n,n.return));break;case 1:gs(s,n),vs(n),u&512&&(Wi||l===null||So(l,l.return)),u&64&&el&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=Ua;if(gs(s,n),vs(n),u&512&&(Wi||l===null||So(l,l.return)),u&4){var x=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){t:{u=n.type,l=n.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":x=g.getElementsByTagName("title")[0],(!x||x[Vr]||x[wn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(u),g.head.insertBefore(x,g.querySelector("head > title"))),Cr(x,u,l),x[wn]=n,vi(x),u=x;break t;case"link":var M=sv("link","href",g).get(u+(l.href||""));if(M){for(var K=0;K<M.length;K++)if(x=M[K],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){M.splice(K,1);break e}}x=g.createElement(u),Cr(x,u,l),g.head.appendChild(x);break;case"meta":if(M=sv("meta","content",g).get(u+(l.content||""))){for(K=0;K<M.length;K++)if(x=M[K],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){M.splice(K,1);break e}}x=g.createElement(u),Cr(x,u,l),g.head.appendChild(x);break;default:throw Error(r(468,u))}x[wn]=n,vi(x),u=x}n.stateNode=u}else av(g,n.type,n.stateNode);else n.stateNode=rv(g,u,n.memoizedProps);else x!==u?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,u===null?av(g,n.type,n.stateNode):rv(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&rm(n,n.memoizedProps,l.memoizedProps)}break;case 27:gs(s,n),vs(n),u&512&&(Wi||l===null||So(l,l.return)),l!==null&&u&4&&rm(n,n.memoizedProps,l.memoizedProps);break;case 5:if(gs(s,n),vs(n),u&512&&(Wi||l===null||So(l,l.return)),n.flags&32){g=n.stateNode;try{Os(g,"")}catch(be){Bn(n,n.return,be)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,rm(n,g,l!==null?l.memoizedProps:g)),u&1024&&(om=!0);break;case 6:if(gs(s,n),vs(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(be){Bn(n,n.return,be)}}break;case 3:if(Xd=null,g=Ua,Ua=Yd(s.containerInfo),gs(s,n),Ua=g,vs(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{nh(s.containerInfo)}catch(be){Bn(n,n.return,be)}om&&(om=!1,a5(n));break;case 4:u=Ua,Ua=Yd(n.stateNode.containerInfo),gs(s,n),vs(n),Ua=u;break;case 12:gs(s,n),vs(n);break;case 31:gs(s,n),vs(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ld(n,u)));break;case 13:gs(s,n),vs(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(jd=ke()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ld(n,u)));break;case 22:g=n.memoizedState!==null;var ht=l!==null&&l.memoizedState!==null,Ot=el,Ft=Wi;if(el=Ot||g,Wi=Ft||ht,gs(s,n),Wi=Ft,el=Ot,vs(n),u&8192)t:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||ht||el||Wi||Wc(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){ht=l=s;try{if(x=ht.stateNode,g)M=x.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{K=ht.stateNode;var Yt=ht.memoizedProps.style,Mt=Yt!=null&&Yt.hasOwnProperty("display")?Yt.display:null;K.style.display=Mt==null||typeof Mt=="boolean"?"":(""+Mt).trim()}}catch(be){Bn(ht,ht.return,be)}}}else if(s.tag===6){if(l===null){ht=s;try{ht.stateNode.nodeValue=g?"":ht.memoizedProps}catch(be){Bn(ht,ht.return,be)}}}else if(s.tag===18){if(l===null){ht=s;try{var jt=ht.stateNode;g?Z5(jt,!0):Z5(ht.stateNode,!1)}catch(be){Bn(ht,ht.return,be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Ld(n,l))));break;case 19:gs(s,n),vs(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ld(n,u)));break;case 30:break;case 21:break;default:gs(s,n),vs(n)}}function vs(n){var s=n.flags;if(s&2){try{for(var l,u=n.return;u!==null;){if($2(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,x=sm(n);Md(n,x,g);break;case 5:var M=l.stateNode;l.flags&32&&(Os(M,""),l.flags&=-33);var K=sm(n);Md(n,K,M);break;case 3:case 4:var ht=l.stateNode.containerInfo,Ot=sm(n);am(n,Ot,ht);break;default:throw Error(r(161))}}catch(Ft){Bn(n,n.return,Ft)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function a5(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;a5(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function il(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)t5(n,s.alternate,s),s=s.sibling}function Wc(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Ul(4,s,s.return),Wc(s);break;case 1:So(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Z2(s,s.return,l),Wc(s);break;case 27:mf(s.stateNode);case 26:case 5:So(s,s.return),Wc(s);break;case 22:s.memoizedState===null&&Wc(s);break;case 30:Wc(s);break;default:Wc(s)}n=n.sibling}}function rl(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=n,x=s,M=x.flags;switch(x.tag){case 0:case 11:case 15:rl(g,x,l),sf(4,x);break;case 1:if(rl(g,x,l),u=x,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Ot){Bn(u,u.return,Ot)}if(u=x,g=u.updateQueue,g!==null){var K=u.stateNode;try{var ht=g.shared.hiddenCallbacks;if(ht!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ht.length;g++)pr(ht[g],K)}catch(Ot){Bn(u,u.return,Ot)}}l&&M&64&&X2(x),af(x,x.return);break;case 27:Q2(x);case 26:case 5:rl(g,x,l),l&&u===null&&M&4&&K2(x),af(x,x.return);break;case 12:rl(g,x,l);break;case 31:rl(g,x,l),l&&M&4&&i5(g,x);break;case 13:rl(g,x,l),l&&M&4&&r5(g,x);break;case 22:x.memoizedState===null&&rl(g,x,l),af(x,x.return);break;case 30:break;default:rl(g,x,l)}s=s.sibling}}function lm(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Uc(l))}function cm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Uc(n))}function Va(n,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)o5(n,s,l,u),s=s.sibling}function o5(n,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Va(n,s,l,u),g&2048&&sf(9,s);break;case 1:Va(n,s,l,u);break;case 3:Va(n,s,l,u),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Uc(n)));break;case 12:if(g&2048){Va(n,s,l,u),n=s.stateNode;try{var x=s.memoizedProps,M=x.id,K=x.onPostCommit;typeof K=="function"&&K(M,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(ht){Bn(s,s.return,ht)}}else Va(n,s,l,u);break;case 31:Va(n,s,l,u);break;case 13:Va(n,s,l,u);break;case 23:break;case 22:x=s.stateNode,M=s.alternate,s.memoizedState!==null?x._visibility&2?Va(n,s,l,u):of(n,s):x._visibility&2?Va(n,s,l,u):(x._visibility|=2,Gu(n,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&lm(M,s);break;case 24:Va(n,s,l,u),g&2048&&cm(s.alternate,s);break;default:Va(n,s,l,u)}}function Gu(n,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=n,M=s,K=l,ht=u,Ot=M.flags;switch(M.tag){case 0:case 11:case 15:Gu(x,M,K,ht,g),sf(8,M);break;case 23:break;case 22:var Ft=M.stateNode;M.memoizedState!==null?Ft._visibility&2?Gu(x,M,K,ht,g):of(x,M):(Ft._visibility|=2,Gu(x,M,K,ht,g)),g&&Ot&2048&&lm(M.alternate,M);break;case 24:Gu(x,M,K,ht,g),g&&Ot&2048&&cm(M.alternate,M);break;default:Gu(x,M,K,ht,g)}s=s.sibling}}function of(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,u=s,g=u.flags;switch(u.tag){case 22:of(l,u),g&2048&&lm(u.alternate,u);break;case 24:of(l,u),g&2048&&cm(u.alternate,u);break;default:of(l,u)}s=s.sibling}}var lf=8192;function Yu(n,s,l){if(n.subtreeFlags&lf)for(n=n.child;n!==null;)l5(n,s,l),n=n.sibling}function l5(n,s,l){switch(n.tag){case 26:Yu(n,s,l),n.flags&lf&&n.memoizedState!==null&&T3(l,Ua,n.memoizedState,n.memoizedProps);break;case 5:Yu(n,s,l);break;case 3:case 4:var u=Ua;Ua=Yd(n.stateNode.containerInfo),Yu(n,s,l),Ua=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=lf,lf=16777216,Yu(n,s,l),lf=u):Yu(n,s,l));break;default:Yu(n,s,l)}}function c5(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function cf(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];gr=u,h5(u,n)}c5(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)u5(n),n=n.sibling}function u5(n){switch(n.tag){case 0:case 11:case 15:cf(n),n.flags&2048&&Ul(9,n,n.return);break;case 3:cf(n);break;case 12:cf(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Dd(n)):cf(n);break;default:cf(n)}}function Dd(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];gr=u,h5(u,n)}c5(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Ul(8,s,s.return),Dd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Dd(s));break;default:Dd(s)}n=n.sibling}}function h5(n,s){for(;gr!==null;){var l=gr;switch(l.tag){case 0:case 11:case 15:Ul(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Uc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,gr=u;else t:for(l=n;gr!==null;){u=gr;var g=u.sibling,x=u.return;if(e5(u),u===l){gr=null;break t}if(g!==null){g.return=x,gr=g;break t}gr=x}}}var Pw={getCacheForType:function(n){var s=sr(_i),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l},cacheSignal:function(){return sr(_i).controller.signal}},Uw=typeof WeakMap=="function"?WeakMap:Map,Mn=0,Kn=null,nn=null,an=0,In=0,qs=null,Vl=!1,Wu=!1,um=!1,sl=0,Oi=0,Hl=0,Xc=0,hm=0,zs=0,Xu=0,uf=null,ys=null,fm=!1,jd=0,f5=0,Rd=1/0,Id=null,Gl=null,or=0,Yl=null,Zu=null,al=0,dm=0,pm=null,d5=null,hf=0,mm=null;function Fs(){return(Mn&2)!==0&&an!==0?an&-an:$.T!==null?_m():Dn()}function p5(){if(zs===0)if((an&536870912)===0||en){var n=Ee;Ee<<=1,(Ee&3932160)===0&&(Ee=262144),zs=n}else zs=536870912;return n=ri.current,n!==null&&(n.flags|=32),zs}function bs(n,s,l){(n===Kn&&(In===2||In===9)||n.cancelPendingCommit!==null)&&(Ku(n,0),Wl(n,an,zs,!1)),he(n,l),((Mn&2)===0||n!==Kn)&&(n===Kn&&((Mn&2)===0&&(Xc|=l),Oi===4&&Wl(n,an,zs,!1)),Ao(n))}function m5(n,s,l){if((Mn&6)!==0)throw Error(r(327));var u=!l&&(s&127)===0&&(s&n.expiredLanes)===0||Nn(n,s),g=u?Gw(n,s):vm(n,s,!0),x=u;do{if(g===0){Wu&&!u&&Wl(n,s,0,!1);break}else{if(l=n.current.alternate,x&&!Vw(l)){g=vm(n,s,!1),x=!1;continue}if(g===2){if(x=s,n.errorRecoveryDisabledLanes&x)var M=0;else M=n.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){s=M;t:{var K=n;g=uf;var ht=K.current.memoizedState.isDehydrated;if(ht&&(Ku(K,M).flags|=256),M=vm(K,M,!1),M!==2){if(um&&!ht){K.errorRecoveryDisabledLanes|=x,Xc|=x,g=4;break t}x=ys,ys=g,x!==null&&(ys===null?ys=x:ys.push.apply(ys,x))}g=M}if(x=!1,g!==2)continue}}if(g===1){Ku(n,0),Wl(n,s,0,!0);break}t:{switch(u=n,x=g,x){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Wl(u,s,zs,!Vl);break t;case 2:ys=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=jd+300-ke(),10<g)){if(Wl(u,s,zs,!Vl),ve(u,0,!0)!==0)break t;al=s,u.timeoutHandle=Y5(g5.bind(null,u,l,ys,Id,fm,s,zs,Xc,Xu,Vl,x,"Throttled",-0,0),g);break t}g5(u,l,ys,Id,fm,s,zs,Xc,Xu,Vl,x,null,-0,0)}}break}while(!0);Ao(n)}function g5(n,s,l,u,g,x,M,K,ht,Ot,Ft,Yt,Mt,jt){if(n.timeoutHandle=-1,Yt=s.subtreeFlags,Yt&8192||(Yt&16785408)===16785408){Yt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ms},l5(s,x,Yt);var be=(x&62914560)===x?jd-ke():(x&4194048)===x?f5-ke():0;if(be=C3(Yt,be),be!==null){al=x,n.cancelPendingCommit=be(A5.bind(null,n,s,x,l,u,g,M,K,ht,Ft,Yt,null,Mt,jt)),Wl(n,x,M,!Ot);return}}A5(n,s,x,l,u,g,M,K,ht)}function Vw(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],x=g.getSnapshot;g=g.value;try{if(!er(x(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wl(n,s,l,u){s&=~hm,s&=~Xc,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var g=s;0<g;){var x=31-Fe(g),M=1<<x;u[x]=-1,g&=~M}l!==0&&jn(n,l,s)}function Bd(){return(Mn&6)===0?(ff(0),!1):!0}function gm(){if(nn!==null){if(In===0)var n=nn.return;else n=nn,oa=mo=null,qu(n),Wt=null,xe=0,n=nn;for(;n!==null;)W2(n.alternate,n),n=n.return;nn=null}}function Ku(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,c3(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),al=0,gm(),Kn=n,nn=l=os(n.current,null),an=s,In=0,qs=null,Vl=!1,Wu=Nn(n,s),um=!1,Xu=zs=hm=Xc=Hl=Oi=0,ys=uf=null,fm=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var g=31-Fe(u),x=1<<g;s|=n[g],u&=~x}return sl=s,Ic(),l}function v5(n,s){Oe=null,$.H=ef,s===yt||s===st?(s=Ut(),In=3):s===Et?(s=Ut(),In=4):In=s===X1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,qs=s,nn===null&&(Oi=1,Td(n,ls(s,n.current)))}function y5(){var n=ri.current;return n===null?!0:(an&4194048)===an?mn===null:(an&62914560)===an||(an&536870912)!==0?n===mn:!1}function b5(){var n=$.H;return $.H=ef,n===null?ef:n}function x5(){var n=$.A;return $.A=Pw,n}function qd(){Oi=4,Vl||(an&4194048)!==an&&ri.current!==null||(Wu=!0),(Hl&134217727)===0&&(Xc&134217727)===0||Kn===null||Wl(Kn,an,zs,!1)}function vm(n,s,l){var u=Mn;Mn|=2;var g=b5(),x=x5();(Kn!==n||an!==s)&&(Id=null,Ku(n,s)),s=!1;var M=Oi;t:do try{if(In!==0&&nn!==null){var K=nn,ht=qs;switch(In){case 8:gm(),M=6;break t;case 3:case 2:case 9:case 6:ri.current===null&&(s=!0);var Ot=In;if(In=0,qs=null,$u(n,K,ht,Ot),l&&Wu){M=0;break t}break;default:Ot=In,In=0,qs=null,$u(n,K,ht,Ot)}}Hw(),M=Oi;break}catch(Ft){v5(n,Ft)}while(!0);return s&&n.shellSuspendCounter++,oa=mo=null,Mn=u,$.H=g,$.A=x,nn===null&&(Kn=null,an=0,Ic()),M}function Hw(){for(;nn!==null;)_5(nn)}function Gw(n,s){var l=Mn;Mn|=2;var u=b5(),g=x5();Kn!==n||an!==s?(Id=null,Rd=ke()+500,Ku(n,s)):Wu=Nn(n,s);t:do try{if(In!==0&&nn!==null){s=nn;var x=qs;e:switch(In){case 1:In=0,qs=null,$u(n,s,x,1);break;case 2:case 9:if(Tt(x)){In=0,qs=null,w5(s);break}s=function(){In!==2&&In!==9||Kn!==n||(In=7),Ao(n)},x.then(s,s);break t;case 3:In=7;break t;case 4:In=5;break t;case 7:Tt(x)?(In=0,qs=null,w5(s)):(In=0,qs=null,$u(n,s,x,7));break;case 5:var M=null;switch(nn.tag){case 26:M=nn.memoizedState;case 5:case 27:var K=nn;if(M?ov(M):K.stateNode.complete){In=0,qs=null;var ht=K.sibling;if(ht!==null)nn=ht;else{var Ot=K.return;Ot!==null?(nn=Ot,zd(Ot)):nn=null}break e}}In=0,qs=null,$u(n,s,x,5);break;case 6:In=0,qs=null,$u(n,s,x,6);break;case 8:gm(),Oi=6;break t;default:throw Error(r(462))}}Yw();break}catch(Ft){v5(n,Ft)}while(!0);return oa=mo=null,$.H=u,$.A=g,Mn=l,nn!==null?0:(Kn=null,an=0,Ic(),Oi)}function Yw(){for(;nn!==null&&!le();)_5(nn)}function _5(n){var s=G2(n.alternate,n,sl);n.memoizedProps=n.pendingProps,s===null?zd(n):nn=s}function w5(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=z2(l,s,s.pendingProps,s.type,void 0,an);break;case 11:s=z2(l,s,s.pendingProps,s.type.render,s.ref,an);break;case 5:qu(s);default:W2(l,s),s=nn=zc(s,sl),s=G2(l,s,sl)}n.memoizedProps=n.pendingProps,s===null?zd(n):nn=s}function $u(n,s,l,u){oa=mo=null,qu(s),Wt=null,xe=0;var g=s.return;try{if(jw(n,g,s,l,an)){Oi=1,Td(n,ls(l,n.current)),nn=null;return}}catch(x){if(g!==null)throw nn=g,x;Oi=1,Td(n,ls(l,n.current)),nn=null;return}s.flags&32768?(en||u===1?n=!0:Wu||(an&536870912)!==0?n=!1:(Vl=n=!0,(u===2||u===9||u===3||u===6)&&(u=ri.current,u!==null&&u.tag===13&&(u.flags|=16384))),S5(s,n)):zd(s)}function zd(n){var s=n;do{if((s.flags&32768)!==0){S5(s,Vl);return}n=s.return;var l=Bw(s.alternate,s,sl);if(l!==null){nn=l;return}if(s=s.sibling,s!==null){nn=s;return}nn=s=n}while(s!==null);Oi===0&&(Oi=5)}function S5(n,s){do{var l=qw(n.alternate,n);if(l!==null){l.flags&=32767,nn=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){nn=n;return}nn=n=l}while(n!==null);Oi=6,nn=null}function A5(n,s,l,u,g,x,M,K,ht){n.cancelPendingCommit=null;do Fd();while(or!==0);if((Mn&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(x=s.lanes|s.childLanes,x|=Au,sn(n,l,x,M,K,ht),n===Kn&&(nn=Kn=null,an=0),Zu=s,Yl=n,al=l,dm=x,pm=g,d5=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Kw(ge,function(){return k5(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,g=rt.p,rt.p=2,M=Mn,Mn|=4;try{zw(n,s,l)}finally{Mn=M,rt.p=g,$.T=u}}or=1,N5(),T5(),C5()}}function N5(){if(or===1){or=0;var n=Yl,s=Zu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=rt.p;rt.p=2;var g=Mn;Mn|=4;try{s5(s,n);var x=km,M=ja(n.containerInfo),K=x.focusedElem,ht=x.selectionRange;if(M!==K&&K&&K.ownerDocument&&Da(K.ownerDocument.documentElement,K)){if(ht!==null&&sa(K)){var Ot=ht.start,Ft=ht.end;if(Ft===void 0&&(Ft=Ot),"selectionStart"in K)K.selectionStart=Ot,K.selectionEnd=Math.min(Ft,K.value.length);else{var Yt=K.ownerDocument||document,Mt=Yt&&Yt.defaultView||window;if(Mt.getSelection){var jt=Mt.getSelection(),be=K.textContent.length,Ie=Math.min(ht.start,be),Hn=ht.end===void 0?Ie:Math.min(ht.end,be);!jt.extend&&Ie>Hn&&(M=Hn,Hn=Ie,Ie=M);var At=Ml(K,Ie),bt=Ml(K,Hn);if(At&&bt&&(jt.rangeCount!==1||jt.anchorNode!==At.node||jt.anchorOffset!==At.offset||jt.focusNode!==bt.node||jt.focusOffset!==bt.offset)){var kt=Yt.createRange();kt.setStart(At.node,At.offset),jt.removeAllRanges(),Ie>Hn?(jt.addRange(kt),jt.extend(bt.node,bt.offset)):(kt.setEnd(bt.node,bt.offset),jt.addRange(kt))}}}}for(Yt=[],jt=K;jt=jt.parentNode;)jt.nodeType===1&&Yt.push({element:jt,left:jt.scrollLeft,top:jt.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Yt.length;K++){var Vt=Yt[K];Vt.element.scrollLeft=Vt.left,Vt.element.scrollTop=Vt.top}}Qd=!!Em,km=Em=null}finally{Mn=g,rt.p=u,$.T=l}}n.current=s,or=2}}function T5(){if(or===2){or=0;var n=Yl,s=Zu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=rt.p;rt.p=2;var g=Mn;Mn|=4;try{t5(n,s.alternate,s)}finally{Mn=g,rt.p=u,$.T=l}}or=3}}function C5(){if(or===4||or===3){or=0,pe();var n=Yl,s=Zu,l=al,u=d5;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?or=5:(or=0,Zu=Yl=null,E5(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Gl=null),En(l),s=s.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(De,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=$.T,g=rt.p,rt.p=2,$.T=null;try{for(var x=n.onRecoverableError,M=0;M<u.length;M++){var K=u[M];x(K.value,{componentStack:K.stack})}}finally{$.T=s,rt.p=g}}(al&3)!==0&&Fd(),Ao(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===mm?hf++:(hf=0,mm=n):hf=0,ff(0)}}function E5(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Uc(s)))}function Fd(){return N5(),T5(),C5(),k5()}function k5(){if(or!==5)return!1;var n=Yl,s=dm;dm=0;var l=En(al),u=$.T,g=rt.p;try{rt.p=32>l?32:l,$.T=null,l=pm,pm=null;var x=Yl,M=al;if(or=0,Zu=Yl=null,al=0,(Mn&6)!==0)throw Error(r(331));var K=Mn;if(Mn|=4,u5(x.current),o5(x,x.current,M,l),Mn=K,ff(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(De,x)}catch{}return!0}finally{rt.p=g,$.T=u,E5(n,s)}}function O5(n,s,l){s=ls(l,s),s=W1(n.stateNode,s,2),n=Xe(n,s,2),n!==null&&(he(n,2),Ao(n))}function Bn(n,s,l){if(n.tag===3)O5(n,n,l);else for(;s!==null;){if(s.tag===3){O5(s,n,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Gl===null||!Gl.has(u))){n=ls(l,n),l=M2(2),u=Xe(s,l,2),u!==null&&(L2(l,u,s,n),he(u,2),Ao(u));break}}s=s.return}}function ym(n,s,l){var u=n.pingCache;if(u===null){u=n.pingCache=new Uw;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(um=!0,g.add(l),n=Ww.bind(null,n,s,l),s.then(n,n))}function Ww(n,s,l){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Kn===n&&(an&l)===l&&(Oi===4||Oi===3&&(an&62914560)===an&&300>ke()-jd?(Mn&2)===0&&Ku(n,0):hm|=l,Xu===an&&(Xu=0)),Ao(n)}function M5(n,s){s===0&&(s=cn()),n=Ia(n,s),n!==null&&(he(n,s),Ao(n))}function Xw(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),M5(n,l)}function Zw(n,s){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),M5(n,l)}function Kw(n,s){return ee(n,s)}var Pd=null,Qu=null,bm=!1,Ud=!1,xm=!1,Xl=0;function Ao(n){n!==Qu&&n.next===null&&(Qu===null?Pd=Qu=n:Qu=Qu.next=n),Ud=!0,bm||(bm=!0,Qw())}function ff(n,s){if(!xm&&Ud){xm=!0;do for(var l=!1,u=Pd;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var x=0;else{var M=u.suspendedLanes,K=u.pingedLanes;x=(1<<31-Fe(42|n)+1)-1,x&=g&~(M&~K),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,R5(u,x))}else x=an,x=ve(u,u===Kn?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||Nn(u,x)||(l=!0,R5(u,x));u=u.next}while(l);xm=!1}}function $w(){L5()}function L5(){Ud=bm=!1;var n=0;Xl!==0&&l3()&&(n=Xl);for(var s=ke(),l=null,u=Pd;u!==null;){var g=u.next,x=D5(u,s);x===0?(u.next=null,l===null?Pd=g:l.next=g,g===null&&(Qu=l)):(l=u,(n!==0||(x&3)!==0)&&(Ud=!0)),u=g}or!==0&&or!==5||ff(n),Xl!==0&&(Xl=0)}function D5(n,s){for(var l=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var M=31-Fe(x),K=1<<M,ht=g[M];ht===-1?((K&l)===0||(K&u)!==0)&&(g[M]=Qe(K,s)):ht<=s&&(n.expiredLanes|=K),x&=~K}if(s=Kn,l=an,l=ve(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===s&&(In===2||In===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&ie(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Nn(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(u!==null&&ie(u),En(l)){case 2:case 8:l=ce;break;case 32:l=ge;break;case 268435456:l=Te;break;default:l=ge}return u=j5.bind(null,n),l=ee(l,u),n.callbackPriority=s,n.callbackNode=l,s}return u!==null&&u!==null&&ie(u),n.callbackPriority=2,n.callbackNode=null,2}function j5(n,s){if(or!==0&&or!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Fd()&&n.callbackNode!==l)return null;var u=an;return u=ve(n,n===Kn?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(m5(n,u,s),D5(n,ke()),n.callbackNode!=null&&n.callbackNode===l?j5.bind(null,n):null)}function R5(n,s){if(Fd())return null;m5(n,s,!0)}function Qw(){u3(function(){(Mn&6)!==0?ee(Kt,$w):L5()})}function _m(){if(Xl===0){var n=p;n===0&&(n=re,re<<=1,(re&261888)===0&&(re=256)),Xl=n}return Xl}function I5(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Lr(""+n)}function B5(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function Jw(n,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var x=I5((g[Wn]||null).action),M=u.submitter;M&&(s=(s=M[Wn]||null)?I5(s.formAction):M.getAttribute("formAction"),s!==null&&(x=s,M=null));var K=new rs("action","action",null,u,g);n.push({event:K,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Xl!==0){var ht=M?B5(g,M):new FormData(g);P1(l,{pending:!0,data:ht,method:g.method,action:x},null,ht)}}else typeof x=="function"&&(K.preventDefault(),ht=M?B5(g,M):new FormData(g),P1(l,{pending:!0,data:ht,method:g.method,action:x},x,ht))},currentTarget:g}]})}}for(var wm=0;wm<Go.length;wm++){var Sm=Go[wm],t3=Sm.toLowerCase(),e3=Sm[0].toUpperCase()+Sm.slice(1);as(t3,"on"+e3)}as(Ho,"onAnimationEnd"),as(jc,"onAnimationIteration"),as(Fh,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(dd,"onTransitionRun"),as(pd,"onTransitionStart"),as(md,"onTransitionCancel"),as(Ph,"onTransitionEnd"),va("onMouseEnter",["mouseout","mouseover"]),va("onMouseLeave",["mouseout","mouseover"]),va("onPointerEnter",["pointerout","pointerover"]),va("onPointerLeave",["pointerout","pointerover"]),Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Es("onBeforeInput",["compositionend","keypress","textInput","paste"]),Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var df="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(df));function q5(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],g=u.event;u=u.listeners;t:{var x=void 0;if(s)for(var M=u.length-1;0<=M;M--){var K=u[M],ht=K.instance,Ot=K.currentTarget;if(K=K.listener,ht!==x&&g.isPropagationStopped())break t;x=K,g.currentTarget=Ot;try{x(g)}catch(Ft){Rc(Ft)}g.currentTarget=null,x=ht}else for(M=0;M<u.length;M++){if(K=u[M],ht=K.instance,Ot=K.currentTarget,K=K.listener,ht!==x&&g.isPropagationStopped())break t;x=K,g.currentTarget=Ot;try{x(g)}catch(Ft){Rc(Ft)}g.currentTarget=null,x=ht}}}}function rn(n,s){var l=s[ur];l===void 0&&(l=s[ur]=new Set);var u=n+"__bubble";l.has(u)||(z5(s,n,2,!1),l.add(u))}function Am(n,s,l){var u=0;s&&(u|=4),z5(l,n,u,s)}var Vd="_reactListening"+Math.random().toString(36).slice(2);function Nm(n){if(!n[Vd]){n[Vd]=!0,vc.forEach(function(l){l!=="selectionchange"&&(n3.has(l)||Am(l,!1,n),Am(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Vd]||(s[Vd]=!0,Am("selectionchange",!1,s))}}function z5(n,s,l,u){switch(pv(s)){case 2:var g=O3;break;case 8:g=M3;break;default:g=Fm}l=g.bind(null,s,l,n),g=void 0,!kc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function Tm(n,s,l,u,g){var x=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var M=u.tag;if(M===3||M===4){var K=u.stateNode.containerInfo;if(K===g)break;if(M===4)for(M=u.return;M!==null;){var ht=M.tag;if((ht===3||ht===4)&&M.stateNode.containerInfo===g)return;M=M.return}for(;K!==null;){if(M=Ts(K),M===null)return;if(ht=M.tag,ht===5||ht===6||ht===26||ht===27){u=x=M;continue t}K=K.parentNode}}u=u.return}bu(function(){var Ot=x,Ft=Bo(l),Yt=[];t:{var Mt=Uh.get(n);if(Mt!==void 0){var jt=rs,be=n;switch(n){case"keypress":if(is(l)===0)break t;case"keydown":case"keyup":jt=un;break;case"focusin":be="focus",jt=Na;break;case"focusout":be="blur",jt=Na;break;case"beforeblur":case"afterblur":jt=Na;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":jt=Oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":jt=Aa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":jt=Ii;break;case Ho:case jc:case Fh:jt=_;break;case Ph:jt=tr;break;case"scroll":case"scrollend":jt=Al;break;case"wheel":jt=Ls;break;case"copy":case"cut":case"paste":jt=lt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":jt=yi;break;case"toggle":case"beforetoggle":jt=Mc}var Ie=(s&4)!==0,Hn=!Ie&&(n==="scroll"||n==="scrollend"),At=Ie?Mt!==null?Mt+"Capture":null:Mt;Ie=[];for(var bt=Ot,kt;bt!==null;){var Vt=bt;if(kt=Vt.stateNode,Vt=Vt.tag,Vt!==5&&Vt!==26&&Vt!==27||kt===null||At===null||(Vt=Yr(bt,At),Vt!=null&&Ie.push(pf(bt,Vt,kt))),Hn)break;bt=bt.return}0<Ie.length&&(Mt=new jt(Mt,be,null,l,Ft),Yt.push({event:Mt,listeners:Ie}))}}if((s&7)===0){t:{if(Mt=n==="mouseover"||n==="pointerover",jt=n==="mouseout"||n==="pointerout",Mt&&l!==ba&&(be=l.relatedTarget||l.fromElement)&&(Ts(be)||be[ji]))break t;if((jt||Mt)&&(Mt=Ft.window===Ft?Ft:(Mt=Ft.ownerDocument)?Mt.defaultView||Mt.parentWindow:window,jt?(be=l.relatedTarget||l.toElement,jt=Ot,be=be?Ts(be):null,be!==null&&(Hn=o(be),Ie=be.tag,be!==Hn||Ie!==5&&Ie!==27&&Ie!==6)&&(be=null)):(jt=null,be=Ot),jt!==be)){if(Ie=Oc,Vt="onMouseLeave",At="onMouseEnter",bt="mouse",(n==="pointerout"||n==="pointerover")&&(Ie=yi,Vt="onPointerLeave",At="onPointerEnter",bt="pointer"),Hn=jt==null?Mt:Ro(jt),kt=be==null?Mt:Ro(be),Mt=new Ie(Vt,bt+"leave",jt,l,Ft),Mt.target=Hn,Mt.relatedTarget=kt,Vt=null,Ts(Ft)===Ot&&(Ie=new Ie(At,bt+"enter",be,l,Ft),Ie.target=kt,Ie.relatedTarget=Hn,Vt=Ie),Hn=Vt,jt&&be)e:{for(Ie=i3,At=jt,bt=be,kt=0,Vt=At;Vt;Vt=Ie(Vt))kt++;Vt=0;for(var Le=bt;Le;Le=Ie(Le))Vt++;for(;0<kt-Vt;)At=Ie(At),kt--;for(;0<Vt-kt;)bt=Ie(bt),Vt--;for(;kt--;){if(At===bt||bt!==null&&At===bt.alternate){Ie=At;break e}At=Ie(At),bt=Ie(bt)}Ie=null}else Ie=null;jt!==null&&F5(Yt,Mt,jt,Ie,!1),be!==null&&Hn!==null&&F5(Yt,Hn,be,Ie,!0)}}t:{if(Mt=Ot?Ro(Ot):window,jt=Mt.nodeName&&Mt.nodeName.toLowerCase(),jt==="select"||jt==="input"&&Mt.type==="file")var Sn=uo;else if(Lc(Mt))if(Dr)Sn=ia;else{Sn=bi;var Ne=kl}else jt=Mt.nodeName,!jt||jt.toLowerCase()!=="input"||Mt.type!=="checkbox"&&Mt.type!=="radio"?Ot&&Tc(Ot.elementType)&&(Sn=uo):Sn=Su;if(Sn&&(Sn=Sn(n,Ot))){Xr(Yt,Sn,l,Ft);break t}Ne&&Ne(n,Mt,Ot),n==="focusout"&&Ot&&Mt.type==="number"&&Ot.memoizedProps.value!=null&&Sc(Mt,"number",Mt.value)}switch(Ne=Ot?Ro(Ot):window,n){case"focusin":(Lc(Ne)||Ne.contentEditable==="true")&&(Zr=Ne,Ra=Ot,hr=null);break;case"focusout":hr=Ra=Zr=null;break;case"mousedown":ss=!0;break;case"contextmenu":case"mouseup":case"dragend":ss=!1,xn(Yt,l,Ft);break;case"selectionchange":if(Vo)break;case"keydown":case"keyup":xn(Yt,l,Ft)}var Ke;if(Js)t:{switch(n){case"compositionstart":var on="onCompositionStart";break t;case"compositionend":on="onCompositionEnd";break t;case"compositionupdate":on="onCompositionUpdate";break t}on=void 0}else ta?co(n,l)&&(on="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(on="onCompositionStart");on&&(Ea&&l.locale!=="ko"&&(ta||on!=="onCompositionStart"?on==="onCompositionEnd"&&ta&&(Ke=xu()):(Wr=Ft,zo="value"in Wr?Wr.value:Wr.textContent,ta=!0)),Ne=Hd(Ot,on),0<Ne.length&&(on=new St(on,n,null,l,Ft),Yt.push({event:on,listeners:Ne}),Ke?on.data=Ke:(Ke=Tl(l),Ke!==null&&(on.data=Ke)))),(Ke=Uo?wr(n,l):ka(n,l))&&(on=Hd(Ot,"onBeforeInput"),0<on.length&&(Ne=new St("onBeforeInput","beforeinput",null,l,Ft),Yt.push({event:Ne,listeners:on}),Ne.data=Ke)),Jw(Yt,n,Ot,l,Ft)}q5(Yt,s)})}function pf(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Hd(n,s){for(var l=s+"Capture",u=[];n!==null;){var g=n,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=Yr(n,l),g!=null&&u.unshift(pf(n,g,x)),g=Yr(n,s),g!=null&&u.push(pf(n,g,x))),n.tag===3)return u;n=n.return}return[]}function i3(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function F5(n,s,l,u,g){for(var x=s._reactName,M=[];l!==null&&l!==u;){var K=l,ht=K.alternate,Ot=K.stateNode;if(K=K.tag,ht!==null&&ht===u)break;K!==5&&K!==26&&K!==27||Ot===null||(ht=Ot,g?(Ot=Yr(l,x),Ot!=null&&M.unshift(pf(l,Ot,ht))):g||(Ot=Yr(l,x),Ot!=null&&M.push(pf(l,Ot,ht)))),l=l.return}M.length!==0&&n.push({event:s,listeners:M})}var r3=/\r\n?/g,s3=/\u0000|\uFFFD/g;function P5(n){return(typeof n=="string"?n:""+n).replace(r3,`
`).replace(s3,"")}function U5(n,s){return s=P5(s),P5(n)===s}function Vn(n,s,l,u,g,x){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Os(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Os(n,""+u);break;case"className":ya(n,"class",u);break;case"tabIndex":ya(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ya(n,l,u);break;case"style":gu(n,u,x);break;case"data":if(s!=="object"){ya(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Lr(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(s!=="input"&&Vn(n,s,"name",g.name,g,null),Vn(n,s,"formEncType",g.formEncType,g,null),Vn(n,s,"formMethod",g.formMethod,g,null),Vn(n,s,"formTarget",g.formTarget,g,null)):(Vn(n,s,"encType",g.encType,g,null),Vn(n,s,"method",g.method,g,null),Vn(n,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Lr(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=Ms);break;case"onScroll":u!=null&&rn("scroll",n);break;case"onScrollEnd":u!=null&&rn("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=Lr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":rn("beforetoggle",n),rn("toggle",n),Gr(n,"popover",u);break;case"xlinkActuate":ks(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ks(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ks(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ks(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ks(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ks(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ks(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ks(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ks(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Cc.get(l)||l,Gr(n,l,u))}}function Cm(n,s,l,u,g,x){switch(l){case"style":gu(n,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Os(n,u):(typeof u=="number"||typeof u=="bigint")&&Os(n,""+u);break;case"onScroll":u!=null&&rn("scroll",n);break;case"onScrollEnd":u!=null&&rn("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Ms);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hr.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),x=n[Wn]||null,x=x!=null?x[l]:null,typeof x=="function"&&n.removeEventListener(s,x,g),typeof u=="function")){typeof x!="function"&&x!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,u,g);break t}l in n?n[l]=u:u===!0?n.setAttribute(l,""):Gr(n,l,u)}}}function Cr(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rn("error",n),rn("load",n);var u=!1,g=!1,x;for(x in l)if(l.hasOwnProperty(x)){var M=l[x];if(M!=null)switch(x){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Vn(n,s,x,M,l,null)}}g&&Vn(n,s,"srcSet",l.srcSet,l,null),u&&Vn(n,s,"src",l.src,l,null);return;case"input":rn("invalid",n);var K=x=M=g=null,ht=null,Ot=null;for(u in l)if(l.hasOwnProperty(u)){var Ft=l[u];if(Ft!=null)switch(u){case"name":g=Ft;break;case"type":M=Ft;break;case"checked":ht=Ft;break;case"defaultChecked":Ot=Ft;break;case"value":x=Ft;break;case"defaultValue":K=Ft;break;case"children":case"dangerouslySetInnerHTML":if(Ft!=null)throw Error(r(137,s));break;default:Vn(n,s,u,Ft,l,null)}}pu(n,x,K,ht,Ot,M,g,!1);return;case"select":rn("invalid",n),u=M=x=null;for(g in l)if(l.hasOwnProperty(g)&&(K=l[g],K!=null))switch(g){case"value":x=K;break;case"defaultValue":M=K;break;case"multiple":u=K;default:Vn(n,s,g,K,l,null)}s=x,l=M,n.multiple=!!u,s!=null?_r(n,!!u,s,!1):l!=null&&_r(n,!!u,l,!0);return;case"textarea":rn("invalid",n),x=g=u=null;for(M in l)if(l.hasOwnProperty(M)&&(K=l[M],K!=null))switch(M){case"value":u=K;break;case"defaultValue":g=K;break;case"children":x=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:Vn(n,s,M,K,l,null)}Nc(n,u,g,x);return;case"option":for(ht in l)if(l.hasOwnProperty(ht)&&(u=l[ht],u!=null))switch(ht){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Vn(n,s,ht,u,l,null)}return;case"dialog":rn("beforetoggle",n),rn("toggle",n),rn("cancel",n),rn("close",n);break;case"iframe":case"object":rn("load",n);break;case"video":case"audio":for(u=0;u<df.length;u++)rn(df[u],n);break;case"image":rn("error",n),rn("load",n);break;case"details":rn("toggle",n);break;case"embed":case"source":case"link":rn("error",n),rn("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ot in l)if(l.hasOwnProperty(Ot)&&(u=l[Ot],u!=null))switch(Ot){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Vn(n,s,Ot,u,l,null)}return;default:if(Tc(s)){for(Ft in l)l.hasOwnProperty(Ft)&&(u=l[Ft],u!==void 0&&Cm(n,s,Ft,u,l,void 0));return}}for(K in l)l.hasOwnProperty(K)&&(u=l[K],u!=null&&Vn(n,s,K,u,l,null))}function a3(n,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,M=null,K=null,ht=null,Ot=null,Ft=null;for(jt in l){var Yt=l[jt];if(l.hasOwnProperty(jt)&&Yt!=null)switch(jt){case"checked":break;case"value":break;case"defaultValue":ht=Yt;default:u.hasOwnProperty(jt)||Vn(n,s,jt,null,u,Yt)}}for(var Mt in u){var jt=u[Mt];if(Yt=l[Mt],u.hasOwnProperty(Mt)&&(jt!=null||Yt!=null))switch(Mt){case"type":x=jt;break;case"name":g=jt;break;case"checked":Ot=jt;break;case"defaultChecked":Ft=jt;break;case"value":M=jt;break;case"defaultValue":K=jt;break;case"children":case"dangerouslySetInnerHTML":if(jt!=null)throw Error(r(137,s));break;default:jt!==Yt&&Vn(n,s,Mt,jt,u,Yt)}}_l(n,M,K,ht,Ot,Ft,x,g);return;case"select":jt=M=K=Mt=null;for(x in l)if(ht=l[x],l.hasOwnProperty(x)&&ht!=null)switch(x){case"value":break;case"multiple":jt=ht;default:u.hasOwnProperty(x)||Vn(n,s,x,null,u,ht)}for(g in u)if(x=u[g],ht=l[g],u.hasOwnProperty(g)&&(x!=null||ht!=null))switch(g){case"value":Mt=x;break;case"defaultValue":K=x;break;case"multiple":M=x;default:x!==ht&&Vn(n,s,g,x,u,ht)}s=K,l=M,u=jt,Mt!=null?_r(n,!!l,Mt,!1):!!u!=!!l&&(s!=null?_r(n,!!l,s,!0):_r(n,!!l,l?[]:"",!1));return;case"textarea":jt=Mt=null;for(K in l)if(g=l[K],l.hasOwnProperty(K)&&g!=null&&!u.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Vn(n,s,K,null,u,g)}for(M in u)if(g=u[M],x=l[M],u.hasOwnProperty(M)&&(g!=null||x!=null))switch(M){case"value":Mt=g;break;case"defaultValue":jt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==x&&Vn(n,s,M,g,u,x)}Ac(n,Mt,jt);return;case"option":for(var be in l)if(Mt=l[be],l.hasOwnProperty(be)&&Mt!=null&&!u.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:Vn(n,s,be,null,u,Mt)}for(ht in u)if(Mt=u[ht],jt=l[ht],u.hasOwnProperty(ht)&&Mt!==jt&&(Mt!=null||jt!=null))switch(ht){case"selected":n.selected=Mt&&typeof Mt!="function"&&typeof Mt!="symbol";break;default:Vn(n,s,ht,Mt,u,jt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in l)Mt=l[Ie],l.hasOwnProperty(Ie)&&Mt!=null&&!u.hasOwnProperty(Ie)&&Vn(n,s,Ie,null,u,Mt);for(Ot in u)if(Mt=u[Ot],jt=l[Ot],u.hasOwnProperty(Ot)&&Mt!==jt&&(Mt!=null||jt!=null))switch(Ot){case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(r(137,s));break;default:Vn(n,s,Ot,Mt,u,jt)}return;default:if(Tc(s)){for(var Hn in l)Mt=l[Hn],l.hasOwnProperty(Hn)&&Mt!==void 0&&!u.hasOwnProperty(Hn)&&Cm(n,s,Hn,void 0,u,Mt);for(Ft in u)Mt=u[Ft],jt=l[Ft],!u.hasOwnProperty(Ft)||Mt===jt||Mt===void 0&&jt===void 0||Cm(n,s,Ft,Mt,u,jt);return}}for(var At in l)Mt=l[At],l.hasOwnProperty(At)&&Mt!=null&&!u.hasOwnProperty(At)&&Vn(n,s,At,null,u,Mt);for(Yt in u)Mt=u[Yt],jt=l[Yt],!u.hasOwnProperty(Yt)||Mt===jt||Mt==null&&jt==null||Vn(n,s,Yt,Mt,u,jt)}function V5(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o3(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],x=g.transferSize,M=g.initiatorType,K=g.duration;if(x&&K&&V5(M)){for(M=0,K=g.responseEnd,u+=1;u<l.length;u++){var ht=l[u],Ot=ht.startTime;if(Ot>K)break;var Ft=ht.transferSize,Yt=ht.initiatorType;Ft&&V5(Yt)&&(ht=ht.responseEnd,M+=Ft*(ht<K?1:(K-Ot)/(ht-Ot)))}if(--u,s+=8*(x+M)/(g.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Em=null,km=null;function Gd(n){return n.nodeType===9?n:n.ownerDocument}function H5(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G5(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Om(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Mm=null;function l3(){var n=window.event;return n&&n.type==="popstate"?n===Mm?!1:(Mm=n,!0):(Mm=null,!1)}var Y5=typeof setTimeout=="function"?setTimeout:void 0,c3=typeof clearTimeout=="function"?clearTimeout:void 0,W5=typeof Promise=="function"?Promise:void 0,u3=typeof queueMicrotask=="function"?queueMicrotask:typeof W5<"u"?function(n){return W5.resolve(null).then(n).catch(h3)}:Y5;function h3(n){setTimeout(function(){throw n})}function Zl(n){return n==="head"}function X5(n,s){var l=s,u=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(g),nh(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")mf(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,mf(l);for(var x=l.firstChild;x;){var M=x.nextSibling,K=x.nodeName;x[Vr]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=M}}else l==="body"&&mf(n.ownerDocument.body);l=g}while(l);nh(s)}function Z5(n,s){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function Lm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Lm(l),Xs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function f3(n,s,l,u){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Vr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=ua(n.nextSibling),n===null)break}return null}function d3(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=ua(n.nextSibling),n===null))return null;return n}function K5(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ua(n.nextSibling),n===null))return null;return n}function Dm(n){return n.data==="$?"||n.data==="$~"}function jm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function p3(n,s){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ua(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Rm=null;function $5(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(s===0)return ua(n.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}n=n.nextSibling}return null}function Q5(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return n;s--}else l!=="/$"&&l!=="/&"||s++}n=n.previousSibling}return null}function J5(n,s,l){switch(s=Gd(l),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function mf(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Xs(n)}var ha=new Map,tv=new Set;function Yd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ol=rt.d;rt.d={f:m3,r:g3,D:v3,C:y3,L:b3,m:x3,X:w3,S:_3,M:S3};function m3(){var n=ol.f(),s=Bd();return n||s}function g3(n){var s=Cs(n);s!==null&&s.tag===5&&s.type==="form"?v2(s):ol.r(n)}var Ju=typeof document>"u"?null:document;function ev(n,s,l){var u=Ju;if(u&&typeof s=="string"&&s){var g=Si(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),tv.has(g)||(tv.add(g),n={rel:n,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),Cr(s,"link",n),vi(s),u.head.appendChild(s)))}}function v3(n){ol.D(n),ev("dns-prefetch",n,null)}function y3(n,s){ol.C(n,s),ev("preconnect",n,s)}function b3(n,s,l){ol.L(n,s,l);var u=Ju;if(u&&n&&s){var g='link[rel="preload"][as="'+Si(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Si(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Si(l.imageSizes)+'"]')):g+='[href="'+Si(n)+'"]';var x=g;switch(s){case"style":x=th(n);break;case"script":x=eh(n)}ha.has(x)||(n=b({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),ha.set(x,n),u.querySelector(g)!==null||s==="style"&&u.querySelector(gf(x))||s==="script"&&u.querySelector(vf(x))||(s=u.createElement("link"),Cr(s,"link",n),vi(s),u.head.appendChild(s)))}}function x3(n,s){ol.m(n,s);var l=Ju;if(l&&n){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Si(u)+'"][href="'+Si(n)+'"]',x=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=eh(n)}if(!ha.has(x)&&(n=b({rel:"modulepreload",href:n},s),ha.set(x,n),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(vf(x)))return}u=l.createElement("link"),Cr(u,"link",n),vi(u),l.head.appendChild(u)}}}function _3(n,s,l){ol.S(n,s,l);var u=Ju;if(u&&n){var g=Zs(u).hoistableStyles,x=th(n);s=s||"default";var M=g.get(x);if(!M){var K={loading:0,preload:null};if(M=u.querySelector(gf(x)))K.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},l),(l=ha.get(x))&&Im(n,l);var ht=M=u.createElement("link");vi(ht),Cr(ht,"link",n),ht._p=new Promise(function(Ot,Ft){ht.onload=Ot,ht.onerror=Ft}),ht.addEventListener("load",function(){K.loading|=1}),ht.addEventListener("error",function(){K.loading|=2}),K.loading|=4,Wd(M,s,u)}M={type:"stylesheet",instance:M,count:1,state:K},g.set(x,M)}}}function w3(n,s){ol.X(n,s);var l=Ju;if(l&&n){var u=Zs(l).hoistableScripts,g=eh(n),x=u.get(g);x||(x=l.querySelector(vf(g)),x||(n=b({src:n,async:!0},s),(s=ha.get(g))&&Bm(n,s),x=l.createElement("script"),vi(x),Cr(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function S3(n,s){ol.M(n,s);var l=Ju;if(l&&n){var u=Zs(l).hoistableScripts,g=eh(n),x=u.get(g);x||(x=l.querySelector(vf(g)),x||(n=b({src:n,async:!0,type:"module"},s),(s=ha.get(g))&&Bm(n,s),x=l.createElement("script"),vi(x),Cr(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function nv(n,s,l,u){var g=(g=ot.current)?Yd(g):null;if(!g)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=th(l.href),l=Zs(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=th(l.href);var x=Zs(g).hoistableStyles,M=x.get(n);if(M||(g=g.ownerDocument||g,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,M),(x=g.querySelector(gf(n)))&&!x._p&&(M.instance=x,M.state.loading=5),ha.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ha.set(n,l),x||A3(g,n,l,M.state))),s&&u===null)throw Error(r(528,""));return M}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=eh(l),l=Zs(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function th(n){return'href="'+Si(n)+'"'}function gf(n){return'link[rel="stylesheet"]['+n+"]"}function iv(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function A3(n,s,l,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Cr(s,"link",l),vi(s),n.head.appendChild(s))}function eh(n){return'[src="'+Si(n)+'"]'}function vf(n){return"script[async]"+n}function rv(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Si(l.href)+'"]');if(u)return s.instance=u,vi(u),u;var g=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),vi(u),Cr(u,"style",g),Wd(u,l.precedence,n),s.instance=u;case"stylesheet":g=th(l.href);var x=n.querySelector(gf(g));if(x)return s.state.loading|=4,s.instance=x,vi(x),x;u=iv(l),(g=ha.get(g))&&Im(u,g),x=(n.ownerDocument||n).createElement("link"),vi(x);var M=x;return M._p=new Promise(function(K,ht){M.onload=K,M.onerror=ht}),Cr(x,"link",u),s.state.loading|=4,Wd(x,l.precedence,n),s.instance=x;case"script":return x=eh(l.src),(g=n.querySelector(vf(x)))?(s.instance=g,vi(g),g):(u=l,(g=ha.get(x))&&(u=b({},l),Bm(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),vi(g),Cr(g,"link",u),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Wd(u,l.precedence,n));return s.instance}function Wd(n,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,x=g,M=0;M<u.length;M++){var K=u[M];if(K.dataset.precedence===s)x=K;else if(x!==g)break}x?x.parentNode.insertBefore(n,x.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function Im(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Bm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Xd=null;function sv(n,s,l){if(Xd===null){var u=new Map,g=Xd=new Map;g.set(l,u)}else g=Xd,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var x=l[g];if(!(x[Vr]||x[wn]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var M=x.getAttribute(s)||"";M=n+M;var K=u.get(M);K?K.push(x):u.set(M,[x])}}return u}function av(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function N3(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ov(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function T3(n,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=th(u.href),x=s.querySelector(gf(g));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Zd.bind(n),s.then(n,n)),l.state.loading|=4,l.instance=x,vi(x);return}x=s.ownerDocument||s,u=iv(u),(g=ha.get(g))&&Im(u,g),x=x.createElement("link"),vi(x);var M=x;M._p=new Promise(function(K,ht){M.onload=K,M.onerror=ht}),Cr(x,"link",u),l.instance=x}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Zd.bind(n),s.addEventListener("load",l),s.addEventListener("error",l))}}var qm=0;function C3(n,s){return n.stylesheets&&n.count===0&&$d(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&$d(n,n.stylesheets),n.unsuspend){var x=n.unsuspend;n.unsuspend=null,x()}},6e4+s);0<n.imgBytes&&qm===0&&(qm=62500*o3());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&$d(n,n.stylesheets),n.unsuspend)){var x=n.unsuspend;n.unsuspend=null,x()}},(n.imgBytes>qm?50:800)+s);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Zd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Kd=null;function $d(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Kd=new Map,s.forEach(E3,n),Kd=null,Zd.call(n))}function E3(n,s){if(!(s.state.loading&4)){var l=Kd.get(n);if(l)var u=l.get(null);else{l=new Map,Kd.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var M=g[x];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(l.set(M.dataset.precedence,M),u=M)}u&&l.set(null,u)}g=s.instance,M=g.getAttribute("data-precedence"),x=l.get(M)||u,x===u&&l.set(null,g),l.set(M,g),this.count++,u=Zd.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),x?x.parentNode.insertBefore(g,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var yf={$$typeof:F,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function k3(n,s,l,u,g,x,M,K,ht){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tn(0),this.hiddenUpdates=Tn(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ht,this.incompleteTransitions=new Map}function lv(n,s,l,u,g,x,M,K,ht,Ot,Ft,Yt){return n=new k3(n,s,l,M,ht,Ot,Ft,Yt,K),s=1,x===!0&&(s|=24),x=dr(3,null,null,s),n.current=x,x.stateNode=n,s=Bl(),s.refCount++,n.pooledCache=s,s.refCount++,x.memoizedState={element:u,isDehydrated:l,cache:s},se(x),n}function cv(n){return n?(n=nr,n):nr}function uv(n,s,l,u,g,x){g=cv(g),u.context===null?u.context=g:u.pendingContext=g,u=Re(s),u.payload={element:l},x=x===void 0?null:x,x!==null&&(u.callback=x),l=Xe(n,u,s),l!==null&&(bs(l,n,s),kn(l,n,s))}function hv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function zm(n,s){hv(n,s),(n=n.alternate)&&hv(n,s)}function fv(n){if(n.tag===13||n.tag===31){var s=Ia(n,67108864);s!==null&&bs(s,n,67108864),zm(n,67108864)}}function dv(n){if(n.tag===13||n.tag===31){var s=Fs();s=Je(s);var l=Ia(n,s);l!==null&&bs(l,n,s),zm(n,s)}}var Qd=!0;function O3(n,s,l,u){var g=$.T;$.T=null;var x=rt.p;try{rt.p=2,Fm(n,s,l,u)}finally{rt.p=x,$.T=g}}function M3(n,s,l,u){var g=$.T;$.T=null;var x=rt.p;try{rt.p=8,Fm(n,s,l,u)}finally{rt.p=x,$.T=g}}function Fm(n,s,l,u){if(Qd){var g=Pm(u);if(g===null)Tm(n,s,u,Jd,l),mv(n,u);else if(D3(g,n,s,l,u))u.stopPropagation();else if(mv(n,u),s&4&&-1<L3.indexOf(n)){for(;g!==null;){var x=Cs(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var M=Jt(x.pendingLanes);if(M!==0){var K=x;for(K.pendingLanes|=2,K.entangledLanes|=2;M;){var ht=1<<31-Fe(M);K.entanglements[1]|=ht,M&=~ht}Ao(x),(Mn&6)===0&&(Rd=ke()+500,ff(0))}}break;case 31:case 13:K=Ia(x,2),K!==null&&bs(K,x,2),Bd(),zm(x,2)}if(x=Pm(u),x===null&&Tm(n,s,u,Jd,l),x===g)break;g=x}g!==null&&u.stopPropagation()}else Tm(n,s,u,null,l)}}function Pm(n){return n=Bo(n),Um(n)}var Jd=null;function Um(n){if(Jd=null,n=Ts(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=h(s),n!==null)return n;n=null}else if(l===31){if(n=c(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Jd=n,null}function pv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gt()){case Kt:return 2;case ce:return 8;case ge:case ae:return 32;case Te:return 268435456;default:return 32}default:return 32}}var Vm=!1,Kl=null,$l=null,Ql=null,bf=new Map,xf=new Map,Jl=[],L3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mv(n,s){switch(n){case"focusin":case"focusout":Kl=null;break;case"dragenter":case"dragleave":$l=null;break;case"mouseover":case"mouseout":Ql=null;break;case"pointerover":case"pointerout":bf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xf.delete(s.pointerId)}}function _f(n,s,l,u,g,x){return n===null||n.nativeEvent!==x?(n={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:x,targetContainers:[g]},s!==null&&(s=Cs(s),s!==null&&fv(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function D3(n,s,l,u,g){switch(s){case"focusin":return Kl=_f(Kl,n,s,l,u,g),!0;case"dragenter":return $l=_f($l,n,s,l,u,g),!0;case"mouseover":return Ql=_f(Ql,n,s,l,u,g),!0;case"pointerover":var x=g.pointerId;return bf.set(x,_f(bf.get(x)||null,n,s,l,u,g)),!0;case"gotpointercapture":return x=g.pointerId,xf.set(x,_f(xf.get(x)||null,n,s,l,u,g)),!0}return!1}function gv(n){var s=Ts(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=h(l),s!==null){n.blockedOn=s,Qi(n.priority,function(){dv(l)});return}}else if(s===31){if(s=c(l),s!==null){n.blockedOn=s,Qi(n.priority,function(){dv(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function tp(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Pm(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);ba=u,l.target.dispatchEvent(u),ba=null}else return s=Cs(l),s!==null&&fv(s),n.blockedOn=l,!1;s.shift()}return!0}function vv(n,s,l){tp(n)&&l.delete(s)}function j3(){Vm=!1,Kl!==null&&tp(Kl)&&(Kl=null),$l!==null&&tp($l)&&($l=null),Ql!==null&&tp(Ql)&&(Ql=null),bf.forEach(vv),xf.forEach(vv)}function ep(n,s){n.blockedOn===s&&(n.blockedOn=null,Vm||(Vm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,j3)))}var np=null;function yv(n){np!==n&&(np=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){np===n&&(np=null);for(var s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],g=n[s+2];if(typeof u!="function"){if(Um(u||l)===null)continue;break}var x=Cs(l);x!==null&&(n.splice(s,3),s-=3,P1(x,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function nh(n){function s(ht){return ep(ht,n)}Kl!==null&&ep(Kl,n),$l!==null&&ep($l,n),Ql!==null&&ep(Ql,n),bf.forEach(s),xf.forEach(s);for(var l=0;l<Jl.length;l++){var u=Jl[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Jl.length&&(l=Jl[0],l.blockedOn===null);)gv(l),l.blockedOn===null&&Jl.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],x=l[u+1],M=g[Wn]||null;if(typeof x=="function")M||yv(l);else if(M){var K=null;if(x&&x.hasAttribute("formAction")){if(g=x,M=x[Wn]||null)K=M.formAction;else if(Um(g)!==null)continue}else K=M.action;typeof K=="function"?l[u+1]=K:(l.splice(u,3),u-=3),yv(l)}}}function bv(){function n(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(M){return g=M})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function Hm(n){this._internalRoot=n}ip.prototype.render=Hm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=Fs();uv(l,u,n,s,null,null)},ip.prototype.unmount=Hm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;uv(n.current,2,null,n,null,null),Bd(),s[ji]=null}};function ip(n){this._internalRoot=n}ip.prototype.unstable_scheduleHydration=function(n){if(n){var s=Dn();n={blockedOn:null,target:n,priority:s};for(var l=0;l<Jl.length&&s!==0&&s<Jl[l].priority;l++);Jl.splice(l,0,n),l===0&&gv(n)}};var xv=t.version;if(xv!=="19.2.0")throw Error(r(527,xv,"19.2.0"));rt.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=d(s),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var R3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rp.isDisabled&&rp.supportsFiber)try{De=rp.inject(R3),we=rp}catch{}}return Sf.createRoot=function(n,s){if(!a(n))throw Error(r(299));var l=!1,u="",g=C2,x=E2,M=k2;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError)),s=lv(n,1,!1,null,null,l,u,null,g,x,M,bv),n[ji]=s.current,Nm(n),new Hm(s)},Sf.hydrateRoot=function(n,s,l){if(!a(n))throw Error(r(299));var u=!1,g="",x=C2,M=E2,K=k2,ht=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(M=l.onCaughtError),l.onRecoverableError!==void 0&&(K=l.onRecoverableError),l.formState!==void 0&&(ht=l.formState)),s=lv(n,1,!0,s,l??null,u,g,ht,x,M,K,bv),s.context=cv(null),l=s.current,u=Fs(),u=Je(u),g=Re(u),g.callback=null,Xe(l,g,u),l=u,s.current.lanes=l,he(s,l),Ao(s),n[ji]=s.current,Nm(n),new ip(s)},Sf.version="19.2.0",Sf}var Ov;function G3(){if(Ov)return Wm.exports;Ov=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Wm.exports=H3(),Wm.exports}var Y3=G3();const Mv=i=>{let t;const e=new Set,r=(d,m)=>{const b=typeof d=="function"?d(t):d;if(!Object.is(b,t)){const w=t;t=m??(typeof b!="object"||b===null)?b:Object.assign({},t,b),e.forEach(y=>y(t,w))}},a=()=>t,c={setState:r,getState:a,getInitialState:()=>f,subscribe:d=>(e.add(d),()=>e.delete(d))},f=t=i(r,a,c);return c},W3=(i=>i?Mv(i):Mv),X3=i=>i;function Z3(i,t=X3){const e=vn.useSyncExternalStore(i.subscribe,vn.useCallback(()=>t(i.getState()),[i,t]),vn.useCallback(()=>t(i.getInitialState()),[i,t]));return vn.useDebugValue(e),e}const K3=i=>{const t=W3(i),e=r=>Z3(t,r);return Object.assign(e,t),e},$3=(i=>K3);function Q3(i,t){let e;try{e=i()}catch{return}return{getItem:a=>{var o;const h=f=>f===null?null:JSON.parse(f,void 0),c=(o=e.getItem(a))!=null?o:null;return c instanceof Promise?c.then(h):h(c)},setItem:(a,o)=>e.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>e.removeItem(a)}}const C0=i=>t=>{try{const e=i(t);return e instanceof Promise?e:{then(r){return C0(r)(e)},catch(r){return this}}}catch(e){return{then(r){return this},catch(r){return C0(r)(e)}}}},J3=(i,t)=>(e,r,a)=>{let o={storage:Q3(()=>localStorage),partialize:N=>N,version:0,merge:(N,k)=>({...k,...N}),...t},h=!1;const c=new Set,f=new Set;let d=o.storage;if(!d)return i((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),e(...N)},r,a);const m=()=>{const N=o.partialize({...r()});return d.setItem(o.name,{state:N,version:o.version})},b=a.setState;a.setState=(N,k)=>(b(N,k),m());const w=i((...N)=>(e(...N),m()),r,a);a.getInitialState=()=>w;let y;const A=()=>{var N,k;if(!d)return;h=!1,c.forEach(P=>{var F;return P((F=r())!=null?F:w)});const T=((k=o.onRehydrateStorage)==null?void 0:k.call(o,(N=r())!=null?N:w))||void 0;return C0(d.getItem.bind(d))(o.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==o.version){if(o.migrate){const F=o.migrate(P.state,P.version);return F instanceof Promise?F.then(I=>[!0,I]):[!0,F]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var F;const[I,B]=P;if(y=o.merge(B,(F=r())!=null?F:w),e(y,!0),I)return m()}).then(()=>{T?.(y,void 0),y=r(),h=!0,f.forEach(P=>P(y))}).catch(P=>{T?.(void 0,P)})};return a.persist={setOptions:N=>{o={...o,...N},N.storage&&(d=N.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>A(),hasHydrated:()=>h,onHydrate:N=>(c.add(N),()=>{c.delete(N)}),onFinishHydration:N=>(f.add(N),()=>{f.delete(N)})},o.skipHydration||A(),y||w},t4=J3,$c=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Of=["C","G","D","A","E","B","F#","Db","Ab","Eb","Bb","F"],e4=[{major:"C",ii:"Dm",iii:"Em",diminished:"B"},{major:"G",ii:"Am",iii:"Bm",diminished:"F#"},{major:"D",ii:"Em",iii:"F#m",diminished:"C#"},{major:"A",ii:"Bm",iii:"C#m",diminished:"G#"},{major:"E",ii:"F#m",iii:"G#m",diminished:"D#"},{major:"B",ii:"C#m",iii:"D#m",diminished:"A#"},{major:"F#",ii:"G#m",iii:"A#m",diminished:"E#"},{major:"Db",ii:"Ebm",iii:"Fm",diminished:"C"},{major:"Ab",ii:"Bbm",iii:"Cm",diminished:"G"},{major:"Eb",ii:"Fm",iii:"Gm",diminished:"D"},{major:"Bb",ii:"Cm",iii:"Dm",diminished:"A"},{major:"F",ii:"Gm",iii:"Am",diminished:"E"}];function fl(i){return i.includes("b")&&{Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#",Cb:"B",Fb:"E"}[i]||i}const n4={7:"dominant7",9:"dominant9",11:"dominant11",13:"dominant13",maj7:"major7",maj9:"major9",maj11:"major11",maj13:"major13",6:"major6",add9:"add9",m7:"minor7",m9:"minor9",m11:"minor11",m13:"minor13",m6:"minor6",dim:"diminished",dim7:"diminished7",m7b5:"halfDiminished7","m75":"halfDiminished7",7:"halfDiminished7",sus2:"sus2",sus4:"sus4","7sus4":"dominant7sus4"},i4={major:[0,4,7],minor:[0,3,7],diminished:[0,3,6],augmented:[0,4,8],sus2:[0,2,7],sus4:[0,5,7],major6:[0,4,7,9],minor6:[0,3,7,9],major7:[0,4,7,11],minor7:[0,3,7,10],dominant7:[0,4,7,10],diminished7:[0,3,6,9],halfDiminished7:[0,3,6,10],dominant7sus4:[0,5,7,10],add9:[0,4,7,14],major9:[0,4,7,11,14],minor9:[0,3,7,10,14],dominant9:[0,4,7,10,14],major11:[0,4,7,11,14,17],minor11:[0,3,7,10,14,17],dominant11:[0,4,7,10,14,17],major13:[0,4,7,11,14,21],minor13:[0,3,7,10,14,21],dominant13:[0,4,7,10,14,21]};function uh(i,t){const e=fl(i),r=$c.indexOf(e);if(r===-1)return[];const a=n4[t]||t,o=i4[a];return o?o.map(h=>$c[(r+h)%12]):(console.warn(`Unknown chord quality: ${t} (resolved to ${a})`),$c.slice(r,r+1).concat([$c[(r+4)%12],$c[(r+7)%12]]))}function r4(i){const t=["G","D","A","E","B","F#","C#"],e=["F","Bb","Eb","Ab","Db","Gb","Cb"],r=t.indexOf(i),a=e.indexOf(i);return r>=0?{sharps:r+1,flats:0}:a>=0?{sharps:0,flats:a+1}:{sharps:0,flats:0}}function ng(){return{C:"hsl(48, 95%, 58%)",G:"hsl(72, 75%, 50%)",D:"hsl(95, 65%, 48%)",A:"hsl(160, 60%, 45%)",E:"hsl(185, 70%, 50%)",B:"hsl(205, 75%, 55%)","F#":"hsl(235, 60%, 58%)",Gb:"hsl(235, 60%, 58%)",Db:"hsl(265, 55%, 55%)",Ab:"hsl(285, 50%, 52%)",Eb:"hsl(315, 60%, 55%)",Bb:"hsl(350, 70%, 58%)",F:"hsl(28, 85%, 55%)"}}function s4(i,t){const e=fl(i),r=fl(t),a=$c.indexOf(e),o=$c.indexOf(r);if(a===-1||o===-1)return"?";let h=(o-a+12)%12;return{0:"1",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[h]||"?"}function a4(i){const t=i.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);return t?parseInt(t[3])>55?"#000000":"#ffffff":"#000000"}const kr=[];for(let i=0;i<256;++i)kr.push((i+256).toString(16).slice(1));function o4(i,t=0){return(kr[i[t+0]]+kr[i[t+1]]+kr[i[t+2]]+kr[i[t+3]]+"-"+kr[i[t+4]]+kr[i[t+5]]+"-"+kr[i[t+6]]+kr[i[t+7]]+"-"+kr[i[t+8]]+kr[i[t+9]]+"-"+kr[i[t+10]]+kr[i[t+11]]+kr[i[t+12]]+kr[i[t+13]]+kr[i[t+14]]+kr[i[t+15]]).toLowerCase()}let $m;const l4=new Uint8Array(16);function c4(){if(!$m){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$m=crypto.getRandomValues.bind(crypto)}return $m(l4)}const u4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Lv={randomUUID:u4};function h4(i,t,e){i=i||{};const r=i.random??i.rng?.()??c4();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,o4(r)}function Ga(i,t,e){return Lv.randomUUID&&!i?Lv.randomUUID():h4(i)}const _s=[4,4],E0=(i=_s)=>{const[t,e]=i;return!t||!e?4:t*(4/e)},hh=i=>{const t=E0(i);return{id:Ga(),beats:[{id:Ga(),chord:null,duration:t}]}},No=i=>i?`${i.sectionId}:${i.slotId}`:"",ig=i=>{const t=[];return i.forEach(e=>{e.measures.forEach(r=>{r.beats.forEach(a=>{t.push({sectionId:e.id,slotId:a.id,chord:a.chord??null})})})}),t},Zc=(i,t)=>{if(!t)return null;for(const e of i)if(e.id===t.sectionId){for(const r of e.measures)for(const a of r.beats)if(a.id===t.slotId)return a.chord??null}return null},Dv=(i,t)=>t?ig(i).findIndex(r=>r.sectionId===t.sectionId&&r.slotId===t.slotId):-1,f4=(i,t,e)=>{const r=ig(i),a=r.findIndex(f=>f.sectionId===t.sectionId&&f.slotId===t.slotId),o=r.findIndex(f=>f.sectionId===e.sectionId&&f.slotId===e.slotId);if(a===-1||o===-1)return[];const[h,c]=a<=o?[a,o]:[o,a];return r.slice(h,c+1).map(({sectionId:f,slotId:d})=>({sectionId:f,slotId:d}))},_p=(i,t)=>t?i.some(e=>e.id===t.sectionId&&e.measures.some(r=>r.beats.some(a=>a.id===t.slotId))):!1,ah=(i,t,e,r,a)=>{const o=t&&e?{sectionId:t,slotId:e}:null,h=r.filter(m=>_p(i,m)),c=_p(i,o),f=h[h.length-1]||(c?o:null),d=a&&_p(i,a);return{selectedSectionId:f?.sectionId??null,selectedSlotId:f?.slotId??null,selectedSlots:h,selectionAnchor:d?a:h[0]??f??null}},k0=100,Ef=i=>typeof structuredClone=="function"?structuredClone(i):JSON.parse(JSON.stringify(i)),Er=i=>{const t=Ef(i.currentSong),e=[...i.historyPast,t].slice(-k0);return{historyPast:e,historyFuture:[],canUndo:e.length>0,canRedo:!1}},jv=(i,t,e,r,a)=>{const o=ah(i.sections,t,e,r,a),h=o.selectedSectionId&&o.selectedSlotId?{sectionId:o.selectedSectionId,slotId:o.selectedSlotId}:null,c=h?Zc(i.sections,h):null;return{...o,selectedChord:c}},d4=(i,t,e)=>{let r=!1;for(const a of i)for(const o of a.measures)for(const h of o.beats){if(r)return{sectionId:a.id,slotId:h.id};a.id===t&&h.id===e&&(r=!0)}return null},Af={id:"default",title:"Untitled Song",artist:"",key:"C",tempo:120,timeSignature:[4,4],sections:[{id:"verse-1",name:"Verse 1",type:"verse",timeSignature:_s,measures:Array(4).fill(null).map(()=>hh(_s))},{id:"chorus-1",name:"Chorus",type:"chorus",timeSignature:_s,measures:Array(4).fill(null).map(()=>hh(_s))}],notes:"",createdAt:new Date,updatedAt:new Date},Di=$3()(t4(i=>({currentSong:Af,historyPast:[],historyFuture:[],canUndo:!1,canRedo:!1,selectedKey:"C",wheelRotation:0,wheelMode:"fixed",chordPanelVisible:!0,timelineVisible:!0,collapsedSections:{},selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,isPlaying:!1,playingSectionId:null,playingSlotId:null,isLooping:!1,tempo:120,volume:.8,instrument:"piano",isMuted:!1,setKey:t=>i({selectedKey:t}),rotateWheel:t=>i(e=>({wheelRotation:e.wheelMode==="rotating"?e.wheelRotation+(t==="cw"?-30:30):0})),toggleWheelMode:()=>i(t=>{const e=t.wheelMode==="rotating"?"fixed":"rotating";let r=0;if(e==="rotating"){const a=Of.indexOf(t.selectedKey);a!==-1&&(r=-(a*30))}return{wheelMode:e,wheelRotation:r}}),toggleChordPanel:()=>i(t=>({chordPanelVisible:!t.chordPanelVisible})),toggleTimeline:()=>i(t=>({timelineVisible:!t.timelineVisible})),toggleSectionCollapsed:t=>i(e=>{const r={...e.collapsedSections,[t]:!e.collapsedSections?.[t]};return r[t]||delete r[t],{collapsedSections:r}}),setSelectedChord:t=>i({selectedChord:t}),setSelectedSlot:(t,e)=>i(r=>{if(!t||!e)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,selectedChord:null};const a={sectionId:t,slotId:e},o=Zc(r.currentSong.sections,a);return{selectedSectionId:t,selectedSlotId:e,selectedSlots:[a],selectionAnchor:a,selectedChord:o??null}}),setSelectedSlots:t=>i(e=>{const r=t.filter(Boolean),a=r[r.length-1]??null,o=Zc(e.currentSong.sections,a);return{selectedSlots:r,selectedSectionId:a?.sectionId??null,selectedSlotId:a?.slotId??null,selectionAnchor:r[0]??a??null,selectedChord:o??null}}),toggleSlotSelection:(t,e)=>i(r=>{const a=r.selectedSlots.some(d=>d.sectionId===t&&d.slotId===e),o=a?r.selectedSlots.filter(d=>!(d.sectionId===t&&d.slotId===e)):[...r.selectedSlots,{sectionId:t,slotId:e}],h=o[o.length-1]??null,c=Zc(r.currentSong.sections,h),f=a&&r.selectionAnchor&&No(r.selectionAnchor)===No({sectionId:t,slotId:e});return{selectedSlots:o,selectedSectionId:h?.sectionId??null,selectedSlotId:h?.slotId??null,selectionAnchor:f?o[0]??h??null:r.selectionAnchor??h??null,selectedChord:c??null}}),selectRangeTo:(t,e)=>i(r=>{const a={sectionId:t,slotId:e},o=r.selectionAnchor||r.selectedSlots[r.selectedSlots.length-1]||(r.selectedSectionId&&r.selectedSlotId?{sectionId:r.selectedSectionId,slotId:r.selectedSlotId}:a),c=_p(r.currentSong.sections,o)?o:a,f=f4(r.currentSong.sections,c,a),d=f.length?f:[a],m=Zc(r.currentSong.sections,a);return{selectedSlots:d,selectedSectionId:a.sectionId,selectedSlotId:a.slotId,selectionAnchor:c,selectedChord:m??null}}),moveSelection:(t,e,r="move")=>{let a=!1;return i(o=>{const h=ig(o.currentSong.sections),c=Dv(o.currentSong.sections,t),f=Dv(o.currentSong.sections,e);if(c===-1||f===-1)return{};const m=(o.selectedSlots.length?o.selectedSlots:[t]).map(D=>{const R=h.findIndex(Z=>Z.sectionId===D.sectionId&&Z.slotId===D.slotId);return R>=0?{idx:R,slot:h[R]}:null}).filter(D=>!!D).sort((D,R)=>D.idx-R.idx);if(!m.length)return{};const b=f-c,w=m.map(({idx:D})=>D+b);if(w.some(D=>D<0||D>=h.length))return{};const y=w.map(D=>h[D]);if(m.length===1&&r==="move"){const D=m[0].slot,R=y[0],Z=Er(o),C=o.currentSong.sections.map($=>({...$,measures:$.measures.map(rt=>({...rt,beats:rt.beats.map(ct=>ct.id===D.slotId&&$.id===D.sectionId?{...ct,chord:R.chord}:ct.id===R.slotId&&$.id===R.sectionId?{...ct,chord:D.chord}:ct)}))}));a=!0;const j=o.selectionAnchor&&No(o.selectionAnchor)===No(t),U=ah(C,e.sectionId,e.slotId,[{sectionId:R.sectionId,slotId:R.slotId}],j?{sectionId:R.sectionId,slotId:R.slotId}:o.selectionAnchor),J=U.selectedSectionId&&U.selectedSlotId?{sectionId:U.selectedSectionId,slotId:U.selectedSlotId}:null,ut=Zc(C,J);return{...Z,currentSong:{...o.currentSong,sections:C},selectedSectionId:U.selectedSectionId,selectedSlotId:U.selectedSlotId,selectedSlots:U.selectedSlots,selectionAnchor:U.selectionAnchor,selectedChord:ut??null}}const A=new Map;m.forEach((D,R)=>{A.set(No(y[R]),D.slot.chord??null)});const N=new Set;r==="move"&&m.forEach((D,R)=>{const Z=No(D.slot),C=No(y[R]);Z!==C&&N.add(Z)});const k=Er(o),T=o.currentSong.sections.map(D=>({...D,measures:D.measures.map(R=>({...R,beats:R.beats.map(Z=>{const C=No({sectionId:D.id,slotId:Z.id});return A.has(C)?{...Z,chord:A.get(C)??null}:N.has(C)?{...Z,chord:null}:Z})}))}));a=!0;const P=No(o.selectionAnchor),F=m.find(D=>No(D.slot)===P),I=F?{sectionId:y[m.indexOf(F)].sectionId,slotId:y[m.indexOf(F)].slotId}:o.selectionAnchor,B=ah(T,e.sectionId,e.slotId,y.map(D=>({sectionId:D.sectionId,slotId:D.slotId})),I??null),Q=B.selectedSectionId&&B.selectedSlotId?{sectionId:B.selectedSectionId,slotId:B.selectedSlotId}:null,Y=Zc(T,Q);return{...k,currentSong:{...o.currentSong,sections:T},selectedSectionId:B.selectedSectionId,selectedSlotId:B.selectedSlotId,selectedSlots:B.selectedSlots,selectionAnchor:B.selectionAnchor,selectedChord:Y??null}}),a},selectNextSlotAfter:(t,e)=>{let r=!1;return i(a=>{const o=d4(a.currentSong.sections,t,e);if(!o)return{};const h=a.currentSong.sections.find(c=>c.id===o.sectionId)?.measures.flatMap(c=>c.beats).find(c=>c.id===o.slotId)?.chord??null;return r=!0,{selectedSectionId:o.sectionId,selectedSlotId:o.slotId,selectedChord:h,selectedSlots:[{sectionId:o.sectionId,slotId:o.slotId}],selectionAnchor:{sectionId:o.sectionId,slotId:o.slotId}}}),r},setTempo:t=>i(e=>({...Er(e),tempo:t,currentSong:{...e.currentSong,tempo:t}})),setVolume:t=>i({volume:t}),setInstrument:t=>i({instrument:t}),setIsPlaying:t=>i({isPlaying:t}),setPlayingSlot:(t,e)=>i({playingSectionId:t,playingSlotId:e}),toggleLoop:()=>i(t=>({isLooping:!t.isLooping})),toggleMute:()=>i(t=>({isMuted:!t.isMuted})),setTitle:t=>i(e=>({...Er(e),currentSong:{...e.currentSong,title:t}})),loadSong:t=>i(e=>{const r=t.key||"C",a=t.tempo??Af.tempo;let o=0;if(e.wheelMode==="rotating"){const c=Of.indexOf(r);c!==-1&&(o=-(c*30))}return{...Er(e),currentSong:{...t,tempo:a},selectedKey:r,wheelRotation:o,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:a}}),newSong:()=>i(t=>({...Er(t),currentSong:{...Af,id:Ga(),title:"Untitled Song",createdAt:new Date,updatedAt:new Date,tempo:Af.tempo,sections:[{id:Ga(),name:"Verse 1",type:"verse",timeSignature:_s,measures:Array(4).fill(null).map(()=>hh(_s))},{id:Ga(),name:"Chorus",type:"chorus",timeSignature:_s,measures:Array(4).fill(null).map(()=>hh(_s))}]},selectedKey:"C",wheelRotation:0,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:Af.tempo})),addSection:t=>i(e=>{const r={id:Ga(),name:t.charAt(0).toUpperCase()+t.slice(1),type:t,timeSignature:e.currentSong.timeSignature||_s,measures:Array(4).fill(null).map(()=>hh(e.currentSong.timeSignature||_s))};return{...Er(e),currentSong:{...e.currentSong,sections:[...e.currentSong.sections,r]}}}),updateSection:(t,e)=>i(r=>({...Er(r),currentSong:{...r.currentSong,sections:r.currentSong.sections.map(o=>o.id===t?{...o,...e}:o)}})),removeSection:t=>i(e=>{const r=Er(e),{[t]:a,...o}=e.collapsedSections||{};return{...r,currentSong:{...e.currentSong,sections:e.currentSong.sections.filter(h=>h.id!==t)},collapsedSections:o}}),duplicateSection:t=>i(e=>{const r=e.currentSong.sections.find(f=>f.id===t);if(!r)return{};const a=Er(e),o={...r,id:Ga(),name:`${r.name} (Copy)`,timeSignature:r.timeSignature||e.currentSong.timeSignature||_s,measures:r.measures.map(f=>({...f,id:Ga(),beats:f.beats.map(d=>({...d,id:Ga()}))}))},h=e.currentSong.sections.findIndex(f=>f.id===t),c=[...e.currentSong.sections];return c.splice(h+1,0,o),{...a,currentSong:{...e.currentSong,sections:c}}}),reorderSections:t=>i(e=>({...Er(e),currentSong:{...e.currentSong,sections:t}})),setSectionMeasures:(t,e)=>i(r=>{const a=Math.max(1,Math.min(32,Math.round(e))),o=r.currentSong.sections.map(f=>{if(f.id!==t)return f;const d=f.timeSignature||r.currentSong.timeSignature||_s;let m=[...f.measures];if(m.length<a)for(;m.length<a;)m.push(hh(d));else m.length>a&&(m=m.slice(0,a));return{...f,measures:m}}),h=ah(o,r.selectedSectionId,r.selectedSlotId,r.selectedSlots,r.selectionAnchor);return{...Er(r),currentSong:{...r.currentSong,sections:o},...h}}),setSectionTimeSignature:(t,e)=>i(r=>{const a=r.currentSong.sections.map(c=>{if(c.id!==t)return c;const f=E0(e);return{...c,timeSignature:e,measures:c.measures.map(d=>({...d,beats:[{id:Ga(),chord:null,duration:f}]}))}}),o=ah(a,r.selectedSectionId,r.selectedSlotId,r.selectedSlots,r.selectionAnchor);return{...Er(r),currentSong:{...r.currentSong,sections:a},...o}}),setMeasureSubdivision:(t,e,r)=>i(a=>{const o=Math.max(1,Math.min(16,Math.round(r))),h=a.currentSong.sections.map(d=>{if(d.id!==t)return d;const m=d.timeSignature||a.currentSong.timeSignature||_s,b=E0(m);return{...d,measures:d.measures.map(w=>{if(w.id!==e)return w;const y=b/o,A=Array.from({length:o}).map((N,k)=>{const T=w.beats[k];return{id:T?.id??Ga(),chord:T?.chord??null,duration:y}});return{...w,beats:A}})}}),c=ah(h,a.selectedSectionId,a.selectedSlotId,a.selectedSlots,a.selectionAnchor);return{...Er(a),currentSong:{...a.currentSong,sections:h},...c}}),addChordToSlot:(t,e,r)=>i(a=>{const o=Er(a),h=a.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==r?d:{...d,chord:t})}))});return{...o,currentSong:{...a.currentSong,sections:h}}}),clearSlot:(t,e)=>i(r=>{if(!r.currentSong.sections.some(c=>c.id===t&&c.measures.some(f=>f.beats.some(d=>d.id===e&&d.chord))))return{};const o=Er(r),h=r.currentSong.sections.map(c=>c.id!==t?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==e?d:{...d,chord:null})}))});return{...o,currentSong:{...r.currentSong,sections:h}}}),moveChord:(t,e,r,a)=>i(o=>{let h=null,c=null;if(o.currentSong.sections.forEach(m=>{m.measures.forEach(b=>{b.beats.forEach(w=>{w.id===e&&(h=w.chord),w.id===a&&(c=w.chord)})})}),!h&&!c)return{};const f=Er(o),d=o.currentSong.sections.map(m=>({...m,measures:m.measures.map(b=>({...b,beats:b.beats.map(w=>w.id===e?{...w,chord:c}:w.id===a?{...w,chord:h}:w)}))}));return{...f,currentSong:{...o.currentSong,sections:d}}}),undo:()=>i(t=>{if(!t.historyPast.length)return{};const e=t.historyPast[t.historyPast.length-1],r=t.historyPast.slice(0,-1),a=[Ef(t.currentSong),...t.historyFuture].slice(0,k0),o=jv(e,t.selectedSectionId,t.selectedSlotId,t.selectedSlots,t.selectionAnchor);return{currentSong:Ef(e),historyPast:r,historyFuture:a,canUndo:r.length>0,canRedo:a.length>0,tempo:e.tempo??t.tempo,...o}}),redo:()=>i(t=>{if(!t.historyFuture.length)return{};const e=t.historyFuture[0],r=t.historyFuture.slice(1),a=[...t.historyPast,Ef(t.currentSong)].slice(-k0),o=jv(e,t.selectedSectionId,t.selectedSlotId,t.selectedSlots,t.selectionAnchor);return{currentSong:Ef(e),historyPast:a,historyFuture:r,canUndo:a.length>0,canRedo:r.length>0,tempo:e.tempo??t.tempo,...o}})}),{name:"songwriter-wheel-storage",partialize:i=>({currentSong:i.currentSong,tempo:i.tempo,volume:i.volume,instrument:i.instrument,isMuted:i.isMuted})}));function ac(i,t,e,r){const a=(r-90)*Math.PI/180;return{x:i+e*Math.cos(a),y:t+e*Math.sin(a)}}function p4(i,t,e,r,a){const o=ac(i,t,e,r),h=ac(i,t,e,a),c=a-r<=180?"0":"1";return["M",o.x,o.y,"A",e,e,0,c,1,h.x,h.y].join(" ")}function m4(i,t,e,r,a,o){const h=ac(i,t,r,o),c=ac(i,t,r,a),f=ac(i,t,e,o),d=ac(i,t,e,a),m=o-a<=180?"0":"1";return["M",h.x,h.y,"A",r,r,0,m,0,c.x,c.y,"L",d.x,d.y,"A",e,e,0,m,1,f.x,f.y,"Z"].join(" ")}function Pb(i){var t,e,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(t=0;t<a;t++)i[t]&&(e=Pb(i[t]))&&(r&&(r+=" "),r+=e)}else for(e in i)i[e]&&(r&&(r+=" "),r+=e);return r}function Us(){for(var i,t,e=0,r="",a=arguments.length;e<a;e++)(i=arguments[e])&&(t=Pb(i))&&(r&&(r+=" "),r+=t);return r}const Ub="15.1.22",Rv=(i,t,e)=>({endTime:t,insertTime:e,type:"exponentialRampToValue",value:i}),Iv=(i,t,e)=>({endTime:t,insertTime:e,type:"linearRampToValue",value:i}),O0=(i,t)=>({startTime:t,type:"setValue",value:i}),Vb=(i,t,e)=>({duration:e,startTime:t,type:"setValueCurve",values:i}),Hb=(i,t,{startTime:e,target:r,timeConstant:a})=>r+(t-r)*Math.exp((e-i)/a),fh=i=>i.type==="exponentialRampToValue",Lp=i=>i.type==="linearRampToValue",rc=i=>fh(i)||Lp(i),rg=i=>i.type==="setValue",ul=i=>i.type==="setValueCurve",Dp=(i,t,e,r)=>{const a=i[t];return a===void 0?r:rc(a)||rg(a)?a.value:ul(a)?a.values[a.values.length-1]:Hb(e,Dp(i,t-1,a.startTime,r),a)},Bv=(i,t,e,r,a)=>e===void 0?[r.insertTime,a]:rc(e)?[e.endTime,e.value]:rg(e)?[e.startTime,e.value]:ul(e)?[e.startTime+e.duration,e.values[e.values.length-1]]:[e.startTime,Dp(i,t-1,e.startTime,a)],M0=i=>i.type==="cancelAndHold",L0=i=>i.type==="cancelScheduledValues",ec=i=>M0(i)||L0(i)?i.cancelTime:fh(i)||Lp(i)?i.endTime:i.startTime,qv=(i,t,e,{endTime:r,value:a})=>e===a?a:0<e&&0<a||e<0&&a<0?e*(a/e)**((i-t)/(r-t)):0,zv=(i,t,e,{endTime:r,value:a})=>e+(i-t)/(r-t)*(a-e),g4=(i,t)=>{const e=Math.floor(t),r=Math.ceil(t);return e===r?i[e]:(1-(t-e))*i[e]+(1-(r-t))*i[r]},v4=(i,{duration:t,startTime:e,values:r})=>{const a=(i-e)/t*(r.length-1);return g4(r,a)},sp=i=>i.type==="setTarget";class y4{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const e=ec(t);if(M0(t)||L0(t)){const r=this._automationEvents.findIndex(o=>L0(t)&&ul(o)?o.startTime+o.duration>=e:ec(o)>=e),a=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),M0(t)){const o=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&rc(a)){if(o!==void 0&&sp(o))throw new Error("The internal list is malformed.");const h=o===void 0?a.insertTime:ul(o)?o.startTime+o.duration:ec(o),c=o===void 0?this._defaultValue:ul(o)?o.values[o.values.length-1]:o.value,f=fh(a)?qv(e,h,c,a):zv(e,h,c,a),d=fh(a)?Rv(f,e,this._currenTime):Iv(f,e,this._currenTime);this._automationEvents.push(d)}if(o!==void 0&&sp(o)&&this._automationEvents.push(O0(this.getValue(e),e)),o!==void 0&&ul(o)&&o.startTime+o.duration>e){const h=e-o.startTime,c=(o.values.length-1)/o.duration,f=Math.max(2,1+Math.ceil(h*c)),d=h/(f-1)*c,m=o.values.slice(0,f);if(d<1)for(let b=1;b<f;b+=1){const w=d*b%1;m[b]=o.values[b-1]*(1-w)+o.values[b]*w}this._automationEvents[this._automationEvents.length-1]=Vb(m,o.startTime,h)}}}else{const r=this._automationEvents.findIndex(h=>ec(h)>e),a=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(a!==void 0&&ul(a)&&ec(a)+a.duration>e)return!1;const o=fh(t)?Rv(t.value,t.endTime,this._currenTime):Lp(t)?Iv(t.value,e,this._currenTime):t;if(r===-1)this._automationEvents.push(o);else{if(ul(t)&&e+t.duration>ec(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,o)}}return!0}flush(t){const e=this._automationEvents.findIndex(r=>ec(r)>t);if(e>1){const r=this._automationEvents.slice(e-1),a=r[0];sp(a)&&r.unshift(O0(Dp(this._automationEvents,e-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=r}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const e=this._automationEvents.findIndex(h=>ec(h)>t),r=this._automationEvents[e],a=(e===-1?this._automationEvents.length:e)-1,o=this._automationEvents[a];if(o!==void 0&&sp(o)&&(r===void 0||!rc(r)||r.insertTime>t))return Hb(t,Dp(this._automationEvents,a-1,o.startTime,this._defaultValue),o);if(o!==void 0&&rg(o)&&(r===void 0||!rc(r)))return o.value;if(o!==void 0&&ul(o)&&(r===void 0||!rc(r)||o.startTime+o.duration>t))return t<o.startTime+o.duration?v4(t,o):o.values[o.values.length-1];if(o!==void 0&&rc(o)&&(r===void 0||!rc(r)))return o.value;if(r!==void 0&&fh(r)){const[h,c]=Bv(this._automationEvents,a,o,r,this._defaultValue);return qv(t,h,c,r)}if(r!==void 0&&Lp(r)){const[h,c]=Bv(this._automationEvents,a,o,r,this._defaultValue);return zv(t,h,c,r)}return this._defaultValue}}const b4=i=>({cancelTime:i,type:"cancelAndHold"}),x4=i=>({cancelTime:i,type:"cancelScheduledValues"}),_4=(i,t)=>({endTime:t,type:"exponentialRampToValue",value:i}),w4=(i,t)=>({endTime:t,type:"linearRampToValue",value:i}),S4=(i,t,e)=>({startTime:t,target:i,timeConstant:e,type:"setTarget"}),A4=()=>new DOMException("","AbortError"),N4=i=>(t,e,[r,a,o],h)=>{i(t[a],[e,r,o],c=>c[0]===e&&c[1]===r,h)},T4=i=>(t,e,r)=>{const a=[];for(let o=0;o<r.numberOfInputs;o+=1)a.push(new Set);i.set(t,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:e})},C4=i=>(t,e)=>{i.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})},Ah=new WeakSet,Gb=new WeakMap,sg=new WeakMap,Yb=new WeakMap,ag=new WeakMap,s1=new WeakMap,Wb=new WeakMap,D0=new WeakMap,j0=new WeakMap,R0=new WeakMap,Xb={construct(){return Xb}},E4=i=>{try{const t=new Proxy(i,Xb);new t}catch{return!1}return!0},Fv=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Pv=(i,t)=>{const e=[];let r=i.replace(/^[\s]+/,""),a=r.match(Fv);for(;a!==null;){const o=a[1].slice(1,-1),h=a[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,t).toString());e.push(h),r=r.slice(a[0].length).replace(/^[\s]+/,""),a=r.match(Fv)}return[e.join(";"),r]},Uv=i=>{if(i!==void 0&&!Array.isArray(i))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Vv=i=>{if(!E4(i))throw new TypeError("The given value for processorCtor should be a constructor.");if(i.prototype===null||typeof i.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},k4=(i,t,e,r,a,o,h,c,f,d,m,b,w)=>{let y=0;return(A,N,k={credentials:"omit"})=>{const T=m.get(A);if(T!==void 0&&T.has(N))return Promise.resolve();const P=d.get(A);if(P!==void 0){const B=P.get(N);if(B!==void 0)return B}const F=o(A),I=F.audioWorklet===void 0?a(N).then(([B,Q])=>{const[Y,D]=Pv(B,Q),R=`${Y};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${D}
})})(window,'_AWGS')`;return e(R)}).then(()=>{const B=w._AWGS.pop();if(B===void 0)throw new SyntaxError;r(F.currentTime,F.sampleRate,()=>B(class{},void 0,(Q,Y)=>{if(Q.trim()==="")throw t();const D=j0.get(F);if(D!==void 0){if(D.has(Q))throw t();Vv(Y),Uv(Y.parameterDescriptors),D.set(Q,Y)}else Vv(Y),Uv(Y.parameterDescriptors),j0.set(F,new Map([[Q,Y]]))},F.sampleRate,void 0,void 0))}):Promise.all([a(N),Promise.resolve(i(b,b))]).then(([[B,Q],Y])=>{const D=y+1;y=D;const[R,Z]=Pv(B,Q),J=`${R};((AudioWorkletProcessor,registerProcessor)=>{${Z}
})(${Y?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${Y?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${Y?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${D}',class extends AudioWorkletProcessor{process(){return !1}})`,ut=new Blob([J],{type:"application/javascript; charset=utf-8"}),$=URL.createObjectURL(ut);return F.audioWorklet.addModule($,k).then(()=>{if(c(F))return F;const rt=h(F);return rt.audioWorklet.addModule($,k).then(()=>rt)}).then(rt=>{if(f===null)throw new SyntaxError;try{new f(rt,`__sac${D}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL($))});return P===void 0?d.set(A,new Map([[N,I]])):P.set(N,I),I.then(()=>{const B=m.get(A);B===void 0?m.set(A,new Set([N])):B.add(N)}).finally(()=>{const B=d.get(A);B!==void 0&&B.delete(N)}),I}},Ka=(i,t)=>{const e=i.get(t);if(e===void 0)throw new Error("A value with the given key could not be found.");return e},a1=(i,t)=>{const e=Array.from(i).filter(t);if(e.length>1)throw Error("More than one element was found.");if(e.length===0)throw Error("No element was found.");const[r]=e;return i.delete(r),r},Zb=(i,t,e,r)=>{const a=Ka(i,t),o=a1(a,h=>h[0]===e&&h[1]===r);return a.size===0&&i.delete(t),o},Kf=i=>Ka(Wb,i),Nh=i=>{if(Ah.has(i))throw new Error("The AudioNode is already stored.");Ah.add(i),Kf(i).forEach(t=>t(!0))},Kb=i=>"port"in i,$f=i=>{if(!Ah.has(i))throw new Error("The AudioNode is not stored.");Ah.delete(i),Kf(i).forEach(t=>t(!1))},I0=(i,t)=>{!Kb(i)&&t.every(e=>e.size===0)&&$f(i)},O4=(i,t,e,r,a,o,h,c,f,d,m,b,w)=>{const y=new WeakMap;return(A,N,k,T,P)=>{const{activeInputs:F,passiveInputs:I}=o(N),{outputs:B}=o(A),Q=c(A),Y=D=>{const R=f(N),Z=f(A);if(D){const C=Zb(I,A,k,T);i(F,A,C,!1),!P&&!b(A)&&e(Z,R,k,T),w(N)&&Nh(N)}else{const C=r(F,A,k,T);t(I,T,C,!1),!P&&!b(A)&&a(Z,R,k,T);const j=h(N);if(j===0)m(N)&&I0(N,F);else{const U=y.get(N);U!==void 0&&clearTimeout(U),y.set(N,setTimeout(()=>{m(N)&&I0(N,F)},j*1e3))}}};return d(B,[N,k,T],D=>D[0]===N&&D[1]===k&&D[2]===T,!0)?(Q.add(Y),m(A)?i(F,A,[k,T,Y],!0):t(I,T,[A,k,Y],!0),!0):!1}},M4=i=>(t,e,[r,a,o],h)=>{const c=t.get(r);c===void 0?t.set(r,new Set([[a,e,o]])):i(c,[a,e,o],f=>f[0]===a&&f[1]===e,h)},L4=i=>(t,e)=>{const r=i(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(r).connect(t.destination);const a=()=>{e.removeEventListener("ended",a),e.disconnect(r),r.disconnect()};e.addEventListener("ended",a)},D4=i=>(t,e)=>{i(t).add(e)},j4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},R4=(i,t,e,r,a,o)=>class extends i{constructor(c,f){const d=a(c),m={...j4,...f},b=r(d,m),w=o(d)?t():null;super(c,!1,b,w),this._nativeAnalyserNode=b}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,e()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=f,e()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},Pr=(i,t)=>i.context===t,I4=(i,t,e)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=t(o);if(!Pr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=i(h,d)}return r.set(h,c),await e(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},jp=i=>{try{i.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Mo=()=>new DOMException("","IndexSizeError"),og=i=>{i.getChannelData=(t=>e=>{try{return t.call(i,e)}catch(r){throw r.code===12?Mo():r}})(i.getChannelData)},B4={numberOfChannels:1},q4=(i,t,e,r,a,o,h,c)=>{let f=null;return class $b{constructor(m){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:b,numberOfChannels:w,sampleRate:y}={...B4,...m};f===null&&(f=new a(1,1,44100));const A=r!==null&&t(o,o)?new r({length:b,numberOfChannels:w,sampleRate:y}):f.createBuffer(w,b,y);if(A.numberOfChannels===0)throw e();return typeof A.copyFromChannel!="function"?(h(A),og(A)):t(jp,()=>jp(A))||c(A),i.add(A),A}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===$b.prototype||i.has(m)}}},ws=-34028234663852886e22,Qr=-ws,dl=i=>Ah.has(i),z4={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},F4=(i,t,e,r,a,o,h,c)=>class extends i{constructor(d,m){const b=o(d),w={...z4,...m},y=a(b,w),A=h(b),N=A?t():null;super(d,!1,y,N),this._audioBufferSourceNodeRenderer=N,this._isBufferNullified=!1,this._isBufferSet=w.buffer!==null,this._nativeAudioBufferSourceNode=y,this._onended=null,this._playbackRate=e(this,A,y.playbackRate,Qr,ws)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const m=typeof d=="function"?c(this,d):null;this._nativeAudioBufferSourceNode.onended=m;const b=this._nativeAudioBufferSourceNode.onended;this._onended=b!==null&&b===m?d:b}get playbackRate(){return this._playbackRate}start(d=0,m=0,b){if(this._nativeAudioBufferSourceNode.start(d,m,b),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=b===void 0?[d,m]:[d,m,b]),this.context.state!=="closed"){Nh(this);const w=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",w),dl(this)&&$f(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",w)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},P4=(i,t,e,r,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let b=e(d);const w=Pr(b,m);if(!w){const y={buffer:b.buffer,channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,loop:b.loop,loopEnd:b.loopEnd,loopStart:b.loopStart,playbackRate:b.playbackRate.value};b=t(m,y),h!==null&&b.start(...h),c!==null&&b.stop(c)}return o.set(m,b),w?await i(m,d.playbackRate,b.playbackRate):await r(m,d.playbackRate,b.playbackRate),await a(d,m,b),b};return{set start(d){h=d},set stop(d){c=d},render(d,m){const b=o.get(m);return b!==void 0?Promise.resolve(b):f(d,m)}}},U4=i=>"playbackRate"in i,V4=i=>"frequency"in i&&"gain"in i,H4=i=>"offset"in i,G4=i=>!("frequency"in i)&&"gain"in i,Y4=i=>"detune"in i&&"frequency"in i&&!("gain"in i),W4=i=>"pan"in i,Jr=i=>Ka(Gb,i),Qf=i=>Ka(Yb,i),B0=(i,t)=>{const{activeInputs:e}=Jr(i);e.forEach(a=>a.forEach(([o])=>{t.includes(i)||B0(o,[...t,i])}));const r=U4(i)?[i.playbackRate]:Kb(i)?Array.from(i.parameters.values()):V4(i)?[i.Q,i.detune,i.frequency,i.gain]:H4(i)?[i.offset]:G4(i)?[i.gain]:Y4(i)?[i.detune,i.frequency]:W4(i)?[i.pan]:[];for(const a of r){const o=Qf(a);o!==void 0&&o.activeInputs.forEach(([h])=>B0(h,t))}dl(i)&&$f(i)},Qb=i=>{B0(i.destination,[])},X4=i=>i===void 0||typeof i=="number"||typeof i=="string"&&(i==="balanced"||i==="interactive"||i==="playback"),Z4=(i,t,e,r,a,o,h,c,f)=>class extends i{constructor(m={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let b;try{b=new f(m)}catch(A){throw A.code===12&&A.message==="sampleRate is not in range"?e():A}if(b===null)throw r();if(!X4(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&b.sampleRate!==m.sampleRate)throw e();super(b,2);const{latencyHint:w}=m,{sampleRate:y}=b;if(this._baseLatency=typeof b.baseLatency=="number"?b.baseLatency:w==="balanced"?512/y:w==="interactive"||w===void 0?256/y:w==="playback"?1024/y:Math.max(2,Math.min(128,Math.round(w*y/128)))*128/y,this._nativeAudioContext=b,f.name==="webkitAudioContext"?(this._nativeGainNode=b.createGain(),this._nativeOscillatorNode=b.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(b.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,b.state==="running"){this._state="suspended";const A=()=>{this._state==="suspended"&&(this._state=null),b.removeEventListener("statechange",A)};b.addEventListener("statechange",A)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Qb(this)}))}createMediaElementSource(m){return new a(this,{mediaElement:m})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(m){return new h(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new c(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,b)=>{const w=()=>{this._nativeAudioContext.removeEventListener("statechange",w),this._nativeAudioContext.state==="running"?m():this.resume().then(m,b)};this._nativeAudioContext.addEventListener("statechange",w)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?t():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?t():m})}},K4=(i,t,e,r,a,o,h,c)=>class extends i{constructor(d,m){const b=o(d),w=h(b),y=a(b,m,w),A=w?t(c):null;super(d,!1,y,A),this._isNodeOfNativeOfflineAudioContext=w,this._nativeAudioDestinationNode=y}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw e();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},$4=i=>{const t=new WeakMap,e=async(r,a)=>{const o=a.destination;return t.set(a,o),await i(r,a,o),o};return{render(r,a){const o=t.get(a);return o!==void 0?Promise.resolve(o):e(r,a)}}},Q4=(i,t,e,r,a,o,h,c)=>(f,d)=>{const m=d.listener,b=()=>{const B=new Float32Array(1),Q=t(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),Y=h(d);let D=!1,R=[0,0,-1,0,1,0],Z=[0,0,0];const C=()=>{if(D)return;D=!0;const ut=r(d,256,9,0);ut.onaudioprocess=({inputBuffer:$})=>{const rt=[o($,B,0),o($,B,1),o($,B,2),o($,B,3),o($,B,4),o($,B,5)];rt.some((pt,Nt)=>pt!==R[Nt])&&(m.setOrientation(...rt),R=rt);const ct=[o($,B,6),o($,B,7),o($,B,8)];ct.some((pt,Nt)=>pt!==Z[Nt])&&(m.setPosition(...ct),Z=ct)},Q.connect(ut)},j=ut=>$=>{$!==R[ut]&&(R[ut]=$,m.setOrientation(...R))},U=ut=>$=>{$!==Z[ut]&&(Z[ut]=$,m.setPosition(...Z))},J=(ut,$,rt)=>{const ct=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:$});ct.connect(Q,0,ut),ct.start(),Object.defineProperty(ct.offset,"defaultValue",{get(){return $}});const pt=i({context:f},Y,ct.offset,Qr,ws);return c(pt,"value",Nt=>()=>Nt.call(pt),Nt=>X=>{try{Nt.call(pt,X)}catch(E){if(E.code!==9)throw E}C(),Y&&rt(X)}),pt.cancelAndHoldAtTime=(Nt=>Y?()=>{throw a()}:(...X)=>{const E=Nt.apply(pt,X);return C(),E})(pt.cancelAndHoldAtTime),pt.cancelScheduledValues=(Nt=>Y?()=>{throw a()}:(...X)=>{const E=Nt.apply(pt,X);return C(),E})(pt.cancelScheduledValues),pt.exponentialRampToValueAtTime=(Nt=>Y?()=>{throw a()}:(...X)=>{const E=Nt.apply(pt,X);return C(),E})(pt.exponentialRampToValueAtTime),pt.linearRampToValueAtTime=(Nt=>Y?()=>{throw a()}:(...X)=>{const E=Nt.apply(pt,X);return C(),E})(pt.linearRampToValueAtTime),pt.setTargetAtTime=(Nt=>Y?()=>{throw a()}:(...X)=>{const E=Nt.apply(pt,X);return C(),E})(pt.setTargetAtTime),pt.setValueAtTime=(Nt=>Y?()=>{throw a()}:(...X)=>{const E=Nt.apply(pt,X);return C(),E})(pt.setValueAtTime),pt.setValueCurveAtTime=(Nt=>Y?()=>{throw a()}:(...X)=>{const E=Nt.apply(pt,X);return C(),E})(pt.setValueCurveAtTime),pt};return{forwardX:J(0,0,j(0)),forwardY:J(1,0,j(1)),forwardZ:J(2,-1,j(2)),positionX:J(6,0,U(0)),positionY:J(7,0,U(1)),positionZ:J(8,0,U(2)),upX:J(3,0,j(3)),upY:J(4,1,j(4)),upZ:J(5,0,j(5))}},{forwardX:w,forwardY:y,forwardZ:A,positionX:N,positionY:k,positionZ:T,upX:P,upY:F,upZ:I}=m.forwardX===void 0?b():m;return{get forwardX(){return w},get forwardY(){return y},get forwardZ(){return A},get positionX(){return N},get positionY(){return k},get positionZ(){return T},get upX(){return P},get upY(){return F},get upZ(){return I}}},Rp=i=>"context"in i,Jf=i=>Rp(i[0]),lu=(i,t,e,r)=>{for(const a of i)if(e(a)){if(r)return!1;throw Error("The set contains at least one similar element.")}return i.add(t),!0},Hv=(i,t,[e,r],a)=>{lu(i,[t,e,r],o=>o[0]===t&&o[1]===e,a)},Gv=(i,[t,e,r],a)=>{const o=i.get(t);o===void 0?i.set(t,new Set([[e,r]])):lu(o,[e,r],h=>h[0]===e,a)},kh=i=>"inputs"in i,Ip=(i,t,e,r)=>{if(kh(t)){const a=t.inputs[r];return i.connect(a,e,0),[a,e,0]}return i.connect(t,e,r),[t,e,r]},Jb=(i,t,e)=>{for(const r of i)if(r[0]===t&&r[1]===e)return i.delete(r),r;return null},J4=(i,t,e)=>a1(i,r=>r[0]===t&&r[1]===e),tx=(i,t)=>{if(!Kf(i).delete(t))throw new Error("Missing the expected event listener.")},ex=(i,t,e)=>{const r=Ka(i,t),a=a1(r,o=>o[0]===e);return r.size===0&&i.delete(t),a},Bp=(i,t,e,r)=>{kh(t)?i.disconnect(t.inputs[r],e,0):i.disconnect(t,e,r)},li=i=>Ka(sg,i),zf=i=>Ka(ag,i),ru=i=>D0.has(i),wp=i=>!Ah.has(i),Yv=(i,t)=>new Promise(e=>{if(t!==null)e(!0);else{const r=i.createScriptProcessor(256,1,1),a=i.createGain(),o=i.createBuffer(1,2,44100),h=o.getChannelData(0);h[0]=1,h[1]=1;const c=i.createBufferSource();c.buffer=o,c.loop=!0,c.connect(r).connect(i.destination),c.connect(a),c.disconnect(a),r.onaudioprocess=f=>{const d=f.inputBuffer.getChannelData(0);Array.prototype.some.call(d,m=>m===1)?e(!0):e(!1),c.stop(),r.onaudioprocess=null,c.disconnect(r),r.disconnect(i.destination)},c.start()}}),Qm=(i,t)=>{const e=new Map;for(const r of i)for(const a of r){const o=e.get(a);e.set(a,o===void 0?1:o+1)}e.forEach((r,a)=>t(a,r))},qp=i=>"context"in i,tS=i=>{const t=new Map;i.connect=(e=>(r,a=0,o=0)=>{const h=qp(r)?e(r,a,o):e(r,a),c=t.get(r);return c===void 0?t.set(r,[{input:o,output:a}]):c.every(f=>f.input!==o||f.output!==a)&&c.push({input:o,output:a}),h})(i.connect.bind(i)),i.disconnect=(e=>(r,a,o)=>{if(e.apply(i),r===void 0)t.clear();else if(typeof r=="number")for(const[h,c]of t){const f=c.filter(d=>d.output!==r);f.length===0?t.delete(h):t.set(h,f)}else if(t.has(r))if(a===void 0)t.delete(r);else{const h=t.get(r);if(h!==void 0){const c=h.filter(f=>f.output!==a&&(f.input!==o||o===void 0));c.length===0?t.delete(r):t.set(r,c)}}for(const[h,c]of t)c.forEach(f=>{qp(h)?i.connect(h,f.output,f.input):i.connect(h,f.output)})})(i.disconnect)},eS=(i,t,e,r)=>{const{activeInputs:a,passiveInputs:o}=Qf(t),{outputs:h}=Jr(i),c=Kf(i),f=d=>{const m=li(i),b=zf(t);if(d){const w=ex(o,i,e);Hv(a,i,w,!1),!r&&!ru(i)&&m.connect(b,e)}else{const w=J4(a,i,e);Gv(o,w,!1),!r&&!ru(i)&&m.disconnect(b,e)}};return lu(h,[t,e],d=>d[0]===t&&d[1]===e,!0)?(c.add(f),dl(i)?Hv(a,i,[e,f],!0):Gv(o,[i,e,f],!0),!0):!1},nS=(i,t,e,r)=>{const{activeInputs:a,passiveInputs:o}=Jr(t),h=Jb(a[r],i,e);return h===null?[Zb(o,i,e,r)[2],!1]:[h[2],!0]},iS=(i,t,e)=>{const{activeInputs:r,passiveInputs:a}=Qf(t),o=Jb(r,i,e);return o===null?[ex(a,i,e)[1],!1]:[o[2],!0]},lg=(i,t,e,r,a)=>{const[o,h]=nS(i,e,r,a);if(o!==null&&(tx(i,o),h&&!t&&!ru(i)&&Bp(li(i),li(e),r,a)),dl(e)){const{activeInputs:c}=Jr(e);I0(e,c)}},cg=(i,t,e,r)=>{const[a,o]=iS(i,e,r);a!==null&&(tx(i,a),o&&!t&&!ru(i)&&li(i).disconnect(zf(e),r))},rS=(i,t)=>{const e=Jr(i),r=[];for(const a of e.outputs)Jf(a)?lg(i,t,...a):cg(i,t,...a),r.push(a[0]);return e.outputs.clear(),r},sS=(i,t,e)=>{const r=Jr(i),a=[];for(const o of r.outputs)o[1]===e&&(Jf(o)?lg(i,t,...o):cg(i,t,...o),a.push(o[0]),r.outputs.delete(o));return a},aS=(i,t,e,r,a)=>{const o=Jr(i);return Array.from(o.outputs).filter(h=>h[0]===e&&(r===void 0||h[1]===r)&&(a===void 0||h[2]===a)).map(h=>(Jf(h)?lg(i,t,...h):cg(i,t,...h),o.outputs.delete(h),h[0]))},oS=(i,t,e,r,a,o,h,c,f,d,m,b,w,y,A,N)=>class extends d{constructor(T,P,F,I){super(F),this._context=T,this._nativeAudioNode=F;const B=m(T);b(B)&&e(Yv,()=>Yv(B,N))!==!0&&tS(F),sg.set(this,F),Wb.set(this,new Set),T.state!=="closed"&&P&&Nh(this),i(this,I,F)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(T){this._nativeAudioNode.channelCount=T}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(T){this._nativeAudioNode.channelCountMode=T}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(T){this._nativeAudioNode.channelInterpretation=T}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(T,P=0,F=0){if(P<0||P>=this._nativeAudioNode.numberOfOutputs)throw a();const I=m(this._context),B=A(I);if(w(T)||y(T))throw o();if(Rp(T)){const D=li(T);try{const Z=Ip(this._nativeAudioNode,D,P,F),C=wp(this);(B||C)&&this._nativeAudioNode.disconnect(...Z),this.context.state!=="closed"&&!C&&wp(T)&&Nh(T)}catch(Z){throw Z.code===12?o():Z}if(t(this,T,P,F,B)){const Z=f([this],T);Qm(Z,r(B))}return T}const Q=zf(T);if(Q.name==="playbackRate"&&Q.maxValue===1024)throw h();try{this._nativeAudioNode.connect(Q,P),(B||wp(this))&&this._nativeAudioNode.disconnect(Q,P)}catch(D){throw D.code===12?o():D}if(eS(this,T,P,B)){const D=f([this],T);Qm(D,r(B))}}disconnect(T,P,F){let I;const B=m(this._context),Q=A(B);if(T===void 0)I=rS(this,Q);else if(typeof T=="number"){if(T<0||T>=this.numberOfOutputs)throw a();I=sS(this,Q,T)}else{if(P!==void 0&&(P<0||P>=this.numberOfOutputs)||Rp(T)&&F!==void 0&&(F<0||F>=T.numberOfInputs))throw a();if(I=aS(this,Q,T,P,F),I.length===0)throw o()}for(const Y of I){const D=f([this],Y);Qm(D,c)}}},lS=(i,t,e,r,a,o,h,c,f,d,m,b,w)=>(y,A,N,k=null,T=null)=>{const P=N.value,F=new y4(P),I=A?r(F):null,B={get defaultValue(){return P},get maxValue(){return k===null?N.maxValue:k},get minValue(){return T===null?N.minValue:T},get value(){return N.value},set value(Q){N.value=Q,B.setValueAtTime(Q,y.context.currentTime)},cancelAndHoldAtTime(Q){if(typeof N.cancelAndHoldAtTime=="function")I===null&&F.flush(y.context.currentTime),F.add(a(Q)),N.cancelAndHoldAtTime(Q);else{const Y=Array.from(F).pop();I===null&&F.flush(y.context.currentTime),F.add(a(Q));const D=Array.from(F).pop();N.cancelScheduledValues(Q),Y!==D&&D!==void 0&&(D.type==="exponentialRampToValue"?N.exponentialRampToValueAtTime(D.value,D.endTime):D.type==="linearRampToValue"?N.linearRampToValueAtTime(D.value,D.endTime):D.type==="setValue"?N.setValueAtTime(D.value,D.startTime):D.type==="setValueCurve"&&N.setValueCurveAtTime(D.values,D.startTime,D.duration))}return B},cancelScheduledValues(Q){return I===null&&F.flush(y.context.currentTime),F.add(o(Q)),N.cancelScheduledValues(Q),B},exponentialRampToValueAtTime(Q,Y){if(Q===0)throw new RangeError;if(!Number.isFinite(Y)||Y<0)throw new RangeError;const D=y.context.currentTime;return I===null&&F.flush(D),Array.from(F).length===0&&(F.add(d(P,D)),N.setValueAtTime(P,D)),F.add(h(Q,Y)),N.exponentialRampToValueAtTime(Q,Y),B},linearRampToValueAtTime(Q,Y){const D=y.context.currentTime;return I===null&&F.flush(D),Array.from(F).length===0&&(F.add(d(P,D)),N.setValueAtTime(P,D)),F.add(c(Q,Y)),N.linearRampToValueAtTime(Q,Y),B},setTargetAtTime(Q,Y,D){return I===null&&F.flush(y.context.currentTime),F.add(f(Q,Y,D)),N.setTargetAtTime(Q,Y,D),B},setValueAtTime(Q,Y){return I===null&&F.flush(y.context.currentTime),F.add(d(Q,Y)),N.setValueAtTime(Q,Y),B},setValueCurveAtTime(Q,Y,D){const R=Q instanceof Float32Array?Q:new Float32Array(Q);if(b!==null&&b.name==="webkitAudioContext"){const Z=Y+D,C=y.context.sampleRate,j=Math.ceil(Y*C),U=Math.floor(Z*C),J=U-j,ut=new Float32Array(J);for(let rt=0;rt<J;rt+=1){const ct=(R.length-1)/D*((j+rt)/C-Y),pt=Math.floor(ct),Nt=Math.ceil(ct);ut[rt]=pt===Nt?R[pt]:(1-(ct-pt))*R[pt]+(1-(Nt-ct))*R[Nt]}I===null&&F.flush(y.context.currentTime),F.add(m(ut,Y,D)),N.setValueCurveAtTime(ut,Y,D);const $=U/C;$<Z&&w(B,ut[ut.length-1],$),w(B,R[R.length-1],Z)}else I===null&&F.flush(y.context.currentTime),F.add(m(R,Y,D)),N.setValueCurveAtTime(R,Y,D);return B}};return e.set(B,N),t.set(B,y),i(B,I),B},cS=i=>({replay(t){for(const e of i)if(e.type==="exponentialRampToValue"){const{endTime:r,value:a}=e;t.exponentialRampToValueAtTime(a,r)}else if(e.type==="linearRampToValue"){const{endTime:r,value:a}=e;t.linearRampToValueAtTime(a,r)}else if(e.type==="setTarget"){const{startTime:r,target:a,timeConstant:o}=e;t.setTargetAtTime(a,r,o)}else if(e.type==="setValue"){const{startTime:r,value:a}=e;t.setValueAtTime(a,r)}else if(e.type==="setValueCurve"){const{duration:r,startTime:a,values:o}=e;t.setValueCurveAtTime(o,a,r)}else throw new Error("Can't apply an unknown automation.")}});class nx{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach((r,a)=>t.call(e,r,a,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const uS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},hS=(i,t,e,r,a,o,h,c,f,d,m,b,w,y)=>class extends t{constructor(N,k,T){var P;const F=c(N),I=f(F),B=m({...uS,...T});w(B);const Q=j0.get(F),Y=Q?.get(k),D=I||F.state!=="closed"?F:(P=h(F))!==null&&P!==void 0?P:F,R=a(D,I?null:N.baseLatency,d,k,Y,B),Z=I?r(k,B,Y):null;super(N,!0,R,Z);const C=[];R.parameters.forEach((U,J)=>{const ut=e(this,I,U);C.push([J,ut])}),this._nativeAudioWorkletNode=R,this._onprocessorerror=null,this._parameters=new nx(C),I&&i(F,this);const{activeInputs:j}=o(this);b(R,j)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(N){const k=typeof N=="function"?y(this,N):null;this._nativeAudioWorkletNode.onprocessorerror=k;const T=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=T!==null&&T===k?N:T}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function zp(i,t,e,r,a){if(typeof i.copyFromChannel=="function")t[e].byteLength===0&&(t[e]=new Float32Array(128)),i.copyFromChannel(t[e],r,a);else{const o=i.getChannelData(r);if(t[e].byteLength===0)t[e]=o.slice(a,a+128);else{const h=new Float32Array(o.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);t[e].set(h)}}}const ix=(i,t,e,r,a)=>{typeof i.copyToChannel=="function"?t[e].byteLength!==0&&i.copyToChannel(t[e],r,a):t[e].byteLength!==0&&i.getChannelData(r).set(t[e],a)},Fp=(i,t)=>{const e=[];for(let r=0;r<i;r+=1){const a=[],o=typeof t=="number"?t:t[r];for(let h=0;h<o;h+=1)a.push(new Float32Array(128));e.push(a)}return e},fS=(i,t)=>{const e=Ka(R0,i),r=li(t);return Ka(e,r)},dS=async(i,t,e,r,a,o,h)=>{const c=t===null?Math.ceil(i.context.length/128)*128:t.length,f=r.channelCount*r.numberOfInputs,d=a.reduce((k,T)=>k+T,0),m=d===0?null:e.createBuffer(d,c,e.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const b=Jr(i),w=await fS(e,i),y=Fp(r.numberOfInputs,r.channelCount),A=Fp(r.numberOfOutputs,a),N=Array.from(i.parameters.keys()).reduce((k,T)=>({...k,[T]:new Float32Array(128)}),{});for(let k=0;k<c;k+=128){if(r.numberOfInputs>0&&t!==null)for(let T=0;T<r.numberOfInputs;T+=1)for(let P=0;P<r.channelCount;P+=1)zp(t,y[T],P,P,k);o.parameterDescriptors!==void 0&&t!==null&&o.parameterDescriptors.forEach(({name:T},P)=>{zp(t,N,T,f+P,k)});for(let T=0;T<r.numberOfInputs;T+=1)for(let P=0;P<a[T];P+=1)A[T][P].byteLength===0&&(A[T][P]=new Float32Array(128));try{const T=y.map((F,I)=>b.activeInputs[I].size===0?[]:F),P=h(k/e.sampleRate,e.sampleRate,()=>w.process(T,A,N));if(m!==null)for(let F=0,I=0;F<r.numberOfOutputs;F+=1){for(let B=0;B<a[F];B+=1)ix(m,A[F],B,I+B,k);I+=a[F]}if(!P)break}catch(T){i.dispatchEvent(new ErrorEvent("processorerror",{colno:T.colno,filename:T.filename,lineno:T.lineno,message:T.message}));break}}return m},pS=(i,t,e,r,a,o,h,c,f,d,m,b,w,y,A,N)=>(k,T,P)=>{const F=new WeakMap;let I=null;const B=async(Q,Y)=>{let D=m(Q),R=null;const Z=Pr(D,Y),C=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(b===null){const j=C.reduce(($,rt)=>$+rt,0),U=a(Y,{channelCount:Math.max(1,j),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,j)}),J=[];for(let $=0;$<Q.numberOfOutputs;$+=1)J.push(r(Y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[$]}));const ut=h(Y,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1});ut.connect=t.bind(null,J),ut.disconnect=f.bind(null,J),R=[U,J,ut]}else Z||(D=new b(Y,k));if(F.set(Y,R===null?D:R[2]),R!==null){if(I===null){if(P===void 0)throw new Error("Missing the processor constructor.");if(w===null)throw new Error("Missing the native OfflineAudioContext constructor.");const rt=Q.channelCount*Q.numberOfInputs,ct=P.parameterDescriptors===void 0?0:P.parameterDescriptors.length,pt=rt+ct;I=dS(Q,pt===0?null:await(async()=>{const X=new w(pt,Math.ceil(Q.context.length/128)*128,Y.sampleRate),E=[],H=[];for(let ot=0;ot<T.numberOfInputs;ot+=1)E.push(h(X,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),H.push(a(X,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const tt=await Promise.all(Array.from(Q.parameters.values()).map(async ot=>{const mt=o(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ot.value});return await y(X,ot,mt.offset),mt})),it=r(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,rt+ct)});for(let ot=0;ot<T.numberOfInputs;ot+=1){E[ot].connect(H[ot]);for(let mt=0;mt<T.channelCount;mt+=1)H[ot].connect(it,mt,ot*T.channelCount+mt)}for(const[ot,mt]of tt.entries())mt.connect(it,0,rt+ot),mt.start(0);return it.connect(X.destination),await Promise.all(E.map(ot=>A(Q,X,ot))),N(X)})(),Y,T,C,P,d)}const j=await I,U=e(Y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[J,ut,$]=R;j!==null&&(U.buffer=j,U.start(0)),U.connect(J);for(let rt=0,ct=0;rt<Q.numberOfOutputs;rt+=1){const pt=ut[rt];for(let Nt=0;Nt<C[rt];Nt+=1)J.connect(pt,ct+Nt,Nt);ct+=C[rt]}return $}if(Z)for(const[j,U]of Q.parameters.entries())await i(Y,U,D.parameters.get(j));else for(const[j,U]of Q.parameters.entries())await y(Y,U,D.parameters.get(j));return await A(Q,Y,D),D};return{render(Q,Y){c(Y,Q);const D=F.get(Y);return D!==void 0?Promise.resolve(D):B(Q,Y)}}},mS=(i,t,e,r,a,o,h,c,f,d,m,b,w,y,A,N,k,T,P,F)=>class extends A{constructor(B,Q){super(B,Q),this._nativeContext=B,this._audioWorklet=i===void 0?void 0:{addModule:(Y,D)=>i(this,Y,D)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new a(this)}createBuffer(B,Q,Y){return new e({length:Q,numberOfChannels:B,sampleRate:Y})}createBufferSource(){return new r(this)}createChannelMerger(B=6){return new o(this,{numberOfInputs:B})}createChannelSplitter(B=6){return new h(this,{numberOfOutputs:B})}createConstantSource(){return new c(this)}createConvolver(){return new f(this)}createDelay(B=1){return new m(this,{maxDelayTime:B})}createDynamicsCompressor(){return new b(this)}createGain(){return new w(this)}createIIRFilter(B,Q){return new y(this,{feedback:Q,feedforward:B})}createOscillator(){return new N(this)}createPanner(){return new k(this)}createPeriodicWave(B,Q,Y={disableNormalization:!1}){return new T(this,{...Y,imag:Q,real:B})}createStereoPanner(){return new P(this)}createWaveShaper(){return new F(this)}decodeAudioData(B,Q,Y){return d(this._nativeContext,B).then(D=>(typeof Q=="function"&&Q(D),D),D=>{throw typeof Y=="function"&&Y(D),D})}},gS={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},vS=(i,t,e,r,a,o,h,c)=>class extends i{constructor(d,m){const b=o(d),w={...gS,...m},y=a(b,w),A=h(b),N=A?e():null;super(d,!1,y,N),this._Q=t(this,A,y.Q,Qr,ws),this._detune=t(this,A,y.detune,1200*Math.log2(Qr),-1200*Math.log2(Qr)),this._frequency=t(this,A,y.frequency,d.sampleRate/2,0),this._gain=t(this,A,y.gain,40*Math.log10(Qr),ws),this._nativeBiquadFilterNode=y,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,m,b){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,m,b)}catch(w){throw w.code===11?r():w}if(d.length!==m.length||m.length!==b.length)throw r()}},yS=(i,t,e,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=e(c);const m=Pr(d,f);if(!m){const b={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=t(f,b)}return o.set(f,d),m?(await i(f,c.Q,d.Q),await i(f,c.detune,d.detune),await i(f,c.frequency,d.frequency),await i(f,c.gain,d.gain)):(await r(f,c.Q,d.Q),await r(f,c.detune,d.detune),await r(f,c.frequency,d.frequency),await r(f,c.gain,d.gain)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},bS=(i,t)=>(e,r)=>{const a=t.get(e);if(a!==void 0)return a;const o=i.get(e);if(o!==void 0)return o;try{const h=r();return h instanceof Promise?(i.set(e,h),h.catch(()=>!1).then(c=>(i.delete(e),t.set(e,c),c))):(t.set(e,h),h)}catch{return t.set(e,!1),!1}},xS={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},_S=(i,t,e,r,a)=>class extends i{constructor(h,c){const f=r(h),d={...xS,...c},m=e(f,d),b=a(f)?t():null;super(h,!1,m,b)}},wS=(i,t,e)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=t(o);if(!Pr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=i(h,d)}return r.set(h,c),await e(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},SS={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},AS=(i,t,e,r,a,o)=>class extends i{constructor(c,f){const d=r(c),m=o({...SS,...f}),b=e(d,m),w=a(d)?t():null;super(c,!1,b,w)}},NS=(i,t,e)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=t(o);if(!Pr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=i(h,d)}return r.set(h,c),await e(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},TS=i=>(t,e,r)=>i(e,t,r),CS=i=>(t,e,r=0,a=0)=>{const o=t[r];if(o===void 0)throw i();return qp(e)?o.connect(e,0,a):o.connect(e,0)},ES=i=>(t,e)=>{const r=i(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=t.createBuffer(1,2,44100);return r.buffer=a,r.loop=!0,r.connect(e),r.start(),()=>{r.stop(),r.disconnect(e)}},kS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},OS=(i,t,e,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),b={...kS,...d},w=r(m,b),y=o(m),A=y?e():null;super(f,!1,w,A),this._constantSourceNodeRenderer=A,this._nativeConstantSourceNode=w,this._offset=t(this,y,w.offset,Qr,ws),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeConstantSourceNode.onended=d;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===d?f:m}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){Nh(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),dl(this)&&$f(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},MS=(i,t,e,r,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let b=e(d);const w=Pr(b,m);if(!w){const y={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,offset:b.offset.value};b=t(m,y),h!==null&&b.start(h),c!==null&&b.stop(c)}return o.set(m,b),w?await i(m,d.offset,b.offset):await r(m,d.offset,b.offset),await a(d,m,b),b};return{set start(d){h=d},set stop(d){c=d},render(d,m){const b=o.get(m);return b!==void 0?Promise.resolve(b):f(d,m)}}},LS=i=>t=>(i[0]=t,i[0]),DS={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},jS=(i,t,e,r,a,o)=>class extends i{constructor(c,f){const d=r(c),m={...DS,...f},b=e(d,m),y=a(d)?t():null;super(c,!1,b,y),this._isBufferNullified=!1,this._nativeConvolverNode=b,m.buffer!==null&&o(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},RS=(i,t,e)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=t(o);if(!Pr(c,h)){const d={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=i(h,d)}return r.set(h,c),kh(c)?await e(o,h,c.inputs[0]):await e(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},IS=(i,t)=>(e,r,a)=>{if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(e,r,a)}catch(o){throw o.name==="SyntaxError"?i():o}},BS=()=>new DOMException("","DataCloneError"),Wv=i=>{const{port1:t,port2:e}=new MessageChannel;return new Promise(r=>{const a=()=>{e.onmessage=null,t.close(),e.close(),r()};e.onmessage=()=>a();try{t.postMessage(i,[i])}catch{}finally{a()}})},qS=(i,t,e,r,a,o,h,c,f,d,m)=>(b,w)=>{const y=h(b)?b:o(b);if(a.has(w)){const A=e();return Promise.reject(A)}try{a.add(w)}catch{}return t(f,()=>f(y))?y.decodeAudioData(w).then(A=>(Wv(w).catch(()=>{}),t(c,()=>c(A))||m(A),i.add(A),A)):new Promise((A,N)=>{const k=async()=>{try{await Wv(w)}catch{}},T=P=>{N(P),k()};try{y.decodeAudioData(w,P=>{typeof P.copyFromChannel!="function"&&(d(P),og(P)),i.add(P),k().then(()=>A(P))},P=>{T(P===null?r():P)})}catch(P){T(P)}})},zS=(i,t,e,r,a,o,h,c)=>(f,d)=>{const m=t.get(f);if(m===void 0)throw new Error("Missing the expected cycle count.");const b=o(f.context),w=c(b);if(m===d){if(t.delete(f),!w&&h(f)){const y=r(f),{outputs:A}=e(f);for(const N of A)if(Jf(N)){const k=r(N[0]);i(y,k,N[1],N[2])}else{const k=a(N[0]);y.connect(k,N[1])}}}else t.set(f,m-d)},FS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},PS=(i,t,e,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),b={...FS,...d},w=r(m,b),y=o(m),A=y?e(b.maxDelayTime):null;super(f,!1,w,A),this._delayTime=t(this,y,w.delayTime),h(this,b.maxDelayTime)}get delayTime(){return this._delayTime}},US=(i,t,e,r,a)=>o=>{const h=new WeakMap,c=async(f,d)=>{let m=e(f);const b=Pr(m,d);if(!b){const w={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:o};m=t(d,w)}return h.set(d,m),b?await i(d,f.delayTime,m.delayTime):await r(d,f.delayTime,m.delayTime),await a(f,d,m),m};return{render(f,d){const m=h.get(d);return m!==void 0?Promise.resolve(m):c(f,d)}}},VS=i=>(t,e,r,a)=>i(t[a],o=>o[0]===e&&o[1]===r),HS=i=>(t,e)=>{i(t).delete(e)},GS=i=>"delayTime"in i,YS=(i,t,e)=>function r(a,o){const h=Rp(o)?o:e(i,o);if(GS(h))return[];if(a[0]===h)return[a];if(a.includes(h))return[];const{outputs:c}=t(h);return Array.from(c).map(f=>r([...a,h],f[0])).reduce((f,d)=>f.concat(d),[])},ap=(i,t,e)=>{const r=t[e];if(r===void 0)throw i();return r},WS=i=>(t,e=void 0,r=void 0,a=0)=>e===void 0?t.forEach(o=>o.disconnect()):typeof e=="number"?ap(i,t,e).disconnect():qp(e)?r===void 0?t.forEach(o=>o.disconnect(e)):a===void 0?ap(i,t,r).disconnect(e,0):ap(i,t,r).disconnect(e,0,a):r===void 0?t.forEach(o=>o.disconnect(e)):ap(i,t,r).disconnect(e,0),XS={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},ZS=(i,t,e,r,a,o,h,c)=>class extends i{constructor(d,m){const b=o(d),w={...XS,...m},y=r(b,w),A=h(b),N=A?e():null;super(d,!1,y,N),this._attack=t(this,A,y.attack),this._knee=t(this,A,y.knee),this._nativeDynamicsCompressorNode=y,this._ratio=t(this,A,y.ratio),this._release=t(this,A,y.release),this._threshold=t(this,A,y.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=m,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},KS=(i,t,e,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=e(c);const m=Pr(d,f);if(!m){const b={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=t(f,b)}return o.set(f,d),m?(await i(f,c.attack,d.attack),await i(f,c.knee,d.knee),await i(f,c.ratio,d.ratio),await i(f,c.release,d.release),await i(f,c.threshold,d.threshold)):(await r(f,c.attack,d.attack),await r(f,c.knee,d.knee),await r(f,c.ratio,d.ratio),await r(f,c.release,d.release),await r(f,c.threshold,d.threshold)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},$S=()=>new DOMException("","EncodingError"),QS=i=>t=>new Promise((e,r)=>{if(i===null){r(new SyntaxError);return}const a=i.document.head;if(a===null)r(new SyntaxError);else{const o=i.document.createElement("script"),h=new Blob([t],{type:"application/javascript"}),c=URL.createObjectURL(h),f=i.onerror,d=()=>{i.onerror=f,URL.revokeObjectURL(c)};i.onerror=(m,b,w,y,A)=>{if(b===c||b===i.location.href&&w===1&&y===1)return d(),r(A),!1;if(f!==null)return f(m,b,w,y,A)},o.onerror=()=>{d(),r(new SyntaxError)},o.onload=()=>{d(),e()},o.src=c,o.type="module",a.appendChild(o)}}),JS=i=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(e,r,a){if(r!==null){let o=this._listeners.get(r);o===void 0&&(o=i(this,r),typeof r=="function"&&this._listeners.set(r,o)),this._nativeEventTarget.addEventListener(e,o,a)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,r,a){const o=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(e,o===void 0?null:o,a)}},t6=i=>(t,e,r)=>{Object.defineProperties(i,{currentFrame:{configurable:!0,get(){return Math.round(t*e)}},currentTime:{configurable:!0,get(){return t}}});try{return r()}finally{i!==null&&(delete i.currentFrame,delete i.currentTime)}},e6=i=>async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw i()},n6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},i6=(i,t,e,r,a,o)=>class extends i{constructor(c,f){const d=a(c),m={...n6,...f},b=r(d,m),w=o(d),y=w?e():null;super(c,!1,b,y),this._gain=t(this,w,b.gain,Qr,ws)}get gain(){return this._gain}},r6=(i,t,e,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=e(c);const m=Pr(d,f);if(!m){const b={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=t(f,b)}return o.set(f,d),m?await i(f,c.gain,d.gain):await r(f,c.gain,d.gain),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},s6=(i,t)=>e=>t(i,e),a6=i=>t=>{const e=i(t);if(e.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return e.renderer},o6=i=>t=>{var e;return(e=i.get(t))!==null&&e!==void 0?e:0},l6=i=>t=>{const e=i(t);if(e.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return e.renderer},c6=i=>t=>i.get(t),br=()=>new DOMException("","InvalidStateError"),u6=i=>t=>{const e=i.get(t);if(e===void 0)throw br();return e},h6=(i,t)=>e=>{let r=i.get(e);if(r!==void 0)return r;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new t(1,1,44100),i.set(e,r),r},f6=i=>t=>{const e=i.get(t);if(e===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return e},o1=()=>new DOMException("","InvalidAccessError"),d6=i=>{i.getFrequencyResponse=(t=>(e,r,a)=>{if(e.length!==r.length||r.length!==a.length)throw o1();return t.call(i,e,r,a)})(i.getFrequencyResponse)},p6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},m6=(i,t,e,r,a,o)=>class extends i{constructor(c,f){const d=r(c),m=a(d),b={...p6,...f},w=t(d,m?null:c.baseLatency,b),y=m?e(b.feedback,b.feedforward):null;super(c,!1,w,y),d6(w),this._nativeIIRFilterNode=w,o(this,1)}getFrequencyResponse(c,f,d){return this._nativeIIRFilterNode.getFrequencyResponse(c,f,d)}},rx=(i,t,e,r,a,o,h,c,f,d,m)=>{const b=d.length;let w=c;for(let y=0;y<b;y+=1){let A=e[0]*d[y];for(let N=1;N<a;N+=1){const k=w-N&f-1;A+=e[N]*o[k],A-=i[N]*h[k]}for(let N=a;N<r;N+=1)A+=e[N]*o[w-N&f-1];for(let N=a;N<t;N+=1)A-=i[N]*h[w-N&f-1];o[w]=d[y],h[w]=A,w=w+1&f-1,m[y]=A}return w},g6=(i,t,e,r)=>{const a=e instanceof Float64Array?e:new Float64Array(e),o=r instanceof Float64Array?r:new Float64Array(r),h=a.length,c=o.length,f=Math.min(h,c);if(a[0]!==1){for(let A=0;A<h;A+=1)o[A]/=a[0];for(let A=1;A<c;A+=1)a[A]/=a[0]}const d=32,m=new Float32Array(d),b=new Float32Array(d),w=t.createBuffer(i.numberOfChannels,i.length,i.sampleRate),y=i.numberOfChannels;for(let A=0;A<y;A+=1){const N=i.getChannelData(A),k=w.getChannelData(A);m.fill(0),b.fill(0),rx(a,h,o,c,f,m,b,0,d,N,k)}return w},v6=(i,t,e,r,a)=>(o,h)=>{const c=new WeakMap;let f=null;const d=async(m,b)=>{let w=null,y=t(m);const A=Pr(y,b);if(b.createIIRFilter===void 0?w=i(b,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):A||(y=b.createIIRFilter(h,o)),c.set(b,w===null?y:w),w!==null){if(f===null){if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");const k=new e(m.context.destination.channelCount,m.context.length,b.sampleRate);f=(async()=>{await r(m,k,k.destination);const T=await a(k);return g6(T,b,o,h)})()}const N=await f;return w.buffer=N,w.start(0),w}return await r(m,b,y),y};return{render(m,b){const w=c.get(b);return w!==void 0?Promise.resolve(w):d(m,b)}}},y6=(i,t,e,r,a,o)=>h=>(c,f)=>{const d=i.get(c);if(d===void 0){if(!h&&o(c)){const m=r(c),{outputs:b}=e(c);for(const w of b)if(Jf(w)){const y=r(w[0]);t(m,y,w[1],w[2])}else{const y=a(w[0]);m.disconnect(y,w[1])}}i.set(c,f)}else i.set(c,d+f)},b6=(i,t)=>e=>{const r=i.get(e);return t(r)||t(e)},x6=(i,t)=>e=>i.has(e)||t(e),_6=(i,t)=>e=>i.has(e)||t(e),w6=(i,t)=>e=>{const r=i.get(e);return t(r)||t(e)},S6=i=>t=>i!==null&&t instanceof i,A6=i=>t=>i!==null&&typeof i.AudioNode=="function"&&t instanceof i.AudioNode,N6=i=>t=>i!==null&&typeof i.AudioParam=="function"&&t instanceof i.AudioParam,T6=(i,t)=>e=>i(e)||t(e),C6=i=>t=>i!==null&&t instanceof i,E6=i=>i!==null&&i.isSecureContext,k6=(i,t,e,r)=>class extends i{constructor(o,h){const c=e(o),f=t(c,h);if(r(c))throw TypeError();super(o,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},O6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},M6=(i,t,e,r)=>class extends i{constructor(o,h){const c=e(o);if(r(c))throw new TypeError;const f={...O6,...h},d=t(c,f);super(o,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},L6=(i,t,e,r)=>class extends i{constructor(o,h){const c=e(o),f=t(c,h);if(r(c))throw new TypeError;super(o,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},D6=(i,t,e)=>class extends i{constructor(a,o){const h=e(a),c=t(h,o);super(a,!0,c,null)}},j6=(i,t,e,r,a,o)=>class extends e{constructor(c,f){super(c),this._nativeContext=c,s1.set(this,c),r(c)&&a.set(c,new Set),this._destination=new i(this,f),this._listener=t(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const f=typeof c=="function"?o(this,c):null;this._nativeContext.onstatechange=f;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===f?c:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Ff=i=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const e=i.decodeAudioData(t.buffer,()=>{});return e===void 0?!1:(e.catch(()=>{}),!0)}catch{}return!1},R6=(i,t)=>(e,r,a)=>{const o=new Set;return e.connect=(h=>(c,f=0,d=0)=>{const m=o.size===0;if(t(c))return h.call(e,c,f,d),i(o,[c,f,d],b=>b[0]===c&&b[1]===f&&b[2]===d,!0),m&&r(),c;h.call(e,c,f),i(o,[c,f],b=>b[0]===c&&b[1]===f,!0),m&&r()})(e.connect),e.disconnect=(h=>(c,f,d)=>{const m=o.size>0;if(c===void 0)h.apply(e),o.clear();else if(typeof c=="number"){h.call(e,c);for(const w of o)w[1]===c&&o.delete(w)}else{t(c)?h.call(e,c,f,d):h.call(e,c,f);for(const w of o)w[0]===c&&(f===void 0||w[1]===f)&&(d===void 0||w[2]===d)&&o.delete(w)}const b=o.size===0;m&&b&&a()})(e.disconnect),e},gi=(i,t,e)=>{const r=t[e];r!==void 0&&r!==i[e]&&(i[e]=r)},cr=(i,t)=>{gi(i,t,"channelCount"),gi(i,t,"channelCountMode"),gi(i,t,"channelInterpretation")},Xv=i=>typeof i.getFloatTimeDomainData=="function",I6=i=>{i.getFloatTimeDomainData=t=>{const e=new Uint8Array(t.length);i.getByteTimeDomainData(e);const r=Math.max(e.length,i.fftSize);for(let a=0;a<r;a+=1)t[a]=(e[a]-128)*.0078125;return t}},B6=(i,t)=>(e,r)=>{const a=e.createAnalyser();if(cr(a,r),!(r.maxDecibels>r.minDecibels))throw t();return gi(a,r,"fftSize"),gi(a,r,"maxDecibels"),gi(a,r,"minDecibels"),gi(a,r,"smoothingTimeConstant"),i(Xv,()=>Xv(a))||I6(a),a},q6=i=>i===null?null:i.hasOwnProperty("AudioBuffer")?i.AudioBuffer:null,Li=(i,t,e)=>{const r=t[e];r!==void 0&&r!==i[e].value&&(i[e].value=r)},z6=i=>{i.start=(t=>{let e=!1;return(r=0,a=0,o)=>{if(e)throw br();t.call(i,r,a,o),e=!0}})(i.start)},ug=i=>{i.start=(t=>(e=0,r=0,a)=>{if(typeof a=="number"&&a<0||r<0||e<0)throw new RangeError("The parameters can't be negative.");t.call(i,e,r,a)})(i.start)},hg=i=>{i.stop=(t=>(e=0)=>{if(e<0)throw new RangeError("The parameter can't be negative.");t.call(i,e)})(i.stop)},F6=(i,t,e,r,a,o,h,c,f,d,m)=>(b,w)=>{const y=b.createBufferSource();return cr(y,w),Li(y,w,"playbackRate"),gi(y,w,"buffer"),gi(y,w,"loop"),gi(y,w,"loopEnd"),gi(y,w,"loopStart"),t(e,()=>e(b))||z6(y),t(r,()=>r(b))||f(y),t(a,()=>a(b))||d(y,b),t(o,()=>o(b))||ug(y),t(h,()=>h(b))||m(y,b),t(c,()=>c(b))||hg(y),i(b,y),y},P6=i=>i===null?null:i.hasOwnProperty("AudioContext")?i.AudioContext:i.hasOwnProperty("webkitAudioContext")?i.webkitAudioContext:null,U6=(i,t)=>(e,r,a)=>{const o=e.destination;if(o.channelCount!==r)try{o.channelCount=r}catch{}a&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:r});const h=i(e,{channelCount:r,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return t(h,"channelCount",c=>()=>c.call(h),c=>f=>{c.call(h,f);try{o.channelCount=f}catch(d){if(f>o.maxChannelCount)throw d}}),t(h,"channelCountMode",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelCountMode=f}),t(h,"channelInterpretation",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelInterpretation=f}),Object.defineProperty(h,"maxChannelCount",{get:()=>o.maxChannelCount}),h.connect(o),h},V6=i=>i===null?null:i.hasOwnProperty("AudioWorkletNode")?i.AudioWorkletNode:null,H6=i=>{const{port1:t}=new MessageChannel;try{t.postMessage(i)}finally{t.close()}},G6=(i,t,e,r,a)=>(o,h,c,f,d,m)=>{if(c!==null)try{const b=new c(o,f,m),w=new Map;let y=null;if(Object.defineProperties(b,{channelCount:{get:()=>m.channelCount,set:()=>{throw i()}},channelCountMode:{get:()=>"explicit",set:()=>{throw i()}},onprocessorerror:{get:()=>y,set:A=>{typeof y=="function"&&b.removeEventListener("processorerror",y),y=typeof A=="function"?A:null,typeof y=="function"&&b.addEventListener("processorerror",y)}}}),b.addEventListener=(A=>(...N)=>{if(N[0]==="processorerror"){const k=typeof N[1]=="function"?N[1]:typeof N[1]=="object"&&N[1]!==null&&typeof N[1].handleEvent=="function"?N[1].handleEvent:null;if(k!==null){const T=w.get(N[1]);T!==void 0?N[1]=T:(N[1]=P=>{P.type==="error"?(Object.defineProperties(P,{type:{value:"processorerror"}}),k(P)):k(new ErrorEvent(N[0],{...P}))},w.set(k,N[1]))}}return A.call(b,"error",N[1],N[2]),A.call(b,...N)})(b.addEventListener),b.removeEventListener=(A=>(...N)=>{if(N[0]==="processorerror"){const k=w.get(N[1]);k!==void 0&&(w.delete(N[1]),N[1]=k)}return A.call(b,"error",N[1],N[2]),A.call(b,N[0],N[1],N[2])})(b.removeEventListener),m.numberOfOutputs!==0){const A=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return b.connect(A).connect(o.destination),a(b,()=>A.disconnect(),()=>A.connect(o.destination))}return b}catch(b){throw b.code===11?r():b}if(d===void 0)throw r();return H6(m),t(o,h,d,m)},sx=(i,t)=>i===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(i*t))))),Y6=i=>new Promise((t,e)=>{const{port1:r,port2:a}=new MessageChannel;r.onmessage=({data:o})=>{r.close(),a.close(),t(o)},r.onmessageerror=({data:o})=>{r.close(),a.close(),e(o)},a.postMessage(i)}),W6=async(i,t)=>{const e=await Y6(t);return new i(e)},X6=(i,t,e,r)=>{let a=R0.get(i);a===void 0&&(a=new WeakMap,R0.set(i,a));const o=W6(e,r);return a.set(t,o),o},Z6=(i,t,e,r,a,o,h,c,f,d,m,b,w)=>(y,A,N,k)=>{if(k.numberOfInputs===0&&k.numberOfOutputs===0)throw f();const T=Array.isArray(k.outputChannelCount)?k.outputChannelCount:Array.from(k.outputChannelCount);if(T.some(V=>V<1))throw f();if(T.length!==k.numberOfOutputs)throw t();if(k.channelCountMode!=="explicit")throw f();const P=k.channelCount*k.numberOfInputs,F=T.reduce((V,Dt)=>V+Dt,0),I=N.parameterDescriptors===void 0?0:N.parameterDescriptors.length;if(P+I>6||F>6)throw f();const B=new MessageChannel,Q=[],Y=[];for(let V=0;V<k.numberOfInputs;V+=1)Q.push(h(y,{channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation,gain:1})),Y.push(a(y,{channelCount:k.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:k.channelCount}));const D=[];if(N.parameterDescriptors!==void 0)for(const{defaultValue:V,maxValue:Dt,minValue:ue,name:ne}of N.parameterDescriptors){const Lt=o(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:k.parameterData[ne]!==void 0?k.parameterData[ne]:V===void 0?0:V});Object.defineProperties(Lt.offset,{defaultValue:{get:()=>V===void 0?0:V},maxValue:{get:()=>Dt===void 0?Qr:Dt},minValue:{get:()=>ue===void 0?ws:ue}}),D.push(Lt)}const R=r(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,P+I)}),Z=sx(A,y.sampleRate),C=c(y,Z,P+I,Math.max(1,F)),j=a(y,{channelCount:Math.max(1,F),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,F)}),U=[];for(let V=0;V<k.numberOfOutputs;V+=1)U.push(r(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:T[V]}));for(let V=0;V<k.numberOfInputs;V+=1){Q[V].connect(Y[V]);for(let Dt=0;Dt<k.channelCount;Dt+=1)Y[V].connect(R,Dt,V*k.channelCount+Dt)}const J=new nx(N.parameterDescriptors===void 0?[]:N.parameterDescriptors.map(({name:V},Dt)=>{const ue=D[Dt];return ue.connect(R,0,P+Dt),ue.start(0),[V,ue.offset]}));R.connect(C);let ut=k.channelInterpretation,$=null;const rt=k.numberOfOutputs===0?[C]:U,ct={get bufferSize(){return Z},get channelCount(){return k.channelCount},set channelCount(V){throw e()},get channelCountMode(){return k.channelCountMode},set channelCountMode(V){throw e()},get channelInterpretation(){return ut},set channelInterpretation(V){for(const Dt of Q)Dt.channelInterpretation=V;ut=V},get context(){return C.context},get inputs(){return Q},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get onprocessorerror(){return $},set onprocessorerror(V){typeof $=="function"&&ct.removeEventListener("processorerror",$),$=typeof V=="function"?V:null,typeof $=="function"&&ct.addEventListener("processorerror",$)},get parameters(){return J},get port(){return B.port2},addEventListener(...V){return C.addEventListener(V[0],V[1],V[2])},connect:i.bind(null,rt),disconnect:d.bind(null,rt),dispatchEvent(...V){return C.dispatchEvent(V[0])},removeEventListener(...V){return C.removeEventListener(V[0],V[1],V[2])}},pt=new Map;B.port1.addEventListener=(V=>(...Dt)=>{if(Dt[0]==="message"){const ue=typeof Dt[1]=="function"?Dt[1]:typeof Dt[1]=="object"&&Dt[1]!==null&&typeof Dt[1].handleEvent=="function"?Dt[1].handleEvent:null;if(ue!==null){const ne=pt.get(Dt[1]);ne!==void 0?Dt[1]=ne:(Dt[1]=Lt=>{m(y.currentTime,y.sampleRate,()=>ue(Lt))},pt.set(ue,Dt[1]))}}return V.call(B.port1,Dt[0],Dt[1],Dt[2])})(B.port1.addEventListener),B.port1.removeEventListener=(V=>(...Dt)=>{if(Dt[0]==="message"){const ue=pt.get(Dt[1]);ue!==void 0&&(pt.delete(Dt[1]),Dt[1]=ue)}return V.call(B.port1,Dt[0],Dt[1],Dt[2])})(B.port1.removeEventListener);let Nt=null;Object.defineProperty(B.port1,"onmessage",{get:()=>Nt,set:V=>{typeof Nt=="function"&&B.port1.removeEventListener("message",Nt),Nt=typeof V=="function"?V:null,typeof Nt=="function"&&(B.port1.addEventListener("message",Nt),B.port1.start())}}),N.prototype.port=B.port1;let X=null;X6(y,ct,N,k).then(V=>X=V);const H=Fp(k.numberOfInputs,k.channelCount),tt=Fp(k.numberOfOutputs,T),it=N.parameterDescriptors===void 0?[]:N.parameterDescriptors.reduce((V,{name:Dt})=>({...V,[Dt]:new Float32Array(128)}),{});let ot=!0;const mt=()=>{k.numberOfOutputs>0&&C.disconnect(j);for(let V=0,Dt=0;V<k.numberOfOutputs;V+=1){const ue=U[V];for(let ne=0;ne<T[V];ne+=1)j.disconnect(ue,Dt+ne,ne);Dt+=T[V]}},ft=new Map;C.onaudioprocess=({inputBuffer:V,outputBuffer:Dt})=>{if(X!==null){const ue=b(ct);for(let ne=0;ne<Z;ne+=128){for(let Lt=0;Lt<k.numberOfInputs;Lt+=1)for(let ee=0;ee<k.channelCount;ee+=1)zp(V,H[Lt],ee,ee,ne);N.parameterDescriptors!==void 0&&N.parameterDescriptors.forEach(({name:Lt},ee)=>{zp(V,it,Lt,P+ee,ne)});for(let Lt=0;Lt<k.numberOfInputs;Lt+=1)for(let ee=0;ee<T[Lt];ee+=1)tt[Lt][ee].byteLength===0&&(tt[Lt][ee]=new Float32Array(128));try{const Lt=H.map((ie,le)=>{if(ue[le].size>0)return ft.set(le,Z/128),ie;const ke=ft.get(le);return ke===void 0?[]:(ie.every(Gt=>Gt.every(Kt=>Kt===0))&&(ke===1?ft.delete(le):ft.set(le,ke-1)),ie)});ot=m(y.currentTime+ne/y.sampleRate,y.sampleRate,()=>X.process(Lt,tt,it));for(let ie=0,le=0;ie<k.numberOfOutputs;ie+=1){for(let pe=0;pe<T[ie];pe+=1)ix(Dt,tt[ie],pe,le+pe,ne);le+=T[ie]}}catch(Lt){ot=!1,ct.dispatchEvent(new ErrorEvent("processorerror",{colno:Lt.colno,filename:Lt.filename,lineno:Lt.lineno,message:Lt.message}))}if(!ot){for(let Lt=0;Lt<k.numberOfInputs;Lt+=1){Q[Lt].disconnect(Y[Lt]);for(let ee=0;ee<k.channelCount;ee+=1)Y[ne].disconnect(R,ee,Lt*k.channelCount+ee)}if(N.parameterDescriptors!==void 0){const Lt=N.parameterDescriptors.length;for(let ee=0;ee<Lt;ee+=1){const ie=D[ee];ie.disconnect(R,0,P+ee),ie.stop()}}R.disconnect(C),C.onaudioprocess=null,gt?mt():Xt();break}}}};let gt=!1;const _t=h(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Rt=()=>C.connect(_t).connect(y.destination),Xt=()=>{C.disconnect(_t),_t.disconnect()},Ht=()=>{if(ot){Xt(),k.numberOfOutputs>0&&C.connect(j);for(let V=0,Dt=0;V<k.numberOfOutputs;V+=1){const ue=U[V];for(let ne=0;ne<T[V];ne+=1)j.connect(ue,Dt+ne,ne);Dt+=T[V]}}gt=!0},$t=()=>{ot&&(Rt(),mt()),gt=!1};return Rt(),w(ct,Ht,$t)},ax=(i,t)=>{const e=i.createBiquadFilter();return cr(e,t),Li(e,t,"Q"),Li(e,t,"detune"),Li(e,t,"frequency"),Li(e,t,"gain"),gi(e,t,"type"),e},K6=(i,t)=>(e,r)=>{const a=e.createChannelMerger(r.numberOfInputs);return i!==null&&i.name==="webkitAudioContext"&&t(e,a),cr(a,r),a},$6=i=>{const t=i.numberOfOutputs;Object.defineProperty(i,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw br()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:e=>{if(e!=="explicit")throw br()}}),Object.defineProperty(i,"channelInterpretation",{get:()=>"discrete",set:e=>{if(e!=="discrete")throw br()}})},td=(i,t)=>{const e=i.createChannelSplitter(t.numberOfOutputs);return cr(e,t),$6(e),e},Q6=(i,t,e,r,a)=>(o,h)=>{if(o.createConstantSource===void 0)return e(o,h);const c=o.createConstantSource();return cr(c,h),Li(c,h,"offset"),t(r,()=>r(o))||ug(c),t(a,()=>a(o))||hg(c),i(o,c),c},Oh=(i,t)=>(i.connect=t.connect.bind(t),i.disconnect=t.disconnect.bind(t),i),J6=(i,t,e,r)=>(a,{offset:o,...h})=>{const c=a.createBuffer(1,2,44100),f=t(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=e(a,{...h,gain:o}),m=c.getChannelData(0);m[0]=1,m[1]=1,f.buffer=c,f.loop=!0;const b={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(A){d.channelCount=A},get channelCountMode(){return d.channelCountMode},set channelCountMode(A){d.channelCountMode=A},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(A){d.channelInterpretation=A},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return f.onended},set onended(A){f.onended=A},addEventListener(...A){return f.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return f.dispatchEvent(A[0])},removeEventListener(...A){return f.removeEventListener(A[0],A[1],A[2])},start(A=0){f.start.call(f,A)},stop(A=0){f.stop.call(f,A)}},w=()=>f.connect(d),y=()=>f.disconnect(d);return i(a,f),r(Oh(b,d),w,y)},tA=(i,t)=>(e,r)=>{const a=e.createConvolver();if(cr(a,r),r.disableNormalization===a.normalize&&(a.normalize=!r.disableNormalization),gi(a,r,"buffer"),r.channelCount>2||(t(a,"channelCount",o=>()=>o.call(a),o=>h=>{if(h>2)throw i();return o.call(a,h)}),r.channelCountMode==="max"))throw i();return t(a,"channelCountMode",o=>()=>o.call(a),o=>h=>{if(h==="max")throw i();return o.call(a,h)}),a},ox=(i,t)=>{const e=i.createDelay(t.maxDelayTime);return cr(e,t),Li(e,t,"delayTime"),e},eA=i=>(t,e)=>{const r=t.createDynamicsCompressor();if(cr(r,e),e.channelCount>2||e.channelCountMode==="max")throw i();return Li(r,e,"attack"),Li(r,e,"knee"),Li(r,e,"ratio"),Li(r,e,"release"),Li(r,e,"threshold"),r},As=(i,t)=>{const e=i.createGain();return cr(e,t),Li(e,t,"gain"),e},nA=i=>(t,e,r)=>{if(t.createIIRFilter===void 0)return i(t,e,r);const a=t.createIIRFilter(r.feedforward,r.feedback);return cr(a,r),a};function iA(i,t){const e=t[0]*t[0]+t[1]*t[1];return[(i[0]*t[0]+i[1]*t[1])/e,(i[1]*t[0]-i[0]*t[1])/e]}function rA(i,t){return[i[0]*t[0]-i[1]*t[1],i[0]*t[1]+i[1]*t[0]]}function Zv(i,t){let e=[0,0];for(let r=i.length-1;r>=0;r-=1)e=rA(e,t),e[0]+=i[r];return e}const sA=(i,t,e,r)=>(a,o,{channelCount:h,channelCountMode:c,channelInterpretation:f,feedback:d,feedforward:m})=>{const b=sx(o,a.sampleRate),w=d instanceof Float64Array?d:new Float64Array(d),y=m instanceof Float64Array?m:new Float64Array(m),A=w.length,N=y.length,k=Math.min(A,N);if(A===0||A>20)throw r();if(w[0]===0)throw t();if(N===0||N>20)throw r();if(y[0]===0)throw t();if(w[0]!==1){for(let D=0;D<N;D+=1)y[D]/=w[0];for(let D=1;D<A;D+=1)w[D]/=w[0]}const T=e(a,b,h,h);T.channelCount=h,T.channelCountMode=c,T.channelInterpretation=f;const P=32,F=[],I=[],B=[];for(let D=0;D<h;D+=1){F.push(0);const R=new Float32Array(P),Z=new Float32Array(P);R.fill(0),Z.fill(0),I.push(R),B.push(Z)}T.onaudioprocess=D=>{const R=D.inputBuffer,Z=D.outputBuffer,C=R.numberOfChannels;for(let j=0;j<C;j+=1){const U=R.getChannelData(j),J=Z.getChannelData(j);F[j]=rx(w,A,y,N,k,I[j],B[j],F[j],P,U,J)}};const Q=a.sampleRate/2;return Oh({get bufferSize(){return b},get channelCount(){return T.channelCount},set channelCount(D){T.channelCount=D},get channelCountMode(){return T.channelCountMode},set channelCountMode(D){T.channelCountMode=D},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(D){T.channelInterpretation=D},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},addEventListener(...D){return T.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return T.dispatchEvent(D[0])},getFrequencyResponse(D,R,Z){if(D.length!==R.length||R.length!==Z.length)throw i();const C=D.length;for(let j=0;j<C;j+=1){const U=-Math.PI*(D[j]/Q),J=[Math.cos(U),Math.sin(U)],ut=Zv(y,J),$=Zv(w,J),rt=iA(ut,$);R[j]=Math.sqrt(rt[0]*rt[0]+rt[1]*rt[1]),Z[j]=Math.atan2(rt[1],rt[0])}},removeEventListener(...D){return T.removeEventListener(D[0],D[1],D[2])}},T)},aA=(i,t)=>i.createMediaElementSource(t.mediaElement),oA=(i,t)=>{const e=i.createMediaStreamDestination();return cr(e,t),e.numberOfOutputs===1&&Object.defineProperty(e,"numberOfOutputs",{get:()=>0}),e},lA=(i,{mediaStream:t})=>{const e=t.getAudioTracks();e.sort((o,h)=>o.id<h.id?-1:o.id>h.id?1:0);const r=e.slice(0,1),a=i.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(a,"mediaStream",{value:t}),a},cA=(i,t)=>(e,{mediaStreamTrack:r})=>{if(typeof e.createMediaStreamTrackSource=="function")return e.createMediaStreamTrackSource(r);const a=new MediaStream([r]),o=e.createMediaStreamSource(a);if(r.kind!=="audio")throw i();if(t(e))throw new TypeError;return o},uA=i=>i===null?null:i.hasOwnProperty("OfflineAudioContext")?i.OfflineAudioContext:i.hasOwnProperty("webkitOfflineAudioContext")?i.webkitOfflineAudioContext:null,hA=(i,t,e,r,a,o)=>(h,c)=>{const f=h.createOscillator();return cr(f,c),Li(f,c,"detune"),Li(f,c,"frequency"),c.periodicWave!==void 0?f.setPeriodicWave(c.periodicWave):gi(f,c,"type"),t(e,()=>e(h))||ug(f),t(r,()=>r(h))||o(f,h),t(a,()=>a(h))||hg(f),i(h,f),f},fA=i=>(t,e)=>{const r=t.createPanner();return r.orientationX===void 0?i(t,e):(cr(r,e),Li(r,e,"orientationX"),Li(r,e,"orientationY"),Li(r,e,"orientationZ"),Li(r,e,"positionX"),Li(r,e,"positionY"),Li(r,e,"positionZ"),gi(r,e,"coneInnerAngle"),gi(r,e,"coneOuterAngle"),gi(r,e,"coneOuterGain"),gi(r,e,"distanceModel"),gi(r,e,"maxDistance"),gi(r,e,"panningModel"),gi(r,e,"refDistance"),gi(r,e,"rolloffFactor"),r)},dA=(i,t,e,r,a,o,h,c,f,d)=>(m,{coneInnerAngle:b,coneOuterAngle:w,coneOuterGain:y,distanceModel:A,maxDistance:N,orientationX:k,orientationY:T,orientationZ:P,panningModel:F,positionX:I,positionY:B,positionZ:Q,refDistance:Y,rolloffFactor:D,...R})=>{const Z=m.createPanner();if(R.channelCount>2||R.channelCountMode==="max")throw h();cr(Z,R);const C={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},j=e(m,{...C,channelInterpretation:"speakers",numberOfInputs:6}),U=r(m,{...R,gain:1}),J=r(m,{...C,gain:1}),ut=r(m,{...C,gain:0}),$=r(m,{...C,gain:0}),rt=r(m,{...C,gain:0}),ct=r(m,{...C,gain:0}),pt=r(m,{...C,gain:0}),Nt=a(m,256,6,1),X=o(m,{...C,curve:new Float32Array([1,1]),oversample:"none"});let E=[k,T,P],H=[I,B,Q];const tt=new Float32Array(1);Nt.onaudioprocess=({inputBuffer:ft})=>{const gt=[f(ft,tt,0),f(ft,tt,1),f(ft,tt,2)];gt.some((Rt,Xt)=>Rt!==E[Xt])&&(Z.setOrientation(...gt),E=gt);const _t=[f(ft,tt,3),f(ft,tt,4),f(ft,tt,5)];_t.some((Rt,Xt)=>Rt!==H[Xt])&&(Z.setPosition(..._t),H=_t)},Object.defineProperty(ut.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(rt.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ct.gain,"defaultValue",{get:()=>0}),Object.defineProperty(pt.gain,"defaultValue",{get:()=>0});const it={get bufferSize(){},get channelCount(){return Z.channelCount},set channelCount(ft){if(ft>2)throw h();U.channelCount=ft,Z.channelCount=ft},get channelCountMode(){return Z.channelCountMode},set channelCountMode(ft){if(ft==="max")throw h();U.channelCountMode=ft,Z.channelCountMode=ft},get channelInterpretation(){return Z.channelInterpretation},set channelInterpretation(ft){U.channelInterpretation=ft,Z.channelInterpretation=ft},get coneInnerAngle(){return Z.coneInnerAngle},set coneInnerAngle(ft){Z.coneInnerAngle=ft},get coneOuterAngle(){return Z.coneOuterAngle},set coneOuterAngle(ft){Z.coneOuterAngle=ft},get coneOuterGain(){return Z.coneOuterGain},set coneOuterGain(ft){if(ft<0||ft>1)throw t();Z.coneOuterGain=ft},get context(){return Z.context},get distanceModel(){return Z.distanceModel},set distanceModel(ft){Z.distanceModel=ft},get inputs(){return[U]},get maxDistance(){return Z.maxDistance},set maxDistance(ft){if(ft<0)throw new RangeError;Z.maxDistance=ft},get numberOfInputs(){return Z.numberOfInputs},get numberOfOutputs(){return Z.numberOfOutputs},get orientationX(){return J.gain},get orientationY(){return ut.gain},get orientationZ(){return $.gain},get panningModel(){return Z.panningModel},set panningModel(ft){Z.panningModel=ft},get positionX(){return rt.gain},get positionY(){return ct.gain},get positionZ(){return pt.gain},get refDistance(){return Z.refDistance},set refDistance(ft){if(ft<0)throw new RangeError;Z.refDistance=ft},get rolloffFactor(){return Z.rolloffFactor},set rolloffFactor(ft){if(ft<0)throw new RangeError;Z.rolloffFactor=ft},addEventListener(...ft){return U.addEventListener(ft[0],ft[1],ft[2])},dispatchEvent(...ft){return U.dispatchEvent(ft[0])},removeEventListener(...ft){return U.removeEventListener(ft[0],ft[1],ft[2])}};b!==it.coneInnerAngle&&(it.coneInnerAngle=b),w!==it.coneOuterAngle&&(it.coneOuterAngle=w),y!==it.coneOuterGain&&(it.coneOuterGain=y),A!==it.distanceModel&&(it.distanceModel=A),N!==it.maxDistance&&(it.maxDistance=N),k!==it.orientationX.value&&(it.orientationX.value=k),T!==it.orientationY.value&&(it.orientationY.value=T),P!==it.orientationZ.value&&(it.orientationZ.value=P),F!==it.panningModel&&(it.panningModel=F),I!==it.positionX.value&&(it.positionX.value=I),B!==it.positionY.value&&(it.positionY.value=B),Q!==it.positionZ.value&&(it.positionZ.value=Q),Y!==it.refDistance&&(it.refDistance=Y),D!==it.rolloffFactor&&(it.rolloffFactor=D),(E[0]!==1||E[1]!==0||E[2]!==0)&&Z.setOrientation(...E),(H[0]!==0||H[1]!==0||H[2]!==0)&&Z.setPosition(...H);const ot=()=>{U.connect(Z),i(U,X,0,0),X.connect(J).connect(j,0,0),X.connect(ut).connect(j,0,1),X.connect($).connect(j,0,2),X.connect(rt).connect(j,0,3),X.connect(ct).connect(j,0,4),X.connect(pt).connect(j,0,5),j.connect(Nt).connect(m.destination)},mt=()=>{U.disconnect(Z),c(U,X,0,0),X.disconnect(J),J.disconnect(j),X.disconnect(ut),ut.disconnect(j),X.disconnect($),$.disconnect(j),X.disconnect(rt),rt.disconnect(j),X.disconnect(ct),ct.disconnect(j),X.disconnect(pt),pt.disconnect(j),j.disconnect(Nt),Nt.disconnect(m.destination)};return d(Oh(it,Z),ot,mt)},pA=i=>(t,{disableNormalization:e,imag:r,real:a})=>{const o=r instanceof Float32Array?r:new Float32Array(r),h=a instanceof Float32Array?a:new Float32Array(a),c=t.createPeriodicWave(h,o,{disableNormalization:e});if(Array.from(r).length<2)throw i();return c},ed=(i,t,e,r)=>i.createScriptProcessor(t,e,r),mA=(i,t)=>(e,r)=>{const a=r.channelCountMode;if(a==="clamped-max")throw t();if(e.createStereoPanner===void 0)return i(e,r);const o=e.createStereoPanner();return cr(o,r),Li(o,r,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>a,set:h=>{if(h!==a)throw t()}}),o},gA=(i,t,e,r,a,o)=>{const c=new Float32Array([1,1]),f=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...d,oversample:"none"},b=(A,N,k,T)=>{const P=new Float32Array(16385),F=new Float32Array(16385);for(let R=0;R<16385;R+=1){const Z=R/16384*f;P[R]=Math.cos(Z),F[R]=Math.sin(Z)}const I=e(A,{...d,gain:0}),B=r(A,{...m,curve:P}),Q=r(A,{...m,curve:c}),Y=e(A,{...d,gain:0}),D=r(A,{...m,curve:F});return{connectGraph(){N.connect(I),N.connect(Q.inputs===void 0?Q:Q.inputs[0]),N.connect(Y),Q.connect(k),k.connect(B.inputs===void 0?B:B.inputs[0]),k.connect(D.inputs===void 0?D:D.inputs[0]),B.connect(I.gain),D.connect(Y.gain),I.connect(T,0,0),Y.connect(T,0,1)},disconnectGraph(){N.disconnect(I),N.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),N.disconnect(Y),Q.disconnect(k),k.disconnect(B.inputs===void 0?B:B.inputs[0]),k.disconnect(D.inputs===void 0?D:D.inputs[0]),B.disconnect(I.gain),D.disconnect(Y.gain),I.disconnect(T,0,0),Y.disconnect(T,0,1)}}},w=(A,N,k,T)=>{const P=new Float32Array(16385),F=new Float32Array(16385),I=new Float32Array(16385),B=new Float32Array(16385),Q=Math.floor(16385/2);for(let rt=0;rt<16385;rt+=1)if(rt>Q){const ct=(rt-Q)/(16384-Q)*f;P[rt]=Math.cos(ct),F[rt]=Math.sin(ct),I[rt]=0,B[rt]=1}else{const ct=rt/(16384-Q)*f;P[rt]=1,F[rt]=0,I[rt]=Math.cos(ct),B[rt]=Math.sin(ct)}const Y=t(A,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),D=e(A,{...d,gain:0}),R=r(A,{...m,curve:P}),Z=e(A,{...d,gain:0}),C=r(A,{...m,curve:F}),j=r(A,{...m,curve:c}),U=e(A,{...d,gain:0}),J=r(A,{...m,curve:I}),ut=e(A,{...d,gain:0}),$=r(A,{...m,curve:B});return{connectGraph(){N.connect(Y),N.connect(j.inputs===void 0?j:j.inputs[0]),Y.connect(D,0),Y.connect(Z,0),Y.connect(U,1),Y.connect(ut,1),j.connect(k),k.connect(R.inputs===void 0?R:R.inputs[0]),k.connect(C.inputs===void 0?C:C.inputs[0]),k.connect(J.inputs===void 0?J:J.inputs[0]),k.connect($.inputs===void 0?$:$.inputs[0]),R.connect(D.gain),C.connect(Z.gain),J.connect(U.gain),$.connect(ut.gain),D.connect(T,0,0),U.connect(T,0,0),Z.connect(T,0,1),ut.connect(T,0,1)},disconnectGraph(){N.disconnect(Y),N.disconnect(j.inputs===void 0?j:j.inputs[0]),Y.disconnect(D,0),Y.disconnect(Z,0),Y.disconnect(U,1),Y.disconnect(ut,1),j.disconnect(k),k.disconnect(R.inputs===void 0?R:R.inputs[0]),k.disconnect(C.inputs===void 0?C:C.inputs[0]),k.disconnect(J.inputs===void 0?J:J.inputs[0]),k.disconnect($.inputs===void 0?$:$.inputs[0]),R.disconnect(D.gain),C.disconnect(Z.gain),J.disconnect(U.gain),$.disconnect(ut.gain),D.disconnect(T,0,0),U.disconnect(T,0,0),Z.disconnect(T,0,1),ut.disconnect(T,0,1)}}},y=(A,N,k,T,P)=>{if(N===1)return b(A,k,T,P);if(N===2)return w(A,k,T,P);throw a()};return(A,{channelCount:N,channelCountMode:k,pan:T,...P})=>{if(k==="max")throw a();const F=i(A,{...P,channelCount:1,channelCountMode:k,numberOfInputs:2}),I=e(A,{...P,channelCount:N,channelCountMode:k,gain:1}),B=e(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:T});let{connectGraph:Q,disconnectGraph:Y}=y(A,N,I,B,F);Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"maxValue",{get:()=>1}),Object.defineProperty(B.gain,"minValue",{get:()=>-1});const D={get bufferSize(){},get channelCount(){return I.channelCount},set channelCount(j){I.channelCount!==j&&(R&&Y(),{connectGraph:Q,disconnectGraph:Y}=y(A,j,I,B,F),R&&Q()),I.channelCount=j},get channelCountMode(){return I.channelCountMode},set channelCountMode(j){if(j==="clamped-max"||j==="max")throw a();I.channelCountMode=j},get channelInterpretation(){return I.channelInterpretation},set channelInterpretation(j){I.channelInterpretation=j},get context(){return I.context},get inputs(){return[I]},get numberOfInputs(){return I.numberOfInputs},get numberOfOutputs(){return I.numberOfOutputs},get pan(){return B.gain},addEventListener(...j){return I.addEventListener(j[0],j[1],j[2])},dispatchEvent(...j){return I.dispatchEvent(j[0])},removeEventListener(...j){return I.removeEventListener(j[0],j[1],j[2])}};let R=!1;const Z=()=>{Q(),R=!0},C=()=>{Y(),R=!1};return o(Oh(D,F),Z,C)}},vA=(i,t,e,r,a,o,h)=>(c,f)=>{const d=c.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return e(c,f);cr(d,f);const m=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(m!==null&&m.length<2)throw t();gi(d,{curve:m},"curve"),gi(d,f,"oversample");let b=null,w=!1;return h(d,"curve",N=>()=>N.call(d),N=>k=>(N.call(d,k),w&&(r(k)&&b===null?b=i(c,d):!r(k)&&b!==null&&(b(),b=null)),k)),a(d,()=>{w=!0,r(d.curve)&&(b=i(c,d))},()=>{w=!1,b!==null&&(b(),b=null)})},yA=(i,t,e,r,a)=>(o,{curve:h,oversample:c,...f})=>{const d=o.createWaveShaper(),m=o.createWaveShaper();cr(d,f),cr(m,f);const b=e(o,{...f,gain:1}),w=e(o,{...f,gain:-1}),y=e(o,{...f,gain:1}),A=e(o,{...f,gain:-1});let N=null,k=!1,T=null;const P={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(B){b.channelCount=B,w.channelCount=B,d.channelCount=B,y.channelCount=B,m.channelCount=B,A.channelCount=B},get channelCountMode(){return d.channelCountMode},set channelCountMode(B){b.channelCountMode=B,w.channelCountMode=B,d.channelCountMode=B,y.channelCountMode=B,m.channelCountMode=B,A.channelCountMode=B},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(B){b.channelInterpretation=B,w.channelInterpretation=B,d.channelInterpretation=B,y.channelInterpretation=B,m.channelInterpretation=B,A.channelInterpretation=B},get context(){return d.context},get curve(){return T},set curve(B){if(B!==null&&B.length<2)throw t();if(B===null)d.curve=B,m.curve=B;else{const Q=B.length,Y=new Float32Array(Q+2-Q%2),D=new Float32Array(Q+2-Q%2);Y[0]=B[0],D[0]=-B[Q-1];const R=Math.ceil((Q+1)/2),Z=(Q+1)/2-1;for(let C=1;C<R;C+=1){const j=C/R*Z,U=Math.floor(j),J=Math.ceil(j);Y[C]=U===J?B[U]:(1-(j-U))*B[U]+(1-(J-j))*B[J],D[C]=U===J?-B[Q-1-U]:-((1-(j-U))*B[Q-1-U])-(1-(J-j))*B[Q-1-J]}Y[R]=Q%2===1?B[R-1]:(B[R-2]+B[R-1])/2,d.curve=Y,m.curve=D}T=B,k&&(r(T)&&N===null?N=i(o,b):N!==null&&(N(),N=null))},get inputs(){return[b]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(B){d.oversample=B,m.oversample=B},addEventListener(...B){return b.addEventListener(B[0],B[1],B[2])},dispatchEvent(...B){return b.dispatchEvent(B[0])},removeEventListener(...B){return b.removeEventListener(B[0],B[1],B[2])}};h!==null&&(P.curve=h instanceof Float32Array?h:new Float32Array(h)),c!==P.oversample&&(P.oversample=c);const F=()=>{b.connect(d).connect(y),b.connect(w).connect(m).connect(A).connect(y),k=!0,r(T)&&(N=i(o,b))},I=()=>{b.disconnect(d),d.disconnect(y),b.disconnect(w),w.disconnect(m),m.disconnect(A),A.disconnect(y),k=!1,N!==null&&(N(),N=null)};return a(Oh(P,y),F,I)},es=()=>new DOMException("","NotSupportedError"),bA={numberOfChannels:1},xA=(i,t,e,r,a)=>class extends i{constructor(h,c,f){let d;if(typeof h=="number"&&c!==void 0&&f!==void 0)d={length:c,numberOfChannels:h,sampleRate:f};else if(typeof h=="object")d=h;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:b,sampleRate:w}={...bA,...d},y=r(b,m,w);t(Ff,()=>Ff(y))||y.addEventListener("statechange",(()=>{let A=0;const N=k=>{this._state==="running"&&(A>0?(y.removeEventListener("statechange",N),k.stopImmediatePropagation(),this._waitForThePromiseToSettle(k)):A+=1)};return N})()),super(y,b),this._length=m,this._nativeOfflineAudioContext=y,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(e()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Qb(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},_A={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},wA=(i,t,e,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),b={..._A,...d},w=e(m,b),y=o(m),A=y?r():null,N=f.sampleRate/2;super(f,!1,w,A),this._detune=t(this,y,w.detune,153600,-153600),this._frequency=t(this,y,w.frequency,N,-N),this._nativeOscillatorNode=w,this._onended=null,this._oscillatorNodeRenderer=A,this._oscillatorNodeRenderer!==null&&b.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=b.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeOscillatorNode.onended=d;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===d?f:m}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){Nh(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),dl(this)&&$f(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},SA=(i,t,e,r,a)=>()=>{const o=new WeakMap;let h=null,c=null,f=null;const d=async(m,b)=>{let w=e(m);const y=Pr(w,b);if(!y){const A={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,detune:w.detune.value,frequency:w.frequency.value,periodicWave:h===null?void 0:h,type:w.type};w=t(b,A),c!==null&&w.start(c),f!==null&&w.stop(f)}return o.set(b,w),y?(await i(b,m.detune,w.detune),await i(b,m.frequency,w.frequency)):(await r(b,m.detune,w.detune),await r(b,m.frequency,w.frequency)),await a(m,b,w),w};return{set periodicWave(m){h=m},set start(m){c=m},set stop(m){f=m},render(m,b){const w=o.get(b);return w!==void 0?Promise.resolve(w):d(m,b)}}},AA={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},NA=(i,t,e,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),b={...AA,...d},w=e(m,b),y=o(m),A=y?r():null;super(f,!1,w,A),this._nativePannerNode=w,this._orientationX=t(this,y,w.orientationX,Qr,ws),this._orientationY=t(this,y,w.orientationY,Qr,ws),this._orientationZ=t(this,y,w.orientationZ,Qr,ws),this._positionX=t(this,y,w.positionX,Qr,ws),this._positionY=t(this,y,w.positionY,Qr,ws),this._positionZ=t(this,y,w.positionZ,Qr,ws),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},TA=(i,t,e,r,a,o,h,c,f,d)=>()=>{const m=new WeakMap;let b=null;const w=async(y,A)=>{let N=null,k=o(y);const T={channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation},P={...T,coneInnerAngle:k.coneInnerAngle,coneOuterAngle:k.coneOuterAngle,coneOuterGain:k.coneOuterGain,distanceModel:k.distanceModel,maxDistance:k.maxDistance,panningModel:k.panningModel,refDistance:k.refDistance,rolloffFactor:k.rolloffFactor},F=Pr(k,A);if("bufferSize"in k)N=r(A,{...T,gain:1});else if(!F){const I={...P,orientationX:k.orientationX.value,orientationY:k.orientationY.value,orientationZ:k.orientationZ.value,positionX:k.positionX.value,positionY:k.positionY.value,positionZ:k.positionZ.value};k=a(A,I)}if(m.set(A,N===null?k:N),N!==null){if(b===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const C=new h(6,y.context.length,A.sampleRate),j=t(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});j.connect(C.destination),b=(async()=>{const U=await Promise.all([y.orientationX,y.orientationY,y.orientationZ,y.positionX,y.positionY,y.positionZ].map(async(J,ut)=>{const $=e(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ut===0?1:0});return await c(C,J,$.offset),$}));for(let J=0;J<6;J+=1)U[J].connect(j,0,J),U[J].start(0);return d(C)})()}const I=await b,B=r(A,{...T,gain:1});await f(y,A,B);const Q=[];for(let C=0;C<I.numberOfChannels;C+=1)Q.push(I.getChannelData(C));let Y=[Q[0][0],Q[1][0],Q[2][0]],D=[Q[3][0],Q[4][0],Q[5][0]],R=r(A,{...T,gain:1}),Z=a(A,{...P,orientationX:Y[0],orientationY:Y[1],orientationZ:Y[2],positionX:D[0],positionY:D[1],positionZ:D[2]});B.connect(R).connect(Z.inputs[0]),Z.connect(N);for(let C=128;C<I.length;C+=128){const j=[Q[0][C],Q[1][C],Q[2][C]],U=[Q[3][C],Q[4][C],Q[5][C]];if(j.some((J,ut)=>J!==Y[ut])||U.some((J,ut)=>J!==D[ut])){Y=j,D=U;const J=C/A.sampleRate;R.gain.setValueAtTime(0,J),R=r(A,{...T,gain:0}),Z=a(A,{...P,orientationX:Y[0],orientationY:Y[1],orientationZ:Y[2],positionX:D[0],positionY:D[1],positionZ:D[2]}),R.gain.setValueAtTime(1,J),B.connect(R).connect(Z.inputs[0]),Z.connect(N)}}return N}return F?(await i(A,y.orientationX,k.orientationX),await i(A,y.orientationY,k.orientationY),await i(A,y.orientationZ,k.orientationZ),await i(A,y.positionX,k.positionX),await i(A,y.positionY,k.positionY),await i(A,y.positionZ,k.positionZ)):(await c(A,y.orientationX,k.orientationX),await c(A,y.orientationY,k.orientationY),await c(A,y.orientationZ,k.orientationZ),await c(A,y.positionX,k.positionX),await c(A,y.positionY,k.positionY),await c(A,y.positionZ,k.positionZ)),kh(k)?await f(y,A,k.inputs[0]):await f(y,A,k),k};return{render(y,A){const N=m.get(A);return N!==void 0?Promise.resolve(N):w(y,A)}}},CA={disableNormalization:!1},EA=(i,t,e,r)=>class lx{constructor(o,h){const c=t(o),f=r({...CA,...h}),d=i(c,f);return e.add(d),d}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===lx.prototype||e.has(o)}},kA=(i,t)=>(e,r,a)=>(i(r).replay(a),t(r,e,a)),OA=(i,t,e)=>async(r,a,o)=>{const h=i(r);await Promise.all(h.activeInputs.map((c,f)=>Array.from(c).map(async([d,m])=>{const w=await t(d).render(d,a),y=r.context.destination;!e(d)&&(r!==y||!e(r))&&w.connect(o,m,f)})).reduce((c,f)=>[...c,...f],[]))},MA=(i,t,e)=>async(r,a,o)=>{const h=t(r);await Promise.all(Array.from(h.activeInputs).map(async([c,f])=>{const m=await i(c).render(c,a);e(c)||m.connect(o,f)}))},LA=(i,t,e,r)=>a=>i(Ff,()=>Ff(a))?Promise.resolve(i(r,r)).then(o=>{if(!o){const h=e(a,512,0,1);a.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>a.currentTime,h.connect(a.destination)}return a.startRendering()}):new Promise(o=>{const h=t(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=c=>{h.disconnect(),o(c.renderedBuffer)},h.connect(a.destination),a.startRendering()}),DA=i=>(t,e)=>{i.set(t,e)},jA=i=>(t,e)=>i.set(t,e),RA=(i,t,e,r,a,o,h,c)=>(f,d)=>e(f).render(f,d).then(()=>Promise.all(Array.from(r(d)).map(m=>e(m).render(m,d)))).then(()=>a(d)).then(m=>(typeof m.copyFromChannel!="function"?(h(m),og(m)):t(o,()=>o(m))||c(m),i.add(m),m)),IA={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},BA=(i,t,e,r,a,o)=>class extends i{constructor(c,f){const d=a(c),m={...IA,...f},b=e(d,m),w=o(d),y=w?r():null;super(c,!1,b,y),this._pan=t(this,w,b.pan)}get pan(){return this._pan}},qA=(i,t,e,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=e(c);const m=Pr(d,f);if(!m){const b={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=t(f,b)}return o.set(f,d),m?await i(f,c.pan,d.pan):await r(f,c.pan,d.pan),kh(d)?await a(c,f,d.inputs[0]):await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},zA=i=>()=>{if(i===null)return!1;try{new i({length:1,sampleRate:44100})}catch{return!1}return!0},FA=(i,t)=>async()=>{if(i===null)return!0;if(t===null)return!1;const e=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,44100),a=URL.createObjectURL(e);let o=!1,h=!1;try{await r.audioWorklet.addModule(a);const c=new i(r,"a",{numberOfOutputs:0}),f=r.createOscillator();c.port.onmessage=()=>o=!0,c.onprocessorerror=()=>h=!0,f.connect(c),f.start(0),await r.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(a)}return o&&!h},PA=(i,t)=>()=>{if(t===null)return Promise.resolve(!1);const e=new t(1,1,44100),r=i(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{e.oncomplete=()=>{r.disconnect(),a(e.currentTime!==0)},e.startRendering()})},UA=()=>new DOMException("","UnknownError"),VA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},HA=(i,t,e,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),b={...VA,...d},w=e(m,b),A=o(m)?r():null;super(f,!0,w,A),this._isCurveNullified=!1,this._nativeWaveShaperNode=w,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},GA=(i,t,e)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=t(o);if(!Pr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=i(h,d)}return r.set(h,c),kh(c)?await e(o,h,c.inputs[0]):await e(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},YA=()=>typeof window>"u"?null:window,WA=(i,t)=>e=>{e.copyFromChannel=(r,a,o=0)=>{const h=i(o),c=i(a);if(c>=e.numberOfChannels)throw t();const f=e.length,d=e.getChannelData(c),m=r.length;for(let b=h<0?-h:0;b+h<f&&b<m;b+=1)r[b]=d[b+h]},e.copyToChannel=(r,a,o=0)=>{const h=i(o),c=i(a);if(c>=e.numberOfChannels)throw t();const f=e.length,d=e.getChannelData(c),m=r.length;for(let b=h<0?-h:0;b+h<f&&b<m;b+=1)d[b+h]=r[b]}},XA=i=>t=>{t.copyFromChannel=(e=>(r,a,o=0)=>{const h=i(o),c=i(a);if(h<t.length)return e.call(t,r,c,h)})(t.copyFromChannel),t.copyToChannel=(e=>(r,a,o=0)=>{const h=i(o),c=i(a);if(h<t.length)return e.call(t,r,c,h)})(t.copyToChannel)},ZA=i=>(t,e)=>{const r=e.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=r),i(t,"buffer",a=>()=>{const o=a.call(t);return o===r?null:o},a=>o=>a.call(t,o===null?r:o))},KA=(i,t)=>(e,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw i()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw i()}});const a=e.createBufferSource();t(r,()=>{const c=r.numberOfInputs;for(let f=0;f<c;f+=1)a.connect(r,0,f)},()=>a.disconnect(r))},cx=(i,t,e)=>i.copyFromChannel===void 0?i.getChannelData(e)[0]:(i.copyFromChannel(t,e),t[0]),ux=i=>{if(i===null)return!1;const t=i.length;return t%2!==0?i[Math.floor(t/2)]!==0:i[t/2-1]+i[t/2]!==0},nd=(i,t,e,r)=>{let a=i;for(;!a.hasOwnProperty(t);)a=Object.getPrototypeOf(a);const{get:o,set:h}=Object.getOwnPropertyDescriptor(a,t);Object.defineProperty(i,t,{get:e(o),set:r(h)})},$A=i=>({...i,outputChannelCount:i.outputChannelCount!==void 0?i.outputChannelCount:i.numberOfInputs===1&&i.numberOfOutputs===1?[i.channelCount]:Array.from({length:i.numberOfOutputs},()=>1)}),QA=i=>({...i,channelCount:i.numberOfOutputs}),JA=i=>{const{imag:t,real:e}=i;return t===void 0?e===void 0?{...i,imag:[0,0],real:[0,0]}:{...i,imag:Array.from(e,()=>0),real:e}:e===void 0?{...i,imag:t,real:Array.from(t,()=>0)}:{...i,imag:t,real:e}},hx=(i,t,e)=>{try{i.setValueAtTime(t,e)}catch(r){if(r.code!==9)throw r;hx(i,t,e+1e-7)}},tN=i=>{const t=i.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},eN=i=>{const t=i.createBufferSource(),e=i.createBuffer(1,1,44100);t.buffer=e;try{t.start(0,1)}catch{return!1}return!0},nN=i=>{const t=i.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},fg=i=>{const t=i.createOscillator();try{t.start(-1)}catch(e){return e instanceof RangeError}return!1},fx=i=>{const t=i.createBuffer(1,1,44100),e=i.createBufferSource();e.buffer=t,e.start(),e.stop();try{return e.stop(),!0}catch{return!1}},dg=i=>{const t=i.createOscillator();try{t.stop(-1)}catch(e){return e instanceof RangeError}return!1},iN=i=>{const{port1:t,port2:e}=new MessageChannel;try{t.postMessage(i)}finally{t.close(),e.close()}},rN=i=>{i.start=(t=>(e=0,r=0,a)=>{const o=i.buffer,h=o===null?r:Math.min(o.duration,r);o!==null&&h>o.duration-.5/i.context.sampleRate?t.call(i,e,0,0):t.call(i,e,h,a)})(i.start)},dx=(i,t)=>{const e=t.createGain();i.connect(e);const r=(a=>()=>{a.call(i,e),i.removeEventListener("ended",r)})(i.disconnect);i.addEventListener("ended",r),Oh(i,e),i.stop=(a=>{let o=!1;return(h=0)=>{if(o)try{a.call(i,h)}catch{e.gain.setValueAtTime(0,h)}else a.call(i,h),o=!0}})(i.stop)},Mh=(i,t)=>e=>{const r={value:i};return Object.defineProperties(e,{currentTarget:r,target:r}),typeof t=="function"?t.call(i,e):t.handleEvent.call(i,e)},sN=N4(lu),aN=M4(lu),oN=VS(a1),px=new WeakMap,lN=o6(px),eo=bS(new Map,new WeakMap),Oo=YA(),mx=B6(eo,Mo),pg=a6(Jr),Or=OA(Jr,pg,ru),cN=I4(mx,li,Or),ti=u6(s1),yl=uA(Oo),Yn=C6(yl),gx=new WeakMap,vx=JS(Mh),id=P6(Oo),mg=S6(id),gg=A6(Oo),yx=N6(Oo),Pf=V6(Oo),Ui=oS(T4(Gb),O4(sN,aN,Ip,oN,Bp,Jr,lN,Kf,li,lu,dl,ru,wp),eo,y6(D0,Bp,Jr,li,zf,dl),Mo,o1,es,zS(Ip,D0,Jr,li,zf,ti,dl,Yn),YS(gx,Jr,Ka),vx,ti,mg,gg,yx,Yn,Pf),uN=R4(Ui,cN,Mo,mx,ti,Yn),vg=new WeakSet,Kv=q6(Oo),bx=LS(new Uint32Array(1)),yg=WA(bx,Mo),bg=XA(bx),xx=q4(vg,eo,es,Kv,yl,zA(Kv),yg,bg),l1=L4(As),_x=MA(pg,Qf,ru),Lo=TS(_x),Lh=F6(l1,eo,tN,eN,nN,fg,fx,dg,rN,ZA(nd),dx),Do=kA(l6(Qf),_x),hN=P4(Lo,Lh,li,Do,Or),no=lS(C4(Yb),gx,ag,cS,b4,x4,_4,w4,S4,O0,Vb,id,hx),fN=F4(Ui,hN,no,br,Lh,ti,Yn,Mh),dN=K4(Ui,$4,Mo,br,U6(As,nd),ti,Yn,Or),pN=yS(Lo,ax,li,Do,Or),cu=jA(px),mN=vS(Ui,no,pN,o1,ax,ti,Yn,cu),mc=R6(lu,gg),gN=KA(br,mc),gc=K6(id,gN),vN=wS(gc,li,Or),yN=_S(Ui,vN,gc,ti,Yn),bN=NS(td,li,Or),xN=AS(Ui,bN,td,ti,Yn,QA),_N=J6(l1,Lh,As,mc),Dh=Q6(l1,eo,_N,fg,dg),wN=MS(Lo,Dh,li,Do,Or),SN=OS(Ui,no,wN,Dh,ti,Yn,Mh),wx=tA(es,nd),AN=RS(wx,li,Or),NN=jS(Ui,AN,wx,ti,Yn,cu),TN=US(Lo,ox,li,Do,Or),CN=PS(Ui,no,TN,ox,ti,Yn,cu),Sx=eA(es),EN=KS(Lo,Sx,li,Do,Or),kN=ZS(Ui,no,EN,Sx,es,ti,Yn,cu),ON=r6(Lo,As,li,Do,Or),MN=i6(Ui,no,ON,As,ti,Yn),LN=sA(o1,br,ed,es),c1=LA(eo,As,ed,PA(As,yl)),DN=v6(Lh,li,yl,Or,c1),jN=nA(LN),RN=m6(Ui,jN,DN,ti,Yn,cu),IN=Q4(no,gc,Dh,ed,es,cx,Yn,nd),Ax=new WeakMap,BN=j6(dN,IN,vx,Yn,Ax,Mh),Nx=hA(l1,eo,fg,fx,dg,dx),qN=SA(Lo,Nx,li,Do,Or),zN=wA(Ui,no,Nx,qN,ti,Yn,Mh),Tx=ES(Lh),FN=yA(Tx,br,As,ux,mc),u1=vA(Tx,br,FN,ux,mc,id,nd),PN=dA(Ip,br,gc,As,ed,u1,es,Bp,cx,mc),Cx=fA(PN),UN=TA(Lo,gc,Dh,As,Cx,li,yl,Do,Or,c1),VN=NA(Ui,no,Cx,UN,ti,Yn,cu),HN=pA(Mo),GN=EA(HN,ti,new WeakSet,JA),YN=gA(gc,td,As,u1,es,mc),Ex=mA(YN,es),WN=qA(Lo,Ex,li,Do,Or),XN=BA(Ui,no,Ex,WN,ti,Yn),ZN=GA(u1,li,Or),KN=HA(Ui,br,u1,ZN,ti,Yn,cu),kx=E6(Oo),xg=t6(Oo),Ox=new WeakMap,$N=h6(Ox,yl),QN=kx?k4(eo,es,QS(Oo),xg,e6(A4),ti,$N,Yn,Pf,new WeakMap,new WeakMap,FA(Pf,yl),Oo):void 0,JN=T6(mg,Yn),t8=qS(vg,eo,BS,$S,new WeakSet,ti,JN,jp,Ff,yg,bg),Mx=mS(QN,uN,xx,fN,mN,yN,xN,SN,NN,t8,CN,kN,MN,RN,BN,zN,VN,GN,XN,KN),e8=k6(Ui,aA,ti,Yn),n8=M6(Ui,oA,ti,Yn),i8=L6(Ui,lA,ti,Yn),r8=cA(br,Yn),s8=D6(Ui,r8,ti),a8=Z4(Mx,br,es,UA,e8,n8,i8,s8,id),_g=f6(Ax),o8=D4(_g),Lx=CS(Mo),l8=HS(_g),Dx=WS(Mo),jx=new WeakMap,c8=s6(jx,Ka),u8=Z6(Lx,Mo,br,gc,td,Dh,As,ed,es,Dx,xg,c8,mc),h8=G6(br,u8,As,es,mc),f8=pS(Lo,Lx,Lh,gc,td,Dh,As,l8,Dx,xg,li,Pf,yl,Do,Or,c1),d8=c6(Ox),p8=DA(jx),$v=kx?hS(o8,Ui,no,f8,h8,Jr,d8,ti,Yn,Pf,$A,p8,iN,Mh):void 0,m8=IS(es,yl),g8=RA(vg,eo,pg,_g,c1,jp,yg,bg),v8=xA(Mx,eo,br,m8,g8),y8=b6(s1,mg),b8=x6(sg,gg),x8=_6(ag,yx),_8=w6(s1,Yn);function pa(i){return i===void 0}function ln(i){return i!==void 0}function w8(i){return typeof i=="function"}function pl(i){return typeof i=="number"}function eu(i){return Object.prototype.toString.call(i)==="[object Object]"&&i.constructor===Object}function S8(i){return typeof i=="boolean"}function Ys(i){return Array.isArray(i)}function ml(i){return typeof i=="string"}function op(i){return ml(i)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(i)}function ze(i,t){if(!i)throw new Error(t)}function gl(i,t,e=1/0){if(!(t<=i&&i<=e))throw new RangeError(`Value must be within [${t}, ${e}], got: ${i}`)}function Rx(i){!i.isOffline&&i.state!=="running"&&h1('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Ix=!1,Qv=!1;function Jv(i){Ix=i}function A8(i){pa(i)&&Ix&&!Qv&&(Qv=!0,h1("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Bx=console;function N8(...i){Bx.log(...i)}function h1(...i){Bx.warn(...i)}function T8(i){return new a8(i)}function C8(i,t,e){return new v8(i,t,e)}const Vs=typeof self=="object"?self:null,E8=Vs&&(Vs.hasOwnProperty("AudioContext")||Vs.hasOwnProperty("webkitAudioContext"));function k8(i,t,e){return ze(ln($v),"AudioWorkletNode only works in a secure context (https or localhost)"),new(i instanceof Vs?.BaseAudioContext?Vs?.AudioWorkletNode:$v)(i,t,e)}function io(i,t,e,r){var a=arguments.length,o=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,r);else for(var c=i.length-1;c>=0;c--)(h=i[c])&&(o=(a<3?h(o):a>3?h(t,e,o):h(t,e))||o);return a>3&&o&&Object.defineProperty(t,e,o),o}function Ki(i,t,e,r){function a(o){return o instanceof e?o:new e(function(h){h(o)})}return new(e||(e=Promise))(function(o,h){function c(m){try{d(r.next(m))}catch(b){h(b)}}function f(m){try{d(r.throw(m))}catch(b){h(b)}}function d(m){m.done?o(m.value):a(m.value).then(c,f)}d((r=r.apply(i,t||[])).next())})}class O8{constructor(t,e,r,a){this._callback=t,this._type=e,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const t=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),e=URL.createObjectURL(t),r=new Worker(e);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var e;this._updateInterval=Math.max(t,this._minimumUpdateInterval),this._type==="worker"&&((e=this._worker)===null||e===void 0||e.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function su(i){return x8(i)}function lc(i){return b8(i)}function Sp(i){return _8(i)}function oh(i){return y8(i)}function M8(i){return i instanceof xx}function L8(i,t){return i==="value"||su(t)||lc(t)||M8(t)}function nu(i,...t){if(!t.length)return i;const e=t.shift();if(eu(i)&&eu(e))for(const r in e)L8(r,e[r])?i[r]=e[r]:eu(e[r])?(i[r]||Object.assign(i,{[r]:{}}),nu(i[r],e[r])):Object.assign(i,{[r]:e[r]});return nu(i,...t)}function D8(i,t){return i.length===t.length&&i.every((e,r)=>t[r]===e)}function Be(i,t,e=[],r){const a={},o=Array.from(t);if(eu(o[0])&&r&&!Reflect.has(o[0],r)&&(Object.keys(o[0]).some(c=>Reflect.has(i,c))||(nu(a,{[r]:o[0]}),e.splice(e.indexOf(r),1),o.shift())),o.length===1&&eu(o[0]))nu(a,o[0]);else for(let h=0;h<e.length;h++)ln(o[h])&&(a[e[h]]=o[h]);return nu(i,a)}function j8(i){return i.constructor.getDefaults()}function gh(i,t){return pa(i)?t:i}function Wa(i,t){return t.forEach(e=>{Reflect.has(i,e)&&delete i[e]}),i}class bl{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Vs&&this.toString()===Vs.TONE_DEBUG_CLASS)&&N8(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}bl.version=Ub;const wg=1e-6;function Th(i,t){return i>t+wg}function q0(i,t){return Th(i,t)||Ya(i,t)}function Pp(i,t){return i+wg<t}function Ya(i,t){return Math.abs(i-t)<wg}function R8(i,t,e){return Math.max(Math.min(i,e),t)}let ko=class qx extends bl{constructor(){super(),this.name="Timeline",this._timeline=[];const t=Be(qx.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(ze(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];ze(q0(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const e=this.length-this.memory;this._timeline.splice(0,e)}return this}remove(t){const e=this._timeline.indexOf(t);return e!==-1&&this._timeline.splice(e,1),this}get(t,e="time"){const r=this._search(t,e);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const r=this._search(t,e);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const r=this._search(t);return r-1>=0?this._timeline[r-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(Ya(this._timeline[e].time,t)){for(let r=e;r>=0&&Ya(this._timeline[r].time,t);r--)e=r;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else this._timeline.length===1&&q0(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(this._timeline.length===0)return-1;let r=0;const a=this._timeline.length;let o=a;if(a>0&&this._timeline[a-1][e]<=t)return a-1;for(;r<o;){let h=Math.floor(r+(o-r)/2);const c=this._timeline[h],f=this._timeline[h+1];if(Ya(c[e],t)){for(let d=h;d<this._timeline.length;d++){const m=this._timeline[d];if(Ya(m[e],t))h=d;else break}return h}else{if(Pp(c[e],t)&&Th(f[e],t))return h;Th(c[e],t)?o=h:r=h+1}}return-1}_iterate(t,e=0,r=this._timeline.length-1){this._timeline.slice(e,r+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const r=this._search(t);return r!==-1&&this._iterate(e,0,r),this}forEachAfter(t,e){const r=this._search(t);return this._iterate(e,r+1),this}forEachBetween(t,e,r){let a=this._search(t),o=this._search(e);return a!==-1&&o!==-1?(this._timeline[a].time!==t&&(a+=1),this._timeline[o].time===e&&(o-=1),this._iterate(r,a,o)):a===-1&&this._iterate(r,0,o),this}forEachFrom(t,e){let r=this._search(t);for(;r>=0&&this._timeline[r].time>=t;)r--;return this._iterate(e,r+1),this}forEachAtTime(t,e){const r=this._search(t);if(r!==-1&&Ya(this._timeline[r].time,t)){let a=r;for(let o=r;o>=0&&Ya(this._timeline[o].time,t);o--)a=o;this._iterate(o=>{e(o)},a,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}};const zx=[];function f1(i){zx.push(i)}function I8(i){zx.forEach(t=>t(i))}const Fx=[];function d1(i){Fx.push(i)}function B8(i){Fx.forEach(t=>t(i))}class rd extends bl{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach(a=>{pa(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(e)}),this}once(t,e){const r=(...a)=>{e(...a),this.off(t,r)};return this.on(t,r),this}off(t,e){return t.split(/\W+/).forEach(a=>{if(pa(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(pa(e))this._events[a]=[];else{const o=this._events[a];for(let h=o.length-1;h>=0;h--)o[h]===e&&o.splice(h,1)}}),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const r=this._events[t].slice(0);for(let a=0,o=r.length;a<o;a++)r[a].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach(e=>{const r=Object.getOwnPropertyDescriptor(rd.prototype,e);Object.defineProperty(t.prototype,e,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class Px extends rd{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}let Sg=class Ux extends Px{constructor(){var t,e;super(),this.name="Context",this._constants=new Map,this._timeouts=new ko,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=Be(Ux.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((t=arguments[0])===null||t===void 0?void 0:t.latencyHint)||""):(this._context=T8({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new O8(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((e=arguments[0])===null||e===void 0)&&e.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(I8(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,r){return this._context.createBuffer(t,e,r)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,r){return this._context.createPeriodicWave(t,e,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return ze(oh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return ze(oh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return ze(oh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){ze(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){ze(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){ze(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){ze(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return k8(this.rawContext,t,e)}addAudioWorkletModule(t){return Ki(this,void 0,void 0,function*(){ze(ln(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise})}workletsAreReady(){return Ki(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return oh(this._context)?this._context.resume():Promise.resolve()}close(){return Ki(this,void 0,void 0,function*(){oh(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&B8(this)})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),r=e.getChannelData(0);for(let o=0;o<r.length;o++)r[o]=t;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=e,a.loop=!0,a.start(0),this._constants.set(t,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this.close(),this}_timeoutLoop(){const t=this.now();this._timeouts.forEachBefore(t,e=>{e.callback(),this._timeouts.remove(e)})}setTimeout(t,e){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:r+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(e=>{e.id===t&&this._timeouts.remove(e)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const r=++this._timeoutIds,a=()=>{const o=this.now();this._timeouts.add({callback:()=>{t(),a()},id:r,time:o+e})};return a(),r}};class q8 extends Px{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,r){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return Ki(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}function ci(i,t){Ys(t)?t.forEach(e=>ci(i,e)):Object.defineProperty(i,t,{enumerable:!0,writable:!1})}function Ag(i,t){Ys(t)?t.forEach(e=>Ag(i,e)):Object.defineProperty(i,t,{writable:!0})}const Gn=()=>{};class ai extends bl{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Gn;const t=Be(ai.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,ml(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:Gn,onload:Gn,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Xa().sampleRate}set(t){return t instanceof ai?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return Ki(this,void 0,void 0,function*(){const e=ai.load(t).then(r=>{this.set(r),this.onload(this)});ai.downloads.push(e);try{yield e}finally{const r=ai.downloads.indexOf(e);ai.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=Ys(t)&&t[0].length>0,r=e?t.length:1,a=e?t[0].length:t.length,o=Xa(),h=o.createBuffer(r,a,o.sampleRate),c=!e&&r===1?[t]:t;for(let f=0;f<r;f++)h.copyToChannel(c[f],f);return this._buffer=h,this}toMono(t){if(pl(t))this.fromArray(this.toArray(t));else{let e=new Float32Array(this.length);const r=this.numberOfChannels;for(let a=0;a<r;a++){const o=this.toArray(a);for(let h=0;h<o.length;h++)e[h]+=o[h]}e=e.map(a=>a/r),this.fromArray(e)}return this}toArray(t){if(pl(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{const e=[];for(let r=0;r<this.numberOfChannels;r++)e[r]=this.getChannelData(r);return e}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){ze(this.loaded,"Buffer is not loaded");const r=Math.floor(t*this.sampleRate),a=Math.floor(e*this.sampleRate);ze(r<a,"The start time must be less than the end time");const o=a-r,h=Xa().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)h.copyToChannel(this.getChannelData(c).subarray(r,a),c);return new ai(h)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return new ai().fromArray(t)}static fromUrl(t){return Ki(this,void 0,void 0,function*(){return yield new ai().load(t)})}static load(t){return Ki(this,void 0,void 0,function*(){const e=ai.baseUrl===""||ai.baseUrl.endsWith("/")?ai.baseUrl:ai.baseUrl+"/",r=yield fetch(e+t);if(!r.ok)throw new Error(`could not load url: ${t}`);const a=yield r.arrayBuffer();return yield Xa().decodeAudioData(a)})}static supportsType(t){const e=t.split("."),r=e[e.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Ki(this,void 0,void 0,function*(){for(yield Promise.resolve();ai.downloads.length;)yield ai.downloads[0]})}}ai.baseUrl="";ai.downloads=[];class Ng extends Sg{constructor(){super({clockSource:"offline",context:Sp(arguments[0])?arguments[0]:C8(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Sp(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Sp(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Ki(this,void 0,void 0,function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const r=Math.floor(this.sampleRate/128);t&&e%r===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return Ki(this,arguments,void 0,function*(t=!0){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new ai(e)})}close(){return Promise.resolve()}}const Vx=new q8;let Jc=Vx;function Xa(){return Jc===Vx&&E8&&z8(new Sg),Jc}function z8(i,t=!1){t&&Jc.dispose(),oh(i)?Jc=new Sg(i):Sp(i)?Jc=new Ng(i):Jc=i}function p1(){return Jc.resume()}if(Vs&&!Vs.TONE_SILENCE_LOGGING){const t=` * Tone.js v${Ub} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function F8(i){return Math.pow(10,i/20)}function P8(i){return 20*(Math.log(i)/Math.LN10)}function Hx(i){return Math.pow(2,i/12)}let m1=440;function U8(){return m1}function V8(i){m1=i}function tu(i){return Math.round(Gx(i))}function Gx(i){return 69+12*Math.log2(i/m1)}function Yx(i){return m1*Math.pow(2,(i-69)/12)}class Tg extends bl{constructor(t,e,r){super(),this.defaultUnits="s",this._val=e,this._units=r,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const r=parseInt(t,10),a=e==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/r)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(Math.floor(e)*3))},regexp:/^(\d+)t$/i},tr:{method:(t,e,r)=>{let a=0;return t&&t!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&e!=="0"&&(a+=this._beatsToUnits(parseFloat(e))),r&&r!=="0"&&(a+=this._beatsToUnits(parseFloat(r)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Tg&&this.fromType(this._val),pa(this._val))return this._noArg();if(ml(this._val)&&pa(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(eu(this._val)){let t=0;for(const e in this._val)if(ln(this._val[e])){const r=this._val[e],a=new this.constructor(this.context,e).valueOf()*r;t+=a}return t}if(ln(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}else return ml(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Za extends Tg{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new Za(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const r=new this.constructor(this.context,t).valueOf(),a=this.valueOf(),c=Math.round(a/r)*r-a;return a+c*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let o=1;o<9;o++){const h=Math.pow(2,o);e.push(h+"n."),e.push(h+"n"),e.push(h+"t")}e.push("0");let r=e[0],a=new Za(this.context,e[0]).toSeconds();return e.forEach(o=>{const h=new Za(this.context,o).toSeconds();Math.abs(h-t)<Math.abs(a-t)&&(r=o,a=h)}),r}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const r=Math.floor(e/this._getTimeSignature());let a=e%1*4;e=Math.floor(e)%this._getTimeSignature();const o=a.toString();return o.length>3&&(a=parseFloat(parseFloat(o).toFixed(3))),[r,e,a].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return tu(this.toFrequency())}_now(){return this.context.now()}}class Hs extends Za{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return U8()}static set A4(t){V8(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return this.defaultUnits==="midi"?t:Hs.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,e){const a=H8[t.toLowerCase()]+(parseInt(e,10)+1)*12;return this.defaultUnits==="midi"?a:Hs.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,r){let a=1;return t&&t!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&e!=="0"&&(a*=this._beatsToUnits(parseFloat(e))),r&&r!=="0"&&(a*=this._beatsToUnits(parseFloat(r)/4)),a}}})}transpose(t){return new Hs(this.context,this.valueOf()*Hx(t))}harmonize(t){return t.map(e=>this.transpose(e))}toMidi(){return tu(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/Hs.A4);let r=Math.round(12*e)+57;const a=Math.floor(r/12);return a<0&&(r+=-12*a),G8[r%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(t*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return Yx(t)}static ftom(t){return tu(t)}}const H8={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},G8=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Mf extends Za{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Ss extends bl{constructor(){super();const t=Be(Ss.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Xa()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return A8(t),new Za(this.context,t).toSeconds()}toFrequency(t){return new Hs(this.context,t).toFrequency()}toTicks(t){return new Mf(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach(r=>{pa(t[r])&&delete e[r]}),e}get(){const t=j8(this);return Object.keys(t).forEach(e=>{if(Reflect.has(this,e)){const r=this[e];ln(r)&&ln(r.value)&&ln(r.setValueAtTime)?t[e]=r.value:r instanceof Ss?t[e]=r._getPartialProperties(t[e]):Ys(r)||pl(r)||ml(r)||S8(r)?t[e]=r:delete t[e]}}),t}set(t){return Object.keys(t).forEach(e=>{Reflect.has(this,e)&&ln(this[e])&&(this[e]&&ln(this[e].value)&&ln(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof Ss?this[e].set(t[e]):this[e]=t[e])}),this}}class Cg extends ko{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return e!==null?e.state:this._initial}setStateAtTime(t,e,r){return gl(e,0),this.add(Object.assign({},r,{state:t,time:e})),this}getLastState(t,e){const r=this._search(e);for(let a=r;a>=0;a--){const o=this._timeline[a];if(o.state===t)return o}}getNextState(t,e){const r=this._search(e);if(r!==-1)for(let a=r;a<this._timeline.length;a++){const o=this._timeline[a];if(o.state===t)return o}}}class Qn extends Ss{constructor(){const t=Be(Qn.getDefaults(),arguments,["param","units","convert"]);for(super(t),this.name="Param",this.overridden=!1,this._minOutput=1e-7,ze(ln(t.param)&&(su(t.param)||t.param instanceof Qn),"param must be an AudioParam");!su(t.param);)t.param=t.param._param;this._swappable=ln(t.swappable)?t.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new ko(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,ln(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Ss.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return ln(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ln(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return ln(this.maxValue)&&ln(this.minValue)&&gl(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?F8(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&this.units==="decibels"?P8(t):t}setValueAtTime(t,e){const r=this.toSeconds(e),a=this._fromType(t);return ze(isFinite(a)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",t,r),this._events.add({time:r,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,r),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),r=this._events.getAfter(e),a=this._events.get(e);let o=this._initialValue;if(a===null)o=this._initialValue;else if(a.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const h=this._events.getBefore(a.time);let c;h===null?c=this._initialValue:c=h.value,a.type==="setTargetAtTime"&&(o=this._exponentialApproach(a.time,c,a.value,a.constant,e))}else if(r===null)o=a.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let h=a.value;if(a.type==="setTargetAtTime"){const c=this._events.getBefore(a.time);c===null?h=this._initialValue:h=c.value}r.type==="linearRampToValueAtTime"?o=this._linearInterpolate(a.time,h,r.time,r.value,e):o=this._exponentialInterpolate(a.time,h,r.time,r.value,e)}else o=a.value;return this._toType(o)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(e)===0&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const r=this._fromType(t),a=this.toSeconds(e);return ze(isFinite(r)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(r),this._events.add({time:a,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",t,a),this._param.linearRampToValueAtTime(r,a),this}exponentialRampToValueAtTime(t,e){let r=this._fromType(t);r=Ya(r,0)?this._minOutput:r,this._assertRange(r);const a=this.toSeconds(e);return ze(isFinite(r)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",t,a),this._param.exponentialRampToValueAtTime(r,a),this}exponentialRampTo(t,e,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(t,r+this.toSeconds(e)),this}linearRampTo(t,e,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(t,r+this.toSeconds(e)),this}targetRampTo(t,e,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(t,r,e),this}exponentialApproachValueAtTime(t,e,r){e=this.toSeconds(e),r=this.toSeconds(r);const a=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(t,e,a),this.cancelAndHoldAtTime(e+r*.9),this.linearRampToValueAtTime(t,e+r),this}setTargetAtTime(t,e,r){const a=this._fromType(t);ze(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(e);return this._assertRange(a),ze(isFinite(a)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:r,time:o,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",t,o,r),this._param.setTargetAtTime(a,o,r),this}setValueCurveAtTime(t,e,r,a=1){r=this.toSeconds(r),e=this.toSeconds(e);const o=this._fromType(t[0])*a;this.setValueAtTime(this._toType(o),e);const h=r/(t.length-1);for(let c=1;c<t.length;c++){const f=this._fromType(t[c])*a;this.linearRampToValueAtTime(this._toType(f),e+c*h)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return ze(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),r=this._fromType(this.getValueAtTime(e));ze(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+r);const a=this._events.get(e),o=this._events.getAfter(e);return a&&Ya(a.time,e)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),e):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),e)),this._events.add({time:e,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,e),this}rampTo(t,e=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(t,e,r):this.linearRampTo(t,e,r),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const r=this._events.get(e);if(r&&r.type==="setTargetAtTime"){const a=this._events.getAfter(r.time),o=a?a.time:e+2,h=(o-e)/10;for(let c=e;c<o;c+=h)t.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?t.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?t.setTargetAtTime(a.value,a.time,a.constant):t[a.type](a.value,a.time)}),this}setParam(t){ze(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,r,a,o){return r+(e-r)*Math.exp(-(o-t)/a)}_linearInterpolate(t,e,r,a,o){return e+(a-e)*((o-t)/(r-t))}_exponentialInterpolate(t,e,r,a,o){return e*Math.pow(a/e,(o-t)/(r-t))}}class Ve extends Ss{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ln(this.input)?su(this.input)||this.input instanceof Qn?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ln(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return ln(t)&&(t instanceof Ve||lc(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(r=>{r.channelCount=t.channelCount,r.channelCountMode=t.channelCountMode,r.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();ze(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,r=0){return jh(this,t,e,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return h1("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,r=0){return Y8(this,t,e,r),this}chain(...t){return Uf(this,...t),this}fan(...t){return t.forEach(e=>this.connect(e)),this}dispose(){return super.dispose(),ln(this.input)&&(this.input instanceof Ve?this.input.dispose():lc(this.input)&&this.input.disconnect()),ln(this.output)&&(this.output instanceof Ve?this.output.dispose():lc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Uf(...i){const t=i.shift();i.reduce((e,r)=>(e instanceof Ve?e.connect(r):lc(e)&&jh(e,r),r),t)}function jh(i,t,e=0,r=0){for(ze(ln(i),"Cannot connect from undefined node"),ze(ln(t),"Cannot connect to undefined node"),(t instanceof Ve||lc(t))&&ze(t.numberOfInputs>0,"Cannot connect to node with no inputs"),ze(i.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof Ve||t instanceof Qn;)ln(t.input)&&(t=t.input);for(;i instanceof Ve;)ln(i.output)&&(i=i.output);su(t)?i.connect(t,e):i.connect(t,e,r)}function Y8(i,t,e=0,r=0){if(ln(t))for(;t instanceof Ve;)t=t.input;for(;!lc(i);)ln(i.output)&&(i=i.output);su(t)?i.disconnect(t,e):lc(t)?i.disconnect(t,e,r):i.disconnect()}class $i extends Ve{constructor(){const t=Be($i.getDefaults(),arguments,["gain","units"]);super(t),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Qn({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),ci(this,"gain")}static getDefaults(){return Object.assign(Ve.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ch extends Ve{constructor(t){super(t),this.onended=Gn,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new $i({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(e){const r=this.toSeconds(e);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(Ve.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Gn})}_startGain(t,e=1){ze(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=t+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,t),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(e,t+r):this._gainNode.gain.exponentialApproachValueAtTime(e,t,r)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){ze(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.now()),e>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?e*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Gn&&(this.onended(this),this.onended=Gn,!this.context.isOffline)){const t=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(t):setTimeout(t,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ze(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Gn,this}}class Eg extends Ch{constructor(){const t=Be(Eg.getDefaults(),arguments,["offset"]);super(t),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),jh(this._source,this._gainNode),this.offset=new Qn({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(Ch.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Jn extends Ve{constructor(){const t=Be(Jn.getDefaults(),arguments,["value","units"]);super(t),this.name="Signal",this.override=!0,this.output=this._constantSource=new Eg({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Ve.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,r=0){return kg(this,t,e,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,r){return this._param.exponentialRampTo(t,e,r),this}linearRampTo(t,e,r){return this._param.linearRampTo(t,e,r),this}targetRampTo(t,e,r){return this._param.targetRampTo(t,e,r),this}exponentialApproachValueAtTime(t,e,r){return this._param.exponentialApproachValueAtTime(t,e,r),this}setTargetAtTime(t,e,r){return this._param.setTargetAtTime(t,e,r),this}setValueCurveAtTime(t,e,r,a){return this._param.setValueCurveAtTime(t,e,r,a),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,r){return this._param.rampTo(t,e,r),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function kg(i,t,e,r){(t instanceof Qn||su(t)||t instanceof Jn&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof Jn&&(t.overridden=!0)),jh(i,t,e,r)}class Og extends Qn{constructor(){const t=Be(Og.getDefaults(),arguments,["value"]);super(t),this.name="TickParam",this._events=new ko(1/0),this._multiplier=1,this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Qn.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,r){e=this.toSeconds(e),this.setRampPoint(e);const a=this._fromType(t),o=this._events.get(e),h=Math.round(Math.max(1/r,1));for(let c=0;c<=h;c++){const f=r*c+e,d=this._exponentialApproach(o.time,o.value,a,r,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}setValueAtTime(t,e){const r=this.toSeconds(e);super.setValueAtTime(t,e);const a=this._events.get(r),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,r);return a.ticks=Math.max(h,0),this}linearRampToValueAtTime(t,e){const r=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const a=this._events.get(r),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,r);return a.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const r=this._fromType(t),a=this._events.get(e),o=Math.round(Math.max((e-a.time)*10,1)),h=(e-a.time)/o;for(let c=0;c<=o;c++){const f=h*c+a.time,d=this._exponentialInterpolate(a.time,a.value,e,r,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}_getTicksUntilEvent(t,e){if(t===null)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(pa(t.ticks)){const h=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(h,t.time)}const r=this._fromType(this.getValueAtTime(t.time));let a=this._fromType(this.getValueAtTime(e));const o=this._events.get(e);return o&&o.time===e&&o.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(r+a)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),r=this._events.get(e);return Math.max(this._getTicksUntilEvent(r,e),0)}getDurationOfTicks(t,e){const r=this.toSeconds(e),a=this.getTicksAtTime(e);return this.getTimeOfTick(a+t)-r}getTimeOfTick(t){const e=this._events.get(t,"ticks"),r=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&r&&r.type==="linearRampToValueAtTime"&&e.value!==r.value){const a=this._fromType(this.getValueAtTime(e.time)),h=(this._fromType(this.getValueAtTime(r.time))-a)/(r.time-e.time),c=Math.sqrt(Math.pow(a,2)-2*h*(e.ticks-t)),f=(-a+c)/h,d=(-a-c)/h;return(f>0?f:d)+e.time}else return e?e.value===0?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const r=this.toSeconds(e),a=this.toSeconds(t),o=this.getTicksAtTime(r);return this.getTicksAtTime(r+a)-o}_fromType(t){return this.units==="bpm"&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units==="bpm"&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class Mg extends Jn{constructor(){const t=Be(Mg.getDefaults(),arguments,["value"]);super(t),this.name="TickSignal",this.input=this._param=new Og({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Jn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Lg extends Ss{constructor(){const t=Be(Lg.getDefaults(),arguments,["frequency"]);super(t),this.name="TickSource",this._state=new Cg,this._tickOffset=new ko,this._ticksAtTime=new ko,this._secondsAtTime=new ko,this.frequency=new Mg({context:this.context,units:t.units,value:t.frequency}),ci(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ss.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const r=this.toSeconds(t);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),ln(e)&&this.setTicksAtTime(e,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(t){const e=this.toSeconds(t);if(this._state.getValueAtTime(e)==="stopped"){const r=this._state.get(e);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}pause(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)==="started"&&(this._state.setStateAtTime("paused",e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),r=this._state.getLastState("stopped",e),a=this._ticksAtTime.get(e),o={state:"paused",time:e};this._state.add(o);let h=a||r,c=a?a.ticks:0,f=null;return this._state.forEachBetween(h.time,e+this.sampleTime,d=>{let m=h.time;const b=this._tickOffset.get(d.time);b&&b.time>=h.time&&(c=b.ticks,m=b.time),h.state==="started"&&d.state!=="started"&&(c+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(m),d.time!==o.time&&(f={state:d.state,time:d.time,ticks:c})),h=d}),this._state.remove(o),f&&this._ticksAtTime.add(f),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),r=this.frequency.timeToTicks(t,e);this.setTicksAtTime(r,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),r={state:"paused",time:t};this._state.add(r);const a=this._secondsAtTime.get(t);let o=a||e,h=a?a.seconds:0,c=null;return this._state.forEachBetween(o.time,t+this.sampleTime,f=>{let d=o.time;const m=this._tickOffset.get(f.time);m&&m.time>=o.time&&(h=m.seconds,d=m.time),o.state==="started"&&f.state!=="started"&&(h+=f.time-d,f.time!==r.time&&(c={state:f.state,time:f.time,seconds:h})),o=f}),this._state.remove(r),c&&this._secondsAtTime.add(c),h}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const r=this._tickOffset.get(e),a=this._state.get(e),o=Math.max(r.time,a.time),h=this.frequency.getTicksAtTime(o)+t-r.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(t,e,r){let a=this._state.get(t);this._state.forEachBetween(t,e,h=>{a&&a.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(a.time,t),h.time-this.sampleTime,r),a=h});let o=null;if(a&&a.state==="started"){const h=Math.max(a.time,t),c=this.frequency.getTicksAtTime(h),f=this.frequency.getTicksAtTime(a.time),d=c-f;let m=Math.ceil(d)-d;m=Ya(m,1)?0:m;let b=this.frequency.getTimeOfTick(c+m);for(;b<e;){try{r(b,Math.round(this.getTicksAtTime(b)))}catch(w){o=w;break}b+=this.frequency.getDurationOfTicks(1,b)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}let Wx=class Xx extends Ss{constructor(){const t=Be(Xx.getDefaults(),arguments,["callback","frequency"]);super(t),this.name="Clock",this.callback=Gn,this._lastUpdate=0,this._state=new Cg("stopped"),this._boundLoop=this._loop.bind(this),this.callback=t.callback,this._tickSource=new Lg({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ci(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ss.getDefaults(),{callback:Gn,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){Rx(this.context);const r=this.toSeconds(t);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,e),r<this._lastUpdate&&this.emit("start",r,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)==="started"&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const r=this.toSeconds(e),a=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(a+t,r)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,r=>{switch(r.state){case"started":const a=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,a);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(t,e,(r,a)=>{this.callback(r,a)}))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};rd.mixin(Wx);class Rh extends Ve{constructor(){const t=Be(Rh.getDefaults(),arguments,["volume"]);super(t),this.name="Volume",this.input=this.output=new $i({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,ci(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(Ve.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Dg extends Ve{constructor(){const t=Be(Dg.getDefaults(),arguments);super(t),this.name="Destination",this.input=new Rh({context:this.context}),this.output=new $i({context:this.context}),this.volume=this.input.volume,Uf(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Ve.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),Uf(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}f1(i=>{i.destination=new Dg({context:i})});d1(i=>{i.destination.dispose()});class W8 extends Ve{constructor(){super(...arguments),this.name="Listener",this.positionX=new Qn({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Qn({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Qn({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Qn({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Qn({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Qn({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Qn({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Qn({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Qn({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Ve.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}f1(i=>{i.listener=new W8({context:i})});d1(i=>{i.listener.dispose()});class jg extends bl{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=Be(jg.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(e=>{this._loadingCount++;const r=t.urls[e];this.add(e,r,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Gn,onload:Gn,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return ze(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,e])=>e.loaded)}add(t,e,r=Gn,a=Gn){return ml(e)?(this.baseUrl&&e.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(t.toString(),new ai(this.baseUrl+e,r,a))):this._buffers.set(t.toString(),new ai(e,r,a)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class Up extends Hs{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return tu(super._frequencyToUnits(t))}_ticksToUnits(t){return tu(super._ticksToUnits(t))}_beatsToUnits(t){return tu(super._beatsToUnits(t))}_secondsToUnits(t){return tu(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return Yx(this.toMidi())}transpose(t){return new Up(this.context,this.toMidi()+t)}}class dh extends Mf{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class X8 extends Ss{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new ko,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;this._events.forEachBefore(t+this.anticipation,e=>{t-e.time<=this.expiration&&e.callback(),this._events.remove(e)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}f1(i=>{i.draw=new X8({context:i})});d1(i=>{i.draw.dispose()});class Z8 extends bl{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){ze(ln(t.time),"Events must have a time property"),ze(ln(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new K8(t.time,t.time+t.duration,t);for(this._root===null?this._root=e:this._root.insert(e),this._length++;e!==null;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(this._root!==null){const e=[];this._root.search(t.time,e);for(const r of e)if(r.event===t){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,e=>this.remove(e)),this}_setRoot(t){this._root=t,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(t,e){t.parent!==null?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(t.left===null&&t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{const e=t.getBalance();let r,a=null;if(e>0)if(t.left.right===null)r=t.left,r.right=t.right,a=r;else{for(r=t.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,a=r.parent,r.left=t.left,r.right=t.right)}else if(t.right.left===null)r=t.right,r.left=t.left,a=r;else{for(r=t.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,a=r.parent,r.left=t.left,r.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=r:t.parent.right=r:this._setRoot(r),a&&this._rebalance(a)}t.dispose()}_rotateLeft(t){const e=t.parent,r=t.isLeftChild(),a=t.right;a&&(t.right=a.left,a.left=t),e!==null?r?e.left=a:e.right=a:this._setRoot(a)}_rotateRight(t){const e=t.parent,r=t.isLeftChild(),a=t.left;a&&(t.left=a.right,a.right=t),e!==null?r?e.left=a:e.right=a:this._setRoot(a)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){const e=[];if(this._root.search(t,e),e.length>0){let r=e[0];for(let a=1;a<e.length;a++)e[a].low>r.low&&(r=e[a]);return r.event}}return null}forEach(t){if(this._root!==null){const e=[];this._root.traverse(r=>e.push(r)),e.forEach(r=>{r.event&&t(r.event)})}return this}forEachAtTime(t,e){if(this._root!==null){const r=[];this._root.search(t,r),r.forEach(a=>{a.event&&e(a.event)})}return this}forEachFrom(t,e){if(this._root!==null){const r=[];this._root.searchAfter(t,r),r.forEach(a=>{a.event&&e(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class K8{constructor(t,e,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(this.left!==null&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),!(this.low>t)&&this.right!==null&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),this.left!==null&&this.left.searchAfter(t,e)),this.right!==null&&this.right.searchAfter(t,e)}traverse(t){t(this),this.left!==null&&this.left.traverse(t),this.right!==null&&this.right.traverse(t)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null&&this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null&&(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class $8 extends bl{constructor(t){super(),this.name="TimelineValue",this._timeline=new ko({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class cc extends Ve{constructor(){super(Be(cc.getDefaults(),arguments,["context"]))}connect(t,e=0,r=0){return kg(this,t,e,r),this}}class sd extends cc{constructor(){const t=Be(sd.getDefaults(),arguments,["mapping","length"]);super(t),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Ys(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):w8(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Jn.getDefaults(),{length:1024})}setMap(t,e=1024){const r=new Float32Array(e);for(let a=0,o=e;a<o;a++){const h=a/(o-1)*2-1;r[a]=t(h,a)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const e=["none","2x","4x"].some(r=>r.includes(t));ze(e,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class g1 extends cc{constructor(){const t=Be(g1.getDefaults(),arguments,["value"]);super(t),this.name="Pow",this._exponentScaler=this.input=this.output=new sd({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(cc.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class uc{constructor(t,e){this.id=uc._eventId++,this._remainderTime=0;const r=Object.assign(uc.getDefaults(),e);this.transport=t,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Gn,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const e=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*e),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}uc._eventId=0;class Rg extends uc{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Rg.getDefaults(),e);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},uc.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return Pp(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new dh(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){Pp(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new dh(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const e=this.transport.getTicksAtTime(t);Th(e,this.time)&&(this._nextTick=this.floatTime+Math.ceil((e-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class v1 extends Ss{constructor(){const t=Be(v1.getDefaults(),arguments);super(t),this.name="Transport",this._loop=new $8(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new ko,this._repeatedEvents=new Z8,this._syncedSignals=[],this._swingAmount=0,this._ppq=t.ppq,this._clock=new Wx({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),ci(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(Ss.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!==0&&e%(this._swingTicks*2)!==0){const r=e%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(r*Math.PI)*this._swingAmount;t+=new dh(this.context,this._swingTicks*2/3).toSeconds()*a}Jv(!0),this._timeline.forEachAtTime(e,r=>r.invoke(t)),Jv(!1)}schedule(t,e){const r=new uc(this,{callback:t,time:new Mf(this.context,e).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(t,e,r,a=1/0){const o=new Rg(this,{callback:t,duration:new Za(this.context,a).toTicks(),interval:new Za(this.context,e).toTicks(),time:new Mf(this.context,r).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(t,e){const r=new uc(this,{callback:t,once:!0,time:new Mf(this.context,e).toTicks()});return this._addEvent(r,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(e,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(t,e)=>{e=new dh(this.context,e).toSeconds(),this.emit("start",t,e)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){this.context.resume();let r;return ln(e)&&(r=this.toTicks(e)),this._clock.start(t,r),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!=="started"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Ys(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Za(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Za(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new dh(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new dh(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),r=this._clock.frequency.timeToTicks(t,e);this.ticks=r}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(e),a=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,e),o=e+a;this.emit("stop",o),this._clock.setTicksAtTime(t,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",e),this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!=="started")return 0;{const e=this.now(),r=this.getTicksAtTime(e),a=t-r%t;return this._clock.nextTickTime(a,e)}}syncSignal(t,e){const r=this.now();let a=this.bpm,o=1/(60/a.getValueAtTime(r)/this.PPQ),h=[];if(t.units==="time"){const f=.015625/o,d=new $i(f),m=new g1(-1),b=new $i(f);a.chain(d,m,b),a=b,o=1/o,h=[d,m,b]}e||(t.getValueAtTime(r)!==0?e=t.getValueAtTime(r)/o:e=0);const c=new $i(e);return a.connect(c),c.connect(t._param),h.push(c),this._syncedSignals.push({initial:t.value,nodes:h,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const r=this._syncedSignals[e];r.signal===t&&(r.nodes.forEach(a=>a.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Ag(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}rd.mixin(v1);f1(i=>{i.transport=new v1({context:i})});d1(i=>{i.transport.dispose()});class Fr extends Ve{constructor(t){super(t),this.input=void 0,this._state=new Cg("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Gn,this._syncedStop=Gn,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Rh({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,ci(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(Ve.getDefaults(),{mute:!1,onstop:Gn,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,r){let a=pa(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")ze(Th(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,e,r);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const o=this._state.get(a);o&&(o.offset=this.toSeconds(gh(e,0)),o.duration=r?this.toSeconds(r):void 0);const h=this.context.transport.schedule(c=>{this._start(c,e,r)},a);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else Rx(this.context),this._start(a,e,r);return this}stop(t){let e=pa(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),this._state.getValueAtTime(e)==="started"||ln(this._state.getNextState("started",e))){if(this.log("stop",e),!this._synced)this._stop(e);else{const r=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(r)}this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,r){return t=this.toSeconds(t),this._state.getValueAtTime(t)==="started"&&(this._state.cancel(t),this._restart(t,e,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(Th(e,0)){const r=this._state.get(e);if(r&&r.state==="started"&&r.time!==e){const a=e-this.toSeconds(r.time);let o;r.duration&&(o=this.toSeconds(r.duration)-a),this._start(t,this.toSeconds(r.offset)+a,o)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(e)==="started"&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Gn,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class y1 extends Ch{constructor(){const t=Be(y1.getDefaults(),arguments,["url","onload"]);super(t),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,jh(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Qn({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new ai(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ch.getDefaults(),{url:new ai,loop:!1,loopEnd:0,loopStart:0,onload:Gn,onerror:Gn,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,r,a=1){ze(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(t);this._startGain(o,a),this.loop?e=gh(e,this.loopStart):e=gh(e,0);let h=Math.max(this.toSeconds(e),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),d=c-f;q0(h,c)&&(h=(h-f)%d+f),Ya(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Pp(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,h)),ln(r)){let c=this.toSeconds(r);c=Math.max(c,0),this.stop(o+c)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function uu(i,t){return Ki(this,void 0,void 0,function*(){const e=t/i.context.sampleRate,r=new Ng(1,e,i.context.sampleRate);return new i.constructor(Object.assign(i.get(),{frequency:2/e,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Ig extends Ch{constructor(){const t=Be(Ig.getDefaults(),arguments,["frequency","type"]);super(t),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],jh(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Qn({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Qn({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),ci(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ch.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Zi extends Fr{constructor(){const t=Be(Zi.getDefaults(),arguments,["frequency","type"]);super(t),this.name="Oscillator",this._oscillator=null,this.frequency=new Jn({context:this.context,units:"frequency",value:t.frequency}),ci(this,"frequency"),this.detune=new Jn({context:this.context,units:"cents",value:t.detune}),ci(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&t.type!=="custom"&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(Fr.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),r=new Ig({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Zi._periodicWaveCache.find(e=>e.phase===this._phase&&D8(e.partials,this._partials));{const t=Zi._periodicWaveCache.find(e=>e.type===this._type&&e.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=["sine","square","sawtooth","triangle"].indexOf(t)!==-1;if(this._phase===0&&e)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=t);else{const r=this._getCachedPeriodicWave();if(ln(r)){const{partials:a,wave:o}=r;this._wave=o,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,o]=this._getRealImaginary(t,this._phase),h=this.context.createPeriodicWave(a,o);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Zi._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),Zi._periodicWaveCache.length>100&&Zi._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&this._type!=="custom"&&t!=="custom"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){gl(t,0);let e=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(e=r[1]),this._type!=="custom")t===0?this.type=e:this.type=e+t.toString();else{const a=new Float32Array(t);this._partials.forEach((o,h)=>a[h]=o),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(t,e){let a=2048;const o=new Float32Array(a),h=new Float32Array(a);let c=1;if(t==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,a=c,this._partials.length===0)return[o,h]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);f?(c=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),t=f[1],c=Math.max(c,2),a=c):this._partialCount=0,this._partials=[]}for(let f=1;f<a;++f){const d=2/(f*Math.PI);let m;switch(t){case"sine":m=f<=c?1:0,this._partials[f-1]=m;break;case"square":m=f&1?2*d:0,this._partials[f-1]=m;break;case"sawtooth":m=d*(f&1?1:-1),this._partials[f-1]=m;break;case"triangle":f&1?m=2*(d*d)*(f-1>>1&1?-1:1):m=0,this._partials[f-1]=m;break;case"custom":m=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}m!==0?(o[f]=-m*Math.sin(e*f),h[f]=m*Math.cos(e*f)):(o[f]=0,h[f]=0)}return[o,h]}_inverseFFT(t,e,r){let a=0;const o=t.length;for(let h=0;h<o;h++)a+=t[h]*Math.cos(h*r)+e[h]*Math.sin(h*r);return a}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let r=0;const a=Math.PI*2,o=32;for(let h=0;h<o;h++)r=Math.max(this._inverseFFT(t,e,h/o*a),r);return R8(-this._inverseFFT(t,e,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(){return Ki(this,arguments,void 0,function*(t=1024){return uu(this,t)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Zi._periodicWaveCache=[];class Zx extends cc{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new sd({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class vl extends Jn{constructor(){const t=Be(vl.getDefaults(),arguments,["value"]);super(t),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new $i({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Jn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class b1 extends Fr{constructor(){const t=Be(b1.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="AMOscillator",this._modulationScale=new Zx({context:this.context}),this._modulationNode=new $i({context:this.context}),this._carrier=new Zi({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Zi({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new vl({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ci(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Zi.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return Ki(this,arguments,void 0,function*(t=1024){return uu(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class x1 extends Fr{constructor(){const t=Be(x1.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="FMOscillator",this._modulationNode=new $i({context:this.context,gain:0}),this._carrier=new Zi({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Jn({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new Zi({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new vl({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new vl({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ci(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Zi.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return Ki(this,arguments,void 0,function*(t=1024){return uu(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class ad extends Fr{constructor(){const t=Be(ad.getDefaults(),arguments,["frequency","width"]);super(t),this.name="PulseOscillator",this._widthGate=new $i({context:this.context,gain:0}),this._thresh=new sd({context:this.context,mapping:e=>e<=0?-1:1}),this.width=new Jn({context:this.context,units:"audioRange",value:t.width}),this._triangle=new Zi({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ci(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Fr.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(){return Ki(this,arguments,void 0,function*(t=1024){return uu(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class _1 extends Fr{constructor(){const t=Be(_1.getDefaults(),arguments,["frequency","type","spread"]);super(t),this.name="FatOscillator",this._oscillators=[],this.frequency=new Jn({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,ci(this,["frequency","detune"])}static getDefaults(){return Object.assign(Zi.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(e=>e.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(e=>e.stop(t))}_restart(t){this._forEach(e=>e.restart(t))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach(e=>e.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,r=t/(this._oscillators.length-1);this._forEach((a,o)=>a.detune.value=e+r*o)}}get count(){return this._oscillators.length}set count(t){if(gl(t,1),this._oscillators.length!==t){this._forEach(e=>e.dispose()),this._oscillators=[];for(let e=0;e<t;e++){const r=new Zi({context:this.context,volume:-6-t*1.1,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:e===0?()=>this.onstop(this):Gn});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[e]=r}this.spread=this._spread,this.state==="started"&&this._forEach(e=>e.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((e,r)=>e.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(e=>e.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(e=>e.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(e=>e.partialCount=t),this._type=this._oscillators[0].type}asArray(){return Ki(this,arguments,void 0,function*(t=1024){return uu(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class w1 extends Fr{constructor(){const t=Be(w1.getDefaults(),arguments,["frequency","modulationFrequency"]);super(t),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new vl({context:this.context,value:2}),this._pulse=new ad({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Zi({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ci(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Fr.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(){return Ki(this,arguments,void 0,function*(t=1024){return uu(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const ty={am:b1,fat:_1,fm:x1,oscillator:Zi,pulse:ad,pwm:w1};class hc extends Fr{constructor(){const t=Be(hc.getDefaults(),arguments,["frequency","type"]);super(t),this.name="OmniOscillator",this.frequency=new Jn({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:t.detune}),ci(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(Zi.getDefaults(),x1.getDefaults(),b1.getDefaults(),_1.getDefaults(),ad.getDefaults(),w1.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(e=>this._sourceType===e)&&(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):t==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=ty[t],r=this.now();if(this._oscillator){const a=this._oscillator;a.stop(r),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(e=this._oscillator.type),t==="fm"?this.type="fm"+e:t==="am"?this.type="am"+e:t==="fat"?this.type="fat"+e:t==="oscillator"?this.type=e:t==="pulse"?this.type="pulse":t==="pwm"&&(this.type="pwm")}_getOscType(t,e){return t instanceof ty[e]}get baseType(){return this._oscillator.baseType}set baseType(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&t!=="pulse"&&t!=="pwm"&&(this._oscillator.baseType=t)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(t){this._getOscType(this._oscillator,"fat")&&pl(t)&&(this._oscillator.count=t)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(t){this._getOscType(this._oscillator,"fat")&&pl(t)&&(this._oscillator.spread=t)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&ml(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Ki(this,arguments,void 0,function*(t=1024){return uu(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Bg extends Jn{constructor(){super(Be(Bg.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new $i({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Uf(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Jn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class qg extends cc{constructor(){const t=Be(qg.getDefaults(),arguments,["min","max"]);super(t),this.name="Scale",this._mult=this.input=new vl({context:this.context,value:t.max-t.min}),this._add=this.output=new Bg({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(cc.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function Kx(i,t=1/0){const e=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return e.get(this)},set:function(o){gl(o,i,t),e.set(this,o)}})}}function xl(i,t=1/0){const e=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return e.get(this)},set:function(o){gl(this.toSeconds(o),i,t),e.set(this,o)}})}}class S1 extends Fr{constructor(){const t=Be(S1.getDefaults(),arguments,["url","onload"]);super(t),this.name="Player",this._activeSources=new Set,this._buffer=new ai({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Fr.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Gn,onerror:Gn,playbackRate:1,reverse:!1})}load(t){return Ki(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=Gn){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,r){return super.start(t,e,r),this}_start(t,e,r){this._loop?e=gh(e,this._loopStart):e=gh(e,0);const a=this.toSeconds(e),o=r;r=gh(r,Math.max(this._buffer.duration-a,0));let h=this.toSeconds(r);h=h/this._playbackRate,t=this.toSeconds(t);const c=new y1({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(t+h),this._state.setStateAtTime("stopped",t+h,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&pa(o)?c.start(t,a):c.start(t,a,h-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach(r=>r.stop(e))}restart(t,e,r){return super.restart(t,e,r),this}_restart(t,e,r){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(t),this._start(t,e,r)}seek(t,e){const r=this.toSeconds(e);if(this._state.getValueAtTime(r)==="started"){const a=this.toSeconds(t);this._stop(r),this._start(r,a)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&gl(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&gl(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(e=>{e.loop=t}),t)){const e=this._state.getNextState("stopped",this.now());e&&this._state.cancel(e.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),r=this._state.getNextState("stopped",e);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(t,e)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}io([xl(0)],S1.prototype,"fadeIn",void 0);io([xl(0)],S1.prototype,"fadeOut",void 0);class Ws extends Ve{constructor(){const t=Be(Ws.getDefaults(),arguments,["attack","decay","sustain","release"]);super(t),this.name="Envelope",this._sig=new Jn({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(Ve.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(ml(t))return t;{let r;for(r in lp)if(lp[r][e]===t)return r;return t}}_setCurve(t,e,r){if(ml(r)&&Reflect.has(lp,r)){const a=lp[r];eu(a)?t!=="_decayCurve"&&(this[t]=a[e]):this[t]=a}else if(Ys(r)&&t!=="_decayCurve")this[t]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(t){this._setCurve("_decayCurve","Out",t)}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let a=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),h=this.getValueAtTime(t);if(h>0){const c=1/a;a=(1-h)/c}if(a<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if(this._attackCurve==="linear")this._sig.linearRampTo(e,a,t);else if(this._attackCurve==="exponential")this._sig.targetRampTo(e,a,t);else{this._sig.cancelAndHoldAtTime(t);let c=this._attackCurve;for(let f=1;f<c.length;f++)if(c[f-1]<=h&&h<=c[f]){c=this._attackCurve.slice(f),c[0]=h;break}this._sig.setValueCurveAtTime(c,t,a,e)}if(o&&this.sustain<1){const c=e*this.sustain,f=t+a;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,o+f):this._sig.exponentialApproachValueAtTime(c,f,o)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,t):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,t):(ze(Ys(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,r,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,r=1){return e=this.toSeconds(e),this.triggerAttack(e,r),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,r=0){return kg(this,t,e,r),this}asArray(){return Ki(this,arguments,void 0,function*(t=1024){const e=t/this.context.sampleRate,r=new Ng(1,e,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=a+this.toSeconds(this.release),h=o*.1,c=o+h,f=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/c,decay:e*this.toSeconds(this.decay)/c,release:e*this.toSeconds(this.release)/c,context:r}));return f._sig.toDestination(),f.triggerAttackRelease(e*(a+h)/c,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}io([xl(0)],Ws.prototype,"attack",void 0);io([xl(0)],Ws.prototype,"decay",void 0);io([Kx(0,1)],Ws.prototype,"sustain",void 0);io([xl(0)],Ws.prototype,"release",void 0);const lp=(()=>{let t,e;const r=[];for(t=0;t<128;t++)r[t]=Math.sin(t/127*(Math.PI/2));const a=[],o=6.4;for(t=0;t<127;t++){e=t/127;const w=Math.sin(e*(Math.PI*2)*o-Math.PI/2)+1;a[t]=w/10+e*.83}a[127]=1;const h=[],c=5;for(t=0;t<128;t++)h[t]=Math.ceil(t/127*c)/c;const f=[];for(t=0;t<128;t++)e=t/127,f[t]=.5*(1-Math.cos(Math.PI*e));const d=[];for(t=0;t<128;t++){e=t/127;const w=Math.pow(e,3)*4+.2,y=Math.cos(w*Math.PI*2*e);d[t]=Math.abs(y*(1-e))}function m(w){const y=new Array(w.length);for(let A=0;A<w.length;A++)y[A]=1-w[A];return y}function b(w){return w.slice(0).reverse()}return{bounce:{In:m(d),Out:d},cosine:{In:r,Out:b(r)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:m(a)},sine:{In:f,Out:m(f)},step:{In:h,Out:m(h)}}})();class fc extends Ve{constructor(){const t=Be(fc.getDefaults(),arguments);super(t),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=e=>this._original_triggerRelease(e),this._volume=this.output=new Rh({context:this.context,volume:t.volume}),this.volume=this._volume.volume,ci(this,"volume")}static getDefaults(){return Object.assign(Ve.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const r=this["_original_"+t]=this[t];this[t]=(...a)=>{const o=a[e],h=this.context.transport.schedule(c=>{a[e]=c,r.apply(this,a)},o);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(t,e,r,a){const o=this.toSeconds(r),h=this.toSeconds(e);return this.triggerAttack(t,o,a),this.triggerRelease(o+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class $a extends fc{constructor(){const t=Be($a.getDefaults(),arguments);super(t),this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(fc.getDefaults(),{detune:0,onsilence:Gn,portamento:0})}triggerAttack(t,e,r=1){this.log("triggerAttack",t,e,r);const a=this.toSeconds(e);return this._triggerEnvelopeAttack(a,r),this.setNote(t,a),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const r=this.toSeconds(e),a=t instanceof Hs?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,o,r)}else this.frequency.setValueAtTime(a,r);return this}}io([xl(0)],$a.prototype,"portamento",void 0);class A1 extends Ws{constructor(){super(Be(A1.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new $i({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class da extends $a{constructor(){const t=Be(da.getDefaults(),arguments);super(t),this.name="Synth",this.oscillator=new hc(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new A1(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),ci(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign($a.getDefaults(),{envelope:Object.assign(Wa(Ws.getDefaults(),Object.keys(Ve.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Wa(hc.getDefaults(),[...Object.keys(Fr.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+r+a)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Vf extends $a{constructor(){const t=Be(Vf.getDefaults(),arguments);super(t),this.name="ModulationSynth",this._carrier=new da({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new da({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Jn({context:this.context,units:"frequency"}),this.detune=new Jn({context:this.context,value:t.detune,units:"cents"}),this.harmonicity=new vl({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new $i({context:this.context,gain:0}),ci(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign($a.getDefaults(),{harmonicity:3,oscillator:Object.assign(Wa(hc.getDefaults(),[...Object.keys(Fr.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Wa(Ws.getDefaults(),Object.keys(Ve.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Wa(hc.getDefaults(),[...Object.keys(Fr.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Wa(Ws.getDefaults(),Object.keys(Ve.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,e){this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class Vp extends Vf{constructor(){super(Be(Vp.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Zx({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Hp extends Ve{constructor(){const t=Be(Hp.getDefaults(),arguments,["frequency","type"]);super(t),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Qn({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new Qn({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new Qn({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new Qn({context:this.context,units:"decibels",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(Ve.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){ze(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t)!==-1,`Invalid filter type: ${t}`),this._filter.type=t}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let h=0;h<t;h++){const f=Math.pow(h/t,2)*19980+20;e[h]=f}const r=new Float32Array(t),a=new Float32Array(t),o=this.context.createBiquadFilter();return o.type=this.type,o.Q.value=this.Q.value,o.frequency.value=this.frequency.value,o.gain.value=this.gain.value,o.getFrequencyResponse(e,r,a),r}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Gp extends Ve{constructor(){const t=Be(Gp.getDefaults(),arguments,["frequency","type","rolloff"]);super(t),this.name="Filter",this.input=new $i({context:this.context}),this.output=new $i({context:this.context}),this._filters=[],this._filters=[],this.Q=new Jn({context:this.context,units:"positive",value:t.Q}),this.frequency=new Jn({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:t.detune}),this.gain=new Jn({context:this.context,units:"decibels",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,ci(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Ve.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(t){ze(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t)!==-1,`Invalid filter type: ${t}`),this._type=t,this._filters.forEach(r=>r.type=t)}get rolloff(){return this._rolloff}set rolloff(t){const e=pl(t)?t:parseInt(t,10),r=[-12,-24,-48,-96];let a=r.indexOf(e);ze(a!==-1,`rolloff can only be ${r.join(", ")}`),a+=1,this._rolloff=e,this.input.disconnect(),this._filters.forEach(o=>o.disconnect()),this._filters=new Array(a);for(let o=0;o<a;o++){const h=new Hp({context:this.context});h.type=this._type,this.frequency.connect(h.frequency),this.detune.connect(h.detune),this.Q.connect(h.Q),this.gain.connect(h.gain),this._filters[o]=h}this._internalChannels=this._filters,Uf(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const e=new Hp({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),r=new Float32Array(t).map(()=>1);return this._filters.forEach(()=>{e.getFrequencyResponse(t).forEach((o,h)=>r[h]*=o)}),e.dispose(),r}dispose(){return super.dispose(),this._filters.forEach(t=>{t.dispose()}),Ag(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Yp extends Ws{constructor(){const t=Be(Yp.getDefaults(),arguments,["attack","decay","sustain","release"]);super(t),this.name="FrequencyEnvelope",this._octaves=t.octaves,this._baseFrequency=this.toFrequency(t.baseFrequency),this._exponent=this.input=new g1({context:this.context,value:t.exponent}),this._scale=this.output=new qg({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Ws.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){const e=this.toFrequency(t);gl(e,0),this._baseFrequency=e,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._scale.max=this._baseFrequency*Math.pow(2,t)}get exponent(){return this._exponent.value}set exponent(t){this._exponent.value=t}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Wp extends $a{constructor(){const t=Be(Wp.getDefaults(),arguments);super(t),this.name="MonoSynth",this.oscillator=new hc(Object.assign(t.oscillator,{context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Gp(Object.assign(t.filter,{context:this.context})),this.filterEnvelope=new Yp(Object.assign(t.filterEnvelope,{context:this.context})),this.envelope=new A1(Object.assign(t.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),ci(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign($a.getDefaults(),{envelope:Object.assign(Wa(Ws.getDefaults(),Object.keys(Ve.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Wa(Gp.getDefaults(),Object.keys(Ve.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Wa(Yp.getDefaults(),Object.keys(Ve.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Wa(hc.getDefaults(),Object.keys(Fr.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(t,e=1){if(this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+r+a)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Lf extends Vf{constructor(){const t=Be(Lf.getDefaults(),arguments);super(t),this.name="FMSynth",this.modulationIndex=new vl({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Vf.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class N1 extends da{constructor(){const t=Be(N1.getDefaults(),arguments);super(t),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,ci(this,["oscillator","envelope"])}static getDefaults(){return nu($a.getDefaults(),da.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const r=this.toSeconds(e),a=this.toFrequency(t instanceof Hs?t.toFrequency():t),o=a*this.octaves;return this.oscillator.frequency.setValueAtTime(o,r),this.oscillator.frequency.exponentialRampToValueAtTime(a,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}io([Kx(0)],N1.prototype,"octaves",void 0);io([xl(0)],N1.prototype,"pitchDecay",void 0);const $x=new Set;function zg(i){$x.add(i)}function Qx(i,t){const e=`registerProcessor("${i}", ${t})`;$x.add(e)}const Q8=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;zg(Q8);const J8=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;zg(J8);const tT=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;zg(tT);const eT="feedback-comb-filter",nT=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Qx(eT,nT);class xs extends fc{constructor(){const t=Be(xs.getDefaults(),arguments,["voice","options"]);super(t),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),ze(!pl(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const e=t.voice.getDefaults();this.options=Object.assign(e,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(fc.getDefaults(),{maxPolyphony:32,options:{},voice:da})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const e=this._activeVoices.findIndex(r=>r.voice===t);this._activeVoices.splice(e,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return ze(t instanceof $a,"Voice must extend Monophonic class"),t.connect(this.output),this._voices.push(t),t}else h1("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),e=this._voices.indexOf(t);this._voices.splice(e,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,e,r){t.forEach(a=>{const o=new Up(this.context,a).toMidi(),h=this._getNextAvailableVoice();h&&(h.triggerAttack(a,e,r),this._activeVoices.push({midi:o,voice:h,released:!1}),this.log("triggerAttack",a,e))})}_triggerRelease(t,e){t.forEach(r=>{const a=new Up(this.context,r).toMidi(),o=this._activeVoices.find(({midi:h,released:c})=>h===a&&!c);o&&(o.voice.triggerRelease(e),o.released=!0,this.log("triggerRelease",r,e))})}_scheduleEvent(t,e,r,a){ze(!this.disposed,"Synth was already disposed"),r<=this.now()?t==="attack"?this._triggerAttack(e,r,a):this._triggerRelease(e,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(t,e,r,a)},r-this.now())}triggerAttack(t,e,r){Array.isArray(t)||(t=[t]);const a=this.toSeconds(e);return this._scheduleEvent("attack",t,a,r),this}triggerRelease(t,e){Array.isArray(t)||(t=[t]);const r=this.toSeconds(e);return this._scheduleEvent("release",t,r),this}triggerAttackRelease(t,e,r,a){const o=this.toSeconds(r);if(this.triggerAttack(t,o,a),Ys(e)){ze(Ys(t),"If the duration is an array, the notes must also be an array"),t=t;for(let h=0;h<t.length;h++){const c=e[Math.min(h,e.length-1)],f=this.toSeconds(c);ze(f>0,"The duration must be greater than 0"),this.triggerRelease(t[h],o+f)}}else{const h=this.toSeconds(e);ze(h>0,"The duration must be greater than 0"),this.triggerRelease(t,o+h)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(t){const e=Wa(t,["onsilence","context"]);return this.options=nu(this.options,e),this._voices.forEach(r=>r.set(e)),this._dummyVoice.set(e),this}get(){return this._dummyVoice.get()}releaseAll(t){const e=this.toSeconds(t);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(e)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(t=>t.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class od extends fc{constructor(){const t=Be(od.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(t),this.name="Sampler",this._activeSources=new Map;const e={};Object.keys(t.urls).forEach(r=>{const a=parseInt(r,10);if(ze(op(r)||pl(a)&&isFinite(a),`url key is neither a note or midi pitch: ${r}`),op(r)){const o=new Hs(this.context,r).toMidi();e[o]=t.urls[r]}else pl(a)&&isFinite(a)&&(e[a]=t.urls[a])}),this._buffers=new jg({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(fc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Gn,onerror:Gn,release:.1,urls:{}})}_findClosest(t){let r=0;for(;r<96;){if(this._buffers.has(t+r))return-r;if(this._buffers.has(t-r))return r;r++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e,r=1){return this.log("triggerAttack",t,e,r),Array.isArray(t)||(t=[t]),t.forEach(a=>{const o=Gx(new Hs(this.context,a).toFrequency()),h=Math.round(o),c=o-h,f=this._findClosest(h),d=h-f,m=this._buffers.get(d),b=Hx(f+c),w=new y1({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:b}).connect(this.output);w.start(e,0,m.duration/b,r),Ys(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(w),w.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const y=this._activeSources.get(h),A=y.indexOf(w);A!==-1&&y.splice(A,1)}}}),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach(r=>{const a=new Hs(this.context,r).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const o=this._activeSources.get(a);e=this.toSeconds(e),o.forEach(h=>{h.stop(e)}),this._activeSources.set(a,[])}}),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(e)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,r,a=1){const o=this.toSeconds(r);return this.triggerAttack(t,o,a),Ys(e)?(ze(Ys(t),"notes must be an array when duration is array"),t.forEach((h,c)=>{const f=e[Math.min(c,e.length-1)];this.triggerRelease(h,o+this.toSeconds(f))})):this.triggerRelease(t,o+this.toSeconds(e)),this}add(t,e,r){if(ze(op(t)||isFinite(t),`note must be a pitch or midi: ${t}`),op(t)){const a=new Hs(this.context,t).toMidi();this._buffers.add(a,e,r)}else this._buffers.add(t,e,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(e=>e.dispose())}),this._activeSources.clear(),this}}io([xl(0)],od.prototype,"attack",void 0);io([xl(0)],od.prototype,"release",void 0);class Fg extends Ve{constructor(){const t=Be(Fg.getDefaults(),arguments,["pan"]);super(t),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Qn({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",ci(this,"pan")}static getDefaults(){return Object.assign(Ve.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const iT="bit-crusher",rT=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Qx(iT,rT);class Xi extends Ve{constructor(){const t=Be(Xi.getDefaults(),arguments,["solo"]);super(t),this.name="Solo",this.input=this.output=new $i({context:this.context}),Xi._allSolos.has(this.context)||Xi._allSolos.set(this.context,new Set),Xi._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(Ve.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Xi._allSolos.get(this.context).forEach(e=>e._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Xi._soloed.has(this.context)||Xi._soloed.set(this.context,new Set),Xi._soloed.get(this.context).add(this)}_removeSolo(){Xi._soloed.has(this.context)&&Xi._soloed.get(this.context).delete(this)}_isSoloed(){return Xi._soloed.has(this.context)&&Xi._soloed.get(this.context).has(this)}_noSolos(){return!Xi._soloed.has(this.context)||Xi._soloed.has(this.context)&&Xi._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Xi._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Xi._allSolos=new Map;Xi._soloed=new Map;class Pg extends Ve{constructor(){const t=Be(Pg.getDefaults(),arguments,["pan","volume"]);super(t),this.name="PanVol",this._panner=this.input=new Fg({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Rh({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,ci(this,["pan","volume"])}static getDefaults(){return Object.assign(Ve.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class ph extends Ve{constructor(){const t=Be(ph.getDefaults(),arguments,["volume","pan"]);super(t),this.name="Channel",this._solo=this.input=new Xi({solo:t.solo,context:this.context}),this._panVol=this.output=new Pg({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ci(this,["pan","volume"])}static getDefaults(){return Object.assign(Ve.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return ph.buses.has(t)||ph.buses.set(t,new $i({context:this.context})),ph.buses.get(t)}send(t,e=0){const r=this._getBus(t),a=new $i({context:this.context,units:"decibels",gain:e});return this.connect(a),a.connect(r),a}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}ph.buses=new Map;const ts=Xa().transport,Jx=Xa().destination;Xa().destination;Xa().listener;const sT=Xa().draw,vh=Xa();function aT(){return ai.loaded()}const cp=({cx:i,cy:t,innerRadius:e,outerRadius:r,startAngle:a,endAngle:o,color:h,label:c,chord:f,isSelected:d,isDiatonic:m,isSecondary:b=!1,onClick:w,onDoubleClick:y,ringType:A="major",wheelRotation:N=0,romanNumeral:k,voicingSuggestion:T,segmentId:P="seg"})=>{const F=m4(i,t,e,r,a,o),I=(a+o)/2,B=vn.useRef(0),Q=vn.useRef(null),[Y,D]=vn.useState(!1),R=-N,Z=r-e,C=e+Z*.5,j=e+Z*.18,U=ac(i,t,C,I),J=ac(i,t,j,I),ut=r-6,$=p4(i,t,ut,a+1,o-1),rt=`voicing-arc-${P}`,ct=`clip-${P}`,Nt=(()=>{let Ht=.35,$t=.5;m?(Ht=1,$t=1):b&&(Ht=.7,$t=.65);const V=h.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(V){const Dt=parseInt(V[1]),ue=Math.round(parseInt(V[2])*$t),ne=parseInt(V[3]);let Lt=ne;return A==="minor"?Lt=Math.max(ne-8,30):A==="diminished"&&(Lt=Math.max(ne-15,25)),{fill:`hsl(${Dt}, ${ue}%, ${Lt}%)`,opacity:Ht}}return{fill:h,opacity:Ht}})(),X=()=>A==="diminished"?"10px":A==="minor"?"12px":"14px",E=m||b,H=E?"#000000":"rgba(255,255,255,0.7)",tt=m?"bold":b?"600":"normal",it=A==="diminished"||A==="minor"?"6px":"8px",ot=A==="major"?E?6:5:A==="minor"?E?4:3.25:E?3.5:3,mt=E?1:.95,ft=()=>{D(!0)},gt=async Ht=>{Ht.preventDefault(),Ht.stopPropagation(),D(!1),vh.state!=="running"&&await p1();const $t=Date.now(),V=$t-B.current;Q.current&&(clearTimeout(Q.current),Q.current=null),V<300&&V>0?(B.current=0,y&&y(f)):(B.current=$t,Q.current=setTimeout(()=>{w(f),Q.current=null},300))},_t=()=>{D(!1),Q.current&&(clearTimeout(Q.current),Q.current=null)},Rt=Ht=>{Ht.stopPropagation(),w(f)},Xt=Ht=>{Ht.stopPropagation(),y&&y(f)};return L.jsxs("g",{className:Us("cursor-pointer transition-all duration-200",!E&&"hover:opacity-70",Y&&"opacity-80"),onClick:Rt,onDoubleClick:Xt,onTouchStart:ft,onTouchEnd:gt,onTouchCancel:_t,style:{pointerEvents:"all",WebkitTapHighlightColor:"transparent"},children:[(m||b)&&T&&L.jsx("defs",{children:L.jsx("path",{id:rt,d:$,fill:"none"})}),L.jsx("defs",{children:L.jsx("clipPath",{id:ct,children:L.jsx("path",{d:F})})}),L.jsx("path",{d:F,fill:Nt.fill,opacity:Nt.opacity,stroke:k==="I"?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",strokeWidth:k==="I"?2.5:1,className:Us("transition-all duration-200 hover:brightness-110",d&&"brightness-125 stroke-white stroke-2",E&&"hover:brightness-105"),style:{pointerEvents:"all"}}),d&&L.jsx("path",{d:F,fill:"none",stroke:"white",strokeWidth:ot,opacity:mt,filter:"url(#segment-glow)",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none",clipPath:`url(#${ct})`}),(m||b)&&T&&A==="major"&&L.jsx("text",{fill:"rgba(0,0,0,0.6)",fontSize:"6px",className:"pointer-events-none select-none",children:L.jsx("textPath",{href:`#${rt}`,startOffset:"50%",textAnchor:"middle",children:T})}),m&&T&&A==="minor"&&L.jsx("text",{fill:"rgba(0,0,0,0.55)",fontSize:"5px",className:"pointer-events-none select-none",children:L.jsx("textPath",{href:`#${rt}`,startOffset:"50%",textAnchor:"middle",children:T})}),m&&T&&A==="diminished"&&L.jsx("text",{fill:"rgba(0,0,0,0.5)",fontSize:"5px",className:"pointer-events-none select-none",children:L.jsx("textPath",{href:`#${rt}`,startOffset:"50%",textAnchor:"middle",children:T})}),L.jsx("text",{x:U.x,y:U.y,textAnchor:"middle",dominantBaseline:"middle",fill:H,fontWeight:tt,fontSize:X(),className:"pointer-events-none select-none",transform:`rotate(${R}, ${U.x}, ${U.y})`,children:c}),(m||b)&&k&&L.jsx("text",{x:J.x,y:J.y,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(0,0,0,0.6)",fontSize:it,fontStyle:"italic",className:"pointer-events-none select-none",transform:`rotate(${R}, ${J.x}, ${J.y})`,children:k})]})};const oT=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lT=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,r)=>r?r.toUpperCase():e.toLowerCase()),ey=i=>{const t=lT(i);return t.charAt(0).toUpperCase()+t.slice(1)},t_=(...i)=>i.filter((t,e,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===e).join(" ").trim(),cT=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var uT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hT=dt.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:h,...c},f)=>dt.createElement("svg",{ref:f,...uT,width:t,height:t,stroke:i,strokeWidth:r?Number(e)*24/Number(t):e,className:t_("lucide",a),...!o&&!cT(c)&&{"aria-hidden":"true"},...c},[...h.map(([d,m])=>dt.createElement(d,m)),...Array.isArray(o)?o:[o]]));const yn=(i,t)=>{const e=dt.forwardRef(({className:r,...a},o)=>dt.createElement(hT,{ref:o,iconNode:t,className:t_(`lucide-${oT(ey(i))}`,`lucide-${i}`,r),...a}));return e.displayName=ey(i),e};const fT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],dT=yn("arrow-right",fT);const pT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yh=yn("chevron-down",pT);const mT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gT=yn("chevron-right",mT);const vT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yT=yn("chevron-left",vT);const bT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ug=yn("chevron-up",bT);const xT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_T=yn("circle-question-mark",xT);const wT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ST=yn("circle",wT);const AT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],NT=yn("clock",AT);const TT=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ny=yn("compass",TT);const CT=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ET=yn("copy",CT);const kT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],OT=yn("download",kT);const MT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],LT=yn("file-plus",MT);const DT=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],jT=yn("folder-open",DT);const RT=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],iy=yn("grip-horizontal",RT);const IT=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],e_=yn("grip-vertical",IT);const BT=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],qT=yn("hash",BT);const zT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],FT=yn("layers",zT);const PT=[["path",{d:"M5 12h14",key:"1ays0h"}]],UT=yn("minus",PT);const VT=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],z0=yn("music",VT);const HT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],GT=yn("panel-right-close",HT);const YT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],WT=yn("panel-right",YT);const XT=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],ZT=yn("pause",XT);const KT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],$T=yn("play",KT);const QT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],n_=yn("plus",QT);const JT=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],tC=yn("repeat",JT);const eC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],i_=yn("rotate-ccw",eC);const nC=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],r_=yn("rotate-cw",nC);const iC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ry=yn("save",iC);const rC=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],sC=yn("skip-back",rC);const aC=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],oC=yn("skip-forward",aC);const lC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],s_=yn("trash-2",lC);const cC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],uC=yn("volume-2",cC);const hC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],fC=yn("volume-x",hC);const dC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sy=yn("x",dC);let Eh={piano:null,epiano:null,guitar:null,organ:null,synth:null,strings:null,pad:null,brass:null,marimba:null,bell:null,lead:null,bass:null,choir:null},a_="piano",Nf=null,Ap=[],Xp={};const o_=i=>{i in Eh&&(a_=i)},pC=i=>{const t=i<=0?-1/0:20*Math.log10(i);try{Jx.volume.rampTo(t,.1)}catch(e){console.error("Error setting volume:",e)}},mC=i=>{Jx.mute=i},Vg=async()=>{if(Nf)return Nf;Nf=(async()=>{const i="https://tonejs.github.io/audio/salamander/",t=(e,r)=>{if(!Eh[e])try{const a=r();a&&(Eh[e]=a)}catch(a){console.error(`Failed to init instrument "${e}"`,a)}};t("piano",()=>new od({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:i}).toDestination()),t("guitar",()=>new xs(da,{oscillator:{type:"triangle"},envelope:{attack:.002,decay:.25,sustain:.3,release:1.2},filter:{type:"lowpass",frequency:2400,rolloff:-12,Q:1.2},filterEnvelope:{attack:.002,decay:.25,sustain:.2,release:.8,baseFrequency:800,octaves:2.5}}).toDestination()),t("organ",()=>new xs(Vp,{harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),t("synth",()=>new xs(Lf,{harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),t("epiano",()=>new xs(Vp,{harmonicity:2,oscillator:{type:"triangle"},envelope:{attack:.01,decay:.2,sustain:.7,release:.8},modulation:{type:"sine"},modulationEnvelope:{attack:.2,decay:.1,sustain:.6,release:.6}}).toDestination()),t("strings",()=>new xs(da,{oscillator:{type:"sawtooth"},envelope:{attack:.2,decay:.2,sustain:.8,release:1.2}}).toDestination()),t("pad",()=>new xs(Lf,{harmonicity:1.5,modulationIndex:8,oscillator:{type:"sine"},envelope:{attack:.5,decay:.3,sustain:.9,release:1.5},modulation:{type:"triangle"},modulationEnvelope:{attack:.8,decay:.3,sustain:.8,release:1.2}}).toDestination()),t("brass",()=>new xs(Wp,{oscillator:{type:"square"},filter:{Q:2,type:"lowpass",rolloff:-12},envelope:{attack:.02,decay:.25,sustain:.6,release:.7},filterEnvelope:{attack:.01,decay:.2,sustain:.8,release:.4,baseFrequency:200,octaves:2.5}}).toDestination()),t("marimba",()=>new xs(da,{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.35,sustain:0,release:.6}}).toDestination()),t("bell",()=>new xs(Lf,{harmonicity:8,modulationIndex:2,oscillator:{type:"sine"},envelope:{attack:.01,decay:1.2,sustain:0,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.01,decay:.5,sustain:0,release:1.2}}).toDestination()),t("lead",()=>new xs(da,{oscillator:{type:"sawtooth"},envelope:{attack:.005,decay:.15,sustain:.6,release:.35}}).toDestination()),t("bass",()=>new xs(Wp,{oscillator:{type:"square"},filter:{type:"lowpass",rolloff:-24,Q:2},envelope:{attack:.01,decay:.2,sustain:.6,release:.4},filterEnvelope:{attack:.001,decay:.15,sustain:.4,release:.2,baseFrequency:80,octaves:3}}).toDestination()),t("choir",()=>new xs(da,{oscillator:{type:"sine"},envelope:{attack:.8,decay:.3,sustain:.9,release:1.8}}).toDestination()),await aT()})();try{await Nf}catch(i){Nf=null,console.error("Failed to initialize audio",i)}},ay=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Hg=async(i,t="1n",e)=>{if(vh.state!=="running"&&await p1(),vh.state==="suspended"&&await vh.resume(),await Vg(),!i||i.length===0)return;const r=i[0],a=ay.indexOf(r.replace(/\d/,"")),o=i.map((c,f)=>{if(c.match(/\d/))return c;const d=c,m=ay.indexOf(d);if(f===0)return`${d}3`;let b=3;return(m<a||m-a>6)&&(b=4),f>=4&&(b=4),f>=5&&(b=5),`${d}${b}`});let h=Eh[a_];if(h||(h=Eh.piano),!h){console.error("No instrument available to play!");return}try{h.triggerAttackRelease(o,t,e)}catch(c){console.error("Failed to play chord",c)}},gC=()=>{Object.values(Eh).forEach(e=>e?.releaseAll()),ts.stop();const{setPlayingSlot:i,setIsPlaying:t}=Di.getState();i(null,null),t(!1)},Hf=i=>{const t=Math.floor(i/4),e=Math.floor(i%4),r=Math.floor(i%1*4);return`${t}:${e}:${r}`},l_=i=>{ts.cancel(0),Ap=[],Xp={},ts.timeSignature=4;let t=0;i.sections.forEach(r=>{Xp[r.id]=t,r.measures.forEach(a=>{a.beats.forEach(o=>{const h=Hf(t),c=o.duration,f=c*4,d=`${Math.floor(f/16)}:${Math.floor(f%16/4)}:${f%4}`,m=ts.schedule(b=>{sT.schedule(()=>{Di.getState().setPlayingSlot(r.id,o.id)},b),o.chord&&Hg(o.chord.notes,d,b)},h);Ap.push(m),t+=c})})});const e=ts.schedule(()=>{Di.getState().isLooping||gC()},Hf(t));Ap.push(e)},vC=async()=>{await Vg(),vh.state!=="running"&&await vh.resume();const{tempo:i,currentSong:t}=Di.getState();ts.bpm.value=i,Ap.length===0&&l_(t),ts.start()},yC=()=>{ts.pause()},bC=i=>{ts.bpm.value=i},xC=i=>{const{currentSong:t,playingSectionId:e}=Di.getState(),r=t.sections.map(m=>m.id);let a=e?r.indexOf(e):-1;a===-1&&(a=0);let o=i==="next"?a+1:a-1;o>=r.length&&(o=0),o<0&&(o=0);const h=r[o],c=Xp[h]||0,f=Hf(c);ts.position=f;const d=t.sections[o].measures[0]?.beats[0];d&&Di.getState().setPlayingSlot(h,d.id)},_C=()=>{const{isLooping:i,playingSectionId:t,selectedSectionId:e,currentSong:r}=Di.getState();if(i){const a=t||e,o=r.sections.find(h=>h.id===a);if(o){const h=Xp[o.id]??0;let c=0;o.measures.forEach(d=>d.beats.forEach(m=>c+=m.duration));const f=h+c;ts.loopStart=Hf(h),ts.loopEnd=Hf(f),ts.loop=!0;return}}ts.loop=!1},oy=768;function Gg(){const[i,t]=dt.useState(()=>typeof window<"u"?window.innerWidth<oy:!1);return dt.useEffect(()=>{const e=()=>t(window.innerWidth<oy);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),i}const wC=({zoomScale:i,zoomOriginY:t,onZoomChange:e})=>{const{selectedKey:r,setKey:a,wheelRotation:o,wheelMode:h,rotateWheel:c,toggleWheelMode:f,addChordToSlot:d,selectedSectionId:m,selectedSlotId:b,currentSong:w,setSelectedChord:y,selectedChord:A,selectNextSlotAfter:N,setSelectedSlot:k}=Di(),T=h==="rotating"?o:0,P=Of.indexOf(r),F=dt.useRef(null),I=dt.useRef(null),[B,Q]=dt.useState(null),[Y,D]=dt.useState({x:0,y:0}),R=Gg();dt.useEffect(()=>{const wt=A?.segmentId??null;Q(wt)},[A]);const Z=dt.useRef(null),C=dt.useRef(null),[j,U]=dt.useState(!1),J=dt.useRef(0),ut=dt.useRef(0),$=dt.useCallback((wt,qt)=>{if(!C.current)return 0;const zt=C.current.getBoundingClientRect(),re=zt.left+zt.width/2,Ee=zt.top+zt.height/2,te=wt-re,Jt=qt-Ee;return Math.atan2(Jt,te)*(180/Math.PI)},[]),rt=dt.useCallback(wt=>{const qt=Of.indexOf(r),zt=wt==="cw"?(qt+1)%12:(qt-1+12)%12;a(Of[zt]),c(wt)},[r,a,c]),ct=dt.useRef(null),pt=dt.useRef(!1),Nt=dt.useCallback(wt=>{if(!C.current)return;const qt=C.current.getBoundingClientRect(),zt=qt.width/2,re=qt.height/2,Ee=wt.clientX-qt.left-zt,te=wt.clientY-qt.top-re,Jt=Math.sqrt(Ee*Ee+te*te),ve=qt.width/600*70;Jt>ve&&(U(!0),J.current=$(wt.clientX,wt.clientY),ut.current=o,wt.preventDefault())},[$,o,h]),X=dt.useCallback(wt=>{if(wt.touches.length!==1)return;const qt=wt.touches[0];if(ct.current={x:qt.clientX,y:qt.clientY},pt.current=!1,!C.current)return;const zt=C.current.getBoundingClientRect(),re=zt.width/2,Ee=zt.height/2,te=qt.clientX-zt.left-re,Jt=qt.clientY-zt.top-Ee,ve=Math.sqrt(te*te+Jt*Jt),Nn=zt.width/600*70;ve>Nn&&(J.current=$(qt.clientX,qt.clientY),ut.current=o)},[$,o]),E=dt.useCallback(wt=>{if(wt.touches.length!==1||!ct.current)return;const qt=wt.touches[0],zt=qt.clientX-ct.current.x,re=qt.clientY-ct.current.y;if(Math.sqrt(zt*zt+re*re)>10){if(pt.current=!0,wt.preventDefault(),!C.current)return;const te=C.current.getBoundingClientRect(),Jt=te.width/2,ve=te.height/2,Nn=qt.clientX-te.left,Qe=qt.clientY-te.top,cn=Math.sqrt(Math.pow(Nn-Jt,2)+Math.pow(Qe-ve,2)),Tn=te.width/600*70;if(cn>Tn&&J.current!==0){const he=$(qt.clientX,qt.clientY),sn=he-J.current;if(Math.abs(sn)>=15){const jn=Math.round(sn/30);if(jn!==0){const Cn=h==="fixed"?jn>0?"cw":"ccw":jn>0?"ccw":"cw",Ln=Math.abs(jn);for(let Je=0;Je<Ln;Je++)rt(Cn);J.current=he}}}}},[$,rt,h]),H=dt.useCallback(wt=>{if(!j)return;const qt=$(wt.clientX,wt.clientY),zt=qt-J.current;if(Math.abs(zt)>=15){const re=Math.round(zt/30);if(re!==0){let Ee;h==="fixed"?Ee=re>0?"cw":"ccw":Ee=re>0?"ccw":"cw";const te=Math.abs(re);for(let Jt=0;Jt<te;Jt++)rt(Ee);J.current=qt}}},[j,$,rt,h]),tt=dt.useCallback(()=>{U(!1)},[]);dt.useEffect(()=>{if(j)return document.addEventListener("mousemove",H),document.addEventListener("mouseup",tt),()=>{document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",tt)}},[j,H,tt]);const it=dt.useCallback((wt,qt,zt)=>{if(!Z.current||zt<=1)return{x:0,y:0};const{clientWidth:re,clientHeight:Ee}=Z.current,te=12,Jt=re*(zt-1)/2+te,ve=Ee*(zt-1)/2+te;return{x:Math.max(-Jt,Math.min(Jt,wt)),y:Math.max(-ve,Math.min(ve,qt))}},[]);dt.useEffect(()=>{D(wt=>it(wt.x,wt.y,i))},[i,it]);const ot=wt=>({x:(wt[0].clientX+wt[1].clientX)/2,y:(wt[0].clientY+wt[1].clientY)/2}),mt=dt.useCallback(wt=>{if(wt.touches.length===2){wt.preventDefault();const qt=wt.touches[0].clientX-wt.touches[1].clientX,zt=wt.touches[0].clientY-wt.touches[1].clientY;F.current=Math.sqrt(qt*qt+zt*zt),I.current=ot(wt.touches)}},[]),ft=dt.useCallback(wt=>{if(wt.touches.length===2&&F.current!==null){wt.preventDefault(),wt.stopPropagation();const qt=wt.touches[0].clientX-wt.touches[1].clientX,zt=wt.touches[0].clientY-wt.touches[1].clientY,re=Math.sqrt(qt*qt+zt*zt),Ee=re/F.current,te=Math.max(1,Math.min(2.5,i*Ee)),Jt=te>1.3?38:50,ve=ot(wt.touches);if(I.current){const Nn=ve.x-I.current.x,Qe=ve.y-I.current.y;D(cn=>it(cn.x+Nn,cn.y+Qe,te))}F.current=re,I.current=ve,e(te,Jt)}},[i,e,it]),gt=dt.useCallback(wt=>{F.current=null,I.current=null,wt.touches.length===0&&wt.preventDefault()},[]),_t=dt.useCallback(wt=>{if(wt.ctrlKey||wt.metaKey){wt.preventDefault();const qt=wt.deltaY>0?.9:1.1,zt=Math.max(1,Math.min(2.5,i*qt)),re=zt>1.3?38:50;e(zt,re)}},[i,e]),Rt=ng(),Xt=600,Ht=Xt/2,$t=Xt/2,V=60,Dt=V+8,ue=145,ne=ue,Lt=210,ee=Lt,ie=250,le=dt.useMemo(()=>r4(r),[r]),pe=dt.useMemo(()=>le.sharps>0?`${le.sharps}`:le.flats>0?`${le.flats}`:"",[le]),ke=dt.useRef(0),Gt=wt=>{const qt=wt,zt=Date.now();zt-ke.current<300||(ke.current=zt,Hg(wt.notes),Q(qt.segmentId??null),y(wt))},Kt=wt=>{const qt=wt;let zt=null,re=null;if(m&&b)zt=m,re=b;else if(m){const Ee=w.sections.find(te=>te.id===m);if(Ee)for(const te of Ee.measures){for(const Jt of te.beats)if(!Jt.chord){zt=Ee.id,re=Jt.id;break}if(re)break}}if(!zt||!re)for(const Ee of w.sections){for(const te of Ee.measures){for(const Jt of te.beats)if(!Jt.chord){zt=Ee.id,re=Jt.id;break}if(re)break}if(re)break}zt&&re&&(d(wt,zt,re),N(zt,re)||(k(zt,re),Q(qt.segmentId??null),y(wt)))},ce=wt=>(wt-P+12)%12,ge=(wt,qt)=>{const zt=ce(wt);return qt==="major"?zt===0||zt===1||zt===11:qt==="ii"||qt==="iii"||qt==="dim"?zt===0:!1},ae=wt=>ce(wt)===1,Te=wt=>{const qt=ce(wt);return qt===2||qt===4},oe=(wt,qt)=>{const zt=ce(wt);if(qt==="major"){if(zt===0)return"I";if(zt===1)return"V";if(zt===11)return"IV";if(zt===2)return"II";if(zt===4)return"III"}if(qt==="ii"){if(zt===0)return"ii";if(zt===1)return"vi"}return qt==="iii"&&zt===0?"iii":qt==="dim"&&zt===0?"vii":""},Ze=(wt,qt)=>{const zt=ce(wt);if(qt==="major"){if(zt===0)return"maj7, maj9, maj13 or 6";if(zt===1)return"7, 9, 11, sus4, 13";if(zt===11)return"maj7, maj9, maj13 or 6";if(zt===2||zt===4)return"7, sus4"}if(qt==="ii"){if(zt===0)return"m7, m9, m11, m6";if(zt===1)return"m7, m9, m11"}return qt==="iii"&&zt===0?"m7":qt==="dim"&&zt===0?"m75 (7)":""},De=wt=>{if(B)return B===wt.segmentId;const qt=A?.segmentId;return qt?qt===wt.segmentId:!1},we=dt.useCallback(wt=>{wt.touches.length===2?mt(wt):wt.touches.length===1&&X(wt)},[mt,X]),Se=dt.useCallback(wt=>{wt.touches.length===2?ft(wt):wt.touches.length===1&&E(wt)},[ft,E]),Fe=dt.useCallback(wt=>{ct.current=null,pt.current=!1,gt(wt)},[gt]);return L.jsx("div",{ref:Z,className:"relative flex flex-col items-center justify-center w-full h-full max-w-full max-h-full aspect-square p-1 sm:p-2 select-none",onTouchStart:we,onTouchMove:Se,onTouchEnd:Fe,onWheel:_t,style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",touchAction:"none"},children:L.jsx("div",{className:"w-full h-full transition-transform duration-150 ease-out overflow-hidden",style:{transform:`translate(${Y.x}px, ${Y.y}px) scale(${i})`,transformOrigin:`center ${t}%`},children:L.jsxs("svg",{ref:C,width:"100%",height:"100%",viewBox:`0 0 ${Xt} ${Xt}`,className:`w-full h-full select-none ${j?"cursor-grabbing":"cursor-grab"}`,onMouseDown:Nt,style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},children:[L.jsxs("defs",{children:[L.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[L.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),L.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),L.jsx("filter",{id:"segment-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:L.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#ffffff",floodOpacity:"0.9"})})]}),L.jsx("g",{style:{transform:`rotate(${T}deg)`,transformOrigin:`${Ht}px ${$t}px`,transition:"transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:e4.map((wt,qt)=>{const re=qt*30-15,Ee=re+30,te=Rt[wt.major]||Rt.C,Jt=wt.ii.replace("m",""),ve=wt.iii.replace("m",""),Nn=wt.diminished.replace("",""),Qe=ge(qt,"major"),cn=Te(qt),Tn=ge(qt,"ii")||ae(qt),he=ge(qt,"iii"),sn=ge(qt,"dim"),jn={root:wt.major,quality:"major",numeral:oe(qt,"major"),notes:uh(wt.major,"major"),symbol:wt.major,segmentId:`major-${qt}`,ringType:"major",positionIndex:qt},Cn={root:Jt,quality:"minor",numeral:oe(qt,"ii"),notes:uh(Jt,"minor"),symbol:wt.ii,segmentId:`ii-${qt}`,ringType:"minor",positionIndex:qt},Ln={root:ve,quality:"minor",numeral:oe(qt,"iii"),notes:uh(ve,"minor"),symbol:wt.iii,segmentId:`iii-${qt}`,ringType:"minor",positionIndex:qt},Je={root:Nn,quality:"diminished",numeral:oe(qt,"dim"),notes:uh(Nn,"diminished"),symbol:wt.diminished,segmentId:`dim-${qt}`,ringType:"diminished",positionIndex:qt},En=15,Qi=re+-7.5,ui=Qi+En,wn=ui,Wn=wn+En,ji=15,ur=re+(30-ji)/2,Mr=ur+ji,ga=wt.major,Ur=wt.ii,Vr=wt.iii,Xs=wt.diminished;return L.jsxs("g",{children:[L.jsx(cp,{cx:Ht,cy:$t,innerRadius:Dt,outerRadius:ue,startAngle:re,endAngle:Ee,color:te,label:ga,chord:jn,isSelected:De(jn),isDiatonic:Qe,isSecondary:cn,onClick:Gt,onDoubleClick:Kt,ringType:"major",wheelRotation:T,romanNumeral:Qe||cn?oe(qt,"major"):void 0,voicingSuggestion:Qe||cn?Ze(qt,"major"):void 0,segmentId:`major-${qt}`}),L.jsx(cp,{cx:Ht,cy:$t,innerRadius:ne,outerRadius:Lt,startAngle:Qi,endAngle:ui,color:te,label:Ur,chord:Cn,isSelected:De(Cn),isDiatonic:Tn,onClick:Gt,onDoubleClick:Kt,ringType:"minor",wheelRotation:T,romanNumeral:Tn?oe(qt,"ii"):void 0,voicingSuggestion:Tn?Ze(qt,"ii"):void 0,segmentId:`ii-${qt}`}),L.jsx(cp,{cx:Ht,cy:$t,innerRadius:ne,outerRadius:Lt,startAngle:wn,endAngle:Wn,color:te,label:Vr,chord:Ln,isSelected:De(Ln),isDiatonic:he,onClick:Gt,onDoubleClick:Kt,ringType:"minor",wheelRotation:T,romanNumeral:he?oe(qt,"iii"):void 0,voicingSuggestion:he?Ze(qt,"iii"):void 0,segmentId:`iii-${qt}`}),L.jsx(cp,{cx:Ht,cy:$t,innerRadius:ee,outerRadius:ie,startAngle:ur,endAngle:Mr,color:te,label:Xs,chord:Je,isSelected:De(Je),isDiatonic:sn,onClick:Gt,onDoubleClick:Kt,ringType:"diminished",wheelRotation:T,romanNumeral:sn?oe(qt,"dim"):void 0,voicingSuggestion:sn?Ze(qt,"dim"):void 0,segmentId:`dim-${qt}`})]},wt.major)})}),L.jsx("circle",{cx:Ht,cy:$t,r:V,fill:"#1a1a24",stroke:"#3a3a4a",strokeWidth:"2",style:{pointerEvents:"none"}}),L.jsx("text",{x:Ht,y:$t-22,textAnchor:"middle",fill:"#6366f1",fontSize:"9",fontWeight:"bold",letterSpacing:"2",children:"KEY"}),L.jsx("text",{x:Ht,y:$t+6,textAnchor:"middle",fill:"white",fontSize:"26",fontWeight:"bold",children:r}),L.jsx("text",{x:Ht,y:$t+24,textAnchor:"middle",fill:"#9898a6",fontSize:"11",children:pe||"No /"}),L.jsxs("g",{transform:`translate(${Ht-22}, ${$t+38})`,onClick:()=>rt("ccw"),onTouchEnd:wt=>{wt.preventDefault(),wt.stopPropagation(),rt("ccw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[L.jsx("circle",{r:R?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),L.jsx("g",{transform:R?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:L.jsx(i_,{size:R?12:9,color:"#9898a6"})})]}),L.jsxs("g",{transform:`translate(${Ht+22}, ${$t+38})`,onClick:()=>rt("cw"),onTouchEnd:wt=>{wt.preventDefault(),wt.stopPropagation(),rt("cw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[L.jsx("circle",{r:R?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),L.jsx("g",{transform:R?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:L.jsx(r_,{size:R?12:9,color:"#9898a6"})})]}),L.jsxs("g",{transform:`translate(${Ht}, ${$t+52})`,onClick:f,onTouchEnd:wt=>{wt.preventDefault(),wt.stopPropagation(),f()},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[L.jsx("rect",{x:R?-24:-18,y:R?-10:-6,width:R?48:36,height:R?20:12,rx:R?10:6,fill:h==="fixed"?"#6366f1":"#282833",className:"hover:brightness-110 transition-all",style:{pointerEvents:"all"}}),L.jsx("g",{style:{pointerEvents:"none"},children:h==="fixed"?L.jsx("g",{transform:R?"translate(-5, -5)":"translate(-4, -4)",children:L.jsx(ny,{size:R?10:8,color:"white"})}):L.jsx("g",{transform:R?"translate(-5, -5) rotate(-35 5 5)":"translate(-4, -4) rotate(-35 4 4)",children:L.jsx(ny,{size:R?10:8,color:"#ef4444"})})})]})]})})})};var kf=Fb();function SC(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return dt.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const T1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ih(i){const t=Object.prototype.toString.call(i);return t==="[object Window]"||t==="[object global]"}function Yg(i){return"nodeType"in i}function ns(i){var t,e;return i?Ih(i)?i:Yg(i)&&(t=(e=i.ownerDocument)==null?void 0:e.defaultView)!=null?t:window:window}function Wg(i){const{Document:t}=ns(i);return i instanceof t}function ld(i){return Ih(i)?!1:i instanceof ns(i).HTMLElement}function c_(i){return i instanceof ns(i).SVGElement}function Bh(i){return i?Ih(i)?i.document:Yg(i)?Wg(i)?i:ld(i)||c_(i)?i.ownerDocument:document:document:document}const Qa=T1?dt.useLayoutEffect:dt.useEffect;function C1(i){const t=dt.useRef(i);return Qa(()=>{t.current=i}),dt.useCallback(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function AC(){const i=dt.useRef(null),t=dt.useCallback((r,a)=>{i.current=setInterval(r,a)},[]),e=dt.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[t,e]}function Gf(i,t){t===void 0&&(t=[i]);const e=dt.useRef(i);return Qa(()=>{e.current!==i&&(e.current=i)},t),e}function cd(i,t){const e=dt.useRef();return dt.useMemo(()=>{const r=i(e.current);return e.current=r,r},[...t])}function Zp(i){const t=C1(i),e=dt.useRef(null),r=dt.useCallback(a=>{a!==e.current&&t?.(a,e.current),e.current=a},[]);return[e,r]}function Kp(i){const t=dt.useRef();return dt.useEffect(()=>{t.current=i},[i]),t.current}let Jm={};function ud(i,t){return dt.useMemo(()=>{if(t)return t;const e=Jm[i]==null?0:Jm[i]+1;return Jm[i]=e,i+"-"+e},[i,t])}function u_(i){return function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return r.reduce((o,h)=>{const c=Object.entries(h);for(const[f,d]of c){const m=o[f];m!=null&&(o[f]=m+i*d)}return o},{...t})}}const bh=u_(1),Yf=u_(-1);function NC(i){return"clientX"in i&&"clientY"in i}function E1(i){if(!i)return!1;const{KeyboardEvent:t}=ns(i.target);return t&&i instanceof t}function TC(i){if(!i)return!1;const{TouchEvent:t}=ns(i.target);return t&&i instanceof t}function $p(i){if(TC(i)){if(i.touches&&i.touches.length){const{clientX:t,clientY:e}=i.touches[0];return{x:t,y:e}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:t,clientY:e}=i.changedTouches[0];return{x:t,y:e}}}return NC(i)?{x:i.clientX,y:i.clientY}:null}const dc=Object.freeze({Translate:{toString(i){if(!i)return;const{x:t,y:e}=i;return"translate3d("+(t?Math.round(t):0)+"px, "+(e?Math.round(e):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:t,scaleY:e}=i;return"scaleX("+t+") scaleY("+e+")"}},Transform:{toString(i){if(i)return[dc.Translate.toString(i),dc.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:t,duration:e,easing:r}=i;return t+" "+e+"ms "+r}}}),ly="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function CC(i){return i.matches(ly)?i:i.querySelector(ly)}const EC={display:"none"};function kC(i){let{id:t,value:e}=i;return vn.createElement("div",{id:t,style:EC},e)}function OC(i){let{id:t,announcement:e,ariaLiveType:r="assertive"}=i;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return vn.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},e)}function MC(){const[i,t]=dt.useState("");return{announce:dt.useCallback(r=>{r!=null&&t(r)},[]),announcement:i}}const h_=dt.createContext(null);function f_(i){const t=dt.useContext(h_);dt.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(i)},[i,t])}function LC(){const[i]=dt.useState(()=>new Set),t=dt.useCallback(r=>(i.add(r),()=>i.delete(r)),[i]);return[dt.useCallback(r=>{let{type:a,event:o}=r;i.forEach(h=>{var c;return(c=h[a])==null?void 0:c.call(h,o)})},[i]),t]}const DC={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},jC={onDragStart(i){let{active:t}=i;return"Picked up draggable item "+t.id+"."},onDragOver(i){let{active:t,over:e}=i;return e?"Draggable item "+t.id+" was moved over droppable area "+e.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(i){let{active:t,over:e}=i;return e?"Draggable item "+t.id+" was dropped over droppable area "+e.id:"Draggable item "+t.id+" was dropped."},onDragCancel(i){let{active:t}=i;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function RC(i){let{announcements:t=jC,container:e,hiddenTextDescribedById:r,screenReaderInstructions:a=DC}=i;const{announce:o,announcement:h}=MC(),c=ud("DndLiveRegion"),[f,d]=dt.useState(!1);if(dt.useEffect(()=>{d(!0)},[]),f_(dt.useMemo(()=>({onDragStart(b){let{active:w}=b;o(t.onDragStart({active:w}))},onDragMove(b){let{active:w,over:y}=b;t.onDragMove&&o(t.onDragMove({active:w,over:y}))},onDragOver(b){let{active:w,over:y}=b;o(t.onDragOver({active:w,over:y}))},onDragEnd(b){let{active:w,over:y}=b;o(t.onDragEnd({active:w,over:y}))},onDragCancel(b){let{active:w,over:y}=b;o(t.onDragCancel({active:w,over:y}))}}),[o,t])),!f)return null;const m=vn.createElement(vn.Fragment,null,vn.createElement(kC,{id:r,value:a.draggable}),vn.createElement(OC,{id:c,announcement:h}));return e?kf.createPortal(m,e):m}var lr;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(lr||(lr={}));function Qp(){}function cy(i,t){return dt.useMemo(()=>({sensor:i,options:t??{}}),[i,t])}function IC(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return dt.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ja=Object.freeze({x:0,y:0});function d_(i,t){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))}function BC(i,t){const e=$p(i);if(!e)return"0 0";const r={x:(e.x-t.left)/t.width*100,y:(e.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function p_(i,t){let{data:{value:e}}=i,{data:{value:r}}=t;return e-r}function qC(i,t){let{data:{value:e}}=i,{data:{value:r}}=t;return r-e}function uy(i){let{left:t,top:e,height:r,width:a}=i;return[{x:t,y:e},{x:t+a,y:e},{x:t,y:e+r},{x:t+a,y:e+r}]}function m_(i,t){if(!i||i.length===0)return null;const[e]=i;return e[t]}function hy(i,t,e){return t===void 0&&(t=i.left),e===void 0&&(e=i.top),{x:t+i.width*.5,y:e+i.height*.5}}const zC=i=>{let{collisionRect:t,droppableRects:e,droppableContainers:r}=i;const a=hy(t,t.left,t.top),o=[];for(const h of r){const{id:c}=h,f=e.get(c);if(f){const d=d_(hy(f),a);o.push({id:c,data:{droppableContainer:h,value:d}})}}return o.sort(p_)},FC=i=>{let{collisionRect:t,droppableRects:e,droppableContainers:r}=i;const a=uy(t),o=[];for(const h of r){const{id:c}=h,f=e.get(c);if(f){const d=uy(f),m=a.reduce((w,y,A)=>w+d_(d[A],y),0),b=Number((m/4).toFixed(4));o.push({id:c,data:{droppableContainer:h,value:b}})}}return o.sort(p_)};function PC(i,t){const e=Math.max(t.top,i.top),r=Math.max(t.left,i.left),a=Math.min(t.left+t.width,i.left+i.width),o=Math.min(t.top+t.height,i.top+i.height),h=a-r,c=o-e;if(r<a&&e<o){const f=t.width*t.height,d=i.width*i.height,m=h*c,b=m/(f+d-m);return Number(b.toFixed(4))}return 0}const UC=i=>{let{collisionRect:t,droppableRects:e,droppableContainers:r}=i;const a=[];for(const o of r){const{id:h}=o,c=e.get(h);if(c){const f=PC(c,t);f>0&&a.push({id:h,data:{droppableContainer:o,value:f}})}}return a.sort(qC)};function VC(i,t,e){return{...i,scaleX:t&&e?t.width/e.width:1,scaleY:t&&e?t.height/e.height:1}}function g_(i,t){return i&&t?{x:i.left-t.left,y:i.top-t.top}:Ja}function HC(i){return function(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return a.reduce((h,c)=>({...h,top:h.top+i*c.y,bottom:h.bottom+i*c.y,left:h.left+i*c.x,right:h.right+i*c.x}),{...e})}}const GC=HC(1);function v_(i){if(i.startsWith("matrix3d(")){const t=i.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(i.startsWith("matrix(")){const t=i.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function YC(i,t,e){const r=v_(t);if(!r)return i;const{scaleX:a,scaleY:o,x:h,y:c}=r,f=i.left-h-(1-a)*parseFloat(e),d=i.top-c-(1-o)*parseFloat(e.slice(e.indexOf(" ")+1)),m=a?i.width/a:i.width,b=o?i.height/o:i.height;return{width:m,height:b,top:d,right:f+m,bottom:d+b,left:f}}const WC={ignoreTransform:!1};function qh(i,t){t===void 0&&(t=WC);let e=i.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:m}=ns(i).getComputedStyle(i);d&&(e=YC(e,d,m))}const{top:r,left:a,width:o,height:h,bottom:c,right:f}=e;return{top:r,left:a,width:o,height:h,bottom:c,right:f}}function fy(i){return qh(i,{ignoreTransform:!0})}function XC(i){const t=i.innerWidth,e=i.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}function ZC(i,t){return t===void 0&&(t=ns(i).getComputedStyle(i)),t.position==="fixed"}function KC(i,t){t===void 0&&(t=ns(i).getComputedStyle(i));const e=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=t[a];return typeof o=="string"?e.test(o):!1})}function k1(i,t){const e=[];function r(a){if(t!=null&&e.length>=t||!a)return e;if(Wg(a)&&a.scrollingElement!=null&&!e.includes(a.scrollingElement))return e.push(a.scrollingElement),e;if(!ld(a)||c_(a)||e.includes(a))return e;const o=ns(i).getComputedStyle(a);return a!==i&&KC(a,o)&&e.push(a),ZC(a,o)?e:r(a.parentNode)}return i?r(i):e}function y_(i){const[t]=k1(i,1);return t??null}function t0(i){return!T1||!i?null:Ih(i)?i:Yg(i)?Wg(i)||i===Bh(i).scrollingElement?window:ld(i)?i:null:null}function b_(i){return Ih(i)?i.scrollX:i.scrollLeft}function x_(i){return Ih(i)?i.scrollY:i.scrollTop}function F0(i){return{x:b_(i),y:x_(i)}}var vr;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(vr||(vr={}));function __(i){return!T1||!i?!1:i===document.scrollingElement}function w_(i){const t={x:0,y:0},e=__(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},r={x:i.scrollWidth-e.width,y:i.scrollHeight-e.height},a=i.scrollTop<=t.y,o=i.scrollLeft<=t.x,h=i.scrollTop>=r.y,c=i.scrollLeft>=r.x;return{isTop:a,isLeft:o,isBottom:h,isRight:c,maxScroll:r,minScroll:t}}const $C={x:.2,y:.2};function QC(i,t,e,r,a){let{top:o,left:h,right:c,bottom:f}=e;r===void 0&&(r=10),a===void 0&&(a=$C);const{isTop:d,isBottom:m,isLeft:b,isRight:w}=w_(i),y={x:0,y:0},A={x:0,y:0},N={height:t.height*a.y,width:t.width*a.x};return!d&&o<=t.top+N.height?(y.y=vr.Backward,A.y=r*Math.abs((t.top+N.height-o)/N.height)):!m&&f>=t.bottom-N.height&&(y.y=vr.Forward,A.y=r*Math.abs((t.bottom-N.height-f)/N.height)),!w&&c>=t.right-N.width?(y.x=vr.Forward,A.x=r*Math.abs((t.right-N.width-c)/N.width)):!b&&h<=t.left+N.width&&(y.x=vr.Backward,A.x=r*Math.abs((t.left+N.width-h)/N.width)),{direction:y,speed:A}}function JC(i){if(i===document.scrollingElement){const{innerWidth:o,innerHeight:h}=window;return{top:0,left:0,right:o,bottom:h,width:o,height:h}}const{top:t,left:e,right:r,bottom:a}=i.getBoundingClientRect();return{top:t,left:e,right:r,bottom:a,width:i.clientWidth,height:i.clientHeight}}function S_(i){return i.reduce((t,e)=>bh(t,F0(e)),Ja)}function t7(i){return i.reduce((t,e)=>t+b_(e),0)}function e7(i){return i.reduce((t,e)=>t+x_(e),0)}function A_(i,t){if(t===void 0&&(t=qh),!i)return;const{top:e,left:r,bottom:a,right:o}=t(i);y_(i)&&(a<=0||o<=0||e>=window.innerHeight||r>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const n7=[["x",["left","right"],t7],["y",["top","bottom"],e7]];class Xg{constructor(t,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=k1(e),a=S_(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,h,c]of n7)for(const f of h)Object.defineProperty(this,f,{get:()=>{const d=c(r),m=a[o]-d;return this.rect[f]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Df{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...e)})},this.target=t}add(t,e,r){var a;(a=this.target)==null||a.addEventListener(t,e,r),this.listeners.push([t,e,r])}}function i7(i){const{EventTarget:t}=ns(i);return i instanceof t?i:Bh(i)}function e0(i,t){const e=Math.abs(i.x),r=Math.abs(i.y);return typeof t=="number"?Math.sqrt(e**2+r**2)>t:"x"in t&&"y"in t?e>t.x&&r>t.y:"x"in t?e>t.x:"y"in t?r>t.y:!1}var fa;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(fa||(fa={}));function dy(i){i.preventDefault()}function r7(i){i.stopPropagation()}var dn;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(dn||(dn={}));const N_={start:[dn.Space,dn.Enter],cancel:[dn.Esc],end:[dn.Space,dn.Enter,dn.Tab]},s7=(i,t)=>{let{currentCoordinates:e}=t;switch(i.code){case dn.Right:return{...e,x:e.x+25};case dn.Left:return{...e,x:e.x-25};case dn.Down:return{...e,y:e.y+25};case dn.Up:return{...e,y:e.y-25}}};class Zg{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:e}}=t;this.props=t,this.listeners=new Df(Bh(e)),this.windowListeners=new Df(ns(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(fa.Resize,this.handleCancel),this.windowListeners.add(fa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(fa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:e}=this.props,r=t.node.current;r&&A_(r),e(Ja)}handleKeyDown(t){if(E1(t)){const{active:e,context:r,options:a}=this.props,{keyboardCodes:o=N_,coordinateGetter:h=s7,scrollBehavior:c="smooth"}=a,{code:f}=t;if(o.end.includes(f)){this.handleEnd(t);return}if(o.cancel.includes(f)){this.handleCancel(t);return}const{collisionRect:d}=r.current,m=d?{x:d.left,y:d.top}:Ja;this.referenceCoordinates||(this.referenceCoordinates=m);const b=h(t,{active:e,context:r.current,currentCoordinates:m});if(b){const w=Yf(b,m),y={x:0,y:0},{scrollableAncestors:A}=r.current;for(const N of A){const k=t.code,{isTop:T,isRight:P,isLeft:F,isBottom:I,maxScroll:B,minScroll:Q}=w_(N),Y=JC(N),D={x:Math.min(k===dn.Right?Y.right-Y.width/2:Y.right,Math.max(k===dn.Right?Y.left:Y.left+Y.width/2,b.x)),y:Math.min(k===dn.Down?Y.bottom-Y.height/2:Y.bottom,Math.max(k===dn.Down?Y.top:Y.top+Y.height/2,b.y))},R=k===dn.Right&&!P||k===dn.Left&&!F,Z=k===dn.Down&&!I||k===dn.Up&&!T;if(R&&D.x!==b.x){const C=N.scrollLeft+w.x,j=k===dn.Right&&C<=B.x||k===dn.Left&&C>=Q.x;if(j&&!w.y){N.scrollTo({left:C,behavior:c});return}j?y.x=N.scrollLeft-C:y.x=k===dn.Right?N.scrollLeft-B.x:N.scrollLeft-Q.x,y.x&&N.scrollBy({left:-y.x,behavior:c});break}else if(Z&&D.y!==b.y){const C=N.scrollTop+w.y,j=k===dn.Down&&C<=B.y||k===dn.Up&&C>=Q.y;if(j&&!w.x){N.scrollTo({top:C,behavior:c});return}j?y.y=N.scrollTop-C:y.y=k===dn.Down?N.scrollTop-B.y:N.scrollTop-Q.y,y.y&&N.scrollBy({top:-y.y,behavior:c});break}}this.handleMove(t,bh(Yf(b,this.referenceCoordinates),y))}}}handleMove(t,e){const{onMove:r}=this.props;t.preventDefault(),r(e)}handleEnd(t){const{onEnd:e}=this.props;t.preventDefault(),this.detach(),e()}handleCancel(t){const{onCancel:e}=this.props;t.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Zg.activators=[{eventName:"onKeyDown",handler:(i,t,e)=>{let{keyboardCodes:r=N_,onActivation:a}=t,{active:o}=e;const{code:h}=i.nativeEvent;if(r.start.includes(h)){const c=o.activatorNode.current;return c&&i.target!==c?!1:(i.preventDefault(),a?.({event:i.nativeEvent}),!0)}return!1}}];function py(i){return!!(i&&"distance"in i)}function my(i){return!!(i&&"delay"in i)}class Kg{constructor(t,e,r){var a;r===void 0&&(r=i7(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=e;const{event:o}=t,{target:h}=o;this.props=t,this.events=e,this.document=Bh(h),this.documentListeners=new Df(this.document),this.listeners=new Df(r),this.windowListeners=new Df(ns(h)),this.initialCoordinates=(a=$p(o))!=null?a:Ja,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:e,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(fa.Resize,this.handleCancel),this.windowListeners.add(fa.DragStart,dy),this.windowListeners.add(fa.VisibilityChange,this.handleCancel),this.windowListeners.add(fa.ContextMenu,dy),this.documentListeners.add(fa.Keydown,this.handleKeydown),e){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(my(e)){this.timeoutId=setTimeout(this.handleStart,e.delay),this.handlePending(e);return}if(py(e)){this.handlePending(e);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,e){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,e)}handleStart(){const{initialCoordinates:t}=this,{onStart:e}=this.props;t&&(this.activated=!0,this.documentListeners.add(fa.Click,r7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(fa.SelectionChange,this.removeTextSelection),e(t))}handleMove(t){var e;const{activated:r,initialCoordinates:a,props:o}=this,{onMove:h,options:{activationConstraint:c}}=o;if(!a)return;const f=(e=$p(t))!=null?e:Ja,d=Yf(a,f);if(!r&&c){if(py(c)){if(c.tolerance!=null&&e0(d,c.tolerance))return this.handleCancel();if(e0(d,c.distance))return this.handleStart()}if(my(c)&&e0(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}t.cancelable&&t.preventDefault(),h(f)}handleEnd(){const{onAbort:t,onEnd:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleCancel(){const{onAbort:t,onCancel:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleKeydown(t){t.code===dn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const a7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class $g extends Kg{constructor(t){const{event:e}=t,r=Bh(e.target);super(t,a7,r)}}$g.activators=[{eventName:"onPointerDown",handler:(i,t)=>{let{nativeEvent:e}=i,{onActivation:r}=t;return!e.isPrimary||e.button!==0?!1:(r?.({event:e}),!0)}}];const o7={move:{name:"mousemove"},end:{name:"mouseup"}};var P0;(function(i){i[i.RightClick=2]="RightClick"})(P0||(P0={}));class l7 extends Kg{constructor(t){super(t,o7,Bh(t.event.target))}}l7.activators=[{eventName:"onMouseDown",handler:(i,t)=>{let{nativeEvent:e}=i,{onActivation:r}=t;return e.button===P0.RightClick?!1:(r?.({event:e}),!0)}}];const n0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class c7 extends Kg{constructor(t){super(t,n0)}static setup(){return window.addEventListener(n0.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(n0.move.name,t)};function t(){}}}c7.activators=[{eventName:"onTouchStart",handler:(i,t)=>{let{nativeEvent:e}=i,{onActivation:r}=t;const{touches:a}=e;return a.length>1?!1:(r?.({event:e}),!0)}}];var jf;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(jf||(jf={}));var Jp;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(Jp||(Jp={}));function u7(i){let{acceleration:t,activator:e=jf.Pointer,canScroll:r,draggingRect:a,enabled:o,interval:h=5,order:c=Jp.TreeOrder,pointerCoordinates:f,scrollableAncestors:d,scrollableAncestorRects:m,delta:b,threshold:w}=i;const y=f7({delta:b,disabled:!o}),[A,N]=AC(),k=dt.useRef({x:0,y:0}),T=dt.useRef({x:0,y:0}),P=dt.useMemo(()=>{switch(e){case jf.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case jf.DraggableRect:return a}},[e,a,f]),F=dt.useRef(null),I=dt.useCallback(()=>{const Q=F.current;if(!Q)return;const Y=k.current.x*T.current.x,D=k.current.y*T.current.y;Q.scrollBy(Y,D)},[]),B=dt.useMemo(()=>c===Jp.TreeOrder?[...d].reverse():d,[c,d]);dt.useEffect(()=>{if(!o||!d.length||!P){N();return}for(const Q of B){if(r?.(Q)===!1)continue;const Y=d.indexOf(Q),D=m[Y];if(!D)continue;const{direction:R,speed:Z}=QC(Q,D,P,t,w);for(const C of["x","y"])y[C][R[C]]||(Z[C]=0,R[C]=0);if(Z.x>0||Z.y>0){N(),F.current=Q,A(I,h),k.current=Z,T.current=R;return}}k.current={x:0,y:0},T.current={x:0,y:0},N()},[t,I,r,N,o,h,JSON.stringify(P),JSON.stringify(y),A,d,B,m,JSON.stringify(w)])}const h7={x:{[vr.Backward]:!1,[vr.Forward]:!1},y:{[vr.Backward]:!1,[vr.Forward]:!1}};function f7(i){let{delta:t,disabled:e}=i;const r=Kp(t);return cd(a=>{if(e||!r||!a)return h7;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[vr.Backward]:a.x[vr.Backward]||o.x===-1,[vr.Forward]:a.x[vr.Forward]||o.x===1},y:{[vr.Backward]:a.y[vr.Backward]||o.y===-1,[vr.Forward]:a.y[vr.Forward]||o.y===1}}},[e,t,r])}function d7(i,t){const e=t!=null?i.get(t):void 0,r=e?e.node.current:null;return cd(a=>{var o;return t==null?null:(o=r??a)!=null?o:null},[r,t])}function p7(i,t){return dt.useMemo(()=>i.reduce((e,r)=>{const{sensor:a}=r,o=a.activators.map(h=>({eventName:h.eventName,handler:t(h.handler,r)}));return[...e,...o]},[]),[i,t])}var Wf;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Wf||(Wf={}));var U0;(function(i){i.Optimized="optimized"})(U0||(U0={}));const gy=new Map;function m7(i,t){let{dragging:e,dependencies:r,config:a}=t;const[o,h]=dt.useState(null),{frequency:c,measure:f,strategy:d}=a,m=dt.useRef(i),b=k(),w=Gf(b),y=dt.useCallback(function(T){T===void 0&&(T=[]),!w.current&&h(P=>P===null?T:P.concat(T.filter(F=>!P.includes(F))))},[w]),A=dt.useRef(null),N=cd(T=>{if(b&&!e)return gy;if(!T||T===gy||m.current!==i||o!=null){const P=new Map;for(let F of i){if(!F)continue;if(o&&o.length>0&&!o.includes(F.id)&&F.rect.current){P.set(F.id,F.rect.current);continue}const I=F.node.current,B=I?new Xg(f(I),I):null;F.rect.current=B,B&&P.set(F.id,B)}return P}return T},[i,o,e,b,f]);return dt.useEffect(()=>{m.current=i},[i]),dt.useEffect(()=>{b||y()},[e,b]),dt.useEffect(()=>{o&&o.length>0&&h(null)},[JSON.stringify(o)]),dt.useEffect(()=>{b||typeof c!="number"||A.current!==null||(A.current=setTimeout(()=>{y(),A.current=null},c))},[c,b,y,...r]),{droppableRects:N,measureDroppableContainers:y,measuringScheduled:o!=null};function k(){switch(d){case Wf.Always:return!1;case Wf.BeforeDragging:return e;default:return!e}}}function Qg(i,t){return cd(e=>i?e||(typeof t=="function"?t(i):i):null,[t,i])}function g7(i,t){return Qg(i,t)}function v7(i){let{callback:t,disabled:e}=i;const r=C1(t),a=dt.useMemo(()=>{if(e||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,e]);return dt.useEffect(()=>()=>a?.disconnect(),[a]),a}function O1(i){let{callback:t,disabled:e}=i;const r=C1(t),a=dt.useMemo(()=>{if(e||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[e]);return dt.useEffect(()=>()=>a?.disconnect(),[a]),a}function y7(i){return new Xg(qh(i),i)}function vy(i,t,e){t===void 0&&(t=y7);const[r,a]=dt.useState(null);function o(){a(f=>{if(!i)return null;if(i.isConnected===!1){var d;return(d=f??e)!=null?d:null}const m=t(i);return JSON.stringify(f)===JSON.stringify(m)?f:m})}const h=v7({callback(f){if(i)for(const d of f){const{type:m,target:b}=d;if(m==="childList"&&b instanceof HTMLElement&&b.contains(i)){o();break}}}}),c=O1({callback:o});return Qa(()=>{o(),i?(c?.observe(i),h?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),h?.disconnect())},[i]),r}function b7(i){const t=Qg(i);return g_(i,t)}const yy=[];function x7(i){const t=dt.useRef(i),e=cd(r=>i?r&&r!==yy&&i&&t.current&&i.parentNode===t.current.parentNode?r:k1(i):yy,[i]);return dt.useEffect(()=>{t.current=i},[i]),e}function _7(i){const[t,e]=dt.useState(null),r=dt.useRef(i),a=dt.useCallback(o=>{const h=t0(o.target);h&&e(c=>c?(c.set(h,F0(h)),new Map(c)):null)},[]);return dt.useEffect(()=>{const o=r.current;if(i!==o){h(o);const c=i.map(f=>{const d=t0(f);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,F0(d)]):null}).filter(f=>f!=null);e(c.length?new Map(c):null),r.current=i}return()=>{h(i),h(o)};function h(c){c.forEach(f=>{const d=t0(f);d?.removeEventListener("scroll",a)})}},[a,i]),dt.useMemo(()=>i.length?t?Array.from(t.values()).reduce((o,h)=>bh(o,h),Ja):S_(i):Ja,[i,t])}function by(i,t){t===void 0&&(t=[]);const e=dt.useRef(null);return dt.useEffect(()=>{e.current=null},t),dt.useEffect(()=>{const r=i!==Ja;r&&!e.current&&(e.current=i),!r&&e.current&&(e.current=null)},[i]),e.current?Yf(i,e.current):Ja}function w7(i){dt.useEffect(()=>{if(!T1)return;const t=i.map(e=>{let{sensor:r}=e;return r.setup==null?void 0:r.setup()});return()=>{for(const e of t)e?.()}},i.map(t=>{let{sensor:e}=t;return e}))}function S7(i,t){return dt.useMemo(()=>i.reduce((e,r)=>{let{eventName:a,handler:o}=r;return e[a]=h=>{o(h,t)},e},{}),[i,t])}function T_(i){return dt.useMemo(()=>i?XC(i):null,[i])}const xy=[];function A7(i,t){t===void 0&&(t=qh);const[e]=i,r=T_(e?ns(e):null),[a,o]=dt.useState(xy);function h(){o(()=>i.length?i.map(f=>__(f)?r:new Xg(t(f),f)):xy)}const c=O1({callback:h});return Qa(()=>{c?.disconnect(),h(),i.forEach(f=>c?.observe(f))},[i]),a}function C_(i){if(!i)return null;if(i.children.length>1)return i;const t=i.children[0];return ld(t)?t:i}function N7(i){let{measure:t}=i;const[e,r]=dt.useState(null),a=dt.useCallback(d=>{for(const{target:m}of d)if(ld(m)){r(b=>{const w=t(m);return b?{...b,width:w.width,height:w.height}:w});break}},[t]),o=O1({callback:a}),h=dt.useCallback(d=>{const m=C_(d);o?.disconnect(),m&&o?.observe(m),r(m?t(m):null)},[t,o]),[c,f]=Zp(h);return dt.useMemo(()=>({nodeRef:c,rect:e,setRef:f}),[e,c,f])}const T7=[{sensor:$g,options:{}},{sensor:Zg,options:{}}],C7={current:{}},Np={draggable:{measure:fy},droppable:{measure:fy,strategy:Wf.WhileDragging,frequency:U0.Optimized},dragOverlay:{measure:qh}};class Rf extends Map{get(t){var e;return t!=null&&(e=super.get(t))!=null?e:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:e}=t;return!e})}getNodeFor(t){var e,r;return(e=(r=this.get(t))==null?void 0:r.node.current)!=null?e:void 0}}const E7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Rf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Qp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Np,measureDroppableContainers:Qp,windowRect:null,measuringScheduled:!1},E_={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Qp,draggableNodes:new Map,over:null,measureDroppableContainers:Qp},hd=dt.createContext(E_),k_=dt.createContext(E7);function k7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Rf}}}function O7(i,t){switch(t.type){case lr.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case lr.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:t.coordinates.x-i.draggable.initialCoordinates.x,y:t.coordinates.y-i.draggable.initialCoordinates.y}}};case lr.DragEnd:case lr.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case lr.RegisterDroppable:{const{element:e}=t,{id:r}=e,a=new Rf(i.droppable.containers);return a.set(r,e),{...i,droppable:{...i.droppable,containers:a}}}case lr.SetDroppableDisabled:{const{id:e,key:r,disabled:a}=t,o=i.droppable.containers.get(e);if(!o||r!==o.key)return i;const h=new Rf(i.droppable.containers);return h.set(e,{...o,disabled:a}),{...i,droppable:{...i.droppable,containers:h}}}case lr.UnregisterDroppable:{const{id:e,key:r}=t,a=i.droppable.containers.get(e);if(!a||r!==a.key)return i;const o=new Rf(i.droppable.containers);return o.delete(e),{...i,droppable:{...i.droppable,containers:o}}}default:return i}}function M7(i){let{disabled:t}=i;const{active:e,activatorEvent:r,draggableNodes:a}=dt.useContext(hd),o=Kp(r),h=Kp(e?.id);return dt.useEffect(()=>{if(!t&&!r&&o&&h!=null){if(!E1(o)||document.activeElement===o.target)return;const c=a.get(h);if(!c)return;const{activatorNode:f,node:d}=c;if(!f.current&&!d.current)return;requestAnimationFrame(()=>{for(const m of[f.current,d.current]){if(!m)continue;const b=CC(m);if(b){b.focus();break}}})}},[r,t,a,h,o]),null}function O_(i,t){let{transform:e,...r}=t;return i!=null&&i.length?i.reduce((a,o)=>o({transform:a,...r}),e):e}function L7(i){return dt.useMemo(()=>({draggable:{...Np.draggable,...i?.draggable},droppable:{...Np.droppable,...i?.droppable},dragOverlay:{...Np.dragOverlay,...i?.dragOverlay}}),[i?.draggable,i?.droppable,i?.dragOverlay])}function D7(i){let{activeNode:t,measure:e,initialRect:r,config:a=!0}=i;const o=dt.useRef(!1),{x:h,y:c}=typeof a=="boolean"?{x:a,y:a}:a;Qa(()=>{if(!h&&!c||!t){o.current=!1;return}if(o.current||!r)return;const d=t?.node.current;if(!d||d.isConnected===!1)return;const m=e(d),b=g_(m,r);if(h||(b.x=0),c||(b.y=0),o.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const w=y_(d);w&&w.scrollBy({top:b.y,left:b.x})}},[t,h,c,r,e])}const M1=dt.createContext({...Ja,scaleX:1,scaleY:1});var sc;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(sc||(sc={}));const j7=dt.memo(function(t){var e,r,a,o;let{id:h,accessibility:c,autoScroll:f=!0,children:d,sensors:m=T7,collisionDetection:b=UC,measuring:w,modifiers:y,...A}=t;const N=dt.useReducer(O7,void 0,k7),[k,T]=N,[P,F]=LC(),[I,B]=dt.useState(sc.Uninitialized),Q=I===sc.Initialized,{draggable:{active:Y,nodes:D,translate:R},droppable:{containers:Z}}=k,C=Y!=null?D.get(Y):null,j=dt.useRef({initial:null,translated:null}),U=dt.useMemo(()=>{var te;return Y!=null?{id:Y,data:(te=C?.data)!=null?te:C7,rect:j}:null},[Y,C]),J=dt.useRef(null),[ut,$]=dt.useState(null),[rt,ct]=dt.useState(null),pt=Gf(A,Object.values(A)),Nt=ud("DndDescribedBy",h),X=dt.useMemo(()=>Z.getEnabled(),[Z]),E=L7(w),{droppableRects:H,measureDroppableContainers:tt,measuringScheduled:it}=m7(X,{dragging:Q,dependencies:[R.x,R.y],config:E.droppable}),ot=d7(D,Y),mt=dt.useMemo(()=>rt?$p(rt):null,[rt]),ft=Ee(),gt=g7(ot,E.draggable.measure);D7({activeNode:Y!=null?D.get(Y):null,config:ft.layoutShiftCompensation,initialRect:gt,measure:E.draggable.measure});const _t=vy(ot,E.draggable.measure,gt),Rt=vy(ot?ot.parentElement:null),Xt=dt.useRef({activatorEvent:null,active:null,activeNode:ot,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ht=Z.getNodeFor((e=Xt.current.over)==null?void 0:e.id),$t=N7({measure:E.dragOverlay.measure}),V=(r=$t.nodeRef.current)!=null?r:ot,Dt=Q?(a=$t.rect)!=null?a:_t:null,ue=!!($t.nodeRef.current&&$t.rect),ne=b7(ue?null:_t),Lt=T_(V?ns(V):null),ee=x7(Q?Ht??ot:null),ie=A7(ee),le=O_(y,{transform:{x:R.x-ne.x,y:R.y-ne.y,scaleX:1,scaleY:1},activatorEvent:rt,active:U,activeNodeRect:_t,containerNodeRect:Rt,draggingNodeRect:Dt,over:Xt.current.over,overlayNodeRect:$t.rect,scrollableAncestors:ee,scrollableAncestorRects:ie,windowRect:Lt}),pe=mt?bh(mt,R):null,ke=_7(ee),Gt=by(ke),Kt=by(ke,[_t]),ce=bh(le,Gt),ge=Dt?GC(Dt,le):null,ae=U&&ge?b({active:U,collisionRect:ge,droppableRects:H,droppableContainers:X,pointerCoordinates:pe}):null,Te=m_(ae,"id"),[oe,Ze]=dt.useState(null),De=ue?le:bh(le,Kt),we=VC(De,(o=oe?.rect)!=null?o:null,_t),Se=dt.useRef(null),Fe=dt.useCallback((te,Jt)=>{let{sensor:ve,options:Nn}=Jt;if(J.current==null)return;const Qe=D.get(J.current);if(!Qe)return;const cn=te.nativeEvent,Tn=new ve({active:J.current,activeNode:Qe,event:cn,options:Nn,context:Xt,onAbort(sn){if(!D.get(sn))return;const{onDragAbort:Cn}=pt.current,Ln={id:sn};Cn?.(Ln),P({type:"onDragAbort",event:Ln})},onPending(sn,jn,Cn,Ln){if(!D.get(sn))return;const{onDragPending:En}=pt.current,Dn={id:sn,constraint:jn,initialCoordinates:Cn,offset:Ln};En?.(Dn),P({type:"onDragPending",event:Dn})},onStart(sn){const jn=J.current;if(jn==null)return;const Cn=D.get(jn);if(!Cn)return;const{onDragStart:Ln}=pt.current,Je={activatorEvent:cn,active:{id:jn,data:Cn.data,rect:j}};kf.unstable_batchedUpdates(()=>{Ln?.(Je),B(sc.Initializing),T({type:lr.DragStart,initialCoordinates:sn,active:jn}),P({type:"onDragStart",event:Je}),$(Se.current),ct(cn)})},onMove(sn){T({type:lr.DragMove,coordinates:sn})},onEnd:he(lr.DragEnd),onCancel:he(lr.DragCancel)});Se.current=Tn;function he(sn){return async function(){const{active:Cn,collisions:Ln,over:Je,scrollAdjustedTranslate:En}=Xt.current;let Dn=null;if(Cn&&En){const{cancelDrop:Qi}=pt.current;Dn={activatorEvent:cn,active:Cn,collisions:Ln,delta:En,over:Je},sn===lr.DragEnd&&typeof Qi=="function"&&await Promise.resolve(Qi(Dn))&&(sn=lr.DragCancel)}J.current=null,kf.unstable_batchedUpdates(()=>{T({type:sn}),B(sc.Uninitialized),Ze(null),$(null),ct(null),Se.current=null;const Qi=sn===lr.DragEnd?"onDragEnd":"onDragCancel";if(Dn){const ui=pt.current[Qi];ui?.(Dn),P({type:Qi,event:Dn})}})}}},[D]),wt=dt.useCallback((te,Jt)=>(ve,Nn)=>{const Qe=ve.nativeEvent,cn=D.get(Nn);if(J.current!==null||!cn||Qe.dndKit||Qe.defaultPrevented)return;const Tn={active:cn};te(ve,Jt.options,Tn)===!0&&(Qe.dndKit={capturedBy:Jt.sensor},J.current=Nn,Fe(ve,Jt))},[D,Fe]),qt=p7(m,wt);w7(m),Qa(()=>{_t&&I===sc.Initializing&&B(sc.Initialized)},[_t,I]),dt.useEffect(()=>{const{onDragMove:te}=pt.current,{active:Jt,activatorEvent:ve,collisions:Nn,over:Qe}=Xt.current;if(!Jt||!ve)return;const cn={active:Jt,activatorEvent:ve,collisions:Nn,delta:{x:ce.x,y:ce.y},over:Qe};kf.unstable_batchedUpdates(()=>{te?.(cn),P({type:"onDragMove",event:cn})})},[ce.x,ce.y]),dt.useEffect(()=>{const{active:te,activatorEvent:Jt,collisions:ve,droppableContainers:Nn,scrollAdjustedTranslate:Qe}=Xt.current;if(!te||J.current==null||!Jt||!Qe)return;const{onDragOver:cn}=pt.current,Tn=Nn.get(Te),he=Tn&&Tn.rect.current?{id:Tn.id,rect:Tn.rect.current,data:Tn.data,disabled:Tn.disabled}:null,sn={active:te,activatorEvent:Jt,collisions:ve,delta:{x:Qe.x,y:Qe.y},over:he};kf.unstable_batchedUpdates(()=>{Ze(he),cn?.(sn),P({type:"onDragOver",event:sn})})},[Te]),Qa(()=>{Xt.current={activatorEvent:rt,active:U,activeNode:ot,collisionRect:ge,collisions:ae,droppableRects:H,draggableNodes:D,draggingNode:V,draggingNodeRect:Dt,droppableContainers:Z,over:oe,scrollableAncestors:ee,scrollAdjustedTranslate:ce},j.current={initial:Dt,translated:ge}},[U,ot,ae,ge,D,V,Dt,H,Z,oe,ee,ce]),u7({...ft,delta:R,draggingRect:ge,pointerCoordinates:pe,scrollableAncestors:ee,scrollableAncestorRects:ie});const zt=dt.useMemo(()=>({active:U,activeNode:ot,activeNodeRect:_t,activatorEvent:rt,collisions:ae,containerNodeRect:Rt,dragOverlay:$t,draggableNodes:D,droppableContainers:Z,droppableRects:H,over:oe,measureDroppableContainers:tt,scrollableAncestors:ee,scrollableAncestorRects:ie,measuringConfiguration:E,measuringScheduled:it,windowRect:Lt}),[U,ot,_t,rt,ae,Rt,$t,D,Z,H,oe,tt,ee,ie,E,it,Lt]),re=dt.useMemo(()=>({activatorEvent:rt,activators:qt,active:U,activeNodeRect:_t,ariaDescribedById:{draggable:Nt},dispatch:T,draggableNodes:D,over:oe,measureDroppableContainers:tt}),[rt,qt,U,_t,T,Nt,D,oe,tt]);return vn.createElement(h_.Provider,{value:F},vn.createElement(hd.Provider,{value:re},vn.createElement(k_.Provider,{value:zt},vn.createElement(M1.Provider,{value:we},d)),vn.createElement(M7,{disabled:c?.restoreFocus===!1})),vn.createElement(RC,{...c,hiddenTextDescribedById:Nt}));function Ee(){const te=ut?.autoScrollEnabled===!1,Jt=typeof f=="object"?f.enabled===!1:f===!1,ve=Q&&!te&&!Jt;return typeof f=="object"?{...f,enabled:ve}:{enabled:ve}}}),R7=dt.createContext(null),_y="button",I7="Draggable";function M_(i){let{id:t,data:e,disabled:r=!1,attributes:a}=i;const o=ud(I7),{activators:h,activatorEvent:c,active:f,activeNodeRect:d,ariaDescribedById:m,draggableNodes:b,over:w}=dt.useContext(hd),{role:y=_y,roleDescription:A="draggable",tabIndex:N=0}=a??{},k=f?.id===t,T=dt.useContext(k?M1:R7),[P,F]=Zp(),[I,B]=Zp(),Q=S7(h,t),Y=Gf(e);Qa(()=>(b.set(t,{id:t,key:o,node:P,activatorNode:I,data:Y}),()=>{const R=b.get(t);R&&R.key===o&&b.delete(t)}),[b,t]);const D=dt.useMemo(()=>({role:y,tabIndex:N,"aria-disabled":r,"aria-pressed":k&&y===_y?!0:void 0,"aria-roledescription":A,"aria-describedby":m.draggable}),[r,y,N,k,A,m.draggable]);return{active:f,activatorEvent:c,activeNodeRect:d,attributes:D,isDragging:k,listeners:r?void 0:Q,node:P,over:w,setNodeRef:F,setActivatorNodeRef:B,transform:T}}function L_(){return dt.useContext(k_)}const B7="Droppable",q7={timeout:25};function D_(i){let{data:t,disabled:e=!1,id:r,resizeObserverConfig:a}=i;const o=ud(B7),{active:h,dispatch:c,over:f,measureDroppableContainers:d}=dt.useContext(hd),m=dt.useRef({disabled:e}),b=dt.useRef(!1),w=dt.useRef(null),y=dt.useRef(null),{disabled:A,updateMeasurementsFor:N,timeout:k}={...q7,...a},T=Gf(N??r),P=dt.useCallback(()=>{if(!b.current){b.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{d(Array.isArray(T.current)?T.current:[T.current]),y.current=null},k)},[k]),F=O1({callback:P,disabled:A||!h}),I=dt.useCallback((D,R)=>{F&&(R&&(F.unobserve(R),b.current=!1),D&&F.observe(D))},[F]),[B,Q]=Zp(I),Y=Gf(t);return dt.useEffect(()=>{!F||!B.current||(F.disconnect(),b.current=!1,F.observe(B.current))},[B,F]),dt.useEffect(()=>(c({type:lr.RegisterDroppable,element:{id:r,key:o,disabled:e,node:B,rect:w,data:Y}}),()=>c({type:lr.UnregisterDroppable,key:o,id:r})),[r]),dt.useEffect(()=>{e!==m.current.disabled&&(c({type:lr.SetDroppableDisabled,id:r,key:o,disabled:e}),m.current.disabled=e)},[r,o,e,c]),{active:h,rect:w,isOver:f?.id===r,node:B,over:f,setNodeRef:Q}}function z7(i){let{animation:t,children:e}=i;const[r,a]=dt.useState(null),[o,h]=dt.useState(null),c=Kp(e);return!e&&!r&&c&&a(c),Qa(()=>{if(!o)return;const f=r?.key,d=r?.props.id;if(f==null||d==null){a(null);return}Promise.resolve(t(d,o)).then(()=>{a(null)})},[t,r,o]),vn.createElement(vn.Fragment,null,e,r?dt.cloneElement(r,{ref:h}):null)}const F7={x:0,y:0,scaleX:1,scaleY:1};function P7(i){let{children:t}=i;return vn.createElement(hd.Provider,{value:E_},vn.createElement(M1.Provider,{value:F7},t))}const U7={position:"fixed",touchAction:"none"},V7=i=>E1(i)?"transform 250ms ease":void 0,H7=dt.forwardRef((i,t)=>{let{as:e,activatorEvent:r,adjustScale:a,children:o,className:h,rect:c,style:f,transform:d,transition:m=V7}=i;if(!c)return null;const b=a?d:{...d,scaleX:1,scaleY:1},w={...U7,width:c.width,height:c.height,top:c.top,left:c.left,transform:dc.Transform.toString(b),transformOrigin:a&&r?BC(r,c):void 0,transition:typeof m=="function"?m(r):m,...f};return vn.createElement(e,{className:h,style:w,ref:t},o)}),G7=i=>t=>{let{active:e,dragOverlay:r}=t;const a={},{styles:o,className:h}=i;if(o!=null&&o.active)for(const[c,f]of Object.entries(o.active))f!==void 0&&(a[c]=e.node.style.getPropertyValue(c),e.node.style.setProperty(c,f));if(o!=null&&o.dragOverlay)for(const[c,f]of Object.entries(o.dragOverlay))f!==void 0&&r.node.style.setProperty(c,f);return h!=null&&h.active&&e.node.classList.add(h.active),h!=null&&h.dragOverlay&&r.node.classList.add(h.dragOverlay),function(){for(const[f,d]of Object.entries(a))e.node.style.setProperty(f,d);h!=null&&h.active&&e.node.classList.remove(h.active)}},Y7=i=>{let{transform:{initial:t,final:e}}=i;return[{transform:dc.Transform.toString(t)},{transform:dc.Transform.toString(e)}]},W7={duration:250,easing:"ease",keyframes:Y7,sideEffects:G7({styles:{active:{opacity:"0"}}})};function X7(i){let{config:t,draggableNodes:e,droppableContainers:r,measuringConfiguration:a}=i;return C1((o,h)=>{if(t===null)return;const c=e.get(o);if(!c)return;const f=c.node.current;if(!f)return;const d=C_(h);if(!d)return;const{transform:m}=ns(h).getComputedStyle(h),b=v_(m);if(!b)return;const w=typeof t=="function"?t:Z7(t);return A_(f,a.draggable.measure),w({active:{id:o,data:c.data,node:f,rect:a.draggable.measure(f)},draggableNodes:e,dragOverlay:{node:h,rect:a.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:a,transform:b})})}function Z7(i){const{duration:t,easing:e,sideEffects:r,keyframes:a}={...W7,...i};return o=>{let{active:h,dragOverlay:c,transform:f,...d}=o;if(!t)return;const m={x:c.rect.left-h.rect.left,y:c.rect.top-h.rect.top},b={scaleX:f.scaleX!==1?h.rect.width*f.scaleX/c.rect.width:1,scaleY:f.scaleY!==1?h.rect.height*f.scaleY/c.rect.height:1},w={x:f.x-m.x,y:f.y-m.y,...b},y=a({...d,active:h,dragOverlay:c,transform:{initial:f,final:w}}),[A]=y,N=y[y.length-1];if(JSON.stringify(A)===JSON.stringify(N))return;const k=r?.({active:h,dragOverlay:c,...d}),T=c.node.animate(y,{duration:t,easing:e,fill:"forwards"});return new Promise(P=>{T.onfinish=()=>{k?.(),P()}})}}let wy=0;function K7(i){return dt.useMemo(()=>{if(i!=null)return wy++,wy},[i])}const $7=vn.memo(i=>{let{adjustScale:t=!1,children:e,dropAnimation:r,style:a,transition:o,modifiers:h,wrapperElement:c="div",className:f,zIndex:d=999}=i;const{activatorEvent:m,active:b,activeNodeRect:w,containerNodeRect:y,draggableNodes:A,droppableContainers:N,dragOverlay:k,over:T,measuringConfiguration:P,scrollableAncestors:F,scrollableAncestorRects:I,windowRect:B}=L_(),Q=dt.useContext(M1),Y=K7(b?.id),D=O_(h,{activatorEvent:m,active:b,activeNodeRect:w,containerNodeRect:y,draggingNodeRect:k.rect,over:T,overlayNodeRect:k.rect,scrollableAncestors:F,scrollableAncestorRects:I,transform:Q,windowRect:B}),R=Qg(w),Z=X7({config:r,draggableNodes:A,droppableContainers:N,measuringConfiguration:P}),C=R?k.setRef:void 0;return vn.createElement(P7,null,vn.createElement(z7,{animation:Z},b&&Y?vn.createElement(H7,{key:Y,id:b.id,ref:C,as:c,activatorEvent:m,adjustScale:t,className:f,transition:o,rect:R,style:{zIndex:d,...a},transform:D},e):null))});function Jg(i,t,e){const r=i.slice();return r.splice(e<0?r.length+e:e,0,r.splice(t,1)[0]),r}function Q7(i,t){return i.reduce((e,r,a)=>{const o=t.get(r);return o&&(e[a]=o),e},Array(i.length))}function up(i){return i!==null&&i>=0}function J7(i,t){if(i===t)return!0;if(i.length!==t.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!==t[e])return!1;return!0}function tE(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const hp={scaleX:1,scaleY:1},eE=i=>{var t;let{rects:e,activeNodeRect:r,activeIndex:a,overIndex:o,index:h}=i;const c=(t=e[a])!=null?t:r;if(!c)return null;const f=nE(e,h,a);if(h===a){const d=e[o];return d?{x:a<o?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...hp}:null}return h>a&&h<=o?{x:-c.width-f,y:0,...hp}:h<a&&h>=o?{x:c.width+f,y:0,...hp}:{x:0,y:0,...hp}};function nE(i,t,e){const r=i[t],a=i[t-1],o=i[t+1];return!r||!a&&!o?0:e<t?a?r.left-(a.left+a.width):o.left-(r.left+r.width):o?o.left-(r.left+r.width):r.left-(a.left+a.width)}const j_=i=>{let{rects:t,activeIndex:e,overIndex:r,index:a}=i;const o=Jg(t,r,e),h=t[a],c=o[a];return!c||!h?null:{x:c.left-h.left,y:c.top-h.top,scaleX:c.width/h.width,scaleY:c.height/h.height}},R_="Sortable",I_=vn.createContext({activeIndex:-1,containerId:R_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:j_,disabled:{draggable:!1,droppable:!1}});function iE(i){let{children:t,id:e,items:r,strategy:a=j_,disabled:o=!1}=i;const{active:h,dragOverlay:c,droppableRects:f,over:d,measureDroppableContainers:m}=L_(),b=ud(R_,e),w=c.rect!==null,y=dt.useMemo(()=>r.map(Q=>typeof Q=="object"&&"id"in Q?Q.id:Q),[r]),A=h!=null,N=h?y.indexOf(h.id):-1,k=d?y.indexOf(d.id):-1,T=dt.useRef(y),P=!J7(y,T.current),F=k!==-1&&N===-1||P,I=tE(o);Qa(()=>{P&&A&&m(y)},[P,y,A,m]),dt.useEffect(()=>{T.current=y},[y]);const B=dt.useMemo(()=>({activeIndex:N,containerId:b,disabled:I,disableTransforms:F,items:y,overIndex:k,useDragOverlay:w,sortedRects:Q7(y,f),strategy:a}),[N,b,I.draggable,I.droppable,F,y,k,f,w,a]);return vn.createElement(I_.Provider,{value:B},t)}const rE=i=>{let{id:t,items:e,activeIndex:r,overIndex:a}=i;return Jg(e,r,a).indexOf(t)},sE=i=>{let{containerId:t,isSorting:e,wasDragging:r,index:a,items:o,newIndex:h,previousItems:c,previousContainerId:f,transition:d}=i;return!d||!r||c!==o&&a===h?!1:e?!0:h!==a&&t===f},aE={duration:200,easing:"ease"},B_="transform",oE=dc.Transition.toString({property:B_,duration:0,easing:"linear"}),lE={roleDescription:"sortable"};function cE(i){let{disabled:t,index:e,node:r,rect:a}=i;const[o,h]=dt.useState(null),c=dt.useRef(e);return Qa(()=>{if(!t&&e!==c.current&&r.current){const f=a.current;if(f){const d=qh(r.current,{ignoreTransform:!0}),m={x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height};(m.x||m.y)&&h(m)}}e!==c.current&&(c.current=e)},[t,e,r,a]),dt.useEffect(()=>{o&&h(null)},[o]),o}function uE(i){let{animateLayoutChanges:t=sE,attributes:e,disabled:r,data:a,getNewIndex:o=rE,id:h,strategy:c,resizeObserverConfig:f,transition:d=aE}=i;const{items:m,containerId:b,activeIndex:w,disabled:y,disableTransforms:A,sortedRects:N,overIndex:k,useDragOverlay:T,strategy:P}=dt.useContext(I_),F=hE(r,y),I=m.indexOf(h),B=dt.useMemo(()=>({sortable:{containerId:b,index:I,items:m},...a}),[b,a,I,m]),Q=dt.useMemo(()=>m.slice(m.indexOf(h)),[m,h]),{rect:Y,node:D,isOver:R,setNodeRef:Z}=D_({id:h,data:B,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:Q,...f}}),{active:C,activatorEvent:j,activeNodeRect:U,attributes:J,setNodeRef:ut,listeners:$,isDragging:rt,over:ct,setActivatorNodeRef:pt,transform:Nt}=M_({id:h,data:B,attributes:{...lE,...e},disabled:F.draggable}),X=SC(Z,ut),E=!!C,H=E&&!A&&up(w)&&up(k),tt=!T&&rt,it=tt&&H?Nt:null,mt=H?it??(c??P)({rects:N,activeNodeRect:U,activeIndex:w,overIndex:k,index:I}):null,ft=up(w)&&up(k)?o({id:h,items:m,activeIndex:w,overIndex:k}):I,gt=C?.id,_t=dt.useRef({activeId:gt,items:m,newIndex:ft,containerId:b}),Rt=m!==_t.current.items,Xt=t({active:C,containerId:b,isDragging:rt,isSorting:E,id:h,index:I,items:m,newIndex:_t.current.newIndex,previousItems:_t.current.items,previousContainerId:_t.current.containerId,transition:d,wasDragging:_t.current.activeId!=null}),Ht=cE({disabled:!Xt,index:I,node:D,rect:Y});return dt.useEffect(()=>{E&&_t.current.newIndex!==ft&&(_t.current.newIndex=ft),b!==_t.current.containerId&&(_t.current.containerId=b),m!==_t.current.items&&(_t.current.items=m)},[E,ft,b,m]),dt.useEffect(()=>{if(gt===_t.current.activeId)return;if(gt!=null&&_t.current.activeId==null){_t.current.activeId=gt;return}const V=setTimeout(()=>{_t.current.activeId=gt},50);return()=>clearTimeout(V)},[gt]),{active:C,activeIndex:w,attributes:J,data:B,rect:Y,index:I,newIndex:ft,items:m,isOver:R,isSorting:E,isDragging:rt,listeners:$,node:D,overIndex:k,over:ct,setNodeRef:X,setActivatorNodeRef:pt,setDroppableNodeRef:Z,setDraggableNodeRef:ut,transform:Ht??mt,transition:$t()};function $t(){if(Ht||Rt&&_t.current.newIndex===I)return oE;if(!(tt&&!E1(j)||!d)&&(E||Xt))return dc.Transition.toString({...d,property:B_})}}function hE(i,t){var e,r;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(e=i?.draggable)!=null?e:t.draggable,droppable:(r=i?.droppable)!=null?r:t.droppable}}function t1(i){if(!i)return!1;const t=i.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const fE=[dn.Down,dn.Right,dn.Up,dn.Left],dE=(i,t)=>{let{context:{active:e,collisionRect:r,droppableRects:a,droppableContainers:o,over:h,scrollableAncestors:c}}=t;if(fE.includes(i.code)){if(i.preventDefault(),!e||!r)return;const f=[];o.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const w=a.get(b.id);if(w)switch(i.code){case dn.Down:r.top<w.top&&f.push(b);break;case dn.Up:r.top>w.top&&f.push(b);break;case dn.Left:r.left>w.left&&f.push(b);break;case dn.Right:r.left<w.left&&f.push(b);break}});const d=FC({collisionRect:r,droppableRects:a,droppableContainers:f});let m=m_(d,"id");if(m===h?.id&&d.length>1&&(m=d[1].id),m!=null){const b=o.get(e.id),w=o.get(m),y=w?a.get(w.id):null,A=w?.node.current;if(A&&y&&b&&w){const k=k1(A).some((Q,Y)=>c[Y]!==Q),T=q_(b,w),P=pE(b,w),F=k||!T?{x:0,y:0}:{x:P?r.width-y.width:0,y:P?r.height-y.height:0},I={x:y.left,y:y.top};return F.x&&F.y?I:Yf(I,F)}}}};function q_(i,t){return!t1(i)||!t1(t)?!1:i.data.current.sortable.containerId===t.data.current.sortable.containerId}function pE(i,t){return!t1(i)||!t1(t)||!q_(i,t)?!1:i.data.current.sortable.index<t.data.current.sortable.index}const mE=({slot:i,sectionId:t,size:e=48,width:r})=>{const{selectedSlots:a,setSelectedSlot:o,toggleSlotSelection:h,selectRangeTo:c,setSelectedSlots:f,playingSectionId:d,playingSlotId:m}=Di(),b=ng(),w=r??e,{isOver:y,setNodeRef:A}=D_({id:`slot-${i.id}`,data:{type:"slot",sectionId:t,slotId:i.id}}),{attributes:N,listeners:k,setNodeRef:T,transform:P,isDragging:F}=M_({id:`chord-${i.id}`,data:{type:"chord",chord:i.chord,originSlotId:i.id,originSectionId:t},disabled:!i.chord}),I=a.some(C=>C.slotId===i.id&&C.sectionId===t),B=d===t&&m===i.id,Q=P?{transform:`translate3d(${P.x}px, ${P.y}px, 0)`,zIndex:999}:void 0,Y=C=>{if(C.button===0)if(C.stopPropagation(),C.shiftKey)c(t,i.id);else if(C.metaKey||C.ctrlKey)h(t,i.id);else if(I&&a.length>0){const j=[...a.filter(U=>!(U.sectionId===t&&U.slotId===i.id)),{sectionId:t,slotId:i.id}];f(j)}else o(t,i.id)},R=(()=>{if(!i.chord)return;const C=i.chord.root;if(b[C])return b[C];const j=fl(C);for(const U of Object.keys(b))if(fl(U)===j)return b[U];return"hsl(230, 60%, 50%)"})(),Z=Math.max(8,Math.min(12,e*.22));return L.jsxs("div",{ref:A,onMouseDown:Y,onClick:C=>C.stopPropagation(),onDoubleClick:C=>C.stopPropagation(),style:{width:w,height:e},className:Us("rounded border-2 flex items-center justify-center transition-all relative flex-shrink-0",y?"border-accent-primary bg-accent-glow scale-105":"border-border-medium bg-bg-elevated",I?"ring-2 ring-accent-primary ring-offset-1 ring-offset-bg-primary":"",B?"ring-2 ring-green-500 ring-offset-1 ring-offset-bg-primary shadow-[0_0_15px_rgba(34,197,94,0.5)] scale-105 z-10":"",!i.chord&&"hover:border-text-muted cursor-pointer"),children:[!i.chord&&L.jsx("span",{className:"text-text-muted font-light select-none",style:{fontSize:Z+4},children:"+"}),i.chord&&L.jsx("div",{ref:T,...k,...N,style:{...Q,backgroundColor:R},className:Us("w-full h-full rounded flex items-center justify-center font-bold shadow cursor-grab active:cursor-grabbing select-none overflow-hidden",F?"opacity-50":"opacity-100"),children:L.jsx("span",{style:{fontSize:Z,color:a4(R||"")},className:"truncate px-0.5 text-center font-bold",children:i.chord.symbol})})]})},gE=i=>{const[t,e]=i;return t*(4/e)},vE=({measure:i,sectionId:t,index:e,chordSize:r=48,timeSignature:a,scale:o=1})=>{const{setMeasureSubdivision:h}=Di(),c=Math.max(.1,Math.min(1.6,o)),f=gE(a),d=i.beats.length,m=r*.9,b=Math.max(8,m*c),y=f%3===0?[1,3,6]:[2,4,8],A=N=>{Number.isFinite(N)&&h(t,i.id,N)};return L.jsxs("div",{className:"flex flex-col border-r-2 border-border-medium last:border-r-0 px-1 min-w-[64px]",style:{minWidth:b*Math.max(1,f)+8},children:[L.jsx("div",{className:"text-[8px] text-text-muted mb-0.5 font-mono uppercase tracking-wider text-center",children:e+1}),L.jsx("div",{className:"flex gap-0.5",children:i.beats.map(N=>{const k=Math.max(b*(N.duration||1),b);return L.jsx(mE,{slot:N,sectionId:t,size:r,width:k},N.id)})}),L.jsxs("div",{className:"flex flex-col items-center justify-center gap-0.5 mt-1",children:[L.jsx("span",{className:"text-[8px] uppercase tracking-wider text-text-muted leading-tight",children:"Steps"}),L.jsxs("select",{value:d,onChange:N=>A(parseInt(N.target.value,10)),className:"bg-bg-tertiary text-text-primary text-[10px] rounded px-1 py-0.5 border border-border-subtle focus:outline-none",children:[y.map(N=>L.jsx("option",{value:N,className:"bg-bg-secondary text-text-primary",children:N},N)),!y.includes(d)&&L.jsx("option",{value:d,className:"bg-bg-secondary text-text-primary",children:d})]})]})]})},yE=({section:i,chordSize:t=48,scale:e=1})=>{const{removeSection:r,duplicateSection:a,updateSection:o,selectedSectionId:h,setSelectedSlot:c,setSectionMeasures:f,setSectionTimeSignature:d,currentSong:m,collapsedSections:b,toggleSectionCollapsed:w}=Di(),[y,A]=dt.useState(!1),[N,k]=dt.useState(i.name),T=dt.useRef(null);dt.useEffect(()=>{y&&T.current&&(T.current.focus(),T.current.select())},[y]);const P=E=>{E.stopPropagation(),k(i.name),A(!0)},F=()=>{const E=N.trim();E&&E!==i.name&&o(i.id,{name:E}),A(!1)},I=E=>{E.key==="Enter"?F():E.key==="Escape"&&(k(i.name),A(!1))},{attributes:B,listeners:Q,setNodeRef:Y,transform:D,transition:R,isDragging:Z}=uE({id:i.id,data:{type:"section",sectionId:i.id}}),C={transform:dc.Transform.toString(D),transition:R},j=E=>{E.stopPropagation(),confirm(`Delete section "${i.name}"?`)&&r(i.id)},U=()=>{c(i.id,null)},J=(e??1)<=.2,ut=b[i.id]??!1,$=i.timeSignature||m.timeSignature||[4,4],rt=i.measures.length,ct=E=>{const H=Number.isFinite(E)?E:rt;f(i.id,H)},pt=E=>{const[H,tt]=E.split("/").map(ot=>parseInt(ot,10));!H||!tt||i.measures.some(ot=>ot.beats.some(mt=>!!mt.chord))&&!confirm("Changing the time signature will clear chords in this section. Continue?")||d(i.id,[H,tt])},Nt=`${$[0]}/${$[1]}`,X=[[4,4],[3,4],[2,4],[6,8]];return L.jsxs("div",{ref:Y,style:C,className:Us("flex flex-col bg-bg-secondary rounded-lg overflow-hidden border-2 shadow-[0_0_0_2px_rgba(255,255,255,0.12)] transition-all h-full",h===i.id?"border-accent-primary shadow-[0_0_0_2px_rgba(99,102,241,0.35)]":"border-border-medium",Z?"opacity-50":"opacity-100"),onClick:U,children:[L.jsxs("div",{className:Us("flex items-center justify-between bg-bg-elevated border-b border-border-subtle group",J?"px-1.5 py-1 gap-1.5":"flex-wrap gap-3 px-2 py-1.5"),children:[L.jsxs("div",{className:Us("flex items-center min-w-0",J?"gap-1":"gap-1.5"),children:[L.jsx("div",{...B,...Q,className:"cursor-grab active:cursor-grabbing text-text-muted hover:text-text-primary shrink-0",title:"Drag section",children:L.jsx(e_,{size:J?10:12})}),!J&&L.jsx(L.Fragment,{children:y?L.jsx("input",{ref:T,type:"text",value:N,onChange:E=>k(E.target.value),onBlur:F,onKeyDown:I,onClick:E=>E.stopPropagation(),className:"font-medium text-xs text-text-primary bg-bg-tertiary border border-border-medium rounded px-1.5 py-0.5 w-24 focus:outline-none focus:border-accent-primary",maxLength:30}):L.jsx("span",{className:"font-medium text-xs text-text-primary cursor-pointer hover:text-accent-primary transition-colors truncate max-w-[120px]",onDoubleClick:P,title:"Double-click to rename",children:i.name})})]}),!J&&L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded px-1.5 py-0.5",onClick:E=>E.stopPropagation(),children:[L.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Bars"}),L.jsx("input",{type:"number",min:1,max:32,value:rt,onChange:E=>ct(parseInt(E.target.value,10)),className:"w-12 bg-transparent text-text-primary text-xs focus:outline-none"})]}),L.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded px-1.5 py-0.5",onClick:E=>E.stopPropagation(),children:[L.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Meter"}),L.jsx("select",{value:Nt,onChange:E=>pt(E.target.value),className:"bg-transparent text-text-primary text-xs focus:outline-none",children:X.map(([E,H])=>L.jsxs("option",{value:`${E}/${H}`,className:"bg-bg-secondary text-text-primary",children:[E,"/",H]},`${E}/${H}`))})]})]}),L.jsxs("div",{className:Us("flex items-center gap-1",J?"":"opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-opacity"),children:[L.jsx("button",{onClick:E=>{E.stopPropagation(),w(i.id)},className:Us("p-1 rounded text-text-muted hover:text-text-primary",J?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:ut?"Expand section":"Collapse section",children:ut?L.jsx(yh,{size:J?12:11}):L.jsx(Ug,{size:J?12:11})}),L.jsx("button",{onClick:E=>{E.stopPropagation(),a(i.id)},className:Us("p-1 rounded text-text-muted hover:text-text-primary",J?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:"Duplicate section",children:L.jsx(ET,{size:J?12:11})}),L.jsx("button",{onClick:j,className:Us("p-1 rounded text-text-muted hover:text-red-400",J?"hover:bg-red-500/15":"hover:bg-red-500/10"),title:"Delete section",children:L.jsx(s_,{size:J?12:11})})]})]}),ut?L.jsxs("div",{className:"flex items-center justify-between px-2 py-2 border-t border-border-subtle bg-bg-secondary text-[10px] text-text-muted",children:[L.jsx("span",{className:"font-semibold text-text-secondary truncate pr-2",children:i.name}),L.jsxs("div",{className:"flex items-center gap-2 uppercase tracking-wider",children:[L.jsxs("span",{children:[rt," bars"]}),L.jsx("span",{children:Nt})]})]}):L.jsx("div",{className:"flex p-1.5 gap-0 overflow-x-auto flex-1",children:i.measures.map((E,H)=>L.jsx(vE,{measure:E,sectionId:i.id,index:H,chordSize:t,timeSignature:$,scale:e},E.id))})]})},bE=({scale:i,chordSize:t})=>{const{isPlaying:e,currentSong:r}=Di(),a=dt.useRef(null),o=dt.useRef(0),h=t*.9,c=Math.max(8,h*i),f=12,d=m=>{let b=m,w=0;for(const y of r.sections){for(const A of y.measures){const N=A.beats.reduce((B,Q)=>B+(Q.duration||1),0);if(b<N){w+=4;let B=b;for(const Q of A.beats){const Y=Q.duration||1;if(B<Y){const R=B/Y,Z=Math.max(c*Y,c);return w+=R*Z,w}const D=Math.max(c*Y,c);w+=D+2,B-=Y}return w}const k=A.beats.reduce((B,Q)=>B+Math.max(c*(Q.duration||1),c),0),T=Math.max(0,A.beats.length-1)*2,P=8,F=2,I=A===y.measures[y.measures.length-1];w+=k+T+P+(I?0:F),b-=N}w+=f}return w};return dt.useEffect(()=>{if(!e)return;const m=()=>{if(a.current){const b=ts.position.toString().split(":"),w=parseFloat(b[0]),y=parseFloat(b[1]),A=parseFloat(b[2]),N=w*4+y+A/4,k=d(N);a.current.style.transform=`translateX(${k}px)`}o.current=requestAnimationFrame(m)};return o.current=requestAnimationFrame(m),()=>{o.current&&cancelAnimationFrame(o.current)}},[e,c,r]),e?L.jsx("div",{ref:a,className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-50 pointer-events-none shadow-[0_0_8px_rgba(239,68,68,0.8)]",style:{left:0},children:L.jsx("div",{className:"absolute -top-1 -left-[4.5px] w-0 h-0 border-l-[5px] border-l-transparent border-r-[5px] border-r-transparent border-t-[6px] border-t-red-500"})}):null},xE=({onAltChange:i})=>(f_({onDragMove:t=>{const e=t.modifiers?.altKey??!1;i(!!e)},onDragEnd:()=>i(!1),onDragCancel:()=>i(!1)}),null),i0=({height:i=180,scale:t=1})=>{const{currentSong:e,addSection:r,reorderSections:a,addChordToSlot:o,moveChord:h,moveSelection:c}=Di(),f=Math.max(.1,Math.min(1.6,t)),d=i-40,m=Math.max(32,Math.min(64,d-24)),[b,w]=vn.useState(null),[y,A]=vn.useState(null),[N,k]=vn.useState(!1),T=IC(cy($g,{activationConstraint:{distance:8}}),cy(Zg,{coordinateGetter:dE})),P=I=>{const B=I.activatorEvent,Q=!!(B&&"altKey"in B&&B.altKey);w(I.active.id),A({...I.active.data.current,copyMode:Q}),k(Q)},F=I=>{const{active:B,over:Q}=I;if(w(null),A(null),k(!1),!!Q){if(B.data.current?.type==="section"&&Q.data.current?.type==="section"){if(B.id!==Q.id){const Y=e.sections.findIndex(R=>R.id===B.id),D=e.sections.findIndex(R=>R.id===Q.id);a(Jg(e.sections,Y,D))}return}if(B.data.current?.type==="chord"&&Q.data.current?.type==="slot"){const Y=B.data.current.originSlotId,D=B.data.current.originSectionId,R=Q.data.current.slotId,Z=Q.data.current.sectionId,C=B.data.current.chord;if(Y&&D){if(Y===R&&D===Z||c({sectionId:D,slotId:Y},{sectionId:Z,slotId:R},y?.copyMode||N?"copy":"move"))return;const U=Di.getState(),J=U.currentSong.sections.find(ut=>ut.id===Z)?.measures.flatMap(ut=>ut.beats).find(ut=>ut.id===R)?.chord;h(D,Y,Z,R),J?(U.setSelectedSlot(D,Y),U.setSelectedChord(J)):C&&(U.setSelectedSlot(Z,R),U.setSelectedChord(C))}else o(C,Z,R),Di.getState().setSelectedSlot(Z,R),Di.getState().setSelectedChord(C)}}};return vn.useEffect(()=>{const I=Q=>{Q.altKey&&k(!0)},B=Q=>{Q.altKey||k(!1)};return window.addEventListener("keydown",I),window.addEventListener("keyup",B),()=>{window.removeEventListener("keydown",I),window.removeEventListener("keyup",B)}},[]),L.jsx("div",{className:"w-full h-full flex flex-col",children:L.jsx("div",{className:"flex-1 overflow-x-auto px-3 py-1.5 overflow-y-hidden",ref:I=>{I&&I.addEventListener("wheel",B=>{B.deltaY!==0&&(B.preventDefault(),I.scrollLeft+=B.deltaY)},{passive:!1})},children:L.jsxs("div",{className:"relative flex gap-3 min-w-max h-full items-stretch",children:[L.jsx(bE,{scale:f,chordSize:m}),L.jsxs(j7,{sensors:T,collisionDetection:zC,onDragStart:P,onDragEnd:F,children:[L.jsx(xE,{onAltChange:k}),L.jsxs(iE,{items:e.sections.map(I=>I.id),strategy:eE,children:[e.sections.map(I=>L.jsx(yE,{section:I,chordSize:m,scale:f},I.id)),L.jsxs("button",{onClick:()=>r("chorus"),className:"w-10 rounded-lg border-2 border-dashed border-border-medium hover:border-accent-primary hover:bg-bg-elevated transition-all flex flex-col items-center justify-center text-text-muted hover:text-accent-primary gap-0.5 self-stretch",children:[L.jsx(n_,{size:12}),L.jsx("span",{className:"text-[6px] font-medium uppercase tracking-wider",children:"Add"})]})]}),L.jsxs($7,{children:[b&&y?.type==="section"?L.jsx("div",{className:"opacity-80 rotate-2 scale-105",children:L.jsx("div",{className:"bg-bg-elevated p-4 rounded-xl border border-accent-primary w-[400px] h-[200px] flex items-center justify-center shadow-2xl",children:L.jsx("span",{className:"font-bold text-xl",children:"Moving Section..."})})}):null,b&&y?.type==="chord"?L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"w-24 h-24 rounded-lg bg-accent-primary text-white flex items-center justify-center font-bold text-xl shadow-2xl rotate-6 scale-110 cursor-grabbing",children:y.chord.symbol}),(y?.copyMode||N)&&L.jsx("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white text-[11px] font-bold px-2 py-0.5 rounded-full shadow-md border border-white",children:"+"})]}):null]})]})]})})})},_E=({highlightedNotes:i,rootNote:t,color:e="#6366f1"})=>{const r=["C","D","E","F","G","A","B"],a=i.map(m=>fl(m)),o=t?fl(t):null,h=m=>{const b=fl(m);return a.includes(b)},c=m=>o?fl(m)===o:!1,f=()=>{const m=[];for(let w=3;w<=4;w++)r.forEach(y=>{const A=h(y),N=c(y);m.push(L.jsx("div",{className:Us("h-full border border-gray-400 rounded-b-sm relative transition-colors duration-200",!A&&"bg-white hover:bg-gray-100"),style:{width:`${100/14}%`,backgroundColor:A?N?e:`${e}99`:void 0},children:N&&L.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 rounded-full bg-white shadow-sm"})},`white-${w}-${y}`))});return m},d=()=>{const m=[],b=[14.3,28.6,57.1,71.4,85.7];for(let w=0;w<2;w++){const y=w*50;["C#","D#","F#","G#","A#"].forEach((N,k)=>{const T=h(N),P=c(N),F=y+b[k]/2;m.push(L.jsx("div",{className:Us("absolute top-0 h-[65%] w-[4%] -translate-x-1/2 rounded-b-sm z-10 border border-black/50 transition-colors duration-200",!T&&"bg-gray-900"),style:{left:`${F}%`,backgroundColor:T?e:void 0,boxShadow:T?`0 0 12px ${e}`:"inset 0 -2px 4px rgba(0,0,0,0.3)"},children:P&&L.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-1.5 h-1.5 rounded-full bg-white shadow-sm"})},`black-${w}-${N}`))})}return m};return L.jsxs("div",{className:"relative w-full h-16 bg-gray-700 rounded overflow-hidden select-none shadow-inner",children:[L.jsx("div",{className:"flex w-full h-full",children:f()}),d()]})},Sy=()=>L.jsxs(L.Fragment,{children:[L.jsxs("section",{children:[L.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[L.jsx(ST,{size:12,className:"fill-accent-primary"}),"Quick Start"]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-3 text-sm text-gray-300",children:[L.jsx("p",{children:"The Chord Wheel puts chord theory into your hands. No music reading is necessary; simply rotate the transparent disk and analyze any chord progression instantly."}),L.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[L.jsx("li",{children:"Determine which chords belong to a given key"}),L.jsx("li",{children:"Transpose a chord progression to any key"}),L.jsx("li",{children:"Compose your own music"})]})]})]}),L.jsxs("section",{children:[L.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[L.jsx(FT,{size:12}),"Understanding the Rings"]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-bold text-white mb-2",children:"Inner Ring (Major)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Contains the 12 major chords arranged in the Circle of Fifths. Upper-case numerals (I, IV, V) denote major chords."})]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-bold text-white mb-2",children:"Middle Ring (Minor)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Contains 24 minor chords. Lower-case numerals (ii, iii, vi) denote minor chords in a key."})]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-bold text-white mb-2",children:"Outer Ring (Diminished)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"The vii chord for each key. The diminished chord has a harsh, dissonant quality due to the 5."})]})]})]}),L.jsxs("section",{children:[L.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[L.jsx(qT,{size:12}),"Roman Numerals"]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Roman numerals denote the harmonic progression. Upper-case = major, lower-case = minor."}),L.jsxs("div",{className:"grid grid-cols-7 gap-2 text-center text-sm",children:[L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"I"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Tonic"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"ii"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Super"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"iii"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Mediant"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"IV"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Subdom"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"V"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Dominant"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"vi"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Relative"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"vii"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Leading"})]})]})]})]}),L.jsxs("section",{children:[L.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[L.jsx(dT,{size:12}),"The Circle of Fifths"]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[L.jsx("p",{children:'Starting with C and moving clockwise (C  G  D  A  E  B  F#  Db  Ab  Eb  Bb  F), each step is a "dominant" (fifth) progression. This cyclical nature is one of the most fundamental principles in music theory.'}),L.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[L.jsx("li",{children:'Modulations often move one "key" clockwise or counter-clockwise'}),L.jsx("li",{children:"Neighboring keys share many chords in common"}),L.jsx("li",{children:"The strong pull of V  I is why songs resolve satisfyingly"})]})]})]}),L.jsxs("section",{children:[L.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Building Chords"}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-4",children:[L.jsxs("div",{children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"Triads (3 Notes)"}),L.jsx("p",{className:"text-sm text-gray-400 mb-2",children:'Built using "every other note" of the scale: Root, 3rd, 5th'}),L.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Major"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Minor"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Diminished"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]})]})]}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"Seventh Chords (4 Notes)"}),L.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Add the 7th note: 1st, 3rd, 5th, 7th"}),L.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Major 7th (maj7)"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Dominant 7th (7)"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Minor 7th (m7)"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Half-Dim (m75)"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]})]})]})]})]}),L.jsxs("section",{children:[L.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Common Progressions"}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-IV-V (Pop/Rock)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - F - G"}),L.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The foundation of rock 'n' roll"})]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"ii-V-I (Jazz)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: Dm7 - G7 - Cmaj7"}),L.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The most common jazz progression"})]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-vi-IV-V (50s/Doo-wop)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - Am - F - G"}),L.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Also used in countless pop songs"})]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-V-vi-IV (Modern Pop)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - G - Am - F"}),L.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'The "4 chord song" progression'})]})]})]}),L.jsxs("section",{children:[L.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Secondary Dominants (II & III)"}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[L.jsxs("p",{children:["The II and III chords (shown with half-highlighting) aren't diatonic but are commonly used. They're called ",L.jsx("strong",{className:"text-white",children:"secondary dominants"}),' because they "act" like dominant V chords:']}),L.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[L.jsxs("li",{children:[L.jsx("strong",{className:"text-white",children:"II"})," (D in key of C) = V of V (leads strongly to G)"]}),L.jsxs("li",{children:[L.jsx("strong",{className:"text-white",children:"III"})," (E in key of C) = V of vi (leads strongly to Am)"]})]}),L.jsx("p",{className:"text-gray-400",children:"Study chord progressions by The Beatles, Rolling Stones, Elvis Costello, and you'll discover these two chords add tremendous variety."})]})]}),L.jsxs("section",{children:[L.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Modes & Relative Minor"}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[L.jsxs("p",{children:["The vi chord (Am in key of C) is special: it's the ",L.jsx("strong",{className:"text-white",children:"relative minor"}),". Songs emphasizing vi as the tonic create a minor mood using the same chords."]}),L.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-[10px] mt-3",children:[L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"I"}),L.jsx("span",{className:"block text-gray-500",children:"Ionian"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"ii"}),L.jsx("span",{className:"block text-gray-500",children:"Dorian"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"iii"}),L.jsx("span",{className:"block text-gray-500",children:"Phrygian"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"IV"}),L.jsx("span",{className:"block text-gray-500",children:"Lydian"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"V"}),L.jsx("span",{className:"block text-gray-500",children:"Mixolyd."})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"vi"}),L.jsx("span",{className:"block text-gray-500",children:"Aeolian"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"vii"}),L.jsx("span",{className:"block text-gray-500",children:"Locrian"})]})]})]})]})]}),wE=({isOpen:i,onClose:t,isEmbedded:e=!1})=>i?e?L.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col bg-[#1a1a24]",children:[L.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-[#22222e] shrink-0",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:L.jsx(z0,{size:12,className:"text-white"})}),L.jsx("h2",{className:"text-sm font-bold text-white",children:"Guide"})]}),L.jsx("button",{onClick:t,className:"p-1 hover:bg-bg-tertiary rounded transition-colors text-text-muted hover:text-white",children:L.jsx(sy,{size:16})})]}),L.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-6 sm:py-6 space-y-8",children:L.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:L.jsx(Sy,{})})})]}):L.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:[L.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm pointer-events-none"}),L.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-4xl w-full max-h-[85vh] overflow-hidden flex flex-col pointer-events-auto",children:[L.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-subtle bg-[#22222e]",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:L.jsx(z0,{size:16,className:"text-white"})}),L.jsx("h2",{className:"text-lg font-bold text-white",children:"Chord Wheel Guide"})]}),L.jsx("button",{onClick:t,className:"p-2 hover:bg-bg-tertiary rounded-lg transition-colors text-text-muted hover:text-white",children:L.jsx(sy,{size:20})})]}),L.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-8 sm:py-8 space-y-8",children:L.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:L.jsx(Sy,{})})}),L.jsx("div",{className:"px-6 py-4 sm:px-8 sm:py-5 border-t border-border-subtle bg-[#22222e] text-center",children:L.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Drag the wheel or use the rotation buttons to change keys. Click any chord to see details."})})]})]}):null,r0=({variant:i="sidebar"})=>{const{selectedChord:t,selectedKey:e,chordPanelVisible:r,toggleChordPanel:a,selectedSectionId:o,selectedSlotId:h,addChordToSlot:c,setSelectedChord:f,selectNextSlotAfter:d,setSelectedSlot:m}=Di(),b=ng(),[w,y]=dt.useState(null),[A,N]=dt.useState([]),[k,T]=dt.useState(280),[P,F]=dt.useState(!1),[I,B]=dt.useState(!1),Q=dt.useRef(0),Y=i==="drawer",[D,R]=dt.useState(t),Z=t??D,C=Gg(),[j,U]=dt.useState(!1),[J,ut]=dt.useState(!1),[$,rt]=dt.useState(!1),ct={maj:"Bright, stable major triad  home base sound.",7:"Dominant 7: bluesy tension that wants to resolve.",maj7:"Dreamy, smooth major color  great on I or IV.",maj9:"Airy, modern major flavor; adds sparkle without tension.",maj13:"Lush, extended major pad; orchestral/jazz sheen.",6:"Warm vintage major; softer than maj7 for tonic use.",13:"Dominant with a soulful top; funky/jazz turnaround vibe.",m7:"Soulful, laid-back minor  default jazz ii sound.",m9:"Lush, cinematic minor color with extra depth.",m11:"Spacious, modal minor; great for grooves and vamps.",m6:"Bittersweet/film-noir minor; nice tonic minor option.",sus2:"Open and airy with no third; neutral pop/ambient feel.",sus4:"Suspended tension that likes to resolve to major.",dim:"Tense and unstable; classic passing/leading chord.",m7b5:"Half-diminished; dark ii chord in minor keys.",add9:"Sparkly major with no 7th; modern pop shimmer.",9:"Dominant 9: rich funk/jazz tension with color.",11:"Dominant 11: suspended, modal flavor over V."},pt=["maj","7","maj7","maj9","maj13","6","13","m7","m9","m11","m6","sus2","sus4","dim","m7b5","add9","9","11"],Nt=gt=>{if(!Z?.root)return"-";const _t=Dt=>Dt.replace(/[\d]/g,"").replace(//,"b").replace(//,"#"),Rt={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},Xt=Rt[_t(Z.root)],Ht=Rt[_t(gt)];if(Xt===void 0||Ht===void 0)return"-";const $t=(Ht-Xt+12)%12;return{0:"R",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[$t]??"-"},X=dt.useCallback(gt=>{Y||(gt.preventDefault(),F(!0))},[Y]);dt.useEffect(()=>{if(!P||Y)return;const gt=Rt=>{const Xt=window.innerWidth-Rt.clientX;T(Math.max(200,Math.min(400,Xt)))},_t=()=>{F(!1)};return document.addEventListener("mousemove",gt),document.addEventListener("mouseup",_t),()=>{document.removeEventListener("mousemove",gt),document.removeEventListener("mouseup",_t)}},[P,Y]),dt.useEffect(()=>{t&&R(t)},[t]),dt.useEffect(()=>{y(null),N([])},[Z?.root,Z?.quality]);const E=Z&&b[Z.root]||"#6366f1",H=A.length>0?A:Z?.notes||[],tt=gt=>{const _t=Date.now();if(_t-Q.current<300||(Q.current=_t,!Z))return;const Rt=uh(Z.root,gt);Hg(Rt),y(gt),N(Rt)},it=gt=>{if(Q.current=0,!Z||!o||!h)return;const _t=uh(Z.root,gt),Rt={...Z,quality:gt,symbol:`${Z.root}${gt}`,notes:_t};c(Rt,o,h),d(o,h)||(m(o,h),f(Rt))},ot=()=>{y(null),N([])},mt=()=>{if(!Z)return"";const gt=Z.numeral;return{I:"The tonic chord  your home base. Most songs begin and end here. Try adding maj7 or 6 for a jazzier sound.",ii:"The supertonic  a pre-dominant chord that naturally leads to V. The ii-V-I progression is fundamental in jazz and pop.",iii:"The mediant  shares two notes with I. Can substitute for I or lead to vi. Often used for color.",IV:'The subdominant  creates a "plagal" sound. The IV-I is the "Amen" cadence. Adds warmth to choruses.',V:"The dominant  creates tension that resolves to I. Add a 7th for extra pull toward home.",vi:"The relative minor  shares the same notes as I major. The vi-IV-I-V is hugely popular in pop music.","vii":"The leading tone chord  unstable and wants to resolve to I. Often used as a passing chord.",II:"Secondary dominant (V/V)  borrows dominant function to approach V. Common in jazz.",III:"Secondary dominant (V/vi)  leads strongly to vi. Creates a dramatic shift."}[gt||""]||"This chord adds color and interest to your progression."},ft=()=>{if(!Z)return{extensions:[],description:""};let gt=Z.numeral;if(gt&&gt.includes("(")){const Rt=gt.match(/^(.+?)\s*\(/);Rt&&(gt=Rt[1].trim())}return{I:{extensions:["maj7","maj9","maj13","6"],description:"Major 7th or 6th voicings sound rich and resolved"},IV:{extensions:["maj7","maj9","maj13","6"],description:"Same as I  warm major extensions work beautifully"},V:{extensions:["7","9","11","sus4","13"],description:"Dominant 7th adds tension that pulls to I"},ii:{extensions:["m7","m9","m11","m6"],description:"Minor 7th extensions for a smooth jazz sound"},iii:{extensions:["m7"],description:"Keep it simple  m7 is most common for iii"},vi:{extensions:["m7","m9","m11"],description:"Minor extensions add depth and emotion"},"vii":{extensions:["m75"],description:"Half-diminished (7) is the standard voicing"},II:{extensions:["7","sus4"],description:"Dominant voicing as V/V  leads strongly to V"},III:{extensions:["7","sus4"],description:"Dominant voicing as V/vi  leads strongly to vi"}}[gt||""]||{extensions:[],description:`This chord doesn't fit in the key of ${e}, but it may add color and interest to your progression.`}};return r?L.jsxs("div",{className:Y?`${C?"relative w-full":"fixed inset-x-3 bottom-[88px]"} ${C?"max-h-[60vh]":"max-h-[70vh]"} bg-bg-secondary border-2 border-border-subtle rounded-2xl shadow-2xl overflow-hidden ${C?"":"z-40"} flex`:"h-full flex bg-bg-secondary border-l border-border-subtle shrink-0",style:Y?void 0:{width:k,minWidth:k},children:[!Y&&L.jsx("div",{className:`w-2 flex items-center justify-center cursor-ew-resize hover:bg-bg-tertiary transition-colors ${P?"bg-accent-primary/20":""} relative z-[60]`,onMouseDown:X,children:L.jsx(e_,{size:12,className:"text-text-muted"})}),L.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0 relative",children:[L.jsxs("div",{className:`${C&&Y?"px-4 py-2":"px-3 py-2"} border-b border-border-subtle flex justify-between items-center gap-3 shrink-0 ${Y?"bg-bg-secondary/80 backdrop-blur-md":""}`,children:[L.jsxs("div",{className:"flex items-center gap-2 overflow-hidden flex-1 min-w-0",children:[L.jsxs("span",{className:"flex items-center gap-2 shrink-0",children:[L.jsx("span",{className:`${C?"text-lg":"text-base sm:text-lg"} font-bold text-text-primary leading-none`,children:Z?Z.symbol:"Chord Details"}),Z?.numeral&&L.jsx("span",{className:`${C?"text-xs":"text-[11px]"} font-serif italic text-text-secondary shrink-0`,children:Z.numeral})]}),Z&&L.jsxs("span",{className:`${C?"text-xs":"text-[10px]"} text-text-muted whitespace-nowrap`,children:["Key: ",L.jsx("span",{className:"font-semibold text-text-primary",children:e})]})]}),L.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[Z&&L.jsx("button",{onClick:()=>B(!0),className:`${C?"w-10 h-10 min-w-[40px] min-h-[40px]":"w-8 h-8"} flex items-center justify-center bg-bg-tertiary/60 hover:bg-accent-primary/20 border border-border-subtle rounded-full text-text-muted hover:text-accent-primary transition-colors shadow-sm touch-feedback`,title:"Chord Wheel Guide",children:L.jsx(_T,{size:C?16:14})}),L.jsx("button",{onClick:a,className:`${C?"p-2 min-w-[40px] min-h-[40px]":"p-1"} hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center`,title:"Hide panel",children:L.jsx(GT,{size:C?18:16,className:"text-text-muted"})})]})]}),Z?L.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 overscroll-contain",children:[L.jsxs("div",{className:`${C?"px-4 py-1.5":"px-4 py-3"} border-b border-border-subtle`,children:[L.jsxs("div",{className:"flex items-center justify-between mb-2",children:[L.jsxs("h3",{className:`${C?"text-[11px]":"text-[10px]"} font-semibold text-text-muted uppercase tracking-wide`,children:["Voicing ",w&&L.jsxs("span",{className:"text-accent-primary ml-1",children:["(",w,")"]})]}),w&&L.jsxs("button",{onClick:ot,className:`${C?"text-[10px] px-2 py-1":"text-[9px]"} text-accent-primary hover:text-accent-secondary transition-colors touch-feedback`,children:[" ",Z.symbol]})]}),L.jsx(_E,{highlightedNotes:H,rootNote:Z.root,color:E}),L.jsx("div",{className:`${C?"mt-2":"mt-4"} w-full`,children:L.jsxs("div",{className:"grid w-full items-center gap-y-1",style:{gridTemplateColumns:`auto repeat(${H.length}, minmax(0,1fr))`,columnGap:"6px",rowGap:"4px"},children:[L.jsx("div",{className:"text-[9px] font-semibold uppercase tracking-wide text-text-muted leading-tight",children:"Notes"}),H.map((gt,_t)=>L.jsx("div",{className:"text-center text-[12px] font-bold text-text-primary leading-none py-1",style:{minHeight:24},children:gt},`note-${_t}`)),L.jsx("div",{className:"text-[9px] font-semibold uppercase tracking-wide text-text-muted leading-tight",children:"Absolute"}),H.map((gt,_t)=>L.jsx("div",{className:"text-center text-[11px] text-text-primary font-semibold leading-none py-1",style:{minHeight:24},children:Nt(gt)},`abs-${_t}`)),L.jsx("div",{className:"text-[9px] font-semibold uppercase tracking-wide text-text-muted leading-tight",children:"Relative to Key"}),H.map((gt,_t)=>L.jsx("div",{className:"text-center text-[11px] text-text-secondary leading-none py-1",style:{minHeight:24},children:s4(e,gt).replace(/^1/,"R")},`rel-${_t}`))]})})]}),L.jsxs("div",{className:`${C?"px-4 py-2 mt-2":"px-4 py-3"} border-b border-border-subtle rounded-none`,children:[L.jsxs("button",{onClick:()=>C&&U(!j),className:`w-full flex items-center justify-between ${j&&C?"mb-2":"mb-0"} ${C?"cursor-pointer py-0.5":""}`,children:[L.jsx("h3",{className:`${C?"text-[11px]":"text-[10px]"} font-semibold text-text-muted uppercase tracking-wide`,children:"Variations"}),C&&L.jsx(yh,{size:14,className:`text-text-muted transition-transform ${j?"rotate-180":""}`})]}),(!C||j)&&L.jsx("div",{className:`grid ${C?"grid-cols-3":"grid-cols-2 sm:grid-cols-3"} ${C?"gap-2":"gap-1.5"}`,children:pt.map((gt,_t)=>{const Xt=_t%2===0?{left:"calc(100% + 10px)"}:{right:"calc(100% + 10px)"};return L.jsxs("button",{className:`relative group ${C?"px-3 py-3 min-h-[48px] text-xs":"px-2 py-1.5 text-[10px]"} rounded font-medium transition-colors border touch-feedback ${w===gt?"bg-accent-primary text-white border-accent-primary":"bg-bg-elevated hover:bg-bg-tertiary text-text-secondary hover:text-text-primary border-border-subtle"}`,onClick:()=>tt(gt),onDoubleClick:()=>it(gt),children:[gt,!C&&ct[gt]&&L.jsx("span",{className:"pointer-events-none absolute top-1/2 -translate-y-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-150 z-50 w-44 text-left",style:{...Xt,backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:ct[gt]})]},gt)})})]}),Z&&L.jsxs("div",{className:`${C?"px-4 py-2 mt-2":"px-4 py-3"} border-b border-border-subtle bg-accent-primary/5 rounded-none`,children:[L.jsxs("button",{onClick:()=>C&&ut(!J),className:`w-full flex items-center justify-between ${J&&C?"mb-2":"mb-0"} ${C?"cursor-pointer py-0.5":""}`,children:[L.jsxs("h3",{className:`${C?"text-[11px]":"text-[10px]"} font-semibold text-accent-primary uppercase tracking-wide`,children:["Suggested for ",Z.numeral||Z.symbol]}),C&&L.jsx(yh,{size:14,className:`text-accent-primary transition-transform ${J?"rotate-180":""}`})]}),(!C||J)&&L.jsxs(L.Fragment,{children:[ft().extensions.length>0?L.jsx("div",{className:`flex flex-wrap ${C?"gap-2.5":"gap-2"} mb-2`,children:ft().extensions.map(gt=>L.jsxs("button",{className:`relative group ${C?"px-4 py-2.5 text-sm min-h-[44px]":"px-3 py-1.5 text-xs"} rounded font-semibold transition-colors touch-feedback ${w===gt?"bg-accent-primary text-white":"bg-bg-elevated hover:bg-accent-primary/20 text-text-primary border border-border-subtle"}`,onClick:()=>tt(gt),onDoubleClick:()=>it(gt),children:[Z.root,gt,!C&&ct[gt]&&L.jsx("span",{className:"pointer-events-none absolute -top-6 -translate-y-full left-1/2 -translate-x-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-150 z-50 w-44 text-left",style:{backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:ct[gt]})]},gt))}):L.jsxs("p",{className:`${C?"text-sm py-2":"text-xs py-1.5"} text-text-muted italic`,children:["Not in the key of ",e]}),L.jsx("p",{className:`${C?"text-xs":"text-[10px]"} text-text-muted leading-relaxed`,children:ft().description})]})]}),L.jsxs("div",{className:`${C?"px-4 py-2 mt-2 pb-2":"px-4 py-3"}`,children:[L.jsxs("button",{onClick:()=>C&&rt(!$),className:`w-full flex items-center justify-between ${C?"cursor-pointer py-0.5":"mb-0"} ${$&&C?"mb-2":"mb-0"}`,children:[L.jsx("h3",{className:`${C?"text-[11px]":"text-[10px]"} font-semibold text-accent-primary uppercase tracking-wide ${C?"":"mb-2"}`,children:"Theory"}),C&&L.jsx(yh,{size:14,className:`text-accent-primary transition-transform ${$?"rotate-180":""}`})]}),(!C||$)&&L.jsx("div",{className:`${C?"p-3":"p-4"} bg-bg-elevated border border-border-subtle rounded-none`,children:L.jsx("p",{className:`${C?"text-sm":"text-xs"} text-text-secondary leading-relaxed`,children:mt()})})]})]}):L.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:L.jsx("p",{className:`${C?"text-base":"text-sm"} text-text-muted text-center`,children:"Select a chord from the wheel or timeline"})})]}),L.jsx(wE,{isOpen:I,onClose:()=>B(!1)})]}):Y?L.jsxs("button",{onClick:a,className:`w-full ${C?"h-16 min-h-[64px]":"h-11"} flex items-center justify-center gap-2 bg-bg-secondary border-2 border-border-subtle rounded-2xl ${C?"text-base":"text-[11px]"} font-bold text-text-primary shadow-lg hover:border-accent-primary transition-all touch-feedback active:scale-[0.97]`,title:"Show chord details",children:[L.jsx(Ug,{size:C?20:14}),L.jsx("span",{children:"Open Chord Details"})]}):L.jsx("button",{onClick:a,className:"h-full px-2 flex items-center justify-center bg-bg-secondary border-l border-border-subtle hover:bg-bg-tertiary transition-colors shrink-0",title:"Show chord details",children:L.jsx(WT,{size:18,className:"text-text-muted"})})},SE=()=>{const{currentSong:i,isPlaying:t,tempo:e,volume:r,setTempo:a,setVolume:o,instrument:h,setInstrument:c,isMuted:f,toggleMute:d,toggleLoop:m,isLooping:b,playingSectionId:w,selectedSectionId:y}=Di(),A=Gg();dt.useEffect(()=>{l_(i)},[i]),dt.useEffect(()=>{bC(e)},[e]),dt.useEffect(()=>{o_(h)},[h]),dt.useEffect(()=>{_C()},[b,i,w,y]);const N=async()=>{await p1(),t?(yC(),Di.getState().setIsPlaying(!1)):(await vC(),Di.getState().setIsPlaying(!0))},k=I=>{xC(I)},T=()=>{m()},P=[{value:"piano",label:"Piano"},{value:"epiano",label:"Electric Piano"},{value:"organ",label:"Organ"},{value:"pad",label:"Pad"},{value:"guitar",label:"Guitar"}];P.find(I=>I.value===h)||c("piano");const F=I=>{const B=P.findIndex(Y=>Y.value===h);if(B===-1){c("piano");return}const Q=I==="next"?(B+1)%P.length:(B-1+P.length)%P.length;c(P[Q].value)};return L.jsxs("div",{className:`${A?"h-16":"h-14"} bg-bg-elevated border-t border-border-subtle flex items-center ${A?"justify-around px-2":"justify-between px-6"}`,children:[L.jsxs("div",{className:`flex items-center ${A?"gap-1":"gap-2"}`,children:[L.jsx("button",{onClick:()=>k("prev"),className:`${A?"p-2 min-w-[44px] min-h-[44px]":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:L.jsx(sC,{size:A?18:16})}),L.jsx("button",{onClick:N,className:`${A?"w-12 h-12":"w-9 h-9"} rounded-full bg-accent-primary hover:bg-indigo-500 flex items-center justify-center text-white shadow-lg transition-all hover:scale-105 active:scale-95 touch-feedback`,children:t?L.jsx(ZT,{size:A?22:18,fill:"currentColor"}):L.jsx($T,{size:A?22:18,fill:"currentColor",className:"ml-0.5"})}),L.jsx("button",{onClick:()=>k("next"),className:`${A?"p-2 min-w-[44px] min-h-[44px]":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:L.jsx(oC,{size:A?18:16})}),!A&&L.jsx("button",{onClick:T,className:`p-1.5 transition-colors ml-1 ${b?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,title:"Loop Section",children:L.jsx(tC,{size:14})})]}),!A&&L.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-text-muted",children:[L.jsxs("div",{className:"flex items-center gap-1.5",children:[L.jsx("span",{children:"Tempo"}),L.jsx("input",{type:"number",value:e,onChange:I=>a(Number(I.target.value)),className:"w-10 bg-bg-tertiary border border-border-subtle rounded px-1 py-0.5 text-center text-text-primary text-[10px]"}),L.jsx("span",{children:"BPM"})]}),L.jsx("span",{className:"text-text-muted",children:""}),L.jsx("span",{children:i.timeSignature?`${i.timeSignature[0]}/${i.timeSignature[1]}`:"4/4"})]}),L.jsxs("div",{className:`flex items-center ${A?"gap-2":"gap-4"}`,children:[L.jsxs("div",{className:`flex items-center ${A?"gap-1":"gap-2"}`,children:[!A&&L.jsxs("div",{className:"flex items-center rounded bg-bg-tertiary/60 border border-border-subtle/70 h-8",children:[L.jsx("button",{onClick:()=>F("prev"),className:"px-1.5 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-l transition-colors flex items-center",title:"Previous instrument",children:L.jsx(yT,{size:12})}),L.jsx("button",{onClick:()=>F("next"),className:"px-1.5 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-r transition-colors flex items-center",title:"Next instrument",children:L.jsx(gT,{size:12})})]}),L.jsx("select",{value:h,onChange:I=>c(I.target.value),className:`bg-bg-tertiary border border-border-subtle rounded ${A?"px-2 h-11 text-xs min-w-[90px]":"px-2 h-8 text-[10px] min-w-[140px]"} text-text-secondary focus:outline-none focus:border-accent-primary cursor-pointer`,children:P.map(I=>L.jsx("option",{value:I.value,children:I.label},I.value))})]}),L.jsxs("div",{className:`flex items-center gap-2 ${A?"w-20":"w-32"}`,children:[L.jsx("button",{onClick:d,className:`${A?"min-w-[44px] min-h-[44px] p-2":""} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,title:f?"Unmute":"Mute",children:f||r===0?L.jsx(fC,{size:A?18:14}):L.jsx(uC,{size:A?18:14})}),!A&&L.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f?0:r,onChange:I=>{f&&d(),o(Number(I.target.value))},className:`w-full h-1 bg-bg-tertiary rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2.5 [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:bg-accent-primary [&::-webkit-slider-thumb]:rounded-full ${f?"opacity-50":""}`})]})]})]})},AE="modulepreload",NE=function(i){return"/chord-wheel-writer/"+i},Ay={},s0=function(t,e,r){let a=Promise.resolve();if(e&&e.length>0){let f=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),c=h?.nonce||h?.getAttribute("nonce");a=f(e.map(d=>{if(d=NE(d),d in Ay)return;Ay[d]=!0;const m=d.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${b}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":AE,m||(w.as="script"),w.crossOrigin="",w.href=d,c&&w.setAttribute("nonce",c),document.head.appendChild(w),m)return new Promise((y,A)=>{w.addEventListener("load",y),w.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(h){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=h,window.dispatchEvent(c),!c.defaultPrevented)throw h}return a.then(h=>{for(const c of h||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})};function qn(i){"@babel/helpers - typeof";return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(i)}var to=Uint8Array,Gs=Uint16Array,t2=Int32Array,e2=new to([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),n2=new to([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ny=new to([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),z_=function(i,t){for(var e=new Gs(31),r=0;r<31;++r)e[r]=t+=1<<i[r-1];for(var a=new t2(e[30]),r=1;r<30;++r)for(var o=e[r];o<e[r+1];++o)a[o]=o-e[r]<<5|r;return{b:e,r:a}},F_=z_(e2,2),TE=F_.b,V0=F_.r;TE[28]=258,V0[258]=28;var CE=z_(n2,0),Ty=CE.r,H0=new Gs(32768);for(var oi=0;oi<32768;++oi){var nc=(oi&43690)>>1|(oi&21845)<<1;nc=(nc&52428)>>2|(nc&13107)<<2,nc=(nc&61680)>>4|(nc&3855)<<4,H0[oi]=((nc&65280)>>8|(nc&255)<<8)>>1}var If=(function(i,t,e){for(var r=i.length,a=0,o=new Gs(t);a<r;++a)i[a]&&++o[i[a]-1];var h=new Gs(t);for(a=1;a<t;++a)h[a]=h[a-1]+o[a-1]<<1;var c;if(e){c=new Gs(1<<t);var f=15-t;for(a=0;a<r;++a)if(i[a])for(var d=a<<4|i[a],m=t-i[a],b=h[i[a]-1]++<<m,w=b|(1<<m)-1;b<=w;++b)c[H0[b]>>f]=d}else for(c=new Gs(r),a=0;a<r;++a)i[a]&&(c[a]=H0[h[i[a]-1]++]>>15-i[a]);return c}),au=new to(288);for(var oi=0;oi<144;++oi)au[oi]=8;for(var oi=144;oi<256;++oi)au[oi]=9;for(var oi=256;oi<280;++oi)au[oi]=7;for(var oi=280;oi<288;++oi)au[oi]=8;var e1=new to(32);for(var oi=0;oi<32;++oi)e1[oi]=5;var EE=If(au,9,0),kE=If(e1,5,0),P_=function(i){return(i+7)/8|0},OE=function(i,t,e){return(e==null||e>i.length)&&(e=i.length),new to(i.subarray(t,e))},ll=function(i,t,e){e<<=t&7;var r=t/8|0;i[r]|=e,i[r+1]|=e>>8},Tf=function(i,t,e){e<<=t&7;var r=t/8|0;i[r]|=e,i[r+1]|=e>>8,i[r+2]|=e>>16},a0=function(i,t){for(var e=[],r=0;r<i.length;++r)i[r]&&e.push({s:r,f:i[r]});var a=e.length,o=e.slice();if(!a)return{t:V_,l:0};if(a==1){var h=new to(e[0].s+1);return h[e[0].s]=1,{t:h,l:1}}e.sort(function(B,Q){return B.f-Q.f}),e.push({s:-1,f:25001});var c=e[0],f=e[1],d=0,m=1,b=2;for(e[0]={s:-1,f:c.f+f.f,l:c,r:f};m!=a-1;)c=e[e[d].f<e[b].f?d++:b++],f=e[d!=m&&e[d].f<e[b].f?d++:b++],e[m++]={s:-1,f:c.f+f.f,l:c,r:f};for(var w=o[0].s,r=1;r<a;++r)o[r].s>w&&(w=o[r].s);var y=new Gs(w+1),A=G0(e[m-1],y,0);if(A>t){var r=0,N=0,k=A-t,T=1<<k;for(o.sort(function(Q,Y){return y[Y.s]-y[Q.s]||Q.f-Y.f});r<a;++r){var P=o[r].s;if(y[P]>t)N+=T-(1<<A-y[P]),y[P]=t;else break}for(N>>=k;N>0;){var F=o[r].s;y[F]<t?N-=1<<t-y[F]++-1:++r}for(;r>=0&&N;--r){var I=o[r].s;y[I]==t&&(--y[I],++N)}A=t}return{t:new to(y),l:A}},G0=function(i,t,e){return i.s==-1?Math.max(G0(i.l,t,e+1),G0(i.r,t,e+1)):t[i.s]=e},Cy=function(i){for(var t=i.length;t&&!i[--t];);for(var e=new Gs(++t),r=0,a=i[0],o=1,h=function(f){e[r++]=f},c=1;c<=t;++c)if(i[c]==a&&c!=t)++o;else{if(!a&&o>2){for(;o>138;o-=138)h(32754);o>2&&(h(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(h(a),--o;o>6;o-=6)h(8304);o>2&&(h(o-3<<5|8208),o=0)}for(;o--;)h(a);o=1,a=i[c]}return{c:e.subarray(0,r),n:t}},Cf=function(i,t){for(var e=0,r=0;r<t.length;++r)e+=i[r]*t[r];return e},U_=function(i,t,e){var r=e.length,a=P_(t+2);i[a]=r&255,i[a+1]=r>>8,i[a+2]=i[a]^255,i[a+3]=i[a+1]^255;for(var o=0;o<r;++o)i[a+o+4]=e[o];return(a+4+r)*8},Ey=function(i,t,e,r,a,o,h,c,f,d,m){ll(t,m++,e),++a[256];for(var b=a0(a,15),w=b.t,y=b.l,A=a0(o,15),N=A.t,k=A.l,T=Cy(w),P=T.c,F=T.n,I=Cy(N),B=I.c,Q=I.n,Y=new Gs(19),D=0;D<P.length;++D)++Y[P[D]&31];for(var D=0;D<B.length;++D)++Y[B[D]&31];for(var R=a0(Y,7),Z=R.t,C=R.l,j=19;j>4&&!Z[Ny[j-1]];--j);var U=d+5<<3,J=Cf(a,au)+Cf(o,e1)+h,ut=Cf(a,w)+Cf(o,N)+h+14+3*j+Cf(Y,Z)+2*Y[16]+3*Y[17]+7*Y[18];if(f>=0&&U<=J&&U<=ut)return U_(t,m,i.subarray(f,f+d));var $,rt,ct,pt;if(ll(t,m,1+(ut<J)),m+=2,ut<J){$=If(w,y,0),rt=w,ct=If(N,k,0),pt=N;var Nt=If(Z,C,0);ll(t,m,F-257),ll(t,m+5,Q-1),ll(t,m+10,j-4),m+=14;for(var D=0;D<j;++D)ll(t,m+3*D,Z[Ny[D]]);m+=3*j;for(var X=[P,B],E=0;E<2;++E)for(var H=X[E],D=0;D<H.length;++D){var tt=H[D]&31;ll(t,m,Nt[tt]),m+=Z[tt],tt>15&&(ll(t,m,H[D]>>5&127),m+=H[D]>>12)}}else $=EE,rt=au,ct=kE,pt=e1;for(var D=0;D<c;++D){var it=r[D];if(it>255){var tt=it>>18&31;Tf(t,m,$[tt+257]),m+=rt[tt+257],tt>7&&(ll(t,m,it>>23&31),m+=e2[tt]);var ot=it&31;Tf(t,m,ct[ot]),m+=pt[ot],ot>3&&(Tf(t,m,it>>5&8191),m+=n2[ot])}else Tf(t,m,$[it]),m+=rt[it]}return Tf(t,m,$[256]),m+rt[256]},ME=new t2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),V_=new to(0),LE=function(i,t,e,r,a,o){var h=o.z||i.length,c=new to(r+h+5*(1+Math.ceil(h/7e3))+a),f=c.subarray(r,c.length-a),d=o.l,m=(o.r||0)&7;if(t){m&&(f[0]=o.r>>3);for(var b=ME[t-1],w=b>>13,y=b&8191,A=(1<<e)-1,N=o.p||new Gs(32768),k=o.h||new Gs(A+1),T=Math.ceil(e/3),P=2*T,F=function($t){return(i[$t]^i[$t+1]<<T^i[$t+2]<<P)&A},I=new t2(25e3),B=new Gs(288),Q=new Gs(32),Y=0,D=0,R=o.i||0,Z=0,C=o.w||0,j=0;R+2<h;++R){var U=F(R),J=R&32767,ut=k[U];if(N[J]=ut,k[U]=J,C<=R){var $=h-R;if((Y>7e3||Z>24576)&&($>423||!d)){m=Ey(i,f,0,I,B,Q,D,Z,j,R-j,m),Z=Y=D=0,j=R;for(var rt=0;rt<286;++rt)B[rt]=0;for(var rt=0;rt<30;++rt)Q[rt]=0}var ct=2,pt=0,Nt=y,X=J-ut&32767;if($>2&&U==F(R-X))for(var E=Math.min(w,$)-1,H=Math.min(32767,R),tt=Math.min(258,$);X<=H&&--Nt&&J!=ut;){if(i[R+ct]==i[R+ct-X]){for(var it=0;it<tt&&i[R+it]==i[R+it-X];++it);if(it>ct){if(ct=it,pt=X,it>E)break;for(var ot=Math.min(X,it-2),mt=0,rt=0;rt<ot;++rt){var ft=R-X+rt&32767,gt=N[ft],_t=ft-gt&32767;_t>mt&&(mt=_t,ut=ft)}}}J=ut,ut=N[J],X+=J-ut&32767}if(pt){I[Z++]=268435456|V0[ct]<<18|Ty[pt];var Rt=V0[ct]&31,Xt=Ty[pt]&31;D+=e2[Rt]+n2[Xt],++B[257+Rt],++Q[Xt],C=R+ct,++Y}else I[Z++]=i[R],++B[i[R]]}}for(R=Math.max(R,C);R<h;++R)I[Z++]=i[R],++B[i[R]];m=Ey(i,f,d,I,B,Q,D,Z,j,R-j,m),d||(o.r=m&7|f[m/8|0]<<3,m-=7,o.h=k,o.p=N,o.i=R,o.w=C)}else{for(var R=o.w||0;R<h+d;R+=65535){var Ht=R+65535;Ht>=h&&(f[m/8|0]=d,Ht=h),m=U_(f,m+1,i.subarray(R,Ht))}o.i=h}return OE(c,0,r+P_(m)+a)},H_=function(){var i=1,t=0;return{p:function(e){for(var r=i,a=t,o=e.length|0,h=0;h!=o;){for(var c=Math.min(h+2655,o);h<c;++h)a+=r+=e[h];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}i=r,t=a},d:function(){return i%=65521,t%=65521,(i&255)<<24|(i&65280)<<8|(t&255)<<8|t>>8}}},DE=function(i,t,e,r,a){if(!a&&(a={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),h=new to(o.length+i.length);h.set(o),h.set(i,o.length),i=h,a.w=o.length}return LE(i,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+t.mem,e,r,a)},G_=function(i,t,e){for(;e;++t)i[t]=e,e>>>=8},jE=function(i,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(i[0]=120,i[1]=r<<6|(t.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,t.dictionary){var a=H_();a.p(t.dictionary),G_(i,2,a.d())}};function Y0(i,t){t||(t={});var e=H_();e.p(i);var r=DE(i,t,t.dictionary?6:2,4);return jE(r,t),G_(r,r.length-4,e.d()),r}var RE=typeof TextDecoder<"u"&&new TextDecoder,IE=0;try{RE.decode(V_,{stream:!0}),IE=1}catch{}function BE(i){if(Array.isArray(i))return i}function qE(i,t){var e=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(e!=null){var r,a,o,h,c=[],f=!0,d=!1;try{if(o=(e=e.call(i)).next,t!==0)for(;!(f=(r=o.call(e)).done)&&(c.push(r.value),c.length!==t);f=!0);}catch(m){d=!0,a=m}finally{try{if(!f&&e.return!=null&&(h=e.return(),Object(h)!==h))return}finally{if(d)throw a}}return c}}function ky(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=Array(t);e<t;e++)r[e]=i[e];return r}function zE(i,t){if(i){if(typeof i=="string")return ky(i,t);var e={}.toString.call(i).slice(8,-1);return e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set"?Array.from(i):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?ky(i,t):void 0}}function FE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oy(i,t){return BE(i)||qE(i,t)||zE(i,t)||FE()}function My(i,t="utf8"){return new TextDecoder(t).decode(i)}const PE=new TextEncoder;function UE(i){return PE.encode(i)}const VE=1024*8,HE=(()=>{const i=new Uint8Array(4),t=new Uint32Array(i.buffer);return!((t[0]=1)&i[0])})(),o0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class i2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=VE,e={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const a=e.offset?e.offset>>>0:0,o=t.byteLength-a;let h=a;(ArrayBuffer.isView(t)||t instanceof i2)&&(t.byteLength!==t.buffer.byteLength&&(h=t.byteOffset+a),t=t.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=h,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,h,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=o0[e].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===HE&&e!=="uint8"&&e!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+r));c.reverse();const f=new o0[e](c.buffer);return this.offset+=r,f.reverse(),f}const h=new o0[e](o);return this.offset+=r,h}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return My(this.readBytes(t))}decodeText(t=1,e="utf8"){return My(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(UE(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zh(i){let t=i.length;for(;--t>=0;)i[t]=0}const GE=3,YE=258,Y_=29,WE=256,XE=WE+1+Y_,W_=30,ZE=512,KE=new Array((XE+2)*2);zh(KE);const $E=new Array(W_*2);zh($E);const QE=new Array(ZE);zh(QE);const JE=new Array(YE-GE+1);zh(JE);const tk=new Array(Y_);zh(tk);const ek=new Array(W_);zh(ek);const nk=(i,t,e,r)=>{let a=i&65535|0,o=i>>>16&65535|0,h=0;for(;e!==0;){h=e>2e3?2e3:e,e-=h;do a=a+t[r++]|0,o=o+a|0;while(--h);a%=65521,o%=65521}return a|o<<16|0};var W0=nk;const ik=()=>{let i,t=[];for(var e=0;e<256;e++){i=e;for(var r=0;r<8;r++)i=i&1?3988292384^i>>>1:i>>>1;t[e]=i}return t},rk=new Uint32Array(ik()),sk=(i,t,e,r)=>{const a=rk,o=r+e;i^=-1;for(let h=r;h<o;h++)i=i>>>8^a[(i^t[h])&255];return i^-1};var To=sk,X0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},X_={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const ak=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var ok=function(i){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)ak(e,r)&&(i[r]=e[r])}}return i},lk=i=>{let t=0;for(let r=0,a=i.length;r<a;r++)t+=i[r].length;const e=new Uint8Array(t);for(let r=0,a=0,o=i.length;r<o;r++){let h=i[r];e.set(h,a),a+=h.length}return e},Z_={assign:ok,flattenChunks:lk};let K_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{K_=!1}const Xf=new Uint8Array(256);for(let i=0;i<256;i++)Xf[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;Xf[254]=Xf[254]=1;var ck=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let t,e,r,a,o,h=i.length,c=0;for(a=0;a<h;a++)e=i.charCodeAt(a),(e&64512)===55296&&a+1<h&&(r=i.charCodeAt(a+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),c+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(c),o=0,a=0;o<c;a++)e=i.charCodeAt(a),(e&64512)===55296&&a+1<h&&(r=i.charCodeAt(a+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const uk=(i,t)=>{if(t<65534&&i.subarray&&K_)return String.fromCharCode.apply(null,i.length===t?i:i.subarray(0,t));let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(i[r]);return e};var hk=(i,t)=>{const e=t||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,t));let r,a;const o=new Array(e*2);for(a=0,r=0;r<e;){let h=i[r++];if(h<128){o[a++]=h;continue}let c=Xf[h];if(c>4){o[a++]=65533,r+=c-1;continue}for(h&=c===2?31:c===3?15:7;c>1&&r<e;)h=h<<6|i[r++]&63,c--;if(c>1){o[a++]=65533;continue}h<65536?o[a++]=h:(h-=65536,o[a++]=55296|h>>10&1023,o[a++]=56320|h&1023)}return uk(o,a)},fk=(i,t)=>{t=t||i.length,t>i.length&&(t=i.length);let e=t-1;for(;e>=0&&(i[e]&192)===128;)e--;return e<0||e===0?t:e+Xf[i[e]]>t?e:t},Z0={string2buf:ck,buf2string:hk,utf8border:fk};function dk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var pk=dk;const fp=16209,mk=16191;var gk=function(t,e){let r,a,o,h,c,f,d,m,b,w,y,A,N,k,T,P,F,I,B,Q,Y,D,R,Z;const C=t.state;r=t.next_in,R=t.input,a=r+(t.avail_in-5),o=t.next_out,Z=t.output,h=o-(e-t.avail_out),c=o+(t.avail_out-257),f=C.dmax,d=C.wsize,m=C.whave,b=C.wnext,w=C.window,y=C.hold,A=C.bits,N=C.lencode,k=C.distcode,T=(1<<C.lenbits)-1,P=(1<<C.distbits)-1;t:do{A<15&&(y+=R[r++]<<A,A+=8,y+=R[r++]<<A,A+=8),F=N[y&T];e:for(;;){if(I=F>>>24,y>>>=I,A-=I,I=F>>>16&255,I===0)Z[o++]=F&65535;else if(I&16){B=F&65535,I&=15,I&&(A<I&&(y+=R[r++]<<A,A+=8),B+=y&(1<<I)-1,y>>>=I,A-=I),A<15&&(y+=R[r++]<<A,A+=8,y+=R[r++]<<A,A+=8),F=k[y&P];n:for(;;){if(I=F>>>24,y>>>=I,A-=I,I=F>>>16&255,I&16){if(Q=F&65535,I&=15,A<I&&(y+=R[r++]<<A,A+=8,A<I&&(y+=R[r++]<<A,A+=8)),Q+=y&(1<<I)-1,Q>f){t.msg="invalid distance too far back",C.mode=fp;break t}if(y>>>=I,A-=I,I=o-h,Q>I){if(I=Q-I,I>m&&C.sane){t.msg="invalid distance too far back",C.mode=fp;break t}if(Y=0,D=w,b===0){if(Y+=d-I,I<B){B-=I;do Z[o++]=w[Y++];while(--I);Y=o-Q,D=Z}}else if(b<I){if(Y+=d+b-I,I-=b,I<B){B-=I;do Z[o++]=w[Y++];while(--I);if(Y=0,b<B){I=b,B-=I;do Z[o++]=w[Y++];while(--I);Y=o-Q,D=Z}}}else if(Y+=b-I,I<B){B-=I;do Z[o++]=w[Y++];while(--I);Y=o-Q,D=Z}for(;B>2;)Z[o++]=D[Y++],Z[o++]=D[Y++],Z[o++]=D[Y++],B-=3;B&&(Z[o++]=D[Y++],B>1&&(Z[o++]=D[Y++]))}else{Y=o-Q;do Z[o++]=Z[Y++],Z[o++]=Z[Y++],Z[o++]=Z[Y++],B-=3;while(B>2);B&&(Z[o++]=Z[Y++],B>1&&(Z[o++]=Z[Y++]))}}else if((I&64)===0){F=k[(F&65535)+(y&(1<<I)-1)];continue n}else{t.msg="invalid distance code",C.mode=fp;break t}break}}else if((I&64)===0){F=N[(F&65535)+(y&(1<<I)-1)];continue e}else if(I&32){C.mode=mk;break t}else{t.msg="invalid literal/length code",C.mode=fp;break t}break}}while(r<a&&o<c);B=A>>3,r-=B,A-=B<<3,y&=(1<<A)-1,t.next_in=r,t.next_out=o,t.avail_in=r<a?5+(a-r):5-(r-a),t.avail_out=o<c?257+(c-o):257-(o-c),C.hold=y,C.bits=A};const ih=15,Ly=852,Dy=592,jy=0,l0=1,Ry=2,vk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),bk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),_k=(i,t,e,r,a,o,h,c)=>{const f=c.bits;let d=0,m=0,b=0,w=0,y=0,A=0,N=0,k=0,T=0,P=0,F,I,B,Q,Y,D=null,R;const Z=new Uint16Array(ih+1),C=new Uint16Array(ih+1);let j=null,U,J,ut;for(d=0;d<=ih;d++)Z[d]=0;for(m=0;m<r;m++)Z[t[e+m]]++;for(y=f,w=ih;w>=1&&Z[w]===0;w--);if(y>w&&(y=w),w===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(b=1;b<w&&Z[b]===0;b++);for(y<b&&(y=b),k=1,d=1;d<=ih;d++)if(k<<=1,k-=Z[d],k<0)return-1;if(k>0&&(i===jy||w!==1))return-1;for(C[1]=0,d=1;d<ih;d++)C[d+1]=C[d]+Z[d];for(m=0;m<r;m++)t[e+m]!==0&&(h[C[t[e+m]]++]=m);if(i===jy?(D=j=h,R=20):i===l0?(D=vk,j=yk,R=257):(D=bk,j=xk,R=0),P=0,m=0,d=b,Y=o,A=y,N=0,B=-1,T=1<<y,Q=T-1,i===l0&&T>Ly||i===Ry&&T>Dy)return 1;for(;;){U=d-N,h[m]+1<R?(J=0,ut=h[m]):h[m]>=R?(J=j[h[m]-R],ut=D[h[m]-R]):(J=96,ut=0),F=1<<d-N,I=1<<A,b=I;do I-=F,a[Y+(P>>N)+I]=U<<24|J<<16|ut|0;while(I!==0);for(F=1<<d-1;P&F;)F>>=1;if(F!==0?(P&=F-1,P+=F):P=0,m++,--Z[d]===0){if(d===w)break;d=t[e+h[m]]}if(d>y&&(P&Q)!==B){for(N===0&&(N=y),Y+=b,A=d-N,k=1<<A;A+N<w&&(k-=Z[A+N],!(k<=0));)A++,k<<=1;if(T+=1<<A,i===l0&&T>Ly||i===Ry&&T>Dy)return 1;B=P&Q,a[B]=y<<24|A<<16|Y-o|0}}return P!==0&&(a[Y+P]=d-N<<24|64<<16|0),c.bits=y,0};var Bf=_k;const wk=0,$_=1,Q_=2,{Z_FINISH:Iy,Z_BLOCK:Sk,Z_TREES:dp,Z_OK:ou,Z_STREAM_END:Ak,Z_NEED_DICT:Nk,Z_STREAM_ERROR:ma,Z_DATA_ERROR:J_,Z_MEM_ERROR:tw,Z_BUF_ERROR:Tk,Z_DEFLATED:By}=X_,L1=16180,qy=16181,zy=16182,Fy=16183,Py=16184,Uy=16185,Vy=16186,Hy=16187,Gy=16188,Yy=16189,n1=16190,cl=16191,c0=16192,Wy=16193,u0=16194,Xy=16195,Zy=16196,Ky=16197,$y=16198,pp=16199,mp=16200,Qy=16201,Jy=16202,tb=16203,eb=16204,nb=16205,h0=16206,ib=16207,rb=16208,mi=16209,ew=16210,nw=16211,Ck=852,Ek=592,kk=15,Ok=kk,sb=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function Mk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hu=i=>{if(!i)return 1;const t=i.state;return!t||t.strm!==i||t.mode<L1||t.mode>nw?1:0},iw=i=>{if(hu(i))return ma;const t=i.state;return i.total_in=i.total_out=t.total=0,i.msg="",t.wrap&&(i.adler=t.wrap&1),t.mode=L1,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Ck),t.distcode=t.distdyn=new Int32Array(Ek),t.sane=1,t.back=-1,ou},rw=i=>{if(hu(i))return ma;const t=i.state;return t.wsize=0,t.whave=0,t.wnext=0,iw(i)},sw=(i,t)=>{let e;if(hu(i))return ma;const r=i.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ma:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,rw(i))},aw=(i,t)=>{if(!i)return ma;const e=new Mk;i.state=e,e.strm=i,e.window=null,e.mode=L1;const r=sw(i,t);return r!==ou&&(i.state=null),r},Lk=i=>aw(i,Ok);let ab=!0,f0,d0;const Dk=i=>{if(ab){f0=new Int32Array(512),d0=new Int32Array(32);let t=0;for(;t<144;)i.lens[t++]=8;for(;t<256;)i.lens[t++]=9;for(;t<280;)i.lens[t++]=7;for(;t<288;)i.lens[t++]=8;for(Bf($_,i.lens,0,288,f0,0,i.work,{bits:9}),t=0;t<32;)i.lens[t++]=5;Bf(Q_,i.lens,0,32,d0,0,i.work,{bits:5}),ab=!1}i.lencode=f0,i.lenbits=9,i.distcode=d0,i.distbits=5},ow=(i,t,e,r)=>{let a;const o=i.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(t.subarray(e-r,e-r+a),o.wnext),r-=a,r?(o.window.set(t.subarray(e-r,e),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},jk=(i,t)=>{let e,r,a,o,h,c,f,d,m,b,w,y,A,N,k=0,T,P,F,I,B,Q,Y,D;const R=new Uint8Array(4);let Z,C;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hu(i)||!i.output||!i.input&&i.avail_in!==0)return ma;e=i.state,e.mode===cl&&(e.mode=c0),h=i.next_out,a=i.output,f=i.avail_out,o=i.next_in,r=i.input,c=i.avail_in,d=e.hold,m=e.bits,b=c,w=f,D=ou;t:for(;;)switch(e.mode){case L1:if(e.wrap===0){e.mode=c0;break}for(;m<16;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}if(e.wrap&2&&d===35615){e.wbits===0&&(e.wbits=15),e.check=0,R[0]=d&255,R[1]=d>>>8&255,e.check=To(e.check,R,2,0),d=0,m=0,e.mode=qy;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((d&255)<<8)+(d>>8))%31){i.msg="incorrect header check",e.mode=mi;break}if((d&15)!==By){i.msg="unknown compression method",e.mode=mi;break}if(d>>>=4,m-=4,Y=(d&15)+8,e.wbits===0&&(e.wbits=Y),Y>15||Y>e.wbits){i.msg="invalid window size",e.mode=mi;break}e.dmax=1<<e.wbits,e.flags=0,i.adler=e.check=1,e.mode=d&512?Yy:cl,d=0,m=0;break;case qy:for(;m<16;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}if(e.flags=d,(e.flags&255)!==By){i.msg="unknown compression method",e.mode=mi;break}if(e.flags&57344){i.msg="unknown header flags set",e.mode=mi;break}e.head&&(e.head.text=d>>8&1),e.flags&512&&e.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,e.check=To(e.check,R,2,0)),d=0,m=0,e.mode=zy;case zy:for(;m<32;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}e.head&&(e.head.time=d),e.flags&512&&e.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,R[2]=d>>>16&255,R[3]=d>>>24&255,e.check=To(e.check,R,4,0)),d=0,m=0,e.mode=Fy;case Fy:for(;m<16;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}e.head&&(e.head.xflags=d&255,e.head.os=d>>8),e.flags&512&&e.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,e.check=To(e.check,R,2,0)),d=0,m=0,e.mode=Py;case Py:if(e.flags&1024){for(;m<16;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}e.length=d,e.head&&(e.head.extra_len=d),e.flags&512&&e.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,e.check=To(e.check,R,2,0)),d=0,m=0}else e.head&&(e.head.extra=null);e.mode=Uy;case Uy:if(e.flags&1024&&(y=e.length,y>c&&(y=c),y&&(e.head&&(Y=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(o,o+y),Y)),e.flags&512&&e.wrap&4&&(e.check=To(e.check,r,y,o)),c-=y,o+=y,e.length-=y),e.length))break t;e.length=0,e.mode=Vy;case Vy:if(e.flags&2048){if(c===0)break t;y=0;do Y=r[o+y++],e.head&&Y&&e.length<65536&&(e.head.name+=String.fromCharCode(Y));while(Y&&y<c);if(e.flags&512&&e.wrap&4&&(e.check=To(e.check,r,y,o)),c-=y,o+=y,Y)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=Hy;case Hy:if(e.flags&4096){if(c===0)break t;y=0;do Y=r[o+y++],e.head&&Y&&e.length<65536&&(e.head.comment+=String.fromCharCode(Y));while(Y&&y<c);if(e.flags&512&&e.wrap&4&&(e.check=To(e.check,r,y,o)),c-=y,o+=y,Y)break t}else e.head&&(e.head.comment=null);e.mode=Gy;case Gy:if(e.flags&512){for(;m<16;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}if(e.wrap&4&&d!==(e.check&65535)){i.msg="header crc mismatch",e.mode=mi;break}d=0,m=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),i.adler=e.check=0,e.mode=cl;break;case Yy:for(;m<32;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}i.adler=e.check=sb(d),d=0,m=0,e.mode=n1;case n1:if(e.havedict===0)return i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=c,e.hold=d,e.bits=m,Nk;i.adler=e.check=1,e.mode=cl;case cl:if(t===Sk||t===dp)break t;case c0:if(e.last){d>>>=m&7,m-=m&7,e.mode=h0;break}for(;m<3;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}switch(e.last=d&1,d>>>=1,m-=1,d&3){case 0:e.mode=Wy;break;case 1:if(Dk(e),e.mode=pp,t===dp){d>>>=2,m-=2;break t}break;case 2:e.mode=Zy;break;case 3:i.msg="invalid block type",e.mode=mi}d>>>=2,m-=2;break;case Wy:for(d>>>=m&7,m-=m&7;m<32;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}if((d&65535)!==(d>>>16^65535)){i.msg="invalid stored block lengths",e.mode=mi;break}if(e.length=d&65535,d=0,m=0,e.mode=u0,t===dp)break t;case u0:e.mode=Xy;case Xy:if(y=e.length,y){if(y>c&&(y=c),y>f&&(y=f),y===0)break t;a.set(r.subarray(o,o+y),h),c-=y,o+=y,f-=y,h+=y,e.length-=y;break}e.mode=cl;break;case Zy:for(;m<14;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}if(e.nlen=(d&31)+257,d>>>=5,m-=5,e.ndist=(d&31)+1,d>>>=5,m-=5,e.ncode=(d&15)+4,d>>>=4,m-=4,e.nlen>286||e.ndist>30){i.msg="too many length or distance symbols",e.mode=mi;break}e.have=0,e.mode=Ky;case Ky:for(;e.have<e.ncode;){for(;m<3;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}e.lens[j[e.have++]]=d&7,d>>>=3,m-=3}for(;e.have<19;)e.lens[j[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,Z={bits:e.lenbits},D=Bf(wk,e.lens,0,19,e.lencode,0,e.work,Z),e.lenbits=Z.bits,D){i.msg="invalid code lengths set",e.mode=mi;break}e.have=0,e.mode=$y;case $y:for(;e.have<e.nlen+e.ndist;){for(;k=e.lencode[d&(1<<e.lenbits)-1],T=k>>>24,P=k>>>16&255,F=k&65535,!(T<=m);){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}if(F<16)d>>>=T,m-=T,e.lens[e.have++]=F;else{if(F===16){for(C=T+2;m<C;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}if(d>>>=T,m-=T,e.have===0){i.msg="invalid bit length repeat",e.mode=mi;break}Y=e.lens[e.have-1],y=3+(d&3),d>>>=2,m-=2}else if(F===17){for(C=T+3;m<C;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}d>>>=T,m-=T,Y=0,y=3+(d&7),d>>>=3,m-=3}else{for(C=T+7;m<C;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}d>>>=T,m-=T,Y=0,y=11+(d&127),d>>>=7,m-=7}if(e.have+y>e.nlen+e.ndist){i.msg="invalid bit length repeat",e.mode=mi;break}for(;y--;)e.lens[e.have++]=Y}}if(e.mode===mi)break;if(e.lens[256]===0){i.msg="invalid code -- missing end-of-block",e.mode=mi;break}if(e.lenbits=9,Z={bits:e.lenbits},D=Bf($_,e.lens,0,e.nlen,e.lencode,0,e.work,Z),e.lenbits=Z.bits,D){i.msg="invalid literal/lengths set",e.mode=mi;break}if(e.distbits=6,e.distcode=e.distdyn,Z={bits:e.distbits},D=Bf(Q_,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,Z),e.distbits=Z.bits,D){i.msg="invalid distances set",e.mode=mi;break}if(e.mode=pp,t===dp)break t;case pp:e.mode=mp;case mp:if(c>=6&&f>=258){i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=c,e.hold=d,e.bits=m,gk(i,w),h=i.next_out,a=i.output,f=i.avail_out,o=i.next_in,r=i.input,c=i.avail_in,d=e.hold,m=e.bits,e.mode===cl&&(e.back=-1);break}for(e.back=0;k=e.lencode[d&(1<<e.lenbits)-1],T=k>>>24,P=k>>>16&255,F=k&65535,!(T<=m);){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}if(P&&(P&240)===0){for(I=T,B=P,Q=F;k=e.lencode[Q+((d&(1<<I+B)-1)>>I)],T=k>>>24,P=k>>>16&255,F=k&65535,!(I+T<=m);){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}d>>>=I,m-=I,e.back+=I}if(d>>>=T,m-=T,e.back+=T,e.length=F,P===0){e.mode=nb;break}if(P&32){e.back=-1,e.mode=cl;break}if(P&64){i.msg="invalid literal/length code",e.mode=mi;break}e.extra=P&15,e.mode=Qy;case Qy:if(e.extra){for(C=e.extra;m<C;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}e.length+=d&(1<<e.extra)-1,d>>>=e.extra,m-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=Jy;case Jy:for(;k=e.distcode[d&(1<<e.distbits)-1],T=k>>>24,P=k>>>16&255,F=k&65535,!(T<=m);){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}if((P&240)===0){for(I=T,B=P,Q=F;k=e.distcode[Q+((d&(1<<I+B)-1)>>I)],T=k>>>24,P=k>>>16&255,F=k&65535,!(I+T<=m);){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}d>>>=I,m-=I,e.back+=I}if(d>>>=T,m-=T,e.back+=T,P&64){i.msg="invalid distance code",e.mode=mi;break}e.offset=F,e.extra=P&15,e.mode=tb;case tb:if(e.extra){for(C=e.extra;m<C;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}e.offset+=d&(1<<e.extra)-1,d>>>=e.extra,m-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){i.msg="invalid distance too far back",e.mode=mi;break}e.mode=eb;case eb:if(f===0)break t;if(y=w-f,e.offset>y){if(y=e.offset-y,y>e.whave&&e.sane){i.msg="invalid distance too far back",e.mode=mi;break}y>e.wnext?(y-=e.wnext,A=e.wsize-y):A=e.wnext-y,y>e.length&&(y=e.length),N=e.window}else N=a,A=h-e.offset,y=e.length;y>f&&(y=f),f-=y,e.length-=y;do a[h++]=N[A++];while(--y);e.length===0&&(e.mode=mp);break;case nb:if(f===0)break t;a[h++]=e.length,f--,e.mode=mp;break;case h0:if(e.wrap){for(;m<32;){if(c===0)break t;c--,d|=r[o++]<<m,m+=8}if(w-=f,i.total_out+=w,e.total+=w,e.wrap&4&&w&&(i.adler=e.check=e.flags?To(e.check,a,w,h-w):W0(e.check,a,w,h-w)),w=f,e.wrap&4&&(e.flags?d:sb(d))!==e.check){i.msg="incorrect data check",e.mode=mi;break}d=0,m=0}e.mode=ib;case ib:if(e.wrap&&e.flags){for(;m<32;){if(c===0)break t;c--,d+=r[o++]<<m,m+=8}if(e.wrap&4&&d!==(e.total&4294967295)){i.msg="incorrect length check",e.mode=mi;break}d=0,m=0}e.mode=rb;case rb:D=Ak;break t;case mi:D=J_;break t;case ew:return tw;case nw:default:return ma}return i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=c,e.hold=d,e.bits=m,(e.wsize||w!==i.avail_out&&e.mode<mi&&(e.mode<h0||t!==Iy))&&ow(i,i.output,i.next_out,w-i.avail_out),b-=i.avail_in,w-=i.avail_out,i.total_in+=b,i.total_out+=w,e.total+=w,e.wrap&4&&w&&(i.adler=e.check=e.flags?To(e.check,a,w,i.next_out-w):W0(e.check,a,w,i.next_out-w)),i.data_type=e.bits+(e.last?64:0)+(e.mode===cl?128:0)+(e.mode===pp||e.mode===u0?256:0),(b===0&&w===0||t===Iy)&&D===ou&&(D=Tk),D},Rk=i=>{if(hu(i))return ma;let t=i.state;return t.window&&(t.window=null),i.state=null,ou},Ik=(i,t)=>{if(hu(i))return ma;const e=i.state;return(e.wrap&2)===0?ma:(e.head=t,t.done=!1,ou)},Bk=(i,t)=>{const e=t.length;let r,a,o;return hu(i)||(r=i.state,r.wrap!==0&&r.mode!==n1)?ma:r.mode===n1&&(a=1,a=W0(a,t,e,0),a!==r.check)?J_:(o=ow(i,t,e,e),o?(r.mode=ew,tw):(r.havedict=1,ou))};var qk=rw,zk=sw,Fk=iw,Pk=Lk,Uk=aw,Vk=jk,Hk=Rk,Gk=Ik,Yk=Bk,Wk="pako inflate (from Nodeca project)",hl={inflateReset:qk,inflateReset2:zk,inflateResetKeep:Fk,inflateInit:Pk,inflateInit2:Uk,inflate:Vk,inflateEnd:Hk,inflateGetHeader:Gk,inflateSetDictionary:Yk,inflateInfo:Wk};function Xk(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Zk=Xk;const lw=Object.prototype.toString,{Z_NO_FLUSH:Kk,Z_FINISH:$k,Z_OK:Zf,Z_STREAM_END:p0,Z_NEED_DICT:m0,Z_STREAM_ERROR:Qk,Z_DATA_ERROR:ob,Z_MEM_ERROR:Jk}=X_;function fd(i){this.options=Z_.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(i&&i.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pk,this.strm.avail_out=0;let e=hl.inflateInit2(this.strm,t.windowBits);if(e!==Zf)throw new Error(X0[e]);if(this.header=new Zk,hl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Z0.string2buf(t.dictionary):lw.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=hl.inflateSetDictionary(this.strm,t.dictionary),e!==Zf)))throw new Error(X0[e])}fd.prototype.push=function(i,t){const e=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,h,c;if(this.ended)return!1;for(t===~~t?h=t:h=t===!0?$k:Kk,lw.call(i)==="[object ArrayBuffer]"?e.input=new Uint8Array(i):e.input=i,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),o=hl.inflate(e,h),o===m0&&a&&(o=hl.inflateSetDictionary(e,a),o===Zf?o=hl.inflate(e,h):o===ob&&(o=m0));e.avail_in>0&&o===p0&&e.state.wrap>0&&i[e.next_in]!==0;)hl.inflateReset(e),o=hl.inflate(e,h);switch(o){case Qk:case ob:case m0:case Jk:return this.onEnd(o),this.ended=!0,!1}if(c=e.avail_out,e.next_out&&(e.avail_out===0||o===p0))if(this.options.to==="string"){let f=Z0.utf8border(e.output,e.next_out),d=e.next_out-f,m=Z0.buf2string(e.output,f);e.next_out=d,e.avail_out=r-d,d&&e.output.set(e.output.subarray(f,f+d),0),this.onData(m)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===Zf&&c===0)){if(o===p0)return o=hl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};fd.prototype.onData=function(i){this.chunks.push(i)};fd.prototype.onEnd=function(i){i===Zf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Z_.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function tO(i,t){const e=new fd(t);if(e.push(i),e.err)throw e.msg||X0[e.err];return e.result}var eO=fd,nO=tO,iO={Inflate:eO,inflate:nO};const{Inflate:rO,inflate:sO}=iO;var lb=rO,aO=sO;const cw=[];for(let i=0;i<256;i++){let t=i;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;cw[i]=t}const cb=4294967295;function oO(i,t,e){let r=i;for(let a=0;a<e;a++)r=cw[(r^t[a])&255]^r>>>8;return r}function lO(i,t){return(oO(cb,i,t)^cb)>>>0}function ub(i,t,e){const r=i.readUint32(),a=lO(new Uint8Array(i.buffer,i.byteOffset+i.offset-t-4,t),t);if(a!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${a}`)}function uw(i,t,e){for(let r=0;r<e;r++)t[r]=i[r]}function hw(i,t,e,r){let a=0;for(;a<r;a++)t[a]=i[a];for(;a<e;a++)t[a]=i[a]+t[a-r]&255}function fw(i,t,e,r){let a=0;if(e.length===0)for(;a<r;a++)t[a]=i[a];else for(;a<r;a++)t[a]=i[a]+e[a]&255}function dw(i,t,e,r,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=i[o];for(;o<r;o++)t[o]=i[o]+(t[o-a]>>1)&255}else{for(;o<a;o++)t[o]=i[o]+(e[o]>>1)&255;for(;o<r;o++)t[o]=i[o]+(t[o-a]+e[o]>>1)&255}}function pw(i,t,e,r,a){let o=0;if(e.length===0){for(;o<a;o++)t[o]=i[o];for(;o<r;o++)t[o]=i[o]+t[o-a]&255}else{for(;o<a;o++)t[o]=i[o]+e[o]&255;for(;o<r;o++)t[o]=i[o]+cO(t[o-a],e[o],e[o-a])&255}}function cO(i,t,e){const r=i+t-e,a=Math.abs(r-i),o=Math.abs(r-t),h=Math.abs(r-e);return a<=o&&a<=h?i:o<=h?t:e}function uO(i,t,e,r,a,o){switch(i){case 0:uw(t,e,a);break;case 1:hw(t,e,a,o);break;case 2:fw(t,e,r,a);break;case 3:dw(t,e,r,a,o);break;case 4:pw(t,e,r,a,o);break;default:throw new Error(`Unsupported filter: ${i}`)}}const hO=new Uint16Array([255]),fO=new Uint8Array(hO.buffer),dO=fO[0]===255;function pO(i){const{data:t,width:e,height:r,channels:a,depth:o}=i,h=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(r*e*c);let d=0;for(let m=0;m<7;m++){const b=h[m],w=Math.ceil((e-b.x)/b.xStep),y=Math.ceil((r-b.y)/b.yStep);if(w<=0||y<=0)continue;const A=w*c,N=new Uint8Array(A);for(let k=0;k<y;k++){const T=t[d++],P=t.subarray(d,d+A);d+=A;const F=new Uint8Array(A);uO(T,P,F,N,A,c),N.set(F);for(let I=0;I<w;I++){const B=b.x+I*b.xStep,Q=b.y+k*b.yStep;if(!(B>=e||Q>=r))for(let Y=0;Y<c;Y++)f[(Q*e+B)*c+Y]=F[I*c+Y]}}}if(o===16){const m=new Uint16Array(f.buffer);if(dO)for(let b=0;b<m.length;b++)m[b]=mO(m[b]);return m}else return f}function mO(i){return(i&255)<<8|i>>8&255}const gO=new Uint16Array([255]),vO=new Uint8Array(gO.buffer),yO=vO[0]===255,bO=new Uint8Array(0);function hb(i){const{data:t,width:e,height:r,channels:a,depth:o}=i,h=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*e),f=new Uint8Array(r*c);let d=bO,m=0,b,w;for(let y=0;y<r;y++){switch(b=t.subarray(m+1,m+1+c),w=f.subarray(y*c,(y+1)*c),t[m]){case 0:uw(b,w,c);break;case 1:hw(b,w,c,h);break;case 2:fw(b,w,d,c);break;case 3:dw(b,w,d,c,h);break;case 4:pw(b,w,d,c,h);break;default:throw new Error(`Unsupported filter: ${t[m]}`)}d=w,m+=c+1}if(o===16){const y=new Uint16Array(f.buffer);if(yO)for(let A=0;A<y.length;A++)y[A]=xO(y[A]);return y}else return f}function xO(i){return(i&255)<<8|i>>8&255}const Tp=Uint8Array.of(137,80,78,71,13,10,26,10);function fb(i){if(!_O(i.readBytes(Tp.length)))throw new Error("wrong PNG signature")}function _O(i){if(i.length<Tp.length)return!1;for(let t=0;t<Tp.length;t++)if(i[t]!==Tp[t])return!1;return!0}const wO="tEXt",SO=0,mw=new TextDecoder("latin1");function AO(i){if(TO(i),i.length===0||i.length>79)throw new Error("keyword length must be between 1 and 79")}const NO=/^[\u0000-\u00FF]*$/;function TO(i){if(!NO.test(i))throw new Error("invalid latin1 text")}function CO(i,t,e){const r=gw(t);i[r]=EO(t,e-r.length-1)}function gw(i){for(i.mark();i.readByte()!==SO;);const t=i.offset;i.reset();const e=mw.decode(i.readBytes(t-i.offset-1));return i.skip(1),AO(e),e}function EO(i,t){return mw.decode(i.readBytes(t))}const Ps={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},g0={UNKNOWN:-1,DEFLATE:0},db={UNKNOWN:-1,ADAPTIVE:0},v0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},gp={NONE:0,BACKGROUND:1,PREVIOUS:2},y0={SOURCE:0,OVER:1};class kO extends i2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new lb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=g0.UNKNOWN,this._filterMethod=db.UNKNOWN,this._interlaceMethod=v0.UNKNOWN,this._colorType=Ps.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(fb(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(fb(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case wO:CO(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?ub(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const r=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?ub(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=OO(this.readUint8());const e=this.readUint8();this._colorType=e;let r;switch(e){case Ps.GREYSCALE:r=1;break;case Ps.TRUECOLOUR:r=3;break;case Ps.INDEXED_COLOUR:r=1;break;case Ps.GREYSCALE_ALPHA:r=2;break;case Ps.TRUECOLOUR_ALPHA:r=4;break;case Ps.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==g0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<e;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,r=this.offset+this.byteOffset;if(r+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Ps.GREYSCALE:case Ps.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case Ps.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const r=this.readByte();this._palette[e].push(r)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case Ps.UNKNOWN:case Ps.GREYSCALE_ALPHA:case Ps.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=gw(this),r=this.readUint8();if(r!==g0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:aO(a)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=hb({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)e.data=r.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(r,a,e),this.addFrameDataToCanvas(e,r)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,r){switch(t.disposeOp){case gp.NONE:break;case gp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const h=(a*t.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[h+c]=0}break;case gp.PREVIOUS:r.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const r=1<<this._png.depth,a=(o,h)=>{const c=((o+e.yOffset)*this._png.width+e.xOffset+h)*this._png.channels,f=(o*e.width+h)*this._png.channels;return{index:c,frameIndex:f}};switch(e.blendOp){case y0.SOURCE:for(let o=0;o<e.height;o++)for(let h=0;h<e.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++)t.data[c+d]=e.data[f+d]}break;case y0.OVER:for(let o=0;o<e.height;o++)for(let h=0;h<e.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++){const m=e.data[f+this._png.channels-1]/r,b=d%(this._png.channels-1)===0?1:e.data[f+d],w=Math.floor(m*b+(1-m)*t.data[c+d]);t.data[c+d]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==db.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===v0.NO_INTERLACE)this._png.data=hb({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===v0.ADAM7)this._png.data=pO({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:gp.NONE,blendOp:y0.SOURCE,data:t}),this._inflator=new lb,this._writingDataChunks=!1}}function OO(i){if(i!==1&&i!==2&&i!==4&&i!==8&&i!==16)throw new Error(`invalid bit depth: ${i}`);return i}var pb;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.METRE=1]="METRE"})(pb||(pb={}));function MO(i,t){return new kO(i,t).decode()}var Ue=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function b0(){Ue.console&&typeof Ue.console.log=="function"&&Ue.console.log.apply(Ue.console,arguments)}var $n={log:b0,warn:function(i){Ue.console&&(typeof Ue.console.warn=="function"?Ue.console.warn.apply(Ue.console,arguments):b0.call(null,arguments))},error:function(i){Ue.console&&(typeof Ue.console.error=="function"?Ue.console.error.apply(Ue.console,arguments):b0(i))}};function x0(i,t,e){var r=new XMLHttpRequest;r.open("GET",i),r.responseType="blob",r.onload=function(){Kc(r.response,t,e)},r.onerror=function(){$n.error("could not download file")},r.send()}function mb(i){var t=new XMLHttpRequest;t.open("HEAD",i,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function vp(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(t)}}var Kc=Ue.saveAs||((typeof window>"u"?"undefined":qn(window))!=="object"||window!==Ue?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,t,e){var r=Ue.URL||Ue.webkitURL,a=document.createElement("a");t=t||i.name||"download",a.download=t,a.rel="noopener",typeof i=="string"?(a.href=i,a.origin!==location.origin?mb(a.href)?x0(i,t,e):vp(a,a.target="_blank"):vp(a)):(a.href=r.createObjectURL(i),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){vp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(i,t,e){if(t=t||i.name||"download",typeof i=="string")if(mb(i))x0(i,t,e);else{var r=document.createElement("a");r.href=i,r.target="_blank",setTimeout(function(){vp(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:qn(o)!=="object"&&($n.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(i,e),t)}:function(i,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof i=="string")return x0(i,t,e);var a=i.type==="application/octet-stream",o=/constructor/i.test(Ue.HTMLElement)||Ue.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||a&&o)&&(typeof FileReader>"u"?"undefined":qn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=h?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=m:location=m,r=null},c.readAsDataURL(i)}else{var f=Ue.URL||Ue.webkitURL,d=f.createObjectURL(i);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function vw(i){var t;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<e.length;r++){var a=e[r].re,o=e[r].process,h=a.exec(i);h&&(t=o(h),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var Cp=Ue.atob.bind(Ue),gb=Ue.btoa.bind(Ue);function _0(i,t){var e=i[0],r=i[1],a=i[2],o=i[3];e=Ir(e,r,a,o,t[0],7,-680876936),o=Ir(o,e,r,a,t[1],12,-389564586),a=Ir(a,o,e,r,t[2],17,606105819),r=Ir(r,a,o,e,t[3],22,-1044525330),e=Ir(e,r,a,o,t[4],7,-176418897),o=Ir(o,e,r,a,t[5],12,1200080426),a=Ir(a,o,e,r,t[6],17,-1473231341),r=Ir(r,a,o,e,t[7],22,-45705983),e=Ir(e,r,a,o,t[8],7,1770035416),o=Ir(o,e,r,a,t[9],12,-1958414417),a=Ir(a,o,e,r,t[10],17,-42063),r=Ir(r,a,o,e,t[11],22,-1990404162),e=Ir(e,r,a,o,t[12],7,1804603682),o=Ir(o,e,r,a,t[13],12,-40341101),a=Ir(a,o,e,r,t[14],17,-1502002290),e=Br(e,r=Ir(r,a,o,e,t[15],22,1236535329),a,o,t[1],5,-165796510),o=Br(o,e,r,a,t[6],9,-1069501632),a=Br(a,o,e,r,t[11],14,643717713),r=Br(r,a,o,e,t[0],20,-373897302),e=Br(e,r,a,o,t[5],5,-701558691),o=Br(o,e,r,a,t[10],9,38016083),a=Br(a,o,e,r,t[15],14,-660478335),r=Br(r,a,o,e,t[4],20,-405537848),e=Br(e,r,a,o,t[9],5,568446438),o=Br(o,e,r,a,t[14],9,-1019803690),a=Br(a,o,e,r,t[3],14,-187363961),r=Br(r,a,o,e,t[8],20,1163531501),e=Br(e,r,a,o,t[13],5,-1444681467),o=Br(o,e,r,a,t[2],9,-51403784),a=Br(a,o,e,r,t[7],14,1735328473),e=qr(e,r=Br(r,a,o,e,t[12],20,-1926607734),a,o,t[5],4,-378558),o=qr(o,e,r,a,t[8],11,-2022574463),a=qr(a,o,e,r,t[11],16,1839030562),r=qr(r,a,o,e,t[14],23,-35309556),e=qr(e,r,a,o,t[1],4,-1530992060),o=qr(o,e,r,a,t[4],11,1272893353),a=qr(a,o,e,r,t[7],16,-155497632),r=qr(r,a,o,e,t[10],23,-1094730640),e=qr(e,r,a,o,t[13],4,681279174),o=qr(o,e,r,a,t[0],11,-358537222),a=qr(a,o,e,r,t[3],16,-722521979),r=qr(r,a,o,e,t[6],23,76029189),e=qr(e,r,a,o,t[9],4,-640364487),o=qr(o,e,r,a,t[12],11,-421815835),a=qr(a,o,e,r,t[15],16,530742520),e=zr(e,r=qr(r,a,o,e,t[2],23,-995338651),a,o,t[0],6,-198630844),o=zr(o,e,r,a,t[7],10,1126891415),a=zr(a,o,e,r,t[14],15,-1416354905),r=zr(r,a,o,e,t[5],21,-57434055),e=zr(e,r,a,o,t[12],6,1700485571),o=zr(o,e,r,a,t[3],10,-1894986606),a=zr(a,o,e,r,t[10],15,-1051523),r=zr(r,a,o,e,t[1],21,-2054922799),e=zr(e,r,a,o,t[8],6,1873313359),o=zr(o,e,r,a,t[15],10,-30611744),a=zr(a,o,e,r,t[6],15,-1560198380),r=zr(r,a,o,e,t[13],21,1309151649),e=zr(e,r,a,o,t[4],6,-145523070),o=zr(o,e,r,a,t[11],10,-1120210379),a=zr(a,o,e,r,t[2],15,718787259),r=zr(r,a,o,e,t[9],21,-343485551),i[0]=oc(e,i[0]),i[1]=oc(r,i[1]),i[2]=oc(a,i[2]),i[3]=oc(o,i[3])}function D1(i,t,e,r,a,o){return t=oc(oc(t,i),oc(r,o)),oc(t<<a|t>>>32-a,e)}function Ir(i,t,e,r,a,o,h){return D1(t&e|~t&r,i,t,a,o,h)}function Br(i,t,e,r,a,o,h){return D1(t&r|e&~r,i,t,a,o,h)}function qr(i,t,e,r,a,o,h){return D1(t^e^r,i,t,a,o,h)}function zr(i,t,e,r,a,o,h){return D1(e^(t|~r),i,t,a,o,h)}function yw(i){var t,e=i.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=i.length;t+=64)_0(r,LO(i.substring(t-64,t)));i=i.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i.length;t++)a[t>>2]|=i.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(_0(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*e,_0(r,a),r}function LO(i){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=i.charCodeAt(t)+(i.charCodeAt(t+1)<<8)+(i.charCodeAt(t+2)<<16)+(i.charCodeAt(t+3)<<24);return e}var vb="0123456789abcdef".split("");function DO(i){for(var t="",e=0;e<4;e++)t+=vb[i>>8*e+4&15]+vb[i>>8*e&15];return t}function jO(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function K0(i){return yw(i).map(jO).join("")}var RO=(function(i){for(var t=0;t<i.length;t++)i[t]=DO(i[t]);return i.join("")})(yw("hello"))!="5d41402abc4b2a76b9719d911017c592";function oc(i,t){if(RO){var e=(65535&i)+(65535&t);return(i>>16)+(t>>16)+(e>>16)<<16|65535&e}return i+t&4294967295}function $0(i,t){var e,r,a,o;if(i!==e){for(var h=(a=i,o=1+(256/i.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var m=c[f];d=(d+m+h.charCodeAt(f))%256,c[f]=c[d],c[d]=m}e=i,r=c}else c=r;var b=t.length,w=0,y=0,A="";for(f=0;f<b;f++)y=(y+(m=c[w=(w+1)%256]))%256,c[w]=c[y],c[y]=m,h=c[(c[w]+c[y])%256],A+=String.fromCharCode(t.charCodeAt(f)^h);return A}var yb={print:4,modify:8,copy:16,"annot-forms":32};function lh(i,t,e,r){this.v=1,this.r=2;var a=192;i.forEach(function(c){if(yb.perm!==void 0)throw new Error("Invalid permission: "+c);a+=yb[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),h=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,h),this.P=-(1+(255^a)),this.encryptionKey=K0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=$0(this.encryptionKey,this.padding)}function ch(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var t="",e=i.length,r=0;r<e;r++){var a=i.charCodeAt(r);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):i[r]}return t}function bb(i){if(qn(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,a){if(a=a||!1,typeof e!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[r,!!a],o},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in t[e]){var h=t[e][o];try{h[0].apply(i,r)}catch(c){Ue.console&&$n.error("jsPDF PubSub Error",c.message,c)}h[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function i1(i){if(!(this instanceof i1))return new i1(i);var t="opacity,stroke-opacity".split(",");for(var e in i)i.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=i[e]);this.id="",this.objectNumber=-1}function bw(i,t){this.gState=i,this.matrix=t,this.id="",this.objectNumber=-1}function Qc(i,t,e,r,a){if(!(this instanceof Qc))return new Qc(i,t,e,r,a);this.type=i==="axial"?2:3,this.coords=t,this.colors=e,bw.call(this,r,a)}function mh(i,t,e,r,a){if(!(this instanceof mh))return new mh(i,t,e,r,a);this.boundingBox=i,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,bw.call(this,r,a)}function Ce(i){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],h=[],c=1,f=16,d="S",m=null;qn(i=i||{})==="object"&&(e=i.orientation,r=i.unit||r,a=i.format||a,o=i.compress||i.compressPdf||o,(m=i.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(t=i.precision),i.floatPrecision!==void 0&&(f=i.floatPrecision),d=i.defaultPathOperation||"S"),h=i.filters||(o===!0?["FlateEncode"]:h),r=r||"mm",e=(""+(e||"P")).toLowerCase();var b=i.putOnlyUsedFonts||!1,w={},y={internal:{},__private__:{}};y.__private__.PubSub=bb;var A="1.3",N=y.__private__.getPdfVersion=function(){return A};y.__private__.setPdfVersion=function(_){A=_};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return k};var T=y.__private__.getPageFormat=function(_){return k[_]};a=a||"a4";var P="compat",F="advanced",I=P;function B(){this.saveGraphicsState(),V(new he(Te,0,0,-Te,0,Na()*Te).toString()+" cm"),this.setFontSize(this.getFontSize()/Te),d="n",I=F}function Q(){this.restoreGraphicsState(),d="S",I=P}var Y=y.__private__.combineFontStyleAndFontWeight=function(_,q){if(_=="bold"&&q=="normal"||_=="bold"&&q==400||_=="normal"&&q=="italic"||_=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(_=q==400||q==="normal"?_==="italic"?"italic":"normal":q!=700&&q!=="bold"||_!=="normal"?(q==700?"bold":q)+""+_:"bold"),_};y.advancedAPI=function(_){var q=I===P;return q&&B.call(this),typeof _!="function"||(_(this),q&&Q.call(this)),this},y.compatAPI=function(_){var q=I===F;return q&&Q.call(this),typeof _!="function"||(_(this),q&&B.call(this)),this},y.isAdvancedAPI=function(){return I===F};var D,R=function(_){if(I!==F)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=y.roundToPrecision=y.__private__.roundToPrecision=function(_,q){var lt=t||q;if(isNaN(_)||isNaN(lt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(lt).replace(/0+$/,"")};D=y.hpf=y.__private__.hpf=typeof f=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(_,f)}:f==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(_,16)};var C=y.f2=y.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return Z(_,2)},j=y.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return Z(_,3)},U=y.scale=y.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return I===P?_*Te:I===F?_:void 0},J=function(_){return U((function(q){return I===P?Na()-q:I===F?q:void 0})(_))};y.__private__.setPrecision=y.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(t=parseInt(_,10))};var ut,$="00000000000000000000000000000000",rt=y.__private__.getFileId=function(){return $},ct=y.__private__.setFileId=function(_){return $=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Ri=new lh(m.userPermissions,m.userPassword,m.ownerPassword,$)),$};y.setFileId=function(_){return ct(_),this},y.getFileId=function(){return rt()};var pt=y.__private__.convertDateToPDFDate=function(_){var q=_.getTimezoneOffset(),lt=q<0?"+":"-",vt=Math.floor(Math.abs(q/60)),St=Math.abs(q%60),Pt=[lt,tt(vt),"'",tt(St),"'"].join("");return["D:",_.getFullYear(),tt(_.getMonth()+1),tt(_.getDate()),tt(_.getHours()),tt(_.getMinutes()),tt(_.getSeconds()),Pt].join("")},Nt=y.__private__.convertPDFDateToDate=function(_){var q=parseInt(_.substr(2,4),10),lt=parseInt(_.substr(6,2),10)-1,vt=parseInt(_.substr(8,2),10),St=parseInt(_.substr(10,2),10),Pt=parseInt(_.substr(12,2),10),Zt=parseInt(_.substr(14,2),10);return new Date(q,lt,vt,St,Pt,Zt,0)},X=y.__private__.setCreationDate=function(_){var q;if(_===void 0&&(_=new Date),_ instanceof Date)q=pt(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=_}return ut=q},E=y.__private__.getCreationDate=function(_){var q=ut;return _==="jsDate"&&(q=Nt(ut)),q};y.setCreationDate=function(_){return X(_),this},y.getCreationDate=function(_){return E(_)};var H,tt=y.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},it=y.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ot=0,mt=[],ft=[],gt=0,_t=[],Rt=[],Xt=!1,Ht=ft;y.__private__.setCustomOutputDestination=function(_){Xt=!0,Ht=_};var $t=function(_){Xt||(Ht=_)};y.__private__.resetCustomOutputDestination=function(){Xt=!1,Ht=ft};var V=y.__private__.out=function(_){return _=_.toString(),gt+=_.length+1,Ht.push(_),Ht},Dt=y.__private__.write=function(_){return V(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},ue=y.__private__.getArrayBuffer=function(_){for(var q=_.length,lt=new ArrayBuffer(q),vt=new Uint8Array(lt);q--;)vt[q]=_.charCodeAt(q);return lt},ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return ne};var Lt=i.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(_){return Lt=I===F?_/Te:_,this};var ee,ie=y.__private__.getFontSize=y.getFontSize=function(){return I===P?Lt:Lt*Te},le=i.R2L||!1;y.__private__.setR2L=y.setR2L=function(_){return le=_,this},y.__private__.getR2L=y.getR2L=function(){return le};var pe,ke=y.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))ee=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');ee=_}else ee=parseInt(_,10)};y.__private__.getZoomMode=function(){return ee};var Gt,Kt=y.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');pe=_};y.__private__.getPageMode=function(){return pe};var ce=y.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Gt=_};y.__private__.getLayoutMode=function(){return Gt},y.__private__.setDisplayMode=y.setDisplayMode=function(_,q,lt){return ke(_),ce(q),Kt(lt),this};var ge={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(_){if(Object.keys(ge).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ge[_]},y.__private__.getDocumentProperties=function(){return ge},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(_){for(var q in ge)ge.hasOwnProperty(q)&&_[q]&&(ge[q]=_[q]);return this},y.__private__.setDocumentProperty=function(_,q){if(Object.keys(ge).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ge[_]=q};var ae,Te,oe,Ze,De,we={},Se={},Fe=[],wt={},qt={},zt={},re={},Ee=null,te=0,Jt=[],ve=new bb(y),Nn=i.hotfixes||[],Qe={},cn={},Tn=[],he=function _(q,lt,vt,St,Pt,Zt){if(!(this instanceof _))return new _(q,lt,vt,St,Pt,Zt);isNaN(q)&&(q=1),isNaN(lt)&&(lt=0),isNaN(vt)&&(vt=0),isNaN(St)&&(St=1),isNaN(Pt)&&(Pt=0),isNaN(Zt)&&(Zt=0),this._matrix=[q,lt,vt,St,Pt,Zt]};Object.defineProperty(he.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(he.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(he.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(he.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(he.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(he.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(he.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(he.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(he.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(he.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(he.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(he.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(he.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(he.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(he.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(he.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),he.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(_)},he.prototype.multiply=function(_){var q=_.sx*this.sx+_.shy*this.shx,lt=_.sx*this.shy+_.shy*this.sy,vt=_.shx*this.sx+_.sy*this.shx,St=_.shx*this.shy+_.sy*this.sy,Pt=_.tx*this.sx+_.ty*this.shx+this.tx,Zt=_.tx*this.shy+_.ty*this.sy+this.ty;return new he(q,lt,vt,St,Pt,Zt)},he.prototype.decompose=function(){var _=this.sx,q=this.shy,lt=this.shx,vt=this.sy,St=this.tx,Pt=this.ty,Zt=Math.sqrt(_*_+q*q),ye=(_/=Zt)*lt+(q/=Zt)*vt;lt-=_*ye,vt-=q*ye;var Ae=Math.sqrt(lt*lt+vt*vt);return ye/=Ae,_*(vt/=Ae)<q*(lt/=Ae)&&(_=-_,q=-q,ye=-ye,Zt=-Zt),{scale:new he(Zt,0,0,Ae,0,0),translate:new he(1,0,0,1,St,Pt),rotate:new he(_,q,-q,_,0,0),skew:new he(1,0,ye,1,0,0)}},he.prototype.toString=function(_){return this.join(" ")},he.prototype.inversed=function(){var _=this.sx,q=this.shy,lt=this.shx,vt=this.sy,St=this.tx,Pt=this.ty,Zt=1/(_*vt-q*lt),ye=vt*Zt,Ae=-q*Zt,qe=-lt*Zt,He=_*Zt;return new he(ye,Ae,qe,He,-ye*St-qe*Pt,-Ae*St-He*Pt)},he.prototype.applyToPoint=function(_){var q=_.x*this.sx+_.y*this.shx+this.tx,lt=_.x*this.shy+_.y*this.sy+this.ty;return new rs(q,lt)},he.prototype.applyToRectangle=function(_){var q=this.applyToPoint(_),lt=this.applyToPoint(new rs(_.x+_.w,_.y+_.h));return new xa(q.x,q.y,lt.x-q.x,lt.y-q.y)},he.prototype.clone=function(){var _=this.sx,q=this.shy,lt=this.shx,vt=this.sy,St=this.tx,Pt=this.ty;return new he(_,q,lt,vt,St,Pt)},y.Matrix=he;var sn=y.matrixMult=function(_,q){return q.multiply(_)},jn=new he(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=jn;var Cn=function(_,q){if(!qt[_]){var lt=(q instanceof Qc?"Sh":"P")+(Object.keys(wt).length+1).toString(10);q.id=lt,qt[_]=lt,wt[lt]=q,ve.publish("addPattern",q)}};y.ShadingPattern=Qc,y.TilingPattern=mh,y.addShadingPattern=function(_,q){return R("addShadingPattern()"),Cn(_,q),this},y.beginTilingPattern=function(_){R("beginTilingPattern()"),Fo(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},y.endTilingPattern=function(_,q){R("endTilingPattern()"),q.stream=Rt[H].join(`
`),Cn(_,q),ve.publish("endTilingPattern",q),Tn.pop().restore()};var Ln,Je=y.__private__.newObject=function(){var _=En();return Dn(_,!0),_},En=y.__private__.newObjectDeferred=function(){return ot++,mt[ot]=function(){return gt},ot},Dn=function(_,q){return q=typeof q=="boolean"&&q,mt[_]=gt,q&&V(_+" 0 obj"),_},Qi=y.__private__.newAdditionalObject=function(){var _={objId:En(),content:""};return _t.push(_),_},ui=En(),wn=En(),Wn=y.__private__.decodeColorString=function(_){var q=_.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length!==5||q[4]!=="k"&&q[4]!=="K"||(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var lt=parseFloat(q[0]);q=[lt,lt,lt,"r"]}for(var vt="#",St=0;St<3;St++)vt+=("0"+Math.floor(255*parseFloat(q[St])).toString(16)).slice(-2);return vt},ji=y.__private__.encodeColorString=function(_){var q;typeof _=="string"&&(_={ch1:_});var lt=_.ch1,vt=_.ch2,St=_.ch3,Pt=_.ch4,Zt=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof lt=="string"&&lt.charAt(0)!=="#"){var ye=new vw(lt);if(ye.ok)lt=ye.toHex();else if(!/^\d*\.?\d*$/.test(lt))throw new Error('Invalid color "'+lt+'" passed to jsPDF.encodeColorString.')}if(typeof lt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(lt)&&(lt="#"+lt[1]+lt[1]+lt[2]+lt[2]+lt[3]+lt[3]),typeof lt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(lt)){var Ae=parseInt(lt.substr(1),16);lt=Ae>>16&255,vt=Ae>>8&255,St=255&Ae}if(vt===void 0||Pt===void 0&&lt===vt&&vt===St)q=typeof lt=="string"?lt+" "+Zt[0]:_.precision===2?C(lt/255)+" "+Zt[0]:j(lt/255)+" "+Zt[0];else if(Pt===void 0||qn(Pt)==="object"){if(Pt&&!isNaN(Pt.a)&&Pt.a===0)return["1.","1.","1.",Zt[1]].join(" ");q=typeof lt=="string"?[lt,vt,St,Zt[1]].join(" "):_.precision===2?[C(lt/255),C(vt/255),C(St/255),Zt[1]].join(" "):[j(lt/255),j(vt/255),j(St/255),Zt[1]].join(" ")}else q=typeof lt=="string"?[lt,vt,St,Pt,Zt[2]].join(" "):_.precision===2?[C(lt),C(vt),C(St),C(Pt),Zt[2]].join(" "):[j(lt),j(vt),j(St),j(Pt),Zt[2]].join(" ");return q},ur=y.__private__.getFilters=function(){return h},Mr=y.__private__.putStream=function(_){var q=(_=_||{}).data||"",lt=_.filters||ur(),vt=_.alreadyAppliedFilters||[],St=_.addLength1||!1,Pt=q.length,Zt=_.objectId,ye=function(Ii){return Ii};if(m!==null&&Zt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(ye=Ri.encryptor(Zt,0));var Ae={};lt===!0&&(lt=["FlateEncode"]);var qe=_.additionalKeyValues||[],He=(Ae=Ce.API.processDataByFilters!==void 0?Ce.API.processDataByFilters(q,lt):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(vt)?vt.join(" "):vt.toString());if(Ae.data.length!==0&&(qe.push({key:"Length",value:Ae.data.length}),St===!0&&qe.push({key:"Length1",value:Pt})),He.length!=0)if(He.split("/").length-1==1)qe.push({key:"Filter",value:He});else{qe.push({key:"Filter",value:"["+He+"]"});for(var un=0;un<qe.length;un+=1)if(qe[un].key==="DecodeParms"){for(var ei=[],yi=0;yi<Ae.reverseChain.split("/").length-1;yi+=1)ei.push("null");ei.push(qe[un].value),qe[un].value="["+ei.join(" ")+"]"}}V("<<");for(var zn=0;zn<qe.length;zn++)V("/"+qe[zn].key+" "+qe[zn].value);V(">>"),Ae.data.length!==0&&(V("stream"),V(ye(Ae.data)),V("endstream"))},ga=y.__private__.putPage=function(_){var q=_.number,lt=_.data,vt=_.objId,St=_.contentsObjId;Dn(vt,!0),V("<</Type /Page"),V("/Parent "+_.rootDictionaryObjId+" 0 R"),V("/Resources "+_.resourceDictionaryObjId+" 0 R"),V("/MediaBox ["+parseFloat(D(_.mediaBox.bottomLeftX))+" "+parseFloat(D(_.mediaBox.bottomLeftY))+" "+D(_.mediaBox.topRightX)+" "+D(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&V("/CropBox ["+D(_.cropBox.bottomLeftX)+" "+D(_.cropBox.bottomLeftY)+" "+D(_.cropBox.topRightX)+" "+D(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&V("/BleedBox ["+D(_.bleedBox.bottomLeftX)+" "+D(_.bleedBox.bottomLeftY)+" "+D(_.bleedBox.topRightX)+" "+D(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&V("/TrimBox ["+D(_.trimBox.bottomLeftX)+" "+D(_.trimBox.bottomLeftY)+" "+D(_.trimBox.topRightX)+" "+D(_.trimBox.topRightY)+"]"),_.artBox!==null&&V("/ArtBox ["+D(_.artBox.bottomLeftX)+" "+D(_.artBox.bottomLeftY)+" "+D(_.artBox.topRightX)+" "+D(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&V("/UserUnit "+_.userUnit),ve.publish("putPage",{objId:vt,pageContext:Jt[q],pageNumber:q,page:lt}),V("/Contents "+St+" 0 R"),V(">>"),V("endobj");var Pt=lt.join(`
`);return I===F&&(Pt+=`
Q`),Dn(St,!0),Mr({data:Pt,filters:ur(),objectId:St}),V("endobj"),vt},Ur=y.__private__.putPages=function(){var _,q,lt=[];for(_=1;_<=te;_++)Jt[_].objId=En(),Jt[_].contentsObjId=En();for(_=1;_<=te;_++)lt.push(ga({number:_,data:Rt[_],objId:Jt[_].objId,contentsObjId:Jt[_].contentsObjId,mediaBox:Jt[_].mediaBox,cropBox:Jt[_].cropBox,bleedBox:Jt[_].bleedBox,trimBox:Jt[_].trimBox,artBox:Jt[_].artBox,userUnit:Jt[_].userUnit,rootDictionaryObjId:ui,resourceDictionaryObjId:wn}));Dn(ui,!0),V("<</Type /Pages");var vt="/Kids [";for(q=0;q<te;q++)vt+=lt[q]+" 0 R ";V(vt+"]"),V("/Count "+te),V(">>"),V("endobj"),ve.publish("postPutPages")},Vr=function(_){ve.publish("putFont",{font:_,out:V,newObject:Je,putStream:Mr}),_.isAlreadyPutted!==!0&&(_.objectNumber=Je(),V("<<"),V("/Type /Font"),V("/BaseFont /"+ch(_.postScriptName)),V("/Subtype /Type1"),typeof _.encoding=="string"&&V("/Encoding /"+_.encoding),V("/FirstChar 32"),V("/LastChar 255"),V(">>"),V("endobj"))},Xs=function(_){_.objectNumber=Je();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[D(_.x),D(_.y),D(_.x+_.width),D(_.y+_.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var lt=_.pages[1].join(`
`);Mr({data:lt,additionalKeyValues:q,objectId:_.objectNumber}),V("endobj")},Ts=function(_,q){q||(q=21);var lt=Je(),vt=(function(Zt,ye){var Ae,qe=[],He=1/(ye-1);for(Ae=0;Ae<1;Ae+=He)qe.push(Ae);if(qe.push(1),Zt[0].offset!=0){var un={offset:0,color:Zt[0].color};Zt.unshift(un)}if(Zt[Zt.length-1].offset!=1){var ei={offset:1,color:Zt[Zt.length-1].color};Zt.push(ei)}for(var yi="",zn=0,Ii=0;Ii<qe.length;Ii++){for(Ae=qe[Ii];Ae>Zt[zn+1].offset;)zn++;var Ai=Zt[zn].offset,tr=(Ae-Ai)/(Zt[zn+1].offset-Ai),Ta=Zt[zn].color,Ls=Zt[zn+1].color;yi+=it(Math.round((1-tr)*Ta[0]+tr*Ls[0]).toString(16))+it(Math.round((1-tr)*Ta[1]+tr*Ls[1]).toString(16))+it(Math.round((1-tr)*Ta[2]+tr*Ls[2]).toString(16))}return yi.trim()})(_.colors,q),St=[];St.push({key:"FunctionType",value:"0"}),St.push({key:"Domain",value:"[0.0 1.0]"}),St.push({key:"Size",value:"["+q+"]"}),St.push({key:"BitsPerSample",value:"8"}),St.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),St.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Mr({data:vt,additionalKeyValues:St,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:lt}),V("endobj"),_.objectNumber=Je(),V("<< /ShadingType "+_.type),V("/ColorSpace /DeviceRGB");var Pt="/Coords ["+D(parseFloat(_.coords[0]))+" "+D(parseFloat(_.coords[1]))+" ";_.type===2?Pt+=D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3])):Pt+=D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3]))+" "+D(parseFloat(_.coords[4]))+" "+D(parseFloat(_.coords[5])),V(Pt+="]"),_.matrix&&V("/Matrix ["+_.matrix.toString()+"]"),V("/Function "+lt+" 0 R"),V("/Extend [true true]"),V(">>"),V("endobj")},Cs=function(_,q){var lt=En(),vt=Je();q.push({resourcesOid:lt,objectOid:vt}),_.objectNumber=vt;var St=[];St.push({key:"Type",value:"/Pattern"}),St.push({key:"PatternType",value:"1"}),St.push({key:"PaintType",value:"1"}),St.push({key:"TilingType",value:"1"}),St.push({key:"BBox",value:"["+_.boundingBox.map(D).join(" ")+"]"}),St.push({key:"XStep",value:D(_.xStep)}),St.push({key:"YStep",value:D(_.yStep)}),St.push({key:"Resources",value:lt+" 0 R"}),_.matrix&&St.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Mr({data:_.stream,additionalKeyValues:St,objectId:_.objectNumber}),V("endobj")},Ro=function(_){for(var q in _.objectNumber=Je(),V("<<"),_)switch(q){case"opacity":V("/ca "+C(_[q]));break;case"stroke-opacity":V("/CA "+C(_[q]))}V(">>"),V("endobj")},Zs=function(_){Dn(_.resourcesOid,!0),V("<<"),V("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var q in V("/Font <<"),we)we.hasOwnProperty(q)&&(b===!1||b===!0&&w.hasOwnProperty(q))&&V("/"+q+" "+we[q].objectNumber+" 0 R");V(">>")})(),(function(){if(Object.keys(wt).length>0){for(var q in V("/Shading <<"),wt)wt.hasOwnProperty(q)&&wt[q]instanceof Qc&&wt[q].objectNumber>=0&&V("/"+q+" "+wt[q].objectNumber+" 0 R");ve.publish("putShadingPatternDict"),V(">>")}})(),(function(q){if(Object.keys(wt).length>0){for(var lt in V("/Pattern <<"),wt)wt.hasOwnProperty(lt)&&wt[lt]instanceof y.TilingPattern&&wt[lt].objectNumber>=0&&wt[lt].objectNumber<q&&V("/"+lt+" "+wt[lt].objectNumber+" 0 R");ve.publish("putTilingPatternDict"),V(">>")}})(_.objectOid),(function(){if(Object.keys(zt).length>0){var q;for(q in V("/ExtGState <<"),zt)zt.hasOwnProperty(q)&&zt[q].objectNumber>=0&&V("/"+q+" "+zt[q].objectNumber+" 0 R");ve.publish("putGStateDict"),V(">>")}})(),(function(){for(var q in V("/XObject <<"),Qe)Qe.hasOwnProperty(q)&&Qe[q].objectNumber>=0&&V("/"+q+" "+Qe[q].objectNumber+" 0 R");ve.publish("putXobjectDict"),V(">>")})(),V(">>"),V("endobj")},vi=function(_){Se[_.fontName]=Se[_.fontName]||{},Se[_.fontName][_.fontStyle]=_.id},vc=function(_,q,lt,vt,St){var Pt={id:"F"+(Object.keys(we).length+1).toString(10),postScriptName:_,fontName:q,fontStyle:lt,encoding:vt,isStandardFont:St||!1,metadata:{}};return ve.publish("addFont",{font:Pt,instance:this}),we[Pt.id]=Pt,vi(Pt),Pt.id},Hr=y.__private__.pdfEscape=y.pdfEscape=function(_,q){return(function(lt,vt){var St,Pt,Zt,ye,Ae,qe,He,un,ei;if(Zt=(vt=vt||{}).sourceEncoding||"Unicode",Ae=vt.outputEncoding,(vt.autoencode||Ae)&&we[ae].metadata&&we[ae].metadata[Zt]&&we[ae].metadata[Zt].encoding&&(ye=we[ae].metadata[Zt].encoding,!Ae&&we[ae].encoding&&(Ae=we[ae].encoding),!Ae&&ye.codePages&&(Ae=ye.codePages[0]),typeof Ae=="string"&&(Ae=ye[Ae]),Ae)){for(He=!1,qe=[],St=0,Pt=lt.length;St<Pt;St++)(un=Ae[lt.charCodeAt(St)])?qe.push(String.fromCharCode(un)):qe.push(lt[St]),qe[St].charCodeAt(0)>>8&&(He=!0);lt=qe.join("")}for(St=lt.length;He===void 0&&St!==0;)lt.charCodeAt(St-1)>>8&&(He=!0),St--;if(!He)return lt;for(qe=vt.noBOM?[]:[254,255],St=0,Pt=lt.length;St<Pt;St++){if((ei=(un=lt.charCodeAt(St))>>8)>>8)throw new Error("Character at position "+St+" of string '"+lt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(ei),qe.push(un-(ei<<8))}return String.fromCharCode.apply(void 0,qe)})(_,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Es=y.__private__.beginPage=function(_){Rt[++te]=[],Jt[te]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},bc(te),$t(Rt[H])},va=function(_,q){var lt,vt,St;switch(e=q||e,typeof _=="string"&&(lt=T(_.toLowerCase()),Array.isArray(lt)&&(vt=lt[0],St=lt[1])),Array.isArray(_)&&(vt=_[0]*Te,St=_[1]*Te),isNaN(vt)&&(vt=a[0],St=a[1]),(vt>14400||St>14400)&&($n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),vt=Math.min(14400,vt),St=Math.min(14400,St)),a=[vt,St],e.substr(0,1)){case"l":St>vt&&(a=[St,vt]);break;case"p":vt>St&&(a=[St,vt])}Es(a),je(Bo),V(Wr),Sl!==0&&V(Sl+" J"),Vi!==0&&V(Vi+" j"),ve.publish("addPage",{pageNumber:te})},yc=function(_){_>0&&_<=te&&(Rt.splice(_,1),Jt.splice(_,1),te--,H>te&&(H=te),this.setPage(H))},bc=function(_){_>0&&_<=te&&(H=_)},xc=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Rt.length-1},du=function(_,q,lt){var vt,St=void 0;return lt=lt||{},_=_!==void 0?_:we[ae].fontName,q=q!==void 0?q:we[ae].fontStyle,vt=_.toLowerCase(),Se[vt]!==void 0&&Se[vt][q]!==void 0?St=Se[vt][q]:Se[_]!==void 0&&Se[_][q]!==void 0?St=Se[_][q]:lt.disableWarning===!1&&$n.warn("Unable to look up font label for font '"+_+"', '"+q+"'. Refer to getFontList() for available fonts."),St||lt.noFallback||(St=Se.times[q])==null&&(St=Se.times.normal),St},Gr=y.__private__.putInfo=function(){var _=Je(),q=function(vt){return vt};for(var lt in m!==null&&(q=Ri.encryptor(_,0)),V("<<"),V("/Producer ("+Hr(q("jsPDF "+Ce.version))+")"),ge)ge.hasOwnProperty(lt)&&ge[lt]&&V("/"+lt.substr(0,1).toUpperCase()+lt.substr(1)+" ("+Hr(q(ge[lt]))+")");V("/CreationDate ("+Hr(q(ut))+")"),V(">>"),V("endobj")},ya=y.__private__.putCatalog=function(_){var q=(_=_||{}).rootDictionaryObjId||ui;switch(Je(),V("<<"),V("/Type /Catalog"),V("/Pages "+q+" 0 R"),ee||(ee="fullwidth"),ee){case"fullwidth":V("/OpenAction [3 0 R /FitH null]");break;case"fullheight":V("/OpenAction [3 0 R /FitV null]");break;case"fullpage":V("/OpenAction [3 0 R /Fit]");break;case"original":V("/OpenAction [3 0 R /XYZ null null 1]");break;default:var lt=""+ee;lt.substr(lt.length-1)==="%"&&(ee=parseInt(ee)/100),typeof ee=="number"&&V("/OpenAction [3 0 R /XYZ null null "+C(ee)+"]")}switch(Gt||(Gt="continuous"),Gt){case"continuous":V("/PageLayout /OneColumn");break;case"single":V("/PageLayout /SinglePage");break;case"two":case"twoleft":V("/PageLayout /TwoColumnLeft");break;case"tworight":V("/PageLayout /TwoColumnRight")}pe&&V("/PageMode /"+pe),ve.publish("putCatalog"),V(">>"),V("endobj")},ks=y.__private__.putTrailer=function(){V("trailer"),V("<<"),V("/Size "+(ot+1)),V("/Root "+ot+" 0 R"),V("/Info "+(ot-1)+" 0 R"),m!==null&&V("/Encrypt "+Ri.oid+" 0 R"),V("/ID [ <"+$+"> <"+$+"> ]"),V(">>")},bn=y.__private__.putHeader=function(){V("%PDF-"+A),V("%")},_c=y.__private__.putXRef=function(){var _="0000000000";V("xref"),V("0 "+(ot+1)),V("0000000000 65535 f ");for(var q=1;q<=ot;q++)typeof mt[q]=="function"?V((_+mt[q]()).slice(-10)+" 00000 n "):mt[q]!==void 0?V((_+mt[q]).slice(-10)+" 00000 n "):V("0000000000 00000 n ")},Ks=y.__private__.buildDocument=function(){var _;ot=0,gt=0,ft=[],mt=[],_t=[],ui=En(),wn=En(),$t(ft),ve.publish("buildDocument"),bn(),Ur(),(function(){ve.publish("putAdditionalObjects");for(var lt=0;lt<_t.length;lt++){var vt=_t[lt];Dn(vt.objId,!0),V(vt.content),V("endobj")}ve.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var lt in we)we.hasOwnProperty(lt)&&(b===!1||b===!0&&w.hasOwnProperty(lt))&&Vr(we[lt])})(),(function(){var lt;for(lt in zt)zt.hasOwnProperty(lt)&&Ro(zt[lt])})(),(function(){for(var lt in Qe)Qe.hasOwnProperty(lt)&&Xs(Qe[lt])})(),(function(lt){var vt;for(vt in wt)wt.hasOwnProperty(vt)&&(wt[vt]instanceof Qc?Ts(wt[vt]):wt[vt]instanceof mh&&Cs(wt[vt],lt))})(_),ve.publish("putResources"),_.forEach(Zs),Zs({resourcesOid:wn,objectOid:Number.MAX_SAFE_INTEGER}),ve.publish("postPutResources"),m!==null&&(Ri.oid=Je(),V("<<"),V("/Filter /Standard"),V("/V "+Ri.v),V("/R "+Ri.r),V("/U <"+Ri.toHexString(Ri.U)+">"),V("/O <"+Ri.toHexString(Ri.O)+">"),V("/P "+Ri.P),V(">>"),V("endobj")),Gr(),ya();var q=gt;return _c(),ks(),V("startxref"),V(""+q),V("%%EOF"),$t(Rt[H]),ft.join(`
`)},ao=y.__private__.getBlob=function(_){return new Blob([ue(_)],{type:"application/pdf"})},wc=y.output=y.__private__.output=(Ln=function(_,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",_){case void 0:return Ks();case"save":y.save(q.filename);break;case"arraybuffer":return ue(Ks());case"blob":return ao(Ks());case"bloburi":case"bloburl":if(Ue.URL!==void 0&&typeof Ue.URL.createObjectURL=="function")return Ue.URL&&Ue.URL.createObjectURL(ao(Ks()))||void 0;$n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var lt="",vt=Ks();try{lt=gb(vt)}catch{lt=gb(unescape(encodeURIComponent(vt)))}return"data:application/pdf;filename="+q.filename+";base64,"+lt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ue)==="[object Window]"){var St="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(St=q.pdfObjectUrl,Pt="");var Zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+St+'"'+Pt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",ye=Ue.open();return ye!==null&&ye.document.write(Zt),ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ue)==="[object Window]"){var Ae='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',qe=Ue.open();if(qe!==null){qe.document.write(Ae);var He=this;qe.document.documentElement.querySelector("#pdfViewer").onload=function(){qe.document.title=q.filename,qe.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(He.output("bloburl"))}}return qe}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ue)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',ei=Ue.open();if(ei!==null&&(ei.document.write(un),ei.document.title=q.filename),ei||typeof safari>"u")return ei;break;case"datauri":case"dataurl":return Ue.document.location.href=this.output("datauristring",q);default:return null}},Ln.foo=function(){try{return Ln.apply(this,arguments)}catch(lt){var _=lt.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var q="Error in function "+_.split(`
`)[0].split("<")[0]+": "+lt.message;if(!Ue.console)throw new Error(q);Ue.console.error(q,lt),Ue.alert&&alert(q)}},Ln.foo.bar=Ln,Ln.foo),xr=function(_){return Array.isArray(Nn)===!0&&Nn.indexOf(_)>-1};switch(r){case"pt":Te=1;break;case"mm":Te=72/25.4;break;case"cm":Te=72/2.54;break;case"in":Te=72;break;case"px":Te=xr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Te=12;break;case"ex":Te=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Te=r}var Ri=null;X(),ct();var Si=y.__private__.getPageInfo=y.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Jt[_].objId,pageNumber:_,pageContext:Jt[_]}},_l=y.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in Jt)if(Jt[q].objId===_)break;return Si(q)},pu=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Jt[H].objId,pageNumber:H,pageContext:Jt[H]}};y.addPage=function(){return va.apply(this,arguments),this},y.setPage=function(){return bc.apply(this,arguments),$t.call(this,Rt[H]),this},y.insertPage=function(_){return this.addPage(),this.movePage(H,_),this},y.movePage=function(_,q){var lt,vt;if(_>q){lt=Rt[_],vt=Jt[_];for(var St=_;St>q;St--)Rt[St]=Rt[St-1],Jt[St]=Jt[St-1];Rt[q]=lt,Jt[q]=vt,this.setPage(q)}else if(_<q){lt=Rt[_],vt=Jt[_];for(var Pt=_;Pt<q;Pt++)Rt[Pt]=Rt[Pt+1],Jt[Pt]=Jt[Pt+1];Rt[q]=lt,Jt[q]=vt,this.setPage(q)}return this},y.deletePage=function(){return yc.apply(this,arguments),this},y.__private__.text=y.text=function(_,q,lt,vt,St){var Pt,Zt,ye,Ae,qe,He,un,ei,yi,zn=(vt=vt||{}).scope||this;if(typeof _=="number"&&typeof q=="number"&&(typeof lt=="string"||Array.isArray(lt))){var Ii=lt;lt=q,q=_,_=Ii}if(arguments[3]instanceof he==0?(ye=arguments[4],Ae=arguments[5],qn(un=arguments[3])==="object"&&un!==null||(typeof ye=="string"&&(Ae=ye,ye=null),typeof un=="string"&&(Ae=un,un=null),typeof un=="number"&&(ye=un,un=null),vt={flags:un,angle:ye,align:Ae})):(R("The transform parameter of text() with a Matrix value"),yi=St),isNaN(q)||isNaN(lt)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return zn;var Ai,tr="",Ta=typeof vt.lineHeightFactor=="number"?vt.lineHeightFactor:ba,Ls=zn.internal.scaleFactor;function Ca(xn){return xn=xn.split("	").join(Array(vt.TabLen||9).join(" ")),Hr(xn,un)}function Mc(xn){for(var hn,Fn=xn.concat(),xi=[],aa=Fn.length;aa--;)typeof(hn=Fn.shift())=="string"?xi.push(hn):Array.isArray(xn)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?xi.push(hn[0]):xi.push([hn[0],hn[1],hn[2]]);return xi}function Nl(xn,hn){var Fn;if(typeof xn=="string")Fn=hn(xn)[0];else if(Array.isArray(xn)){for(var xi,aa,Is=xn.concat(),Ho=[],jc=Is.length;jc--;)typeof(xi=Is.shift())=="string"?Ho.push(hn(xi)[0]):Array.isArray(xi)&&typeof xi[0]=="string"&&(aa=hn(xi[0],xi[1],xi[2]),Ho.push([aa[0],aa[1],aa[2]]));Fn=Ho}return Fn}var Js=!1,Ds=!0;if(typeof _=="string")Js=!0;else if(Array.isArray(_)){var Uo=_.concat();Zt=[];for(var Ea,Hi=Uo.length;Hi--;)(typeof(Ea=Uo.shift())!="string"||Array.isArray(Ea)&&typeof Ea[0]!="string")&&(Ds=!1);Js=Ds}if(Js===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var lo=Lt/zn.internal.scaleFactor,co=lo*(Ta-1);switch(vt.baseline){case"bottom":lt-=co;break;case"top":lt+=lo-co;break;case"hanging":lt+=lo-2*co;break;case"middle":lt+=lo/2-co}if((He=vt.maxWidth||0)>0&&(typeof _=="string"?_=zn.splitTextToSize(_,He):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(xn,hn){return xn.concat(zn.splitTextToSize(hn,He))},[]))),Pt={text:_,x:q,y:lt,options:vt,mutex:{pdfEscape:Hr,activeFontKey:ae,fonts:we,activeFontSize:Lt}},ve.publish("preProcessText",Pt),_=Pt.text,ye=(vt=Pt.options).angle,yi instanceof he==0&&ye&&typeof ye=="number"){ye*=Math.PI/180,vt.rotationDirection===0&&(ye=-ye),I===F&&(ye=-ye);var Tl=Math.cos(ye),ta=Math.sin(ye);yi=new he(Tl,ta,-ta,Tl,0,0)}else ye&&ye instanceof he&&(yi=ye);I!==F||yi||(yi=jn),(qe=vt.charSpace||is)!==void 0&&(tr+=D(U(qe))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ei=vt.horizontalScale)!==void 0&&(tr+=D(100*ei)+` Tz
`),vt.lang;var wr=-1,ka=vt.renderingMode!==void 0?vt.renderingMode:vt.stroke,Cl=zn.internal.getCurrentPageInfo().pageContext;switch(ka){case 0:case!1:case"fill":wr=0;break;case 1:case!0:case"stroke":wr=1;break;case 2:case"fillThenStroke":wr=2;break;case 3:case"invisible":wr=3;break;case 4:case"fillAndAddForClipping":wr=4;break;case 5:case"strokeAndAddPathForClipping":wr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wr=6;break;case 7:case"addToPathForClipping":wr=7}var Lc=Cl.usedRenderingMode!==void 0?Cl.usedRenderingMode:-1;wr!==-1?tr+=wr+` Tr
`:Lc!==-1&&(tr+=`0 Tr
`),wr!==-1&&(Cl.usedRenderingMode=wr),Ae=vt.align||"left";var Xr,js=Lt*Ta,Oa=zn.internal.pageSize.getWidth(),Dc=we[ae];qe=vt.charSpace||is,He=vt.maxWidth||0,un=Object.assign({autoencode:!0,noBOM:!0},vt.flags);var Rs=[],uo=function(xn){return zn.getStringUnitWidth(xn,{font:Dc,charSpace:qe,fontSize:Lt,doKerning:!1})*Lt/Ls};if(Object.prototype.toString.call(_)==="[object Array]"){var Dr;Zt=Mc(_),Ae!=="left"&&(Xr=Zt.map(uo));var Sr,ea=0;if(Ae==="right"){q-=Xr[0],_=[],Hi=Zt.length;for(var na=0;na<Hi;na++)na===0?(Sr=Yr(q),Dr=Ji(lt)):(Sr=U(ea-Xr[na]),Dr=-js),_.push([Zt[na],Sr,Dr]),ea=Xr[na]}else if(Ae==="center"){q-=Xr[0]/2,_=[],Hi=Zt.length;for(var Ma=0;Ma<Hi;Ma++)Ma===0?(Sr=Yr(q),Dr=Ji(lt)):(Sr=U((ea-Xr[Ma])/2),Dr=-js),_.push([Zt[Ma],Sr,Dr]),ea=Xr[Ma]}else if(Ae==="left"){_=[],Hi=Zt.length;for(var El=0;El<Hi;El++)_.push(Zt[El])}else if(Ae==="justify"&&Dc.encoding==="Identity-H"){_=[],Hi=Zt.length,He=He!==0?He:Oa;for(var kl=0,bi=0;bi<Hi;bi++)if(Dr=bi===0?Ji(lt):-js,Sr=bi===0?Yr(q):kl,bi<Hi-1){var Su=U((He-Xr[bi])/(Zt[bi].split(" ").length-1)),ia=Zt[bi].split(" ");_.push([ia[0]+" ",Sr,Dr]),kl=0;for(var ra=1;ra<ia.length;ra++){var er=(uo(ia[ra-1]+" "+ia[ra])-uo(ia[ra]))*Ls+Su;ra==ia.length-1?_.push([ia[ra],er,0]):_.push([ia[ra]+" ",er,0]),kl-=er}}else _.push([Zt[bi],Sr,Dr]);_.push(["",kl,0])}else{if(Ae!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Hi=Zt.length,He=He!==0?He:Oa,bi=0;bi<Hi;bi++){Dr=bi===0?Ji(lt):-js,Sr=bi===0?Yr(q):0;var La=Zt[bi].split(" ").length-1,Ol=La>0?(He-Xr[bi])/La:0;bi<Hi-1?Rs.push(D(U(Ol))):Rs.push(0),_.push([Zt[bi],Sr,Dr])}}}(typeof vt.R2L=="boolean"?vt.R2L:le)===!0&&(_=Nl(_,function(xn,hn,Fn){return[xn.split("").reverse().join(""),hn,Fn]})),Pt={text:_,x:q,y:lt,options:vt,mutex:{pdfEscape:Hr,activeFontKey:ae,fonts:we,activeFontSize:Lt}},ve.publish("postProcessText",Pt),_=Pt.text,Ai=Pt.mutex.isHex||!1;var Ml=we[ae].encoding;Ml!=="WinAnsiEncoding"&&Ml!=="StandardEncoding"||(_=Nl(_,function(xn,hn,Fn){return[Ca(xn),hn,Fn]})),Zt=Mc(_),_=[];for(var Da,ja,sa,Vo=Array.isArray(Zt[0])?1:0,Zr="",Ra=function(xn,hn,Fn){var xi="";return Fn instanceof he?(Fn=typeof vt.angle=="number"?sn(Fn,new he(1,0,0,1,xn,hn)):sn(new he(1,0,0,1,xn,hn),Fn),I===F&&(Fn=sn(new he(1,0,0,-1,0,0),Fn)),xi=Fn.join(" ")+` Tm
`):xi=D(xn)+" "+D(hn)+` Td
`,xi},hr=0;hr<Zt.length;hr++){switch(Zr="",Vo){case 1:sa=(Ai?"<":"(")+Zt[hr][0]+(Ai?">":")"),Da=parseFloat(Zt[hr][1]),ja=parseFloat(Zt[hr][2]);break;case 0:sa=(Ai?"<":"(")+Zt[hr]+(Ai?">":")"),Da=Yr(q),ja=Ji(lt)}Rs!==void 0&&Rs[hr]!==void 0&&(Zr=Rs[hr]+` Tw
`),hr===0?_.push(Zr+Ra(Da,ja,yi)+sa):Vo===0?_.push(Zr+sa):Vo===1&&_.push(Zr+Ra(Da,ja,yi)+sa)}_=Vo===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var ss=`BT
/`;return ss+=ae+" "+Lt+` Tf
`,ss+=D(Lt*Ta)+` TL
`,ss+=$s+`
`,ss+=tr,ss+=_,V(ss+="ET"),w[ae]=!0,zn};var Sc=y.__private__.clip=y.clip=function(_){return V(_==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Sc("evenodd")},y.__private__.discardPath=y.discardPath=function(){return V("n"),this};var _r=y.__private__.isValidStyle=function(_){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(q=!0),q};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(_){return _r(_)&&(d=_),this};var Ac=y.__private__.getStyle=y.getStyle=function(_){var q=d;switch(_){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=_}return q},Nc=y.close=function(){return V("h"),this};y.stroke=function(){return V("S"),this},y.fill=function(_){return Os("f",_),this},y.fillEvenOdd=function(_){return Os("f*",_),this},y.fillStroke=function(_){return Os("B",_),this},y.fillStrokeEvenOdd=function(_){return Os("B*",_),this};var Os=function(_,q){qn(q)==="object"?gu(q,_):V(_)},Io=function(_){_===null||I===F&&_===void 0||(_=Ac(_),V(_))};function mu(_,q,lt,vt,St){var Pt=new mh(q||this.boundingBox,lt||this.xStep,vt||this.yStep,this.gState,St||this.matrix);Pt.stream=this.stream;var Zt=_+"$$"+this.cloneIndex+++"$$";return Cn(Zt,Pt),Pt}var gu=function(_,q){var lt=qt[_.key],vt=wt[lt];if(vt instanceof Qc)V("q"),V(Tc(q)),vt.gState&&y.setGState(vt.gState),V(_.matrix.toString()+" cm"),V("/"+lt+" sh"),V("Q");else if(vt instanceof mh){var St=new he(1,0,0,-1,0,Na());_.matrix&&(St=St.multiply(_.matrix||jn),lt=mu.call(vt,_.key,_.boundingBox,_.xStep,_.yStep,St).id),V("q"),V("/Pattern cs"),V("/"+lt+" scn"),vt.gState&&y.setGState(vt.gState),V(q),V("Q")}},Tc=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cc=y.moveTo=function(_,q){return V(D(U(_))+" "+D(J(q))+" m"),this},vu=y.lineTo=function(_,q){return V(D(U(_))+" "+D(J(q))+" l"),this},Lr=y.curveTo=function(_,q,lt,vt,St,Pt){return V([D(U(_)),D(J(q)),D(U(lt)),D(J(vt)),D(U(St)),D(J(Pt)),"c"].join(" ")),this};y.__private__.line=y.line=function(_,q,lt,vt,St){if(isNaN(_)||isNaN(q)||isNaN(lt)||isNaN(vt)||!_r(St))throw new Error("Invalid arguments passed to jsPDF.line");return I===P?this.lines([[lt-_,vt-q]],_,q,[1,1],St||"S"):this.lines([[lt-_,vt-q]],_,q,[1,1]).stroke()},y.__private__.lines=y.lines=function(_,q,lt,vt,St,Pt){var Zt,ye,Ae,qe,He,un,ei,yi,zn,Ii,Ai,tr;if(typeof _=="number"&&(tr=lt,lt=q,q=_,_=tr),vt=vt||[1,1],Pt=Pt||!1,isNaN(q)||isNaN(lt)||!Array.isArray(_)||!Array.isArray(vt)||!_r(St)||typeof Pt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cc(q,lt),Zt=vt[0],ye=vt[1],qe=_.length,Ii=q,Ai=lt,Ae=0;Ae<qe;Ae++)(He=_[Ae]).length===2?(Ii=He[0]*Zt+Ii,Ai=He[1]*ye+Ai,vu(Ii,Ai)):(un=He[0]*Zt+Ii,ei=He[1]*ye+Ai,yi=He[2]*Zt+Ii,zn=He[3]*ye+Ai,Ii=He[4]*Zt+Ii,Ai=He[5]*ye+Ai,Lr(un,ei,yi,zn,Ii,Ai));return Pt&&Nc(),Io(St),this},y.path=function(_){for(var q=0;q<_.length;q++){var lt=_[q],vt=lt.c;switch(lt.op){case"m":Cc(vt[0],vt[1]);break;case"l":vu(vt[0],vt[1]);break;case"c":Lr.apply(this,vt);break;case"h":Nc()}}return this},y.__private__.rect=y.rect=function(_,q,lt,vt,St){if(isNaN(_)||isNaN(q)||isNaN(lt)||isNaN(vt)||!_r(St))throw new Error("Invalid arguments passed to jsPDF.rect");return I===P&&(vt=-vt),V([D(U(_)),D(J(q)),D(U(lt)),D(U(vt)),"re"].join(" ")),Io(St),this},y.__private__.triangle=y.triangle=function(_,q,lt,vt,St,Pt,Zt){if(isNaN(_)||isNaN(q)||isNaN(lt)||isNaN(vt)||isNaN(St)||isNaN(Pt)||!_r(Zt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[lt-_,vt-q],[St-lt,Pt-vt],[_-St,q-Pt]],_,q,[1,1],Zt,!0),this},y.__private__.roundedRect=y.roundedRect=function(_,q,lt,vt,St,Pt,Zt){if(isNaN(_)||isNaN(q)||isNaN(lt)||isNaN(vt)||isNaN(St)||isNaN(Pt)||!_r(Zt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ye=4/3*(Math.SQRT2-1);return St=Math.min(St,.5*lt),Pt=Math.min(Pt,.5*vt),this.lines([[lt-2*St,0],[St*ye,0,St,Pt-Pt*ye,St,Pt],[0,vt-2*Pt],[0,Pt*ye,-St*ye,Pt,-St,Pt],[2*St-lt,0],[-St*ye,0,-St,-Pt*ye,-St,-Pt],[0,2*Pt-vt],[0,-Pt*ye,St*ye,-Pt,St,-Pt]],_+St,q,[1,1],Zt,!0),this},y.__private__.ellipse=y.ellipse=function(_,q,lt,vt,St){if(isNaN(_)||isNaN(q)||isNaN(lt)||isNaN(vt)||!_r(St))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pt=4/3*(Math.SQRT2-1)*lt,Zt=4/3*(Math.SQRT2-1)*vt;return Cc(_+lt,q),Lr(_+lt,q-Zt,_+Pt,q-vt,_,q-vt),Lr(_-Pt,q-vt,_-lt,q-Zt,_-lt,q),Lr(_-lt,q+Zt,_-Pt,q+vt,_,q+vt),Lr(_+Pt,q+vt,_+lt,q+Zt,_+lt,q),Io(St),this},y.__private__.circle=y.circle=function(_,q,lt,vt){if(isNaN(_)||isNaN(q)||isNaN(lt)||!_r(vt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,q,lt,lt,vt)},y.setFont=function(_,q,lt){return lt&&(q=Y(q,lt)),ae=du(_,q,{disableWarning:!1}),this};var Ms=y.__private__.getFont=y.getFont=function(){return we[du.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var _,q,lt={};for(_ in Se)if(Se.hasOwnProperty(_))for(q in lt[_]=[],Se[_])Se[_].hasOwnProperty(q)&&lt[_].push(q);return lt},y.addFont=function(_,q,lt,vt,St){var Pt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pt.indexOf(arguments[3])!==-1?St=arguments[3]:arguments[3]&&Pt.indexOf(arguments[3])==-1&&(lt=Y(lt,vt)),vc.call(this,_,q,lt,St=St||"Identity-H")};var ba,Bo=i.lineWidth||.200025,oo=y.__private__.getLineWidth=y.getLineWidth=function(){return Bo},je=y.__private__.setLineWidth=y.setLineWidth=function(_){return Bo=_,V(D(U(_))+" w"),this};y.__private__.setLineDash=Ce.API.setLineDash=Ce.API.setLineDashPattern=function(_,q){if(_=_||[],q=q||0,isNaN(q)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(lt){return D(U(lt))}).join(" "),q=D(U(q)),V("["+_+"] "+q+" d"),this};var yu=y.__private__.getLineHeight=y.getLineHeight=function(){return Lt*ba};y.__private__.getLineHeight=y.getLineHeight=function(){return Lt*ba};var Ec=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(ba=_),this},bu=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return ba};Ec(i.lineHeight);var Yr=y.__private__.getHorizontalCoordinate=function(_){return U(_)},Ji=y.__private__.getVerticalCoordinate=function(_){return I===F?_:Jt[H].mediaBox.topRightY-Jt[H].mediaBox.bottomLeftY-U(_)},kc=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(_){return D(Yr(_))},qo=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(_){return D(Ji(_))},Wr=i.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Wn(Wr)},y.__private__.setStrokeColor=y.setDrawColor=function(_,q,lt,vt){return Wr=ji({ch1:_,ch2:q,ch3:lt,ch4:vt,pdfColorType:"draw",precision:2}),V(Wr),this};var zo=i.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Wn(zo)},y.__private__.setFillColor=y.setFillColor=function(_,q,lt,vt){return zo=ji({ch1:_,ch2:q,ch3:lt,ch4:vt,pdfColorType:"fill",precision:2}),V(zo),this};var $s=i.textColor||"0 g",xu=y.__private__.getTextColor=y.getTextColor=function(){return Wn($s)};y.__private__.setTextColor=y.setTextColor=function(_,q,lt,vt){return $s=ji({ch1:_,ch2:q,ch3:lt,ch4:vt,pdfColorType:"text",precision:3}),this};var is=i.charSpace,wl=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(is||0)};y.__private__.setCharSpace=y.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return is=_,this};var Sl=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(_){var q=y.CapJoinStyles[_];if(q===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sl=q,V(q+" J"),this};var Vi=0;y.__private__.setLineJoin=y.setLineJoin=function(_){var q=y.CapJoinStyles[_];if(q===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vi=q,V(q+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return V(D(U(_))+" M"),this},y.GState=i1,y.setGState=function(_){(_=typeof _=="string"?zt[re[_]]:Qs(null,_)).equals(Ee)||(V("/"+_.id+" gs"),Ee=_)};var Qs=function(_,q){if(!_||!re[_]){var lt=!1;for(var vt in zt)if(zt.hasOwnProperty(vt)&&zt[vt].equals(q)){lt=!0;break}if(lt)q=zt[vt];else{var St="GS"+(Object.keys(zt).length+1).toString(10);zt[St]=q,q.id=St}return _&&(re[_]=q.id),ve.publish("addGState",q),q}};y.addGState=function(_,q){return Qs(_,q),this},y.saveGraphicsState=function(){return V("q"),Fe.push({key:ae,size:Lt,color:$s}),this},y.restoreGraphicsState=function(){V("Q");var _=Fe.pop();return ae=_.key,Lt=_.size,$s=_.color,Ee=null,this},y.setCurrentTransformationMatrix=function(_){return V(_.toString()+" cm"),this},y.comment=function(_){return V("#"+_),this};var rs=function(_,q){var lt=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return lt},set:function(Pt){isNaN(Pt)||(lt=parseFloat(Pt))}});var vt=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return vt},set:function(Pt){isNaN(Pt)||(vt=parseFloat(Pt))}});var St="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return St},set:function(Pt){St=Pt.toString()}}),this},xa=function(_,q,lt,vt){rs.call(this,_,q),this.type="rect";var St=lt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return St},set:function(Zt){isNaN(Zt)||(St=parseFloat(Zt))}});var Pt=vt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pt},set:function(Zt){isNaN(Zt)||(Pt=parseFloat(Zt))}}),this},Al=function(){this.page=te,this.currentPage=H,this.pages=Rt.slice(0),this.pagesContext=Jt.slice(0),this.x=oe,this.y=Ze,this.matrix=De,this.width=wa(H),this.height=Oc(H),this.outputDestination=Ht,this.id="",this.objectNumber=-1};Al.prototype.restore=function(){te=this.page,H=this.currentPage,Jt=this.pagesContext,Rt=this.pages,oe=this.x,Ze=this.y,De=this.matrix,Po(H,this.width),Sa(H,this.height),Ht=this.outputDestination};var Fo=function(_,q,lt,vt,St){Tn.push(new Al),te=H=0,Rt=[],oe=_,Ze=q,De=St,Es([lt,vt])};for(var _a in y.beginFormObject=function(_,q,lt,vt,St){return Fo(_,q,lt,vt,St),this},y.endFormObject=function(_){return(function(q){if(cn[q])Tn.pop().restore();else{var lt=new Al,vt="Xo"+(Object.keys(Qe).length+1).toString(10);lt.id=vt,cn[q]=vt,Qe[vt]=lt,ve.publish("addFormObject",lt),Tn.pop().restore()}})(_),this},y.doFormObject=function(_,q){var lt=Qe[cn[_]];return V("q"),V(q.toString()+" cm"),V("/"+lt.id+" Do"),V("Q"),this},y.getFormObject=function(_){var q=Qe[cn[_]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},y.save=function(_,q){return _=_||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Kc(ao(Ks()),_),typeof Kc.unload=="function"&&Ue.setTimeout&&setTimeout(Kc.unload,911),this):new Promise(function(lt,vt){try{var St=Kc(ao(Ks()),_);typeof Kc.unload=="function"&&Ue.setTimeout&&setTimeout(Kc.unload,911),lt(St)}catch(Pt){vt(Pt.message)}})},Ce.API)Ce.API.hasOwnProperty(_a)&&(_a==="events"&&Ce.API.events.length?(function(_,q){var lt,vt,St;for(St=q.length-1;St!==-1;St--)lt=q[St][0],vt=q[St][1],_.subscribe.apply(_,[lt].concat(typeof vt=="function"?[vt]:vt))})(ve,Ce.API.events):y[_a]=Ce.API[_a]);function wa(_){return Jt[_].mediaBox.topRightX-Jt[_].mediaBox.bottomLeftX}function Po(_,q){Jt[_].mediaBox.topRightX=q+Jt[_].mediaBox.bottomLeftX}function Oc(_){return Jt[_].mediaBox.topRightY-Jt[_].mediaBox.bottomLeftY}function Sa(_,q){Jt[_].mediaBox.topRightY=q+Jt[_].mediaBox.bottomLeftY}var Aa=y.getPageWidth=function(_){return wa(_=_||H)/Te},_u=y.setPageWidth=function(_,q){Po(_,q*Te)},Na=y.getPageHeight=function(_){return Oc(_=_||H)/Te},wu=y.setPageHeight=function(_,q){Sa(_,q*Te)};return y.internal={pdfEscape:Hr,getStyle:Ac,getFont:Ms,getFontSize:ie,getCharSpace:wl,getTextColor:xu,getLineHeight:yu,getLineHeightFactor:bu,getLineWidth:oo,write:Dt,getHorizontalCoordinate:Yr,getVerticalCoordinate:Ji,getCoordinateString:kc,getVerticalCoordinateString:qo,collections:{},newObject:Je,newAdditionalObject:Qi,newObjectDeferred:En,newObjectDeferredBegin:Dn,getFilters:ur,putStream:Mr,events:ve,scaleFactor:Te,pageSize:{getWidth:function(){return Aa(H)},setWidth:function(_){_u(H,_)},getHeight:function(){return Na(H)},setHeight:function(_){wu(H,_)}},encryptionOptions:m,encryption:Ri,getEncryptor:function(_){return m!==null?Ri.encryptor(_,0):function(q){return q}},output:wc,getNumberOfPages:xc,get pages(){return Rt},out:V,f2:C,f3:j,getPageInfo:Si,getPageInfoByObjId:_l,getCurrentPageInfo:pu,getPDFVersion:N,Point:rs,Rectangle:xa,Matrix:he,hasHotfix:xr},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Aa(H)},set:function(_){_u(H,_)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Na(H)},set:function(_){wu(H,_)},enumerable:!0,configurable:!0}),(function(_){for(var q=0,lt=ne.length;q<lt;q++){var vt=vc.call(this,_[q][0],_[q][1],_[q][2],ne[q][3],!0);b===!1&&(w[vt]=!0);var St=_[q][0].split("-");vi({id:vt,fontName:St[0],fontStyle:St[1]||""})}ve.publish("addFonts",{fonts:we,dictionary:Se})}).call(y,ne),ae="F1",va(a,e),ve.publish("initialized"),y}lh.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},lh.prototype.toHexString=function(i){return i.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},lh.prototype.hexToBytes=function(i){for(var t=[],e=0;e<i.length;e+=2)t.push(String.fromCharCode(parseInt(i.substr(e,2),16)));return t.join("")},lh.prototype.processOwnerPassword=function(i,t){return $0(K0(t).substr(0,5),i)},lh.prototype.encryptor=function(i,t){var e=K0(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return $0(e,r)}},i1.prototype.equals=function(i){var t,e="id,objectNumber,equals";if(!i||qn(i)!==qn(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!i.hasOwnProperty(t)||this[t]!==i[t])return!1;r++}for(t in i)i.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},Ce.API={events:[]},Ce.version="3.0.4";var Mi=Ce.API,r2=1,fu=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rh=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},We=function(i){return i.toFixed(2)},ic=function(i){return i.toFixed(5)};Mi.__acroform__={};var Ns=function(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i},xb=function(i){return i*r2},Co=function(i){var t=new _w,e=_e.internal.getHeight(i)||0,r=_e.internal.getWidth(i)||0;return t.BBox=[0,0,Number(We(r)),Number(We(e))],t},IO=Mi.__acroform__.setBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<t},BO=Mi.__acroform__.clearBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<t)},qO=Mi.__acroform__.getBit=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<t?1:0},zi=Mi.__acroform__.getBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qO(i,t-1)},Fi=Mi.__acroform__.setBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return IO(i,t-1)},Pi=Mi.__acroform__.clearBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return BO(i,t-1)},zO=Mi.__acroform__.calculateCoordinates=function(i,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=i[0],o=i[1],h=i[2],c=i[3],f={};return f.lowerLeft_X=e(a)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=e(a+h)||0,f.upperRight_Y=r(o)||0,[Number(We(f.lowerLeft_X)),Number(We(f.lowerLeft_Y)),Number(We(f.upperRight_X)),Number(We(f.upperRight_Y))]},FO=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var t=[],e=i._V||i.DV,r=Q0(i,e),a=i.scope.internal.getFont(i.fontName,i.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(i.scope.__private__.encodeColorString(i.color)),t.push("/"+a+" "+We(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Co(i);return o.scope=i.scope,o.stream=t.join(`
`),o}},Q0=function(i,t){var e=i.fontSize===0?i.maxFontSize:i.fontSize,r={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=i.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var o=e,h=_e.internal.getHeight(i)||0;h=h<0?-h:h;var c=_e.internal.getWidth(i)||0;c=c<0?-c:c;var f=function(C,j,U){if(C+1<a.length){var J=j+" "+a[C+1][0];return yp(J,i,U).width<=c-4}return!1};o++;t:for(;o>0;){t="",o--;var d,m,b=yp("3",i,o).height,w=i.multiline?h-o:(h-b)/2,y=w+=2,A=0,N=0,k=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+yp(t,i,o=12).width+", FieldWidth:"+c+`
`;break}for(var T="",P=0,F=0;F<a.length;F++)if(a.hasOwnProperty(F)){var I=!1;if(a[F].length!==1&&k!==a[F].length-1){if((b+2)*(P+2)+2>h)continue t;T+=a[F][k],I=!0,N=F,F--}else{T=(T+=a[F][k]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var B=parseInt(F),Q=f(B,T,o),Y=F>=a.length-1;if(Q&&!Y){T+=" ",k=0;continue}if(Q||Y){if(Y)N=B;else if(i.multiline&&(b+2)*(P+2)+2>h)continue t}else{if(!i.multiline||(b+2)*(P+2)+2>h)continue t;N=B}}for(var D="",R=A;R<=N;R++){var Z=a[R];if(i.multiline){if(R===N){D+=Z[k]+" ",k=(k+1)%Z.length;continue}if(R===A){D+=Z[Z.length-1]+" ";continue}}D+=Z[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,m=yp(D,i,o).width,i.textAlign){case"right":d=c-m-2;break;case"center":d=(c-m)/2;break;default:d=2}t+=We(d)+" "+We(y)+` Td
`,t+="("+fu(D)+`) Tj
`,t+=-We(d)+` 0 Td
`,y=-(o+2),m=0,A=I?N:N+1,P++,T=""}break}return r.text=t,r.fontSize=o,r},yp=function(i,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(i,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:a}},PO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},UO=function(i,t){var e={type:"reference",object:i};t.internal.getPageInfo(i.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(i.page).pageContext.annotations.push(e)},VO=function(i,t){if(t.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(ro.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(PO)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");r2=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new ww,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&UO(o,e)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(e){(function(r,a){var o=!r;for(var h in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(h)){var c=r[h],f=[],d=c.Rect;if(c.Rect&&(c.Rect=zO(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=_e.createDefaultAppearanceStream(c),qn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=FO(c);f.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var b="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var y=c.appearanceStreamContent[w];if(b+="/"+w+" ",b+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var h in y)if(y.hasOwnProperty(h)){var A=y[h];typeof A=="function"&&(A=A.call(a,c)),b+="/"+h+" "+A+" ",a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A)}}else typeof(A=y)=="function"&&(A=A.call(a,c)),b+="/"+h+" "+A,a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A);b+=">>"}f.push({key:"AP",value:`<<
`+b+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(N,k){for(var T in N)if(N.hasOwnProperty(T)){var P=T,F=N[T];k.internal.newObjectDeferredBegin(F.objId,!0),qn(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete N[P]}})(a.internal.acroformPlugin.xForms,a)})(e,i)}),i.internal.acroformPlugin.isInitialized=!0}},xw=Mi.__acroform__.arrayToPdfArray=function(i,t,e){var r=function(h){return h};if(Array.isArray(i)){for(var a="[",o=0;o<i.length;o++)switch(o!==0&&(a+=" "),qn(i[o])){case"boolean":case"number":case"object":a+=i[o].toString();break;case"string":i[o].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),a+="("+fu(r(i[o].toString()))+")"):a+=i[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},w0=function(i,t,e){var r=function(a){return a};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(i=i||"").toString(),"("+fu(r(i))+")"},Eo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Eo.prototype.toString=function(){return this.objId+" 0 R"},Eo.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},Eo.prototype.getKeyValueListForStream=function(){var i=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],a=this[r];a&&(Array.isArray(a)?i.push({key:r,value:xw(a,this.objId,this.scope)}):a instanceof Eo?(a.scope=this.scope,i.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&i.push({key:r,value:a}))}return i};var _w=function(){Eo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){i=e.trim()},get:function(){return i||null}})};Ns(_w,Eo);var ww=function(){Eo.call(this);var i,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+fu(e(i))+")"}},set:function(e){i=e}})};Ns(ww,Eo);var ro=function i(){Eo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');t=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!zi(t,3)},set:function(T){T?this.F=Fi(t,3):this.F=Pi(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');e=T}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(T){r=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(T){r[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(T){r[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(T){r[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(T){r[3]=T}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof r1)return;o="FieldObject"+i.FieldNum++}var T=function(P){return P};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+fu(T(o))+")"},set:function(T){o=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(T){o=T}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(T){h=T}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(T){c=T}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(T){f=T}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/r2:d},set:function(T){d=T}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(T){m=T}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof r1||this instanceof iu))return w0(b,this.objId,this.scope)},set:function(T){T=T.toString(),b=T}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof yr==0?w0(w,this.objId,this.scope):w},set:function(T){T=T.toString(),w=this instanceof yr==0?T.substr(0,1)==="("?rh(T.substr(1,T.length-2)):rh(T):T}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof yr==1?rh(w.substr(1,w.length-1)):w},set:function(T){T=T.toString(),w=this instanceof yr==1?"/"+T:T}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof yr==0?w0(y,this.objId,this.scope):y},set:function(T){T=T.toString(),y=this instanceof yr==0?T.substr(0,1)==="("?rh(T.substr(1,T.length-2)):rh(T):T}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof yr==1?rh(y.substr(1,y.length-1)):y},set:function(T){T=T.toString(),y=this instanceof yr==1?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(T){T=!!T,N=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(T){A=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,1)},set:function(T){T?this.Ff=Fi(this.Ff,1):this.Ff=Pi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,2)},set:function(T){T?this.Ff=Fi(this.Ff,2):this.Ff=Pi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,3)},set:function(T){T?this.Ff=Fi(this.Ff,3):this.Ff=Pi(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');k=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(k){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};Ns(ro,Eo);var xh=function(){ro.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return xw(t,this.objId,this.scope)},set:function(e){var r,a;a=[],typeof(r=e)=="string"&&(a=(function(o,h,c){c||(c=1);for(var f,d=[];f=h.exec(o);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,18)},set:function(e){e?this.Ff=Fi(this.Ff,18):this.Ff=Pi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Fi(this.Ff,19):this.Ff=Pi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,20)},set:function(e){e?(this.Ff=Fi(this.Ff,20),t.sort()):this.Ff=Pi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,22)},set:function(e){e?this.Ff=Fi(this.Ff,22):this.Ff=Pi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,23)},set:function(e){e?this.Ff=Fi(this.Ff,23):this.Ff=Pi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,27)},set:function(e){e?this.Ff=Fi(this.Ff,27):this.Ff=Pi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ns(xh,ro);var _h=function(){xh.call(this),this.fontName="helvetica",this.combo=!1};Ns(_h,xh);var wh=function(){_h.call(this),this.combo=!0};Ns(wh,_h);var Ep=function(){wh.call(this),this.edit=!0};Ns(Ep,wh);var yr=function(){ro.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,15)},set:function(e){e?this.Ff=Fi(this.Ff,15):this.Ff=Pi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,16)},set:function(e){e?this.Ff=Fi(this.Ff,16):this.Ff=Pi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,17)},set:function(e){e?this.Ff=Fi(this.Ff,17):this.Ff=Pi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,26)},set:function(e){e?this.Ff=Fi(this.Ff,26):this.Ff=Pi(this.Ff,26)}});var i,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,a=[];for(r in a.push("<<"),t)a.push("/"+r+" ("+fu(e(t[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(e){qn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(e){i="/"+e}})};Ns(yr,ro);var kp=function(){yr.call(this),this.pushButton=!0};Ns(kp,yr);var Sh=function(){yr.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t!==void 0?t:[]}})};Ns(Sh,yr);var r1=function(){var i,t;ro.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(a){i=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,h=[];for(o in h.push("<<"),r)h.push("/"+o+" ("+fu(a(r[o]))+")");return h.push(">>"),h.join(`
`)},set:function(a){qn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_e.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ns(r1,ro),Sh.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=i.createAppearanceStream(e.optionName),e.caption=i.getCA()}},Sh.prototype.createOption=function(i){var t=new r1;return t.Parent=this,t.optionName=i,this.Kids.push(t),HO.call(this.scope,t),t};var Op=function(){yr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_e.CheckBox.createAppearanceStream()};Ns(Op,yr);var iu=function(){ro.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,13)},set:function(t){t?this.Ff=Fi(this.Ff,13):this.Ff=Pi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,21)},set:function(t){t?this.Ff=Fi(this.Ff,21):this.Ff=Pi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,23)},set:function(t){t?this.Ff=Fi(this.Ff,23):this.Ff=Pi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,24)},set:function(t){t?this.Ff=Fi(this.Ff,24):this.Ff=Pi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,25)},set:function(t){t?this.Ff=Fi(this.Ff,25):this.Ff=Pi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,26)},set:function(t){t?this.Ff=Fi(this.Ff,26):this.Ff=Pi(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){Number.isInteger(t)&&(i=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ns(iu,ro);var Mp=function(){iu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!zi(this.Ff,14)},set:function(i){i?this.Ff=Fi(this.Ff,14):this.Ff=Pi(this.Ff,14)}}),this.password=!0};Ns(Mp,iu);var _e={CheckBox:{createAppearanceStream:function(){return{N:{On:_e.CheckBox.YesNormal},D:{On:_e.CheckBox.YesPushDown,Off:_e.CheckBox.OffPushDown}}},YesPushDown:function(i){var t=Co(i);t.scope=i.scope;var e=[],r=i.scope.internal.getFont(i.fontName,i.fontStyle).id,a=i.scope.__private__.encodeColorString(i.color),o=Q0(i,i.caption);return e.push("0.749023 g"),e.push("0 0 "+We(_e.internal.getWidth(i))+" "+We(_e.internal.getHeight(i))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+We(o.fontSize)+" Tf "+a),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(i){var t=Co(i);t.scope=i.scope;var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),a=[],o=_e.internal.getHeight(i),h=_e.internal.getWidth(i),c=Q0(i,i.caption);return a.push("1 g"),a.push("0 0 "+We(h)+" "+We(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+We(h-1)+" "+We(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+e+" "+We(c.fontSize)+" Tf "+r),a.push(c.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(i){var t=Co(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+We(_e.internal.getWidth(i))+" "+We(_e.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(i){var t={D:{Off:_e.RadioButton.Circle.OffPushDown},N:{}};return t.N[i]=_e.RadioButton.Circle.YesNormal,t.D[i]=_e.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(i){var t=Co(i);t.scope=i.scope;var e=[],r=_e.internal.getWidth(i)<=_e.internal.getHeight(i)?_e.internal.getWidth(i)/4:_e.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=_e.internal.Bezier_C,o=Number((r*a).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+ic(_e.internal.getWidth(i)/2)+" "+ic(_e.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Co(i);t.scope=i.scope;var e=[],r=_e.internal.getWidth(i)<=_e.internal.getHeight(i)?_e.internal.getWidth(i)/4:_e.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*_e.internal.Bezier_C).toFixed(5)),h=Number((r*_e.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+ic(_e.internal.getWidth(i)/2)+" "+ic(_e.internal.getHeight(i)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+ic(_e.internal.getWidth(i)/2)+" "+ic(_e.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+h+" "+h+" "+r+" 0 "+r+" c"),e.push("-"+h+" "+r+" -"+r+" "+h+" -"+r+" 0 c"),e.push("-"+r+" -"+h+" -"+h+" -"+r+" 0 -"+r+" c"),e.push(h+" -"+r+" "+r+" -"+h+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(i){var t=Co(i);t.scope=i.scope;var e=[],r=_e.internal.getWidth(i)<=_e.internal.getHeight(i)?_e.internal.getWidth(i)/4:_e.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*_e.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+ic(_e.internal.getWidth(i)/2)+" "+ic(_e.internal.getHeight(i)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),e.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),e.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),e.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(i){var t={D:{Off:_e.RadioButton.Cross.OffPushDown},N:{}};return t.N[i]=_e.RadioButton.Cross.YesNormal,t.D[i]=_e.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(i){var t=Co(i);t.scope=i.scope;var e=[],r=_e.internal.calculateCross(i);return e.push("q"),e.push("1 1 "+We(_e.internal.getWidth(i)-2)+" "+We(_e.internal.getHeight(i)-2)+" re"),e.push("W"),e.push("n"),e.push(We(r.x1.x)+" "+We(r.x1.y)+" m"),e.push(We(r.x2.x)+" "+We(r.x2.y)+" l"),e.push(We(r.x4.x)+" "+We(r.x4.y)+" m"),e.push(We(r.x3.x)+" "+We(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Co(i);t.scope=i.scope;var e=_e.internal.calculateCross(i),r=[];return r.push("0.749023 g"),r.push("0 0 "+We(_e.internal.getWidth(i))+" "+We(_e.internal.getHeight(i))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+We(_e.internal.getWidth(i)-2)+" "+We(_e.internal.getHeight(i)-2)+" re"),r.push("W"),r.push("n"),r.push(We(e.x1.x)+" "+We(e.x1.y)+" m"),r.push(We(e.x2.x)+" "+We(e.x2.y)+" l"),r.push(We(e.x4.x)+" "+We(e.x4.y)+" m"),r.push(We(e.x3.x)+" "+We(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(i){var t=Co(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+We(_e.internal.getWidth(i))+" "+We(_e.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(i){var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,e=i.scope.__private__.encodeColorString(i.color);return"/"+t+" "+i.fontSize+" Tf "+e}};_e.internal={Bezier_C:.551915024494,calculateCross:function(i){var t=_e.internal.getWidth(i),e=_e.internal.getHeight(i),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},_e.internal.getWidth=function(i){var t=0;return qn(i)==="object"&&(t=xb(i.Rect[2])),t},_e.internal.getHeight=function(i){var t=0;return qn(i)==="object"&&(t=xb(i.Rect[3])),t};var HO=Mi.addField=function(i){if(VO(this,i),!(i instanceof ro))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=i).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};Mi.AcroFormChoiceField=xh,Mi.AcroFormListBox=_h,Mi.AcroFormComboBox=wh,Mi.AcroFormEditBox=Ep,Mi.AcroFormButton=yr,Mi.AcroFormPushButton=kp,Mi.AcroFormRadioButton=Sh,Mi.AcroFormCheckBox=Op,Mi.AcroFormTextField=iu,Mi.AcroFormPasswordField=Mp,Mi.AcroFormAppearance=_e,Mi.AcroForm={ChoiceField:xh,ListBox:_h,ComboBox:wh,EditBox:Ep,Button:yr,PushButton:kp,RadioButton:Sh,CheckBox:Op,TextField:iu,PasswordField:Mp,Appearance:_e},Ce.AcroForm={ChoiceField:xh,ListBox:_h,ComboBox:wh,EditBox:Ep,Button:yr,PushButton:kp,RadioButton:Sh,CheckBox:Op,TextField:iu,PasswordField:Mp,Appearance:_e};Ce.AcroForm;function Sw(i){return i.reduce(function(t,e,r){return t[e]=r,t},{})}(function(i){var t="addImage_";i.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=i.__addimage__.getImageFileTypeByImageData=function(C,j){var U,J,ut,$,rt,ct=e;if((j=j||e)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(Q(C))for(rt in r)for(ut=r[rt],U=0;U<ut.length;U+=1){for($=!0,J=0;J<ut[U].length;J+=1)if(ut[U][J]!==void 0&&ut[U][J]!==C[J]){$=!1;break}if($===!0){ct=rt;break}}else for(rt in r)for(ut=r[rt],U=0;U<ut.length;U+=1){for($=!0,J=0;J<ut[U].length;J+=1)if(ut[U][J]!==void 0&&ut[U][J]!==C.charCodeAt(J)){$=!1;break}if($===!0){ct=rt;break}}return ct===e&&j!==e&&(ct=j),ct},o=function C(j){for(var U=this.internal.write,J=this.internal.putStream,ut=(0,this.internal.getFilters)();ut.indexOf("FlateEncode")!==-1;)ut.splice(ut.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:j.width}),$.push({key:"Height",value:j.height}),j.colorSpace===T.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===T.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)&&j.transparency.length>0){for(var rt="",ct=0,pt=j.transparency.length;ct<pt;ct++)rt+=j.transparency[ct]+" "+j.transparency[ct]+" ";$.push({key:"Mask",value:"["+rt+"]"})}j.sMask!==void 0&&$.push({key:"SMask",value:j.objectId+1+" 0 R"});var Nt=j.filter!==void 0?["/"+j.filter]:void 0;if(J({data:j.data,additionalKeyValues:$,alreadyAppliedFilters:Nt,objectId:j.objectId}),U("endobj"),"sMask"in j&&j.sMask!==void 0){var X,E=(X=j.sMaskBitsPerComponent)!==null&&X!==void 0?X:j.bitsPerComponent,H={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:E,data:j.sMask};"filter"in j&&(H.decodeParameters="/Predictor ".concat(j.predictor," /Colors 1 /BitsPerComponent ").concat(E," /Columns ").concat(j.width),H.filter=j.filter),C.call(this,H)}if(j.colorSpace===T.INDEXED){var tt=this.internal.newObject();J({data:D(new Uint8Array(j.palette)),objectId:tt}),U("endobj")}},h=function(){var C=this.internal.collections[t+"images"];for(var j in C)o.call(this,C[j])},c=function(){var C,j=this.internal.collections[t+"images"],U=this.internal.write;for(var J in j)U("/I"+(C=j[J]).index,C.objectId,"0","R")},f=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var C=this.internal.collections[t+"images"];return f.call(this),C},m=function(){return Object.keys(this.internal.collections[t+"images"]).length},b=function(C){return typeof i["process"+C.toUpperCase()]=="function"},w=function(C){return qn(C)==="object"&&C.nodeType===1},y=function(C,j){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var U=""+C.getAttribute("src");if(U.indexOf("data:image/")===0)return Cp(unescape(U).split("base64,").pop());var J=i.loadFile(U,!0);if(J!==void 0)return J}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var ut;switch(j){case"PNG":ut="image/png";break;case"WEBP":ut="image/webp";break;default:ut="image/jpeg"}return Cp(C.toDataURL(ut,1).split("base64,").pop())}},A=function(C){var j=this.internal.collections[t+"images"];if(j){for(var U in j)if(C===j[U].alias)return j[U]}},N=function(C,j,U){return C||j||(C=-96,j=-96),C<0&&(C=-1*U.width*72/C/this.internal.scaleFactor),j<0&&(j=-1*U.height*72/j/this.internal.scaleFactor),C===0&&(C=j*U.width/U.height),j===0&&(j=C*U.height/U.width),[C,j]},k=function(C,j,U,J,ut,$){var rt=N.call(this,U,J,ut),ct=this.internal.getCoordinateString,pt=this.internal.getVerticalCoordinateString,Nt=d.call(this);if(U=rt[0],J=rt[1],Nt[ut.index]=ut,$){$*=Math.PI/180;var X=Math.cos($),E=Math.sin($),H=function(it){return it.toFixed(4)},tt=[H(X),H(E),H(-1*E),H(X),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,ct(C),pt(j+J),"cm"].join(" ")),this.internal.write(tt.join(" ")),this.internal.write([ct(U),"0","0",ct(J),"0","0","cm"].join(" "))):this.internal.write([ct(U),"0","0",ct(J),ct(C),pt(j+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ut.index+" Do"),this.internal.write("Q")},T=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var P=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=i.__addimage__.sHashCode=function(C){var j,U,J=0;if(typeof C=="string")for(U=C.length,j=0;j<U;j++)J=(J<<5)-J+C.charCodeAt(j),J|=0;else if(Q(C))for(U=C.byteLength/2,j=0;j<U;j++)J=(J<<5)-J+C[j],J|=0;return J},I=i.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var j=!0;return C.length===0&&(j=!1),C.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(j=!1),j},B=i.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var j=C.indexOf(",");return j<0?null:C.substring(0,j).trim().endsWith("base64")?C.substring(j+1):null};i.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var Q=i.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},Y=i.__addimage__.binaryStringToUint8Array=function(C){for(var j=C.length,U=new Uint8Array(j),J=0;J<j;J++)U[J]=C.charCodeAt(J);return U},D=i.__addimage__.arrayBufferToBinaryString=function(C){for(var j="",U=Q(C)?C:new Uint8Array(C),J=0;J<U.length;J+=8192)j+=String.fromCharCode.apply(null,U.subarray(J,J+8192));return j};i.addImage=function(){var C,j,U,J,ut,$,rt,ct,pt;if(typeof arguments[1]=="number"?(j=e,U=arguments[1],J=arguments[2],ut=arguments[3],$=arguments[4],rt=arguments[5],ct=arguments[6],pt=arguments[7]):(j=arguments[1],U=arguments[2],J=arguments[3],ut=arguments[4],$=arguments[5],rt=arguments[6],ct=arguments[7],pt=arguments[8]),qn(C=arguments[0])==="object"&&!w(C)&&"imageData"in C){var Nt=C;C=Nt.imageData,j=Nt.format||j||e,U=Nt.x||U||0,J=Nt.y||J||0,ut=Nt.w||Nt.width||ut,$=Nt.h||Nt.height||$,rt=Nt.alias||rt,ct=Nt.compression||ct,pt=Nt.rotation||Nt.angle||pt}var X=this.internal.getFilters();if(ct===void 0&&X.indexOf("FlateEncode")!==-1&&(ct="SLOW"),isNaN(U)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var E=R.call(this,C,j,rt,ct);return k.call(this,U,J,ut,$,E,pt),this};var R=function(C,j,U,J){var ut,$,rt;if(typeof C=="string"&&a(C)===e){C=unescape(C);var ct=Z(C,!1);(ct!==""||(ct=i.loadFile(C,!0))!==void 0)&&(C=ct)}if(w(C)&&(C=y(C,j)),j=a(C,j),!b(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((rt=U)==null||rt.length===0)&&(U=(function(pt){return typeof pt=="string"||Q(pt)?F(pt):Q(pt.data)?F(pt.data):null})(C)),(ut=A.call(this,U))||(C instanceof Uint8Array||j==="RGBA"||($=C,C=Y(C)),ut=this["process"+j.toUpperCase()](C,m.call(this),U,(function(pt){return pt&&typeof pt=="string"&&(pt=pt.toUpperCase()),pt in i.image_compression?pt:P.NONE})(J),$)),!ut)throw new Error("An unknown error occurred whilst processing the image.");return ut},Z=i.__addimage__.convertBase64ToBinaryString=function(C,j){j=typeof j!="boolean"||j;var U,J="";if(typeof C=="string"){var ut;U=(ut=B(C))!==null&&ut!==void 0?ut:C;try{J=Cp(U)}catch($){if(j)throw I(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};i.getImageProperties=function(C){var j,U,J="";if(w(C)&&(C=y(C)),typeof C=="string"&&a(C)===e&&((J=Z(C,!1))===""&&(J=i.loadFile(C)||""),C=J),U=a(C),!b(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(C instanceof Uint8Array||(C=Y(C)),!(j=this["process"+U.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=U,j}})(Ce.API),(function(i){var t=function(e){if(e!==void 0&&e!="")return!0};Ce.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(e){for(var r,a,o,h=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(e.objId),d=e.pageContext.annotations,m=!1,b=0;b<d.length&&!m;b++)switch((r=d[b]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var w=0;w<d.length;w++){r=d[w];var y=this.internal.pdfEscape,A=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(N.objId),P=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+h(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+h(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+y(T(r.contents))+")",o+=" /Popup "+k.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+y(T(P))+") >>",N.content=o;var F=N.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+h(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+h(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+F,r.open&&(o+=" /Open true"),o+=" >>",k.content=o,this.internal.write(N.objId,"0 R",k.objId,"0 R");break;case"freetext":a="/Rect ["+h(r.bounds.x)+" "+c(r.bounds.y)+" "+h(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var I=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+y(A(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var B=this.annotations._nameMap[r.options.name];r.options.pageNumber=B.page,r.options.top=B.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+y(A(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var Q=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Q+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),i.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},i.link=function(e,r,a,o,h){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(e),y:d(r),w:f(e+a),h:d(r+o)},options:h,type:"link"})},i.textWithLink=function(e,r,a,o){var h,c,f=this.getTextWidth(e),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var m=this.splitTextToSize(e,c).length;h=Math.ceil(d*m)}else c=f,h=d;return this.text(e,r,a,o),a+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-d,c,h,o),f},i.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}})(Ce.API),(function(i){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];i.__arabicParser__={};var o=i.__arabicParser__.isInArabicSubstitutionA=function(N){return t[N.charCodeAt(0)]!==void 0},h=i.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},c=i.__arabicParser__.isArabicEndLetter=function(N){return h(N)&&o(N)&&t[N.charCodeAt(0)].length<=2},f=i.__arabicParser__.isArabicAlfLetter=function(N){return h(N)&&a.indexOf(N.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return h(N)&&o(N)&&t[N.charCodeAt(0)].length>=1};var d=i.__arabicParser__.arabicLetterHasFinalForm=function(N){return h(N)&&o(N)&&t[N.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(N){return h(N)&&o(N)&&t[N.charCodeAt(0)].length>=3};var m=i.__arabicParser__.arabicLetterHasMedialForm=function(N){return h(N)&&o(N)&&t[N.charCodeAt(0)].length==4},b=i.__arabicParser__.resolveLigatures=function(N){var k=0,T=e,P="",F=0;for(k=0;k<N.length;k+=1)T[N.charCodeAt(k)]!==void 0?(F++,typeof(T=T[N.charCodeAt(k)])=="number"&&(P+=String.fromCharCode(T),T=e,F=0),k===N.length-1&&(T=e,P+=N.charAt(k-(F-1)),k-=F-1,F=0)):(T=e,P+=N.charAt(k-F),k-=F,F=0);return P};i.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&r[N.charCodeAt(0)]!==void 0};var w=i.__arabicParser__.getCorrectForm=function(N,k,T){return h(N)?o(N)===!1?-1:!d(N)||!h(k)&&!h(T)||!h(T)&&c(k)||c(N)&&!h(k)||c(N)&&f(k)||c(N)&&c(k)?0:m(N)&&h(k)&&!c(k)&&h(T)&&d(T)?3:c(N)||!h(T)?1:2:-1},y=function(N){var k=0,T=0,P=0,F="",I="",B="",Q=(N=N||"").split("\\s+"),Y=[];for(k=0;k<Q.length;k+=1){for(Y.push(""),T=0;T<Q[k].length;T+=1)F=Q[k][T],I=Q[k][T-1],B=Q[k][T+1],h(F)?(P=w(F,I,B),Y[k]+=P!==-1?String.fromCharCode(t[F.charCodeAt(0)][P]):F):Y[k]+=F;Y[k]=b(Y[k])}return Y.join(" ")},A=i.__arabicParser__.processArabic=i.processArabic=function(){var N,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(k)){var P=0;for(T=[],P=0;P<k.length;P+=1)Array.isArray(k[P])?T.push([y(k[P][0]),k[P][1],k[P][2]]):T.push([y(k[P])]);N=T}else N=y(k);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};i.events.push(["preProcessText",A])})(Ce.API),Ce.API.autoPrint=function(i){var t;return(i=i||{}).variant=i.variant||"non-conform",i.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(i){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(c){e=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var h={};Object.defineProperty(this,"style",{get:function(){return h},set:function(c){h=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var a;if((e=e||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Ce.API),(function(i){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(N){b=N}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(N){w=N}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(N){A=N}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},i.getTextDimensions=function(f,d){r.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),b=d.font||this.getFont(),w=d.scaleFactor||this.internal.scaleFactor,y=0,A=0,N=0,k=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var T=d.maxWidth;T>0?typeof f=="string"?f=this.splitTextToSize(f,T):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(F,I){return F.concat(k.splitTextToSize(I,T))},[])):f=Array.isArray(f)?f:[f];for(var P=0;P<f.length;P++)y<(N=this.getStringUnitWidth(f[P],{font:b})*m)&&(y=N);return y!==0&&(A=f.length),{w:y/=w,h:Math.max((A*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/w,0)}},i.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var h=i.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,b=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=b.top,y&&w&&(this.printHeaderRow(f.lineNumber,!0),f.y+=w[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,e===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-m,f.y+m,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+m,{align:"center",baseline:"top",maxWidth:f.width-m-m}):this.text(f.text,f.x+m,f.y+m,{align:"left",baseline:"top",maxWidth:f.width-m-m})),this.internal.__cell__.lastCell=f,this};i.table=function(f,d,m,b,w){if(r.call(this),!m)throw new Error("No data for PDF table.");var y,A,N,k,T=[],P=[],F=[],I={},B={},Q=[],Y=[],D=(w=w||{}).autoSize||!1,R=w.printHeaders!==!1,Z=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,C=w.margins||Object.assign({width:this.getPageWidth()},t),j=typeof w.padding=="number"?w.padding:3,U=w.headerBackgroundColor||"#c8c8c8",J=w.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=J,this.setFontSize(Z),b==null)P=T=Object.keys(m[0]),F=T.map(function(){return"left"});else if(Array.isArray(b)&&qn(b[0])==="object")for(T=b.map(function(Nt){return Nt.name}),P=b.map(function(Nt){return Nt.prompt||Nt.name||""}),F=b.map(function(Nt){return Nt.align||"left"}),y=0;y<b.length;y+=1)B[b[y].name]=.7499990551181103*b[y].width;else Array.isArray(b)&&typeof b[0]=="string"&&(P=T=b,F=T.map(function(){return"left"}));if(D||Array.isArray(b)&&typeof b[0]=="string")for(y=0;y<T.length;y+=1){for(I[k=T[y]]=m.map(function(Nt){return Nt[k]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(P[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=I[k],this.setFont(void 0,"normal"),N=0;N<A.length;N+=1)Q.push(this.getTextDimensions(A[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[k]=Math.max.apply(null,Q)+j+j,Q=[]}if(R){var ut={};for(y=0;y<T.length;y+=1)ut[T[y]]={},ut[T[y]].text=P[y],ut[T[y]].align=F[y];var $=c.call(this,ut,B);Y=T.map(function(Nt){return new o(f,d,B[Nt],$,ut[Nt].text,void 0,ut[Nt].align)}),this.setTableHeaderRow(Y),this.printHeaderRow(1,!1)}var rt=b.reduce(function(Nt,X){return Nt[X.name]=X.align,Nt},{});for(y=0;y<m.length;y+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:y,data:m[y]},this);var ct=c.call(this,m[y],B);for(N=0;N<T.length;N+=1){var pt=m[y][T[N]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:y,col:N,data:pt},this),h.call(this,new o(f,d,B[T[N]],ct,pt,y+2,rt[T[N]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var m=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(f).map(function(y){var A=f[y];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,d[y]-m-m)},this).map(function(y){return this.getLineHeightFactor()*y.length*b/w+m+m},this).reduce(function(y,A){return Math.max(y,A)},0)};i.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},i.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){m=this.internal.__cell__.tableHeaderRow[y].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,w.push(m)),m.lineNumber=f;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),h.call(this,m),this.setTextColor(A)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),e=!1}})(Ce.API);var Aw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Nw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],J0=Sw(Nw),Tw=[100,200,300,400,500,600,700,800,900],GO=Sw(Tw);function S0(i){var t=i.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return Aw[o=o||"normal"]?o:"normal"})(i.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(i.weight),a=(function(o){return typeof J0[o=o||"normal"]=="number"?o:"normal"})(i.stretch);return{family:t,style:e,weight:r,stretch:a,src:i.src||[],ref:i.ref||{name:t,style:[a,e,r].join(" ")}}}function _b(i,t,e,r){var a;for(a=e;a>=0&&a<t.length;a+=r)if(i[t[a]])return i[t[a]];for(a=e;a>=0&&a<t.length;a-=r)if(i[t[a]])return i[t[a]]}var YO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},wb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Sb(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function Ab(i){return i.trimLeft()}function WO(i,t){for(var e=0;e<i.length;){if(i.charAt(e)===t)return[i.substring(0,e),i.substring(e+1)];e+=1}return null}function XO(i){var t=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],i.substring(t[0].length)]}var bp,Nb,Tb,sh,xp,Cb,Eb,kb,A0=["times"];function Ob(i,t,e,r,a){var o=4,h=Lb;switch(a){case Ce.API.image_compression.FAST:o=1,h=Mb;break;case Ce.API.image_compression.MEDIUM:o=6,h=Db;break;case Ce.API.image_compression.SLOW:o=9,h=jb}i=(function(f,d,m,b){for(var w,y=f.length/d,A=new Uint8Array(f.length+y),N=[ZO,Mb,Lb,Db,jb],k=0;k<y;k+=1){var T=k*d,P=f.subarray(T,T+d);if(b)A.set(b(P,m,w),T+k);else{for(var F=N.length,I=[],B=0;B<F;B+=1)I[B]=N[B](P,m,w);var Q=$O(I.concat());A.set(I[Q],T+k)}w=P}return A})(i,t,Math.ceil(e*r/8),h);var c=Y0(i,{level:o});return Ce.API.__addimage__.arrayBufferToBinaryString(c)}function ZO(i){var t=Array.apply([],i);return t.unshift(0),t}function Mb(i,t){var e=i.length,r=[];r[0]=1;for(var a=0;a<e;a+=1){var o=i[a-t]||0;r[a+1]=i[a]-o+256&255}return r}function Lb(i,t,e){var r=i.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var h=e&&e[o]||0;a[o+1]=i[o]-h+256&255}return a}function Db(i,t,e){var r=i.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var h=i[o-t]||0,c=e&&e[o]||0;a[o+1]=i[o]+256-(h+c>>>1)&255}return a}function jb(i,t,e){var r=i.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var h=KO(i[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);a[o+1]=i[o]-h+256&255}return a}function KO(i,t,e){if(i===t&&t===e)return i;var r=Math.abs(t-e),a=Math.abs(i-e),o=Math.abs(i+t-e-e);return r<=a&&r<=o?i:a<=o?t:e}function $O(i){var t=i.map(function(e){return e.reduce(function(r,a){return r+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function N0(i,t,e){var r=t*e,a=Math.floor(r/8),o=16-(r-8*a+e),h=(1<<e)-1;return Cw(i,a)>>o&h}function Rb(i,t,e,r){var a=e*r,o=Math.floor(a/8),h=16-(a-8*o+r),c=(1<<r)-1,f=(t&c)<<h;(function(d,m,b){if(m+1<d.byteLength)d.setUint16(m,b,!1);else{var w=b>>8&255;d.setUint8(m,w)}})(i,o,Cw(i,o)&~(c<<h)&65535|f)}function Cw(i,t){return t+1<i.byteLength?i.getUint16(t,!1):i.getUint8(t)<<8}function QO(i){var t=0;if(i[t++]!==71||i[t++]!==73||i[t++]!==70||i[t++]!==56||(i[t++]+1&253)!=56||i[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=i[t++]|i[t++]<<8,r=i[t++]|i[t++]<<8,a=i[t++],o=a>>7,h=1<<1+(7&a);i[t++],i[t++];var c=null,f=null;o&&(c=t,f=h,t+=3*h);var d=!0,m=[],b=0,w=null,y=0,A=null;for(this.width=e,this.height=r;d&&t<i.length;)switch(i[t++]){case 33:switch(i[t++]){case 255:if(i[t]!==11||i[t+1]==78&&i[t+2]==69&&i[t+3]==84&&i[t+4]==83&&i[t+5]==67&&i[t+6]==65&&i[t+7]==80&&i[t+8]==69&&i[t+9]==50&&i[t+10]==46&&i[t+11]==48&&i[t+12]==3&&i[t+13]==1&&i[t+16]==0)t+=14,A=i[t++]|i[t++]<<8,t++;else for(t+=12;;){if(!((C=i[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;case 249:if(i[t++]!==4||i[t+4]!==0)throw new Error("Invalid graphics extension block.");var N=i[t++];b=i[t++]|i[t++]<<8,w=i[t++],1&N||(w=null),y=N>>2&7,t++;break;case 254:for(;;){if(!((C=i[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+i[t-1].toString(16))}break;case 44:var k=i[t++]|i[t++]<<8,T=i[t++]|i[t++]<<8,P=i[t++]|i[t++]<<8,F=i[t++]|i[t++]<<8,I=i[t++],B=I>>6&1,Q=1<<1+(7&I),Y=c,D=f,R=!1;I>>7&&(R=!0,Y=t,D=Q,t+=3*Q);var Z=t;for(t++;;){var C;if(!((C=i[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}m.push({x:k,y:T,width:P,height:F,has_local_palette:R,palette_offset:Y,palette_size:D,data_offset:Z,data_length:t-Z,transparent_index:w,interlaced:!!B,delay:b,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+i[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return A},this.frameInfo=function(j){if(j<0||j>=m.length)throw new Error("Frame index out of range.");return m[j]},this.decodeAndBlitFrameBGRA=function(j,U){var J=this.frameInfo(j),ut=J.width*J.height,$=new Uint8Array(ut);Ib(i,J.data_offset,$,ut);var rt=J.palette_offset,ct=J.transparent_index;ct===null&&(ct=256);var pt=J.width,Nt=e-pt,X=pt,E=4*(J.y*e+J.x),H=4*((J.y+J.height)*e+J.x),tt=E,it=4*Nt;J.interlaced===!0&&(it+=4*e*7);for(var ot=8,mt=0,ft=$.length;mt<ft;++mt){var gt=$[mt];if(X===0&&(X=pt,(tt+=it)>=H&&(it=4*Nt+4*e*(ot-1),tt=E+(pt+Nt)*(ot<<1),ot>>=1)),gt===ct)tt+=4;else{var _t=i[rt+3*gt],Rt=i[rt+3*gt+1],Xt=i[rt+3*gt+2];U[tt++]=Xt,U[tt++]=Rt,U[tt++]=_t,U[tt++]=255}--X}},this.decodeAndBlitFrameRGBA=function(j,U){var J=this.frameInfo(j),ut=J.width*J.height,$=new Uint8Array(ut);Ib(i,J.data_offset,$,ut);var rt=J.palette_offset,ct=J.transparent_index;ct===null&&(ct=256);var pt=J.width,Nt=e-pt,X=pt,E=4*(J.y*e+J.x),H=4*((J.y+J.height)*e+J.x),tt=E,it=4*Nt;J.interlaced===!0&&(it+=4*e*7);for(var ot=8,mt=0,ft=$.length;mt<ft;++mt){var gt=$[mt];if(X===0&&(X=pt,(tt+=it)>=H&&(it=4*Nt+4*e*(ot-1),tt=E+(pt+Nt)*(ot<<1),ot>>=1)),gt===ct)tt+=4;else{var _t=i[rt+3*gt],Rt=i[rt+3*gt+1],Xt=i[rt+3*gt+2];U[tt++]=_t,U[tt++]=Rt,U[tt++]=Xt,U[tt++]=255}--X}}}function Ib(i,t,e,r){for(var a=i[t++],o=1<<a,h=o+1,c=h+1,f=a+1,d=(1<<f)-1,m=0,b=0,w=0,y=i[t++],A=new Int32Array(4096),N=null;;){for(;m<16&&y!==0;)b|=i[t++]<<m,m+=8,y===1?y=i[t++]:--y;if(m<f)break;var k=b&d;if(b>>=f,m-=f,k!==o){if(k===h)break;for(var T=k<c?k:N,P=0,F=T;F>o;)F=A[F]>>8,++P;var I=F;if(w+P+(T!==k?1:0)>r)return void $n.log("Warning, gif stream longer than expected.");e[w++]=I;var B=w+=P;for(T!==k&&(e[w++]=I),F=T;P--;)F=A[F],e[--B]=255&F,F>>=8;N!==null&&c<4096&&(A[c++]=N<<8|I,c>=d+1&&f<12&&(++f,d=d<<1|1)),N=k}else c=h+1,d=(1<<(f=a+1))-1,N=null}return w!==r&&$n.log("Warning, gif stream shorter than expected."),e}function T0(i){var t,e,r,a,o,h=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),m=new Array(64),b=new Array(65535),w=new Array(65535),y=new Array(64),A=new Array(64),N=[],k=0,T=7,P=new Array(64),F=new Array(64),I=new Array(64),B=new Array(256),Q=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ut=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(E,H){for(var tt=0,it=0,ot=new Array,mt=1;mt<=16;mt++){for(var ft=1;ft<=E[mt];ft++)ot[H[it]]=[],ot[H[it]][0]=tt,ot[H[it]][1]=mt,it++,tt++;tt*=2}return ot}function rt(E){for(var H=E[0],tt=E[1]-1;tt>=0;)H&1<<tt&&(k|=1<<T),tt--,--T<0&&(k==255?(ct(255),ct(0)):ct(k),T=7,k=0)}function ct(E){N.push(E)}function pt(E){ct(E>>8&255),ct(255&E)}function Nt(E,H,tt,it,ot){for(var mt,ft=ot[0],gt=ot[240],_t=(function(Lt,ee){var ie,le,pe,ke,Gt,Kt,ce,ge,ae,Te,oe=0;for(ae=0;ae<8;++ae){ie=Lt[oe],le=Lt[oe+1],pe=Lt[oe+2],ke=Lt[oe+3],Gt=Lt[oe+4],Kt=Lt[oe+5],ce=Lt[oe+6];var Ze=ie+(ge=Lt[oe+7]),De=ie-ge,we=le+ce,Se=le-ce,Fe=pe+Kt,wt=pe-Kt,qt=ke+Gt,zt=ke-Gt,re=Ze+qt,Ee=Ze-qt,te=we+Fe,Jt=we-Fe;Lt[oe]=re+te,Lt[oe+4]=re-te;var ve=.707106781*(Jt+Ee);Lt[oe+2]=Ee+ve,Lt[oe+6]=Ee-ve;var Nn=.382683433*((re=zt+wt)-(Jt=Se+De)),Qe=.5411961*re+Nn,cn=1.306562965*Jt+Nn,Tn=.707106781*(te=wt+Se),he=De+Tn,sn=De-Tn;Lt[oe+5]=sn+Qe,Lt[oe+3]=sn-Qe,Lt[oe+1]=he+cn,Lt[oe+7]=he-cn,oe+=8}for(oe=0,ae=0;ae<8;++ae){ie=Lt[oe],le=Lt[oe+8],pe=Lt[oe+16],ke=Lt[oe+24],Gt=Lt[oe+32],Kt=Lt[oe+40],ce=Lt[oe+48];var jn=ie+(ge=Lt[oe+56]),Cn=ie-ge,Ln=le+ce,Je=le-ce,En=pe+Kt,Dn=pe-Kt,Qi=ke+Gt,ui=ke-Gt,wn=jn+Qi,Wn=jn-Qi,ji=Ln+En,ur=Ln-En;Lt[oe]=wn+ji,Lt[oe+32]=wn-ji;var Mr=.707106781*(ur+Wn);Lt[oe+16]=Wn+Mr,Lt[oe+48]=Wn-Mr;var ga=.382683433*((wn=ui+Dn)-(ur=Je+Cn)),Ur=.5411961*wn+ga,Vr=1.306562965*ur+ga,Xs=.707106781*(ji=Dn+Je),Ts=Cn+Xs,Cs=Cn-Xs;Lt[oe+40]=Cs+Ur,Lt[oe+24]=Cs-Ur,Lt[oe+8]=Ts+Vr,Lt[oe+56]=Ts-Vr,oe++}for(ae=0;ae<64;++ae)Te=Lt[ae]*ee[ae],y[ae]=Te>0?Te+.5|0:Te-.5|0;return y})(E,H),Rt=0;Rt<64;++Rt)A[Y[Rt]]=_t[Rt];var Xt=A[0]-tt;tt=A[0],Xt==0?rt(it[0]):(rt(it[w[mt=32767+Xt]]),rt(b[mt]));for(var Ht=63;Ht>0&&A[Ht]==0;)Ht--;if(Ht==0)return rt(ft),tt;for(var $t,V=1;V<=Ht;){for(var Dt=V;A[V]==0&&V<=Ht;)++V;var ue=V-Dt;if(ue>=16){$t=ue>>4;for(var ne=1;ne<=$t;++ne)rt(gt);ue&=15}mt=32767+A[V],rt(ot[(ue<<4)+w[mt]]),rt(b[mt]),V++}return Ht!=63&&rt(ft),tt}function X(E){E=Math.min(Math.max(E,1),100),o!=E&&((function(H){for(var tt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],it=0;it<64;it++){var ot=h((tt[it]*H+50)/100);ot=Math.min(Math.max(ot,1),255),c[Y[it]]=ot}for(var mt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ft=0;ft<64;ft++){var gt=h((mt[ft]*H+50)/100);gt=Math.min(Math.max(gt,1),255),f[Y[ft]]=gt}for(var _t=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Rt=0,Xt=0;Xt<8;Xt++)for(var Ht=0;Ht<8;Ht++)d[Rt]=1/(c[Y[Rt]]*_t[Xt]*_t[Ht]*8),m[Rt]=1/(f[Y[Rt]]*_t[Xt]*_t[Ht]*8),Rt++})(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),o=E)}this.encode=function(E,H){H&&X(H),N=new Array,k=0,T=7,pt(65496),pt(65504),pt(16),ct(74),ct(70),ct(73),ct(70),ct(0),ct(1),ct(1),ct(0),pt(1),pt(1),ct(0),ct(0),(function(){pt(65499),pt(132),ct(0);for(var le=0;le<64;le++)ct(c[le]);ct(1);for(var pe=0;pe<64;pe++)ct(f[pe])})(),(function(le,pe){pt(65472),pt(17),ct(8),pt(pe),pt(le),ct(3),ct(1),ct(17),ct(0),ct(2),ct(17),ct(1),ct(3),ct(17),ct(1)})(E.width,E.height),(function(){pt(65476),pt(418),ct(0);for(var le=0;le<16;le++)ct(D[le+1]);for(var pe=0;pe<=11;pe++)ct(R[pe]);ct(16);for(var ke=0;ke<16;ke++)ct(Z[ke+1]);for(var Gt=0;Gt<=161;Gt++)ct(C[Gt]);ct(1);for(var Kt=0;Kt<16;Kt++)ct(j[Kt+1]);for(var ce=0;ce<=11;ce++)ct(U[ce]);ct(17);for(var ge=0;ge<16;ge++)ct(J[ge+1]);for(var ae=0;ae<=161;ae++)ct(ut[ae])})(),pt(65498),pt(12),ct(3),ct(1),ct(0),ct(2),ct(17),ct(3),ct(17),ct(0),ct(63),ct(0);var tt=0,it=0,ot=0;k=0,T=7,this.encode.displayName="_encode_";for(var mt,ft,gt,_t,Rt,Xt,Ht,$t,V,Dt=E.data,ue=E.width,ne=E.height,Lt=4*ue,ee=0;ee<ne;){for(mt=0;mt<Lt;){for(Rt=Lt*ee+mt,Ht=-1,$t=0,V=0;V<64;V++)Xt=Rt+($t=V>>3)*Lt+(Ht=4*(7&V)),ee+$t>=ne&&(Xt-=Lt*(ee+1+$t-ne)),mt+Ht>=Lt&&(Xt-=mt+Ht-Lt+4),ft=Dt[Xt++],gt=Dt[Xt++],_t=Dt[Xt++],P[V]=(Q[ft]+Q[gt+256|0]+Q[_t+512|0]>>16)-128,F[V]=(Q[ft+768|0]+Q[gt+1024|0]+Q[_t+1280|0]>>16)-128,I[V]=(Q[ft+1280|0]+Q[gt+1536|0]+Q[_t+1792|0]>>16)-128;tt=Nt(P,d,tt,t,r),it=Nt(F,m,it,e,a),ot=Nt(I,m,ot,e,a),mt+=32}ee+=8}if(T>=0){var ie=[];ie[1]=T+1,ie[0]=(1<<T+1)-1,rt(ie)}return pt(65497),new Uint8Array(N)},i=i||50,(function(){for(var E=String.fromCharCode,H=0;H<256;H++)B[H]=E(H)})(),t=$(D,R),e=$(j,U),r=$(Z,C),a=$(J,ut),(function(){for(var E=1,H=2,tt=1;tt<=15;tt++){for(var it=E;it<H;it++)w[32767+it]=tt,b[32767+it]=[],b[32767+it][1]=tt,b[32767+it][0]=it;for(var ot=-(H-1);ot<=-E;ot++)w[32767+ot]=tt,b[32767+ot]=[],b[32767+ot][1]=tt,b[32767+ot][0]=H-1+ot;E<<=1,H<<=1}})(),(function(){for(var E=0;E<256;E++)Q[E]=19595*E,Q[E+256|0]=38470*E,Q[E+512|0]=7471*E+32768,Q[E+768|0]=-11059*E,Q[E+1024|0]=-21709*E,Q[E+1280|0]=32768*E+8421375,Q[E+1536|0]=-27439*E,Q[E+1792|0]=-5329*E})(),X(i)}function Ha(i,t){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Bb(i){function t(R){if(!R)throw Error("assert :P")}function e(R,Z,C){for(var j=0;4>j;j++)if(R[Z+j]!=C.charCodeAt(j))return!0;return!1}function r(R,Z,C,j,U){for(var J=0;J<U;J++)R[Z+J]=C[j+J]}function a(R,Z,C,j){for(var U=0;U<j;U++)R[Z+U]=C}function o(R){return new Int32Array(R)}function h(R,Z){for(var C=[],j=0;j<R;j++)C.push(new Z);return C}function c(R,Z){var C=[];return(function j(U,J,ut){for(var $=ut[J],rt=0;rt<$&&(U.push(ut.length>J+1?[]:new Z),!(ut.length<J+1));rt++)j(U[rt],J+1,ut)})(C,0,R),C}var f=function(){var R=this;function Z(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function C(p,v,S,O,z){t(!(O%S));do p[v+(O-=S)]=z;while(0<O)}function j(p,v,S,O,z){if(t(2328>=z),512>=z)var G=o(512);else if((G=o(z))==null)return 0;return(function(W,et,nt,at,yt,Et){var st,xt,Tt=et,Bt=1<<nt,Ct=o(16),It=o(16);for(t(yt!=0),t(at!=null),t(W!=null),t(0<nt),xt=0;xt<yt;++xt){if(15<at[xt])return 0;++Ct[at[xt]]}if(Ct[0]==yt)return 0;for(It[1]=0,st=1;15>st;++st){if(Ct[st]>1<<st)return 0;It[st+1]=It[st]+Ct[st]}for(xt=0;xt<yt;++xt)st=at[xt],0<at[xt]&&(Et[It[st]++]=xt);if(It[15]==1)return(at=new U).g=0,at.value=Et[0],C(W,Tt,1,Bt,at),Bt;var Ut,Qt=-1,Wt=Bt-1,xe=0,fe=1,Pe=1,me=1<<nt;for(xt=0,st=1,yt=2;st<=nt;++st,yt<<=1){if(fe+=Pe<<=1,0>(Pe-=Ct[st]))return 0;for(;0<Ct[st];--Ct[st])(at=new U).g=st,at.value=Et[xt++],C(W,Tt+xe,yt,me,at),xe=Z(xe,st)}for(st=nt+1,yt=2;15>=st;++st,yt<<=1){if(fe+=Pe<<=1,0>(Pe-=Ct[st]))return 0;for(;0<Ct[st];--Ct[st]){if(at=new U,(xe&Wt)!=Qt){for(Tt+=me,Ut=1<<(Qt=st)-nt;15>Qt&&!(0>=(Ut-=Ct[Qt]));)++Qt,Ut<<=1;Bt+=me=1<<(Ut=Qt-nt),W[et+(Qt=xe&Wt)].g=Ut+nt,W[et+Qt].value=Tt-et-Qt}at.g=st-nt,at.value=Et[xt++],C(W,Tt+(xe>>nt),yt,me,at),xe=Z(xe,st)}}return fe!=2*It[15]-1?0:Bt})(p,v,S,O,z,G)}function U(){this.value=this.g=0}function J(){this.value=this.g=0}function ut(){this.G=h(5,U),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=h(uo,J)}function $(p,v,S,O){t(p!=null),t(v!=null),t(2147483648>O),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+O,p.Zc=4<=O?S+O-4+1:S,ft(p)}function rt(p,v){for(var S=0;0<v--;)S|=_t(p,128)<<v;return S}function ct(p,v){var S=rt(p,v);return gt(p)?-S:S}function pt(p,v,S,O){var z,G=0;for(t(p!=null),t(v!=null),t(4294967288>O),p.Sb=O,p.Ra=0,p.u=0,p.h=0,4<O&&(O=4),z=0;z<O;++z)G+=v[S+z]<<8*z;p.Ra=G,p.bb=O,p.oa=v,p.pa=S}function Nt(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<ea-8>>>0,++p.bb,p.u-=8;it(p)&&(p.h=1,p.u=0)}function X(p,v){if(t(0<=v),!p.h&&v<=Sr){var S=tt(p)&Dr[v];return p.u+=v,Nt(p),S}return p.h=1,p.u=0}function E(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function tt(p){return p.Ra>>>(p.u&ea-1)>>>0}function it(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>ea}function ot(p,v){p.u=v,p.h=it(p)}function mt(p){p.u>=na&&(t(p.u>=na),Nt(p))}function ft(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function gt(p){return rt(p,1)}function _t(p,v){var S=p.Ca;0>p.b&&ft(p);var O=p.b,z=S*v>>>8,G=(p.I>>>O>z)+0;for(G?(S-=z,p.I-=z+1<<O>>>0):S=z+1,O=S,z=0;256<=O;)z+=8,O>>=8;return O=7^z+Ma[O],p.b-=O,p.Ca=(S<<O)-1,G}function Rt(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function Xt(p,v){return p[v+0]|p[v+1]<<8}function Ht(p,v){return Xt(p,v)|p[v+2]<<16}function $t(p,v){return Xt(p,v)|Xt(p,v+2)<<16}function V(p,v){var S=1<<v;return t(p!=null),t(0<v),p.X=o(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function Dt(p,v){t(p!=null),t(v!=null),t(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function ne(p,v,S,O){t(S!=null),t(O!=null);var z=S[0],G=O[0];return z==0&&(z=(p*G+v/2)/v),G==0&&(G=(v*z+p/2)/p),0>=z||0>=G?0:(S[0]=z,O[0]=G,1)}function Lt(p,v){return p+(1<<v)-1>>>v}function ee(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function ie(p,v){R[v]=function(S,O,z,G,W,et,nt){var at;for(at=0;at<W;++at){var yt=R[p](et[nt+at-1],z,G+at);et[nt+at]=ee(S[O+at],yt)}}}function le(){this.ud=this.hd=this.jd=0}function pe(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function ke(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Gt(p,v){return ke(p+(p-v+.5>>1))}function Kt(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function ce(p,v,S,O,z,G,W){for(O=G[W-1],S=0;S<z;++S)G[W+S]=O=ee(p[v+S],O)}function ge(p,v,S,O,z){var G;for(G=0;G<S;++G){var W=p[v+G],et=W>>8&255,nt=16711935&(nt=(nt=16711935&W)+((et<<16)+et));O[z+G]=(4278255360&W)+nt>>>0}}function ae(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function Te(p,v,S,O,z,G){var W;for(W=0;W<O;++W){var et=v[S+W],nt=et>>>8,at=et,yt=255&(yt=(yt=et>>>16)+((p.jd<<24>>24)*(nt<<24>>24)>>>5));at=255&(at=(at+=(p.hd<<24>>24)*(nt<<24>>24)>>>5)+((p.ud<<24>>24)*(yt<<24>>24)>>>5)),z[G+W]=(4278255360&et)+(yt<<16)+at}}function oe(p,v,S,O,z){R[v]=function(G,W,et,nt,at,yt,Et,st,xt){for(nt=Et;nt<st;++nt)for(Et=0;Et<xt;++Et)at[yt++]=z(et[O(G[W++])])},R[p]=function(G,W,et,nt,at,yt,Et){var st=8>>G.b,xt=G.Ea,Tt=G.K[0],Bt=G.w;if(8>st)for(G=(1<<G.b)-1,Bt=(1<<st)-1;W<et;++W){var Ct,It=0;for(Ct=0;Ct<xt;++Ct)Ct&G||(It=O(nt[at++])),yt[Et++]=z(Tt[It&Bt]),It>>=st}else R["VP8LMapColor"+S](nt,at,Tt,Bt,yt,Et,W,et,xt)}}function Ze(p,v,S,O,z){for(S=v+S;v<S;){var G=p[v++];O[z++]=G>>16&255,O[z++]=G>>8&255,O[z++]=255&G}}function De(p,v,S,O,z){for(S=v+S;v<S;){var G=p[v++];O[z++]=G>>16&255,O[z++]=G>>8&255,O[z++]=255&G,O[z++]=G>>24&255}}function we(p,v,S,O,z){for(S=v+S;v<S;){var G=(W=p[v++])>>16&240|W>>12&15,W=240&W|W>>28&15;O[z++]=G,O[z++]=W}}function Se(p,v,S,O,z){for(S=v+S;v<S;){var G=(W=p[v++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;O[z++]=G,O[z++]=W}}function Fe(p,v,S,O,z){for(S=v+S;v<S;){var G=p[v++];O[z++]=255&G,O[z++]=G>>8&255,O[z++]=G>>16&255}}function wt(p,v,S,O,z,G){if(G==0)for(S=v+S;v<S;)Rt(O,((G=p[v++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),z+=32;else r(O,z,p,v,S)}function qt(p,v){R[v][0]=R[p+"0"],R[v][1]=R[p+"1"],R[v][2]=R[p+"2"],R[v][3]=R[p+"3"],R[v][4]=R[p+"4"],R[v][5]=R[p+"5"],R[v][6]=R[p+"6"],R[v][7]=R[p+"7"],R[v][8]=R[p+"8"],R[v][9]=R[p+"9"],R[v][10]=R[p+"10"],R[v][11]=R[p+"11"],R[v][12]=R[p+"12"],R[v][13]=R[p+"13"],R[v][14]=R[p+"0"],R[v][15]=R[p+"0"]}function zt(p){return p==Fc||p==Eu||p==Dl||p==ku}function re(){this.eb=[],this.size=this.A=this.fb=0}function Ee(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function te(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new re,this.f.kb=new Ee,this.sd=null}function Jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ve(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Nn(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Qe(p,v){var S=p.T,O=v.ba.f.RGBA,z=O.eb,G=O.fb+p.ka*O.A,W=rr[v.ba.S],et=p.y,nt=p.O,at=p.f,yt=p.N,Et=p.ea,st=p.W,xt=v.cc,Tt=v.dc,Bt=v.Mc,Ct=v.Nc,It=p.ka,Ut=p.ka+p.T,Qt=p.U,Wt=Qt+1>>1;for(It==0?W(et,nt,null,null,at,yt,Et,st,at,yt,Et,st,z,G,null,null,Qt):(W(v.ec,v.fc,et,nt,xt,Tt,Bt,Ct,at,yt,Et,st,z,G-O.A,z,G,Qt),++S);It+2<Ut;It+=2)xt=at,Tt=yt,Bt=Et,Ct=st,yt+=p.Rc,st+=p.Rc,G+=2*O.A,W(et,(nt+=2*p.fa)-p.fa,et,nt,xt,Tt,Bt,Ct,at,yt,Et,st,z,G-O.A,z,G,Qt);return nt+=p.fa,p.j+Ut<p.o?(r(v.ec,v.fc,et,nt,Qt),r(v.cc,v.dc,at,yt,Wt),r(v.Mc,v.Nc,Et,st,Wt),S--):1&Ut||W(et,nt,null,null,at,yt,Et,st,at,yt,Et,st,z,G+O.A,null,null,Qt),S}function cn(p,v,S){var O=p.F,z=[p.J];if(O!=null){var G=p.U,W=v.ba.S,et=W==zc||W==Dl;v=v.ba.f.RGBA;var nt=[0],at=p.ka;nt[0]=p.T,p.Kb&&(at==0?--nt[0]:(--at,z[0]-=p.width),p.j+p.ka+p.T==p.o&&(nt[0]=p.o-p.j-at));var yt=v.eb;at=v.fb+at*v.A,p=Rc(O,z[0],p.width,G,nt,yt,at+(et?0:3),v.A),t(S==nt),p&&zt(W)&&Go(yt,at,et,G,nt,v.A)}return 0}function Tn(p){var v=p.ma,S=v.ba.S,O=11>S,z=S==dr||S==os||S==zc||S==Ll||S==12||zt(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Oa(v.Oa,p,z?11:12))return 0;if(z&&zt(S)&&Mc(),p.da)alert("todo:use_scaling");else{if(O){if(v.Ib=Nn,p.Kb){if(S=p.U+1>>1,v.memory=o(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=Qe,Mc()}}else alert("todo:EmitYUV");z&&(v.Jb=cn,O&&Ls())}if(O&&!yo){for(p=0;256>p;++p)sr[p]=89858*(p-128)+Il>>ds,j1[p]=-22014*(p-128)+Il,yd[p]=-45773*(p-128),ju[p]=113618*(p-128)+Il>>ds;for(p=Zo;p<vo;++p)v=76283*(p-16)+Il>>ds,R1[p-Zo]=Gr(v,255),I1[p-Zo]=Gr(v+8>>4,15);yo=1}return 1}function he(p){var v=p.ma,S=p.U,O=p.T;return t(!(1&p.ka)),0>=S||0>=O?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function sn(p){p.ma.memory=null}function jn(p,v,S,O){return X(p,8)!=47?0:(v[0]=X(p,14)+1,S[0]=X(p,14)+1,O[0]=X(p,1),X(p,3)!=0?0:!p.h)}function Cn(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+X(v,S)+1}function Ln(p,v){return 120<v?v-120:1<=(S=((S=cs[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function Je(p,v,S){var O=tt(S),z=p[v+=255&O].g-8;return 0<z&&(ot(S,S.u+8),O=tt(S),v+=p[v].value,v+=O&(1<<z)-1),ot(S,S.u+p[v].g),p[v].value}function En(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,t(8>=S.g),p.g}function Dn(p,v,S){var O=p.xc;return t((v=O==0?0:p.vc[p.md*(S>>O)+(v>>O)])<p.Wb),p.Ya[v]}function Qi(p,v,S,O){var z=p.ab,G=p.c*v,W=p.C;v=W+v;var et=S,nt=O;for(O=p.Ta,S=p.Ua;0<z--;){var at=p.gc[z],yt=W,Et=v,st=et,xt=nt,Tt=(nt=O,et=S,at.Ea);switch(t(yt<Et),t(Et<=at.nc),at.hc){case 2:bi(st,xt,(Et-yt)*Tt,nt,et);break;case 0:var Bt=yt,Ct=Et,It=nt,Ut=et,Qt=(me=at).Ea;Bt==0&&(El(st,xt,null,null,1,It,Ut),ce(st,xt+1,0,0,Qt-1,It,Ut+1),xt+=Qt,Ut+=Qt,++Bt);for(var Wt=1<<me.b,xe=Wt-1,fe=Lt(Qt,me.b),Pe=me.K,me=me.w+(Bt>>me.b)*fe;Bt<Ct;){var tn=Pe,Zn=me,Ge=1;for(kl(st,xt,It,Ut-Qt,1,It,Ut);Ge<Qt;){var de=(Ge&~xe)+Wt;de>Qt&&(de=Qt),(0,La[tn[Zn++]>>8&15])(st,xt+ +Ge,It,Ut+Ge-Qt,de-Ge,It,Ut+Ge),Ge=de}xt+=Qt,Ut+=Qt,++Bt&xe||(me+=fe)}Et!=at.nc&&r(nt,et-Tt,nt,et+(Et-yt-1)*Tt,Tt);break;case 1:for(Tt=st,Ct=xt,Qt=(st=at.Ea)-(Ut=st&~(It=(xt=1<<at.b)-1)),Bt=Lt(st,at.b),Wt=at.K,at=at.w+(yt>>at.b)*Bt;yt<Et;){for(xe=Wt,fe=at,Pe=new le,me=Ct+Ut,tn=Ct+st;Ct<me;)ae(xe[fe++],Pe),Ol(Pe,Tt,Ct,xt,nt,et),Ct+=xt,et+=xt;Ct<tn&&(ae(xe[fe++],Pe),Ol(Pe,Tt,Ct,Qt,nt,et),Ct+=Qt,et+=Qt),++yt&It||(at+=Bt)}break;case 3:if(st==nt&&xt==et&&0<at.b){for(Ct=nt,st=Tt=et+(Et-yt)*Tt-(Ut=(Et-yt)*Lt(at.Ea,at.b)),xt=nt,It=et,Bt=[],Ut=(Qt=Ut)-1;0<=Ut;--Ut)Bt[Ut]=xt[It+Ut];for(Ut=Qt-1;0<=Ut;--Ut)Ct[st+Ut]=Bt[Ut];Su(at,yt,Et,nt,Tt,nt,et)}else Su(at,yt,Et,st,xt,nt,et)}et=O,nt=S}nt!=S&&r(O,S,et,nt,G)}function ui(p,v){var S=p.V,O=p.Ba+p.c*p.C,z=v-p.C;if(t(v<=p.l.o),t(16>=z),0<z){var G=p.l,W=p.Ta,et=p.Ua,nt=G.width;if(Qi(p,z,S,O),z=et=[et],t((S=p.C)<(O=v)),t(G.v<G.va),O>G.o&&(O=G.o),S<G.j){var at=G.j-S;S=G.j,z[0]+=at*nt}if(S>=O?S=0:(z[0]+=4*G.v,G.ka=S-G.j,G.U=G.va-G.v,G.T=O-S,S=1),S){if(et=et[0],11>(S=p.ca).S){var yt=S.f.RGBA,Et=(O=S.S,z=G.U,G=G.T,at=yt.eb,yt.A),st=G;for(yt=yt.fb+p.Ma*yt.A;0<st--;){var xt=W,Tt=et,Bt=z,Ct=at,It=yt;switch(O){case Tu:Ml(xt,Tt,Bt,Ct,It);break;case dr:Da(xt,Tt,Bt,Ct,It);break;case Fc:Da(xt,Tt,Bt,Ct,It),Go(Ct,It,0,Bt,1,0);break;case Cu:Vo(xt,Tt,Bt,Ct,It);break;case os:wt(xt,Tt,Bt,Ct,It,1);break;case Eu:wt(xt,Tt,Bt,Ct,It,1),Go(Ct,It,0,Bt,1,0);break;case zc:wt(xt,Tt,Bt,Ct,It,0);break;case Dl:wt(xt,Tt,Bt,Ct,It,0),Go(Ct,It,1,Bt,1,0);break;case Ll:ja(xt,Tt,Bt,Ct,It);break;case ku:ja(xt,Tt,Bt,Ct,It),as(Ct,It,Bt,1,0);break;case ho:sa(xt,Tt,Bt,Ct,It);break;default:t(0)}et+=nt,yt+=Et}p.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=S.height)}}p.C=v,t(p.C<=p.i)}function wn(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,O=p.Ya[v].H;if(0<S[1][O[1]+0].g||0<S[2][O[2]+0].g||0<S[3][O[3]+0].g)return 0}return 1}function Wn(p,v,S,O,z,G){if(p.Z!=0){var W=p.qd,et=p.rd;for(t(Ba[p.Z]!=null);v<S;++v)Ba[p.Z](W,et,O,z,O,z,G),W=O,et=z,z+=G;p.qd=W,p.rd=et}}function ji(p,v){var S=p.l.ma,O=S.Z==0||S.Z==1?p.l.j:p.C;if(O=p.C<O?O:p.C,t(v<=p.l.o),v>O){var z=p.l.width,G=S.ca,W=S.tb+z*O,et=p.V,nt=p.Ba+p.c*O,at=p.gc;t(p.ab==1),t(at[0].hc==3),ra(at[0],O,v,et,nt,G,W),Wn(S,O,v,G,W,z)}p.C=p.Ma=v}function ur(p,v,S,O,z,G,W){var et=p.$/O,nt=p.$%O,at=p.m,yt=p.s,Et=S+p.$,st=Et;z=S+O*z;var xt=S+O*G,Tt=280+yt.ua,Bt=p.Pb?et:16777216,Ct=0<yt.ua?yt.Wa:null,It=yt.wc,Ut=Et<xt?Dn(yt,nt,et):null;t(p.C<G),t(xt<=z);var Qt=!1;t:for(;;){for(;Qt||Et<xt;){var Wt=0;if(et>=Bt){var xe=Et-S;t((Bt=p).Pb),Bt.wd=Bt.m,Bt.xd=xe,0<Bt.s.ua&&Dt(Bt.s.Wa,Bt.s.vb),Bt=et+fo}if(nt&It||(Ut=Dn(yt,nt,et)),t(Ut!=null),Ut.Qb&&(v[Et]=Ut.qb,Qt=!0),!Qt)if(mt(at),Ut.jc){Wt=at,xe=v;var fe=Et,Pe=Ut.pd[tt(Wt)&uo-1];t(Ut.jc),256>Pe.g?(ot(Wt,Wt.u+Pe.g),xe[fe]=Pe.value,Wt=0):(ot(Wt,Wt.u+Pe.g-256),t(256<=Pe.value),Wt=Pe.value),Wt==0&&(Qt=!0)}else Wt=Je(Ut.G[0],Ut.H[0],at);if(at.h)break;if(Qt||256>Wt){if(!Qt)if(Ut.nd)v[Et]=(Ut.qb|Wt<<8)>>>0;else{if(mt(at),Qt=Je(Ut.G[1],Ut.H[1],at),mt(at),xe=Je(Ut.G[2],Ut.H[2],at),fe=Je(Ut.G[3],Ut.H[3],at),at.h)break;v[Et]=(fe<<24|Qt<<16|Wt<<8|xe)>>>0}if(Qt=!1,++Et,++nt>=O&&(nt=0,++et,W!=null&&et<=G&&!(et%16)&&W(p,et),Ct!=null))for(;st<Et;)Wt=v[st++],Ct.X[(506832829*Wt&4294967295)>>>Ct.Mb]=Wt}else if(280>Wt){if(Wt=Cn(Wt-256,at),xe=Je(Ut.G[4],Ut.H[4],at),mt(at),xe=Ln(O,xe=Cn(xe,at)),at.h)break;if(Et-S<xe||z-Et<Wt)break t;for(fe=0;fe<Wt;++fe)v[Et+fe]=v[Et+fe-xe];for(Et+=Wt,nt+=Wt;nt>=O;)nt-=O,++et,W!=null&&et<=G&&!(et%16)&&W(p,et);if(t(Et<=z),nt&It&&(Ut=Dn(yt,nt,et)),Ct!=null)for(;st<Et;)Wt=v[st++],Ct.X[(506832829*Wt&4294967295)>>>Ct.Mb]=Wt}else{if(!(Wt<Tt))break t;for(Qt=Wt-280,t(Ct!=null);st<Et;)Wt=v[st++],Ct.X[(506832829*Wt&4294967295)>>>Ct.Mb]=Wt;Wt=Et,t(!(Qt>>>(xe=Ct).Xa)),v[Wt]=xe.X[Qt],Qt=!0}Qt||t(at.h==it(at))}if(p.Pb&&at.h&&Et<z)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Dt(p.s.vb,p.s.Wa);else{if(at.h)break t;W?.(p,et>G?G:et),p.a=0,p.$=Et-S}return 1}return p.a=3,0}function Mr(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,t(p!=null)}function ga(){var p=new qe;return p==null?null:(p.a=0,p.xb=Hh,qt("Predictor","VP8LPredictors"),qt("Predictor","VP8LPredictors_C"),qt("PredictorAdd","VP8LPredictorsAdd"),qt("PredictorAdd","VP8LPredictorsAdd_C"),bi=ge,Ol=Te,Ml=Ze,Da=De,ja=we,sa=Se,Vo=Fe,R.VP8LMapColor32b=ia,R.VP8LMapColor8b=er,p)}function Ur(p,v,S,O,z){var G=1,W=[p],et=[v],nt=O.m,at=O.s,yt=null,Et=0;t:for(;;){if(S)for(;G&&X(nt,1);){var st=W,xt=et,Tt=O,Bt=1,Ct=Tt.m,It=Tt.gc[Tt.ab],Ut=X(Ct,2);if(Tt.Oc&1<<Ut)G=0;else{switch(Tt.Oc|=1<<Ut,It.hc=Ut,It.Ea=st[0],It.nc=xt[0],It.K=[null],++Tt.ab,t(4>=Tt.ab),Ut){case 0:case 1:It.b=X(Ct,3)+2,Bt=Ur(Lt(It.Ea,It.b),Lt(It.nc,It.b),0,Tt,It.K),It.K=It.K[0];break;case 3:var Qt,Wt=X(Ct,8)+1,xe=16<Wt?0:4<Wt?1:2<Wt?2:3;if(st[0]=Lt(It.Ea,xe),It.b=xe,Qt=Bt=Ur(Wt,1,0,Tt,It.K)){var fe,Pe=Wt,me=It,tn=1<<(8>>me.b),Zn=o(tn);if(Zn==null)Qt=0;else{var Ge=me.K[0],de=me.w;for(Zn[0]=me.K[0][0],fe=1;fe<1*Pe;++fe)Zn[fe]=ee(Ge[de+fe],Zn[fe-1]);for(;fe<4*tn;++fe)Zn[fe]=0;me.K[0]=null,me.K[0]=Zn,Qt=1}}Bt=Qt;break;case 2:break;default:t(0)}G=Bt}}if(W=W[0],et=et[0],G&&X(nt,1)&&!(G=1<=(Et=X(nt,4))&&11>=Et)){O.a=3;break t}var se;if(se=G)e:{var ni,Re,Xe,kn=O,Bi=W,ar=et,Pn=Et,Ni=S,pr=kn.m,Ti=kn.s,$e=[null],pn=1,ii=0,_n=us[Pn];n:for(;;){if(Ni&&X(pr,1)){var qi=X(pr,3)+2,ri=Lt(Bi,qi),mn=Lt(ar,qi),wi=ri*mn;if(!Ur(ri,mn,0,kn,$e))break n;for($e=$e[0],Ti.xc=qi,ni=0;ni<wi;++ni){var On=$e[ni]>>8&65535;$e[ni]=On,On>=pn&&(pn=On+1)}}if(pr.h)break n;for(Re=0;5>Re;++Re){var Ci=Wo[Re];!Re&&0<Pn&&(Ci+=1<<Pn),ii<Ci&&(ii=Ci)}var Ei=h(pn*_n,U),Rn=pn,fn=h(Rn,ut);if(fn==null)var mr=null;else t(65536>=Rn),mr=fn;var fi=o(ii);if(mr==null||fi==null||Ei==null){kn.a=1;break n}var Oe=Ei;for(ni=Xe=0;ni<pn;++ni){var Me=mr[ni],gn=Me.G,jr=Me.H,ps=0,Nr=1,ki=0;for(Re=0;5>Re;++Re){Ci=Wo[Re],gn[Re]=Oe,jr[Re]=Xe,!Re&&0<Pn&&(Ci+=1<<Pn);r:{var bo,xo=Ci,Iu=kn,Un=fi,Yh=Oe,Wh=Xe,Bu=0,qa=Iu.m,B1=X(qa,1);if(a(Un,0,0,xo),B1){var Xh=X(qa,1)+1,Zh=X(qa,1),qu=X(qa,Zh==0?1:8);Un[qu]=1,Xh==2&&(Un[qu=X(qa,8)]=1);var Gi=1}else{var di=o(19),Hc=X(qa,4)+4;if(19<Hc){Iu.a=3;var _o=0;break r}for(bo=0;bo<Hc;++bo)di[Pc[bo]]=X(qa,3);var ql=void 0,Ko=void 0,la=Iu,zu=di,zl=xo,Fu=Un,Pu=0,za=la.m,Kh=8,$h=h(128,U);i:for(;j($h,0,7,zu,19);){if(X(za,1)){var bd=2+2*X(za,3);if((ql=2+X(za,bd))>zl)break i}else ql=zl;for(Ko=0;Ko<zl&&ql--;){mt(za);var Qh=$h[0+(127&tt(za))];ot(za,za.u+Qh.g);var wo=Qh.value;if(16>wo)Fu[Ko++]=wo,wo!=0&&(Kh=wo);else{var xd=wo==16,_d=wo-16,wd=jl[_d],Jh=X(za,ls[_d])+wd;if(Ko+Jh>zl)break i;for(var Sd=xd?Kh:0;0<Jh--;)Fu[Ko++]=Sd}}Pu=1;break i}Pu||(la.a=3),Gi=Pu}(Gi=Gi&&!qa.h)&&(Bu=j(Yh,Wh,8,Un,xo)),Gi&&Bu!=0?_o=Bu:(Iu.a=3,_o=0)}if(_o==0)break n;if(Nr&&Ou[Re]==1&&(Nr=Oe[Xe].g==0),ps+=Oe[Xe].g,Xe+=_o,3>=Re){var $o,Uu=fi[0];for($o=1;$o<Ci;++$o)fi[$o]>Uu&&(Uu=fi[$o]);ki+=Uu}}if(Me.nd=Nr,Me.Qb=0,Nr&&(Me.qb=(gn[3][jr[3]+0].value<<24|gn[1][jr[1]+0].value<<16|gn[2][jr[2]+0].value)>>>0,ps==0&&256>gn[0][jr[0]+0].value&&(Me.Qb=1,Me.qb+=gn[0][jr[0]+0].value<<8)),Me.jc=!Me.Qb&&6>ki,Me.jc){var Gc,ca=Me;for(Gc=0;Gc<uo;++Gc){var Fa=Gc,Pa=ca.pd[Fa],Vu=ca.G[0][ca.H[0]+Fa];256<=Vu.value?(Pa.g=Vu.g+256,Pa.value=Vu.value):(Pa.g=0,Pa.value=0,Fa>>=En(Vu,8,Pa),Fa>>=En(ca.G[1][ca.H[1]+Fa],16,Pa),Fa>>=En(ca.G[2][ca.H[2]+Fa],0,Pa),En(ca.G[3][ca.H[3]+Fa],24,Pa))}}}Ti.vc=$e,Ti.Wb=pn,Ti.Ya=mr,Ti.yc=Ei,se=1;break e}se=0}if(!(G=se)){O.a=3;break t}if(0<Et){if(at.ua=1<<Et,!V(at.Wa,Et)){O.a=1,G=0;break t}}else at.ua=0;var Hu=O,Qo=W,Ad=et,Fl=Hu.s,Pl=Fl.xc;if(Hu.c=Qo,Hu.i=Ad,Fl.md=Lt(Qo,Pl),Fl.wc=Pl==0?-1:(1<<Pl)-1,S){O.xb=po;break t}if((yt=o(W*et))==null){O.a=1,G=0;break t}G=(G=ur(O,yt,0,W,et,et,null))&&!nt.h;break t}return G?(z!=null?z[0]=yt:(t(yt==null),t(S)),O.$=0,S||Mr(at)):Mr(at),G}function Vr(p,v){var S=p.c*p.i,O=S+v+16*v;return t(p.c<=v),p.V=o(O),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function Xs(p,v){var S=p.C,O=v-S,z=p.V,G=p.Ba+p.c*S;for(t(v<=p.l.o);0<O;){var W=16<O?16:O,et=p.l.ma,nt=p.l.width,at=nt*W,yt=et.ca,Et=et.tb+nt*S,st=p.Ta,xt=p.Ua;Qi(p,W,z,G),Kr(st,xt,yt,Et,at),Wn(et,S,S+W,yt,Et,nt),O-=W,z+=W*p.c,S+=W}t(S==v),p.C=p.Ma=v}function Ts(){this.ub=this.yd=this.td=this.Rb=0}function Cs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ro(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Zs(){this.Yb=(function(){var p=[];return(function v(S,O,z){for(var G=z[O],W=0;W<G&&(S.push(z.length>O+1?[]:0),!(z.length<O+1));W++)v(S[W],O+1,z)})(p,0,[3,11]),p})()}function vi(){this.jb=o(3),this.Wc=c([4,8],Zs),this.Xc=c([4,17],Zs)}function vc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Hr(){this.ld=this.La=this.dd=this.tc=0}function Es(){this.Na=this.la=0}function va(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yc(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Hr),this.Y=0,this.ya=Array(new yc),this.aa=0,this.l=new ya}function xc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function du(){this.cb=this.a=0,this.sc="",this.m=new E,this.Od=new Ts,this.Kc=new Cs,this.ed=new vc,this.Qa=new Ro,this.Ic=this.$c=this.Aa=0,this.D=new bc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=h(8,E),this.ia=0,this.pb=h(4,va),this.Pa=new vi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xc),this.Hd=0,this.rb=Array(new Es),this.sb=0,this.wa=Array(new Hr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yc),this.L=this.aa=0,this.gd=c([4,2],Hr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gr(p,v){return 0>p?0:p>v?v:p}function ya(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ks(){var p=new du;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,$r||($r=ao)),p}function bn(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function _c(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Ks(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return bn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,O=v.w,z=v.ha;if(4>z)return bn(p,7,"Truncated header.");var G=S[O+0]|S[O+1]<<8|S[O+2]<<16,W=p.Od;if(W.Rb=!(1&G),W.td=G>>1&7,W.yd=G>>4&1,W.ub=G>>5,3<W.td)return bn(p,3,"Incorrect keyframe parameters.");if(!W.yd)return bn(p,4,"Frame not displayable.");O+=3,z-=3;var et=p.Kc;if(W.Rb){if(7>z)return bn(p,7,"cannot parse picture header");if(!_c(S,O,z))return bn(p,3,"Bad code word");et.c=16383&(S[O+4]<<8|S[O+3]),et.Td=S[O+4]>>6,et.i=16383&(S[O+6]<<8|S[O+5]),et.Ud=S[O+6]>>6,O+=7,z-=7,p.za=et.c+15>>4,p.Ub=et.i+15>>4,v.width=et.c,v.height=et.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((G=p.Pa).jb,0,255,G.jb.length),t((G=p.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,a(G.Zb,0,0,G.Zb.length),a(G.Lb,0,0,G.Lb)}if(W.ub>z)return bn(p,7,"bad partition length");$(G=p.m,S,O,W.ub),O+=W.ub,z-=W.ub,W.Rb&&(et.Ld=gt(G),et.Kd=gt(G)),et=p.Qa;var nt,at=p.Pa;if(t(G!=null),t(et!=null),et.Cb=gt(G),et.Cb){if(et.Bb=gt(G),gt(G)){for(et.Fb=gt(G),nt=0;4>nt;++nt)et.Zb[nt]=gt(G)?ct(G,7):0;for(nt=0;4>nt;++nt)et.Lb[nt]=gt(G)?ct(G,6):0}if(et.Bb)for(nt=0;3>nt;++nt)at.jb[nt]=gt(G)?rt(G,8):255}else et.Bb=0;if(G.Ka)return bn(p,3,"cannot parse segment header");if((et=p.ed).zd=gt(G),et.Tb=rt(G,6),et.wb=rt(G,3),et.Pc=gt(G),et.Pc&&gt(G)){for(at=0;4>at;++at)gt(G)&&(et.vd[at]=ct(G,6));for(at=0;4>at;++at)gt(G)&&(et.od[at]=ct(G,6))}if(p.L=et.Tb==0?0:et.zd?1:2,G.Ka)return bn(p,3,"cannot parse filter header");var yt=z;if(z=nt=O,O=nt+yt,et=yt,p.Xb=(1<<rt(p.m,2))-1,yt<3*(at=p.Xb))S=7;else{for(nt+=3*at,et-=3*at,yt=0;yt<at;++yt){var Et=S[z+0]|S[z+1]<<8|S[z+2]<<16;Et>et&&(Et=et),$(p.Jc[+yt],S,nt,Et),nt+=Et,et-=Et,z+=3}$(p.Jc[+at],S,nt,et),S=nt<O?0:5}if(S!=0)return bn(p,S,"cannot parse partitions");for(S=rt(nt=p.m,7),z=gt(nt)?ct(nt,4):0,O=gt(nt)?ct(nt,4):0,et=gt(nt)?ct(nt,4):0,at=gt(nt)?ct(nt,4):0,nt=gt(nt)?ct(nt,4):0,yt=p.Qa,Et=0;4>Et;++Et){if(yt.Cb){var st=yt.Zb[Et];yt.Fb||(st+=S)}else{if(0<Et){p.pb[Et]=p.pb[0];continue}st=S}var xt=p.pb[Et];xt.Sc[0]=hs[Gr(st+z,127)],xt.Sc[1]=fs[Gr(st+0,127)],xt.Eb[0]=2*hs[Gr(st+O,127)],xt.Eb[1]=101581*fs[Gr(st+et,127)]>>16,8>xt.Eb[1]&&(xt.Eb[1]=8),xt.Qc[0]=hs[Gr(st+at,117)],xt.Qc[1]=fs[Gr(st+nt,127)],xt.lc=st+nt}if(!W.Rb)return bn(p,4,"Not a key frame.");for(gt(G),W=p.Pa,S=0;4>S;++S){for(z=0;8>z;++z)for(O=0;3>O;++O)for(et=0;11>et;++et)at=_t(G,Xn[S][z][O][et])?rt(G,8):vd[S][z][O][et],W.Wc[S][z].Yb[O][et]=at;for(z=0;17>z;++z)W.Xc[S][z]=W.Wc[S][en[z]]}return p.kc=gt(G),p.kc&&(p.Bd=rt(G,8)),p.cb=1}function ao(p,v,S,O,z,G,W){var et=v[z].Yb[S];for(S=0;16>z;++z){if(!_t(p,et[S+0]))return z;for(;!_t(p,et[S+1]);)if(et=v[++z].Yb[0],S=0,z==16)return 16;var nt=v[z+1].Yb;if(_t(p,et[S+2])){var at=p,yt=0;if(_t(at,(st=et)[(Et=S)+3]))if(_t(at,st[Et+6])){for(et=0,Et=2*(yt=_t(at,st[Et+8]))+(st=_t(at,st[Et+9+yt])),yt=0,st=gd[Et];st[et];++et)yt+=yt+_t(at,st[et]);yt+=3+(8<<Et)}else _t(at,st[Et+7])?(yt=7+2*_t(at,165),yt+=_t(at,145)):yt=5+_t(at,159);else yt=_t(at,st[Et+4])?3+_t(at,st[Et+5]):2;et=nt[2]}else yt=1,et=nt[1];nt=W+Vh[z],0>(at=p).b&&ft(at);var Et,st=at.b,xt=(Et=at.Ca>>1)-(at.I>>st)>>31;--at.b,at.Ca+=xt,at.Ca|=1,at.I-=(Et+1&xt)<<st,G[nt]=((yt^xt)-xt)*O[(0<z)+0]}return 16}function wc(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function xr(p,v,S,O,z){z=p[v+S+32*O]+(z>>3),p[v+S+32*O]=-256&z?0>z?0:255:z}function Ri(p,v,S,O,z,G){xr(p,v,0,S,O+z),xr(p,v,1,S,O+G),xr(p,v,2,S,O-G),xr(p,v,3,S,O-z)}function Si(p){return(20091*p>>16)+p}function _l(p,v,S,O){var z,G=0,W=o(16);for(z=0;4>z;++z){var et=p[v+0]+p[v+8],nt=p[v+0]-p[v+8],at=(35468*p[v+4]>>16)-Si(p[v+12]),yt=Si(p[v+4])+(35468*p[v+12]>>16);W[G+0]=et+yt,W[G+1]=nt+at,W[G+2]=nt-at,W[G+3]=et-yt,G+=4,v++}for(z=G=0;4>z;++z)et=(p=W[G+0]+4)+W[G+8],nt=p-W[G+8],at=(35468*W[G+4]>>16)-Si(W[G+12]),xr(S,O,0,0,et+(yt=Si(W[G+4])+(35468*W[G+12]>>16))),xr(S,O,1,0,nt+at),xr(S,O,2,0,nt-at),xr(S,O,3,0,et-yt),G++,O+=32}function pu(p,v,S,O){var z=p[v+0]+4,G=35468*p[v+4]>>16,W=Si(p[v+4]),et=35468*p[v+1]>>16;Ri(S,O,0,z+W,p=Si(p[v+1]),et),Ri(S,O,1,z+G,p,et),Ri(S,O,2,z-G,p,et),Ri(S,O,3,z-W,p,et)}function Sc(p,v,S,O,z){_l(p,v,S,O),z&&_l(p,v+16,S,O+4)}function _r(p,v,S,O){Ra(p,v+0,S,O,1),Ra(p,v+32,S,O+128,1)}function Ac(p,v,S,O){var z;for(p=p[v+0]+4,z=0;4>z;++z)for(v=0;4>v;++v)xr(S,O,v,z,p)}function Nc(p,v,S,O){p[v+0]&&xn(p,v+0,S,O),p[v+16]&&xn(p,v+16,S,O+4),p[v+32]&&xn(p,v+32,S,O+128),p[v+48]&&xn(p,v+48,S,O+128+4)}function Os(p,v,S,O){var z,G=o(16);for(z=0;4>z;++z){var W=p[v+0+z]+p[v+12+z],et=p[v+4+z]+p[v+8+z],nt=p[v+4+z]-p[v+8+z],at=p[v+0+z]-p[v+12+z];G[0+z]=W+et,G[8+z]=W-et,G[4+z]=at+nt,G[12+z]=at-nt}for(z=0;4>z;++z)W=(p=G[0+4*z]+3)+G[3+4*z],et=G[1+4*z]+G[2+4*z],nt=G[1+4*z]-G[2+4*z],at=p-G[3+4*z],S[O+0]=W+et>>3,S[O+16]=at+nt>>3,S[O+32]=W-et>>3,S[O+48]=at-nt>>3,O+=64}function Io(p,v,S){var O,z=v-32,G=fr,W=255-p[z-1];for(O=0;O<S;++O){var et,nt=G,at=W+p[v-1];for(et=0;et<S;++et)p[v+et]=nt[at+p[z+et]];v+=32}}function mu(p,v){Io(p,v,4)}function gu(p,v){Io(p,v,8)}function Tc(p,v){Io(p,v,16)}function Cc(p,v){var S;for(S=0;16>S;++S)r(p,v+32*S,p,v-32,16)}function vu(p,v){var S;for(S=16;0<S;--S)a(p,v,p[v-1],16),v+=32}function Lr(p,v,S){var O;for(O=0;16>O;++O)a(v,S+32*O,p,16)}function Ms(p,v){var S,O=16;for(S=0;16>S;++S)O+=p[v-1+32*S]+p[v+S-32];Lr(O>>5,p,v)}function ba(p,v){var S,O=8;for(S=0;16>S;++S)O+=p[v-1+32*S];Lr(O>>4,p,v)}function Bo(p,v){var S,O=8;for(S=0;16>S;++S)O+=p[v+S-32];Lr(O>>4,p,v)}function oo(p,v){Lr(128,p,v)}function je(p,v,S){return p+2*v+S+2>>2}function yu(p,v){var S,O=v-32;for(O=new Uint8Array([je(p[O-1],p[O+0],p[O+1]),je(p[O+0],p[O+1],p[O+2]),je(p[O+1],p[O+2],p[O+3]),je(p[O+2],p[O+3],p[O+4])]),S=0;4>S;++S)r(p,v+32*S,O,0,O.length)}function Ec(p,v){var S=p[v-1],O=p[v-1+32],z=p[v-1+64],G=p[v-1+96];Rt(p,v+0,16843009*je(p[v-1-32],S,O)),Rt(p,v+32,16843009*je(S,O,z)),Rt(p,v+64,16843009*je(O,z,G)),Rt(p,v+96,16843009*je(z,G,G))}function bu(p,v){var S,O=4;for(S=0;4>S;++S)O+=p[v+S-32]+p[v-1+32*S];for(O>>=3,S=0;4>S;++S)a(p,v+32*S,O,4)}function Yr(p,v){var S=p[v-1+0],O=p[v-1+32],z=p[v-1+64],G=p[v-1-32],W=p[v+0-32],et=p[v+1-32],nt=p[v+2-32],at=p[v+3-32];p[v+0+96]=je(O,z,p[v-1+96]),p[v+1+96]=p[v+0+64]=je(S,O,z),p[v+2+96]=p[v+1+64]=p[v+0+32]=je(G,S,O),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=je(W,G,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=je(et,W,G),p[v+3+32]=p[v+2+0]=je(nt,et,W),p[v+3+0]=je(at,nt,et)}function Ji(p,v){var S=p[v+1-32],O=p[v+2-32],z=p[v+3-32],G=p[v+4-32],W=p[v+5-32],et=p[v+6-32],nt=p[v+7-32];p[v+0+0]=je(p[v+0-32],S,O),p[v+1+0]=p[v+0+32]=je(S,O,z),p[v+2+0]=p[v+1+32]=p[v+0+64]=je(O,z,G),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=je(z,G,W),p[v+3+32]=p[v+2+64]=p[v+1+96]=je(G,W,et),p[v+3+64]=p[v+2+96]=je(W,et,nt),p[v+3+96]=je(et,nt,nt)}function kc(p,v){var S=p[v-1+0],O=p[v-1+32],z=p[v-1+64],G=p[v-1-32],W=p[v+0-32],et=p[v+1-32],nt=p[v+2-32],at=p[v+3-32];p[v+0+0]=p[v+1+64]=G+W+1>>1,p[v+1+0]=p[v+2+64]=W+et+1>>1,p[v+2+0]=p[v+3+64]=et+nt+1>>1,p[v+3+0]=nt+at+1>>1,p[v+0+96]=je(z,O,S),p[v+0+64]=je(O,S,G),p[v+0+32]=p[v+1+96]=je(S,G,W),p[v+1+32]=p[v+2+96]=je(G,W,et),p[v+2+32]=p[v+3+96]=je(W,et,nt),p[v+3+32]=je(et,nt,at)}function qo(p,v){var S=p[v+0-32],O=p[v+1-32],z=p[v+2-32],G=p[v+3-32],W=p[v+4-32],et=p[v+5-32],nt=p[v+6-32],at=p[v+7-32];p[v+0+0]=S+O+1>>1,p[v+1+0]=p[v+0+64]=O+z+1>>1,p[v+2+0]=p[v+1+64]=z+G+1>>1,p[v+3+0]=p[v+2+64]=G+W+1>>1,p[v+0+32]=je(S,O,z),p[v+1+32]=p[v+0+96]=je(O,z,G),p[v+2+32]=p[v+1+96]=je(z,G,W),p[v+3+32]=p[v+2+96]=je(G,W,et),p[v+3+64]=je(W,et,nt),p[v+3+96]=je(et,nt,at)}function Wr(p,v){var S=p[v-1+0],O=p[v-1+32],z=p[v-1+64],G=p[v-1+96];p[v+0+0]=S+O+1>>1,p[v+2+0]=p[v+0+32]=O+z+1>>1,p[v+2+32]=p[v+0+64]=z+G+1>>1,p[v+1+0]=je(S,O,z),p[v+3+0]=p[v+1+32]=je(O,z,G),p[v+3+32]=p[v+1+64]=je(z,G,G),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=G}function zo(p,v){var S=p[v-1+0],O=p[v-1+32],z=p[v-1+64],G=p[v-1+96],W=p[v-1-32],et=p[v+0-32],nt=p[v+1-32],at=p[v+2-32];p[v+0+0]=p[v+2+32]=S+W+1>>1,p[v+0+32]=p[v+2+64]=O+S+1>>1,p[v+0+64]=p[v+2+96]=z+O+1>>1,p[v+0+96]=G+z+1>>1,p[v+3+0]=je(et,nt,at),p[v+2+0]=je(W,et,nt),p[v+1+0]=p[v+3+32]=je(S,W,et),p[v+1+32]=p[v+3+64]=je(O,S,W),p[v+1+64]=p[v+3+96]=je(z,O,S),p[v+1+96]=je(G,z,O)}function $s(p,v){var S;for(S=0;8>S;++S)r(p,v+32*S,p,v-32,8)}function xu(p,v){var S;for(S=0;8>S;++S)a(p,v,p[v-1],8),v+=32}function is(p,v,S){var O;for(O=0;8>O;++O)a(v,S+32*O,p,8)}function wl(p,v){var S,O=8;for(S=0;8>S;++S)O+=p[v+S-32]+p[v-1+32*S];is(O>>4,p,v)}function Sl(p,v){var S,O=4;for(S=0;8>S;++S)O+=p[v+S-32];is(O>>3,p,v)}function Vi(p,v){var S,O=4;for(S=0;8>S;++S)O+=p[v-1+32*S];is(O>>3,p,v)}function Qs(p,v){is(128,p,v)}function rs(p,v,S){var O=p[v-S],z=p[v+0],G=3*(z-O)+Ia[1020+p[v-2*S]-p[v+S]],W=qc[112+(G+4>>3)];p[v-S]=fr[255+O+qc[112+(G+3>>3)]],p[v+0]=fr[255+z-W]}function xa(p,v,S,O){var z=p[v+0],G=p[v+S];return nr[255+p[v-2*S]-p[v-S]]>O||nr[255+G-z]>O}function Al(p,v,S,O){return 4*nr[255+p[v-S]-p[v+0]]+nr[255+p[v-2*S]-p[v+S]]<=O}function Fo(p,v,S,O,z){var G=p[v-3*S],W=p[v-2*S],et=p[v-S],nt=p[v+0],at=p[v+S],yt=p[v+2*S],Et=p[v+3*S];return 4*nr[255+et-nt]+nr[255+W-at]>O?0:nr[255+p[v-4*S]-G]<=z&&nr[255+G-W]<=z&&nr[255+W-et]<=z&&nr[255+Et-yt]<=z&&nr[255+yt-at]<=z&&nr[255+at-nt]<=z}function _a(p,v,S,O){var z=2*O+1;for(O=0;16>O;++O)Al(p,v+O,S,z)&&rs(p,v+O,S)}function wa(p,v,S,O){var z=2*O+1;for(O=0;16>O;++O)Al(p,v+O*S,1,z)&&rs(p,v+O*S,1)}function Po(p,v,S,O){var z;for(z=3;0<z;--z)_a(p,v+=4*S,S,O)}function Oc(p,v,S,O){var z;for(z=3;0<z;--z)wa(p,v+=4,S,O)}function Sa(p,v,S,O,z,G,W,et){for(G=2*G+1;0<z--;){if(Fo(p,v,S,G,W))if(xa(p,v,S,et))rs(p,v,S);else{var nt=p,at=v,yt=S,Et=nt[at-2*yt],st=nt[at-yt],xt=nt[at+0],Tt=nt[at+yt],Bt=nt[at+2*yt],Ct=27*(Ut=Ia[1020+3*(xt-st)+Ia[1020+Et-Tt]])+63>>7,It=18*Ut+63>>7,Ut=9*Ut+63>>7;nt[at-3*yt]=fr[255+nt[at-3*yt]+Ut],nt[at-2*yt]=fr[255+Et+It],nt[at-yt]=fr[255+st+Ct],nt[at+0]=fr[255+xt-Ct],nt[at+yt]=fr[255+Tt-It],nt[at+2*yt]=fr[255+Bt-Ut]}v+=O}}function Aa(p,v,S,O,z,G,W,et){for(G=2*G+1;0<z--;){if(Fo(p,v,S,G,W))if(xa(p,v,S,et))rs(p,v,S);else{var nt=p,at=v,yt=S,Et=nt[at-yt],st=nt[at+0],xt=nt[at+yt],Tt=qc[112+(4+(Bt=3*(st-Et))>>3)],Bt=qc[112+(Bt+3>>3)],Ct=Tt+1>>1;nt[at-2*yt]=fr[255+nt[at-2*yt]+Ct],nt[at-yt]=fr[255+Et+Bt],nt[at+0]=fr[255+st-Tt],nt[at+yt]=fr[255+xt-Ct]}v+=O}}function _u(p,v,S,O,z,G){Sa(p,v,S,1,16,O,z,G)}function Na(p,v,S,O,z,G){Sa(p,v,1,S,16,O,z,G)}function wu(p,v,S,O,z,G){var W;for(W=3;0<W;--W)Aa(p,v+=4*S,S,1,16,O,z,G)}function _(p,v,S,O,z,G){var W;for(W=3;0<W;--W)Aa(p,v+=4,1,S,16,O,z,G)}function q(p,v,S,O,z,G,W,et){Sa(p,v,z,1,8,G,W,et),Sa(S,O,z,1,8,G,W,et)}function lt(p,v,S,O,z,G,W,et){Sa(p,v,1,z,8,G,W,et),Sa(S,O,1,z,8,G,W,et)}function vt(p,v,S,O,z,G,W,et){Aa(p,v+4*z,z,1,8,G,W,et),Aa(S,O+4*z,z,1,8,G,W,et)}function St(p,v,S,O,z,G,W,et){Aa(p,v+4,1,z,8,G,W,et),Aa(S,O+4,1,z,8,G,W,et)}function Pt(){this.ba=new te,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ve,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Zt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ye(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ae(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ut,this.yc=new U}function qe(){this.xb=this.a=0,this.l=new ya,this.ca=new te,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ae,this.ab=0,this.gc=h(4,ye),this.Oc=0}function He(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ya,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function un(p,v,S,O,z,G,W){for(p=p==null?0:p[v+0],v=0;v<W;++v)z[G+v]=p+S[O+v]&255,p=z[G+v]}function ei(p,v,S,O,z,G,W){var et;if(p==null)un(null,null,S,O,z,G,W);else for(et=0;et<W;++et)z[G+et]=p[v+et]+S[O+et]&255}function yi(p,v,S,O,z,G,W){if(p==null)un(null,null,S,O,z,G,W);else{var et,nt=p[v+0],at=nt,yt=nt;for(et=0;et<W;++et)at=yt+(nt=p[v+et])-at,yt=S[O+et]+(-256&at?0>at?0:255:at)&255,at=nt,z[G+et]=yt}}function zn(p,v,S,O){var z=v.width,G=v.o;if(t(p!=null&&v!=null),0>S||0>=O||S+O>G)return null;if(!p.Cc){if(p.ga==null){var W;if(p.ga=new He,(W=p.ga==null)||(W=v.width*v.o,t(p.Gb.length==0),p.Gb=o(W),p.Uc=0,p.Gb==null?W=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,W=1),W=!W),!W){W=p.ga;var et=p.Fa,nt=p.P,at=p.qc,yt=p.mb,Et=p.nb,st=nt+1,xt=at-1,Tt=W.l;if(t(et!=null&&yt!=null&&v!=null),Ba[0]=null,Ba[1]=un,Ba[2]=ei,Ba[3]=yi,W.ca=yt,W.tb=Et,W.c=v.width,W.i=v.height,t(0<W.c&&0<W.i),1>=at)v=0;else if(W.$a=3&et[nt+0],W.Z=et[nt+0]>>2&3,W.Lc=et[nt+0]>>4&3,nt=et[nt+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||nt)v=0;else if(Tt.put=he,Tt.ac=Tn,Tt.bc=sn,Tt.ma=W,Tt.width=v.width,Tt.height=v.height,Tt.Da=v.Da,Tt.v=v.v,Tt.va=v.va,Tt.j=v.j,Tt.o=v.o,W.$a)t:{t(W.$a==1),v=ga();e:for(;;){if(v==null){v=0;break t}if(t(W!=null),W.mc=v,v.c=W.c,v.i=W.i,v.l=W.l,v.l.ma=W,v.l.width=W.c,v.l.height=W.i,v.a=0,pt(v.m,et,st,xt),!Ur(W.c,W.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&wn(v.s)?(W.ic=1,et=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(et),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(W.ic=0,v=Vr(v,W.c)),!v))break e;v=1;break t}W.mc=null,v=0}else v=xt>=W.c*W.i;W=!v}if(W)return null;p.ga.Lc!=1?p.Ga=0:O=G-S}t(p.ga!=null),t(S+O<=G);t:{if(v=(et=p.ga).c,G=et.l.o,et.$a==0){if(st=p.rc,xt=p.Vc,Tt=p.Fa,nt=p.P+1+S*v,at=p.mb,yt=p.nb+S*v,t(nt<=p.P+p.qc),et.Z!=0)for(t(Ba[et.Z]!=null),W=0;W<O;++W)Ba[et.Z](st,xt,Tt,nt,at,yt,v),st=at,xt=yt,yt+=v,nt+=v;else for(W=0;W<O;++W)r(at,yt,Tt,nt,v),st=at,xt=yt,yt+=v,nt+=v;p.rc=st,p.Vc=xt}else{if(t(et.mc!=null),v=S+O,t((W=et.mc)!=null),t(v<=W.i),W.C>=v)v=1;else if(et.ic||Ls(),et.ic){et=W.V,st=W.Ba,xt=W.c;var Bt=W.i,Ct=(Tt=1,nt=W.$/xt,at=W.$%xt,yt=W.m,Et=W.s,W.$),It=xt*Bt,Ut=xt*v,Qt=Et.wc,Wt=Ct<Ut?Dn(Et,at,nt):null;t(Ct<=It),t(v<=Bt),t(wn(Et));e:for(;;){for(;!yt.h&&Ct<Ut;){if(at&Qt||(Wt=Dn(Et,at,nt)),t(Wt!=null),mt(yt),256>(Bt=Je(Wt.G[0],Wt.H[0],yt)))et[st+Ct]=Bt,++Ct,++at>=xt&&(at=0,++nt<=v&&!(nt%16)&&ji(W,nt));else{if(!(280>Bt)){Tt=0;break e}Bt=Cn(Bt-256,yt);var xe,fe=Je(Wt.G[4],Wt.H[4],yt);if(mt(yt),!(Ct>=(fe=Ln(xt,fe=Cn(fe,yt)))&&It-Ct>=Bt)){Tt=0;break e}for(xe=0;xe<Bt;++xe)et[st+Ct+xe]=et[st+Ct+xe-fe];for(Ct+=Bt,at+=Bt;at>=xt;)at-=xt,++nt<=v&&!(nt%16)&&ji(W,nt);Ct<Ut&&at&Qt&&(Wt=Dn(Et,at,nt))}t(yt.h==it(yt))}ji(W,nt>v?v:nt);break e}!Tt||yt.h&&Ct<It?(Tt=0,W.a=yt.h?5:3):W.$=Ct,v=Tt}else v=ur(W,W.V,W.Ba,W.c,W.i,v,Xs);if(!v){O=0;break t}}S+O>=G&&(p.Cc=1),O=1}if(!O)return null;if(p.Cc&&((O=p.ga)!=null&&(O.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*z}function Ii(p,v,S,O,z,G){for(;0<z--;){var W,et=p,nt=v+(S?1:0),at=p,yt=v+(S?0:3);for(W=0;W<O;++W){var Et=at[yt+4*W];Et!=255&&(Et*=32897,et[nt+4*W+0]=et[nt+4*W+0]*Et>>23,et[nt+4*W+1]=et[nt+4*W+1]*Et>>23,et[nt+4*W+2]=et[nt+4*W+2]*Et>>23)}v+=G}}function Ai(p,v,S,O,z){for(;0<O--;){var G;for(G=0;G<S;++G){var W=p[v+2*G+0],et=15&(at=p[v+2*G+1]),nt=4369*et,at=(240&at|at>>4)*nt>>16;p[v+2*G+0]=(240&W|W>>4)*nt>>16&240|(15&W|W<<4)*nt>>16>>4&15,p[v+2*G+1]=240&at|et}v+=z}}function tr(p,v,S,O,z,G,W,et){var nt,at,yt=255;for(at=0;at<z;++at){for(nt=0;nt<O;++nt){var Et=p[v+nt];G[W+4*nt]=Et,yt&=Et}v+=S,W+=et}return yt!=255}function Ta(p,v,S,O,z){var G;for(G=0;G<z;++G)S[O+G]=p[v+G]>>8}function Ls(){Go=Ii,as=Ai,Rc=tr,Kr=Ta}function Ca(p,v,S){R[p]=function(O,z,G,W,et,nt,at,yt,Et,st,xt,Tt,Bt,Ct,It,Ut,Qt){var Wt,xe=Qt-1>>1,fe=et[nt+0]|at[yt+0]<<16,Pe=Et[st+0]|xt[Tt+0]<<16;t(O!=null);var me=3*fe+Pe+131074>>2;for(v(O[z+0],255&me,me>>16,Bt,Ct),G!=null&&(me=3*Pe+fe+131074>>2,v(G[W+0],255&me,me>>16,It,Ut)),Wt=1;Wt<=xe;++Wt){var tn=et[nt+Wt]|at[yt+Wt]<<16,Zn=Et[st+Wt]|xt[Tt+Wt]<<16,Ge=fe+tn+Pe+Zn+524296,de=Ge+2*(tn+Pe)>>3;me=de+fe>>1,fe=(Ge=Ge+2*(fe+Zn)>>3)+tn>>1,v(O[z+2*Wt-1],255&me,me>>16,Bt,Ct+(2*Wt-1)*S),v(O[z+2*Wt-0],255&fe,fe>>16,Bt,Ct+(2*Wt-0)*S),G!=null&&(me=Ge+Pe>>1,fe=de+Zn>>1,v(G[W+2*Wt-1],255&me,me>>16,It,Ut+(2*Wt-1)*S),v(G[W+2*Wt+0],255&fe,fe>>16,It,Ut+(2*Wt+0)*S)),fe=tn,Pe=Zn}1&Qt||(me=3*fe+Pe+131074>>2,v(O[z+Qt-1],255&me,me>>16,Bt,Ct+(Qt-1)*S),G!=null&&(me=3*Pe+fe+131074>>2,v(G[W+Qt-1],255&me,me>>16,It,Ut+(Qt-1)*S)))}}function Mc(){rr[Tu]=Xo,rr[dr]=Rl,rr[Cu]=Gh,rr[os]=Lu,rr[zc]=mo,rr[Ll]=oa,rr[ho]=go,rr[Fc]=Rl,rr[Eu]=Lu,rr[Dl]=mo,rr[ku]=oa}function Nl(p){return p&-16384?0>p?0:255:p>>Du}function Js(p,v){return Nl((19077*p>>8)+(26149*v>>8)-14234)}function Ds(p,v,S){return Nl((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function Uo(p,v){return Nl((19077*p>>8)+(33050*v>>8)-17685)}function Ea(p,v,S,O,z){O[z+0]=Js(p,S),O[z+1]=Ds(p,v,S),O[z+2]=Uo(p,v)}function Hi(p,v,S,O,z){O[z+0]=Uo(p,v),O[z+1]=Ds(p,v,S),O[z+2]=Js(p,S)}function lo(p,v,S,O,z){var G=Ds(p,v,S);v=G<<3&224|Uo(p,v)>>3,O[z+0]=248&Js(p,S)|G>>5,O[z+1]=v}function co(p,v,S,O,z){var G=240&Uo(p,v)|15;O[z+0]=240&Js(p,S)|Ds(p,v,S)>>4,O[z+1]=G}function Tl(p,v,S,O,z){O[z+0]=255,Ea(p,v,S,O,z+1)}function ta(p,v,S,O,z){Hi(p,v,S,O,z),O[z+3]=255}function wr(p,v,S,O,z){Ea(p,v,S,O,z),O[z+3]=255}function ka(p,v,S){R[p]=function(O,z,G,W,et,nt,at,yt,Et){for(var st=yt+(-2&Et)*S;yt!=st;)v(O[z+0],G[W+0],et[nt+0],at,yt),v(O[z+1],G[W+0],et[nt+0],at,yt+S),z+=2,++W,++nt,yt+=2*S;1&Et&&v(O[z+0],G[W+0],et[nt+0],at,yt)}}function Cl(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function Lc(p,v,S,O,z){switch(p>>>30){case 3:Ra(v,S,O,z,0);break;case 2:hr(v,S,O,z);break;case 1:xn(v,S,O,z)}}function Xr(p,v){var S,O,z=v.M,G=v.Nb,W=p.oc,et=p.pc+40,nt=p.oc,at=p.pc+584,yt=p.oc,Et=p.pc+600;for(S=0;16>S;++S)W[et+32*S-1]=129;for(S=0;8>S;++S)nt[at+32*S-1]=129,yt[Et+32*S-1]=129;for(0<z?W[et-1-32]=nt[at-1-32]=yt[Et-1-32]=129:(a(W,et-32-1,127,21),a(nt,at-32-1,127,9),a(yt,Et-32-1,127,9)),O=0;O<p.za;++O){var st=v.ya[v.aa+O];if(0<O){for(S=-1;16>S;++S)r(W,et+32*S-4,W,et+32*S+12,4);for(S=-1;8>S;++S)r(nt,at+32*S-4,nt,at+32*S+4,4),r(yt,Et+32*S-4,yt,Et+32*S+4,4)}var xt=p.Gd,Tt=p.Hd+O,Bt=st.ad,Ct=st.Hc;if(0<z&&(r(W,et-32,xt[Tt].y,0,16),r(nt,at-32,xt[Tt].f,0,8),r(yt,Et-32,xt[Tt].ea,0,8)),st.Za){var It=W,Ut=et-32+16;for(0<z&&(O>=p.za-1?a(It,Ut,xt[Tt].y[15],4):r(It,Ut,xt[Tt+1].y,0,4)),S=0;4>S;S++)It[Ut+128+S]=It[Ut+256+S]=It[Ut+384+S]=It[Ut+0+S];for(S=0;16>S;++S,Ct<<=2)It=W,Ut=et+_i[S],hi[st.Ob[S]](It,Ut),Lc(Ct,Bt,16*+S,It,Ut)}else if(It=Cl(O,z,st.Ob[0]),Ar[It](W,et),Ct!=0)for(S=0;16>S;++S,Ct<<=2)Lc(Ct,Bt,16*+S,W,et+_i[S]);for(S=st.Gc,It=Cl(O,z,st.Dd),Bs[It](nt,at),Bs[It](yt,Et),Ct=Bt,It=nt,Ut=at,255&(st=0|S)&&(170&st?ss(Ct,256,It,Ut):hn(Ct,256,It,Ut)),st=yt,Ct=Et,255&(S>>=8)&&(170&S?ss(Bt,320,st,Ct):hn(Bt,320,st,Ct)),z<p.Ub-1&&(r(xt[Tt].y,0,W,et+480,16),r(xt[Tt].f,0,nt,at+224,8),r(xt[Tt].ea,0,yt,Et+224,8)),S=8*G*p.B,xt=p.sa,Tt=p.ta+16*O+16*G*p.R,Bt=p.qa,st=p.ra+8*O+S,Ct=p.Ha,It=p.Ia+8*O+S,S=0;16>S;++S)r(xt,Tt+S*p.R,W,et+32*S,16);for(S=0;8>S;++S)r(Bt,st+S*p.B,nt,at+32*S,8),r(Ct,It+S*p.B,yt,Et+32*S,8)}}function js(p,v,S,O,z,G,W,et,nt){var at=[0],yt=[0],Et=0,st=nt!=null?nt.kd:0,xt=nt??new Zt;if(p==null||12>S)return 7;xt.data=p,xt.w=v,xt.ha=S,v=[v],S=[S],xt.gb=[xt.gb];t:{var Tt=v,Bt=S,Ct=xt.gb;if(t(p!=null),t(Bt!=null),t(Ct!=null),Ct[0]=0,12<=Bt[0]&&!e(p,Tt[0],"RIFF")){if(e(p,Tt[0]+8,"WEBP")){Ct=3;break t}var It=$t(p,Tt[0]+4);if(12>It||4294967286<It){Ct=3;break t}if(st&&It>Bt[0]-8){Ct=7;break t}Ct[0]=It,Tt[0]+=12,Bt[0]-=12}Ct=0}if(Ct!=0)return Ct;for(It=0<xt.gb[0],S=S[0];;){t:{var Ut=p;Bt=v,Ct=S;var Qt=at,Wt=yt,xe=Tt=[0];if((me=Et=[Et])[0]=0,8>Ct[0])Ct=7;else{if(!e(Ut,Bt[0],"VP8X")){if($t(Ut,Bt[0]+4)!=10){Ct=3;break t}if(18>Ct[0]){Ct=7;break t}var fe=$t(Ut,Bt[0]+8),Pe=1+Ht(Ut,Bt[0]+12);if(2147483648<=Pe*(Ut=1+Ht(Ut,Bt[0]+15))){Ct=3;break t}xe!=null&&(xe[0]=fe),Qt!=null&&(Qt[0]=Pe),Wt!=null&&(Wt[0]=Ut),Bt[0]+=18,Ct[0]-=18,me[0]=1}Ct=0}}if(Et=Et[0],Tt=Tt[0],Ct!=0)return Ct;if(Bt=!!(2&Tt),!It&&Et)return 3;if(G!=null&&(G[0]=!!(16&Tt)),W!=null&&(W[0]=Bt),et!=null&&(et[0]=0),W=at[0],Tt=yt[0],Et&&Bt&&nt==null){Ct=0;break}if(4>S){Ct=7;break}if(It&&Et||!It&&!Et&&!e(p,v[0],"ALPH")){S=[S],xt.na=[xt.na],xt.P=[xt.P],xt.Sa=[xt.Sa];t:{fe=p,Ct=v,It=S;var me=xt.gb;Qt=xt.na,Wt=xt.P,xe=xt.Sa,Pe=22,t(fe!=null),t(It!=null),Ut=Ct[0];var tn=It[0];for(t(Qt!=null),t(xe!=null),Qt[0]=null,Wt[0]=null,xe[0]=0;;){if(Ct[0]=Ut,It[0]=tn,8>tn){Ct=7;break t}var Zn=$t(fe,Ut+4);if(4294967286<Zn){Ct=3;break t}var Ge=8+Zn+1&-2;if(Pe+=Ge,0<me&&Pe>me){Ct=3;break t}if(!e(fe,Ut,"VP8 ")||!e(fe,Ut,"VP8L")){Ct=0;break t}if(tn[0]<Ge){Ct=7;break t}e(fe,Ut,"ALPH")||(Qt[0]=fe,Wt[0]=Ut+8,xe[0]=Zn),Ut+=Ge,tn-=Ge}}if(S=S[0],xt.na=xt.na[0],xt.P=xt.P[0],xt.Sa=xt.Sa[0],Ct!=0)break}S=[S],xt.Ja=[xt.Ja],xt.xa=[xt.xa];t:if(me=p,Ct=v,It=S,Qt=xt.gb[0],Wt=xt.Ja,xe=xt.xa,fe=Ct[0],Ut=!e(me,fe,"VP8 "),Pe=!e(me,fe,"VP8L"),t(me!=null),t(It!=null),t(Wt!=null),t(xe!=null),8>It[0])Ct=7;else{if(Ut||Pe){if(me=$t(me,fe+4),12<=Qt&&me>Qt-12){Ct=3;break t}if(st&&me>It[0]-8){Ct=7;break t}Wt[0]=me,Ct[0]+=8,It[0]-=8,xe[0]=Pe}else xe[0]=5<=It[0]&&me[fe+0]==47&&!(me[fe+4]>>5),Wt[0]=It[0];Ct=0}if(S=S[0],xt.Ja=xt.Ja[0],xt.xa=xt.xa[0],v=v[0],Ct!=0)break;if(4294967286<xt.Ja)return 3;if(et==null||Bt||(et[0]=xt.xa?2:1),W=[W],Tt=[Tt],xt.xa){if(5>S){Ct=7;break}et=W,st=Tt,Bt=G,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(It=[0],me=[0],Qt=[0],pt(Wt=new H,p,v,S),jn(Wt,It,me,Qt)?(et!=null&&(et[0]=It[0]),st!=null&&(st[0]=me[0]),Bt!=null&&(Bt[0]=Qt[0]),p=1):p=0):p=0}else{if(10>S){Ct=7;break}et=Tt,p==null||10>S||!_c(p,v+3,S-3)?p=0:(st=p[v+0]|p[v+1]<<8|p[v+2]<<16,Bt=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&st||3<(st>>1&7)||!(st>>4&1)||st>>5>=xt.Ja||!Bt||!p?p=0:(W&&(W[0]=Bt),et&&(et[0]=p),p=1))}if(!p||(W=W[0],Tt=Tt[0],Et&&(at[0]!=W||yt[0]!=Tt)))return 3;nt!=null&&(nt[0]=xt,nt.offset=v-nt.w,t(4294967286>v-nt.w),t(nt.offset==nt.ha-S));break}return Ct==0||Ct==7&&Et&&nt==null?(G!=null&&(G[0]|=xt.na!=null&&0<xt.na.length),O!=null&&(O[0]=W),z!=null&&(z[0]=Tt),0):Ct}function Oa(p,v,S){var O=v.width,z=v.height,G=0,W=0,et=O,nt=z;if(v.Da=p!=null&&0<p.Da,v.Da&&(et=p.cd,nt=p.bd,G=p.v,W=p.j,11>S||(G&=-2,W&=-2),0>G||0>W||0>=et||0>=nt||G+et>O||W+nt>z))return 0;if(v.v=G,v.j=W,v.va=G+et,v.o=W+nt,v.U=et,v.T=nt,v.da=p!=null&&0<p.da,v.da){if(!ne(et,nt,S=[p.ib],G=[p.hb]))return 0;v.ib=S[0],v.hb=G[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*O/4&&v.hb<3*z/4,v.Kb=0),1}function Dc(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Rs(p,v,S,O){if(O==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var z=S.cd,G=S.bd,W=-2&S.v,et=-2&S.j;if(0>W||0>et||0>=z||0>=G||W+z>p||et+G>v)return 2;p=z,v=G}if(S.da){if(!ne(p,v,z=[S.ib],G=[S.hb]))return 2;p=z[0],v=G[0]}}O.width=p,O.height=v;t:{var nt=O.width,at=O.height;if(p=O.S,0>=nt||0>=at||!(p>=Tu&&13>p))p=2;else{if(0>=O.Rd&&O.sd==null){W=G=z=v=0;var yt=(et=nt*Ru[p])*at;if(11>p||(G=(at+1)/2*(v=(nt+1)/2),p==12&&(W=(z=nt)*at)),(at=o(yt+2*G+W))==null){p=1;break t}O.sd=at,11>p?((nt=O.f.RGBA).eb=at,nt.fb=0,nt.A=et,nt.size=yt):((nt=O.f.kb).y=at,nt.O=0,nt.fa=et,nt.Fd=yt,nt.f=at,nt.N=0+yt,nt.Ab=v,nt.Cd=G,nt.ea=at,nt.W=0+yt+G,nt.Db=v,nt.Ed=G,p==12&&(nt.F=at,nt.J=0+yt+2*G),nt.Tc=W,nt.lb=z)}if(v=1,z=O.S,G=O.width,W=O.height,z>=Tu&&13>z)if(11>z)p=O.f.RGBA,v&=(et=Math.abs(p.A))*(W-1)+G<=p.size,v&=et>=G*Ru[z],v&=p.eb!=null;else{p=O.f.kb,et=(G+1)/2,yt=(W+1)/2,nt=Math.abs(p.fa),at=Math.abs(p.Ab);var Et=Math.abs(p.Db),st=Math.abs(p.lb),xt=st*(W-1)+G;v&=nt*(W-1)+G<=p.Fd,v&=at*(yt-1)+et<=p.Cd,v=(v&=Et*(yt-1)+et<=p.Ed)&nt>=G&at>=et&Et>=et,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,z==12&&(v&=st>=G,v&=xt<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=Dc(O)),p}var uo=64,Dr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Sr=24,ea=32,na=8,Ma=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ie("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(p){return p},R.Predictor2=function(p,v,S){return v[S+0]},R.Predictor3=function(p,v,S){return v[S+1]},R.Predictor4=function(p,v,S){return v[S-1]},R.Predictor5=function(p,v,S){return pe(pe(p,v[S+1]),v[S+0])},R.Predictor6=function(p,v,S){return pe(p,v[S-1])},R.Predictor7=function(p,v,S){return pe(p,v[S+0])},R.Predictor8=function(p,v,S){return pe(v[S-1],v[S+0])},R.Predictor9=function(p,v,S){return pe(v[S+0],v[S+1])},R.Predictor10=function(p,v,S){return pe(pe(p,v[S-1]),pe(v[S+0],v[S+1]))},R.Predictor11=function(p,v,S){var O=v[S+0];return 0>=Kt(O>>24&255,p>>24&255,(v=v[S-1])>>24&255)+Kt(O>>16&255,p>>16&255,v>>16&255)+Kt(O>>8&255,p>>8&255,v>>8&255)+Kt(255&O,255&p,255&v)?O:p},R.Predictor12=function(p,v,S){var O=v[S+0];return(ke((p>>24&255)+(O>>24&255)-((v=v[S-1])>>24&255))<<24|ke((p>>16&255)+(O>>16&255)-(v>>16&255))<<16|ke((p>>8&255)+(O>>8&255)-(v>>8&255))<<8|ke((255&p)+(255&O)-(255&v)))>>>0},R.Predictor13=function(p,v,S){var O=v[S-1];return(Gt((p=pe(p,v[S+0]))>>24&255,O>>24&255)<<24|Gt(p>>16&255,O>>16&255)<<16|Gt(p>>8&255,O>>8&255)<<8|Gt(255&p,255&O))>>>0};var El=R.PredictorAdd0;R.PredictorAdd1=ce,ie("Predictor2","PredictorAdd2"),ie("Predictor3","PredictorAdd3"),ie("Predictor4","PredictorAdd4"),ie("Predictor5","PredictorAdd5"),ie("Predictor6","PredictorAdd6"),ie("Predictor7","PredictorAdd7"),ie("Predictor8","PredictorAdd8"),ie("Predictor9","PredictorAdd9"),ie("Predictor10","PredictorAdd10"),ie("Predictor11","PredictorAdd11"),ie("Predictor12","PredictorAdd12"),ie("Predictor13","PredictorAdd13");var kl=R.PredictorAdd2;oe("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),oe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var bi,Su=R.ColorIndexInverseTransform,ia=R.MapARGB,ra=R.VP8LColorIndexInverseTransformAlpha,er=R.MapAlpha,La=R.VP8LPredictorsAdd=[];La.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Ol,Ml,Da,ja,sa,Vo,Zr,Ra,hr,ss,xn,hn,Fn,xi,aa,Is,Ho,jc,Fh,dd,pd,md,Ph,Uh,Go,as,Rc,Kr,Yo=o(511),Au=o(2041),Ic=o(225),Bc=o(767),Nu=0,Ia=Au,qc=Ic,fr=Bc,nr=Yo,Tu=0,dr=1,Cu=2,os=3,zc=4,Ll=5,ho=6,Fc=7,Eu=8,Dl=9,ku=10,ls=[2,3,7],jl=[3,3,11],Wo=[280,256,256,256,40],Ou=[0,1,1,1,0],Pc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],cs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],us=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fo=8,hs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],$r=null,gd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Vh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Mu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],vd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ir=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Xn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],en=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ar=[],hi=[],Bs=[],po=1,Hh=2,Ba=[],rr=[];Ca("UpsampleRgbLinePair",Ea,3),Ca("UpsampleBgrLinePair",Hi,3),Ca("UpsampleRgbaLinePair",wr,4),Ca("UpsampleBgraLinePair",ta,4),Ca("UpsampleArgbLinePair",Tl,4),Ca("UpsampleRgba4444LinePair",co,2),Ca("UpsampleRgb565LinePair",lo,2);var Xo=R.UpsampleRgbLinePair,Gh=R.UpsampleBgrLinePair,Rl=R.UpsampleRgbaLinePair,Lu=R.UpsampleBgraLinePair,mo=R.UpsampleArgbLinePair,oa=R.UpsampleRgba4444LinePair,go=R.UpsampleRgb565LinePair,ds=16,Il=1<<ds-1,Zo=-227,vo=482,Du=6,yo=0,sr=o(256),ju=o(256),yd=o(256),j1=o(256),R1=o(vo-Zo),I1=o(vo-Zo);ka("YuvToRgbRow",Ea,3),ka("YuvToBgrRow",Hi,3),ka("YuvToRgbaRow",wr,4),ka("YuvToBgraRow",ta,4),ka("YuvToArgbRow",Tl,4),ka("YuvToRgba4444Row",co,2),ka("YuvToRgb565Row",lo,2);var _i=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bl=[0,2,8],Uc=[8,7,6,4,4,2,2,2,1,1,1,1],Vc=1;this.WebPDecodeRGBA=function(p,v,S,O,z){var G=dr,W=new Pt,et=new te;W.ba=et,et.S=G,et.width=[et.width],et.height=[et.height];var nt=et.width,at=et.height,yt=new Jt;if(yt==null||p==null)var Et=2;else t(yt!=null),Et=js(p,v,S,yt.width,yt.height,yt.Pd,yt.Qd,yt.format,null);if(Et!=0?nt=0:(nt!=null&&(nt[0]=yt.width[0]),at!=null&&(at[0]=yt.height[0]),nt=1),nt){et.width=et.width[0],et.height=et.height[0],O!=null&&(O[0]=et.width),z!=null&&(z[0]=et.height);t:{if(O=new ya,(z=new Zt).data=p,z.w=v,z.ha=S,z.kd=1,v=[0],t(z!=null),((p=js(z.data,z.w,z.ha,null,null,null,v,null,z))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(t(W!=null),O.data=z.data,O.w=z.w+z.offset,O.ha=z.ha-z.offset,O.put=he,O.ac=Tn,O.bc=sn,O.ma=W,z.xa){if((p=ga())==null){W=1;break t}if((function(st,xt){var Tt=[0],Bt=[0],Ct=[0];e:for(;;){if(st==null)return 0;if(xt==null)return st.a=2,0;if(st.l=xt,st.a=0,pt(st.m,xt.data,xt.w,xt.ha),!jn(st.m,Tt,Bt,Ct)){st.a=3;break e}if(st.xb=Hh,xt.width=Tt[0],xt.height=Bt[0],!Ur(Tt[0],Bt[0],1,st,null))break e;return 1}return t(st.a!=0),0})(p,O)){if(O=(v=Rs(O.width,O.height,W.Oa,W.ba))==0){e:{O=p;n:for(;;){if(O==null){O=0;break e}if(t(O.s.yc!=null),t(O.s.Ya!=null),t(0<O.s.Wb),t((S=O.l)!=null),t((z=S.ma)!=null),O.xb!=0){if(O.ca=z.ba,O.tb=z.tb,t(O.ca!=null),!Oa(z.Oa,S,os)){O.a=2;break n}if(!Vr(O,S.width)||S.da)break n;if((S.da||zt(O.ca.S))&&Ls(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Ls()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!V(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!ur(O,O.V,O.Ba,O.c,O.i,S.o,ui))break n;z.Dc=O.Ma,O=1;break e}t(O.a!=0),O=0}O=!O}O&&(v=p.a)}else v=p.a}else{if((p=new ks)==null){W=1;break t}if(p.Fa=z.na,p.P=z.P,p.qc=z.Sa,Ks(p,O)){if((v=Rs(O.width,O.height,W.Oa,W.ba))==0){if(p.Aa=0,S=W.Oa,t((z=p)!=null),S!=null){if(0<(nt=0>(nt=S.Md)?0:100<nt?255:255*nt/100)){for(at=yt=0;4>at;++at)12>(Et=z.pb[at]).lc&&(Et.ia=nt*Uc[0>Et.lc?0:Et.lc]>>3),yt|=Et.ia;yt&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=S.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(st,xt){if(st==null)return 0;if(xt==null)return bn(st,2,"NULL VP8Io parameter in VP8Decode().");if(!st.cb&&!Ks(st,xt))return 0;if(t(st.cb),xt.ac==null||xt.ac(xt)){xt.ob&&(st.L=0);var Tt=Bl[st.L];if(st.L==2?(st.yb=0,st.zb=0):(st.yb=xt.v-Tt>>4,st.zb=xt.j-Tt>>4,0>st.yb&&(st.yb=0),0>st.zb&&(st.zb=0)),st.Va=xt.o+15+Tt>>4,st.Hb=xt.va+15+Tt>>4,st.Hb>st.za&&(st.Hb=st.za),st.Va>st.Ub&&(st.Va=st.Ub),0<st.L){var Bt=st.ed;for(Tt=0;4>Tt;++Tt){var Ct;if(st.Qa.Cb){var It=st.Qa.Lb[Tt];st.Qa.Fb||(It+=Bt.Tb)}else It=Bt.Tb;for(Ct=0;1>=Ct;++Ct){var Ut=st.gd[Tt][Ct],Qt=It;if(Bt.Pc&&(Qt+=Bt.vd[0],Ct&&(Qt+=Bt.od[0])),0<(Qt=0>Qt?0:63<Qt?63:Qt)){var Wt=Qt;0<Bt.wb&&(Wt=4<Bt.wb?Wt>>2:Wt>>1)>9-Bt.wb&&(Wt=9-Bt.wb),1>Wt&&(Wt=1),Ut.dd=Wt,Ut.tc=2*Qt+Wt,Ut.ld=40<=Qt?2:15<=Qt?1:0}else Ut.tc=0;Ut.La=Ct}}}Tt=0}else bn(st,6,"Frame setup failed"),Tt=st.a;if(Tt=Tt==0){if(Tt){st.$c=0,0<st.Aa||(st.Ic=Vc);e:{Tt=st.Ic,Bt=4*(Wt=st.za);var xe=32*Wt,fe=Wt+1,Pe=0<st.L?Wt*(0<st.Aa?2:1):0,me=(st.Aa==2?2:1)*Wt;if((Ut=Bt+832+(Ct=3*(16*Tt+Bl[st.L])/2*xe)+(It=st.Fa!=null&&0<st.Fa.length?st.Kc.c*st.Kc.i:0))!=Ut)Tt=0;else{if(Ut>st.Vb){if(st.Vb=0,st.Ec=o(Ut),st.Fc=0,st.Ec==null){Tt=bn(st,1,"no memory during frame initialization.");break e}st.Vb=Ut}Ut=st.Ec,Qt=st.Fc,st.Ac=Ut,st.Bc=Qt,Qt+=Bt,st.Gd=h(xe,xc),st.Hd=0,st.rb=h(fe+1,Es),st.sb=1,st.wa=Pe?h(Pe,Hr):null,st.Y=0,st.D.Nb=0,st.D.wa=st.wa,st.D.Y=st.Y,0<st.Aa&&(st.D.Y+=Wt),t(!0),st.oc=Ut,st.pc=Qt,Qt+=832,st.ya=h(me,yc),st.aa=0,st.D.ya=st.ya,st.D.aa=st.aa,st.Aa==2&&(st.D.aa+=Wt),st.R=16*Wt,st.B=8*Wt,Wt=(xe=Bl[st.L])*st.R,xe=xe/2*st.B,st.sa=Ut,st.ta=Qt+Wt,st.qa=st.sa,st.ra=st.ta+16*Tt*st.R+xe,st.Ha=st.qa,st.Ia=st.ra+8*Tt*st.B+xe,st.$c=0,Qt+=Ct,st.mb=It?Ut:null,st.nb=It?Qt:null,t(Qt+It<=st.Fc+st.Vb),wc(st),a(st.Ac,st.Bc,0,Bt),Tt=1}}if(Tt){if(xt.ka=0,xt.y=st.sa,xt.O=st.ta,xt.f=st.qa,xt.N=st.ra,xt.ea=st.Ha,xt.Vd=st.Ia,xt.fa=st.R,xt.Rc=st.B,xt.F=null,xt.J=0,!Nu){for(Tt=-255;255>=Tt;++Tt)Yo[255+Tt]=0>Tt?-Tt:Tt;for(Tt=-1020;1020>=Tt;++Tt)Au[1020+Tt]=-128>Tt?-128:127<Tt?127:Tt;for(Tt=-112;112>=Tt;++Tt)Ic[112+Tt]=-16>Tt?-16:15<Tt?15:Tt;for(Tt=-255;510>=Tt;++Tt)Bc[255+Tt]=0>Tt?0:255<Tt?255:Tt;Nu=1}Zr=Os,Ra=Sc,ss=_r,xn=Ac,hn=Nc,hr=pu,Fn=_u,xi=Na,aa=q,Is=lt,Ho=wu,jc=_,Fh=vt,dd=St,pd=_a,md=wa,Ph=Po,Uh=Oc,hi[0]=bu,hi[1]=mu,hi[2]=yu,hi[3]=Ec,hi[4]=Yr,hi[5]=kc,hi[6]=Ji,hi[7]=qo,hi[8]=zo,hi[9]=Wr,Ar[0]=Ms,Ar[1]=Tc,Ar[2]=Cc,Ar[3]=vu,Ar[4]=ba,Ar[5]=Bo,Ar[6]=oo,Bs[0]=wl,Bs[1]=gu,Bs[2]=$s,Bs[3]=xu,Bs[4]=Vi,Bs[5]=Sl,Bs[6]=Qs,Tt=1}else Tt=0}Tt&&(Tt=(function(tn,Zn){for(tn.M=0;tn.M<tn.Va;++tn.M){var Ge,de=tn.Jc[tn.M&tn.Xb],se=tn.m,ni=tn;for(Ge=0;Ge<ni.za;++Ge){var Re=se,Xe=ni,kn=Xe.Ac,Bi=Xe.Bc+4*Ge,ar=Xe.zc,Pn=Xe.ya[Xe.aa+Ge];if(Xe.Qa.Bb?Pn.$b=_t(Re,Xe.Pa.jb[0])?2+_t(Re,Xe.Pa.jb[2]):_t(Re,Xe.Pa.jb[1]):Pn.$b=0,Xe.kc&&(Pn.Ad=_t(Re,Xe.Bd)),Pn.Za=!_t(Re,145)+0,Pn.Za){var Ni=Pn.Ob,pr=0;for(Xe=0;4>Xe;++Xe){var Ti,$e=ar[0+Xe];for(Ti=0;4>Ti;++Ti){$e=ir[kn[Bi+Ti]][$e];for(var pn=Mu[_t(Re,$e[0])];0<pn;)pn=Mu[2*pn+_t(Re,$e[pn])];$e=-pn,kn[Bi+Ti]=$e}r(Ni,pr,kn,Bi,4),pr+=4,ar[0+Xe]=$e}}else $e=_t(Re,156)?_t(Re,128)?1:3:_t(Re,163)?2:0,Pn.Ob[0]=$e,a(kn,Bi,$e,4),a(ar,0,$e,4);Pn.Dd=_t(Re,142)?_t(Re,114)?_t(Re,183)?1:3:2:0}if(ni.m.Ka)return bn(tn,7,"Premature end-of-partition0 encountered.");for(;tn.ja<tn.za;++tn.ja){if(ni=de,Re=(se=tn).rb[se.sb-1],kn=se.rb[se.sb+se.ja],Ge=se.ya[se.aa+se.ja],Bi=se.kc?Ge.Ad:0)Re.la=kn.la=0,Ge.Za||(Re.Na=kn.Na=0),Ge.Hc=0,Ge.Gc=0,Ge.ia=0;else{var ii,_n;if(Re=kn,kn=ni,Bi=se.Pa.Xc,ar=se.ya[se.aa+se.ja],Pn=se.pb[ar.$b],Xe=ar.ad,Ni=0,pr=se.rb[se.sb-1],$e=Ti=0,a(Xe,Ni,0,384),ar.Za)var qi=0,ri=Bi[3];else{pn=o(16);var mn=Re.Na+pr.Na;if(mn=$r(kn,Bi[1],mn,Pn.Eb,0,pn,0),Re.Na=pr.Na=(0<mn)+0,1<mn)Zr(pn,0,Xe,Ni);else{var wi=pn[0]+3>>3;for(pn=0;256>pn;pn+=16)Xe[Ni+pn]=wi}qi=1,ri=Bi[0]}var On=15&Re.la,Ci=15&pr.la;for(pn=0;4>pn;++pn){var Ei=1&Ci;for(wi=_n=0;4>wi;++wi)On=On>>1|(Ei=(mn=$r(kn,ri,mn=Ei+(1&On),Pn.Sc,qi,Xe,Ni))>qi)<<7,_n=_n<<2|(3<mn?3:1<mn?2:Xe[Ni+0]!=0),Ni+=16;On>>=4,Ci=Ci>>1|Ei<<7,Ti=(Ti<<8|_n)>>>0}for(ri=On,qi=Ci>>4,ii=0;4>ii;ii+=2){for(_n=0,On=Re.la>>4+ii,Ci=pr.la>>4+ii,pn=0;2>pn;++pn){for(Ei=1&Ci,wi=0;2>wi;++wi)mn=Ei+(1&On),On=On>>1|(Ei=0<(mn=$r(kn,Bi[2],mn,Pn.Qc,0,Xe,Ni)))<<3,_n=_n<<2|(3<mn?3:1<mn?2:Xe[Ni+0]!=0),Ni+=16;On>>=2,Ci=Ci>>1|Ei<<5}$e|=_n<<4*ii,ri|=On<<4<<ii,qi|=(240&Ci)<<ii}Re.la=ri,pr.la=qi,ar.Hc=Ti,ar.Gc=$e,ar.ia=43690&$e?0:Pn.ia,Bi=!(Ti|$e)}if(0<se.L&&(se.wa[se.Y+se.ja]=se.gd[Ge.$b][Ge.Za],se.wa[se.Y+se.ja].La|=!Bi),ni.Ka)return bn(tn,7,"Premature end-of-file encountered.")}if(wc(tn),se=Zn,ni=1,Ge=(de=tn).D,Re=0<de.L&&de.M>=de.zb&&de.M<=de.Va,de.Aa==0)e:{if(Ge.M=de.M,Ge.uc=Re,Xr(de,Ge),ni=1,Ge=(_n=de.D).Nb,Re=($e=Bl[de.L])*de.R,kn=$e/2*de.B,pn=16*Ge*de.R,wi=8*Ge*de.B,Bi=de.sa,ar=de.ta-Re+pn,Pn=de.qa,Xe=de.ra-kn+wi,Ni=de.Ha,pr=de.Ia-kn+wi,Ci=(On=_n.M)==0,Ti=On>=de.Va-1,de.Aa==2&&Xr(de,_n),_n.uc)for(Ei=(mn=de).D.M,t(mn.D.uc),_n=mn.yb;_n<mn.Hb;++_n){qi=_n,ri=Ei;var Rn=(fn=(ki=mn).D).Nb;ii=ki.R;var fn=fn.wa[fn.Y+qi],mr=ki.sa,fi=ki.ta+16*Rn*ii+16*qi,Oe=fn.dd,Me=fn.tc;if(Me!=0)if(t(3<=Me),ki.L==1)0<qi&&md(mr,fi,ii,Me+4),fn.La&&Uh(mr,fi,ii,Me),0<ri&&pd(mr,fi,ii,Me+4),fn.La&&Ph(mr,fi,ii,Me);else{var gn=ki.B,jr=ki.qa,ps=ki.ra+8*Rn*gn+8*qi,Nr=ki.Ha,ki=ki.Ia+8*Rn*gn+8*qi;Rn=fn.ld,0<qi&&(xi(mr,fi,ii,Me+4,Oe,Rn),Is(jr,ps,Nr,ki,gn,Me+4,Oe,Rn)),fn.La&&(jc(mr,fi,ii,Me,Oe,Rn),dd(jr,ps,Nr,ki,gn,Me,Oe,Rn)),0<ri&&(Fn(mr,fi,ii,Me+4,Oe,Rn),aa(jr,ps,Nr,ki,gn,Me+4,Oe,Rn)),fn.La&&(Ho(mr,fi,ii,Me,Oe,Rn),Fh(jr,ps,Nr,ki,gn,Me,Oe,Rn))}}if(de.ia&&alert("todo:DitherRow"),se.put!=null){if(_n=16*On,On=16*(On+1),Ci?(se.y=de.sa,se.O=de.ta+pn,se.f=de.qa,se.N=de.ra+wi,se.ea=de.Ha,se.W=de.Ia+wi):(_n-=$e,se.y=Bi,se.O=ar,se.f=Pn,se.N=Xe,se.ea=Ni,se.W=pr),Ti||(On-=$e),On>se.o&&(On=se.o),se.F=null,se.J=null,de.Fa!=null&&0<de.Fa.length&&_n<On&&(se.J=zn(de,se,_n,On-_n),se.F=de.mb,se.F==null&&se.F.length==0)){ni=bn(de,3,"Could not decode alpha data.");break e}_n<se.j&&($e=se.j-_n,_n=se.j,t(!(1&$e)),se.O+=de.R*$e,se.N+=de.B*($e>>1),se.W+=de.B*($e>>1),se.F!=null&&(se.J+=se.width*$e)),_n<On&&(se.O+=se.v,se.N+=se.v>>1,se.W+=se.v>>1,se.F!=null&&(se.J+=se.v),se.ka=_n-se.j,se.U=se.va-se.v,se.T=On-_n,ni=se.put(se))}Ge+1!=de.Ic||Ti||(r(de.sa,de.ta-Re,Bi,ar+16*de.R,Re),r(de.qa,de.ra-kn,Pn,Xe+8*de.B,kn),r(de.Ha,de.Ia-kn,Ni,pr+8*de.B,kn))}if(!ni)return bn(tn,6,"Output aborted.")}return 1})(st,xt)),xt.bc!=null&&xt.bc(xt),Tt&=1}return Tt?(st.cb=0,Tt):0})(p,O)||(v=p.a)}}else v=p.a}v==0&&W.Oa!=null&&W.Oa.fd&&(v=Dc(W.ba))}W=v}G=W!=0?null:11>G?et.f.RGBA.eb:et.f.kb.y}else G=null;return G};var Ru=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(R,Z){for(var C="",j=0;j<4;j++)C+=String.fromCharCode(R[Z++]);return C}function m(R,Z){return R[Z+0]|R[Z+1]<<8}function b(R,Z){return(R[Z+0]|R[Z+1]<<8|R[Z+2]<<16)>>>0}function w(R,Z){return(R[Z+0]|R[Z+1]<<8|R[Z+2]<<16|R[Z+3]<<24)>>>0}new f;var y=[0],A=[0],N=[],k=new f,T=i,P=(function(R,Z){var C={},j=0,U=!1,J=0,ut=0;if(C.frames=[],!(function(E,H){for(var tt=0;tt<4;tt++)if(E[H+tt]!="RIFF".charCodeAt(tt))return!0;return!1})(R,Z)){for(w(R,Z+=4),Z+=8;Z<R.length;){var $=d(R,Z),rt=w(R,Z+=4);Z+=4;var ct=rt+(1&rt);switch($){case"VP8 ":case"VP8L":C.frames[j]===void 0&&(C.frames[j]={}),(X=C.frames[j]).src_off=U?ut:Z-8,X.src_size=J+rt+8,j++,U&&(U=!1,J=0,ut=0);break;case"VP8X":(X=C.header={}).feature_flags=R[Z];var pt=Z+4;X.canvas_width=1+b(R,pt),pt+=3,X.canvas_height=1+b(R,pt),pt+=3;break;case"ALPH":U=!0,J=ct+8,ut=Z-8;break;case"ANIM":(X=C.header).bgcolor=w(R,Z),pt=Z+4,X.loop_count=m(R,pt),pt+=2;break;case"ANMF":var Nt,X;(X=C.frames[j]={}).offset_x=2*b(R,Z),Z+=3,X.offset_y=2*b(R,Z),Z+=3,X.width=1+b(R,Z),Z+=3,X.height=1+b(R,Z),Z+=3,X.duration=b(R,Z),Z+=3,Nt=R[Z++],X.dispose=1&Nt,X.blend=Nt>>1&1}$!="ANMF"&&(Z+=ct)}return C}})(T,0);P.response=T,P.rgbaoutput=!0,P.dataurl=!1;var F=P.header?P.header:null,I=P.frames?P.frames:null;if(F){F.loop_counter=F.loop_count,y=[F.canvas_height],A=[F.canvas_width];for(var B=0;B<I.length&&I[B].blend!=0;B++);}var Q=I[0],Y=k.WebPDecodeRGBA(T,Q.src_off,Q.src_size,A,y);Q.rgba=Y,Q.imgwidth=A[0],Q.imgheight=y[0];for(var D=0;D<A[0]*y[0]*4;D++)N[D]=Y[D];return this.width=A,this.height=y,this.data=N,this}(function(i){var t,e,r,a,o,h,c,f,d,m=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new f,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new h,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new h,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new b(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,h=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new m}]);var b=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=E;Object.defineProperty(this,"pdf",{get:function(){return H}});var tt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return tt},set:function(V){tt=!!V}});var it=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return it},set:function(V){it=!!V}});var ot=0;Object.defineProperty(this,"posX",{get:function(){return ot},set:function(V){isNaN(V)||(ot=V)}});var mt=0;Object.defineProperty(this,"posY",{get:function(){return mt},set:function(V){isNaN(V)||(mt=V)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(V){var Dt;typeof V=="number"?Dt=[V,V,V,V]:((Dt=new Array(4))[0]=V[0],Dt[1]=V.length>=2?V[1]:Dt[0],Dt[2]=V.length>=3?V[2]:Dt[0],Dt[3]=V.length>=4?V[3]:Dt[1]),d.margin=Dt}});var ft=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ft},set:function(V){ft=V}});var gt=0;Object.defineProperty(this,"lastBreak",{get:function(){return gt},set:function(V){gt=V}});var _t=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _t},set:function(V){_t=V}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(V){V instanceof m&&(d=V)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(V){d.path=V}});var Rt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Rt},set:function(V){Rt=V}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(V){var Dt;Dt=w(V),this.ctx.fillStyle=Dt.style,this.ctx.isFillTransparent=Dt.a===0,this.ctx.fillOpacity=Dt.a,this.pdf.setFillColor(Dt.r,Dt.g,Dt.b,{a:Dt.a}),this.pdf.setTextColor(Dt.r,Dt.g,Dt.b,{a:Dt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(V){var Dt=w(V);this.ctx.strokeStyle=Dt.style,this.ctx.isStrokeTransparent=Dt.a===0,this.ctx.strokeOpacity=Dt.a,Dt.a===0?this.pdf.setDrawColor(255,255,255):(Dt.a,this.pdf.setDrawColor(Dt.r,Dt.g,Dt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(V){["butt","round","square"].indexOf(V)!==-1&&(this.ctx.lineCap=V,this.pdf.setLineCap(V))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(V){isNaN(V)||(this.ctx.lineWidth=V,this.pdf.setLineWidth(V))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(V){["bevel","round","miter"].indexOf(V)!==-1&&(this.ctx.lineJoin=V,this.pdf.setLineJoin(V))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(V){isNaN(V)||(this.ctx.miterLimit=V,this.pdf.setMiterLimit(V))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(V){this.ctx.textBaseline=V}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(V){["right","end","center","left","start"].indexOf(V)!==-1&&(this.ctx.textAlign=V)}});var Xt=null,Ht=null,$t=null;Object.defineProperty(this,"fontFaces",{get:function(){return $t},set:function(V){Xt=null,Ht=null,$t=V}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(V){var Dt;if(this.ctx.font=V,(Dt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(V))!==null){var ue=Dt[1];Dt[2];var ne=Dt[3],Lt=Dt[4];Dt[5];var ee=Dt[6],ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Lt)[2];Lt=Math.floor(ie==="px"?parseFloat(Lt)*this.pdf.internal.scaleFactor:ie==="em"?parseFloat(Lt)*this.pdf.getFontSize():parseFloat(Lt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Lt);var le=(function(oe){var Ze,De,we=[],Se=oe.trim();if(Se==="")return A0;if(Se in wb)return[wb[Se]];for(;Se!=="";){switch(De=null,Ze=(Se=Ab(Se)).charAt(0)){case'"':case"'":De=WO(Se.substring(1),Ze);break;default:De=XO(Se)}if(De===null||(we.push(De[0]),(Se=Ab(De[1]))!==""&&Se.charAt(0)!==","))return A0;Se=Se.replace(/^,/,"")}return we})(ee);if(this.fontFaces){var pe=(function(oe,Ze){var De=oe.getFontList(),we=JSON.stringify(De);if(Xt===null||Ht!==we){var Se=(function(Fe){var wt=[];return Object.keys(Fe).forEach(function(qt){Fe[qt].forEach(function(zt){var re=null;switch(zt){case"bold":re={family:qt,weight:"bold"};break;case"italic":re={family:qt,style:"italic"};break;case"bolditalic":re={family:qt,weight:"bold",style:"italic"};break;case"":case"normal":re={family:qt}}re!==null&&(re.ref={name:qt,style:zt},wt.push(re))})}),wt})(De);Xt=(function(Fe){for(var wt={},qt=0;qt<Fe.length;++qt){var zt=S0(Fe[qt]),re=zt.family,Ee=zt.stretch,te=zt.style,Jt=zt.weight;wt[re]=wt[re]||{},wt[re][Ee]=wt[re][Ee]||{},wt[re][Ee][te]=wt[re][Ee][te]||{},wt[re][Ee][te][Jt]=zt}return wt})(Se.concat(Ze)),Ht=we}return Xt})(this.pdf,this.fontFaces),ke=le.map(function(oe){return{family:oe,stretch:"normal",weight:ne,style:ue}}),Gt=(function(oe,Ze,De){for(var we=(De=De||{}).defaultFontFamily||"times",Se=Object.assign({},YO,De.genericFontFamilies||{}),Fe=null,wt=null,qt=0;qt<Ze.length;++qt)if(Se[(Fe=S0(Ze[qt])).family]&&(Fe.family=Se[Fe.family]),oe.hasOwnProperty(Fe.family)){wt=oe[Fe.family];break}if(!(wt=wt||oe[we]))throw new Error("Could not find a font-family for the rule '"+Sb(Fe)+"' and default family '"+we+"'.");if(wt=(function(zt,re){if(re[zt])return re[zt];var Ee=J0[zt],te=Ee<=J0.normal?-1:1,Jt=_b(re,Nw,Ee,te);if(!Jt)throw new Error("Could not find a matching font-stretch value for "+zt);return Jt})(Fe.stretch,wt),wt=(function(zt,re){if(re[zt])return re[zt];for(var Ee=Aw[zt],te=0;te<Ee.length;++te)if(re[Ee[te]])return re[Ee[te]];throw new Error("Could not find a matching font-style for "+zt)})(Fe.style,wt),!(wt=(function(zt,re){if(re[zt])return re[zt];if(zt===400&&re[500])return re[500];if(zt===500&&re[400])return re[400];var Ee=GO[zt],te=_b(re,Tw,Ee,zt<400?-1:1);if(!te)throw new Error("Could not find a matching font-weight for value "+zt);return te})(Fe.weight,wt)))throw new Error("Failed to resolve a font for the rule '"+Sb(Fe)+"'.");return wt})(pe,ke);this.pdf.setFont(Gt.ref.name,Gt.ref.style)}else{var Kt="";(ne==="bold"||parseInt(ne,10)>=700||ue==="bold")&&(Kt="bold"),ue==="italic"&&(Kt+="italic"),Kt.length===0&&(Kt="normal");for(var ce="",ge={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ae=0;ae<le.length;ae++){if(this.pdf.internal.getFont(le[ae],Kt,{noFallback:!0,disableWarning:!0})!==void 0){ce=le[ae];break}if(Kt==="bolditalic"&&this.pdf.internal.getFont(le[ae],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ce=le[ae],Kt="bold";else if(this.pdf.internal.getFont(le[ae],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ce=le[ae],Kt="normal";break}}if(ce===""){for(var Te=0;Te<le.length;Te++)if(ge[le[Te]]){ce=ge[le[Te]];break}}ce=ce===""?"Times":ce,this.pdf.setFont(ce,Kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(V){this.ctx.globalCompositeOperation=V}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(V){this.ctx.globalAlpha=V}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(V){this.ctx.lineDashOffset=V,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(V){this.ctx.lineDash=V,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(V){this.ctx.ignoreClearRect=!!V}})};b.prototype.setLineDash=function(E){this.lineDash=E},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){I.call(this,"fill",!1)},b.prototype.stroke=function(){I.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(E,H){if(isNaN(E)||isNaN(H))throw $n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var tt=this.ctx.transform.applyToPoint(new h(E,H));this.path.push({type:"mt",x:tt.x,y:tt.y}),this.ctx.lastPoint=new h(E,H)},b.prototype.closePath=function(){var E=new h(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&qn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){E=new h(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new h(E.x,E.y)},b.prototype.lineTo=function(E,H){if(isNaN(E)||isNaN(H))throw $n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var tt=this.ctx.transform.applyToPoint(new h(E,H));this.path.push({type:"lt",x:tt.x,y:tt.y}),this.ctx.lastPoint=new h(tt.x,tt.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},b.prototype.quadraticCurveTo=function(E,H,tt,it){if(isNaN(tt)||isNaN(it)||isNaN(E)||isNaN(H))throw $n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ot=this.ctx.transform.applyToPoint(new h(tt,it)),mt=this.ctx.transform.applyToPoint(new h(E,H));this.path.push({type:"qct",x1:mt.x,y1:mt.y,x:ot.x,y:ot.y}),this.ctx.lastPoint=new h(ot.x,ot.y)},b.prototype.bezierCurveTo=function(E,H,tt,it,ot,mt){if(isNaN(ot)||isNaN(mt)||isNaN(E)||isNaN(H)||isNaN(tt)||isNaN(it))throw $n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ft=this.ctx.transform.applyToPoint(new h(ot,mt)),gt=this.ctx.transform.applyToPoint(new h(E,H)),_t=this.ctx.transform.applyToPoint(new h(tt,it));this.path.push({type:"bct",x1:gt.x,y1:gt.y,x2:_t.x,y2:_t.y,x:ft.x,y:ft.y}),this.ctx.lastPoint=new h(ft.x,ft.y)},b.prototype.arc=function(E,H,tt,it,ot,mt){if(isNaN(E)||isNaN(H)||isNaN(tt)||isNaN(it)||isNaN(ot))throw $n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(mt=!!mt,!this.ctx.transform.isIdentity){var ft=this.ctx.transform.applyToPoint(new h(E,H));E=ft.x,H=ft.y;var gt=this.ctx.transform.applyToPoint(new h(0,tt)),_t=this.ctx.transform.applyToPoint(new h(0,0));tt=Math.sqrt(Math.pow(gt.x-_t.x,2)+Math.pow(gt.y-_t.y,2))}Math.abs(ot-it)>=2*Math.PI&&(it=0,ot=2*Math.PI),this.path.push({type:"arc",x:E,y:H,radius:tt,startAngle:it,endAngle:ot,counterclockwise:mt})},b.prototype.arcTo=function(E,H,tt,it,ot){throw new Error("arcTo not implemented.")},b.prototype.rect=function(E,H,tt,it){if(isNaN(E)||isNaN(H)||isNaN(tt)||isNaN(it))throw $n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,H),this.lineTo(E+tt,H),this.lineTo(E+tt,H+it),this.lineTo(E,H+it),this.lineTo(E,H),this.lineTo(E+tt,H),this.lineTo(E,H)},b.prototype.fillRect=function(E,H,tt,it){if(isNaN(E)||isNaN(H)||isNaN(tt)||isNaN(it))throw $n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ot={};this.lineCap!=="butt"&&(ot.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ot.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,H,tt,it),this.fill(),ot.hasOwnProperty("lineCap")&&(this.lineCap=ot.lineCap),ot.hasOwnProperty("lineJoin")&&(this.lineJoin=ot.lineJoin)}},b.prototype.strokeRect=function(E,H,tt,it){if(isNaN(E)||isNaN(H)||isNaN(tt)||isNaN(it))throw $n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(E,H,tt,it),this.stroke())},b.prototype.clearRect=function(E,H,tt,it){if(isNaN(E)||isNaN(H)||isNaN(tt)||isNaN(it))throw $n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,H,tt,it))},b.prototype.save=function(E){E=typeof E!="boolean"||E;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,tt=0;tt<this.pdf.internal.getNumberOfPages();tt++)this.pdf.setPage(tt+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var it=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=it}},b.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,tt=0;tt<this.pdf.internal.getNumberOfPages();tt++)this.pdf.setPage(tt+1),this.pdf.internal.out("Q");this.pdf.setPage(H),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(E){var H,tt,it,ot;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))H=0,tt=0,it=0,ot=0;else{var mt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(mt!==null)H=parseInt(mt[1]),tt=parseInt(mt[2]),it=parseInt(mt[3]),ot=1;else if((mt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)H=parseInt(mt[1]),tt=parseInt(mt[2]),it=parseInt(mt[3]),ot=parseFloat(mt[4]);else{if(ot=1,typeof E=="string"&&E.charAt(0)!=="#"){var ft=new vw(E);E=ft.ok?ft.toHex():"#000000"}E.length===4?(H=E.substring(1,2),H+=H,tt=E.substring(2,3),tt+=tt,it=E.substring(3,4),it+=it):(H=E.substring(1,3),tt=E.substring(3,5),it=E.substring(5,7)),H=parseInt(H,16),tt=parseInt(tt,16),it=parseInt(it,16)}}return{r:H,g:tt,b:it,a:ot,style:E}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(E,H,tt,it){if(isNaN(H)||isNaN(tt)||typeof E!="string")throw $n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(it=isNaN(it)?void 0:it,!y.call(this)){var ot=ct(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;j.call(this,{text:E,x:H,y:tt,scale:mt,angle:ot,align:this.textAlign,maxWidth:it})}},b.prototype.strokeText=function(E,H,tt,it){if(isNaN(H)||isNaN(tt)||typeof E!="string")throw $n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){it=isNaN(it)?void 0:it;var ot=ct(this.ctx.transform.rotation),mt=this.ctx.transform.scaleX;j.call(this,{text:E,x:H,y:tt,scale:mt,renderingMode:"stroke",angle:ot,align:this.textAlign,maxWidth:it})}},b.prototype.measureText=function(E){if(typeof E!="string")throw $n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,tt=this.pdf.internal.scaleFactor,it=H.internal.getFontSize(),ot=H.getStringUnitWidth(E)*it/H.internal.scaleFactor;return new function(mt){var ft=(mt=mt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ft}}),this}({width:ot*=Math.round(96*tt/72*1e4)/1e4})},b.prototype.scale=function(E,H){if(isNaN(E)||isNaN(H))throw $n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var tt=new f(E,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(tt)},b.prototype.rotate=function(E){if(isNaN(E))throw $n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new f(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},b.prototype.translate=function(E,H){if(isNaN(E)||isNaN(H))throw $n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var tt=new f(1,0,0,1,E,H);this.ctx.transform=this.ctx.transform.multiply(tt)},b.prototype.transform=function(E,H,tt,it,ot,mt){if(isNaN(E)||isNaN(H)||isNaN(tt)||isNaN(it)||isNaN(ot)||isNaN(mt))throw $n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ft=new f(E,H,tt,it,ot,mt);this.ctx.transform=this.ctx.transform.multiply(ft)},b.prototype.setTransform=function(E,H,tt,it,ot,mt){E=isNaN(E)?1:E,H=isNaN(H)?0:H,tt=isNaN(tt)?0:tt,it=isNaN(it)?1:it,ot=isNaN(ot)?0:ot,mt=isNaN(mt)?0:mt,this.ctx.transform=new f(E,H,tt,it,ot,mt)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(E,H,tt,it,ot,mt,ft,gt,_t){var Rt=this.pdf.getImageProperties(E),Xt=1,Ht=1,$t=1,V=1;it!==void 0&&gt!==void 0&&($t=gt/it,V=_t/ot,Xt=Rt.width/it*gt/it,Ht=Rt.height/ot*_t/ot),mt===void 0&&(mt=H,ft=tt,H=0,tt=0),it!==void 0&&gt===void 0&&(gt=it,_t=ot),it===void 0&&gt===void 0&&(gt=Rt.width,_t=Rt.height);var Dt=this.ctx.transform.decompose(),ue=ct(Dt.rotate.shx),ne=new f,Lt=(ne=(ne=(ne=ne.multiply(Dt.translate)).multiply(Dt.skew)).multiply(Dt.scale)).applyToRectangle(new c(mt-H*$t,ft-tt*V,it*Xt,ot*Ht));if(this.autoPaging){for(var ee,ie=k.call(this,Lt),le=[],pe=0;pe<ie.length;pe+=1)le.indexOf(ie[pe])===-1&&le.push(ie[pe]);F(le);for(var ke=le[0],Gt=le[le.length-1],Kt=ke;Kt<Gt+1;Kt++){this.pdf.setPage(Kt);var ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ge=Kt===1?this.posY+this.margin[0]:this.margin[0],ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],oe=Kt===1?0:ae+(Kt-2)*Te;if(this.ctx.clip_path.length!==0){var Ze=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(ee,this.posX+this.margin[3],-oe+ge+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=Ze}var De=JSON.parse(JSON.stringify(Lt));De=P([De],this.posX+this.margin[3],-oe+ge+this.ctx.prevPageLastElemOffset)[0];var we=(Kt>ke||Kt<Gt)&&N.call(this);we&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ce,Te,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",De.x,De.y,De.w,De.h,null,null,ue),we&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(E,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,ue)};var k=function(E,H,tt){var it=[];H=H||this.pdf.internal.pageSize.width,tt=tt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ot=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":it.push(Math.floor((E.y+ot)/tt)+1);break;case"arc":it.push(Math.floor((E.y+ot-E.radius)/tt)+1),it.push(Math.floor((E.y+ot+E.radius)/tt)+1);break;case"qct":var mt=pt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);it.push(Math.floor((mt.y+ot)/tt)+1),it.push(Math.floor((mt.y+mt.h+ot)/tt)+1);break;case"bct":var ft=Nt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);it.push(Math.floor((ft.y+ot)/tt)+1),it.push(Math.floor((ft.y+ft.h+ot)/tt)+1);break;case"rect":it.push(Math.floor((E.y+ot)/tt)+1),it.push(Math.floor((E.y+E.h+ot)/tt)+1)}for(var gt=0;gt<it.length;gt+=1)for(;this.pdf.internal.getNumberOfPages()<it[gt];)T.call(this);return it},T=function(){var E=this.fillStyle,H=this.strokeStyle,tt=this.font,it=this.lineCap,ot=this.lineWidth,mt=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=H,this.font=tt,this.lineCap=it,this.lineWidth=ot,this.lineJoin=mt},P=function(E,H,tt){for(var it=0;it<E.length;it++)switch(E[it].type){case"bct":E[it].x2+=H,E[it].y2+=tt;case"qct":E[it].x1+=H,E[it].y1+=tt;default:E[it].x+=H,E[it].y+=tt}return E},F=function(E){return E.sort(function(H,tt){return H-tt})},I=function(E,H){var tt=this.fillStyle,it=this.strokeStyle,ot=this.lineCap,mt=this.lineWidth,ft=Math.abs(mt*this.ctx.transform.scaleX),gt=this.lineJoin;if(this.autoPaging){for(var _t,Rt,Xt=JSON.parse(JSON.stringify(this.path)),Ht=JSON.parse(JSON.stringify(this.path)),$t=[],V=0;V<Ht.length;V++)if(Ht[V].x!==void 0)for(var Dt=k.call(this,Ht[V]),ue=0;ue<Dt.length;ue+=1)$t.indexOf(Dt[ue])===-1&&$t.push(Dt[ue]);for(var ne=0;ne<$t.length;ne++)for(;this.pdf.internal.getNumberOfPages()<$t[ne];)T.call(this);F($t);for(var Lt=$t[0],ee=$t[$t.length-1],ie=Lt;ie<ee+1;ie++){this.pdf.setPage(ie),this.fillStyle=tt,this.strokeStyle=it,this.lineCap=ot,this.lineWidth=ft,this.lineJoin=gt;var le=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pe=ie===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Kt=ie===1?0:ke+(ie-2)*Gt;if(this.ctx.clip_path.length!==0){var ce=this.path;_t=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(_t,this.posX+this.margin[3],-Kt+pe+this.ctx.prevPageLastElemOffset),B.call(this,E,!0),this.path=ce}if(Rt=JSON.parse(JSON.stringify(Xt)),this.path=P(Rt,this.posX+this.margin[3],-Kt+pe+this.ctx.prevPageLastElemOffset),H===!1||ie===0){var ge=(ie>Lt||ie<ee)&&N.call(this);ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],le,Gt,null).clip().discardPath()),B.call(this,E,H),ge&&this.pdf.restoreGraphicsState()}this.lineWidth=mt}this.path=Xt}else this.lineWidth=ft,B.call(this,E,H),this.lineWidth=mt},B=function(E,H){if((E!=="stroke"||H||!A.call(this))&&(E==="stroke"||H||!y.call(this))){for(var tt,it,ot=[],mt=this.path,ft=0;ft<mt.length;ft++){var gt=mt[ft];switch(gt.type){case"begin":ot.push({begin:!0});break;case"close":ot.push({close:!0});break;case"mt":ot.push({start:gt,deltas:[],abs:[]});break;case"lt":var _t=ot.length;if(mt[ft-1]&&!isNaN(mt[ft-1].x)&&(tt=[gt.x-mt[ft-1].x,gt.y-mt[ft-1].y],_t>0)){for(;_t>=0;_t--)if(ot[_t-1].close!==!0&&ot[_t-1].begin!==!0){ot[_t-1].deltas.push(tt),ot[_t-1].abs.push(gt);break}}break;case"bct":tt=[gt.x1-mt[ft-1].x,gt.y1-mt[ft-1].y,gt.x2-mt[ft-1].x,gt.y2-mt[ft-1].y,gt.x-mt[ft-1].x,gt.y-mt[ft-1].y],ot[ot.length-1].deltas.push(tt);break;case"qct":var Rt=mt[ft-1].x+2/3*(gt.x1-mt[ft-1].x),Xt=mt[ft-1].y+2/3*(gt.y1-mt[ft-1].y),Ht=gt.x+2/3*(gt.x1-gt.x),$t=gt.y+2/3*(gt.y1-gt.y),V=gt.x,Dt=gt.y;tt=[Rt-mt[ft-1].x,Xt-mt[ft-1].y,Ht-mt[ft-1].x,$t-mt[ft-1].y,V-mt[ft-1].x,Dt-mt[ft-1].y],ot[ot.length-1].deltas.push(tt);break;case"arc":ot.push({deltas:[],abs:[],arc:!0}),Array.isArray(ot[ot.length-1].abs)&&ot[ot.length-1].abs.push(gt)}}it=H?null:E==="stroke"?"stroke":"fill";for(var ue=!1,ne=0;ne<ot.length;ne++)if(ot[ne].arc)for(var Lt=ot[ne].abs,ee=0;ee<Lt.length;ee++){var ie=Lt[ee];ie.type==="arc"?D.call(this,ie.x,ie.y,ie.radius,ie.startAngle,ie.endAngle,ie.counterclockwise,void 0,H,!ue):U.call(this,ie.x,ie.y),ue=!0}else if(ot[ne].close===!0)this.pdf.internal.out("h"),ue=!1;else if(ot[ne].begin!==!0){var le=ot[ne].start.x,pe=ot[ne].start.y;J.call(this,ot[ne].deltas,le,pe),ue=!0}it&&R.call(this,it),H&&Z.call(this)}},Q=function(E){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,tt=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-tt;case"top":return E+H-tt;case"hanging":return E+H-2*tt;case"middle":return E+H/2-tt;default:return E}},Y=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(H,tt){this.colorStops.push([H,tt])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(E,H,tt,it,ot,mt,ft,gt,_t){for(var Rt=$.call(this,tt,it,ot,mt),Xt=0;Xt<Rt.length;Xt++){var Ht=Rt[Xt];Xt===0&&(_t?C.call(this,Ht.x1+E,Ht.y1+H):U.call(this,Ht.x1+E,Ht.y1+H)),ut.call(this,E,H,Ht.x2,Ht.y2,Ht.x3,Ht.y3,Ht.x4,Ht.y4)}gt?Z.call(this):R.call(this,ft)},R=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(E,H){this.pdf.internal.out(e(E)+" "+r(H)+" m")},j=function(E){var H;switch(E.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var tt,it,ot,mt=this.pdf.getTextDimensions(E.text),ft=Q.call(this,E.y),gt=Y.call(this,ft)-mt.h,_t=this.ctx.transform.applyToPoint(new h(E.x,ft));if(this.autoPaging){var Rt=this.ctx.transform.decompose(),Xt=new f;Xt=(Xt=(Xt=Xt.multiply(Rt.translate)).multiply(Rt.skew)).multiply(Rt.scale);for(var Ht=this.ctx.transform.applyToRectangle(new c(E.x,ft,mt.w,mt.h)),$t=Xt.applyToRectangle(new c(E.x,gt,mt.w,mt.h)),V=k.call(this,$t),Dt=[],ue=0;ue<V.length;ue+=1)Dt.indexOf(V[ue])===-1&&Dt.push(V[ue]);F(Dt);for(var ne=Dt[0],Lt=Dt[Dt.length-1],ee=ne;ee<Lt+1;ee++){this.pdf.setPage(ee);var ie=ee===1?this.posY+this.margin[0]:this.margin[0],le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pe=this.pdf.internal.pageSize.height-this.margin[2],ke=pe-this.margin[0],Gt=this.pdf.internal.pageSize.width-this.margin[1],Kt=Gt-this.margin[3],ce=ee===1?0:le+(ee-2)*ke;if(this.ctx.clip_path.length!==0){var ge=this.path;tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(tt,this.posX+this.margin[3],-1*ce+ie),B.call(this,"fill",!0),this.path=ge}var ae=P([JSON.parse(JSON.stringify($t))],this.posX+this.margin[3],-ce+ie+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(it=this.pdf.internal.getFontSize(),this.pdf.setFontSize(it*E.scale),ot=this.lineWidth,this.lineWidth=ot*E.scale);var Te=this.autoPaging!=="text";if(Te||ae.y+ae.h<=pe){if(Te||ae.y>=ie&&ae.x<=Gt){var oe=Te?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||Gt-ae.x)[0],Ze=P([JSON.parse(JSON.stringify(Ht))],this.posX+this.margin[3],-ce+ie+this.ctx.prevPageLastElemOffset)[0],De=Te&&(ee>ne||ee<Lt)&&N.call(this);De&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,ke,null).clip().discardPath()),this.pdf.text(oe,Ze.x,Ze.y,{angle:E.angle,align:H,renderingMode:E.renderingMode}),De&&this.pdf.restoreGraphicsState()}}else ae.y<pe&&(this.ctx.prevPageLastElemOffset+=pe-ae.y);E.scale>=.01&&(this.pdf.setFontSize(it),this.lineWidth=ot)}}else E.scale>=.01&&(it=this.pdf.internal.getFontSize(),this.pdf.setFontSize(it*E.scale),ot=this.lineWidth,this.lineWidth=ot*E.scale),this.pdf.text(E.text,_t.x+this.posX,_t.y+this.posY,{angle:E.angle,align:H,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(it),this.lineWidth=ot)},U=function(E,H,tt,it){tt=tt||0,it=it||0,this.pdf.internal.out(e(E+tt)+" "+r(H+it)+" l")},J=function(E,H,tt){return this.pdf.lines(E,H,tt,null,null)},ut=function(E,H,tt,it,ot,mt,ft,gt){this.pdf.internal.out([t(a(tt+E)),t(o(it+H)),t(a(ot+E)),t(o(mt+H)),t(a(ft+E)),t(o(gt+H)),"c"].join(" "))},$=function(E,H,tt,it){for(var ot=2*Math.PI,mt=Math.PI/2;H>tt;)H-=ot;var ft=Math.abs(tt-H);ft<ot&&it&&(ft=ot-ft);for(var gt=[],_t=it?-1:1,Rt=H;ft>1e-5;){var Xt=Rt+_t*Math.min(ft,mt);gt.push(rt.call(this,E,Rt,Xt)),ft-=Math.abs(Xt-Rt),Rt=Xt}return gt},rt=function(E,H,tt){var it=(tt-H)/2,ot=E*Math.cos(it),mt=E*Math.sin(it),ft=ot,gt=-mt,_t=ft*ft+gt*gt,Rt=_t+ft*ot+gt*mt,Xt=4/3*(Math.sqrt(2*_t*Rt)-Rt)/(ft*mt-gt*ot),Ht=ft-Xt*gt,$t=gt+Xt*ft,V=Ht,Dt=-$t,ue=it+H,ne=Math.cos(ue),Lt=Math.sin(ue);return{x1:E*Math.cos(H),y1:E*Math.sin(H),x2:Ht*ne-$t*Lt,y2:Ht*Lt+$t*ne,x3:V*ne-Dt*Lt,y3:V*Lt+Dt*ne,x4:E*Math.cos(tt),y4:E*Math.sin(tt)}},ct=function(E){return 180*E/Math.PI},pt=function(E,H,tt,it,ot,mt){var ft=E+.5*(tt-E),gt=H+.5*(it-H),_t=ot+.5*(tt-ot),Rt=mt+.5*(it-mt),Xt=Math.min(E,ot,ft,_t),Ht=Math.max(E,ot,ft,_t),$t=Math.min(H,mt,gt,Rt),V=Math.max(H,mt,gt,Rt);return new c(Xt,$t,Ht-Xt,V-$t)},Nt=function(E,H,tt,it,ot,mt,ft,gt){var _t,Rt,Xt,Ht,$t,V,Dt,ue,ne,Lt,ee,ie,le,pe,ke=tt-E,Gt=it-H,Kt=ot-tt,ce=mt-it,ge=ft-ot,ae=gt-mt;for(Rt=0;Rt<41;Rt++)ne=(Dt=(Xt=E+(_t=Rt/40)*ke)+_t*(($t=tt+_t*Kt)-Xt))+_t*($t+_t*(ot+_t*ge-$t)-Dt),Lt=(ue=(Ht=H+_t*Gt)+_t*((V=it+_t*ce)-Ht))+_t*(V+_t*(mt+_t*ae-V)-ue),Rt==0?(ee=ne,ie=Lt,le=ne,pe=Lt):(ee=Math.min(ee,ne),ie=Math.min(ie,Lt),le=Math.max(le,ne),pe=Math.max(pe,Lt));return new c(Math.round(ee),Math.round(ie),Math.round(le-ee),Math.round(pe-ie))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,H,tt=(E=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:H}));this.prevLineDash!==tt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=tt)}}})(Ce.API),(function(i){var t=function(h){var c,f,d,m,b,w,y,A,N,k;for(f=[],d=0,m=(h+=c="\0\0\0\0".slice(h.length%4||4)).length;m>d;d+=4)(b=(h.charCodeAt(d)<<24)+(h.charCodeAt(d+1)<<16)+(h.charCodeAt(d+2)<<8)+h.charCodeAt(d+3))!==0?(w=(b=((b=((b=((b=(b-(k=b%85))/85)-(N=b%85))/85)-(A=b%85))/85)-(y=b%85))/85)%85,f.push(w+33,y+33,A+33,N+33,k+33)):f.push(122);return(function(T,P){for(var F=P;F>0;F--)T.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},e=function(h){var c,f,d,m,b,w=String,y="length",A=255,N="charCodeAt",k="slice",T="replace";for(h[k](-2),h=h[k](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),d=[],m=0,b=(h+=c="uuuuu"[k](h[y]%5||5))[y];b>m;m+=5)f=52200625*(h[N](m)-33)+614125*(h[N](m+1)-33)+7225*(h[N](m+2)-33)+85*(h[N](m+3)-33)+(h[N](m+4)-33),d.push(A&f>>24,A&f>>16,A&f>>8,A&f);return(function(P,F){for(var I=F;I>0;I--)P.pop()})(d,c[y]),w.fromCharCode.apply(w,d)},r=function(h){return h.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(h){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((h=h.replace(/\s/g,"")).indexOf(">")!==-1&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),c.test(h)===!1)return"";for(var f="",d=0;d<h.length;d+=2)f+=String.fromCharCode("0x"+(h[d]+h[d+1]));return f},o=function(h){for(var c=new Uint8Array(h.length),f=h.length;f--;)c[f]=h.charCodeAt(f);return(c=Y0(c)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};i.processDataByFilters=function(h,c){var f=0,d=h||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=e(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}})(Ce.API),(function(i){i.loadFile=function(t,e,r){return(function(a,o,h){o=o!==!1,h=typeof h=="function"?h:function(){};var c=void 0;try{c=(function(f,d,m){var b=new XMLHttpRequest,w=0,y=function(A){var N=A.length,k=[],T=String.fromCharCode;for(w=0;w<N;w+=1)k.push(T(255&A.charCodeAt(w)));return k.join("")};if(b.open("GET",f,!d),b.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(b.onload=function(){b.status===200?m(y(this.responseText)):m(void 0)}),b.send(null),d&&b.status===200)return y(b.responseText)})(a,o,h)}catch{}return c})(t,e,r)},i.loadImageFile=i.loadFile})(Ce.API),(function(i){function t(){return(Ue.html2canvas?Promise.resolve(Ue.html2canvas):s0(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function e(){return(Ue.DOMPurify?Promise.resolve(Ue.DOMPurify):s0(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=qn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var m in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[m]=f.style[m];return d},o=function c(f,d){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),b=f.firstChild;b;b=b.nextSibling)d!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||m.appendChild(c(b,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m},h=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),d);return(m=m.setProgress(1,c,1,[c])).set(f)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(c,f){return c.__proto__=f||h.prototype,c},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(e).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},h.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(f){var d=this.opt.jsPDF,m=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var y=0;y<m.length;++y){var A=m[y],N=A.src.find(function(k){return k.format==="truetype"});N&&d.addFont(N.url,A.ref.name,A.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,d.context2d.save(!0),f(this.prop.container,w)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},h.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},h.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},h.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in h.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},h.prototype.get=function(c,f){return this.then(function(){var d=c in h.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},h.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},h.prototype.setPageSize=function(c){function f(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(c=c||Ce.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},h.prototype.setProgress=function(c,f,d,m){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(c,f,d,m){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},h.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(m,b){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(w){return d.updateProgress(null,m),w}).then(m,b).then(function(w){return d.updateProgress(1),w})})},h.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),f&&(f=f.bind(m));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:h.convert(Object.assign({},m),Promise.prototype),w=d.call(b,c,f);return h.convert(w,m.__proto__)},h.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},h.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},h.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return h.convert(f,this)},h.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},h.prototype.error=function(c){return this.then(function(){throw new Error(c)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,Ce.getPageSize=function(c,f,d){if(qn(c)==="object"){var m=c;c=m.orientation,f=m.unit||f,d=m.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var b,w=(""+d).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+f}var A,N=0,k=0;if(y.hasOwnProperty(w))N=y[w][1]/b,k=y[w][0]/b;else try{N=d[1],k=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",k>N&&(A=k,k=N,N=A);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",N>k&&(A=k,k=N,N=A)}return{width:k,height:N,unit:f,k:b,orientation:c}},i.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(S0):null;var d=new h(f);return f.worker?d:d.from(c).doCallback()}})(Ce.API),Ce.API.addJS=function(i){return Tb=i,this.internal.events.subscribe("postPutResources",function(){bp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Nb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Tb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){bp!==void 0&&Nb!==void 0&&this.internal.out("/Names <</JavaScript "+bp+" 0 R>>")}),this},(function(i){var t;i.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=e.outline.render().split(/\r\n/),o=0;o<a.length;o++){var h=a[o],c=r.exec(h);if(c!=null){var f=c[1];e.internal.newObjectDeferredBegin(f,!1)}e.internal.write(h)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(o=0;o<d;o++){var b=e.internal.newObject();m.push(b);var w=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var y=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<m.length;o++)e.internal.write("(page_"+(o+1)+")"+m[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+y+" 0 R"),e.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),i.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,a,o){var h={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(h),h},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var h=r.children[o];this.objStart(h),this.line("/Title "+this.makeString(h.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),h.children.length>0&&(this.line("/First "+this.makeRef(h.children[0])),this.line("/Last "+this.makeRef(h.children[h.children.length-1])));var c=this.count=this.count_r({count:0},h);if(c>0&&this.line("/Count "+c),h.options&&h.options.pageNumber){var f=e.internal.getPageInfo(h.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(Ce.API),(function(i){var t=[192,193,194,195,196,197,198,199];i.processJPEG=function(e,r,a,o,h,c){var f,d=this.decode.DCT_DECODE,m=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=h||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,f=(function(b){for(var w,y=256*b.charCodeAt(4)+b.charCodeAt(5),A=b.length,N={width:0,height:0,numcomponents:1},k=4;k<A;k+=2){if(k+=y,t.indexOf(b.charCodeAt(k+1))!==-1){w=256*b.charCodeAt(k+5)+b.charCodeAt(k+6),N={width:256*b.charCodeAt(k+7)+b.charCodeAt(k+8),height:w,numcomponents:b.charCodeAt(k+9)};break}y=256*b.charCodeAt(k+2)+b.charCodeAt(k+3)}return N})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:e,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:a}}return m}})(Ce.API),Ce.API.processPNG=function(i,t,e,r){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var a,o=MO(i,{checkCrc:!0}),h=o.width,c=o.height,f=o.channels,d=o.palette,m=o.depth;a=d&&f===1?(function(D){for(var R=D.width,Z=D.height,C=D.data,j=D.palette,U=D.depth,J=!1,ut=[],$=[],rt=void 0,ct=!1,pt=0,Nt=0;Nt<j.length;Nt++){var X=Oy(j[Nt],4),E=X[0],H=X[1],tt=X[2],it=X[3];ut.push(E,H,tt),it!=null&&(it===0?(pt++,$.length<1&&$.push(Nt)):it<255&&(ct=!0))}if(ct||pt>1){J=!0,$=void 0;var ot=R*Z;rt=new Uint8Array(ot);for(var mt=new DataView(C.buffer),ft=0;ft<ot;ft++){var gt=N0(mt,ft,U),_t=Oy(j[gt],4)[3];rt[ft]=_t}}else pt===0&&($=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:C,alphaBytes:rt,needSMask:J,palette:ut,mask:$}})(o):f===2||f===4?(function(D){for(var R=D.data,Z=D.width,C=D.height,j=D.channels,U=D.depth,J=j===2?"DeviceGray":"DeviceRGB",ut=j-1,$=Z*C,rt=ut,ct=$*rt,pt=1*$,Nt=Math.ceil(ct*U/8),X=Math.ceil(pt*U/8),E=new Uint8Array(Nt),H=new Uint8Array(X),tt=new DataView(R.buffer),it=new DataView(E.buffer),ot=new DataView(H.buffer),mt=!1,ft=0;ft<$;ft++){for(var gt=ft*j,_t=0;_t<rt;_t++)Rb(it,N0(tt,gt+_t,U),ft*rt+_t,U);var Rt=N0(tt,gt+rt,U);Rt<(1<<U)-1&&(mt=!0),Rb(ot,Rt,1*ft,U)}return{colorSpace:J,colorsPerPixel:ut,sMaskBitsPerComponent:mt?U:void 0,colorBytes:E,alphaBytes:H,needSMask:mt}})(o):(function(D){var R=D.data,Z=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Z,colorsPerPixel:Z==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(C){for(var j=C.length,U=new Uint8Array(2*j),J=new DataView(U.buffer,U.byteOffset,U.byteLength),ut=0;ut<j;ut++)J.setUint16(2*ut,C[ut],!1);return U})(R):R,needSMask:!1}})(o);var b,w,y,A=a,N=A.colorSpace,k=A.colorsPerPixel,T=A.sMaskBitsPerComponent,P=A.colorBytes,F=A.alphaBytes,I=A.needSMask,B=A.palette,Q=A.mask,Y=null;return r!==Ce.API.image_compression.NONE&&typeof Y0=="function"?(Y=(function(D){var R;switch(D){case Ce.API.image_compression.FAST:R=11;break;case Ce.API.image_compression.MEDIUM:R=13;break;case Ce.API.image_compression.SLOW:R=14;break;default:R=12}return R})(r),b=this.decode.FLATE_DECODE,w="/Predictor ".concat(Y," /Colors ").concat(k," /BitsPerComponent ").concat(m," /Columns ").concat(h),i=Ob(P,Math.ceil(h*k*m/8),k,m,r),I&&(y=Ob(F,Math.ceil(h*T/8),1,T,r))):(b=void 0,w=void 0,i=P,I&&(y=F)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:e,data:i,index:t,filter:b,decodeParameters:w,transparency:Q,palette:B,sMask:y,predictor:Y,width:h,height:c,bitsPerComponent:m,sMaskBitsPerComponent:T,colorSpace:N}}},(function(i){i.processGIF89A=function(t,e,r,a){var o=new QO(t),h=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:h,height:c},m=new T0(100).encode(d,100);return i.processJPEG.call(this,m,e,r,a)},i.processGIF87A=i.processGIF89A})(Ce.API),Ha.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var t=0;t<i;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ha.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[i]()}catch(e){$n.log("bit decode error:"+e)}},Ha.prototype.bit1=function(){var i,t=Math.ceil(this.width/8),e=t%4;for(i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<t;a++)for(var o=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[h+4*c]=f.blue,this.data[h+4*c+1]=f.green,this.data[h+4*c+2]=f.red,this.data[h+4*c+3]=255}e!==0&&(this.pos+=4-e)}},Ha.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),t=i%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<i;a++){var o=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[h]=d.blue,this.data[h+1]=d.green,this.data[h+2]=d.red,this.data[h+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[h+4]=d.blue,this.data[h+4+1]=d.green,this.data[h+4+2]=d.red,this.data[h+4+3]=255}t!==0&&(this.pos+=4-t)}},Ha.prototype.bit8=function(){for(var i=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;if(a<this.palette.length){var h=this.palette[a];this.data[o]=h.red,this.data[o+1]=h.green,this.data[o+2]=h.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}i!==0&&(this.pos+=4-i)}},Ha.prototype.bit15=function(){for(var i=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(o&t)/t*255|0,c=(o>>5&t)/t*255|0,f=(o>>10&t)/t*255|0,d=o>>15?255:0,m=r*this.width*4+4*a;this.data[m]=f,this.data[m+1]=c,this.data[m+2]=h,this.data[m+3]=d}this.pos+=i}},Ha.prototype.bit16=function(){for(var i=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(h&t)/t*255|0,f=(h>>5&e)/e*255|0,d=(h>>11)/t*255|0,m=a*this.width*4+4*o;this.data[m]=d,this.data[m+1]=f,this.data[m+2]=c,this.data[m+3]=255}this.pos+=i}},Ha.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*e;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=r,this.data[h+3]=255}this.pos+=this.width%4}},Ha.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=h}},Ha.prototype.getData=function(){return this.data},(function(i){i.processBMP=function(t,e,r,a){var o=new Ha(t,!1),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new T0(100).encode(f,100);return i.processJPEG.call(this,d,e,r,a)}})(Ce.API),Bb.prototype.getData=function(){return this.data},(function(i){i.processWEBP=function(t,e,r,a){var o=new Bb(t),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new T0(100).encode(f,100);return i.processJPEG.call(this,d,e,r,a)}})(Ce.API),Ce.API.processRGBA=function(i,t,e){for(var r=i.data,a=r.length,o=new Uint8Array(a/4*3),h=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var m=r[d],b=r[d+1],w=r[d+2],y=r[d+3];o[c++]=m,o[c++]=b,o[c++]=w,h[f++]=y}var A=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(h),data:A,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Ce.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sh=Ce.API,xp=sh.getCharWidthsArray=function(i,t){var e,r,a=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),h=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,m=d.fof?d.fof:1,b=t.doKerning!==!1,w=0,y=i.length,A=0,N=c[0]||f,k=[];for(e=0;e<y;e++)r=i.charCodeAt(e),typeof a.metadata.widthOfString=="function"?k.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+h*(1e3/o)||0)/1e3):(w=b&&qn(d[r])==="object"&&!isNaN(parseInt(d[r][A],10))?d[r][A]/m:0,k.push((c[r]||N)/f+w)),A=r;return k},Cb=sh.getStringUnitWidth=function(i,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return sh.processArabic&&(i=sh.processArabic(i)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(i,e,a)/e:xp.apply(this,arguments).reduce(function(o,h){return o+h},0)},Eb=function(i,t,e,r){for(var a=[],o=0,h=i.length,c=0;o!==h&&c+t[o]<e;)c+=t[o],o++;a.push(i.slice(0,o));var f=o;for(c=0;o!==h;)c+t[o]>r&&(a.push(i.slice(f,o)),c=0,f=o),c+=t[o],o++;return f!==o&&a.push(i.slice(f,o)),a},kb=function(i,t,e){e||(e={});var r,a,o,h,c,f,d,m=[],b=[m],w=e.textIndent||0,y=0,A=0,N=i.split(" "),k=xp.apply(this,[" ",e])[0];if(f=e.lineIndent===-1?N[0].length+2:e.lineIndent||0){var T=Array(f).join(" "),P=[];N.map(function(I){(I=I.split(/\s*\n/)).length>1?P=P.concat(I.map(function(B,Q){return(Q&&B.length?`
`:"")+B})):P.push(I[0])}),N=P,f=Cb.apply(this,[T,e])}for(o=0,h=N.length;o<h;o++){var F=0;if(r=N[o],f&&r[0]==`
`&&(r=r.substr(1),F=1),w+y+(A=(a=xp.apply(this,[r,e])).reduce(function(I,B){return I+B},0))>t||F){if(A>t){for(c=Eb.apply(this,[r,a,t-(w+y),t]),m.push(c.shift()),m=[c.pop()];c.length;)b.push([c.shift()]);A=a.slice(r.length-(m[0]?m[0].length:0)).reduce(function(I,B){return I+B},0)}else m=[r];b.push(m),w=A+f,y=k}else m.push(r),w+=y+A,y=k}return d=f?function(I,B){return(B?T:"")+I.join(" ")}:function(I){return I.join(" ")},b.map(d)},sh.splitTextToSize=function(i,t,e){var r,a=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var b=this.internal.getFont(m.fontName,m.fontStyle),w="Unicode";return b.metadata[w]?{widths:b.metadata[w].widths||{0:1},kerning:b.metadata[w].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(i)?i:String(i).split(/\r?\n/);var h=1*this.internal.scaleFactor*t/a;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=e.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(kb.apply(this,[r[c],h,o]));return d},(function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[e[o]]=t[o],a[t[o]]=e[o];var h=function(w){return"0x"+parseInt(w,10).toString(16)},c=i.__fontmetrics__.compress=function(w){var y,A,N,k,T=["{"];for(var P in w){if(y=w[P],isNaN(parseInt(P,10))?A="'"+P+"'":(P=parseInt(P,10),A=(A=h(P).slice(2)).slice(0,-1)+a[A.slice(-1)]),typeof y=="number")y<0?(N=h(y).slice(3),k="-"):(N=h(y).slice(2),k=""),N=k+N.slice(0,-1)+a[N.slice(-1)];else{if(qn(y)!=="object")throw new Error("Don't know what to do with value type "+qn(y)+".");N=c(y)}T.push(A+N)}return T.push("}"),T.join("")},f=i.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,A,N,k,T={},P=1,F=T,I=[],B="",Q="",Y=w.length-1,D=1;D<Y;D+=1)(k=w[D])=="'"?y?(N=y.join(""),y=void 0):y=[]:y?y.push(k):k=="{"?(I.push([F,N]),F={},N=void 0):k=="}"?((A=I.pop())[0][A[1]]=F,N=void 0,F=A[0]):k=="-"?P=-1:N===void 0?r.hasOwnProperty(k)?(B+=r[k],N=parseInt(B,16)*P,P=1,B=""):B+=k:r.hasOwnProperty(k)?(Q+=r[k],F[N]=parseInt(Q,16)*P,P=1,N=void 0,Q=""):Q+=k;return T},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},b={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(w){var y=w.font,A=b.Unicode[y.postScriptName];A&&(y.metadata.Unicode={},y.metadata.Unicode.widths=A.widths,y.metadata.Unicode.kerning=A.kerning);var N=m.Unicode[y.postScriptName];N&&(y.metadata.Unicode.encoding=N,y.encoding=N.codePages[0])}])})(Ce.API),(function(i){var t=function(e){for(var r=e.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=e.charCodeAt(o);return a};i.API.events.push(["addFont",function(e){var r=void 0,a=e.font,o=e.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(h,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(Cp(c)),h.metadata=i.API.TTFFont.open(c),h.metadata.Unicode=h.metadata.Unicode||{encoding:{},kerning:{},widths:[]},h.metadata.glyIdsUsed=[0]})(a,r)}}])})(Ce),Ce.API.addSvgAsImage=function(i,t,e,r,a,o,h,c){if(isNaN(t)||isNaN(e))throw $n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw $n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(Ue.canvg?Promise.resolve(Ue.canvg):s0(()=>import("./index.es-BFSL49ed.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(d,i,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(m)}).then(function(){b.addImage(f.toDataURL("image/jpeg",1),t,e,r,a,h,c)})},Ce.API.putTotalPages=function(i){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(i,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,e);return this},Ce.API.viewerPreferences=function(i,t){var e;i=i||{},t=t||!1;var r,a,o,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(h),f=[],d=0,m=0,b=0;function w(A,N){var k,T=!1;for(k=0;k<A.length;k+=1)A[k]===N&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,i==="reset"||t===!0){var y=c.length;for(b=0;b<y;b+=1)e[c[b]].value=e[c[b]].defaultValue,e[c[b]].explicitSet=!1}if(qn(i)==="object"){for(a in i)if(o=i[a],w(c,a)&&o!==void 0){if(e[a].type==="boolean"&&typeof o=="boolean")e[a].value=o;else if(e[a].type==="name"&&w(e[a].valueSet,o))e[a].value=o;else if(e[a].type==="integer"&&Number.isInteger(o))e[a].value=o;else if(e[a].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(m=0;m<o[d].length;m+=1)typeof o[d][m]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}e[a].value="["+f.join(" ")+"]"}else e[a].value=e[a].defaultValue;e[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,N=[];for(A in e)e[A].explicitSet===!0&&(e[A].type==="name"?N.push("/"+A+" /"+e[A].value):N.push("/"+A+" "+e[A].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(i){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),h=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+h.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+h+c+f),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(Ce.API),(function(i){var t=i.API,e=t.pdfEscape16=function(o,h){for(var c,f=h.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],b=0,w=o.length;b<w;++b){if(c=h.metadata.characterToGlyph(o.charCodeAt(b)),h.metadata.glyIdsUsed.push(c),h.metadata.toUnicode[c]=o.charCodeAt(b),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(h.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(d[4-c.length],c)}return m.join("")},r=function(o){var h,c,f,d,m,b,w;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],b=0,w=(c=Object.keys(o).sort(function(y,A){return y-A})).length;b<w;b++)h=c[b],f.length>=100&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[h]!==void 0&&o[h]!==null&&typeof o[h].toString=="function"&&(d=("0000"+o[h].toString(16)).slice(-4),h=("0000"+(+h).toString(16)).slice(-4),f.push("<"+h+"><"+d+">"));return f.length&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof i.API.TTFFont&&c.encoding==="Identity-H"){for(var b=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",A=0;A<w.length;A++)y+=String.fromCharCode(w[A]);var N=d();m({data:y,addLength1:!0,objectId:N}),f("endobj");var k=d();m({data:r(c.metadata.toUnicode),addLength1:!0,objectId:k}),f("endobj");var T=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+ch(c.fontName)),f("/FontFile2 "+N+" 0 R"),f("/FontBBox "+i.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var P=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+ch(c.fontName)),f("/FontDescriptor "+T+" 0 R"),f("/W "+i.API.PDFObject.convert(b)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+k+" 0 R"),f("/BaseFont /"+ch(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+P+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof i.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var b=c.metadata.rawData,w="",y=0;y<b.length;y++)w+=String.fromCharCode(b[y]);var A=d();m({data:w,addLength1:!0,objectId:A}),f("endobj");var N=d();m({data:r(c.metadata.toUnicode),addLength1:!0,objectId:N}),f("endobj");var k=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+A+" 0 R"),f("/Flags 96"),f("/FontBBox "+i.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+ch(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var T=0;T<c.metadata.hmtx.widths.length;T++)c.metadata.hmtx.widths[T]=parseInt(c.metadata.hmtx.widths[T]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+ch(c.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var h,c=o.text||"",f=o.x,d=o.y,m=o.options||{},b=o.mutex||{},w=b.pdfEscape,y=b.activeFontKey,A=b.fonts,N=y,k="",T=0,P="",F=A[N].encoding;if(A[N].encoding!=="Identity-H")return{text:c,x:f,y:d,options:m,mutex:b};for(P=c,N=y,Array.isArray(c)&&(P=c[0]),T=0;T<P.length;T+=1)A[N].metadata.hasOwnProperty("cmap")&&(h=A[N].metadata.cmap.unicode.codeMap[P[T].charCodeAt(0)]),h||P[T].charCodeAt(0)<256&&A[N].metadata.hasOwnProperty("Unicode")?k+=P[T]:k+="";var I="";return parseInt(N.slice(1))<14||F==="WinAnsiEncoding"?I=w(k,N).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(I=e(k,A[N])),b.isHex=!0,{text:I,x:f,y:d,options:m,mutex:b}};t.events.push(["postProcessText",function(o){var h=o.text||"",c=[],f={text:h,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(h)){var d=0;for(d=0;d<h.length;d+=1)Array.isArray(h[d])&&h[d].length===3?c.push([a(Object.assign({},f,{text:h[d][0]})).text,h[d][1],h[d][2]]):c.push(a(Object.assign({},f,{text:h[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:h})).text}])})(Ce),(function(i){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},i.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},i.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(Ce.API),(function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(r){var a,o,h,c,f,d,m,b=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,F=0;this.__bidiEngine__={};var I=function(C){var j=C.charCodeAt(),U=j>>8,J=N[U];return J!==void 0?b[256*J+(255&j)]:U===252||U===253?"AL":T.test(U)?"L":U===8?"R":"N"},B=function(C){for(var j,U=0;U<C.length;U++){if((j=I(C.charAt(U)))==="L")return!1;if(j==="R")return!0}return!1},Q=function(C,j,U,J){var ut,$,rt,ct,pt=j[J];switch(pt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"N":case"AN":break;case"EN":P&&(pt="AN");break;case"AL":P=!0,pt="R";break;case"WS":case"BN":pt="N";break;case"CS":J<1||J+1>=j.length||(ut=U[J-1])!=="EN"&&ut!=="AN"||($=j[J+1])!=="EN"&&$!=="AN"?pt="N":P&&($="AN"),pt=$===ut?$:"N";break;case"ES":pt=(ut=J>0?U[J-1]:"B")==="EN"&&J+1<j.length&&j[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&U[J-1]==="EN"){pt="EN";break}if(P){pt="N";break}for(rt=J+1,ct=j.length;rt<ct&&j[rt]==="ET";)rt++;pt=rt<ct&&j[rt]==="EN"?"EN":"N";break;case"NSM":if(h&&!c){for(ct=j.length,rt=J+1;rt<ct&&j[rt]==="NSM";)rt++;if(rt<ct){var Nt=C[J],X=Nt>=1425&&Nt<=2303||Nt===64286;if(ut=j[rt],X&&(ut==="R"||ut==="AL")){pt="R";break}}}pt=J<1||(ut=j[J-1])==="B"?"N":U[J-1];break;case"B":P=!1,a=!0,pt=F;break;case"S":o=!0,pt="N"}return pt},Y=function(C,j,U){var J=C.split("");return U&&D(J,U,{hiLevel:F}),J.reverse(),j&&j.reverse(),J.join("")},D=function(C,j,U){var J,ut,$,rt,ct,pt=-1,Nt=C.length,X=0,E=[],H=F?y:w,tt=[];for(P=!1,a=!1,o=!1,ut=0;ut<Nt;ut++)tt[ut]=I(C[ut]);for($=0;$<Nt;$++){if(ct=X,E[$]=Q(C,tt,E,$),J=240&(X=H[ct][A[E[$]]]),X&=15,j[$]=rt=H[X][5],J>0)if(J===16){for(ut=pt;ut<$;ut++)j[ut]=1;pt=-1}else pt=-1;if(H[X][6])pt===-1&&(pt=$);else if(pt>-1){for(ut=pt;ut<$;ut++)j[ut]=rt;pt=-1}tt[$]==="B"&&(j[$]=0),U.hiLevel|=rt}o&&(function(it,ot,mt){for(var ft=0;ft<mt;ft++)if(it[ft]==="S"){ot[ft]=F;for(var gt=ft-1;gt>=0&&it[gt]==="WS";gt--)ot[gt]=F}})(tt,j,Nt)},R=function(C,j,U,J,ut){if(!(ut.hiLevel<C)){if(C===1&&F===1&&!a)return j.reverse(),void(U&&U.reverse());for(var $,rt,ct,pt,Nt=j.length,X=0;X<Nt;){if(J[X]>=C){for(ct=X+1;ct<Nt&&J[ct]>=C;)ct++;for(pt=X,rt=ct-1;pt<rt;pt++,rt--)$=j[pt],j[pt]=j[rt],j[rt]=$,U&&($=U[pt],U[pt]=U[rt],U[rt]=$);X=ct}X++}}},Z=function(C,j,U){var J=C.split(""),ut={hiLevel:F};return U||(U=[]),D(J,U,ut),(function($,rt,ct){if(ct.hiLevel!==0&&m)for(var pt,Nt=0;Nt<$.length;Nt++)rt[Nt]===1&&(pt=k.indexOf($[Nt]))>=0&&($[Nt]=k[pt+1])})(J,U,ut),R(2,J,j,U,ut),R(1,J,j,U,ut),J.join("")};return this.__bidiEngine__.doBidiReorder=function(C,j,U){if((function(ut,$){if($)for(var rt=0;rt<ut.length;rt++)$[rt]=rt;c===void 0&&(c=B(ut)),d===void 0&&(d=B(ut))})(C,j),h||!f||d)if(h&&f&&c^d)F=c?1:0,C=Y(C,j,U);else if(!h&&f&&d)F=c?1:0,C=Z(C,j,U),C=Y(C,j);else if(!h||c||f||d){if(h&&!f&&c^d)C=Y(C,j),c?(F=0,C=Z(C,j,U)):(F=1,C=Z(C,j,U),C=Y(C,j));else if(h&&c&&!f&&d)F=1,C=Z(C,j,U),C=Y(C,j);else if(!h&&!f&&c^d){var J=m;c?(F=1,C=Z(C,j,U),F=0,m=!1,C=Z(C,j,U),m=J):(F=0,C=Z(C,j,U),C=Y(C,j),F=1,m=!1,C=Z(C,j,U),m=J,C=Y(C,j))}}else F=0,C=Z(C,j,U);else F=c?1:0,C=Z(C,j,U);return C},this.__bidiEngine__.setOptions=function(C){C&&(h=C.isInputVisual,f=C.isOutputVisual,c=C.isInputRtl,d=C.isOutputRtl,m=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var h=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(h=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?h.push([e.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):h.push([e.doBidiReorder(a[c])]);r.text=h}else r.text=e.doBidiReorder(a);e.setOptions({isInputVisual:!0})}])})(Ce),Ce.API.TTFFont=(function(){function i(t){var e;if(this.rawData=t,e=this.contents=new pc(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new dM(this),this.registerTTF()}return i.open=function(t){return new i(t)},i.prototype.parse=function(){return this.directory=new JO(this.contents),this.head=new eM(this),this.name=new aM(this),this.cmap=new Ew(this),this.toUnicode={},this.hhea=new nM(this),this.maxp=new oM(this),this.hmtx=new lM(this),this.post=new rM(this),this.os2=new iM(this),this.loca=new fM(this),this.glyf=new cM(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var t,e,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var h,c,f,d;for(d=[],h=0,c=(f=this.bbox).length;h<c;h++)t=f[h],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(e=a>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},i.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},i.prototype.widthOfString=function(t,e,r){var a,o,h,c;for(h=0,o=0,c=(t=""+t).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=t.charCodeAt(o),h+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/e)||0;return h*(e/1e3)},i.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},i})();var so,pc=(function(){function i(t){this.data=t??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(t){return this.data[this.pos++]=t},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},i.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},i.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},i.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},i.prototype.writeString=function(t){var e,r,a;for(a=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)a.push(this.writeByte(t.charCodeAt(e)));return a},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(t){return this.writeInt16(t)},i.prototype.readLongLong=function(){var t,e,r,a,o,h,c,f;return t=this.readByte(),e=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),h=this.readByte(),c=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^h)+256*(255^c)+(255^f)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*a+16777216*o+65536*h+256*c+f},i.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(t){return this.writeInt32(t)},i.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},i.prototype.write=function(t){var e,r,a,o;for(o=[],r=0,a=t.length;r<a;r++)e=t[r],o.push(this.writeByte(e));return o},i})(),JO=(function(){var i;function t(e){var r,a,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,a,o,h,c,f,d,m,b,w,y,A,N;for(N in y=Object.keys(e).length,f=Math.log(2),b=16*Math.floor(Math.log(y)/f),h=Math.floor(b/f),m=16*y-b,(a=new pc).writeInt(this.scalarType),a.writeShort(y),a.writeShort(b),a.writeShort(h),a.writeShort(m),o=16*y,d=a.pos+o,c=null,A=[],e)for(w=e[N],a.writeString(N),a.writeInt(i(w)),a.writeInt(d),a.writeInt(w.length),A=A.concat(w),N==="head"&&(c=d),d+=w.length;d%4;)A.push(0),d++;return a.write(A),r=2981146554-i(a.data),a.pos=c+8,a.writeUInt32(r),a.data},i=function(e){var r,a,o,h;for(e=kw.call(e);e.length%4;)e.push(0);for(o=new pc(e),a=0,r=0,h=e.length;r<h;r=r+=4)a+=o.readUInt32();return 4294967295&a},t})(),tM={}.hasOwnProperty,jo=function(i,t){for(var e in t)tM.call(t,e)&&(i[e]=t[e]);function r(){this.constructor=i}return r.prototype=t.prototype,i.prototype=new r,i.__super__=t.prototype,i};so=(function(){function i(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i})();var eM=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return jo(i,so),i.prototype.tag="head",i.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},i.prototype.encode=function(t){var e;return(e=new pc).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},i})(),qb=(function(){function i(t,e){var r,a,o,h,c,f,d,m,b,w,y,A,N,k,T,P,F;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),b=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(y=t.readUInt16(),w=y/2,t.pos+=6,o=(function(){var I,B;for(B=[],f=I=0;0<=w?I<w:I>w;f=0<=w?++I:--I)B.push(t.readUInt16());return B})(),t.pos+=2,N=(function(){var I,B;for(B=[],f=I=0;0<=w?I<w:I>w;f=0<=w?++I:--I)B.push(t.readUInt16());return B})(),d=(function(){var I,B;for(B=[],f=I=0;0<=w?I<w:I>w;f=0<=w?++I:--I)B.push(t.readUInt16());return B})(),m=(function(){var I,B;for(B=[],f=I=0;0<=w?I<w:I>w;f=0<=w?++I:--I)B.push(t.readUInt16());return B})(),a=(this.length-t.pos+this.offset)/2,c=(function(){var I,B;for(B=[],f=I=0;0<=a?I<a:I>a;f=0<=a?++I:--I)B.push(t.readUInt16());return B})(),f=T=0,F=o.length;T<F;f=++T)for(k=o[f],r=P=A=N[f];A<=k?P<=k:P>=k;r=A<=k?++P:--P)m[f]===0?h=r+d[f]:(h=c[m[f]/2+(r-A)-(w-f)]||0)!==0&&(h+=d[f]),this.codeMap[r]=65535&h}t.pos=b}return i.encode=function(t,e){var r,a,o,h,c,f,d,m,b,w,y,A,N,k,T,P,F,I,B,Q,Y,D,R,Z,C,j,U,J,ut,$,rt,ct,pt,Nt,X,E,H,tt,it,ot,mt,ft,gt,_t,Rt,Xt;switch(J=new pc,h=Object.keys(t).sort(function(Ht,$t){return Ht-$t}),e){case"macroman":for(N=0,k=(function(){var Ht=[];for(A=0;A<256;++A)Ht.push(0);return Ht})(),P={0:0},o={},ut=0,pt=h.length;ut<pt;ut++)P[gt=t[a=h[ut]]]==null&&(P[gt]=++N),o[a]={old:t[a],new:P[t[a]]},k[a]=P[t[a]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(k),{charMap:o,subtable:J.data,maxGlyphID:N+1};case"unicode":for(j=[],b=[],F=0,P={},r={},T=d=null,$=0,Nt=h.length;$<Nt;$++)P[B=t[a=h[$]]]==null&&(P[B]=++F),r[a]={old:B,new:P[B]},c=P[B]-a,T!=null&&c===d||(T&&b.push(T),j.push(a),d=c),T=a;for(T&&b.push(T),b.push(65535),j.push(65535),Z=2*(R=j.length),D=2*Math.pow(Math.log(R)/Math.LN2,2),w=Math.log(D/2)/Math.LN2,Y=2*R-D,f=[],Q=[],y=[],A=rt=0,X=j.length;rt<X;A=++rt){if(C=j[A],m=b[A],C===65535){f.push(0),Q.push(0);break}if(C-(U=r[C].new)>=32768)for(f.push(0),Q.push(2*(y.length+R-A)),a=ct=C;C<=m?ct<=m:ct>=m;a=C<=m?++ct:--ct)y.push(r[a].new);else f.push(U-C),Q.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*R+2*y.length),J.writeUInt16(0),J.writeUInt16(Z),J.writeUInt16(D),J.writeUInt16(w),J.writeUInt16(Y),mt=0,E=b.length;mt<E;mt++)a=b[mt],J.writeUInt16(a);for(J.writeUInt16(0),ft=0,H=j.length;ft<H;ft++)a=j[ft],J.writeUInt16(a);for(_t=0,tt=f.length;_t<tt;_t++)c=f[_t],J.writeUInt16(c);for(Rt=0,it=Q.length;Rt<it;Rt++)I=Q[Rt],J.writeUInt16(I);for(Xt=0,ot=y.length;Xt<ot;Xt++)N=y[Xt],J.writeUInt16(N);return{charMap:r,subtable:J.data,maxGlyphID:F+1}}},i})(),Ew=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return jo(i,so),i.prototype.tag="cmap",i.prototype.parse=function(t){var e,r,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)e=new qb(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},i.encode=function(t,e){var r,a;return e==null&&(e="macroman"),r=qb.encode(t,e),(a=new pc).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},i})(),nM=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return jo(i,so),i.prototype.tag="hhea",i.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},i})(),iM=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return jo(i,so),i.prototype.tag="OS/2",i.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,r;for(r=[],e=0;e<10;++e)r.push(t.readByte());return r})(),this.charRange=(function(){var e,r;for(r=[],e=0;e<4;++e)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,r;for(r=[],e=0;e<2;e=++e)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},i})(),rM=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return jo(i,so),i.prototype.tag="post",i.prototype.parse=function(t){var e,r,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)e=t.readByte(),a.push(this.names.push(t.readString(e)));return a;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var h,c,f;for(f=[],o=h=0,c=this.file.maxp.numGlyphs;0<=c?h<c:h>c;o=0<=c?++h:--h)f.push(t.readUInt32());return f}).call(this)}},i})(),sM=function(i,t){this.raw=i,this.length=i.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},aM=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return jo(i,so),i.prototype.tag="name",i.prototype.parse=function(t){var e,r,a,o,h,c,f,d,m,b,w;for(t.pos=this.offset,t.readShort(),e=t.readShort(),c=t.readShort(),r=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(f={},o=m=0,b=r.length;m<b;o=++m)a=r[o],t.pos=a.offset,d=t.readString(a.length),h=new sM(d,a),f[w=a.nameID]==null&&(f[w]=[]),f[a.nameID].push(h);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},i})(),oM=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return jo(i,so),i.prototype.tag="maxp",i.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},i})(),lM=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return jo(i,so),i.prototype.tag="hmtx",i.prototype.parse=function(t){var e,r,a,o,h,c,f;for(t.pos=this.offset,this.metrics=[],e=0,c=this.file.hhea.numberOfMetrics;0<=c?e<c:e>c;e=0<=c?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,m;for(m=[],e=d=0;0<=a?d<a:d>a;e=0<=a?++d:--d)m.push(t.readInt16());return m})(),this.widths=(function(){var d,m,b,w;for(w=[],d=0,m=(b=this.metrics).length;d<m;d++)o=b[d],w.push(o.advance);return w}).call(this),r=this.widths[this.widths.length-1],f=[],e=h=0;0<=a?h<a:h>a;e=0<=a?++h:--h)f.push(this.widths.push(r));return f},i.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},i})(),kw=[].slice,cM=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return jo(i,so),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(t){var e,r,a,o,h,c,f,d,m,b;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,r=o.indexOf(t),(a=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+r,h=(c=new pc(e.read(a))).readShort(),d=c.readShort(),b=c.readShort(),f=c.readShort(),m=c.readShort(),this.cache[t]=h===-1?new hM(c,d,b,f,m):new uM(c,h,d,b,f,m),this.cache[t]))},i.prototype.encode=function(t,e,r){var a,o,h,c,f;for(h=[],o=[],c=0,f=e.length;c<f;c++)a=t[e[c]],o.push(h.length),a&&(h=h.concat(a.encode(r)));return o.push(h.length),{table:h,offsets:o}},i})(),uM=(function(){function i(t,e,r,a,o,h){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=h,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i})(),hM=(function(){function i(t,e,r,a,o){var h,c;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],h=this.raw;c=h.readShort(),this.glyphOffsets.push(h.pos),this.glyphIDs.push(h.readUInt16()),32&c;)h.pos+=1&c?4:2,128&c?h.pos+=8:64&c?h.pos+=4:8&c&&(h.pos+=2)}return i.prototype.encode=function(){var t,e,r;for(e=new pc(kw.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},i})(),fM=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return jo(i,so),i.prototype.tag="loca",i.prototype.parse=function(t){var e,r;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(t.readUInt32());return o}).call(this)},i.prototype.indexOf=function(t){return this.offsets[t]},i.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},i.prototype.encode=function(t,e){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,h=0;h<r.length;++h)if(r[h]=a,o<e.length&&e[o]==h){++o,r[h]=a;var c=this.offsets[h],f=this.offsets[h+1]-c;f>0&&(a+=f)}for(var d=new Array(4*r.length),m=0;m<r.length;++m)d[4*m+3]=255&r[m],d[4*m+2]=(65280&r[m])>>8,d[4*m+1]=(16711680&r[m])>>16,d[4*m]=(4278190080&r[m])>>24;return d},i})(),dM=(function(){function i(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var t,e,r,a,o;for(e in a=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[e],t[e]=a[r];return t},i.prototype.glyphsFor=function(t){var e,r,a,o,h,c,f;for(a={},h=0,c=t.length;h<c;h++)a[o=t[h]]=this.font.glyf.glyphFor(o);for(o in e=[],a)(r=a[o])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(o in f=this.glyphsFor(e))r=f[o],a[o]=r;return a},i.prototype.encode=function(t,e){var r,a,o,h,c,f,d,m,b,w,y,A,N,k,T;for(a in r=Ew.encode(this.generateCmap(),"unicode"),h=this.glyphsFor(t),y={0:0},T=r.charMap)y[(f=T[a]).old]=f.new;for(A in w=r.maxGlyphID,h)A in y||(y[A]=w++);return m=(function(P){var F,I;for(F in I={},P)I[P[F]]=F;return I})(y),b=Object.keys(m).sort(function(P,F){return P-F}),N=(function(){var P,F,I;for(I=[],P=0,F=b.length;P<F;P++)c=b[P],I.push(m[c]);return I})(),o=this.font.glyf.encode(h,N,y),d=this.font.loca.encode(o.offsets,N),k={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},i})();Ce.API.PDFObject=(function(){var i;function t(){}return i=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,a,o,h;if(Array.isArray(e))return"["+(function(){var c,f,d;for(d=[],c=0,f=e.length;c<f;c++)r=e[c],d.push(t.convert(r));return d})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+i(e.getUTCFullYear(),4)+i(e.getUTCMonth(),2)+i(e.getUTCDate(),2)+i(e.getUTCHours(),2)+i(e.getUTCMinutes(),2)+i(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(a in o=["<<"],e)h=e[a],o.push("/"+a+" "+t.convert(h));return o.push(">>"),o.join(`
`)}return""+e},t})();const s2="chordWheelSongs",tg="chordWheelCurrentSongId",qf=()=>{try{const i=localStorage.getItem(s2);return i?JSON.parse(i).map(e=>({...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)})):[]}catch(i){return console.error("Error loading saved songs:",i),[]}},zb=i=>{try{const t=qf(),e=t.findIndex(a=>a.id===i.id),r={...i,updatedAt:new Date().toISOString(),createdAt:i.createdAt instanceof Date?i.createdAt.toISOString():i.createdAt};e>=0?t[e]=r:t.push({...r,createdAt:new Date().toISOString()}),localStorage.setItem(s2,JSON.stringify(t)),localStorage.setItem(tg,i.id)}catch(t){console.error("Error saving song:",t)}},pM=i=>{try{const e=qf().filter(r=>r.id!==i);localStorage.setItem(s2,JSON.stringify(e)),localStorage.getItem(tg)===i&&localStorage.removeItem(tg)}catch(t){console.error("Error deleting song:",t)}};function mM(){const{currentSong:i,selectedKey:t,timelineVisible:e,toggleTimeline:r,selectedSectionId:a,selectedSlotId:o,clearSlot:h,setTitle:c,loadSong:f,newSong:d,instrument:m,volume:b,isMuted:w,undo:y,redo:A,canUndo:N,canRedo:k}=Di();dt.useEffect(()=>{o_(m)},[m]),dt.useEffect(()=>{pC(b)},[b]),dt.useEffect(()=>{mC(w)},[w]);const[T,P]=dt.useState(180),[F,I]=dt.useState(!1),[B,Q]=dt.useState(1),[Y,D]=dt.useState(1),[R,Z]=dt.useState(50),[C,j]=dt.useState(720),[U,J]=dt.useState(()=>typeof window<"u"?window.innerWidth<768:!1),[ut,$]=dt.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerWidth<1024:!1),rt=dt.useRef(!1),ct=dt.useRef(!1),pt=dt.useRef(!1);dt.useEffect(()=>{const Gt=()=>{const Kt=window.innerWidth,ce=window.innerHeight,ge=Kt<768,ae=ce<Kt&&Kt<1024&&ge;if(J(ge),$(ae),ge){if(ae){const Ze=Kt*.5,De=16,we=Math.min(560,Math.max(280,Ze-De,ce-120)),Se=Math.min(we*1.2,Ze-De+12,ce-120+12,560);j(Se)}else{const wt=(ce-56-64-80)*.8,qt=Math.min(Math.min(Kt-12,wt),560),zt=Math.min(qt*1.2,Kt-12+12,wt+24,560);j(Math.max(260,zt))}if(!pt.current&&Y===1){const Ze=Math.min(1.2,2.5);D(Ze),Z(Ze>1.3?45:50),pt.current=!0}}else{const Se=Math.max(360,ce-48-56-140),Fe=Math.min(720,Math.max(320,Math.min(Kt-120,Se)));j(Fe)}const Te=Di.getState();ge&&!ct.current&&(Te.timelineVisible&&Te.toggleTimeline(),Te.chordPanelVisible&&Te.toggleChordPanel(),ct.current=!0),!ge&&rt.current&&!Te.chordPanelVisible&&(Te.toggleChordPanel(),rt.current=!1)};return Gt(),window.addEventListener("resize",Gt),window.addEventListener("orientationchange",Gt),()=>{window.removeEventListener("resize",Gt),window.removeEventListener("orientationchange",Gt)}},[]);const Nt=dt.useCallback((Gt,Kt)=>{D(Gt),Z(Kt)},[]),X=dt.useCallback(()=>{const Gt=Math.min(2.5,Y+.3);D(Gt),Z(Gt>1.3?38:50)},[Y]),E=dt.useCallback(()=>{const Gt=Math.max(1,Y-.3);D(Gt),Z(Gt>1.3?38:50)},[Y]),[H,tt]=dt.useState(!1),[it,ot]=dt.useState(i.title),mt=dt.useMemo(()=>{const Gt=i.sections.reduce((Te,oe)=>{const Ze=oe.measures.reduce((De,we)=>De+we.beats.reduce((Se,Fe)=>Se+Fe.duration,0),0);return Te+Ze},0),Kt=i.tempo/60,ce=Gt/Kt,ge=Math.floor(ce/60),ae=Math.floor(ce%60);return`${ge}:${ae.toString().padStart(2,"0")}`},[i.sections,i.tempo]),[ft,gt]=dt.useState(!1);dt.useEffect(()=>{const Gt=async()=>{try{await p1(),await Vg(),gt(!0)}catch(ce){console.error("Audio initialization failed:",ce)}},Kt=()=>{ft||Gt()};return document.addEventListener("touchstart",Kt,{once:!0}),document.addEventListener("click",Kt,{once:!0}),()=>{document.removeEventListener("touchstart",Kt),document.removeEventListener("click",Kt)}},[ft]),dt.useEffect(()=>{const Gt=Kt=>{if((Kt.key==="Delete"||Kt.key==="Backspace")&&a&&o){if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;Kt.preventDefault(),h(a,o)}};return window.addEventListener("keydown",Gt),()=>window.removeEventListener("keydown",Gt)},[a,o,h]),dt.useEffect(()=>{const Gt=Kt=>{const ce=Kt.target;ce?.tagName==="INPUT"||ce?.tagName==="TEXTAREA"||ce?.isContentEditable||Kt.metaKey&&Kt.key.toLowerCase()==="z"&&(Kt.preventDefault(),Kt.shiftKey?k&&A():N&&y())};return window.addEventListener("keydown",Gt),()=>window.removeEventListener("keydown",Gt)},[y,A,N,k]);const _t=()=>{ot(i.title),tt(!0)},Rt=()=>{c(it.trim()||"Untitled Song"),tt(!1)},[Xt,Ht]=dt.useState(!1),[$t,V]=dt.useState([]),Dt=dt.useRef(null);dt.useEffect(()=>{V(qf())},[]),dt.useEffect(()=>{const Gt=Kt=>{Dt.current&&!Dt.current.contains(Kt.target)&&Ht(!1)};return document.addEventListener("mousedown",Gt),()=>document.removeEventListener("mousedown",Gt)},[]);const ue=()=>{if(i.title==="Untitled Song"||!i.title.trim()){const Gt=prompt("Please name your song:",i.title);if(Gt===null)return;const Kt=Gt.trim()||"Untitled Song";c(Kt);const ce={...i,title:Kt};zb(ce)}else zb(i);V(qf()),Ht(!1)},ne=Gt=>{f(Gt),Ht(!1)},Lt=()=>{confirm("Start a new song? Unsaved changes will be lost.")&&(d(),Ht(!1))},ee=(Gt,Kt,ce)=>{ce.stopPropagation(),confirm(`Delete "${Kt}"?`)&&(pM(Gt),V(qf()))},ie=Gt=>{Gt.key==="Enter"?Rt():Gt.key==="Escape"&&(ot(i.title),tt(!1))},le=dt.useCallback(Gt=>{Gt.preventDefault(),I(!0)},[]);dt.useEffect(()=>{if(!F)return;const Gt=ce=>{const ae=window.innerHeight-ce.clientY-56;P(Math.max(100,Math.min(350,ae)))},Kt=()=>{I(!1)};return document.addEventListener("mousemove",Gt),document.addEventListener("mouseup",Kt),()=>{document.removeEventListener("mousemove",Gt),document.removeEventListener("mouseup",Kt)}},[F]);const pe=()=>{const Gt=new Ce;Gt.setFontSize(24),Gt.setFont("helvetica","bold"),Gt.text(i.title,20,20),Gt.setFontSize(12),Gt.setFont("helvetica","normal"),Gt.text(`Key: ${t} | Tempo: ${i.tempo} BPM`,20,30);let Kt=50;i.sections.forEach(ce=>{Kt>270&&(Gt.addPage(),Kt=20),Gt.setFontSize(14),Gt.setFont("helvetica","bold"),Gt.text(`[${ce.name}]`,20,Kt),Kt+=10;const ge=ce.measures.flatMap(ae=>ae.beats).filter(ae=>ae.chord).map(ae=>ae.chord?.symbol).join("  |  ");Gt.setFontSize(12),Gt.setFont("helvetica","normal"),Gt.text(ge||"(No chords)",20,Kt),Kt+=15}),Gt.save(`${i.title.replace(/\s+/g,"-").toLowerCase()}.pdf`)},ke=Math.max(80,T-42);return L.jsxs("div",{className:"h-full w-full flex flex-col bg-bg-primary text-text-primary overflow-hidden",children:[L.jsxs("header",{className:`${U?"h-14":"h-12"} border-b border-border-subtle grid grid-cols-[1fr_auto_1fr] items-center ${U?"px-4":"px-3"} bg-bg-secondary shrink-0 z-20 sticky top-0`,children:[L.jsx("div",{className:"flex items-center gap-2 shrink-0",children:L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsxs("div",{className:`${U?"w-8 h-8":"w-6 h-6"} rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center shadow-lg relative`,children:[L.jsx(z0,{size:U?16:12,className:"text-white"}),ft&&L.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full",title:"Audio Ready"})]}),L.jsx("span",{className:`font-bold ${U?"text-xs":"text-sm"} tracking-tight hidden sm:block text-text-muted`,children:"Songwriter's Wheel"})]})}),L.jsx("div",{className:"flex items-center justify-center overflow-hidden",children:H?L.jsx("input",{type:"text",value:it,onChange:Gt=>ot(Gt.target.value),onBlur:Rt,onKeyDown:ie,autoFocus:!0,className:`bg-bg-tertiary border border-border-medium rounded px-3 py-1 ${U?"text-xs":"text-sm"} font-medium text-text-primary focus:outline-none focus:border-accent-primary text-center ${U?"w-40":"w-56"} max-w-[70vw]`,maxLength:50}):L.jsx("span",{onDoubleClick:_t,className:`${U?"text-xs":"text-sm"} font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors px-2 py-1 rounded text-center truncate max-w-[70vw]`,title:"Double-click to edit title",children:i.title})}),L.jsxs("div",{className:`flex items-center ${U?"gap-2":"gap-[20px]"} shrink-0 justify-self-end ${U?"mr-0":"mr-2"}`,children:[U&&!ut&&L.jsxs("button",{onClick:r,className:`flex items-center gap-1 px-3 py-2 min-h-[48px] rounded-lg ${e?"bg-accent-primary text-white":"bg-bg-tertiary text-text-muted"} hover:bg-accent-primary/80 hover:text-white transition-all border border-border-subtle shadow-md active:scale-95`,title:e?"Hide Timeline":"Show Timeline",children:[L.jsx(iy,{size:16,className:"shrink-0"}),L.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:e?"Hide":"Show"})]}),!U&&L.jsxs("div",{className:"flex items-center gap-[6px] text-[10px] text-text-muted",children:[L.jsx(NT,{size:11,className:"shrink-0"}),L.jsx("span",{className:"leading-none",children:mt})]}),L.jsxs("div",{className:`flex items-center gap-[6px] ${U?"text-xs":"text-[10px]"} text-text-muted`,children:[L.jsx("span",{className:"uppercase font-bold",children:"Key"}),L.jsx("span",{className:`font-bold text-accent-primary ${U?"text-base":"text-sm"}`,children:t})]}),L.jsxs("div",{className:"relative",ref:Dt,children:[L.jsxs("button",{onClick:()=>Ht(!Xt),className:`flex items-center ${U?"gap-1":"gap-[20px]"} ${U?"text-xs":"text-[11px]"} text-text-secondary hover:text-text-primary transition-colors ${U?"px-1 py-1.5 min-w-[44px]":"px-2 py-1"} touch-feedback`,children:[L.jsx(ry,{size:U?16:12}),L.jsx("span",{className:"hidden sm:inline",children:"Save"}),L.jsx(yh,{size:U?12:10,className:`transition-transform ${Xt?"rotate-180":""}`})]}),Xt&&L.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-[#1a1a24] border border-border-medium rounded-lg shadow-2xl z-50 overflow-hidden",children:[L.jsxs("div",{className:"p-1.5 border-b border-border-subtle bg-[#22222e]",children:[L.jsxs("button",{onClick:ue,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[L.jsx(ry,{size:14,className:"text-accent-primary"}),"Save Current Song"]}),L.jsxs("button",{onClick:Lt,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[L.jsx(LT,{size:14,className:"text-green-400"}),"New Song"]})]}),L.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#1a1a24]",children:$t.length===0?L.jsx("p",{className:"px-3 py-4 text-[10px] text-gray-500 text-center",children:"No saved songs yet"}):L.jsxs("div",{className:"p-1.5",children:[L.jsx("p",{className:"px-2 py-1 text-[9px] text-gray-500 uppercase tracking-wider",children:"Saved Songs"}),$t.map(Gt=>L.jsxs("div",{onClick:()=>ne(Gt),className:`flex items-center justify-between px-3 py-2 text-xs rounded cursor-pointer transition-colors ${Gt.id===i.id?"bg-accent-primary/20 text-accent-primary":"text-gray-300 hover:bg-[#2a2a3a]"}`,children:[L.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.jsx(jT,{size:12,className:"shrink-0"}),L.jsx("span",{className:"truncate",children:Gt.title})]}),L.jsx("button",{onClick:Kt=>ee(Gt.id,Gt.title,Kt),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400 shrink-0",children:L.jsx(s_,{size:10})})]},Gt.id))]})})]})]}),L.jsxs("button",{onClick:pe,className:`flex items-center ${U?"gap-1":"gap-[20px]"} ${U?"text-xs":"text-[11px]"} bg-text-primary text-bg-primary ${U?"px-2 py-1.5 min-w-[44px]":"px-2 py-1"} rounded font-medium hover:bg-white transition-colors touch-feedback`,children:[L.jsx(OT,{size:U?16:12}),L.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]}),L.jsxs("div",{className:`flex-1 flex ${U?ut?"flex-row":"flex-col":"flex-row"} overflow-hidden min-h-0`,children:[L.jsxs("div",{className:`flex flex-col min-w-0 min-h-0 ${U&&ut?"w-1/2":"flex-1"} overflow-hidden bg-gradient-to-b from-bg-primary to-bg-secondary/30`,children:[L.jsxs("div",{className:`flex-1 flex flex-col ${U&&!ut?"justify-center":""} overflow-hidden`,children:[!U||ut?L.jsx("div",{className:`flex justify-end ${U?"px-4 py-2":"px-3 py-2 md:py-1.5"} shrink-0 w-full`,children:L.jsxs("div",{className:`flex items-center ${U?"gap-2":"gap-1"} bg-bg-secondary/80 backdrop-blur-sm rounded-full ${U?"px-3 py-2":"px-2 py-1"} border border-border-subtle shadow-lg`,children:[L.jsx("button",{onClick:E,disabled:Y<=1,className:`${U?"w-11 h-11":"w-6 h-6"} flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95`,title:"Zoom out",children:L.jsx(UT,{size:U?18:12})}),L.jsxs("span",{className:`${U?"text-xs w-12":"text-[9px] w-8"} text-text-muted text-center font-medium`,children:[Math.round(Y*100),"%"]}),L.jsx("button",{onClick:X,disabled:Y>=2.5,className:`${U?"w-11 h-11":"w-6 h-6"} flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95`,title:"Zoom in",children:L.jsx(n_,{size:U?18:12})})]})}):null,L.jsx("div",{className:`flex-1 flex items-center justify-center ${U&&!ut?"overflow-hidden":"overflow-auto"} ${U&&!ut?"px-2 py-0":"px-3 pb-3"}`,children:L.jsx("div",{className:"relative flex items-center justify-center",style:{width:`${C}px`,height:`${C}px`,maxWidth:"100%",maxHeight:U&&!ut?"100%":void 0},children:L.jsx(wC,{zoomScale:Y,zoomOriginY:R,onZoomChange:Nt})})})]}),!U||ut?e?L.jsxs(L.Fragment,{children:[L.jsx("div",{className:`h-7 bg-bg-secondary border-t border-border-subtle flex items-center justify-center group transition-colors ${F?"bg-accent-primary/20":""}`,children:L.jsx("div",{className:"flex-1 h-full cursor-ns-resize flex items-center justify-center hover:bg-bg-tertiary transition-colors",onMouseDown:le,children:L.jsx(iy,{size:14,className:"text-text-muted group-hover:text-text-secondary"})})}),L.jsxs("div",{className:"shrink-0 bg-bg-secondary overflow-hidden",style:{height:T},children:[L.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-bg-secondary/90 backdrop-blur-sm",children:[L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[L.jsx("span",{className:"uppercase font-bold tracking-wider text-[9px]",children:"Scale"}),L.jsx("input",{type:"range",min:.01,max:1.6,step:.01,value:B,onChange:Gt=>Q(parseFloat(Gt.target.value)),className:"w-32",style:{accentColor:"#8b5cf6"},"aria-label":"Timeline scale"}),L.jsxs("span",{className:"text-[10px] text-text-secondary w-12 text-right",children:[Math.round(B*100),"%"]})]}),L.jsxs("div",{className:"flex items-center gap-1",children:[L.jsxs("button",{onClick:y,disabled:!N,className:`flex items-center gap-1 ${U?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Undo (Z)",children:[L.jsx(i_,{size:U?14:12}),L.jsx("span",{className:"uppercase font-bold tracking-wider",children:U?"":"Undo"})]}),L.jsxs("button",{onClick:A,disabled:!k,className:`flex items-center gap-1 ${U?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Redo (Z)",children:[L.jsx(r_,{size:U?14:12}),L.jsx("span",{className:"uppercase font-bold tracking-wider",children:U?"":"Redo"})]})]})]}),L.jsxs("button",{onClick:r,className:`${U?"text-xs min-h-[44px] px-3":"text-[10px] px-2 py-1"} text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors flex items-center gap-1 touch-feedback`,title:"Hide timeline",children:[L.jsx(yh,{size:U?14:12}),L.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Hide"})]})]}),L.jsx(i0,{height:ke,scale:B})]})]}):L.jsx("div",{className:`${U?"h-12":"h-7"} bg-bg-secondary border-t border-border-subtle flex items-center justify-center shrink-0`,children:L.jsxs("button",{onClick:r,className:`${U?"px-4 min-h-[48px]":"px-3 h-full"} flex items-center gap-1 ${U?"text-xs":"text-[9px]"} text-text-muted hover:text-text-primary hover:bg-bg-tertiary transition-colors touch-feedback`,title:"Show timeline",children:[L.jsx(Ug,{size:U?14:12}),L.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Timeline"})]})}):null]}),U&&ut?L.jsxs("div",{className:"w-1/2 flex flex-col overflow-hidden border-l border-border-subtle",children:[e&&L.jsxs("div",{className:"flex-1 overflow-hidden bg-bg-secondary border-b border-border-subtle",children:[L.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-bg-secondary/90",children:[L.jsx("span",{className:"text-xs font-bold text-text-primary uppercase tracking-wider",children:"Timeline"}),L.jsx("button",{onClick:r,className:"text-xs px-2 py-1 text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors",children:"Hide"})]}),L.jsx(i0,{height:150,scale:.8})]}),L.jsx("div",{className:"flex-1 overflow-auto",children:L.jsx(r0,{variant:"drawer"})})]}):U?null:L.jsx(r0,{variant:"sidebar"})]}),U&&!ut&&!e&&L.jsx("div",{className:"shrink-0 px-4 pb-3 bg-bg-primary border-t border-border-subtle",children:L.jsx(r0,{variant:"drawer"})}),U&&!ut&&e&&L.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-bg-secondary border-t-2 border-accent-primary shadow-2xl",style:{height:"45vh",maxHeight:"350px",zIndex:50,paddingBottom:"env(safe-area-inset-bottom)"},children:[L.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-bg-secondary/95 backdrop-blur-sm",children:[L.jsx("span",{className:"text-sm font-bold text-text-primary uppercase tracking-wider",children:"Timeline"}),L.jsx("button",{onClick:r,className:"text-sm px-4 py-2 min-h-[44px] bg-bg-tertiary hover:bg-bg-elevated text-text-primary rounded-lg transition-colors font-semibold",children:"Hide"})]}),L.jsx(i0,{height:200,scale:.8})]}),(!U||e)&&L.jsx("div",{className:"shrink-0 z-30 relative",style:{paddingBottom:U?"env(safe-area-inset-bottom)":void 0},children:L.jsx(SE,{})})]})}Y3.createRoot(document.getElementById("root")).render(L.jsx(dt.StrictMode,{children:L.jsx(mM,{})}));export{qn as _,gM as c,B3 as g};
