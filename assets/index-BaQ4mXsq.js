(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var h1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var J0={exports:{}},Nf={};var k5;function a4(){if(k5)return Nf;k5=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var h=null;if(o!==void 0&&(h=""+o),a.key!==void 0&&(h=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:r,type:i,key:h,ref:a!==void 0?a:null,props:o}}return Nf.Fragment=e,Nf.jsx=t,Nf.jsxs=t,Nf}var M5;function o4(){return M5||(M5=1,J0.exports=a4()),J0.exports}var E=o4(),em={exports:{}},rn={};var O5;function l4(){if(O5)return rn;O5=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=_&&Y[_]||Y["@@iterator"],typeof Y=="function"?Y:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,C={};function T(Y,O,q){this.props=Y,this.context=O,this.refs=C,this.updater=q||S}T.prototype.isReactComponent={},T.prototype.setState=function(Y,O){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,O,"setState")},T.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function R(){}R.prototype=T.prototype;function D(Y,O,q){this.props=Y,this.context=O,this.refs=C,this.updater=q||S}var F=D.prototype=new R;F.constructor=D,N(F,T.prototype),F.isPureReactComponent=!0;var B=Array.isArray;function G(){}var z={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function V(Y,O,q){var J=q.ref;return{$$typeof:r,type:Y,key:O,ref:J!==void 0?J:null,props:q}}function Z(Y,O){return V(Y.type,O,Y.props)}function k(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===r}function I(Y){var O={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(q){return O[q]})}var te=/\/+/g;function $(Y,O){return typeof Y=="object"&&Y!==null&&Y.key!=null?I(""+Y.key):O.toString(36)}function ne(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(G,G):(Y.status="pending",Y.then(function(O){Y.status==="pending"&&(Y.status="fulfilled",Y.value=O)},function(O){Y.status==="pending"&&(Y.status="rejected",Y.reason=O)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function K(Y,O,q,J,se){var ue=typeof Y;(ue==="undefined"||ue==="boolean")&&(Y=null);var me=!1;if(Y===null)me=!0;else switch(ue){case"bigint":case"string":case"number":me=!0;break;case"object":switch(Y.$$typeof){case r:case e:me=!0;break;case m:return me=Y._init,K(me(Y._payload),O,q,J,se)}}if(me)return se=se(Y),me=J===""?"."+$(Y,0):J,B(se)?(q="",me!=null&&(q=me.replace(te,"$&/")+"/"),K(se,O,q,"",function(Ne){return Ne})):se!=null&&(k(se)&&(se=Z(se,q+(se.key==null||Y&&Y.key===se.key?"":(""+se.key).replace(te,"$&/")+"/")+me)),O.push(se)),1;me=0;var de=J===""?".":J+":";if(B(Y))for(var xe=0;xe<Y.length;xe++)J=Y[xe],ue=de+$(J,xe),me+=K(J,O,q,ue,se);else if(xe=v(Y),typeof xe=="function")for(Y=xe.call(Y),xe=0;!(J=Y.next()).done;)J=J.value,ue=de+$(J,xe++),me+=K(J,O,q,ue,se);else if(ue==="object"){if(typeof Y.then=="function")return K(ne(Y),O,q,J,se);throw O=String(Y),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return me}function re(Y,O,q){if(Y==null)return Y;var J=[],se=0;return K(Y,J,"","",function(ue){return O.call(q,ue,se++)}),J}function ae(Y){if(Y._status===-1){var O=Y._result;O=O(),O.then(function(q){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=q)},function(q){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=q)}),Y._status===-1&&(Y._status=0,Y._result=O)}if(Y._status===1)return Y._result.default;throw Y._result}var fe=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},_e={map:re,forEach:function(Y,O,q){re(Y,function(){O.apply(this,arguments)},q)},count:function(Y){var O=0;return re(Y,function(){O++}),O},toArray:function(Y){return re(Y,function(O){return O})||[]},only:function(Y){if(!k(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return rn.Activity=y,rn.Children=_e,rn.Component=T,rn.Fragment=t,rn.Profiler=a,rn.PureComponent=D,rn.StrictMode=i,rn.Suspense=f,rn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,rn.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return z.H.useMemoCache(Y)}},rn.cache=function(Y){return function(){return Y.apply(null,arguments)}},rn.cacheSignal=function(){return null},rn.cloneElement=function(Y,O,q){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var J=N({},Y.props),se=Y.key;if(O!=null)for(ue in O.key!==void 0&&(se=""+O.key),O)!j.call(O,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&O.ref===void 0||(J[ue]=O[ue]);var ue=arguments.length-2;if(ue===1)J.children=q;else if(1<ue){for(var me=Array(ue),de=0;de<ue;de++)me[de]=arguments[de+2];J.children=me}return V(Y.type,se,J)},rn.createContext=function(Y){return Y={$$typeof:h,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:o,_context:Y},Y},rn.createElement=function(Y,O,q){var J,se={},ue=null;if(O!=null)for(J in O.key!==void 0&&(ue=""+O.key),O)j.call(O,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(se[J]=O[J]);var me=arguments.length-2;if(me===1)se.children=q;else if(1<me){for(var de=Array(me),xe=0;xe<me;xe++)de[xe]=arguments[xe+2];se.children=de}if(Y&&Y.defaultProps)for(J in me=Y.defaultProps,me)se[J]===void 0&&(se[J]=me[J]);return V(Y,ue,se)},rn.createRef=function(){return{current:null}},rn.forwardRef=function(Y){return{$$typeof:c,render:Y}},rn.isValidElement=k,rn.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:ae}},rn.memo=function(Y,O){return{$$typeof:d,type:Y,compare:O===void 0?null:O}},rn.startTransition=function(Y){var O=z.T,q={};z.T=q;try{var J=Y(),se=z.S;se!==null&&se(q,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(G,fe)}catch(ue){fe(ue)}finally{O!==null&&q.types!==null&&(O.types=q.types),z.T=O}},rn.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},rn.use=function(Y){return z.H.use(Y)},rn.useActionState=function(Y,O,q){return z.H.useActionState(Y,O,q)},rn.useCallback=function(Y,O){return z.H.useCallback(Y,O)},rn.useContext=function(Y){return z.H.useContext(Y)},rn.useDebugValue=function(){},rn.useDeferredValue=function(Y,O){return z.H.useDeferredValue(Y,O)},rn.useEffect=function(Y,O){return z.H.useEffect(Y,O)},rn.useEffectEvent=function(Y){return z.H.useEffectEvent(Y)},rn.useId=function(){return z.H.useId()},rn.useImperativeHandle=function(Y,O,q){return z.H.useImperativeHandle(Y,O,q)},rn.useInsertionEffect=function(Y,O){return z.H.useInsertionEffect(Y,O)},rn.useLayoutEffect=function(Y,O){return z.H.useLayoutEffect(Y,O)},rn.useMemo=function(Y,O){return z.H.useMemo(Y,O)},rn.useOptimistic=function(Y,O){return z.H.useOptimistic(Y,O)},rn.useReducer=function(Y,O,q){return z.H.useReducer(Y,O,q)},rn.useRef=function(Y){return z.H.useRef(Y)},rn.useState=function(Y){return z.H.useState(Y)},rn.useSyncExternalStore=function(Y,O,q){return z.H.useSyncExternalStore(Y,O,q)},rn.useTransition=function(){return z.H.useTransition()},rn.version="19.2.0",rn}var L5;function ug(){return L5||(L5=1,em.exports=l4()),em.exports}var he=ug();const dn=Qy(he);var tm={exports:{}},Cf={},nm={exports:{}},rm={};var j5;function c4(){return j5||(j5=1,(function(r){function e(K,re){var ae=K.length;K.push(re);e:for(;0<ae;){var fe=ae-1>>>1,_e=K[fe];if(0<a(_e,re))K[fe]=re,K[ae]=_e,ae=fe;else break e}}function t(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var re=K[0],ae=K.pop();if(ae!==re){K[0]=ae;e:for(var fe=0,_e=K.length,Y=_e>>>1;fe<Y;){var O=2*(fe+1)-1,q=K[O],J=O+1,se=K[J];if(0>a(q,ae))J<_e&&0>a(se,q)?(K[fe]=se,K[J]=ae,fe=J):(K[fe]=q,K[O]=ae,fe=O);else if(J<_e&&0>a(se,ae))K[fe]=se,K[J]=ae,fe=J;else break e}}return re}function a(K,re){var ae=K.sortIndex-re.sortIndex;return ae!==0?ae:K.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var h=Date,c=h.now();r.unstable_now=function(){return h.now()-c}}var f=[],d=[],m=1,y=null,_=3,v=!1,S=!1,N=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function F(K){for(var re=t(d);re!==null;){if(re.callback===null)i(d);else if(re.startTime<=K)i(d),re.sortIndex=re.expirationTime,e(f,re);else break;re=t(d)}}function B(K){if(N=!1,F(K),!S)if(t(f)!==null)S=!0,G||(G=!0,I());else{var re=t(d);re!==null&&ne(B,re.startTime-K)}}var G=!1,z=-1,j=5,V=-1;function Z(){return C?!0:!(r.unstable_now()-V<j)}function k(){if(C=!1,G){var K=r.unstable_now();V=K;var re=!0;try{e:{S=!1,N&&(N=!1,R(z),z=-1),v=!0;var ae=_;try{t:{for(F(K),y=t(f);y!==null&&!(y.expirationTime>K&&Z());){var fe=y.callback;if(typeof fe=="function"){y.callback=null,_=y.priorityLevel;var _e=fe(y.expirationTime<=K);if(K=r.unstable_now(),typeof _e=="function"){y.callback=_e,F(K),re=!0;break t}y===t(f)&&i(f),F(K)}else i(f);y=t(f)}if(y!==null)re=!0;else{var Y=t(d);Y!==null&&ne(B,Y.startTime-K),re=!1}}break e}finally{y=null,_=ae,v=!1}re=void 0}}finally{re?I():G=!1}}}var I;if(typeof D=="function")I=function(){D(k)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,$=te.port2;te.port1.onmessage=k,I=function(){$.postMessage(null)}}else I=function(){T(k,0)};function ne(K,re){z=T(function(){K(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_next=function(K){switch(_){case 1:case 2:case 3:var re=3;break;default:re=_}var ae=_;_=re;try{return K()}finally{_=ae}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ae=_;_=K;try{return re()}finally{_=ae}},r.unstable_scheduleCallback=function(K,re,ae){var fe=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?fe+ae:fe):ae=fe,K){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ae+_e,K={id:m++,callback:re,priorityLevel:K,startTime:ae,expirationTime:_e,sortIndex:-1},ae>fe?(K.sortIndex=ae,e(d,K),t(f)===null&&K===t(d)&&(N?(R(z),z=-1):N=!0,ne(B,ae-fe))):(K.sortIndex=_e,e(f,K),S||v||(S=!0,G||(G=!0,I()))),K},r.unstable_shouldYield=Z,r.unstable_wrapCallback=function(K){var re=_;return function(){var ae=_;_=re;try{return K.apply(this,arguments)}finally{_=ae}}}})(rm)),rm}var D5;function u4(){return D5||(D5=1,nm.exports=c4()),nm.exports}var im={exports:{}},Bi={};var R5;function h4(){if(R5)return Bi;R5=1;var r=ug();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:d,implementation:m}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Bi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Bi.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,m)},Bi.flushSync=function(f){var d=h.T,m=i.p;try{if(h.T=null,i.p=2,f)return f()}finally{h.T=d,i.p=m,i.d.f()}},Bi.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Bi.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Bi.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:v}):m==="script"&&i.d.X(f,{crossOrigin:y,integrity:_,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Bi.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Bi.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);i.d.L(f,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Bi.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Bi.requestFormReset=function(f){i.d.r(f)},Bi.unstable_batchedUpdates=function(f,d){return f(d)},Bi.useFormState=function(f,d,m){return h.H.useFormState(f,d,m)},Bi.useFormStatus=function(){return h.H.useHostTransitionStatus()},Bi.version="19.2.0",Bi}var I5;function Jy(){if(I5)return im.exports;I5=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),im.exports=h4(),im.exports}var V5;function f4(){if(V5)return Cf;V5=1;var r=u4(),e=ug(),t=Jy();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function c(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(o(n)!==n)throw Error(i(188))}function d(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,u=s;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return f(g),n;if(x===u)return f(g),s;x=x.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=x;else{for(var L=!1,Q=g.child;Q;){if(Q===l){L=!0,l=g,u=x;break}if(Q===u){L=!0,u=g,l=x;break}Q=Q.sibling}if(!L){for(Q=x.child;Q;){if(Q===l){L=!0,l=x,u=g;break}if(Q===u){L=!0,u=x,l=g;break}Q=Q.sibling}if(!L)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function m(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=m(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function I(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var te=Symbol.for("react.client.reference");function $(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===te?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case T:return"Profiler";case C:return"StrictMode";case B:return"Suspense";case G:return"SuspenseList";case V:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case D:return n.displayName||"Context";case R:return(n._context.displayName||"Context")+".Consumer";case F:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return s=n.displayName||null,s!==null?s:$(n.type)||"Memo";case j:s=n._payload,n=n._init;try{return $(n(s))}catch{}}return null}var ne=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},fe=[],_e=-1;function Y(n){return{current:n}}function O(n){0>_e||(n.current=fe[_e],fe[_e]=null,_e--)}function q(n,s){_e++,fe[_e]=n.current,n.current=s}var J=Y(null),se=Y(null),ue=Y(null),me=Y(null);function de(n,s){switch(q(ue,s),q(se,n),q(J,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Qv(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Qv(s),n=Jv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}O(J),q(J,n)}function xe(){O(J),O(se),O(ue)}function Ne(n){n.memoizedState!==null&&q(me,n);var s=J.current,l=Jv(s,n.type);s!==l&&(q(se,n),q(J,l))}function Ue(n){se.current===n&&(O(J),O(se)),me.current===n&&(O(me),_f._currentValue=ae)}var Ke,it;function st(n){if(Ke===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Ke=s&&s[1]||"",it=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ke+n+it}var H=!1;function je(n,s){if(!n||H)return"";H=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(Re){var Le=Re}Reflect.construct(n,[],Ge)}else{try{Ge.call()}catch(Re){Le=Re}n.call(Ge.prototype)}}else{try{throw Error()}catch(Re){Le=Re}(Ge=n())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(Re){if(Re&&Le&&typeof Re.stack=="string")return[Re.stack,Le.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),L=x[0],Q=x[1];if(L&&Q){var pe=L.split(`
`),Oe=Q.split(`
`);for(g=u=0;u<pe.length&&!pe[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Oe.length&&!Oe[g].includes("DetermineComponentFrameRoot");)g++;if(u===pe.length||g===Oe.length)for(u=pe.length-1,g=Oe.length-1;1<=u&&0<=g&&pe[u]!==Oe[g];)g--;for(;1<=u&&0<=g;u--,g--)if(pe[u]!==Oe[g]){if(u!==1||g!==1)do if(u--,g--,0>g||pe[u]!==Oe[g]){var qe=`
`+pe[u].replace(" at new "," at ");return n.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",n.displayName)),qe}while(1<=u&&0<=g);break}}}finally{H=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?st(l):""}function at(n,s){switch(n.tag){case 26:case 27:case 5:return st(n.type);case 16:return st("Lazy");case 13:return n.child!==s&&s!==null?st("Suspense Fallback"):st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return je(n.type,!1);case 11:return je(n.type.render,!1);case 1:return je(n.type,!0);case 31:return st("Activity");default:return""}}function Xe(n){try{var s="",l=null;do s+=at(n,l),l=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ce=Object.prototype.hasOwnProperty,Qe=r.unstable_scheduleCallback,et=r.unstable_cancelCallback,ft=r.unstable_shouldYield,dt=r.unstable_requestPaint,kt=r.unstable_now,Xt=r.unstable_getCurrentPriorityLevel,Dt=r.unstable_ImmediatePriority,De=r.unstable_UserBlockingPriority,ot=r.unstable_NormalPriority,ct=r.unstable_LowPriority,_t=r.unstable_IdlePriority,mt=r.log,Ie=r.unstable_setDisableYieldValue,tt=null,nt=null;function pt(n){if(typeof mt=="function"&&Ie(n),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(tt,n)}catch{}}var wt=Math.clz32?Math.clz32:vt,ut=Math.log,Zt=Math.LN2;function vt(n){return n>>>=0,n===0?32:31-(ut(n)/Zt|0)|0}var bt=256,Ht=262144,rt=4194304;function lt(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ot(n,s,l){var u=n.pendingLanes;if(u===0)return 0;var g=0,x=n.suspendedLanes,L=n.pingedLanes;n=n.warmLanes;var Q=u&134217727;return Q!==0?(u=Q&~x,u!==0?g=lt(u):(L&=Q,L!==0?g=lt(L):l||(l=Q&~n,l!==0&&(g=lt(l))))):(Q=u&~x,Q!==0?g=lt(Q):L!==0?g=lt(L):l||(l=u&~n,l!==0&&(g=lt(l)))),g===0?0:s!==0&&s!==g&&(s&x)===0&&(x=g&-g,l=s&-s,x>=l||x===32&&(l&4194048)!==0)?s:g}function Cn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Ee(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ve(){var n=rt;return rt<<=1,(rt&62914560)===0&&(rt=4194304),n}function We(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function Ze(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function gt(n,s,l,u,g,x){var L=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var Q=n.entanglements,pe=n.expirationTimes,Oe=n.hiddenUpdates;for(l=L&~l;0<l;){var qe=31-wt(l),Ge=1<<qe;Q[qe]=0,pe[qe]=-1;var Le=Oe[qe];if(Le!==null)for(Oe[qe]=null,qe=0;qe<Le.length;qe++){var Re=Le[qe];Re!==null&&(Re.lane&=-536870913)}l&=~Ge}u!==0&&St(n,u,0),x!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=x&~(L&~s))}function St(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-wt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function Mt(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var u=31-wt(l),g=1<<u;g&s|n[u]&s&&(n[u]|=s),l&=~g}}function $t(n,s){var l=s&-s;return l=(l&42)!==0?1:Bt(l),(l&(n.suspendedLanes|s))!==0?0:l}function Bt(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Yt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function en(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:w5(n.type))}function Ar(n,s){var l=re.p;try{return re.p=n,s()}finally{re.p=l}}var qn=Math.random().toString(36).slice(2),pn="__reactFiber$"+qn,Tn="__reactProps$"+qn,br="__reactContainer$"+qn,Hr="__reactEvents$"+qn,Gr="__reactListeners$"+qn,Qs="__reactHandles$"+qn,os="__reactResources$"+qn,Di="__reactMarker$"+qn;function Os(n){delete n[pn],delete n[Tn],delete n[Hr],delete n[Gr],delete n[Qs]}function Ri(n){var s=n[pn];if(s)return s;for(var l=n.parentNode;l;){if(s=l[br]||l[pn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=a5(n);n!==null;){if(l=n[pn])return l;n=a5(n)}return s}n=l,l=n.parentNode}return null}function Yi(n){if(n=n[pn]||n[br]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Js(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Wi(n){var s=n[os];return s||(s=n[os]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function nr(n){n[Di]=!0}var Fo=new Set,wi={};function Xi(n,s){Ls(n,s),Ls(n+"Capture",s)}function Ls(n,s){for(wi[n]=s,n=0;n<s.length;n++)Fo.add(s[n])}var _c=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wc={},Sc={};function gu(n){return Ce.call(Sc,n)?!0:Ce.call(wc,n)?!1:_c.test(n)?Sc[n]=!0:(wc[n]=!0,!1)}function Zi(n,s,l){if(gu(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function xa(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function js(n,s,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+u)}}function En(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ac(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ea(n,s,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,x=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(L){l=""+L,x.call(this,L)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(L){l=""+L},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function lo(n){if(!n._valueTracker){var s=Ac(n)?"checked":"value";n._valueTracker=ea(n,s,""+n[s])}}function Nc(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return n&&(u=Ac(n)?n.checked?"true":"false":n.value),n=u,n!==l?(s.setValue(n),!0):!1}function Si(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ir=/[\n"\\]/g;function Nr(n){return n.replace(Ir,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Al(n,s,l,u,g,x,L,Q){n.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?n.type=L:n.removeAttribute("type"),s!=null?L==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+En(s)):n.value!==""+En(s)&&(n.value=""+En(s)):L!=="submit"&&L!=="reset"||n.removeAttribute("value"),s!=null?Cc(n,L,En(s)):l!=null?Cc(n,L,En(l)):u!=null&&n.removeAttribute("value"),g==null&&x!=null&&(n.defaultChecked=!!x),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?n.name=""+En(Q):n.removeAttribute("name")}function vu(n,s,l,u,g,x,L,Q){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),s!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){lo(n);return}l=l!=null?""+En(l):"",s=s!=null?""+En(s):l,Q||s===n.value||(n.value=s),n.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=Q?n.checked:!!u,n.defaultChecked=!!u,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(n.name=L),lo(n)}function Cc(n,s,l){s==="number"&&Si(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Ai(n,s,l,u){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&u&&(n[l].defaultSelected=!0)}else{for(l=""+En(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function Tc(n,s,l){if(s!=null&&(s=""+En(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+En(l):""}function Ec(n,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(i(92));if(ne(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=En(s),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),lo(n)}function Ds(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var Bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bu(n,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,l):typeof l!="number"||l===0||Bo.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function yu(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&bu(n,g,u)}else for(var x in s)s.hasOwnProperty(x)&&bu(n,x,s[x])}function kc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ii(n){return xu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Rs(){}var _a=null;function qo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var co=null,qt=null;function _u(n){var s=Yi(n);if(s&&(n=s.stateNode)){var l=n[Tn]||null;e:switch(n=s.stateNode,s.type){case"input":if(Al(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Nr(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==n&&u.form===n.form){var g=u[Tn]||null;if(!g)throw Error(i(90));Al(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===n.form&&Nc(u)}break e;case"textarea":Tc(n,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ai(n,!!l.multiple,s,!1)}}}var Oc=!1;function wu(n,s,l){if(Oc)return n(s,l);Oc=!0;try{var u=n(s);return u}finally{if(Oc=!1,(co!==null||qt!==null)&&(Ud(),co&&(s=co,n=qt,qt=co=null,_u(s),n)))for(s=0;s<n.length;s++)_u(n[s])}}function $i(n,s){var l=n.stateNode;if(l===null)return null;var u=l[Tn]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lc=!1;if(ti)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){Lc=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{Lc=!1}var Ki=null,Po=null,ta=null;function Su(){if(ta)return ta;var n,s=Po,l=s.length,u,g="value"in Ki?Ki.value:Ki.textContent,x=g.length;for(n=0;n<l&&s[n]===g[n];n++);var L=l-n;for(u=1;u<=L&&s[l-u]===g[x-u];u++);return ta=g.slice(n,1<u?1-u:void 0)}function ls(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Nl(){return!0}function Cl(){return!1}function Yr(n){function s(l,u,g,x,L){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=x,this.target=L,this.currentTarget=null;for(var Q in n)n.hasOwnProperty(Q)&&(l=n[Q],this[Q]=l?l(x):x[Q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Nl:Cl,this.isPropagationStopped=Cl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),s}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=Yr(na),wa=y({},na,{view:0,detail:0}),Tl=Yr(wa),Uo,Sa,Aa,Ho=y({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gt,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Aa&&(Aa&&n.type==="mousemove"?(Uo=n.screenX-Aa.screenX,Sa=n.screenY-Aa.screenY):Sa=Uo=0,Aa=n),Uo)},movementY:function(n){return"movementY"in n?n.movementY:Sa}}),jc=Yr(Ho),Na=y({},Ho,{dataTransfer:0}),Ca=Yr(Na),Au=y({},wa,{relatedTarget:0}),Ta=Yr(Au),Nu=y({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),w=Yr(Nu),P=y({},na,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ce=Yr(P),ge=y({},na,{data:0}),we=Yr(ge),ze={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lt(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Nt[n])?!!s[n]:!1}function Gt(){return Lt}var tn=y({},wa,{key:function(n){if(n.key){var s=ze[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ls(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$e[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gt,charCode:function(n){return n.type==="keypress"?ls(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ls(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),bn=Yr(tn),rr=y({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=Yr(rr),zn=y({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gt}),Vr=Yr(zn),Cr=y({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),ni=Yr(Cr),Ea=y({},Ho,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Is=Yr(Ea),ka=y({},na,{newState:0,oldState:0}),Dc=Yr(ka),El=[9,13,27,32],ra=ti&&"CompositionEvent"in window,Vs=null;ti&&"documentMode"in document&&(Vs=document.documentMode);var Go=ti&&"TextEvent"in window&&!Vs,Ma=ti&&(!ra||Vs&&8<Vs&&11>=Vs),Wr=" ",uo=!1;function ho(n,s){switch(n){case"keyup":return El.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kl(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ia=!1;function Ni(n,s){switch(n){case"compositionend":return kl(s);case"keypress":return s.which!==32?null:(uo=!0,Wr);case"textInput":return n=s.data,n===Wr&&uo?null:n;default:return null}}function Oa(n,s){if(ia)return n==="compositionend"||!ra&&ho(n,s)?(n=Su(),ta=Po=Ki=null,ia=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ma&&s.locale!=="ko"?null:s.data;default:return null}}var Ml={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Ml[n.type]:s==="textarea"}function Qi(n,s,l,u){co?qt?qt.push(u):qt=[u]:co=u,s=$d(s,"onChange"),0<s.length&&(l=new cs("onChange","change",null,l,u),n.push({event:l,listeners:s}))}var Fs=null,La=null;function Ic(n){Yv(n,0)}function Bs(n){var s=Js(n);if(Nc(s))return n}function fo(n,s){if(n==="change")return s}var Vi=!1;if(ti){var Ci;if(ti){var sa="oninput"in document;if(!sa){var aa=document.createElement("div");aa.setAttribute("oninput","return;"),sa=typeof aa.oninput=="function"}Ci=sa}else Ci=!1;Vi=Ci&&(!document.documentMode||9<document.documentMode)}function ja(){Fs&&(Fs.detachEvent("onpropertychange",Ol),La=Fs=null)}function Ol(n){if(n.propertyName==="value"&&Bs(La)){var s=[];Qi(s,La,n,qo(n)),wu(Ic,s)}}function Ll(n,s,l){n==="focusin"?(ja(),Fs=s,La=l,Fs.attachEvent("onpropertychange",Ol)):n==="focusout"&&ja()}function xr(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Bs(La)}function Cu(n,s){if(n==="click")return Bs(s)}function oa(n,s){if(n==="input"||n==="change")return Bs(s)}function la(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var ri=typeof Object.is=="function"?Object.is:la;function Da(n,s){if(ri(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Ce.call(s,g)||!ri(n[g],s[g]))return!1}return!0}function jl(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Dl(n,s){var l=jl(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=s&&u>=s)return{node:l,offset:s-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=jl(l)}}function Ra(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Ra(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Ia(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Si(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Si(n.document)}return s}function ca(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Yo=ti&&"documentMode"in document&&11>=document.documentMode,Ji=null,Va=null,fi=null,us=!1;function kn(n,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;us||Ji==null||Ji!==Si(u)||(u=Ji,"selectionStart"in u&&ca(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),fi&&Da(fi,u)||(fi=u,u=$d(Va,"onSelect"),0<u.length&&(s=new cs("onSelect","select",null,s,l),n.push({event:s,listeners:u}),s.target=Ji)))}function yn(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Pn={animationend:yn("Animation","AnimationEnd"),animationiteration:yn("Animation","AnimationIteration"),animationstart:yn("Animation","AnimationStart"),transitionrun:yn("Transition","TransitionRun"),transitionstart:yn("Transition","TransitionStart"),transitioncancel:yn("Transition","TransitionCancel"),transitionend:yn("Transition","TransitionEnd")},_r={},ua={};ti&&(ua=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function qs(n){if(_r[n])return _r[n];if(!Pn[n])return n;var s=Pn[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in ua)return _r[n]=s[l];return n}var Wo=qs("animationend"),Vc=qs("animationiteration"),Uh=qs("animationstart"),yd=qs("transitionrun"),xd=qs("transitionstart"),_d=qs("transitioncancel"),Hh=qs("transitionend"),Gh=new Map,Xo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xo.push("scrollEnd");function hs(n,s){Gh.set(n,s),Xi(s,[n])}var Fc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},es=[],Zo=0,Tu=0;function Bc(){for(var n=Zo,s=Tu=Zo=0;s<n;){var l=es[s];es[s++]=null;var u=es[s];es[s++]=null;var g=es[s];es[s++]=null;var x=es[s];if(es[s++]=null,u!==null&&g!==null){var L=u.pending;L===null?g.next=g:(g.next=L.next,L.next=g),u.pending=g}x!==0&&zc(l,g,x)}}function qc(n,s,l,u){es[Zo++]=n,es[Zo++]=s,es[Zo++]=l,es[Zo++]=u,Tu|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Eu(n,s,l,u){return qc(n,s,l,u),di(n)}function Fa(n,s){return qc(n,null,null,s),di(n)}function zc(n,s,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var g=!1,x=n.return;x!==null;)x.childLanes|=l,u=x.alternate,u!==null&&(u.childLanes|=l),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(g=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,g&&s!==null&&(g=31-wt(l),n=x.hiddenUpdates,u=n[g],u===null?n[g]=[s]:u.push(s),s.lane=l|536870912),x):null}function di(n){if(50<pf)throw pf=0,S0=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ii={};function ku(n,s,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(n,s,l,u){return new ku(n,s,l,u)}function Mu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fs(n,s){var l=n.alternate;return l===null?(l=pi(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Pc(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Rl(n,s,l,u,g,x){var L=0;if(u=n,typeof n=="function")Mu(n)&&(L=1);else if(typeof n=="string")L=Xw(n,l,J.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case V:return n=pi(31,l,s,g),n.elementType=V,n.lanes=x,n;case N:return po(l.children,g,x,s);case C:L=8,g|=24;break;case T:return n=pi(12,l,s,g|2),n.elementType=T,n.lanes=x,n;case B:return n=pi(13,l,s,g),n.elementType=B,n.lanes=x,n;case G:return n=pi(19,l,s,g),n.elementType=G,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:L=10;break e;case R:L=9;break e;case F:L=11;break e;case z:L=14;break e;case j:L=16,u=null;break e}L=29,l=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=pi(L,l,s,g),s.elementType=n,s.type=u,s.lanes=x,s}function po(n,s,l,u){return n=pi(7,n,u,s),n.lanes=l,n}function Uc(n,s,l){return n=pi(6,n,null,s),n.lanes=l,n}function Ou(n){var s=pi(18,null,null,0);return s.stateNode=n,s}function Il(n,s,l){return s=pi(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Lu=new WeakMap;function ds(n,s){if(typeof n=="object"&&n!==null){var l=Lu.get(n);return l!==void 0?l:(s={value:n,source:s,stack:Xe(s)},Lu.set(n,s),s)}return{value:n,source:s,stack:Xe(s)}}var Vl=[],$o=0,ju=null,Hc=0,ps=[],ms=0,mo=null,gs=1,vs="";function ts(n,s){Vl[$o++]=Hc,Vl[$o++]=ju,ju=n,Hc=s}function wd(n,s,l){ps[ms++]=gs,ps[ms++]=vs,ps[ms++]=mo,mo=n;var u=gs;n=vs;var g=32-wt(u)-1;u&=~(1<<g),l+=1;var x=32-wt(s)+g;if(30<x){var L=g-g%5;x=(u&(1<<L)-1).toString(32),u>>=L,g-=L,gs=1<<32-wt(s)+g|l<<g|u,vs=x+n}else gs=1<<x|l<<g|u,vs=n}function Yh(n){n.return!==null&&(ts(n,1),wd(n,1,0))}function Du(n){for(;n===ju;)ju=Vl[--$o],Vl[$o]=null,Hc=Vl[--$o],Vl[$o]=null;for(;n===mo;)mo=ps[--ms],ps[ms]=null,vs=ps[--ms],ps[ms]=null,gs=ps[--ms],ps[ms]=null}function Sd(n,s){ps[ms++]=gs,ps[ms++]=vs,ps[ms++]=mo,gs=s.id,vs=s.overflow,mo=n}var si=null,Zn=null,un=!1,Ti=null,fr=!1,zs=Error(i(519));function go(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(ds(s,n)),zs}function Wh(n){var s=n.stateNode,l=n.type,u=n.memoizedProps;switch(s[pn]=n,s[Tn]=u,l){case"dialog":fn("cancel",s),fn("close",s);break;case"iframe":case"object":case"embed":fn("load",s);break;case"video":case"audio":for(l=0;l<gf.length;l++)fn(gf[l],s);break;case"source":fn("error",s);break;case"img":case"image":case"link":fn("error",s),fn("load",s);break;case"details":fn("toggle",s);break;case"input":fn("invalid",s),vu(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":fn("invalid",s);break;case"textarea":fn("invalid",s),Ec(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||$v(s.textContent,l)?(u.popover!=null&&(fn("beforetoggle",s),fn("toggle",s)),u.onScroll!=null&&fn("scroll",s),u.onScrollEnd!=null&&fn("scrollend",s),u.onClick!=null&&(s.onclick=Rs),s=!0):s=!1,s||go(n,!0)}function Ba(n){for(si=n.return;si;)switch(si.tag){case 5:case 31:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:si=si.return}}function ai(n){if(n!==si)return!1;if(!un)return Ba(n),un=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||F0(n.type,n.memoizedProps)),l=!l),l&&Zn&&go(n),Ba(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Zn=s5(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Zn=s5(n)}else s===27?(s=Zn,Ql(n.type)?(n=U0,U0=null,Zn=n):Zn=s):Zn=si?pa(n.stateNode.nextSibling):null;return!0}function Ko(){Zn=si=null,un=!1}function Xh(){var n=Ti;return n!==null&&(Ss===null?Ss=n:Ss.push.apply(Ss,n),Ti=null),n}function Fl(n){Ti===null?Ti=[n]:Ti.push(n)}var Ru=Y(null),vo=null,ha=null;function bo(n,s,l){q(Ru,s._currentValue),s._currentValue=l}function bs(n){n._currentValue=Ru.current,O(Ru)}function Bl(n,s,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===l)break;n=n.return}}function Qo(n,s,l,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var x=g.dependencies;if(x!==null){var L=g.child;x=x.firstContext;e:for(;x!==null;){var Q=x;x=g;for(var pe=0;pe<s.length;pe++)if(Q.context===s[pe]){x.lanes|=l,Q=x.alternate,Q!==null&&(Q.lanes|=l),Bl(x.return,l,n),u||(L=null);break e}x=Q.next}}else if(g.tag===18){if(L=g.return,L===null)throw Error(i(341));L.lanes|=l,x=L.alternate,x!==null&&(x.lanes|=l),Bl(L,l,n),L=null}else L=g.child;if(L!==null)L.return=g;else for(L=g;L!==null;){if(L===n){L=null;break}if(g=L.sibling,g!==null){g.return=L.return,L=g;break}L=L.return}g=L}}function yo(n,s,l,u){n=null;for(var g=s,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var L=g.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var Q=g.type;ri(g.pendingProps.value,L.value)||(n!==null?n.push(Q):n=[Q])}}else if(g===me.current){if(L=g.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(_f):n=[_f])}g=g.return}n!==null&&Qo(s,n,l,u),s.flags|=262144}function Iu(n){for(n=n.firstContext;n!==null;){if(!ri(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function xo(n){vo=n,ha=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function oi(n){return Ad(vo,n)}function Vu(n,s){return vo===null&&xo(n),Ad(n,s)}function Ad(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ha===null){if(n===null)throw Error(i(308));ha=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ha=ha.next=s;return l}var Pp=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},Up=r.unstable_scheduleCallback,Hp=r.unstable_NormalPriority,wr={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ql(){return{controller:new Pp,data:new Map,refCount:0}}function Gc(n){n.refCount--,n.refCount===0&&Up(Hp,function(){n.controller.abort()})}var Yc=null,Fu=0,p=0,b=null;function A(n,s){if(Yc===null){var l=Yc=[];Fu=0,p=k0(),b={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Fu++,s.then(M,M),s}function M(){if(--Fu===0&&Yc!==null){b!==null&&(b.status="fulfilled");var n=Yc;Yc=null,p=0,b=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function U(n,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var W=K.S;K.S=function(n,s){xv=kt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&A(n,s),W!==null&&W(n,s)};var X=Y(null);function ee(){var n=X.current;return n!==null?n:Kn.pooledCache}function ie(n,s){s===null?q(X,X.current):q(X,s.pool)}function le(){var n=ee();return n===null?null:{parent:wr._currentValue,pool:n}}var ve=Error(i(460)),ke=Error(i(474)),oe=Error(i(542)),ye={then:function(){}};function Ae(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Be(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(Rs,Rs),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Je(n),n;default:if(typeof s.status=="string")s.then(Rs,Rs);else{if(n=Kn,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Je(n),n}throw Fe=s,ve}}function Te(n){try{var s=n._init;return s(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Fe=l,ve):l}}var Fe=null;function Pe(){if(Fe===null)throw Error(i(459));var n=Fe;return Fe=null,n}function Je(n){if(n===ve||n===oe)throw Error(i(483))}var Ye=null,Tt=0;function yt(n){var s=Tt;return Tt+=1,Ye===null&&(Ye=[]),Be(Ye,n,s)}function Kt(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function At(n,s){throw s.$$typeof===_?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function cn(n){function s(Se,be){if(n){var Me=Se.deletions;Me===null?(Se.deletions=[be],Se.flags|=16):Me.push(be)}}function l(Se,be){if(!n)return null;for(;be!==null;)s(Se,be),be=be.sibling;return null}function u(Se){for(var be=new Map;Se!==null;)Se.key!==null?be.set(Se.key,Se):be.set(Se.index,Se),Se=Se.sibling;return be}function g(Se,be){return Se=fs(Se,be),Se.index=0,Se.sibling=null,Se}function x(Se,be,Me){return Se.index=Me,n?(Me=Se.alternate,Me!==null?(Me=Me.index,Me<be?(Se.flags|=67108866,be):Me):(Se.flags|=67108866,be)):(Se.flags|=1048576,be)}function L(Se){return n&&Se.alternate===null&&(Se.flags|=67108866),Se}function Q(Se,be,Me,He){return be===null||be.tag!==6?(be=Uc(Me,Se.mode,He),be.return=Se,be):(be=g(be,Me),be.return=Se,be)}function pe(Se,be,Me,He){var Ft=Me.type;return Ft===N?qe(Se,be,Me.props.children,He,Me.key):be!==null&&(be.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===j&&Te(Ft)===be.type)?(be=g(be,Me.props),Kt(be,Me),be.return=Se,be):(be=Rl(Me.type,Me.key,Me.props,null,Se.mode,He),Kt(be,Me),be.return=Se,be)}function Oe(Se,be,Me,He){return be===null||be.tag!==4||be.stateNode.containerInfo!==Me.containerInfo||be.stateNode.implementation!==Me.implementation?(be=Il(Me,Se.mode,He),be.return=Se,be):(be=g(be,Me.children||[]),be.return=Se,be)}function qe(Se,be,Me,He,Ft){return be===null||be.tag!==7?(be=po(Me,Se.mode,He,Ft),be.return=Se,be):(be=g(be,Me),be.return=Se,be)}function Ge(Se,be,Me){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Uc(""+be,Se.mode,Me),be.return=Se,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case v:return Me=Rl(be.type,be.key,be.props,null,Se.mode,Me),Kt(Me,be),Me.return=Se,Me;case S:return be=Il(be,Se.mode,Me),be.return=Se,be;case j:return be=Te(be),Ge(Se,be,Me)}if(ne(be)||I(be))return be=po(be,Se.mode,Me,null),be.return=Se,be;if(typeof be.then=="function")return Ge(Se,yt(be),Me);if(be.$$typeof===D)return Ge(Se,Vu(Se,be),Me);At(Se,be)}return null}function Le(Se,be,Me,He){var Ft=be!==null?be.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Ft!==null?null:Q(Se,be,""+Me,He);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case v:return Me.key===Ft?pe(Se,be,Me,He):null;case S:return Me.key===Ft?Oe(Se,be,Me,He):null;case j:return Me=Te(Me),Le(Se,be,Me,He)}if(ne(Me)||I(Me))return Ft!==null?null:qe(Se,be,Me,He,null);if(typeof Me.then=="function")return Le(Se,be,yt(Me),He);if(Me.$$typeof===D)return Le(Se,be,Vu(Se,Me),He);At(Se,Me)}return null}function Re(Se,be,Me,He,Ft){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Se=Se.get(Me)||null,Q(be,Se,""+He,Ft);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case v:return Se=Se.get(He.key===null?Me:He.key)||null,pe(be,Se,He,Ft);case S:return Se=Se.get(He.key===null?Me:He.key)||null,Oe(be,Se,He,Ft);case j:return He=Te(He),Re(Se,be,Me,He,Ft)}if(ne(He)||I(He))return Se=Se.get(Me)||null,qe(be,Se,He,Ft,null);if(typeof He.then=="function")return Re(Se,be,Me,yt(He),Ft);if(He.$$typeof===D)return Re(Se,be,Me,Vu(be,He),Ft);At(be,He)}return null}function Ct(Se,be,Me,He){for(var Ft=null,On=null,jt=be,on=be=0,gn=null;jt!==null&&on<Me.length;on++){jt.index>on?(gn=jt,jt=null):gn=jt.sibling;var Ln=Le(Se,jt,Me[on],He);if(Ln===null){jt===null&&(jt=gn);break}n&&jt&&Ln.alternate===null&&s(Se,jt),be=x(Ln,be,on),On===null?Ft=Ln:On.sibling=Ln,On=Ln,jt=gn}if(on===Me.length)return l(Se,jt),un&&ts(Se,on),Ft;if(jt===null){for(;on<Me.length;on++)jt=Ge(Se,Me[on],He),jt!==null&&(be=x(jt,be,on),On===null?Ft=jt:On.sibling=jt,On=jt);return un&&ts(Se,on),Ft}for(jt=u(jt);on<Me.length;on++)gn=Re(jt,Se,on,Me[on],He),gn!==null&&(n&&gn.alternate!==null&&jt.delete(gn.key===null?on:gn.key),be=x(gn,be,on),On===null?Ft=gn:On.sibling=gn,On=gn);return n&&jt.forEach(function(rc){return s(Se,rc)}),un&&ts(Se,on),Ft}function Pt(Se,be,Me,He){if(Me==null)throw Error(i(151));for(var Ft=null,On=null,jt=be,on=be=0,gn=null,Ln=Me.next();jt!==null&&!Ln.done;on++,Ln=Me.next()){jt.index>on?(gn=jt,jt=null):gn=jt.sibling;var rc=Le(Se,jt,Ln.value,He);if(rc===null){jt===null&&(jt=gn);break}n&&jt&&rc.alternate===null&&s(Se,jt),be=x(rc,be,on),On===null?Ft=rc:On.sibling=rc,On=rc,jt=gn}if(Ln.done)return l(Se,jt),un&&ts(Se,on),Ft;if(jt===null){for(;!Ln.done;on++,Ln=Me.next())Ln=Ge(Se,Ln.value,He),Ln!==null&&(be=x(Ln,be,on),On===null?Ft=Ln:On.sibling=Ln,On=Ln);return un&&ts(Se,on),Ft}for(jt=u(jt);!Ln.done;on++,Ln=Me.next())Ln=Re(jt,Se,on,Ln.value,He),Ln!==null&&(n&&Ln.alternate!==null&&jt.delete(Ln.key===null?on:Ln.key),be=x(Ln,be,on),On===null?Ft=Ln:On.sibling=Ln,On=Ln);return n&&jt.forEach(function(s4){return s(Se,s4)}),un&&ts(Se,on),Ft}function Yn(Se,be,Me,He){if(typeof Me=="object"&&Me!==null&&Me.type===N&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case v:e:{for(var Ft=Me.key;be!==null;){if(be.key===Ft){if(Ft=Me.type,Ft===N){if(be.tag===7){l(Se,be.sibling),He=g(be,Me.props.children),He.return=Se,Se=He;break e}}else if(be.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===j&&Te(Ft)===be.type){l(Se,be.sibling),He=g(be,Me.props),Kt(He,Me),He.return=Se,Se=He;break e}l(Se,be);break}else s(Se,be);be=be.sibling}Me.type===N?(He=po(Me.props.children,Se.mode,He,Me.key),He.return=Se,Se=He):(He=Rl(Me.type,Me.key,Me.props,null,Se.mode,He),Kt(He,Me),He.return=Se,Se=He)}return L(Se);case S:e:{for(Ft=Me.key;be!==null;){if(be.key===Ft)if(be.tag===4&&be.stateNode.containerInfo===Me.containerInfo&&be.stateNode.implementation===Me.implementation){l(Se,be.sibling),He=g(be,Me.children||[]),He.return=Se,Se=He;break e}else{l(Se,be);break}else s(Se,be);be=be.sibling}He=Il(Me,Se.mode,He),He.return=Se,Se=He}return L(Se);case j:return Me=Te(Me),Yn(Se,be,Me,He)}if(ne(Me))return Ct(Se,be,Me,He);if(I(Me)){if(Ft=I(Me),typeof Ft!="function")throw Error(i(150));return Me=Ft.call(Me),Pt(Se,be,Me,He)}if(typeof Me.then=="function")return Yn(Se,be,yt(Me),He);if(Me.$$typeof===D)return Yn(Se,be,Vu(Se,Me),He);At(Se,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,be!==null&&be.tag===6?(l(Se,be.sibling),He=g(be,Me),He.return=Se,Se=He):(l(Se,be),He=Uc(Me,Se.mode,He),He.return=Se,Se=He),L(Se)):l(Se,be)}return function(Se,be,Me,He){try{Tt=0;var Ft=Yn(Se,be,Me,He);return Ye=null,Ft}catch(jt){if(jt===ve||jt===oe)throw jt;var On=pi(29,jt,null,Se.mode);return On.lanes=He,On.return=Se,On}finally{}}}var $n=cn(!0),nn=cn(!1),xt=!1;function ht(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ir(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function zt(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function an(n,s,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Rn&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=di(n),zc(n,null,l),s}return qc(n,u,s,l),di(n)}function jn(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Mt(n,l)}}function Fr(n,s){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var L={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?g=x=L:x=x.next=L,l=l.next}while(l!==null);x===null?g=x=s:x=x.next=s}else g=x=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var li=!1;function Un(){if(li){var n=b;if(n!==null)throw n}}function Tr(n,s,l,u){li=!1;var g=n.updateQueue;xt=!1;var x=g.firstBaseUpdate,L=g.lastBaseUpdate,Q=g.shared.pending;if(Q!==null){g.shared.pending=null;var pe=Q,Oe=pe.next;pe.next=null,L===null?x=Oe:L.next=Oe,L=pe;var qe=n.alternate;qe!==null&&(qe=qe.updateQueue,Q=qe.lastBaseUpdate,Q!==L&&(Q===null?qe.firstBaseUpdate=Oe:Q.next=Oe,qe.lastBaseUpdate=pe))}if(x!==null){var Ge=g.baseState;L=0,qe=Oe=pe=null,Q=x;do{var Le=Q.lane&-536870913,Re=Le!==Q.lane;if(Re?(mn&Le)===Le:(u&Le)===Le){Le!==0&&Le===p&&(li=!0),qe!==null&&(qe=qe.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var Ct=n,Pt=Q;Le=s;var Yn=l;switch(Pt.tag){case 1:if(Ct=Pt.payload,typeof Ct=="function"){Ge=Ct.call(Yn,Ge,Le);break e}Ge=Ct;break e;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=Pt.payload,Le=typeof Ct=="function"?Ct.call(Yn,Ge,Le):Ct,Le==null)break e;Ge=y({},Ge,Le);break e;case 2:xt=!0}}Le=Q.callback,Le!==null&&(n.flags|=64,Re&&(n.flags|=8192),Re=g.callbacks,Re===null?g.callbacks=[Le]:Re.push(Le))}else Re={lane:Le,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},qe===null?(Oe=qe=Re,pe=Ge):qe=qe.next=Re,L|=Le;if(Q=Q.next,Q===null){if(Q=g.shared.pending,Q===null)break;Re=Q,Q=Re.next,Re.next=null,g.lastBaseUpdate=Re,g.shared.pending=null}}while(!0);qe===null&&(pe=Ge),g.baseState=pe,g.firstBaseUpdate=Oe,g.lastBaseUpdate=qe,x===null&&(g.shared.lanes=0),Wl|=L,n.lanes=L,n.memoizedState=Ge}}function mi(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Er(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)mi(l[n],s)}var ln=Y(null),wn=Y(0);function sr(n,s){n=ll,q(wn,n),q(ln,s),ll=n|s.baseLanes}function Mn(){q(wn,ll),q(ln,ln.current)}function Br(){ll=wn.current,O(ln),O(wn)}var ar=Y(null),Sn=null;function Sr(n){var s=n.alternate;q(xn,xn.current&1),q(ar,n),Sn===null&&(s===null||ln.current!==null||s.memoizedState!==null)&&(Sn=n)}function Dn(n){q(xn,xn.current),q(ar,n),Sn===null&&(Sn=n)}function kr(n){n.tag===22?(q(xn,xn.current),q(ar,n),Sn===null&&(Sn=n)):Mr()}function Mr(){q(xn,xn.current),q(ar,ar.current)}function In(n){O(ar),Sn===n&&(Sn=null),O(xn)}var xn=Y(0);function gi(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||z0(l)||P0(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var dr=0,It=null,Vt=null,An=null,Fi=!1,ys=!1,Ei=!1,Or=0,_o=0,wo=null,Bu=0;function Hn(){throw Error(i(321))}function Zh(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!ri(n[l],s[l]))return!1;return!0}function $h(n,s,l,u,g,x){return dr=x,It=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=n===null||n.memoizedState===null?O2:Qp,Ei=!1,x=l(u,g),Ei=!1,ys&&(x=qa(s,l,u,g)),qu(n),x}function qu(n){K.H=sf;var s=Vt!==null&&Vt.next!==null;if(dr=0,An=Vt=It=null,Fi=!1,_o=0,wo=null,s)throw Error(i(300));n===null||Zr||(n=n.dependencies,n!==null&&Iu(n)&&(Zr=!0))}function qa(n,s,l,u){It=n;var g=0;do{if(ys&&(wo=null),_o=0,ys=!1,25<=g)throw Error(i(301));if(g+=1,An=Vt=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}K.H=L2,x=s(l,u)}while(ys);return x}function Gp(){var n=K.H,s=n.useState()[0];return s=typeof s.then=="function"?So(s):s,n=n.useState()[0],(Vt!==null?Vt.memoizedState:null)!==n&&(It.flags|=1024),s}function Kh(){var n=Or!==0;return Or=0,n}function Qh(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function zu(n){if(Fi){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Fi=!1}dr=0,An=Vt=It=null,ys=!1,_o=Or=0,wo=null}function Xr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?It.memoizedState=An=n:An=An.next=n,An}function pr(){if(Vt===null){var n=It.alternate;n=n!==null?n.memoizedState:null}else n=Vt.next;var s=An===null?It.memoizedState:An.next;if(s!==null)An=s,Vt=n;else{if(n===null)throw It.alternate===null?Error(i(467)):Error(i(310));Vt=n,n={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},An===null?It.memoizedState=An=n:An=An.next=n}return An}function Wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function So(n){var s=_o;return _o+=1,wo===null&&(wo=[]),n=Be(wo,n,s),s=It,(An===null?s.memoizedState:An.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?O2:Qp),n}function zl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return So(n);if(n.$$typeof===D)return oi(n)}throw Error(i(438,String(n)))}function Jo(n){var s=null,l=It.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Wc(),It.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),u=0;u<n;u++)l[u]=Z;return s.index++,l}function fa(n,s){return typeof s=="function"?s(n):s}function Pu(n){var s=pr();return Pl(s,Vt,n)}function Pl(n,s,l){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=n.baseQueue,x=u.pending;if(x!==null){if(g!==null){var L=g.next;g.next=x.next,x.next=L}s.baseQueue=g=x,u.pending=null}if(x=n.baseState,g===null)n.memoizedState=x;else{s=g.next;var Q=L=null,pe=null,Oe=s,qe=!1;do{var Ge=Oe.lane&-536870913;if(Ge!==Oe.lane?(mn&Ge)===Ge:(dr&Ge)===Ge){var Le=Oe.revertLane;if(Le===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Ge===p&&(qe=!0);else if((dr&Le)===Le){Oe=Oe.next,Le===p&&(qe=!0);continue}else Ge={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},pe===null?(Q=pe=Ge,L=x):pe=pe.next=Ge,It.lanes|=Le,Wl|=Le;Ge=Oe.action,Ei&&l(x,Ge),x=Oe.hasEagerState?Oe.eagerState:l(x,Ge)}else Le={lane:Ge,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},pe===null?(Q=pe=Le,L=x):pe=pe.next=Le,It.lanes|=Ge,Wl|=Ge;Oe=Oe.next}while(Oe!==null&&Oe!==s);if(pe===null?L=x:pe.next=Q,!ri(x,n.memoizedState)&&(Zr=!0,qe&&(l=b,l!==null)))throw l;n.memoizedState=x,n.baseState=L,n.baseQueue=pe,u.lastRenderedState=x}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Uu(n){var s=pr(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=l.dispatch,g=l.pending,x=s.memoizedState;if(g!==null){l.pending=null;var L=g=g.next;do x=n(x,L.action),L=L.next;while(L!==g);ri(x,s.memoizedState)||(Zr=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,u]}function Hu(n,s,l){var u=It,g=pr(),x=un;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=s();var L=!ri((Vt||g).memoizedState,l);if(L&&(g.memoizedState=l,Zr=!0),g=g.queue,Yp(ef.bind(null,u,g,n),[n]),g.getSnapshot!==s||L||An!==null&&An.memoizedState.tag&1){if(u.flags|=2048,tl(9,{destroy:void 0},Jh.bind(null,u,g,l,s),null),Kn===null)throw Error(i(349));x||(dr&127)!==0||za(u,s,l)}return l}function za(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=It.updateQueue,s===null?(s=Wc(),It.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Jh(n,s,l,u){s.value=l,s.getSnapshot=u,Nd(s)&&tf(n)}function ef(n,s,l){return l(function(){Nd(s)&&tf(n)})}function Nd(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!ri(n,l)}catch{return!0}}function tf(n){var s=Fa(n,2);s!==null&&As(s,n,2)}function Ao(n){var s=Xr();if(typeof n=="function"){var l=n;if(n=l(),Ei){pt(!0);try{l()}finally{pt(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},s}function Cd(n,s,l,u){return n.baseState=l,Pl(n,Vt,typeof u=="function"?u:fa)}function Td(n,s,l,u,g){if(Od(n))throw Error(i(485));if(n=s.action,n!==null){var x={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){x.listeners.push(L)}};K.T!==null?l(!0):x.isTransition=!1,u(x),l=s.pending,l===null?(x.next=s.pending=x,Ed(s,x)):(x.next=l.next,s.pending=l.next=x)}}function Ed(n,s){var l=s.action,u=s.payload,g=n.state;if(s.isTransition){var x=K.T,L={};K.T=L;try{var Q=l(g,u),pe=K.S;pe!==null&&pe(L,Q),nf(n,s,Q)}catch(Oe){el(n,s,Oe)}finally{x!==null&&L.types!==null&&(x.types=L.types),K.T=x}}else try{x=l(g,u),nf(n,s,x)}catch(Oe){el(n,s,Oe)}}function nf(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){kd(n,s,u)},function(u){return el(n,s,u)}):kd(n,s,l)}function kd(n,s,l){s.status="fulfilled",s.value=l,Gu(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,Ed(n,l)))}function el(n,s,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Gu(s),s=s.next;while(s!==u)}n.action=null}function Gu(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Xc(n,s){return s}function da(n,s){if(un){var l=Kn.formState;if(l!==null){e:{var u=It;if(un){if(Zn){t:{for(var g=Zn,x=fr;g.nodeType!==8;){if(!x){g=null;break t}if(g=pa(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Zn=pa(g.nextSibling),u=g.data==="F!";break e}}go(u)}u=!1}u&&(s=l[0])}}return l=Xr(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:s},l.queue=u,l=E2.bind(null,It,u),u.dispatch=l,u=Ao(!1),x=Kp.bind(null,It,!1,u.queue),u=Xr(),g={state:s,dispatch:null,action:n,pending:null},u.queue=g,l=Td.bind(null,It,g,x,l),g.dispatch=l,u.memoizedState=n,[s,l,!1]}function Pa(n){var s=pr();return Ua(s,Vt,n)}function Ua(n,s,l){if(s=Pl(n,s,Xc)[0],n=Pu(fa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=So(s)}catch(L){throw L===ve?oe:L}else u=s;s=pr();var g=s.queue,x=g.dispatch;return l!==s.memoizedState&&(It.flags|=2048,tl(9,{destroy:void 0},Yu.bind(null,g,l),null)),[u,x,n]}function Yu(n,s){n.action=s}function Wu(n){var s=pr(),l=Vt;if(l!==null)return Ua(s,l,n);pr(),s=s.memoizedState,l=pr();var u=l.queue.dispatch;return l.memoizedState=n,[s,u,!1]}function tl(n,s,l,u){return n={tag:n,create:l,deps:u,inst:s,next:null},s=It.updateQueue,s===null&&(s=Wc(),It.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,s.lastEffect=n),n}function Md(){return pr().memoizedState}function Ul(n,s,l,u){var g=Xr();It.flags|=n,g.memoizedState=tl(1|s,{destroy:void 0},l,u===void 0?null:u)}function Hl(n,s,l,u){var g=pr();u=u===void 0?null:u;var x=g.memoizedState.inst;Vt!==null&&u!==null&&Zh(u,Vt.memoizedState.deps)?g.memoizedState=tl(s,x,l,u):(It.flags|=n,g.memoizedState=tl(1|s,x,l,u))}function p2(n,s){Ul(8390656,8,n,s)}function Yp(n,s){Hl(2048,8,n,s)}function J_(n){It.flags|=4;var s=It.updateQueue;if(s===null)s=Wc(),It.updateQueue=s,s.events=[n];else{var l=s.events;l===null?s.events=[n]:l.push(n)}}function m2(n){var s=pr().memoizedState;return J_({ref:s,nextImpl:n}),function(){if((Rn&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function g2(n,s){return Hl(4,2,n,s)}function v2(n,s){return Hl(4,4,n,s)}function b2(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function y2(n,s,l){l=l!=null?l.concat([n]):null,Hl(4,4,b2.bind(null,s,n),l)}function Wp(){}function x2(n,s){var l=pr();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Zh(s,u[1])?u[0]:(l.memoizedState=[n,s],n)}function _2(n,s){var l=pr();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Zh(s,u[1]))return u[0];if(u=n(),Ei){pt(!0);try{n()}finally{pt(!1)}}return l.memoizedState=[u,s],u}function Xp(n,s,l){return l===void 0||(dr&1073741824)!==0&&(mn&261930)===0?n.memoizedState=s:(n.memoizedState=l,n=wv(),It.lanes|=n,Wl|=n,l)}function w2(n,s,l,u){return ri(l,s)?l:ln.current!==null?(n=Xp(n,l,u),ri(n,s)||(Zr=!0),n):(dr&42)===0||(dr&1073741824)!==0&&(mn&261930)===0?(Zr=!0,n.memoizedState=l):(n=wv(),It.lanes|=n,Wl|=n,s)}function S2(n,s,l,u,g){var x=re.p;re.p=x!==0&&8>x?x:8;var L=K.T,Q={};K.T=Q,Kp(n,!1,s,l);try{var pe=g(),Oe=K.S;if(Oe!==null&&Oe(Q,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var qe=U(pe,u);rf(n,s,qe,Hs(n))}else rf(n,s,u,Hs(n))}catch(Ge){rf(n,s,{then:function(){},status:"rejected",reason:Ge},Hs())}finally{re.p=x,L!==null&&Q.types!==null&&(L.types=Q.types),K.T=L}}function ew(){}function Zp(n,s,l,u){if(n.tag!==5)throw Error(i(476));var g=A2(n).queue;S2(n,g,s,ae,l===null?ew:function(){return N2(n),l(u)})}function A2(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:ae},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function N2(n){var s=A2(n);s.next===null&&(s=n.alternate.memoizedState),rf(n,s.next.queue,{},Hs())}function $p(){return oi(_f)}function C2(){return pr().memoizedState}function T2(){return pr().memoizedState}function tw(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=Hs();n=zt(l);var u=an(s,n,l);u!==null&&(As(u,s,l),jn(u,s,l)),s={cache:ql()},n.payload=s;return}s=s.return}}function nw(n,s,l){var u=Hs();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Od(n)?k2(s,l):(l=Eu(n,s,l,u),l!==null&&(As(l,n,u),M2(l,s,u)))}function E2(n,s,l){var u=Hs();rf(n,s,l,u)}function rf(n,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Od(n))k2(s,g);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var L=s.lastRenderedState,Q=x(L,l);if(g.hasEagerState=!0,g.eagerState=Q,ri(Q,L))return qc(n,s,g,0),Kn===null&&Bc(),!1}catch{}finally{}if(l=Eu(n,s,g,u),l!==null)return As(l,n,u),M2(l,s,u),!0}return!1}function Kp(n,s,l,u){if(u={lane:2,revertLane:k0(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Od(n)){if(s)throw Error(i(479))}else s=Eu(n,l,u,2),s!==null&&As(s,n,2)}function Od(n){var s=n.alternate;return n===It||s!==null&&s===It}function k2(n,s){ys=Fi=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function M2(n,s,l){if((l&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Mt(n,l)}}var sf={readContext:oi,use:zl,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useLayoutEffect:Hn,useInsertionEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useSyncExternalStore:Hn,useId:Hn,useHostTransitionStatus:Hn,useFormState:Hn,useActionState:Hn,useOptimistic:Hn,useMemoCache:Hn,useCacheRefresh:Hn};sf.useEffectEvent=Hn;var O2={readContext:oi,use:zl,useCallback:function(n,s){return Xr().memoizedState=[n,s===void 0?null:s],n},useContext:oi,useEffect:p2,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Ul(4194308,4,b2.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Ul(4194308,4,n,s)},useInsertionEffect:function(n,s){Ul(4,2,n,s)},useMemo:function(n,s){var l=Xr();s=s===void 0?null:s;var u=n();if(Ei){pt(!0);try{n()}finally{pt(!1)}}return l.memoizedState=[u,s],u},useReducer:function(n,s,l){var u=Xr();if(l!==void 0){var g=l(s);if(Ei){pt(!0);try{l(s)}finally{pt(!1)}}}else g=s;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=nw.bind(null,It,n),[u.memoizedState,n]},useRef:function(n){var s=Xr();return n={current:n},s.memoizedState=n},useState:function(n){n=Ao(n);var s=n.queue,l=E2.bind(null,It,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:Wp,useDeferredValue:function(n,s){var l=Xr();return Xp(l,n,s)},useTransition:function(){var n=Ao(!1);return n=S2.bind(null,It,n.queue,!0,!1),Xr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var u=It,g=Xr();if(un){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Kn===null)throw Error(i(349));(mn&127)!==0||za(u,s,l)}g.memoizedState=l;var x={value:l,getSnapshot:s};return g.queue=x,p2(ef.bind(null,u,x,n),[n]),u.flags|=2048,tl(9,{destroy:void 0},Jh.bind(null,u,x,l,s),null),l},useId:function(){var n=Xr(),s=Kn.identifierPrefix;if(un){var l=vs,u=gs;l=(u&~(1<<32-wt(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Or++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Bu++,s="_"+s+"r_"+l.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:$p,useFormState:da,useActionState:da,useOptimistic:function(n){var s=Xr();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Kp.bind(null,It,!0,l),l.dispatch=s,[n,s]},useMemoCache:Jo,useCacheRefresh:function(){return Xr().memoizedState=tw.bind(null,It)},useEffectEvent:function(n){var s=Xr(),l={impl:n};return s.memoizedState=l,function(){if((Rn&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Qp={readContext:oi,use:zl,useCallback:x2,useContext:oi,useEffect:Yp,useImperativeHandle:y2,useInsertionEffect:g2,useLayoutEffect:v2,useMemo:_2,useReducer:Pu,useRef:Md,useState:function(){return Pu(fa)},useDebugValue:Wp,useDeferredValue:function(n,s){var l=pr();return w2(l,Vt.memoizedState,n,s)},useTransition:function(){var n=Pu(fa)[0],s=pr().memoizedState;return[typeof n=="boolean"?n:So(n),s]},useSyncExternalStore:Hu,useId:C2,useHostTransitionStatus:$p,useFormState:Pa,useActionState:Pa,useOptimistic:function(n,s){var l=pr();return Cd(l,Vt,n,s)},useMemoCache:Jo,useCacheRefresh:T2};Qp.useEffectEvent=m2;var L2={readContext:oi,use:zl,useCallback:x2,useContext:oi,useEffect:Yp,useImperativeHandle:y2,useInsertionEffect:g2,useLayoutEffect:v2,useMemo:_2,useReducer:Uu,useRef:Md,useState:function(){return Uu(fa)},useDebugValue:Wp,useDeferredValue:function(n,s){var l=pr();return Vt===null?Xp(l,n,s):w2(l,Vt.memoizedState,n,s)},useTransition:function(){var n=Uu(fa)[0],s=pr().memoizedState;return[typeof n=="boolean"?n:So(n),s]},useSyncExternalStore:Hu,useId:C2,useHostTransitionStatus:$p,useFormState:Wu,useActionState:Wu,useOptimistic:function(n,s){var l=pr();return Vt!==null?Cd(l,Vt,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Jo,useCacheRefresh:T2};L2.useEffectEvent=m2;function Jp(n,s,l,u){s=n.memoizedState,l=l(u,s),l=l==null?s:y({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var e0={enqueueSetState:function(n,s,l){n=n._reactInternals;var u=Hs(),g=zt(u);g.payload=s,l!=null&&(g.callback=l),s=an(n,g,u),s!==null&&(As(s,n,u),jn(s,n,u))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var u=Hs(),g=zt(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=an(n,g,u),s!==null&&(As(s,n,u),jn(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=Hs(),u=zt(l);u.tag=2,s!=null&&(u.callback=s),s=an(n,u,l),s!==null&&(As(s,n,l),jn(s,n,l))}};function j2(n,s,l,u,g,x,L){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,x,L):s.prototype&&s.prototype.isPureReactComponent?!Da(l,u)||!Da(g,x):!0}function D2(n,s,l,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==n&&e0.enqueueReplaceState(s,s.state,null)}function Zc(n,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(n=n.defaultProps){l===s&&(l=y({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function R2(n){Fc(n)}function I2(n){console.error(n)}function V2(n){Fc(n)}function Ld(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function F2(n,s,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function t0(n,s,l){return l=zt(l),l.tag=3,l.payload={element:null},l.callback=function(){Ld(n,s)},l}function B2(n){return n=zt(n),n.tag=3,n}function q2(n,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var x=u.value;n.payload=function(){return g(x)},n.callback=function(){F2(s,l,u)}}var L=l.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(n.callback=function(){F2(s,l,u),typeof g!="function"&&(Xl===null?Xl=new Set([this]):Xl.add(this));var Q=u.stack;this.componentDidCatch(u.value,{componentStack:Q!==null?Q:""})})}function rw(n,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&yo(s,l,g,!0),l=ar.current,l!==null){switch(l.tag){case 31:case 13:return Sn===null?Hd():l.alternate===null&&Lr===0&&(Lr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===ye?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),C0(n,u,g)),!1;case 22:return l.flags|=65536,u===ye?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),C0(n,u,g)),!1}throw Error(i(435,l.tag))}return C0(n,u,g),Hd(),!1}if(un)return s=ar.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==zs&&(n=Error(i(422),{cause:u}),Fl(ds(n,l)))):(u!==zs&&(s=Error(i(423),{cause:u}),Fl(ds(s,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=ds(u,l),g=t0(n.stateNode,u,g),Fr(n,g),Lr!==4&&(Lr=2)),!1;var x=Error(i(520),{cause:u});if(x=ds(x,l),df===null?df=[x]:df.push(x),Lr!==4&&(Lr=2),s===null)return!0;u=ds(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=t0(l.stateNode,u,n),Fr(l,n),!1;case 1:if(s=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Xl===null||!Xl.has(x))))return l.flags|=65536,g&=-g,l.lanes|=g,g=B2(g),q2(g,n,l,u),Fr(l,g),!1}l=l.return}while(l!==null);return!1}var n0=Error(i(461)),Zr=!1;function ki(n,s,l,u){s.child=n===null?nn(s,null,l,u):$n(s,n.child,l,u)}function z2(n,s,l,u,g){l=l.render;var x=s.ref;if("ref"in u){var L={};for(var Q in u)Q!=="ref"&&(L[Q]=u[Q])}else L=u;return xo(s),u=$h(n,s,l,L,x,g),Q=Kh(),n!==null&&!Zr?(Qh(n,s,g),nl(n,s,g)):(un&&Q&&Yh(s),s.flags|=1,ki(n,s,u,g),s.child)}function P2(n,s,l,u,g){if(n===null){var x=l.type;return typeof x=="function"&&!Mu(x)&&x.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=x,U2(n,s,x,u,g)):(n=Rl(l.type,null,u,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(x=n.child,!u0(n,g)){var L=x.memoizedProps;if(l=l.compare,l=l!==null?l:Da,l(L,u)&&n.ref===s.ref)return nl(n,s,g)}return s.flags|=1,n=fs(x,u),n.ref=s.ref,n.return=s,s.child=n}function U2(n,s,l,u,g){if(n!==null){var x=n.memoizedProps;if(Da(x,u)&&n.ref===s.ref)if(Zr=!1,s.pendingProps=u=x,u0(n,g))(n.flags&131072)!==0&&(Zr=!0);else return s.lanes=n.lanes,nl(n,s,g)}return r0(n,s,l,u,g)}function H2(n,s,l,u){var g=u.children,x=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,n!==null){for(u=s.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~x}else u=0,s.child=null;return G2(n,s,x,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ie(s,x!==null?x.cachePool:null),x!==null?sr(s,x):Mn(),kr(s);else return u=s.lanes=536870912,G2(n,s,x!==null?x.baseLanes|l:l,l,u)}else x!==null?(ie(s,x.cachePool),sr(s,x),Mr(),s.memoizedState=null):(n!==null&&ie(s,null),Mn(),Mr());return ki(n,s,g,l),s.child}function af(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function G2(n,s,l,u,g){var x=ee();return x=x===null?null:{parent:wr._currentValue,pool:x},s.memoizedState={baseLanes:l,cachePool:x},n!==null&&ie(s,null),Mn(),kr(s),n!==null&&yo(n,s,u,!0),s.childLanes=g,null}function jd(n,s){return s=Rd({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Y2(n,s,l){return $n(s,n.child,null,l),n=jd(s,s.pendingProps),n.flags|=2,In(s),s.memoizedState=null,n}function iw(n,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(un){if(u.mode==="hidden")return n=jd(s,u),s.lanes=536870912,af(null,n);if(Dn(s),(n=Zn)?(n=i5(n,fr),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:mo!==null?{id:gs,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},l=Ou(n),l.return=s,s.child=l,si=s,Zn=null)):n=null,n===null)throw go(s);return s.lanes=536870912,null}return jd(s,u)}var x=n.memoizedState;if(x!==null){var L=x.dehydrated;if(Dn(s),g)if(s.flags&256)s.flags&=-257,s=Y2(n,s,l);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(Zr||yo(n,s,l,!1),g=(l&n.childLanes)!==0,Zr||g){if(u=Kn,u!==null&&(L=$t(u,l),L!==0&&L!==x.retryLane))throw x.retryLane=L,Fa(n,L),As(u,n,L),n0;Hd(),s=Y2(n,s,l)}else n=x.treeContext,Zn=pa(L.nextSibling),si=s,un=!0,Ti=null,fr=!1,n!==null&&Sd(s,n),s=jd(s,u),s.flags|=4096;return s}return n=fs(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Dd(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function r0(n,s,l,u,g){return xo(s),l=$h(n,s,l,u,void 0,g),u=Kh(),n!==null&&!Zr?(Qh(n,s,g),nl(n,s,g)):(un&&u&&Yh(s),s.flags|=1,ki(n,s,l,g),s.child)}function W2(n,s,l,u,g,x){return xo(s),s.updateQueue=null,l=qa(s,u,l,g),qu(n),u=Kh(),n!==null&&!Zr?(Qh(n,s,x),nl(n,s,x)):(un&&u&&Yh(s),s.flags|=1,ki(n,s,l,x),s.child)}function X2(n,s,l,u,g){if(xo(s),s.stateNode===null){var x=ii,L=l.contextType;typeof L=="object"&&L!==null&&(x=oi(L)),x=new l(u,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=e0,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=u,x.state=s.memoizedState,x.refs={},ht(s),L=l.contextType,x.context=typeof L=="object"&&L!==null?oi(L):ii,x.state=s.memoizedState,L=l.getDerivedStateFromProps,typeof L=="function"&&(Jp(s,l,L,u),x.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(L=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),L!==x.state&&e0.enqueueReplaceState(x,x.state,null),Tr(s,u,x,g),Un(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){x=s.stateNode;var Q=s.memoizedProps,pe=Zc(l,Q);x.props=pe;var Oe=x.context,qe=l.contextType;L=ii,typeof qe=="object"&&qe!==null&&(L=oi(qe));var Ge=l.getDerivedStateFromProps;qe=typeof Ge=="function"||typeof x.getSnapshotBeforeUpdate=="function",Q=s.pendingProps!==Q,qe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(Q||Oe!==L)&&D2(s,x,u,L),xt=!1;var Le=s.memoizedState;x.state=Le,Tr(s,u,x,g),Un(),Oe=s.memoizedState,Q||Le!==Oe||xt?(typeof Ge=="function"&&(Jp(s,l,Ge,u),Oe=s.memoizedState),(pe=xt||j2(s,l,pe,u,Le,Oe,L))?(qe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Oe),x.props=u,x.state=Oe,x.context=L,u=pe):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{x=s.stateNode,ir(n,s),L=s.memoizedProps,qe=Zc(l,L),x.props=qe,Ge=s.pendingProps,Le=x.context,Oe=l.contextType,pe=ii,typeof Oe=="object"&&Oe!==null&&(pe=oi(Oe)),Q=l.getDerivedStateFromProps,(Oe=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==Ge||Le!==pe)&&D2(s,x,u,pe),xt=!1,Le=s.memoizedState,x.state=Le,Tr(s,u,x,g),Un();var Re=s.memoizedState;L!==Ge||Le!==Re||xt||n!==null&&n.dependencies!==null&&Iu(n.dependencies)?(typeof Q=="function"&&(Jp(s,l,Q,u),Re=s.memoizedState),(qe=xt||j2(s,l,qe,u,Le,Re,pe)||n!==null&&n.dependencies!==null&&Iu(n.dependencies))?(Oe||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Re,pe),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Re,pe)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===n.memoizedProps&&Le===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&Le===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Re),x.props=u,x.state=Re,x.context=pe,u=qe):(typeof x.componentDidUpdate!="function"||L===n.memoizedProps&&Le===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&Le===n.memoizedState||(s.flags|=1024),u=!1)}return x=u,Dd(n,s),u=(s.flags&128)!==0,x||u?(x=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,n!==null&&u?(s.child=$n(s,n.child,null,g),s.child=$n(s,null,l,g)):ki(n,s,l,g),s.memoizedState=x.state,n=s.child):n=nl(n,s,g),n}function Z2(n,s,l,u){return Ko(),s.flags|=256,ki(n,s,l,u),s.child}var i0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function s0(n){return{baseLanes:n,cachePool:le()}}function a0(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=Us),n}function $2(n,s,l){var u=s.pendingProps,g=!1,x=(s.flags&128)!==0,L;if((L=x)||(L=n!==null&&n.memoizedState===null?!1:(xn.current&2)!==0),L&&(g=!0,s.flags&=-129),L=(s.flags&32)!==0,s.flags&=-33,n===null){if(un){if(g?Sr(s):Mr(),(n=Zn)?(n=i5(n,fr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:mo!==null?{id:gs,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},l=Ou(n),l.return=s,s.child=l,si=s,Zn=null)):n=null,n===null)throw go(s);return P0(n)?s.lanes=32:s.lanes=536870912,null}var Q=u.children;return u=u.fallback,g?(Mr(),g=s.mode,Q=Rd({mode:"hidden",children:Q},g),u=po(u,g,l,null),Q.return=s,u.return=s,Q.sibling=u,s.child=Q,u=s.child,u.memoizedState=s0(l),u.childLanes=a0(n,L,l),s.memoizedState=i0,af(null,u)):(Sr(s),o0(s,Q))}var pe=n.memoizedState;if(pe!==null&&(Q=pe.dehydrated,Q!==null)){if(x)s.flags&256?(Sr(s),s.flags&=-257,s=l0(n,s,l)):s.memoizedState!==null?(Mr(),s.child=n.child,s.flags|=128,s=null):(Mr(),Q=u.fallback,g=s.mode,u=Rd({mode:"visible",children:u.children},g),Q=po(Q,g,l,null),Q.flags|=2,u.return=s,Q.return=s,u.sibling=Q,s.child=u,$n(s,n.child,null,l),u=s.child,u.memoizedState=s0(l),u.childLanes=a0(n,L,l),s.memoizedState=i0,s=af(null,u));else if(Sr(s),P0(Q)){if(L=Q.nextSibling&&Q.nextSibling.dataset,L)var Oe=L.dgst;L=Oe,u=Error(i(419)),u.stack="",u.digest=L,Fl({value:u,source:null,stack:null}),s=l0(n,s,l)}else if(Zr||yo(n,s,l,!1),L=(l&n.childLanes)!==0,Zr||L){if(L=Kn,L!==null&&(u=$t(L,l),u!==0&&u!==pe.retryLane))throw pe.retryLane=u,Fa(n,u),As(L,n,u),n0;z0(Q)||Hd(),s=l0(n,s,l)}else z0(Q)?(s.flags|=192,s.child=n.child,s=null):(n=pe.treeContext,Zn=pa(Q.nextSibling),si=s,un=!0,Ti=null,fr=!1,n!==null&&Sd(s,n),s=o0(s,u.children),s.flags|=4096);return s}return g?(Mr(),Q=u.fallback,g=s.mode,pe=n.child,Oe=pe.sibling,u=fs(pe,{mode:"hidden",children:u.children}),u.subtreeFlags=pe.subtreeFlags&65011712,Oe!==null?Q=fs(Oe,Q):(Q=po(Q,g,l,null),Q.flags|=2),Q.return=s,u.return=s,u.sibling=Q,s.child=u,af(null,u),u=s.child,Q=n.child.memoizedState,Q===null?Q=s0(l):(g=Q.cachePool,g!==null?(pe=wr._currentValue,g=g.parent!==pe?{parent:pe,pool:pe}:g):g=le(),Q={baseLanes:Q.baseLanes|l,cachePool:g}),u.memoizedState=Q,u.childLanes=a0(n,L,l),s.memoizedState=i0,af(n.child,u)):(Sr(s),l=n.child,n=l.sibling,l=fs(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,n!==null&&(L=s.deletions,L===null?(s.deletions=[n],s.flags|=16):L.push(n)),s.child=l,s.memoizedState=null,l)}function o0(n,s){return s=Rd({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Rd(n,s){return n=pi(22,n,null,s),n.lanes=0,n}function l0(n,s,l){return $n(s,n.child,null,l),n=o0(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function K2(n,s,l){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Bl(n.return,s,l)}function c0(n,s,l,u,g,x){var L=n.memoizedState;L===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:x}:(L.isBackwards=s,L.rendering=null,L.renderingStartTime=0,L.last=u,L.tail=l,L.tailMode=g,L.treeForkCount=x)}function Q2(n,s,l){var u=s.pendingProps,g=u.revealOrder,x=u.tail;u=u.children;var L=xn.current,Q=(L&2)!==0;if(Q?(L=L&1|2,s.flags|=128):L&=1,q(xn,L),ki(n,s,u,l),u=un?Hc:0,!Q&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&K2(n,l,s);else if(n.tag===19)K2(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&gi(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),c0(s,!1,g,l,x,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&gi(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}c0(s,!0,l,null,x,u);break;case"together":c0(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function nl(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Wl|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(yo(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=fs(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=fs(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function u0(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Iu(n)))}function sw(n,s,l){switch(s.tag){case 3:de(s,s.stateNode.containerInfo),bo(s,wr,n.memoizedState.cache),Ko();break;case 27:case 5:Ne(s);break;case 4:de(s,s.stateNode.containerInfo);break;case 10:bo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Dn(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Sr(s),s.flags|=128,null):(l&s.child.childLanes)!==0?$2(n,s,l):(Sr(s),n=nl(n,s,l),n!==null?n.sibling:null);Sr(s);break;case 19:var g=(n.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(yo(n,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return Q2(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),q(xn,xn.current),u)break;return null;case 22:return s.lanes=0,H2(n,s,l,s.pendingProps);case 24:bo(s,wr,n.memoizedState.cache)}return nl(n,s,l)}function J2(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)Zr=!0;else{if(!u0(n,l)&&(s.flags&128)===0)return Zr=!1,sw(n,s,l);Zr=(n.flags&131072)!==0}else Zr=!1,un&&(s.flags&1048576)!==0&&wd(s,Hc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Te(s.elementType),s.type=n,typeof n=="function")Mu(n)?(u=Zc(n,u),s.tag=1,s=X2(null,s,n,u,l)):(s.tag=0,s=r0(null,s,n,u,l));else{if(n!=null){var g=n.$$typeof;if(g===F){s.tag=11,s=z2(null,s,n,u,l);break e}else if(g===z){s.tag=14,s=P2(null,s,n,u,l);break e}}throw s=$(n)||n,Error(i(306,s,""))}}return s;case 0:return r0(n,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=Zc(u,s.pendingProps),X2(n,s,u,g,l);case 3:e:{if(de(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var x=s.memoizedState;g=x.element,ir(n,s),Tr(s,u,null,l);var L=s.memoizedState;if(u=L.cache,bo(s,wr,u),u!==x.cache&&Qo(s,[wr],l,!0),Un(),u=L.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:L.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=Z2(n,s,u,l);break e}else if(u!==g){g=ds(Error(i(424)),s),Fl(g),s=Z2(n,s,u,l);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Zn=pa(n.firstChild),si=s,un=!0,Ti=null,fr=!0,l=nn(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ko(),u===g){s=nl(n,s,l);break e}ki(n,s,u,l)}s=s.child}return s;case 26:return Dd(n,s),n===null?(l=u5(s.type,null,s.pendingProps,null))?s.memoizedState=l:un||(l=s.type,n=s.pendingProps,u=Kd(ue.current).createElement(l),u[pn]=s,u[Tn]=n,Mi(u,l,n),nr(u),s.stateNode=u):s.memoizedState=u5(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ne(s),n===null&&un&&(u=s.stateNode=o5(s.type,s.pendingProps,ue.current),si=s,fr=!0,g=Zn,Ql(s.type)?(U0=g,Zn=pa(u.firstChild)):Zn=g),ki(n,s,s.pendingProps.children,l),Dd(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&un&&((g=u=Zn)&&(u=Rw(u,s.type,s.pendingProps,fr),u!==null?(s.stateNode=u,si=s,Zn=pa(u.firstChild),fr=!1,g=!0):g=!1),g||go(s)),Ne(s),g=s.type,x=s.pendingProps,L=n!==null?n.memoizedProps:null,u=x.children,F0(g,x)?u=null:L!==null&&F0(g,L)&&(s.flags|=32),s.memoizedState!==null&&(g=$h(n,s,Gp,null,null,l),_f._currentValue=g),Dd(n,s),ki(n,s,u,l),s.child;case 6:return n===null&&un&&((n=l=Zn)&&(l=Iw(l,s.pendingProps,fr),l!==null?(s.stateNode=l,si=s,Zn=null,n=!0):n=!1),n||go(s)),null;case 13:return $2(n,s,l);case 4:return de(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=$n(s,null,u,l):ki(n,s,u,l),s.child;case 11:return z2(n,s,s.type,s.pendingProps,l);case 7:return ki(n,s,s.pendingProps,l),s.child;case 8:return ki(n,s,s.pendingProps.children,l),s.child;case 12:return ki(n,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,bo(s,s.type,u.value),ki(n,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,xo(s),g=oi(g),u=u(g),s.flags|=1,ki(n,s,u,l),s.child;case 14:return P2(n,s,s.type,s.pendingProps,l);case 15:return U2(n,s,s.type,s.pendingProps,l);case 19:return Q2(n,s,l);case 31:return iw(n,s,l);case 22:return H2(n,s,l,s.pendingProps);case 24:return xo(s),u=oi(wr),n===null?(g=ee(),g===null&&(g=Kn,x=ql(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=l),g=x),s.memoizedState={parent:u,cache:g},ht(s),bo(s,wr,g)):((n.lanes&l)!==0&&(ir(n,s),Tr(s,null,null,l),Un()),g=n.memoizedState,x=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),bo(s,wr,u)):(u=x.cache,bo(s,wr,u),u!==g.cache&&Qo(s,[wr],l,!0))),ki(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function rl(n){n.flags|=4}function h0(n,s,l,u,g){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(Cv())n.flags|=8192;else throw Fe=ye,ke}else n.flags&=-16777217}function ev(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!m5(s))if(Cv())n.flags|=8192;else throw Fe=ye,ke}function Id(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Ve():536870912,n.lanes|=s,Ku|=s)}function of(n,s){if(!un)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function or(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=l,s}function aw(n,s,l){var u=s.pendingProps;switch(Du(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(s),null;case 1:return or(s),null;case 3:return l=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),bs(wr),xe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(ai(s)?rl(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Xh())),or(s),null;case 26:var g=s.type,x=s.memoizedState;return n===null?(rl(s),x!==null?(or(s),ev(s,x)):(or(s),h0(s,g,null,u,l))):x?x!==n.memoizedState?(rl(s),or(s),ev(s,x)):(or(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&rl(s),or(s),h0(s,g,n,u,l)),null;case 27:if(Ue(s),l=ue.current,g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&rl(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return or(s),null}n=J.current,ai(s)?Wh(s):(n=o5(g,u,l),s.stateNode=n,rl(s))}return or(s),null;case 5:if(Ue(s),g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&rl(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return or(s),null}if(x=J.current,ai(s))Wh(s);else{var L=Kd(ue.current);switch(x){case 1:x=L.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:x=L.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":x=L.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":x=L.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":x=L.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof u.is=="string"?L.createElement("select",{is:u.is}):L.createElement("select"),u.multiple?x.multiple=!0:u.size&&(x.size=u.size);break;default:x=typeof u.is=="string"?L.createElement(g,{is:u.is}):L.createElement(g)}}x[pn]=s,x[Tn]=u;e:for(L=s.child;L!==null;){if(L.tag===5||L.tag===6)x.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===s)break e;for(;L.sibling===null;){if(L.return===null||L.return===s)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}s.stateNode=x;e:switch(Mi(x,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&rl(s)}}return or(s),h0(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,l),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&rl(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=ue.current,ai(s)){if(n=s.stateNode,l=s.memoizedProps,u=null,g=si,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[pn]=s,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||$v(n.nodeValue,l)),n||go(s,!0)}else n=Kd(n).createTextNode(u),n[pn]=s,s.stateNode=n}return or(s),null;case 31:if(l=s.memoizedState,n===null||n.memoizedState!==null){if(u=ai(s),l!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[pn]=s}else Ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;or(s),n=!1}else l=Xh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return s.flags&256?(In(s),s):(In(s),null);if((s.flags&128)!==0)throw Error(i(558))}return or(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=ai(s),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[pn]=s}else Ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;or(s),g=!1}else g=Xh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(In(s),s):(In(s),null)}return In(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==g&&(u.flags|=2048)),l!==n&&l&&(s.child.flags|=8192),Id(s,s.updateQueue),or(s),null);case 4:return xe(),n===null&&j0(s.stateNode.containerInfo),or(s),null;case 10:return bs(s.type),or(s),null;case 19:if(O(xn),u=s.memoizedState,u===null)return or(s),null;if(g=(s.flags&128)!==0,x=u.rendering,x===null)if(g)of(u,!1);else{if(Lr!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(x=gi(n),x!==null){for(s.flags|=128,of(u,!1),n=x.updateQueue,s.updateQueue=n,Id(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)Pc(l,n),l=l.sibling;return q(xn,xn.current&1|2),un&&ts(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&kt()>zd&&(s.flags|=128,g=!0,of(u,!1),s.lanes=4194304)}else{if(!g)if(n=gi(x),n!==null){if(s.flags|=128,g=!0,n=n.updateQueue,s.updateQueue=n,Id(s,n),of(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!un)return or(s),null}else 2*kt()-u.renderingStartTime>zd&&l!==536870912&&(s.flags|=128,g=!0,of(u,!1),s.lanes=4194304);u.isBackwards?(x.sibling=s.child,s.child=x):(n=u.last,n!==null?n.sibling=x:s.child=x,u.last=x)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=kt(),n.sibling=null,l=xn.current,q(xn,g?l&1|2:l&1),un&&ts(s,u.treeForkCount),n):(or(s),null);case 22:case 23:return In(s),Br(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(or(s),s.subtreeFlags&6&&(s.flags|=8192)):or(s),l=s.updateQueue,l!==null&&Id(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),n!==null&&O(X),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),bs(wr),or(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ow(n,s){switch(Du(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return bs(wr),xe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ue(s),null;case 31:if(s.memoizedState!==null){if(In(s),s.alternate===null)throw Error(i(340));Ko()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(In(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ko()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return O(xn),null;case 4:return xe(),null;case 10:return bs(s.type),null;case 22:case 23:return In(s),Br(),n!==null&&O(X),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return bs(wr),null;case 25:return null;default:return null}}function tv(n,s){switch(Du(s),s.tag){case 3:bs(wr),xe();break;case 26:case 27:case 5:Ue(s);break;case 4:xe();break;case 31:s.memoizedState!==null&&In(s);break;case 13:In(s);break;case 19:O(xn);break;case 10:bs(s.type);break;case 22:case 23:In(s),Br(),n!==null&&O(X);break;case 24:bs(wr)}}function lf(n,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&n)===n){u=void 0;var x=l.create,L=l.inst;u=x(),L.destroy=u}l=l.next}while(l!==g)}}catch(Q){Fn(s,s.return,Q)}}function Gl(n,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var x=g.next;u=x;do{if((u.tag&n)===n){var L=u.inst,Q=L.destroy;if(Q!==void 0){L.destroy=void 0,g=s;var pe=l,Oe=Q;try{Oe()}catch(qe){Fn(g,pe,qe)}}}u=u.next}while(u!==x)}}catch(qe){Fn(s,s.return,qe)}}function nv(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{Er(s,l)}catch(u){Fn(n,n.return,u)}}}function rv(n,s,l){l.props=Zc(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Fn(n,s,u)}}function cf(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(g){Fn(n,s,g)}}function No(n,s){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Fn(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Fn(n,s,g)}else l.current=null}function iv(n){var s=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Fn(n,n.return,g)}}function f0(n,s,l){try{var u=n.stateNode;kw(u,n.type,l,s),u[Tn]=s}catch(g){Fn(n,n.return,g)}}function sv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ql(n.type)||n.tag===4}function d0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||sv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ql(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function p0(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Rs));else if(u!==4&&(u===27&&Ql(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(p0(n,s,l),n=n.sibling;n!==null;)p0(n,s,l),n=n.sibling}function Vd(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(u!==4&&(u===27&&Ql(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Vd(n,s,l),n=n.sibling;n!==null;)Vd(n,s,l),n=n.sibling}function av(n){var s=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Mi(s,u,l),s[pn]=n,s[Tn]=l}catch(x){Fn(n,n.return,x)}}var il=!1,$r=!1,m0=!1,ov=typeof WeakSet=="function"?WeakSet:Set,vi=null;function lw(n,s){if(n=n.containerInfo,I0=i1,n=Ia(n),ca(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var L=0,Q=-1,pe=-1,Oe=0,qe=0,Ge=n,Le=null;t:for(;;){for(var Re;Ge!==l||g!==0&&Ge.nodeType!==3||(Q=L+g),Ge!==x||u!==0&&Ge.nodeType!==3||(pe=L+u),Ge.nodeType===3&&(L+=Ge.nodeValue.length),(Re=Ge.firstChild)!==null;)Le=Ge,Ge=Re;for(;;){if(Ge===n)break t;if(Le===l&&++Oe===g&&(Q=L),Le===x&&++qe===u&&(pe=L),(Re=Ge.nextSibling)!==null)break;Ge=Le,Le=Ge.parentNode}Ge=Re}l=Q===-1||pe===-1?null:{start:Q,end:pe}}else l=null}l=l||{start:0,end:0}}else l=null;for(V0={focusedElem:n,selectionRange:l},i1=!1,vi=s;vi!==null;)if(s=vi,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,vi=n;else for(;vi!==null;){switch(s=vi,x=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,l=s,g=x.memoizedProps,x=x.memoizedState,u=l.stateNode;try{var Ct=Zc(l.type,g);n=u.getSnapshotBeforeUpdate(Ct,x),u.__reactInternalSnapshotBeforeUpdate=n}catch(Pt){Fn(l,l.return,Pt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)q0(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":q0(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,vi=n;break}vi=s.return}}function lv(n,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:al(n,l),u&4&&lf(5,l);break;case 1:if(al(n,l),u&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(L){Fn(l,l.return,L)}else{var g=Zc(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(L){Fn(l,l.return,L)}}u&64&&nv(l),u&512&&cf(l,l.return);break;case 3:if(al(n,l),u&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Er(n,s)}catch(L){Fn(l,l.return,L)}}break;case 27:s===null&&u&4&&av(l);case 26:case 5:al(n,l),s===null&&u&4&&iv(l),u&512&&cf(l,l.return);break;case 12:al(n,l);break;case 31:al(n,l),u&4&&hv(n,l);break;case 13:al(n,l),u&4&&fv(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=vw.bind(null,l),Vw(n,l))));break;case 22:if(u=l.memoizedState!==null||il,!u){s=s!==null&&s.memoizedState!==null||$r,g=il;var x=$r;il=u,($r=s)&&!x?ol(n,l,(l.subtreeFlags&8772)!==0):al(n,l),il=g,$r=x}break;case 30:break;default:al(n,l)}}function cv(n){var s=n.alternate;s!==null&&(n.alternate=null,cv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Os(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var mr=null,xs=!1;function sl(n,s,l){for(l=l.child;l!==null;)uv(n,s,l),l=l.sibling}function uv(n,s,l){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(tt,l)}catch{}switch(l.tag){case 26:$r||No(l,s),sl(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$r||No(l,s);var u=mr,g=xs;Ql(l.type)&&(mr=l.stateNode,xs=!1),sl(n,s,l),bf(l.stateNode),mr=u,xs=g;break;case 5:$r||No(l,s);case 6:if(u=mr,g=xs,mr=null,sl(n,s,l),mr=u,xs=g,mr!==null)if(xs)try{(mr.nodeType===9?mr.body:mr.nodeName==="HTML"?mr.ownerDocument.body:mr).removeChild(l.stateNode)}catch(x){Fn(l,s,x)}else try{mr.removeChild(l.stateNode)}catch(x){Fn(l,s,x)}break;case 18:mr!==null&&(xs?(n=mr,n5(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),sh(n)):n5(mr,l.stateNode));break;case 4:u=mr,g=xs,mr=l.stateNode.containerInfo,xs=!0,sl(n,s,l),mr=u,xs=g;break;case 0:case 11:case 14:case 15:Gl(2,l,s),$r||Gl(4,l,s),sl(n,s,l);break;case 1:$r||(No(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&rv(l,s,u)),sl(n,s,l);break;case 21:sl(n,s,l);break;case 22:$r=(u=$r)||l.memoizedState!==null,sl(n,s,l),$r=u;break;default:sl(n,s,l)}}function hv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{sh(n)}catch(l){Fn(s,s.return,l)}}}function fv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{sh(n)}catch(l){Fn(s,s.return,l)}}function cw(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new ov),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new ov),s;default:throw Error(i(435,n.tag))}}function Fd(n,s){var l=cw(n);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=bw.bind(null,n,u);u.then(g,g)}})}function _s(n,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],x=n,L=s,Q=L;e:for(;Q!==null;){switch(Q.tag){case 27:if(Ql(Q.type)){mr=Q.stateNode,xs=!1;break e}break;case 5:mr=Q.stateNode,xs=!1;break e;case 3:case 4:mr=Q.stateNode.containerInfo,xs=!0;break e}Q=Q.return}if(mr===null)throw Error(i(160));uv(x,L,g),mr=null,xs=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)dv(s,n),s=s.sibling}var Ha=null;function dv(n,s){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_s(s,n),ws(n),u&4&&(Gl(3,n,n.return),lf(3,n),Gl(5,n,n.return));break;case 1:_s(s,n),ws(n),u&512&&($r||l===null||No(l,l.return)),u&64&&il&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=Ha;if(_s(s,n),ws(n),u&512&&($r||l===null||No(l,l.return)),u&4){var x=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":x=g.getElementsByTagName("title")[0],(!x||x[Di]||x[pn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(u),g.head.insertBefore(x,g.querySelector("head > title"))),Mi(x,u,l),x[pn]=n,nr(x),u=x;break e;case"link":var L=d5("link","href",g).get(u+(l.href||""));if(L){for(var Q=0;Q<L.length;Q++)if(x=L[Q],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){L.splice(Q,1);break t}}x=g.createElement(u),Mi(x,u,l),g.head.appendChild(x);break;case"meta":if(L=d5("meta","content",g).get(u+(l.content||""))){for(Q=0;Q<L.length;Q++)if(x=L[Q],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){L.splice(Q,1);break t}}x=g.createElement(u),Mi(x,u,l),g.head.appendChild(x);break;default:throw Error(i(468,u))}x[pn]=n,nr(x),u=x}n.stateNode=u}else p5(g,n.type,n.stateNode);else n.stateNode=f5(g,u,n.memoizedProps);else x!==u?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,u===null?p5(g,n.type,n.stateNode):f5(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&f0(n,n.memoizedProps,l.memoizedProps)}break;case 27:_s(s,n),ws(n),u&512&&($r||l===null||No(l,l.return)),l!==null&&u&4&&f0(n,n.memoizedProps,l.memoizedProps);break;case 5:if(_s(s,n),ws(n),u&512&&($r||l===null||No(l,l.return)),n.flags&32){g=n.stateNode;try{Ds(g,"")}catch(Ct){Fn(n,n.return,Ct)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,f0(n,g,l!==null?l.memoizedProps:g)),u&1024&&(m0=!0);break;case 6:if(_s(s,n),ws(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(Ct){Fn(n,n.return,Ct)}}break;case 3:if(e1=null,g=Ha,Ha=Qd(s.containerInfo),_s(s,n),Ha=g,ws(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{sh(s.containerInfo)}catch(Ct){Fn(n,n.return,Ct)}m0&&(m0=!1,pv(n));break;case 4:u=Ha,Ha=Qd(n.stateNode.containerInfo),_s(s,n),ws(n),Ha=u;break;case 12:_s(s,n),ws(n);break;case 31:_s(s,n),ws(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Fd(n,u)));break;case 13:_s(s,n),ws(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(qd=kt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Fd(n,u)));break;case 22:g=n.memoizedState!==null;var pe=l!==null&&l.memoizedState!==null,Oe=il,qe=$r;if(il=Oe||g,$r=qe||pe,_s(s,n),$r=qe,il=Oe,ws(n),u&8192)e:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||pe||il||$r||$c(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){pe=l=s;try{if(x=pe.stateNode,g)L=x.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{Q=pe.stateNode;var Ge=pe.memoizedProps.style,Le=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;Q.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(Ct){Fn(pe,pe.return,Ct)}}}else if(s.tag===6){if(l===null){pe=s;try{pe.stateNode.nodeValue=g?"":pe.memoizedProps}catch(Ct){Fn(pe,pe.return,Ct)}}}else if(s.tag===18){if(l===null){pe=s;try{var Re=pe.stateNode;g?r5(Re,!0):r5(pe.stateNode,!1)}catch(Ct){Fn(pe,pe.return,Ct)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Fd(n,l))));break;case 19:_s(s,n),ws(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Fd(n,u)));break;case 30:break;case 21:break;default:_s(s,n),ws(n)}}function ws(n){var s=n.flags;if(s&2){try{for(var l,u=n.return;u!==null;){if(sv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,x=d0(n);Vd(n,x,g);break;case 5:var L=l.stateNode;l.flags&32&&(Ds(L,""),l.flags&=-33);var Q=d0(n);Vd(n,Q,L);break;case 3:case 4:var pe=l.stateNode.containerInfo,Oe=d0(n);p0(n,Oe,pe);break;default:throw Error(i(161))}}catch(qe){Fn(n,n.return,qe)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function pv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;pv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function al(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)lv(n,s.alternate,s),s=s.sibling}function $c(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Gl(4,s,s.return),$c(s);break;case 1:No(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&rv(s,s.return,l),$c(s);break;case 27:bf(s.stateNode);case 26:case 5:No(s,s.return),$c(s);break;case 22:s.memoizedState===null&&$c(s);break;case 30:$c(s);break;default:$c(s)}n=n.sibling}}function ol(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=n,x=s,L=x.flags;switch(x.tag){case 0:case 11:case 15:ol(g,x,l),lf(4,x);break;case 1:if(ol(g,x,l),u=x,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Oe){Fn(u,u.return,Oe)}if(u=x,g=u.updateQueue,g!==null){var Q=u.stateNode;try{var pe=g.shared.hiddenCallbacks;if(pe!==null)for(g.shared.hiddenCallbacks=null,g=0;g<pe.length;g++)mi(pe[g],Q)}catch(Oe){Fn(u,u.return,Oe)}}l&&L&64&&nv(x),cf(x,x.return);break;case 27:av(x);case 26:case 5:ol(g,x,l),l&&u===null&&L&4&&iv(x),cf(x,x.return);break;case 12:ol(g,x,l);break;case 31:ol(g,x,l),l&&L&4&&hv(g,x);break;case 13:ol(g,x,l),l&&L&4&&fv(g,x);break;case 22:x.memoizedState===null&&ol(g,x,l),cf(x,x.return);break;case 30:break;default:ol(g,x,l)}s=s.sibling}}function g0(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Gc(l))}function v0(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Gc(n))}function Ga(n,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)mv(n,s,l,u),s=s.sibling}function mv(n,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Ga(n,s,l,u),g&2048&&lf(9,s);break;case 1:Ga(n,s,l,u);break;case 3:Ga(n,s,l,u),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Gc(n)));break;case 12:if(g&2048){Ga(n,s,l,u),n=s.stateNode;try{var x=s.memoizedProps,L=x.id,Q=x.onPostCommit;typeof Q=="function"&&Q(L,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(pe){Fn(s,s.return,pe)}}else Ga(n,s,l,u);break;case 31:Ga(n,s,l,u);break;case 13:Ga(n,s,l,u);break;case 23:break;case 22:x=s.stateNode,L=s.alternate,s.memoizedState!==null?x._visibility&2?Ga(n,s,l,u):uf(n,s):x._visibility&2?Ga(n,s,l,u):(x._visibility|=2,Xu(n,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&g0(L,s);break;case 24:Ga(n,s,l,u),g&2048&&v0(s.alternate,s);break;default:Ga(n,s,l,u)}}function Xu(n,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=n,L=s,Q=l,pe=u,Oe=L.flags;switch(L.tag){case 0:case 11:case 15:Xu(x,L,Q,pe,g),lf(8,L);break;case 23:break;case 22:var qe=L.stateNode;L.memoizedState!==null?qe._visibility&2?Xu(x,L,Q,pe,g):uf(x,L):(qe._visibility|=2,Xu(x,L,Q,pe,g)),g&&Oe&2048&&g0(L.alternate,L);break;case 24:Xu(x,L,Q,pe,g),g&&Oe&2048&&v0(L.alternate,L);break;default:Xu(x,L,Q,pe,g)}s=s.sibling}}function uf(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,u=s,g=u.flags;switch(u.tag){case 22:uf(l,u),g&2048&&g0(u.alternate,u);break;case 24:uf(l,u),g&2048&&v0(u.alternate,u);break;default:uf(l,u)}s=s.sibling}}var hf=8192;function Zu(n,s,l){if(n.subtreeFlags&hf)for(n=n.child;n!==null;)gv(n,s,l),n=n.sibling}function gv(n,s,l){switch(n.tag){case 26:Zu(n,s,l),n.flags&hf&&n.memoizedState!==null&&Zw(l,Ha,n.memoizedState,n.memoizedProps);break;case 5:Zu(n,s,l);break;case 3:case 4:var u=Ha;Ha=Qd(n.stateNode.containerInfo),Zu(n,s,l),Ha=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=hf,hf=16777216,Zu(n,s,l),hf=u):Zu(n,s,l));break;default:Zu(n,s,l)}}function vv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ff(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];vi=u,yv(u,n)}vv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bv(n),n=n.sibling}function bv(n){switch(n.tag){case 0:case 11:case 15:ff(n),n.flags&2048&&Gl(9,n,n.return);break;case 3:ff(n);break;case 12:ff(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Bd(n)):ff(n);break;default:ff(n)}}function Bd(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];vi=u,yv(u,n)}vv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Gl(8,s,s.return),Bd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Bd(s));break;default:Bd(s)}n=n.sibling}}function yv(n,s){for(;vi!==null;){var l=vi;switch(l.tag){case 0:case 11:case 15:Gl(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Gc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,vi=u;else e:for(l=n;vi!==null;){u=vi;var g=u.sibling,x=u.return;if(cv(u),u===l){vi=null;break e}if(g!==null){g.return=x,vi=g;break e}vi=x}}}var uw={getCacheForType:function(n){var s=oi(wr),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l},cacheSignal:function(){return oi(wr).controller.signal}},hw=typeof WeakMap=="function"?WeakMap:Map,Rn=0,Kn=null,hn=null,mn=0,Vn=0,Ps=null,Yl=!1,$u=!1,b0=!1,ll=0,Lr=0,Wl=0,Kc=0,y0=0,Us=0,Ku=0,df=null,Ss=null,x0=!1,qd=0,xv=0,zd=1/0,Pd=null,Xl=null,ci=0,Zl=null,Qu=null,cl=0,_0=0,w0=null,_v=null,pf=0,S0=null;function Hs(){return(Rn&2)!==0&&mn!==0?mn&-mn:K.T!==null?k0():en()}function wv(){if(Us===0)if((mn&536870912)===0||un){var n=Ht;Ht<<=1,(Ht&3932160)===0&&(Ht=262144),Us=n}else Us=536870912;return n=ar.current,n!==null&&(n.flags|=32),Us}function As(n,s,l){(n===Kn&&(Vn===2||Vn===9)||n.cancelPendingCommit!==null)&&(Ju(n,0),$l(n,mn,Us,!1)),Ze(n,l),((Rn&2)===0||n!==Kn)&&(n===Kn&&((Rn&2)===0&&(Kc|=l),Lr===4&&$l(n,mn,Us,!1)),Co(n))}function Sv(n,s,l){if((Rn&6)!==0)throw Error(i(327));var u=!l&&(s&127)===0&&(s&n.expiredLanes)===0||Cn(n,s),g=u?pw(n,s):N0(n,s,!0),x=u;do{if(g===0){$u&&!u&&$l(n,s,0,!1);break}else{if(l=n.current.alternate,x&&!fw(l)){g=N0(n,s,!1),x=!1;continue}if(g===2){if(x=s,n.errorRecoveryDisabledLanes&x)var L=0;else L=n.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){s=L;e:{var Q=n;g=df;var pe=Q.current.memoizedState.isDehydrated;if(pe&&(Ju(Q,L).flags|=256),L=N0(Q,L,!1),L!==2){if(b0&&!pe){Q.errorRecoveryDisabledLanes|=x,Kc|=x,g=4;break e}x=Ss,Ss=g,x!==null&&(Ss===null?Ss=x:Ss.push.apply(Ss,x))}g=L}if(x=!1,g!==2)continue}}if(g===1){Ju(n,0),$l(n,s,0,!0);break}e:{switch(u=n,x=g,x){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:$l(u,s,Us,!Yl);break e;case 2:Ss=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=qd+300-kt(),10<g)){if($l(u,s,Us,!Yl),Ot(u,0,!0)!==0)break e;cl=s,u.timeoutHandle=e5(Av.bind(null,u,l,Ss,Pd,x0,s,Us,Kc,Ku,Yl,x,"Throttled",-0,0),g);break e}Av(u,l,Ss,Pd,x0,s,Us,Kc,Ku,Yl,x,null,-0,0)}}break}while(!0);Co(n)}function Av(n,s,l,u,g,x,L,Q,pe,Oe,qe,Ge,Le,Re){if(n.timeoutHandle=-1,Ge=s.subtreeFlags,Ge&8192||(Ge&16785408)===16785408){Ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rs},gv(s,x,Ge);var Ct=(x&62914560)===x?qd-kt():(x&4194048)===x?xv-kt():0;if(Ct=$w(Ge,Ct),Ct!==null){cl=x,n.cancelPendingCommit=Ct(Lv.bind(null,n,s,x,l,u,g,L,Q,pe,qe,Ge,null,Le,Re)),$l(n,x,L,!Oe);return}}Lv(n,s,x,l,u,g,L,Q,pe)}function fw(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],x=g.getSnapshot;g=g.value;try{if(!ri(x(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $l(n,s,l,u){s&=~y0,s&=~Kc,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var g=s;0<g;){var x=31-wt(g),L=1<<x;u[x]=-1,g&=~L}l!==0&&St(n,l,s)}function Ud(){return(Rn&6)===0?(mf(0),!1):!0}function A0(){if(hn!==null){if(Vn===0)var n=hn.return;else n=hn,ha=vo=null,zu(n),Ye=null,Tt=0,n=hn;for(;n!==null;)tv(n.alternate,n),n=n.return;hn=null}}function Ju(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,Lw(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),cl=0,A0(),Kn=n,hn=l=fs(n.current,null),mn=s,Vn=0,Ps=null,Yl=!1,$u=Cn(n,s),b0=!1,Ku=Us=y0=Kc=Wl=Lr=0,Ss=df=null,x0=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var g=31-wt(u),x=1<<g;s|=n[g],u&=~x}return ll=s,Bc(),l}function Nv(n,s){It=null,K.H=sf,s===ve||s===oe?(s=Pe(),Vn=3):s===ke?(s=Pe(),Vn=4):Vn=s===n0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ps=s,hn===null&&(Lr=1,Ld(n,ds(s,n.current)))}function Cv(){var n=ar.current;return n===null?!0:(mn&4194048)===mn?Sn===null:(mn&62914560)===mn||(mn&536870912)!==0?n===Sn:!1}function Tv(){var n=K.H;return K.H=sf,n===null?sf:n}function Ev(){var n=K.A;return K.A=uw,n}function Hd(){Lr=4,Yl||(mn&4194048)!==mn&&ar.current!==null||($u=!0),(Wl&134217727)===0&&(Kc&134217727)===0||Kn===null||$l(Kn,mn,Us,!1)}function N0(n,s,l){var u=Rn;Rn|=2;var g=Tv(),x=Ev();(Kn!==n||mn!==s)&&(Pd=null,Ju(n,s)),s=!1;var L=Lr;e:do try{if(Vn!==0&&hn!==null){var Q=hn,pe=Ps;switch(Vn){case 8:A0(),L=6;break e;case 3:case 2:case 9:case 6:ar.current===null&&(s=!0);var Oe=Vn;if(Vn=0,Ps=null,eh(n,Q,pe,Oe),l&&$u){L=0;break e}break;default:Oe=Vn,Vn=0,Ps=null,eh(n,Q,pe,Oe)}}dw(),L=Lr;break}catch(qe){Nv(n,qe)}while(!0);return s&&n.shellSuspendCounter++,ha=vo=null,Rn=u,K.H=g,K.A=x,hn===null&&(Kn=null,mn=0,Bc()),L}function dw(){for(;hn!==null;)kv(hn)}function pw(n,s){var l=Rn;Rn|=2;var u=Tv(),g=Ev();Kn!==n||mn!==s?(Pd=null,zd=kt()+500,Ju(n,s)):$u=Cn(n,s);e:do try{if(Vn!==0&&hn!==null){s=hn;var x=Ps;t:switch(Vn){case 1:Vn=0,Ps=null,eh(n,s,x,1);break;case 2:case 9:if(Ae(x)){Vn=0,Ps=null,Mv(s);break}s=function(){Vn!==2&&Vn!==9||Kn!==n||(Vn=7),Co(n)},x.then(s,s);break e;case 3:Vn=7;break e;case 4:Vn=5;break e;case 7:Ae(x)?(Vn=0,Ps=null,Mv(s)):(Vn=0,Ps=null,eh(n,s,x,7));break;case 5:var L=null;switch(hn.tag){case 26:L=hn.memoizedState;case 5:case 27:var Q=hn;if(L?m5(L):Q.stateNode.complete){Vn=0,Ps=null;var pe=Q.sibling;if(pe!==null)hn=pe;else{var Oe=Q.return;Oe!==null?(hn=Oe,Gd(Oe)):hn=null}break t}}Vn=0,Ps=null,eh(n,s,x,5);break;case 6:Vn=0,Ps=null,eh(n,s,x,6);break;case 8:A0(),Lr=6;break e;default:throw Error(i(462))}}mw();break}catch(qe){Nv(n,qe)}while(!0);return ha=vo=null,K.H=u,K.A=g,Rn=l,hn!==null?0:(Kn=null,mn=0,Bc(),Lr)}function mw(){for(;hn!==null&&!ft();)kv(hn)}function kv(n){var s=J2(n.alternate,n,ll);n.memoizedProps=n.pendingProps,s===null?Gd(n):hn=s}function Mv(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=W2(l,s,s.pendingProps,s.type,void 0,mn);break;case 11:s=W2(l,s,s.pendingProps,s.type.render,s.ref,mn);break;case 5:zu(s);default:tv(l,s),s=hn=Pc(s,ll),s=J2(l,s,ll)}n.memoizedProps=n.pendingProps,s===null?Gd(n):hn=s}function eh(n,s,l,u){ha=vo=null,zu(s),Ye=null,Tt=0;var g=s.return;try{if(rw(n,g,s,l,mn)){Lr=1,Ld(n,ds(l,n.current)),hn=null;return}}catch(x){if(g!==null)throw hn=g,x;Lr=1,Ld(n,ds(l,n.current)),hn=null;return}s.flags&32768?(un||u===1?n=!0:$u||(mn&536870912)!==0?n=!1:(Yl=n=!0,(u===2||u===9||u===3||u===6)&&(u=ar.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ov(s,n)):Gd(s)}function Gd(n){var s=n;do{if((s.flags&32768)!==0){Ov(s,Yl);return}n=s.return;var l=aw(s.alternate,s,ll);if(l!==null){hn=l;return}if(s=s.sibling,s!==null){hn=s;return}hn=s=n}while(s!==null);Lr===0&&(Lr=5)}function Ov(n,s){do{var l=ow(n.alternate,n);if(l!==null){l.flags&=32767,hn=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){hn=n;return}hn=n=l}while(n!==null);Lr=6,hn=null}function Lv(n,s,l,u,g,x,L,Q,pe){n.cancelPendingCommit=null;do Yd();while(ci!==0);if((Rn&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(x=s.lanes|s.childLanes,x|=Tu,gt(n,l,x,L,Q,pe),n===Kn&&(hn=Kn=null,mn=0),Qu=s,Zl=n,cl=l,_0=x,w0=g,_v=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,yw(ot,function(){return Vv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,g=re.p,re.p=2,L=Rn,Rn|=4;try{lw(n,s,l)}finally{Rn=L,re.p=g,K.T=u}}ci=1,jv(),Dv(),Rv()}}function jv(){if(ci===1){ci=0;var n=Zl,s=Qu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var u=re.p;re.p=2;var g=Rn;Rn|=4;try{dv(s,n);var x=V0,L=Ia(n.containerInfo),Q=x.focusedElem,pe=x.selectionRange;if(L!==Q&&Q&&Q.ownerDocument&&Ra(Q.ownerDocument.documentElement,Q)){if(pe!==null&&ca(Q)){var Oe=pe.start,qe=pe.end;if(qe===void 0&&(qe=Oe),"selectionStart"in Q)Q.selectionStart=Oe,Q.selectionEnd=Math.min(qe,Q.value.length);else{var Ge=Q.ownerDocument||document,Le=Ge&&Ge.defaultView||window;if(Le.getSelection){var Re=Le.getSelection(),Ct=Q.textContent.length,Pt=Math.min(pe.start,Ct),Yn=pe.end===void 0?Pt:Math.min(pe.end,Ct);!Re.extend&&Pt>Yn&&(L=Yn,Yn=Pt,Pt=L);var Se=Dl(Q,Pt),be=Dl(Q,Yn);if(Se&&be&&(Re.rangeCount!==1||Re.anchorNode!==Se.node||Re.anchorOffset!==Se.offset||Re.focusNode!==be.node||Re.focusOffset!==be.offset)){var Me=Ge.createRange();Me.setStart(Se.node,Se.offset),Re.removeAllRanges(),Pt>Yn?(Re.addRange(Me),Re.extend(be.node,be.offset)):(Me.setEnd(be.node,be.offset),Re.addRange(Me))}}}}for(Ge=[],Re=Q;Re=Re.parentNode;)Re.nodeType===1&&Ge.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Ge.length;Q++){var He=Ge[Q];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}i1=!!I0,V0=I0=null}finally{Rn=g,re.p=u,K.T=l}}n.current=s,ci=2}}function Dv(){if(ci===2){ci=0;var n=Zl,s=Qu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var u=re.p;re.p=2;var g=Rn;Rn|=4;try{lv(n,s.alternate,s)}finally{Rn=g,re.p=u,K.T=l}}ci=3}}function Rv(){if(ci===4||ci===3){ci=0,dt();var n=Zl,s=Qu,l=cl,u=_v;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ci=5:(ci=0,Qu=Zl=null,Iv(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Xl=null),Yt(l),s=s.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(tt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=K.T,g=re.p,re.p=2,K.T=null;try{for(var x=n.onRecoverableError,L=0;L<u.length;L++){var Q=u[L];x(Q.value,{componentStack:Q.stack})}}finally{K.T=s,re.p=g}}(cl&3)!==0&&Yd(),Co(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===S0?pf++:(pf=0,S0=n):pf=0,mf(0)}}function Iv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Gc(s)))}function Yd(){return jv(),Dv(),Rv(),Vv()}function Vv(){if(ci!==5)return!1;var n=Zl,s=_0;_0=0;var l=Yt(cl),u=K.T,g=re.p;try{re.p=32>l?32:l,K.T=null,l=w0,w0=null;var x=Zl,L=cl;if(ci=0,Qu=Zl=null,cl=0,(Rn&6)!==0)throw Error(i(331));var Q=Rn;if(Rn|=4,bv(x.current),mv(x,x.current,L,l),Rn=Q,mf(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(tt,x)}catch{}return!0}finally{re.p=g,K.T=u,Iv(n,s)}}function Fv(n,s,l){s=ds(l,s),s=t0(n.stateNode,s,2),n=an(n,s,2),n!==null&&(Ze(n,2),Co(n))}function Fn(n,s,l){if(n.tag===3)Fv(n,n,l);else for(;s!==null;){if(s.tag===3){Fv(s,n,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Xl===null||!Xl.has(u))){n=ds(l,n),l=B2(2),u=an(s,l,2),u!==null&&(q2(l,u,s,n),Ze(u,2),Co(u));break}}s=s.return}}function C0(n,s,l){var u=n.pingCache;if(u===null){u=n.pingCache=new hw;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(b0=!0,g.add(l),n=gw.bind(null,n,s,l),s.then(n,n))}function gw(n,s,l){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Kn===n&&(mn&l)===l&&(Lr===4||Lr===3&&(mn&62914560)===mn&&300>kt()-qd?(Rn&2)===0&&Ju(n,0):y0|=l,Ku===mn&&(Ku=0)),Co(n)}function Bv(n,s){s===0&&(s=Ve()),n=Fa(n,s),n!==null&&(Ze(n,s),Co(n))}function vw(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Bv(n,l)}function bw(n,s){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),Bv(n,l)}function yw(n,s){return Qe(n,s)}var Wd=null,th=null,T0=!1,Xd=!1,E0=!1,Kl=0;function Co(n){n!==th&&n.next===null&&(th===null?Wd=th=n:th=th.next=n),Xd=!0,T0||(T0=!0,_w())}function mf(n,s){if(!E0&&Xd){E0=!0;do for(var l=!1,u=Wd;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var x=0;else{var L=u.suspendedLanes,Q=u.pingedLanes;x=(1<<31-wt(42|n)+1)-1,x&=g&~(L&~Q),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,Uv(u,x))}else x=mn,x=Ot(u,u===Kn?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||Cn(u,x)||(l=!0,Uv(u,x));u=u.next}while(l);E0=!1}}function xw(){qv()}function qv(){Xd=T0=!1;var n=0;Kl!==0&&Ow()&&(n=Kl);for(var s=kt(),l=null,u=Wd;u!==null;){var g=u.next,x=zv(u,s);x===0?(u.next=null,l===null?Wd=g:l.next=g,g===null&&(th=l)):(l=u,(n!==0||(x&3)!==0)&&(Xd=!0)),u=g}ci!==0&&ci!==5||mf(n),Kl!==0&&(Kl=0)}function zv(n,s){for(var l=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var L=31-wt(x),Q=1<<L,pe=g[L];pe===-1?((Q&l)===0||(Q&u)!==0)&&(g[L]=Ee(Q,s)):pe<=s&&(n.expiredLanes|=Q),x&=~Q}if(s=Kn,l=mn,l=Ot(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===s&&(Vn===2||Vn===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&et(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Cn(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(u!==null&&et(u),Yt(l)){case 2:case 8:l=De;break;case 32:l=ot;break;case 268435456:l=_t;break;default:l=ot}return u=Pv.bind(null,n),l=Qe(l,u),n.callbackPriority=s,n.callbackNode=l,s}return u!==null&&u!==null&&et(u),n.callbackPriority=2,n.callbackNode=null,2}function Pv(n,s){if(ci!==0&&ci!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Yd()&&n.callbackNode!==l)return null;var u=mn;return u=Ot(n,n===Kn?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Sv(n,u,s),zv(n,kt()),n.callbackNode!=null&&n.callbackNode===l?Pv.bind(null,n):null)}function Uv(n,s){if(Yd())return null;Sv(n,s,!0)}function _w(){jw(function(){(Rn&6)!==0?Qe(Dt,xw):qv()})}function k0(){if(Kl===0){var n=p;n===0&&(n=bt,bt<<=1,(bt&261888)===0&&(bt=256)),Kl=n}return Kl}function Hv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ii(""+n)}function Gv(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function ww(n,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var x=Hv((g[Tn]||null).action),L=u.submitter;L&&(s=(s=L[Tn]||null)?Hv(s.formAction):L.getAttribute("formAction"),s!==null&&(x=s,L=null));var Q=new cs("action","action",null,u,g);n.push({event:Q,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Kl!==0){var pe=L?Gv(g,L):new FormData(g);Zp(l,{pending:!0,data:pe,method:g.method,action:x},null,pe)}}else typeof x=="function"&&(Q.preventDefault(),pe=L?Gv(g,L):new FormData(g),Zp(l,{pending:!0,data:pe,method:g.method,action:x},x,pe))},currentTarget:g}]})}}for(var M0=0;M0<Xo.length;M0++){var O0=Xo[M0],Sw=O0.toLowerCase(),Aw=O0[0].toUpperCase()+O0.slice(1);hs(Sw,"on"+Aw)}hs(Wo,"onAnimationEnd"),hs(Vc,"onAnimationIteration"),hs(Uh,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(yd,"onTransitionRun"),hs(xd,"onTransitionStart"),hs(_d,"onTransitionCancel"),hs(Hh,"onTransitionEnd"),Ls("onMouseEnter",["mouseout","mouseover"]),Ls("onMouseLeave",["mouseout","mouseover"]),Ls("onPointerEnter",["pointerout","pointerover"]),Ls("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gf));function Yv(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],g=u.event;u=u.listeners;e:{var x=void 0;if(s)for(var L=u.length-1;0<=L;L--){var Q=u[L],pe=Q.instance,Oe=Q.currentTarget;if(Q=Q.listener,pe!==x&&g.isPropagationStopped())break e;x=Q,g.currentTarget=Oe;try{x(g)}catch(qe){Fc(qe)}g.currentTarget=null,x=pe}else for(L=0;L<u.length;L++){if(Q=u[L],pe=Q.instance,Oe=Q.currentTarget,Q=Q.listener,pe!==x&&g.isPropagationStopped())break e;x=Q,g.currentTarget=Oe;try{x(g)}catch(qe){Fc(qe)}g.currentTarget=null,x=pe}}}}function fn(n,s){var l=s[Hr];l===void 0&&(l=s[Hr]=new Set);var u=n+"__bubble";l.has(u)||(Wv(s,n,2,!1),l.add(u))}function L0(n,s,l){var u=0;s&&(u|=4),Wv(l,n,u,s)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function j0(n){if(!n[Zd]){n[Zd]=!0,Fo.forEach(function(l){l!=="selectionchange"&&(Nw.has(l)||L0(l,!1,n),L0(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Zd]||(s[Zd]=!0,L0("selectionchange",!1,s))}}function Wv(n,s,l,u){switch(w5(s)){case 2:var g=Jw;break;case 8:g=e4;break;default:g=X0}l=g.bind(null,s,l,n),g=void 0,!Lc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function D0(n,s,l,u,g){var x=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var L=u.tag;if(L===3||L===4){var Q=u.stateNode.containerInfo;if(Q===g)break;if(L===4)for(L=u.return;L!==null;){var pe=L.tag;if((pe===3||pe===4)&&L.stateNode.containerInfo===g)return;L=L.return}for(;Q!==null;){if(L=Ri(Q),L===null)return;if(pe=L.tag,pe===5||pe===6||pe===26||pe===27){u=x=L;continue e}Q=Q.parentNode}}u=u.return}wu(function(){var Oe=x,qe=qo(l),Ge=[];e:{var Le=Gh.get(n);if(Le!==void 0){var Re=cs,Ct=n;switch(n){case"keypress":if(ls(l)===0)break e;case"keydown":case"keyup":Re=bn;break;case"focusin":Ct="focus",Re=Ta;break;case"focusout":Ct="blur",Re=Ta;break;case"beforeblur":case"afterblur":Re=Ta;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=Ca;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=Vr;break;case Wo:case Vc:case Uh:Re=w;break;case Hh:Re=ni;break;case"scroll":case"scrollend":Re=Tl;break;case"wheel":Re=Is;break;case"copy":case"cut":case"paste":Re=ce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=yr;break;case"toggle":case"beforetoggle":Re=Dc}var Pt=(s&4)!==0,Yn=!Pt&&(n==="scroll"||n==="scrollend"),Se=Pt?Le!==null?Le+"Capture":null:Le;Pt=[];for(var be=Oe,Me;be!==null;){var He=be;if(Me=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||Me===null||Se===null||(He=$i(be,Se),He!=null&&Pt.push(vf(be,He,Me))),Yn)break;be=be.return}0<Pt.length&&(Le=new Re(Le,Ct,null,l,qe),Ge.push({event:Le,listeners:Pt}))}}if((s&7)===0){e:{if(Le=n==="mouseover"||n==="pointerover",Re=n==="mouseout"||n==="pointerout",Le&&l!==_a&&(Ct=l.relatedTarget||l.fromElement)&&(Ri(Ct)||Ct[br]))break e;if((Re||Le)&&(Le=qe.window===qe?qe:(Le=qe.ownerDocument)?Le.defaultView||Le.parentWindow:window,Re?(Ct=l.relatedTarget||l.toElement,Re=Oe,Ct=Ct?Ri(Ct):null,Ct!==null&&(Yn=o(Ct),Pt=Ct.tag,Ct!==Yn||Pt!==5&&Pt!==27&&Pt!==6)&&(Ct=null)):(Re=null,Ct=Oe),Re!==Ct)){if(Pt=jc,He="onMouseLeave",Se="onMouseEnter",be="mouse",(n==="pointerout"||n==="pointerover")&&(Pt=yr,He="onPointerLeave",Se="onPointerEnter",be="pointer"),Yn=Re==null?Le:Js(Re),Me=Ct==null?Le:Js(Ct),Le=new Pt(He,be+"leave",Re,l,qe),Le.target=Yn,Le.relatedTarget=Me,He=null,Ri(qe)===Oe&&(Pt=new Pt(Se,be+"enter",Ct,l,qe),Pt.target=Me,Pt.relatedTarget=Yn,He=Pt),Yn=He,Re&&Ct)t:{for(Pt=Cw,Se=Re,be=Ct,Me=0,He=Se;He;He=Pt(He))Me++;He=0;for(var Ft=be;Ft;Ft=Pt(Ft))He++;for(;0<Me-He;)Se=Pt(Se),Me--;for(;0<He-Me;)be=Pt(be),He--;for(;Me--;){if(Se===be||be!==null&&Se===be.alternate){Pt=Se;break t}Se=Pt(Se),be=Pt(be)}Pt=null}else Pt=null;Re!==null&&Xv(Ge,Le,Re,Pt,!1),Ct!==null&&Yn!==null&&Xv(Ge,Yn,Ct,Pt,!0)}}e:{if(Le=Oe?Js(Oe):window,Re=Le.nodeName&&Le.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Le.type==="file")var On=fo;else if(Rc(Le))if(Vi)On=oa;else{On=xr;var jt=Ll}else Re=Le.nodeName,!Re||Re.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Oe&&kc(Oe.elementType)&&(On=fo):On=Cu;if(On&&(On=On(n,Oe))){Qi(Ge,On,l,qe);break e}jt&&jt(n,Le,Oe),n==="focusout"&&Oe&&Le.type==="number"&&Oe.memoizedProps.value!=null&&Cc(Le,"number",Le.value)}switch(jt=Oe?Js(Oe):window,n){case"focusin":(Rc(jt)||jt.contentEditable==="true")&&(Ji=jt,Va=Oe,fi=null);break;case"focusout":fi=Va=Ji=null;break;case"mousedown":us=!0;break;case"contextmenu":case"mouseup":case"dragend":us=!1,kn(Ge,l,qe);break;case"selectionchange":if(Yo)break;case"keydown":case"keyup":kn(Ge,l,qe)}var on;if(ra)e:{switch(n){case"compositionstart":var gn="onCompositionStart";break e;case"compositionend":gn="onCompositionEnd";break e;case"compositionupdate":gn="onCompositionUpdate";break e}gn=void 0}else ia?ho(n,l)&&(gn="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(gn="onCompositionStart");gn&&(Ma&&l.locale!=="ko"&&(ia||gn!=="onCompositionStart"?gn==="onCompositionEnd"&&ia&&(on=Su()):(Ki=qe,Po="value"in Ki?Ki.value:Ki.textContent,ia=!0)),jt=$d(Oe,gn),0<jt.length&&(gn=new we(gn,n,null,l,qe),Ge.push({event:gn,listeners:jt}),on?gn.data=on:(on=kl(l),on!==null&&(gn.data=on)))),(on=Go?Ni(n,l):Oa(n,l))&&(gn=$d(Oe,"onBeforeInput"),0<gn.length&&(jt=new we("onBeforeInput","beforeinput",null,l,qe),Ge.push({event:jt,listeners:gn}),jt.data=on)),ww(Ge,n,Oe,l,qe)}Yv(Ge,s)})}function vf(n,s,l){return{instance:n,listener:s,currentTarget:l}}function $d(n,s){for(var l=s+"Capture",u=[];n!==null;){var g=n,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=$i(n,l),g!=null&&u.unshift(vf(n,g,x)),g=$i(n,s),g!=null&&u.push(vf(n,g,x))),n.tag===3)return u;n=n.return}return[]}function Cw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Xv(n,s,l,u,g){for(var x=s._reactName,L=[];l!==null&&l!==u;){var Q=l,pe=Q.alternate,Oe=Q.stateNode;if(Q=Q.tag,pe!==null&&pe===u)break;Q!==5&&Q!==26&&Q!==27||Oe===null||(pe=Oe,g?(Oe=$i(l,x),Oe!=null&&L.unshift(vf(l,Oe,pe))):g||(Oe=$i(l,x),Oe!=null&&L.push(vf(l,Oe,pe)))),l=l.return}L.length!==0&&n.push({event:s,listeners:L})}var Tw=/\r\n?/g,Ew=/\u0000|\uFFFD/g;function Zv(n){return(typeof n=="string"?n:""+n).replace(Tw,`
`).replace(Ew,"")}function $v(n,s){return s=Zv(s),Zv(n)===s}function Gn(n,s,l,u,g,x){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Ds(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Ds(n,""+u);break;case"className":xa(n,"class",u);break;case"tabIndex":xa(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xa(n,l,u);break;case"style":yu(n,u,x);break;case"data":if(s!=="object"){xa(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Ii(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(s!=="input"&&Gn(n,s,"name",g.name,g,null),Gn(n,s,"formEncType",g.formEncType,g,null),Gn(n,s,"formMethod",g.formMethod,g,null),Gn(n,s,"formTarget",g.formTarget,g,null)):(Gn(n,s,"encType",g.encType,g,null),Gn(n,s,"method",g.method,g,null),Gn(n,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Ii(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=Rs);break;case"onScroll":u!=null&&fn("scroll",n);break;case"onScrollEnd":u!=null&&fn("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=Ii(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":fn("beforetoggle",n),fn("toggle",n),Zi(n,"popover",u);break;case"xlinkActuate":js(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":js(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":js(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":js(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":js(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":js(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":js(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":js(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":js(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Zi(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Mc.get(l)||l,Zi(n,l,u))}}function R0(n,s,l,u,g,x){switch(l){case"style":yu(n,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Ds(n,u):(typeof u=="number"||typeof u=="bigint")&&Ds(n,""+u);break;case"onScroll":u!=null&&fn("scroll",n);break;case"onScrollEnd":u!=null&&fn("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wi.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),x=n[Tn]||null,x=x!=null?x[l]:null,typeof x=="function"&&n.removeEventListener(s,x,g),typeof u=="function")){typeof x!="function"&&x!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,u,g);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):Zi(n,l,u)}}}function Mi(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fn("error",n),fn("load",n);var u=!1,g=!1,x;for(x in l)if(l.hasOwnProperty(x)){var L=l[x];if(L!=null)switch(x){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Gn(n,s,x,L,l,null)}}g&&Gn(n,s,"srcSet",l.srcSet,l,null),u&&Gn(n,s,"src",l.src,l,null);return;case"input":fn("invalid",n);var Q=x=L=g=null,pe=null,Oe=null;for(u in l)if(l.hasOwnProperty(u)){var qe=l[u];if(qe!=null)switch(u){case"name":g=qe;break;case"type":L=qe;break;case"checked":pe=qe;break;case"defaultChecked":Oe=qe;break;case"value":x=qe;break;case"defaultValue":Q=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(i(137,s));break;default:Gn(n,s,u,qe,l,null)}}vu(n,x,Q,pe,Oe,L,g,!1);return;case"select":fn("invalid",n),u=L=x=null;for(g in l)if(l.hasOwnProperty(g)&&(Q=l[g],Q!=null))switch(g){case"value":x=Q;break;case"defaultValue":L=Q;break;case"multiple":u=Q;default:Gn(n,s,g,Q,l,null)}s=x,l=L,n.multiple=!!u,s!=null?Ai(n,!!u,s,!1):l!=null&&Ai(n,!!u,l,!0);return;case"textarea":fn("invalid",n),x=g=u=null;for(L in l)if(l.hasOwnProperty(L)&&(Q=l[L],Q!=null))switch(L){case"value":u=Q;break;case"defaultValue":g=Q;break;case"children":x=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(91));break;default:Gn(n,s,L,Q,l,null)}Ec(n,u,g,x);return;case"option":for(pe in l)if(l.hasOwnProperty(pe)&&(u=l[pe],u!=null))switch(pe){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Gn(n,s,pe,u,l,null)}return;case"dialog":fn("beforetoggle",n),fn("toggle",n),fn("cancel",n),fn("close",n);break;case"iframe":case"object":fn("load",n);break;case"video":case"audio":for(u=0;u<gf.length;u++)fn(gf[u],n);break;case"image":fn("error",n),fn("load",n);break;case"details":fn("toggle",n);break;case"embed":case"source":case"link":fn("error",n),fn("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in l)if(l.hasOwnProperty(Oe)&&(u=l[Oe],u!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Gn(n,s,Oe,u,l,null)}return;default:if(kc(s)){for(qe in l)l.hasOwnProperty(qe)&&(u=l[qe],u!==void 0&&R0(n,s,qe,u,l,void 0));return}}for(Q in l)l.hasOwnProperty(Q)&&(u=l[Q],u!=null&&Gn(n,s,Q,u,l,null))}function kw(n,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,L=null,Q=null,pe=null,Oe=null,qe=null;for(Re in l){var Ge=l[Re];if(l.hasOwnProperty(Re)&&Ge!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":pe=Ge;default:u.hasOwnProperty(Re)||Gn(n,s,Re,null,u,Ge)}}for(var Le in u){var Re=u[Le];if(Ge=l[Le],u.hasOwnProperty(Le)&&(Re!=null||Ge!=null))switch(Le){case"type":x=Re;break;case"name":g=Re;break;case"checked":Oe=Re;break;case"defaultChecked":qe=Re;break;case"value":L=Re;break;case"defaultValue":Q=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,s));break;default:Re!==Ge&&Gn(n,s,Le,Re,u,Ge)}}Al(n,L,Q,pe,Oe,qe,x,g);return;case"select":Re=L=Q=Le=null;for(x in l)if(pe=l[x],l.hasOwnProperty(x)&&pe!=null)switch(x){case"value":break;case"multiple":Re=pe;default:u.hasOwnProperty(x)||Gn(n,s,x,null,u,pe)}for(g in u)if(x=u[g],pe=l[g],u.hasOwnProperty(g)&&(x!=null||pe!=null))switch(g){case"value":Le=x;break;case"defaultValue":Q=x;break;case"multiple":L=x;default:x!==pe&&Gn(n,s,g,x,u,pe)}s=Q,l=L,u=Re,Le!=null?Ai(n,!!l,Le,!1):!!u!=!!l&&(s!=null?Ai(n,!!l,s,!0):Ai(n,!!l,l?[]:"",!1));return;case"textarea":Re=Le=null;for(Q in l)if(g=l[Q],l.hasOwnProperty(Q)&&g!=null&&!u.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Gn(n,s,Q,null,u,g)}for(L in u)if(g=u[L],x=l[L],u.hasOwnProperty(L)&&(g!=null||x!=null))switch(L){case"value":Le=g;break;case"defaultValue":Re=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==x&&Gn(n,s,L,g,u,x)}Tc(n,Le,Re);return;case"option":for(var Ct in l)if(Le=l[Ct],l.hasOwnProperty(Ct)&&Le!=null&&!u.hasOwnProperty(Ct))switch(Ct){case"selected":n.selected=!1;break;default:Gn(n,s,Ct,null,u,Le)}for(pe in u)if(Le=u[pe],Re=l[pe],u.hasOwnProperty(pe)&&Le!==Re&&(Le!=null||Re!=null))switch(pe){case"selected":n.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:Gn(n,s,pe,Le,u,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in l)Le=l[Pt],l.hasOwnProperty(Pt)&&Le!=null&&!u.hasOwnProperty(Pt)&&Gn(n,s,Pt,null,u,Le);for(Oe in u)if(Le=u[Oe],Re=l[Oe],u.hasOwnProperty(Oe)&&Le!==Re&&(Le!=null||Re!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(i(137,s));break;default:Gn(n,s,Oe,Le,u,Re)}return;default:if(kc(s)){for(var Yn in l)Le=l[Yn],l.hasOwnProperty(Yn)&&Le!==void 0&&!u.hasOwnProperty(Yn)&&R0(n,s,Yn,void 0,u,Le);for(qe in u)Le=u[qe],Re=l[qe],!u.hasOwnProperty(qe)||Le===Re||Le===void 0&&Re===void 0||R0(n,s,qe,Le,u,Re);return}}for(var Se in l)Le=l[Se],l.hasOwnProperty(Se)&&Le!=null&&!u.hasOwnProperty(Se)&&Gn(n,s,Se,null,u,Le);for(Ge in u)Le=u[Ge],Re=l[Ge],!u.hasOwnProperty(Ge)||Le===Re||Le==null&&Re==null||Gn(n,s,Ge,Le,u,Re)}function Kv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mw(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],x=g.transferSize,L=g.initiatorType,Q=g.duration;if(x&&Q&&Kv(L)){for(L=0,Q=g.responseEnd,u+=1;u<l.length;u++){var pe=l[u],Oe=pe.startTime;if(Oe>Q)break;var qe=pe.transferSize,Ge=pe.initiatorType;qe&&Kv(Ge)&&(pe=pe.responseEnd,L+=qe*(pe<Q?1:(Q-Oe)/(pe-Oe)))}if(--u,s+=8*(x+L)/(g.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var I0=null,V0=null;function Kd(n){return n.nodeType===9?n:n.ownerDocument}function Qv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function F0(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var B0=null;function Ow(){var n=window.event;return n&&n.type==="popstate"?n===B0?!1:(B0=n,!0):(B0=null,!1)}var e5=typeof setTimeout=="function"?setTimeout:void 0,Lw=typeof clearTimeout=="function"?clearTimeout:void 0,t5=typeof Promise=="function"?Promise:void 0,jw=typeof queueMicrotask=="function"?queueMicrotask:typeof t5<"u"?function(n){return t5.resolve(null).then(n).catch(Dw)}:e5;function Dw(n){setTimeout(function(){throw n})}function Ql(n){return n==="head"}function n5(n,s){var l=s,u=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(g),sh(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")bf(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,bf(l);for(var x=l.firstChild;x;){var L=x.nextSibling,Q=x.nodeName;x[Di]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=L}}else l==="body"&&bf(n.ownerDocument.body);l=g}while(l);sh(s)}function r5(n,s){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function q0(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":q0(l),Os(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function Rw(n,s,l,u){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Di])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=pa(n.nextSibling),n===null)break}return null}function Iw(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=pa(n.nextSibling),n===null))return null;return n}function i5(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=pa(n.nextSibling),n===null))return null;return n}function z0(n){return n.data==="$?"||n.data==="$~"}function P0(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Vw(n,s){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function pa(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var U0=null;function s5(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(s===0)return pa(n.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}n=n.nextSibling}return null}function a5(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return n;s--}else l!=="/$"&&l!=="/&"||s++}n=n.previousSibling}return null}function o5(n,s,l){switch(s=Kd(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function bf(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Os(n)}var ma=new Map,l5=new Set;function Qd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ul=re.d;re.d={f:Fw,r:Bw,D:qw,C:zw,L:Pw,m:Uw,X:Gw,S:Hw,M:Yw};function Fw(){var n=ul.f(),s=Ud();return n||s}function Bw(n){var s=Yi(n);s!==null&&s.tag===5&&s.type==="form"?N2(s):ul.r(n)}var nh=typeof document>"u"?null:document;function c5(n,s,l){var u=nh;if(u&&typeof s=="string"&&s){var g=Nr(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),l5.has(g)||(l5.add(g),n={rel:n,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),Mi(s,"link",n),nr(s),u.head.appendChild(s)))}}function qw(n){ul.D(n),c5("dns-prefetch",n,null)}function zw(n,s){ul.C(n,s),c5("preconnect",n,s)}function Pw(n,s,l){ul.L(n,s,l);var u=nh;if(u&&n&&s){var g='link[rel="preload"][as="'+Nr(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Nr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Nr(l.imageSizes)+'"]')):g+='[href="'+Nr(n)+'"]';var x=g;switch(s){case"style":x=rh(n);break;case"script":x=ih(n)}ma.has(x)||(n=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),ma.set(x,n),u.querySelector(g)!==null||s==="style"&&u.querySelector(yf(x))||s==="script"&&u.querySelector(xf(x))||(s=u.createElement("link"),Mi(s,"link",n),nr(s),u.head.appendChild(s)))}}function Uw(n,s){ul.m(n,s);var l=nh;if(l&&n){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Nr(u)+'"][href="'+Nr(n)+'"]',x=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ih(n)}if(!ma.has(x)&&(n=y({rel:"modulepreload",href:n},s),ma.set(x,n),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(xf(x)))return}u=l.createElement("link"),Mi(u,"link",n),nr(u),l.head.appendChild(u)}}}function Hw(n,s,l){ul.S(n,s,l);var u=nh;if(u&&n){var g=Wi(u).hoistableStyles,x=rh(n);s=s||"default";var L=g.get(x);if(!L){var Q={loading:0,preload:null};if(L=u.querySelector(yf(x)))Q.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},l),(l=ma.get(x))&&H0(n,l);var pe=L=u.createElement("link");nr(pe),Mi(pe,"link",n),pe._p=new Promise(function(Oe,qe){pe.onload=Oe,pe.onerror=qe}),pe.addEventListener("load",function(){Q.loading|=1}),pe.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Jd(L,s,u)}L={type:"stylesheet",instance:L,count:1,state:Q},g.set(x,L)}}}function Gw(n,s){ul.X(n,s);var l=nh;if(l&&n){var u=Wi(l).hoistableScripts,g=ih(n),x=u.get(g);x||(x=l.querySelector(xf(g)),x||(n=y({src:n,async:!0},s),(s=ma.get(g))&&G0(n,s),x=l.createElement("script"),nr(x),Mi(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function Yw(n,s){ul.M(n,s);var l=nh;if(l&&n){var u=Wi(l).hoistableScripts,g=ih(n),x=u.get(g);x||(x=l.querySelector(xf(g)),x||(n=y({src:n,async:!0,type:"module"},s),(s=ma.get(g))&&G0(n,s),x=l.createElement("script"),nr(x),Mi(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function u5(n,s,l,u){var g=(g=ue.current)?Qd(g):null;if(!g)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=rh(l.href),l=Wi(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=rh(l.href);var x=Wi(g).hoistableStyles,L=x.get(n);if(L||(g=g.ownerDocument||g,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,L),(x=g.querySelector(yf(n)))&&!x._p&&(L.instance=x,L.state.loading=5),ma.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ma.set(n,l),x||Ww(g,n,l,L.state))),s&&u===null)throw Error(i(528,""));return L}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ih(l),l=Wi(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function rh(n){return'href="'+Nr(n)+'"'}function yf(n){return'link[rel="stylesheet"]['+n+"]"}function h5(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function Ww(n,s,l,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Mi(s,"link",l),nr(s),n.head.appendChild(s))}function ih(n){return'[src="'+Nr(n)+'"]'}function xf(n){return"script[async]"+n}function f5(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Nr(l.href)+'"]');if(u)return s.instance=u,nr(u),u;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),nr(u),Mi(u,"style",g),Jd(u,l.precedence,n),s.instance=u;case"stylesheet":g=rh(l.href);var x=n.querySelector(yf(g));if(x)return s.state.loading|=4,s.instance=x,nr(x),x;u=h5(l),(g=ma.get(g))&&H0(u,g),x=(n.ownerDocument||n).createElement("link"),nr(x);var L=x;return L._p=new Promise(function(Q,pe){L.onload=Q,L.onerror=pe}),Mi(x,"link",u),s.state.loading|=4,Jd(x,l.precedence,n),s.instance=x;case"script":return x=ih(l.src),(g=n.querySelector(xf(x)))?(s.instance=g,nr(g),g):(u=l,(g=ma.get(x))&&(u=y({},l),G0(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),nr(g),Mi(g,"link",u),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Jd(u,l.precedence,n));return s.instance}function Jd(n,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,x=g,L=0;L<u.length;L++){var Q=u[L];if(Q.dataset.precedence===s)x=Q;else if(x!==g)break}x?x.parentNode.insertBefore(n,x.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function H0(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function G0(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var e1=null;function d5(n,s,l){if(e1===null){var u=new Map,g=e1=new Map;g.set(l,u)}else g=e1,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var x=l[g];if(!(x[Di]||x[pn]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var L=x.getAttribute(s)||"";L=n+L;var Q=u.get(L);Q?Q.push(x):u.set(L,[x])}}return u}function p5(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function Xw(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function m5(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Zw(n,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=rh(u.href),x=s.querySelector(yf(g));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=t1.bind(n),s.then(n,n)),l.state.loading|=4,l.instance=x,nr(x);return}x=s.ownerDocument||s,u=h5(u),(g=ma.get(g))&&H0(u,g),x=x.createElement("link"),nr(x);var L=x;L._p=new Promise(function(Q,pe){L.onload=Q,L.onerror=pe}),Mi(x,"link",u),l.instance=x}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=t1.bind(n),s.addEventListener("load",l),s.addEventListener("error",l))}}var Y0=0;function $w(n,s){return n.stylesheets&&n.count===0&&r1(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&r1(n,n.stylesheets),n.unsuspend){var x=n.unsuspend;n.unsuspend=null,x()}},6e4+s);0<n.imgBytes&&Y0===0&&(Y0=62500*Mw());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&r1(n,n.stylesheets),n.unsuspend)){var x=n.unsuspend;n.unsuspend=null,x()}},(n.imgBytes>Y0?50:800)+s);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function t1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)r1(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var n1=null;function r1(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,n1=new Map,s.forEach(Kw,n),n1=null,t1.call(n))}function Kw(n,s){if(!(s.state.loading&4)){var l=n1.get(n);if(l)var u=l.get(null);else{l=new Map,n1.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var L=g[x];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(l.set(L.dataset.precedence,L),u=L)}u&&l.set(null,u)}g=s.instance,L=g.getAttribute("data-precedence"),x=l.get(L)||u,x===u&&l.set(null,g),l.set(L,g),this.count++,u=t1.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),x?x.parentNode.insertBefore(g,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var _f={$$typeof:D,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Qw(n,s,l,u,g,x,L,Q,pe){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=We(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=We(0),this.hiddenUpdates=We(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function g5(n,s,l,u,g,x,L,Q,pe,Oe,qe,Ge){return n=new Qw(n,s,l,L,pe,Oe,qe,Ge,Q),s=1,x===!0&&(s|=24),x=pi(3,null,null,s),n.current=x,x.stateNode=n,s=ql(),s.refCount++,n.pooledCache=s,s.refCount++,x.memoizedState={element:u,isDehydrated:l,cache:s},ht(x),n}function v5(n){return n?(n=ii,n):ii}function b5(n,s,l,u,g,x){g=v5(g),u.context===null?u.context=g:u.pendingContext=g,u=zt(s),u.payload={element:l},x=x===void 0?null:x,x!==null&&(u.callback=x),l=an(n,u,s),l!==null&&(As(l,n,s),jn(l,n,s))}function y5(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function W0(n,s){y5(n,s),(n=n.alternate)&&y5(n,s)}function x5(n){if(n.tag===13||n.tag===31){var s=Fa(n,67108864);s!==null&&As(s,n,67108864),W0(n,67108864)}}function _5(n){if(n.tag===13||n.tag===31){var s=Hs();s=Bt(s);var l=Fa(n,s);l!==null&&As(l,n,s),W0(n,s)}}var i1=!0;function Jw(n,s,l,u){var g=K.T;K.T=null;var x=re.p;try{re.p=2,X0(n,s,l,u)}finally{re.p=x,K.T=g}}function e4(n,s,l,u){var g=K.T;K.T=null;var x=re.p;try{re.p=8,X0(n,s,l,u)}finally{re.p=x,K.T=g}}function X0(n,s,l,u){if(i1){var g=Z0(u);if(g===null)D0(n,s,u,s1,l),S5(n,u);else if(n4(g,n,s,l,u))u.stopPropagation();else if(S5(n,u),s&4&&-1<t4.indexOf(n)){for(;g!==null;){var x=Yi(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var L=lt(x.pendingLanes);if(L!==0){var Q=x;for(Q.pendingLanes|=2,Q.entangledLanes|=2;L;){var pe=1<<31-wt(L);Q.entanglements[1]|=pe,L&=~pe}Co(x),(Rn&6)===0&&(zd=kt()+500,mf(0))}}break;case 31:case 13:Q=Fa(x,2),Q!==null&&As(Q,x,2),Ud(),W0(x,2)}if(x=Z0(u),x===null&&D0(n,s,u,s1,l),x===g)break;g=x}g!==null&&u.stopPropagation()}else D0(n,s,u,null,l)}}function Z0(n){return n=qo(n),$0(n)}var s1=null;function $0(n){if(s1=null,n=Ri(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=h(s),n!==null)return n;n=null}else if(l===31){if(n=c(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return s1=n,null}function w5(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xt()){case Dt:return 2;case De:return 8;case ot:case ct:return 32;case _t:return 268435456;default:return 32}default:return 32}}var K0=!1,Jl=null,ec=null,tc=null,wf=new Map,Sf=new Map,nc=[],t4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S5(n,s){switch(n){case"focusin":case"focusout":Jl=null;break;case"dragenter":case"dragleave":ec=null;break;case"mouseover":case"mouseout":tc=null;break;case"pointerover":case"pointerout":wf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sf.delete(s.pointerId)}}function Af(n,s,l,u,g,x){return n===null||n.nativeEvent!==x?(n={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:x,targetContainers:[g]},s!==null&&(s=Yi(s),s!==null&&x5(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function n4(n,s,l,u,g){switch(s){case"focusin":return Jl=Af(Jl,n,s,l,u,g),!0;case"dragenter":return ec=Af(ec,n,s,l,u,g),!0;case"mouseover":return tc=Af(tc,n,s,l,u,g),!0;case"pointerover":var x=g.pointerId;return wf.set(x,Af(wf.get(x)||null,n,s,l,u,g)),!0;case"gotpointercapture":return x=g.pointerId,Sf.set(x,Af(Sf.get(x)||null,n,s,l,u,g)),!0}return!1}function A5(n){var s=Ri(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=h(l),s!==null){n.blockedOn=s,Ar(n.priority,function(){_5(l)});return}}else if(s===31){if(s=c(l),s!==null){n.blockedOn=s,Ar(n.priority,function(){_5(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function a1(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Z0(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);_a=u,l.target.dispatchEvent(u),_a=null}else return s=Yi(l),s!==null&&x5(s),n.blockedOn=l,!1;s.shift()}return!0}function N5(n,s,l){a1(n)&&l.delete(s)}function r4(){K0=!1,Jl!==null&&a1(Jl)&&(Jl=null),ec!==null&&a1(ec)&&(ec=null),tc!==null&&a1(tc)&&(tc=null),wf.forEach(N5),Sf.forEach(N5)}function o1(n,s){n.blockedOn===s&&(n.blockedOn=null,K0||(K0=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,r4)))}var l1=null;function C5(n){l1!==n&&(l1=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){l1===n&&(l1=null);for(var s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],g=n[s+2];if(typeof u!="function"){if($0(u||l)===null)continue;break}var x=Yi(l);x!==null&&(n.splice(s,3),s-=3,Zp(x,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function sh(n){function s(pe){return o1(pe,n)}Jl!==null&&o1(Jl,n),ec!==null&&o1(ec,n),tc!==null&&o1(tc,n),wf.forEach(s),Sf.forEach(s);for(var l=0;l<nc.length;l++){var u=nc[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<nc.length&&(l=nc[0],l.blockedOn===null);)A5(l),l.blockedOn===null&&nc.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],x=l[u+1],L=g[Tn]||null;if(typeof x=="function")L||C5(l);else if(L){var Q=null;if(x&&x.hasAttribute("formAction")){if(g=x,L=x[Tn]||null)Q=L.formAction;else if($0(g)!==null)continue}else Q=L.action;typeof Q=="function"?l[u+1]=Q:(l.splice(u,3),u-=3),C5(l)}}}function T5(){function n(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(L){return g=L})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function Q0(n){this._internalRoot=n}c1.prototype.render=Q0.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,u=Hs();b5(l,u,n,s,null,null)},c1.prototype.unmount=Q0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;b5(n.current,2,null,n,null,null),Ud(),s[br]=null}};function c1(n){this._internalRoot=n}c1.prototype.unstable_scheduleHydration=function(n){if(n){var s=en();n={blockedOn:null,target:n,priority:s};for(var l=0;l<nc.length&&s!==0&&s<nc[l].priority;l++);nc.splice(l,0,n),l===0&&A5(n)}};var E5=e.version;if(E5!=="19.2.0")throw Error(i(527,E5,"19.2.0"));re.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=d(s),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var i4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var u1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!u1.isDisabled&&u1.supportsFiber)try{tt=u1.inject(i4),nt=u1}catch{}}return Cf.createRoot=function(n,s){if(!a(n))throw Error(i(299));var l=!1,u="",g=R2,x=I2,L=V2;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(L=s.onRecoverableError)),s=g5(n,1,!1,null,null,l,u,null,g,x,L,T5),n[br]=s.current,j0(n),new Q0(s)},Cf.hydrateRoot=function(n,s,l){if(!a(n))throw Error(i(299));var u=!1,g="",x=R2,L=I2,Q=V2,pe=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(L=l.onCaughtError),l.onRecoverableError!==void 0&&(Q=l.onRecoverableError),l.formState!==void 0&&(pe=l.formState)),s=g5(n,1,!0,s,l??null,u,g,pe,x,L,Q,T5),s.context=v5(null),l=s.current,u=Hs(),u=Bt(u),g=zt(u),g.callback=null,an(l,g,u),l=u,s.current.lanes=l,Ze(s,l),Co(s),n[br]=s.current,j0(n),new c1(s)},Cf.version="19.2.0",Cf}var F5;function d4(){if(F5)return tm.exports;F5=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tm.exports=f4(),tm.exports}var p4=d4();const B5=r=>{let e;const t=new Set,i=(d,m)=>{const y=typeof d=="function"?d(e):d;if(!Object.is(y,e)){const _=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(v=>v(e,_))}},a=()=>e,c={setState:i,getState:a,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=r(i,a,c);return c},m4=(r=>r?B5(r):B5),g4=r=>r;function v4(r,e=g4){const t=dn.useSyncExternalStore(r.subscribe,dn.useCallback(()=>e(r.getState()),[r,e]),dn.useCallback(()=>e(r.getInitialState()),[r,e]));return dn.useDebugValue(t),t}const b4=r=>{const e=m4(r),t=i=>v4(e,i);return Object.assign(t,e),t},y4=(r=>b4);function x4(r,e){let t;try{t=r()}catch{return}return{getItem:a=>{var o;const h=f=>f===null?null:JSON.parse(f,void 0),c=(o=t.getItem(a))!=null?o:null;return c instanceof Promise?c.then(h):h(c)},setItem:(a,o)=>t.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>t.removeItem(a)}}const jm=r=>e=>{try{const t=r(e);return t instanceof Promise?t:{then(i){return jm(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return jm(i)(t)}}}},_4=(r,e)=>(t,i,a)=>{let o={storage:x4(()=>localStorage),partialize:N=>N,version:0,merge:(N,C)=>({...C,...N}),...e},h=!1;const c=new Set,f=new Set;let d=o.storage;if(!d)return r((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...N)},i,a);const m=()=>{const N=o.partialize({...i()});return d.setItem(o.name,{state:N,version:o.version})},y=a.setState;a.setState=(N,C)=>(y(N,C),m());const _=r((...N)=>(t(...N),m()),i,a);a.getInitialState=()=>_;let v;const S=()=>{var N,C;if(!d)return;h=!1,c.forEach(R=>{var D;return R((D=i())!=null?D:_)});const T=((C=o.onRehydrateStorage)==null?void 0:C.call(o,(N=i())!=null?N:_))||void 0;return jm(d.getItem.bind(d))(o.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==o.version){if(o.migrate){const D=o.migrate(R.state,R.version);return D instanceof Promise?D.then(F=>[!0,F]):[!0,D]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var D;const[F,B]=R;if(v=o.merge(B,(D=i())!=null?D:_),t(v,!0),F)return m()}).then(()=>{T?.(v,void 0),v=i(),h=!0,f.forEach(R=>R(v))}).catch(R=>{T?.(void 0,R)})};return a.persist={setOptions:N=>{o={...o,...N},N.storage&&(d=N.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>S(),hasHydrated:()=>h,onHydrate:N=>(c.add(N),()=>{c.delete(N)}),onFinishHydration:N=>(f.add(N),()=>{f.delete(N)})},o.skipHydration||S(),v||_},w4=_4,eu=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],jf=["C","G","D","A","E","B","F#","Db","Ab","Eb","Bb","F"],S4=[{major:"C",ii:"Dm",iii:"Em",diminished:"B"},{major:"G",ii:"Am",iii:"Bm",diminished:"F#"},{major:"D",ii:"Em",iii:"F#m",diminished:"C#"},{major:"A",ii:"Bm",iii:"C#m",diminished:"G#"},{major:"E",ii:"F#m",iii:"G#m",diminished:"D#"},{major:"B",ii:"C#m",iii:"D#m",diminished:"A#"},{major:"F#",ii:"G#m",iii:"A#m",diminished:"E#"},{major:"Db",ii:"Ebm",iii:"Fm",diminished:"C"},{major:"Ab",ii:"Bbm",iii:"Cm",diminished:"G"},{major:"Eb",ii:"Fm",iii:"Gm",diminished:"D"},{major:"Bb",ii:"Cm",iii:"Dm",diminished:"A"},{major:"F",ii:"Gm",iii:"Am",diminished:"E"}];function Pf(r){return r.includes("b")&&{Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#",Cb:"B",Fb:"E"}[r]||r}const A4={7:"dominant7",9:"dominant9",11:"dominant11",13:"dominant13",maj7:"major7",maj9:"major9",maj11:"major11",maj13:"major13",6:"major6",add9:"add9",m7:"minor7",m9:"minor9",m11:"minor11",m13:"minor13",m6:"minor6",dim:"diminished",dim7:"diminished7",m7b5:"halfDiminished7","m75":"halfDiminished7",7:"halfDiminished7",sus2:"sus2",sus4:"sus4","7sus4":"dominant7sus4"},N4={major:[0,4,7],minor:[0,3,7],diminished:[0,3,6],augmented:[0,4,8],sus2:[0,2,7],sus4:[0,5,7],major6:[0,4,7,9],minor6:[0,3,7,9],major7:[0,4,7,11],minor7:[0,3,7,10],dominant7:[0,4,7,10],diminished7:[0,3,6,9],halfDiminished7:[0,3,6,10],dominant7sus4:[0,5,7,10],add9:[0,4,7,14],major9:[0,4,7,11,14],minor9:[0,3,7,10,14],dominant9:[0,4,7,10,14],major11:[0,4,7,11,14,17],minor11:[0,3,7,10,14,17],dominant11:[0,4,7,10,14,17],major13:[0,4,7,11,14,21],minor13:[0,3,7,10,14,21],dominant13:[0,4,7,10,14,21]};function ph(r,e){const t=Pf(r),i=eu.indexOf(t);if(i===-1)return[];const a=A4[e]||e,o=N4[a];return o?o.map(h=>eu[(i+h)%12]):(console.warn(`Unknown chord quality: ${e} (resolved to ${a})`),eu.slice(i,i+1).concat([eu[(i+4)%12],eu[(i+7)%12]]))}function ah(r,e){if(!r||r.length===0)return r;const t=r.length-1,i=Math.max(0,Math.min(e,t));return i===0?r:[...r.slice(i),...r.slice(0,i)]}function C4(r){return Math.max(0,(r?.length||1)-1)}function q5(r){return["Root","1st","2nd","3rd","4th","5th","6th"][r]||`${r}th`}function T4(r,e,t,i){const o=`${r}${e==="major"||e==="maj"?"":e}`;if(!i||i===0||!t||t.length===0)return o;const h=t[i%t.length];return`${o}/${h}`}function E4(r){const e=["G","D","A","E","B","F#","C#"],t=["F","Bb","Eb","Ab","Db","Gb","Cb"],i=e.indexOf(r),a=t.indexOf(r);return i>=0?{sharps:i+1,flats:0}:a>=0?{sharps:0,flats:a+1}:{sharps:0,flats:0}}function hg(){return{C:"hsl(48, 95%, 58%)",G:"hsl(72, 75%, 50%)",D:"hsl(95, 65%, 48%)",A:"hsl(160, 60%, 45%)",E:"hsl(185, 70%, 50%)",B:"hsl(205, 75%, 55%)","F#":"hsl(235, 60%, 58%)",Gb:"hsl(235, 60%, 58%)",Db:"hsl(265, 55%, 55%)",Ab:"hsl(285, 50%, 52%)",Eb:"hsl(315, 60%, 55%)",Bb:"hsl(350, 70%, 58%)",F:"hsl(28, 85%, 55%)"}}function k4(r,e){const t=Pf(r),i=Pf(e),a=eu.indexOf(t),o=eu.indexOf(i);if(a===-1||o===-1)return"?";let h=(o-a+12)%12;return{0:"1",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[h]||"?"}function ex(r){const e=r.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(e){const t=parseInt(e[1]),i=parseInt(e[2]),a=parseInt(e[3]);let o=55;return t>=40&&t<=100?o=45:t>=160&&t<=200&&(o=50),i>60&&a>=45&&(o-=5),a>o?"#000000":"#ffffff"}return"#000000"}const Oi=[];for(let r=0;r<256;++r)Oi.push((r+256).toString(16).slice(1));function M4(r,e=0){return(Oi[r[e+0]]+Oi[r[e+1]]+Oi[r[e+2]]+Oi[r[e+3]]+"-"+Oi[r[e+4]]+Oi[r[e+5]]+"-"+Oi[r[e+6]]+Oi[r[e+7]]+"-"+Oi[r[e+8]]+Oi[r[e+9]]+"-"+Oi[r[e+10]]+Oi[r[e+11]]+Oi[r[e+12]]+Oi[r[e+13]]+Oi[r[e+14]]+Oi[r[e+15]]).toLowerCase()}let sm;const O4=new Uint8Array(16);function L4(){if(!sm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");sm=crypto.getRandomValues.bind(crypto)}return sm(O4)}const j4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),z5={randomUUID:j4};function D4(r,e,t){r=r||{};const i=r.random??r.rng?.()??L4();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,M4(i)}function Wa(r,e,t){return z5.randomUUID&&!r?z5.randomUUID():D4(r)}const Cs=[4,4],Dm=(r=Cs)=>{const[e,t]=r;return!e||!t?4:e*(4/t)},mh=r=>{const e=Dm(r);return{id:Wa(),beats:[{id:Wa(),chord:null,duration:e}]}},To=r=>r?`${r.sectionId}:${r.slotId}`:"",fg=r=>{const e=[];return r.forEach(t=>{t.measures.forEach(i=>{i.beats.forEach(a=>{e.push({sectionId:t.id,slotId:a.id,chord:a.chord??null})})})}),e},Qc=(r,e)=>{if(!e)return null;for(const t of r)if(t.id===e.sectionId){for(const i of t.measures)for(const a of i.beats)if(a.id===e.slotId)return a.chord??null}return null},P5=(r,e)=>e?fg(r).findIndex(i=>i.sectionId===e.sectionId&&i.slotId===e.slotId):-1,R4=(r,e,t)=>{const i=fg(r),a=i.findIndex(f=>f.sectionId===e.sectionId&&f.slotId===e.slotId),o=i.findIndex(f=>f.sectionId===t.sectionId&&f.slotId===t.slotId);if(a===-1||o===-1)return[];const[h,c]=a<=o?[a,o]:[o,a];return i.slice(h,c+1).map(({sectionId:f,slotId:d})=>({sectionId:f,slotId:d}))},E1=(r,e)=>e?r.some(t=>t.id===e.sectionId&&t.measures.some(i=>i.beats.some(a=>a.id===e.slotId))):!1,uh=(r,e,t,i,a)=>{const o=e&&t?{sectionId:e,slotId:t}:null,h=i.filter(m=>E1(r,m)),c=E1(r,o),f=h[h.length-1]||(c?o:null),d=a&&E1(r,a);return{selectedSectionId:f?.sectionId??null,selectedSlotId:f?.slotId??null,selectedSlots:h,selectionAnchor:d?a:h[0]??f??null}},Rm=100,Of=r=>typeof structuredClone=="function"?structuredClone(r):JSON.parse(JSON.stringify(r)),bi=r=>{const e=Of(r.currentSong),t=[...r.historyPast,e].slice(-Rm);return{historyPast:t,historyFuture:[],canUndo:t.length>0,canRedo:!1}},U5=(r,e,t,i,a)=>{const o=uh(r.sections,e,t,i,a),h=o.selectedSectionId&&o.selectedSlotId?{sectionId:o.selectedSectionId,slotId:o.selectedSlotId}:null,c=h?Qc(r.sections,h):null;return{...o,selectedChord:c}},I4=(r,e,t)=>{let i=!1;for(const a of r)for(const o of a.measures)for(const h of o.beats){if(i)return{sectionId:a.id,slotId:h.id};a.id===e&&h.id===t&&(i=!0)}return null},Tf={id:"default",title:"Untitled Song",artist:"",key:"C",tempo:120,timeSignature:[4,4],sections:[{id:"verse-1",name:"Verse 1",type:"verse",timeSignature:Cs,measures:Array(4).fill(null).map(()=>mh(Cs))},{id:"chorus-1",name:"Chorus",type:"chorus",timeSignature:Cs,measures:Array(4).fill(null).map(()=>mh(Cs))}],notes:"",createdAt:new Date,updatedAt:new Date},Rr=y4()(w4(r=>({currentSong:Tf,historyPast:[],historyFuture:[],canUndo:!1,canRedo:!1,selectedKey:"C",wheelRotation:0,wheelMode:"fixed",chordPanelVisible:!0,timelineVisible:!0,collapsedSections:{},selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,isPlaying:!1,playingSectionId:null,playingSlotId:null,isLooping:!1,tempo:120,volume:.8,instrument:"piano",isMuted:!1,setKey:e=>r({selectedKey:e}),rotateWheel:e=>r(t=>({wheelRotation:t.wheelMode==="rotating"?t.wheelRotation+(e==="cw"?-30:30):0})),toggleWheelMode:()=>r(e=>{const t=e.wheelMode==="rotating"?"fixed":"rotating";let i=0;if(t==="rotating"){const a=jf.indexOf(e.selectedKey);a!==-1&&(i=-(a*30))}return{wheelMode:t,wheelRotation:i}}),toggleChordPanel:()=>r(e=>({chordPanelVisible:!e.chordPanelVisible})),toggleTimeline:()=>r(e=>({timelineVisible:!e.timelineVisible})),toggleSectionCollapsed:e=>r(t=>{const i={...t.collapsedSections,[e]:!t.collapsedSections?.[e]};return i[e]||delete i[e],{collapsedSections:i}}),setSelectedChord:e=>r({selectedChord:e}),setSelectedSlot:(e,t)=>r(i=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,selectedChord:null};const a={sectionId:e,slotId:t},o=Qc(i.currentSong.sections,a);return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[a],selectionAnchor:a,selectedChord:o??null}}),setSelectedSlots:e=>r(t=>{const i=e.filter(Boolean),a=i[i.length-1]??null,o=Qc(t.currentSong.sections,a);return{selectedSlots:i,selectedSectionId:a?.sectionId??null,selectedSlotId:a?.slotId??null,selectionAnchor:i[0]??a??null,selectedChord:o??null}}),toggleSlotSelection:(e,t)=>r(i=>{const a=i.selectedSlots.some(d=>d.sectionId===e&&d.slotId===t),o=a?i.selectedSlots.filter(d=>!(d.sectionId===e&&d.slotId===t)):[...i.selectedSlots,{sectionId:e,slotId:t}],h=o[o.length-1]??null,c=Qc(i.currentSong.sections,h),f=a&&i.selectionAnchor&&To(i.selectionAnchor)===To({sectionId:e,slotId:t});return{selectedSlots:o,selectedSectionId:h?.sectionId??null,selectedSlotId:h?.slotId??null,selectionAnchor:f?o[0]??h??null:i.selectionAnchor??h??null,selectedChord:c??null}}),selectRangeTo:(e,t)=>r(i=>{const a={sectionId:e,slotId:t},o=i.selectionAnchor||i.selectedSlots[i.selectedSlots.length-1]||(i.selectedSectionId&&i.selectedSlotId?{sectionId:i.selectedSectionId,slotId:i.selectedSlotId}:a),c=E1(i.currentSong.sections,o)?o:a,f=R4(i.currentSong.sections,c,a),d=f.length?f:[a],m=Qc(i.currentSong.sections,a);return{selectedSlots:d,selectedSectionId:a.sectionId,selectedSlotId:a.slotId,selectionAnchor:c,selectedChord:m??null}}),moveSelection:(e,t,i="move")=>{let a=!1;return r(o=>{const h=fg(o.currentSong.sections),c=P5(o.currentSong.sections,e),f=P5(o.currentSong.sections,t);if(c===-1||f===-1)return{};const m=(o.selectedSlots.length?o.selectedSlots:[e]).map(j=>{const V=h.findIndex(Z=>Z.sectionId===j.sectionId&&Z.slotId===j.slotId);return V>=0?{idx:V,slot:h[V]}:null}).filter(j=>!!j).sort((j,V)=>j.idx-V.idx);if(!m.length)return{};const y=f-c,_=m.map(({idx:j})=>j+y);if(_.some(j=>j<0||j>=h.length))return{};const v=_.map(j=>h[j]);if(m.length===1&&i==="move"){const j=m[0].slot,V=v[0],Z=bi(o),k=o.currentSong.sections.map(K=>({...K,measures:K.measures.map(re=>({...re,beats:re.beats.map(ae=>ae.id===j.slotId&&K.id===j.sectionId?{...ae,chord:V.chord}:ae.id===V.slotId&&K.id===V.sectionId?{...ae,chord:j.chord}:ae)}))}));a=!0;const I=o.selectionAnchor&&To(o.selectionAnchor)===To(e),te=uh(k,t.sectionId,t.slotId,[{sectionId:V.sectionId,slotId:V.slotId}],I?{sectionId:V.sectionId,slotId:V.slotId}:o.selectionAnchor),$=te.selectedSectionId&&te.selectedSlotId?{sectionId:te.selectedSectionId,slotId:te.selectedSlotId}:null,ne=Qc(k,$);return{...Z,currentSong:{...o.currentSong,sections:k},selectedSectionId:te.selectedSectionId,selectedSlotId:te.selectedSlotId,selectedSlots:te.selectedSlots,selectionAnchor:te.selectionAnchor,selectedChord:ne??null}}const S=new Map;m.forEach((j,V)=>{S.set(To(v[V]),j.slot.chord??null)});const N=new Set;i==="move"&&m.forEach((j,V)=>{const Z=To(j.slot),k=To(v[V]);Z!==k&&N.add(Z)});const C=bi(o),T=o.currentSong.sections.map(j=>({...j,measures:j.measures.map(V=>({...V,beats:V.beats.map(Z=>{const k=To({sectionId:j.id,slotId:Z.id});return S.has(k)?{...Z,chord:S.get(k)??null}:N.has(k)?{...Z,chord:null}:Z})}))}));a=!0;const R=To(o.selectionAnchor),D=m.find(j=>To(j.slot)===R),F=D?{sectionId:v[m.indexOf(D)].sectionId,slotId:v[m.indexOf(D)].slotId}:o.selectionAnchor,B=uh(T,t.sectionId,t.slotId,v.map(j=>({sectionId:j.sectionId,slotId:j.slotId})),F??null),G=B.selectedSectionId&&B.selectedSlotId?{sectionId:B.selectedSectionId,slotId:B.selectedSlotId}:null,z=Qc(T,G);return{...C,currentSong:{...o.currentSong,sections:T},selectedSectionId:B.selectedSectionId,selectedSlotId:B.selectedSlotId,selectedSlots:B.selectedSlots,selectionAnchor:B.selectionAnchor,selectedChord:z??null}}),a},selectNextSlotAfter:(e,t)=>{let i=!1;return r(a=>{const o=I4(a.currentSong.sections,e,t);if(!o)return{};const h=a.currentSong.sections.find(c=>c.id===o.sectionId)?.measures.flatMap(c=>c.beats).find(c=>c.id===o.slotId)?.chord??null;return i=!0,{selectedSectionId:o.sectionId,selectedSlotId:o.slotId,selectedChord:h,selectedSlots:[{sectionId:o.sectionId,slotId:o.slotId}],selectionAnchor:{sectionId:o.sectionId,slotId:o.slotId}}}),i},setTempo:e=>r(t=>({...bi(t),tempo:e,currentSong:{...t.currentSong,tempo:e}})),setVolume:e=>r({volume:e}),setInstrument:e=>r({instrument:e}),setIsPlaying:e=>r({isPlaying:e}),setPlayingSlot:(e,t)=>r({playingSectionId:e,playingSlotId:t}),toggleLoop:()=>r(e=>({isLooping:!e.isLooping})),toggleMute:()=>r(e=>({isMuted:!e.isMuted})),setTitle:e=>r(t=>({...bi(t),currentSong:{...t.currentSong,title:e}})),loadSong:e=>r(t=>{const i=e.key||"C",a=e.tempo??Tf.tempo;let o=0;if(t.wheelMode==="rotating"){const c=jf.indexOf(i);c!==-1&&(o=-(c*30))}return{...bi(t),currentSong:{...e,tempo:a},selectedKey:i,wheelRotation:o,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:a}}),newSong:()=>r(e=>({...bi(e),currentSong:{...Tf,id:Wa(),title:"Untitled Song",createdAt:new Date,updatedAt:new Date,tempo:Tf.tempo,sections:[{id:Wa(),name:"Verse 1",type:"verse",timeSignature:Cs,measures:Array(4).fill(null).map(()=>mh(Cs))},{id:Wa(),name:"Chorus",type:"chorus",timeSignature:Cs,measures:Array(4).fill(null).map(()=>mh(Cs))}]},selectedKey:"C",wheelRotation:0,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:Tf.tempo})),addSection:e=>r(t=>{const i={id:Wa(),name:e.charAt(0).toUpperCase()+e.slice(1),type:e,timeSignature:t.currentSong.timeSignature||Cs,measures:Array(4).fill(null).map(()=>mh(t.currentSong.timeSignature||Cs))};return{...bi(t),currentSong:{...t.currentSong,sections:[...t.currentSong.sections,i]}}}),updateSection:(e,t)=>r(i=>({...bi(i),currentSong:{...i.currentSong,sections:i.currentSong.sections.map(o=>o.id===e?{...o,...t}:o)}})),removeSection:e=>r(t=>{const i=bi(t),{[e]:a,...o}=t.collapsedSections||{};return{...i,currentSong:{...t.currentSong,sections:t.currentSong.sections.filter(h=>h.id!==e)},collapsedSections:o}}),duplicateSection:e=>r(t=>{const i=t.currentSong.sections.find(f=>f.id===e);if(!i)return{};const a=bi(t),o={...i,id:Wa(),name:`${i.name} (Copy)`,timeSignature:i.timeSignature||t.currentSong.timeSignature||Cs,measures:i.measures.map(f=>({...f,id:Wa(),beats:f.beats.map(d=>({...d,id:Wa()}))}))},h=t.currentSong.sections.findIndex(f=>f.id===e),c=[...t.currentSong.sections];return c.splice(h+1,0,o),{...a,currentSong:{...t.currentSong,sections:c}}}),reorderSections:e=>r(t=>({...bi(t),currentSong:{...t.currentSong,sections:e}})),setSectionMeasures:(e,t)=>r(i=>{const a=Math.max(1,Math.min(32,Math.round(t))),o=i.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||i.currentSong.timeSignature||Cs;let m=[...f.measures];if(m.length<a)for(;m.length<a;)m.push(mh(d));else m.length>a&&(m=m.slice(0,a));return{...f,measures:m}}),h=uh(o,i.selectedSectionId,i.selectedSlotId,i.selectedSlots,i.selectionAnchor);return{...bi(i),currentSong:{...i.currentSong,sections:o},...h}}),setSectionTimeSignature:(e,t)=>r(i=>{const a=i.currentSong.sections.map(c=>{if(c.id!==e)return c;const f=Dm(t);return{...c,timeSignature:t,measures:c.measures.map(d=>({...d,beats:[{id:Wa(),chord:null,duration:f}]}))}}),o=uh(a,i.selectedSectionId,i.selectedSlotId,i.selectedSlots,i.selectionAnchor);return{...bi(i),currentSong:{...i.currentSong,sections:a},...o}}),setMeasureSubdivision:(e,t,i)=>r(a=>{const o=Math.max(1,Math.min(16,Math.round(i))),h=a.currentSong.sections.map(d=>{if(d.id!==e)return d;const m=d.timeSignature||a.currentSong.timeSignature||Cs,y=Dm(m);return{...d,measures:d.measures.map(_=>{if(_.id!==t)return _;const v=y/o,S=Array.from({length:o}).map((N,C)=>{const T=_.beats[C];return{id:T?.id??Wa(),chord:T?.chord??null,duration:v}});return{..._,beats:S}})}}),c=uh(h,a.selectedSectionId,a.selectedSlotId,a.selectedSlots,a.selectionAnchor);return{...bi(a),currentSong:{...a.currentSong,sections:h},...c}}),addChordToSlot:(e,t,i)=>r(a=>{const o=bi(a),h=a.currentSong.sections.map(c=>c.id!==t?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==i?d:{...d,chord:e})}))});return{...o,currentSong:{...a.currentSong,sections:h}}}),clearSlot:(e,t)=>r(i=>{if(!i.currentSong.sections.some(c=>c.id===e&&c.measures.some(f=>f.beats.some(d=>d.id===t&&d.chord))))return{};const o=bi(i),h=i.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==t?d:{...d,chord:null})}))});return{...o,currentSong:{...i.currentSong,sections:h}}}),clearTimeline:()=>r(e=>{if(!e.currentSong.sections.some(o=>o.measures.some(h=>h.beats.some(c=>c.chord!==null))))return{};const i=bi(e),a=e.currentSong.sections.map(o=>({...o,measures:o.measures.map(h=>({...h,beats:h.beats.map(c=>({...c,chord:null}))}))}));return{...i,currentSong:{...e.currentSong,sections:a},selectedChord:null}}),moveChord:(e,t,i,a)=>r(o=>{let h=null,c=null;if(o.currentSong.sections.forEach(m=>{m.measures.forEach(y=>{y.beats.forEach(_=>{_.id===t&&(h=_.chord),_.id===a&&(c=_.chord)})})}),!h&&!c)return{};const f=bi(o),d=o.currentSong.sections.map(m=>({...m,measures:m.measures.map(y=>({...y,beats:y.beats.map(_=>_.id===t?{..._,chord:c}:_.id===a?{..._,chord:h}:_)}))}));return{...f,currentSong:{...o.currentSong,sections:d}}}),undo:()=>r(e=>{if(!e.historyPast.length)return{};const t=e.historyPast[e.historyPast.length-1],i=e.historyPast.slice(0,-1),a=[Of(e.currentSong),...e.historyFuture].slice(0,Rm),o=U5(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Of(t),historyPast:i,historyFuture:a,canUndo:i.length>0,canRedo:a.length>0,tempo:t.tempo??e.tempo,...o}}),redo:()=>r(e=>{if(!e.historyFuture.length)return{};const t=e.historyFuture[0],i=e.historyFuture.slice(1),a=[...e.historyPast,Of(e.currentSong)].slice(-Rm),o=U5(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Of(t),historyPast:a,historyFuture:i,canUndo:a.length>0,canRedo:i.length>0,tempo:t.tempo??e.tempo,...o}})}),{name:"songwriter-wheel-storage",partialize:r=>({currentSong:r.currentSong,tempo:r.tempo,volume:r.volume,instrument:r.instrument,isMuted:r.isMuted})}));function cc(r,e,t,i){const a=(i-90)*Math.PI/180;return{x:r+t*Math.cos(a),y:e+t*Math.sin(a)}}function V4(r,e,t,i,a){const o=cc(r,e,t,i),h=cc(r,e,t,a),c=a-i<=180?"0":"1";return["M",o.x,o.y,"A",t,t,0,c,1,h.x,h.y].join(" ")}function F4(r,e,t,i,a,o){const h=cc(r,e,i,o),c=cc(r,e,i,a),f=cc(r,e,t,o),d=cc(r,e,t,a),m=o-a<=180?"0":"1";return["M",h.x,h.y,"A",i,i,0,m,0,c.x,c.y,"L",d.x,d.y,"A",t,t,0,m,1,f.x,f.y,"Z"].join(" ")}function tx(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=tx(r[e]))&&(i&&(i+=" "),i+=t)}else for(t in r)r[t]&&(i&&(i+=" "),i+=t);return i}function Li(){for(var r,e,t=0,i="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=tx(r))&&(i&&(i+=" "),i+=e);return i}const nx="15.1.22",H5=(r,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:r}),G5=(r,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:r}),Im=(r,e)=>({startTime:e,type:"setValue",value:r}),rx=(r,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:r}),ix=(r,e,{startTime:t,target:i,timeConstant:a})=>i+(e-i)*Math.exp((t-r)/a),gh=r=>r.type==="exponentialRampToValue",z1=r=>r.type==="linearRampToValue",oc=r=>gh(r)||z1(r),dg=r=>r.type==="setValue",dl=r=>r.type==="setValueCurve",P1=(r,e,t,i)=>{const a=r[e];return a===void 0?i:oc(a)||dg(a)?a.value:dl(a)?a.values[a.values.length-1]:ix(t,P1(r,e-1,a.startTime,i),a)},Y5=(r,e,t,i,a)=>t===void 0?[i.insertTime,a]:oc(t)?[t.endTime,t.value]:dg(t)?[t.startTime,t.value]:dl(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,P1(r,e-1,t.startTime,a)],Vm=r=>r.type==="cancelAndHold",Fm=r=>r.type==="cancelScheduledValues",ic=r=>Vm(r)||Fm(r)?r.cancelTime:gh(r)||z1(r)?r.endTime:r.startTime,W5=(r,e,t,{endTime:i,value:a})=>t===a?a:0<t&&0<a||t<0&&a<0?t*(a/t)**((r-e)/(i-e)):0,X5=(r,e,t,{endTime:i,value:a})=>t+(r-e)/(i-e)*(a-t),B4=(r,e)=>{const t=Math.floor(e),i=Math.ceil(e);return t===i?r[t]:(1-(e-t))*r[t]+(1-(i-e))*r[i]},q4=(r,{duration:e,startTime:t,values:i})=>{const a=(r-t)/e*(i.length-1);return B4(i,a)},f1=r=>r.type==="setTarget";class z4{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=ic(e);if(Vm(e)||Fm(e)){const i=this._automationEvents.findIndex(o=>Fm(e)&&dl(o)?o.startTime+o.duration>=t:ic(o)>=t),a=this._automationEvents[i];if(i!==-1&&(this._automationEvents=this._automationEvents.slice(0,i)),Vm(e)){const o=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&oc(a)){if(o!==void 0&&f1(o))throw new Error("The internal list is malformed.");const h=o===void 0?a.insertTime:dl(o)?o.startTime+o.duration:ic(o),c=o===void 0?this._defaultValue:dl(o)?o.values[o.values.length-1]:o.value,f=gh(a)?W5(t,h,c,a):X5(t,h,c,a),d=gh(a)?H5(f,t,this._currenTime):G5(f,t,this._currenTime);this._automationEvents.push(d)}if(o!==void 0&&f1(o)&&this._automationEvents.push(Im(this.getValue(t),t)),o!==void 0&&dl(o)&&o.startTime+o.duration>t){const h=t-o.startTime,c=(o.values.length-1)/o.duration,f=Math.max(2,1+Math.ceil(h*c)),d=h/(f-1)*c,m=o.values.slice(0,f);if(d<1)for(let y=1;y<f;y+=1){const _=d*y%1;m[y]=o.values[y-1]*(1-_)+o.values[y]*_}this._automationEvents[this._automationEvents.length-1]=rx(m,o.startTime,h)}}}else{const i=this._automationEvents.findIndex(h=>ic(h)>t),a=i===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[i-1];if(a!==void 0&&dl(a)&&ic(a)+a.duration>t)return!1;const o=gh(e)?H5(e.value,e.endTime,this._currenTime):z1(e)?G5(e.value,t,this._currenTime):e;if(i===-1)this._automationEvents.push(o);else{if(dl(e)&&t+e.duration>ic(this._automationEvents[i]))return!1;this._automationEvents.splice(i,0,o)}}return!0}flush(e){const t=this._automationEvents.findIndex(i=>ic(i)>e);if(t>1){const i=this._automationEvents.slice(t-1),a=i[0];f1(a)&&i.unshift(Im(P1(this._automationEvents,t-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=i}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(h=>ic(h)>e),i=this._automationEvents[t],a=(t===-1?this._automationEvents.length:t)-1,o=this._automationEvents[a];if(o!==void 0&&f1(o)&&(i===void 0||!oc(i)||i.insertTime>e))return ix(e,P1(this._automationEvents,a-1,o.startTime,this._defaultValue),o);if(o!==void 0&&dg(o)&&(i===void 0||!oc(i)))return o.value;if(o!==void 0&&dl(o)&&(i===void 0||!oc(i)||o.startTime+o.duration>e))return e<o.startTime+o.duration?q4(e,o):o.values[o.values.length-1];if(o!==void 0&&oc(o)&&(i===void 0||!oc(i)))return o.value;if(i!==void 0&&gh(i)){const[h,c]=Y5(this._automationEvents,a,o,i,this._defaultValue);return W5(e,h,c,i)}if(i!==void 0&&z1(i)){const[h,c]=Y5(this._automationEvents,a,o,i,this._defaultValue);return X5(e,h,c,i)}return this._defaultValue}}const P4=r=>({cancelTime:r,type:"cancelAndHold"}),U4=r=>({cancelTime:r,type:"cancelScheduledValues"}),H4=(r,e)=>({endTime:e,type:"exponentialRampToValue",value:r}),G4=(r,e)=>({endTime:e,type:"linearRampToValue",value:r}),Y4=(r,e,t)=>({startTime:e,target:r,timeConstant:t,type:"setTarget"}),W4=()=>new DOMException("","AbortError"),X4=r=>(e,t,[i,a,o],h)=>{r(e[a],[t,i,o],c=>c[0]===t&&c[1]===i,h)},Z4=r=>(e,t,i)=>{const a=[];for(let o=0;o<i.numberOfInputs;o+=1)a.push(new Set);r.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},$4=r=>(e,t)=>{r.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},Th=new WeakSet,sx=new WeakMap,pg=new WeakMap,ax=new WeakMap,mg=new WeakMap,pp=new WeakMap,ox=new WeakMap,Bm=new WeakMap,qm=new WeakMap,zm=new WeakMap,lx={construct(){return lx}},K4=r=>{try{const e=new Proxy(r,lx);new e}catch{return!1}return!0},Z5=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,$5=(r,e)=>{const t=[];let i=r.replace(/^[\s]+/,""),a=i.match(Z5);for(;a!==null;){const o=a[1].slice(1,-1),h=a[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,e).toString());t.push(h),i=i.slice(a[0].length).replace(/^[\s]+/,""),a=i.match(Z5)}return[t.join(";"),i]},K5=r=>{if(r!==void 0&&!Array.isArray(r))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Q5=r=>{if(!K4(r))throw new TypeError("The given value for processorCtor should be a constructor.");if(r.prototype===null||typeof r.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Q4=(r,e,t,i,a,o,h,c,f,d,m,y,_)=>{let v=0;return(S,N,C={credentials:"omit"})=>{const T=m.get(S);if(T!==void 0&&T.has(N))return Promise.resolve();const R=d.get(S);if(R!==void 0){const B=R.get(N);if(B!==void 0)return B}const D=o(S),F=D.audioWorklet===void 0?a(N).then(([B,G])=>{const[z,j]=$5(B,G),V=`${z};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${j}
})})(window,'_AWGS')`;return t(V)}).then(()=>{const B=_._AWGS.pop();if(B===void 0)throw new SyntaxError;i(D.currentTime,D.sampleRate,()=>B(class{},void 0,(G,z)=>{if(G.trim()==="")throw e();const j=qm.get(D);if(j!==void 0){if(j.has(G))throw e();Q5(z),K5(z.parameterDescriptors),j.set(G,z)}else Q5(z),K5(z.parameterDescriptors),qm.set(D,new Map([[G,z]]))},D.sampleRate,void 0,void 0))}):Promise.all([a(N),Promise.resolve(r(y,y))]).then(([[B,G],z])=>{const j=v+1;v=j;const[V,Z]=$5(B,G),$=`${V};((AudioWorkletProcessor,registerProcessor)=>{${Z}
})(${z?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${z?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${z?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${j}',class extends AudioWorkletProcessor{process(){return !1}})`,ne=new Blob([$],{type:"application/javascript; charset=utf-8"}),K=URL.createObjectURL(ne);return D.audioWorklet.addModule(K,C).then(()=>{if(c(D))return D;const re=h(D);return re.audioWorklet.addModule(K,C).then(()=>re)}).then(re=>{if(f===null)throw new SyntaxError;try{new f(re,`__sac${j}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(K))});return R===void 0?d.set(S,new Map([[N,F]])):R.set(N,F),F.then(()=>{const B=m.get(S);B===void 0?m.set(S,new Set([N])):B.add(N)}).finally(()=>{const B=d.get(S);B!==void 0&&B.delete(N)}),F}},Qa=(r,e)=>{const t=r.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},mp=(r,e)=>{const t=Array.from(r).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[i]=t;return r.delete(i),i},cx=(r,e,t,i)=>{const a=Qa(r,e),o=mp(a,h=>h[0]===t&&h[1]===i);return a.size===0&&r.delete(e),o},ed=r=>Qa(ox,r),Eh=r=>{if(Th.has(r))throw new Error("The AudioNode is already stored.");Th.add(r),ed(r).forEach(e=>e(!0))},ux=r=>"port"in r,td=r=>{if(!Th.has(r))throw new Error("The AudioNode is not stored.");Th.delete(r),ed(r).forEach(e=>e(!1))},Pm=(r,e)=>{!ux(r)&&e.every(t=>t.size===0)&&td(r)},J4=(r,e,t,i,a,o,h,c,f,d,m,y,_)=>{const v=new WeakMap;return(S,N,C,T,R)=>{const{activeInputs:D,passiveInputs:F}=o(N),{outputs:B}=o(S),G=c(S),z=j=>{const V=f(N),Z=f(S);if(j){const k=cx(F,S,C,T);r(D,S,k,!1),!R&&!y(S)&&t(Z,V,C,T),_(N)&&Eh(N)}else{const k=i(D,S,C,T);e(F,T,k,!1),!R&&!y(S)&&a(Z,V,C,T);const I=h(N);if(I===0)m(N)&&Pm(N,D);else{const te=v.get(N);te!==void 0&&clearTimeout(te),v.set(N,setTimeout(()=>{m(N)&&Pm(N,D)},I*1e3))}}};return d(B,[N,C,T],j=>j[0]===N&&j[1]===C&&j[2]===T,!0)?(G.add(z),m(S)?r(D,S,[C,T,z],!0):e(F,T,[S,C,z],!0),!0):!1}},eS=r=>(e,t,[i,a,o],h)=>{const c=e.get(i);c===void 0?e.set(i,new Set([[a,t,o]])):r(c,[a,t,o],f=>f[0]===a&&f[1]===t,h)},tS=r=>(e,t)=>{const i=r(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(i).connect(e.destination);const a=()=>{t.removeEventListener("ended",a),t.disconnect(i),i.disconnect()};t.addEventListener("ended",a)},nS=r=>(e,t)=>{r(e).add(t)},rS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},iS=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=a(c),m={...rS,...f},y=i(d,m),_=o(d)?e():null;super(c,!1,y,_),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=f,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},Gi=(r,e)=>r.context===e,sS=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Gi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=r(h,d)}return i.set(h,c),await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},U1=r=>{try{r.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Do=()=>new DOMException("","IndexSizeError"),gg=r=>{r.getChannelData=(e=>t=>{try{return e.call(r,t)}catch(i){throw i.code===12?Do():i}})(r.getChannelData)},aS={numberOfChannels:1},oS=(r,e,t,i,a,o,h,c)=>{let f=null;return class hx{constructor(m){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:_,sampleRate:v}={...aS,...m};f===null&&(f=new a(1,1,44100));const S=i!==null&&e(o,o)?new i({length:y,numberOfChannels:_,sampleRate:v}):f.createBuffer(_,y,v);if(S.numberOfChannels===0)throw t();return typeof S.copyFromChannel!="function"?(h(S),gg(S)):e(U1,()=>U1(S))||c(S),r.add(S),S}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===hx.prototype||r.has(m)}}},Ts=-34028234663852886e22,ns=-Ts,gl=r=>Th.has(r),lS={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},cS=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),_={...lS,...m},v=a(y,_),S=h(y),N=S?e():null;super(d,!1,v,N),this._audioBufferSourceNodeRenderer=N,this._isBufferNullified=!1,this._isBufferSet=_.buffer!==null,this._nativeAudioBufferSourceNode=v,this._onended=null,this._playbackRate=t(this,S,v.playbackRate,ns,Ts)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const m=typeof d=="function"?c(this,d):null;this._nativeAudioBufferSourceNode.onended=m;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===m?d:y}get playbackRate(){return this._playbackRate}start(d=0,m=0,y){if(this._nativeAudioBufferSourceNode.start(d,m,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[d,m]:[d,m,y]),this.context.state!=="closed"){Eh(this);const _=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",_),gl(this)&&td(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",_)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},uS=(r,e,t,i,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let y=t(d);const _=Gi(y,m);if(!_){const v={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=e(m,v),h!==null&&y.start(...h),c!==null&&y.stop(c)}return o.set(m,y),_?await r(m,d.playbackRate,y.playbackRate):await i(m,d.playbackRate,y.playbackRate),await a(d,m,y),y};return{set start(d){h=d},set stop(d){c=d},render(d,m){const y=o.get(m);return y!==void 0?Promise.resolve(y):f(d,m)}}},hS=r=>"playbackRate"in r,fS=r=>"frequency"in r&&"gain"in r,dS=r=>"offset"in r,pS=r=>!("frequency"in r)&&"gain"in r,mS=r=>"detune"in r&&"frequency"in r&&!("gain"in r),gS=r=>"pan"in r,rs=r=>Qa(sx,r),nd=r=>Qa(ax,r),Um=(r,e)=>{const{activeInputs:t}=rs(r);t.forEach(a=>a.forEach(([o])=>{e.includes(r)||Um(o,[...e,r])}));const i=hS(r)?[r.playbackRate]:ux(r)?Array.from(r.parameters.values()):fS(r)?[r.Q,r.detune,r.frequency,r.gain]:dS(r)?[r.offset]:pS(r)?[r.gain]:mS(r)?[r.detune,r.frequency]:gS(r)?[r.pan]:[];for(const a of i){const o=nd(a);o!==void 0&&o.activeInputs.forEach(([h])=>Um(h,e))}gl(r)&&td(r)},fx=r=>{Um(r.destination,[])},vS=r=>r===void 0||typeof r=="number"||typeof r=="string"&&(r==="balanced"||r==="interactive"||r==="playback"),bS=(r,e,t,i,a,o,h,c,f)=>class extends r{constructor(m={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new f(m)}catch(S){throw S.code===12&&S.message==="sampleRate is not in range"?t():S}if(y===null)throw i();if(!vS(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&y.sampleRate!==m.sampleRate)throw t();super(y,2);const{latencyHint:_}=m,{sampleRate:v}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:_==="balanced"?512/v:_==="interactive"||_===void 0?256/v:_==="playback"?1024/v:Math.max(2,Math.min(128,Math.round(_*v/128)))*128/v,this._nativeAudioContext=y,f.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const S=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",S)};y.addEventListener("statechange",S)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),fx(this)}))}createMediaElementSource(m){return new a(this,{mediaElement:m})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(m){return new h(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new c(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,y)=>{const _=()=>{this._nativeAudioContext.removeEventListener("statechange",_),this._nativeAudioContext.state==="running"?m():this.resume().then(m,y)};this._nativeAudioContext.addEventListener("statechange",_)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?e():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?e():m})}},yS=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),_=h(y),v=a(y,m,_),S=_?e(c):null;super(d,!1,v,S),this._isNodeOfNativeOfflineAudioContext=_,this._nativeAudioDestinationNode=v}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},xS=r=>{const e=new WeakMap,t=async(i,a)=>{const o=a.destination;return e.set(a,o),await r(i,a,o),o};return{render(i,a){const o=e.get(a);return o!==void 0?Promise.resolve(o):t(i,a)}}},_S=(r,e,t,i,a,o,h,c)=>(f,d)=>{const m=d.listener,y=()=>{const B=new Float32Array(1),G=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),z=h(d);let j=!1,V=[0,0,-1,0,1,0],Z=[0,0,0];const k=()=>{if(j)return;j=!0;const ne=i(d,256,9,0);ne.onaudioprocess=({inputBuffer:K})=>{const re=[o(K,B,0),o(K,B,1),o(K,B,2),o(K,B,3),o(K,B,4),o(K,B,5)];re.some((fe,_e)=>fe!==V[_e])&&(m.setOrientation(...re),V=re);const ae=[o(K,B,6),o(K,B,7),o(K,B,8)];ae.some((fe,_e)=>fe!==Z[_e])&&(m.setPosition(...ae),Z=ae)},G.connect(ne)},I=ne=>K=>{K!==V[ne]&&(V[ne]=K,m.setOrientation(...V))},te=ne=>K=>{K!==Z[ne]&&(Z[ne]=K,m.setPosition(...Z))},$=(ne,K,re)=>{const ae=t(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:K});ae.connect(G,0,ne),ae.start(),Object.defineProperty(ae.offset,"defaultValue",{get(){return K}});const fe=r({context:f},z,ae.offset,ns,Ts);return c(fe,"value",_e=>()=>_e.call(fe),_e=>Y=>{try{_e.call(fe,Y)}catch(O){if(O.code!==9)throw O}k(),z&&re(Y)}),fe.cancelAndHoldAtTime=(_e=>z?()=>{throw a()}:(...Y)=>{const O=_e.apply(fe,Y);return k(),O})(fe.cancelAndHoldAtTime),fe.cancelScheduledValues=(_e=>z?()=>{throw a()}:(...Y)=>{const O=_e.apply(fe,Y);return k(),O})(fe.cancelScheduledValues),fe.exponentialRampToValueAtTime=(_e=>z?()=>{throw a()}:(...Y)=>{const O=_e.apply(fe,Y);return k(),O})(fe.exponentialRampToValueAtTime),fe.linearRampToValueAtTime=(_e=>z?()=>{throw a()}:(...Y)=>{const O=_e.apply(fe,Y);return k(),O})(fe.linearRampToValueAtTime),fe.setTargetAtTime=(_e=>z?()=>{throw a()}:(...Y)=>{const O=_e.apply(fe,Y);return k(),O})(fe.setTargetAtTime),fe.setValueAtTime=(_e=>z?()=>{throw a()}:(...Y)=>{const O=_e.apply(fe,Y);return k(),O})(fe.setValueAtTime),fe.setValueCurveAtTime=(_e=>z?()=>{throw a()}:(...Y)=>{const O=_e.apply(fe,Y);return k(),O})(fe.setValueCurveAtTime),fe};return{forwardX:$(0,0,I(0)),forwardY:$(1,0,I(1)),forwardZ:$(2,-1,I(2)),positionX:$(6,0,te(0)),positionY:$(7,0,te(1)),positionZ:$(8,0,te(2)),upX:$(3,0,I(3)),upY:$(4,1,I(4)),upZ:$(5,0,I(5))}},{forwardX:_,forwardY:v,forwardZ:S,positionX:N,positionY:C,positionZ:T,upX:R,upY:D,upZ:F}=m.forwardX===void 0?y():m;return{get forwardX(){return _},get forwardY(){return v},get forwardZ(){return S},get positionX(){return N},get positionY(){return C},get positionZ(){return T},get upX(){return R},get upY(){return D},get upZ(){return F}}},H1=r=>"context"in r,rd=r=>H1(r[0]),hu=(r,e,t,i)=>{for(const a of r)if(t(a)){if(i)return!1;throw Error("The set contains at least one similar element.")}return r.add(e),!0},J5=(r,e,[t,i],a)=>{hu(r,[e,t,i],o=>o[0]===e&&o[1]===t,a)},eb=(r,[e,t,i],a)=>{const o=r.get(e);o===void 0?r.set(e,new Set([[t,i]])):hu(o,[t,i],h=>h[0]===t,a)},Oh=r=>"inputs"in r,G1=(r,e,t,i)=>{if(Oh(e)){const a=e.inputs[i];return r.connect(a,t,0),[a,t,0]}return r.connect(e,t,i),[e,t,i]},dx=(r,e,t)=>{for(const i of r)if(i[0]===e&&i[1]===t)return r.delete(i),i;return null},wS=(r,e,t)=>mp(r,i=>i[0]===e&&i[1]===t),px=(r,e)=>{if(!ed(r).delete(e))throw new Error("Missing the expected event listener.")},mx=(r,e,t)=>{const i=Qa(r,e),a=mp(i,o=>o[0]===t);return i.size===0&&r.delete(e),a},Y1=(r,e,t,i)=>{Oh(e)?r.disconnect(e.inputs[i],t,0):r.disconnect(e,t,i)},ur=r=>Qa(pg,r),Uf=r=>Qa(mg,r),ou=r=>Bm.has(r),k1=r=>!Th.has(r),tb=(r,e)=>new Promise(t=>{if(e!==null)t(!0);else{const i=r.createScriptProcessor(256,1,1),a=r.createGain(),o=r.createBuffer(1,2,44100),h=o.getChannelData(0);h[0]=1,h[1]=1;const c=r.createBufferSource();c.buffer=o,c.loop=!0,c.connect(i).connect(r.destination),c.connect(a),c.disconnect(a),i.onaudioprocess=f=>{const d=f.inputBuffer.getChannelData(0);Array.prototype.some.call(d,m=>m===1)?t(!0):t(!1),c.stop(),i.onaudioprocess=null,c.disconnect(i),i.disconnect(r.destination)},c.start()}}),am=(r,e)=>{const t=new Map;for(const i of r)for(const a of i){const o=t.get(a);t.set(a,o===void 0?1:o+1)}t.forEach((i,a)=>e(a,i))},W1=r=>"context"in r,SS=r=>{const e=new Map;r.connect=(t=>(i,a=0,o=0)=>{const h=W1(i)?t(i,a,o):t(i,a),c=e.get(i);return c===void 0?e.set(i,[{input:o,output:a}]):c.every(f=>f.input!==o||f.output!==a)&&c.push({input:o,output:a}),h})(r.connect.bind(r)),r.disconnect=(t=>(i,a,o)=>{if(t.apply(r),i===void 0)e.clear();else if(typeof i=="number")for(const[h,c]of e){const f=c.filter(d=>d.output!==i);f.length===0?e.delete(h):e.set(h,f)}else if(e.has(i))if(a===void 0)e.delete(i);else{const h=e.get(i);if(h!==void 0){const c=h.filter(f=>f.output!==a&&(f.input!==o||o===void 0));c.length===0?e.delete(i):e.set(i,c)}}for(const[h,c]of e)c.forEach(f=>{W1(h)?r.connect(h,f.output,f.input):r.connect(h,f.output)})})(r.disconnect)},AS=(r,e,t,i)=>{const{activeInputs:a,passiveInputs:o}=nd(e),{outputs:h}=rs(r),c=ed(r),f=d=>{const m=ur(r),y=Uf(e);if(d){const _=mx(o,r,t);J5(a,r,_,!1),!i&&!ou(r)&&m.connect(y,t)}else{const _=wS(a,r,t);eb(o,_,!1),!i&&!ou(r)&&m.disconnect(y,t)}};return hu(h,[e,t],d=>d[0]===e&&d[1]===t,!0)?(c.add(f),gl(r)?J5(a,r,[t,f],!0):eb(o,[r,t,f],!0),!0):!1},NS=(r,e,t,i)=>{const{activeInputs:a,passiveInputs:o}=rs(e),h=dx(a[i],r,t);return h===null?[cx(o,r,t,i)[2],!1]:[h[2],!0]},CS=(r,e,t)=>{const{activeInputs:i,passiveInputs:a}=nd(e),o=dx(i,r,t);return o===null?[mx(a,r,t)[1],!1]:[o[2],!0]},vg=(r,e,t,i,a)=>{const[o,h]=NS(r,t,i,a);if(o!==null&&(px(r,o),h&&!e&&!ou(r)&&Y1(ur(r),ur(t),i,a)),gl(t)){const{activeInputs:c}=rs(t);Pm(t,c)}},bg=(r,e,t,i)=>{const[a,o]=CS(r,t,i);a!==null&&(px(r,a),o&&!e&&!ou(r)&&ur(r).disconnect(Uf(t),i))},TS=(r,e)=>{const t=rs(r),i=[];for(const a of t.outputs)rd(a)?vg(r,e,...a):bg(r,e,...a),i.push(a[0]);return t.outputs.clear(),i},ES=(r,e,t)=>{const i=rs(r),a=[];for(const o of i.outputs)o[1]===t&&(rd(o)?vg(r,e,...o):bg(r,e,...o),a.push(o[0]),i.outputs.delete(o));return a},kS=(r,e,t,i,a)=>{const o=rs(r);return Array.from(o.outputs).filter(h=>h[0]===t&&(i===void 0||h[1]===i)&&(a===void 0||h[2]===a)).map(h=>(rd(h)?vg(r,e,...h):bg(r,e,...h),o.outputs.delete(h),h[0]))},MS=(r,e,t,i,a,o,h,c,f,d,m,y,_,v,S,N)=>class extends d{constructor(T,R,D,F){super(D),this._context=T,this._nativeAudioNode=D;const B=m(T);y(B)&&t(tb,()=>tb(B,N))!==!0&&SS(D),pg.set(this,D),ox.set(this,new Set),T.state!=="closed"&&R&&Eh(this),r(this,F,D)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(T){this._nativeAudioNode.channelCount=T}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(T){this._nativeAudioNode.channelCountMode=T}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(T){this._nativeAudioNode.channelInterpretation=T}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(T,R=0,D=0){if(R<0||R>=this._nativeAudioNode.numberOfOutputs)throw a();const F=m(this._context),B=S(F);if(_(T)||v(T))throw o();if(H1(T)){const j=ur(T);try{const Z=G1(this._nativeAudioNode,j,R,D),k=k1(this);(B||k)&&this._nativeAudioNode.disconnect(...Z),this.context.state!=="closed"&&!k&&k1(T)&&Eh(T)}catch(Z){throw Z.code===12?o():Z}if(e(this,T,R,D,B)){const Z=f([this],T);am(Z,i(B))}return T}const G=Uf(T);if(G.name==="playbackRate"&&G.maxValue===1024)throw h();try{this._nativeAudioNode.connect(G,R),(B||k1(this))&&this._nativeAudioNode.disconnect(G,R)}catch(j){throw j.code===12?o():j}if(AS(this,T,R,B)){const j=f([this],T);am(j,i(B))}}disconnect(T,R,D){let F;const B=m(this._context),G=S(B);if(T===void 0)F=TS(this,G);else if(typeof T=="number"){if(T<0||T>=this.numberOfOutputs)throw a();F=ES(this,G,T)}else{if(R!==void 0&&(R<0||R>=this.numberOfOutputs)||H1(T)&&D!==void 0&&(D<0||D>=T.numberOfInputs))throw a();if(F=kS(this,G,T,R,D),F.length===0)throw o()}for(const z of F){const j=f([this],z);am(j,c)}}},OS=(r,e,t,i,a,o,h,c,f,d,m,y,_)=>(v,S,N,C=null,T=null)=>{const R=N.value,D=new z4(R),F=S?i(D):null,B={get defaultValue(){return R},get maxValue(){return C===null?N.maxValue:C},get minValue(){return T===null?N.minValue:T},get value(){return N.value},set value(G){N.value=G,B.setValueAtTime(G,v.context.currentTime)},cancelAndHoldAtTime(G){if(typeof N.cancelAndHoldAtTime=="function")F===null&&D.flush(v.context.currentTime),D.add(a(G)),N.cancelAndHoldAtTime(G);else{const z=Array.from(D).pop();F===null&&D.flush(v.context.currentTime),D.add(a(G));const j=Array.from(D).pop();N.cancelScheduledValues(G),z!==j&&j!==void 0&&(j.type==="exponentialRampToValue"?N.exponentialRampToValueAtTime(j.value,j.endTime):j.type==="linearRampToValue"?N.linearRampToValueAtTime(j.value,j.endTime):j.type==="setValue"?N.setValueAtTime(j.value,j.startTime):j.type==="setValueCurve"&&N.setValueCurveAtTime(j.values,j.startTime,j.duration))}return B},cancelScheduledValues(G){return F===null&&D.flush(v.context.currentTime),D.add(o(G)),N.cancelScheduledValues(G),B},exponentialRampToValueAtTime(G,z){if(G===0)throw new RangeError;if(!Number.isFinite(z)||z<0)throw new RangeError;const j=v.context.currentTime;return F===null&&D.flush(j),Array.from(D).length===0&&(D.add(d(R,j)),N.setValueAtTime(R,j)),D.add(h(G,z)),N.exponentialRampToValueAtTime(G,z),B},linearRampToValueAtTime(G,z){const j=v.context.currentTime;return F===null&&D.flush(j),Array.from(D).length===0&&(D.add(d(R,j)),N.setValueAtTime(R,j)),D.add(c(G,z)),N.linearRampToValueAtTime(G,z),B},setTargetAtTime(G,z,j){return F===null&&D.flush(v.context.currentTime),D.add(f(G,z,j)),N.setTargetAtTime(G,z,j),B},setValueAtTime(G,z){return F===null&&D.flush(v.context.currentTime),D.add(d(G,z)),N.setValueAtTime(G,z),B},setValueCurveAtTime(G,z,j){const V=G instanceof Float32Array?G:new Float32Array(G);if(y!==null&&y.name==="webkitAudioContext"){const Z=z+j,k=v.context.sampleRate,I=Math.ceil(z*k),te=Math.floor(Z*k),$=te-I,ne=new Float32Array($);for(let re=0;re<$;re+=1){const ae=(V.length-1)/j*((I+re)/k-z),fe=Math.floor(ae),_e=Math.ceil(ae);ne[re]=fe===_e?V[fe]:(1-(ae-fe))*V[fe]+(1-(_e-ae))*V[_e]}F===null&&D.flush(v.context.currentTime),D.add(m(ne,z,j)),N.setValueCurveAtTime(ne,z,j);const K=te/k;K<Z&&_(B,ne[ne.length-1],K),_(B,V[V.length-1],Z)}else F===null&&D.flush(v.context.currentTime),D.add(m(V,z,j)),N.setValueCurveAtTime(V,z,j);return B}};return t.set(B,N),e.set(B,v),r(B,F),B},LS=r=>({replay(e){for(const t of r)if(t.type==="exponentialRampToValue"){const{endTime:i,value:a}=t;e.exponentialRampToValueAtTime(a,i)}else if(t.type==="linearRampToValue"){const{endTime:i,value:a}=t;e.linearRampToValueAtTime(a,i)}else if(t.type==="setTarget"){const{startTime:i,target:a,timeConstant:o}=t;e.setTargetAtTime(a,i,o)}else if(t.type==="setValue"){const{startTime:i,value:a}=t;e.setValueAtTime(a,i)}else if(t.type==="setValueCurve"){const{duration:i,startTime:a,values:o}=t;e.setValueCurveAtTime(o,a,i)}else throw new Error("Can't apply an unknown automation.")}});class gx{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((i,a)=>e.call(t,i,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const jS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},DS=(r,e,t,i,a,o,h,c,f,d,m,y,_,v)=>class extends e{constructor(N,C,T){var R;const D=c(N),F=f(D),B=m({...jS,...T});_(B);const G=qm.get(D),z=G?.get(C),j=F||D.state!=="closed"?D:(R=h(D))!==null&&R!==void 0?R:D,V=a(j,F?null:N.baseLatency,d,C,z,B),Z=F?i(C,B,z):null;super(N,!0,V,Z);const k=[];V.parameters.forEach((te,$)=>{const ne=t(this,F,te);k.push([$,ne])}),this._nativeAudioWorkletNode=V,this._onprocessorerror=null,this._parameters=new gx(k),F&&r(D,this);const{activeInputs:I}=o(this);y(V,I)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(N){const C=typeof N=="function"?v(this,N):null;this._nativeAudioWorkletNode.onprocessorerror=C;const T=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=T!==null&&T===C?N:T}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function X1(r,e,t,i,a){if(typeof r.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),r.copyFromChannel(e[t],i,a);else{const o=r.getChannelData(i);if(e[t].byteLength===0)e[t]=o.slice(a,a+128);else{const h=new Float32Array(o.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(h)}}}const vx=(r,e,t,i,a)=>{typeof r.copyToChannel=="function"?e[t].byteLength!==0&&r.copyToChannel(e[t],i,a):e[t].byteLength!==0&&r.getChannelData(i).set(e[t],a)},Z1=(r,e)=>{const t=[];for(let i=0;i<r;i+=1){const a=[],o=typeof e=="number"?e:e[i];for(let h=0;h<o;h+=1)a.push(new Float32Array(128));t.push(a)}return t},RS=(r,e)=>{const t=Qa(zm,r),i=ur(e);return Qa(t,i)},IS=async(r,e,t,i,a,o,h)=>{const c=e===null?Math.ceil(r.context.length/128)*128:e.length,f=i.channelCount*i.numberOfInputs,d=a.reduce((C,T)=>C+T,0),m=d===0?null:t.createBuffer(d,c,t.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const y=rs(r),_=await RS(t,r),v=Z1(i.numberOfInputs,i.channelCount),S=Z1(i.numberOfOutputs,a),N=Array.from(r.parameters.keys()).reduce((C,T)=>({...C,[T]:new Float32Array(128)}),{});for(let C=0;C<c;C+=128){if(i.numberOfInputs>0&&e!==null)for(let T=0;T<i.numberOfInputs;T+=1)for(let R=0;R<i.channelCount;R+=1)X1(e,v[T],R,R,C);o.parameterDescriptors!==void 0&&e!==null&&o.parameterDescriptors.forEach(({name:T},R)=>{X1(e,N,T,f+R,C)});for(let T=0;T<i.numberOfInputs;T+=1)for(let R=0;R<a[T];R+=1)S[T][R].byteLength===0&&(S[T][R]=new Float32Array(128));try{const T=v.map((D,F)=>y.activeInputs[F].size===0?[]:D),R=h(C/t.sampleRate,t.sampleRate,()=>_.process(T,S,N));if(m!==null)for(let D=0,F=0;D<i.numberOfOutputs;D+=1){for(let B=0;B<a[D];B+=1)vx(m,S[D],B,F+B,C);F+=a[D]}if(!R)break}catch(T){r.dispatchEvent(new ErrorEvent("processorerror",{colno:T.colno,filename:T.filename,lineno:T.lineno,message:T.message}));break}}return m},VS=(r,e,t,i,a,o,h,c,f,d,m,y,_,v,S,N)=>(C,T,R)=>{const D=new WeakMap;let F=null;const B=async(G,z)=>{let j=m(G),V=null;const Z=Gi(j,z),k=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(y===null){const I=k.reduce((K,re)=>K+re,0),te=a(z,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),$=[];for(let K=0;K<G.numberOfOutputs;K+=1)$.push(i(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:k[K]}));const ne=h(z,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1});ne.connect=e.bind(null,$),ne.disconnect=f.bind(null,$),V=[te,$,ne]}else Z||(j=new y(z,C));if(D.set(z,V===null?j:V[2]),V!==null){if(F===null){if(R===void 0)throw new Error("Missing the processor constructor.");if(_===null)throw new Error("Missing the native OfflineAudioContext constructor.");const re=G.channelCount*G.numberOfInputs,ae=R.parameterDescriptors===void 0?0:R.parameterDescriptors.length,fe=re+ae;F=IS(G,fe===0?null:await(async()=>{const Y=new _(fe,Math.ceil(G.context.length/128)*128,z.sampleRate),O=[],q=[];for(let ue=0;ue<T.numberOfInputs;ue+=1)O.push(h(Y,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),q.push(a(Y,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const J=await Promise.all(Array.from(G.parameters.values()).map(async ue=>{const me=o(Y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ue.value});return await v(Y,ue,me.offset),me})),se=i(Y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,re+ae)});for(let ue=0;ue<T.numberOfInputs;ue+=1){O[ue].connect(q[ue]);for(let me=0;me<T.channelCount;me+=1)q[ue].connect(se,me,ue*T.channelCount+me)}for(const[ue,me]of J.entries())me.connect(se,0,re+ue),me.start(0);return se.connect(Y.destination),await Promise.all(O.map(ue=>S(G,Y,ue))),N(Y)})(),z,T,k,R,d)}const I=await F,te=t(z,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[$,ne,K]=V;I!==null&&(te.buffer=I,te.start(0)),te.connect($);for(let re=0,ae=0;re<G.numberOfOutputs;re+=1){const fe=ne[re];for(let _e=0;_e<k[re];_e+=1)$.connect(fe,ae+_e,_e);ae+=k[re]}return K}if(Z)for(const[I,te]of G.parameters.entries())await r(z,te,j.parameters.get(I));else for(const[I,te]of G.parameters.entries())await v(z,te,j.parameters.get(I));return await S(G,z,j),j};return{render(G,z){c(z,G);const j=D.get(z);return j!==void 0?Promise.resolve(j):B(G,z)}}},FS=(r,e,t,i,a,o,h,c,f,d,m,y,_,v,S,N,C,T,R,D)=>class extends S{constructor(B,G){super(B,G),this._nativeContext=B,this._audioWorklet=r===void 0?void 0:{addModule:(z,j)=>r(this,z,j)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(B,G,z){return new t({length:G,numberOfChannels:B,sampleRate:z})}createBufferSource(){return new i(this)}createChannelMerger(B=6){return new o(this,{numberOfInputs:B})}createChannelSplitter(B=6){return new h(this,{numberOfOutputs:B})}createConstantSource(){return new c(this)}createConvolver(){return new f(this)}createDelay(B=1){return new m(this,{maxDelayTime:B})}createDynamicsCompressor(){return new y(this)}createGain(){return new _(this)}createIIRFilter(B,G){return new v(this,{feedback:G,feedforward:B})}createOscillator(){return new N(this)}createPanner(){return new C(this)}createPeriodicWave(B,G,z={disableNormalization:!1}){return new T(this,{...z,imag:G,real:B})}createStereoPanner(){return new R(this)}createWaveShaper(){return new D(this)}decodeAudioData(B,G,z){return d(this._nativeContext,B).then(j=>(typeof G=="function"&&G(j),j),j=>{throw typeof z=="function"&&z(j),j})}},BS={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},qS=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),_={...BS,...m},v=a(y,_),S=h(y),N=S?t():null;super(d,!1,v,N),this._Q=e(this,S,v.Q,ns,Ts),this._detune=e(this,S,v.detune,1200*Math.log2(ns),-1200*Math.log2(ns)),this._frequency=e(this,S,v.frequency,d.sampleRate/2,0),this._gain=e(this,S,v.gain,40*Math.log10(ns),Ts),this._nativeBiquadFilterNode=v,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,m,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,m,y)}catch(_){throw _.code===11?i():_}if(d.length!==m.length||m.length!==y.length)throw i()}},zS=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Gi(d,f);if(!m){const y={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=e(f,y)}return o.set(f,d),m?(await r(f,c.Q,d.Q),await r(f,c.detune,d.detune),await r(f,c.frequency,d.frequency),await r(f,c.gain,d.gain)):(await i(f,c.Q,d.Q),await i(f,c.detune,d.detune),await i(f,c.frequency,d.frequency),await i(f,c.gain,d.gain)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},PS=(r,e)=>(t,i)=>{const a=e.get(t);if(a!==void 0)return a;const o=r.get(t);if(o!==void 0)return o;try{const h=i();return h instanceof Promise?(r.set(t,h),h.catch(()=>!1).then(c=>(r.delete(t),e.set(t,c),c))):(e.set(t,h),h)}catch{return e.set(t,!1),!1}},US={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},HS=(r,e,t,i,a)=>class extends r{constructor(h,c){const f=i(h),d={...US,...c},m=t(f,d),y=a(f)?e():null;super(h,!1,m,y)}},GS=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Gi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=r(h,d)}return i.set(h,c),await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},YS={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},WS=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=i(c),m=o({...YS,...f}),y=t(d,m),_=a(d)?e():null;super(c,!1,y,_)}},XS=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Gi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=r(h,d)}return i.set(h,c),await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},ZS=r=>(e,t,i)=>r(t,e,i),$S=r=>(e,t,i=0,a=0)=>{const o=e[i];if(o===void 0)throw r();return W1(t)?o.connect(t,0,a):o.connect(t,0)},KS=r=>(e,t)=>{const i=r(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return i.buffer=a,i.loop=!0,i.connect(t),i.start(),()=>{i.stop(),i.disconnect(t)}},QS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},JS=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...QS,...d},_=i(m,y),v=o(m),S=v?t():null;super(f,!1,_,S),this._constantSourceNodeRenderer=S,this._nativeConstantSourceNode=_,this._offset=e(this,v,_.offset,ns,Ts),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeConstantSourceNode.onended=d;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===d?f:m}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){Eh(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),gl(this)&&td(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},e6=(r,e,t,i,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let y=t(d);const _=Gi(y,m);if(!_){const v={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=e(m,v),h!==null&&y.start(h),c!==null&&y.stop(c)}return o.set(m,y),_?await r(m,d.offset,y.offset):await i(m,d.offset,y.offset),await a(d,m,y),y};return{set start(d){h=d},set stop(d){c=d},render(d,m){const y=o.get(m);return y!==void 0?Promise.resolve(y):f(d,m)}}},t6=r=>e=>(r[0]=e,r[0]),n6={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},r6=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=i(c),m={...n6,...f},y=t(d,m),v=a(d)?e():null;super(c,!1,y,v),this._isBufferNullified=!1,this._nativeConvolverNode=y,m.buffer!==null&&o(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},i6=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Gi(c,h)){const d={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=r(h,d)}return i.set(h,c),Oh(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},s6=(r,e)=>(t,i,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,i,a)}catch(o){throw o.name==="SyntaxError"?r():o}},a6=()=>new DOMException("","DataCloneError"),nb=r=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(i=>{const a=()=>{t.onmessage=null,e.close(),t.close(),i()};t.onmessage=()=>a();try{e.postMessage(r,[r])}catch{}finally{a()}})},o6=(r,e,t,i,a,o,h,c,f,d,m)=>(y,_)=>{const v=h(y)?y:o(y);if(a.has(_)){const S=t();return Promise.reject(S)}try{a.add(_)}catch{}return e(f,()=>f(v))?v.decodeAudioData(_).then(S=>(nb(_).catch(()=>{}),e(c,()=>c(S))||m(S),r.add(S),S)):new Promise((S,N)=>{const C=async()=>{try{await nb(_)}catch{}},T=R=>{N(R),C()};try{v.decodeAudioData(_,R=>{typeof R.copyFromChannel!="function"&&(d(R),gg(R)),r.add(R),C().then(()=>S(R))},R=>{T(R===null?i():R)})}catch(R){T(R)}})},l6=(r,e,t,i,a,o,h,c)=>(f,d)=>{const m=e.get(f);if(m===void 0)throw new Error("Missing the expected cycle count.");const y=o(f.context),_=c(y);if(m===d){if(e.delete(f),!_&&h(f)){const v=i(f),{outputs:S}=t(f);for(const N of S)if(rd(N)){const C=i(N[0]);r(v,C,N[1],N[2])}else{const C=a(N[0]);v.connect(C,N[1])}}}else e.set(f,m-d)},c6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},u6=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...c6,...d},_=i(m,y),v=o(m),S=v?t(y.maxDelayTime):null;super(f,!1,_,S),this._delayTime=e(this,v,_.delayTime),h(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},h6=(r,e,t,i,a)=>o=>{const h=new WeakMap,c=async(f,d)=>{let m=t(f);const y=Gi(m,d);if(!y){const _={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:o};m=e(d,_)}return h.set(d,m),y?await r(d,f.delayTime,m.delayTime):await i(d,f.delayTime,m.delayTime),await a(f,d,m),m};return{render(f,d){const m=h.get(d);return m!==void 0?Promise.resolve(m):c(f,d)}}},f6=r=>(e,t,i,a)=>r(e[a],o=>o[0]===t&&o[1]===i),d6=r=>(e,t)=>{r(e).delete(t)},p6=r=>"delayTime"in r,m6=(r,e,t)=>function i(a,o){const h=H1(o)?o:t(r,o);if(p6(h))return[];if(a[0]===h)return[a];if(a.includes(h))return[];const{outputs:c}=e(h);return Array.from(c).map(f=>i([...a,h],f[0])).reduce((f,d)=>f.concat(d),[])},d1=(r,e,t)=>{const i=e[t];if(i===void 0)throw r();return i},g6=r=>(e,t=void 0,i=void 0,a=0)=>t===void 0?e.forEach(o=>o.disconnect()):typeof t=="number"?d1(r,e,t).disconnect():W1(t)?i===void 0?e.forEach(o=>o.disconnect(t)):a===void 0?d1(r,e,i).disconnect(t,0):d1(r,e,i).disconnect(t,0,a):i===void 0?e.forEach(o=>o.disconnect(t)):d1(r,e,i).disconnect(t,0),v6={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},b6=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),_={...v6,...m},v=i(y,_),S=h(y),N=S?t():null;super(d,!1,v,N),this._attack=e(this,S,v.attack),this._knee=e(this,S,v.knee),this._nativeDynamicsCompressorNode=v,this._ratio=e(this,S,v.ratio),this._release=e(this,S,v.release),this._threshold=e(this,S,v.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=m,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},y6=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Gi(d,f);if(!m){const y={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=e(f,y)}return o.set(f,d),m?(await r(f,c.attack,d.attack),await r(f,c.knee,d.knee),await r(f,c.ratio,d.ratio),await r(f,c.release,d.release),await r(f,c.threshold,d.threshold)):(await i(f,c.attack,d.attack),await i(f,c.knee,d.knee),await i(f,c.ratio,d.ratio),await i(f,c.release,d.release),await i(f,c.threshold,d.threshold)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},x6=()=>new DOMException("","EncodingError"),_6=r=>e=>new Promise((t,i)=>{if(r===null){i(new SyntaxError);return}const a=r.document.head;if(a===null)i(new SyntaxError);else{const o=r.document.createElement("script"),h=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(h),f=r.onerror,d=()=>{r.onerror=f,URL.revokeObjectURL(c)};r.onerror=(m,y,_,v,S)=>{if(y===c||y===r.location.href&&_===1&&v===1)return d(),i(S),!1;if(f!==null)return f(m,y,_,v,S)},o.onerror=()=>{d(),i(new SyntaxError)},o.onload=()=>{d(),t()},o.src=c,o.type="module",a.appendChild(o)}}),w6=r=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,i,a){if(i!==null){let o=this._listeners.get(i);o===void 0&&(o=r(this,i),typeof i=="function"&&this._listeners.set(i,o)),this._nativeEventTarget.addEventListener(t,o,a)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,i,a){const o=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,a)}},S6=r=>(e,t,i)=>{Object.defineProperties(r,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return i()}finally{r!==null&&(delete r.currentFrame,delete r.currentTime)}},A6=r=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw r()},N6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},C6=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=a(c),m={...N6,...f},y=i(d,m),_=o(d),v=_?t():null;super(c,!1,y,v),this._gain=e(this,_,y.gain,ns,Ts)}get gain(){return this._gain}},T6=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Gi(d,f);if(!m){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=e(f,y)}return o.set(f,d),m?await r(f,c.gain,d.gain):await i(f,c.gain,d.gain),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},E6=(r,e)=>t=>e(r,t),k6=r=>e=>{const t=r(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},M6=r=>e=>{var t;return(t=r.get(e))!==null&&t!==void 0?t:0},O6=r=>e=>{const t=r(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},L6=r=>e=>r.get(e),_i=()=>new DOMException("","InvalidStateError"),j6=r=>e=>{const t=r.get(e);if(t===void 0)throw _i();return t},D6=(r,e)=>t=>{let i=r.get(t);if(i!==void 0)return i;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,44100),r.set(t,i),i},R6=r=>e=>{const t=r.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},gp=()=>new DOMException("","InvalidAccessError"),I6=r=>{r.getFrequencyResponse=(e=>(t,i,a)=>{if(t.length!==i.length||i.length!==a.length)throw gp();return e.call(r,t,i,a)})(r.getFrequencyResponse)},V6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},F6=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=i(c),m=a(d),y={...V6,...f},_=e(d,m?null:c.baseLatency,y),v=m?t(y.feedback,y.feedforward):null;super(c,!1,_,v),I6(_),this._nativeIIRFilterNode=_,o(this,1)}getFrequencyResponse(c,f,d){return this._nativeIIRFilterNode.getFrequencyResponse(c,f,d)}},bx=(r,e,t,i,a,o,h,c,f,d,m)=>{const y=d.length;let _=c;for(let v=0;v<y;v+=1){let S=t[0]*d[v];for(let N=1;N<a;N+=1){const C=_-N&f-1;S+=t[N]*o[C],S-=r[N]*h[C]}for(let N=a;N<i;N+=1)S+=t[N]*o[_-N&f-1];for(let N=a;N<e;N+=1)S-=r[N]*h[_-N&f-1];o[_]=d[v],h[_]=S,_=_+1&f-1,m[v]=S}return _},B6=(r,e,t,i)=>{const a=t instanceof Float64Array?t:new Float64Array(t),o=i instanceof Float64Array?i:new Float64Array(i),h=a.length,c=o.length,f=Math.min(h,c);if(a[0]!==1){for(let S=0;S<h;S+=1)o[S]/=a[0];for(let S=1;S<c;S+=1)a[S]/=a[0]}const d=32,m=new Float32Array(d),y=new Float32Array(d),_=e.createBuffer(r.numberOfChannels,r.length,r.sampleRate),v=r.numberOfChannels;for(let S=0;S<v;S+=1){const N=r.getChannelData(S),C=_.getChannelData(S);m.fill(0),y.fill(0),bx(a,h,o,c,f,m,y,0,d,N,C)}return _},q6=(r,e,t,i,a)=>(o,h)=>{const c=new WeakMap;let f=null;const d=async(m,y)=>{let _=null,v=e(m);const S=Gi(v,y);if(y.createIIRFilter===void 0?_=r(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):S||(v=y.createIIRFilter(h,o)),c.set(y,_===null?v:_),_!==null){if(f===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const C=new t(m.context.destination.channelCount,m.context.length,y.sampleRate);f=(async()=>{await i(m,C,C.destination);const T=await a(C);return B6(T,y,o,h)})()}const N=await f;return _.buffer=N,_.start(0),_}return await i(m,y,v),v};return{render(m,y){const _=c.get(y);return _!==void 0?Promise.resolve(_):d(m,y)}}},z6=(r,e,t,i,a,o)=>h=>(c,f)=>{const d=r.get(c);if(d===void 0){if(!h&&o(c)){const m=i(c),{outputs:y}=t(c);for(const _ of y)if(rd(_)){const v=i(_[0]);e(m,v,_[1],_[2])}else{const v=a(_[0]);m.disconnect(v,_[1])}}r.set(c,f)}else r.set(c,d+f)},P6=(r,e)=>t=>{const i=r.get(t);return e(i)||e(t)},U6=(r,e)=>t=>r.has(t)||e(t),H6=(r,e)=>t=>r.has(t)||e(t),G6=(r,e)=>t=>{const i=r.get(t);return e(i)||e(t)},Y6=r=>e=>r!==null&&e instanceof r,W6=r=>e=>r!==null&&typeof r.AudioNode=="function"&&e instanceof r.AudioNode,X6=r=>e=>r!==null&&typeof r.AudioParam=="function"&&e instanceof r.AudioParam,Z6=(r,e)=>t=>r(t)||e(t),$6=r=>e=>r!==null&&e instanceof r,K6=r=>r!==null&&r.isSecureContext,Q6=(r,e,t,i)=>class extends r{constructor(o,h){const c=t(o),f=e(c,h);if(i(c))throw TypeError();super(o,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},J6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},eA=(r,e,t,i)=>class extends r{constructor(o,h){const c=t(o);if(i(c))throw new TypeError;const f={...J6,...h},d=e(c,f);super(o,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},tA=(r,e,t,i)=>class extends r{constructor(o,h){const c=t(o),f=e(c,h);if(i(c))throw new TypeError;super(o,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},nA=(r,e,t)=>class extends r{constructor(a,o){const h=t(a),c=e(h,o);super(a,!0,c,null)}},rA=(r,e,t,i,a,o)=>class extends t{constructor(c,f){super(c),this._nativeContext=c,pp.set(this,c),i(c)&&a.set(c,new Set),this._destination=new r(this,f),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const f=typeof c=="function"?o(this,c):null;this._nativeContext.onstatechange=f;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===f?c:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Hf=r=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=r.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},iA=(r,e)=>(t,i,a)=>{const o=new Set;return t.connect=(h=>(c,f=0,d=0)=>{const m=o.size===0;if(e(c))return h.call(t,c,f,d),r(o,[c,f,d],y=>y[0]===c&&y[1]===f&&y[2]===d,!0),m&&i(),c;h.call(t,c,f),r(o,[c,f],y=>y[0]===c&&y[1]===f,!0),m&&i()})(t.connect),t.disconnect=(h=>(c,f,d)=>{const m=o.size>0;if(c===void 0)h.apply(t),o.clear();else if(typeof c=="number"){h.call(t,c);for(const _ of o)_[1]===c&&o.delete(_)}else{e(c)?h.call(t,c,f,d):h.call(t,c,f);for(const _ of o)_[0]===c&&(f===void 0||_[1]===f)&&(d===void 0||_[2]===d)&&o.delete(_)}const y=o.size===0;m&&y&&a()})(t.disconnect),t},vr=(r,e,t)=>{const i=e[t];i!==void 0&&i!==r[t]&&(r[t]=i)},hi=(r,e)=>{vr(r,e,"channelCount"),vr(r,e,"channelCountMode"),vr(r,e,"channelInterpretation")},rb=r=>typeof r.getFloatTimeDomainData=="function",sA=r=>{r.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);r.getByteTimeDomainData(t);const i=Math.max(t.length,r.fftSize);for(let a=0;a<i;a+=1)e[a]=(t[a]-128)*.0078125;return e}},aA=(r,e)=>(t,i)=>{const a=t.createAnalyser();if(hi(a,i),!(i.maxDecibels>i.minDecibels))throw e();return vr(a,i,"fftSize"),vr(a,i,"maxDecibels"),vr(a,i,"minDecibels"),vr(a,i,"smoothingTimeConstant"),r(rb,()=>rb(a))||sA(a),a},oA=r=>r===null?null:r.hasOwnProperty("AudioBuffer")?r.AudioBuffer:null,Dr=(r,e,t)=>{const i=e[t];i!==void 0&&i!==r[t].value&&(r[t].value=i)},lA=r=>{r.start=(e=>{let t=!1;return(i=0,a=0,o)=>{if(t)throw _i();e.call(r,i,a,o),t=!0}})(r.start)},yg=r=>{r.start=(e=>(t=0,i=0,a)=>{if(typeof a=="number"&&a<0||i<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(r,t,i,a)})(r.start)},xg=r=>{r.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(r,t)})(r.stop)},cA=(r,e,t,i,a,o,h,c,f,d,m)=>(y,_)=>{const v=y.createBufferSource();return hi(v,_),Dr(v,_,"playbackRate"),vr(v,_,"buffer"),vr(v,_,"loop"),vr(v,_,"loopEnd"),vr(v,_,"loopStart"),e(t,()=>t(y))||lA(v),e(i,()=>i(y))||f(v),e(a,()=>a(y))||d(v,y),e(o,()=>o(y))||yg(v),e(h,()=>h(y))||m(v,y),e(c,()=>c(y))||xg(v),r(y,v),v},uA=r=>r===null?null:r.hasOwnProperty("AudioContext")?r.AudioContext:r.hasOwnProperty("webkitAudioContext")?r.webkitAudioContext:null,hA=(r,e)=>(t,i,a)=>{const o=t.destination;if(o.channelCount!==i)try{o.channelCount=i}catch{}a&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:i});const h=r(t,{channelCount:i,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(h,"channelCount",c=>()=>c.call(h),c=>f=>{c.call(h,f);try{o.channelCount=f}catch(d){if(f>o.maxChannelCount)throw d}}),e(h,"channelCountMode",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelCountMode=f}),e(h,"channelInterpretation",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelInterpretation=f}),Object.defineProperty(h,"maxChannelCount",{get:()=>o.maxChannelCount}),h.connect(o),h},fA=r=>r===null?null:r.hasOwnProperty("AudioWorkletNode")?r.AudioWorkletNode:null,dA=r=>{const{port1:e}=new MessageChannel;try{e.postMessage(r)}finally{e.close()}},pA=(r,e,t,i,a)=>(o,h,c,f,d,m)=>{if(c!==null)try{const y=new c(o,f,m),_=new Map;let v=null;if(Object.defineProperties(y,{channelCount:{get:()=>m.channelCount,set:()=>{throw r()}},channelCountMode:{get:()=>"explicit",set:()=>{throw r()}},onprocessorerror:{get:()=>v,set:S=>{typeof v=="function"&&y.removeEventListener("processorerror",v),v=typeof S=="function"?S:null,typeof v=="function"&&y.addEventListener("processorerror",v)}}}),y.addEventListener=(S=>(...N)=>{if(N[0]==="processorerror"){const C=typeof N[1]=="function"?N[1]:typeof N[1]=="object"&&N[1]!==null&&typeof N[1].handleEvent=="function"?N[1].handleEvent:null;if(C!==null){const T=_.get(N[1]);T!==void 0?N[1]=T:(N[1]=R=>{R.type==="error"?(Object.defineProperties(R,{type:{value:"processorerror"}}),C(R)):C(new ErrorEvent(N[0],{...R}))},_.set(C,N[1]))}}return S.call(y,"error",N[1],N[2]),S.call(y,...N)})(y.addEventListener),y.removeEventListener=(S=>(...N)=>{if(N[0]==="processorerror"){const C=_.get(N[1]);C!==void 0&&(_.delete(N[1]),N[1]=C)}return S.call(y,"error",N[1],N[2]),S.call(y,N[0],N[1],N[2])})(y.removeEventListener),m.numberOfOutputs!==0){const S=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(S).connect(o.destination),a(y,()=>S.disconnect(),()=>S.connect(o.destination))}return y}catch(y){throw y.code===11?i():y}if(d===void 0)throw i();return dA(m),e(o,h,d,m)},yx=(r,e)=>r===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(r*e))))),mA=r=>new Promise((e,t)=>{const{port1:i,port2:a}=new MessageChannel;i.onmessage=({data:o})=>{i.close(),a.close(),e(o)},i.onmessageerror=({data:o})=>{i.close(),a.close(),t(o)},a.postMessage(r)}),gA=async(r,e)=>{const t=await mA(e);return new r(t)},vA=(r,e,t,i)=>{let a=zm.get(r);a===void 0&&(a=new WeakMap,zm.set(r,a));const o=gA(t,i);return a.set(e,o),o},bA=(r,e,t,i,a,o,h,c,f,d,m,y,_)=>(v,S,N,C)=>{if(C.numberOfInputs===0&&C.numberOfOutputs===0)throw f();const T=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(T.some(H=>H<1))throw f();if(T.length!==C.numberOfOutputs)throw e();if(C.channelCountMode!=="explicit")throw f();const R=C.channelCount*C.numberOfInputs,D=T.reduce((H,je)=>H+je,0),F=N.parameterDescriptors===void 0?0:N.parameterDescriptors.length;if(R+F>6||D>6)throw f();const B=new MessageChannel,G=[],z=[];for(let H=0;H<C.numberOfInputs;H+=1)G.push(h(v,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),z.push(a(v,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const j=[];if(N.parameterDescriptors!==void 0)for(const{defaultValue:H,maxValue:je,minValue:at,name:Xe}of N.parameterDescriptors){const Ce=o(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:C.parameterData[Xe]!==void 0?C.parameterData[Xe]:H===void 0?0:H});Object.defineProperties(Ce.offset,{defaultValue:{get:()=>H===void 0?0:H},maxValue:{get:()=>je===void 0?ns:je},minValue:{get:()=>at===void 0?Ts:at}}),j.push(Ce)}const V=i(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,R+F)}),Z=yx(S,v.sampleRate),k=c(v,Z,R+F,Math.max(1,D)),I=a(v,{channelCount:Math.max(1,D),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,D)}),te=[];for(let H=0;H<C.numberOfOutputs;H+=1)te.push(i(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:T[H]}));for(let H=0;H<C.numberOfInputs;H+=1){G[H].connect(z[H]);for(let je=0;je<C.channelCount;je+=1)z[H].connect(V,je,H*C.channelCount+je)}const $=new gx(N.parameterDescriptors===void 0?[]:N.parameterDescriptors.map(({name:H},je)=>{const at=j[je];return at.connect(V,0,R+je),at.start(0),[H,at.offset]}));V.connect(k);let ne=C.channelInterpretation,K=null;const re=C.numberOfOutputs===0?[k]:te,ae={get bufferSize(){return Z},get channelCount(){return C.channelCount},set channelCount(H){throw t()},get channelCountMode(){return C.channelCountMode},set channelCountMode(H){throw t()},get channelInterpretation(){return ne},set channelInterpretation(H){for(const je of G)je.channelInterpretation=H;ne=H},get context(){return k.context},get inputs(){return G},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get onprocessorerror(){return K},set onprocessorerror(H){typeof K=="function"&&ae.removeEventListener("processorerror",K),K=typeof H=="function"?H:null,typeof K=="function"&&ae.addEventListener("processorerror",K)},get parameters(){return $},get port(){return B.port2},addEventListener(...H){return k.addEventListener(H[0],H[1],H[2])},connect:r.bind(null,re),disconnect:d.bind(null,re),dispatchEvent(...H){return k.dispatchEvent(H[0])},removeEventListener(...H){return k.removeEventListener(H[0],H[1],H[2])}},fe=new Map;B.port1.addEventListener=(H=>(...je)=>{if(je[0]==="message"){const at=typeof je[1]=="function"?je[1]:typeof je[1]=="object"&&je[1]!==null&&typeof je[1].handleEvent=="function"?je[1].handleEvent:null;if(at!==null){const Xe=fe.get(je[1]);Xe!==void 0?je[1]=Xe:(je[1]=Ce=>{m(v.currentTime,v.sampleRate,()=>at(Ce))},fe.set(at,je[1]))}}return H.call(B.port1,je[0],je[1],je[2])})(B.port1.addEventListener),B.port1.removeEventListener=(H=>(...je)=>{if(je[0]==="message"){const at=fe.get(je[1]);at!==void 0&&(fe.delete(je[1]),je[1]=at)}return H.call(B.port1,je[0],je[1],je[2])})(B.port1.removeEventListener);let _e=null;Object.defineProperty(B.port1,"onmessage",{get:()=>_e,set:H=>{typeof _e=="function"&&B.port1.removeEventListener("message",_e),_e=typeof H=="function"?H:null,typeof _e=="function"&&(B.port1.addEventListener("message",_e),B.port1.start())}}),N.prototype.port=B.port1;let Y=null;vA(v,ae,N,C).then(H=>Y=H);const q=Z1(C.numberOfInputs,C.channelCount),J=Z1(C.numberOfOutputs,T),se=N.parameterDescriptors===void 0?[]:N.parameterDescriptors.reduce((H,{name:je})=>({...H,[je]:new Float32Array(128)}),{});let ue=!0;const me=()=>{C.numberOfOutputs>0&&k.disconnect(I);for(let H=0,je=0;H<C.numberOfOutputs;H+=1){const at=te[H];for(let Xe=0;Xe<T[H];Xe+=1)I.disconnect(at,je+Xe,Xe);je+=T[H]}},de=new Map;k.onaudioprocess=({inputBuffer:H,outputBuffer:je})=>{if(Y!==null){const at=y(ae);for(let Xe=0;Xe<Z;Xe+=128){for(let Ce=0;Ce<C.numberOfInputs;Ce+=1)for(let Qe=0;Qe<C.channelCount;Qe+=1)X1(H,q[Ce],Qe,Qe,Xe);N.parameterDescriptors!==void 0&&N.parameterDescriptors.forEach(({name:Ce},Qe)=>{X1(H,se,Ce,R+Qe,Xe)});for(let Ce=0;Ce<C.numberOfInputs;Ce+=1)for(let Qe=0;Qe<T[Ce];Qe+=1)J[Ce][Qe].byteLength===0&&(J[Ce][Qe]=new Float32Array(128));try{const Ce=q.map((et,ft)=>{if(at[ft].size>0)return de.set(ft,Z/128),et;const kt=de.get(ft);return kt===void 0?[]:(et.every(Xt=>Xt.every(Dt=>Dt===0))&&(kt===1?de.delete(ft):de.set(ft,kt-1)),et)});ue=m(v.currentTime+Xe/v.sampleRate,v.sampleRate,()=>Y.process(Ce,J,se));for(let et=0,ft=0;et<C.numberOfOutputs;et+=1){for(let dt=0;dt<T[et];dt+=1)vx(je,J[et],dt,ft+dt,Xe);ft+=T[et]}}catch(Ce){ue=!1,ae.dispatchEvent(new ErrorEvent("processorerror",{colno:Ce.colno,filename:Ce.filename,lineno:Ce.lineno,message:Ce.message}))}if(!ue){for(let Ce=0;Ce<C.numberOfInputs;Ce+=1){G[Ce].disconnect(z[Ce]);for(let Qe=0;Qe<C.channelCount;Qe+=1)z[Xe].disconnect(V,Qe,Ce*C.channelCount+Qe)}if(N.parameterDescriptors!==void 0){const Ce=N.parameterDescriptors.length;for(let Qe=0;Qe<Ce;Qe+=1){const et=j[Qe];et.disconnect(V,0,R+Qe),et.stop()}}V.disconnect(k),k.onaudioprocess=null,xe?me():Ke();break}}}};let xe=!1;const Ne=h(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ue=()=>k.connect(Ne).connect(v.destination),Ke=()=>{k.disconnect(Ne),Ne.disconnect()},it=()=>{if(ue){Ke(),C.numberOfOutputs>0&&k.connect(I);for(let H=0,je=0;H<C.numberOfOutputs;H+=1){const at=te[H];for(let Xe=0;Xe<T[H];Xe+=1)I.connect(at,je+Xe,Xe);je+=T[H]}}xe=!0},st=()=>{ue&&(Ue(),me()),xe=!1};return Ue(),_(ae,it,st)},xx=(r,e)=>{const t=r.createBiquadFilter();return hi(t,e),Dr(t,e,"Q"),Dr(t,e,"detune"),Dr(t,e,"frequency"),Dr(t,e,"gain"),vr(t,e,"type"),t},yA=(r,e)=>(t,i)=>{const a=t.createChannelMerger(i.numberOfInputs);return r!==null&&r.name==="webkitAudioContext"&&e(t,a),hi(a,i),a},xA=r=>{const e=r.numberOfOutputs;Object.defineProperty(r,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw _i()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw _i()}}),Object.defineProperty(r,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw _i()}})},id=(r,e)=>{const t=r.createChannelSplitter(e.numberOfOutputs);return hi(t,e),xA(t),t},_A=(r,e,t,i,a)=>(o,h)=>{if(o.createConstantSource===void 0)return t(o,h);const c=o.createConstantSource();return hi(c,h),Dr(c,h,"offset"),e(i,()=>i(o))||yg(c),e(a,()=>a(o))||xg(c),r(o,c),c},Lh=(r,e)=>(r.connect=e.connect.bind(e),r.disconnect=e.disconnect.bind(e),r),wA=(r,e,t,i)=>(a,{offset:o,...h})=>{const c=a.createBuffer(1,2,44100),f=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=t(a,{...h,gain:o}),m=c.getChannelData(0);m[0]=1,m[1]=1,f.buffer=c,f.loop=!0;const y={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(S){d.channelCount=S},get channelCountMode(){return d.channelCountMode},set channelCountMode(S){d.channelCountMode=S},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(S){d.channelInterpretation=S},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return f.onended},set onended(S){f.onended=S},addEventListener(...S){return f.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return f.dispatchEvent(S[0])},removeEventListener(...S){return f.removeEventListener(S[0],S[1],S[2])},start(S=0){f.start.call(f,S)},stop(S=0){f.stop.call(f,S)}},_=()=>f.connect(d),v=()=>f.disconnect(d);return r(a,f),i(Lh(y,d),_,v)},SA=(r,e)=>(t,i)=>{const a=t.createConvolver();if(hi(a,i),i.disableNormalization===a.normalize&&(a.normalize=!i.disableNormalization),vr(a,i,"buffer"),i.channelCount>2||(e(a,"channelCount",o=>()=>o.call(a),o=>h=>{if(h>2)throw r();return o.call(a,h)}),i.channelCountMode==="max"))throw r();return e(a,"channelCountMode",o=>()=>o.call(a),o=>h=>{if(h==="max")throw r();return o.call(a,h)}),a},_x=(r,e)=>{const t=r.createDelay(e.maxDelayTime);return hi(t,e),Dr(t,e,"delayTime"),t},AA=r=>(e,t)=>{const i=e.createDynamicsCompressor();if(hi(i,t),t.channelCount>2||t.channelCountMode==="max")throw r();return Dr(i,t,"attack"),Dr(i,t,"knee"),Dr(i,t,"ratio"),Dr(i,t,"release"),Dr(i,t,"threshold"),i},ks=(r,e)=>{const t=r.createGain();return hi(t,e),Dr(t,e,"gain"),t},NA=r=>(e,t,i)=>{if(e.createIIRFilter===void 0)return r(e,t,i);const a=e.createIIRFilter(i.feedforward,i.feedback);return hi(a,i),a};function CA(r,e){const t=e[0]*e[0]+e[1]*e[1];return[(r[0]*e[0]+r[1]*e[1])/t,(r[1]*e[0]-r[0]*e[1])/t]}function TA(r,e){return[r[0]*e[0]-r[1]*e[1],r[0]*e[1]+r[1]*e[0]]}function ib(r,e){let t=[0,0];for(let i=r.length-1;i>=0;i-=1)t=TA(t,e),t[0]+=r[i];return t}const EA=(r,e,t,i)=>(a,o,{channelCount:h,channelCountMode:c,channelInterpretation:f,feedback:d,feedforward:m})=>{const y=yx(o,a.sampleRate),_=d instanceof Float64Array?d:new Float64Array(d),v=m instanceof Float64Array?m:new Float64Array(m),S=_.length,N=v.length,C=Math.min(S,N);if(S===0||S>20)throw i();if(_[0]===0)throw e();if(N===0||N>20)throw i();if(v[0]===0)throw e();if(_[0]!==1){for(let j=0;j<N;j+=1)v[j]/=_[0];for(let j=1;j<S;j+=1)_[j]/=_[0]}const T=t(a,y,h,h);T.channelCount=h,T.channelCountMode=c,T.channelInterpretation=f;const R=32,D=[],F=[],B=[];for(let j=0;j<h;j+=1){D.push(0);const V=new Float32Array(R),Z=new Float32Array(R);V.fill(0),Z.fill(0),F.push(V),B.push(Z)}T.onaudioprocess=j=>{const V=j.inputBuffer,Z=j.outputBuffer,k=V.numberOfChannels;for(let I=0;I<k;I+=1){const te=V.getChannelData(I),$=Z.getChannelData(I);D[I]=bx(_,S,v,N,C,F[I],B[I],D[I],R,te,$)}};const G=a.sampleRate/2;return Lh({get bufferSize(){return y},get channelCount(){return T.channelCount},set channelCount(j){T.channelCount=j},get channelCountMode(){return T.channelCountMode},set channelCountMode(j){T.channelCountMode=j},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(j){T.channelInterpretation=j},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},addEventListener(...j){return T.addEventListener(j[0],j[1],j[2])},dispatchEvent(...j){return T.dispatchEvent(j[0])},getFrequencyResponse(j,V,Z){if(j.length!==V.length||V.length!==Z.length)throw r();const k=j.length;for(let I=0;I<k;I+=1){const te=-Math.PI*(j[I]/G),$=[Math.cos(te),Math.sin(te)],ne=ib(v,$),K=ib(_,$),re=CA(ne,K);V[I]=Math.sqrt(re[0]*re[0]+re[1]*re[1]),Z[I]=Math.atan2(re[1],re[0])}},removeEventListener(...j){return T.removeEventListener(j[0],j[1],j[2])}},T)},kA=(r,e)=>r.createMediaElementSource(e.mediaElement),MA=(r,e)=>{const t=r.createMediaStreamDestination();return hi(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},OA=(r,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((o,h)=>o.id<h.id?-1:o.id>h.id?1:0);const i=t.slice(0,1),a=r.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(a,"mediaStream",{value:e}),a},LA=(r,e)=>(t,{mediaStreamTrack:i})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(i);const a=new MediaStream([i]),o=t.createMediaStreamSource(a);if(i.kind!=="audio")throw r();if(e(t))throw new TypeError;return o},jA=r=>r===null?null:r.hasOwnProperty("OfflineAudioContext")?r.OfflineAudioContext:r.hasOwnProperty("webkitOfflineAudioContext")?r.webkitOfflineAudioContext:null,DA=(r,e,t,i,a,o)=>(h,c)=>{const f=h.createOscillator();return hi(f,c),Dr(f,c,"detune"),Dr(f,c,"frequency"),c.periodicWave!==void 0?f.setPeriodicWave(c.periodicWave):vr(f,c,"type"),e(t,()=>t(h))||yg(f),e(i,()=>i(h))||o(f,h),e(a,()=>a(h))||xg(f),r(h,f),f},RA=r=>(e,t)=>{const i=e.createPanner();return i.orientationX===void 0?r(e,t):(hi(i,t),Dr(i,t,"orientationX"),Dr(i,t,"orientationY"),Dr(i,t,"orientationZ"),Dr(i,t,"positionX"),Dr(i,t,"positionY"),Dr(i,t,"positionZ"),vr(i,t,"coneInnerAngle"),vr(i,t,"coneOuterAngle"),vr(i,t,"coneOuterGain"),vr(i,t,"distanceModel"),vr(i,t,"maxDistance"),vr(i,t,"panningModel"),vr(i,t,"refDistance"),vr(i,t,"rolloffFactor"),i)},IA=(r,e,t,i,a,o,h,c,f,d)=>(m,{coneInnerAngle:y,coneOuterAngle:_,coneOuterGain:v,distanceModel:S,maxDistance:N,orientationX:C,orientationY:T,orientationZ:R,panningModel:D,positionX:F,positionY:B,positionZ:G,refDistance:z,rolloffFactor:j,...V})=>{const Z=m.createPanner();if(V.channelCount>2||V.channelCountMode==="max")throw h();hi(Z,V);const k={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},I=t(m,{...k,channelInterpretation:"speakers",numberOfInputs:6}),te=i(m,{...V,gain:1}),$=i(m,{...k,gain:1}),ne=i(m,{...k,gain:0}),K=i(m,{...k,gain:0}),re=i(m,{...k,gain:0}),ae=i(m,{...k,gain:0}),fe=i(m,{...k,gain:0}),_e=a(m,256,6,1),Y=o(m,{...k,curve:new Float32Array([1,1]),oversample:"none"});let O=[C,T,R],q=[F,B,G];const J=new Float32Array(1);_e.onaudioprocess=({inputBuffer:de})=>{const xe=[f(de,J,0),f(de,J,1),f(de,J,2)];xe.some((Ue,Ke)=>Ue!==O[Ke])&&(Z.setOrientation(...xe),O=xe);const Ne=[f(de,J,3),f(de,J,4),f(de,J,5)];Ne.some((Ue,Ke)=>Ue!==q[Ke])&&(Z.setPosition(...Ne),q=Ne)},Object.defineProperty(ne.gain,"defaultValue",{get:()=>0}),Object.defineProperty(K.gain,"defaultValue",{get:()=>0}),Object.defineProperty(re.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ae.gain,"defaultValue",{get:()=>0}),Object.defineProperty(fe.gain,"defaultValue",{get:()=>0});const se={get bufferSize(){},get channelCount(){return Z.channelCount},set channelCount(de){if(de>2)throw h();te.channelCount=de,Z.channelCount=de},get channelCountMode(){return Z.channelCountMode},set channelCountMode(de){if(de==="max")throw h();te.channelCountMode=de,Z.channelCountMode=de},get channelInterpretation(){return Z.channelInterpretation},set channelInterpretation(de){te.channelInterpretation=de,Z.channelInterpretation=de},get coneInnerAngle(){return Z.coneInnerAngle},set coneInnerAngle(de){Z.coneInnerAngle=de},get coneOuterAngle(){return Z.coneOuterAngle},set coneOuterAngle(de){Z.coneOuterAngle=de},get coneOuterGain(){return Z.coneOuterGain},set coneOuterGain(de){if(de<0||de>1)throw e();Z.coneOuterGain=de},get context(){return Z.context},get distanceModel(){return Z.distanceModel},set distanceModel(de){Z.distanceModel=de},get inputs(){return[te]},get maxDistance(){return Z.maxDistance},set maxDistance(de){if(de<0)throw new RangeError;Z.maxDistance=de},get numberOfInputs(){return Z.numberOfInputs},get numberOfOutputs(){return Z.numberOfOutputs},get orientationX(){return $.gain},get orientationY(){return ne.gain},get orientationZ(){return K.gain},get panningModel(){return Z.panningModel},set panningModel(de){Z.panningModel=de},get positionX(){return re.gain},get positionY(){return ae.gain},get positionZ(){return fe.gain},get refDistance(){return Z.refDistance},set refDistance(de){if(de<0)throw new RangeError;Z.refDistance=de},get rolloffFactor(){return Z.rolloffFactor},set rolloffFactor(de){if(de<0)throw new RangeError;Z.rolloffFactor=de},addEventListener(...de){return te.addEventListener(de[0],de[1],de[2])},dispatchEvent(...de){return te.dispatchEvent(de[0])},removeEventListener(...de){return te.removeEventListener(de[0],de[1],de[2])}};y!==se.coneInnerAngle&&(se.coneInnerAngle=y),_!==se.coneOuterAngle&&(se.coneOuterAngle=_),v!==se.coneOuterGain&&(se.coneOuterGain=v),S!==se.distanceModel&&(se.distanceModel=S),N!==se.maxDistance&&(se.maxDistance=N),C!==se.orientationX.value&&(se.orientationX.value=C),T!==se.orientationY.value&&(se.orientationY.value=T),R!==se.orientationZ.value&&(se.orientationZ.value=R),D!==se.panningModel&&(se.panningModel=D),F!==se.positionX.value&&(se.positionX.value=F),B!==se.positionY.value&&(se.positionY.value=B),G!==se.positionZ.value&&(se.positionZ.value=G),z!==se.refDistance&&(se.refDistance=z),j!==se.rolloffFactor&&(se.rolloffFactor=j),(O[0]!==1||O[1]!==0||O[2]!==0)&&Z.setOrientation(...O),(q[0]!==0||q[1]!==0||q[2]!==0)&&Z.setPosition(...q);const ue=()=>{te.connect(Z),r(te,Y,0,0),Y.connect($).connect(I,0,0),Y.connect(ne).connect(I,0,1),Y.connect(K).connect(I,0,2),Y.connect(re).connect(I,0,3),Y.connect(ae).connect(I,0,4),Y.connect(fe).connect(I,0,5),I.connect(_e).connect(m.destination)},me=()=>{te.disconnect(Z),c(te,Y,0,0),Y.disconnect($),$.disconnect(I),Y.disconnect(ne),ne.disconnect(I),Y.disconnect(K),K.disconnect(I),Y.disconnect(re),re.disconnect(I),Y.disconnect(ae),ae.disconnect(I),Y.disconnect(fe),fe.disconnect(I),I.disconnect(_e),_e.disconnect(m.destination)};return d(Lh(se,Z),ue,me)},VA=r=>(e,{disableNormalization:t,imag:i,real:a})=>{const o=i instanceof Float32Array?i:new Float32Array(i),h=a instanceof Float32Array?a:new Float32Array(a),c=e.createPeriodicWave(h,o,{disableNormalization:t});if(Array.from(i).length<2)throw r();return c},sd=(r,e,t,i)=>r.createScriptProcessor(e,t,i),FA=(r,e)=>(t,i)=>{const a=i.channelCountMode;if(a==="clamped-max")throw e();if(t.createStereoPanner===void 0)return r(t,i);const o=t.createStereoPanner();return hi(o,i),Dr(o,i,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>a,set:h=>{if(h!==a)throw e()}}),o},BA=(r,e,t,i,a,o)=>{const c=new Float32Array([1,1]),f=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...d,oversample:"none"},y=(S,N,C,T)=>{const R=new Float32Array(16385),D=new Float32Array(16385);for(let V=0;V<16385;V+=1){const Z=V/16384*f;R[V]=Math.cos(Z),D[V]=Math.sin(Z)}const F=t(S,{...d,gain:0}),B=i(S,{...m,curve:R}),G=i(S,{...m,curve:c}),z=t(S,{...d,gain:0}),j=i(S,{...m,curve:D});return{connectGraph(){N.connect(F),N.connect(G.inputs===void 0?G:G.inputs[0]),N.connect(z),G.connect(C),C.connect(B.inputs===void 0?B:B.inputs[0]),C.connect(j.inputs===void 0?j:j.inputs[0]),B.connect(F.gain),j.connect(z.gain),F.connect(T,0,0),z.connect(T,0,1)},disconnectGraph(){N.disconnect(F),N.disconnect(G.inputs===void 0?G:G.inputs[0]),N.disconnect(z),G.disconnect(C),C.disconnect(B.inputs===void 0?B:B.inputs[0]),C.disconnect(j.inputs===void 0?j:j.inputs[0]),B.disconnect(F.gain),j.disconnect(z.gain),F.disconnect(T,0,0),z.disconnect(T,0,1)}}},_=(S,N,C,T)=>{const R=new Float32Array(16385),D=new Float32Array(16385),F=new Float32Array(16385),B=new Float32Array(16385),G=Math.floor(16385/2);for(let re=0;re<16385;re+=1)if(re>G){const ae=(re-G)/(16384-G)*f;R[re]=Math.cos(ae),D[re]=Math.sin(ae),F[re]=0,B[re]=1}else{const ae=re/(16384-G)*f;R[re]=1,D[re]=0,F[re]=Math.cos(ae),B[re]=Math.sin(ae)}const z=e(S,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),j=t(S,{...d,gain:0}),V=i(S,{...m,curve:R}),Z=t(S,{...d,gain:0}),k=i(S,{...m,curve:D}),I=i(S,{...m,curve:c}),te=t(S,{...d,gain:0}),$=i(S,{...m,curve:F}),ne=t(S,{...d,gain:0}),K=i(S,{...m,curve:B});return{connectGraph(){N.connect(z),N.connect(I.inputs===void 0?I:I.inputs[0]),z.connect(j,0),z.connect(Z,0),z.connect(te,1),z.connect(ne,1),I.connect(C),C.connect(V.inputs===void 0?V:V.inputs[0]),C.connect(k.inputs===void 0?k:k.inputs[0]),C.connect($.inputs===void 0?$:$.inputs[0]),C.connect(K.inputs===void 0?K:K.inputs[0]),V.connect(j.gain),k.connect(Z.gain),$.connect(te.gain),K.connect(ne.gain),j.connect(T,0,0),te.connect(T,0,0),Z.connect(T,0,1),ne.connect(T,0,1)},disconnectGraph(){N.disconnect(z),N.disconnect(I.inputs===void 0?I:I.inputs[0]),z.disconnect(j,0),z.disconnect(Z,0),z.disconnect(te,1),z.disconnect(ne,1),I.disconnect(C),C.disconnect(V.inputs===void 0?V:V.inputs[0]),C.disconnect(k.inputs===void 0?k:k.inputs[0]),C.disconnect($.inputs===void 0?$:$.inputs[0]),C.disconnect(K.inputs===void 0?K:K.inputs[0]),V.disconnect(j.gain),k.disconnect(Z.gain),$.disconnect(te.gain),K.disconnect(ne.gain),j.disconnect(T,0,0),te.disconnect(T,0,0),Z.disconnect(T,0,1),ne.disconnect(T,0,1)}}},v=(S,N,C,T,R)=>{if(N===1)return y(S,C,T,R);if(N===2)return _(S,C,T,R);throw a()};return(S,{channelCount:N,channelCountMode:C,pan:T,...R})=>{if(C==="max")throw a();const D=r(S,{...R,channelCount:1,channelCountMode:C,numberOfInputs:2}),F=t(S,{...R,channelCount:N,channelCountMode:C,gain:1}),B=t(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:T});let{connectGraph:G,disconnectGraph:z}=v(S,N,F,B,D);Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"maxValue",{get:()=>1}),Object.defineProperty(B.gain,"minValue",{get:()=>-1});const j={get bufferSize(){},get channelCount(){return F.channelCount},set channelCount(I){F.channelCount!==I&&(V&&z(),{connectGraph:G,disconnectGraph:z}=v(S,I,F,B,D),V&&G()),F.channelCount=I},get channelCountMode(){return F.channelCountMode},set channelCountMode(I){if(I==="clamped-max"||I==="max")throw a();F.channelCountMode=I},get channelInterpretation(){return F.channelInterpretation},set channelInterpretation(I){F.channelInterpretation=I},get context(){return F.context},get inputs(){return[F]},get numberOfInputs(){return F.numberOfInputs},get numberOfOutputs(){return F.numberOfOutputs},get pan(){return B.gain},addEventListener(...I){return F.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return F.dispatchEvent(I[0])},removeEventListener(...I){return F.removeEventListener(I[0],I[1],I[2])}};let V=!1;const Z=()=>{G(),V=!0},k=()=>{z(),V=!1};return o(Lh(j,D),Z,k)}},qA=(r,e,t,i,a,o,h)=>(c,f)=>{const d=c.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,f);hi(d,f);const m=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(m!==null&&m.length<2)throw e();vr(d,{curve:m},"curve"),vr(d,f,"oversample");let y=null,_=!1;return h(d,"curve",N=>()=>N.call(d),N=>C=>(N.call(d,C),_&&(i(C)&&y===null?y=r(c,d):!i(C)&&y!==null&&(y(),y=null)),C)),a(d,()=>{_=!0,i(d.curve)&&(y=r(c,d))},()=>{_=!1,y!==null&&(y(),y=null)})},zA=(r,e,t,i,a)=>(o,{curve:h,oversample:c,...f})=>{const d=o.createWaveShaper(),m=o.createWaveShaper();hi(d,f),hi(m,f);const y=t(o,{...f,gain:1}),_=t(o,{...f,gain:-1}),v=t(o,{...f,gain:1}),S=t(o,{...f,gain:-1});let N=null,C=!1,T=null;const R={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(B){y.channelCount=B,_.channelCount=B,d.channelCount=B,v.channelCount=B,m.channelCount=B,S.channelCount=B},get channelCountMode(){return d.channelCountMode},set channelCountMode(B){y.channelCountMode=B,_.channelCountMode=B,d.channelCountMode=B,v.channelCountMode=B,m.channelCountMode=B,S.channelCountMode=B},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(B){y.channelInterpretation=B,_.channelInterpretation=B,d.channelInterpretation=B,v.channelInterpretation=B,m.channelInterpretation=B,S.channelInterpretation=B},get context(){return d.context},get curve(){return T},set curve(B){if(B!==null&&B.length<2)throw e();if(B===null)d.curve=B,m.curve=B;else{const G=B.length,z=new Float32Array(G+2-G%2),j=new Float32Array(G+2-G%2);z[0]=B[0],j[0]=-B[G-1];const V=Math.ceil((G+1)/2),Z=(G+1)/2-1;for(let k=1;k<V;k+=1){const I=k/V*Z,te=Math.floor(I),$=Math.ceil(I);z[k]=te===$?B[te]:(1-(I-te))*B[te]+(1-($-I))*B[$],j[k]=te===$?-B[G-1-te]:-((1-(I-te))*B[G-1-te])-(1-($-I))*B[G-1-$]}z[V]=G%2===1?B[V-1]:(B[V-2]+B[V-1])/2,d.curve=z,m.curve=j}T=B,C&&(i(T)&&N===null?N=r(o,y):N!==null&&(N(),N=null))},get inputs(){return[y]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(B){d.oversample=B,m.oversample=B},addEventListener(...B){return y.addEventListener(B[0],B[1],B[2])},dispatchEvent(...B){return y.dispatchEvent(B[0])},removeEventListener(...B){return y.removeEventListener(B[0],B[1],B[2])}};h!==null&&(R.curve=h instanceof Float32Array?h:new Float32Array(h)),c!==R.oversample&&(R.oversample=c);const D=()=>{y.connect(d).connect(v),y.connect(_).connect(m).connect(S).connect(v),C=!0,i(T)&&(N=r(o,y))},F=()=>{y.disconnect(d),d.disconnect(v),y.disconnect(_),_.disconnect(m),m.disconnect(S),S.disconnect(v),C=!1,N!==null&&(N(),N=null)};return a(Lh(R,v),D,F)},ss=()=>new DOMException("","NotSupportedError"),PA={numberOfChannels:1},UA=(r,e,t,i,a)=>class extends r{constructor(h,c,f){let d;if(typeof h=="number"&&c!==void 0&&f!==void 0)d={length:c,numberOfChannels:h,sampleRate:f};else if(typeof h=="object")d=h;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:y,sampleRate:_}={...PA,...d},v=i(y,m,_);e(Hf,()=>Hf(v))||v.addEventListener("statechange",(()=>{let S=0;const N=C=>{this._state==="running"&&(S>0?(v.removeEventListener("statechange",N),C.stopImmediatePropagation(),this._waitForThePromiseToSettle(C)):S+=1)};return N})()),super(v,y),this._length=m,this._nativeOfflineAudioContext=v,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,fx(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},HA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},GA=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...HA,...d},_=t(m,y),v=o(m),S=v?i():null,N=f.sampleRate/2;super(f,!1,_,S),this._detune=e(this,v,_.detune,153600,-153600),this._frequency=e(this,v,_.frequency,N,-N),this._nativeOscillatorNode=_,this._onended=null,this._oscillatorNodeRenderer=S,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeOscillatorNode.onended=d;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===d?f:m}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){Eh(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),gl(this)&&td(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},YA=(r,e,t,i,a)=>()=>{const o=new WeakMap;let h=null,c=null,f=null;const d=async(m,y)=>{let _=t(m);const v=Gi(_,y);if(!v){const S={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,detune:_.detune.value,frequency:_.frequency.value,periodicWave:h===null?void 0:h,type:_.type};_=e(y,S),c!==null&&_.start(c),f!==null&&_.stop(f)}return o.set(y,_),v?(await r(y,m.detune,_.detune),await r(y,m.frequency,_.frequency)):(await i(y,m.detune,_.detune),await i(y,m.frequency,_.frequency)),await a(m,y,_),_};return{set periodicWave(m){h=m},set start(m){c=m},set stop(m){f=m},render(m,y){const _=o.get(y);return _!==void 0?Promise.resolve(_):d(m,y)}}},WA={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},XA=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...WA,...d},_=t(m,y),v=o(m),S=v?i():null;super(f,!1,_,S),this._nativePannerNode=_,this._orientationX=e(this,v,_.orientationX,ns,Ts),this._orientationY=e(this,v,_.orientationY,ns,Ts),this._orientationZ=e(this,v,_.orientationZ,ns,Ts),this._positionX=e(this,v,_.positionX,ns,Ts),this._positionY=e(this,v,_.positionY,ns,Ts),this._positionZ=e(this,v,_.positionZ,ns,Ts),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},ZA=(r,e,t,i,a,o,h,c,f,d)=>()=>{const m=new WeakMap;let y=null;const _=async(v,S)=>{let N=null,C=o(v);const T={channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation},R={...T,coneInnerAngle:C.coneInnerAngle,coneOuterAngle:C.coneOuterAngle,coneOuterGain:C.coneOuterGain,distanceModel:C.distanceModel,maxDistance:C.maxDistance,panningModel:C.panningModel,refDistance:C.refDistance,rolloffFactor:C.rolloffFactor},D=Gi(C,S);if("bufferSize"in C)N=i(S,{...T,gain:1});else if(!D){const F={...R,orientationX:C.orientationX.value,orientationY:C.orientationY.value,orientationZ:C.orientationZ.value,positionX:C.positionX.value,positionY:C.positionY.value,positionZ:C.positionZ.value};C=a(S,F)}if(m.set(S,N===null?C:N),N!==null){if(y===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const k=new h(6,v.context.length,S.sampleRate),I=e(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});I.connect(k.destination),y=(async()=>{const te=await Promise.all([v.orientationX,v.orientationY,v.orientationZ,v.positionX,v.positionY,v.positionZ].map(async($,ne)=>{const K=t(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ne===0?1:0});return await c(k,$,K.offset),K}));for(let $=0;$<6;$+=1)te[$].connect(I,0,$),te[$].start(0);return d(k)})()}const F=await y,B=i(S,{...T,gain:1});await f(v,S,B);const G=[];for(let k=0;k<F.numberOfChannels;k+=1)G.push(F.getChannelData(k));let z=[G[0][0],G[1][0],G[2][0]],j=[G[3][0],G[4][0],G[5][0]],V=i(S,{...T,gain:1}),Z=a(S,{...R,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:j[0],positionY:j[1],positionZ:j[2]});B.connect(V).connect(Z.inputs[0]),Z.connect(N);for(let k=128;k<F.length;k+=128){const I=[G[0][k],G[1][k],G[2][k]],te=[G[3][k],G[4][k],G[5][k]];if(I.some(($,ne)=>$!==z[ne])||te.some(($,ne)=>$!==j[ne])){z=I,j=te;const $=k/S.sampleRate;V.gain.setValueAtTime(0,$),V=i(S,{...T,gain:0}),Z=a(S,{...R,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:j[0],positionY:j[1],positionZ:j[2]}),V.gain.setValueAtTime(1,$),B.connect(V).connect(Z.inputs[0]),Z.connect(N)}}return N}return D?(await r(S,v.orientationX,C.orientationX),await r(S,v.orientationY,C.orientationY),await r(S,v.orientationZ,C.orientationZ),await r(S,v.positionX,C.positionX),await r(S,v.positionY,C.positionY),await r(S,v.positionZ,C.positionZ)):(await c(S,v.orientationX,C.orientationX),await c(S,v.orientationY,C.orientationY),await c(S,v.orientationZ,C.orientationZ),await c(S,v.positionX,C.positionX),await c(S,v.positionY,C.positionY),await c(S,v.positionZ,C.positionZ)),Oh(C)?await f(v,S,C.inputs[0]):await f(v,S,C),C};return{render(v,S){const N=m.get(S);return N!==void 0?Promise.resolve(N):_(v,S)}}},$A={disableNormalization:!1},KA=(r,e,t,i)=>class wx{constructor(o,h){const c=e(o),f=i({...$A,...h}),d=r(c,f);return t.add(d),d}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===wx.prototype||t.has(o)}},QA=(r,e)=>(t,i,a)=>(r(i).replay(a),e(i,t,a)),JA=(r,e,t)=>async(i,a,o)=>{const h=r(i);await Promise.all(h.activeInputs.map((c,f)=>Array.from(c).map(async([d,m])=>{const _=await e(d).render(d,a),v=i.context.destination;!t(d)&&(i!==v||!t(i))&&_.connect(o,m,f)})).reduce((c,f)=>[...c,...f],[]))},eN=(r,e,t)=>async(i,a,o)=>{const h=e(i);await Promise.all(Array.from(h.activeInputs).map(async([c,f])=>{const m=await r(c).render(c,a);t(c)||m.connect(o,f)}))},tN=(r,e,t,i)=>a=>r(Hf,()=>Hf(a))?Promise.resolve(r(i,i)).then(o=>{if(!o){const h=t(a,512,0,1);a.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>a.currentTime,h.connect(a.destination)}return a.startRendering()}):new Promise(o=>{const h=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=c=>{h.disconnect(),o(c.renderedBuffer)},h.connect(a.destination),a.startRendering()}),nN=r=>(e,t)=>{r.set(e,t)},rN=r=>(e,t)=>r.set(e,t),iN=(r,e,t,i,a,o,h,c)=>(f,d)=>t(f).render(f,d).then(()=>Promise.all(Array.from(i(d)).map(m=>t(m).render(m,d)))).then(()=>a(d)).then(m=>(typeof m.copyFromChannel!="function"?(h(m),gg(m)):e(o,()=>o(m))||c(m),r.add(m),m)),sN={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},aN=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=a(c),m={...sN,...f},y=t(d,m),_=o(d),v=_?i():null;super(c,!1,y,v),this._pan=e(this,_,y.pan)}get pan(){return this._pan}},oN=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Gi(d,f);if(!m){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=e(f,y)}return o.set(f,d),m?await r(f,c.pan,d.pan):await i(f,c.pan,d.pan),Oh(d)?await a(c,f,d.inputs[0]):await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},lN=r=>()=>{if(r===null)return!1;try{new r({length:1,sampleRate:44100})}catch{return!1}return!0},cN=(r,e)=>async()=>{if(r===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,44100),a=URL.createObjectURL(t);let o=!1,h=!1;try{await i.audioWorklet.addModule(a);const c=new r(i,"a",{numberOfOutputs:0}),f=i.createOscillator();c.port.onmessage=()=>o=!0,c.onprocessorerror=()=>h=!0,f.connect(c),f.start(0),await i.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(a)}return o&&!h},uN=(r,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),i=r(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{t.oncomplete=()=>{i.disconnect(),a(t.currentTime!==0)},t.startRendering()})},hN=()=>new DOMException("","UnknownError"),fN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},dN=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...fN,...d},_=t(m,y),S=o(m)?i():null;super(f,!0,_,S),this._isCurveNullified=!1,this._nativeWaveShaperNode=_,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},pN=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Gi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=r(h,d)}return i.set(h,c),Oh(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},mN=()=>typeof window>"u"?null:window,gN=(r,e)=>t=>{t.copyFromChannel=(i,a,o=0)=>{const h=r(o),c=r(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=i.length;for(let y=h<0?-h:0;y+h<f&&y<m;y+=1)i[y]=d[y+h]},t.copyToChannel=(i,a,o=0)=>{const h=r(o),c=r(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=i.length;for(let y=h<0?-h:0;y+h<f&&y<m;y+=1)d[y+h]=i[y]}},vN=r=>e=>{e.copyFromChannel=(t=>(i,a,o=0)=>{const h=r(o),c=r(a);if(h<e.length)return t.call(e,i,c,h)})(e.copyFromChannel),e.copyToChannel=(t=>(i,a,o=0)=>{const h=r(o),c=r(a);if(h<e.length)return t.call(e,i,c,h)})(e.copyToChannel)},bN=r=>(e,t)=>{const i=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=i),r(e,"buffer",a=>()=>{const o=a.call(e);return o===i?null:o},a=>o=>a.call(e,o===null?i:o))},yN=(r,e)=>(t,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw r()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw r()}});const a=t.createBufferSource();e(i,()=>{const c=i.numberOfInputs;for(let f=0;f<c;f+=1)a.connect(i,0,f)},()=>a.disconnect(i))},Sx=(r,e,t)=>r.copyFromChannel===void 0?r.getChannelData(t)[0]:(r.copyFromChannel(e,t),e[0]),Ax=r=>{if(r===null)return!1;const e=r.length;return e%2!==0?r[Math.floor(e/2)]!==0:r[e/2-1]+r[e/2]!==0},ad=(r,e,t,i)=>{let a=r;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:o,set:h}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(r,e,{get:t(o),set:i(h)})},xN=r=>({...r,outputChannelCount:r.outputChannelCount!==void 0?r.outputChannelCount:r.numberOfInputs===1&&r.numberOfOutputs===1?[r.channelCount]:Array.from({length:r.numberOfOutputs},()=>1)}),_N=r=>({...r,channelCount:r.numberOfOutputs}),wN=r=>{const{imag:e,real:t}=r;return e===void 0?t===void 0?{...r,imag:[0,0],real:[0,0]}:{...r,imag:Array.from(t,()=>0),real:t}:t===void 0?{...r,imag:e,real:Array.from(e,()=>0)}:{...r,imag:e,real:t}},Nx=(r,e,t)=>{try{r.setValueAtTime(e,t)}catch(i){if(i.code!==9)throw i;Nx(r,e,t+1e-7)}},SN=r=>{const e=r.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},AN=r=>{const e=r.createBufferSource(),t=r.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},NN=r=>{const e=r.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},_g=r=>{const e=r.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},Cx=r=>{const e=r.createBuffer(1,1,44100),t=r.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},wg=r=>{const e=r.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},CN=r=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(r)}finally{e.close(),t.close()}},TN=r=>{r.start=(e=>(t=0,i=0,a)=>{const o=r.buffer,h=o===null?i:Math.min(o.duration,i);o!==null&&h>o.duration-.5/r.context.sampleRate?e.call(r,t,0,0):e.call(r,t,h,a)})(r.start)},Tx=(r,e)=>{const t=e.createGain();r.connect(t);const i=(a=>()=>{a.call(r,t),r.removeEventListener("ended",i)})(r.disconnect);r.addEventListener("ended",i),Lh(r,t),r.stop=(a=>{let o=!1;return(h=0)=>{if(o)try{a.call(r,h)}catch{t.gain.setValueAtTime(0,h)}else a.call(r,h),o=!0}})(r.stop)},jh=(r,e)=>t=>{const i={value:r};return Object.defineProperties(t,{currentTarget:i,target:i}),typeof e=="function"?e.call(r,t):e.handleEvent.call(r,t)},EN=X4(hu),kN=eS(hu),MN=f6(mp),Ex=new WeakMap,ON=M6(Ex),ro=PS(new Map,new WeakMap),jo=mN(),kx=aA(ro,Do),Sg=k6(rs),ji=JA(rs,Sg,ou),LN=sS(kx,ur,ji),tr=j6(pp),_l=jA(jo),Xn=$6(_l),Mx=new WeakMap,Ox=w6(jh),od=uA(jo),Ag=Y6(od),Ng=W6(jo),Lx=X6(jo),Gf=fA(jo),Ur=MS(Z4(sx),J4(EN,kN,G1,MN,Y1,rs,ON,ed,ur,hu,gl,ou,k1),ro,z6(Bm,Y1,rs,ur,Uf,gl),Do,gp,ss,l6(G1,Bm,rs,ur,Uf,tr,gl,Xn),m6(Mx,rs,Qa),Ox,tr,Ag,Ng,Lx,Xn,Gf),jN=iS(Ur,LN,Do,kx,tr,Xn),Cg=new WeakSet,sb=oA(jo),jx=t6(new Uint32Array(1)),Tg=gN(jx,Do),Eg=vN(jx),Dx=oS(Cg,ro,ss,sb,_l,lN(sb),Tg,Eg),vp=tS(ks),Rx=eN(Sg,nd,ou),Ro=ZS(Rx),Dh=cA(vp,ro,SN,AN,NN,_g,Cx,wg,TN,bN(ad),Tx),Io=QA(O6(nd),Rx),DN=uS(Ro,Dh,ur,Io,ji),io=OS($4(ax),Mx,mg,LS,P4,U4,H4,G4,Y4,Im,rx,od,Nx),RN=cS(Ur,DN,io,_i,Dh,tr,Xn,jh),IN=yS(Ur,xS,Do,_i,hA(ks,ad),tr,Xn,ji),VN=zS(Ro,xx,ur,Io,ji),fu=rN(Ex),FN=qS(Ur,io,VN,gp,xx,tr,Xn,fu),yc=iA(hu,Ng),BN=yN(_i,yc),xc=yA(od,BN),qN=GS(xc,ur,ji),zN=HS(Ur,qN,xc,tr,Xn),PN=XS(id,ur,ji),UN=WS(Ur,PN,id,tr,Xn,_N),HN=wA(vp,Dh,ks,yc),Rh=_A(vp,ro,HN,_g,wg),GN=e6(Ro,Rh,ur,Io,ji),YN=JS(Ur,io,GN,Rh,tr,Xn,jh),Ix=SA(ss,ad),WN=i6(Ix,ur,ji),XN=r6(Ur,WN,Ix,tr,Xn,fu),ZN=h6(Ro,_x,ur,Io,ji),$N=u6(Ur,io,ZN,_x,tr,Xn,fu),Vx=AA(ss),KN=y6(Ro,Vx,ur,Io,ji),QN=b6(Ur,io,KN,Vx,ss,tr,Xn,fu),JN=T6(Ro,ks,ur,Io,ji),e8=C6(Ur,io,JN,ks,tr,Xn),t8=EA(gp,_i,sd,ss),bp=tN(ro,ks,sd,uN(ks,_l)),n8=q6(Dh,ur,_l,ji,bp),r8=NA(t8),i8=F6(Ur,r8,n8,tr,Xn,fu),s8=_S(io,xc,Rh,sd,ss,Sx,Xn,ad),Fx=new WeakMap,a8=rA(IN,s8,Ox,Xn,Fx,jh),Bx=DA(vp,ro,_g,Cx,wg,Tx),o8=YA(Ro,Bx,ur,Io,ji),l8=GA(Ur,io,Bx,o8,tr,Xn,jh),qx=KS(Dh),c8=zA(qx,_i,ks,Ax,yc),yp=qA(qx,_i,c8,Ax,yc,od,ad),u8=IA(G1,_i,xc,ks,sd,yp,ss,Y1,Sx,yc),zx=RA(u8),h8=ZA(Ro,xc,Rh,ks,zx,ur,_l,Io,ji,bp),f8=XA(Ur,io,zx,h8,tr,Xn,fu),d8=VA(Do),p8=KA(d8,tr,new WeakSet,wN),m8=BA(xc,id,ks,yp,ss,yc),Px=FA(m8,ss),g8=oN(Ro,Px,ur,Io,ji),v8=aN(Ur,io,Px,g8,tr,Xn),b8=pN(yp,ur,ji),y8=dN(Ur,_i,yp,b8,tr,Xn,fu),Ux=K6(jo),kg=S6(jo),Hx=new WeakMap,x8=D6(Hx,_l),_8=Ux?Q4(ro,ss,_6(jo),kg,A6(W4),tr,x8,Xn,Gf,new WeakMap,new WeakMap,cN(Gf,_l),jo):void 0,w8=Z6(Ag,Xn),S8=o6(Cg,ro,a6,x6,new WeakSet,tr,w8,U1,Hf,Tg,Eg),Gx=FS(_8,jN,Dx,RN,FN,zN,UN,YN,XN,S8,$N,QN,e8,i8,a8,l8,f8,p8,v8,y8),A8=Q6(Ur,kA,tr,Xn),N8=eA(Ur,MA,tr,Xn),C8=tA(Ur,OA,tr,Xn),T8=LA(_i,Xn),E8=nA(Ur,T8,tr),k8=bS(Gx,_i,ss,hN,A8,N8,C8,E8,od),Mg=R6(Fx),M8=nS(Mg),Yx=$S(Do),O8=d6(Mg),Wx=g6(Do),Xx=new WeakMap,L8=E6(Xx,Qa),j8=bA(Yx,Do,_i,xc,id,Rh,ks,sd,ss,Wx,kg,L8,yc),D8=pA(_i,j8,ks,ss,yc),R8=VS(Ro,Yx,Dh,xc,id,Rh,ks,O8,Wx,kg,ur,Gf,_l,Io,ji,bp),I8=L6(Hx),V8=nN(Xx),ab=Ux?DS(M8,Ur,io,R8,D8,rs,I8,tr,Xn,Gf,xN,V8,CN,jh):void 0,F8=s6(ss,_l),B8=iN(Cg,ro,Sg,Mg,bp,U1,Tg,Eg),q8=UA(Gx,ro,_i,F8,B8),z8=P6(pp,Ag),P8=U6(pg,Ng),U8=H6(mg,Lx),H8=G6(pp,Xn);function ba(r){return r===void 0}function vn(r){return r!==void 0}function G8(r){return typeof r=="function"}function vl(r){return typeof r=="number"}function iu(r){return Object.prototype.toString.call(r)==="[object Object]"&&r.constructor===Object}function Y8(r){return typeof r=="boolean"}function $s(r){return Array.isArray(r)}function bl(r){return typeof r=="string"}function p1(r){return bl(r)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(r)}function Wt(r,e){if(!r)throw new Error(e)}function yl(r,e,t=1/0){if(!(e<=r&&r<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${r}`)}function Zx(r){!r.isOffline&&r.state!=="running"&&xp('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let $x=!1,ob=!1;function lb(r){$x=r}function W8(r){ba(r)&&$x&&!ob&&(ob=!0,xp("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Kx=console;function X8(...r){Kx.log(...r)}function xp(...r){Kx.warn(...r)}function Z8(r){return new k8(r)}function $8(r,e,t){return new q8(r,e,t)}const Ys=typeof self=="object"?self:null,K8=Ys&&(Ys.hasOwnProperty("AudioContext")||Ys.hasOwnProperty("webkitAudioContext"));function Q8(r,e,t){return Wt(vn(ab),"AudioWorkletNode only works in a secure context (https or localhost)"),new(r instanceof Ys?.BaseAudioContext?Ys?.AudioWorkletNode:ab)(r,e,t)}function so(r,e,t,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var c=r.length-1;c>=0;c--)(h=r[c])&&(o=(a<3?h(o):a>3?h(e,t,o):h(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o}function Jr(r,e,t,i){function a(o){return o instanceof t?o:new t(function(h){h(o)})}return new(t||(t=Promise))(function(o,h){function c(m){try{d(i.next(m))}catch(y){h(y)}}function f(m){try{d(i.throw(m))}catch(y){h(y)}}function d(m){m.done?o(m.value):a(m.value).then(c,f)}d((i=i.apply(r,e||[])).next())})}class J8{constructor(e,t,i,a){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),i=new Worker(t);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function lu(r){return U8(r)}function hc(r){return P8(r)}function M1(r){return H8(r)}function hh(r){return z8(r)}function eC(r){return r instanceof Dx}function tC(r,e){return r==="value"||lu(e)||hc(e)||eC(e)}function su(r,...e){if(!e.length)return r;const t=e.shift();if(iu(r)&&iu(t))for(const i in t)tC(i,t[i])?r[i]=t[i]:iu(t[i])?(r[i]||Object.assign(r,{[i]:{}}),su(r[i],t[i])):Object.assign(r,{[i]:t[i]});return su(r,...e)}function nC(r,e){return r.length===e.length&&r.every((t,i)=>e[i]===t)}function Ut(r,e,t=[],i){const a={},o=Array.from(e);if(iu(o[0])&&i&&!Reflect.has(o[0],i)&&(Object.keys(o[0]).some(c=>Reflect.has(r,c))||(su(a,{[i]:o[0]}),t.splice(t.indexOf(i),1),o.shift())),o.length===1&&iu(o[0]))su(a,o[0]);else for(let h=0;h<t.length;h++)vn(o[h])&&(a[t[h]]=o[h]);return su(r,a)}function rC(r){return r.constructor.getDefaults()}function xh(r,e){return ba(r)?e:r}function Za(r,e){return e.forEach(t=>{Reflect.has(r,t)&&delete r[t]}),r}class wl{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Ys&&this.toString()===Ys.TONE_DEBUG_CLASS)&&X8(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}wl.version=nx;const Og=1e-6;function kh(r,e){return r>e+Og}function Hm(r,e){return kh(r,e)||Xa(r,e)}function $1(r,e){return r+Og<e}function Xa(r,e){return Math.abs(r-e)<Og}function iC(r,e,t){return Math.max(Math.min(r,t),e)}let Lo=class Qx extends wl{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Ut(Qx.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Wt(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];Wt(Hm(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const i=this._search(e,t);return i!==-1?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const i=this._search(e,t);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const i=this._search(e);return i-1>=0?this._timeline[i-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Xa(this._timeline[t].time,e)){for(let i=t;i>=0&&Xa(this._timeline[i].time,e);i--)t=i;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&Hm(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let i=0;const a=this._timeline.length;let o=a;if(a>0&&this._timeline[a-1][t]<=e)return a-1;for(;i<o;){let h=Math.floor(i+(o-i)/2);const c=this._timeline[h],f=this._timeline[h+1];if(Xa(c[t],e)){for(let d=h;d<this._timeline.length;d++){const m=this._timeline[d];if(Xa(m[t],e))h=d;else break}return h}else{if($1(c[t],e)&&kh(f[t],e))return h;kh(c[t],e)?o=h:i=h+1}}return-1}_iterate(e,t=0,i=this._timeline.length-1){this._timeline.slice(t,i+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const i=this._search(e);return i!==-1&&this._iterate(t,0,i),this}forEachAfter(e,t){const i=this._search(e);return this._iterate(t,i+1),this}forEachBetween(e,t,i){let a=this._search(e),o=this._search(t);return a!==-1&&o!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[o].time===t&&(o-=1),this._iterate(i,a,o)):a===-1&&this._iterate(i,0,o),this}forEachFrom(e,t){let i=this._search(e);for(;i>=0&&this._timeline[i].time>=e;)i--;return this._iterate(t,i+1),this}forEachAtTime(e,t){const i=this._search(e);if(i!==-1&&Xa(this._timeline[i].time,e)){let a=i;for(let o=i;o>=0&&Xa(this._timeline[o].time,e);o--)a=o;this._iterate(o=>{t(o)},a,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}};const Jx=[];function _p(r){Jx.push(r)}function sC(r){Jx.forEach(e=>e(r))}const e3=[];function wp(r){e3.push(r)}function aC(r){e3.forEach(e=>e(r))}class ld extends wl{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(a=>{ba(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(t)}),this}once(e,t){const i=(...a)=>{t(...a),this.off(e,i)};return this.on(e,i),this}off(e,t){return e.split(/\W+/).forEach(a=>{if(ba(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(ba(t))this._events[a]=[];else{const o=this._events[a];for(let h=o.length-1;h>=0;h--)o[h]===t&&o.splice(h,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const i=this._events[e].slice(0);for(let a=0,o=i.length;a<o;a++)i[a].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const i=Object.getOwnPropertyDescriptor(ld.prototype,t);Object.defineProperty(e.prototype,t,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class t3 extends ld{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}let Lg=class n3 extends t3{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new Lo,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=Ut(n3.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=Z8({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new J8(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(sC(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,i){return this._context.createBuffer(e,t,i)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,i){return this._context.createPeriodicWave(e,t,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Wt(hh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Wt(hh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Wt(hh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Wt(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Wt(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Wt(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Wt(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return Q8(this.rawContext,e,t)}addAudioWorkletModule(e){return Jr(this,void 0,void 0,function*(){Wt(vn(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Jr(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return hh(this._context)?this._context.resume():Promise.resolve()}close(){return Jr(this,void 0,void 0,function*(){hh(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&aC(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),i=t.getChannelData(0);for(let o=0;o<i.length;o++)i[o]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=t,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,t=>{t.callback(),this._timeouts.remove(t)})}setTimeout(e,t){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:i+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const i=++this._timeoutIds,a=()=>{const o=this.now();this._timeouts.add({callback:()=>{e(),a()},id:i,time:o+t})};return a(),i}};class oC extends t3{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,i){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Jr(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function hr(r,e){$s(e)?e.forEach(t=>hr(r,t)):Object.defineProperty(r,e,{enumerable:!0,writable:!1})}function jg(r,e){$s(e)?e.forEach(t=>jg(r,t)):Object.defineProperty(r,e,{writable:!0})}const Wn=()=>{};class lr extends wl{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Wn;const e=Ut(lr.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,bl(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Wn,onload:Wn,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:$a().sampleRate}set(e){return e instanceof lr?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Jr(this,void 0,void 0,function*(){const t=lr.load(e).then(i=>{this.set(i),this.onload(this)});lr.downloads.push(t);try{yield t}finally{const i=lr.downloads.indexOf(t);lr.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=$s(e)&&e[0].length>0,i=t?e.length:1,a=t?e[0].length:e.length,o=$a(),h=o.createBuffer(i,a,o.sampleRate),c=!t&&i===1?[e]:e;for(let f=0;f<i;f++)h.copyToChannel(c[f],f);return this._buffer=h,this}toMono(e){if(vl(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const i=this.numberOfChannels;for(let a=0;a<i;a++){const o=this.toArray(a);for(let h=0;h<o.length;h++)t[h]+=o[h]}t=t.map(a=>a/i),this.fromArray(t)}return this}toArray(e){if(vl(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let i=0;i<this.numberOfChannels;i++)t[i]=this.getChannelData(i);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){Wt(this.loaded,"Buffer is not loaded");const i=Math.floor(e*this.sampleRate),a=Math.floor(t*this.sampleRate);Wt(i<a,"The start time must be less than the end time");const o=a-i,h=$a().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)h.copyToChannel(this.getChannelData(c).subarray(i,a),c);return new lr(h)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new lr().fromArray(e)}static fromUrl(e){return Jr(this,void 0,void 0,function*(){return yield new lr().load(e)})}static load(e){return Jr(this,void 0,void 0,function*(){const t=lr.baseUrl===""||lr.baseUrl.endsWith("/")?lr.baseUrl:lr.baseUrl+"/",i=yield fetch(t+e);if(!i.ok)throw new Error(`could not load url: ${e}`);const a=yield i.arrayBuffer();return yield $a().decodeAudioData(a)})}static supportsType(e){const t=e.split("."),i=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return Jr(this,void 0,void 0,function*(){for(yield Promise.resolve();lr.downloads.length;)yield lr.downloads[0]})}}lr.baseUrl="";lr.downloads=[];class Dg extends Lg{constructor(){super({clockSource:"offline",context:M1(arguments[0])?arguments[0]:$8(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:M1(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=M1(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Jr(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const i=Math.floor(this.sampleRate/128);e&&t%i===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return Jr(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new lr(t)})}close(){return Promise.resolve()}}const r3=new oC;let nu=r3;function $a(){return nu===r3&&K8&&lC(new Lg),nu}function lC(r,e=!1){e&&nu.dispose(),hh(r)?nu=new Lg(r):M1(r)?nu=new Dg(r):nu=r}function cd(){return nu.resume()}if(Ys&&!Ys.TONE_SILENCE_LOGGING){const e=` * Tone.js v${nx} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function cC(r){return Math.pow(10,r/20)}function uC(r){return 20*(Math.log(r)/Math.LN10)}function i3(r){return Math.pow(2,r/12)}let Sp=440;function hC(){return Sp}function fC(r){Sp=r}function ru(r){return Math.round(s3(r))}function s3(r){return 69+12*Math.log2(r/Sp)}function a3(r){return Sp*Math.pow(2,(r-69)/12)}class Rg extends wl{constructor(e,t,i){super(),this.defaultUnits="s",this._val=t,this._units=i,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const i=parseInt(e,10),a=t==="."?1.5:1;return i===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/i)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,i)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a+=this._beatsToUnits(parseFloat(t))),i&&i!=="0"&&(a+=this._beatsToUnits(parseFloat(i)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Rg&&this.fromType(this._val),ba(this._val))return this._noArg();if(bl(this._val)&&ba(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(iu(this._val)){let e=0;for(const t in this._val)if(vn(this._val[t])){const i=this._val[t],a=new this.constructor(this.context,t).valueOf()*i;e+=a}return e}if(vn(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return bl(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Ka extends Rg{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new Ka(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const i=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),c=Math.round(a/i)*i-a;return a+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let o=1;o<9;o++){const h=Math.pow(2,o);t.push(h+"n."),t.push(h+"n"),t.push(h+"t")}t.push("0");let i=t[0],a=new Ka(this.context,t[0]).toSeconds();return t.forEach(o=>{const h=new Ka(this.context,o).toSeconds();Math.abs(h-e)<Math.abs(a-e)&&(i=o,a=h)}),i}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const i=Math.floor(t/this._getTimeSignature());let a=t%1*4;t=Math.floor(t)%this._getTimeSignature();const o=a.toString();return o.length>3&&(a=parseFloat(parseFloat(o).toFixed(3))),[i,t,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return ru(this.toFrequency())}_now(){return this.context.now()}}class Ws extends Ka{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return hC()}static set A4(e){fC(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Ws.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const a=dC[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?a:Ws.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,i){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a*=this._beatsToUnits(parseFloat(t))),i&&i!=="0"&&(a*=this._beatsToUnits(parseFloat(i)/4)),a}}})}transpose(e){return new Ws(this.context,this.valueOf()*i3(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return ru(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Ws.A4);let i=Math.round(12*t)+57;const a=Math.floor(i/12);return a<0&&(i+=-12*a),pC[i%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return a3(e)}static ftom(e){return ru(e)}}const dC={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},pC=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Df extends Ka{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Es extends wl{constructor(){super();const e=Ut(Es.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:$a()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return W8(e),new Ka(this.context,e).toSeconds()}toFrequency(e){return new Ws(this.context,e).toFrequency()}toTicks(e){return new Df(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(i=>{ba(e[i])&&delete t[i]}),t}get(){const e=rC(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const i=this[t];vn(i)&&vn(i.value)&&vn(i.setValueAtTime)?e[t]=i.value:i instanceof Es?e[t]=i._getPartialProperties(e[t]):$s(i)||vl(i)||bl(i)||Y8(i)?e[t]=i:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&vn(this[t])&&(this[t]&&vn(this[t].value)&&vn(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Es?this[t].set(e[t]):this[t]=e[t])}),this}}class Ig extends Lo{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,i){return yl(t,0),this.add(Object.assign({},i,{state:e,time:t})),this}getLastState(e,t){const i=this._search(t);for(let a=i;a>=0;a--){const o=this._timeline[a];if(o.state===e)return o}}getNextState(e,t){const i=this._search(t);if(i!==-1)for(let a=i;a<this._timeline.length;a++){const o=this._timeline[a];if(o.state===e)return o}}}class Jn extends Es{constructor(){const e=Ut(Jn.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Wt(vn(e.param)&&(lu(e.param)||e.param instanceof Jn),"param must be an AudioParam");!lu(e.param);)e.param=e.param._param;this._swappable=vn(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Lo(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,vn(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Es.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return vn(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return vn(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return vn(this.maxValue)&&vn(this.minValue)&&yl(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?cC(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?uC(e):e}setValueAtTime(e,t){const i=this.toSeconds(t),a=this._fromType(e);return Wt(isFinite(a)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,i),this._events.add({time:i,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,i),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),i=this._events.getAfter(t),a=this._events.get(t);let o=this._initialValue;if(a===null)o=this._initialValue;else if(a.type==="setTargetAtTime"&&(i===null||i.type==="setValueAtTime")){const h=this._events.getBefore(a.time);let c;h===null?c=this._initialValue:c=h.value,a.type==="setTargetAtTime"&&(o=this._exponentialApproach(a.time,c,a.value,a.constant,t))}else if(i===null)o=a.value;else if(i.type==="linearRampToValueAtTime"||i.type==="exponentialRampToValueAtTime"){let h=a.value;if(a.type==="setTargetAtTime"){const c=this._events.getBefore(a.time);c===null?h=this._initialValue:h=c.value}i.type==="linearRampToValueAtTime"?o=this._linearInterpolate(a.time,h,i.time,i.value,t):o=this._exponentialInterpolate(a.time,h,i.time,i.value,t)}else o=a.value;return this._toType(o)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const i=this._fromType(e),a=this.toSeconds(t);return Wt(isFinite(i)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(i),this._events.add({time:a,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(i,a),this}exponentialRampToValueAtTime(e,t){let i=this._fromType(e);i=Xa(i,0)?this._minOutput:i,this._assertRange(i);const a=this.toSeconds(t);return Wt(isFinite(i)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(i,a),this}exponentialRampTo(e,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(e,i+this.toSeconds(t)),this}linearRampTo(e,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(e,i+this.toSeconds(t)),this}targetRampTo(e,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(e,i,t),this}exponentialApproachValueAtTime(e,t,i){t=this.toSeconds(t),i=this.toSeconds(i);const a=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(e,t,a),this.cancelAndHoldAtTime(t+i*.9),this.linearRampToValueAtTime(e,t+i),this}setTargetAtTime(e,t,i){const a=this._fromType(e);Wt(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(t);return this._assertRange(a),Wt(isFinite(a)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:i,time:o,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,o,i),this._param.setTargetAtTime(a,o,i),this}setValueCurveAtTime(e,t,i,a=1){i=this.toSeconds(i),t=this.toSeconds(t);const o=this._fromType(e[0])*a;this.setValueAtTime(this._toType(o),t);const h=i/(e.length-1);for(let c=1;c<e.length;c++){const f=this._fromType(e[c])*a;this.linearRampToValueAtTime(this._toType(f),t+c*h)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return Wt(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),i=this._fromType(this.getValueAtTime(t));Wt(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+i);const a=this._events.get(t),o=this._events.getAfter(t);return a&&Xa(a.time,t)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(i),t):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(i),t)),this._events.add({time:t,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,t),this}rampTo(e,t=.1,i){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,i):this.linearRampTo(e,t,i),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const i=this._events.get(t);if(i&&i.type==="setTargetAtTime"){const a=this._events.getAfter(i.time),o=a?a.time:t+2,h=(o-t)/10;for(let c=t;c<o;c+=h)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){Wt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,i,a,o){return i+(t-i)*Math.exp(-(o-e)/a)}_linearInterpolate(e,t,i,a,o){return t+(a-t)*((o-e)/(i-e))}_exponentialInterpolate(e,t,i,a,o){return t*Math.pow(a/t,(o-e)/(i-e))}}class Jt extends Es{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return vn(this.input)?lu(this.input)||this.input instanceof Jn?1:this.input.numberOfInputs:0}get numberOfOutputs(){return vn(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return vn(e)&&(e instanceof Jt||hc(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(i=>{i.channelCount=e.channelCount,i.channelCountMode=e.channelCountMode,i.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Wt(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,i=0){return Ih(this,e,t,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return xp("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,i=0){return mC(this,e,t,i),this}chain(...e){return Yf(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),vn(this.input)&&(this.input instanceof Jt?this.input.dispose():hc(this.input)&&this.input.disconnect()),vn(this.output)&&(this.output instanceof Jt?this.output.dispose():hc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Yf(...r){const e=r.shift();r.reduce((t,i)=>(t instanceof Jt?t.connect(i):hc(t)&&Ih(t,i),i),e)}function Ih(r,e,t=0,i=0){for(Wt(vn(r),"Cannot connect from undefined node"),Wt(vn(e),"Cannot connect to undefined node"),(e instanceof Jt||hc(e))&&Wt(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Wt(r.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Jt||e instanceof Jn;)vn(e.input)&&(e=e.input);for(;r instanceof Jt;)vn(r.output)&&(r=r.output);lu(e)?r.connect(e,t):r.connect(e,t,i)}function mC(r,e,t=0,i=0){if(vn(e))for(;e instanceof Jt;)e=e.input;for(;!hc(r);)vn(r.output)&&(r=r.output);lu(e)?r.disconnect(e,t):hc(e)?r.disconnect(e,t,i):r.disconnect()}class ei extends Jt{constructor(){const e=Ut(ei.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Jn({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),hr(this,"gain")}static getDefaults(){return Object.assign(Jt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Mh extends Jt{constructor(e){super(e),this.onended=Wn,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ei({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const i=this.toSeconds(t);return this._startTime!==-1&&i>=this._startTime&&(this._stopTime===-1||i<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Jt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Wn})}_startGain(e,t=1){Wt(this._startTime===-1,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=e+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+i):this._gainNode.gain.exponentialApproachValueAtTime(t,e,i)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Wt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Wn&&(this.onended(this),this.onended=Wn,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Wt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Wn,this}}class Vg extends Mh{constructor(){const e=Ut(Vg.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Ih(this._source,this._gainNode),this.offset=new Jn({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Mh.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class er extends Jt{constructor(){const e=Ut(er.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Vg({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Jt.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,i=0){return Fg(this,e,t,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,i){return this._param.exponentialRampTo(e,t,i),this}linearRampTo(e,t,i){return this._param.linearRampTo(e,t,i),this}targetRampTo(e,t,i){return this._param.targetRampTo(e,t,i),this}exponentialApproachValueAtTime(e,t,i){return this._param.exponentialApproachValueAtTime(e,t,i),this}setTargetAtTime(e,t,i){return this._param.setTargetAtTime(e,t,i),this}setValueCurveAtTime(e,t,i,a){return this._param.setValueCurveAtTime(e,t,i,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,i){return this._param.rampTo(e,t,i),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Fg(r,e,t,i){(e instanceof Jn||lu(e)||e instanceof er&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof er&&(e.overridden=!0)),Ih(r,e,t,i)}class Bg extends Jn{constructor(){const e=Ut(Bg.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Lo(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Jn.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,i){t=this.toSeconds(t),this.setRampPoint(t);const a=this._fromType(e),o=this._events.get(t),h=Math.round(Math.max(1/i,1));for(let c=0;c<=h;c++){const f=i*c+t,d=this._exponentialApproach(o.time,o.value,a,i,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}setValueAtTime(e,t){const i=this.toSeconds(t);super.setValueAtTime(e,t);const a=this._events.get(i),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,i);return a.ticks=Math.max(h,0),this}linearRampToValueAtTime(e,t){const i=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const a=this._events.get(i),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,i);return a.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const i=this._fromType(e),a=this._events.get(t),o=Math.round(Math.max((t-a.time)*10,1)),h=(t-a.time)/o;for(let c=0;c<=o;c++){const f=h*c+a.time,d=this._exponentialInterpolate(a.time,a.value,t,i,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ba(e.ticks)){const h=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(h,e.time)}const i=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(t));const o=this._events.get(t);return o&&o.time===t&&o.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(i+a)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),i=this._events.get(t);return Math.max(this._getTicksUntilEvent(i,t),0)}getDurationOfTicks(e,t){const i=this.toSeconds(t),a=this.getTicksAtTime(t);return this.getTimeOfTick(a+e)-i}getTimeOfTick(e){const t=this._events.get(e,"ticks"),i=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&i&&i.type==="linearRampToValueAtTime"&&t.value!==i.value){const a=this._fromType(this.getValueAtTime(t.time)),h=(this._fromType(this.getValueAtTime(i.time))-a)/(i.time-t.time),c=Math.sqrt(Math.pow(a,2)-2*h*(t.ticks-e)),f=(-a+c)/h,d=(-a-c)/h;return(f>0?f:d)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const i=this.toSeconds(t),a=this.toSeconds(e),o=this.getTicksAtTime(i);return this.getTicksAtTime(i+a)-o}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class qg extends er{constructor(){const e=Ut(qg.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Bg({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(er.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class zg extends Es{constructor(){const e=Ut(zg.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Ig,this._tickOffset=new Lo,this._ticksAtTime=new Lo,this._secondsAtTime=new Lo,this.frequency=new qg({context:this.context,units:e.units,value:e.frequency}),hr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Es.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const i=this.toSeconds(e);return this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),vn(t)&&this.setTicksAtTime(t,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const i=this._state.get(t);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),i=this._state.getLastState("stopped",t),a=this._ticksAtTime.get(t),o={state:"paused",time:t};this._state.add(o);let h=a||i,c=a?a.ticks:0,f=null;return this._state.forEachBetween(h.time,t+this.sampleTime,d=>{let m=h.time;const y=this._tickOffset.get(d.time);y&&y.time>=h.time&&(c=y.ticks,m=y.time),h.state==="started"&&d.state!=="started"&&(c+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(m),d.time!==o.time&&(f={state:d.state,time:d.time,ticks:c})),h=d}),this._state.remove(o),f&&this._ticksAtTime.add(f),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),i=this.frequency.timeToTicks(e,t);this.setTicksAtTime(i,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);const a=this._secondsAtTime.get(e);let o=a||t,h=a?a.seconds:0,c=null;return this._state.forEachBetween(o.time,e+this.sampleTime,f=>{let d=o.time;const m=this._tickOffset.get(f.time);m&&m.time>=o.time&&(h=m.seconds,d=m.time),o.state==="started"&&f.state!=="started"&&(h+=f.time-d,f.time!==i.time&&(c={state:f.state,time:f.time,seconds:h})),o=f}),this._state.remove(i),c&&this._secondsAtTime.add(c),h}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const i=this._tickOffset.get(t),a=this._state.get(t),o=Math.max(i.time,a.time),h=this.frequency.getTicksAtTime(o)+e-i.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(e,t,i){let a=this._state.get(e);this._state.forEachBetween(e,t,h=>{a&&a.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),h.time-this.sampleTime,i),a=h});let o=null;if(a&&a.state==="started"){const h=Math.max(a.time,e),c=this.frequency.getTicksAtTime(h),f=this.frequency.getTicksAtTime(a.time),d=c-f;let m=Math.ceil(d)-d;m=Xa(m,1)?0:m;let y=this.frequency.getTimeOfTick(c+m);for(;y<t;){try{i(y,Math.round(this.getTicksAtTime(y)))}catch(_){o=_;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}let o3=class l3 extends Es{constructor(){const e=Ut(l3.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Wn,this._lastUpdate=0,this._state=new Ig("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new zg({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,hr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Es.getDefaults(),{callback:Wn,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){Zx(this.context);const i=this.toSeconds(e);return this.log("start",i),this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,t),i<this._lastUpdate&&this.emit("start",i,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const i=this.toSeconds(t),a=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(a+e,i)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,i=>{switch(i.state){case"started":const a=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,a);break;case"stopped":i.time!==0&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time);break}}),this._tickSource.forEachTickBetween(e,t,(i,a)=>{this.callback(i,a)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};ld.mixin(o3);class Vh extends Jt{constructor(){const e=Ut(Vh.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new ei({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,hr(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Jt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Pg extends Jt{constructor(){const e=Ut(Pg.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Vh({context:this.context}),this.output=new ei({context:this.context}),this.volume=this.input.volume,Yf(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Jt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Yf(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}_p(r=>{r.destination=new Pg({context:r})});wp(r=>{r.destination.dispose()});class gC extends Jt{constructor(){super(...arguments),this.name="Listener",this.positionX=new Jn({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Jn({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Jn({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Jn({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Jn({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Jn({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Jn({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Jn({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Jn({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Jt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}_p(r=>{r.listener=new gC({context:r})});wp(r=>{r.listener.dispose()});class Ug extends wl{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Ut(Ug.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const i=e.urls[t];this.add(t,i,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Wn,onload:Wn,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Wt(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,i=Wn,a=Wn){return bl(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new lr(this.baseUrl+t,i,a))):this._buffers.set(e.toString(),new lr(t,i,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class K1 extends Ws{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return ru(super._frequencyToUnits(e))}_ticksToUnits(e){return ru(super._ticksToUnits(e))}_beatsToUnits(e){return ru(super._beatsToUnits(e))}_secondsToUnits(e){return ru(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return a3(this.toMidi())}transpose(e){return new K1(this.context,this.toMidi()+e)}}class vh extends Df{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class vC extends Es{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Lo,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,t=>{e-t.time<=this.expiration&&t.callback(),this._events.remove(t)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}_p(r=>{r.draw=new vC({context:r})});wp(r=>{r.draw.dispose()});class bC extends wl{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Wt(vn(e.time),"Events must have a time property"),Wt(vn(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new yC(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const i of t)if(i.event===e){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let i,a=null;if(t>0)if(e.left.right===null)i=e.left,i.right=e.right,a=i;else{for(i=e.left.right;i.right!==null;)i=i.right;i.parent&&(i.parent.right=i.left,a=i.parent,i.left=e.left,i.right=e.right)}else if(e.right.left===null)i=e.right,i.left=e.left,a=i;else{for(i=e.right.left;i.left!==null;)i=i.left;i.parent&&(i.parent.left=i.right,a=i.parent,i.left=e.left,i.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=i:e.parent.right=i:this._setRoot(i),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const t=e.parent,i=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),t!==null?i?t.left=a:t.right=a:this._setRoot(a)}_rotateRight(e){const t=e.parent,i=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),t!==null?i?t.left=a:t.right=a:this._setRoot(a)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let i=t[0];for(let a=1;a<t.length;a++)t[a].low>i.low&&(i=t[a]);return i.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(i=>t.push(i)),t.forEach(i=>{i.event&&e(i.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const i=[];this._root.search(e,i),i.forEach(a=>{a.event&&t(a.event)})}return this}forEachFrom(e,t){if(this._root!==null){const i=[];this._root.searchAfter(e,i),i.forEach(a=>{a.event&&t(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class yC{constructor(e,t,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class xC extends wl{constructor(e){super(),this.name="TimelineValue",this._timeline=new Lo({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class fc extends Jt{constructor(){super(Ut(fc.getDefaults(),arguments,["context"]))}connect(e,t=0,i=0){return Fg(this,e,t,i),this}}class ud extends fc{constructor(){const e=Ut(ud.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,$s(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):G8(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(er.getDefaults(),{length:1024})}setMap(e,t=1024){const i=new Float32Array(t);for(let a=0,o=t;a<o;a++){const h=a/(o-1)*2-1;i[a]=e(h,a)}return this.curve=i,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(i=>i.includes(e));Wt(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Ap extends fc{constructor(){const e=Ut(Ap.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new ud({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(fc.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class dc{constructor(e,t){this.id=dc._eventId++,this._remainderTime=0;const i=Object.assign(dc.getDefaults(),t);this.transport=e,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:Wn,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}dc._eventId=0;class Hg extends dc{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(Hg.getDefaults(),t);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},dc.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return $1(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new vh(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){$1(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new vh(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);kh(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Np extends Es{constructor(){const e=Ut(Np.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new xC(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Lo,this._repeatedEvents=new bC,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new o3({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),hr(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Es.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const i=t%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(i*Math.PI)*this._swingAmount;e+=new vh(this.context,this._swingTicks*2/3).toSeconds()*a}lb(!0),this._timeline.forEachAtTime(t,i=>i.invoke(e)),lb(!1)}schedule(e,t){const i=new dc(this,{callback:e,time:new Df(this.context,t).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(e,t,i,a=1/0){const o=new Hg(this,{callback:e,duration:new Ka(this.context,a).toTicks(),interval:new Ka(this.context,t).toTicks(),time:new Df(this.context,i).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(e,t){const i=new dc(this,{callback:e,once:!0,time:new Df(this.context,t).toTicks()});return this._addEvent(i,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(t,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new vh(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let i;return vn(t)&&(i=this.toTicks(t)),this._clock.start(e,i),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){$s(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Ka(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Ka(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new vh(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new vh(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),i=this._clock.frequency.timeToTicks(e,t);this.ticks=i}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const i=this._clock.getTicksAtTime(t),a=this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,t),o=t+a;this.emit("stop",o),this._clock.setTicksAtTime(e,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),i=this.getTicksAtTime(t),a=e-i%e;return this._clock.nextTickTime(a,t)}}syncSignal(e,t){const i=this.now();let a=this.bpm,o=1/(60/a.getValueAtTime(i)/this.PPQ),h=[];if(e.units==="time"){const f=.015625/o,d=new ei(f),m=new Ap(-1),y=new ei(f);a.chain(d,m,y),a=y,o=1/o,h=[d,m,y]}t||(e.getValueAtTime(i)!==0?t=e.getValueAtTime(i)/o:t=0);const c=new ei(t);return a.connect(c),c.connect(e._param),h.push(c),this._syncedSignals.push({initial:e.value,nodes:h,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const i=this._syncedSignals[t];i.signal===e&&(i.nodes.forEach(a=>a.dispose()),i.signal.value=i.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),jg(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}ld.mixin(Np);_p(r=>{r.transport=new Np({context:r})});wp(r=>{r.transport.dispose()});class Hi extends Jt{constructor(e){super(e),this.input=void 0,this._state=new Ig("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Wn,this._syncedStop=Wn,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Vh({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,hr(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Jt.getDefaults(),{mute:!1,onstop:Wn,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,i){let a=ba(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")Wt(kh(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,t,i);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const o=this._state.get(a);o&&(o.offset=this.toSeconds(xh(t,0)),o.duration=i?this.toSeconds(i):void 0);const h=this.context.transport.schedule(c=>{this._start(c,t,i)},a);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else Zx(this.context),this._start(a,t,i);return this}stop(e){let t=ba(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||vn(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const i=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(i)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,i){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(kh(t,0)){const i=this._state.get(t);if(i&&i.state==="started"&&i.time!==t){const a=t-this.toSeconds(i.time);let o;i.duration&&(o=this.toSeconds(i.duration)-a),this._start(e,this.toSeconds(i.offset)+a,o)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Wn,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Cp extends Mh{constructor(){const e=Ut(Cp.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Ih(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Jn({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new lr(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Mh.getDefaults(),{url:new lr,loop:!1,loopEnd:0,loopStart:0,onload:Wn,onerror:Wn,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,i,a=1){Wt(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(e);this._startGain(o,a),this.loop?t=xh(t,this.loopStart):t=xh(t,0);let h=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),d=c-f;Hm(h,c)&&(h=(h-f)%d+f),Xa(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,$1(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,h)),vn(i)){let c=this.toSeconds(i);c=Math.max(c,0),this.stop(o+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function du(r,e){return Jr(this,void 0,void 0,function*(){const t=e/r.context.sampleRate,i=new Dg(1,t,r.context.sampleRate);return new r.constructor(Object.assign(r.get(),{frequency:2/t,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class Gg extends Mh{constructor(){const e=Ut(Gg.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Ih(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Jn({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Jn({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),hr(this,["frequency","detune"])}static getDefaults(){return Object.assign(Mh.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Qr extends Hi{constructor(){const e=Ut(Qr.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new er({context:this.context,units:"frequency",value:e.frequency}),hr(this,"frequency"),this.detune=new er({context:this.context,units:"cents",value:e.detune}),hr(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Hi.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),i=new Gg({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Qr._periodicWaveCache.find(t=>t.phase===this._phase&&nC(t.partials,this._partials));{const e=Qr._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const i=this._getCachedPeriodicWave();if(vn(i)){const{partials:a,wave:o}=i;this._wave=o,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,o]=this._getRealImaginary(e,this._phase),h=this.context.createPeriodicWave(a,o);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Qr._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),Qr._periodicWaveCache.length>100&&Qr._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){yl(e,0);let t=this._type;const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(t=i[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const a=new Float32Array(e);this._partials.forEach((o,h)=>a[h]=o),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,t){let a=2048;const o=new Float32Array(a),h=new Float32Array(a);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,a=c,this._partials.length===0)return[o,h]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);f?(c=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),e=f[1],c=Math.max(c,2),a=c):this._partialCount=0,this._partials=[]}for(let f=1;f<a;++f){const d=2/(f*Math.PI);let m;switch(e){case"sine":m=f<=c?1:0,this._partials[f-1]=m;break;case"square":m=f&1?2*d:0,this._partials[f-1]=m;break;case"sawtooth":m=d*(f&1?1:-1),this._partials[f-1]=m;break;case"triangle":f&1?m=2*(d*d)*(f-1>>1&1?-1:1):m=0,this._partials[f-1]=m;break;case"custom":m=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}m!==0?(o[f]=-m*Math.sin(t*f),h[f]=m*Math.cos(t*f)):(o[f]=0,h[f]=0)}return[o,h]}_inverseFFT(e,t,i){let a=0;const o=e.length;for(let h=0;h<o;h++)a+=e[h]*Math.cos(h*i)+t[h]*Math.sin(h*i);return a}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let i=0;const a=Math.PI*2,o=32;for(let h=0;h<o;h++)i=Math.max(this._inverseFFT(e,t,h/o*a),i);return iC(-this._inverseFFT(e,t,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return du(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Qr._periodicWaveCache=[];class c3 extends fc{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new ud({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class xl extends er{constructor(){const e=Ut(xl.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new ei({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(er.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Tp extends Hi{constructor(){const e=Ut(Tp.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new c3({context:this.context}),this._modulationNode=new ei({context:this.context}),this._carrier=new Qr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Qr({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new xl({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),hr(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Qr.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return du(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Ep extends Hi{constructor(){const e=Ut(Ep.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new ei({context:this.context,gain:0}),this._carrier=new Qr({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new er({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Qr({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new xl({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new xl({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),hr(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Qr.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return du(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class hd extends Hi{constructor(){const e=Ut(hd.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new ei({context:this.context,gain:0}),this._thresh=new ud({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new er({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Qr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),hr(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Hi.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return du(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class kp extends Hi{constructor(){const e=Ut(kp.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new er({context:this.context,units:"frequency",value:e.frequency}),this.detune=new er({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,hr(this,["frequency","detune"])}static getDefaults(){return Object.assign(Qr.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,i=e/(this._oscillators.length-1);this._forEach((a,o)=>a.detune.value=t+i*o)}}get count(){return this._oscillators.length}set count(e){if(yl(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const i=new Qr({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):Wn});this.type==="custom"&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[t]=i}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,i)=>t.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return du(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Mp extends Hi{constructor(){const e=Ut(Mp.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new xl({context:this.context,value:2}),this._pulse=new hd({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Qr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),hr(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Hi.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return du(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const cb={am:Tp,fat:kp,fm:Ep,oscillator:Qr,pulse:hd,pwm:Mp};class pc extends Hi{constructor(){const e=Ut(pc.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new er({context:this.context,units:"frequency",value:e.frequency}),this.detune=new er({context:this.context,units:"cents",value:e.detune}),hr(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Qr.getDefaults(),Ep.getDefaults(),Tp.getDefaults(),kp.getDefaults(),hd.getDefaults(),Mp.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=cb[e],i=this.now();if(this._oscillator){const a=this._oscillator;a.stop(i),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof cb[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&vl(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&vl(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&bl(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return du(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Yg extends er{constructor(){super(Ut(Yg.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new ei({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Yf(this._constantSource,this._sum)}static getDefaults(){return Object.assign(er.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Wg extends fc{constructor(){const e=Ut(Wg.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new xl({context:this.context,value:e.max-e.min}),this._add=this.output=new Yg({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(fc.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function u3(r,e=1/0){const t=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){yl(o,r,e),t.set(this,o)}})}}function Sl(r,e=1/0){const t=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){yl(this.toSeconds(o),r,e),t.set(this,o)}})}}class Op extends Hi{constructor(){const e=Ut(Op.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new lr({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Hi.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Wn,onerror:Wn,playbackRate:1,reverse:!1})}load(e){return Jr(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Wn){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,i){return super.start(e,t,i),this}_start(e,t,i){this._loop?t=xh(t,this._loopStart):t=xh(t,0);const a=this.toSeconds(t),o=i;i=xh(i,Math.max(this._buffer.duration-a,0));let h=this.toSeconds(i);h=h/this._playbackRate,e=this.toSeconds(e);const c=new Cp({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+h),this._state.setStateAtTime("stopped",e+h,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&ba(o)?c.start(e,a):c.start(e,a,h-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(i=>i.stop(t))}restart(e,t,i){return super.restart(e,t,i),this}_restart(e,t,i){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,t,i)}seek(e,t){const i=this.toSeconds(t);if(this._state.getValueAtTime(i)==="started"){const a=this.toSeconds(e);this._stop(i),this._start(i,a)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&yl(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&yl(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),i=this._state.getNextState("stopped",t);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}so([Sl(0)],Op.prototype,"fadeIn",void 0);so([Sl(0)],Op.prototype,"fadeOut",void 0);class Ks extends Jt{constructor(){const e=Ut(Ks.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new er({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Jt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(bl(e))return e;{let i;for(i in m1)if(m1[i][t]===e)return i;return e}}_setCurve(e,t,i){if(bl(i)&&Reflect.has(m1,i)){const a=m1[i];iu(a)?e!=="_decayCurve"&&(this[e]=a[t]):this[e]=a}else if($s(i)&&e!=="_decayCurve")this[e]=i;else throw new Error("Envelope: invalid curve: "+i)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),h=this.getValueAtTime(e);if(h>0){const c=1/a;a=(1-h)/c}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,a,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let f=1;f<c.length;f++)if(c[f-1]<=h&&h<=c[f]){c=this._attackCurve.slice(f),c[0]=h;break}this._sig.setValueCurveAtTime(c,e,a,t)}if(o&&this.sustain<1){const c=t*this.sustain,f=e+a;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,o+f):this._sig.exponentialApproachValueAtTime(c,f,o)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,i,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,i,e):(Wt($s(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,i,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,i=1){return t=this.toSeconds(t),this.triggerAttack(t,i),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,i=0){return Fg(this,e,t,i),this}asArray(){return Jr(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,i=new Dg(1,t,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=a+this.toSeconds(this.release),h=o*.1,c=o+h,f=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:i}));return f._sig.toDestination(),f.triggerAttackRelease(t*(a+h)/c,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}so([Sl(0)],Ks.prototype,"attack",void 0);so([Sl(0)],Ks.prototype,"decay",void 0);so([u3(0,1)],Ks.prototype,"sustain",void 0);so([Sl(0)],Ks.prototype,"release",void 0);const m1=(()=>{let e,t;const i=[];for(e=0;e<128;e++)i[e]=Math.sin(e/127*(Math.PI/2));const a=[],o=6.4;for(e=0;e<127;e++){t=e/127;const _=Math.sin(t*(Math.PI*2)*o-Math.PI/2)+1;a[e]=_/10+t*.83}a[127]=1;const h=[],c=5;for(e=0;e<128;e++)h[e]=Math.ceil(e/127*c)/c;const f=[];for(e=0;e<128;e++)t=e/127,f[e]=.5*(1-Math.cos(Math.PI*t));const d=[];for(e=0;e<128;e++){t=e/127;const _=Math.pow(t,3)*4+.2,v=Math.cos(_*Math.PI*2*t);d[e]=Math.abs(v*(1-t))}function m(_){const v=new Array(_.length);for(let S=0;S<_.length;S++)v[S]=1-_[S];return v}function y(_){return _.slice(0).reverse()}return{bounce:{In:m(d),Out:d},cosine:{In:i,Out:y(i)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:m(a)},sine:{In:f,Out:m(f)},step:{In:h,Out:m(h)}}})();class mc extends Jt{constructor(){const e=Ut(mc.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new Vh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,hr(this,"volume")}static getDefaults(){return Object.assign(Jt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const i=this["_original_"+e]=this[e];this[e]=(...a)=>{const o=a[t],h=this.context.transport.schedule(c=>{a[t]=c,i.apply(this,a)},o);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,i,a){const o=this.toSeconds(i),h=this.toSeconds(t);return this.triggerAttack(e,o,a),this.triggerRelease(o+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ja extends mc{constructor(){const e=Ut(Ja.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(mc.getDefaults(),{detune:0,onsilence:Wn,portamento:0})}triggerAttack(e,t,i=1){this.log("triggerAttack",e,t,i);const a=this.toSeconds(t);return this._triggerEnvelopeAttack(a,i),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const i=this.toSeconds(t),a=e instanceof Ws?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,o,i)}else this.frequency.setValueAtTime(a,i);return this}}so([Sl(0)],Ja.prototype,"portamento",void 0);class Lp extends Ks{constructor(){super(Ut(Lp.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ei({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class va extends Ja{constructor(){const e=Ut(va.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new pc(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Lp(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),hr(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ja.getDefaults(),{envelope:Object.assign(Za(Ks.getDefaults(),Object.keys(Jt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Za(pc.getDefaults(),[...Object.keys(Hi.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Wf extends Ja{constructor(){const e=Ut(Wf.getDefaults(),arguments);super(e),this.name="ModulationSynth",this._carrier=new va({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new va({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new er({context:this.context,units:"frequency"}),this.detune=new er({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new xl({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new ei({context:this.context,gain:0}),hr(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Ja.getDefaults(),{harmonicity:3,oscillator:Object.assign(Za(pc.getDefaults(),[...Object.keys(Hi.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Za(Ks.getDefaults(),Object.keys(Jt.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Za(pc.getDefaults(),[...Object.keys(Hi.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Za(Ks.getDefaults(),Object.keys(Jt.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class Q1 extends Wf{constructor(){super(Ut(Q1.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new c3({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class J1 extends Jt{constructor(){const e=Ut(J1.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Jn({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Jn({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(Jt.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){Wt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let h=0;h<e;h++){const f=Math.pow(h/e,2)*19980+20;t[h]=f}const i=new Float32Array(e),a=new Float32Array(e),o=this.context.createBiquadFilter();return o.type=this.type,o.Q.value=this.Q.value,o.frequency.value=this.frequency.value,o.gain.value=this.gain.value,o.getFrequencyResponse(t,i,a),i}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class ep extends Jt{constructor(){const e=Ut(ep.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new ei({context:this.context}),this.output=new ei({context:this.context}),this._filters=[],this._filters=[],this.Q=new er({context:this.context,units:"positive",value:e.Q}),this.frequency=new er({context:this.context,units:"frequency",value:e.frequency}),this.detune=new er({context:this.context,units:"cents",value:e.detune}),this.gain=new er({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,hr(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Jt.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){Wt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(i=>i.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const t=vl(e)?e:parseInt(e,10),i=[-12,-24,-48,-96];let a=i.indexOf(t);Wt(a!==-1,`rolloff can only be ${i.join(", ")}`),a+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach(o=>o.disconnect()),this._filters=new Array(a);for(let o=0;o<a;o++){const h=new J1({context:this.context});h.type=this._type,this.frequency.connect(h.frequency),this.detune.connect(h.detune),this.Q.connect(h.Q),this.gain.connect(h.gain),this._filters[o]=h}this._internalChannels=this._filters,Yf(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new J1({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),i=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{t.getFrequencyResponse(e).forEach((o,h)=>i[h]*=o)}),t.dispose(),i}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),jg(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class tp extends Ks{constructor(){const e=Ut(tp.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="FrequencyEnvelope",this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new Ap({context:this.context,value:e.exponent}),this._scale=this.output=new Wg({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Ks.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);yl(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class np extends Ja{constructor(){const e=Ut(np.getDefaults(),arguments);super(e),this.name="MonoSynth",this.oscillator=new pc(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new ep(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new tp(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new Lp(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),hr(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Ja.getDefaults(),{envelope:Object.assign(Za(Ks.getDefaults(),Object.keys(Jt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Za(ep.getDefaults(),Object.keys(Jt.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Za(tp.getDefaults(),Object.keys(Jt.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Za(pc.getDefaults(),Object.keys(Hi.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Rf extends Wf{constructor(){const e=Ut(Rf.getDefaults(),arguments);super(e),this.name="FMSynth",this.modulationIndex=new xl({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Wf.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class jp extends va{constructor(){const e=Ut(jp.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,hr(this,["oscillator","envelope"])}static getDefaults(){return su(Ja.getDefaults(),va.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const i=this.toSeconds(t),a=this.toFrequency(e instanceof Ws?e.toFrequency():e),o=a*this.octaves;return this.oscillator.frequency.setValueAtTime(o,i),this.oscillator.frequency.exponentialRampToValueAtTime(a,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}so([u3(0)],jp.prototype,"octaves",void 0);so([Sl(0)],jp.prototype,"pitchDecay",void 0);const h3=new Set;function Xg(r){h3.add(r)}function f3(r,e){const t=`registerProcessor("${r}", ${e})`;h3.add(t)}const _C=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Xg(_C);const wC=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Xg(wC);const SC=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Xg(SC);const AC="feedback-comb-filter",NC=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;f3(AC,NC);class Ns extends mc{constructor(){const e=Ut(Ns.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),Wt(!vl(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const i=this._voices.indexOf(this._dummyVoice);this._voices.splice(i,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(mc.getDefaults(),{maxPolyphony:32,options:{},voice:va})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex(i=>i.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Wt(e instanceof Ja,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else xp("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,i){e.forEach(a=>{const o=new K1(this.context,a).toMidi(),h=this._getNextAvailableVoice();h&&(h.triggerAttack(a,t,i),this._activeVoices.push({midi:o,voice:h,released:!1}),this.log("triggerAttack",a,t))})}_triggerRelease(e,t){e.forEach(i=>{const a=new K1(this.context,i).toMidi(),o=this._activeVoices.find(({midi:h,released:c})=>h===a&&!c);o&&(o.voice.triggerRelease(t),o.released=!0,this.log("triggerRelease",i,t))})}_scheduleEvent(e,t,i,a){Wt(!this.disposed,"Synth was already disposed"),i<=this.now()?e==="attack"?this._triggerAttack(t,i,a):this._triggerRelease(t,i):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,t,i,a)},i-this.now())}triggerAttack(e,t,i){Array.isArray(e)||(e=[e]);const a=this.toSeconds(t);return this._scheduleEvent("attack",e,a,i),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const i=this.toSeconds(t);return this._scheduleEvent("release",e,i),this}triggerAttackRelease(e,t,i,a){const o=this.toSeconds(i);if(this.triggerAttack(e,o,a),$s(t)){Wt($s(e),"If the duration is an array, the notes must also be an array"),e=e;for(let h=0;h<e.length;h++){const c=t[Math.min(h,t.length-1)],f=this.toSeconds(c);Wt(f>0,"The duration must be greater than 0"),this.triggerRelease(e[h],o+f)}}else{const h=this.toSeconds(t);Wt(h>0,"The duration must be greater than 0"),this.triggerRelease(e,o+h)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const t=Za(e,["onsilence","context"]);return this.options=su(this.options,t),this._voices.forEach(i=>i.set(t)),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach(({voice:i})=>{i.triggerRelease(t)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class fd extends mc{constructor(){const e=Ut(fd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(i=>{const a=parseInt(i,10);if(Wt(p1(i)||vl(a)&&isFinite(a),`url key is neither a note or midi pitch: ${i}`),p1(i)){const o=new Ws(this.context,i).toMidi();t[o]=e.urls[i]}else vl(a)&&isFinite(a)&&(t[a]=e.urls[a])}),this._buffers=new Ug({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(mc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Wn,onerror:Wn,release:.1,urls:{}})}_findClosest(e){let i=0;for(;i<96;){if(this._buffers.has(e+i))return-i;if(this._buffers.has(e-i))return i;i++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,i=1){return this.log("triggerAttack",e,t,i),Array.isArray(e)||(e=[e]),e.forEach(a=>{const o=s3(new Ws(this.context,a).toFrequency()),h=Math.round(o),c=o-h,f=this._findClosest(h),d=h-f,m=this._buffers.get(d),y=i3(f+c),_=new Cp({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);_.start(t,0,m.duration/y,i),$s(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(_),_.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const v=this._activeSources.get(h),S=v.indexOf(_);S!==-1&&v.splice(S,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(i=>{const a=new Ws(this.context,i).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const o=this._activeSources.get(a);t=this.toSeconds(t),o.forEach(h=>{h.stop(t)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,i,a=1){const o=this.toSeconds(i);return this.triggerAttack(e,o,a),$s(t)?(Wt($s(e),"notes must be an array when duration is array"),e.forEach((h,c)=>{const f=t[Math.min(c,t.length-1)];this.triggerRelease(h,o+this.toSeconds(f))})):this.triggerRelease(e,o+this.toSeconds(t)),this}add(e,t,i){if(Wt(p1(e)||isFinite(e),`note must be a pitch or midi: ${e}`),p1(e)){const a=new Ws(this.context,e).toMidi();this._buffers.add(a,t,i)}else this._buffers.add(e,t,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}so([Sl(0)],fd.prototype,"attack",void 0);so([Sl(0)],fd.prototype,"release",void 0);class Zg extends Jt{constructor(){const e=Ut(Zg.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Jn({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",hr(this,"pan")}static getDefaults(){return Object.assign(Jt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const CC="bit-crusher",TC=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;f3(CC,TC);class Kr extends Jt{constructor(){const e=Ut(Kr.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new ei({context:this.context}),Kr._allSolos.has(this.context)||Kr._allSolos.set(this.context,new Set),Kr._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Jt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Kr._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Kr._soloed.has(this.context)||Kr._soloed.set(this.context,new Set),Kr._soloed.get(this.context).add(this)}_removeSolo(){Kr._soloed.has(this.context)&&Kr._soloed.get(this.context).delete(this)}_isSoloed(){return Kr._soloed.has(this.context)&&Kr._soloed.get(this.context).has(this)}_noSolos(){return!Kr._soloed.has(this.context)||Kr._soloed.has(this.context)&&Kr._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Kr._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Kr._allSolos=new Map;Kr._soloed=new Map;class $g extends Jt{constructor(){const e=Ut($g.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Zg({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Vh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,hr(this,["pan","volume"])}static getDefaults(){return Object.assign(Jt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class bh extends Jt{constructor(){const e=Ut(bh.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Kr({solo:e.solo,context:this.context}),this._panVol=this.output=new $g({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),hr(this,["pan","volume"])}static getDefaults(){return Object.assign(Jt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return bh.buses.has(e)||bh.buses.set(e,new ei({context:this.context})),bh.buses.get(e)}send(e,t=0){const i=this._getBus(e),a=new ei({context:this.context,units:"decibels",gain:t});return this.connect(a),a.connect(i),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}bh.buses=new Map;const is=$a().transport,d3=$a().destination;$a().destination;$a().listener;const EC=$a().draw,Xs=$a();function kC(){return lr.loaded()}const g1=({cx:r,cy:e,innerRadius:t,outerRadius:i,startAngle:a,endAngle:o,color:h,label:c,chord:f,isSelected:d,isDiatonic:m,isSecondary:y=!1,onClick:_,onDoubleClick:v,ringType:S="major",wheelRotation:N=0,romanNumeral:C,voicingSuggestion:T,segmentId:R="seg",onHover:D})=>{const F=F4(r,e,t,i,a,o),B=(a+o)/2,G=dn.useRef(0),z=dn.useRef(null),[j,V]=dn.useState(!1),Z=-N,k=i-t,I=t+k*.5,te=t+k*.18,$=cc(r,e,I,B),ne=cc(r,e,te,B),K=i-6,re=V4(r,e,K,a+1,o-1),ae=`voicing-arc-${R}`,fe=`clip-${R}`,Y=(()=>{let at=.35,Xe=.5;m?(at=1,Xe=1):y&&(at=.7,Xe=.65);const Ce=h.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(Ce){const Qe=parseInt(Ce[1]),et=Math.round(parseInt(Ce[2])*Xe),ft=parseInt(Ce[3]);let dt=ft;return S==="minor"?dt=Math.max(ft-8,30):S==="diminished"&&(dt=Math.max(ft-15,25)),{fill:`hsl(${Qe}, ${et}%, ${dt}%)`,opacity:at}}return{fill:h,opacity:at}})(),O=()=>S==="diminished"?"10px":S==="minor"?"12px":"14px",q=m||y,J=q?"#000000":"rgba(255,255,255,0.7)",se=m?"bold":y?"600":"normal",ue=S==="diminished"||S==="minor"?"6px":"8px",me=S==="major"?q?6:5:S==="minor"?q?4:3.25:q?3.5:3,de=q?1:.95,xe=()=>{V(!0)},Ne=async at=>{at.preventDefault(),at.stopPropagation(),V(!1),Xs.state!=="running"&&await cd();const Xe=Date.now(),Ce=Xe-G.current;z.current&&(clearTimeout(z.current),z.current=null),Ce<300&&Ce>0?(G.current=0,v&&v(f)):(G.current=Xe,z.current=setTimeout(()=>{_(f),z.current=null},300))},Ue=()=>{V(!1),z.current&&(clearTimeout(z.current),z.current=null)},Ke=at=>{at.stopPropagation(),st.current&&(clearTimeout(st.current),st.current=null),D&&D(null,0,0),_(f)},it=at=>{at.stopPropagation(),st.current&&(clearTimeout(st.current),st.current=null),D&&D(null,0,0),v&&v(f)},st=dn.useRef(null),H=at=>{if(!D)return;const Xe=at.clientX,Ce=at.clientY;st.current=setTimeout(()=>{D("Select a chord slot in the timeline, then double-click a chord or chord voicing to add to the timeline.",Xe,Ce)},3e3)},je=()=>{st.current&&(clearTimeout(st.current),st.current=null),D&&D(null,0,0)};return E.jsxs("g",{className:Li("cursor-pointer transition-all duration-200",!q&&"hover:opacity-70",j&&"opacity-80"),onClick:Ke,onDoubleClick:it,onTouchStart:xe,onTouchEnd:Ne,onTouchCancel:Ue,onMouseEnter:H,onMouseLeave:je,style:{pointerEvents:"all",WebkitTapHighlightColor:"transparent"},children:[(m||y)&&T&&E.jsx("defs",{children:E.jsx("path",{id:ae,d:re,fill:"none"})}),E.jsx("defs",{children:E.jsx("clipPath",{id:fe,children:E.jsx("path",{d:F})})}),E.jsx("path",{d:F,fill:Y.fill,opacity:Y.opacity,stroke:C==="I"?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",strokeWidth:C==="I"?2.5:1,className:Li("transition-all duration-200 hover:brightness-110",d&&"brightness-125 stroke-white stroke-2",q&&"hover:brightness-105"),style:{pointerEvents:"all"}}),d&&E.jsx("path",{d:F,fill:"none",stroke:"white",strokeWidth:me,opacity:de,filter:"url(#segment-glow)",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none",clipPath:`url(#${fe})`}),(m||y)&&T&&S==="major"&&E.jsx("text",{fill:"rgba(0,0,0,0.6)",fontSize:"6px",className:"pointer-events-none select-none",children:E.jsx("textPath",{href:`#${ae}`,startOffset:"50%",textAnchor:"middle",children:T})}),m&&T&&S==="minor"&&E.jsx("text",{fill:"rgba(0,0,0,0.55)",fontSize:"5px",className:"pointer-events-none select-none",children:E.jsx("textPath",{href:`#${ae}`,startOffset:"50%",textAnchor:"middle",children:T})}),m&&T&&S==="diminished"&&E.jsx("text",{fill:"rgba(0,0,0,0.5)",fontSize:"5px",className:"pointer-events-none select-none",children:E.jsx("textPath",{href:`#${ae}`,startOffset:"50%",textAnchor:"middle",children:T})}),E.jsx("text",{x:$.x,y:$.y,textAnchor:"middle",dominantBaseline:"middle",fill:J,fontWeight:se,fontSize:O(),className:"pointer-events-none select-none",transform:`rotate(${Z}, ${$.x}, ${$.y})`,children:c}),(m||y)&&C&&E.jsx("text",{x:ne.x,y:ne.y,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(0,0,0,0.6)",fontSize:ue,fontStyle:"italic",className:"pointer-events-none select-none",transform:`rotate(${Z}, ${ne.x}, ${ne.y})`,children:C})]})};const MC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),ub=r=>{const e=OC(r);return e.charAt(0).toUpperCase()+e.slice(1)},p3=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),LC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var jC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DC=he.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:h,...c},f)=>he.createElement("svg",{ref:f,...jC,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:p3("lucide",a),...!o&&!LC(c)&&{"aria-hidden":"true"},...c},[...h.map(([d,m])=>he.createElement(d,m)),...Array.isArray(o)?o:[o]]));const Nn=(r,e)=>{const t=he.forwardRef(({className:i,...a},o)=>he.createElement(DC,{ref:o,iconNode:e,className:p3(`lucide-${MC(ub(r))}`,`lucide-${r}`,i),...a}));return t.displayName=ub(r),t};const RC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],IC=Nn("arrow-right",RC);const VC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_h=Nn("chevron-down",VC);const FC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gm=Nn("chevron-right",FC);const BC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ym=Nn("chevron-left",BC);const qC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],m3=Nn("chevron-up",qC);const zC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],PC=Nn("circle-question-mark",zC);const UC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],HC=Nn("circle",UC);const GC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],YC=Nn("clock",GC);const WC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],XC=Nn("copy",WC);const ZC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],$C=Nn("download",ZC);const KC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],QC=Nn("file-plus",KC);const JC=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],eT=Nn("folder-open",JC);const tT=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],nT=Nn("grip-horizontal",tT);const rT=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],g3=Nn("grip-vertical",rT);const iT=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],sT=Nn("hash",iT);const aT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],oT=Nn("layers",aT);const lT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cT=Nn("loader-circle",lT);const uT=[["path",{d:"M5 12h14",key:"1ays0h"}]],hT=Nn("minus",uT);const fT=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Wm=Nn("music",fT);const dT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],pT=Nn("panel-right-close",dT);const mT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],gT=Nn("panel-right",mT);const vT=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],bT=Nn("pause",vT);const yT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xT=Nn("play",yT);const _T=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],v3=Nn("plus",_T);const wT=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],ST=Nn("repeat",wT);const AT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],b3=Nn("rotate-ccw",AT);const NT=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],y3=Nn("rotate-cw",NT);const CT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],hb=Nn("save",CT);const TT=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],ET=Nn("skip-back",TT);const kT=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],MT=Nn("skip-forward",kT);const OT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xm=Nn("trash-2",OT);const LT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],jT=Nn("volume-2",LT);const DT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],RT=Nn("volume-x",DT);const IT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fb=Nn("x",IT);let gc={piano:null,epiano:null,guitar:null,organ:null,synth:null,strings:null,pad:null,brass:null,marimba:null,bell:null,lead:null,bass:null,choir:null},Kg="piano",Ef=null,O1=[],rp={},db=!1,Eo=null;const x3=async()=>{if(!db){if(console.log("[iOS Audio] Starting unlock sequence..."),"audioSession"in navigator)try{navigator.audioSession.type="playback",console.log("[iOS Audio] Set audioSession.type to playback")}catch(r){console.warn("[iOS Audio] Could not set audioSession type:",r)}Eo||(Eo=document.createElement("audio"),Eo.src="data:audio/mpeg;base64,/+NIxAAAAAANIAAAAAExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/jSMQADwAAADSAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",Eo.loop=!0,Eo.volume=.001,Eo.muted=!1,Eo.setAttribute("playsinline","true"),Eo.setAttribute("x-webkit-airplay","deny"),document.body.appendChild(Eo));try{const r=Eo.play();r!==void 0&&await r,console.log("[iOS Audio] Silent looping audio started successfully")}catch(r){console.warn("[iOS Audio] Silent audio failed:",r)}try{await cd(),console.log("[iOS Audio] Tone.start() completed, state:",Xs.state)}catch(r){console.warn("[iOS Audio] Tone.start() failed:",r)}if(Xs.state!=="running")try{await Xs.resume(),console.log("[iOS Audio] Context resumed, state:",Xs.state)}catch(r){console.warn("[iOS Audio] Context resume failed:",r)}db=!0,console.log("[iOS Audio] Unlock sequence complete")}},Qg=r=>{r in gc&&(Kg=r)},_3=r=>{const e=r<=0?-1/0:20*Math.log10(r);try{d3.volume.rampTo(e,.1)}catch(t){console.error("Error setting volume:",t)}},w3=r=>{d3.mute=r},Fh=async()=>{if(Ef)return Ef;Ef=(async()=>{const r="https://tonejs.github.io/audio/salamander/",e=(t,i)=>{if(!gc[t])try{const a=i();a&&(gc[t]=a)}catch(a){console.error(`Failed to init instrument "${t}"`,a)}};e("piano",()=>new fd({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:r}).toDestination()),e("guitar",()=>new Ns(va,{oscillator:{type:"triangle"},envelope:{attack:.002,decay:.25,sustain:.3,release:1.2},filter:{type:"lowpass",frequency:2400,rolloff:-12,Q:1.2},filterEnvelope:{attack:.002,decay:.25,sustain:.2,release:.8,baseFrequency:800,octaves:2.5}}).toDestination()),e("organ",()=>new Ns(Q1,{harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("synth",()=>new Ns(Rf,{harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("epiano",()=>new Ns(Q1,{harmonicity:2,oscillator:{type:"triangle"},envelope:{attack:.01,decay:.2,sustain:.7,release:.8},modulation:{type:"sine"},modulationEnvelope:{attack:.2,decay:.1,sustain:.6,release:.6}}).toDestination()),e("strings",()=>new Ns(va,{oscillator:{type:"sawtooth"},envelope:{attack:.2,decay:.2,sustain:.8,release:1.2}}).toDestination()),e("pad",()=>new Ns(Rf,{harmonicity:1.5,modulationIndex:8,oscillator:{type:"sine"},envelope:{attack:.5,decay:.3,sustain:.9,release:1.5},modulation:{type:"triangle"},modulationEnvelope:{attack:.8,decay:.3,sustain:.8,release:1.2}}).toDestination()),e("brass",()=>new Ns(np,{oscillator:{type:"square"},filter:{Q:2,type:"lowpass",rolloff:-12},envelope:{attack:.02,decay:.25,sustain:.6,release:.7},filterEnvelope:{attack:.01,decay:.2,sustain:.8,release:.4,baseFrequency:200,octaves:2.5}}).toDestination()),e("marimba",()=>new Ns(va,{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.35,sustain:0,release:.6}}).toDestination()),e("bell",()=>new Ns(Rf,{harmonicity:8,modulationIndex:2,oscillator:{type:"sine"},envelope:{attack:.01,decay:1.2,sustain:0,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.01,decay:.5,sustain:0,release:1.2}}).toDestination()),e("lead",()=>new Ns(va,{oscillator:{type:"sawtooth"},envelope:{attack:.005,decay:.15,sustain:.6,release:.35}}).toDestination()),e("bass",()=>new Ns(np,{oscillator:{type:"square"},filter:{type:"lowpass",rolloff:-24,Q:2},envelope:{attack:.01,decay:.2,sustain:.6,release:.4},filterEnvelope:{attack:.001,decay:.15,sustain:.4,release:.2,baseFrequency:80,octaves:3}}).toDestination()),e("choir",()=>new Ns(va,{oscillator:{type:"sine"},envelope:{attack:.8,decay:.3,sustain:.9,release:1.8}}).toDestination()),await kC()})();try{await Ef}catch(r){Ef=null,console.error("Failed to initialize audio",r)}},pb=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],ml=async(r,e="1n",t)=>{if(Xs.state!=="running"&&await cd(),Xs.state==="suspended"&&await Xs.resume(),await Fh(),!r||r.length===0)return;const i=r[0],a=pb.indexOf(i.replace(/\d/,"")),o=r.map((c,f)=>{if(c.match(/\d/))return c;const d=c,m=pb.indexOf(d);if(f===0)return`${d}3`;let y=3;return(m<a||m-a>6)&&(y=4),f>=4&&(y=4),f>=5&&(y=5),`${d}${y}`});let h=gc[Kg];if(h||(h=gc.piano),!h){console.error("No instrument available to play!");return}try{h.triggerAttackRelease(o,e,t)}catch(c){console.error("Failed to play chord",c)}},S3=async(r,e=4,t="8n")=>{Xs.state!=="running"&&await cd(),Xs.state==="suspended"&&await Xs.resume(),await Fh();let i=gc[Kg];if(i||(i=gc.piano),!i){console.error("No instrument available to play!");return}const a=`${r}${e}`;try{i.triggerAttackRelease(a,t)}catch(o){console.error(`Failed to play note ${a}`,o)}},A3=()=>{Object.values(gc).forEach(t=>t?.releaseAll()),is.stop();const{setPlayingSlot:r,setIsPlaying:e}=Rr.getState();r(null,null),e(!1)},Xf=r=>{const e=Math.floor(r/4),t=Math.floor(r%4),i=Math.floor(r%1*4);return`${e}:${t}:${i}`},Jg=r=>{is.cancel(0),O1=[],rp={},is.timeSignature=4;let e=0;r.sections.forEach(i=>{rp[i.id]=e,i.measures.forEach(a=>{a.beats.forEach(o=>{const h=Xf(e),c=o.duration,f=c*4,d=`${Math.floor(f/16)}:${Math.floor(f%16/4)}:${f%4}`,m=is.schedule(y=>{EC.schedule(()=>{Rr.getState().setPlayingSlot(i.id,o.id)},y),o.chord&&ml(o.chord.notes,d,y)},h);O1.push(m),e+=c})})});const t=is.schedule(()=>{Rr.getState().isLooping||A3()},Xf(e));O1.push(t)},VT=async()=>{await Fh()},N3=async()=>{await Fh(),Xs.state!=="running"&&await Xs.resume();const{tempo:r,currentSong:e}=Rr.getState();is.bpm.value=r,O1.length===0&&Jg(e),is.start()},C3=()=>{is.pause()},T3=r=>{is.bpm.value=r},E3=r=>{const{currentSong:e,playingSectionId:t}=Rr.getState(),i=e.sections.map(m=>m.id);let a=t?i.indexOf(t):-1;a===-1&&(a=0);let o=r==="next"?a+1:a-1;o>=i.length&&(o=0),o<0&&(o=0);const h=i[o],c=rp[h]||0,f=Xf(c);is.position=f;const d=e.sections[o].measures[0]?.beats[0];d&&Rr.getState().setPlayingSlot(h,d.id)},k3=()=>{const{isLooping:r,playingSectionId:e,selectedSectionId:t,currentSong:i}=Rr.getState();if(r){const a=e||t,o=i.sections.find(h=>h.id===a);if(o){const h=rp[o.id]??0;let c=0;o.measures.forEach(d=>d.beats.forEach(m=>c+=m.duration));const f=h+c;is.loopStart=Xf(h),is.loopEnd=Xf(f),is.loop=!0;return}}is.loop=!1},FT=Object.freeze(Object.defineProperty({__proto__:null,initAudio:Fh,pauseSong:C3,playChord:ml,playNote:S3,playSong:N3,preloadAudio:VT,scheduleSong:Jg,setInstrument:Qg,setMute:w3,setTempo:T3,setVolume:_3,skipToSection:E3,stopAudio:A3,toggleLoopMode:k3,unlockAudioForIOS:x3},Symbol.toStringTag,{value:"Module"})),mb=768;function dd(){const[r,e]=he.useState(()=>typeof window<"u"?window.innerWidth<mb:!1);return he.useEffect(()=>{const t=()=>e(window.innerWidth<mb);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),r}const BT=({zoomScale:r,zoomOriginY:e,onZoomChange:t})=>{const{selectedKey:i,setKey:a,wheelRotation:o,wheelMode:h,rotateWheel:c,toggleWheelMode:f,addChordToSlot:d,selectedSectionId:m,selectedSlotId:y,currentSong:_,setSelectedChord:v,selectedChord:S,selectNextSlotAfter:N,setSelectedSlot:C}=Rr(),T=h==="rotating"?o:0,R=jf.indexOf(i),D=he.useRef(null),F=he.useRef(null),[B,G]=he.useState(null),[z,j]=he.useState({x:0,y:0}),V=dd();he.useEffect(()=>{const Ee=S?.segmentId??null;G(Ee)},[S]);const Z=he.useRef(null),k=he.useRef(null),[I,te]=he.useState(!1),$=he.useRef(0),ne=he.useRef(0),[K,re]=he.useState(!1),ae=he.useRef(null),fe=he.useCallback((Ee,Ve)=>{if(!k.current)return 0;const We=k.current.getBoundingClientRect(),Ze=We.left+We.width/2,gt=We.top+We.height/2,St=Ee-Ze,Mt=Ve-gt;return Math.atan2(Mt,St)*(180/Math.PI)},[]),_e=he.useCallback(Ee=>{const Ve=jf.indexOf(i),We=Ee==="cw"?(Ve+1)%12:(Ve-1+12)%12;a(jf[We]),c(Ee)},[i,a,c]),Y=he.useRef(null),O=he.useRef(!1),q=he.useCallback(Ee=>{if(V||!k.current||!Z.current)return;const Ve=k.current.getBoundingClientRect(),We=Ve.width/2,Ze=Ve.height/2,gt=Ee.clientX-Ve.left-We,St=Ee.clientY-Ve.top-Ze,Mt=Math.sqrt(gt*gt+St*St),$t=Ve.width/600*70,Bt=Ve.width/600*250;Mt>$t&&Mt<=Bt?(te(!0),$.current=fe(Ee.clientX,Ee.clientY),ne.current=o,Ee.preventDefault()):Mt>Bt&&r>1&&(re(!0),ae.current={x:Ee.clientX,y:Ee.clientY},Ee.preventDefault())},[fe,o,V,r]),J=he.useCallback(Ee=>{if(Ee.touches.length!==1)return;const Ve=Ee.touches[0];if(Y.current={x:Ve.clientX,y:Ve.clientY},O.current=!1,!k.current)return;const We=k.current.getBoundingClientRect(),Ze=We.width/2,gt=We.height/2,St=Ve.clientX-We.left-Ze,Mt=Ve.clientY-We.top-gt,$t=Math.sqrt(St*St+Mt*Mt),Bt=We.width/600*70;$t>Bt&&($.current=fe(Ve.clientX,Ve.clientY),ne.current=o)},[fe,o]),se=he.useCallback(Ee=>{if(Ee.touches.length!==1||!Y.current)return;const Ve=Ee.touches[0],We=Ve.clientX-Y.current.x,Ze=Ve.clientY-Y.current.y;if(Math.sqrt(We*We+Ze*Ze)>10){if(O.current=!0,Ee.preventDefault(),!k.current)return;const St=k.current.getBoundingClientRect(),Mt=St.width/2,$t=St.height/2,Bt=Ve.clientX-St.left,Yt=Ve.clientY-St.top,en=Math.sqrt(Math.pow(Bt-Mt,2)+Math.pow(Yt-$t,2)),Ar=St.width/600*70;if(en>Ar&&$.current!==0){const qn=fe(Ve.clientX,Ve.clientY),pn=qn-$.current;if(Math.abs(pn)>=15){const Tn=Math.round(pn/30);if(Tn!==0){const br=h==="fixed"?Tn>0?"cw":"ccw":Tn>0?"ccw":"cw",Hr=Math.abs(Tn);for(let Gr=0;Gr<Hr;Gr++)_e(br);$.current=qn}}}}},[fe,_e,h]),ue=he.useCallback(Ee=>{if(!I)return;const Ve=fe(Ee.clientX,Ee.clientY),We=Ve-$.current;if(Math.abs(We)>=15){const Ze=Math.round(We/30);if(Ze!==0){let gt;h==="fixed"?gt=Ze>0?"cw":"ccw":gt=Ze>0?"ccw":"cw";const St=Math.abs(Ze);for(let Mt=0;Mt<St;Mt++)_e(gt);$.current=Ve}}},[I,fe,_e,h]),me=he.useCallback(()=>{te(!1)},[]);he.useEffect(()=>{if(I)return document.addEventListener("mousemove",ue),document.addEventListener("mouseup",me),()=>{document.removeEventListener("mousemove",ue),document.removeEventListener("mouseup",me)}},[I,ue,me]);const de=he.useCallback((Ee,Ve,We)=>{if(!Z.current||We<=1)return{x:0,y:0};const{clientWidth:Ze,clientHeight:gt}=Z.current,St=12,Mt=Ze*(We-1)/2+St,$t=gt*(We-1)/2+St;return{x:Math.max(-Mt,Math.min(Mt,Ee)),y:Math.max(-$t,Math.min($t,Ve))}},[]);he.useEffect(()=>{j(Ee=>de(Ee.x,Ee.y,r))},[r,de]);const xe=he.useCallback(Ee=>{if(!K||!ae.current)return;const Ve=Ee.clientX-ae.current.x,We=Ee.clientY-ae.current.y;j(Ze=>de(Ze.x+Ve,Ze.y+We,r)),ae.current={x:Ee.clientX,y:Ee.clientY}},[K,r,de]),Ne=he.useCallback(()=>{re(!1),ae.current=null},[]);he.useEffect(()=>{if(K)return document.addEventListener("mousemove",xe),document.addEventListener("mouseup",Ne),()=>{document.removeEventListener("mousemove",xe),document.removeEventListener("mouseup",Ne)}},[K,xe,Ne]);const Ue=Ee=>({x:(Ee[0].clientX+Ee[1].clientX)/2,y:(Ee[0].clientY+Ee[1].clientY)/2}),Ke=he.useCallback(Ee=>{if(Ee.touches.length===2){Ee.preventDefault();const Ve=Ee.touches[0].clientX-Ee.touches[1].clientX,We=Ee.touches[0].clientY-Ee.touches[1].clientY;D.current=Math.sqrt(Ve*Ve+We*We),F.current=Ue(Ee.touches)}},[]),it=he.useCallback(Ee=>{if(Ee.touches.length===2&&D.current!==null){Ee.preventDefault(),Ee.stopPropagation();const Ve=Ee.touches[0].clientX-Ee.touches[1].clientX,We=Ee.touches[0].clientY-Ee.touches[1].clientY,Ze=Math.sqrt(Ve*Ve+We*We),gt=Ze/D.current,St=Math.max(1,Math.min(2.5,r*gt)),Mt=St>1.3?38:50,$t=Ue(Ee.touches);if(F.current){const Bt=$t.x-F.current.x,Yt=$t.y-F.current.y;j(en=>de(en.x+Bt,en.y+Yt,St))}D.current=Ze,F.current=$t,t(St,Mt)}},[r,t,de]),st=he.useCallback(Ee=>{D.current=null,F.current=null,Ee.touches.length===0&&Ee.preventDefault()},[]),H=he.useCallback(Ee=>{if(Ee.ctrlKey||Ee.metaKey){Ee.preventDefault();const Ve=Ee.deltaY>0?.9:1.1,We=Math.max(1,Math.min(2.5,r*Ve)),Ze=We>1.3?38:50;t(We,Ze)}},[r,t]),je=hg(),at=600,Xe=at/2,Ce=at/2,Qe=60,et=Qe+8,ft=145,dt=ft,kt=210,Xt=kt,Dt=250,De=he.useMemo(()=>E4(i),[i]),ot=he.useMemo(()=>De.sharps>0?`${De.sharps}`:De.flats>0?`${De.flats}`:"",[De]),ct=he.useRef(0),_t=Ee=>{const Ve=Ee,We=Date.now();We-ct.current<300||(ct.current=We,ml(Ee.notes),G(Ve.segmentId??null),v(Ee))},mt=Ee=>{const Ve=Ee;let We=null,Ze=null;if(m&&y)We=m,Ze=y;else if(m){const gt=_.sections.find(St=>St.id===m);if(gt)for(const St of gt.measures){for(const Mt of St.beats)if(!Mt.chord){We=gt.id,Ze=Mt.id;break}if(Ze)break}}if(!We||!Ze)for(const gt of _.sections){for(const St of gt.measures){for(const Mt of St.beats)if(!Mt.chord){We=gt.id,Ze=Mt.id;break}if(Ze)break}if(Ze)break}We&&Ze&&(d(Ee,We,Ze),N(We,Ze)||(C(We,Ze),G(Ve.segmentId??null),v(Ee)))},Ie=Ee=>(Ee-R+12)%12,tt=(Ee,Ve)=>{const We=Ie(Ee);return Ve==="major"?We===0||We===1||We===11:Ve==="ii"||Ve==="iii"||Ve==="dim"?We===0:!1},nt=Ee=>Ie(Ee)===1,pt=Ee=>{const Ve=Ie(Ee);return Ve===2||Ve===4},wt=(Ee,Ve)=>{const We=Ie(Ee);if(Ve==="major"){if(We===0)return"I";if(We===1)return"V";if(We===11)return"IV";if(We===2)return"II";if(We===4)return"III"}if(Ve==="ii"){if(We===0)return"ii";if(We===1)return"vi"}return Ve==="iii"&&We===0?"iii":Ve==="dim"&&We===0?"vii":""},ut=(Ee,Ve)=>{const We=Ie(Ee);if(Ve==="major"){if(We===0)return"maj7, maj9, maj13 or 6";if(We===1)return"7, 9, 11, sus4, 13";if(We===11)return"maj7, maj9, maj13 or 6";if(We===2||We===4)return"7, sus4"}if(Ve==="ii"){if(We===0)return"m7, m9, m11, m6";if(We===1)return"m7, m9, m11"}return Ve==="iii"&&We===0?"m7":Ve==="dim"&&We===0?"m75 (7)":""},Zt=Ee=>{if(B)return B===Ee.segmentId;const Ve=S?.segmentId;return Ve?Ve===Ee.segmentId:!1},vt=he.useCallback(Ee=>{Ee.touches.length===2?Ke(Ee):Ee.touches.length===1&&J(Ee)},[Ke,J]),bt=he.useCallback(Ee=>{Ee.touches.length===2?it(Ee):Ee.touches.length===1&&se(Ee)},[it,se]),Ht=he.useCallback(Ee=>{Y.current=null,O.current=!1,st(Ee)},[st]),[rt,lt]=he.useState(null),Ot=he.useCallback((Ee,Ve,We)=>{lt(Ee?{text:Ee,x:Ve,y:We}:null)},[]),Cn=rt?{position:"fixed",left:rt.x,top:rt.y,transform:"translate(-50%, -100%) translateY(-12px)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"11px",pointerEvents:"none",zIndex:9999,whiteSpace:"normal",textAlign:"center",maxWidth:"220px",lineHeight:"1.4",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"}:{};return E.jsxs("div",{ref:Z,className:`relative flex flex-col items-center justify-center w-full h-full max-w-full max-h-full aspect-square p-1 sm:p-2 select-none ${K?"cursor-grabbing":r>1&&!V?"cursor-grab":""}`,onTouchStart:vt,onTouchMove:bt,onTouchEnd:Ht,onWheel:H,onMouseDown:q,style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",touchAction:"none"},children:[rt&&E.jsx("div",{style:Cn,children:rt.text}),E.jsx("div",{className:"w-full h-full transition-transform duration-150 ease-out overflow-hidden",style:{transform:`translate(${z.x}px, ${z.y}px) scale(${r})`,transformOrigin:`center ${e}%`},children:E.jsxs("svg",{ref:k,width:"100%",height:"100%",viewBox:`0 0 ${at} ${at}`,className:`w-full h-full select-none ${I?"cursor-grabbing":"cursor-grab"}`,onMouseDown:q,style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},children:[E.jsxs("defs",{children:[E.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[E.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),E.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),E.jsx("filter",{id:"segment-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:E.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#ffffff",floodOpacity:"0.9"})})]}),E.jsx("g",{style:{transform:`rotate(${T}deg)`,transformOrigin:`${Xe}px ${Ce}px`,transition:"transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:S4.map((Ee,Ve)=>{const Ze=Ve*30-15,gt=Ze+30,St=je[Ee.major]||je.C,Mt=Ee.ii.replace("m",""),$t=Ee.iii.replace("m",""),Bt=Ee.diminished.replace("",""),Yt=tt(Ve,"major"),en=pt(Ve),Ar=tt(Ve,"ii")||nt(Ve),qn=tt(Ve,"iii"),pn=tt(Ve,"dim"),Tn={root:Ee.major,quality:"major",numeral:wt(Ve,"major"),notes:ph(Ee.major,"major"),symbol:Ee.major,segmentId:`major-${Ve}`,ringType:"major",positionIndex:Ve},br={root:Mt,quality:"minor",numeral:wt(Ve,"ii"),notes:ph(Mt,"minor"),symbol:Ee.ii,segmentId:`ii-${Ve}`,ringType:"minor",positionIndex:Ve},Hr={root:$t,quality:"minor",numeral:wt(Ve,"iii"),notes:ph($t,"minor"),symbol:Ee.iii,segmentId:`iii-${Ve}`,ringType:"minor",positionIndex:Ve},Gr={root:Bt,quality:"diminished",numeral:wt(Ve,"dim"),notes:ph(Bt,"diminished"),symbol:Ee.diminished,segmentId:`dim-${Ve}`,ringType:"diminished",positionIndex:Ve},Qs=15,Di=Ze+-7.5,Os=Di+Qs,Ri=Os,Yi=Ri+Qs,Js=15,Wi=Ze+(30-Js)/2,nr=Wi+Js,Fo=Ee.major,wi=Ee.ii,Xi=Ee.iii,Ls=Ee.diminished;return E.jsxs("g",{children:[E.jsx(g1,{cx:Xe,cy:Ce,innerRadius:et,outerRadius:ft,startAngle:Ze,endAngle:gt,color:St,label:Fo,chord:Tn,isSelected:Zt(Tn),isDiatonic:Yt,isSecondary:en,onClick:_t,onDoubleClick:mt,ringType:"major",wheelRotation:T,romanNumeral:Yt||en?wt(Ve,"major"):void 0,voicingSuggestion:Yt||en?ut(Ve,"major"):void 0,segmentId:`major-${Ve}`,onHover:Ot}),E.jsx(g1,{cx:Xe,cy:Ce,innerRadius:dt,outerRadius:kt,startAngle:Di,endAngle:Os,color:St,label:wi,chord:br,isSelected:Zt(br),isDiatonic:Ar,onClick:_t,onDoubleClick:mt,ringType:"minor",wheelRotation:T,romanNumeral:Ar?wt(Ve,"ii"):void 0,voicingSuggestion:Ar?ut(Ve,"ii"):void 0,segmentId:`ii-${Ve}`,onHover:Ot}),E.jsx(g1,{cx:Xe,cy:Ce,innerRadius:dt,outerRadius:kt,startAngle:Ri,endAngle:Yi,color:St,label:Xi,chord:Hr,isSelected:Zt(Hr),isDiatonic:qn,onClick:_t,onDoubleClick:mt,ringType:"minor",wheelRotation:T,romanNumeral:qn?wt(Ve,"iii"):void 0,voicingSuggestion:qn?ut(Ve,"iii"):void 0,segmentId:`iii-${Ve}`,onHover:Ot}),E.jsx(g1,{cx:Xe,cy:Ce,innerRadius:Xt,outerRadius:Dt,startAngle:Wi,endAngle:nr,color:St,label:Ls,chord:Gr,isSelected:Zt(Gr),isDiatonic:pn,onClick:_t,onDoubleClick:mt,ringType:"diminished",wheelRotation:T,romanNumeral:pn?wt(Ve,"dim"):void 0,voicingSuggestion:pn?ut(Ve,"dim"):void 0,segmentId:`dim-${Ve}`,onHover:Ot})]},Ee.major)})}),E.jsx("circle",{cx:Xe,cy:Ce,r:Qe,fill:"#1a1a24",stroke:"#3a3a4a",strokeWidth:"2",style:{pointerEvents:"none"}}),E.jsx("text",{x:Xe,y:Ce-25,textAnchor:"middle",fill:"#6366f1",fontSize:"9",fontWeight:"bold",letterSpacing:"2",children:"KEY"}),E.jsx("text",{x:Xe,y:Ce+3,textAnchor:"middle",fill:"white",fontSize:"26",fontWeight:"bold",children:i}),E.jsx("text",{x:Xe,y:Ce+21,textAnchor:"middle",fill:"#9898a6",fontSize:"11",children:ot||"No /"}),E.jsxs("g",{transform:`translate(${Xe-22}, ${Ce+40})`,onClick:()=>_e("ccw"),onTouchEnd:Ee=>{Ee.preventDefault(),Ee.stopPropagation(),_e("ccw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[E.jsx("circle",{r:V?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),E.jsx("g",{transform:V?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:E.jsx(b3,{size:V?12:9,color:"#9898a6"})})]}),E.jsxs("g",{transform:`translate(${Xe+22}, ${Ce+40})`,onClick:()=>_e("cw"),onTouchEnd:Ee=>{Ee.preventDefault(),Ee.stopPropagation(),_e("cw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[E.jsx("circle",{r:V?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),E.jsx("g",{transform:V?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:E.jsx(y3,{size:V?12:9,color:"#9898a6"})})]}),E.jsxs("g",{transform:`translate(${Xe}, ${Ce+40})`,onClick:f,onTouchEnd:Ee=>{Ee.preventDefault(),Ee.stopPropagation(),f()},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[E.jsx("circle",{r:V?16:11,fill:h==="rotating"?"#252535":"#3f2e2e",className:"transition-colors",style:{pointerEvents:"all",transition:"fill 0.3s ease"},children:E.jsx("title",{children:h==="rotating"?"Lock wheel (C at top)":"Pin current key to top"})}),E.jsxs("g",{style:{pointerEvents:"none",transition:"transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",transform:h==="rotating"?"rotate(0deg)":`rotate(${R*30}deg)`,transformOrigin:"0px 0px"},children:[E.jsx("polygon",{points:V?"0,-10 4,0 0,1.5 -4,0":"0,-7 2.5,0 0,1 -2.5,0",fill:"#ef4444",stroke:"#b91c1c",strokeWidth:"0.5"}),E.jsx("polygon",{points:V?"0,10 4,0 0,-1.5 -4,0":"0,7 2.5,0 0,-1 -2.5,0",fill:"#f1f5f9",stroke:"#94a3b8",strokeWidth:"0.5"}),E.jsx("circle",{cx:0,cy:0,r:V?2:1.5,fill:h==="rotating"?"#fef2f2":"#6b7280"})]})]})]})})]})};var Lf=Jy();function qT(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return he.useMemo(()=>i=>{e.forEach(a=>a(i))},e)}const Dp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bh(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function e2(r){return"nodeType"in r}function as(r){var e,t;return r?Bh(r)?r:e2(r)&&(e=(t=r.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function t2(r){const{Document:e}=as(r);return r instanceof e}function pd(r){return Bh(r)?!1:r instanceof as(r).HTMLElement}function M3(r){return r instanceof as(r).SVGElement}function qh(r){return r?Bh(r)?r.document:e2(r)?t2(r)?r:pd(r)||M3(r)?r.ownerDocument:document:document:document}const eo=Dp?he.useLayoutEffect:he.useEffect;function Rp(r){const e=he.useRef(r);return eo(()=>{e.current=r}),he.useCallback(function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}function zT(){const r=he.useRef(null),e=he.useCallback((i,a)=>{r.current=setInterval(i,a)},[]),t=he.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,t]}function Zf(r,e){e===void 0&&(e=[r]);const t=he.useRef(r);return eo(()=>{t.current!==r&&(t.current=r)},e),t}function md(r,e){const t=he.useRef();return he.useMemo(()=>{const i=r(t.current);return t.current=i,i},[...e])}function ip(r){const e=Rp(r),t=he.useRef(null),i=he.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,i]}function sp(r){const e=he.useRef();return he.useEffect(()=>{e.current=r},[r]),e.current}let om={};function gd(r,e){return he.useMemo(()=>{if(e)return e;const t=om[r]==null?0:om[r]+1;return om[r]=t,r+"-"+t},[r,e])}function O3(r){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return i.reduce((o,h)=>{const c=Object.entries(h);for(const[f,d]of c){const m=o[f];m!=null&&(o[f]=m+r*d)}return o},{...e})}}const wh=O3(1),$f=O3(-1);function PT(r){return"clientX"in r&&"clientY"in r}function Ip(r){if(!r)return!1;const{KeyboardEvent:e}=as(r.target);return e&&r instanceof e}function UT(r){if(!r)return!1;const{TouchEvent:e}=as(r.target);return e&&r instanceof e}function ap(r){if(UT(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:t}=r.touches[0];return{x:e,y:t}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:t}=r.changedTouches[0];return{x:e,y:t}}}return PT(r)?{x:r.clientX,y:r.clientY}:null}const vc=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:t}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:t}=r;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(r){if(r)return[vc.Translate.toString(r),vc.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:t,easing:i}=r;return e+" "+t+"ms "+i}}}),gb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function HT(r){return r.matches(gb)?r:r.querySelector(gb)}const GT={display:"none"};function YT(r){let{id:e,value:t}=r;return dn.createElement("div",{id:e,style:GT},t)}function WT(r){let{id:e,announcement:t,ariaLiveType:i="assertive"}=r;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return dn.createElement("div",{id:e,style:a,role:"status","aria-live":i,"aria-atomic":!0},t)}function XT(){const[r,e]=he.useState("");return{announce:he.useCallback(i=>{i!=null&&e(i)},[]),announcement:r}}const L3=he.createContext(null);function j3(r){const e=he.useContext(L3);he.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function ZT(){const[r]=he.useState(()=>new Set),e=he.useCallback(i=>(r.add(i),()=>r.delete(i)),[r]);return[he.useCallback(i=>{let{type:a,event:o}=i;r.forEach(h=>{var c;return(c=h[a])==null?void 0:c.call(h,o)})},[r]),e]}const $T={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},KT={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function QT(r){let{announcements:e=KT,container:t,hiddenTextDescribedById:i,screenReaderInstructions:a=$T}=r;const{announce:o,announcement:h}=XT(),c=gd("DndLiveRegion"),[f,d]=he.useState(!1);if(he.useEffect(()=>{d(!0)},[]),j3(he.useMemo(()=>({onDragStart(y){let{active:_}=y;o(e.onDragStart({active:_}))},onDragMove(y){let{active:_,over:v}=y;e.onDragMove&&o(e.onDragMove({active:_,over:v}))},onDragOver(y){let{active:_,over:v}=y;o(e.onDragOver({active:_,over:v}))},onDragEnd(y){let{active:_,over:v}=y;o(e.onDragEnd({active:_,over:v}))},onDragCancel(y){let{active:_,over:v}=y;o(e.onDragCancel({active:_,over:v}))}}),[o,e])),!f)return null;const m=dn.createElement(dn.Fragment,null,dn.createElement(YT,{id:i,value:a.draggable}),dn.createElement(WT,{id:c,announcement:h}));return t?Lf.createPortal(m,t):m}var ui;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(ui||(ui={}));function op(){}function vb(r,e){return he.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function JT(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return he.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const to=Object.freeze({x:0,y:0});function D3(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function e7(r,e){const t=ap(r);if(!t)return"0 0";const i={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return i.x+"% "+i.y+"%"}function R3(r,e){let{data:{value:t}}=r,{data:{value:i}}=e;return t-i}function t7(r,e){let{data:{value:t}}=r,{data:{value:i}}=e;return i-t}function bb(r){let{left:e,top:t,height:i,width:a}=r;return[{x:e,y:t},{x:e+a,y:t},{x:e,y:t+i},{x:e+a,y:t+i}]}function I3(r,e){if(!r||r.length===0)return null;const[t]=r;return t[e]}function yb(r,e,t){return e===void 0&&(e=r.left),t===void 0&&(t=r.top),{x:e+r.width*.5,y:t+r.height*.5}}const n7=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=r;const a=yb(e,e.left,e.top),o=[];for(const h of i){const{id:c}=h,f=t.get(c);if(f){const d=D3(yb(f),a);o.push({id:c,data:{droppableContainer:h,value:d}})}}return o.sort(R3)},r7=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=r;const a=bb(e),o=[];for(const h of i){const{id:c}=h,f=t.get(c);if(f){const d=bb(f),m=a.reduce((_,v,S)=>_+D3(d[S],v),0),y=Number((m/4).toFixed(4));o.push({id:c,data:{droppableContainer:h,value:y}})}}return o.sort(R3)};function i7(r,e){const t=Math.max(e.top,r.top),i=Math.max(e.left,r.left),a=Math.min(e.left+e.width,r.left+r.width),o=Math.min(e.top+e.height,r.top+r.height),h=a-i,c=o-t;if(i<a&&t<o){const f=e.width*e.height,d=r.width*r.height,m=h*c,y=m/(f+d-m);return Number(y.toFixed(4))}return 0}const s7=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=r;const a=[];for(const o of i){const{id:h}=o,c=t.get(h);if(c){const f=i7(c,e);f>0&&a.push({id:h,data:{droppableContainer:o,value:f}})}}return a.sort(t7)};function a7(r,e,t){return{...r,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function V3(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:to}function o7(r){return function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return a.reduce((h,c)=>({...h,top:h.top+r*c.y,bottom:h.bottom+r*c.y,left:h.left+r*c.x,right:h.right+r*c.x}),{...t})}}const l7=o7(1);function F3(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function c7(r,e,t){const i=F3(e);if(!i)return r;const{scaleX:a,scaleY:o,x:h,y:c}=i,f=r.left-h-(1-a)*parseFloat(t),d=r.top-c-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),m=a?r.width/a:r.width,y=o?r.height/o:r.height;return{width:m,height:y,top:d,right:f+m,bottom:d+y,left:f}}const u7={ignoreTransform:!1};function zh(r,e){e===void 0&&(e=u7);let t=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:m}=as(r).getComputedStyle(r);d&&(t=c7(t,d,m))}const{top:i,left:a,width:o,height:h,bottom:c,right:f}=t;return{top:i,left:a,width:o,height:h,bottom:c,right:f}}function xb(r){return zh(r,{ignoreTransform:!0})}function h7(r){const e=r.innerWidth,t=r.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function f7(r,e){return e===void 0&&(e=as(r).getComputedStyle(r)),e.position==="fixed"}function d7(r,e){e===void 0&&(e=as(r).getComputedStyle(r));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?t.test(o):!1})}function Vp(r,e){const t=[];function i(a){if(e!=null&&t.length>=e||!a)return t;if(t2(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!pd(a)||M3(a)||t.includes(a))return t;const o=as(r).getComputedStyle(a);return a!==r&&d7(a,o)&&t.push(a),f7(a,o)?t:i(a.parentNode)}return r?i(r):t}function B3(r){const[e]=Vp(r,1);return e??null}function lm(r){return!Dp||!r?null:Bh(r)?r:e2(r)?t2(r)||r===qh(r).scrollingElement?window:pd(r)?r:null:null}function q3(r){return Bh(r)?r.scrollX:r.scrollLeft}function z3(r){return Bh(r)?r.scrollY:r.scrollTop}function Zm(r){return{x:q3(r),y:z3(r)}}var yi;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(yi||(yi={}));function P3(r){return!Dp||!r?!1:r===document.scrollingElement}function U3(r){const e={x:0,y:0},t=P3(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},i={x:r.scrollWidth-t.width,y:r.scrollHeight-t.height},a=r.scrollTop<=e.y,o=r.scrollLeft<=e.x,h=r.scrollTop>=i.y,c=r.scrollLeft>=i.x;return{isTop:a,isLeft:o,isBottom:h,isRight:c,maxScroll:i,minScroll:e}}const p7={x:.2,y:.2};function m7(r,e,t,i,a){let{top:o,left:h,right:c,bottom:f}=t;i===void 0&&(i=10),a===void 0&&(a=p7);const{isTop:d,isBottom:m,isLeft:y,isRight:_}=U3(r),v={x:0,y:0},S={x:0,y:0},N={height:e.height*a.y,width:e.width*a.x};return!d&&o<=e.top+N.height?(v.y=yi.Backward,S.y=i*Math.abs((e.top+N.height-o)/N.height)):!m&&f>=e.bottom-N.height&&(v.y=yi.Forward,S.y=i*Math.abs((e.bottom-N.height-f)/N.height)),!_&&c>=e.right-N.width?(v.x=yi.Forward,S.x=i*Math.abs((e.right-N.width-c)/N.width)):!y&&h<=e.left+N.width&&(v.x=yi.Backward,S.x=i*Math.abs((e.left+N.width-h)/N.width)),{direction:v,speed:S}}function g7(r){if(r===document.scrollingElement){const{innerWidth:o,innerHeight:h}=window;return{top:0,left:0,right:o,bottom:h,width:o,height:h}}const{top:e,left:t,right:i,bottom:a}=r.getBoundingClientRect();return{top:e,left:t,right:i,bottom:a,width:r.clientWidth,height:r.clientHeight}}function H3(r){return r.reduce((e,t)=>wh(e,Zm(t)),to)}function v7(r){return r.reduce((e,t)=>e+q3(t),0)}function b7(r){return r.reduce((e,t)=>e+z3(t),0)}function G3(r,e){if(e===void 0&&(e=zh),!r)return;const{top:t,left:i,bottom:a,right:o}=e(r);B3(r)&&(a<=0||o<=0||t>=window.innerHeight||i>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const y7=[["x",["left","right"],v7],["y",["top","bottom"],b7]];class n2{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Vp(t),a=H3(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,h,c]of y7)for(const f of h)Object.defineProperty(this,f,{get:()=>{const d=c(i),m=a[o]-d;return this.rect[f]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class If{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...t)})},this.target=e}add(e,t,i){var a;(a=this.target)==null||a.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function x7(r){const{EventTarget:e}=as(r);return r instanceof e?r:qh(r)}function cm(r,e){const t=Math.abs(r.x),i=Math.abs(r.y);return typeof e=="number"?Math.sqrt(t**2+i**2)>e:"x"in e&&"y"in e?t>e.x&&i>e.y:"x"in e?t>e.x:"y"in e?i>e.y:!1}var ga;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(ga||(ga={}));function _b(r){r.preventDefault()}function _7(r){r.stopPropagation()}var _n;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(_n||(_n={}));const Y3={start:[_n.Space,_n.Enter],cancel:[_n.Esc],end:[_n.Space,_n.Enter,_n.Tab]},w7=(r,e)=>{let{currentCoordinates:t}=e;switch(r.code){case _n.Right:return{...t,x:t.x+25};case _n.Left:return{...t,x:t.x-25};case _n.Down:return{...t,y:t.y+25};case _n.Up:return{...t,y:t.y-25}}};class r2{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new If(qh(t)),this.windowListeners=new If(as(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ga.Resize,this.handleCancel),this.windowListeners.add(ga.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ga.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,i=e.node.current;i&&G3(i),t(to)}handleKeyDown(e){if(Ip(e)){const{active:t,context:i,options:a}=this.props,{keyboardCodes:o=Y3,coordinateGetter:h=w7,scrollBehavior:c="smooth"}=a,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:d}=i.current,m=d?{x:d.left,y:d.top}:to;this.referenceCoordinates||(this.referenceCoordinates=m);const y=h(e,{active:t,context:i.current,currentCoordinates:m});if(y){const _=$f(y,m),v={x:0,y:0},{scrollableAncestors:S}=i.current;for(const N of S){const C=e.code,{isTop:T,isRight:R,isLeft:D,isBottom:F,maxScroll:B,minScroll:G}=U3(N),z=g7(N),j={x:Math.min(C===_n.Right?z.right-z.width/2:z.right,Math.max(C===_n.Right?z.left:z.left+z.width/2,y.x)),y:Math.min(C===_n.Down?z.bottom-z.height/2:z.bottom,Math.max(C===_n.Down?z.top:z.top+z.height/2,y.y))},V=C===_n.Right&&!R||C===_n.Left&&!D,Z=C===_n.Down&&!F||C===_n.Up&&!T;if(V&&j.x!==y.x){const k=N.scrollLeft+_.x,I=C===_n.Right&&k<=B.x||C===_n.Left&&k>=G.x;if(I&&!_.y){N.scrollTo({left:k,behavior:c});return}I?v.x=N.scrollLeft-k:v.x=C===_n.Right?N.scrollLeft-B.x:N.scrollLeft-G.x,v.x&&N.scrollBy({left:-v.x,behavior:c});break}else if(Z&&j.y!==y.y){const k=N.scrollTop+_.y,I=C===_n.Down&&k<=B.y||C===_n.Up&&k>=G.y;if(I&&!_.x){N.scrollTo({top:k,behavior:c});return}I?v.y=N.scrollTop-k:v.y=C===_n.Down?N.scrollTop-B.y:N.scrollTop-G.y,v.y&&N.scrollBy({top:-v.y,behavior:c});break}}this.handleMove(e,wh($f(y,this.referenceCoordinates),v))}}}handleMove(e,t){const{onMove:i}=this.props;e.preventDefault(),i(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}r2.activators=[{eventName:"onKeyDown",handler:(r,e,t)=>{let{keyboardCodes:i=Y3,onActivation:a}=e,{active:o}=t;const{code:h}=r.nativeEvent;if(i.start.includes(h)){const c=o.activatorNode.current;return c&&r.target!==c?!1:(r.preventDefault(),a?.({event:r.nativeEvent}),!0)}return!1}}];function wb(r){return!!(r&&"distance"in r)}function Sb(r){return!!(r&&"delay"in r)}class i2{constructor(e,t,i){var a;i===void 0&&(i=x7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:h}=o;this.props=e,this.events=t,this.document=qh(h),this.documentListeners=new If(this.document),this.listeners=new If(i),this.windowListeners=new If(as(h)),this.initialCoordinates=(a=ap(o))!=null?a:to,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ga.Resize,this.handleCancel),this.windowListeners.add(ga.DragStart,_b),this.windowListeners.add(ga.VisibilityChange,this.handleCancel),this.windowListeners.add(ga.ContextMenu,_b),this.documentListeners.add(ga.Keydown,this.handleKeydown),t){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Sb(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(wb(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:i,onPending:a}=this.props;a(i,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ga.Click,_7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ga.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:i,initialCoordinates:a,props:o}=this,{onMove:h,options:{activationConstraint:c}}=o;if(!a)return;const f=(t=ap(e))!=null?t:to,d=$f(a,f);if(!i&&c){if(wb(c)){if(c.tolerance!=null&&cm(d,c.tolerance))return this.handleCancel();if(cm(d,c.distance))return this.handleStart()}if(Sb(c)&&cm(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),h(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===_n.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const S7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class s2 extends i2{constructor(e){const{event:t}=e,i=qh(t.target);super(e,S7,i)}}s2.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:i}=e;return!t.isPrimary||t.button!==0?!1:(i?.({event:t}),!0)}}];const A7={move:{name:"mousemove"},end:{name:"mouseup"}};var $m;(function(r){r[r.RightClick=2]="RightClick"})($m||($m={}));class N7 extends i2{constructor(e){super(e,A7,qh(e.event.target))}}N7.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:i}=e;return t.button===$m.RightClick?!1:(i?.({event:t}),!0)}}];const um={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class C7 extends i2{constructor(e){super(e,um)}static setup(){return window.addEventListener(um.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(um.move.name,e)};function e(){}}}C7.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:i}=e;const{touches:a}=t;return a.length>1?!1:(i?.({event:t}),!0)}}];var Vf;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(Vf||(Vf={}));var lp;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(lp||(lp={}));function T7(r){let{acceleration:e,activator:t=Vf.Pointer,canScroll:i,draggingRect:a,enabled:o,interval:h=5,order:c=lp.TreeOrder,pointerCoordinates:f,scrollableAncestors:d,scrollableAncestorRects:m,delta:y,threshold:_}=r;const v=k7({delta:y,disabled:!o}),[S,N]=zT(),C=he.useRef({x:0,y:0}),T=he.useRef({x:0,y:0}),R=he.useMemo(()=>{switch(t){case Vf.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Vf.DraggableRect:return a}},[t,a,f]),D=he.useRef(null),F=he.useCallback(()=>{const G=D.current;if(!G)return;const z=C.current.x*T.current.x,j=C.current.y*T.current.y;G.scrollBy(z,j)},[]),B=he.useMemo(()=>c===lp.TreeOrder?[...d].reverse():d,[c,d]);he.useEffect(()=>{if(!o||!d.length||!R){N();return}for(const G of B){if(i?.(G)===!1)continue;const z=d.indexOf(G),j=m[z];if(!j)continue;const{direction:V,speed:Z}=m7(G,j,R,e,_);for(const k of["x","y"])v[k][V[k]]||(Z[k]=0,V[k]=0);if(Z.x>0||Z.y>0){N(),D.current=G,S(F,h),C.current=Z,T.current=V;return}}C.current={x:0,y:0},T.current={x:0,y:0},N()},[e,F,i,N,o,h,JSON.stringify(R),JSON.stringify(v),S,d,B,m,JSON.stringify(_)])}const E7={x:{[yi.Backward]:!1,[yi.Forward]:!1},y:{[yi.Backward]:!1,[yi.Forward]:!1}};function k7(r){let{delta:e,disabled:t}=r;const i=sp(e);return md(a=>{if(t||!i||!a)return E7;const o={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[yi.Backward]:a.x[yi.Backward]||o.x===-1,[yi.Forward]:a.x[yi.Forward]||o.x===1},y:{[yi.Backward]:a.y[yi.Backward]||o.y===-1,[yi.Forward]:a.y[yi.Forward]||o.y===1}}},[t,e,i])}function M7(r,e){const t=e!=null?r.get(e):void 0,i=t?t.node.current:null;return md(a=>{var o;return e==null?null:(o=i??a)!=null?o:null},[i,e])}function O7(r,e){return he.useMemo(()=>r.reduce((t,i)=>{const{sensor:a}=i,o=a.activators.map(h=>({eventName:h.eventName,handler:e(h.handler,i)}));return[...t,...o]},[]),[r,e])}var Kf;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(Kf||(Kf={}));var Km;(function(r){r.Optimized="optimized"})(Km||(Km={}));const Ab=new Map;function L7(r,e){let{dragging:t,dependencies:i,config:a}=e;const[o,h]=he.useState(null),{frequency:c,measure:f,strategy:d}=a,m=he.useRef(r),y=C(),_=Zf(y),v=he.useCallback(function(T){T===void 0&&(T=[]),!_.current&&h(R=>R===null?T:R.concat(T.filter(D=>!R.includes(D))))},[_]),S=he.useRef(null),N=md(T=>{if(y&&!t)return Ab;if(!T||T===Ab||m.current!==r||o!=null){const R=new Map;for(let D of r){if(!D)continue;if(o&&o.length>0&&!o.includes(D.id)&&D.rect.current){R.set(D.id,D.rect.current);continue}const F=D.node.current,B=F?new n2(f(F),F):null;D.rect.current=B,B&&R.set(D.id,B)}return R}return T},[r,o,t,y,f]);return he.useEffect(()=>{m.current=r},[r]),he.useEffect(()=>{y||v()},[t,y]),he.useEffect(()=>{o&&o.length>0&&h(null)},[JSON.stringify(o)]),he.useEffect(()=>{y||typeof c!="number"||S.current!==null||(S.current=setTimeout(()=>{v(),S.current=null},c))},[c,y,v,...i]),{droppableRects:N,measureDroppableContainers:v,measuringScheduled:o!=null};function C(){switch(d){case Kf.Always:return!1;case Kf.BeforeDragging:return t;default:return!t}}}function a2(r,e){return md(t=>r?t||(typeof e=="function"?e(r):r):null,[e,r])}function j7(r,e){return a2(r,e)}function D7(r){let{callback:e,disabled:t}=r;const i=Rp(e),a=he.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,t]);return he.useEffect(()=>()=>a?.disconnect(),[a]),a}function Fp(r){let{callback:e,disabled:t}=r;const i=Rp(e),a=he.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[t]);return he.useEffect(()=>()=>a?.disconnect(),[a]),a}function R7(r){return new n2(zh(r),r)}function Nb(r,e,t){e===void 0&&(e=R7);const[i,a]=he.useState(null);function o(){a(f=>{if(!r)return null;if(r.isConnected===!1){var d;return(d=f??t)!=null?d:null}const m=e(r);return JSON.stringify(f)===JSON.stringify(m)?f:m})}const h=D7({callback(f){if(r)for(const d of f){const{type:m,target:y}=d;if(m==="childList"&&y instanceof HTMLElement&&y.contains(r)){o();break}}}}),c=Fp({callback:o});return eo(()=>{o(),r?(c?.observe(r),h?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),h?.disconnect())},[r]),i}function I7(r){const e=a2(r);return V3(r,e)}const Cb=[];function V7(r){const e=he.useRef(r),t=md(i=>r?i&&i!==Cb&&r&&e.current&&r.parentNode===e.current.parentNode?i:Vp(r):Cb,[r]);return he.useEffect(()=>{e.current=r},[r]),t}function F7(r){const[e,t]=he.useState(null),i=he.useRef(r),a=he.useCallback(o=>{const h=lm(o.target);h&&t(c=>c?(c.set(h,Zm(h)),new Map(c)):null)},[]);return he.useEffect(()=>{const o=i.current;if(r!==o){h(o);const c=r.map(f=>{const d=lm(f);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,Zm(d)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),i.current=r}return()=>{h(r),h(o)};function h(c){c.forEach(f=>{const d=lm(f);d?.removeEventListener("scroll",a)})}},[a,r]),he.useMemo(()=>r.length?e?Array.from(e.values()).reduce((o,h)=>wh(o,h),to):H3(r):to,[r,e])}function Tb(r,e){e===void 0&&(e=[]);const t=he.useRef(null);return he.useEffect(()=>{t.current=null},e),he.useEffect(()=>{const i=r!==to;i&&!t.current&&(t.current=r),!i&&t.current&&(t.current=null)},[r]),t.current?$f(r,t.current):to}function B7(r){he.useEffect(()=>{if(!Dp)return;const e=r.map(t=>{let{sensor:i}=t;return i.setup==null?void 0:i.setup()});return()=>{for(const t of e)t?.()}},r.map(e=>{let{sensor:t}=e;return t}))}function q7(r,e){return he.useMemo(()=>r.reduce((t,i)=>{let{eventName:a,handler:o}=i;return t[a]=h=>{o(h,e)},t},{}),[r,e])}function W3(r){return he.useMemo(()=>r?h7(r):null,[r])}const Eb=[];function z7(r,e){e===void 0&&(e=zh);const[t]=r,i=W3(t?as(t):null),[a,o]=he.useState(Eb);function h(){o(()=>r.length?r.map(f=>P3(f)?i:new n2(e(f),f)):Eb)}const c=Fp({callback:h});return eo(()=>{c?.disconnect(),h(),r.forEach(f=>c?.observe(f))},[r]),a}function X3(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return pd(e)?e:r}function P7(r){let{measure:e}=r;const[t,i]=he.useState(null),a=he.useCallback(d=>{for(const{target:m}of d)if(pd(m)){i(y=>{const _=e(m);return y?{...y,width:_.width,height:_.height}:_});break}},[e]),o=Fp({callback:a}),h=he.useCallback(d=>{const m=X3(d);o?.disconnect(),m&&o?.observe(m),i(m?e(m):null)},[e,o]),[c,f]=ip(h);return he.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const U7=[{sensor:s2,options:{}},{sensor:r2,options:{}}],H7={current:{}},L1={draggable:{measure:xb},droppable:{measure:xb,strategy:Kf.WhileDragging,frequency:Km.Optimized},dragOverlay:{measure:zh}};class Ff extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,i;return(t=(i=this.get(e))==null?void 0:i.node.current)!=null?t:void 0}}const G7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ff,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:op},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:L1,measureDroppableContainers:op,windowRect:null,measuringScheduled:!1},Z3={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:op,draggableNodes:new Map,over:null,measureDroppableContainers:op},vd=he.createContext(Z3),$3=he.createContext(G7);function Y7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ff}}}function W7(r,e){switch(e.type){case ui.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ui.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case ui.DragEnd:case ui.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ui.RegisterDroppable:{const{element:t}=e,{id:i}=t,a=new Ff(r.droppable.containers);return a.set(i,t),{...r,droppable:{...r.droppable,containers:a}}}case ui.SetDroppableDisabled:{const{id:t,key:i,disabled:a}=e,o=r.droppable.containers.get(t);if(!o||i!==o.key)return r;const h=new Ff(r.droppable.containers);return h.set(t,{...o,disabled:a}),{...r,droppable:{...r.droppable,containers:h}}}case ui.UnregisterDroppable:{const{id:t,key:i}=e,a=r.droppable.containers.get(t);if(!a||i!==a.key)return r;const o=new Ff(r.droppable.containers);return o.delete(t),{...r,droppable:{...r.droppable,containers:o}}}default:return r}}function X7(r){let{disabled:e}=r;const{active:t,activatorEvent:i,draggableNodes:a}=he.useContext(vd),o=sp(i),h=sp(t?.id);return he.useEffect(()=>{if(!e&&!i&&o&&h!=null){if(!Ip(o)||document.activeElement===o.target)return;const c=a.get(h);if(!c)return;const{activatorNode:f,node:d}=c;if(!f.current&&!d.current)return;requestAnimationFrame(()=>{for(const m of[f.current,d.current]){if(!m)continue;const y=HT(m);if(y){y.focus();break}}})}},[i,e,a,h,o]),null}function K3(r,e){let{transform:t,...i}=e;return r!=null&&r.length?r.reduce((a,o)=>o({transform:a,...i}),t):t}function Z7(r){return he.useMemo(()=>({draggable:{...L1.draggable,...r?.draggable},droppable:{...L1.droppable,...r?.droppable},dragOverlay:{...L1.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function $7(r){let{activeNode:e,measure:t,initialRect:i,config:a=!0}=r;const o=he.useRef(!1),{x:h,y:c}=typeof a=="boolean"?{x:a,y:a}:a;eo(()=>{if(!h&&!c||!e){o.current=!1;return}if(o.current||!i)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const m=t(d),y=V3(m,i);if(h||(y.x=0),c||(y.y=0),o.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const _=B3(d);_&&_.scrollBy({top:y.y,left:y.x})}},[e,h,c,i,t])}const Bp=he.createContext({...to,scaleX:1,scaleY:1});var lc;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(lc||(lc={}));const K7=he.memo(function(e){var t,i,a,o;let{id:h,accessibility:c,autoScroll:f=!0,children:d,sensors:m=U7,collisionDetection:y=s7,measuring:_,modifiers:v,...S}=e;const N=he.useReducer(W7,void 0,Y7),[C,T]=N,[R,D]=ZT(),[F,B]=he.useState(lc.Uninitialized),G=F===lc.Initialized,{draggable:{active:z,nodes:j,translate:V},droppable:{containers:Z}}=C,k=z!=null?j.get(z):null,I=he.useRef({initial:null,translated:null}),te=he.useMemo(()=>{var rt;return z!=null?{id:z,data:(rt=k?.data)!=null?rt:H7,rect:I}:null},[z,k]),$=he.useRef(null),[ne,K]=he.useState(null),[re,ae]=he.useState(null),fe=Zf(S,Object.values(S)),_e=gd("DndDescribedBy",h),Y=he.useMemo(()=>Z.getEnabled(),[Z]),O=Z7(_),{droppableRects:q,measureDroppableContainers:J,measuringScheduled:se}=L7(Y,{dragging:G,dependencies:[V.x,V.y],config:O.droppable}),ue=M7(j,z),me=he.useMemo(()=>re?ap(re):null,[re]),de=Ht(),xe=j7(ue,O.draggable.measure);$7({activeNode:z!=null?j.get(z):null,config:de.layoutShiftCompensation,initialRect:xe,measure:O.draggable.measure});const Ne=Nb(ue,O.draggable.measure,xe),Ue=Nb(ue?ue.parentElement:null),Ke=he.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:q,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),it=Z.getNodeFor((t=Ke.current.over)==null?void 0:t.id),st=P7({measure:O.dragOverlay.measure}),H=(i=st.nodeRef.current)!=null?i:ue,je=G?(a=st.rect)!=null?a:Ne:null,at=!!(st.nodeRef.current&&st.rect),Xe=I7(at?null:Ne),Ce=W3(H?as(H):null),Qe=V7(G?it??ue:null),et=z7(Qe),ft=K3(v,{transform:{x:V.x-Xe.x,y:V.y-Xe.y,scaleX:1,scaleY:1},activatorEvent:re,active:te,activeNodeRect:Ne,containerNodeRect:Ue,draggingNodeRect:je,over:Ke.current.over,overlayNodeRect:st.rect,scrollableAncestors:Qe,scrollableAncestorRects:et,windowRect:Ce}),dt=me?wh(me,V):null,kt=F7(Qe),Xt=Tb(kt),Dt=Tb(kt,[Ne]),De=wh(ft,Xt),ot=je?l7(je,ft):null,ct=te&&ot?y({active:te,collisionRect:ot,droppableRects:q,droppableContainers:Y,pointerCoordinates:dt}):null,_t=I3(ct,"id"),[mt,Ie]=he.useState(null),tt=at?ft:wh(ft,Dt),nt=a7(tt,(o=mt?.rect)!=null?o:null,Ne),pt=he.useRef(null),wt=he.useCallback((rt,lt)=>{let{sensor:Ot,options:Cn}=lt;if($.current==null)return;const Ee=j.get($.current);if(!Ee)return;const Ve=rt.nativeEvent,We=new Ot({active:$.current,activeNode:Ee,event:Ve,options:Cn,context:Ke,onAbort(gt){if(!j.get(gt))return;const{onDragAbort:Mt}=fe.current,$t={id:gt};Mt?.($t),R({type:"onDragAbort",event:$t})},onPending(gt,St,Mt,$t){if(!j.get(gt))return;const{onDragPending:Yt}=fe.current,en={id:gt,constraint:St,initialCoordinates:Mt,offset:$t};Yt?.(en),R({type:"onDragPending",event:en})},onStart(gt){const St=$.current;if(St==null)return;const Mt=j.get(St);if(!Mt)return;const{onDragStart:$t}=fe.current,Bt={activatorEvent:Ve,active:{id:St,data:Mt.data,rect:I}};Lf.unstable_batchedUpdates(()=>{$t?.(Bt),B(lc.Initializing),T({type:ui.DragStart,initialCoordinates:gt,active:St}),R({type:"onDragStart",event:Bt}),K(pt.current),ae(Ve)})},onMove(gt){T({type:ui.DragMove,coordinates:gt})},onEnd:Ze(ui.DragEnd),onCancel:Ze(ui.DragCancel)});pt.current=We;function Ze(gt){return async function(){const{active:Mt,collisions:$t,over:Bt,scrollAdjustedTranslate:Yt}=Ke.current;let en=null;if(Mt&&Yt){const{cancelDrop:Ar}=fe.current;en={activatorEvent:Ve,active:Mt,collisions:$t,delta:Yt,over:Bt},gt===ui.DragEnd&&typeof Ar=="function"&&await Promise.resolve(Ar(en))&&(gt=ui.DragCancel)}$.current=null,Lf.unstable_batchedUpdates(()=>{T({type:gt}),B(lc.Uninitialized),Ie(null),K(null),ae(null),pt.current=null;const Ar=gt===ui.DragEnd?"onDragEnd":"onDragCancel";if(en){const qn=fe.current[Ar];qn?.(en),R({type:Ar,event:en})}})}}},[j]),ut=he.useCallback((rt,lt)=>(Ot,Cn)=>{const Ee=Ot.nativeEvent,Ve=j.get(Cn);if($.current!==null||!Ve||Ee.dndKit||Ee.defaultPrevented)return;const We={active:Ve};rt(Ot,lt.options,We)===!0&&(Ee.dndKit={capturedBy:lt.sensor},$.current=Cn,wt(Ot,lt))},[j,wt]),Zt=O7(m,ut);B7(m),eo(()=>{Ne&&F===lc.Initializing&&B(lc.Initialized)},[Ne,F]),he.useEffect(()=>{const{onDragMove:rt}=fe.current,{active:lt,activatorEvent:Ot,collisions:Cn,over:Ee}=Ke.current;if(!lt||!Ot)return;const Ve={active:lt,activatorEvent:Ot,collisions:Cn,delta:{x:De.x,y:De.y},over:Ee};Lf.unstable_batchedUpdates(()=>{rt?.(Ve),R({type:"onDragMove",event:Ve})})},[De.x,De.y]),he.useEffect(()=>{const{active:rt,activatorEvent:lt,collisions:Ot,droppableContainers:Cn,scrollAdjustedTranslate:Ee}=Ke.current;if(!rt||$.current==null||!lt||!Ee)return;const{onDragOver:Ve}=fe.current,We=Cn.get(_t),Ze=We&&We.rect.current?{id:We.id,rect:We.rect.current,data:We.data,disabled:We.disabled}:null,gt={active:rt,activatorEvent:lt,collisions:Ot,delta:{x:Ee.x,y:Ee.y},over:Ze};Lf.unstable_batchedUpdates(()=>{Ie(Ze),Ve?.(gt),R({type:"onDragOver",event:gt})})},[_t]),eo(()=>{Ke.current={activatorEvent:re,active:te,activeNode:ue,collisionRect:ot,collisions:ct,droppableRects:q,draggableNodes:j,draggingNode:H,draggingNodeRect:je,droppableContainers:Z,over:mt,scrollableAncestors:Qe,scrollAdjustedTranslate:De},I.current={initial:je,translated:ot}},[te,ue,ct,ot,j,H,je,q,Z,mt,Qe,De]),T7({...de,delta:V,draggingRect:ot,pointerCoordinates:dt,scrollableAncestors:Qe,scrollableAncestorRects:et});const vt=he.useMemo(()=>({active:te,activeNode:ue,activeNodeRect:Ne,activatorEvent:re,collisions:ct,containerNodeRect:Ue,dragOverlay:st,draggableNodes:j,droppableContainers:Z,droppableRects:q,over:mt,measureDroppableContainers:J,scrollableAncestors:Qe,scrollableAncestorRects:et,measuringConfiguration:O,measuringScheduled:se,windowRect:Ce}),[te,ue,Ne,re,ct,Ue,st,j,Z,q,mt,J,Qe,et,O,se,Ce]),bt=he.useMemo(()=>({activatorEvent:re,activators:Zt,active:te,activeNodeRect:Ne,ariaDescribedById:{draggable:_e},dispatch:T,draggableNodes:j,over:mt,measureDroppableContainers:J}),[re,Zt,te,Ne,T,_e,j,mt,J]);return dn.createElement(L3.Provider,{value:D},dn.createElement(vd.Provider,{value:bt},dn.createElement($3.Provider,{value:vt},dn.createElement(Bp.Provider,{value:nt},d)),dn.createElement(X7,{disabled:c?.restoreFocus===!1})),dn.createElement(QT,{...c,hiddenTextDescribedById:_e}));function Ht(){const rt=ne?.autoScrollEnabled===!1,lt=typeof f=="object"?f.enabled===!1:f===!1,Ot=G&&!rt&&!lt;return typeof f=="object"?{...f,enabled:Ot}:{enabled:Ot}}}),Q7=he.createContext(null),kb="button",J7="Draggable";function Q3(r){let{id:e,data:t,disabled:i=!1,attributes:a}=r;const o=gd(J7),{activators:h,activatorEvent:c,active:f,activeNodeRect:d,ariaDescribedById:m,draggableNodes:y,over:_}=he.useContext(vd),{role:v=kb,roleDescription:S="draggable",tabIndex:N=0}=a??{},C=f?.id===e,T=he.useContext(C?Bp:Q7),[R,D]=ip(),[F,B]=ip(),G=q7(h,e),z=Zf(t);eo(()=>(y.set(e,{id:e,key:o,node:R,activatorNode:F,data:z}),()=>{const V=y.get(e);V&&V.key===o&&y.delete(e)}),[y,e]);const j=he.useMemo(()=>({role:v,tabIndex:N,"aria-disabled":i,"aria-pressed":C&&v===kb?!0:void 0,"aria-roledescription":S,"aria-describedby":m.draggable}),[i,v,N,C,S,m.draggable]);return{active:f,activatorEvent:c,activeNodeRect:d,attributes:j,isDragging:C,listeners:i?void 0:G,node:R,over:_,setNodeRef:D,setActivatorNodeRef:B,transform:T}}function J3(){return he.useContext($3)}const eE="Droppable",tE={timeout:25};function e_(r){let{data:e,disabled:t=!1,id:i,resizeObserverConfig:a}=r;const o=gd(eE),{active:h,dispatch:c,over:f,measureDroppableContainers:d}=he.useContext(vd),m=he.useRef({disabled:t}),y=he.useRef(!1),_=he.useRef(null),v=he.useRef(null),{disabled:S,updateMeasurementsFor:N,timeout:C}={...tE,...a},T=Zf(N??i),R=he.useCallback(()=>{if(!y.current){y.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{d(Array.isArray(T.current)?T.current:[T.current]),v.current=null},C)},[C]),D=Fp({callback:R,disabled:S||!h}),F=he.useCallback((j,V)=>{D&&(V&&(D.unobserve(V),y.current=!1),j&&D.observe(j))},[D]),[B,G]=ip(F),z=Zf(e);return he.useEffect(()=>{!D||!B.current||(D.disconnect(),y.current=!1,D.observe(B.current))},[B,D]),he.useEffect(()=>(c({type:ui.RegisterDroppable,element:{id:i,key:o,disabled:t,node:B,rect:_,data:z}}),()=>c({type:ui.UnregisterDroppable,key:o,id:i})),[i]),he.useEffect(()=>{t!==m.current.disabled&&(c({type:ui.SetDroppableDisabled,id:i,key:o,disabled:t}),m.current.disabled=t)},[i,o,t,c]),{active:h,rect:_,isOver:f?.id===i,node:B,over:f,setNodeRef:G}}function nE(r){let{animation:e,children:t}=r;const[i,a]=he.useState(null),[o,h]=he.useState(null),c=sp(t);return!t&&!i&&c&&a(c),eo(()=>{if(!o)return;const f=i?.key,d=i?.props.id;if(f==null||d==null){a(null);return}Promise.resolve(e(d,o)).then(()=>{a(null)})},[e,i,o]),dn.createElement(dn.Fragment,null,t,i?he.cloneElement(i,{ref:h}):null)}const rE={x:0,y:0,scaleX:1,scaleY:1};function iE(r){let{children:e}=r;return dn.createElement(vd.Provider,{value:Z3},dn.createElement(Bp.Provider,{value:rE},e))}const sE={position:"fixed",touchAction:"none"},aE=r=>Ip(r)?"transform 250ms ease":void 0,oE=he.forwardRef((r,e)=>{let{as:t,activatorEvent:i,adjustScale:a,children:o,className:h,rect:c,style:f,transform:d,transition:m=aE}=r;if(!c)return null;const y=a?d:{...d,scaleX:1,scaleY:1},_={...sE,width:c.width,height:c.height,top:c.top,left:c.left,transform:vc.Transform.toString(y),transformOrigin:a&&i?e7(i,c):void 0,transition:typeof m=="function"?m(i):m,...f};return dn.createElement(t,{className:h,style:_,ref:e},o)}),lE=r=>e=>{let{active:t,dragOverlay:i}=e;const a={},{styles:o,className:h}=r;if(o!=null&&o.active)for(const[c,f]of Object.entries(o.active))f!==void 0&&(a[c]=t.node.style.getPropertyValue(c),t.node.style.setProperty(c,f));if(o!=null&&o.dragOverlay)for(const[c,f]of Object.entries(o.dragOverlay))f!==void 0&&i.node.style.setProperty(c,f);return h!=null&&h.active&&t.node.classList.add(h.active),h!=null&&h.dragOverlay&&i.node.classList.add(h.dragOverlay),function(){for(const[f,d]of Object.entries(a))t.node.style.setProperty(f,d);h!=null&&h.active&&t.node.classList.remove(h.active)}},cE=r=>{let{transform:{initial:e,final:t}}=r;return[{transform:vc.Transform.toString(e)},{transform:vc.Transform.toString(t)}]},uE={duration:250,easing:"ease",keyframes:cE,sideEffects:lE({styles:{active:{opacity:"0"}}})};function hE(r){let{config:e,draggableNodes:t,droppableContainers:i,measuringConfiguration:a}=r;return Rp((o,h)=>{if(e===null)return;const c=t.get(o);if(!c)return;const f=c.node.current;if(!f)return;const d=X3(h);if(!d)return;const{transform:m}=as(h).getComputedStyle(h),y=F3(m);if(!y)return;const _=typeof e=="function"?e:fE(e);return G3(f,a.draggable.measure),_({active:{id:o,data:c.data,node:f,rect:a.draggable.measure(f)},draggableNodes:t,dragOverlay:{node:h,rect:a.dragOverlay.measure(d)},droppableContainers:i,measuringConfiguration:a,transform:y})})}function fE(r){const{duration:e,easing:t,sideEffects:i,keyframes:a}={...uE,...r};return o=>{let{active:h,dragOverlay:c,transform:f,...d}=o;if(!e)return;const m={x:c.rect.left-h.rect.left,y:c.rect.top-h.rect.top},y={scaleX:f.scaleX!==1?h.rect.width*f.scaleX/c.rect.width:1,scaleY:f.scaleY!==1?h.rect.height*f.scaleY/c.rect.height:1},_={x:f.x-m.x,y:f.y-m.y,...y},v=a({...d,active:h,dragOverlay:c,transform:{initial:f,final:_}}),[S]=v,N=v[v.length-1];if(JSON.stringify(S)===JSON.stringify(N))return;const C=i?.({active:h,dragOverlay:c,...d}),T=c.node.animate(v,{duration:e,easing:t,fill:"forwards"});return new Promise(R=>{T.onfinish=()=>{C?.(),R()}})}}let Mb=0;function dE(r){return he.useMemo(()=>{if(r!=null)return Mb++,Mb},[r])}const pE=dn.memo(r=>{let{adjustScale:e=!1,children:t,dropAnimation:i,style:a,transition:o,modifiers:h,wrapperElement:c="div",className:f,zIndex:d=999}=r;const{activatorEvent:m,active:y,activeNodeRect:_,containerNodeRect:v,draggableNodes:S,droppableContainers:N,dragOverlay:C,over:T,measuringConfiguration:R,scrollableAncestors:D,scrollableAncestorRects:F,windowRect:B}=J3(),G=he.useContext(Bp),z=dE(y?.id),j=K3(h,{activatorEvent:m,active:y,activeNodeRect:_,containerNodeRect:v,draggingNodeRect:C.rect,over:T,overlayNodeRect:C.rect,scrollableAncestors:D,scrollableAncestorRects:F,transform:G,windowRect:B}),V=a2(_),Z=hE({config:i,draggableNodes:S,droppableContainers:N,measuringConfiguration:R}),k=V?C.setRef:void 0;return dn.createElement(iE,null,dn.createElement(nE,{animation:Z},y&&z?dn.createElement(oE,{key:z,id:y.id,ref:k,as:c,activatorEvent:m,adjustScale:e,className:f,transition:o,rect:V,style:{zIndex:d,...a},transform:j},t):null))});function o2(r,e,t){const i=r.slice();return i.splice(t<0?i.length+t:t,0,i.splice(e,1)[0]),i}function mE(r,e){return r.reduce((t,i,a)=>{const o=e.get(i);return o&&(t[a]=o),t},Array(r.length))}function v1(r){return r!==null&&r>=0}function gE(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function vE(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const b1={scaleX:1,scaleY:1},bE=r=>{var e;let{rects:t,activeNodeRect:i,activeIndex:a,overIndex:o,index:h}=r;const c=(e=t[a])!=null?e:i;if(!c)return null;const f=yE(t,h,a);if(h===a){const d=t[o];return d?{x:a<o?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...b1}:null}return h>a&&h<=o?{x:-c.width-f,y:0,...b1}:h<a&&h>=o?{x:c.width+f,y:0,...b1}:{x:0,y:0,...b1}};function yE(r,e,t){const i=r[e],a=r[e-1],o=r[e+1];return!i||!a&&!o?0:t<e?a?i.left-(a.left+a.width):o.left-(i.left+i.width):o?o.left-(i.left+i.width):i.left-(a.left+a.width)}const t_=r=>{let{rects:e,activeIndex:t,overIndex:i,index:a}=r;const o=o2(e,i,t),h=e[a],c=o[a];return!c||!h?null:{x:c.left-h.left,y:c.top-h.top,scaleX:c.width/h.width,scaleY:c.height/h.height}},n_="Sortable",r_=dn.createContext({activeIndex:-1,containerId:n_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:t_,disabled:{draggable:!1,droppable:!1}});function xE(r){let{children:e,id:t,items:i,strategy:a=t_,disabled:o=!1}=r;const{active:h,dragOverlay:c,droppableRects:f,over:d,measureDroppableContainers:m}=J3(),y=gd(n_,t),_=c.rect!==null,v=he.useMemo(()=>i.map(G=>typeof G=="object"&&"id"in G?G.id:G),[i]),S=h!=null,N=h?v.indexOf(h.id):-1,C=d?v.indexOf(d.id):-1,T=he.useRef(v),R=!gE(v,T.current),D=C!==-1&&N===-1||R,F=vE(o);eo(()=>{R&&S&&m(v)},[R,v,S,m]),he.useEffect(()=>{T.current=v},[v]);const B=he.useMemo(()=>({activeIndex:N,containerId:y,disabled:F,disableTransforms:D,items:v,overIndex:C,useDragOverlay:_,sortedRects:mE(v,f),strategy:a}),[N,y,F.draggable,F.droppable,D,v,C,f,_,a]);return dn.createElement(r_.Provider,{value:B},e)}const _E=r=>{let{id:e,items:t,activeIndex:i,overIndex:a}=r;return o2(t,i,a).indexOf(e)},wE=r=>{let{containerId:e,isSorting:t,wasDragging:i,index:a,items:o,newIndex:h,previousItems:c,previousContainerId:f,transition:d}=r;return!d||!i||c!==o&&a===h?!1:t?!0:h!==a&&e===f},SE={duration:200,easing:"ease"},i_="transform",AE=vc.Transition.toString({property:i_,duration:0,easing:"linear"}),NE={roleDescription:"sortable"};function CE(r){let{disabled:e,index:t,node:i,rect:a}=r;const[o,h]=he.useState(null),c=he.useRef(t);return eo(()=>{if(!e&&t!==c.current&&i.current){const f=a.current;if(f){const d=zh(i.current,{ignoreTransform:!0}),m={x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height};(m.x||m.y)&&h(m)}}t!==c.current&&(c.current=t)},[e,t,i,a]),he.useEffect(()=>{o&&h(null)},[o]),o}function TE(r){let{animateLayoutChanges:e=wE,attributes:t,disabled:i,data:a,getNewIndex:o=_E,id:h,strategy:c,resizeObserverConfig:f,transition:d=SE}=r;const{items:m,containerId:y,activeIndex:_,disabled:v,disableTransforms:S,sortedRects:N,overIndex:C,useDragOverlay:T,strategy:R}=he.useContext(r_),D=EE(i,v),F=m.indexOf(h),B=he.useMemo(()=>({sortable:{containerId:y,index:F,items:m},...a}),[y,a,F,m]),G=he.useMemo(()=>m.slice(m.indexOf(h)),[m,h]),{rect:z,node:j,isOver:V,setNodeRef:Z}=e_({id:h,data:B,disabled:D.droppable,resizeObserverConfig:{updateMeasurementsFor:G,...f}}),{active:k,activatorEvent:I,activeNodeRect:te,attributes:$,setNodeRef:ne,listeners:K,isDragging:re,over:ae,setActivatorNodeRef:fe,transform:_e}=Q3({id:h,data:B,attributes:{...NE,...t},disabled:D.draggable}),Y=qT(Z,ne),O=!!k,q=O&&!S&&v1(_)&&v1(C),J=!T&&re,se=J&&q?_e:null,me=q?se??(c??R)({rects:N,activeNodeRect:te,activeIndex:_,overIndex:C,index:F}):null,de=v1(_)&&v1(C)?o({id:h,items:m,activeIndex:_,overIndex:C}):F,xe=k?.id,Ne=he.useRef({activeId:xe,items:m,newIndex:de,containerId:y}),Ue=m!==Ne.current.items,Ke=e({active:k,containerId:y,isDragging:re,isSorting:O,id:h,index:F,items:m,newIndex:Ne.current.newIndex,previousItems:Ne.current.items,previousContainerId:Ne.current.containerId,transition:d,wasDragging:Ne.current.activeId!=null}),it=CE({disabled:!Ke,index:F,node:j,rect:z});return he.useEffect(()=>{O&&Ne.current.newIndex!==de&&(Ne.current.newIndex=de),y!==Ne.current.containerId&&(Ne.current.containerId=y),m!==Ne.current.items&&(Ne.current.items=m)},[O,de,y,m]),he.useEffect(()=>{if(xe===Ne.current.activeId)return;if(xe!=null&&Ne.current.activeId==null){Ne.current.activeId=xe;return}const H=setTimeout(()=>{Ne.current.activeId=xe},50);return()=>clearTimeout(H)},[xe]),{active:k,activeIndex:_,attributes:$,data:B,rect:z,index:F,newIndex:de,items:m,isOver:V,isSorting:O,isDragging:re,listeners:K,node:j,overIndex:C,over:ae,setNodeRef:Y,setActivatorNodeRef:fe,setDroppableNodeRef:Z,setDraggableNodeRef:ne,transform:it??me,transition:st()};function st(){if(it||Ue&&Ne.current.newIndex===F)return AE;if(!(J&&!Ip(I)||!d)&&(O||Ke))return vc.Transition.toString({...d,property:i_})}}function EE(r,e){var t,i;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(t=r?.draggable)!=null?t:e.draggable,droppable:(i=r?.droppable)!=null?i:e.droppable}}function cp(r){if(!r)return!1;const e=r.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const kE=[_n.Down,_n.Right,_n.Up,_n.Left],ME=(r,e)=>{let{context:{active:t,collisionRect:i,droppableRects:a,droppableContainers:o,over:h,scrollableAncestors:c}}=e;if(kE.includes(r.code)){if(r.preventDefault(),!t||!i)return;const f=[];o.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const _=a.get(y.id);if(_)switch(r.code){case _n.Down:i.top<_.top&&f.push(y);break;case _n.Up:i.top>_.top&&f.push(y);break;case _n.Left:i.left>_.left&&f.push(y);break;case _n.Right:i.left<_.left&&f.push(y);break}});const d=r7({collisionRect:i,droppableRects:a,droppableContainers:f});let m=I3(d,"id");if(m===h?.id&&d.length>1&&(m=d[1].id),m!=null){const y=o.get(t.id),_=o.get(m),v=_?a.get(_.id):null,S=_?.node.current;if(S&&v&&y&&_){const C=Vp(S).some((G,z)=>c[z]!==G),T=s_(y,_),R=OE(y,_),D=C||!T?{x:0,y:0}:{x:R?i.width-v.width:0,y:R?i.height-v.height:0},F={x:v.left,y:v.top};return D.x&&D.y?F:$f(F,D)}}}};function s_(r,e){return!cp(r)||!cp(e)?!1:r.data.current.sortable.containerId===e.data.current.sortable.containerId}function OE(r,e){return!cp(r)||!cp(e)||!s_(r,e)?!1:r.data.current.sortable.index<e.data.current.sortable.index}const LE=({slot:r,sectionId:e,size:t=48,width:i})=>{const{selectedSlots:a,setSelectedSlot:o,toggleSlotSelection:h,selectRangeTo:c,setSelectedSlots:f,playingSectionId:d,playingSlotId:m}=Rr(),y=hg(),_=i??t,v=he.useRef(null),{isOver:S,setNodeRef:N}=e_({id:`slot-${r.id}`,data:{type:"slot",sectionId:e,slotId:r.id}}),{attributes:C,listeners:T,setNodeRef:R,transform:D,isDragging:F}=Q3({id:`chord-${r.id}`,data:{type:"chord",chord:r.chord,originSlotId:r.id,originSectionId:e},disabled:!r.chord}),B=a.some($=>$.slotId===r.id&&$.sectionId===e),G=d===e&&m===r.id,z=D?{transform:`translate3d(${D.x}px, ${D.y}px, 0)`,zIndex:999}:void 0,j=$=>{if($.button===0)if($.stopPropagation(),$.shiftKey)c(e,r.id);else if($.metaKey||$.ctrlKey)h(e,r.id);else if(B&&a.length>0){const ne=[...a.filter(K=>!(K.sectionId===e&&K.slotId===r.id)),{sectionId:e,slotId:r.id}];f(ne)}else o(e,r.id)},V=$=>{v.current={x:$.clientX,y:$.clientY}},Z=$=>{if($.stopPropagation(),!!r.chord){if(v.current){const ne=$.clientX-v.current.x,K=$.clientY-v.current.y;if(Math.sqrt(ne*ne+K*K)>5)return}r.chord.notes&&r.chord.notes.length>0&&ml(r.chord.notes)}},I=(()=>{if(!r.chord)return;const $=r.chord.root;if(y[$])return y[$];const ne=Pf($);for(const K of Object.keys(y))if(Pf(K)===ne)return y[K];return"hsl(230, 60%, 50%)"})(),te=Math.max(8,Math.min(12,t*.22));return E.jsxs("div",{ref:N,onMouseDown:j,onClick:$=>$.stopPropagation(),onDoubleClick:$=>$.stopPropagation(),style:{width:_,height:t},className:Li("rounded border-2 flex items-center justify-center transition-all relative flex-shrink-0",S?"border-accent-primary bg-accent-glow scale-105":"border-border-medium bg-bg-elevated",B?"ring-2 ring-accent-primary ring-offset-1 ring-offset-bg-primary":"",G?"ring-2 ring-green-500 ring-offset-1 ring-offset-bg-primary shadow-[0_0_15px_rgba(34,197,94,0.5)] scale-105 z-10":"",!r.chord&&"hover:border-text-muted cursor-pointer"),children:[!r.chord&&E.jsx("span",{className:"text-text-muted font-light select-none",style:{fontSize:te+4},children:"+"}),r.chord&&E.jsx("div",{ref:R,...T,...C,onMouseDown:$=>{V($),T?.onMouseDown?.($)},onClick:Z,style:{...z,backgroundColor:I},className:Li("w-full h-full rounded flex items-center justify-center font-bold shadow cursor-grab active:cursor-grabbing select-none overflow-hidden",F?"opacity-50":"opacity-100"),children:E.jsx("span",{style:{fontSize:te,color:ex(I||"")},className:"truncate px-0.5 text-center font-bold",children:r.chord.symbol})})]})},jE=r=>{const[e,t]=r;return e*(4/t)},DE=({measure:r,sectionId:e,index:t,chordSize:i=48,timeSignature:a,scale:o=1})=>{const{setMeasureSubdivision:h}=Rr(),c=Math.max(.1,Math.min(1.6,o)),f=jE(a),d=r.beats.length,m=i*.9,y=Math.max(8,m*c),[_]=a,S=(C=>{const T=[1,C];return C*2<=16&&T.push(C*2),C*4<=16&&T.push(C*4),[...new Set(T)].sort((R,D)=>R-D)})(_),N=C=>{Number.isFinite(C)&&h(e,r.id,C)};return E.jsxs("div",{className:"flex flex-col border-r-2 border-border-medium last:border-r-0 px-1 min-w-[64px]",style:{minWidth:y*Math.max(1,f)+8},children:[E.jsx("div",{className:"text-[8px] text-text-muted mb-0.5 font-mono uppercase tracking-wider text-center",children:t+1}),E.jsx("div",{className:"flex gap-0.5",children:r.beats.map(C=>{const T=Math.max(y*(C.duration||1),y);return E.jsx(LE,{slot:C,sectionId:e,size:i,width:T},C.id)})}),E.jsxs("div",{className:"flex flex-col items-center justify-center gap-0.5 mt-1",children:[E.jsx("span",{className:"text-[8px] uppercase tracking-wider text-text-muted leading-tight",children:"Steps"}),E.jsxs("select",{value:d,onChange:C=>N(parseInt(C.target.value,10)),className:"bg-bg-tertiary text-text-primary text-[10px] rounded px-1 py-0.5 border border-border-subtle focus:outline-none",children:[S.map(C=>E.jsx("option",{value:C,className:"bg-bg-secondary text-text-primary",children:C},C)),!S.includes(d)&&E.jsx("option",{value:d,className:"bg-bg-secondary text-text-primary",children:d})]})]})]})},RE=({section:r,chordSize:e=48,scale:t=1,onRequestConfirm:i})=>{const{removeSection:a,duplicateSection:o,updateSection:h,selectedSectionId:c,setSelectedSlot:f,setSectionMeasures:d,setSectionTimeSignature:m,currentSong:y,collapsedSections:_,toggleSectionCollapsed:v}=Rr(),[S,N]=he.useState(!1),[C,T]=he.useState(r.name),R=he.useRef(null);he.useEffect(()=>{S&&R.current&&(R.current.focus(),R.current.select())},[S]);const D=q=>{q.stopPropagation(),T(r.name),N(!0)},F=()=>{const q=C.trim();q&&q!==r.name&&h(r.id,{name:q}),N(!1)},B=q=>{q.key==="Enter"?F():q.key==="Escape"&&(T(r.name),N(!1))},{attributes:G,listeners:z,setNodeRef:j,transform:V,transition:Z,isDragging:k}=TE({id:r.id,data:{type:"section",sectionId:r.id}}),I={transform:vc.Transform.toString(V),transition:Z},te=q=>{q.stopPropagation(),i({title:"Delete Section",message:`Delete section "${r.name}"?`,confirmLabel:"Delete",isDestructive:!0,onConfirm:()=>a(r.id)})},$=()=>{f(r.id,null)},ne=(t??1)<=.2,K=_[r.id]??!1,re=r.timeSignature||y.timeSignature||[4,4],ae=r.measures.length,fe=q=>{const J=Number.isFinite(q)?q:ae;d(r.id,J)},_e=q=>{const[J,se]=q.split("/").map(me=>parseInt(me,10));if(!J||!se)return;if(r.measures.some(me=>me.beats.some(de=>!!de.chord))){i({title:"Change Time Signature",message:"Changing the time signature will clear chords in this section. Continue?",confirmLabel:"Change",isDestructive:!0,onConfirm:()=>m(r.id,[J,se])});return}m(r.id,[J,se])},Y=`${re[0]}/${re[1]}`,O=[[4,4],[3,4],[5,4],[2,4],[6,8]];return E.jsxs("div",{ref:j,style:I,className:Li("flex flex-col bg-bg-secondary rounded-lg overflow-hidden border-2 shadow-[0_0_0_2px_rgba(255,255,255,0.12)] transition-all h-full max-h-full",c===r.id?"border-accent-primary shadow-[0_0_0_2px_rgba(99,102,241,0.35)]":"border-border-medium",k?"opacity-50":"opacity-100"),onClick:$,children:[E.jsxs("div",{className:Li("flex items-center justify-between bg-bg-elevated border-b border-border-subtle group",ne?"px-1.5 py-1 gap-1.5":"flex-wrap gap-3 px-2 py-1.5"),children:[E.jsxs("div",{className:Li("flex items-center min-w-0",ne?"gap-0.5":"gap-1.5"),children:[E.jsx("div",{...G,...z,className:"cursor-grab active:cursor-grabbing text-text-muted hover:text-text-primary shrink-0",title:"Drag section",children:E.jsx(g3,{size:ne?10:12})}),S?E.jsx("input",{ref:R,type:"text",value:C,onChange:q=>T(q.target.value),onBlur:F,onKeyDown:B,onClick:q=>q.stopPropagation(),className:Li("font-medium text-text-primary bg-bg-tertiary border border-border-medium rounded focus:outline-none focus:border-accent-primary",ne?"text-[8px] px-1 py-0 w-16":"text-xs px-1.5 py-0.5 w-24"),maxLength:30}):E.jsx("span",{className:Li("font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors truncate",ne?"text-[8px] max-w-[60px]":"text-xs max-w-[120px]"),onDoubleClick:D,title:"Double-click to rename",children:r.name})]}),E.jsxs("div",{className:Li("flex items-center",ne?"gap-1":"gap-2"),children:[E.jsxs("div",{className:Li("flex items-center text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded",ne?"gap-0 text-[8px] px-0.5 py-0":"gap-0.5 text-[10px] px-1 py-0.5"),onClick:q=>q.stopPropagation(),children:[!ne&&E.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Bars"}),E.jsx("input",{type:"number",min:1,max:32,value:ae,onChange:q=>fe(parseInt(q.target.value,10)),className:Li("bg-transparent text-text-primary focus:outline-none text-center",ne?"w-5 text-[8px]":"w-8 text-xs")})]}),E.jsxs("div",{className:Li("flex items-center text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded",ne?"gap-0 text-[8px] px-0.5 py-0":"gap-1 text-[10px] px-1.5 py-0.5"),onClick:q=>q.stopPropagation(),children:[!ne&&E.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Meter"}),E.jsx("select",{value:Y,onChange:q=>_e(q.target.value),className:Li("bg-transparent text-text-primary focus:outline-none",ne?"text-[8px]":"text-xs"),children:O.map(([q,J])=>E.jsxs("option",{value:`${q}/${J}`,className:"bg-bg-secondary text-text-primary",children:[q,"/",J]},`${q}/${J}`))})]})]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("button",{onClick:q=>{q.stopPropagation(),v(r.id)},className:Li("p-1 rounded text-text-muted hover:text-text-primary",ne?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:K?"Expand section":"Collapse section",children:K?E.jsx(_h,{size:ne?12:11}):E.jsx(m3,{size:ne?12:11})}),E.jsx("button",{onClick:q=>{q.stopPropagation(),o(r.id)},className:Li("p-1 rounded text-text-muted hover:text-text-primary",ne?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:"Duplicate section",children:E.jsx(XC,{size:ne?12:11})}),E.jsx("button",{onClick:te,className:Li("p-1 rounded text-text-muted hover:text-red-400",ne?"hover:bg-red-500/15":"hover:bg-red-500/10"),title:"Delete section",children:E.jsx(Xm,{size:ne?12:11})})]})]}),K?E.jsxs("div",{className:"flex items-center justify-between px-2 py-2 border-t border-border-subtle bg-bg-secondary text-[10px] text-text-muted",children:[E.jsx("span",{className:"font-semibold text-text-secondary truncate pr-2",children:r.name}),E.jsxs("div",{className:"flex items-center gap-2 uppercase tracking-wider",children:[E.jsxs("span",{children:[ae," bars"]}),E.jsx("span",{children:Y})]})]}):E.jsx("div",{className:"flex p-1.5 gap-0 overflow-x-auto flex-1",children:r.measures.map((q,J)=>E.jsx(DE,{measure:q,sectionId:r.id,index:J,chordSize:e,timeSignature:re,scale:t},q.id))})]})},IE=({scale:r,chordSize:e})=>{const{isPlaying:t,currentSong:i}=Rr(),a=he.useRef(null),o=he.useRef(0),h=e*.9,c=Math.max(8,h*r),f=12,d=m=>{let y=m,_=0;for(const v of i.sections){for(const S of v.measures){const N=S.beats.reduce((B,G)=>B+(G.duration||1),0);if(y<N){_+=4;let B=y;for(const G of S.beats){const z=G.duration||1;if(B<z){const V=B/z,Z=Math.max(c*z,c);return _+=V*Z,_}const j=Math.max(c*z,c);_+=j+2,B-=z}return _}const C=S.beats.reduce((B,G)=>B+Math.max(c*(G.duration||1),c),0),T=Math.max(0,S.beats.length-1)*2,R=8,D=2,F=S===v.measures[v.measures.length-1];_+=C+T+R+(F?0:D),y-=N}_+=f}return _};return he.useEffect(()=>{if(!t)return;const m=()=>{if(a.current){const y=is.position.toString().split(":"),_=parseFloat(y[0]),v=parseFloat(y[1]),S=parseFloat(y[2]),N=_*4+v+S/4,C=d(N);a.current.style.transform=`translateX(${C}px)`}o.current=requestAnimationFrame(m)};return o.current=requestAnimationFrame(m),()=>{o.current&&cancelAnimationFrame(o.current)}},[t,c,i]),t?E.jsx("div",{ref:a,className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-50 pointer-events-none shadow-[0_0_8px_rgba(239,68,68,0.8)]",style:{left:0},children:E.jsx("div",{className:"absolute -top-1 -left-[4.5px] w-0 h-0 border-l-[5px] border-l-transparent border-r-[5px] border-r-transparent border-t-[6px] border-t-red-500"})}):null},a_=({isOpen:r,onClose:e,onConfirm:t,title:i,message:a,confirmLabel:o="Confirm",cancelLabel:h="Cancel",isDestructive:c=!1})=>(he.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),he.useEffect(()=>{const f=d=>{d.key==="Escape"&&r&&e()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[r,e]),r?E.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[E.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:e}),E.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-sm w-full overflow-hidden flex flex-col scale-100 opacity-100 transition-all",children:[E.jsxs("div",{className:"p-6",children:[E.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:i}),E.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:a})]}),E.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 bg-[#22222e] border-t border-border-subtle",children:[E.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:h}),E.jsx("button",{onClick:()=>{t(),e()},className:`px-4 py-2 text-sm font-bold text-white rounded-lg shadow-lg transition-transform active:scale-95 ${c?"bg-red-500 hover:bg-red-600":"bg-accent-primary hover:bg-accent-secondary"}`,children:o})]})]})]}):null),VE=({onAltChange:r})=>(j3({onDragMove:e=>{const t=e.modifiers?.altKey??!1;r(!!t)},onDragEnd:()=>r(!1),onDragCancel:()=>r(!1)}),null),Ob=({height:r=180,scale:e=1})=>{const{currentSong:t,addSection:i,reorderSections:a,addChordToSlot:o,moveChord:h,moveSelection:c}=Rr(),f=Math.max(.1,Math.min(1.6,e)),d=r-40,m=Math.max(32,Math.min(64,d-24)),[y,_]=dn.useState(null),[v,S]=dn.useState(null),[N,C]=dn.useState(!1),[T,R]=dn.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),D=JT(vb(s2,{activationConstraint:{distance:8}}),vb(r2,{coordinateGetter:ME})),F=G=>{const z=G.activatorEvent,j=!!(z&&"altKey"in z&&z.altKey);_(G.active.id),S({...G.active.data.current,copyMode:j}),C(j)},B=G=>{const{active:z,over:j}=G;if(_(null),S(null),C(!1),!!j){if(z.data.current?.type==="section"&&j.data.current?.type==="section"){if(z.id!==j.id){const V=t.sections.findIndex(k=>k.id===z.id),Z=t.sections.findIndex(k=>k.id===j.id);a(o2(t.sections,V,Z))}return}if(z.data.current?.type==="chord"&&j.data.current?.type==="slot"){const V=z.data.current.originSlotId,Z=z.data.current.originSectionId,k=j.data.current.slotId,I=j.data.current.sectionId,te=z.data.current.chord;if(V&&Z){if(V===k&&Z===I||c({sectionId:Z,slotId:V},{sectionId:I,slotId:k},v?.copyMode||N?"copy":"move"))return;const ne=Rr.getState(),K=ne.currentSong.sections.find(re=>re.id===I)?.measures.flatMap(re=>re.beats).find(re=>re.id===k)?.chord;h(Z,V,I,k),K?(ne.setSelectedSlot(Z,V),ne.setSelectedChord(K)):te&&(ne.setSelectedSlot(I,k),ne.setSelectedChord(te))}else o(te,I,k),Rr.getState().setSelectedSlot(I,k),Rr.getState().setSelectedChord(te)}}};return dn.useEffect(()=>{const G=j=>{j.altKey&&C(!0)},z=j=>{j.altKey||C(!1)};return window.addEventListener("keydown",G),window.addEventListener("keyup",z),()=>{window.removeEventListener("keydown",G),window.removeEventListener("keyup",z)}},[]),E.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[E.jsx("div",{className:"flex-1 min-h-0 overflow-x-auto overflow-y-hidden px-3 py-1.5",ref:G=>{G&&G.addEventListener("wheel",z=>{z.deltaY!==0&&(z.preventDefault(),G.scrollLeft+=z.deltaY)},{passive:!1})},children:E.jsxs("div",{className:"relative flex gap-3 min-w-max",style:{height:"100%"},children:[E.jsx(IE,{scale:f,chordSize:m}),E.jsxs(K7,{sensors:D,collisionDetection:n7,onDragStart:F,onDragEnd:B,children:[E.jsx(VE,{onAltChange:C}),E.jsxs(xE,{items:t.sections.map(G=>G.id),strategy:bE,children:[t.sections.map(G=>E.jsx(RE,{section:G,chordSize:m,scale:f,onRequestConfirm:z=>R({...z,isOpen:!0})},G.id)),E.jsxs("button",{onClick:()=>i("chorus"),className:"w-10 rounded-lg border-2 border-dashed border-border-medium hover:border-accent-primary hover:bg-bg-elevated transition-all flex flex-col items-center justify-center text-text-muted hover:text-accent-primary gap-0.5 self-stretch",children:[E.jsx(v3,{size:12}),E.jsx("span",{className:"text-[6px] font-medium uppercase tracking-wider",children:"Add"})]})]}),E.jsxs(pE,{children:[y&&v?.type==="section"?E.jsx("div",{className:"opacity-80 rotate-2 scale-105",children:E.jsx("div",{className:"bg-bg-elevated p-4 rounded-xl border border-accent-primary w-[400px] h-[200px] flex items-center justify-center shadow-2xl",children:E.jsx("span",{className:"font-bold text-xl",children:"Moving Section..."})})}):null,y&&v?.type==="chord"?E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"w-24 h-24 rounded-lg bg-accent-primary text-white flex items-center justify-center font-bold text-xl shadow-2xl rotate-6 scale-110 cursor-grabbing",children:v.chord.symbol}),(v?.copyMode||N)&&E.jsx("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white text-[11px] font-bold px-2 py-0.5 rounded-full shadow-md border border-white",children:"+"})]}):null]})]})]})}),E.jsx(a_,{isOpen:T.isOpen,onClose:()=>R(G=>({...G,isOpen:!1})),onConfirm:T.onConfirm,title:T.title,message:T.message,confirmLabel:T.confirmLabel,isDestructive:T.isDestructive})]})},FE=({highlightedNotes:r,rootNote:e,color:t="#6366f1",octave:i=4,onNotePlay:a})=>{const o=["C","D","E","F","G","A","B"],h=S=>{const N={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},C=S.replace(/\d+/g,"");return N[C]??-1},c=r.map(S=>h(S)),f=e?h(e):-1,d=S=>{const N=h(S);return N!==-1&&c.includes(N)},m=S=>f===-1?!1:h(S)===f,y=(S,N)=>{a&&a(S,N)},_=()=>{const S=[];for(let C=0;C<2;C++){const T=i+C;o.forEach(R=>{const D=d(R),F=m(R);S.push(E.jsx("div",{className:"h-full rounded-b-md relative border-x border-b border-gray-400 cursor-pointer hover:brightness-95 active:brightness-90 transition-all",style:{width:`${100/14}%`,background:"linear-gradient(180deg, #fafafa 0%, #e8e8e8 70%, #d0d0d0 100%)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.9), inset 0 -2px 4px rgba(0,0,0,0.08)"},onClick:()=>y(R,T),children:D&&E.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"6px",transform:"translateX(-50%)",width:F?"12px":"9px",height:F?"12px":"9px",background:t,border:"2px solid #000",boxShadow:`0 0 6px ${t}80`}})},`white-${C}-${R}`))})}return S},v=()=>{const S=[],N=[{note:"C#",offset:7.14},{note:"D#",offset:14.28},{note:"F#",offset:28.57},{note:"G#",offset:35.71},{note:"A#",offset:42.85}];for(let C=0;C<2;C++){const T=C*50,R=i+C;N.forEach(({note:D,offset:F})=>{const B=d(D),G=m(D),z=T+F;S.push(E.jsx("div",{className:"absolute top-0 rounded-b-md cursor-pointer hover:brightness-125 active:brightness-150 transition-all",style:{left:`${z}%`,width:"5.5%",height:"58%",transform:"translateX(-50%)",background:"linear-gradient(180deg, #333 0%, #1a1a1a 70%, #0a0a0a 100%)",boxShadow:"0 3px 6px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.08)",pointerEvents:"auto"},onClick:()=>y(D,R),children:B&&E.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"4px",transform:"translateX(-50%)",width:G?"10px":"8px",height:G?"10px":"8px",background:t,border:"2px solid #fff",boxShadow:`0 0 6px ${t}80`}})},`black-${C}-${D}`))})}return S};return E.jsx("div",{className:"relative w-full rounded-lg select-none overflow-hidden",style:{height:"80px",minHeight:"80px",background:"#1a1a22",boxShadow:"inset 0 2px 8px rgba(0,0,0,0.6)",padding:"3px 2px 2px 2px"},children:E.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[E.jsx("div",{className:"flex w-full h-full gap-[1px]",style:{position:"relative",zIndex:0},children:_()}),E.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,pointerEvents:"none"},children:v()})]})})},BE={C:{maj:[{frets:[-1,3,2,0,1,0],fingers:[0,3,2,0,1,0],barres:[],baseFret:1}],m:[{frets:[-1,3,1,0,1,3],fingers:[0,3,1,0,2,4],barres:[],baseFret:1}],7:[{frets:[-1,3,2,3,1,0],fingers:[0,3,2,4,1,0],barres:[],baseFret:1}],maj7:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj9:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,3,2,2,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],m7:[{frets:[-1,3,1,3,1,3],fingers:[0,2,1,3,1,4],barres:[1],baseFret:3}],m9:[{frets:[-1,3,1,3,3,3],fingers:[0,2,1,3,4,4],barres:[],baseFret:3}],m11:[{frets:[-1,3,1,3,3,1],fingers:[0,2,1,3,4,1],barres:[1],baseFret:3}],m6:[{frets:[-1,3,1,2,1,3],fingers:[0,3,1,2,1,4],barres:[1],baseFret:1}],sus2:[{frets:[-1,3,0,0,1,3],fingers:[0,2,0,0,1,3],barres:[],baseFret:1}],sus4:[{frets:[-1,3,3,0,1,1],fingers:[0,3,4,0,1,1],barres:[1],baseFret:1}],dim:[{frets:[-1,3,1,-1,1,2],fingers:[0,4,1,0,2,3],barres:[],baseFret:1}],6:[{frets:[-1,3,2,2,1,0],fingers:[0,4,2,3,1,0],barres:[],baseFret:1}],add9:[{frets:[-1,3,2,0,3,0],fingers:[0,2,1,0,3,0],barres:[],baseFret:1}],9:[{frets:[-1,3,2,3,3,0],fingers:[0,2,1,3,4,0],barres:[],baseFret:1}],11:[{frets:[-1,3,2,3,3,3],fingers:[0,2,1,3,3,3],barres:[],baseFret:1}],13:[{frets:[-1,3,2,3,3,5],fingers:[0,2,1,3,3,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,3,4,3,4,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},"C#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},Db:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},D:{maj:[{frets:[-1,-1,0,2,3,2],fingers:[0,0,0,1,3,2],barres:[],baseFret:1}],m:[{frets:[-1,-1,0,2,3,1],fingers:[0,0,0,2,3,1],barres:[],baseFret:1}],7:[{frets:[-1,-1,0,2,1,2],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],maj7:[{frets:[-1,-1,0,2,2,2],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],maj9:[{frets:[-1,-1,0,2,2,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],maj13:[{frets:[-1,-1,0,2,2,4],fingers:[0,0,0,1,1,3],barres:[2],baseFret:1}],m7:[{frets:[-1,-1,0,2,1,1],fingers:[0,0,0,2,1,1],barres:[1],baseFret:1}],m9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],m11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m6:[{frets:[-1,-1,0,2,0,1],fingers:[0,0,0,2,0,1],barres:[],baseFret:1}],sus2:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],sus4:[{frets:[-1,-1,0,2,3,3],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,1,3,1],fingers:[0,0,0,1,4,2],barres:[],baseFret:1}],6:[{frets:[-1,-1,0,2,0,2],fingers:[0,0,0,1,0,2],barres:[],baseFret:1}],add9:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],13:[{frets:[-1,-1,0,2,1,4],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,1,1,1],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}]},"D#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},Eb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},E:{maj:[{frets:[0,2,2,1,0,0],fingers:[0,2,3,1,0,0],barres:[],baseFret:1}],m:[{frets:[0,2,2,0,0,0],fingers:[0,2,3,0,0,0],barres:[],baseFret:1}],7:[{frets:[0,2,0,1,0,0],fingers:[0,2,0,1,0,0],barres:[],baseFret:1}],maj7:[{frets:[0,2,1,1,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],maj9:[{frets:[0,2,1,1,0,2],fingers:[0,2,1,1,0,3],barres:[1],baseFret:1}],maj13:[{frets:[0,2,1,1,2,2],fingers:[0,2,1,1,3,3],barres:[],baseFret:1}],m7:[{frets:[0,2,0,0,0,0],fingers:[0,1,0,0,0,0],barres:[],baseFret:1}],m9:[{frets:[0,2,0,0,0,2],fingers:[0,2,0,0,0,3],barres:[],baseFret:1}],m11:[{frets:[0,2,0,0,3,0],fingers:[0,2,0,0,4,0],barres:[],baseFret:1}],m6:[{frets:[0,2,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],sus2:[{frets:[0,2,4,4,0,0],fingers:[0,1,3,4,0,0],barres:[],baseFret:1}],sus4:[{frets:[0,2,2,2,0,0],fingers:[0,2,3,4,0,0],barres:[],baseFret:1}],dim:[{frets:[0,1,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],6:[{frets:[0,2,2,1,2,0],fingers:[0,2,3,1,4,0],barres:[],baseFret:1}],add9:[{frets:[0,2,2,1,0,2],fingers:[0,2,3,1,0,4],barres:[],baseFret:1}],9:[{frets:[0,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],11:[{frets:[0,2,0,1,3,0],fingers:[0,2,0,1,4,0],barres:[],baseFret:1}],13:[{frets:[0,2,0,1,2,2],fingers:[0,2,0,1,3,4],barres:[],baseFret:1}],m7b5:[{frets:[0,1,0,0,2,0],fingers:[0,1,0,0,2,0],barres:[],baseFret:1}]},F:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:1}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:1}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,-1,3,2,1,0],fingers:[0,0,3,2,1,0],barres:[],baseFret:1}],maj9:[{frets:[1,0,3,0,1,0],fingers:[1,0,3,0,2,0],barres:[],baseFret:1}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:1}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:1}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:1}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,-1,3,0,1,1],fingers:[0,0,3,0,1,1],barres:[1],baseFret:1}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:1}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:1}],6:[{frets:[1,-1,0,2,1,1],fingers:[1,0,0,3,1,1],barres:[1],baseFret:1}],add9:[{frets:[-1,-1,3,2,1,3],fingers:[0,0,3,2,1,4],barres:[],baseFret:1}],9:[{frets:[1,3,1,2,1,3],fingers:[1,3,1,2,1,4],barres:[1],baseFret:1}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:1}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:1}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}]},"F#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},Gb:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},G:{maj:[{frets:[3,2,0,0,0,3],fingers:[2,1,0,0,0,3],barres:[],baseFret:1}],m:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],7:[{frets:[3,2,0,0,0,1],fingers:[3,2,0,0,0,1],barres:[],baseFret:1}],maj7:[{frets:[3,2,0,0,0,2],fingers:[3,1,0,0,0,2],barres:[],baseFret:1}],maj9:[{frets:[3,0,0,0,0,2],fingers:[2,0,0,0,0,1],barres:[],baseFret:1}],maj13:[{frets:[3,2,0,0,2,2],fingers:[3,1,0,0,2,2],barres:[2],baseFret:1}],m7:[{frets:[3,1,0,0,3,0],fingers:[2,1,0,0,3,0],barres:[],baseFret:1}],m9:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],m11:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],m6:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],sus2:[{frets:[3,0,0,0,3,3],fingers:[1,0,0,0,2,3],barres:[],baseFret:1}],sus4:[{frets:[3,3,0,0,1,3],fingers:[2,3,0,0,1,4],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],6:[{frets:[3,2,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],add9:[{frets:[3,0,0,0,0,3],fingers:[2,0,0,0,0,3],barres:[],baseFret:1}],9:[{frets:[3,2,0,1,0,1],fingers:[3,2,0,1,0,1],barres:[1],baseFret:1}],11:[{frets:[3,2,0,1,3,1],fingers:[3,2,0,1,4,1],barres:[1],baseFret:1}],13:[{frets:[3,2,0,1,0,5],fingers:[2,1,0,1,0,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}]},"G#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},Ab:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},A:{maj:[{frets:[-1,0,2,2,2,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],m:[{frets:[-1,0,2,2,1,0],fingers:[0,0,2,3,1,0],barres:[],baseFret:1}],7:[{frets:[-1,0,2,0,2,0],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}],maj7:[{frets:[-1,0,2,1,2,0],fingers:[0,0,2,1,3,0],barres:[],baseFret:1}],maj9:[{frets:[-1,0,2,1,0,0],fingers:[0,0,2,1,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,0,2,1,2,4],fingers:[0,0,2,1,3,4],barres:[],baseFret:1}],m7:[{frets:[-1,0,2,0,1,0],fingers:[0,0,2,0,1,0],barres:[],baseFret:1}],m9:[{frets:[-1,0,2,0,1,3],fingers:[0,0,2,0,1,4],barres:[],baseFret:1}],m11:[{frets:[-1,0,0,0,1,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],m6:[{frets:[-1,0,2,2,1,2],fingers:[0,0,2,3,1,4],barres:[],baseFret:1}],sus2:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],sus4:[{frets:[-1,0,2,2,3,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],dim:[{frets:[-1,0,1,2,1,-1],fingers:[0,0,1,3,2,0],barres:[],baseFret:1}],6:[{frets:[-1,0,2,2,2,2],fingers:[0,0,1,1,1,1],barres:[2],baseFret:1}],add9:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],9:[{frets:[-1,0,2,4,2,3],fingers:[0,0,1,3,1,2],barres:[2],baseFret:1}],11:[{frets:[-1,0,0,0,2,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],13:[{frets:[-1,0,2,0,2,4],fingers:[0,0,1,0,2,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,0,1,0,1,-1],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}]},"A#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},Bb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},B:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:2}],7:[{frets:[-1,2,1,2,0,2],fingers:[0,2,1,3,0,4],barres:[],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:2}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:2}],m7:[{frets:[-1,2,0,2,0,2],fingers:[0,1,0,2,0,3],barres:[],baseFret:1}],m9:[{frets:[-1,2,0,2,2,2],fingers:[0,1,0,2,3,4],barres:[],baseFret:1}],m11:[{frets:[-1,2,0,2,0,0],fingers:[0,1,0,2,0,0],barres:[],baseFret:1}],m6:[{frets:[-1,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:2}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:2}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,2,1,2,2,2],fingers:[0,2,1,3,3,3],barres:[],baseFret:1}],11:[{frets:[-1,2,1,2,0,0],fingers:[0,2,1,3,0,0],barres:[],baseFret:1}],13:[{frets:[-1,2,1,2,2,4],fingers:[0,2,1,3,3,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:2}]}};function qE(r){return{"C":"C#","D":"Db","D":"D#","E":"Eb","F":"F#","G":"Gb","G":"G#","A":"Ab","A":"A#","B":"Bb"}[r]||r.replace("","#").replace("","b")}function zE(r){return{major:"maj",minor:"m",min:"m",dom7:"7",dominant7:"7",major7:"maj7",minor7:"m7",min7:"m7",suspended2:"sus2",suspended4:"sus4",diminished:"dim","half-diminished":"m7b5","m75":"m7b5",sixth:"6",ninth:"9",added9:"add9"}[r]||r}function o_(r,e){const t=qE(r),i=zE(e),a=BE[t];if(!a)return null;const o=a[i];return!o||o.length===0?null:o[0]}const PE=({root:r,quality:e,color:t="#6366f1"})=>{const i=dd(),a=o_(r,e),o=`${r}${e==="maj"?"":e}`,h=ex(t);return a?E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsx("span",{className:`${i?"text-xs":"text-[11px]"} font-bold mb-1 text-center`,style:{backgroundColor:t,color:h,padding:"4px 12px",borderRadius:"10px"},children:o}),E.jsx("svg",{viewBox:"0 0 100 120",className:`w-full ${i?"max-w-[110px]":"max-w-[120px]"}`,style:{minHeight:i?110:120},children:E.jsx(UE,{chord:a,color:t})})]}):E.jsxs("div",{className:"flex items-center justify-center text-text-muted text-xs py-4",children:["No guitar diagram available for ",r,e]})},UE=({chord:r,color:e})=>{const{frets:t,fingers:i,barres:a,baseFret:o}=r,h=20,c=25,f=12,d=18,m=4,y=6,_=4.5,v=Array.from({length:y},(R,D)=>h+D*f),S=Array.from({length:m+1},(R,D)=>c+D*d),N=o===1,C=f*(y-1)+16,T=d*m+8;return E.jsxs(E.Fragment,{children:[E.jsx("rect",{x:h-8,y:c-4,width:C,height:T,fill:"#3d2817",rx:3}),N?E.jsx("rect",{x:h-2,y:c-3,width:f*(y-1)+4,height:4,fill:"#f5f5f5",rx:1}):E.jsx("text",{x:h-14,y:c+d/2+4,fontSize:"12",fill:"#e0e0e0",textAnchor:"middle",fontWeight:"700",children:o}),S.map((R,D)=>E.jsx("line",{x1:h,y1:R,x2:h+f*(y-1),y2:R,stroke:"#b8b8b8",strokeWidth:D===0&&!N?2:1},`fret-${D}`)),v.map((R,D)=>E.jsx("line",{x1:R,y1:c,x2:R,y2:c+d*m,stroke:"#d4d4d4",strokeWidth:1.2+(5-D)*.25},`string-${D}`)),a.map((R,D)=>{const F=t.map((j,V)=>({fret:j,idx:V})).filter(({fret:j})=>j===R);if(F.length<2)return null;const B=Math.min(...F.map(j=>j.idx)),G=Math.max(...F.map(j=>j.idx)),z=c+(R-.5)*d;return E.jsx("rect",{x:v[B]-_,y:z-_,width:v[G]-v[B]+_*2,height:_*2,fill:"white",stroke:e,strokeWidth:2,rx:_},`barre-${D}`)}),t.map((R,D)=>{const F=v[D];if(R===-1)return E.jsx("text",{x:F,y:c-10,fontSize:"14",fill:"#ff6b6b",textAnchor:"middle",fontWeight:"bold",children:""},`mute-${D}`);if(R===0)return E.jsx("circle",{cx:F,cy:c-8,r:4,fill:"none",stroke:"var(--color-text-secondary)",strokeWidth:1.5},`open-${D}`);const B=a.includes(R),G=i[D];if(B){const j=t.findIndex(V=>V===R);if(D!==j)return null}const z=c+(R-.5)*d;return E.jsxs("g",{children:[E.jsx("circle",{cx:F,cy:z,r:_,fill:"white",stroke:e,strokeWidth:2}),G>0&&!B&&E.jsx("text",{x:F,y:z+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:G})]},`finger-${D}`)}),a.map((R,D)=>{const F=t.map((j,V)=>({fret:j,idx:V})).filter(({fret:j})=>j===R);if(F.length<2)return null;const B=Math.min(...F.map(j=>j.idx)),G=c+(R-.5)*d,z=i[B];return z>0?E.jsx("text",{x:v[B],y:G+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:z},`barre-finger-${D}`):null})]})},HE=({notes:r,rootNote:e,color:t="#6366f1",width:i})=>{const a=dd(),o=C=>{const T=C.replace(/[0-9]/g,"");let R=T[0],D="";T.includes("")||T.includes("#")?D="":(T.includes("")||T.includes("b"))&&(D="");let B={C:-6,D:-5,E:-4,F:-3,G:-2,A:-1,B:0}[R]??0;const G="CDEFGAB".indexOf(R),z="CDEFGAB".indexOf(e[0]);return G<z&&z-G>3&&(B+=7),{line:B,accidental:D}},c=i||(a?280:340),f=a?105:110,d=12,m=d,y=f*.3,_=10,v=Math.max(100,c-d*2),S=r.map((C,T)=>{const{line:R,accidental:D}=o(C),F=60,B=v-F-25,G=m+F+T*B/Math.max(r.length-1,1),z=y-R*_/2;return{note:C,x:G,y:z,line:R,accidental:D,needsLedgerLines:R<-4||R>4}}),N=C=>{const T=[];if(C.line<-4)for(let D=-6;D>=C.line;D-=2)D<-4&&T.push(E.jsx("line",{x1:C.x-28/2,y1:y-D*_/2,x2:C.x+28/2,y2:y-D*_/2,stroke:"#888",strokeWidth:"1.5"},`ledger-below-${D}`));else if(C.line>4)for(let D=6;D<=C.line;D+=2)D>4&&T.push(E.jsx("line",{x1:C.x-28/2,y1:y-D*_/2,x2:C.x+28/2,y2:y-D*_/2,stroke:"#888",strokeWidth:"1.5"},`ledger-above-${D}`));return T};return E.jsx("div",{className:"flex justify-center items-center w-full",children:E.jsxs("svg",{viewBox:`0 0 ${c} ${f}`,className:"w-full",style:{minHeight:a?100:105},children:[[-2,-1,0,1,2].map(C=>E.jsx("line",{x1:m,y1:y-C*_,x2:m+v,y2:y-C*_,stroke:"#777",strokeWidth:"2"},`staff-${C}`)),E.jsx("text",{x:m-3,y:y+20,fontSize:a?"60":"66",fill:t,fontFamily:"serif",fontWeight:"bold",children:""}),S.map(C=>N(C)),S.map((C,T)=>E.jsxs("g",{children:[C.accidental&&E.jsx("text",{x:C.x-24,y:C.y+6,fontSize:a?"20":"22",fill:"#ccc",fontFamily:"serif",fontWeight:"bold",children:C.accidental}),E.jsx("ellipse",{cx:C.x,cy:C.y,rx:9,ry:7,fill:"none",stroke:T===0?t:"#ddd",strokeWidth:T===0?3:2.5}),E.jsx("ellipse",{cx:C.x,cy:C.y,rx:5,ry:4,fill:"#1e1e28"}),E.jsx("text",{x:C.x,y:Math.max(y+40,C.y+22),fontSize:a?"11":"12",fill:"#999",textAnchor:"middle",fontWeight:"600",children:C.note})]},`note-${T}`))]})})},Lb=()=>E.jsxs(E.Fragment,{children:[E.jsxs("section",{children:[E.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[E.jsx(HC,{size:12,className:"fill-accent-primary"}),"Quick Start"]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-3 text-sm text-gray-300",children:[E.jsx("p",{children:"The Chord Wheel puts chord theory into your hands. No music reading is necessary; simply rotate the transparent disk and analyze any chord progression instantly."}),E.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[E.jsx("li",{children:"Determine which chords belong to a given key"}),E.jsx("li",{children:"Transpose a chord progression to any key"}),E.jsx("li",{children:"Compose your own music"})]})]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[E.jsx(oT,{size:12}),"Understanding the Rings"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("h4",{className:"font-bold text-white mb-2",children:"Inner Ring (Major)"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Contains the 12 major chords arranged in the Circle of Fifths. Upper-case numerals (I, IV, V) denote major chords."})]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("h4",{className:"font-bold text-white mb-2",children:"Middle Ring (Minor)"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Contains 24 minor chords. Lower-case numerals (ii, iii, vi) denote minor chords in a key."})]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("h4",{className:"font-bold text-white mb-2",children:"Outer Ring (Diminished)"}),E.jsx("p",{className:"text-sm text-gray-400",children:"The vii chord for each key. The diminished chord has a harsh, dissonant quality due to the 5."})]})]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[E.jsx(sT,{size:12}),"Roman Numerals"]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Roman numerals denote the harmonic progression. Upper-case = major, lower-case = minor."}),E.jsxs("div",{className:"grid grid-cols-7 gap-2 text-center text-sm",children:[E.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[E.jsx("span",{className:"font-bold text-white",children:"I"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"Tonic"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[E.jsx("span",{className:"font-bold text-white",children:"ii"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"Super"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[E.jsx("span",{className:"font-bold text-white",children:"iii"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"Mediant"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[E.jsx("span",{className:"font-bold text-white",children:"IV"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"Subdom"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[E.jsx("span",{className:"font-bold text-white",children:"V"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"Dominant"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[E.jsx("span",{className:"font-bold text-white",children:"vi"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"Relative"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[E.jsx("span",{className:"font-bold text-white",children:"vii"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"Leading"})]})]})]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[E.jsx(IC,{size:12}),"The Circle of Fifths"]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[E.jsx("p",{children:'Starting with C and moving clockwise (C  G  D  A  E  B  F#  Db  Ab  Eb  Bb  F), each step is a "dominant" (fifth) progression. This cyclical nature is one of the most fundamental principles in music theory.'}),E.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[E.jsx("li",{children:'Modulations often move one "key" clockwise or counter-clockwise'}),E.jsx("li",{children:"Neighboring keys share many chords in common"}),E.jsx("li",{children:"The strong pull of V  I is why songs resolve satisfyingly"})]})]})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Building Chords"}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-4",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"font-semibold text-white mb-2",children:"Triads (3 Notes)"}),E.jsx("p",{className:"text-sm text-gray-400 mb-2",children:'Built using "every other note" of the scale: Root, 3rd, 5th'}),E.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[E.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[E.jsx("span",{className:"text-white font-medium",children:"Major"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[E.jsx("span",{className:"text-white font-medium",children:"Minor"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[E.jsx("span",{className:"text-white font-medium",children:"Diminished"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-semibold text-white mb-2",children:"Seventh Chords (4 Notes)"}),E.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Add the 7th note: 1st, 3rd, 5th, 7th"}),E.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[E.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[E.jsx("span",{className:"text-white font-medium",children:"Major 7th (maj7)"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[E.jsx("span",{className:"text-white font-medium",children:"Dominant 7th (7)"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[E.jsx("span",{className:"text-white font-medium",children:"Minor 7th (m7)"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[E.jsx("span",{className:"text-white font-medium",children:"Half-Dim (m75)"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]})]})]})]})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Common Progressions"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-IV-V (Pop/Rock)"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - F - G"}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The foundation of rock 'n' roll"})]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("h4",{className:"font-semibold text-white mb-2",children:"ii-V-I (Jazz)"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: Dm7 - G7 - Cmaj7"}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The most common jazz progression"})]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-vi-IV-V (50s/Doo-wop)"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - Am - F - G"}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Also used in countless pop songs"})]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-V-vi-IV (Modern Pop)"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - G - Am - F"}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'The "4 chord song" progression'})]})]})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Secondary Dominants (II & III)"}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[E.jsxs("p",{children:["The II and III chords (shown with half-highlighting) aren't diatonic but are commonly used. They're called ",E.jsx("strong",{className:"text-white",children:"secondary dominants"}),' because they "act" like dominant V chords:']}),E.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[E.jsxs("li",{children:[E.jsx("strong",{className:"text-white",children:"II"})," (D in key of C) = V of V (leads strongly to G)"]}),E.jsxs("li",{children:[E.jsx("strong",{className:"text-white",children:"III"})," (E in key of C) = V of vi (leads strongly to Am)"]})]}),E.jsx("p",{className:"text-gray-400",children:"Study chord progressions by The Beatles, Rolling Stones, Elvis Costello, and you'll discover these two chords add tremendous variety."})]})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Modes & Relative Minor"}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[E.jsxs("p",{children:["The vi chord (Am in key of C) is special: it's the ",E.jsx("strong",{className:"text-white",children:"relative minor"}),". Songs emphasizing vi as the tonic create a minor mood using the same chords."]}),E.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-[10px] mt-3",children:[E.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[E.jsx("span",{className:"font-bold text-white",children:"I"}),E.jsx("span",{className:"block text-gray-500",children:"Ionian"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[E.jsx("span",{className:"font-bold text-white",children:"ii"}),E.jsx("span",{className:"block text-gray-500",children:"Dorian"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[E.jsx("span",{className:"font-bold text-white",children:"iii"}),E.jsx("span",{className:"block text-gray-500",children:"Phrygian"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[E.jsx("span",{className:"font-bold text-white",children:"IV"}),E.jsx("span",{className:"block text-gray-500",children:"Lydian"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[E.jsx("span",{className:"font-bold text-white",children:"V"}),E.jsx("span",{className:"block text-gray-500",children:"Mixolyd."})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[E.jsx("span",{className:"font-bold text-white",children:"vi"}),E.jsx("span",{className:"block text-gray-500",children:"Aeolian"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[E.jsx("span",{className:"font-bold text-white",children:"vii"}),E.jsx("span",{className:"block text-gray-500",children:"Locrian"})]})]})]})]})]}),GE=({isOpen:r,onClose:e,isEmbedded:t=!1})=>r?t?E.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col bg-[#1a1a24]",children:[E.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-[#22222e] shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:E.jsx(Wm,{size:12,className:"text-white"})}),E.jsx("h2",{className:"text-sm font-bold text-white",children:"Guide"})]}),E.jsx("button",{onClick:e,className:"p-1 hover:bg-bg-tertiary rounded transition-colors text-text-muted hover:text-white",children:E.jsx(fb,{size:16})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-6 sm:py-6 space-y-8",children:E.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:E.jsx(Lb,{})})})]}):E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm pointer-events-none"}),E.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-4xl w-full max-h-[85vh] overflow-hidden flex flex-col pointer-events-auto",children:[E.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-subtle bg-[#22222e]",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:E.jsx(Wm,{size:16,className:"text-white"})}),E.jsx("h2",{className:"text-lg font-bold text-white",children:"Chord Wheel Guide"})]}),E.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-tertiary rounded-lg transition-colors text-text-muted hover:text-white",children:E.jsx(fb,{size:20})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-8 sm:py-8 space-y-8",children:E.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:E.jsx(Lb,{})})}),E.jsx("div",{className:"px-6 py-4 sm:px-8 sm:py-5 border-t border-border-subtle bg-[#22222e] text-center",children:E.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Drag the wheel or use the rotation buttons to change keys. Click any chord to see details."})})]})]}):null,jb=({variant:r="sidebar"})=>{const{selectedChord:e,selectedKey:t,chordPanelVisible:i,toggleChordPanel:a,selectedSectionId:o,selectedSlotId:h,addChordToSlot:c,setSelectedChord:f,selectNextSlotAfter:d,setSelectedSlot:m}=Rr(),y=hg(),[_,v]=he.useState(null),[S,N]=he.useState([]),[C,T]=he.useState(320),[R,D]=he.useState(!1),[F,B]=he.useState(!1),G=he.useRef(0),z=r==="drawer",[j,V]=he.useState(e),Z=e??j,k=dd(),[I,te]=he.useState(!1),[$,ne]=he.useState(!1),[K,re]=he.useState(!k),[ae,fe]=he.useState(0),_e=4,Y=he.useRef(0),O=he.useRef(0),[q,J]=he.useState(0),se=he.useRef(null),ue=he.useRef(null),me=he.useRef(null),de=he.useRef(null),xe=De=>{if(De.current&&de.current){const ot=de.current,_t=De.current.offsetTop-ot.offsetTop;ot.scrollTo({top:_t,behavior:"smooth"})}},Ne=he.useCallback(De=>{!z||!k||(Y.current=De.touches[0].clientY,O.current=De.touches[0].clientY)},[z,k]),Ue=he.useCallback(De=>{if(!z||!k)return;O.current=De.touches[0].clientY;const ot=O.current-Y.current;ot>0&&J(Math.min(ot,150))},[z,k]),Ke=he.useCallback(()=>{!z||!k||(q>80?(J(300),setTimeout(()=>{a(),J(0)},200)):J(0))},[z,k,q,a]),it=()=>{if(!Z)return"Chord Details";const De=_||Z.quality;return De==="major"||De==="maj"?Z.root:De==="minor"||De==="m"?`${Z.root}m`:De==="diminished"||De==="dim"?`${Z.root}dim`:`${Z.root}${De}`},st=he.useCallback((De,ot)=>{S3(De,ot)},[]),H={maj:'The classic major triad: bright, stable, and universally resolved. The foundation of Western harmony and the sound of "home."',major:'The classic major triad: bright, stable, and universally resolved. The foundation of Western harmony and the sound of "home."',maj7:"Smooth and sophisticated, the major 7th adds a dreamy, floating quality. Think Burt Bacharach, neo-soul, and late-night jazz.",maj9:"Builds on maj7 with a crystalline 9th. Modern, airy, and introspective  perfect for R&B ballads and ambient textures.",maj13:"The full major palette: lush, orchestral, and complex. Great for endings or when you want maximum harmonic richness.",6:"Warm and vintage  the major 6th has an old-Hollywood or country sweetness. Softer resolution than maj7.",add9:"A major triad with added sparkle from the 9th, but no 7th. Clean, modern, and ubiquitous in pop and worship music.",7:"The dominant 7th creates bluesy tension begging for resolution. The engine behind the ii-V-I and the soul of rock & blues.",9:"Dominant 7 with a colorful 9th. Funky, jazzy, and sophisticated  think Stevie Wonder, Earth Wind & Fire, and neo-soul.",11:"Suspended, modal quality over dominant function. Creates an open, unresolved tension that floats before landing.",13:"The dominant chord at its richest: soulful 13th on top of bluesy 7th. Perfect for jazz turnarounds and R&B grooves.",m7:"The workhorse minor chord: soulful, laid-back, and endlessly versatile. The default for jazz ii chords and R&B grooves.",minor:"The basic minor triad: melancholic, introspective, and emotionally direct. Minor keys are built on this sound.",m9:"Lush and cinematic  adds depth and width to the minor sound. Evokes late-night cityscapes and emotional introspection.",m11:"Spacious and modal, with an open 11th suspension. Great for grooves, vamps, and creating atmospheric tension.",m6:"Bittersweet with a film-noir quality. The 6th adds sophistication to minor  a nice alternative to m7 for tonic chords.",sus2:"Neither major nor minor  the open 2nd creates an ambient, neutral quality. Ubiquitous in pop, rock, and modern worship.",sus4:"Suspended tension from the 4th wants to fall to the 3rd. Creates expectation and movement  classic resolution technique.",dim:"Highly unstable and tense  every note pushes somewhere else. Perfect as a passing chord or chromatic approach.",diminished:"Highly unstable and tense  every note pushes somewhere else. Perfect as a passing chord or chromatic approach.",m7b5:"Half-diminished: dark and sophisticated. The natural ii chord in minor keys, essential for minor ii-V-i progressions."},je=["maj","7","maj7","maj9","maj13","6","13","m7","m9","m11","m6","sus2","sus4","dim","m7b5","add9","9","11"],at=De=>{if(!Z?.root)return"-";const ot=nt=>nt.replace(/[\d]/g,"").replace(//,"b").replace(//,"#"),ct={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},_t=ct[ot(Z.root)],mt=ct[ot(De)];if(_t===void 0||mt===void 0)return"-";const Ie=(mt-_t+12)%12;return{0:"R",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[Ie]??"-"},Xe=he.useCallback(De=>{z||(De.preventDefault(),D(!0))},[z]);he.useEffect(()=>{if(!R||z)return;const De=ct=>{const _t=window.innerWidth-ct.clientX;T(Math.max(320,Math.min(450,_t)))},ot=()=>{D(!1)};return document.addEventListener("mousemove",De),document.addEventListener("mouseup",ot),()=>{document.removeEventListener("mousemove",De),document.removeEventListener("mouseup",ot)}},[R,z]),he.useEffect(()=>{e&&V(e)},[e]),he.useEffect(()=>{v(null),N([]),fe(0)},[Z?.root,Z?.quality]);const Ce=Z&&y[Z.root]||"#6366f1",Qe=S.length>0?S:Z?.notes||[],et=ah(Qe,ae),ft=C4(Qe),dt=De=>{const ot=Date.now();if(ot-G.current<300||(G.current=ot,!Z))return;const ct=ph(Z.root,De),_t=ah(ct,ae);ml(_t),v(De),N(ct)},kt=De=>{if(G.current=0,!Z||!o||!h)return;const ot=ph(Z.root,De),ct=T4(Z.root,De,ot,ae),_t={...Z,quality:De,symbol:ct,notes:ot,inversion:ae};c(_t,o,h),d(o,h)||(m(o,h),f(_t))},Xt=()=>{if(!Z)return"";const De=Z.numeral;return{I:"The tonic chord  your home base. Most songs begin and end here. Try adding maj7 or 6 for a jazzier sound.",ii:"The supertonic  a pre-dominant chord that naturally leads to V. The ii-V-I progression is fundamental in jazz and pop.",iii:"The mediant  shares two notes with I. Can substitute for I or lead to vi. Often used for color.",IV:'The subdominant  creates a "plagal" sound. The IV-I is the "Amen" cadence. Adds warmth to choruses.',V:"The dominant  creates tension that resolves to I. Add a 7th for extra pull toward home.",vi:"The relative minor  shares the same notes as I major. The vi-IV-I-V is hugely popular in pop music.","vii":"The leading tone chord  unstable and wants to resolve to I. Often used as a passing chord.",II:"Secondary dominant (V/V)  borrows dominant function to approach V. Common in jazz.",III:"Secondary dominant (V/vi)  leads strongly to vi. Creates a dramatic shift."}[De||""]||"This chord adds color and interest to your progression."},Dt=()=>{if(!Z)return{extensions:[],description:""};let De=Z.numeral;if(De&&De.includes("(")){const ct=De.match(/^(.+?)\s*\(/);ct&&(De=ct[1].trim())}return{I:{extensions:["maj7","maj9","maj13","6"],description:"The tonic  your home base and resting point. This is where phrases resolve and songs often begin and end. Its stability makes it perfect for choruses and moments of arrival."},IV:{extensions:["maj7","maj9","maj13","6"],description:'The subdominant  warm, hopeful, and slightly floating. It gently pulls away from home without creating urgency. Great for pre-choruses and that "lifting" feeling before a chorus.'},V:{extensions:["7","9","11","sus4","13"],description:`The dominant  maximum tension wanting to resolve back to I. This chord creates expectation and forward motion. It's the "question" that begs for an "answer."`},ii:{extensions:["m7","m9","m11","m6"],description:"The supertonic  a natural setup chord that leads smoothly to V or IV. It's the workhorse of the ii-V-I progression and adds sophistication to any verse."},iii:{extensions:["m7"],description:"The mediant  mysterious and chameleon-like. It can substitute for I (they share two notes) or lead to vi. Use it for unexpected color and emotional complexity."},vi:{extensions:["m7","m9","m11"],description:'The relative minor  emotional depth and melancholy without leaving the key. This is the "sad" chord in major keys and the foundation of countless pop progressions (vi-IV-I-V).'},"vii":{extensions:["m75"],description:"The leading tone chord  highly unstable and restless. Every note wants to move somewhere, making it a powerful passing chord that pulls strongly toward I."},II:{extensions:["7","sus4"],description:"A secondary dominant (V of V)  borrowed tension that points toward V. Use it to create a dramatic runway before landing on V."},III:{extensions:["7","sus4"],description:"A secondary dominant (V of vi)  creates an unexpected dramatic pull toward vi. Perfect for adding tension before a minor chord moment."}}[De||""]||{extensions:[],description:`This chord doesn't fit in the key of ${t}, but it may add color and interest to your progression.`}};return i?E.jsxs("div",{className:z?`${k?"relative w-full":"fixed inset-x-3 bottom-[88px]"} ${k?"max-h-[60vh]":"max-h-[70vh]"} bg-bg-secondary ${k?"border-x-2 border-t-2":"border-2"} border-border-subtle rounded-2xl shadow-2xl overflow-hidden ${k?"":"z-40"} flex`:"h-full flex bg-bg-secondary border-l border-border-subtle shrink-0",style:z?{transform:q>0?`translateY(${q}px)`:void 0,opacity:q>0?Math.max(0,1-q/300):1,transition:q===0||q>=150?"all 0.2s ease-out":"none"}:{width:C,minWidth:C},children:[!z&&E.jsx("div",{className:`w-2 flex items-center justify-center cursor-ew-resize hover:bg-bg-tertiary transition-colors ${R?"bg-accent-primary/20":""} relative z-[60]`,onMouseDown:Xe,children:E.jsx(g3,{size:12,className:"text-text-muted"})}),E.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0 relative",children:[z&&k&&E.jsx("div",{className:"flex flex-col items-center shrink-0 cursor-grab active:cursor-grabbing",onTouchStart:Ne,onTouchMove:Ue,onTouchEnd:Ke,children:E.jsx("div",{className:"pt-2 pb-1",children:E.jsx("div",{className:"w-10 h-1 rounded-full bg-text-muted/40"})})}),E.jsxs("div",{className:`${k&&z?"px-5 py-2":"px-4 py-3"} border-b border-border-subtle flex justify-between items-center gap-4 shrink-0 ${z?"bg-bg-secondary/80 backdrop-blur-md":""}`,children:[E.jsx("div",{className:"flex items-center overflow-hidden flex-1 min-w-0",style:{gap:"12px"},children:E.jsxs("span",{className:"flex items-center shrink-0 min-w-0",style:{gap:"8px"},children:[E.jsx("span",{className:`${k?"text-base":"text-base sm:text-lg"} font-bold text-text-primary leading-none truncate max-w-[120px] sm:max-w-none`,children:k&&z?it():Z?`${Z.root}${(_||Z.quality)==="maj"?"":" "+(_||Z.quality)}`:"Chord Details"}),Z?.numeral&&E.jsx("span",{className:"text-xs font-serif italic text-text-muted shrink-0",children:Z.numeral})]})}),E.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[Z&&E.jsxs("div",{className:"flex items-center gap-0.5 bg-bg-tertiary/50 rounded px-1 py-0.5",title:"Chord inversion - which note is in the bass",children:[E.jsx("button",{onClick:()=>{const De=Math.max(0,ae-1);fe(De);const ot=ah(Qe,De);ml(ot)},disabled:ae<=0,className:`${k?"w-6 h-6":"w-5 h-5"} flex items-center justify-center hover:bg-accent-primary/20 rounded text-text-muted hover:text-accent-primary transition-colors touch-feedback disabled:opacity-40 disabled:cursor-not-allowed`,title:"Previous inversion",children:E.jsx(Ym,{size:k?12:10})}),E.jsx("span",{className:`${k?"text-[10px]":"text-[9px]"} font-semibold text-text-secondary min-w-[28px] text-center`,children:q5(ae)}),E.jsx("button",{onClick:()=>{const De=Math.min(ft,ae+1);fe(De);const ot=ah(Qe,De);ml(ot)},disabled:ae>=ft,className:`${k?"w-6 h-6":"w-5 h-5"} flex items-center justify-center hover:bg-accent-primary/20 rounded text-text-muted hover:text-accent-primary transition-colors touch-feedback disabled:opacity-40 disabled:cursor-not-allowed`,title:"Next inversion",children:E.jsx(Gm,{size:k?12:10})})]}),Z&&E.jsx("button",{onClick:()=>B(!0),className:`${k?"w-10 h-10 min-w-[40px] min-h-[40px]":"w-8 h-8"} flex items-center justify-center hover:bg-accent-primary/20 rounded-md text-text-muted hover:text-accent-primary transition-colors touch-feedback`,title:"Chord Wheel Guide",children:E.jsx(PC,{size:k?16:14})}),E.jsx("button",{onClick:a,className:`${k?"p-2 min-w-[40px] min-h-[40px]":"p-1"} hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center`,title:"Hide panel",children:E.jsx(pT,{size:k?18:16,className:`text-text-muted ${k&&z?"rotate-90":""}`})})]})]}),Z?E.jsxs("div",{ref:de,className:"flex-1 overflow-y-auto min-h-0 overscroll-contain",children:[E.jsxs("div",{className:`${k?"px-5 pt-4 pb-4":"px-5 py-4"} border-b border-border-subtle`,children:[E.jsx(FE,{highlightedNotes:et,rootNote:Z.root,color:Ce,octave:_e,onNotePlay:st}),E.jsx("div",{className:`${k?"mt-4":"mt-5"} w-full`,children:E.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:`${k?"56px":"72px"} repeat(${et.length}, minmax(0, 1fr))`},children:[E.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Notes"}),et.map((De,ot)=>E.jsx("div",{className:`text-center ${k?"text-xs":"text-sm"} font-bold text-text-primary flex items-center justify-center`,style:{height:"16px"},children:De},`note-${ot}`)),E.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Absolute"}),et.map((De,ot)=>E.jsx("div",{className:`text-center ${k?"text-[11px]":"text-xs"} text-text-primary font-semibold flex items-center justify-center`,style:{height:"16px"},children:at(De)},`abs-${ot}`)),E.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Relative"}),et.map((De,ot)=>E.jsx("div",{className:`text-center ${k?"text-[11px]":"text-xs"} text-text-secondary flex items-center justify-center`,style:{height:"16px"},children:k4(t,De).replace(/^1/,"R")},`rel-${ot}`))]})})]}),E.jsxs("div",{ref:se,className:"px-5 py-1 rounded-none",style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[E.jsxs("button",{onClick:()=>{const De=!K;re(De),De&&setTimeout(()=>xe(se),50)},className:`w-full flex items-center justify-between ${K?"mb-2":"mb-0"} cursor-pointer rounded-none`,style:{backgroundColor:"transparent"},children:[E.jsxs("h3",{className:`${k?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide whitespace-nowrap`,children:["Guitar & Suggested Voicings for ",Z.numeral||Z.symbol]}),E.jsx(_h,{size:14,className:`text-text-secondary transition-transform ${K?"rotate-180":""}`})]}),K&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex flex-row gap-2",style:{marginTop:"8px"},children:[E.jsx("div",{className:"flex justify-center items-start shrink-0",style:{minWidth:"100px"},children:E.jsx(PE,{root:Z.root,quality:_||Z.quality,color:Ce})}),E.jsx("div",{className:"w-px bg-border-subtle self-stretch"}),E.jsxs("div",{className:"flex-1 flex flex-col justify-start pl-1",children:[Dt().extensions.length>0?E.jsx("div",{className:"grid grid-cols-2 mb-2",style:{gap:k?"8px":"6px"},children:Dt().extensions.map(De=>E.jsxs("button",{className:`relative group ${k?"px-2 py-2 text-xs min-h-[36px]":"px-1.5 py-1 text-[10px]"} rounded font-semibold transition-colors touch-feedback overflow-hidden text-ellipsis whitespace-nowrap`,style:_===De?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#f0f0f5",border:"1px solid rgba(255,255,255,0.08)"},onClick:()=>dt(De),onDoubleClick:()=>kt(De),children:[Z.root,De,!k&&H[De]&&E.jsxs("span",{className:"pointer-events-none absolute -top-6 -translate-y-full left-1/2 -translate-x-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-1000 z-50 w-44 text-left",style:{backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[H[De]?E.jsxs(E.Fragment,{children:[H[De],E.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},De))}):null,E.jsx("p",{className:`${k?"text-xs":"text-[10px]"} text-text-muted leading-relaxed`,children:H[_||Z.quality]||"Select a voicing to see its description."})]})]}),E.jsxs("div",{className:"flex items-center mt-2 gap-1",children:[E.jsxs("div",{className:"flex flex-col items-center shrink-0",children:[E.jsx("span",{className:"text-[7px] font-semibold uppercase tracking-wide text-text-muted mb-0",children:"Inv"}),E.jsxs("div",{className:"flex items-center gap-0 bg-bg-tertiary/50 rounded",title:"Chord inversion - which note is in the bass",children:[E.jsx("button",{onClick:()=>{const De=Math.max(0,ae-1);fe(De);const ot=ah(Qe,De);ml(ot)},disabled:ae<=0,className:`${k?"w-5 h-5":"w-4 h-4"} flex items-center justify-center hover:bg-accent-primary/20 rounded text-text-muted hover:text-accent-primary transition-colors touch-feedback disabled:opacity-40 disabled:cursor-not-allowed`,title:"Previous inversion",children:E.jsx(Ym,{size:k?10:8})}),E.jsx("span",{className:`${k?"text-[9px]":"text-[8px]"} font-semibold text-text-secondary min-w-[20px] text-center`,children:q5(ae)}),E.jsx("button",{onClick:()=>{const De=Math.min(ft,ae+1);fe(De);const ot=ah(Qe,De);ml(ot)},disabled:ae>=ft,className:`${k?"w-5 h-5":"w-4 h-4"} flex items-center justify-center hover:bg-accent-primary/20 rounded text-text-muted hover:text-accent-primary transition-colors touch-feedback disabled:opacity-40 disabled:cursor-not-allowed`,title:"Next inversion",children:E.jsx(Gm,{size:k?10:8})})]})]}),E.jsx("div",{className:"flex-1",children:E.jsx(HE,{notes:et,rootNote:Z.root,color:Ce})})]}),E.jsx("p",{className:`${k?"text-xs":"text-[10px]"} text-text-secondary leading-relaxed italic`,children:Dt().description})]})]}),E.jsxs("div",{ref:ue,className:`${k?"px-5 py-1 mt-2":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[E.jsxs("button",{onClick:()=>{const De=!I;te(De),De&&setTimeout(()=>xe(ue),50)},className:`w-full flex items-center justify-between ${I?"mb-3":"mb-0"} cursor-pointer rounded-none`,style:{backgroundColor:"transparent"},children:[E.jsx("h3",{className:`${k?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide`,children:"Voicings"}),E.jsx(_h,{size:14,className:`text-text-secondary transition-transform ${I?"rotate-180":""}`})]}),I&&E.jsx("div",{className:`grid ${k?"grid-cols-3":"grid-cols-2 sm:grid-cols-3"} ${k?"gap-3":"gap-2.5"}`,children:je.map((De,ot)=>{const _t=ot%2===0?{left:"calc(100% + 10px)"}:{right:"calc(100% + 10px)"};return E.jsxs("button",{className:`relative group ${k?"px-3 py-3 min-h-[48px] text-xs":"px-2 py-1.5 text-[10px]"} rounded font-medium transition-colors touch-feedback`,style:_===De?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#9898a6",border:"1px solid rgba(255,255,255,0.08)"},onClick:()=>dt(De),onDoubleClick:()=>kt(De),children:[De,!k&&H[De]&&E.jsxs("span",{className:"pointer-events-none absolute top-1/2 -translate-y-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-1000 z-50 w-44 text-left",style:{..._t,backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[H[De]?E.jsxs(E.Fragment,{children:[H[De],E.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},De)})})]}),E.jsxs("div",{ref:me,className:`${k?"px-5 py-1 mt-2":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[E.jsxs("button",{onClick:()=>{const De=!$;ne(De),De&&setTimeout(()=>xe(me),50)},className:`w-full flex items-center justify-between cursor-pointer ${$?"mb-3":"mb-0"} rounded-none`,style:{backgroundColor:"transparent"},children:[E.jsx("h3",{className:`${k?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide`,children:"Theory"}),E.jsx(_h,{size:14,className:`text-text-secondary transition-transform ${$?"rotate-180":""}`})]}),$&&E.jsx("div",{className:`${k?"p-3":"p-4"} bg-bg-elevated rounded-none`,children:E.jsx("p",{className:`${k?"text-sm":"text-xs"} text-text-secondary leading-relaxed`,children:Xt()})})]}),k&&E.jsx("div",{className:"h-12 shrink-0"})]}):E.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:E.jsx("p",{className:`${k?"text-base":"text-sm"} text-text-muted text-center`,children:"Select a chord from the wheel or timeline"})})]}),E.jsx(GE,{isOpen:F,onClose:()=>B(!1)})]}):z?E.jsxs("div",{className:`w-full ${k?"h-10":"h-9"} flex flex-col items-center justify-center bg-bg-secondary border-t border-border-subtle cursor-pointer touch-feedback active:bg-bg-tertiary`,onClick:a,onTouchStart:De=>{Y.current=De.touches[0].clientY,O.current=De.touches[0].clientY},onTouchMove:De=>{O.current=De.touches[0].clientY},onTouchEnd:()=>{Y.current-O.current>30&&a()},title:"Swipe up or tap to open",children:[E.jsx("div",{className:"w-10 h-1 rounded-full bg-text-muted/40 mb-0.5"}),E.jsx("span",{className:`${k?"text-[10px]":"text-[9px]"} font-medium text-text-muted uppercase tracking-wider`,children:"Chord Details"})]}):E.jsx("button",{onClick:a,className:"h-full px-2 flex items-center justify-center bg-bg-secondary border-l border-border-subtle hover:bg-bg-tertiary transition-colors shrink-0",title:"Show chord details",children:E.jsx(gT,{size:18,className:"text-text-muted"})})},YE="modulepreload",WE=function(r){return"/chord-wheel-writer/"+r},Db={},j1=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),c=h?.nonce||h?.getAttribute("nonce");a=f(t.map(d=>{if(d=WE(d),d in Db)return;Db[d]=!0;const m=d.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":YE,m||(_.as="script"),_.crossOrigin="",_.href=d,c&&_.setAttribute("nonce",c),document.head.appendChild(_),m)return new Promise((v,S)=>{_.addEventListener("load",v),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(h){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=h,window.dispatchEvent(c),!c.defaultPrevented)throw h}return a.then(h=>{for(const c of h||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},XE=()=>{const{currentSong:r,isPlaying:e,tempo:t,volume:i,setTempo:a,setVolume:o,instrument:h,setInstrument:c,isMuted:f,toggleMute:d,toggleLoop:m,isLooping:y,playingSectionId:_,selectedSectionId:v}=Rr(),S=dd(),[N,C]=dn.useState(!1);he.useEffect(()=>{Jg(r)},[r]),he.useEffect(()=>{T3(t)},[t]),he.useEffect(()=>{Qg(h)},[h]),he.useEffect(()=>{k3()},[y,r,_,v]),he.useEffect(()=>{j1(()=>Promise.resolve().then(()=>FT),void 0).then(G=>{C(!0),G.preloadAudio().finally(()=>C(!1))})},[]);const T=async()=>{try{await x3(),e?(C3(),Rr.getState().setIsPlaying(!1)):(C(!0),await N3(),Rr.getState().setIsPlaying(!0))}catch(G){console.error("Playback error:",G)}finally{C(!1)}},R=G=>{E3(G)},D=()=>{m()},F=[{value:"piano",label:"Piano"},{value:"epiano",label:"Electric Piano"},{value:"organ",label:"Organ"},{value:"pad",label:"Pad"},{value:"guitar",label:"Guitar"}];F.find(G=>G.value===h)||c("piano");const B=G=>{const z=F.findIndex(V=>V.value===h);if(z===-1){c("piano");return}const j=G==="next"?(z+1)%F.length:(z-1+F.length)%F.length;c(F[j].value)};return E.jsxs("div",{"data-playback-controls":!0,className:`${S?"h-11":"h-12"} bg-bg-elevated border-t border-border-subtle flex items-center justify-between ${S?"px-3 gap-2":"px-6"}`,children:[E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("button",{onClick:()=>R("prev"),className:"p-1.5 text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center",children:E.jsx(ET,{size:16})}),E.jsx("button",{onClick:T,disabled:N,className:`${S?"w-8 h-8":"w-9 h-9"} rounded-full bg-accent-primary hover:bg-indigo-500 disabled:bg-accent-primary/50 flex items-center justify-center text-white shadow-md transition-all hover:scale-105 active:scale-95 touch-feedback`,children:N?E.jsx(cT,{size:S?16:18,className:"animate-spin"}):e?E.jsx(bT,{size:S?16:18,fill:"currentColor"}):E.jsx(xT,{size:S?16:18,fill:"currentColor",className:"ml-0.5"})}),E.jsx("button",{onClick:()=>R("next"),className:"p-1.5 text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center",children:E.jsx(MT,{size:16})}),!S&&E.jsx("button",{onClick:D,className:`p-1.5 transition-colors ml-1 ${y?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,title:"Loop Section",children:E.jsx(ST,{size:14})})]}),!S&&E.jsx("div",{className:"flex items-center gap-4 text-[11px] text-text-muted",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-text-secondary font-medium",children:"Tempo"}),E.jsx("input",{type:"number",value:t,onChange:G=>a(Number(G.target.value)),className:"w-14 bg-bg-tertiary border border-border-subtle rounded px-2 py-1 text-center text-text-primary text-[11px] font-medium",min:40,max:240}),E.jsx("span",{className:"text-text-muted",children:"BPM"})]})}),E.jsxs("div",{className:`flex items-center ${S?"gap-1.5":"gap-4"}`,children:[E.jsxs("div",{className:"flex items-center gap-1",children:[!S&&E.jsxs("div",{className:"flex items-center rounded bg-bg-tertiary/60 border border-border-subtle/70 h-7",children:[E.jsx("button",{onClick:()=>B("prev"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-l transition-colors flex items-center",title:"Previous instrument",children:E.jsx(Ym,{size:12})}),E.jsx("button",{onClick:()=>B("next"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-r transition-colors flex items-center",title:"Next instrument",children:E.jsx(Gm,{size:12})})]}),S&&E.jsx(Wm,{size:14,className:"text-text-muted"}),E.jsx("select",{value:h,onChange:G=>c(G.target.value),className:`bg-bg-tertiary border border-border-subtle rounded ${S?"px-1.5 h-7 text-[11px] min-w-[70px]":"px-2 h-7 text-[10px] min-w-[130px]"} text-text-secondary focus:outline-none focus:border-accent-primary cursor-pointer`,children:F.map(G=>E.jsx("option",{value:G.value,children:G.label},G.value))})]}),E.jsxs("div",{className:`flex items-center ${S?"":"gap-2 w-28"}`,children:[E.jsx("button",{onClick:d,className:`${S?"p-1.5":"p-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center rounded`,title:f?"Unmute":"Mute",children:f||i===0?E.jsx(RT,{size:S?16:14}):E.jsx(jT,{size:S?16:14})}),!S&&E.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f?0:i,onChange:G=>{f&&d(),o(Number(G.target.value))},className:`w-full h-1 bg-bg-tertiary rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2.5 [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:bg-accent-primary [&::-webkit-slider-thumb]:rounded-full ${f?"opacity-50":""}`})]})]})]})},ZE=({className:r="",size:e=24})=>E.jsx("div",{className:`relative flex items-center justify-center ${r}`,style:{width:e,height:e},children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-full h-full overflow-visible",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("defs",{children:E.jsxs("linearGradient",{id:"rainbow-style",x1:"0%",y1:"100%",x2:"100%",y2:"0%",children:[E.jsx("stop",{offset:"0%",stopColor:"hsl(0, 90%, 65%)"}),"    ",E.jsx("stop",{offset:"20%",stopColor:"hsl(35, 95%, 60%)"}),"   ",E.jsx("stop",{offset:"40%",stopColor:"hsl(55, 95%, 55%)"}),"   ",E.jsx("stop",{offset:"60%",stopColor:"hsl(140, 90%, 50%)"}),"  ",E.jsx("stop",{offset:"80%",stopColor:"hsl(210, 90%, 55%)"}),"  ",E.jsx("stop",{offset:"100%",stopColor:"hsl(280, 85%, 60%)"})," "]})}),E.jsx("circle",{cx:"6",cy:"18",r:"3.5",fill:"url(#rainbow-style)",stroke:"none"}),E.jsx("circle",{cx:"18",cy:"16",r:"3.5",fill:"url(#rainbow-style)",stroke:"none"}),E.jsx("path",{d:"M9 18 V5 L21 3 V16",stroke:"url(#rainbow-style)",fill:"none"})]})});function Bn(r){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(r)}var no=Uint8Array,Zs=Uint16Array,l2=Int32Array,c2=new no([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u2=new no([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Rb=new no([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l_=function(r,e){for(var t=new Zs(31),i=0;i<31;++i)t[i]=e+=1<<r[i-1];for(var a=new l2(t[30]),i=1;i<30;++i)for(var o=t[i];o<t[i+1];++o)a[o]=o-t[i]<<5|i;return{b:t,r:a}},c_=l_(c2,2),$E=c_.b,Qm=c_.r;$E[28]=258,Qm[258]=28;var KE=l_(u2,0),Ib=KE.r,Jm=new Zs(32768);for(var cr=0;cr<32768;++cr){var sc=(cr&43690)>>1|(cr&21845)<<1;sc=(sc&52428)>>2|(sc&13107)<<2,sc=(sc&61680)>>4|(sc&3855)<<4,Jm[cr]=((sc&65280)>>8|(sc&255)<<8)>>1}var Bf=(function(r,e,t){for(var i=r.length,a=0,o=new Zs(e);a<i;++a)r[a]&&++o[r[a]-1];var h=new Zs(e);for(a=1;a<e;++a)h[a]=h[a-1]+o[a-1]<<1;var c;if(t){c=new Zs(1<<e);var f=15-e;for(a=0;a<i;++a)if(r[a])for(var d=a<<4|r[a],m=e-r[a],y=h[r[a]-1]++<<m,_=y|(1<<m)-1;y<=_;++y)c[Jm[y]>>f]=d}else for(c=new Zs(i),a=0;a<i;++a)r[a]&&(c[a]=Jm[h[r[a]-1]++]>>15-r[a]);return c}),cu=new no(288);for(var cr=0;cr<144;++cr)cu[cr]=8;for(var cr=144;cr<256;++cr)cu[cr]=9;for(var cr=256;cr<280;++cr)cu[cr]=7;for(var cr=280;cr<288;++cr)cu[cr]=8;var up=new no(32);for(var cr=0;cr<32;++cr)up[cr]=5;var QE=Bf(cu,9,0),JE=Bf(up,5,0),u_=function(r){return(r+7)/8|0},ek=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new no(r.subarray(e,t))},hl=function(r,e,t){t<<=e&7;var i=e/8|0;r[i]|=t,r[i+1]|=t>>8},kf=function(r,e,t){t<<=e&7;var i=e/8|0;r[i]|=t,r[i+1]|=t>>8,r[i+2]|=t>>16},hm=function(r,e){for(var t=[],i=0;i<r.length;++i)r[i]&&t.push({s:i,f:r[i]});var a=t.length,o=t.slice();if(!a)return{t:f_,l:0};if(a==1){var h=new no(t[0].s+1);return h[t[0].s]=1,{t:h,l:1}}t.sort(function(B,G){return B.f-G.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,m=1,y=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};m!=a-1;)c=t[t[d].f<t[y].f?d++:y++],f=t[d!=m&&t[d].f<t[y].f?d++:y++],t[m++]={s:-1,f:c.f+f.f,l:c,r:f};for(var _=o[0].s,i=1;i<a;++i)o[i].s>_&&(_=o[i].s);var v=new Zs(_+1),S=eg(t[m-1],v,0);if(S>e){var i=0,N=0,C=S-e,T=1<<C;for(o.sort(function(G,z){return v[z.s]-v[G.s]||G.f-z.f});i<a;++i){var R=o[i].s;if(v[R]>e)N+=T-(1<<S-v[R]),v[R]=e;else break}for(N>>=C;N>0;){var D=o[i].s;v[D]<e?N-=1<<e-v[D]++-1:++i}for(;i>=0&&N;--i){var F=o[i].s;v[F]==e&&(--v[F],++N)}S=e}return{t:new no(v),l:S}},eg=function(r,e,t){return r.s==-1?Math.max(eg(r.l,e,t+1),eg(r.r,e,t+1)):e[r.s]=t},Vb=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Zs(++e),i=0,a=r[0],o=1,h=function(f){t[i++]=f},c=1;c<=e;++c)if(r[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)h(32754);o>2&&(h(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(h(a),--o;o>6;o-=6)h(8304);o>2&&(h(o-3<<5|8208),o=0)}for(;o--;)h(a);o=1,a=r[c]}return{c:t.subarray(0,i),n:e}},Mf=function(r,e){for(var t=0,i=0;i<e.length;++i)t+=r[i]*e[i];return t},h_=function(r,e,t){var i=t.length,a=u_(e+2);r[a]=i&255,r[a+1]=i>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var o=0;o<i;++o)r[a+o+4]=t[o];return(a+4+i)*8},Fb=function(r,e,t,i,a,o,h,c,f,d,m){hl(e,m++,t),++a[256];for(var y=hm(a,15),_=y.t,v=y.l,S=hm(o,15),N=S.t,C=S.l,T=Vb(_),R=T.c,D=T.n,F=Vb(N),B=F.c,G=F.n,z=new Zs(19),j=0;j<R.length;++j)++z[R[j]&31];for(var j=0;j<B.length;++j)++z[B[j]&31];for(var V=hm(z,7),Z=V.t,k=V.l,I=19;I>4&&!Z[Rb[I-1]];--I);var te=d+5<<3,$=Mf(a,cu)+Mf(o,up)+h,ne=Mf(a,_)+Mf(o,N)+h+14+3*I+Mf(z,Z)+2*z[16]+3*z[17]+7*z[18];if(f>=0&&te<=$&&te<=ne)return h_(e,m,r.subarray(f,f+d));var K,re,ae,fe;if(hl(e,m,1+(ne<$)),m+=2,ne<$){K=Bf(_,v,0),re=_,ae=Bf(N,C,0),fe=N;var _e=Bf(Z,k,0);hl(e,m,D-257),hl(e,m+5,G-1),hl(e,m+10,I-4),m+=14;for(var j=0;j<I;++j)hl(e,m+3*j,Z[Rb[j]]);m+=3*I;for(var Y=[R,B],O=0;O<2;++O)for(var q=Y[O],j=0;j<q.length;++j){var J=q[j]&31;hl(e,m,_e[J]),m+=Z[J],J>15&&(hl(e,m,q[j]>>5&127),m+=q[j]>>12)}}else K=QE,re=cu,ae=JE,fe=up;for(var j=0;j<c;++j){var se=i[j];if(se>255){var J=se>>18&31;kf(e,m,K[J+257]),m+=re[J+257],J>7&&(hl(e,m,se>>23&31),m+=c2[J]);var ue=se&31;kf(e,m,ae[ue]),m+=fe[ue],ue>3&&(kf(e,m,se>>5&8191),m+=u2[ue])}else kf(e,m,K[se]),m+=re[se]}return kf(e,m,K[256]),m+re[256]},tk=new l2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),f_=new no(0),nk=function(r,e,t,i,a,o){var h=o.z||r.length,c=new no(i+h+5*(1+Math.ceil(h/7e3))+a),f=c.subarray(i,c.length-a),d=o.l,m=(o.r||0)&7;if(e){m&&(f[0]=o.r>>3);for(var y=tk[e-1],_=y>>13,v=y&8191,S=(1<<t)-1,N=o.p||new Zs(32768),C=o.h||new Zs(S+1),T=Math.ceil(t/3),R=2*T,D=function(st){return(r[st]^r[st+1]<<T^r[st+2]<<R)&S},F=new l2(25e3),B=new Zs(288),G=new Zs(32),z=0,j=0,V=o.i||0,Z=0,k=o.w||0,I=0;V+2<h;++V){var te=D(V),$=V&32767,ne=C[te];if(N[$]=ne,C[te]=$,k<=V){var K=h-V;if((z>7e3||Z>24576)&&(K>423||!d)){m=Fb(r,f,0,F,B,G,j,Z,I,V-I,m),Z=z=j=0,I=V;for(var re=0;re<286;++re)B[re]=0;for(var re=0;re<30;++re)G[re]=0}var ae=2,fe=0,_e=v,Y=$-ne&32767;if(K>2&&te==D(V-Y))for(var O=Math.min(_,K)-1,q=Math.min(32767,V),J=Math.min(258,K);Y<=q&&--_e&&$!=ne;){if(r[V+ae]==r[V+ae-Y]){for(var se=0;se<J&&r[V+se]==r[V+se-Y];++se);if(se>ae){if(ae=se,fe=Y,se>O)break;for(var ue=Math.min(Y,se-2),me=0,re=0;re<ue;++re){var de=V-Y+re&32767,xe=N[de],Ne=de-xe&32767;Ne>me&&(me=Ne,ne=de)}}}$=ne,ne=N[$],Y+=$-ne&32767}if(fe){F[Z++]=268435456|Qm[ae]<<18|Ib[fe];var Ue=Qm[ae]&31,Ke=Ib[fe]&31;j+=c2[Ue]+u2[Ke],++B[257+Ue],++G[Ke],k=V+ae,++z}else F[Z++]=r[V],++B[r[V]]}}for(V=Math.max(V,k);V<h;++V)F[Z++]=r[V],++B[r[V]];m=Fb(r,f,d,F,B,G,j,Z,I,V-I,m),d||(o.r=m&7|f[m/8|0]<<3,m-=7,o.h=C,o.p=N,o.i=V,o.w=k)}else{for(var V=o.w||0;V<h+d;V+=65535){var it=V+65535;it>=h&&(f[m/8|0]=d,it=h),m=h_(f,m+1,r.subarray(V,it))}o.i=h}return ek(c,0,i+u_(m)+a)},d_=function(){var r=1,e=0;return{p:function(t){for(var i=r,a=e,o=t.length|0,h=0;h!=o;){for(var c=Math.min(h+2655,o);h<c;++h)a+=i+=t[h];i=(i&65535)+15*(i>>16),a=(a&65535)+15*(a>>16)}r=i,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},rk=function(r,e,t,i,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),h=new no(o.length+r.length);h.set(o),h.set(r,o.length),r=h,a.w=o.length}return nk(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,i,a)},p_=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},ik=function(r,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=i<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=d_();a.p(e.dictionary),p_(r,2,a.d())}};function tg(r,e){e||(e={});var t=d_();t.p(r);var i=rk(r,e,e.dictionary?6:2,4);return ik(i,e),p_(i,i.length-4,t.d()),i}var sk=typeof TextDecoder<"u"&&new TextDecoder,ak=0;try{sk.decode(f_,{stream:!0}),ak=1}catch{}function ok(r){if(Array.isArray(r))return r}function lk(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var i,a,o,h,c=[],f=!0,d=!1;try{if(o=(t=t.call(r)).next,e!==0)for(;!(f=(i=o.call(t)).done)&&(c.push(i.value),c.length!==e);f=!0);}catch(m){d=!0,a=m}finally{try{if(!f&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(d)throw a}}return c}}function Bb(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=Array(e);t<e;t++)i[t]=r[t];return i}function ck(r,e){if(r){if(typeof r=="string")return Bb(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Bb(r,e):void 0}}function uk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qb(r,e){return ok(r)||lk(r,e)||ck(r,e)||uk()}function zb(r,e="utf8"){return new TextDecoder(e).decode(r)}const hk=new TextEncoder;function fk(r){return hk.encode(r)}const dk=1024*8,pk=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),fm={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class h2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=dk,t={}){let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let h=a;(ArrayBuffer.isView(e)||e instanceof h2)&&(e.byteLength!==e.buffer.byteLength&&(h=e.byteOffset+a),e=e.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=h,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,h,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,a=new Uint8Array(i);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=fm[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+i);if(this.littleEndian===pk&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+i));c.reverse();const f=new fm[t](c.buffer);return this.offset+=i,f.reverse(),f}const h=new fm[t](o);return this.offset+=i,h}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return zb(this.readBytes(e))}decodeText(e=1,t="utf8"){return zb(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(fk(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ph(r){let e=r.length;for(;--e>=0;)r[e]=0}const mk=3,gk=258,m_=29,vk=256,bk=vk+1+m_,g_=30,yk=512,xk=new Array((bk+2)*2);Ph(xk);const _k=new Array(g_*2);Ph(_k);const wk=new Array(yk);Ph(wk);const Sk=new Array(gk-mk+1);Ph(Sk);const Ak=new Array(m_);Ph(Ak);const Nk=new Array(g_);Ph(Nk);const Ck=(r,e,t,i)=>{let a=r&65535|0,o=r>>>16&65535|0,h=0;for(;t!==0;){h=t>2e3?2e3:t,t-=h;do a=a+e[i++]|0,o=o+a|0;while(--h);a%=65521,o%=65521}return a|o<<16|0};var ng=Ck;const Tk=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var i=0;i<8;i++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},Ek=new Uint32Array(Tk()),kk=(r,e,t,i)=>{const a=Ek,o=i+t;r^=-1;for(let h=i;h<o;h++)r=r>>>8^a[(r^e[h])&255];return r^-1};var ko=kk,rg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},v_={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Mk=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var Ok=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)Mk(t,i)&&(r[i]=t[i])}}return r},Lk=r=>{let e=0;for(let i=0,a=r.length;i<a;i++)e+=r[i].length;const t=new Uint8Array(e);for(let i=0,a=0,o=r.length;i<o;i++){let h=r[i];t.set(h,a),a+=h.length}return t},b_={assign:Ok,flattenChunks:Lk};let y_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y_=!1}const Qf=new Uint8Array(256);for(let r=0;r<256;r++)Qf[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Qf[254]=Qf[254]=1;var jk=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,i,a,o,h=r.length,c=0;for(a=0;a<h;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<h&&(i=r.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<h&&(i=r.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const Dk=(r,e)=>{if(e<65534&&r.subarray&&y_)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(r[i]);return t};var Rk=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let i,a;const o=new Array(t*2);for(a=0,i=0;i<t;){let h=r[i++];if(h<128){o[a++]=h;continue}let c=Qf[h];if(c>4){o[a++]=65533,i+=c-1;continue}for(h&=c===2?31:c===3?15:7;c>1&&i<t;)h=h<<6|r[i++]&63,c--;if(c>1){o[a++]=65533;continue}h<65536?o[a++]=h:(h-=65536,o[a++]=55296|h>>10&1023,o[a++]=56320|h&1023)}return Dk(o,a)},Ik=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Qf[r[t]]>e?t:e},ig={string2buf:jk,buf2string:Rk,utf8border:Ik};function Vk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Fk=Vk;const y1=16209,Bk=16191;var qk=function(e,t){let i,a,o,h,c,f,d,m,y,_,v,S,N,C,T,R,D,F,B,G,z,j,V,Z;const k=e.state;i=e.next_in,V=e.input,a=i+(e.avail_in-5),o=e.next_out,Z=e.output,h=o-(t-e.avail_out),c=o+(e.avail_out-257),f=k.dmax,d=k.wsize,m=k.whave,y=k.wnext,_=k.window,v=k.hold,S=k.bits,N=k.lencode,C=k.distcode,T=(1<<k.lenbits)-1,R=(1<<k.distbits)-1;e:do{S<15&&(v+=V[i++]<<S,S+=8,v+=V[i++]<<S,S+=8),D=N[v&T];t:for(;;){if(F=D>>>24,v>>>=F,S-=F,F=D>>>16&255,F===0)Z[o++]=D&65535;else if(F&16){B=D&65535,F&=15,F&&(S<F&&(v+=V[i++]<<S,S+=8),B+=v&(1<<F)-1,v>>>=F,S-=F),S<15&&(v+=V[i++]<<S,S+=8,v+=V[i++]<<S,S+=8),D=C[v&R];n:for(;;){if(F=D>>>24,v>>>=F,S-=F,F=D>>>16&255,F&16){if(G=D&65535,F&=15,S<F&&(v+=V[i++]<<S,S+=8,S<F&&(v+=V[i++]<<S,S+=8)),G+=v&(1<<F)-1,G>f){e.msg="invalid distance too far back",k.mode=y1;break e}if(v>>>=F,S-=F,F=o-h,G>F){if(F=G-F,F>m&&k.sane){e.msg="invalid distance too far back",k.mode=y1;break e}if(z=0,j=_,y===0){if(z+=d-F,F<B){B-=F;do Z[o++]=_[z++];while(--F);z=o-G,j=Z}}else if(y<F){if(z+=d+y-F,F-=y,F<B){B-=F;do Z[o++]=_[z++];while(--F);if(z=0,y<B){F=y,B-=F;do Z[o++]=_[z++];while(--F);z=o-G,j=Z}}}else if(z+=y-F,F<B){B-=F;do Z[o++]=_[z++];while(--F);z=o-G,j=Z}for(;B>2;)Z[o++]=j[z++],Z[o++]=j[z++],Z[o++]=j[z++],B-=3;B&&(Z[o++]=j[z++],B>1&&(Z[o++]=j[z++]))}else{z=o-G;do Z[o++]=Z[z++],Z[o++]=Z[z++],Z[o++]=Z[z++],B-=3;while(B>2);B&&(Z[o++]=Z[z++],B>1&&(Z[o++]=Z[z++]))}}else if((F&64)===0){D=C[(D&65535)+(v&(1<<F)-1)];continue n}else{e.msg="invalid distance code",k.mode=y1;break e}break}}else if((F&64)===0){D=N[(D&65535)+(v&(1<<F)-1)];continue t}else if(F&32){k.mode=Bk;break e}else{e.msg="invalid literal/length code",k.mode=y1;break e}break}}while(i<a&&o<c);B=S>>3,i-=B,S-=B<<3,v&=(1<<S)-1,e.next_in=i,e.next_out=o,e.avail_in=i<a?5+(a-i):5-(i-a),e.avail_out=o<c?257+(c-o):257-(o-c),k.hold=v,k.bits=S};const oh=15,Pb=852,Ub=592,Hb=0,dm=1,Gb=2,zk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Pk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Uk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Hk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Gk=(r,e,t,i,a,o,h,c)=>{const f=c.bits;let d=0,m=0,y=0,_=0,v=0,S=0,N=0,C=0,T=0,R=0,D,F,B,G,z,j=null,V;const Z=new Uint16Array(oh+1),k=new Uint16Array(oh+1);let I=null,te,$,ne;for(d=0;d<=oh;d++)Z[d]=0;for(m=0;m<i;m++)Z[e[t+m]]++;for(v=f,_=oh;_>=1&&Z[_]===0;_--);if(v>_&&(v=_),_===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(y=1;y<_&&Z[y]===0;y++);for(v<y&&(v=y),C=1,d=1;d<=oh;d++)if(C<<=1,C-=Z[d],C<0)return-1;if(C>0&&(r===Hb||_!==1))return-1;for(k[1]=0,d=1;d<oh;d++)k[d+1]=k[d]+Z[d];for(m=0;m<i;m++)e[t+m]!==0&&(h[k[e[t+m]]++]=m);if(r===Hb?(j=I=h,V=20):r===dm?(j=zk,I=Pk,V=257):(j=Uk,I=Hk,V=0),R=0,m=0,d=y,z=o,S=v,N=0,B=-1,T=1<<v,G=T-1,r===dm&&T>Pb||r===Gb&&T>Ub)return 1;for(;;){te=d-N,h[m]+1<V?($=0,ne=h[m]):h[m]>=V?($=I[h[m]-V],ne=j[h[m]-V]):($=96,ne=0),D=1<<d-N,F=1<<S,y=F;do F-=D,a[z+(R>>N)+F]=te<<24|$<<16|ne|0;while(F!==0);for(D=1<<d-1;R&D;)D>>=1;if(D!==0?(R&=D-1,R+=D):R=0,m++,--Z[d]===0){if(d===_)break;d=e[t+h[m]]}if(d>v&&(R&G)!==B){for(N===0&&(N=v),z+=y,S=d-N,C=1<<S;S+N<_&&(C-=Z[S+N],!(C<=0));)S++,C<<=1;if(T+=1<<S,r===dm&&T>Pb||r===Gb&&T>Ub)return 1;B=R&G,a[B]=v<<24|S<<16|z-o|0}}return R!==0&&(a[z+R]=d-N<<24|64<<16|0),c.bits=v,0};var qf=Gk;const Yk=0,x_=1,__=2,{Z_FINISH:Yb,Z_BLOCK:Wk,Z_TREES:x1,Z_OK:uu,Z_STREAM_END:Xk,Z_NEED_DICT:Zk,Z_STREAM_ERROR:ya,Z_DATA_ERROR:w_,Z_MEM_ERROR:S_,Z_BUF_ERROR:$k,Z_DEFLATED:Wb}=v_,qp=16180,Xb=16181,Zb=16182,$b=16183,Kb=16184,Qb=16185,Jb=16186,ey=16187,ty=16188,ny=16189,hp=16190,fl=16191,pm=16192,ry=16193,mm=16194,iy=16195,sy=16196,ay=16197,oy=16198,_1=16199,w1=16200,ly=16201,cy=16202,uy=16203,hy=16204,fy=16205,gm=16206,dy=16207,py=16208,gr=16209,A_=16210,N_=16211,Kk=852,Qk=592,Jk=15,eM=Jk,my=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function tM(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const pu=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<qp||e.mode>N_?1:0},C_=r=>{if(pu(r))return ya;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=qp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Kk),e.distcode=e.distdyn=new Int32Array(Qk),e.sane=1,e.back=-1,uu},T_=r=>{if(pu(r))return ya;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,C_(r)},E_=(r,e)=>{let t;if(pu(r))return ya;const i=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ya:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,T_(r))},k_=(r,e)=>{if(!r)return ya;const t=new tM;r.state=t,t.strm=r,t.window=null,t.mode=qp;const i=E_(r,e);return i!==uu&&(r.state=null),i},nM=r=>k_(r,eM);let gy=!0,vm,bm;const rM=r=>{if(gy){vm=new Int32Array(512),bm=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(qf(x_,r.lens,0,288,vm,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;qf(__,r.lens,0,32,bm,0,r.work,{bits:5}),gy=!1}r.lencode=vm,r.lenbits=9,r.distcode=bm,r.distbits=5},M_=(r,e,t,i)=>{let a;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>i&&(a=i),o.window.set(e.subarray(t-i,t-i+a),o.wnext),i-=a,i?(o.window.set(e.subarray(t-i,t),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},iM=(r,e)=>{let t,i,a,o,h,c,f,d,m,y,_,v,S,N,C=0,T,R,D,F,B,G,z,j;const V=new Uint8Array(4);let Z,k;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(pu(r)||!r.output||!r.input&&r.avail_in!==0)return ya;t=r.state,t.mode===fl&&(t.mode=pm),h=r.next_out,a=r.output,f=r.avail_out,o=r.next_in,i=r.input,c=r.avail_in,d=t.hold,m=t.bits,y=c,_=f,j=uu;e:for(;;)switch(t.mode){case qp:if(t.wrap===0){t.mode=pm;break}for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,V[0]=d&255,V[1]=d>>>8&255,t.check=ko(t.check,V,2,0),d=0,m=0,t.mode=Xb;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){r.msg="incorrect header check",t.mode=gr;break}if((d&15)!==Wb){r.msg="unknown compression method",t.mode=gr;break}if(d>>>=4,m-=4,z=(d&15)+8,t.wbits===0&&(t.wbits=z),z>15||z>t.wbits){r.msg="invalid window size",t.mode=gr;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=d&512?ny:fl,d=0,m=0;break;case Xb:for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.flags=d,(t.flags&255)!==Wb){r.msg="unknown compression method",t.mode=gr;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=gr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(V[0]=d&255,V[1]=d>>>8&255,t.check=ko(t.check,V,2,0)),d=0,m=0,t.mode=Zb;case Zb:for(;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(V[0]=d&255,V[1]=d>>>8&255,V[2]=d>>>16&255,V[3]=d>>>24&255,t.check=ko(t.check,V,4,0)),d=0,m=0,t.mode=$b;case $b:for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(V[0]=d&255,V[1]=d>>>8&255,t.check=ko(t.check,V,2,0)),d=0,m=0,t.mode=Kb;case Kb:if(t.flags&1024){for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(V[0]=d&255,V[1]=d>>>8&255,t.check=ko(t.check,V,2,0)),d=0,m=0}else t.head&&(t.head.extra=null);t.mode=Qb;case Qb:if(t.flags&1024&&(v=t.length,v>c&&(v=c),v&&(t.head&&(z=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(o,o+v),z)),t.flags&512&&t.wrap&4&&(t.check=ko(t.check,i,v,o)),c-=v,o+=v,t.length-=v),t.length))break e;t.length=0,t.mode=Jb;case Jb:if(t.flags&2048){if(c===0)break e;v=0;do z=i[o+v++],t.head&&z&&t.length<65536&&(t.head.name+=String.fromCharCode(z));while(z&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=ko(t.check,i,v,o)),c-=v,o+=v,z)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=ey;case ey:if(t.flags&4096){if(c===0)break e;v=0;do z=i[o+v++],t.head&&z&&t.length<65536&&(t.head.comment+=String.fromCharCode(z));while(z&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=ko(t.check,i,v,o)),c-=v,o+=v,z)break e}else t.head&&(t.head.comment=null);t.mode=ty;case ty:if(t.flags&512){for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.check&65535)){r.msg="header crc mismatch",t.mode=gr;break}d=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=fl;break;case ny:for(;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}r.adler=t.check=my(d),d=0,m=0,t.mode=hp;case hp:if(t.havedict===0)return r.next_out=h,r.avail_out=f,r.next_in=o,r.avail_in=c,t.hold=d,t.bits=m,Zk;r.adler=t.check=1,t.mode=fl;case fl:if(e===Wk||e===x1)break e;case pm:if(t.last){d>>>=m&7,m-=m&7,t.mode=gm;break}for(;m<3;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}switch(t.last=d&1,d>>>=1,m-=1,d&3){case 0:t.mode=ry;break;case 1:if(rM(t),t.mode=_1,e===x1){d>>>=2,m-=2;break e}break;case 2:t.mode=sy;break;case 3:r.msg="invalid block type",t.mode=gr}d>>>=2,m-=2;break;case ry:for(d>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if((d&65535)!==(d>>>16^65535)){r.msg="invalid stored block lengths",t.mode=gr;break}if(t.length=d&65535,d=0,m=0,t.mode=mm,e===x1)break e;case mm:t.mode=iy;case iy:if(v=t.length,v){if(v>c&&(v=c),v>f&&(v=f),v===0)break e;a.set(i.subarray(o,o+v),h),c-=v,o+=v,f-=v,h+=v,t.length-=v;break}t.mode=fl;break;case sy:for(;m<14;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.nlen=(d&31)+257,d>>>=5,m-=5,t.ndist=(d&31)+1,d>>>=5,m-=5,t.ncode=(d&15)+4,d>>>=4,m-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=gr;break}t.have=0,t.mode=ay;case ay:for(;t.have<t.ncode;){for(;m<3;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.lens[I[t.have++]]=d&7,d>>>=3,m-=3}for(;t.have<19;)t.lens[I[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Z={bits:t.lenbits},j=qf(Yk,t.lens,0,19,t.lencode,0,t.work,Z),t.lenbits=Z.bits,j){r.msg="invalid code lengths set",t.mode=gr;break}t.have=0,t.mode=oy;case oy:for(;t.have<t.nlen+t.ndist;){for(;C=t.lencode[d&(1<<t.lenbits)-1],T=C>>>24,R=C>>>16&255,D=C&65535,!(T<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(D<16)d>>>=T,m-=T,t.lens[t.have++]=D;else{if(D===16){for(k=T+2;m<k;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(d>>>=T,m-=T,t.have===0){r.msg="invalid bit length repeat",t.mode=gr;break}z=t.lens[t.have-1],v=3+(d&3),d>>>=2,m-=2}else if(D===17){for(k=T+3;m<k;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=T,m-=T,z=0,v=3+(d&7),d>>>=3,m-=3}else{for(k=T+7;m<k;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=T,m-=T,z=0,v=11+(d&127),d>>>=7,m-=7}if(t.have+v>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=gr;break}for(;v--;)t.lens[t.have++]=z}}if(t.mode===gr)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=gr;break}if(t.lenbits=9,Z={bits:t.lenbits},j=qf(x_,t.lens,0,t.nlen,t.lencode,0,t.work,Z),t.lenbits=Z.bits,j){r.msg="invalid literal/lengths set",t.mode=gr;break}if(t.distbits=6,t.distcode=t.distdyn,Z={bits:t.distbits},j=qf(__,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Z),t.distbits=Z.bits,j){r.msg="invalid distances set",t.mode=gr;break}if(t.mode=_1,e===x1)break e;case _1:t.mode=w1;case w1:if(c>=6&&f>=258){r.next_out=h,r.avail_out=f,r.next_in=o,r.avail_in=c,t.hold=d,t.bits=m,qk(r,_),h=r.next_out,a=r.output,f=r.avail_out,o=r.next_in,i=r.input,c=r.avail_in,d=t.hold,m=t.bits,t.mode===fl&&(t.back=-1);break}for(t.back=0;C=t.lencode[d&(1<<t.lenbits)-1],T=C>>>24,R=C>>>16&255,D=C&65535,!(T<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(R&&(R&240)===0){for(F=T,B=R,G=D;C=t.lencode[G+((d&(1<<F+B)-1)>>F)],T=C>>>24,R=C>>>16&255,D=C&65535,!(F+T<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=F,m-=F,t.back+=F}if(d>>>=T,m-=T,t.back+=T,t.length=D,R===0){t.mode=fy;break}if(R&32){t.back=-1,t.mode=fl;break}if(R&64){r.msg="invalid literal/length code",t.mode=gr;break}t.extra=R&15,t.mode=ly;case ly:if(t.extra){for(k=t.extra;m<k;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=cy;case cy:for(;C=t.distcode[d&(1<<t.distbits)-1],T=C>>>24,R=C>>>16&255,D=C&65535,!(T<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if((R&240)===0){for(F=T,B=R,G=D;C=t.distcode[G+((d&(1<<F+B)-1)>>F)],T=C>>>24,R=C>>>16&255,D=C&65535,!(F+T<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=F,m-=F,t.back+=F}if(d>>>=T,m-=T,t.back+=T,R&64){r.msg="invalid distance code",t.mode=gr;break}t.offset=D,t.extra=R&15,t.mode=uy;case uy:if(t.extra){for(k=t.extra;m<k;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=gr;break}t.mode=hy;case hy:if(f===0)break e;if(v=_-f,t.offset>v){if(v=t.offset-v,v>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=gr;break}v>t.wnext?(v-=t.wnext,S=t.wsize-v):S=t.wnext-v,v>t.length&&(v=t.length),N=t.window}else N=a,S=h-t.offset,v=t.length;v>f&&(v=f),f-=v,t.length-=v;do a[h++]=N[S++];while(--v);t.length===0&&(t.mode=w1);break;case fy:if(f===0)break e;a[h++]=t.length,f--,t.mode=w1;break;case gm:if(t.wrap){for(;m<32;){if(c===0)break e;c--,d|=i[o++]<<m,m+=8}if(_-=f,r.total_out+=_,t.total+=_,t.wrap&4&&_&&(r.adler=t.check=t.flags?ko(t.check,a,_,h-_):ng(t.check,a,_,h-_)),_=f,t.wrap&4&&(t.flags?d:my(d))!==t.check){r.msg="incorrect data check",t.mode=gr;break}d=0,m=0}t.mode=dy;case dy:if(t.wrap&&t.flags){for(;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=gr;break}d=0,m=0}t.mode=py;case py:j=Xk;break e;case gr:j=w_;break e;case A_:return S_;case N_:default:return ya}return r.next_out=h,r.avail_out=f,r.next_in=o,r.avail_in=c,t.hold=d,t.bits=m,(t.wsize||_!==r.avail_out&&t.mode<gr&&(t.mode<gm||e!==Yb))&&M_(r,r.output,r.next_out,_-r.avail_out),y-=r.avail_in,_-=r.avail_out,r.total_in+=y,r.total_out+=_,t.total+=_,t.wrap&4&&_&&(r.adler=t.check=t.flags?ko(t.check,a,_,r.next_out-_):ng(t.check,a,_,r.next_out-_)),r.data_type=t.bits+(t.last?64:0)+(t.mode===fl?128:0)+(t.mode===_1||t.mode===mm?256:0),(y===0&&_===0||e===Yb)&&j===uu&&(j=$k),j},sM=r=>{if(pu(r))return ya;let e=r.state;return e.window&&(e.window=null),r.state=null,uu},aM=(r,e)=>{if(pu(r))return ya;const t=r.state;return(t.wrap&2)===0?ya:(t.head=e,e.done=!1,uu)},oM=(r,e)=>{const t=e.length;let i,a,o;return pu(r)||(i=r.state,i.wrap!==0&&i.mode!==hp)?ya:i.mode===hp&&(a=1,a=ng(a,e,t,0),a!==i.check)?w_:(o=M_(r,e,t,t),o?(i.mode=A_,S_):(i.havedict=1,uu))};var lM=T_,cM=E_,uM=C_,hM=nM,fM=k_,dM=iM,pM=sM,mM=aM,gM=oM,vM="pako inflate (from Nodeca project)",pl={inflateReset:lM,inflateReset2:cM,inflateResetKeep:uM,inflateInit:hM,inflateInit2:fM,inflate:dM,inflateEnd:pM,inflateGetHeader:mM,inflateSetDictionary:gM,inflateInfo:vM};function bM(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var yM=bM;const O_=Object.prototype.toString,{Z_NO_FLUSH:xM,Z_FINISH:_M,Z_OK:Jf,Z_STREAM_END:ym,Z_NEED_DICT:xm,Z_STREAM_ERROR:wM,Z_DATA_ERROR:vy,Z_MEM_ERROR:SM}=v_;function bd(r){this.options=b_.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Fk,this.strm.avail_out=0;let t=pl.inflateInit2(this.strm,e.windowBits);if(t!==Jf)throw new Error(rg[t]);if(this.header=new yM,pl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ig.string2buf(e.dictionary):O_.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=pl.inflateSetDictionary(this.strm,e.dictionary),t!==Jf)))throw new Error(rg[t])}bd.prototype.push=function(r,e){const t=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let o,h,c;if(this.ended)return!1;for(e===~~e?h=e:h=e===!0?_M:xM,O_.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),o=pl.inflate(t,h),o===xm&&a&&(o=pl.inflateSetDictionary(t,a),o===Jf?o=pl.inflate(t,h):o===vy&&(o=xm));t.avail_in>0&&o===ym&&t.state.wrap>0&&r[t.next_in]!==0;)pl.inflateReset(t),o=pl.inflate(t,h);switch(o){case wM:case vy:case xm:case SM:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===ym))if(this.options.to==="string"){let f=ig.utf8border(t.output,t.next_out),d=t.next_out-f,m=ig.buf2string(t.output,f);t.next_out=d,t.avail_out=i-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Jf&&c===0)){if(o===ym)return o=pl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};bd.prototype.onData=function(r){this.chunks.push(r)};bd.prototype.onEnd=function(r){r===Jf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b_.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function AM(r,e){const t=new bd(e);if(t.push(r),t.err)throw t.msg||rg[t.err];return t.result}var NM=bd,CM=AM,TM={Inflate:NM,inflate:CM};const{Inflate:EM,inflate:kM}=TM;var by=EM,MM=kM;const L_=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;L_[r]=e}const yy=4294967295;function OM(r,e,t){let i=r;for(let a=0;a<t;a++)i=L_[(i^e[a])&255]^i>>>8;return i}function LM(r,e){return(OM(yy,r,e)^yy)>>>0}function xy(r,e,t){const i=r.readUint32(),a=LM(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${a}`)}function j_(r,e,t){for(let i=0;i<t;i++)e[i]=r[i]}function D_(r,e,t,i){let a=0;for(;a<i;a++)e[a]=r[a];for(;a<t;a++)e[a]=r[a]+e[a-i]&255}function R_(r,e,t,i){let a=0;if(t.length===0)for(;a<i;a++)e[a]=r[a];else for(;a<i;a++)e[a]=r[a]+t[a]&255}function I_(r,e,t,i,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<i;o++)e[o]=r[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=r[o]+(t[o]>>1)&255;for(;o<i;o++)e[o]=r[o]+(e[o-a]+t[o]>>1)&255}}function V_(r,e,t,i,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<i;o++)e[o]=r[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=r[o]+t[o]&255;for(;o<i;o++)e[o]=r[o]+jM(e[o-a],t[o],t[o-a])&255}}function jM(r,e,t){const i=r+e-t,a=Math.abs(i-r),o=Math.abs(i-e),h=Math.abs(i-t);return a<=o&&a<=h?r:o<=h?e:t}function DM(r,e,t,i,a,o){switch(r){case 0:j_(e,t,a);break;case 1:D_(e,t,a,o);break;case 2:R_(e,t,i,a);break;case 3:I_(e,t,i,a,o);break;case 4:V_(e,t,i,a,o);break;default:throw new Error(`Unsupported filter: ${r}`)}}const RM=new Uint16Array([255]),IM=new Uint8Array(RM.buffer),VM=IM[0]===255;function FM(r){const{data:e,width:t,height:i,channels:a,depth:o}=r,h=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(i*t*c);let d=0;for(let m=0;m<7;m++){const y=h[m],_=Math.ceil((t-y.x)/y.xStep),v=Math.ceil((i-y.y)/y.yStep);if(_<=0||v<=0)continue;const S=_*c,N=new Uint8Array(S);for(let C=0;C<v;C++){const T=e[d++],R=e.subarray(d,d+S);d+=S;const D=new Uint8Array(S);DM(T,R,D,N,S,c),N.set(D);for(let F=0;F<_;F++){const B=y.x+F*y.xStep,G=y.y+C*y.yStep;if(!(B>=t||G>=i))for(let z=0;z<c;z++)f[(G*t+B)*c+z]=D[F*c+z]}}}if(o===16){const m=new Uint16Array(f.buffer);if(VM)for(let y=0;y<m.length;y++)m[y]=BM(m[y]);return m}else return f}function BM(r){return(r&255)<<8|r>>8&255}const qM=new Uint16Array([255]),zM=new Uint8Array(qM.buffer),PM=zM[0]===255,UM=new Uint8Array(0);function _y(r){const{data:e,width:t,height:i,channels:a,depth:o}=r,h=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*t),f=new Uint8Array(i*c);let d=UM,m=0,y,_;for(let v=0;v<i;v++){switch(y=e.subarray(m+1,m+1+c),_=f.subarray(v*c,(v+1)*c),e[m]){case 0:j_(y,_,c);break;case 1:D_(y,_,c,h);break;case 2:R_(y,_,d,c);break;case 3:I_(y,_,d,c,h);break;case 4:V_(y,_,d,c,h);break;default:throw new Error(`Unsupported filter: ${e[m]}`)}d=_,m+=c+1}if(o===16){const v=new Uint16Array(f.buffer);if(PM)for(let S=0;S<v.length;S++)v[S]=HM(v[S]);return v}else return f}function HM(r){return(r&255)<<8|r>>8&255}const D1=Uint8Array.of(137,80,78,71,13,10,26,10);function wy(r){if(!GM(r.readBytes(D1.length)))throw new Error("wrong PNG signature")}function GM(r){if(r.length<D1.length)return!1;for(let e=0;e<D1.length;e++)if(r[e]!==D1[e])return!1;return!0}const YM="tEXt",WM=0,F_=new TextDecoder("latin1");function XM(r){if($M(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const ZM=/^[\u0000-\u00FF]*$/;function $M(r){if(!ZM.test(r))throw new Error("invalid latin1 text")}function KM(r,e,t){const i=B_(e);r[i]=QM(e,t-i.length-1)}function B_(r){for(r.mark();r.readByte()!==WM;);const e=r.offset;r.reset();const t=F_.decode(r.readBytes(e-r.offset-1));return r.skip(1),XM(t),t}function QM(r,e){return F_.decode(r.readBytes(e))}const Gs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},_m={UNKNOWN:-1,DEFLATE:0},Sy={UNKNOWN:-1,ADAPTIVE:0},wm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},S1={NONE:0,BACKGROUND:1,PREVIOUS:2},Sm={SOURCE:0,OVER:1};class JM extends h2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:i=!1}=t;this._checkCrc=i,this._inflator=new by,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=_m.UNKNOWN,this._filterMethod=Sy.UNKNOWN,this._interlaceMethod=wm.UNKNOWN,this._colorType=Gs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(wy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(wy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const i=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case YM:KM(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?xy(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const i=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=i+e;break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?xy(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=eO(this.readUint8());const t=this.readUint8();this._colorType=t;let i;switch(t){case Gs.GREYSCALE:i=1;break;case Gs.TRUECOLOUR:i=3;break;case Gs.INDEXED_COLOUR:i=1;break;case Gs.GREYSCALE_ALPHA:i=2;break;case Gs.TRUECOLOUR_ALPHA:i=4;break;case Gs.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==_m.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<t;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,i=this.offset+this.byteOffset;if(i+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Gs.GREYSCALE:case Gs.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Gs.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const i=this.readByte();this._palette[t].push(i)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Gs.UNKNOWN:case Gs.GREYSCALE_ALPHA:case Gs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=B_(this),i=this.readUint8();if(i!==_m.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:MM(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:t,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(e);if(i){if(i.data=_y({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)t.data=i.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(i,a,t),this.addFrameDataToCanvas(t,i)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,i){switch(e.disposeOp){case S1.NONE:break;case S1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const h=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[h+c]=0}break;case S1.PREVIOUS:i.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const i=1<<this._png.depth,a=(o,h)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+h)*this._png.channels,f=(o*t.width+h)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case Sm.SOURCE:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case Sm.OVER:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++){const m=t.data[f+this._png.channels-1]/i,y=d%(this._png.channels-1)===0?1:t.data[f+d],_=Math.floor(m*y+(1-m)*e.data[c+d]);e.data[c+d]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Sy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===wm.NO_INTERLACE)this._png.data=_y({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===wm.ADAM7)this._png.data=FM({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:S1.NONE,blendOp:Sm.SOURCE,data:e}),this._inflator=new by,this._writingDataChunks=!1}}function eO(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var Ay;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(Ay||(Ay={}));function tO(r,e){return new JM(r,e).decode()}var Qt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Am(){Qt.console&&typeof Qt.console.log=="function"&&Qt.console.log.apply(Qt.console,arguments)}var Qn={log:Am,warn:function(r){Qt.console&&(typeof Qt.console.warn=="function"?Qt.console.warn.apply(Qt.console,arguments):Am.call(null,arguments))},error:function(r){Qt.console&&(typeof Qt.console.error=="function"?Qt.console.error.apply(Qt.console,arguments):Am(r))}};function Nm(r,e,t){var i=new XMLHttpRequest;i.open("GET",r),i.responseType="blob",i.onload=function(){Jc(i.response,e,t)},i.onerror=function(){Qn.error("could not download file")},i.send()}function Ny(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function A1(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Jc=Qt.saveAs||((typeof window>"u"?"undefined":Bn(window))!=="object"||window!==Qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var i=Qt.URL||Qt.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?Ny(a.href)?Nm(r,e,t):A1(a,a.target="_blank"):A1(a)):(a.href=i.createObjectURL(r),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){A1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(Ny(r))Nm(r,e,t);else{var i=document.createElement("a");i.href=r,i.target="_blank",setTimeout(function(){A1(i)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Bn(o)!=="object"&&(Qn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(r,t),e)}:function(r,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof r=="string")return Nm(r,e,t);var a=r.type==="application/octet-stream",o=/constructor/i.test(Qt.HTMLElement)||Qt.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||a&&o)&&(typeof FileReader>"u"?"undefined":Bn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=h?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=m:location=m,i=null},c.readAsDataURL(r)}else{var f=Qt.URL||Qt.webkitURL,d=f.createObjectURL(r);i?i.location=d:location.href=d,i=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function q_(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<t.length;i++){var a=t[i].re,o=t[i].process,h=a.exec(r);h&&(e=o(h),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var R1=Qt.atob.bind(Qt),Cy=Qt.btoa.bind(Qt);function Cm(r,e){var t=r[0],i=r[1],a=r[2],o=r[3];t=qi(t,i,a,o,e[0],7,-680876936),o=qi(o,t,i,a,e[1],12,-389564586),a=qi(a,o,t,i,e[2],17,606105819),i=qi(i,a,o,t,e[3],22,-1044525330),t=qi(t,i,a,o,e[4],7,-176418897),o=qi(o,t,i,a,e[5],12,1200080426),a=qi(a,o,t,i,e[6],17,-1473231341),i=qi(i,a,o,t,e[7],22,-45705983),t=qi(t,i,a,o,e[8],7,1770035416),o=qi(o,t,i,a,e[9],12,-1958414417),a=qi(a,o,t,i,e[10],17,-42063),i=qi(i,a,o,t,e[11],22,-1990404162),t=qi(t,i,a,o,e[12],7,1804603682),o=qi(o,t,i,a,e[13],12,-40341101),a=qi(a,o,t,i,e[14],17,-1502002290),t=zi(t,i=qi(i,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=zi(o,t,i,a,e[6],9,-1069501632),a=zi(a,o,t,i,e[11],14,643717713),i=zi(i,a,o,t,e[0],20,-373897302),t=zi(t,i,a,o,e[5],5,-701558691),o=zi(o,t,i,a,e[10],9,38016083),a=zi(a,o,t,i,e[15],14,-660478335),i=zi(i,a,o,t,e[4],20,-405537848),t=zi(t,i,a,o,e[9],5,568446438),o=zi(o,t,i,a,e[14],9,-1019803690),a=zi(a,o,t,i,e[3],14,-187363961),i=zi(i,a,o,t,e[8],20,1163531501),t=zi(t,i,a,o,e[13],5,-1444681467),o=zi(o,t,i,a,e[2],9,-51403784),a=zi(a,o,t,i,e[7],14,1735328473),t=Pi(t,i=zi(i,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Pi(o,t,i,a,e[8],11,-2022574463),a=Pi(a,o,t,i,e[11],16,1839030562),i=Pi(i,a,o,t,e[14],23,-35309556),t=Pi(t,i,a,o,e[1],4,-1530992060),o=Pi(o,t,i,a,e[4],11,1272893353),a=Pi(a,o,t,i,e[7],16,-155497632),i=Pi(i,a,o,t,e[10],23,-1094730640),t=Pi(t,i,a,o,e[13],4,681279174),o=Pi(o,t,i,a,e[0],11,-358537222),a=Pi(a,o,t,i,e[3],16,-722521979),i=Pi(i,a,o,t,e[6],23,76029189),t=Pi(t,i,a,o,e[9],4,-640364487),o=Pi(o,t,i,a,e[12],11,-421815835),a=Pi(a,o,t,i,e[15],16,530742520),t=Ui(t,i=Pi(i,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=Ui(o,t,i,a,e[7],10,1126891415),a=Ui(a,o,t,i,e[14],15,-1416354905),i=Ui(i,a,o,t,e[5],21,-57434055),t=Ui(t,i,a,o,e[12],6,1700485571),o=Ui(o,t,i,a,e[3],10,-1894986606),a=Ui(a,o,t,i,e[10],15,-1051523),i=Ui(i,a,o,t,e[1],21,-2054922799),t=Ui(t,i,a,o,e[8],6,1873313359),o=Ui(o,t,i,a,e[15],10,-30611744),a=Ui(a,o,t,i,e[6],15,-1560198380),i=Ui(i,a,o,t,e[13],21,1309151649),t=Ui(t,i,a,o,e[4],6,-145523070),o=Ui(o,t,i,a,e[11],10,-1120210379),a=Ui(a,o,t,i,e[2],15,718787259),i=Ui(i,a,o,t,e[9],21,-343485551),r[0]=uc(t,r[0]),r[1]=uc(i,r[1]),r[2]=uc(a,r[2]),r[3]=uc(o,r[3])}function zp(r,e,t,i,a,o){return e=uc(uc(e,r),uc(i,o)),uc(e<<a|e>>>32-a,t)}function qi(r,e,t,i,a,o,h){return zp(e&t|~e&i,r,e,a,o,h)}function zi(r,e,t,i,a,o,h){return zp(e&i|t&~i,r,e,a,o,h)}function Pi(r,e,t,i,a,o,h){return zp(e^t^i,r,e,a,o,h)}function Ui(r,e,t,i,a,o,h){return zp(t^(e|~i),r,e,a,o,h)}function z_(r){var e,t=r.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Cm(i,nO(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Cm(i,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,Cm(i,a),i}function nO(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var Ty="0123456789abcdef".split("");function rO(r){for(var e="",t=0;t<4;t++)e+=Ty[r>>8*t+4&15]+Ty[r>>8*t&15];return e}function iO(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function sg(r){return z_(r).map(iO).join("")}var sO=(function(r){for(var e=0;e<r.length;e++)r[e]=rO(r[e]);return r.join("")})(z_("hello"))!="5d41402abc4b2a76b9719d911017c592";function uc(r,e){if(sO){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}function ag(r,e){var t,i,a,o;if(r!==t){for(var h=(a=r,o=1+(256/r.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var m=c[f];d=(d+m+h.charCodeAt(f))%256,c[f]=c[d],c[d]=m}t=r,i=c}else c=i;var y=e.length,_=0,v=0,S="";for(f=0;f<y;f++)v=(v+(m=c[_=(_+1)%256]))%256,c[_]=c[v],c[v]=m,h=c[(c[_]+c[v])%256],S+=String.fromCharCode(e.charCodeAt(f)^h);return S}var Ey={print:4,modify:8,copy:16,"annot-forms":32};function fh(r,e,t,i){this.v=1,this.r=2;var a=192;r.forEach(function(c){if(Ey.perm!==void 0)throw new Error("Invalid permission: "+c);a+=Ey[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),h=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,h),this.P=-(1+(255^a)),this.encryptionKey=sg(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=ag(this.encryptionKey,this.padding)}function dh(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,i=0;i<t;i++){var a=r.charCodeAt(i);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[i]}return e}function ky(r){if(Bn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,a){if(a=a||!1,typeof t!="string"||typeof i!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[i,!!a],o},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var h=e[t][o];try{h[0].apply(r,i)}catch(c){Qt.console&&Qn.error("jsPDF PubSub Error",c.message,c)}h[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function fp(r){if(!(this instanceof fp))return new fp(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function P_(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function tu(r,e,t,i,a){if(!(this instanceof tu))return new tu(r,e,t,i,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,P_.call(this,i,a)}function yh(r,e,t,i,a){if(!(this instanceof yh))return new yh(r,e,t,i,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,P_.call(this,i,a)}function Rt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],a=arguments[2],o=arguments[3],h=[],c=1,f=16,d="S",m=null;Bn(r=r||{})==="object"&&(t=r.orientation,i=r.unit||i,a=r.format||a,o=r.compress||r.compressPdf||o,(m=r.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(f=r.floatPrecision),d=r.defaultPathOperation||"S"),h=r.filters||(o===!0?["FlateEncode"]:h),i=i||"mm",t=(""+(t||"P")).toLowerCase();var y=r.putOnlyUsedFonts||!1,_={},v={internal:{},__private__:{}};v.__private__.PubSub=ky;var S="1.3",N=v.__private__.getPdfVersion=function(){return S};v.__private__.setPdfVersion=function(w){S=w};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return C};var T=v.__private__.getPageFormat=function(w){return C[w]};a=a||"a4";var R="compat",D="advanced",F=R;function B(){this.saveGraphicsState(),H(new Ze(_t,0,0,-_t,0,Ta()*_t).toString()+" cm"),this.setFontSize(this.getFontSize()/_t),d="n",F=D}function G(){this.restoreGraphicsState(),d="S",F=R}var z=v.__private__.combineFontStyleAndFontWeight=function(w,P){if(w=="bold"&&P=="normal"||w=="bold"&&P==400||w=="normal"&&P=="italic"||w=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(w=P==400||P==="normal"?w==="italic"?"italic":"normal":P!=700&&P!=="bold"||w!=="normal"?(P==700?"bold":P)+""+w:"bold"),w};v.advancedAPI=function(w){var P=F===R;return P&&B.call(this),typeof w!="function"||(w(this),P&&G.call(this)),this},v.compatAPI=function(w){var P=F===D;return P&&G.call(this),typeof w!="function"||(w(this),P&&B.call(this)),this},v.isAdvancedAPI=function(){return F===D};var j,V=function(w){if(F!==D)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=v.roundToPrecision=v.__private__.roundToPrecision=function(w,P){var ce=e||P;if(isNaN(w)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(ce).replace(/0+$/,"")};j=v.hpf=v.__private__.hpf=typeof f=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(w,f)}:f==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(w,16)};var k=v.f2=v.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return Z(w,2)},I=v.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return Z(w,3)},te=v.scale=v.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return F===R?w*_t:F===D?w:void 0},$=function(w){return te((function(P){return F===R?Ta()-P:F===D?P:void 0})(w))};v.__private__.setPrecision=v.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var ne,K="00000000000000000000000000000000",re=v.__private__.getFileId=function(){return K},ae=v.__private__.setFileId=function(w){return K=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Ir=new fh(m.userPermissions,m.userPassword,m.ownerPassword,K)),K};v.setFileId=function(w){return ae(w),this},v.getFileId=function(){return re()};var fe=v.__private__.convertDateToPDFDate=function(w){var P=w.getTimezoneOffset(),ce=P<0?"+":"-",ge=Math.floor(Math.abs(P/60)),we=Math.abs(P%60),ze=[ce,J(ge),"'",J(we),"'"].join("");return["D:",w.getFullYear(),J(w.getMonth()+1),J(w.getDate()),J(w.getHours()),J(w.getMinutes()),J(w.getSeconds()),ze].join("")},_e=v.__private__.convertPDFDateToDate=function(w){var P=parseInt(w.substr(2,4),10),ce=parseInt(w.substr(6,2),10)-1,ge=parseInt(w.substr(8,2),10),we=parseInt(w.substr(10,2),10),ze=parseInt(w.substr(12,2),10),$e=parseInt(w.substr(14,2),10);return new Date(P,ce,ge,we,ze,$e,0)},Y=v.__private__.setCreationDate=function(w){var P;if(w===void 0&&(w=new Date),w instanceof Date)P=fe(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=w}return ne=P},O=v.__private__.getCreationDate=function(w){var P=ne;return w==="jsDate"&&(P=_e(ne)),P};v.setCreationDate=function(w){return Y(w),this},v.getCreationDate=function(w){return O(w)};var q,J=v.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},se=v.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ue=0,me=[],de=[],xe=0,Ne=[],Ue=[],Ke=!1,it=de;v.__private__.setCustomOutputDestination=function(w){Ke=!0,it=w};var st=function(w){Ke||(it=w)};v.__private__.resetCustomOutputDestination=function(){Ke=!1,it=de};var H=v.__private__.out=function(w){return w=w.toString(),xe+=w.length+1,it.push(w),it},je=v.__private__.write=function(w){return H(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},at=v.__private__.getArrayBuffer=function(w){for(var P=w.length,ce=new ArrayBuffer(P),ge=new Uint8Array(ce);P--;)ge[P]=w.charCodeAt(P);return ce},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Xe};var Ce=r.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(w){return Ce=F===D?w/_t:w,this};var Qe,et=v.__private__.getFontSize=v.getFontSize=function(){return F===R?Ce:Ce*_t},ft=r.R2L||!1;v.__private__.setR2L=v.setR2L=function(w){return ft=w,this},v.__private__.getR2L=v.getR2L=function(){return ft};var dt,kt=v.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))Qe=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');Qe=w}else Qe=parseInt(w,10)};v.__private__.getZoomMode=function(){return Qe};var Xt,Dt=v.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');dt=w};v.__private__.getPageMode=function(){return dt};var De=v.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Xt=w};v.__private__.getLayoutMode=function(){return Xt},v.__private__.setDisplayMode=v.setDisplayMode=function(w,P,ce){return kt(w),De(P),Dt(ce),this};var ot={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(w){if(Object.keys(ot).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ot[w]},v.__private__.getDocumentProperties=function(){return ot},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(w){for(var P in ot)ot.hasOwnProperty(P)&&w[P]&&(ot[P]=w[P]);return this},v.__private__.setDocumentProperty=function(w,P){if(Object.keys(ot).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ot[w]=P};var ct,_t,mt,Ie,tt,nt={},pt={},wt=[],ut={},Zt={},vt={},bt={},Ht=null,rt=0,lt=[],Ot=new ky(v),Cn=r.hotfixes||[],Ee={},Ve={},We=[],Ze=function w(P,ce,ge,we,ze,$e){if(!(this instanceof w))return new w(P,ce,ge,we,ze,$e);isNaN(P)&&(P=1),isNaN(ce)&&(ce=0),isNaN(ge)&&(ge=0),isNaN(we)&&(we=1),isNaN(ze)&&(ze=0),isNaN($e)&&($e=0),this._matrix=[P,ce,ge,we,ze,$e]};Object.defineProperty(Ze.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Ze.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Ze.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Ze.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Ze.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Ze.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Ze.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Ze.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Ze.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Ze.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Ze.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Ze.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Ze.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ze.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ze.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ze.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ze.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(w)},Ze.prototype.multiply=function(w){var P=w.sx*this.sx+w.shy*this.shx,ce=w.sx*this.shy+w.shy*this.sy,ge=w.shx*this.sx+w.sy*this.shx,we=w.shx*this.shy+w.sy*this.sy,ze=w.tx*this.sx+w.ty*this.shx+this.tx,$e=w.tx*this.shy+w.ty*this.sy+this.ty;return new Ze(P,ce,ge,we,ze,$e)},Ze.prototype.decompose=function(){var w=this.sx,P=this.shy,ce=this.shx,ge=this.sy,we=this.tx,ze=this.ty,$e=Math.sqrt(w*w+P*P),Nt=(w/=$e)*ce+(P/=$e)*ge;ce-=w*Nt,ge-=P*Nt;var Lt=Math.sqrt(ce*ce+ge*ge);return Nt/=Lt,w*(ge/=Lt)<P*(ce/=Lt)&&(w=-w,P=-P,Nt=-Nt,$e=-$e),{scale:new Ze($e,0,0,Lt,0,0),translate:new Ze(1,0,0,1,we,ze),rotate:new Ze(w,P,-P,w,0,0),skew:new Ze(1,0,Nt,1,0,0)}},Ze.prototype.toString=function(w){return this.join(" ")},Ze.prototype.inversed=function(){var w=this.sx,P=this.shy,ce=this.shx,ge=this.sy,we=this.tx,ze=this.ty,$e=1/(w*ge-P*ce),Nt=ge*$e,Lt=-P*$e,Gt=-ce*$e,tn=w*$e;return new Ze(Nt,Lt,Gt,tn,-Nt*we-Gt*ze,-Lt*we-tn*ze)},Ze.prototype.applyToPoint=function(w){var P=w.x*this.sx+w.y*this.shx+this.tx,ce=w.x*this.shy+w.y*this.sy+this.ty;return new cs(P,ce)},Ze.prototype.applyToRectangle=function(w){var P=this.applyToPoint(w),ce=this.applyToPoint(new cs(w.x+w.w,w.y+w.h));return new wa(P.x,P.y,ce.x-P.x,ce.y-P.y)},Ze.prototype.clone=function(){var w=this.sx,P=this.shy,ce=this.shx,ge=this.sy,we=this.tx,ze=this.ty;return new Ze(w,P,ce,ge,we,ze)},v.Matrix=Ze;var gt=v.matrixMult=function(w,P){return P.multiply(w)},St=new Ze(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=St;var Mt=function(w,P){if(!Zt[w]){var ce=(P instanceof tu?"Sh":"P")+(Object.keys(ut).length+1).toString(10);P.id=ce,Zt[w]=ce,ut[ce]=P,Ot.publish("addPattern",P)}};v.ShadingPattern=tu,v.TilingPattern=yh,v.addShadingPattern=function(w,P){return V("addShadingPattern()"),Mt(w,P),this},v.beginTilingPattern=function(w){V("beginTilingPattern()"),Uo(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},v.endTilingPattern=function(w,P){V("endTilingPattern()"),P.stream=Ue[q].join(`
`),Mt(w,P),Ot.publish("endTilingPattern",P),We.pop().restore()};var $t,Bt=v.__private__.newObject=function(){var w=Yt();return en(w,!0),w},Yt=v.__private__.newObjectDeferred=function(){return ue++,me[ue]=function(){return xe},ue},en=function(w,P){return P=typeof P=="boolean"&&P,me[w]=xe,P&&H(w+" 0 obj"),w},Ar=v.__private__.newAdditionalObject=function(){var w={objId:Yt(),content:""};return Ne.push(w),w},qn=Yt(),pn=Yt(),Tn=v.__private__.decodeColorString=function(w){var P=w.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var ce=parseFloat(P[0]);P=[ce,ce,ce,"r"]}for(var ge="#",we=0;we<3;we++)ge+=("0"+Math.floor(255*parseFloat(P[we])).toString(16)).slice(-2);return ge},br=v.__private__.encodeColorString=function(w){var P;typeof w=="string"&&(w={ch1:w});var ce=w.ch1,ge=w.ch2,we=w.ch3,ze=w.ch4,$e=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var Nt=new q_(ce);if(Nt.ok)ce=Nt.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var Lt=parseInt(ce.substr(1),16);ce=Lt>>16&255,ge=Lt>>8&255,we=255&Lt}if(ge===void 0||ze===void 0&&ce===ge&&ge===we)P=typeof ce=="string"?ce+" "+$e[0]:w.precision===2?k(ce/255)+" "+$e[0]:I(ce/255)+" "+$e[0];else if(ze===void 0||Bn(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return["1.","1.","1.",$e[1]].join(" ");P=typeof ce=="string"?[ce,ge,we,$e[1]].join(" "):w.precision===2?[k(ce/255),k(ge/255),k(we/255),$e[1]].join(" "):[I(ce/255),I(ge/255),I(we/255),$e[1]].join(" ")}else P=typeof ce=="string"?[ce,ge,we,ze,$e[2]].join(" "):w.precision===2?[k(ce),k(ge),k(we),k(ze),$e[2]].join(" "):[I(ce),I(ge),I(we),I(ze),$e[2]].join(" ");return P},Hr=v.__private__.getFilters=function(){return h},Gr=v.__private__.putStream=function(w){var P=(w=w||{}).data||"",ce=w.filters||Hr(),ge=w.alreadyAppliedFilters||[],we=w.addLength1||!1,ze=P.length,$e=w.objectId,Nt=function(Vr){return Vr};if(m!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(Nt=Ir.encryptor($e,0));var Lt={};ce===!0&&(ce=["FlateEncode"]);var Gt=w.additionalKeyValues||[],tn=(Lt=Rt.API.processDataByFilters!==void 0?Rt.API.processDataByFilters(P,ce):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Lt.data.length!==0&&(Gt.push({key:"Length",value:Lt.data.length}),we===!0&&Gt.push({key:"Length1",value:ze})),tn.length!=0)if(tn.split("/").length-1==1)Gt.push({key:"Filter",value:tn});else{Gt.push({key:"Filter",value:"["+tn+"]"});for(var bn=0;bn<Gt.length;bn+=1)if(Gt[bn].key==="DecodeParms"){for(var rr=[],yr=0;yr<Lt.reverseChain.split("/").length-1;yr+=1)rr.push("null");rr.push(Gt[bn].value),Gt[bn].value="["+rr.join(" ")+"]"}}H("<<");for(var zn=0;zn<Gt.length;zn++)H("/"+Gt[zn].key+" "+Gt[zn].value);H(">>"),Lt.data.length!==0&&(H("stream"),H(Nt(Lt.data)),H("endstream"))},Qs=v.__private__.putPage=function(w){var P=w.number,ce=w.data,ge=w.objId,we=w.contentsObjId;en(ge,!0),H("<</Type /Page"),H("/Parent "+w.rootDictionaryObjId+" 0 R"),H("/Resources "+w.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(j(w.mediaBox.bottomLeftX))+" "+parseFloat(j(w.mediaBox.bottomLeftY))+" "+j(w.mediaBox.topRightX)+" "+j(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&H("/CropBox ["+j(w.cropBox.bottomLeftX)+" "+j(w.cropBox.bottomLeftY)+" "+j(w.cropBox.topRightX)+" "+j(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&H("/BleedBox ["+j(w.bleedBox.bottomLeftX)+" "+j(w.bleedBox.bottomLeftY)+" "+j(w.bleedBox.topRightX)+" "+j(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&H("/TrimBox ["+j(w.trimBox.bottomLeftX)+" "+j(w.trimBox.bottomLeftY)+" "+j(w.trimBox.topRightX)+" "+j(w.trimBox.topRightY)+"]"),w.artBox!==null&&H("/ArtBox ["+j(w.artBox.bottomLeftX)+" "+j(w.artBox.bottomLeftY)+" "+j(w.artBox.topRightX)+" "+j(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&H("/UserUnit "+w.userUnit),Ot.publish("putPage",{objId:ge,pageContext:lt[P],pageNumber:P,page:ce}),H("/Contents "+we+" 0 R"),H(">>"),H("endobj");var ze=ce.join(`
`);return F===D&&(ze+=`
Q`),en(we,!0),Gr({data:ze,filters:Hr(),objectId:we}),H("endobj"),ge},os=v.__private__.putPages=function(){var w,P,ce=[];for(w=1;w<=rt;w++)lt[w].objId=Yt(),lt[w].contentsObjId=Yt();for(w=1;w<=rt;w++)ce.push(Qs({number:w,data:Ue[w],objId:lt[w].objId,contentsObjId:lt[w].contentsObjId,mediaBox:lt[w].mediaBox,cropBox:lt[w].cropBox,bleedBox:lt[w].bleedBox,trimBox:lt[w].trimBox,artBox:lt[w].artBox,userUnit:lt[w].userUnit,rootDictionaryObjId:qn,resourceDictionaryObjId:pn}));en(qn,!0),H("<</Type /Pages");var ge="/Kids [";for(P=0;P<rt;P++)ge+=ce[P]+" 0 R ";H(ge+"]"),H("/Count "+rt),H(">>"),H("endobj"),Ot.publish("postPutPages")},Di=function(w){Ot.publish("putFont",{font:w,out:H,newObject:Bt,putStream:Gr}),w.isAlreadyPutted!==!0&&(w.objectNumber=Bt(),H("<<"),H("/Type /Font"),H("/BaseFont /"+dh(w.postScriptName)),H("/Subtype /Type1"),typeof w.encoding=="string"&&H("/Encoding /"+w.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},Os=function(w){w.objectNumber=Bt();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[j(w.x),j(w.y),j(w.x+w.width),j(w.y+w.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var ce=w.pages[1].join(`
`);Gr({data:ce,additionalKeyValues:P,objectId:w.objectNumber}),H("endobj")},Ri=function(w,P){P||(P=21);var ce=Bt(),ge=(function($e,Nt){var Lt,Gt=[],tn=1/(Nt-1);for(Lt=0;Lt<1;Lt+=tn)Gt.push(Lt);if(Gt.push(1),$e[0].offset!=0){var bn={offset:0,color:$e[0].color};$e.unshift(bn)}if($e[$e.length-1].offset!=1){var rr={offset:1,color:$e[$e.length-1].color};$e.push(rr)}for(var yr="",zn=0,Vr=0;Vr<Gt.length;Vr++){for(Lt=Gt[Vr];Lt>$e[zn+1].offset;)zn++;var Cr=$e[zn].offset,ni=(Lt-Cr)/($e[zn+1].offset-Cr),Ea=$e[zn].color,Is=$e[zn+1].color;yr+=se(Math.round((1-ni)*Ea[0]+ni*Is[0]).toString(16))+se(Math.round((1-ni)*Ea[1]+ni*Is[1]).toString(16))+se(Math.round((1-ni)*Ea[2]+ni*Is[2]).toString(16))}return yr.trim()})(w.colors,P),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+P+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gr({data:ge,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),H("endobj"),w.objectNumber=Bt(),H("<< /ShadingType "+w.type),H("/ColorSpace /DeviceRGB");var ze="/Coords ["+j(parseFloat(w.coords[0]))+" "+j(parseFloat(w.coords[1]))+" ";w.type===2?ze+=j(parseFloat(w.coords[2]))+" "+j(parseFloat(w.coords[3])):ze+=j(parseFloat(w.coords[2]))+" "+j(parseFloat(w.coords[3]))+" "+j(parseFloat(w.coords[4]))+" "+j(parseFloat(w.coords[5])),H(ze+="]"),w.matrix&&H("/Matrix ["+w.matrix.toString()+"]"),H("/Function "+ce+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},Yi=function(w,P){var ce=Yt(),ge=Bt();P.push({resourcesOid:ce,objectOid:ge}),w.objectNumber=ge;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+w.boundingBox.map(j).join(" ")+"]"}),we.push({key:"XStep",value:j(w.xStep)}),we.push({key:"YStep",value:j(w.yStep)}),we.push({key:"Resources",value:ce+" 0 R"}),w.matrix&&we.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),Gr({data:w.stream,additionalKeyValues:we,objectId:w.objectNumber}),H("endobj")},Js=function(w){for(var P in w.objectNumber=Bt(),H("<<"),w)switch(P){case"opacity":H("/ca "+k(w[P]));break;case"stroke-opacity":H("/CA "+k(w[P]))}H(">>"),H("endobj")},Wi=function(w){en(w.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var P in H("/Font <<"),nt)nt.hasOwnProperty(P)&&(y===!1||y===!0&&_.hasOwnProperty(P))&&H("/"+P+" "+nt[P].objectNumber+" 0 R");H(">>")})(),(function(){if(Object.keys(ut).length>0){for(var P in H("/Shading <<"),ut)ut.hasOwnProperty(P)&&ut[P]instanceof tu&&ut[P].objectNumber>=0&&H("/"+P+" "+ut[P].objectNumber+" 0 R");Ot.publish("putShadingPatternDict"),H(">>")}})(),(function(P){if(Object.keys(ut).length>0){for(var ce in H("/Pattern <<"),ut)ut.hasOwnProperty(ce)&&ut[ce]instanceof v.TilingPattern&&ut[ce].objectNumber>=0&&ut[ce].objectNumber<P&&H("/"+ce+" "+ut[ce].objectNumber+" 0 R");Ot.publish("putTilingPatternDict"),H(">>")}})(w.objectOid),(function(){if(Object.keys(vt).length>0){var P;for(P in H("/ExtGState <<"),vt)vt.hasOwnProperty(P)&&vt[P].objectNumber>=0&&H("/"+P+" "+vt[P].objectNumber+" 0 R");Ot.publish("putGStateDict"),H(">>")}})(),(function(){for(var P in H("/XObject <<"),Ee)Ee.hasOwnProperty(P)&&Ee[P].objectNumber>=0&&H("/"+P+" "+Ee[P].objectNumber+" 0 R");Ot.publish("putXobjectDict"),H(">>")})(),H(">>"),H("endobj")},nr=function(w){pt[w.fontName]=pt[w.fontName]||{},pt[w.fontName][w.fontStyle]=w.id},Fo=function(w,P,ce,ge,we){var ze={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:w,fontName:P,fontStyle:ce,encoding:ge,isStandardFont:we||!1,metadata:{}};return Ot.publish("addFont",{font:ze,instance:this}),nt[ze.id]=ze,nr(ze),ze.id},wi=v.__private__.pdfEscape=v.pdfEscape=function(w,P){return(function(ce,ge){var we,ze,$e,Nt,Lt,Gt,tn,bn,rr;if($e=(ge=ge||{}).sourceEncoding||"Unicode",Lt=ge.outputEncoding,(ge.autoencode||Lt)&&nt[ct].metadata&&nt[ct].metadata[$e]&&nt[ct].metadata[$e].encoding&&(Nt=nt[ct].metadata[$e].encoding,!Lt&&nt[ct].encoding&&(Lt=nt[ct].encoding),!Lt&&Nt.codePages&&(Lt=Nt.codePages[0]),typeof Lt=="string"&&(Lt=Nt[Lt]),Lt)){for(tn=!1,Gt=[],we=0,ze=ce.length;we<ze;we++)(bn=Lt[ce.charCodeAt(we)])?Gt.push(String.fromCharCode(bn)):Gt.push(ce[we]),Gt[we].charCodeAt(0)>>8&&(tn=!0);ce=Gt.join("")}for(we=ce.length;tn===void 0&&we!==0;)ce.charCodeAt(we-1)>>8&&(tn=!0),we--;if(!tn)return ce;for(Gt=ge.noBOM?[]:[254,255],we=0,ze=ce.length;we<ze;we++){if((rr=(bn=ce.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Gt.push(rr),Gt.push(bn-(rr<<8))}return String.fromCharCode.apply(void 0,Gt)})(w,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xi=v.__private__.beginPage=function(w){Ue[++rt]=[],lt[rt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},wc(rt),st(Ue[q])},Ls=function(w,P){var ce,ge,we;switch(t=P||t,typeof w=="string"&&(ce=T(w.toLowerCase()),Array.isArray(ce)&&(ge=ce[0],we=ce[1])),Array.isArray(w)&&(ge=w[0]*_t,we=w[1]*_t),isNaN(ge)&&(ge=a[0],we=a[1]),(ge>14400||we>14400)&&(Qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),we=Math.min(14400,we)),a=[ge,we],t.substr(0,1)){case"l":we>ge&&(a=[we,ge]);break;case"p":ge>we&&(a=[we,ge])}Xi(a),qt(qo),H(Ki),Cl!==0&&H(Cl+" J"),Yr!==0&&H(Yr+" j"),Ot.publish("addPage",{pageNumber:rt})},_c=function(w){w>0&&w<=rt&&(Ue.splice(w,1),lt.splice(w,1),rt--,q>rt&&(q=rt),this.setPage(q))},wc=function(w){w>0&&w<=rt&&(q=w)},Sc=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Ue.length-1},gu=function(w,P,ce){var ge,we=void 0;return ce=ce||{},w=w!==void 0?w:nt[ct].fontName,P=P!==void 0?P:nt[ct].fontStyle,ge=w.toLowerCase(),pt[ge]!==void 0&&pt[ge][P]!==void 0?we=pt[ge][P]:pt[w]!==void 0&&pt[w][P]!==void 0?we=pt[w][P]:ce.disableWarning===!1&&Qn.warn("Unable to look up font label for font '"+w+"', '"+P+"'. Refer to getFontList() for available fonts."),we||ce.noFallback||(we=pt.times[P])==null&&(we=pt.times.normal),we},Zi=v.__private__.putInfo=function(){var w=Bt(),P=function(ge){return ge};for(var ce in m!==null&&(P=Ir.encryptor(w,0)),H("<<"),H("/Producer ("+wi(P("jsPDF "+Rt.version))+")"),ot)ot.hasOwnProperty(ce)&&ot[ce]&&H("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+wi(P(ot[ce]))+")");H("/CreationDate ("+wi(P(ne))+")"),H(">>"),H("endobj")},xa=v.__private__.putCatalog=function(w){var P=(w=w||{}).rootDictionaryObjId||qn;switch(Bt(),H("<<"),H("/Type /Catalog"),H("/Pages "+P+" 0 R"),Qe||(Qe="fullwidth"),Qe){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+Qe;ce.substr(ce.length-1)==="%"&&(Qe=parseInt(Qe)/100),typeof Qe=="number"&&H("/OpenAction [3 0 R /XYZ null null "+k(Qe)+"]")}switch(Xt||(Xt="continuous"),Xt){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}dt&&H("/PageMode /"+dt),Ot.publish("putCatalog"),H(">>"),H("endobj")},js=v.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(ue+1)),H("/Root "+ue+" 0 R"),H("/Info "+(ue-1)+" 0 R"),m!==null&&H("/Encrypt "+Ir.oid+" 0 R"),H("/ID [ <"+K+"> <"+K+"> ]"),H(">>")},En=v.__private__.putHeader=function(){H("%PDF-"+S),H("%")},Ac=v.__private__.putXRef=function(){var w="0000000000";H("xref"),H("0 "+(ue+1)),H("0000000000 65535 f ");for(var P=1;P<=ue;P++)typeof me[P]=="function"?H((w+me[P]()).slice(-10)+" 00000 n "):me[P]!==void 0?H((w+me[P]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},ea=v.__private__.buildDocument=function(){var w;ue=0,xe=0,de=[],me=[],Ne=[],qn=Yt(),pn=Yt(),st(de),Ot.publish("buildDocument"),En(),os(),(function(){Ot.publish("putAdditionalObjects");for(var ce=0;ce<Ne.length;ce++){var ge=Ne[ce];en(ge.objId,!0),H(ge.content),H("endobj")}Ot.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var ce in nt)nt.hasOwnProperty(ce)&&(y===!1||y===!0&&_.hasOwnProperty(ce))&&Di(nt[ce])})(),(function(){var ce;for(ce in vt)vt.hasOwnProperty(ce)&&Js(vt[ce])})(),(function(){for(var ce in Ee)Ee.hasOwnProperty(ce)&&Os(Ee[ce])})(),(function(ce){var ge;for(ge in ut)ut.hasOwnProperty(ge)&&(ut[ge]instanceof tu?Ri(ut[ge]):ut[ge]instanceof yh&&Yi(ut[ge],ce))})(w),Ot.publish("putResources"),w.forEach(Wi),Wi({resourcesOid:pn,objectOid:Number.MAX_SAFE_INTEGER}),Ot.publish("postPutResources"),m!==null&&(Ir.oid=Bt(),H("<<"),H("/Filter /Standard"),H("/V "+Ir.v),H("/R "+Ir.r),H("/U <"+Ir.toHexString(Ir.U)+">"),H("/O <"+Ir.toHexString(Ir.O)+">"),H("/P "+Ir.P),H(">>"),H("endobj")),Zi(),xa();var P=xe;return Ac(),js(),H("startxref"),H(""+P),H("%%EOF"),st(Ue[q]),de.join(`
`)},lo=v.__private__.getBlob=function(w){return new Blob([at(w)],{type:"application/pdf"})},Nc=v.output=v.__private__.output=($t=function(w,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",w){case void 0:return ea();case"save":v.save(P.filename);break;case"arraybuffer":return at(ea());case"blob":return lo(ea());case"bloburi":case"bloburl":if(Qt.URL!==void 0&&typeof Qt.URL.createObjectURL=="function")return Qt.URL&&Qt.URL.createObjectURL(lo(ea()))||void 0;Qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",ge=ea();try{ce=Cy(ge)}catch{ce=Cy(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+P.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(we=P.pdfObjectUrl,ze="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",Nt=Qt.open();return Nt!==null&&Nt.document.write($e),Nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var Lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Gt=Qt.open();if(Gt!==null){Gt.document.write(Lt);var tn=this;Gt.document.documentElement.querySelector("#pdfViewer").onload=function(){Gt.document.title=P.filename,Gt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tn.output("bloburl"))}}return Gt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var bn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',rr=Qt.open();if(rr!==null&&(rr.document.write(bn),rr.document.title=P.filename),rr||typeof safari>"u")return rr;break;case"datauri":case"dataurl":return Qt.document.location.href=this.output("datauristring",P);default:return null}},$t.foo=function(){try{return $t.apply(this,arguments)}catch(ce){var w=ce.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var P="Error in function "+w.split(`
`)[0].split("<")[0]+": "+ce.message;if(!Qt.console)throw new Error(P);Qt.console.error(P,ce),Qt.alert&&alert(P)}},$t.foo.bar=$t,$t.foo),Si=function(w){return Array.isArray(Cn)===!0&&Cn.indexOf(w)>-1};switch(i){case"pt":_t=1;break;case"mm":_t=72/25.4;break;case"cm":_t=72/2.54;break;case"in":_t=72;break;case"px":_t=Si("px_scaling")==1?.75:96/72;break;case"pc":case"em":_t=12;break;case"ex":_t=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);_t=i}var Ir=null;Y(),ae();var Nr=v.__private__.getPageInfo=v.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[w].objId,pageNumber:w,pageContext:lt[w]}},Al=v.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in lt)if(lt[P].objId===w)break;return Nr(P)},vu=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:lt[q].objId,pageNumber:q,pageContext:lt[q]}};v.addPage=function(){return Ls.apply(this,arguments),this},v.setPage=function(){return wc.apply(this,arguments),st.call(this,Ue[q]),this},v.insertPage=function(w){return this.addPage(),this.movePage(q,w),this},v.movePage=function(w,P){var ce,ge;if(w>P){ce=Ue[w],ge=lt[w];for(var we=w;we>P;we--)Ue[we]=Ue[we-1],lt[we]=lt[we-1];Ue[P]=ce,lt[P]=ge,this.setPage(P)}else if(w<P){ce=Ue[w],ge=lt[w];for(var ze=w;ze<P;ze++)Ue[ze]=Ue[ze+1],lt[ze]=lt[ze+1];Ue[P]=ce,lt[P]=ge,this.setPage(P)}return this},v.deletePage=function(){return _c.apply(this,arguments),this},v.__private__.text=v.text=function(w,P,ce,ge,we){var ze,$e,Nt,Lt,Gt,tn,bn,rr,yr,zn=(ge=ge||{}).scope||this;if(typeof w=="number"&&typeof P=="number"&&(typeof ce=="string"||Array.isArray(ce))){var Vr=ce;ce=P,P=w,w=Vr}if(arguments[3]instanceof Ze==0?(Nt=arguments[4],Lt=arguments[5],Bn(bn=arguments[3])==="object"&&bn!==null||(typeof Nt=="string"&&(Lt=Nt,Nt=null),typeof bn=="string"&&(Lt=bn,bn=null),typeof bn=="number"&&(Nt=bn,bn=null),ge={flags:bn,angle:Nt,align:Lt})):(V("The transform parameter of text() with a Matrix value"),yr=we),isNaN(P)||isNaN(ce)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return zn;var Cr,ni="",Ea=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:_a,Is=zn.internal.scaleFactor;function ka(kn){return kn=kn.split("	").join(Array(ge.TabLen||9).join(" ")),wi(kn,bn)}function Dc(kn){for(var yn,Pn=kn.concat(),_r=[],ua=Pn.length;ua--;)typeof(yn=Pn.shift())=="string"?_r.push(yn):Array.isArray(kn)&&(yn.length===1||yn[1]===void 0&&yn[2]===void 0)?_r.push(yn[0]):_r.push([yn[0],yn[1],yn[2]]);return _r}function El(kn,yn){var Pn;if(typeof kn=="string")Pn=yn(kn)[0];else if(Array.isArray(kn)){for(var _r,ua,qs=kn.concat(),Wo=[],Vc=qs.length;Vc--;)typeof(_r=qs.shift())=="string"?Wo.push(yn(_r)[0]):Array.isArray(_r)&&typeof _r[0]=="string"&&(ua=yn(_r[0],_r[1],_r[2]),Wo.push([ua[0],ua[1],ua[2]]));Pn=Wo}return Pn}var ra=!1,Vs=!0;if(typeof w=="string")ra=!0;else if(Array.isArray(w)){var Go=w.concat();$e=[];for(var Ma,Wr=Go.length;Wr--;)(typeof(Ma=Go.shift())!="string"||Array.isArray(Ma)&&typeof Ma[0]!="string")&&(Vs=!1);ra=Vs}if(ra===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var uo=Ce/zn.internal.scaleFactor,ho=uo*(Ea-1);switch(ge.baseline){case"bottom":ce-=ho;break;case"top":ce+=uo-ho;break;case"hanging":ce+=uo-2*ho;break;case"middle":ce+=uo/2-ho}if((tn=ge.maxWidth||0)>0&&(typeof w=="string"?w=zn.splitTextToSize(w,tn):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(kn,yn){return kn.concat(zn.splitTextToSize(yn,tn))},[]))),ze={text:w,x:P,y:ce,options:ge,mutex:{pdfEscape:wi,activeFontKey:ct,fonts:nt,activeFontSize:Ce}},Ot.publish("preProcessText",ze),w=ze.text,Nt=(ge=ze.options).angle,yr instanceof Ze==0&&Nt&&typeof Nt=="number"){Nt*=Math.PI/180,ge.rotationDirection===0&&(Nt=-Nt),F===D&&(Nt=-Nt);var kl=Math.cos(Nt),ia=Math.sin(Nt);yr=new Ze(kl,ia,-ia,kl,0,0)}else Nt&&Nt instanceof Ze&&(yr=Nt);F!==D||yr||(yr=St),(Gt=ge.charSpace||ls)!==void 0&&(ni+=j(te(Gt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rr=ge.horizontalScale)!==void 0&&(ni+=j(100*rr)+` Tz
`),ge.lang;var Ni=-1,Oa=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,Ml=zn.internal.getCurrentPageInfo().pageContext;switch(Oa){case 0:case!1:case"fill":Ni=0;break;case 1:case!0:case"stroke":Ni=1;break;case 2:case"fillThenStroke":Ni=2;break;case 3:case"invisible":Ni=3;break;case 4:case"fillAndAddForClipping":Ni=4;break;case 5:case"strokeAndAddPathForClipping":Ni=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ni=6;break;case 7:case"addToPathForClipping":Ni=7}var Rc=Ml.usedRenderingMode!==void 0?Ml.usedRenderingMode:-1;Ni!==-1?ni+=Ni+` Tr
`:Rc!==-1&&(ni+=`0 Tr
`),Ni!==-1&&(Ml.usedRenderingMode=Ni),Lt=ge.align||"left";var Qi,Fs=Ce*Ea,La=zn.internal.pageSize.getWidth(),Ic=nt[ct];Gt=ge.charSpace||ls,tn=ge.maxWidth||0,bn=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var Bs=[],fo=function(kn){return zn.getStringUnitWidth(kn,{font:Ic,charSpace:Gt,fontSize:Ce,doKerning:!1})*Ce/Is};if(Object.prototype.toString.call(w)==="[object Array]"){var Vi;$e=Dc(w),Lt!=="left"&&(Qi=$e.map(fo));var Ci,sa=0;if(Lt==="right"){P-=Qi[0],w=[],Wr=$e.length;for(var aa=0;aa<Wr;aa++)aa===0?(Ci=$i(P),Vi=ti(ce)):(Ci=te(sa-Qi[aa]),Vi=-Fs),w.push([$e[aa],Ci,Vi]),sa=Qi[aa]}else if(Lt==="center"){P-=Qi[0]/2,w=[],Wr=$e.length;for(var ja=0;ja<Wr;ja++)ja===0?(Ci=$i(P),Vi=ti(ce)):(Ci=te((sa-Qi[ja])/2),Vi=-Fs),w.push([$e[ja],Ci,Vi]),sa=Qi[ja]}else if(Lt==="left"){w=[],Wr=$e.length;for(var Ol=0;Ol<Wr;Ol++)w.push($e[Ol])}else if(Lt==="justify"&&Ic.encoding==="Identity-H"){w=[],Wr=$e.length,tn=tn!==0?tn:La;for(var Ll=0,xr=0;xr<Wr;xr++)if(Vi=xr===0?ti(ce):-Fs,Ci=xr===0?$i(P):Ll,xr<Wr-1){var Cu=te((tn-Qi[xr])/($e[xr].split(" ").length-1)),oa=$e[xr].split(" ");w.push([oa[0]+" ",Ci,Vi]),Ll=0;for(var la=1;la<oa.length;la++){var ri=(fo(oa[la-1]+" "+oa[la])-fo(oa[la]))*Is+Cu;la==oa.length-1?w.push([oa[la],ri,0]):w.push([oa[la]+" ",ri,0]),Ll-=ri}}else w.push([$e[xr],Ci,Vi]);w.push(["",Ll,0])}else{if(Lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],Wr=$e.length,tn=tn!==0?tn:La,xr=0;xr<Wr;xr++){Vi=xr===0?ti(ce):-Fs,Ci=xr===0?$i(P):0;var Da=$e[xr].split(" ").length-1,jl=Da>0?(tn-Qi[xr])/Da:0;xr<Wr-1?Bs.push(j(te(jl))):Bs.push(0),w.push([$e[xr],Ci,Vi])}}}(typeof ge.R2L=="boolean"?ge.R2L:ft)===!0&&(w=El(w,function(kn,yn,Pn){return[kn.split("").reverse().join(""),yn,Pn]})),ze={text:w,x:P,y:ce,options:ge,mutex:{pdfEscape:wi,activeFontKey:ct,fonts:nt,activeFontSize:Ce}},Ot.publish("postProcessText",ze),w=ze.text,Cr=ze.mutex.isHex||!1;var Dl=nt[ct].encoding;Dl!=="WinAnsiEncoding"&&Dl!=="StandardEncoding"||(w=El(w,function(kn,yn,Pn){return[ka(kn),yn,Pn]})),$e=Dc(w),w=[];for(var Ra,Ia,ca,Yo=Array.isArray($e[0])?1:0,Ji="",Va=function(kn,yn,Pn){var _r="";return Pn instanceof Ze?(Pn=typeof ge.angle=="number"?gt(Pn,new Ze(1,0,0,1,kn,yn)):gt(new Ze(1,0,0,1,kn,yn),Pn),F===D&&(Pn=gt(new Ze(1,0,0,-1,0,0),Pn)),_r=Pn.join(" ")+` Tm
`):_r=j(kn)+" "+j(yn)+` Td
`,_r},fi=0;fi<$e.length;fi++){switch(Ji="",Yo){case 1:ca=(Cr?"<":"(")+$e[fi][0]+(Cr?">":")"),Ra=parseFloat($e[fi][1]),Ia=parseFloat($e[fi][2]);break;case 0:ca=(Cr?"<":"(")+$e[fi]+(Cr?">":")"),Ra=$i(P),Ia=ti(ce)}Bs!==void 0&&Bs[fi]!==void 0&&(Ji=Bs[fi]+` Tw
`),fi===0?w.push(Ji+Va(Ra,Ia,yr)+ca):Yo===0?w.push(Ji+ca):Yo===1&&w.push(Ji+Va(Ra,Ia,yr)+ca)}w=Yo===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var us=`BT
/`;return us+=ct+" "+Ce+` Tf
`,us+=j(Ce*Ea)+` TL
`,us+=ta+`
`,us+=ni,us+=w,H(us+="ET"),_[ct]=!0,zn};var Cc=v.__private__.clip=v.clip=function(w){return H(w==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return Cc("evenodd")},v.__private__.discardPath=v.discardPath=function(){return H("n"),this};var Ai=v.__private__.isValidStyle=function(w){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(P=!0),P};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(w){return Ai(w)&&(d=w),this};var Tc=v.__private__.getStyle=v.getStyle=function(w){var P=d;switch(w){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=w}return P},Ec=v.close=function(){return H("h"),this};v.stroke=function(){return H("S"),this},v.fill=function(w){return Ds("f",w),this},v.fillEvenOdd=function(w){return Ds("f*",w),this},v.fillStroke=function(w){return Ds("B",w),this},v.fillStrokeEvenOdd=function(w){return Ds("B*",w),this};var Ds=function(w,P){Bn(P)==="object"?yu(P,w):H(w)},Bo=function(w){w===null||F===D&&w===void 0||(w=Tc(w),H(w))};function bu(w,P,ce,ge,we){var ze=new yh(P||this.boundingBox,ce||this.xStep,ge||this.yStep,this.gState,we||this.matrix);ze.stream=this.stream;var $e=w+"$$"+this.cloneIndex+++"$$";return Mt($e,ze),ze}var yu=function(w,P){var ce=Zt[w.key],ge=ut[ce];if(ge instanceof tu)H("q"),H(kc(P)),ge.gState&&v.setGState(ge.gState),H(w.matrix.toString()+" cm"),H("/"+ce+" sh"),H("Q");else if(ge instanceof yh){var we=new Ze(1,0,0,-1,0,Ta());w.matrix&&(we=we.multiply(w.matrix||St),ce=bu.call(ge,w.key,w.boundingBox,w.xStep,w.yStep,we).id),H("q"),H("/Pattern cs"),H("/"+ce+" scn"),ge.gState&&v.setGState(ge.gState),H(P),H("Q")}},kc=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Mc=v.moveTo=function(w,P){return H(j(te(w))+" "+j($(P))+" m"),this},xu=v.lineTo=function(w,P){return H(j(te(w))+" "+j($(P))+" l"),this},Ii=v.curveTo=function(w,P,ce,ge,we,ze){return H([j(te(w)),j($(P)),j(te(ce)),j($(ge)),j(te(we)),j($(ze)),"c"].join(" ")),this};v.__private__.line=v.line=function(w,P,ce,ge,we){if(isNaN(w)||isNaN(P)||isNaN(ce)||isNaN(ge)||!Ai(we))throw new Error("Invalid arguments passed to jsPDF.line");return F===R?this.lines([[ce-w,ge-P]],w,P,[1,1],we||"S"):this.lines([[ce-w,ge-P]],w,P,[1,1]).stroke()},v.__private__.lines=v.lines=function(w,P,ce,ge,we,ze){var $e,Nt,Lt,Gt,tn,bn,rr,yr,zn,Vr,Cr,ni;if(typeof w=="number"&&(ni=ce,ce=P,P=w,w=ni),ge=ge||[1,1],ze=ze||!1,isNaN(P)||isNaN(ce)||!Array.isArray(w)||!Array.isArray(ge)||!Ai(we)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Mc(P,ce),$e=ge[0],Nt=ge[1],Gt=w.length,Vr=P,Cr=ce,Lt=0;Lt<Gt;Lt++)(tn=w[Lt]).length===2?(Vr=tn[0]*$e+Vr,Cr=tn[1]*Nt+Cr,xu(Vr,Cr)):(bn=tn[0]*$e+Vr,rr=tn[1]*Nt+Cr,yr=tn[2]*$e+Vr,zn=tn[3]*Nt+Cr,Vr=tn[4]*$e+Vr,Cr=tn[5]*Nt+Cr,Ii(bn,rr,yr,zn,Vr,Cr));return ze&&Ec(),Bo(we),this},v.path=function(w){for(var P=0;P<w.length;P++){var ce=w[P],ge=ce.c;switch(ce.op){case"m":Mc(ge[0],ge[1]);break;case"l":xu(ge[0],ge[1]);break;case"c":Ii.apply(this,ge);break;case"h":Ec()}}return this},v.__private__.rect=v.rect=function(w,P,ce,ge,we){if(isNaN(w)||isNaN(P)||isNaN(ce)||isNaN(ge)||!Ai(we))throw new Error("Invalid arguments passed to jsPDF.rect");return F===R&&(ge=-ge),H([j(te(w)),j($(P)),j(te(ce)),j(te(ge)),"re"].join(" ")),Bo(we),this},v.__private__.triangle=v.triangle=function(w,P,ce,ge,we,ze,$e){if(isNaN(w)||isNaN(P)||isNaN(ce)||isNaN(ge)||isNaN(we)||isNaN(ze)||!Ai($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-w,ge-P],[we-ce,ze-ge],[w-we,P-ze]],w,P,[1,1],$e,!0),this},v.__private__.roundedRect=v.roundedRect=function(w,P,ce,ge,we,ze,$e){if(isNaN(w)||isNaN(P)||isNaN(ce)||isNaN(ge)||isNaN(we)||isNaN(ze)||!Ai($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Nt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*ce),ze=Math.min(ze,.5*ge),this.lines([[ce-2*we,0],[we*Nt,0,we,ze-ze*Nt,we,ze],[0,ge-2*ze],[0,ze*Nt,-we*Nt,ze,-we,ze],[2*we-ce,0],[-we*Nt,0,-we,-ze*Nt,-we,-ze],[0,2*ze-ge],[0,-ze*Nt,we*Nt,-ze,we,-ze]],w+we,P,[1,1],$e,!0),this},v.__private__.ellipse=v.ellipse=function(w,P,ce,ge,we){if(isNaN(w)||isNaN(P)||isNaN(ce)||isNaN(ge)||!Ai(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*ce,$e=4/3*(Math.SQRT2-1)*ge;return Mc(w+ce,P),Ii(w+ce,P-$e,w+ze,P-ge,w,P-ge),Ii(w-ze,P-ge,w-ce,P-$e,w-ce,P),Ii(w-ce,P+$e,w-ze,P+ge,w,P+ge),Ii(w+ze,P+ge,w+ce,P+$e,w+ce,P),Bo(we),this},v.__private__.circle=v.circle=function(w,P,ce,ge){if(isNaN(w)||isNaN(P)||isNaN(ce)||!Ai(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,P,ce,ce,ge)},v.setFont=function(w,P,ce){return ce&&(P=z(P,ce)),ct=gu(w,P,{disableWarning:!1}),this};var Rs=v.__private__.getFont=v.getFont=function(){return nt[gu.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var w,P,ce={};for(w in pt)if(pt.hasOwnProperty(w))for(P in ce[w]=[],pt[w])pt[w].hasOwnProperty(P)&&ce[w].push(P);return ce},v.addFont=function(w,P,ce,ge,we){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(ce=z(ce,ge)),Fo.call(this,w,P,ce,we=we||"Identity-H")};var _a,qo=r.lineWidth||.200025,co=v.__private__.getLineWidth=v.getLineWidth=function(){return qo},qt=v.__private__.setLineWidth=v.setLineWidth=function(w){return qo=w,H(j(te(w))+" w"),this};v.__private__.setLineDash=Rt.API.setLineDash=Rt.API.setLineDashPattern=function(w,P){if(w=w||[],P=P||0,isNaN(P)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(ce){return j(te(ce))}).join(" "),P=j(te(P)),H("["+w+"] "+P+" d"),this};var _u=v.__private__.getLineHeight=v.getLineHeight=function(){return Ce*_a};v.__private__.getLineHeight=v.getLineHeight=function(){return Ce*_a};var Oc=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(_a=w),this},wu=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return _a};Oc(r.lineHeight);var $i=v.__private__.getHorizontalCoordinate=function(w){return te(w)},ti=v.__private__.getVerticalCoordinate=function(w){return F===D?w:lt[q].mediaBox.topRightY-lt[q].mediaBox.bottomLeftY-te(w)},Lc=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(w){return j($i(w))},zo=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(w){return j(ti(w))},Ki=r.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return Tn(Ki)},v.__private__.setStrokeColor=v.setDrawColor=function(w,P,ce,ge){return Ki=br({ch1:w,ch2:P,ch3:ce,ch4:ge,pdfColorType:"draw",precision:2}),H(Ki),this};var Po=r.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return Tn(Po)},v.__private__.setFillColor=v.setFillColor=function(w,P,ce,ge){return Po=br({ch1:w,ch2:P,ch3:ce,ch4:ge,pdfColorType:"fill",precision:2}),H(Po),this};var ta=r.textColor||"0 g",Su=v.__private__.getTextColor=v.getTextColor=function(){return Tn(ta)};v.__private__.setTextColor=v.setTextColor=function(w,P,ce,ge){return ta=br({ch1:w,ch2:P,ch3:ce,ch4:ge,pdfColorType:"text",precision:3}),this};var ls=r.charSpace,Nl=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(ls||0)};v.__private__.setCharSpace=v.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ls=w,this};var Cl=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(w){var P=v.CapJoinStyles[w];if(P===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cl=P,H(P+" J"),this};var Yr=0;v.__private__.setLineJoin=v.setLineJoin=function(w){var P=v.CapJoinStyles[w];if(P===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yr=P,H(P+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(j(te(w))+" M"),this},v.GState=fp,v.setGState=function(w){(w=typeof w=="string"?vt[bt[w]]:na(null,w)).equals(Ht)||(H("/"+w.id+" gs"),Ht=w)};var na=function(w,P){if(!w||!bt[w]){var ce=!1;for(var ge in vt)if(vt.hasOwnProperty(ge)&&vt[ge].equals(P)){ce=!0;break}if(ce)P=vt[ge];else{var we="GS"+(Object.keys(vt).length+1).toString(10);vt[we]=P,P.id=we}return w&&(bt[w]=P.id),Ot.publish("addGState",P),P}};v.addGState=function(w,P){return na(w,P),this},v.saveGraphicsState=function(){return H("q"),wt.push({key:ct,size:Ce,color:ta}),this},v.restoreGraphicsState=function(){H("Q");var w=wt.pop();return ct=w.key,Ce=w.size,ta=w.color,Ht=null,this},v.setCurrentTransformationMatrix=function(w){return H(w.toString()+" cm"),this},v.comment=function(w){return H("#"+w),this};var cs=function(w,P){var ce=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(ze){isNaN(ze)||(ce=parseFloat(ze))}});var ge=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(ze){isNaN(ze)||(ge=parseFloat(ze))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(ze){we=ze.toString()}}),this},wa=function(w,P,ce,ge){cs.call(this,w,P),this.type="rect";var we=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function($e){isNaN($e)||(we=parseFloat($e))}});var ze=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function($e){isNaN($e)||(ze=parseFloat($e))}}),this},Tl=function(){this.page=rt,this.currentPage=q,this.pages=Ue.slice(0),this.pagesContext=lt.slice(0),this.x=mt,this.y=Ie,this.matrix=tt,this.width=Aa(q),this.height=jc(q),this.outputDestination=it,this.id="",this.objectNumber=-1};Tl.prototype.restore=function(){rt=this.page,q=this.currentPage,lt=this.pagesContext,Ue=this.pages,mt=this.x,Ie=this.y,tt=this.matrix,Ho(q,this.width),Na(q,this.height),it=this.outputDestination};var Uo=function(w,P,ce,ge,we){We.push(new Tl),rt=q=0,Ue=[],mt=w,Ie=P,tt=we,Xi([ce,ge])};for(var Sa in v.beginFormObject=function(w,P,ce,ge,we){return Uo(w,P,ce,ge,we),this},v.endFormObject=function(w){return(function(P){if(Ve[P])We.pop().restore();else{var ce=new Tl,ge="Xo"+(Object.keys(Ee).length+1).toString(10);ce.id=ge,Ve[P]=ge,Ee[ge]=ce,Ot.publish("addFormObject",ce),We.pop().restore()}})(w),this},v.doFormObject=function(w,P){var ce=Ee[Ve[w]];return H("q"),H(P.toString()+" cm"),H("/"+ce.id+" Do"),H("Q"),this},v.getFormObject=function(w){var P=Ee[Ve[w]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},v.save=function(w,P){return w=w||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(Jc(lo(ea()),w),typeof Jc.unload=="function"&&Qt.setTimeout&&setTimeout(Jc.unload,911),this):new Promise(function(ce,ge){try{var we=Jc(lo(ea()),w);typeof Jc.unload=="function"&&Qt.setTimeout&&setTimeout(Jc.unload,911),ce(we)}catch(ze){ge(ze.message)}})},Rt.API)Rt.API.hasOwnProperty(Sa)&&(Sa==="events"&&Rt.API.events.length?(function(w,P){var ce,ge,we;for(we=P.length-1;we!==-1;we--)ce=P[we][0],ge=P[we][1],w.subscribe.apply(w,[ce].concat(typeof ge=="function"?[ge]:ge))})(Ot,Rt.API.events):v[Sa]=Rt.API[Sa]);function Aa(w){return lt[w].mediaBox.topRightX-lt[w].mediaBox.bottomLeftX}function Ho(w,P){lt[w].mediaBox.topRightX=P+lt[w].mediaBox.bottomLeftX}function jc(w){return lt[w].mediaBox.topRightY-lt[w].mediaBox.bottomLeftY}function Na(w,P){lt[w].mediaBox.topRightY=P+lt[w].mediaBox.bottomLeftY}var Ca=v.getPageWidth=function(w){return Aa(w=w||q)/_t},Au=v.setPageWidth=function(w,P){Ho(w,P*_t)},Ta=v.getPageHeight=function(w){return jc(w=w||q)/_t},Nu=v.setPageHeight=function(w,P){Na(w,P*_t)};return v.internal={pdfEscape:wi,getStyle:Tc,getFont:Rs,getFontSize:et,getCharSpace:Nl,getTextColor:Su,getLineHeight:_u,getLineHeightFactor:wu,getLineWidth:co,write:je,getHorizontalCoordinate:$i,getVerticalCoordinate:ti,getCoordinateString:Lc,getVerticalCoordinateString:zo,collections:{},newObject:Bt,newAdditionalObject:Ar,newObjectDeferred:Yt,newObjectDeferredBegin:en,getFilters:Hr,putStream:Gr,events:Ot,scaleFactor:_t,pageSize:{getWidth:function(){return Ca(q)},setWidth:function(w){Au(q,w)},getHeight:function(){return Ta(q)},setHeight:function(w){Nu(q,w)}},encryptionOptions:m,encryption:Ir,getEncryptor:function(w){return m!==null?Ir.encryptor(w,0):function(P){return P}},output:Nc,getNumberOfPages:Sc,get pages(){return Ue},out:H,f2:k,f3:I,getPageInfo:Nr,getPageInfoByObjId:Al,getCurrentPageInfo:vu,getPDFVersion:N,Point:cs,Rectangle:wa,Matrix:Ze,hasHotfix:Si},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return Ca(q)},set:function(w){Au(q,w)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return Ta(q)},set:function(w){Nu(q,w)},enumerable:!0,configurable:!0}),(function(w){for(var P=0,ce=Xe.length;P<ce;P++){var ge=Fo.call(this,w[P][0],w[P][1],w[P][2],Xe[P][3],!0);y===!1&&(_[ge]=!0);var we=w[P][0].split("-");nr({id:ge,fontName:we[0],fontStyle:we[1]||""})}Ot.publish("addFonts",{fonts:nt,dictionary:pt})}).call(v,Xe),ct="F1",Ls(a,t),Ot.publish("initialized"),v}fh.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},fh.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fh.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},fh.prototype.processOwnerPassword=function(r,e){return ag(sg(e).substr(0,5),r)},fh.prototype.encryptor=function(r,e){var t=sg(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return ag(t,i)}},fp.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Bn(r)!==Bn(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;i++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Rt.API={events:[]},Rt.version="3.0.4";var jr=Rt.API,f2=1,mu=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lh=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},sn=function(r){return r.toFixed(2)},ac=function(r){return r.toFixed(5)};jr.__acroform__={};var Ms=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},My=function(r){return r*f2},Mo=function(r){var e=new H_,t=Et.internal.getHeight(r)||0,i=Et.internal.getWidth(r)||0;return e.BBox=[0,0,Number(sn(i)),Number(sn(t))],e},aO=jr.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},oO=jr.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},lO=jr.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},qr=jr.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lO(r,e-1)},zr=jr.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return aO(r,e-1)},Pr=jr.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return oO(r,e-1)},cO=jr.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,a=r[0],o=r[1],h=r[2],c=r[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=i(o+c)||0,f.upperRight_X=t(a+h)||0,f.upperRight_Y=i(o)||0,[Number(sn(f.lowerLeft_X)),Number(sn(f.lowerLeft_Y)),Number(sn(f.upperRight_X)),Number(sn(f.upperRight_Y))]},uO=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,i=og(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+sn(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Mo(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},og=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,i={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var o=t,h=Et.internal.getHeight(r)||0;h=h<0?-h:h;var c=Et.internal.getWidth(r)||0;c=c<0?-c:c;var f=function(k,I,te){if(k+1<a.length){var $=I+" "+a[k+1][0];return N1($,r,te).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,m,y=N1("3",r,o).height,_=r.multiline?h-o:(h-y)/2,v=_+=2,S=0,N=0,C=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+N1(e,r,o=12).width+", FieldWidth:"+c+`
`;break}for(var T="",R=0,D=0;D<a.length;D++)if(a.hasOwnProperty(D)){var F=!1;if(a[D].length!==1&&C!==a[D].length-1){if((y+2)*(R+2)+2>h)continue e;T+=a[D][C],F=!0,N=D,D--}else{T=(T+=a[D][C]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var B=parseInt(D),G=f(B,T,o),z=D>=a.length-1;if(G&&!z){T+=" ",C=0;continue}if(G||z){if(z)N=B;else if(r.multiline&&(y+2)*(R+2)+2>h)continue e}else{if(!r.multiline||(y+2)*(R+2)+2>h)continue e;N=B}}for(var j="",V=S;V<=N;V++){var Z=a[V];if(r.multiline){if(V===N){j+=Z[C]+" ",C=(C+1)%Z.length;continue}if(V===S){j+=Z[Z.length-1]+" ";continue}}j+=Z[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,m=N1(j,r,o).width,r.textAlign){case"right":d=c-m-2;break;case"center":d=(c-m)/2;break;default:d=2}e+=sn(d)+" "+sn(v)+` Td
`,e+="("+mu(j)+`) Tj
`,e+=-sn(d)+` 0 Td
`,v=-(o+2),m=0,S=F?N:N+1,R++,T=""}break}return i.text=e,i.fontSize=o,i},N1=function(r,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},hO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},fO=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},dO=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ao.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(hO)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");f2=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new G_,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];o.objId=void 0,o.hasAnnotation&&fO(o,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(i,a){var o=!i;for(var h in i||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(h)){var c=i[h],f=[],d=c.Rect;if(c.Rect&&(c.Rect=cO(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Et.createDefaultAppearanceStream(c),Bn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=uO(c);f.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var y="";for(var _ in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(_)){var v=c.appearanceStreamContent[_];if(y+="/"+_+" ",y+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var h in v)if(v.hasOwnProperty(h)){var S=v[h];typeof S=="function"&&(S=S.call(a,c)),y+="/"+h+" "+S+" ",a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S)}}else typeof(S=v)=="function"&&(S=S.call(a,c)),y+="/"+h+" "+S,a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S);y+=">>"}f.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(N,C){for(var T in N)if(N.hasOwnProperty(T)){var R=T,D=N[T];C.internal.newObjectDeferredBegin(D.objId,!0),Bn(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete N[R]}})(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},U_=jr.__acroform__.arrayToPdfArray=function(r,e,t){var i=function(h){return h};if(Array.isArray(r)){for(var a="[",o=0;o<r.length;o++)switch(o!==0&&(a+=" "),Bn(r[o])){case"boolean":case"number":case"object":a+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),a+="("+mu(i(r[o].toString()))+")"):a+=r[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Tm=function(r,e,t){var i=function(a){return a};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+mu(i(r))+")"},Oo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Oo.prototype.toString=function(){return this.objId+" 0 R"},Oo.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Oo.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],a=this[i];a&&(Array.isArray(a)?r.push({key:i,value:U_(a,this.objId,this.scope)}):a instanceof Oo?(a.scope=this.scope,r.push({key:i,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:i,value:a}))}return r};var H_=function(){Oo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Ms(H_,Oo);var G_=function(){Oo.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+mu(t(r))+")"}},set:function(t){r=t}})};Ms(G_,Oo);var ao=function r(){Oo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qr(e,3)},set:function(T){T?this.F=zr(e,3):this.F=Pr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');t=T}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(T){i=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(T){i[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(T){i[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(T){i[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(T){i[3]=T}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof dp)return;o="FieldObject"+r.FieldNum++}var T=function(R){return R};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+mu(T(o))+")"},set:function(T){o=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(T){o=T}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(T){h=T}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(T){c=T}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(T){f=T}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/f2:d},set:function(T){d=T}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(T){m=T}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof dp||this instanceof au))return Tm(y,this.objId,this.scope)},set:function(T){T=T.toString(),y=T}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof xi==0?Tm(_,this.objId,this.scope):_},set:function(T){T=T.toString(),_=this instanceof xi==0?T.substr(0,1)==="("?lh(T.substr(1,T.length-2)):lh(T):T}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xi==1?lh(_.substr(1,_.length-1)):_},set:function(T){T=T.toString(),_=this instanceof xi==1?"/"+T:T}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof xi==0?Tm(v,this.objId,this.scope):v},set:function(T){T=T.toString(),v=this instanceof xi==0?T.substr(0,1)==="("?lh(T.substr(1,T.length-2)):lh(T):T}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xi==1?lh(v.substr(1,v.length-1)):v},set:function(T){T=T.toString(),v=this instanceof xi==1?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(T){T=!!T,N=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(T){S=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,1)},set:function(T){T?this.Ff=zr(this.Ff,1):this.Ff=Pr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,2)},set:function(T){T?this.Ff=zr(this.Ff,2):this.Ff=Pr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,3)},set:function(T){T?this.Ff=zr(this.Ff,3):this.Ff=Pr(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');C=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(C){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:C=2;break;case"center":case 1:C=1;break;default:C=0}}})};Ms(ao,Oo);var Sh=function(){ao.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return U_(e,this.objId,this.scope)},set:function(t){var i,a;a=[],typeof(i=t)=="string"&&(a=(function(o,h,c){c||(c=1);for(var f,d=[];f=h.exec(o);)d.push(f[c]);return d})(i,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,18)},set:function(t){t?this.Ff=zr(this.Ff,18):this.Ff=Pr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=zr(this.Ff,19):this.Ff=Pr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,20)},set:function(t){t?(this.Ff=zr(this.Ff,20),e.sort()):this.Ff=Pr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,22)},set:function(t){t?this.Ff=zr(this.Ff,22):this.Ff=Pr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,23)},set:function(t){t?this.Ff=zr(this.Ff,23):this.Ff=Pr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,27)},set:function(t){t?this.Ff=zr(this.Ff,27):this.Ff=Pr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ms(Sh,ao);var Ah=function(){Sh.call(this),this.fontName="helvetica",this.combo=!1};Ms(Ah,Sh);var Nh=function(){Ah.call(this),this.combo=!0};Ms(Nh,Ah);var I1=function(){Nh.call(this),this.edit=!0};Ms(I1,Nh);var xi=function(){ao.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,15)},set:function(t){t?this.Ff=zr(this.Ff,15):this.Ff=Pr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,16)},set:function(t){t?this.Ff=zr(this.Ff,16):this.Ff=Pr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,17)},set:function(t){t?this.Ff=zr(this.Ff,17):this.Ff=Pr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,26)},set:function(t){t?this.Ff=zr(this.Ff,26):this.Ff=Pr(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,a=[];for(i in a.push("<<"),e)a.push("/"+i+" ("+mu(t(e[i]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Bn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Ms(xi,ao);var V1=function(){xi.call(this),this.pushButton=!0};Ms(V1,xi);var Ch=function(){xi.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Ms(Ch,xi);var dp=function(){var r,e;ao.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,h=[];for(o in h.push("<<"),i)h.push("/"+o+" ("+mu(a(i[o]))+")");return h.push(">>"),h.join(`
`)},set:function(a){Bn(a)==="object"&&(i=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(a){typeof a=="string"&&(i.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ms(dp,ao),Ch.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Ch.prototype.createOption=function(r){var e=new dp;return e.Parent=this,e.optionName=r,this.Kids.push(e),pO.call(this.scope,e),e};var F1=function(){xi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Et.CheckBox.createAppearanceStream()};Ms(F1,xi);var au=function(){ao.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,13)},set:function(e){e?this.Ff=zr(this.Ff,13):this.Ff=Pr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,21)},set:function(e){e?this.Ff=zr(this.Ff,21):this.Ff=Pr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,23)},set:function(e){e?this.Ff=zr(this.Ff,23):this.Ff=Pr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,24)},set:function(e){e?this.Ff=zr(this.Ff,24):this.Ff=Pr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,25)},set:function(e){e?this.Ff=zr(this.Ff,25):this.Ff=Pr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,26)},set:function(e){e?this.Ff=zr(this.Ff,26):this.Ff=Pr(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ms(au,ao);var B1=function(){au.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,14)},set:function(r){r?this.Ff=zr(this.Ff,14):this.Ff=Pr(this.Ff,14)}}),this.password=!0};Ms(B1,au);var Et={CheckBox:{createAppearanceStream:function(){return{N:{On:Et.CheckBox.YesNormal},D:{On:Et.CheckBox.YesPushDown,Off:Et.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=[],i=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),o=og(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+sn(Et.internal.getWidth(r))+" "+sn(Et.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+sn(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Mo(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),a=[],o=Et.internal.getHeight(r),h=Et.internal.getWidth(r),c=og(r,r.caption);return a.push("1 g"),a.push("0 0 "+sn(h)+" "+sn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+sn(h-1)+" "+sn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+sn(c.fontSize)+" Tf "+i),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+sn(Et.internal.getWidth(r))+" "+sn(Et.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Et.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Et.RadioButton.Circle.YesNormal,e.D[r]=Et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Mo(r);e.scope=r.scope;var t=[],i=Et.internal.getWidth(r)<=Et.internal.getHeight(r)?Et.internal.getWidth(r)/4:Et.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var a=Et.internal.Bezier_C,o=Number((i*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ac(Et.internal.getWidth(r)/2)+" "+ac(Et.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=[],i=Et.internal.getWidth(r)<=Et.internal.getHeight(r)?Et.internal.getWidth(r)/4:Et.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*Et.internal.Bezier_C).toFixed(5)),h=Number((i*Et.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ac(Et.internal.getWidth(r)/2)+" "+ac(Et.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ac(Et.internal.getWidth(r)/2)+" "+ac(Et.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+h+" "+h+" "+i+" 0 "+i+" c"),t.push("-"+h+" "+i+" -"+i+" "+h+" -"+i+" 0 c"),t.push("-"+i+" -"+h+" -"+h+" -"+i+" 0 -"+i+" c"),t.push(h+" -"+i+" "+i+" -"+h+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=[],i=Et.internal.getWidth(r)<=Et.internal.getHeight(r)?Et.internal.getWidth(r)/4:Et.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*Et.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ac(Et.internal.getWidth(r)/2)+" "+ac(Et.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Et.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Et.RadioButton.Cross.YesNormal,e.D[r]=Et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Mo(r);e.scope=r.scope;var t=[],i=Et.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+sn(Et.internal.getWidth(r)-2)+" "+sn(Et.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(sn(i.x1.x)+" "+sn(i.x1.y)+" m"),t.push(sn(i.x2.x)+" "+sn(i.x2.y)+" l"),t.push(sn(i.x4.x)+" "+sn(i.x4.y)+" m"),t.push(sn(i.x3.x)+" "+sn(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=Et.internal.calculateCross(r),i=[];return i.push("0.749023 g"),i.push("0 0 "+sn(Et.internal.getWidth(r))+" "+sn(Et.internal.getHeight(r))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+sn(Et.internal.getWidth(r)-2)+" "+sn(Et.internal.getHeight(r)-2)+" re"),i.push("W"),i.push("n"),i.push(sn(t.x1.x)+" "+sn(t.x1.y)+" m"),i.push(sn(t.x2.x)+" "+sn(t.x2.y)+" l"),i.push(sn(t.x4.x)+" "+sn(t.x4.y)+" m"),i.push(sn(t.x3.x)+" "+sn(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+sn(Et.internal.getWidth(r))+" "+sn(Et.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Et.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Et.internal.getWidth(r),t=Et.internal.getHeight(r),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},Et.internal.getWidth=function(r){var e=0;return Bn(r)==="object"&&(e=My(r.Rect[2])),e},Et.internal.getHeight=function(r){var e=0;return Bn(r)==="object"&&(e=My(r.Rect[3])),e};var pO=jr.addField=function(r){if(dO(this,r),!(r instanceof ao))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};jr.AcroFormChoiceField=Sh,jr.AcroFormListBox=Ah,jr.AcroFormComboBox=Nh,jr.AcroFormEditBox=I1,jr.AcroFormButton=xi,jr.AcroFormPushButton=V1,jr.AcroFormRadioButton=Ch,jr.AcroFormCheckBox=F1,jr.AcroFormTextField=au,jr.AcroFormPasswordField=B1,jr.AcroFormAppearance=Et,jr.AcroForm={ChoiceField:Sh,ListBox:Ah,ComboBox:Nh,EditBox:I1,Button:xi,PushButton:V1,RadioButton:Ch,CheckBox:F1,TextField:au,PasswordField:B1,Appearance:Et},Rt.AcroForm={ChoiceField:Sh,ListBox:Ah,ComboBox:Nh,EditBox:I1,Button:xi,PushButton:V1,RadioButton:Ch,CheckBox:F1,TextField:au,PasswordField:B1,Appearance:Et};Rt.AcroForm;function Y_(r){return r.reduce(function(e,t,i){return e[t]=i,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(k,I){var te,$,ne,K,re,ae=t;if((I=I||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(G(k))for(re in i)for(ne=i[re],te=0;te<ne.length;te+=1){for(K=!0,$=0;$<ne[te].length;$+=1)if(ne[te][$]!==void 0&&ne[te][$]!==k[$]){K=!1;break}if(K===!0){ae=re;break}}else for(re in i)for(ne=i[re],te=0;te<ne.length;te+=1){for(K=!0,$=0;$<ne[te].length;$+=1)if(ne[te][$]!==void 0&&ne[te][$]!==k.charCodeAt($)){K=!1;break}if(K===!0){ae=re;break}}return ae===t&&I!==t&&(ae=I),ae},o=function k(I){for(var te=this.internal.write,$=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:I.width}),K.push({key:"Height",value:I.height}),I.colorSpace===T.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===T.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var re="",ae=0,fe=I.transparency.length;ae<fe;ae++)re+=I.transparency[ae]+" "+I.transparency[ae]+" ";K.push({key:"Mask",value:"["+re+"]"})}I.sMask!==void 0&&K.push({key:"SMask",value:I.objectId+1+" 0 R"});var _e=I.filter!==void 0?["/"+I.filter]:void 0;if($({data:I.data,additionalKeyValues:K,alreadyAppliedFilters:_e,objectId:I.objectId}),te("endobj"),"sMask"in I&&I.sMask!==void 0){var Y,O=(Y=I.sMaskBitsPerComponent)!==null&&Y!==void 0?Y:I.bitsPerComponent,q={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:I.sMask};"filter"in I&&(q.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(I.width),q.filter=I.filter),k.call(this,q)}if(I.colorSpace===T.INDEXED){var J=this.internal.newObject();$({data:j(new Uint8Array(I.palette)),objectId:J}),te("endobj")}},h=function(){var k=this.internal.collections[e+"images"];for(var I in k)o.call(this,k[I])},c=function(){var k,I=this.internal.collections[e+"images"],te=this.internal.write;for(var $ in I)te("/I"+(k=I[$]).index,k.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var k=this.internal.collections[e+"images"];return f.call(this),k},m=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(k){return typeof r["process"+k.toUpperCase()]=="function"},_=function(k){return Bn(k)==="object"&&k.nodeType===1},v=function(k,I){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var te=""+k.getAttribute("src");if(te.indexOf("data:image/")===0)return R1(unescape(te).split("base64,").pop());var $=r.loadFile(te,!0);if($!==void 0)return $}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var ne;switch(I){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;default:ne="image/jpeg"}return R1(k.toDataURL(ne,1).split("base64,").pop())}},S=function(k){var I=this.internal.collections[e+"images"];if(I){for(var te in I)if(k===I[te].alias)return I[te]}},N=function(k,I,te){return k||I||(k=-96,I=-96),k<0&&(k=-1*te.width*72/k/this.internal.scaleFactor),I<0&&(I=-1*te.height*72/I/this.internal.scaleFactor),k===0&&(k=I*te.width/te.height),I===0&&(I=k*te.height/te.width),[k,I]},C=function(k,I,te,$,ne,K){var re=N.call(this,te,$,ne),ae=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,_e=d.call(this);if(te=re[0],$=re[1],_e[ne.index]=ne,K){K*=Math.PI/180;var Y=Math.cos(K),O=Math.sin(K),q=function(se){return se.toFixed(4)},J=[q(Y),q(O),q(-1*O),q(Y),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,ae(k),fe(I+$),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ae(te),"0","0",ae($),"0","0","cm"].join(" "))):this.internal.write([ae(te),"0","0",ae($),ae(k),fe(I+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},T=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=r.__addimage__.sHashCode=function(k){var I,te,$=0;if(typeof k=="string")for(te=k.length,I=0;I<te;I++)$=($<<5)-$+k.charCodeAt(I),$|=0;else if(G(k))for(te=k.byteLength/2,I=0;I<te;I++)$=($<<5)-$+k[I],$|=0;return $},F=r.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var I=!0;return k.length===0&&(I=!1),k.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(I=!1),I},B=r.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var I=k.indexOf(",");return I<0?null:k.substring(0,I).trim().endsWith("base64")?k.substring(I+1):null};r.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var G=r.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},z=r.__addimage__.binaryStringToUint8Array=function(k){for(var I=k.length,te=new Uint8Array(I),$=0;$<I;$++)te[$]=k.charCodeAt($);return te},j=r.__addimage__.arrayBufferToBinaryString=function(k){for(var I="",te=G(k)?k:new Uint8Array(k),$=0;$<te.length;$+=8192)I+=String.fromCharCode.apply(null,te.subarray($,$+8192));return I};r.addImage=function(){var k,I,te,$,ne,K,re,ae,fe;if(typeof arguments[1]=="number"?(I=t,te=arguments[1],$=arguments[2],ne=arguments[3],K=arguments[4],re=arguments[5],ae=arguments[6],fe=arguments[7]):(I=arguments[1],te=arguments[2],$=arguments[3],ne=arguments[4],K=arguments[5],re=arguments[6],ae=arguments[7],fe=arguments[8]),Bn(k=arguments[0])==="object"&&!_(k)&&"imageData"in k){var _e=k;k=_e.imageData,I=_e.format||I||t,te=_e.x||te||0,$=_e.y||$||0,ne=_e.w||_e.width||ne,K=_e.h||_e.height||K,re=_e.alias||re,ae=_e.compression||ae,fe=_e.rotation||_e.angle||fe}var Y=this.internal.getFilters();if(ae===void 0&&Y.indexOf("FlateEncode")!==-1&&(ae="SLOW"),isNaN(te)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var O=V.call(this,k,I,re,ae);return C.call(this,te,$,ne,K,O,fe),this};var V=function(k,I,te,$){var ne,K,re;if(typeof k=="string"&&a(k)===t){k=unescape(k);var ae=Z(k,!1);(ae!==""||(ae=r.loadFile(k,!0))!==void 0)&&(k=ae)}if(_(k)&&(k=v(k,I)),I=a(k,I),!y(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((re=te)==null||re.length===0)&&(te=(function(fe){return typeof fe=="string"||G(fe)?D(fe):G(fe.data)?D(fe.data):null})(k)),(ne=S.call(this,te))||(k instanceof Uint8Array||I==="RGBA"||(K=k,k=z(k)),ne=this["process"+I.toUpperCase()](k,m.call(this),te,(function(fe){return fe&&typeof fe=="string"&&(fe=fe.toUpperCase()),fe in r.image_compression?fe:R.NONE})($),K)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},Z=r.__addimage__.convertBase64ToBinaryString=function(k,I){I=typeof I!="boolean"||I;var te,$="";if(typeof k=="string"){var ne;te=(ne=B(k))!==null&&ne!==void 0?ne:k;try{$=R1(te)}catch(K){if(I)throw F(te)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};r.getImageProperties=function(k){var I,te,$="";if(_(k)&&(k=v(k)),typeof k=="string"&&a(k)===t&&(($=Z(k,!1))===""&&($=r.loadFile(k)||""),k=$),te=a(k),!y(te))throw new Error("addImage does not support files of type '"+te+"', please ensure that a plugin for '"+te+"' support is added.");if(k instanceof Uint8Array||(k=z(k)),!(I=this["process"+te.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=te,I}})(Rt.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Rt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var i,a,o,h=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,m=!1,y=0;y<d.length&&!m;y++)switch((i=d[y]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var _=0;_<d.length;_++){i=d[_];var v=this.internal.pdfEscape,S=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(N.objId),R=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+h(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+h(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+v(T(i.contents))+")",o+=" /Popup "+C.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+v(T(R))+") >>",N.content=o;var D=N.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+h(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+h(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+D,i.open&&(o+=" /Open true"),o+=" >>",C.content=o,this.internal.write(N.objId,"0 R",C.objId,"0 R");break;case"freetext":a="/Rect ["+h(i.bounds.x)+" "+c(i.bounds.y)+" "+h(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var F=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+v(S(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var B=this.annotations._nameMap[i.options.name];i.options.pageNumber=B.page,i.options.top=B.y}else i.options.top||(i.options.top=0);if(a="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+v(S(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var G=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+G+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},r.link=function(t,i,a,o,h){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(i),w:f(t+a),h:d(i+o)},options:h,type:"link"})},r.textWithLink=function(t,i,a,o){var h,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var m=this.splitTextToSize(t,c).length;h=Math.ceil(d*m)}else c=f,h=d;return this.text(t,i,a,o),a+=.2*d,o.align==="center"&&(i-=f/2),o.align==="right"&&(i-=f),this.link(i,a-d,c,h,o),f},r.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}})(Rt.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},h=r.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},c=r.__arabicParser__.isArabicEndLetter=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length<=2},f=r.__arabicParser__.isArabicAlfLetter=function(N){return h(N)&&a.indexOf(N.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length>=3};var m=r.__arabicParser__.arabicLetterHasMedialForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length==4},y=r.__arabicParser__.resolveLigatures=function(N){var C=0,T=t,R="",D=0;for(C=0;C<N.length;C+=1)T[N.charCodeAt(C)]!==void 0?(D++,typeof(T=T[N.charCodeAt(C)])=="number"&&(R+=String.fromCharCode(T),T=t,D=0),C===N.length-1&&(T=t,R+=N.charAt(C-(D-1)),C-=D-1,D=0)):(T=t,R+=N.charAt(C-D),C-=D,D=0);return R};r.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&i[N.charCodeAt(0)]!==void 0};var _=r.__arabicParser__.getCorrectForm=function(N,C,T){return h(N)?o(N)===!1?-1:!d(N)||!h(C)&&!h(T)||!h(T)&&c(C)||c(N)&&!h(C)||c(N)&&f(C)||c(N)&&c(C)?0:m(N)&&h(C)&&!c(C)&&h(T)&&d(T)?3:c(N)||!h(T)?1:2:-1},v=function(N){var C=0,T=0,R=0,D="",F="",B="",G=(N=N||"").split("\\s+"),z=[];for(C=0;C<G.length;C+=1){for(z.push(""),T=0;T<G[C].length;T+=1)D=G[C][T],F=G[C][T-1],B=G[C][T+1],h(D)?(R=_(D,F,B),z[C]+=R!==-1?String.fromCharCode(e[D.charCodeAt(0)][R]):D):z[C]+=D;z[C]=y(z[C])}return z.join(" ")},S=r.__arabicParser__.processArabic=r.processArabic=function(){var N,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(C)){var R=0;for(T=[],R=0;R<C.length;R+=1)Array.isArray(C[R])?T.push([v(C[R][0]),C[R][1],C[R][2]]):T.push([v(C[R])]);N=T}else N=v(C);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};r.events.push(["preProcessText",S])})(Rt.API),Rt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var h={};Object.defineProperty(this,"style",{get:function(){return h},set:function(c){h=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var a;if((t=t||"2d")!=="2d")return null;for(a in i)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=i[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Rt.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(N){_=N}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(N){v=N}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(N){S=N}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},r.getTextDimensions=function(f,d){i.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),_=d.scaleFactor||this.internal.scaleFactor,v=0,S=0,N=0,C=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var T=d.maxWidth;T>0?typeof f=="string"?f=this.splitTextToSize(f,T):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(D,F){return D.concat(C.splitTextToSize(F,T))},[])):f=Array.isArray(f)?f:[f];for(var R=0;R<f.length;R++)v<(N=this.getStringUnitWidth(f[R],{font:y})*m)&&(v=N);return v!==0&&(S=f.length),{w:v/=_,h:Math.max((S*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/_,0)}},r.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var h=r.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=y.top,v&&_&&(this.printHeaderRow(f.lineNumber,!0),f.y+=_[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-m,f.y+m,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+m,{align:"center",baseline:"top",maxWidth:f.width-m-m}):this.text(f.text,f.x+m,f.y+m,{align:"left",baseline:"top",maxWidth:f.width-m-m})),this.internal.__cell__.lastCell=f,this};r.table=function(f,d,m,y,_){if(i.call(this),!m)throw new Error("No data for PDF table.");var v,S,N,C,T=[],R=[],D=[],F={},B={},G=[],z=[],j=(_=_||{}).autoSize||!1,V=_.printHeaders!==!1,Z=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,k=_.margins||Object.assign({width:this.getPageWidth()},e),I=typeof _.padding=="number"?_.padding:3,te=_.headerBackgroundColor||"#c8c8c8",$=_.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=te,this.internal.__cell__.headerTextColor=$,this.setFontSize(Z),y==null)R=T=Object.keys(m[0]),D=T.map(function(){return"left"});else if(Array.isArray(y)&&Bn(y[0])==="object")for(T=y.map(function(_e){return _e.name}),R=y.map(function(_e){return _e.prompt||_e.name||""}),D=y.map(function(_e){return _e.align||"left"}),v=0;v<y.length;v+=1)B[y[v].name]=.7499990551181103*y[v].width;else Array.isArray(y)&&typeof y[0]=="string"&&(R=T=y,D=T.map(function(){return"left"}));if(j||Array.isArray(y)&&typeof y[0]=="string")for(v=0;v<T.length;v+=1){for(F[C=T[v]]=m.map(function(_e){return _e[C]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(R[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=F[C],this.setFont(void 0,"normal"),N=0;N<S.length;N+=1)G.push(this.getTextDimensions(S[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[C]=Math.max.apply(null,G)+I+I,G=[]}if(V){var ne={};for(v=0;v<T.length;v+=1)ne[T[v]]={},ne[T[v]].text=R[v],ne[T[v]].align=D[v];var K=c.call(this,ne,B);z=T.map(function(_e){return new o(f,d,B[_e],K,ne[_e].text,void 0,ne[_e].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var re=y.reduce(function(_e,Y){return _e[Y.name]=Y.align,_e},{});for(v=0;v<m.length;v+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:v,data:m[v]},this);var ae=c.call(this,m[v],B);for(N=0;N<T.length;N+=1){var fe=m[v][T[N]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:v,col:N,data:fe},this),h.call(this,new o(f,d,B[T[N]],ae,fe,v+2,re[T[N]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var m=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(f).map(function(v){var S=f[v];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,d[v]-m-m)},this).map(function(v){return this.getLineHeightFactor()*v.length*y/_+m+m},this).reduce(function(v,S){return Math.max(v,S)},0)};r.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},r.printHeaderRow=function(f,d){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){m=this.internal.__cell__.tableHeaderRow[v].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,_.push(m)),m.lineNumber=f;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),h.call(this,m),this.setTextColor(S)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}})(Rt.API);var W_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},X_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],lg=Y_(X_),Z_=[100,200,300,400,500,600,700,800,900],mO=Y_(Z_);function Em(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return W_[o=o||"normal"]?o:"normal"})(r.style),i=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(r.weight),a=(function(o){return typeof lg[o=o||"normal"]=="number"?o:"normal"})(r.stretch);return{family:e,style:t,weight:i,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,i].join(" ")}}}function Oy(r,e,t,i){var a;for(a=t;a>=0&&a<e.length;a+=i)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=i)if(r[e[a]])return r[e[a]]}var gO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ly={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function jy(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Dy(r){return r.trimLeft()}function vO(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function bO(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var C1,Ry,Iy,ch,T1,Vy,Fy,By,km=["times"];function qy(r,e,t,i,a){var o=4,h=Py;switch(a){case Rt.API.image_compression.FAST:o=1,h=zy;break;case Rt.API.image_compression.MEDIUM:o=6,h=Uy;break;case Rt.API.image_compression.SLOW:o=9,h=Hy}r=(function(f,d,m,y){for(var _,v=f.length/d,S=new Uint8Array(f.length+v),N=[yO,zy,Py,Uy,Hy],C=0;C<v;C+=1){var T=C*d,R=f.subarray(T,T+d);if(y)S.set(y(R,m,_),T+C);else{for(var D=N.length,F=[],B=0;B<D;B+=1)F[B]=N[B](R,m,_);var G=_O(F.concat());S.set(F[G],T+C)}_=R}return S})(r,e,Math.ceil(t*i/8),h);var c=tg(r,{level:o});return Rt.API.__addimage__.arrayBufferToBinaryString(c)}function yO(r){var e=Array.apply([],r);return e.unshift(0),e}function zy(r,e){var t=r.length,i=[];i[0]=1;for(var a=0;a<t;a+=1){var o=r[a-e]||0;i[a+1]=r[a]-o+256&255}return i}function Py(r,e,t){var i=r.length,a=[];a[0]=2;for(var o=0;o<i;o+=1){var h=t&&t[o]||0;a[o+1]=r[o]-h+256&255}return a}function Uy(r,e,t){var i=r.length,a=[];a[0]=3;for(var o=0;o<i;o+=1){var h=r[o-e]||0,c=t&&t[o]||0;a[o+1]=r[o]+256-(h+c>>>1)&255}return a}function Hy(r,e,t){var i=r.length,a=[];a[0]=4;for(var o=0;o<i;o+=1){var h=xO(r[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=r[o]-h+256&255}return a}function xO(r,e,t){if(r===e&&e===t)return r;var i=Math.abs(e-t),a=Math.abs(r-t),o=Math.abs(r+e-t-t);return i<=a&&i<=o?r:a<=o?e:t}function _O(r){var e=r.map(function(t){return t.reduce(function(i,a){return i+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Mm(r,e,t){var i=e*t,a=Math.floor(i/8),o=16-(i-8*a+t),h=(1<<t)-1;return $_(r,a)>>o&h}function Gy(r,e,t,i){var a=t*i,o=Math.floor(a/8),h=16-(a-8*o+i),c=(1<<i)-1,f=(e&c)<<h;(function(d,m,y){if(m+1<d.byteLength)d.setUint16(m,y,!1);else{var _=y>>8&255;d.setUint8(m,_)}})(r,o,$_(r,o)&~(c<<h)&65535|f)}function $_(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function wO(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,i=r[e++]|r[e++]<<8,a=r[e++],o=a>>7,h=1<<1+(7&a);r[e++],r[e++];var c=null,f=null;o&&(c=e,f=h,e+=3*h);var d=!0,m=[],y=0,_=null,v=0,S=null;for(this.width=t,this.height=i;d&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,S=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((k=r[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=r[e++];y=r[e++]|r[e++]<<8,_=r[e++],1&N||(_=null),v=N>>2&7,e++;break;case 254:for(;;){if(!((k=r[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var C=r[e++]|r[e++]<<8,T=r[e++]|r[e++]<<8,R=r[e++]|r[e++]<<8,D=r[e++]|r[e++]<<8,F=r[e++],B=F>>6&1,G=1<<1+(7&F),z=c,j=f,V=!1;F>>7&&(V=!0,z=e,j=G,e+=3*G);var Z=e;for(e++;;){var k;if(!((k=r[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}m.push({x:C,y:T,width:R,height:D,has_local_palette:V,palette_offset:z,palette_size:j,data_offset:Z,data_length:e-Z,transparent_index:_,interlaced:!!B,delay:y,disposal:v});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return S},this.frameInfo=function(I){if(I<0||I>=m.length)throw new Error("Frame index out of range.");return m[I]},this.decodeAndBlitFrameBGRA=function(I,te){var $=this.frameInfo(I),ne=$.width*$.height,K=new Uint8Array(ne);Yy(r,$.data_offset,K,ne);var re=$.palette_offset,ae=$.transparent_index;ae===null&&(ae=256);var fe=$.width,_e=t-fe,Y=fe,O=4*($.y*t+$.x),q=4*(($.y+$.height)*t+$.x),J=O,se=4*_e;$.interlaced===!0&&(se+=4*t*7);for(var ue=8,me=0,de=K.length;me<de;++me){var xe=K[me];if(Y===0&&(Y=fe,(J+=se)>=q&&(se=4*_e+4*t*(ue-1),J=O+(fe+_e)*(ue<<1),ue>>=1)),xe===ae)J+=4;else{var Ne=r[re+3*xe],Ue=r[re+3*xe+1],Ke=r[re+3*xe+2];te[J++]=Ke,te[J++]=Ue,te[J++]=Ne,te[J++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(I,te){var $=this.frameInfo(I),ne=$.width*$.height,K=new Uint8Array(ne);Yy(r,$.data_offset,K,ne);var re=$.palette_offset,ae=$.transparent_index;ae===null&&(ae=256);var fe=$.width,_e=t-fe,Y=fe,O=4*($.y*t+$.x),q=4*(($.y+$.height)*t+$.x),J=O,se=4*_e;$.interlaced===!0&&(se+=4*t*7);for(var ue=8,me=0,de=K.length;me<de;++me){var xe=K[me];if(Y===0&&(Y=fe,(J+=se)>=q&&(se=4*_e+4*t*(ue-1),J=O+(fe+_e)*(ue<<1),ue>>=1)),xe===ae)J+=4;else{var Ne=r[re+3*xe],Ue=r[re+3*xe+1],Ke=r[re+3*xe+2];te[J++]=Ne,te[J++]=Ue,te[J++]=Ke,te[J++]=255}--Y}}}function Yy(r,e,t,i){for(var a=r[e++],o=1<<a,h=o+1,c=h+1,f=a+1,d=(1<<f)-1,m=0,y=0,_=0,v=r[e++],S=new Int32Array(4096),N=null;;){for(;m<16&&v!==0;)y|=r[e++]<<m,m+=8,v===1?v=r[e++]:--v;if(m<f)break;var C=y&d;if(y>>=f,m-=f,C!==o){if(C===h)break;for(var T=C<c?C:N,R=0,D=T;D>o;)D=S[D]>>8,++R;var F=D;if(_+R+(T!==C?1:0)>i)return void Qn.log("Warning, gif stream longer than expected.");t[_++]=F;var B=_+=R;for(T!==C&&(t[_++]=F),D=T;R--;)D=S[D],t[--B]=255&D,D>>=8;N!==null&&c<4096&&(S[c++]=N<<8|F,c>=d+1&&f<12&&(++f,d=d<<1|1)),N=C}else c=h+1,d=(1<<(f=a+1))-1,N=null}return _!==i&&Qn.log("Warning, gif stream shorter than expected."),t}function Om(r){var e,t,i,a,o,h=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),m=new Array(64),y=new Array(65535),_=new Array(65535),v=new Array(64),S=new Array(64),N=[],C=0,T=7,R=new Array(64),D=new Array(64),F=new Array(64),B=new Array(256),G=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(O,q){for(var J=0,se=0,ue=new Array,me=1;me<=16;me++){for(var de=1;de<=O[me];de++)ue[q[se]]=[],ue[q[se]][0]=J,ue[q[se]][1]=me,se++,J++;J*=2}return ue}function re(O){for(var q=O[0],J=O[1]-1;J>=0;)q&1<<J&&(C|=1<<T),J--,--T<0&&(C==255?(ae(255),ae(0)):ae(C),T=7,C=0)}function ae(O){N.push(O)}function fe(O){ae(O>>8&255),ae(255&O)}function _e(O,q,J,se,ue){for(var me,de=ue[0],xe=ue[240],Ne=(function(Ce,Qe){var et,ft,dt,kt,Xt,Dt,De,ot,ct,_t,mt=0;for(ct=0;ct<8;++ct){et=Ce[mt],ft=Ce[mt+1],dt=Ce[mt+2],kt=Ce[mt+3],Xt=Ce[mt+4],Dt=Ce[mt+5],De=Ce[mt+6];var Ie=et+(ot=Ce[mt+7]),tt=et-ot,nt=ft+De,pt=ft-De,wt=dt+Dt,ut=dt-Dt,Zt=kt+Xt,vt=kt-Xt,bt=Ie+Zt,Ht=Ie-Zt,rt=nt+wt,lt=nt-wt;Ce[mt]=bt+rt,Ce[mt+4]=bt-rt;var Ot=.707106781*(lt+Ht);Ce[mt+2]=Ht+Ot,Ce[mt+6]=Ht-Ot;var Cn=.382683433*((bt=vt+ut)-(lt=pt+tt)),Ee=.5411961*bt+Cn,Ve=1.306562965*lt+Cn,We=.707106781*(rt=ut+pt),Ze=tt+We,gt=tt-We;Ce[mt+5]=gt+Ee,Ce[mt+3]=gt-Ee,Ce[mt+1]=Ze+Ve,Ce[mt+7]=Ze-Ve,mt+=8}for(mt=0,ct=0;ct<8;++ct){et=Ce[mt],ft=Ce[mt+8],dt=Ce[mt+16],kt=Ce[mt+24],Xt=Ce[mt+32],Dt=Ce[mt+40],De=Ce[mt+48];var St=et+(ot=Ce[mt+56]),Mt=et-ot,$t=ft+De,Bt=ft-De,Yt=dt+Dt,en=dt-Dt,Ar=kt+Xt,qn=kt-Xt,pn=St+Ar,Tn=St-Ar,br=$t+Yt,Hr=$t-Yt;Ce[mt]=pn+br,Ce[mt+32]=pn-br;var Gr=.707106781*(Hr+Tn);Ce[mt+16]=Tn+Gr,Ce[mt+48]=Tn-Gr;var Qs=.382683433*((pn=qn+en)-(Hr=Bt+Mt)),os=.5411961*pn+Qs,Di=1.306562965*Hr+Qs,Os=.707106781*(br=en+Bt),Ri=Mt+Os,Yi=Mt-Os;Ce[mt+40]=Yi+os,Ce[mt+24]=Yi-os,Ce[mt+8]=Ri+Di,Ce[mt+56]=Ri-Di,mt++}for(ct=0;ct<64;++ct)_t=Ce[ct]*Qe[ct],v[ct]=_t>0?_t+.5|0:_t-.5|0;return v})(O,q),Ue=0;Ue<64;++Ue)S[z[Ue]]=Ne[Ue];var Ke=S[0]-J;J=S[0],Ke==0?re(se[0]):(re(se[_[me=32767+Ke]]),re(y[me]));for(var it=63;it>0&&S[it]==0;)it--;if(it==0)return re(de),J;for(var st,H=1;H<=it;){for(var je=H;S[H]==0&&H<=it;)++H;var at=H-je;if(at>=16){st=at>>4;for(var Xe=1;Xe<=st;++Xe)re(xe);at&=15}me=32767+S[H],re(ue[(at<<4)+_[me]]),re(y[me]),H++}return it!=63&&re(de),J}function Y(O){O=Math.min(Math.max(O,1),100),o!=O&&((function(q){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var ue=h((J[se]*q+50)/100);ue=Math.min(Math.max(ue,1),255),c[z[se]]=ue}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var xe=h((me[de]*q+50)/100);xe=Math.min(Math.max(xe,1),255),f[z[de]]=xe}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ue=0,Ke=0;Ke<8;Ke++)for(var it=0;it<8;it++)d[Ue]=1/(c[z[Ue]]*Ne[Ke]*Ne[it]*8),m[Ue]=1/(f[z[Ue]]*Ne[Ke]*Ne[it]*8),Ue++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),o=O)}this.encode=function(O,q){q&&Y(q),N=new Array,C=0,T=7,fe(65496),fe(65504),fe(16),ae(74),ae(70),ae(73),ae(70),ae(0),ae(1),ae(1),ae(0),fe(1),fe(1),ae(0),ae(0),(function(){fe(65499),fe(132),ae(0);for(var ft=0;ft<64;ft++)ae(c[ft]);ae(1);for(var dt=0;dt<64;dt++)ae(f[dt])})(),(function(ft,dt){fe(65472),fe(17),ae(8),fe(dt),fe(ft),ae(3),ae(1),ae(17),ae(0),ae(2),ae(17),ae(1),ae(3),ae(17),ae(1)})(O.width,O.height),(function(){fe(65476),fe(418),ae(0);for(var ft=0;ft<16;ft++)ae(j[ft+1]);for(var dt=0;dt<=11;dt++)ae(V[dt]);ae(16);for(var kt=0;kt<16;kt++)ae(Z[kt+1]);for(var Xt=0;Xt<=161;Xt++)ae(k[Xt]);ae(1);for(var Dt=0;Dt<16;Dt++)ae(I[Dt+1]);for(var De=0;De<=11;De++)ae(te[De]);ae(17);for(var ot=0;ot<16;ot++)ae($[ot+1]);for(var ct=0;ct<=161;ct++)ae(ne[ct])})(),fe(65498),fe(12),ae(3),ae(1),ae(0),ae(2),ae(17),ae(3),ae(17),ae(0),ae(63),ae(0);var J=0,se=0,ue=0;C=0,T=7,this.encode.displayName="_encode_";for(var me,de,xe,Ne,Ue,Ke,it,st,H,je=O.data,at=O.width,Xe=O.height,Ce=4*at,Qe=0;Qe<Xe;){for(me=0;me<Ce;){for(Ue=Ce*Qe+me,it=-1,st=0,H=0;H<64;H++)Ke=Ue+(st=H>>3)*Ce+(it=4*(7&H)),Qe+st>=Xe&&(Ke-=Ce*(Qe+1+st-Xe)),me+it>=Ce&&(Ke-=me+it-Ce+4),de=je[Ke++],xe=je[Ke++],Ne=je[Ke++],R[H]=(G[de]+G[xe+256|0]+G[Ne+512|0]>>16)-128,D[H]=(G[de+768|0]+G[xe+1024|0]+G[Ne+1280|0]>>16)-128,F[H]=(G[de+1280|0]+G[xe+1536|0]+G[Ne+1792|0]>>16)-128;J=_e(R,d,J,e,i),se=_e(D,m,se,t,a),ue=_e(F,m,ue,t,a),me+=32}Qe+=8}if(T>=0){var et=[];et[1]=T+1,et[0]=(1<<T+1)-1,re(et)}return fe(65497),new Uint8Array(N)},r=r||50,(function(){for(var O=String.fromCharCode,q=0;q<256;q++)B[q]=O(q)})(),e=K(j,V),t=K(I,te),i=K(Z,k),a=K($,ne),(function(){for(var O=1,q=2,J=1;J<=15;J++){for(var se=O;se<q;se++)_[32767+se]=J,y[32767+se]=[],y[32767+se][1]=J,y[32767+se][0]=se;for(var ue=-(q-1);ue<=-O;ue++)_[32767+ue]=J,y[32767+ue]=[],y[32767+ue][1]=J,y[32767+ue][0]=q-1+ue;O<<=1,q<<=1}})(),(function(){for(var O=0;O<256;O++)G[O]=19595*O,G[O+256|0]=38470*O,G[O+512|0]=7471*O+32768,G[O+768|0]=-11059*O,G[O+1024|0]=-21709*O,G[O+1280|0]=32768*O+8421375,G[O+1536|0]=-27439*O,G[O+1792|0]=-5329*O})(),Y(r)}function Ya(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Wy(r){function e(V){if(!V)throw Error("assert :P")}function t(V,Z,k){for(var I=0;4>I;I++)if(V[Z+I]!=k.charCodeAt(I))return!0;return!1}function i(V,Z,k,I,te){for(var $=0;$<te;$++)V[Z+$]=k[I+$]}function a(V,Z,k,I){for(var te=0;te<I;te++)V[Z+te]=k}function o(V){return new Int32Array(V)}function h(V,Z){for(var k=[],I=0;I<V;I++)k.push(new Z);return k}function c(V,Z){var k=[];return(function I(te,$,ne){for(var K=ne[$],re=0;re<K&&(te.push(ne.length>$+1?[]:new Z),!(ne.length<$+1));re++)I(te[re],$+1,ne)})(k,0,V),k}var f=function(){var V=this;function Z(p,b){for(var A=1<<b-1>>>0;p&A;)A>>>=1;return A?(p&A-1)+A:p}function k(p,b,A,M,U){e(!(M%A));do p[b+(M-=A)]=U;while(0<M)}function I(p,b,A,M,U){if(e(2328>=U),512>=U)var W=o(512);else if((W=o(U))==null)return 0;return(function(X,ee,ie,le,ve,ke){var oe,ye,Ae=ee,Be=1<<ie,Te=o(16),Fe=o(16);for(e(ve!=0),e(le!=null),e(X!=null),e(0<ie),ye=0;ye<ve;++ye){if(15<le[ye])return 0;++Te[le[ye]]}if(Te[0]==ve)return 0;for(Fe[1]=0,oe=1;15>oe;++oe){if(Te[oe]>1<<oe)return 0;Fe[oe+1]=Fe[oe]+Te[oe]}for(ye=0;ye<ve;++ye)oe=le[ye],0<le[ye]&&(ke[Fe[oe]++]=ye);if(Fe[15]==1)return(le=new te).g=0,le.value=ke[0],k(X,Ae,1,Be,le),Be;var Pe,Je=-1,Ye=Be-1,Tt=0,yt=1,Kt=1,At=1<<ie;for(ye=0,oe=1,ve=2;oe<=ie;++oe,ve<<=1){if(yt+=Kt<<=1,0>(Kt-=Te[oe]))return 0;for(;0<Te[oe];--Te[oe])(le=new te).g=oe,le.value=ke[ye++],k(X,Ae+Tt,ve,At,le),Tt=Z(Tt,oe)}for(oe=ie+1,ve=2;15>=oe;++oe,ve<<=1){if(yt+=Kt<<=1,0>(Kt-=Te[oe]))return 0;for(;0<Te[oe];--Te[oe]){if(le=new te,(Tt&Ye)!=Je){for(Ae+=At,Pe=1<<(Je=oe)-ie;15>Je&&!(0>=(Pe-=Te[Je]));)++Je,Pe<<=1;Be+=At=1<<(Pe=Je-ie),X[ee+(Je=Tt&Ye)].g=Pe+ie,X[ee+Je].value=Ae-ee-Je}le.g=oe-ie,le.value=ke[ye++],k(X,Ae+(Tt>>ie),ve,At,le),Tt=Z(Tt,oe)}}return yt!=2*Fe[15]-1?0:Be})(p,b,A,M,U,W)}function te(){this.value=this.g=0}function $(){this.value=this.g=0}function ne(){this.G=h(5,te),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=h(fo,$)}function K(p,b,A,M){e(p!=null),e(b!=null),e(2147483648>M),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=b,p.pa=A,p.Jd=b,p.Yc=A+M,p.Zc=4<=M?A+M-4+1:A,de(p)}function re(p,b){for(var A=0;0<b--;)A|=Ne(p,128)<<b;return A}function ae(p,b){var A=re(p,b);return xe(p)?-A:A}function fe(p,b,A,M){var U,W=0;for(e(p!=null),e(b!=null),e(4294967288>M),p.Sb=M,p.Ra=0,p.u=0,p.h=0,4<M&&(M=4),U=0;U<M;++U)W+=b[A+U]<<8*U;p.Ra=W,p.bb=M,p.oa=b,p.pa=A}function _e(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<sa-8>>>0,++p.bb,p.u-=8;se(p)&&(p.h=1,p.u=0)}function Y(p,b){if(e(0<=b),!p.h&&b<=Ci){var A=J(p)&Vi[b];return p.u+=b,_e(p),A}return p.h=1,p.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(p){return p.Ra>>>(p.u&sa-1)>>>0}function se(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>sa}function ue(p,b){p.u=b,p.h=se(p)}function me(p){p.u>=aa&&(e(p.u>=aa),_e(p))}function de(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function xe(p){return re(p,1)}function Ne(p,b){var A=p.Ca;0>p.b&&de(p);var M=p.b,U=A*b>>>8,W=(p.I>>>M>U)+0;for(W?(A-=U,p.I-=U+1<<M>>>0):A=U+1,M=A,U=0;256<=M;)U+=8,M>>=8;return M=7^U+ja[M],p.b-=M,p.Ca=(A<<M)-1,W}function Ue(p,b,A){p[b+0]=A>>24&255,p[b+1]=A>>16&255,p[b+2]=A>>8&255,p[b+3]=255&A}function Ke(p,b){return p[b+0]|p[b+1]<<8}function it(p,b){return Ke(p,b)|p[b+2]<<16}function st(p,b){return Ke(p,b)|Ke(p,b+2)<<16}function H(p,b){var A=1<<b;return e(p!=null),e(0<b),p.X=o(A),p.X==null?0:(p.Mb=32-b,p.Xa=b,1)}function je(p,b){e(p!=null),e(b!=null),e(p.Xa==b.Xa),i(b.X,0,p.X,0,1<<b.Xa)}function at(){this.X=[],this.Xa=this.Mb=0}function Xe(p,b,A,M){e(A!=null),e(M!=null);var U=A[0],W=M[0];return U==0&&(U=(p*W+b/2)/b),W==0&&(W=(b*U+p/2)/p),0>=U||0>=W?0:(A[0]=U,M[0]=W,1)}function Ce(p,b){return p+(1<<b)-1>>>b}function Qe(p,b){return((4278255360&p)+(4278255360&b)>>>0&4278255360)+((16711935&p)+(16711935&b)>>>0&16711935)>>>0}function et(p,b){V[b]=function(A,M,U,W,X,ee,ie){var le;for(le=0;le<X;++le){var ve=V[p](ee[ie+le-1],U,W+le);ee[ie+le]=Qe(A[M+le],ve)}}}function ft(){this.ud=this.hd=this.jd=0}function dt(p,b){return((4278124286&(p^b))>>>1)+(p&b)>>>0}function kt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Xt(p,b){return kt(p+(p-b+.5>>1))}function Dt(p,b,A){return Math.abs(b-A)-Math.abs(p-A)}function De(p,b,A,M,U,W,X){for(M=W[X-1],A=0;A<U;++A)W[X+A]=M=Qe(p[b+A],M)}function ot(p,b,A,M,U){var W;for(W=0;W<A;++W){var X=p[b+W],ee=X>>8&255,ie=16711935&(ie=(ie=16711935&X)+((ee<<16)+ee));M[U+W]=(4278255360&X)+ie>>>0}}function ct(p,b){b.jd=255&p,b.hd=p>>8&255,b.ud=p>>16&255}function _t(p,b,A,M,U,W){var X;for(X=0;X<M;++X){var ee=b[A+X],ie=ee>>>8,le=ee,ve=255&(ve=(ve=ee>>>16)+((p.jd<<24>>24)*(ie<<24>>24)>>>5));le=255&(le=(le+=(p.hd<<24>>24)*(ie<<24>>24)>>>5)+((p.ud<<24>>24)*(ve<<24>>24)>>>5)),U[W+X]=(4278255360&ee)+(ve<<16)+le}}function mt(p,b,A,M,U){V[b]=function(W,X,ee,ie,le,ve,ke,oe,ye){for(ie=ke;ie<oe;++ie)for(ke=0;ke<ye;++ke)le[ve++]=U(ee[M(W[X++])])},V[p]=function(W,X,ee,ie,le,ve,ke){var oe=8>>W.b,ye=W.Ea,Ae=W.K[0],Be=W.w;if(8>oe)for(W=(1<<W.b)-1,Be=(1<<oe)-1;X<ee;++X){var Te,Fe=0;for(Te=0;Te<ye;++Te)Te&W||(Fe=M(ie[le++])),ve[ke++]=U(Ae[Fe&Be]),Fe>>=oe}else V["VP8LMapColor"+A](ie,le,Ae,Be,ve,ke,X,ee,ye)}}function Ie(p,b,A,M,U){for(A=b+A;b<A;){var W=p[b++];M[U++]=W>>16&255,M[U++]=W>>8&255,M[U++]=255&W}}function tt(p,b,A,M,U){for(A=b+A;b<A;){var W=p[b++];M[U++]=W>>16&255,M[U++]=W>>8&255,M[U++]=255&W,M[U++]=W>>24&255}}function nt(p,b,A,M,U){for(A=b+A;b<A;){var W=(X=p[b++])>>16&240|X>>12&15,X=240&X|X>>28&15;M[U++]=W,M[U++]=X}}function pt(p,b,A,M,U){for(A=b+A;b<A;){var W=(X=p[b++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;M[U++]=W,M[U++]=X}}function wt(p,b,A,M,U){for(A=b+A;b<A;){var W=p[b++];M[U++]=255&W,M[U++]=W>>8&255,M[U++]=W>>16&255}}function ut(p,b,A,M,U,W){if(W==0)for(A=b+A;b<A;)Ue(M,((W=p[b++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),U+=32;else i(M,U,p,b,A)}function Zt(p,b){V[b][0]=V[p+"0"],V[b][1]=V[p+"1"],V[b][2]=V[p+"2"],V[b][3]=V[p+"3"],V[b][4]=V[p+"4"],V[b][5]=V[p+"5"],V[b][6]=V[p+"6"],V[b][7]=V[p+"7"],V[b][8]=V[p+"8"],V[b][9]=V[p+"9"],V[b][10]=V[p+"10"],V[b][11]=V[p+"11"],V[b][12]=V[p+"12"],V[b][13]=V[p+"13"],V[b][14]=V[p+"0"],V[b][15]=V[p+"0"]}function vt(p){return p==Uc||p==Ou||p==Il||p==Lu}function bt(){this.eb=[],this.size=this.A=this.fb=0}function Ht(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function rt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new bt,this.f.kb=new Ht,this.sd=null}function lt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ot(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Cn(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Ee(p,b){var A=p.T,M=b.ba.f.RGBA,U=M.eb,W=M.fb+p.ka*M.A,X=ai[b.ba.S],ee=p.y,ie=p.O,le=p.f,ve=p.N,ke=p.ea,oe=p.W,ye=b.cc,Ae=b.dc,Be=b.Mc,Te=b.Nc,Fe=p.ka,Pe=p.ka+p.T,Je=p.U,Ye=Je+1>>1;for(Fe==0?X(ee,ie,null,null,le,ve,ke,oe,le,ve,ke,oe,U,W,null,null,Je):(X(b.ec,b.fc,ee,ie,ye,Ae,Be,Te,le,ve,ke,oe,U,W-M.A,U,W,Je),++A);Fe+2<Pe;Fe+=2)ye=le,Ae=ve,Be=ke,Te=oe,ve+=p.Rc,oe+=p.Rc,W+=2*M.A,X(ee,(ie+=2*p.fa)-p.fa,ee,ie,ye,Ae,Be,Te,le,ve,ke,oe,U,W-M.A,U,W,Je);return ie+=p.fa,p.j+Pe<p.o?(i(b.ec,b.fc,ee,ie,Je),i(b.cc,b.dc,le,ve,Ye),i(b.Mc,b.Nc,ke,oe,Ye),A--):1&Pe||X(ee,ie,null,null,le,ve,ke,oe,le,ve,ke,oe,U,W+M.A,null,null,Je),A}function Ve(p,b,A){var M=p.F,U=[p.J];if(M!=null){var W=p.U,X=b.ba.S,ee=X==Pc||X==Il;b=b.ba.f.RGBA;var ie=[0],le=p.ka;ie[0]=p.T,p.Kb&&(le==0?--ie[0]:(--le,U[0]-=p.width),p.j+p.ka+p.T==p.o&&(ie[0]=p.o-p.j-le));var ve=b.eb;le=b.fb+le*b.A,p=Fc(M,U[0],p.width,W,ie,ve,le+(ee?0:3),b.A),e(A==ie),p&&vt(X)&&Xo(ve,le,ee,W,ie,b.A)}return 0}function We(p){var b=p.ma,A=b.ba.S,M=11>A,U=A==pi||A==fs||A==Pc||A==Rl||A==12||vt(A);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!La(b.Oa,p,U?11:12))return 0;if(U&&vt(A)&&Dc(),p.da)alert("todo:use_scaling");else{if(M){if(b.Ib=Cn,p.Kb){if(A=p.U+1>>1,b.memory=o(p.U+2*A),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+p.U,b.Mc=b.cc,b.Nc=b.dc+A,b.Ib=Ee,Dc()}}else alert("todo:EmitYUV");U&&(b.Jb=Ve,M&&Is())}if(M&&!xo){for(p=0;256>p;++p)oi[p]=89858*(p-128)+Bl>>bs,Pp[p]=-22014*(p-128)+Bl,Ad[p]=-45773*(p-128),Vu[p]=113618*(p-128)+Bl>>bs;for(p=Qo;p<yo;++p)b=76283*(p-16)+Bl>>bs,Up[p-Qo]=Zi(b,255),Hp[p-Qo]=Zi(b+8>>4,15);xo=1}return 1}function Ze(p){var b=p.ma,A=p.U,M=p.T;return e(!(1&p.ka)),0>=A||0>=M?0:(A=b.Ib(p,b),b.Jb!=null&&b.Jb(p,b,A),b.Dc+=A,1)}function gt(p){p.ma.memory=null}function St(p,b,A,M){return Y(p,8)!=47?0:(b[0]=Y(p,14)+1,A[0]=Y(p,14)+1,M[0]=Y(p,1),Y(p,3)!=0?0:!p.h)}function Mt(p,b){if(4>p)return p+1;var A=p-2>>1;return(2+(1&p)<<A)+Y(b,A)+1}function $t(p,b){return 120<b?b-120:1<=(A=((A=ps[b-1])>>4)*p+(8-(15&A)))?A:1;var A}function Bt(p,b,A){var M=J(A),U=p[b+=255&M].g-8;return 0<U&&(ue(A,A.u+8),M=J(A),b+=p[b].value,b+=M&(1<<U)-1),ue(A,A.u+p[b].g),p[b].value}function Yt(p,b,A){return A.g+=p.g,A.value+=p.value<<b>>>0,e(8>=A.g),p.g}function en(p,b,A){var M=p.xc;return e((b=M==0?0:p.vc[p.md*(A>>M)+(b>>M)])<p.Wb),p.Ya[b]}function Ar(p,b,A,M){var U=p.ab,W=p.c*b,X=p.C;b=X+b;var ee=A,ie=M;for(M=p.Ta,A=p.Ua;0<U--;){var le=p.gc[U],ve=X,ke=b,oe=ee,ye=ie,Ae=(ie=M,ee=A,le.Ea);switch(e(ve<ke),e(ke<=le.nc),le.hc){case 2:xr(oe,ye,(ke-ve)*Ae,ie,ee);break;case 0:var Be=ve,Te=ke,Fe=ie,Pe=ee,Je=(At=le).Ea;Be==0&&(Ol(oe,ye,null,null,1,Fe,Pe),De(oe,ye+1,0,0,Je-1,Fe,Pe+1),ye+=Je,Pe+=Je,++Be);for(var Ye=1<<At.b,Tt=Ye-1,yt=Ce(Je,At.b),Kt=At.K,At=At.w+(Be>>At.b)*yt;Be<Te;){var cn=Kt,$n=At,nn=1;for(Ll(oe,ye,Fe,Pe-Je,1,Fe,Pe);nn<Je;){var xt=(nn&~Tt)+Ye;xt>Je&&(xt=Je),(0,Da[cn[$n++]>>8&15])(oe,ye+ +nn,Fe,Pe+nn-Je,xt-nn,Fe,Pe+nn),nn=xt}ye+=Je,Pe+=Je,++Be&Tt||(At+=yt)}ke!=le.nc&&i(ie,ee-Ae,ie,ee+(ke-ve-1)*Ae,Ae);break;case 1:for(Ae=oe,Te=ye,Je=(oe=le.Ea)-(Pe=oe&~(Fe=(ye=1<<le.b)-1)),Be=Ce(oe,le.b),Ye=le.K,le=le.w+(ve>>le.b)*Be;ve<ke;){for(Tt=Ye,yt=le,Kt=new ft,At=Te+Pe,cn=Te+oe;Te<At;)ct(Tt[yt++],Kt),jl(Kt,Ae,Te,ye,ie,ee),Te+=ye,ee+=ye;Te<cn&&(ct(Tt[yt++],Kt),jl(Kt,Ae,Te,Je,ie,ee),Te+=Je,ee+=Je),++ve&Fe||(le+=Be)}break;case 3:if(oe==ie&&ye==ee&&0<le.b){for(Te=ie,oe=Ae=ee+(ke-ve)*Ae-(Pe=(ke-ve)*Ce(le.Ea,le.b)),ye=ie,Fe=ee,Be=[],Pe=(Je=Pe)-1;0<=Pe;--Pe)Be[Pe]=ye[Fe+Pe];for(Pe=Je-1;0<=Pe;--Pe)Te[oe+Pe]=Be[Pe];Cu(le,ve,ke,ie,Ae,ie,ee)}else Cu(le,ve,ke,oe,ye,ie,ee)}ee=M,ie=A}ie!=A&&i(M,A,ee,ie,W)}function qn(p,b){var A=p.V,M=p.Ba+p.c*p.C,U=b-p.C;if(e(b<=p.l.o),e(16>=U),0<U){var W=p.l,X=p.Ta,ee=p.Ua,ie=W.width;if(Ar(p,U,A,M),U=ee=[ee],e((A=p.C)<(M=b)),e(W.v<W.va),M>W.o&&(M=W.o),A<W.j){var le=W.j-A;A=W.j,U[0]+=le*ie}if(A>=M?A=0:(U[0]+=4*W.v,W.ka=A-W.j,W.U=W.va-W.v,W.T=M-A,A=1),A){if(ee=ee[0],11>(A=p.ca).S){var ve=A.f.RGBA,ke=(M=A.S,U=W.U,W=W.T,le=ve.eb,ve.A),oe=W;for(ve=ve.fb+p.Ma*ve.A;0<oe--;){var ye=X,Ae=ee,Be=U,Te=le,Fe=ve;switch(M){case ku:Dl(ye,Ae,Be,Te,Fe);break;case pi:Ra(ye,Ae,Be,Te,Fe);break;case Uc:Ra(ye,Ae,Be,Te,Fe),Xo(Te,Fe,0,Be,1,0);break;case Mu:Yo(ye,Ae,Be,Te,Fe);break;case fs:ut(ye,Ae,Be,Te,Fe,1);break;case Ou:ut(ye,Ae,Be,Te,Fe,1),Xo(Te,Fe,0,Be,1,0);break;case Pc:ut(ye,Ae,Be,Te,Fe,0);break;case Il:ut(ye,Ae,Be,Te,Fe,0),Xo(Te,Fe,1,Be,1,0);break;case Rl:Ia(ye,Ae,Be,Te,Fe);break;case Lu:Ia(ye,Ae,Be,Te,Fe),hs(Te,Fe,Be,1,0);break;case po:ca(ye,Ae,Be,Te,Fe);break;default:e(0)}ee+=ie,ve+=ke}p.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=A.height)}}p.C=b,e(p.C<=p.i)}function pn(p){var b;if(0<p.ua)return 0;for(b=0;b<p.Wb;++b){var A=p.Ya[b].G,M=p.Ya[b].H;if(0<A[1][M[1]+0].g||0<A[2][M[2]+0].g||0<A[3][M[3]+0].g)return 0}return 1}function Tn(p,b,A,M,U,W){if(p.Z!=0){var X=p.qd,ee=p.rd;for(e(Ba[p.Z]!=null);b<A;++b)Ba[p.Z](X,ee,M,U,M,U,W),X=M,ee=U,U+=W;p.qd=X,p.rd=ee}}function br(p,b){var A=p.l.ma,M=A.Z==0||A.Z==1?p.l.j:p.C;if(M=p.C<M?M:p.C,e(b<=p.l.o),b>M){var U=p.l.width,W=A.ca,X=A.tb+U*M,ee=p.V,ie=p.Ba+p.c*M,le=p.gc;e(p.ab==1),e(le[0].hc==3),la(le[0],M,b,ee,ie,W,X),Tn(A,M,b,W,X,U)}p.C=p.Ma=b}function Hr(p,b,A,M,U,W,X){var ee=p.$/M,ie=p.$%M,le=p.m,ve=p.s,ke=A+p.$,oe=ke;U=A+M*U;var ye=A+M*W,Ae=280+ve.ua,Be=p.Pb?ee:16777216,Te=0<ve.ua?ve.Wa:null,Fe=ve.wc,Pe=ke<ye?en(ve,ie,ee):null;e(p.C<W),e(ye<=U);var Je=!1;e:for(;;){for(;Je||ke<ye;){var Ye=0;if(ee>=Be){var Tt=ke-A;e((Be=p).Pb),Be.wd=Be.m,Be.xd=Tt,0<Be.s.ua&&je(Be.s.Wa,Be.s.vb),Be=ee+mo}if(ie&Fe||(Pe=en(ve,ie,ee)),e(Pe!=null),Pe.Qb&&(b[ke]=Pe.qb,Je=!0),!Je)if(me(le),Pe.jc){Ye=le,Tt=b;var yt=ke,Kt=Pe.pd[J(Ye)&fo-1];e(Pe.jc),256>Kt.g?(ue(Ye,Ye.u+Kt.g),Tt[yt]=Kt.value,Ye=0):(ue(Ye,Ye.u+Kt.g-256),e(256<=Kt.value),Ye=Kt.value),Ye==0&&(Je=!0)}else Ye=Bt(Pe.G[0],Pe.H[0],le);if(le.h)break;if(Je||256>Ye){if(!Je)if(Pe.nd)b[ke]=(Pe.qb|Ye<<8)>>>0;else{if(me(le),Je=Bt(Pe.G[1],Pe.H[1],le),me(le),Tt=Bt(Pe.G[2],Pe.H[2],le),yt=Bt(Pe.G[3],Pe.H[3],le),le.h)break;b[ke]=(yt<<24|Je<<16|Ye<<8|Tt)>>>0}if(Je=!1,++ke,++ie>=M&&(ie=0,++ee,X!=null&&ee<=W&&!(ee%16)&&X(p,ee),Te!=null))for(;oe<ke;)Ye=b[oe++],Te.X[(506832829*Ye&4294967295)>>>Te.Mb]=Ye}else if(280>Ye){if(Ye=Mt(Ye-256,le),Tt=Bt(Pe.G[4],Pe.H[4],le),me(le),Tt=$t(M,Tt=Mt(Tt,le)),le.h)break;if(ke-A<Tt||U-ke<Ye)break e;for(yt=0;yt<Ye;++yt)b[ke+yt]=b[ke+yt-Tt];for(ke+=Ye,ie+=Ye;ie>=M;)ie-=M,++ee,X!=null&&ee<=W&&!(ee%16)&&X(p,ee);if(e(ke<=U),ie&Fe&&(Pe=en(ve,ie,ee)),Te!=null)for(;oe<ke;)Ye=b[oe++],Te.X[(506832829*Ye&4294967295)>>>Te.Mb]=Ye}else{if(!(Ye<Ae))break e;for(Je=Ye-280,e(Te!=null);oe<ke;)Ye=b[oe++],Te.X[(506832829*Ye&4294967295)>>>Te.Mb]=Ye;Ye=ke,e(!(Je>>>(Tt=Te).Xa)),b[Ye]=Tt.X[Je],Je=!0}Je||e(le.h==se(le))}if(p.Pb&&le.h&&ke<U)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&je(p.s.vb,p.s.Wa);else{if(le.h)break e;X?.(p,ee>W?W:ee),p.a=0,p.$=ke-A}return 1}return p.a=3,0}function Gr(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var b=p.Wa;b!=null&&(b.X=null),p.vb=null,e(p!=null)}function Qs(){var p=new Gt;return p==null?null:(p.a=0,p.xb=Wh,Zt("Predictor","VP8LPredictors"),Zt("Predictor","VP8LPredictors_C"),Zt("PredictorAdd","VP8LPredictorsAdd"),Zt("PredictorAdd","VP8LPredictorsAdd_C"),xr=ot,jl=_t,Dl=Ie,Ra=tt,Ia=nt,ca=pt,Yo=wt,V.VP8LMapColor32b=oa,V.VP8LMapColor8b=ri,p)}function os(p,b,A,M,U){var W=1,X=[p],ee=[b],ie=M.m,le=M.s,ve=null,ke=0;e:for(;;){if(A)for(;W&&Y(ie,1);){var oe=X,ye=ee,Ae=M,Be=1,Te=Ae.m,Fe=Ae.gc[Ae.ab],Pe=Y(Te,2);if(Ae.Oc&1<<Pe)W=0;else{switch(Ae.Oc|=1<<Pe,Fe.hc=Pe,Fe.Ea=oe[0],Fe.nc=ye[0],Fe.K=[null],++Ae.ab,e(4>=Ae.ab),Pe){case 0:case 1:Fe.b=Y(Te,3)+2,Be=os(Ce(Fe.Ea,Fe.b),Ce(Fe.nc,Fe.b),0,Ae,Fe.K),Fe.K=Fe.K[0];break;case 3:var Je,Ye=Y(Te,8)+1,Tt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(oe[0]=Ce(Fe.Ea,Tt),Fe.b=Tt,Je=Be=os(Ye,1,0,Ae,Fe.K)){var yt,Kt=Ye,At=Fe,cn=1<<(8>>At.b),$n=o(cn);if($n==null)Je=0;else{var nn=At.K[0],xt=At.w;for($n[0]=At.K[0][0],yt=1;yt<1*Kt;++yt)$n[yt]=Qe(nn[xt+yt],$n[yt-1]);for(;yt<4*cn;++yt)$n[yt]=0;At.K[0]=null,At.K[0]=$n,Je=1}}Be=Je;break;case 2:break;default:e(0)}W=Be}}if(X=X[0],ee=ee[0],W&&Y(ie,1)&&!(W=1<=(ke=Y(ie,4))&&11>=ke)){M.a=3;break e}var ht;if(ht=W)t:{var ir,zt,an,jn=M,Fr=X,li=ee,Un=ke,Tr=A,mi=jn.m,Er=jn.s,ln=[null],wn=1,sr=0,Mn=ms[Un];n:for(;;){if(Tr&&Y(mi,1)){var Br=Y(mi,3)+2,ar=Ce(Fr,Br),Sn=Ce(li,Br),Sr=ar*Sn;if(!os(ar,Sn,0,jn,ln))break n;for(ln=ln[0],Er.xc=Br,ir=0;ir<Sr;++ir){var Dn=ln[ir]>>8&65535;ln[ir]=Dn,Dn>=wn&&(wn=Dn+1)}}if(mi.h)break n;for(zt=0;5>zt;++zt){var kr=$o[zt];!zt&&0<Un&&(kr+=1<<Un),sr<kr&&(sr=kr)}var Mr=h(wn*Mn,te),In=wn,xn=h(In,ne);if(xn==null)var gi=null;else e(65536>=In),gi=xn;var dr=o(sr);if(gi==null||dr==null||Mr==null){jn.a=1;break n}var It=Mr;for(ir=an=0;ir<wn;++ir){var Vt=gi[ir],An=Vt.G,Fi=Vt.H,ys=0,Ei=1,Or=0;for(zt=0;5>zt;++zt){kr=$o[zt],An[zt]=It,Fi[zt]=an,!zt&&0<Un&&(kr+=1<<Un);i:{var _o,wo=kr,Bu=jn,Hn=dr,Zh=It,$h=an,qu=0,qa=Bu.m,Gp=Y(qa,1);if(a(Hn,0,0,wo),Gp){var Kh=Y(qa,1)+1,Qh=Y(qa,1),zu=Y(qa,Qh==0?1:8);Hn[zu]=1,Kh==2&&(Hn[zu=Y(qa,8)]=1);var Xr=1}else{var pr=o(19),Wc=Y(qa,4)+4;if(19<Wc){Bu.a=3;var So=0;break i}for(_o=0;_o<Wc;++_o)pr[Hc[_o]]=Y(qa,3);var zl=void 0,Jo=void 0,fa=Bu,Pu=pr,Pl=wo,Uu=Hn,Hu=0,za=fa.m,Jh=8,ef=h(128,te);r:for(;I(ef,0,7,Pu,19);){if(Y(za,1)){var Nd=2+2*Y(za,3);if((zl=2+Y(za,Nd))>Pl)break r}else zl=Pl;for(Jo=0;Jo<Pl&&zl--;){me(za);var tf=ef[0+(127&J(za))];ue(za,za.u+tf.g);var Ao=tf.value;if(16>Ao)Uu[Jo++]=Ao,Ao!=0&&(Jh=Ao);else{var Cd=Ao==16,Td=Ao-16,Ed=Vl[Td],nf=Y(za,ds[Td])+Ed;if(Jo+nf>Pl)break r;for(var kd=Cd?Jh:0;0<nf--;)Uu[Jo++]=kd}}Hu=1;break r}Hu||(fa.a=3),Xr=Hu}(Xr=Xr&&!qa.h)&&(qu=I(Zh,$h,8,Hn,wo)),Xr&&qu!=0?So=qu:(Bu.a=3,So=0)}if(So==0)break n;if(Ei&&ju[zt]==1&&(Ei=It[an].g==0),ys+=It[an].g,an+=So,3>=zt){var el,Gu=dr[0];for(el=1;el<kr;++el)dr[el]>Gu&&(Gu=dr[el]);Or+=Gu}}if(Vt.nd=Ei,Vt.Qb=0,Ei&&(Vt.qb=(An[3][Fi[3]+0].value<<24|An[1][Fi[1]+0].value<<16|An[2][Fi[2]+0].value)>>>0,ys==0&&256>An[0][Fi[0]+0].value&&(Vt.Qb=1,Vt.qb+=An[0][Fi[0]+0].value<<8)),Vt.jc=!Vt.Qb&&6>Or,Vt.jc){var Xc,da=Vt;for(Xc=0;Xc<fo;++Xc){var Pa=Xc,Ua=da.pd[Pa],Yu=da.G[0][da.H[0]+Pa];256<=Yu.value?(Ua.g=Yu.g+256,Ua.value=Yu.value):(Ua.g=0,Ua.value=0,Pa>>=Yt(Yu,8,Ua),Pa>>=Yt(da.G[1][da.H[1]+Pa],16,Ua),Pa>>=Yt(da.G[2][da.H[2]+Pa],0,Ua),Yt(da.G[3][da.H[3]+Pa],24,Ua))}}}Er.vc=ln,Er.Wb=wn,Er.Ya=gi,Er.yc=Mr,ht=1;break t}ht=0}if(!(W=ht)){M.a=3;break e}if(0<ke){if(le.ua=1<<ke,!H(le.Wa,ke)){M.a=1,W=0;break e}}else le.ua=0;var Wu=M,tl=X,Md=ee,Ul=Wu.s,Hl=Ul.xc;if(Wu.c=tl,Wu.i=Md,Ul.md=Ce(tl,Hl),Ul.wc=Hl==0?-1:(1<<Hl)-1,A){M.xb=go;break e}if((ve=o(X*ee))==null){M.a=1,W=0;break e}W=(W=Hr(M,ve,0,X,ee,ee,null))&&!ie.h;break e}return W?(U!=null?U[0]=ve:(e(ve==null),e(A)),M.$=0,A||Gr(le)):Gr(le),W}function Di(p,b){var A=p.c*p.i,M=A+b+16*b;return e(p.c<=b),p.V=o(M),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+A+b,1)}function Os(p,b){var A=p.C,M=b-A,U=p.V,W=p.Ba+p.c*A;for(e(b<=p.l.o);0<M;){var X=16<M?16:M,ee=p.l.ma,ie=p.l.width,le=ie*X,ve=ee.ca,ke=ee.tb+ie*A,oe=p.Ta,ye=p.Ua;Ar(p,X,U,W),es(oe,ye,ve,ke,le),Tn(ee,A,A+X,ve,ke,ie),M-=X,U+=X*p.c,A+=X}e(A==b),p.C=p.Ma=b}function Ri(){this.ub=this.yd=this.td=this.Rb=0}function Yi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Js(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Wi(){this.Yb=(function(){var p=[];return(function b(A,M,U){for(var W=U[M],X=0;X<W&&(A.push(U.length>M+1?[]:0),!(U.length<M+1));X++)b(A[X],M+1,U)})(p,0,[3,11]),p})()}function nr(){this.jb=o(3),this.Wc=c([4,8],Wi),this.Xc=c([4,17],Wi)}function Fo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function wi(){this.ld=this.La=this.dd=this.tc=0}function Xi(){this.Na=this.la=0}function Ls(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function _c(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wc(){this.uc=this.M=this.Nb=0,this.wa=Array(new wi),this.Y=0,this.ya=Array(new _c),this.aa=0,this.l=new xa}function Sc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function gu(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Ri,this.Kc=new Yi,this.ed=new Fo,this.Qa=new Js,this.Ic=this.$c=this.Aa=0,this.D=new wc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=h(8,O),this.ia=0,this.pb=h(4,Ls),this.Pa=new nr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Sc),this.Hd=0,this.rb=Array(new Xi),this.sb=0,this.wa=Array(new wi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new _c),this.L=this.aa=0,this.gd=c([4,2],wi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zi(p,b){return 0>p?0:p>b?b:p}function xa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function js(){var p=new gu;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,ts||(ts=lo)),p}function En(p,b,A){return p.a==0&&(p.a=b,p.sc=A,p.cb=0),0}function Ac(p,b,A){return 3<=A&&p[b+0]==157&&p[b+1]==1&&p[b+2]==42}function ea(p,b){if(p==null)return 0;if(p.a=0,p.sc="OK",b==null)return En(p,2,"null VP8Io passed to VP8GetHeaders()");var A=b.data,M=b.w,U=b.ha;if(4>U)return En(p,7,"Truncated header.");var W=A[M+0]|A[M+1]<<8|A[M+2]<<16,X=p.Od;if(X.Rb=!(1&W),X.td=W>>1&7,X.yd=W>>4&1,X.ub=W>>5,3<X.td)return En(p,3,"Incorrect keyframe parameters.");if(!X.yd)return En(p,4,"Frame not displayable.");M+=3,U-=3;var ee=p.Kc;if(X.Rb){if(7>U)return En(p,7,"cannot parse picture header");if(!Ac(A,M,U))return En(p,3,"Bad code word");ee.c=16383&(A[M+4]<<8|A[M+3]),ee.Td=A[M+4]>>6,ee.i=16383&(A[M+6]<<8|A[M+5]),ee.Ud=A[M+6]>>6,M+=7,U-=7,p.za=ee.c+15>>4,p.Ub=ee.i+15>>4,b.width=ee.c,b.height=ee.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((W=p.Pa).jb,0,255,W.jb.length),e((W=p.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,a(W.Zb,0,0,W.Zb.length),a(W.Lb,0,0,W.Lb)}if(X.ub>U)return En(p,7,"bad partition length");K(W=p.m,A,M,X.ub),M+=X.ub,U-=X.ub,X.Rb&&(ee.Ld=xe(W),ee.Kd=xe(W)),ee=p.Qa;var ie,le=p.Pa;if(e(W!=null),e(ee!=null),ee.Cb=xe(W),ee.Cb){if(ee.Bb=xe(W),xe(W)){for(ee.Fb=xe(W),ie=0;4>ie;++ie)ee.Zb[ie]=xe(W)?ae(W,7):0;for(ie=0;4>ie;++ie)ee.Lb[ie]=xe(W)?ae(W,6):0}if(ee.Bb)for(ie=0;3>ie;++ie)le.jb[ie]=xe(W)?re(W,8):255}else ee.Bb=0;if(W.Ka)return En(p,3,"cannot parse segment header");if((ee=p.ed).zd=xe(W),ee.Tb=re(W,6),ee.wb=re(W,3),ee.Pc=xe(W),ee.Pc&&xe(W)){for(le=0;4>le;++le)xe(W)&&(ee.vd[le]=ae(W,6));for(le=0;4>le;++le)xe(W)&&(ee.od[le]=ae(W,6))}if(p.L=ee.Tb==0?0:ee.zd?1:2,W.Ka)return En(p,3,"cannot parse filter header");var ve=U;if(U=ie=M,M=ie+ve,ee=ve,p.Xb=(1<<re(p.m,2))-1,ve<3*(le=p.Xb))A=7;else{for(ie+=3*le,ee-=3*le,ve=0;ve<le;++ve){var ke=A[U+0]|A[U+1]<<8|A[U+2]<<16;ke>ee&&(ke=ee),K(p.Jc[+ve],A,ie,ke),ie+=ke,ee-=ke,U+=3}K(p.Jc[+le],A,ie,ee),A=ie<M?0:5}if(A!=0)return En(p,A,"cannot parse partitions");for(A=re(ie=p.m,7),U=xe(ie)?ae(ie,4):0,M=xe(ie)?ae(ie,4):0,ee=xe(ie)?ae(ie,4):0,le=xe(ie)?ae(ie,4):0,ie=xe(ie)?ae(ie,4):0,ve=p.Qa,ke=0;4>ke;++ke){if(ve.Cb){var oe=ve.Zb[ke];ve.Fb||(oe+=A)}else{if(0<ke){p.pb[ke]=p.pb[0];continue}oe=A}var ye=p.pb[ke];ye.Sc[0]=gs[Zi(oe+U,127)],ye.Sc[1]=vs[Zi(oe+0,127)],ye.Eb[0]=2*gs[Zi(oe+M,127)],ye.Eb[1]=101581*vs[Zi(oe+ee,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=gs[Zi(oe+le,117)],ye.Qc[1]=vs[Zi(oe+ie,127)],ye.lc=oe+ie}if(!X.Rb)return En(p,4,"Not a key frame.");for(xe(W),X=p.Pa,A=0;4>A;++A){for(U=0;8>U;++U)for(M=0;3>M;++M)for(ee=0;11>ee;++ee)le=Ne(W,Zn[A][U][M][ee])?re(W,8):Sd[A][U][M][ee],X.Wc[A][U].Yb[M][ee]=le;for(U=0;17>U;++U)X.Xc[A][U]=X.Wc[A][un[U]]}return p.kc=xe(W),p.kc&&(p.Bd=re(W,8)),p.cb=1}function lo(p,b,A,M,U,W,X){var ee=b[U].Yb[A];for(A=0;16>U;++U){if(!Ne(p,ee[A+0]))return U;for(;!Ne(p,ee[A+1]);)if(ee=b[++U].Yb[0],A=0,U==16)return 16;var ie=b[U+1].Yb;if(Ne(p,ee[A+2])){var le=p,ve=0;if(Ne(le,(oe=ee)[(ke=A)+3]))if(Ne(le,oe[ke+6])){for(ee=0,ke=2*(ve=Ne(le,oe[ke+8]))+(oe=Ne(le,oe[ke+9+ve])),ve=0,oe=wd[ke];oe[ee];++ee)ve+=ve+Ne(le,oe[ee]);ve+=3+(8<<ke)}else Ne(le,oe[ke+7])?(ve=7+2*Ne(le,165),ve+=Ne(le,145)):ve=5+Ne(le,159);else ve=Ne(le,oe[ke+4])?3+Ne(le,oe[ke+5]):2;ee=ie[2]}else ve=1,ee=ie[1];ie=X+Yh[U],0>(le=p).b&&de(le);var ke,oe=le.b,ye=(ke=le.Ca>>1)-(le.I>>oe)>>31;--le.b,le.Ca+=ye,le.Ca|=1,le.I-=(ke+1&ye)<<oe,W[ie]=((ve^ye)-ye)*M[(0<U)+0]}return 16}function Nc(p){var b=p.rb[p.sb-1];b.la=0,b.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function Si(p,b,A,M,U){U=p[b+A+32*M]+(U>>3),p[b+A+32*M]=-256&U?0>U?0:255:U}function Ir(p,b,A,M,U,W){Si(p,b,0,A,M+U),Si(p,b,1,A,M+W),Si(p,b,2,A,M-W),Si(p,b,3,A,M-U)}function Nr(p){return(20091*p>>16)+p}function Al(p,b,A,M){var U,W=0,X=o(16);for(U=0;4>U;++U){var ee=p[b+0]+p[b+8],ie=p[b+0]-p[b+8],le=(35468*p[b+4]>>16)-Nr(p[b+12]),ve=Nr(p[b+4])+(35468*p[b+12]>>16);X[W+0]=ee+ve,X[W+1]=ie+le,X[W+2]=ie-le,X[W+3]=ee-ve,W+=4,b++}for(U=W=0;4>U;++U)ee=(p=X[W+0]+4)+X[W+8],ie=p-X[W+8],le=(35468*X[W+4]>>16)-Nr(X[W+12]),Si(A,M,0,0,ee+(ve=Nr(X[W+4])+(35468*X[W+12]>>16))),Si(A,M,1,0,ie+le),Si(A,M,2,0,ie-le),Si(A,M,3,0,ee-ve),W++,M+=32}function vu(p,b,A,M){var U=p[b+0]+4,W=35468*p[b+4]>>16,X=Nr(p[b+4]),ee=35468*p[b+1]>>16;Ir(A,M,0,U+X,p=Nr(p[b+1]),ee),Ir(A,M,1,U+W,p,ee),Ir(A,M,2,U-W,p,ee),Ir(A,M,3,U-X,p,ee)}function Cc(p,b,A,M,U){Al(p,b,A,M),U&&Al(p,b+16,A,M+4)}function Ai(p,b,A,M){Va(p,b+0,A,M,1),Va(p,b+32,A,M+128,1)}function Tc(p,b,A,M){var U;for(p=p[b+0]+4,U=0;4>U;++U)for(b=0;4>b;++b)Si(A,M,b,U,p)}function Ec(p,b,A,M){p[b+0]&&kn(p,b+0,A,M),p[b+16]&&kn(p,b+16,A,M+4),p[b+32]&&kn(p,b+32,A,M+128),p[b+48]&&kn(p,b+48,A,M+128+4)}function Ds(p,b,A,M){var U,W=o(16);for(U=0;4>U;++U){var X=p[b+0+U]+p[b+12+U],ee=p[b+4+U]+p[b+8+U],ie=p[b+4+U]-p[b+8+U],le=p[b+0+U]-p[b+12+U];W[0+U]=X+ee,W[8+U]=X-ee,W[4+U]=le+ie,W[12+U]=le-ie}for(U=0;4>U;++U)X=(p=W[0+4*U]+3)+W[3+4*U],ee=W[1+4*U]+W[2+4*U],ie=W[1+4*U]-W[2+4*U],le=p-W[3+4*U],A[M+0]=X+ee>>3,A[M+16]=le+ie>>3,A[M+32]=X-ee>>3,A[M+48]=le-ie>>3,M+=64}function Bo(p,b,A){var M,U=b-32,W=di,X=255-p[U-1];for(M=0;M<A;++M){var ee,ie=W,le=X+p[b-1];for(ee=0;ee<A;++ee)p[b+ee]=ie[le+p[U+ee]];b+=32}}function bu(p,b){Bo(p,b,4)}function yu(p,b){Bo(p,b,8)}function kc(p,b){Bo(p,b,16)}function Mc(p,b){var A;for(A=0;16>A;++A)i(p,b+32*A,p,b-32,16)}function xu(p,b){var A;for(A=16;0<A;--A)a(p,b,p[b-1],16),b+=32}function Ii(p,b,A){var M;for(M=0;16>M;++M)a(b,A+32*M,p,16)}function Rs(p,b){var A,M=16;for(A=0;16>A;++A)M+=p[b-1+32*A]+p[b+A-32];Ii(M>>5,p,b)}function _a(p,b){var A,M=8;for(A=0;16>A;++A)M+=p[b-1+32*A];Ii(M>>4,p,b)}function qo(p,b){var A,M=8;for(A=0;16>A;++A)M+=p[b+A-32];Ii(M>>4,p,b)}function co(p,b){Ii(128,p,b)}function qt(p,b,A){return p+2*b+A+2>>2}function _u(p,b){var A,M=b-32;for(M=new Uint8Array([qt(p[M-1],p[M+0],p[M+1]),qt(p[M+0],p[M+1],p[M+2]),qt(p[M+1],p[M+2],p[M+3]),qt(p[M+2],p[M+3],p[M+4])]),A=0;4>A;++A)i(p,b+32*A,M,0,M.length)}function Oc(p,b){var A=p[b-1],M=p[b-1+32],U=p[b-1+64],W=p[b-1+96];Ue(p,b+0,16843009*qt(p[b-1-32],A,M)),Ue(p,b+32,16843009*qt(A,M,U)),Ue(p,b+64,16843009*qt(M,U,W)),Ue(p,b+96,16843009*qt(U,W,W))}function wu(p,b){var A,M=4;for(A=0;4>A;++A)M+=p[b+A-32]+p[b-1+32*A];for(M>>=3,A=0;4>A;++A)a(p,b+32*A,M,4)}function $i(p,b){var A=p[b-1+0],M=p[b-1+32],U=p[b-1+64],W=p[b-1-32],X=p[b+0-32],ee=p[b+1-32],ie=p[b+2-32],le=p[b+3-32];p[b+0+96]=qt(M,U,p[b-1+96]),p[b+1+96]=p[b+0+64]=qt(A,M,U),p[b+2+96]=p[b+1+64]=p[b+0+32]=qt(W,A,M),p[b+3+96]=p[b+2+64]=p[b+1+32]=p[b+0+0]=qt(X,W,A),p[b+3+64]=p[b+2+32]=p[b+1+0]=qt(ee,X,W),p[b+3+32]=p[b+2+0]=qt(ie,ee,X),p[b+3+0]=qt(le,ie,ee)}function ti(p,b){var A=p[b+1-32],M=p[b+2-32],U=p[b+3-32],W=p[b+4-32],X=p[b+5-32],ee=p[b+6-32],ie=p[b+7-32];p[b+0+0]=qt(p[b+0-32],A,M),p[b+1+0]=p[b+0+32]=qt(A,M,U),p[b+2+0]=p[b+1+32]=p[b+0+64]=qt(M,U,W),p[b+3+0]=p[b+2+32]=p[b+1+64]=p[b+0+96]=qt(U,W,X),p[b+3+32]=p[b+2+64]=p[b+1+96]=qt(W,X,ee),p[b+3+64]=p[b+2+96]=qt(X,ee,ie),p[b+3+96]=qt(ee,ie,ie)}function Lc(p,b){var A=p[b-1+0],M=p[b-1+32],U=p[b-1+64],W=p[b-1-32],X=p[b+0-32],ee=p[b+1-32],ie=p[b+2-32],le=p[b+3-32];p[b+0+0]=p[b+1+64]=W+X+1>>1,p[b+1+0]=p[b+2+64]=X+ee+1>>1,p[b+2+0]=p[b+3+64]=ee+ie+1>>1,p[b+3+0]=ie+le+1>>1,p[b+0+96]=qt(U,M,A),p[b+0+64]=qt(M,A,W),p[b+0+32]=p[b+1+96]=qt(A,W,X),p[b+1+32]=p[b+2+96]=qt(W,X,ee),p[b+2+32]=p[b+3+96]=qt(X,ee,ie),p[b+3+32]=qt(ee,ie,le)}function zo(p,b){var A=p[b+0-32],M=p[b+1-32],U=p[b+2-32],W=p[b+3-32],X=p[b+4-32],ee=p[b+5-32],ie=p[b+6-32],le=p[b+7-32];p[b+0+0]=A+M+1>>1,p[b+1+0]=p[b+0+64]=M+U+1>>1,p[b+2+0]=p[b+1+64]=U+W+1>>1,p[b+3+0]=p[b+2+64]=W+X+1>>1,p[b+0+32]=qt(A,M,U),p[b+1+32]=p[b+0+96]=qt(M,U,W),p[b+2+32]=p[b+1+96]=qt(U,W,X),p[b+3+32]=p[b+2+96]=qt(W,X,ee),p[b+3+64]=qt(X,ee,ie),p[b+3+96]=qt(ee,ie,le)}function Ki(p,b){var A=p[b-1+0],M=p[b-1+32],U=p[b-1+64],W=p[b-1+96];p[b+0+0]=A+M+1>>1,p[b+2+0]=p[b+0+32]=M+U+1>>1,p[b+2+32]=p[b+0+64]=U+W+1>>1,p[b+1+0]=qt(A,M,U),p[b+3+0]=p[b+1+32]=qt(M,U,W),p[b+3+32]=p[b+1+64]=qt(U,W,W),p[b+3+64]=p[b+2+64]=p[b+0+96]=p[b+1+96]=p[b+2+96]=p[b+3+96]=W}function Po(p,b){var A=p[b-1+0],M=p[b-1+32],U=p[b-1+64],W=p[b-1+96],X=p[b-1-32],ee=p[b+0-32],ie=p[b+1-32],le=p[b+2-32];p[b+0+0]=p[b+2+32]=A+X+1>>1,p[b+0+32]=p[b+2+64]=M+A+1>>1,p[b+0+64]=p[b+2+96]=U+M+1>>1,p[b+0+96]=W+U+1>>1,p[b+3+0]=qt(ee,ie,le),p[b+2+0]=qt(X,ee,ie),p[b+1+0]=p[b+3+32]=qt(A,X,ee),p[b+1+32]=p[b+3+64]=qt(M,A,X),p[b+1+64]=p[b+3+96]=qt(U,M,A),p[b+1+96]=qt(W,U,M)}function ta(p,b){var A;for(A=0;8>A;++A)i(p,b+32*A,p,b-32,8)}function Su(p,b){var A;for(A=0;8>A;++A)a(p,b,p[b-1],8),b+=32}function ls(p,b,A){var M;for(M=0;8>M;++M)a(b,A+32*M,p,8)}function Nl(p,b){var A,M=8;for(A=0;8>A;++A)M+=p[b+A-32]+p[b-1+32*A];ls(M>>4,p,b)}function Cl(p,b){var A,M=4;for(A=0;8>A;++A)M+=p[b+A-32];ls(M>>3,p,b)}function Yr(p,b){var A,M=4;for(A=0;8>A;++A)M+=p[b-1+32*A];ls(M>>3,p,b)}function na(p,b){ls(128,p,b)}function cs(p,b,A){var M=p[b-A],U=p[b+0],W=3*(U-M)+Fa[1020+p[b-2*A]-p[b+A]],X=zc[112+(W+4>>3)];p[b-A]=di[255+M+zc[112+(W+3>>3)]],p[b+0]=di[255+U-X]}function wa(p,b,A,M){var U=p[b+0],W=p[b+A];return ii[255+p[b-2*A]-p[b-A]]>M||ii[255+W-U]>M}function Tl(p,b,A,M){return 4*ii[255+p[b-A]-p[b+0]]+ii[255+p[b-2*A]-p[b+A]]<=M}function Uo(p,b,A,M,U){var W=p[b-3*A],X=p[b-2*A],ee=p[b-A],ie=p[b+0],le=p[b+A],ve=p[b+2*A],ke=p[b+3*A];return 4*ii[255+ee-ie]+ii[255+X-le]>M?0:ii[255+p[b-4*A]-W]<=U&&ii[255+W-X]<=U&&ii[255+X-ee]<=U&&ii[255+ke-ve]<=U&&ii[255+ve-le]<=U&&ii[255+le-ie]<=U}function Sa(p,b,A,M){var U=2*M+1;for(M=0;16>M;++M)Tl(p,b+M,A,U)&&cs(p,b+M,A)}function Aa(p,b,A,M){var U=2*M+1;for(M=0;16>M;++M)Tl(p,b+M*A,1,U)&&cs(p,b+M*A,1)}function Ho(p,b,A,M){var U;for(U=3;0<U;--U)Sa(p,b+=4*A,A,M)}function jc(p,b,A,M){var U;for(U=3;0<U;--U)Aa(p,b+=4,A,M)}function Na(p,b,A,M,U,W,X,ee){for(W=2*W+1;0<U--;){if(Uo(p,b,A,W,X))if(wa(p,b,A,ee))cs(p,b,A);else{var ie=p,le=b,ve=A,ke=ie[le-2*ve],oe=ie[le-ve],ye=ie[le+0],Ae=ie[le+ve],Be=ie[le+2*ve],Te=27*(Pe=Fa[1020+3*(ye-oe)+Fa[1020+ke-Ae]])+63>>7,Fe=18*Pe+63>>7,Pe=9*Pe+63>>7;ie[le-3*ve]=di[255+ie[le-3*ve]+Pe],ie[le-2*ve]=di[255+ke+Fe],ie[le-ve]=di[255+oe+Te],ie[le+0]=di[255+ye-Te],ie[le+ve]=di[255+Ae-Fe],ie[le+2*ve]=di[255+Be-Pe]}b+=M}}function Ca(p,b,A,M,U,W,X,ee){for(W=2*W+1;0<U--;){if(Uo(p,b,A,W,X))if(wa(p,b,A,ee))cs(p,b,A);else{var ie=p,le=b,ve=A,ke=ie[le-ve],oe=ie[le+0],ye=ie[le+ve],Ae=zc[112+(4+(Be=3*(oe-ke))>>3)],Be=zc[112+(Be+3>>3)],Te=Ae+1>>1;ie[le-2*ve]=di[255+ie[le-2*ve]+Te],ie[le-ve]=di[255+ke+Be],ie[le+0]=di[255+oe-Ae],ie[le+ve]=di[255+ye-Te]}b+=M}}function Au(p,b,A,M,U,W){Na(p,b,A,1,16,M,U,W)}function Ta(p,b,A,M,U,W){Na(p,b,1,A,16,M,U,W)}function Nu(p,b,A,M,U,W){var X;for(X=3;0<X;--X)Ca(p,b+=4*A,A,1,16,M,U,W)}function w(p,b,A,M,U,W){var X;for(X=3;0<X;--X)Ca(p,b+=4,1,A,16,M,U,W)}function P(p,b,A,M,U,W,X,ee){Na(p,b,U,1,8,W,X,ee),Na(A,M,U,1,8,W,X,ee)}function ce(p,b,A,M,U,W,X,ee){Na(p,b,1,U,8,W,X,ee),Na(A,M,1,U,8,W,X,ee)}function ge(p,b,A,M,U,W,X,ee){Ca(p,b+4*U,U,1,8,W,X,ee),Ca(A,M+4*U,U,1,8,W,X,ee)}function we(p,b,A,M,U,W,X,ee){Ca(p,b+4,1,U,8,W,X,ee),Ca(A,M+4,1,U,8,W,X,ee)}function ze(){this.ba=new rt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ot,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $e(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Nt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lt(){this.ua=0,this.Wa=new at,this.vb=new at,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ne,this.yc=new te}function Gt(){this.xb=this.a=0,this.l=new xa,this.ca=new rt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lt,this.ab=0,this.gc=h(4,Nt),this.Oc=0}function tn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function bn(p,b,A,M,U,W,X){for(p=p==null?0:p[b+0],b=0;b<X;++b)U[W+b]=p+A[M+b]&255,p=U[W+b]}function rr(p,b,A,M,U,W,X){var ee;if(p==null)bn(null,null,A,M,U,W,X);else for(ee=0;ee<X;++ee)U[W+ee]=p[b+ee]+A[M+ee]&255}function yr(p,b,A,M,U,W,X){if(p==null)bn(null,null,A,M,U,W,X);else{var ee,ie=p[b+0],le=ie,ve=ie;for(ee=0;ee<X;++ee)le=ve+(ie=p[b+ee])-le,ve=A[M+ee]+(-256&le?0>le?0:255:le)&255,le=ie,U[W+ee]=ve}}function zn(p,b,A,M){var U=b.width,W=b.o;if(e(p!=null&&b!=null),0>A||0>=M||A+M>W)return null;if(!p.Cc){if(p.ga==null){var X;if(p.ga=new tn,(X=p.ga==null)||(X=b.width*b.o,e(p.Gb.length==0),p.Gb=o(X),p.Uc=0,p.Gb==null?X=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,X=1),X=!X),!X){X=p.ga;var ee=p.Fa,ie=p.P,le=p.qc,ve=p.mb,ke=p.nb,oe=ie+1,ye=le-1,Ae=X.l;if(e(ee!=null&&ve!=null&&b!=null),Ba[0]=null,Ba[1]=bn,Ba[2]=rr,Ba[3]=yr,X.ca=ve,X.tb=ke,X.c=b.width,X.i=b.height,e(0<X.c&&0<X.i),1>=le)b=0;else if(X.$a=3&ee[ie+0],X.Z=ee[ie+0]>>2&3,X.Lc=ee[ie+0]>>4&3,ie=ee[ie+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||ie)b=0;else if(Ae.put=Ze,Ae.ac=We,Ae.bc=gt,Ae.ma=X,Ae.width=b.width,Ae.height=b.height,Ae.Da=b.Da,Ae.v=b.v,Ae.va=b.va,Ae.j=b.j,Ae.o=b.o,X.$a)e:{e(X.$a==1),b=Qs();t:for(;;){if(b==null){b=0;break e}if(e(X!=null),X.mc=b,b.c=X.c,b.i=X.i,b.l=X.l,b.l.ma=X,b.l.width=X.c,b.l.height=X.i,b.a=0,fe(b.m,ee,oe,ye),!os(X.c,X.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&pn(b.s)?(X.ic=1,ee=b.c*b.i,b.Ta=null,b.Ua=0,b.V=o(ee),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(X.ic=0,b=Di(b,X.c)),!b))break t;b=1;break e}X.mc=null,b=0}else b=ye>=X.c*X.i;X=!b}if(X)return null;p.ga.Lc!=1?p.Ga=0:M=W-A}e(p.ga!=null),e(A+M<=W);e:{if(b=(ee=p.ga).c,W=ee.l.o,ee.$a==0){if(oe=p.rc,ye=p.Vc,Ae=p.Fa,ie=p.P+1+A*b,le=p.mb,ve=p.nb+A*b,e(ie<=p.P+p.qc),ee.Z!=0)for(e(Ba[ee.Z]!=null),X=0;X<M;++X)Ba[ee.Z](oe,ye,Ae,ie,le,ve,b),oe=le,ye=ve,ve+=b,ie+=b;else for(X=0;X<M;++X)i(le,ve,Ae,ie,b),oe=le,ye=ve,ve+=b,ie+=b;p.rc=oe,p.Vc=ye}else{if(e(ee.mc!=null),b=A+M,e((X=ee.mc)!=null),e(b<=X.i),X.C>=b)b=1;else if(ee.ic||Is(),ee.ic){ee=X.V,oe=X.Ba,ye=X.c;var Be=X.i,Te=(Ae=1,ie=X.$/ye,le=X.$%ye,ve=X.m,ke=X.s,X.$),Fe=ye*Be,Pe=ye*b,Je=ke.wc,Ye=Te<Pe?en(ke,le,ie):null;e(Te<=Fe),e(b<=Be),e(pn(ke));t:for(;;){for(;!ve.h&&Te<Pe;){if(le&Je||(Ye=en(ke,le,ie)),e(Ye!=null),me(ve),256>(Be=Bt(Ye.G[0],Ye.H[0],ve)))ee[oe+Te]=Be,++Te,++le>=ye&&(le=0,++ie<=b&&!(ie%16)&&br(X,ie));else{if(!(280>Be)){Ae=0;break t}Be=Mt(Be-256,ve);var Tt,yt=Bt(Ye.G[4],Ye.H[4],ve);if(me(ve),!(Te>=(yt=$t(ye,yt=Mt(yt,ve)))&&Fe-Te>=Be)){Ae=0;break t}for(Tt=0;Tt<Be;++Tt)ee[oe+Te+Tt]=ee[oe+Te+Tt-yt];for(Te+=Be,le+=Be;le>=ye;)le-=ye,++ie<=b&&!(ie%16)&&br(X,ie);Te<Pe&&le&Je&&(Ye=en(ke,le,ie))}e(ve.h==se(ve))}br(X,ie>b?b:ie);break t}!Ae||ve.h&&Te<Fe?(Ae=0,X.a=ve.h?5:3):X.$=Te,b=Ae}else b=Hr(X,X.V,X.Ba,X.c,X.i,b,Os);if(!b){M=0;break e}}A+M>=W&&(p.Cc=1),M=1}if(!M)return null;if(p.Cc&&((M=p.ga)!=null&&(M.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+A*U}function Vr(p,b,A,M,U,W){for(;0<U--;){var X,ee=p,ie=b+(A?1:0),le=p,ve=b+(A?0:3);for(X=0;X<M;++X){var ke=le[ve+4*X];ke!=255&&(ke*=32897,ee[ie+4*X+0]=ee[ie+4*X+0]*ke>>23,ee[ie+4*X+1]=ee[ie+4*X+1]*ke>>23,ee[ie+4*X+2]=ee[ie+4*X+2]*ke>>23)}b+=W}}function Cr(p,b,A,M,U){for(;0<M--;){var W;for(W=0;W<A;++W){var X=p[b+2*W+0],ee=15&(le=p[b+2*W+1]),ie=4369*ee,le=(240&le|le>>4)*ie>>16;p[b+2*W+0]=(240&X|X>>4)*ie>>16&240|(15&X|X<<4)*ie>>16>>4&15,p[b+2*W+1]=240&le|ee}b+=U}}function ni(p,b,A,M,U,W,X,ee){var ie,le,ve=255;for(le=0;le<U;++le){for(ie=0;ie<M;++ie){var ke=p[b+ie];W[X+4*ie]=ke,ve&=ke}b+=A,X+=ee}return ve!=255}function Ea(p,b,A,M,U){var W;for(W=0;W<U;++W)A[M+W]=p[b+W]>>8}function Is(){Xo=Vr,hs=Cr,Fc=ni,es=Ea}function ka(p,b,A){V[p]=function(M,U,W,X,ee,ie,le,ve,ke,oe,ye,Ae,Be,Te,Fe,Pe,Je){var Ye,Tt=Je-1>>1,yt=ee[ie+0]|le[ve+0]<<16,Kt=ke[oe+0]|ye[Ae+0]<<16;e(M!=null);var At=3*yt+Kt+131074>>2;for(b(M[U+0],255&At,At>>16,Be,Te),W!=null&&(At=3*Kt+yt+131074>>2,b(W[X+0],255&At,At>>16,Fe,Pe)),Ye=1;Ye<=Tt;++Ye){var cn=ee[ie+Ye]|le[ve+Ye]<<16,$n=ke[oe+Ye]|ye[Ae+Ye]<<16,nn=yt+cn+Kt+$n+524296,xt=nn+2*(cn+Kt)>>3;At=xt+yt>>1,yt=(nn=nn+2*(yt+$n)>>3)+cn>>1,b(M[U+2*Ye-1],255&At,At>>16,Be,Te+(2*Ye-1)*A),b(M[U+2*Ye-0],255&yt,yt>>16,Be,Te+(2*Ye-0)*A),W!=null&&(At=nn+Kt>>1,yt=xt+$n>>1,b(W[X+2*Ye-1],255&At,At>>16,Fe,Pe+(2*Ye-1)*A),b(W[X+2*Ye+0],255&yt,yt>>16,Fe,Pe+(2*Ye+0)*A)),yt=cn,Kt=$n}1&Je||(At=3*yt+Kt+131074>>2,b(M[U+Je-1],255&At,At>>16,Be,Te+(Je-1)*A),W!=null&&(At=3*Kt+yt+131074>>2,b(W[X+Je-1],255&At,At>>16,Fe,Pe+(Je-1)*A)))}}function Dc(){ai[ku]=Ko,ai[pi]=Fl,ai[Mu]=Xh,ai[fs]=Ru,ai[Pc]=vo,ai[Rl]=ha,ai[po]=bo,ai[Uc]=Fl,ai[Ou]=Ru,ai[Il]=vo,ai[Lu]=ha}function El(p){return p&-16384?0>p?0:255:p>>Iu}function ra(p,b){return El((19077*p>>8)+(26149*b>>8)-14234)}function Vs(p,b,A){return El((19077*p>>8)-(6419*b>>8)-(13320*A>>8)+8708)}function Go(p,b){return El((19077*p>>8)+(33050*b>>8)-17685)}function Ma(p,b,A,M,U){M[U+0]=ra(p,A),M[U+1]=Vs(p,b,A),M[U+2]=Go(p,b)}function Wr(p,b,A,M,U){M[U+0]=Go(p,b),M[U+1]=Vs(p,b,A),M[U+2]=ra(p,A)}function uo(p,b,A,M,U){var W=Vs(p,b,A);b=W<<3&224|Go(p,b)>>3,M[U+0]=248&ra(p,A)|W>>5,M[U+1]=b}function ho(p,b,A,M,U){var W=240&Go(p,b)|15;M[U+0]=240&ra(p,A)|Vs(p,b,A)>>4,M[U+1]=W}function kl(p,b,A,M,U){M[U+0]=255,Ma(p,b,A,M,U+1)}function ia(p,b,A,M,U){Wr(p,b,A,M,U),M[U+3]=255}function Ni(p,b,A,M,U){Ma(p,b,A,M,U),M[U+3]=255}function Oa(p,b,A){V[p]=function(M,U,W,X,ee,ie,le,ve,ke){for(var oe=ve+(-2&ke)*A;ve!=oe;)b(M[U+0],W[X+0],ee[ie+0],le,ve),b(M[U+1],W[X+0],ee[ie+0],le,ve+A),U+=2,++X,++ie,ve+=2*A;1&ke&&b(M[U+0],W[X+0],ee[ie+0],le,ve)}}function Ml(p,b,A){return A==0?p==0?b==0?6:5:b==0?4:0:A}function Rc(p,b,A,M,U){switch(p>>>30){case 3:Va(b,A,M,U,0);break;case 2:fi(b,A,M,U);break;case 1:kn(b,A,M,U)}}function Qi(p,b){var A,M,U=b.M,W=b.Nb,X=p.oc,ee=p.pc+40,ie=p.oc,le=p.pc+584,ve=p.oc,ke=p.pc+600;for(A=0;16>A;++A)X[ee+32*A-1]=129;for(A=0;8>A;++A)ie[le+32*A-1]=129,ve[ke+32*A-1]=129;for(0<U?X[ee-1-32]=ie[le-1-32]=ve[ke-1-32]=129:(a(X,ee-32-1,127,21),a(ie,le-32-1,127,9),a(ve,ke-32-1,127,9)),M=0;M<p.za;++M){var oe=b.ya[b.aa+M];if(0<M){for(A=-1;16>A;++A)i(X,ee+32*A-4,X,ee+32*A+12,4);for(A=-1;8>A;++A)i(ie,le+32*A-4,ie,le+32*A+4,4),i(ve,ke+32*A-4,ve,ke+32*A+4,4)}var ye=p.Gd,Ae=p.Hd+M,Be=oe.ad,Te=oe.Hc;if(0<U&&(i(X,ee-32,ye[Ae].y,0,16),i(ie,le-32,ye[Ae].f,0,8),i(ve,ke-32,ye[Ae].ea,0,8)),oe.Za){var Fe=X,Pe=ee-32+16;for(0<U&&(M>=p.za-1?a(Fe,Pe,ye[Ae].y[15],4):i(Fe,Pe,ye[Ae+1].y,0,4)),A=0;4>A;A++)Fe[Pe+128+A]=Fe[Pe+256+A]=Fe[Pe+384+A]=Fe[Pe+0+A];for(A=0;16>A;++A,Te<<=2)Fe=X,Pe=ee+wr[A],fr[oe.Ob[A]](Fe,Pe),Rc(Te,Be,16*+A,Fe,Pe)}else if(Fe=Ml(M,U,oe.Ob[0]),Ti[Fe](X,ee),Te!=0)for(A=0;16>A;++A,Te<<=2)Rc(Te,Be,16*+A,X,ee+wr[A]);for(A=oe.Gc,Fe=Ml(M,U,oe.Dd),zs[Fe](ie,le),zs[Fe](ve,ke),Te=Be,Fe=ie,Pe=le,255&(oe=0|A)&&(170&oe?us(Te,256,Fe,Pe):yn(Te,256,Fe,Pe)),oe=ve,Te=ke,255&(A>>=8)&&(170&A?us(Be,320,oe,Te):yn(Be,320,oe,Te)),U<p.Ub-1&&(i(ye[Ae].y,0,X,ee+480,16),i(ye[Ae].f,0,ie,le+224,8),i(ye[Ae].ea,0,ve,ke+224,8)),A=8*W*p.B,ye=p.sa,Ae=p.ta+16*M+16*W*p.R,Be=p.qa,oe=p.ra+8*M+A,Te=p.Ha,Fe=p.Ia+8*M+A,A=0;16>A;++A)i(ye,Ae+A*p.R,X,ee+32*A,16);for(A=0;8>A;++A)i(Be,oe+A*p.B,ie,le+32*A,8),i(Te,Fe+A*p.B,ve,ke+32*A,8)}}function Fs(p,b,A,M,U,W,X,ee,ie){var le=[0],ve=[0],ke=0,oe=ie!=null?ie.kd:0,ye=ie??new $e;if(p==null||12>A)return 7;ye.data=p,ye.w=b,ye.ha=A,b=[b],A=[A],ye.gb=[ye.gb];e:{var Ae=b,Be=A,Te=ye.gb;if(e(p!=null),e(Be!=null),e(Te!=null),Te[0]=0,12<=Be[0]&&!t(p,Ae[0],"RIFF")){if(t(p,Ae[0]+8,"WEBP")){Te=3;break e}var Fe=st(p,Ae[0]+4);if(12>Fe||4294967286<Fe){Te=3;break e}if(oe&&Fe>Be[0]-8){Te=7;break e}Te[0]=Fe,Ae[0]+=12,Be[0]-=12}Te=0}if(Te!=0)return Te;for(Fe=0<ye.gb[0],A=A[0];;){e:{var Pe=p;Be=b,Te=A;var Je=le,Ye=ve,Tt=Ae=[0];if((At=ke=[ke])[0]=0,8>Te[0])Te=7;else{if(!t(Pe,Be[0],"VP8X")){if(st(Pe,Be[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var yt=st(Pe,Be[0]+8),Kt=1+it(Pe,Be[0]+12);if(2147483648<=Kt*(Pe=1+it(Pe,Be[0]+15))){Te=3;break e}Tt!=null&&(Tt[0]=yt),Je!=null&&(Je[0]=Kt),Ye!=null&&(Ye[0]=Pe),Be[0]+=18,Te[0]-=18,At[0]=1}Te=0}}if(ke=ke[0],Ae=Ae[0],Te!=0)return Te;if(Be=!!(2&Ae),!Fe&&ke)return 3;if(W!=null&&(W[0]=!!(16&Ae)),X!=null&&(X[0]=Be),ee!=null&&(ee[0]=0),X=le[0],Ae=ve[0],ke&&Be&&ie==null){Te=0;break}if(4>A){Te=7;break}if(Fe&&ke||!Fe&&!ke&&!t(p,b[0],"ALPH")){A=[A],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{yt=p,Te=b,Fe=A;var At=ye.gb;Je=ye.na,Ye=ye.P,Tt=ye.Sa,Kt=22,e(yt!=null),e(Fe!=null),Pe=Te[0];var cn=Fe[0];for(e(Je!=null),e(Tt!=null),Je[0]=null,Ye[0]=null,Tt[0]=0;;){if(Te[0]=Pe,Fe[0]=cn,8>cn){Te=7;break e}var $n=st(yt,Pe+4);if(4294967286<$n){Te=3;break e}var nn=8+$n+1&-2;if(Kt+=nn,0<At&&Kt>At){Te=3;break e}if(!t(yt,Pe,"VP8 ")||!t(yt,Pe,"VP8L")){Te=0;break e}if(cn[0]<nn){Te=7;break e}t(yt,Pe,"ALPH")||(Je[0]=yt,Ye[0]=Pe+8,Tt[0]=$n),Pe+=nn,cn-=nn}}if(A=A[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],Te!=0)break}A=[A],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(At=p,Te=b,Fe=A,Je=ye.gb[0],Ye=ye.Ja,Tt=ye.xa,yt=Te[0],Pe=!t(At,yt,"VP8 "),Kt=!t(At,yt,"VP8L"),e(At!=null),e(Fe!=null),e(Ye!=null),e(Tt!=null),8>Fe[0])Te=7;else{if(Pe||Kt){if(At=st(At,yt+4),12<=Je&&At>Je-12){Te=3;break e}if(oe&&At>Fe[0]-8){Te=7;break e}Ye[0]=At,Te[0]+=8,Fe[0]-=8,Tt[0]=Kt}else Tt[0]=5<=Fe[0]&&At[yt+0]==47&&!(At[yt+4]>>5),Ye[0]=Fe[0];Te=0}if(A=A[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],b=b[0],Te!=0)break;if(4294967286<ye.Ja)return 3;if(ee==null||Be||(ee[0]=ye.xa?2:1),X=[X],Ae=[Ae],ye.xa){if(5>A){Te=7;break}ee=X,oe=Ae,Be=W,p==null||5>A?p=0:5<=A&&p[b+0]==47&&!(p[b+4]>>5)?(Fe=[0],At=[0],Je=[0],fe(Ye=new q,p,b,A),St(Ye,Fe,At,Je)?(ee!=null&&(ee[0]=Fe[0]),oe!=null&&(oe[0]=At[0]),Be!=null&&(Be[0]=Je[0]),p=1):p=0):p=0}else{if(10>A){Te=7;break}ee=Ae,p==null||10>A||!Ac(p,b+3,A-3)?p=0:(oe=p[b+0]|p[b+1]<<8|p[b+2]<<16,Be=16383&(p[b+7]<<8|p[b+6]),p=16383&(p[b+9]<<8|p[b+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=ye.Ja||!Be||!p?p=0:(X&&(X[0]=Be),ee&&(ee[0]=p),p=1))}if(!p||(X=X[0],Ae=Ae[0],ke&&(le[0]!=X||ve[0]!=Ae)))return 3;ie!=null&&(ie[0]=ye,ie.offset=b-ie.w,e(4294967286>b-ie.w),e(ie.offset==ie.ha-A));break}return Te==0||Te==7&&ke&&ie==null?(W!=null&&(W[0]|=ye.na!=null&&0<ye.na.length),M!=null&&(M[0]=X),U!=null&&(U[0]=Ae),0):Te}function La(p,b,A){var M=b.width,U=b.height,W=0,X=0,ee=M,ie=U;if(b.Da=p!=null&&0<p.Da,b.Da&&(ee=p.cd,ie=p.bd,W=p.v,X=p.j,11>A||(W&=-2,X&=-2),0>W||0>X||0>=ee||0>=ie||W+ee>M||X+ie>U))return 0;if(b.v=W,b.j=X,b.va=W+ee,b.o=X+ie,b.U=ee,b.T=ie,b.da=p!=null&&0<p.da,b.da){if(!Xe(ee,ie,A=[p.ib],W=[p.hb]))return 0;b.ib=A[0],b.hb=W[0]}return b.ob=p!=null&&p.ob,b.Kb=p==null||!p.Sd,b.da&&(b.ob=b.ib<3*M/4&&b.hb<3*U/4,b.Kb=0),1}function Ic(p){if(p==null)return 2;if(11>p.S){var b=p.f.RGBA;b.fb+=(p.height-1)*b.A,b.A=-b.A}else b=p.f.kb,p=p.height,b.O+=(p-1)*b.fa,b.fa=-b.fa,b.N+=(p-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(p-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(p-1)*b.lb,b.lb=-b.lb);return 0}function Bs(p,b,A,M){if(M==null||0>=p||0>=b)return 2;if(A!=null){if(A.Da){var U=A.cd,W=A.bd,X=-2&A.v,ee=-2&A.j;if(0>X||0>ee||0>=U||0>=W||X+U>p||ee+W>b)return 2;p=U,b=W}if(A.da){if(!Xe(p,b,U=[A.ib],W=[A.hb]))return 2;p=U[0],b=W[0]}}M.width=p,M.height=b;e:{var ie=M.width,le=M.height;if(p=M.S,0>=ie||0>=le||!(p>=ku&&13>p))p=2;else{if(0>=M.Rd&&M.sd==null){X=W=U=b=0;var ve=(ee=ie*Fu[p])*le;if(11>p||(W=(le+1)/2*(b=(ie+1)/2),p==12&&(X=(U=ie)*le)),(le=o(ve+2*W+X))==null){p=1;break e}M.sd=le,11>p?((ie=M.f.RGBA).eb=le,ie.fb=0,ie.A=ee,ie.size=ve):((ie=M.f.kb).y=le,ie.O=0,ie.fa=ee,ie.Fd=ve,ie.f=le,ie.N=0+ve,ie.Ab=b,ie.Cd=W,ie.ea=le,ie.W=0+ve+W,ie.Db=b,ie.Ed=W,p==12&&(ie.F=le,ie.J=0+ve+2*W),ie.Tc=X,ie.lb=U)}if(b=1,U=M.S,W=M.width,X=M.height,U>=ku&&13>U)if(11>U)p=M.f.RGBA,b&=(ee=Math.abs(p.A))*(X-1)+W<=p.size,b&=ee>=W*Fu[U],b&=p.eb!=null;else{p=M.f.kb,ee=(W+1)/2,ve=(X+1)/2,ie=Math.abs(p.fa),le=Math.abs(p.Ab);var ke=Math.abs(p.Db),oe=Math.abs(p.lb),ye=oe*(X-1)+W;b&=ie*(X-1)+W<=p.Fd,b&=le*(ve-1)+ee<=p.Cd,b=(b&=ke*(ve-1)+ee<=p.Ed)&ie>=W&le>=ee&ke>=ee,b&=p.y!=null,b&=p.f!=null,b&=p.ea!=null,U==12&&(b&=oe>=W,b&=ye<=p.Tc,b&=p.F!=null)}else b=0;p=b?0:2}}return p!=0||A!=null&&A.fd&&(p=Ic(M)),p}var fo=64,Vi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ci=24,sa=32,aa=8,ja=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(p){return p},V.Predictor2=function(p,b,A){return b[A+0]},V.Predictor3=function(p,b,A){return b[A+1]},V.Predictor4=function(p,b,A){return b[A-1]},V.Predictor5=function(p,b,A){return dt(dt(p,b[A+1]),b[A+0])},V.Predictor6=function(p,b,A){return dt(p,b[A-1])},V.Predictor7=function(p,b,A){return dt(p,b[A+0])},V.Predictor8=function(p,b,A){return dt(b[A-1],b[A+0])},V.Predictor9=function(p,b,A){return dt(b[A+0],b[A+1])},V.Predictor10=function(p,b,A){return dt(dt(p,b[A-1]),dt(b[A+0],b[A+1]))},V.Predictor11=function(p,b,A){var M=b[A+0];return 0>=Dt(M>>24&255,p>>24&255,(b=b[A-1])>>24&255)+Dt(M>>16&255,p>>16&255,b>>16&255)+Dt(M>>8&255,p>>8&255,b>>8&255)+Dt(255&M,255&p,255&b)?M:p},V.Predictor12=function(p,b,A){var M=b[A+0];return(kt((p>>24&255)+(M>>24&255)-((b=b[A-1])>>24&255))<<24|kt((p>>16&255)+(M>>16&255)-(b>>16&255))<<16|kt((p>>8&255)+(M>>8&255)-(b>>8&255))<<8|kt((255&p)+(255&M)-(255&b)))>>>0},V.Predictor13=function(p,b,A){var M=b[A-1];return(Xt((p=dt(p,b[A+0]))>>24&255,M>>24&255)<<24|Xt(p>>16&255,M>>16&255)<<16|Xt(p>>8&255,M>>8&255)<<8|Xt(255&p,255&M))>>>0};var Ol=V.PredictorAdd0;V.PredictorAdd1=De,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var Ll=V.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var xr,Cu=V.ColorIndexInverseTransform,oa=V.MapARGB,la=V.VP8LColorIndexInverseTransformAlpha,ri=V.MapAlpha,Da=V.VP8LPredictorsAdd=[];Da.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var jl,Dl,Ra,Ia,ca,Yo,Ji,Va,fi,us,kn,yn,Pn,_r,ua,qs,Wo,Vc,Uh,yd,xd,_d,Hh,Gh,Xo,hs,Fc,es,Zo=o(511),Tu=o(2041),Bc=o(225),qc=o(767),Eu=0,Fa=Tu,zc=Bc,di=qc,ii=Zo,ku=0,pi=1,Mu=2,fs=3,Pc=4,Rl=5,po=6,Uc=7,Ou=8,Il=9,Lu=10,ds=[2,3,7],Vl=[3,3,11],$o=[280,256,256,256,40],ju=[0,1,1,1,0],Hc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ps=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ms=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mo=8,gs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],vs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ts=null,wd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Yh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Du=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Sd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],si=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Zn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],un=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ti=[],fr=[],zs=[],go=1,Wh=2,Ba=[],ai=[];ka("UpsampleRgbLinePair",Ma,3),ka("UpsampleBgrLinePair",Wr,3),ka("UpsampleRgbaLinePair",Ni,4),ka("UpsampleBgraLinePair",ia,4),ka("UpsampleArgbLinePair",kl,4),ka("UpsampleRgba4444LinePair",ho,2),ka("UpsampleRgb565LinePair",uo,2);var Ko=V.UpsampleRgbLinePair,Xh=V.UpsampleBgrLinePair,Fl=V.UpsampleRgbaLinePair,Ru=V.UpsampleBgraLinePair,vo=V.UpsampleArgbLinePair,ha=V.UpsampleRgba4444LinePair,bo=V.UpsampleRgb565LinePair,bs=16,Bl=1<<bs-1,Qo=-227,yo=482,Iu=6,xo=0,oi=o(256),Vu=o(256),Ad=o(256),Pp=o(256),Up=o(yo-Qo),Hp=o(yo-Qo);Oa("YuvToRgbRow",Ma,3),Oa("YuvToBgrRow",Wr,3),Oa("YuvToRgbaRow",Ni,4),Oa("YuvToBgraRow",ia,4),Oa("YuvToArgbRow",kl,4),Oa("YuvToRgba4444Row",ho,2),Oa("YuvToRgb565Row",uo,2);var wr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ql=[0,2,8],Gc=[8,7,6,4,4,2,2,2,1,1,1,1],Yc=1;this.WebPDecodeRGBA=function(p,b,A,M,U){var W=pi,X=new ze,ee=new rt;X.ba=ee,ee.S=W,ee.width=[ee.width],ee.height=[ee.height];var ie=ee.width,le=ee.height,ve=new lt;if(ve==null||p==null)var ke=2;else e(ve!=null),ke=Fs(p,b,A,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(ke!=0?ie=0:(ie!=null&&(ie[0]=ve.width[0]),le!=null&&(le[0]=ve.height[0]),ie=1),ie){ee.width=ee.width[0],ee.height=ee.height[0],M!=null&&(M[0]=ee.width),U!=null&&(U[0]=ee.height);e:{if(M=new xa,(U=new $e).data=p,U.w=b,U.ha=A,U.kd=1,b=[0],e(U!=null),((p=Fs(U.data,U.w,U.ha,null,null,null,b,null,U))==0||p==7)&&b[0]&&(p=4),(b=p)==0){if(e(X!=null),M.data=U.data,M.w=U.w+U.offset,M.ha=U.ha-U.offset,M.put=Ze,M.ac=We,M.bc=gt,M.ma=X,U.xa){if((p=Qs())==null){X=1;break e}if((function(oe,ye){var Ae=[0],Be=[0],Te=[0];t:for(;;){if(oe==null)return 0;if(ye==null)return oe.a=2,0;if(oe.l=ye,oe.a=0,fe(oe.m,ye.data,ye.w,ye.ha),!St(oe.m,Ae,Be,Te)){oe.a=3;break t}if(oe.xb=Wh,ye.width=Ae[0],ye.height=Be[0],!os(Ae[0],Be[0],1,oe,null))break t;return 1}return e(oe.a!=0),0})(p,M)){if(M=(b=Bs(M.width,M.height,X.Oa,X.ba))==0){t:{M=p;n:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((A=M.l)!=null),e((U=A.ma)!=null),M.xb!=0){if(M.ca=U.ba,M.tb=U.tb,e(M.ca!=null),!La(U.Oa,A,fs)){M.a=2;break n}if(!Di(M,A.width)||A.da)break n;if((A.da||vt(M.ca.S))&&Is(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&Is()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!H(M.s.vb,M.s.Wa.Xa)){M.a=1;break n}M.xb=0}if(!Hr(M,M.V,M.Ba,M.c,M.i,A.o,qn))break n;U.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(b=p.a)}else b=p.a}else{if((p=new js)==null){X=1;break e}if(p.Fa=U.na,p.P=U.P,p.qc=U.Sa,ea(p,M)){if((b=Bs(M.width,M.height,X.Oa,X.ba))==0){if(p.Aa=0,A=X.Oa,e((U=p)!=null),A!=null){if(0<(ie=0>(ie=A.Md)?0:100<ie?255:255*ie/100)){for(le=ve=0;4>le;++le)12>(ke=U.pb[le]).lc&&(ke.ia=ie*Gc[0>ke.lc?0:ke.lc]>>3),ve|=ke.ia;ve&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=A.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(oe,ye){if(oe==null)return 0;if(ye==null)return En(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!ea(oe,ye))return 0;if(e(oe.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(oe.L=0);var Ae=ql[oe.L];if(oe.L==2?(oe.yb=0,oe.zb=0):(oe.yb=ye.v-Ae>>4,oe.zb=ye.j-Ae>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=ye.o+15+Ae>>4,oe.Hb=ye.va+15+Ae>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var Be=oe.ed;for(Ae=0;4>Ae;++Ae){var Te;if(oe.Qa.Cb){var Fe=oe.Qa.Lb[Ae];oe.Qa.Fb||(Fe+=Be.Tb)}else Fe=Be.Tb;for(Te=0;1>=Te;++Te){var Pe=oe.gd[Ae][Te],Je=Fe;if(Be.Pc&&(Je+=Be.vd[0],Te&&(Je+=Be.od[0])),0<(Je=0>Je?0:63<Je?63:Je)){var Ye=Je;0<Be.wb&&(Ye=4<Be.wb?Ye>>2:Ye>>1)>9-Be.wb&&(Ye=9-Be.wb),1>Ye&&(Ye=1),Pe.dd=Ye,Pe.tc=2*Je+Ye,Pe.ld=40<=Je?2:15<=Je?1:0}else Pe.tc=0;Pe.La=Te}}}Ae=0}else En(oe,6,"Frame setup failed"),Ae=oe.a;if(Ae=Ae==0){if(Ae){oe.$c=0,0<oe.Aa||(oe.Ic=Yc);t:{Ae=oe.Ic,Be=4*(Ye=oe.za);var Tt=32*Ye,yt=Ye+1,Kt=0<oe.L?Ye*(0<oe.Aa?2:1):0,At=(oe.Aa==2?2:1)*Ye;if((Pe=Be+832+(Te=3*(16*Ae+ql[oe.L])/2*Tt)+(Fe=oe.Fa!=null&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=Pe)Ae=0;else{if(Pe>oe.Vb){if(oe.Vb=0,oe.Ec=o(Pe),oe.Fc=0,oe.Ec==null){Ae=En(oe,1,"no memory during frame initialization.");break t}oe.Vb=Pe}Pe=oe.Ec,Je=oe.Fc,oe.Ac=Pe,oe.Bc=Je,Je+=Be,oe.Gd=h(Tt,Sc),oe.Hd=0,oe.rb=h(yt+1,Xi),oe.sb=1,oe.wa=Kt?h(Kt,wi):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=Ye),e(!0),oe.oc=Pe,oe.pc=Je,Je+=832,oe.ya=h(At,_c),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,oe.Aa==2&&(oe.D.aa+=Ye),oe.R=16*Ye,oe.B=8*Ye,Ye=(Tt=ql[oe.L])*oe.R,Tt=Tt/2*oe.B,oe.sa=Pe,oe.ta=Je+Ye,oe.qa=oe.sa,oe.ra=oe.ta+16*Ae*oe.R+Tt,oe.Ha=oe.qa,oe.Ia=oe.ra+8*Ae*oe.B+Tt,oe.$c=0,Je+=Te,oe.mb=Fe?Pe:null,oe.nb=Fe?Je:null,e(Je+Fe<=oe.Fc+oe.Vb),Nc(oe),a(oe.Ac,oe.Bc,0,Be),Ae=1}}if(Ae){if(ye.ka=0,ye.y=oe.sa,ye.O=oe.ta,ye.f=oe.qa,ye.N=oe.ra,ye.ea=oe.Ha,ye.Vd=oe.Ia,ye.fa=oe.R,ye.Rc=oe.B,ye.F=null,ye.J=0,!Eu){for(Ae=-255;255>=Ae;++Ae)Zo[255+Ae]=0>Ae?-Ae:Ae;for(Ae=-1020;1020>=Ae;++Ae)Tu[1020+Ae]=-128>Ae?-128:127<Ae?127:Ae;for(Ae=-112;112>=Ae;++Ae)Bc[112+Ae]=-16>Ae?-16:15<Ae?15:Ae;for(Ae=-255;510>=Ae;++Ae)qc[255+Ae]=0>Ae?0:255<Ae?255:Ae;Eu=1}Ji=Ds,Va=Cc,us=Ai,kn=Tc,yn=Ec,fi=vu,Pn=Au,_r=Ta,ua=P,qs=ce,Wo=Nu,Vc=w,Uh=ge,yd=we,xd=Sa,_d=Aa,Hh=Ho,Gh=jc,fr[0]=wu,fr[1]=bu,fr[2]=_u,fr[3]=Oc,fr[4]=$i,fr[5]=Lc,fr[6]=ti,fr[7]=zo,fr[8]=Po,fr[9]=Ki,Ti[0]=Rs,Ti[1]=kc,Ti[2]=Mc,Ti[3]=xu,Ti[4]=_a,Ti[5]=qo,Ti[6]=co,zs[0]=Nl,zs[1]=yu,zs[2]=ta,zs[3]=Su,zs[4]=Yr,zs[5]=Cl,zs[6]=na,Ae=1}else Ae=0}Ae&&(Ae=(function(cn,$n){for(cn.M=0;cn.M<cn.Va;++cn.M){var nn,xt=cn.Jc[cn.M&cn.Xb],ht=cn.m,ir=cn;for(nn=0;nn<ir.za;++nn){var zt=ht,an=ir,jn=an.Ac,Fr=an.Bc+4*nn,li=an.zc,Un=an.ya[an.aa+nn];if(an.Qa.Bb?Un.$b=Ne(zt,an.Pa.jb[0])?2+Ne(zt,an.Pa.jb[2]):Ne(zt,an.Pa.jb[1]):Un.$b=0,an.kc&&(Un.Ad=Ne(zt,an.Bd)),Un.Za=!Ne(zt,145)+0,Un.Za){var Tr=Un.Ob,mi=0;for(an=0;4>an;++an){var Er,ln=li[0+an];for(Er=0;4>Er;++Er){ln=si[jn[Fr+Er]][ln];for(var wn=Du[Ne(zt,ln[0])];0<wn;)wn=Du[2*wn+Ne(zt,ln[wn])];ln=-wn,jn[Fr+Er]=ln}i(Tr,mi,jn,Fr,4),mi+=4,li[0+an]=ln}}else ln=Ne(zt,156)?Ne(zt,128)?1:3:Ne(zt,163)?2:0,Un.Ob[0]=ln,a(jn,Fr,ln,4),a(li,0,ln,4);Un.Dd=Ne(zt,142)?Ne(zt,114)?Ne(zt,183)?1:3:2:0}if(ir.m.Ka)return En(cn,7,"Premature end-of-partition0 encountered.");for(;cn.ja<cn.za;++cn.ja){if(ir=xt,zt=(ht=cn).rb[ht.sb-1],jn=ht.rb[ht.sb+ht.ja],nn=ht.ya[ht.aa+ht.ja],Fr=ht.kc?nn.Ad:0)zt.la=jn.la=0,nn.Za||(zt.Na=jn.Na=0),nn.Hc=0,nn.Gc=0,nn.ia=0;else{var sr,Mn;if(zt=jn,jn=ir,Fr=ht.Pa.Xc,li=ht.ya[ht.aa+ht.ja],Un=ht.pb[li.$b],an=li.ad,Tr=0,mi=ht.rb[ht.sb-1],ln=Er=0,a(an,Tr,0,384),li.Za)var Br=0,ar=Fr[3];else{wn=o(16);var Sn=zt.Na+mi.Na;if(Sn=ts(jn,Fr[1],Sn,Un.Eb,0,wn,0),zt.Na=mi.Na=(0<Sn)+0,1<Sn)Ji(wn,0,an,Tr);else{var Sr=wn[0]+3>>3;for(wn=0;256>wn;wn+=16)an[Tr+wn]=Sr}Br=1,ar=Fr[0]}var Dn=15&zt.la,kr=15&mi.la;for(wn=0;4>wn;++wn){var Mr=1&kr;for(Sr=Mn=0;4>Sr;++Sr)Dn=Dn>>1|(Mr=(Sn=ts(jn,ar,Sn=Mr+(1&Dn),Un.Sc,Br,an,Tr))>Br)<<7,Mn=Mn<<2|(3<Sn?3:1<Sn?2:an[Tr+0]!=0),Tr+=16;Dn>>=4,kr=kr>>1|Mr<<7,Er=(Er<<8|Mn)>>>0}for(ar=Dn,Br=kr>>4,sr=0;4>sr;sr+=2){for(Mn=0,Dn=zt.la>>4+sr,kr=mi.la>>4+sr,wn=0;2>wn;++wn){for(Mr=1&kr,Sr=0;2>Sr;++Sr)Sn=Mr+(1&Dn),Dn=Dn>>1|(Mr=0<(Sn=ts(jn,Fr[2],Sn,Un.Qc,0,an,Tr)))<<3,Mn=Mn<<2|(3<Sn?3:1<Sn?2:an[Tr+0]!=0),Tr+=16;Dn>>=2,kr=kr>>1|Mr<<5}ln|=Mn<<4*sr,ar|=Dn<<4<<sr,Br|=(240&kr)<<sr}zt.la=ar,mi.la=Br,li.Hc=Er,li.Gc=ln,li.ia=43690&ln?0:Un.ia,Fr=!(Er|ln)}if(0<ht.L&&(ht.wa[ht.Y+ht.ja]=ht.gd[nn.$b][nn.Za],ht.wa[ht.Y+ht.ja].La|=!Fr),ir.Ka)return En(cn,7,"Premature end-of-file encountered.")}if(Nc(cn),ht=$n,ir=1,nn=(xt=cn).D,zt=0<xt.L&&xt.M>=xt.zb&&xt.M<=xt.Va,xt.Aa==0)t:{if(nn.M=xt.M,nn.uc=zt,Qi(xt,nn),ir=1,nn=(Mn=xt.D).Nb,zt=(ln=ql[xt.L])*xt.R,jn=ln/2*xt.B,wn=16*nn*xt.R,Sr=8*nn*xt.B,Fr=xt.sa,li=xt.ta-zt+wn,Un=xt.qa,an=xt.ra-jn+Sr,Tr=xt.Ha,mi=xt.Ia-jn+Sr,kr=(Dn=Mn.M)==0,Er=Dn>=xt.Va-1,xt.Aa==2&&Qi(xt,Mn),Mn.uc)for(Mr=(Sn=xt).D.M,e(Sn.D.uc),Mn=Sn.yb;Mn<Sn.Hb;++Mn){Br=Mn,ar=Mr;var In=(xn=(Or=Sn).D).Nb;sr=Or.R;var xn=xn.wa[xn.Y+Br],gi=Or.sa,dr=Or.ta+16*In*sr+16*Br,It=xn.dd,Vt=xn.tc;if(Vt!=0)if(e(3<=Vt),Or.L==1)0<Br&&_d(gi,dr,sr,Vt+4),xn.La&&Gh(gi,dr,sr,Vt),0<ar&&xd(gi,dr,sr,Vt+4),xn.La&&Hh(gi,dr,sr,Vt);else{var An=Or.B,Fi=Or.qa,ys=Or.ra+8*In*An+8*Br,Ei=Or.Ha,Or=Or.Ia+8*In*An+8*Br;In=xn.ld,0<Br&&(_r(gi,dr,sr,Vt+4,It,In),qs(Fi,ys,Ei,Or,An,Vt+4,It,In)),xn.La&&(Vc(gi,dr,sr,Vt,It,In),yd(Fi,ys,Ei,Or,An,Vt,It,In)),0<ar&&(Pn(gi,dr,sr,Vt+4,It,In),ua(Fi,ys,Ei,Or,An,Vt+4,It,In)),xn.La&&(Wo(gi,dr,sr,Vt,It,In),Uh(Fi,ys,Ei,Or,An,Vt,It,In))}}if(xt.ia&&alert("todo:DitherRow"),ht.put!=null){if(Mn=16*Dn,Dn=16*(Dn+1),kr?(ht.y=xt.sa,ht.O=xt.ta+wn,ht.f=xt.qa,ht.N=xt.ra+Sr,ht.ea=xt.Ha,ht.W=xt.Ia+Sr):(Mn-=ln,ht.y=Fr,ht.O=li,ht.f=Un,ht.N=an,ht.ea=Tr,ht.W=mi),Er||(Dn-=ln),Dn>ht.o&&(Dn=ht.o),ht.F=null,ht.J=null,xt.Fa!=null&&0<xt.Fa.length&&Mn<Dn&&(ht.J=zn(xt,ht,Mn,Dn-Mn),ht.F=xt.mb,ht.F==null&&ht.F.length==0)){ir=En(xt,3,"Could not decode alpha data.");break t}Mn<ht.j&&(ln=ht.j-Mn,Mn=ht.j,e(!(1&ln)),ht.O+=xt.R*ln,ht.N+=xt.B*(ln>>1),ht.W+=xt.B*(ln>>1),ht.F!=null&&(ht.J+=ht.width*ln)),Mn<Dn&&(ht.O+=ht.v,ht.N+=ht.v>>1,ht.W+=ht.v>>1,ht.F!=null&&(ht.J+=ht.v),ht.ka=Mn-ht.j,ht.U=ht.va-ht.v,ht.T=Dn-Mn,ir=ht.put(ht))}nn+1!=xt.Ic||Er||(i(xt.sa,xt.ta-zt,Fr,li+16*xt.R,zt),i(xt.qa,xt.ra-jn,Un,an+8*xt.B,jn),i(xt.Ha,xt.Ia-jn,Tr,mi+8*xt.B,jn))}if(!ir)return En(cn,6,"Output aborted.")}return 1})(oe,ye)),ye.bc!=null&&ye.bc(ye),Ae&=1}return Ae?(oe.cb=0,Ae):0})(p,M)||(b=p.a)}}else b=p.a}b==0&&X.Oa!=null&&X.Oa.fd&&(b=Ic(X.ba))}X=b}W=X!=0?null:11>W?ee.f.RGBA.eb:ee.f.kb.y}else W=null;return W};var Fu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(V,Z){for(var k="",I=0;I<4;I++)k+=String.fromCharCode(V[Z++]);return k}function m(V,Z){return V[Z+0]|V[Z+1]<<8}function y(V,Z){return(V[Z+0]|V[Z+1]<<8|V[Z+2]<<16)>>>0}function _(V,Z){return(V[Z+0]|V[Z+1]<<8|V[Z+2]<<16|V[Z+3]<<24)>>>0}new f;var v=[0],S=[0],N=[],C=new f,T=r,R=(function(V,Z){var k={},I=0,te=!1,$=0,ne=0;if(k.frames=[],!(function(O,q){for(var J=0;J<4;J++)if(O[q+J]!="RIFF".charCodeAt(J))return!0;return!1})(V,Z)){for(_(V,Z+=4),Z+=8;Z<V.length;){var K=d(V,Z),re=_(V,Z+=4);Z+=4;var ae=re+(1&re);switch(K){case"VP8 ":case"VP8L":k.frames[I]===void 0&&(k.frames[I]={}),(Y=k.frames[I]).src_off=te?ne:Z-8,Y.src_size=$+re+8,I++,te&&(te=!1,$=0,ne=0);break;case"VP8X":(Y=k.header={}).feature_flags=V[Z];var fe=Z+4;Y.canvas_width=1+y(V,fe),fe+=3,Y.canvas_height=1+y(V,fe),fe+=3;break;case"ALPH":te=!0,$=ae+8,ne=Z-8;break;case"ANIM":(Y=k.header).bgcolor=_(V,Z),fe=Z+4,Y.loop_count=m(V,fe),fe+=2;break;case"ANMF":var _e,Y;(Y=k.frames[I]={}).offset_x=2*y(V,Z),Z+=3,Y.offset_y=2*y(V,Z),Z+=3,Y.width=1+y(V,Z),Z+=3,Y.height=1+y(V,Z),Z+=3,Y.duration=y(V,Z),Z+=3,_e=V[Z++],Y.dispose=1&_e,Y.blend=_e>>1&1}K!="ANMF"&&(Z+=ae)}return k}})(T,0);R.response=T,R.rgbaoutput=!0,R.dataurl=!1;var D=R.header?R.header:null,F=R.frames?R.frames:null;if(D){D.loop_counter=D.loop_count,v=[D.canvas_height],S=[D.canvas_width];for(var B=0;B<F.length&&F[B].blend!=0;B++);}var G=F[0],z=C.WebPDecodeRGBA(T,G.src_off,G.src_size,S,v);G.rgba=z,G.imgwidth=S[0],G.imgheight=v[0];for(var j=0;j<S[0]*v[0]*4;j++)N[j]=z[j];return this.width=S,this.height=v,this.data=N,this}(function(r){var e,t,i,a,o,h,c,f,d,m=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new f,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new h,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new h,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,h=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new m}]);var y=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=O;Object.defineProperty(this,"pdf",{get:function(){return q}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(H){J=!!H}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(H){se=!!H}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(H){isNaN(H)||(ue=H)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(H){isNaN(H)||(me=H)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(H){var je;typeof H=="number"?je=[H,H,H,H]:((je=new Array(4))[0]=H[0],je[1]=H.length>=2?H[1]:je[0],je[2]=H.length>=3?H[2]:je[0],je[3]=H.length>=4?H[3]:je[1]),d.margin=je}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(H){de=H}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(H){xe=H}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(H){Ne=H}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(H){H instanceof m&&(d=H)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(H){d.path=H}});var Ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ue},set:function(H){Ue=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var je;je=_(H),this.ctx.fillStyle=je.style,this.ctx.isFillTransparent=je.a===0,this.ctx.fillOpacity=je.a,this.pdf.setFillColor(je.r,je.g,je.b,{a:je.a}),this.pdf.setTextColor(je.r,je.g,je.b,{a:je.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var je=_(H);this.ctx.strokeStyle=je.style,this.ctx.isStrokeTransparent=je.a===0,this.ctx.strokeOpacity=je.a,je.a===0?this.pdf.setDrawColor(255,255,255):(je.a,this.pdf.setDrawColor(je.r,je.g,je.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var Ke=null,it=null,st=null;Object.defineProperty(this,"fontFaces",{get:function(){return st},set:function(H){Ke=null,it=null,st=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var je;if(this.ctx.font=H,(je=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(H))!==null){var at=je[1];je[2];var Xe=je[3],Ce=je[4];je[5];var Qe=je[6],et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ce)[2];Ce=Math.floor(et==="px"?parseFloat(Ce)*this.pdf.internal.scaleFactor:et==="em"?parseFloat(Ce)*this.pdf.getFontSize():parseFloat(Ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ce);var ft=(function(mt){var Ie,tt,nt=[],pt=mt.trim();if(pt==="")return km;if(pt in Ly)return[Ly[pt]];for(;pt!=="";){switch(tt=null,Ie=(pt=Dy(pt)).charAt(0)){case'"':case"'":tt=vO(pt.substring(1),Ie);break;default:tt=bO(pt)}if(tt===null||(nt.push(tt[0]),(pt=Dy(tt[1]))!==""&&pt.charAt(0)!==","))return km;pt=pt.replace(/^,/,"")}return nt})(Qe);if(this.fontFaces){var dt=(function(mt,Ie){var tt=mt.getFontList(),nt=JSON.stringify(tt);if(Ke===null||it!==nt){var pt=(function(wt){var ut=[];return Object.keys(wt).forEach(function(Zt){wt[Zt].forEach(function(vt){var bt=null;switch(vt){case"bold":bt={family:Zt,weight:"bold"};break;case"italic":bt={family:Zt,style:"italic"};break;case"bolditalic":bt={family:Zt,weight:"bold",style:"italic"};break;case"":case"normal":bt={family:Zt}}bt!==null&&(bt.ref={name:Zt,style:vt},ut.push(bt))})}),ut})(tt);Ke=(function(wt){for(var ut={},Zt=0;Zt<wt.length;++Zt){var vt=Em(wt[Zt]),bt=vt.family,Ht=vt.stretch,rt=vt.style,lt=vt.weight;ut[bt]=ut[bt]||{},ut[bt][Ht]=ut[bt][Ht]||{},ut[bt][Ht][rt]=ut[bt][Ht][rt]||{},ut[bt][Ht][rt][lt]=vt}return ut})(pt.concat(Ie)),it=nt}return Ke})(this.pdf,this.fontFaces),kt=ft.map(function(mt){return{family:mt,stretch:"normal",weight:Xe,style:at}}),Xt=(function(mt,Ie,tt){for(var nt=(tt=tt||{}).defaultFontFamily||"times",pt=Object.assign({},gO,tt.genericFontFamilies||{}),wt=null,ut=null,Zt=0;Zt<Ie.length;++Zt)if(pt[(wt=Em(Ie[Zt])).family]&&(wt.family=pt[wt.family]),mt.hasOwnProperty(wt.family)){ut=mt[wt.family];break}if(!(ut=ut||mt[nt]))throw new Error("Could not find a font-family for the rule '"+jy(wt)+"' and default family '"+nt+"'.");if(ut=(function(vt,bt){if(bt[vt])return bt[vt];var Ht=lg[vt],rt=Ht<=lg.normal?-1:1,lt=Oy(bt,X_,Ht,rt);if(!lt)throw new Error("Could not find a matching font-stretch value for "+vt);return lt})(wt.stretch,ut),ut=(function(vt,bt){if(bt[vt])return bt[vt];for(var Ht=W_[vt],rt=0;rt<Ht.length;++rt)if(bt[Ht[rt]])return bt[Ht[rt]];throw new Error("Could not find a matching font-style for "+vt)})(wt.style,ut),!(ut=(function(vt,bt){if(bt[vt])return bt[vt];if(vt===400&&bt[500])return bt[500];if(vt===500&&bt[400])return bt[400];var Ht=mO[vt],rt=Oy(bt,Z_,Ht,vt<400?-1:1);if(!rt)throw new Error("Could not find a matching font-weight for value "+vt);return rt})(wt.weight,ut)))throw new Error("Failed to resolve a font for the rule '"+jy(wt)+"'.");return ut})(dt,kt);this.pdf.setFont(Xt.ref.name,Xt.ref.style)}else{var Dt="";(Xe==="bold"||parseInt(Xe,10)>=700||at==="bold")&&(Dt="bold"),at==="italic"&&(Dt+="italic"),Dt.length===0&&(Dt="normal");for(var De="",ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ct=0;ct<ft.length;ct++){if(this.pdf.internal.getFont(ft[ct],Dt,{noFallback:!0,disableWarning:!0})!==void 0){De=ft[ct];break}if(Dt==="bolditalic"&&this.pdf.internal.getFont(ft[ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)De=ft[ct],Dt="bold";else if(this.pdf.internal.getFont(ft[ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){De=ft[ct],Dt="normal";break}}if(De===""){for(var _t=0;_t<ft.length;_t++)if(ot[ft[_t]]){De=ot[ft[_t]];break}}De=De===""?"Times":De,this.pdf.setFont(De,Dt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=!!H}})};y.prototype.setLineDash=function(O){this.lineDash=O},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){F.call(this,"fill",!1)},y.prototype.stroke=function(){F.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(O,q){if(isNaN(O)||isNaN(q))throw Qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new h(O,q));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new h(O,q)},y.prototype.closePath=function(){var O=new h(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Bn(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){O=new h(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new h(O.x,O.y)},y.prototype.lineTo=function(O,q){if(isNaN(O)||isNaN(q))throw Qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new h(O,q));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new h(J.x,J.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},y.prototype.quadraticCurveTo=function(O,q,J,se){if(isNaN(J)||isNaN(se)||isNaN(O)||isNaN(q))throw Qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new h(J,se)),me=this.ctx.transform.applyToPoint(new h(O,q));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new h(ue.x,ue.y)},y.prototype.bezierCurveTo=function(O,q,J,se,ue,me){if(isNaN(ue)||isNaN(me)||isNaN(O)||isNaN(q)||isNaN(J)||isNaN(se))throw Qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new h(ue,me)),xe=this.ctx.transform.applyToPoint(new h(O,q)),Ne=this.ctx.transform.applyToPoint(new h(J,se));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Ne.x,y2:Ne.y,x:de.x,y:de.y}),this.ctx.lastPoint=new h(de.x,de.y)},y.prototype.arc=function(O,q,J,se,ue,me){if(isNaN(O)||isNaN(q)||isNaN(J)||isNaN(se)||isNaN(ue))throw Qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new h(O,q));O=de.x,q=de.y;var xe=this.ctx.transform.applyToPoint(new h(0,J)),Ne=this.ctx.transform.applyToPoint(new h(0,0));J=Math.sqrt(Math.pow(xe.x-Ne.x,2)+Math.pow(xe.y-Ne.y,2))}Math.abs(ue-se)>=2*Math.PI&&(se=0,ue=2*Math.PI),this.path.push({type:"arc",x:O,y:q,radius:J,startAngle:se,endAngle:ue,counterclockwise:me})},y.prototype.arcTo=function(O,q,J,se,ue){throw new Error("arcTo not implemented.")},y.prototype.rect=function(O,q,J,se){if(isNaN(O)||isNaN(q)||isNaN(J)||isNaN(se))throw Qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,q),this.lineTo(O+J,q),this.lineTo(O+J,q+se),this.lineTo(O,q+se),this.lineTo(O,q),this.lineTo(O+J,q),this.lineTo(O,q)},y.prototype.fillRect=function(O,q,J,se){if(isNaN(O)||isNaN(q)||isNaN(J)||isNaN(se))throw Qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,q,J,se),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},y.prototype.strokeRect=function(O,q,J,se){if(isNaN(O)||isNaN(q)||isNaN(J)||isNaN(se))throw Qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(O,q,J,se),this.stroke())},y.prototype.clearRect=function(O,q,J,se){if(isNaN(O)||isNaN(q)||isNaN(J)||isNaN(se))throw Qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,q,J,se))},y.prototype.save=function(O){O=typeof O!="boolean"||O;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},y.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(q),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(O){var q,J,se,ue;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))q=0,J=0,se=0,ue=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(me!==null)q=parseInt(me[1]),J=parseInt(me[2]),se=parseInt(me[3]),ue=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)q=parseInt(me[1]),J=parseInt(me[2]),se=parseInt(me[3]),ue=parseFloat(me[4]);else{if(ue=1,typeof O=="string"&&O.charAt(0)!=="#"){var de=new q_(O);O=de.ok?de.toHex():"#000000"}O.length===4?(q=O.substring(1,2),q+=q,J=O.substring(2,3),J+=J,se=O.substring(3,4),se+=se):(q=O.substring(1,3),J=O.substring(3,5),se=O.substring(5,7)),q=parseInt(q,16),J=parseInt(J,16),se=parseInt(se,16)}}return{r:q,g:J,b:se,a:ue,style:O}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(O,q,J,se){if(isNaN(q)||isNaN(J)||typeof O!="string")throw Qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!v.call(this)){var ue=ae(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;I.call(this,{text:O,x:q,y:J,scale:me,angle:ue,align:this.textAlign,maxWidth:se})}},y.prototype.strokeText=function(O,q,J,se){if(isNaN(q)||isNaN(J)||typeof O!="string")throw Qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){se=isNaN(se)?void 0:se;var ue=ae(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;I.call(this,{text:O,x:q,y:J,scale:me,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:se})}},y.prototype.measureText=function(O){if(typeof O!="string")throw Qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,J=this.pdf.internal.scaleFactor,se=q.internal.getFontSize(),ue=q.getStringUnitWidth(O)*se/q.internal.scaleFactor;return new function(me){var de=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:ue*=Math.round(96*J/72*1e4)/1e4})},y.prototype.scale=function(O,q){if(isNaN(O)||isNaN(q))throw Qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new f(O,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},y.prototype.rotate=function(O){if(isNaN(O))throw Qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new f(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},y.prototype.translate=function(O,q){if(isNaN(O)||isNaN(q))throw Qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new f(1,0,0,1,O,q);this.ctx.transform=this.ctx.transform.multiply(J)},y.prototype.transform=function(O,q,J,se,ue,me){if(isNaN(O)||isNaN(q)||isNaN(J)||isNaN(se)||isNaN(ue)||isNaN(me))throw Qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new f(O,q,J,se,ue,me);this.ctx.transform=this.ctx.transform.multiply(de)},y.prototype.setTransform=function(O,q,J,se,ue,me){O=isNaN(O)?1:O,q=isNaN(q)?0:q,J=isNaN(J)?0:J,se=isNaN(se)?1:se,ue=isNaN(ue)?0:ue,me=isNaN(me)?0:me,this.ctx.transform=new f(O,q,J,se,ue,me)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(O,q,J,se,ue,me,de,xe,Ne){var Ue=this.pdf.getImageProperties(O),Ke=1,it=1,st=1,H=1;se!==void 0&&xe!==void 0&&(st=xe/se,H=Ne/ue,Ke=Ue.width/se*xe/se,it=Ue.height/ue*Ne/ue),me===void 0&&(me=q,de=J,q=0,J=0),se!==void 0&&xe===void 0&&(xe=se,Ne=ue),se===void 0&&xe===void 0&&(xe=Ue.width,Ne=Ue.height);var je=this.ctx.transform.decompose(),at=ae(je.rotate.shx),Xe=new f,Ce=(Xe=(Xe=(Xe=Xe.multiply(je.translate)).multiply(je.skew)).multiply(je.scale)).applyToRectangle(new c(me-q*st,de-J*H,se*Ke,ue*it));if(this.autoPaging){for(var Qe,et=C.call(this,Ce),ft=[],dt=0;dt<et.length;dt+=1)ft.indexOf(et[dt])===-1&&ft.push(et[dt]);D(ft);for(var kt=ft[0],Xt=ft[ft.length-1],Dt=kt;Dt<Xt+1;Dt++){this.pdf.setPage(Dt);var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=Dt===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=Dt===1?0:ct+(Dt-2)*_t;if(this.ctx.clip_path.length!==0){var Ie=this.path;Qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Qe,this.posX+this.margin[3],-mt+ot+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=Ie}var tt=JSON.parse(JSON.stringify(Ce));tt=R([tt],this.posX+this.margin[3],-mt+ot+this.ctx.prevPageLastElemOffset)[0];var nt=(Dt>kt||Dt<Xt)&&N.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,_t,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",tt.x,tt.y,tt.w,tt.h,null,null,at),nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",Ce.x,Ce.y,Ce.w,Ce.h,null,null,at)};var C=function(O,q,J){var se=[];q=q||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":se.push(Math.floor((O.y+ue)/J)+1);break;case"arc":se.push(Math.floor((O.y+ue-O.radius)/J)+1),se.push(Math.floor((O.y+ue+O.radius)/J)+1);break;case"qct":var me=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);se.push(Math.floor((me.y+ue)/J)+1),se.push(Math.floor((me.y+me.h+ue)/J)+1);break;case"bct":var de=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);se.push(Math.floor((de.y+ue)/J)+1),se.push(Math.floor((de.y+de.h+ue)/J)+1);break;case"rect":se.push(Math.floor((O.y+ue)/J)+1),se.push(Math.floor((O.y+O.h+ue)/J)+1)}for(var xe=0;xe<se.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<se[xe];)T.call(this);return se},T=function(){var O=this.fillStyle,q=this.strokeStyle,J=this.font,se=this.lineCap,ue=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=q,this.font=J,this.lineCap=se,this.lineWidth=ue,this.lineJoin=me},R=function(O,q,J){for(var se=0;se<O.length;se++)switch(O[se].type){case"bct":O[se].x2+=q,O[se].y2+=J;case"qct":O[se].x1+=q,O[se].y1+=J;default:O[se].x+=q,O[se].y+=J}return O},D=function(O){return O.sort(function(q,J){return q-J})},F=function(O,q){var J=this.fillStyle,se=this.strokeStyle,ue=this.lineCap,me=this.lineWidth,de=Math.abs(me*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var Ne,Ue,Ke=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),st=[],H=0;H<it.length;H++)if(it[H].x!==void 0)for(var je=C.call(this,it[H]),at=0;at<je.length;at+=1)st.indexOf(je[at])===-1&&st.push(je[at]);for(var Xe=0;Xe<st.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<st[Xe];)T.call(this);D(st);for(var Ce=st[0],Qe=st[st.length-1],et=Ce;et<Qe+1;et++){this.pdf.setPage(et),this.fillStyle=J,this.strokeStyle=se,this.lineCap=ue,this.lineWidth=de,this.lineJoin=xe;var ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=et===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dt=et===1?0:kt+(et-2)*Xt;if(this.ctx.clip_path.length!==0){var De=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Ne,this.posX+this.margin[3],-Dt+dt+this.ctx.prevPageLastElemOffset),B.call(this,O,!0),this.path=De}if(Ue=JSON.parse(JSON.stringify(Ke)),this.path=R(Ue,this.posX+this.margin[3],-Dt+dt+this.ctx.prevPageLastElemOffset),q===!1||et===0){var ot=(et>Ce||et<Qe)&&N.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,Xt,null).clip().discardPath()),B.call(this,O,q),ot&&this.pdf.restoreGraphicsState()}this.lineWidth=me}this.path=Ke}else this.lineWidth=de,B.call(this,O,q),this.lineWidth=me},B=function(O,q){if((O!=="stroke"||q||!S.call(this))&&(O==="stroke"||q||!v.call(this))){for(var J,se,ue=[],me=this.path,de=0;de<me.length;de++){var xe=me[de];switch(xe.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:xe,deltas:[],abs:[]});break;case"lt":var Ne=ue.length;if(me[de-1]&&!isNaN(me[de-1].x)&&(J=[xe.x-me[de-1].x,xe.y-me[de-1].y],Ne>0)){for(;Ne>=0;Ne--)if(ue[Ne-1].close!==!0&&ue[Ne-1].begin!==!0){ue[Ne-1].deltas.push(J),ue[Ne-1].abs.push(xe);break}}break;case"bct":J=[xe.x1-me[de-1].x,xe.y1-me[de-1].y,xe.x2-me[de-1].x,xe.y2-me[de-1].y,xe.x-me[de-1].x,xe.y-me[de-1].y],ue[ue.length-1].deltas.push(J);break;case"qct":var Ue=me[de-1].x+2/3*(xe.x1-me[de-1].x),Ke=me[de-1].y+2/3*(xe.y1-me[de-1].y),it=xe.x+2/3*(xe.x1-xe.x),st=xe.y+2/3*(xe.y1-xe.y),H=xe.x,je=xe.y;J=[Ue-me[de-1].x,Ke-me[de-1].y,it-me[de-1].x,st-me[de-1].y,H-me[de-1].x,je-me[de-1].y],ue[ue.length-1].deltas.push(J);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(xe)}}se=q?null:O==="stroke"?"stroke":"fill";for(var at=!1,Xe=0;Xe<ue.length;Xe++)if(ue[Xe].arc)for(var Ce=ue[Xe].abs,Qe=0;Qe<Ce.length;Qe++){var et=Ce[Qe];et.type==="arc"?j.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,q,!at):te.call(this,et.x,et.y),at=!0}else if(ue[Xe].close===!0)this.pdf.internal.out("h"),at=!1;else if(ue[Xe].begin!==!0){var ft=ue[Xe].start.x,dt=ue[Xe].start.y;$.call(this,ue[Xe].deltas,ft,dt),at=!0}se&&V.call(this,se),q&&Z.call(this)}},G=function(O){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-J;case"top":return O+q-J;case"hanging":return O+q-2*J;case"middle":return O+q/2-J;default:return O}},z=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(q,J){this.colorStops.push([q,J])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(O,q,J,se,ue,me,de,xe,Ne){for(var Ue=K.call(this,J,se,ue,me),Ke=0;Ke<Ue.length;Ke++){var it=Ue[Ke];Ke===0&&(Ne?k.call(this,it.x1+O,it.y1+q):te.call(this,it.x1+O,it.y1+q)),ne.call(this,O,q,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}xe?Z.call(this):V.call(this,de)},V=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(O,q){this.pdf.internal.out(t(O)+" "+i(q)+" m")},I=function(O){var q;switch(O.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var J,se,ue,me=this.pdf.getTextDimensions(O.text),de=G.call(this,O.y),xe=z.call(this,de)-me.h,Ne=this.ctx.transform.applyToPoint(new h(O.x,de));if(this.autoPaging){var Ue=this.ctx.transform.decompose(),Ke=new f;Ke=(Ke=(Ke=Ke.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale);for(var it=this.ctx.transform.applyToRectangle(new c(O.x,de,me.w,me.h)),st=Ke.applyToRectangle(new c(O.x,xe,me.w,me.h)),H=C.call(this,st),je=[],at=0;at<H.length;at+=1)je.indexOf(H[at])===-1&&je.push(H[at]);D(je);for(var Xe=je[0],Ce=je[je.length-1],Qe=Xe;Qe<Ce+1;Qe++){this.pdf.setPage(Qe);var et=Qe===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[2],kt=dt-this.margin[0],Xt=this.pdf.internal.pageSize.width-this.margin[1],Dt=Xt-this.margin[3],De=Qe===1?0:ft+(Qe-2)*kt;if(this.ctx.clip_path.length!==0){var ot=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(J,this.posX+this.margin[3],-1*De+et),B.call(this,"fill",!0),this.path=ot}var ct=R([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-De+et+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*O.scale),ue=this.lineWidth,this.lineWidth=ue*O.scale);var _t=this.autoPaging!=="text";if(_t||ct.y+ct.h<=dt){if(_t||ct.y>=et&&ct.x<=Xt){var mt=_t?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Xt-ct.x)[0],Ie=R([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-De+et+this.ctx.prevPageLastElemOffset)[0],tt=_t&&(Qe>Xe||Qe<Ce)&&N.call(this);tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,kt,null).clip().discardPath()),this.pdf.text(mt,Ie.x,Ie.y,{angle:O.angle,align:q,renderingMode:O.renderingMode}),tt&&this.pdf.restoreGraphicsState()}}else ct.y<dt&&(this.ctx.prevPageLastElemOffset+=dt-ct.y);O.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=ue)}}else O.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*O.scale),ue=this.lineWidth,this.lineWidth=ue*O.scale),this.pdf.text(O.text,Ne.x+this.posX,Ne.y+this.posY,{angle:O.angle,align:q,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=ue)},te=function(O,q,J,se){J=J||0,se=se||0,this.pdf.internal.out(t(O+J)+" "+i(q+se)+" l")},$=function(O,q,J){return this.pdf.lines(O,q,J,null,null)},ne=function(O,q,J,se,ue,me,de,xe){this.pdf.internal.out([e(a(J+O)),e(o(se+q)),e(a(ue+O)),e(o(me+q)),e(a(de+O)),e(o(xe+q)),"c"].join(" "))},K=function(O,q,J,se){for(var ue=2*Math.PI,me=Math.PI/2;q>J;)q-=ue;var de=Math.abs(J-q);de<ue&&se&&(de=ue-de);for(var xe=[],Ne=se?-1:1,Ue=q;de>1e-5;){var Ke=Ue+Ne*Math.min(de,me);xe.push(re.call(this,O,Ue,Ke)),de-=Math.abs(Ke-Ue),Ue=Ke}return xe},re=function(O,q,J){var se=(J-q)/2,ue=O*Math.cos(se),me=O*Math.sin(se),de=ue,xe=-me,Ne=de*de+xe*xe,Ue=Ne+de*ue+xe*me,Ke=4/3*(Math.sqrt(2*Ne*Ue)-Ue)/(de*me-xe*ue),it=de-Ke*xe,st=xe+Ke*de,H=it,je=-st,at=se+q,Xe=Math.cos(at),Ce=Math.sin(at);return{x1:O*Math.cos(q),y1:O*Math.sin(q),x2:it*Xe-st*Ce,y2:it*Ce+st*Xe,x3:H*Xe-je*Ce,y3:H*Ce+je*Xe,x4:O*Math.cos(J),y4:O*Math.sin(J)}},ae=function(O){return 180*O/Math.PI},fe=function(O,q,J,se,ue,me){var de=O+.5*(J-O),xe=q+.5*(se-q),Ne=ue+.5*(J-ue),Ue=me+.5*(se-me),Ke=Math.min(O,ue,de,Ne),it=Math.max(O,ue,de,Ne),st=Math.min(q,me,xe,Ue),H=Math.max(q,me,xe,Ue);return new c(Ke,st,it-Ke,H-st)},_e=function(O,q,J,se,ue,me,de,xe){var Ne,Ue,Ke,it,st,H,je,at,Xe,Ce,Qe,et,ft,dt,kt=J-O,Xt=se-q,Dt=ue-J,De=me-se,ot=de-ue,ct=xe-me;for(Ue=0;Ue<41;Ue++)Xe=(je=(Ke=O+(Ne=Ue/40)*kt)+Ne*((st=J+Ne*Dt)-Ke))+Ne*(st+Ne*(ue+Ne*ot-st)-je),Ce=(at=(it=q+Ne*Xt)+Ne*((H=se+Ne*De)-it))+Ne*(H+Ne*(me+Ne*ct-H)-at),Ue==0?(Qe=Xe,et=Ce,ft=Xe,dt=Ce):(Qe=Math.min(Qe,Xe),et=Math.min(et,Ce),ft=Math.max(ft,Xe),dt=Math.max(dt,Ce));return new c(Math.round(Qe),Math.round(et),Math.round(ft-Qe),Math.round(dt-et))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,q,J=(O=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:q}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Rt.API),(function(r){var e=function(h){var c,f,d,m,y,_,v,S,N,C;for(f=[],d=0,m=(h+=c="\0\0\0\0".slice(h.length%4||4)).length;m>d;d+=4)(y=(h.charCodeAt(d)<<24)+(h.charCodeAt(d+1)<<16)+(h.charCodeAt(d+2)<<8)+h.charCodeAt(d+3))!==0?(_=(y=((y=((y=((y=(y-(C=y%85))/85)-(N=y%85))/85)-(S=y%85))/85)-(v=y%85))/85)%85,f.push(_+33,v+33,S+33,N+33,C+33)):f.push(122);return(function(T,R){for(var D=R;D>0;D--)T.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(h){var c,f,d,m,y,_=String,v="length",S=255,N="charCodeAt",C="slice",T="replace";for(h[C](-2),h=h[C](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),d=[],m=0,y=(h+=c="uuuuu"[C](h[v]%5||5))[v];y>m;m+=5)f=52200625*(h[N](m)-33)+614125*(h[N](m+1)-33)+7225*(h[N](m+2)-33)+85*(h[N](m+3)-33)+(h[N](m+4)-33),d.push(S&f>>24,S&f>>16,S&f>>8,S&f);return(function(R,D){for(var F=D;F>0;F--)R.pop()})(d,c[v]),_.fromCharCode.apply(_,d)},i=function(h){return h.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(h){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((h=h.replace(/\s/g,"")).indexOf(">")!==-1&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),c.test(h)===!1)return"";for(var f="",d=0;d<h.length;d+=2)f+=String.fromCharCode("0x"+(h[d]+h[d+1]));return f},o=function(h){for(var c=new Uint8Array(h.length),f=h.length;f--;)c[f]=h.charCodeAt(f);return(c=tg(c)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};r.processDataByFilters=function(h,c){var f=0,d=h||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=i(d),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}})(Rt.API),(function(r){r.loadFile=function(e,t,i){return(function(a,o,h){o=o!==!1,h=typeof h=="function"?h:function(){};var c=void 0;try{c=(function(f,d,m){var y=new XMLHttpRequest,_=0,v=function(S){var N=S.length,C=[],T=String.fromCharCode;for(_=0;_<N;_+=1)C.push(T(255&S.charCodeAt(_)));return C.join("")};if(y.open("GET",f,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?m(v(this.responseText)):m(void 0)}),y.send(null),d&&y.status===200)return v(y.responseText)})(a,o,h)}catch{}return c})(e,t,i)},r.loadImageFile=r.loadFile})(Rt.API),(function(r){function e(){return(Qt.html2canvas?Promise.resolve(Qt.html2canvas):j1(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Qt.DOMPurify?Promise.resolve(Qt.DOMPurify):j1(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var i=function(c){var f=Bn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var m in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[m]=f.style[m];return d},o=function c(f,d){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),y=f.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||m.appendChild(c(y,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m},h=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),d);return(m=m.setProgress(1,c,1,[c])).set(f)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(c,f){return c.__proto__=f||h.prototype,c},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},h.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,m=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var v=0;v<m.length;++v){var S=m[v],N=S.src.find(function(C){return C.format==="truetype"});N&&d.addFont(N.url,S.ref.name,S.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,d.context2d.save(!0),f(this.prop.container,_)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},h.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},h.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},h.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(c){if(i(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in h.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},h.prototype.get=function(c,f){return this.then(function(){var d=c in h.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},h.prototype.setMargin=function(c){return this.then(function(){switch(i(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},h.prototype.setPageSize=function(c){function f(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(c=c||Rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},h.prototype.setProgress=function(c,f,d,m){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(c,f,d,m){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},h.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(m,y){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(_){return d.updateProgress(null,m),_}).then(m,y).then(function(_){return d.updateProgress(1),_})})},h.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),f&&(f=f.bind(m));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:h.convert(Object.assign({},m),Promise.prototype),_=d.call(y,c,f);return h.convert(_,m.__proto__)},h.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},h.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},h.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return h.convert(f,this)},h.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},h.prototype.error=function(c){return this.then(function(){throw new Error(c)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,Rt.getPageSize=function(c,f,d){if(Bn(c)==="object"){var m=c;c=m.orientation,f=m.unit||f,d=m.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var y,_=(""+d).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+f}var S,N=0,C=0;if(v.hasOwnProperty(_))N=v[_][1]/y,C=v[_][0]/y;else try{N=d[1],C=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",C>N&&(S=C,C=N,N=S);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",N>C&&(S=C,C=N,N=S)}return{width:C,height:N,unit:f,k:y,orientation:c}},r.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Em):null;var d=new h(f);return f.worker?d:d.from(c).doCallback()}})(Rt.API),Rt.API.addJS=function(r){return Iy=r,this.internal.events.subscribe("postPutResources",function(){C1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(C1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ry=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Iy+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){C1!==void 0&&Ry!==void 0&&this.internal.out("/Names <</JavaScript "+C1+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var h=a[o],c=i.exec(h);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(h)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(o=0;o<d;o++){var y=t.internal.newObject();m.push(y);var _=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var v=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<m.length;o++)t.internal.write("(page_"+(o+1)+")"+m[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+v+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,a,o){var h={title:a,options:o,children:[]};return i==null&&(i=this.root),i.children.push(h),h},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var a=0;a<i.children.length;a++)this.genIds_r(i.children[a])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var h=i.children[o];this.objStart(h),this.line("/Title "+this.makeString(h.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),h.children.length>0&&(this.line("/First "+this.makeRef(h.children[0])),this.line("/Last "+this.makeRef(h.children[h.children.length-1])));var c=this.count=this.count_r({count:0},h);if(c>0&&this.line("/Count "+c),h.options&&h.options.pageNumber){var f=t.internal.getPageInfo(h.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<i.children.length;d++)this.renderItems(i.children[d])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,a){for(var o=0;o<a.children.length;o++)i.count++,this.count_r(i,a.children[o]);return i.count}}])})(Rt.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,i,a,o,h,c){var f,d=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=h||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(y){for(var _,v=256*y.charCodeAt(4)+y.charCodeAt(5),S=y.length,N={width:0,height:0,numcomponents:1},C=4;C<S;C+=2){if(C+=v,e.indexOf(y.charCodeAt(C+1))!==-1){_=256*y.charCodeAt(C+5)+y.charCodeAt(C+6),N={width:256*y.charCodeAt(C+7)+y.charCodeAt(C+8),height:_,numcomponents:y.charCodeAt(C+9)};break}v=256*y.charCodeAt(C+2)+y.charCodeAt(C+3)}return N})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:i,alias:a}}return m}})(Rt.API),Rt.API.processPNG=function(r,e,t,i){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,o=tO(r,{checkCrc:!0}),h=o.width,c=o.height,f=o.channels,d=o.palette,m=o.depth;a=d&&f===1?(function(j){for(var V=j.width,Z=j.height,k=j.data,I=j.palette,te=j.depth,$=!1,ne=[],K=[],re=void 0,ae=!1,fe=0,_e=0;_e<I.length;_e++){var Y=qb(I[_e],4),O=Y[0],q=Y[1],J=Y[2],se=Y[3];ne.push(O,q,J),se!=null&&(se===0?(fe++,K.length<1&&K.push(_e)):se<255&&(ae=!0))}if(ae||fe>1){$=!0,K=void 0;var ue=V*Z;re=new Uint8Array(ue);for(var me=new DataView(k.buffer),de=0;de<ue;de++){var xe=Mm(me,de,te),Ne=qb(I[xe],4)[3];re[de]=Ne}}else fe===0&&(K=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:k,alphaBytes:re,needSMask:$,palette:ne,mask:K}})(o):f===2||f===4?(function(j){for(var V=j.data,Z=j.width,k=j.height,I=j.channels,te=j.depth,$=I===2?"DeviceGray":"DeviceRGB",ne=I-1,K=Z*k,re=ne,ae=K*re,fe=1*K,_e=Math.ceil(ae*te/8),Y=Math.ceil(fe*te/8),O=new Uint8Array(_e),q=new Uint8Array(Y),J=new DataView(V.buffer),se=new DataView(O.buffer),ue=new DataView(q.buffer),me=!1,de=0;de<K;de++){for(var xe=de*I,Ne=0;Ne<re;Ne++)Gy(se,Mm(J,xe+Ne,te),de*re+Ne,te);var Ue=Mm(J,xe+re,te);Ue<(1<<te)-1&&(me=!0),Gy(ue,Ue,1*de,te)}return{colorSpace:$,colorsPerPixel:ne,sMaskBitsPerComponent:me?te:void 0,colorBytes:O,alphaBytes:q,needSMask:me}})(o):(function(j){var V=j.data,Z=j.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Z,colorsPerPixel:Z==="DeviceGray"?1:3,colorBytes:V instanceof Uint16Array?(function(k){for(var I=k.length,te=new Uint8Array(2*I),$=new DataView(te.buffer,te.byteOffset,te.byteLength),ne=0;ne<I;ne++)$.setUint16(2*ne,k[ne],!1);return te})(V):V,needSMask:!1}})(o);var y,_,v,S=a,N=S.colorSpace,C=S.colorsPerPixel,T=S.sMaskBitsPerComponent,R=S.colorBytes,D=S.alphaBytes,F=S.needSMask,B=S.palette,G=S.mask,z=null;return i!==Rt.API.image_compression.NONE&&typeof tg=="function"?(z=(function(j){var V;switch(j){case Rt.API.image_compression.FAST:V=11;break;case Rt.API.image_compression.MEDIUM:V=13;break;case Rt.API.image_compression.SLOW:V=14;break;default:V=12}return V})(i),y=this.decode.FLATE_DECODE,_="/Predictor ".concat(z," /Colors ").concat(C," /BitsPerComponent ").concat(m," /Columns ").concat(h),r=qy(R,Math.ceil(h*C*m/8),C,m,i),F&&(v=qy(D,Math.ceil(h*T/8),1,T,i))):(y=void 0,_=void 0,r=R,F&&(v=D)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(v&&this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),{alias:t,data:r,index:e,filter:y,decodeParameters:_,transparency:G,palette:B,sMask:v,predictor:z,width:h,height:c,bitsPerComponent:m,sMaskBitsPerComponent:T,colorSpace:N}}},(function(r){r.processGIF89A=function(e,t,i,a){var o=new wO(e),h=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:h,height:c},m=new Om(100).encode(d,100);return r.processJPEG.call(this,m,t,i,a)},r.processGIF87A=r.processGIF89A})(Rt.API),Ya.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:i,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ya.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Qn.log("bit decode error:"+t)}},Ya.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),h=i*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[h+4*c]=f.blue,this.data[h+4*c+1]=f.green,this.data[h+4*c+2]=f.red,this.data[h+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Ya.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var o=this.datav.getUint8(this.pos++,!0),h=i*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[h]=d.blue,this.data[h+1]=d.green,this.data[h+2]=d.red,this.data[h+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[h+4]=d.blue,this.data[h+4+1]=d.green,this.data[h+4+2]=d.red,this.data[h+4+3]=255}e!==0&&(this.pos+=4-e)}},Ya.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*i;if(a<this.palette.length){var h=this.palette[a];this.data[o]=h.red,this.data[o+1]=h.green,this.data[o+2]=h.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},Ya.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,m=i*this.width*4+4*a;this.data[m]=f,this.data[m+1]=c,this.data[m+2]=h,this.data[m+3]=d}this.pos+=r}},Ya.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(h&e)/e*255|0,f=(h>>5&t)/t*255|0,d=(h>>11)/e*255|0,m=a*this.width*4+4*o;this.data[m]=d,this.data[m+1]=f,this.data[m+2]=c,this.data[m+3]=255}this.pos+=r}},Ya.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=i,this.data[h+3]=255}this.pos+=this.width%4}},Ya.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=i,this.data[c+3]=h}},Ya.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,i,a){var o=new Ya(e,!1),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new Om(100).encode(f,100);return r.processJPEG.call(this,d,t,i,a)}})(Rt.API),Wy.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,i,a){var o=new Wy(e),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new Om(100).encode(f,100);return r.processJPEG.call(this,d,t,i,a)}})(Rt.API),Rt.API.processRGBA=function(r,e,t){for(var i=r.data,a=i.length,o=new Uint8Array(a/4*3),h=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var m=i[d],y=i[d+1],_=i[d+2],v=i[d+3];o[c++]=m,o[c++]=y,o[c++]=_,h[f++]=v}var S=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(h),data:S,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Rt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ch=Rt.API,T1=ch.getCharWidthsArray=function(r,e){var t,i,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),h=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,m=d.fof?d.fof:1,y=e.doKerning!==!1,_=0,v=r.length,S=0,N=c[0]||f,C=[];for(t=0;t<v;t++)i=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?C.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+h*(1e3/o)||0)/1e3):(_=y&&Bn(d[i])==="object"&&!isNaN(parseInt(d[i][S],10))?d[i][S]/m:0,C.push((c[i]||N)/f+_)),S=i;return C},Vy=ch.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return ch.processArabic&&(r=ch.processArabic(r)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(r,t,a)/t:T1.apply(this,arguments).reduce(function(o,h){return o+h},0)},Fy=function(r,e,t,i){for(var a=[],o=0,h=r.length,c=0;o!==h&&c+e[o]<t;)c+=e[o],o++;a.push(r.slice(0,o));var f=o;for(c=0;o!==h;)c+e[o]>i&&(a.push(r.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(r.slice(f,o)),a},By=function(r,e,t){t||(t={});var i,a,o,h,c,f,d,m=[],y=[m],_=t.textIndent||0,v=0,S=0,N=r.split(" "),C=T1.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?N[0].length+2:t.lineIndent||0){var T=Array(f).join(" "),R=[];N.map(function(F){(F=F.split(/\s*\n/)).length>1?R=R.concat(F.map(function(B,G){return(G&&B.length?`
`:"")+B})):R.push(F[0])}),N=R,f=Vy.apply(this,[T,t])}for(o=0,h=N.length;o<h;o++){var D=0;if(i=N[o],f&&i[0]==`
`&&(i=i.substr(1),D=1),_+v+(S=(a=T1.apply(this,[i,t])).reduce(function(F,B){return F+B},0))>e||D){if(S>e){for(c=Fy.apply(this,[i,a,e-(_+v),e]),m.push(c.shift()),m=[c.pop()];c.length;)y.push([c.shift()]);S=a.slice(i.length-(m[0]?m[0].length:0)).reduce(function(F,B){return F+B},0)}else m=[i];y.push(m),_=S+f,v=C}else m.push(i),_+=v+S,v=C}return d=f?function(F,B){return(B?T:"")+F.join(" ")}:function(F){return F.join(" ")},y.map(d)},ch.splitTextToSize=function(r,e,t){var i,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var y=this.internal.getFont(m.fontName,m.fontStyle),_="Unicode";return y.metadata[_]?{widths:y.metadata[_].widths||{0:1},kerning:y.metadata[_].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(r)?r:String(r).split(/\r?\n/);var h=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=i.length;c<f;c++)d=d.concat(By.apply(this,[i[c],h,o]));return d},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},a={},o=0;o<16;o++)i[t[o]]=e[o],a[e[o]]=t[o];var h=function(_){return"0x"+parseInt(_,10).toString(16)},c=r.__fontmetrics__.compress=function(_){var v,S,N,C,T=["{"];for(var R in _){if(v=_[R],isNaN(parseInt(R,10))?S="'"+R+"'":(R=parseInt(R,10),S=(S=h(R).slice(2)).slice(0,-1)+a[S.slice(-1)]),typeof v=="number")v<0?(N=h(v).slice(3),C="-"):(N=h(v).slice(2),C=""),N=C+N.slice(0,-1)+a[N.slice(-1)];else{if(Bn(v)!=="object")throw new Error("Don't know what to do with value type "+Bn(v)+".");N=c(v)}T.push(S+N)}return T.push("}"),T.join("")},f=r.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,S,N,C,T={},R=1,D=T,F=[],B="",G="",z=_.length-1,j=1;j<z;j+=1)(C=_[j])=="'"?v?(N=v.join(""),v=void 0):v=[]:v?v.push(C):C=="{"?(F.push([D,N]),D={},N=void 0):C=="}"?((S=F.pop())[0][S[1]]=D,N=void 0,D=S[0]):C=="-"?R=-1:N===void 0?i.hasOwnProperty(C)?(B+=i[C],N=parseInt(B,16)*R,R=1,B=""):B+=C:i.hasOwnProperty(C)?(G+=i[C],D[N]=parseInt(G,16)*R,R=1,N=void 0,G=""):G+=C;return T},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},y={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(_){var v=_.font,S=y.Unicode[v.postScriptName];S&&(v.metadata.Unicode={},v.metadata.Unicode.widths=S.widths,v.metadata.Unicode.kerning=S.kerning);var N=m.Unicode[v.postScriptName];N&&(v.metadata.Unicode.encoding=N,v.encoding=N.codePages[0])}])})(Rt.API),(function(r){var e=function(t){for(var i=t.length,a=new Uint8Array(i),o=0;o<i;o++)a[o]=t.charCodeAt(o);return a};r.API.events.push(["addFont",function(t){var i=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(i=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(h,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(R1(c)),h.metadata=r.API.TTFFont.open(c),h.metadata.Unicode=h.metadata.Unicode||{encoding:{},kerning:{},widths:[]},h.metadata.glyIdsUsed=[0]})(a,i)}}])})(Rt),Rt.API.addSvgAsImage=function(r,e,t,i,a,o,h,c){if(isNaN(e)||isNaN(t))throw Qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(Qt.canvg?Promise.resolve(Qt.canvg):j1(()=>import("./index.es-BfMVllZP.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(d,r,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(m)}).then(function(){y.addImage(f.toDataURL("image/jpeg",1),e,t,i,a,h,c)})},Rt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(e,t);return this},Rt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var i,a,o,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(h),f=[],d=0,m=0,y=0;function _(S,N){var C,T=!1;for(C=0;C<S.length;C+=1)S[C]===N&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var v=c.length;for(y=0;y<v;y+=1)t[c[y]].value=t[c[y]].defaultValue,t[c[y]].explicitSet=!1}if(Bn(r)==="object"){for(a in r)if(o=r[a],_(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&_(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(i=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(m=0;m<o[d].length;m+=1)typeof o[d][m]!="number"&&(i=!1);i===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,N=[];for(S in t)t[S].explicitSet===!0&&(t[S].type==="name"?N.push("/"+S+" /"+t[S].value):N.push("/"+S+" "+t[S].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),h=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+h.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+h+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(i,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Rt.API),(function(r){var e=r.API,t=e.pdfEscape16=function(o,h){for(var c,f=h.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],y=0,_=o.length;y<_;++y){if(c=h.metadata.characterToGlyph(o.charCodeAt(y)),h.metadata.glyIdsUsed.push(c),h.metadata.toUnicode[c]=o.charCodeAt(y),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(h.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(d[4-c.length],c)}return m.join("")},i=function(o){var h,c,f,d,m,y,_;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],y=0,_=(c=Object.keys(o).sort(function(v,S){return v-S})).length;y<_;y++)h=c[y],f.length>=100&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[h]!==void 0&&o[h]!==null&&typeof o[h].toString=="function"&&(d=("0000"+o[h].toString(16)).slice(-4),h=("0000"+(+h).toString(16)).slice(-4),f.push("<"+h+"><"+d+">"));return f.length&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,_=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),v="",S=0;S<_.length;S++)v+=String.fromCharCode(_[S]);var N=d();m({data:v,addLength1:!0,objectId:N}),f("endobj");var C=d();m({data:i(c.metadata.toUnicode),addLength1:!0,objectId:C}),f("endobj");var T=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+dh(c.fontName)),f("/FontFile2 "+N+" 0 R"),f("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var R=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+dh(c.fontName)),f("/FontDescriptor "+T+" 0 R"),f("/W "+r.API.PDFObject.convert(y)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+C+" 0 R"),f("/BaseFont /"+dh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+R+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,_="",v=0;v<y.length;v++)_+=String.fromCharCode(y[v]);var S=d();m({data:_,addLength1:!0,objectId:S}),f("endobj");var N=d();m({data:i(c.metadata.toUnicode),addLength1:!0,objectId:N}),f("endobj");var C=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+S+" 0 R"),f("/Flags 96"),f("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+dh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var T=0;T<c.metadata.hmtx.widths.length;T++)c.metadata.hmtx.widths[T]=parseInt(c.metadata.hmtx.widths[T]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+dh(c.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var h,c=o.text||"",f=o.x,d=o.y,m=o.options||{},y=o.mutex||{},_=y.pdfEscape,v=y.activeFontKey,S=y.fonts,N=v,C="",T=0,R="",D=S[N].encoding;if(S[N].encoding!=="Identity-H")return{text:c,x:f,y:d,options:m,mutex:y};for(R=c,N=v,Array.isArray(c)&&(R=c[0]),T=0;T<R.length;T+=1)S[N].metadata.hasOwnProperty("cmap")&&(h=S[N].metadata.cmap.unicode.codeMap[R[T].charCodeAt(0)]),h||R[T].charCodeAt(0)<256&&S[N].metadata.hasOwnProperty("Unicode")?C+=R[T]:C+="";var F="";return parseInt(N.slice(1))<14||D==="WinAnsiEncoding"?F=_(C,N).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(F=t(C,S[N])),y.isHex=!0,{text:F,x:f,y:d,options:m,mutex:y}};e.events.push(["postProcessText",function(o){var h=o.text||"",c=[],f={text:h,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(h)){var d=0;for(d=0;d<h.length;d+=1)Array.isArray(h[d])&&h[d].length===3?c.push([a(Object.assign({},f,{text:h[d][0]})).text,h[d][1],h[d][2]]):c.push(a(Object.assign({},f,{text:h[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:h})).text}])})(Rt),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Rt.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(i){var a,o,h,c,f,d,m,y=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,D=0;this.__bidiEngine__={};var F=function(k){var I=k.charCodeAt(),te=I>>8,$=N[te];return $!==void 0?y[256*$+(255&I)]:te===252||te===253?"AL":T.test(te)?"L":te===8?"R":"N"},B=function(k){for(var I,te=0;te<k.length;te++){if((I=F(k.charAt(te)))==="L")return!1;if(I==="R")return!0}return!1},G=function(k,I,te,$){var ne,K,re,ae,fe=I[$];switch(fe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(fe="AN");break;case"AL":R=!0,fe="R";break;case"WS":case"BN":fe="N";break;case"CS":$<1||$+1>=I.length||(ne=te[$-1])!=="EN"&&ne!=="AN"||(K=I[$+1])!=="EN"&&K!=="AN"?fe="N":R&&(K="AN"),fe=K===ne?K:"N";break;case"ES":fe=(ne=$>0?te[$-1]:"B")==="EN"&&$+1<I.length&&I[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&te[$-1]==="EN"){fe="EN";break}if(R){fe="N";break}for(re=$+1,ae=I.length;re<ae&&I[re]==="ET";)re++;fe=re<ae&&I[re]==="EN"?"EN":"N";break;case"NSM":if(h&&!c){for(ae=I.length,re=$+1;re<ae&&I[re]==="NSM";)re++;if(re<ae){var _e=k[$],Y=_e>=1425&&_e<=2303||_e===64286;if(ne=I[re],Y&&(ne==="R"||ne==="AL")){fe="R";break}}}fe=$<1||(ne=I[$-1])==="B"?"N":te[$-1];break;case"B":R=!1,a=!0,fe=D;break;case"S":o=!0,fe="N"}return fe},z=function(k,I,te){var $=k.split("");return te&&j($,te,{hiLevel:D}),$.reverse(),I&&I.reverse(),$.join("")},j=function(k,I,te){var $,ne,K,re,ae,fe=-1,_e=k.length,Y=0,O=[],q=D?v:_,J=[];for(R=!1,a=!1,o=!1,ne=0;ne<_e;ne++)J[ne]=F(k[ne]);for(K=0;K<_e;K++){if(ae=Y,O[K]=G(k,J,O,K),$=240&(Y=q[ae][S[O[K]]]),Y&=15,I[K]=re=q[Y][5],$>0)if($===16){for(ne=fe;ne<K;ne++)I[ne]=1;fe=-1}else fe=-1;if(q[Y][6])fe===-1&&(fe=K);else if(fe>-1){for(ne=fe;ne<K;ne++)I[ne]=re;fe=-1}J[K]==="B"&&(I[K]=0),te.hiLevel|=re}o&&(function(se,ue,me){for(var de=0;de<me;de++)if(se[de]==="S"){ue[de]=D;for(var xe=de-1;xe>=0&&se[xe]==="WS";xe--)ue[xe]=D}})(J,I,_e)},V=function(k,I,te,$,ne){if(!(ne.hiLevel<k)){if(k===1&&D===1&&!a)return I.reverse(),void(te&&te.reverse());for(var K,re,ae,fe,_e=I.length,Y=0;Y<_e;){if($[Y]>=k){for(ae=Y+1;ae<_e&&$[ae]>=k;)ae++;for(fe=Y,re=ae-1;fe<re;fe++,re--)K=I[fe],I[fe]=I[re],I[re]=K,te&&(K=te[fe],te[fe]=te[re],te[re]=K);Y=ae}Y++}}},Z=function(k,I,te){var $=k.split(""),ne={hiLevel:D};return te||(te=[]),j($,te,ne),(function(K,re,ae){if(ae.hiLevel!==0&&m)for(var fe,_e=0;_e<K.length;_e++)re[_e]===1&&(fe=C.indexOf(K[_e]))>=0&&(K[_e]=C[fe+1])})($,te,ne),V(2,$,I,te,ne),V(1,$,I,te,ne),$.join("")};return this.__bidiEngine__.doBidiReorder=function(k,I,te){if((function(ne,K){if(K)for(var re=0;re<ne.length;re++)K[re]=re;c===void 0&&(c=B(ne)),d===void 0&&(d=B(ne))})(k,I),h||!f||d)if(h&&f&&c^d)D=c?1:0,k=z(k,I,te);else if(!h&&f&&d)D=c?1:0,k=Z(k,I,te),k=z(k,I);else if(!h||c||f||d){if(h&&!f&&c^d)k=z(k,I),c?(D=0,k=Z(k,I,te)):(D=1,k=Z(k,I,te),k=z(k,I));else if(h&&c&&!f&&d)D=1,k=Z(k,I,te),k=z(k,I);else if(!h&&!f&&c^d){var $=m;c?(D=1,k=Z(k,I,te),D=0,m=!1,k=Z(k,I,te),m=$):(D=0,k=Z(k,I,te),k=z(k,I),D=1,m=!1,k=Z(k,I,te),m=$,k=z(k,I))}}else D=0,k=Z(k,I,te);else D=c?1:0,k=Z(k,I,te);return k},this.__bidiEngine__.setOptions=function(k){k&&(h=k.isInputVisual,f=k.isOutputVisual,c=k.isInputRtl,d=k.isOutputRtl,m=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(i){var a=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var h=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(h=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?h.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):h.push([t.doBidiReorder(a[c])]);i.text=h}else i.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Rt),Rt.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new bc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new VO(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new SO(this.contents),this.head=new NO(this),this.name=new MO(this),this.cmap=new K_(this),this.toUnicode={},this.hhea=new CO(this),this.maxp=new OO(this),this.hmtx=new LO(this),this.post=new EO(this),this.os2=new TO(this),this.loca=new IO(this),this.glyf=new jO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,i,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var h,c,f,d;for(d=[],h=0,c=(f=this.bbox).length;h<c;h++)e=f[h],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(i=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,i){var a,o,h,c;for(h=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),h+=this.widthOfGlyph(this.characterToGlyph(a))+i*(1e3/t)||0;return h*(t/1e3)},r.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},r})();var oo,bc=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},r.prototype.writeString=function(e){var t,i,a;for(a=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,i,a,o,h,c,f;return e=this.readByte(),t=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),h=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^a)+16777216*(255^o)+65536*(255^h)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*a+16777216*o+65536*h+256*c+f},r.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},r.prototype.write=function(e){var t,i,a,o;for(o=[],i=0,a=e.length;i<a;i++)t=e[i],o.push(this.writeByte(t));return o},r})(),SO=(function(){var r;function e(t){var i,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,a,o,h,c,f,d,m,y,_,v,S,N;for(N in v=Object.keys(t).length,f=Math.log(2),y=16*Math.floor(Math.log(v)/f),h=Math.floor(y/f),m=16*v-y,(a=new bc).writeInt(this.scalarType),a.writeShort(v),a.writeShort(y),a.writeShort(h),a.writeShort(m),o=16*v,d=a.pos+o,c=null,S=[],t)for(_=t[N],a.writeString(N),a.writeInt(r(_)),a.writeInt(d),a.writeInt(_.length),S=S.concat(_),N==="head"&&(c=d),d+=_.length;d%4;)S.push(0),d++;return a.write(S),i=2981146554-r(a.data),a.pos=c+8,a.writeUInt32(i),a.data},r=function(t){var i,a,o,h;for(t=Q_.call(t);t.length%4;)t.push(0);for(o=new bc(t),a=0,i=0,h=t.length;i<h;i=i+=4)a+=o.readUInt32();return 4294967295&a},e})(),AO={}.hasOwnProperty,Vo=function(r,e){for(var t in e)AO.call(e,t)&&(r[t]=e[t]);function i(){this.constructor=r}return i.prototype=e.prototype,r.prototype=new i,r.__super__=e.prototype,r};oo=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var NO=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new bc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),Xy=(function(){function r(e,t){var i,a,o,h,c,f,d,m,y,_,v,S,N,C,T,R,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(v=e.readUInt16(),_=v/2,e.pos+=6,o=(function(){var F,B;for(B=[],f=F=0;0<=_?F<_:F>_;f=0<=_?++F:--F)B.push(e.readUInt16());return B})(),e.pos+=2,N=(function(){var F,B;for(B=[],f=F=0;0<=_?F<_:F>_;f=0<=_?++F:--F)B.push(e.readUInt16());return B})(),d=(function(){var F,B;for(B=[],f=F=0;0<=_?F<_:F>_;f=0<=_?++F:--F)B.push(e.readUInt16());return B})(),m=(function(){var F,B;for(B=[],f=F=0;0<=_?F<_:F>_;f=0<=_?++F:--F)B.push(e.readUInt16());return B})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var F,B;for(B=[],f=F=0;0<=a?F<a:F>a;f=0<=a?++F:--F)B.push(e.readUInt16());return B})(),f=T=0,D=o.length;T<D;f=++T)for(C=o[f],i=R=S=N[f];S<=C?R<=C:R>=C;i=S<=C?++R:--R)m[f]===0?h=i+d[f]:(h=c[m[f]/2+(i-S)-(_-f)]||0)!==0&&(h+=d[f]),this.codeMap[i]=65535&h}e.pos=y}return r.encode=function(e,t){var i,a,o,h,c,f,d,m,y,_,v,S,N,C,T,R,D,F,B,G,z,j,V,Z,k,I,te,$,ne,K,re,ae,fe,_e,Y,O,q,J,se,ue,me,de,xe,Ne,Ue,Ke;switch($=new bc,h=Object.keys(e).sort(function(it,st){return it-st}),t){case"macroman":for(N=0,C=(function(){var it=[];for(S=0;S<256;++S)it.push(0);return it})(),R={0:0},o={},ne=0,fe=h.length;ne<fe;ne++)R[xe=e[a=h[ne]]]==null&&(R[xe]=++N),o[a]={old:e[a],new:R[e[a]]},C[a]=R[e[a]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(C),{charMap:o,subtable:$.data,maxGlyphID:N+1};case"unicode":for(I=[],y=[],D=0,R={},i={},T=d=null,K=0,_e=h.length;K<_e;K++)R[B=e[a=h[K]]]==null&&(R[B]=++D),i[a]={old:B,new:R[B]},c=R[B]-a,T!=null&&c===d||(T&&y.push(T),I.push(a),d=c),T=a;for(T&&y.push(T),y.push(65535),I.push(65535),Z=2*(V=I.length),j=2*Math.pow(Math.log(V)/Math.LN2,2),_=Math.log(j/2)/Math.LN2,z=2*V-j,f=[],G=[],v=[],S=re=0,Y=I.length;re<Y;S=++re){if(k=I[S],m=y[S],k===65535){f.push(0),G.push(0);break}if(k-(te=i[k].new)>=32768)for(f.push(0),G.push(2*(v.length+V-S)),a=ae=k;k<=m?ae<=m:ae>=m;a=k<=m?++ae:--ae)v.push(i[a].new);else f.push(te-k),G.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*V+2*v.length),$.writeUInt16(0),$.writeUInt16(Z),$.writeUInt16(j),$.writeUInt16(_),$.writeUInt16(z),me=0,O=y.length;me<O;me++)a=y[me],$.writeUInt16(a);for($.writeUInt16(0),de=0,q=I.length;de<q;de++)a=I[de],$.writeUInt16(a);for(Ne=0,J=f.length;Ne<J;Ne++)c=f[Ne],$.writeUInt16(c);for(Ue=0,se=G.length;Ue<se;Ue++)F=G[Ue],$.writeUInt16(F);for(Ke=0,ue=v.length;Ke<ue;Ke++)N=v[Ke],$.writeUInt16(N);return{charMap:i,subtable:$.data,maxGlyphID:D+1}}},r})(),K_=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,i,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)t=new Xy(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var i,a;return t==null&&(t="macroman"),i=Xy.encode(e,t),(a=new bc).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},r})(),CO=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),TO=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i})(),this.charRange=(function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),EO=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="post",r.prototype.parse=function(e){var t,i,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var h,c,f;for(f=[],o=h=0,c=this.file.maxp.numGlyphs;0<=c?h<c:h>c;o=0<=c?++h:--h)f.push(e.readUInt32());return f}).call(this)}},r})(),kO=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},MO=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="name",r.prototype.parse=function(e){var t,i,a,o,h,c,f,d,m,y,_;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),i=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=m=0,y=i.length;m<y;o=++m)a=i[o],e.pos=a.offset,d=e.readString(a.length),h=new kO(d,a),f[_=a.nameID]==null&&(f[_]=[]),f[a.nameID].push(h);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},r})(),OO=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),LO=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,i,a,o,h,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,m;for(m=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)m.push(e.readInt16());return m})(),this.widths=(function(){var d,m,y,_;for(_=[],d=0,m=(y=this.metrics).length;d<m;d++)o=y[d],_.push(o.advance);return _}).call(this),i=this.widths[this.widths.length-1],f=[],t=h=0;0<=a?h<a:h>a;t=0<=a?++h:--h)f.push(this.widths.push(i));return f},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),Q_=[].slice,jO=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,i,a,o,h,c,f,d,m,y;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,i=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,h=(c=new bc(t.read(a))).readShort(),d=c.readShort(),y=c.readShort(),f=c.readShort(),m=c.readShort(),this.cache[e]=h===-1?new RO(c,d,y,f,m):new DO(c,h,d,y,f,m),this.cache[e]))},r.prototype.encode=function(e,t,i){var a,o,h,c,f;for(h=[],o=[],c=0,f=t.length;c<f;c++)a=e[t[c]],o.push(h.length),a&&(h=h.concat(a.encode(i)));return o.push(h.length),{table:h,offsets:o}},r})(),DO=(function(){function r(e,t,i,a,o,h){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=a,this.xMax=o,this.yMax=h,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),RO=(function(){function r(e,t,i,a,o){var h,c;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],h=this.raw;c=h.readShort(),this.glyphOffsets.push(h.pos),this.glyphIDs.push(h.readUInt16()),32&c;)h.pos+=1&c?4:2,128&c?h.pos+=8:64&c?h.pos+=4:8&c&&(h.pos+=2)}return r.prototype.encode=function(){var e,t,i;for(t=new bc(Q_.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),IO=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="loca",r.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(e.readUInt32());return o}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,h=0;h<i.length;++h)if(i[h]=a,o<t.length&&t[o]==h){++o,i[h]=a;var c=this.offsets[h],f=this.offsets[h+1]-c;f>0&&(a+=f)}for(var d=new Array(4*i.length),m=0;m<i.length;++m)d[4*m+3]=255&i[m],d[4*m+2]=(65280&i[m])>>8,d[4*m+1]=(16711680&i[m])>>16,d[4*m]=(4278190080&i[m])>>24;return d},r})(),VO=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,i,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)i=o[t],e[t]=a[i];return e},r.prototype.glyphsFor=function(e){var t,i,a,o,h,c,f;for(a={},h=0,c=e.length;h<c;h++)a[o=e[h]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(i=a[o])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))i=f[o],a[o]=i;return a},r.prototype.encode=function(e,t){var i,a,o,h,c,f,d,m,y,_,v,S,N,C,T;for(a in i=K_.encode(this.generateCmap(),"unicode"),h=this.glyphsFor(e),v={0:0},T=i.charMap)v[(f=T[a]).old]=f.new;for(S in _=i.maxGlyphID,h)S in v||(v[S]=_++);return m=(function(R){var D,F;for(D in F={},R)F[R[D]]=D;return F})(v),y=Object.keys(m).sort(function(R,D){return R-D}),N=(function(){var R,D,F;for(F=[],R=0,D=y.length;R<D;R++)c=y[R],F.push(m[c]);return F})(),o=this.font.glyf.encode(h,N,v),d=this.font.loca.encode(o.offsets,N),C={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},r})();Rt.API.PDFObject=(function(){var r;function e(){}return r=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,a,o,h;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)i=t[c],d.push(e.convert(i));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)h=t[a],o.push("/"+a+" "+e.convert(h));return o.push(">>"),o.join(`
`)}return""+t},e})();var q1={exports:{}},FO=q1.exports,Zy;function BO(){return Zy||(Zy=1,(function(r,e){(function(t,i){i()})(FO,function(){function t(d,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function i(d,m,y){var _=new XMLHttpRequest;_.open("GET",d),_.responseType="blob",_.onload=function(){f(_.response,m,y)},_.onerror=function(){console.error("could not download file")},_.send()}function a(d){var m=new XMLHttpRequest;m.open("HEAD",d,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function o(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(m)}}var h=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof h1=="object"&&h1.global===h1?h1:void 0,c=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=h.saveAs||(typeof window!="object"||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(d,m,y){var _=h.URL||h.webkitURL,v=document.createElement("a");m=m||d.name||"download",v.download=m,v.rel="noopener",typeof d=="string"?(v.href=d,v.origin===location.origin?o(v):a(v.href)?i(d,m,y):o(v,v.target="_blank")):(v.href=_.createObjectURL(d),setTimeout(function(){_.revokeObjectURL(v.href)},4e4),setTimeout(function(){o(v)},0))}:"msSaveOrOpenBlob"in navigator?function(d,m,y){if(m=m||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(t(d,y),m);else if(a(d))i(d,m,y);else{var _=document.createElement("a");_.href=d,_.target="_blank",setTimeout(function(){o(_)})}}:function(d,m,y,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof d=="string")return i(d,m,y);var v=d.type==="application/octet-stream",S=/constructor/i.test(h.HTMLElement)||h.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||v&&S||c)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var D=C.result;D=N?D:D.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=D:location=D,_=null},C.readAsDataURL(d)}else{var T=h.URL||h.webkitURL,R=T.createObjectURL(d);_?_.location=R:location.href=R,_=null,setTimeout(function(){T.revokeObjectURL(R)},4e4)}});h.saveAs=f.saveAs=f,r.exports=f})})(q1)),q1.exports}var qO=BO();const d2="chordWheelSongs",cg="chordWheelCurrentSongId",zf=()=>{try{const r=localStorage.getItem(d2);return r?JSON.parse(r).map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})):[]}catch(r){return console.error("Error loading saved songs:",r),[]}},$y=r=>{try{const e=zf(),t=e.findIndex(a=>a.id===r.id),i={...r,updatedAt:new Date().toISOString(),createdAt:r.createdAt instanceof Date?r.createdAt.toISOString():r.createdAt};t>=0?e[t]=i:e.push({...i,createdAt:new Date().toISOString()}),localStorage.setItem(d2,JSON.stringify(e)),localStorage.setItem(cg,r.id)}catch(e){console.error("Error saving song:",e)}},zO=r=>{try{const t=zf().filter(i=>i.id!==r);localStorage.setItem(d2,JSON.stringify(t)),localStorage.getItem(cg)===r&&localStorage.removeItem(cg)}catch(e){console.error("Error deleting song:",e)}};var Lm,Ky;function PO(){if(Ky)return Lm;Ky=1,Lm=e;const r=["auxclick","click","contextmenu","dblclick","keydown","keyup","mousedown","mouseup","touchend"];function e(){const t=window.webkitAudioContext;if(!(navigator.maxTouchPoints>0&&t!=null))return;let a="blocked",o="blocked",h,c,f;const d=new t().sampleRate,m=y(d);r.forEach(C=>{window.addEventListener(C,_,{capture:!0,passive:!0})});function y(C){const T=new ArrayBuffer(10),R=new DataView(T);return R.setUint32(0,C,!0),R.setUint32(4,C,!0),R.setUint16(8,1,!0),`data:audio/wav;base64,UklGRisAAABXQVZFZm10IBAAAAABAAEA${window.btoa(String.fromCharCode(...new Uint8Array(T))).slice(0,13)}AgAZGF0YQcAAACAgICAgICAAAA=`}function _(C){a==="blocked"&&(a="pending",v()),o==="blocked"&&(o="pending",S())}function v(){h=document.createElement("audio"),h.setAttribute("x-webkit-airplay","deny"),h.preload="auto",h.loop=!0,h.src=m,h.load(),h.play().then(()=>{a="allowed",N()},()=>{a="blocked",h.pause(),h.removeAttribute("src"),h.load(),h=null})}function S(){c=new t,f=c.createBufferSource(),f.buffer=c.createBuffer(1,1,22050),f.connect(c.destination),f.start(),c.state==="running"?(o="allowed",N()):(o="blocked",f.disconnect(c.destination),f=null,c.close(),c=null)}function N(){a!=="allowed"||o!=="allowed"||r.forEach(C=>{window.removeEventListener(C,_,{capture:!0,passive:!0})})}}return Lm}var UO=PO();const HO=Qy(UO);HO();function GO(){const{currentSong:r,selectedKey:e,timelineVisible:t,toggleTimeline:i,selectedSectionId:a,selectedSlotId:o,clearSlot:h,clearTimeline:c,setTitle:f,loadSong:d,newSong:m,instrument:y,volume:_,isMuted:v,undo:S,redo:N,canUndo:C,canRedo:T,chordPanelVisible:R}=Rr();he.useEffect(()=>{Qg(y)},[y]),he.useEffect(()=>{_3(_)},[_]),he.useEffect(()=>{w3(v)},[v]);const[D,F]=he.useState(200),[B,G]=he.useState(!1),[z,j]=he.useState(.6),[V,Z]=he.useState(1),[k,I]=he.useState(50),[te,$]=he.useState(720),[ne,K]=he.useState(()=>typeof window<"u"?window.innerWidth<768:!1),[re,ae]=he.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerWidth<1024:!1),fe=he.useRef(!1),_e=he.useRef(!1),[Y,O]=he.useState(!1),q=he.useRef(null);he.useEffect(()=>{if(!ne||re)return;const Ie=()=>{O(!0)},tt=()=>{q.current&&clearTimeout(q.current),q.current=setTimeout(Ie,3e4)},nt=pt=>{const wt=pt.target,ut=wt.closest("[data-chord-details]"),Zt=wt.closest("[data-playback-controls]");!ut&&!Zt&&(O(!1),tt())};return document.addEventListener("touchstart",nt),tt(),()=>{document.removeEventListener("touchstart",nt),q.current&&clearTimeout(q.current)}},[ne,re]),he.useEffect(()=>{const Ie=()=>{const tt=window.innerWidth,nt=window.innerHeight,pt=tt<768,wt=nt<tt&&tt<1024&&pt;if(K(pt),ae(wt),pt)if(wt){const vt=tt*.5,bt=16,Ht=Math.min(560,Math.max(280,vt-bt,nt-120)),rt=Math.min(Ht*1.2,vt-bt+12,nt-120+12,560);$(rt)}else{const bt=nt*.5,Ht=Math.min(tt-8,bt),rt=Math.min(Ht,600),lt=Math.min(rt*1.2,tt-8,600);$(Math.max(280,lt))}else{const lt=Math.max(360,nt-48-56-140-50),Ot=Math.min(720,Math.max(320,Math.min(tt-120,lt)));$(Ot)}const ut=Rr.getState();pt&&!_e.current&&(ut.timelineVisible&&ut.toggleTimeline(),ut.chordPanelVisible&&ut.toggleChordPanel(),_e.current=!0),!pt&&fe.current&&!ut.chordPanelVisible&&(ut.toggleChordPanel(),fe.current=!1)};return Ie(),window.addEventListener("resize",Ie),window.addEventListener("orientationchange",Ie),()=>{window.removeEventListener("resize",Ie),window.removeEventListener("orientationchange",Ie)}},[]);const J=he.useCallback((Ie,tt)=>{Z(Ie),I(tt)},[]),se=he.useCallback(()=>{const Ie=Math.min(2.5,V+.3);Z(Ie),I(Ie>1.3?38:50)},[V]),ue=he.useCallback(()=>{const Ie=Math.max(.2,V-.15);Z(Ie),I(Ie>1.3?38:50)},[V]),[me,de]=he.useState(!1),[xe,Ne]=he.useState(r.title),Ue=he.useMemo(()=>{const Ie=r.sections.reduce((ut,Zt)=>{const vt=Zt.measures.reduce((bt,Ht)=>bt+Ht.beats.reduce((rt,lt)=>rt+lt.duration,0),0);return ut+vt},0),tt=r.tempo/60,nt=Ie/tt,pt=Math.floor(nt/60),wt=Math.floor(nt%60);return`${pt}:${wt.toString().padStart(2,"0")}`},[r.sections,r.tempo]),[Ke,it]=he.useState(!1);he.useEffect(()=>{const Ie=async()=>{try{await cd(),await Fh(),it(!0)}catch(nt){console.error("Audio initialization failed:",nt)}},tt=()=>{Ke||Ie()};return document.addEventListener("touchstart",tt,{once:!0}),document.addEventListener("click",tt,{once:!0}),()=>{document.removeEventListener("touchstart",tt),document.removeEventListener("click",tt)}},[Ke]),he.useEffect(()=>{const Ie=tt=>{if((tt.key==="Delete"||tt.key==="Backspace")&&a&&o){if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;tt.preventDefault(),h(a,o)}};return window.addEventListener("keydown",Ie),()=>window.removeEventListener("keydown",Ie)},[a,o,h]),he.useEffect(()=>{const Ie=tt=>{const nt=tt.target;nt?.tagName==="INPUT"||nt?.tagName==="TEXTAREA"||nt?.isContentEditable||tt.metaKey&&tt.key.toLowerCase()==="z"&&(tt.preventDefault(),tt.shiftKey?T&&N():C&&S())};return window.addEventListener("keydown",Ie),()=>window.removeEventListener("keydown",Ie)},[S,N,C,T]);const st=()=>{Ne(r.title),de(!0)},H=()=>{f(xe.trim()||"Untitled Song"),de(!1)},[je,at]=he.useState(!1),[Xe,Ce]=he.useState([]),Qe=he.useRef(null);he.useEffect(()=>{Ce(zf())},[]),he.useEffect(()=>{const Ie=tt=>{Qe.current&&!Qe.current.contains(tt.target)&&at(!1)};return document.addEventListener("mousedown",Ie),()=>document.removeEventListener("mousedown",Ie)},[]);const et=()=>{if(r.title==="Untitled Song"||!r.title.trim()){const Ie=prompt("Please name your song:",r.title);if(Ie===null)return;const tt=Ie.trim()||"Untitled Song";f(tt);const nt={...r,title:tt};$y(nt)}else $y(r);Ce(zf()),at(!1)},ft=Ie=>{d(Ie),at(!1)},[dt,kt]=he.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),Xt=()=>{kt({isOpen:!0,title:"New Song",message:"Start a new song? Unsaved changes will be lost.",confirmLabel:"Start New",isDestructive:!0,onConfirm:()=>{m(),at(!1)}})},Dt=(Ie,tt,nt)=>{nt.stopPropagation(),kt({isOpen:!0,title:"Delete Song",message:`Are you sure you want to delete "${tt}"? This cannot be undone.`,confirmLabel:"Delete",isDestructive:!0,onConfirm:()=>{zO(Ie),Ce(zf())}})},De=Ie=>{Ie.key==="Enter"?H():Ie.key==="Escape"&&(Ne(r.title),de(!1))},ot=he.useCallback(Ie=>{Ie.preventDefault(),G(!0)},[]);he.useEffect(()=>{if(!B)return;const Ie=nt=>{const wt=window.innerHeight-nt.clientY-56;F(Math.max(100,Math.min(350,wt)))},tt=()=>{G(!1)};return document.addEventListener("mousemove",Ie),document.addEventListener("mouseup",tt),()=>{document.removeEventListener("mousemove",Ie),document.removeEventListener("mouseup",tt)}},[B]);const ct=()=>{const Ie=new Rt;Ie.setFontSize(24),Ie.setFont("helvetica","bold"),Ie.text(r.title,20,20),Ie.setFontSize(12),Ie.setFont("helvetica","normal"),Ie.text(`Key: ${e} | Tempo: ${r.tempo} BPM`,20,30);let tt=50;const nt=new Set;if(r.sections.forEach(ut=>{tt>270&&(Ie.addPage(),tt=20),Ie.setFontSize(14),Ie.setFont("helvetica","bold"),Ie.text(`[${ut.name}]`,20,tt),tt+=10;const vt=ut.measures.map(bt=>{const Ht=bt.beats.length;return bt.beats.forEach(rt=>{if(rt.chord){const lt=rt.chord.root,Cn={major:"maj",minor:"m",diminished:"dim",augmented:"aug",major7:"maj7",minor7:"m7",dominant7:"7",halfDiminished7:"m7b5",sus2:"sus2",sus4:"sus4"}[rt.chord.quality]||rt.chord.quality||"maj";nt.add(`${lt}|${Cn}`)}}),Ht===1?`${bt.beats[0]?.chord?.symbol||""}   `:Ht===2?bt.beats.map(rt=>`${rt.chord?.symbol||""} `).join(" "):bt.beats.map(rt=>rt.chord?.symbol||"").join(" ")}).join("  |  ");Ie.setFontSize(12),Ie.setFont("helvetica","normal"),Ie.text(vt||"(No chords)",20,tt),tt+=15}),nt.size>0){const ut=Array.from(nt),Zt=245,vt=5,rt=ut.length*(22+vt)>Zt,lt=rt?18:22,Ot=rt?18:20,Cn=rt?22:25,Ee=rt?155:170;let Ve=0,We=35;const Ze=rt?Math.ceil(ut.length/2):ut.length;ut.forEach((gt,St)=>{const[Mt,$t]=gt.split("|"),Bt=o_(Mt,$t);if(!Bt)return;rt&&St===Ze&&(Ve=1,We=35);const Yt=Ve*Cn,en=`${Mt}${$t==="maj"?"":$t}`;Ie.setFontSize(rt?6:7),Ie.setFont("helvetica","bold"),Ie.setTextColor(0,0,0),Ie.text(en,Ee+Yt+Ot/2+2,We,{align:"center"}),_t(Ie,Bt,Ee+Yt,We+3,rt),We+=lt+vt})}const pt=`${r.title.replace(/\s+/g,"-").toLowerCase()}.pdf`,wt=Ie.output("blob");qO.saveAs(wt,pt)},_t=(Ie,tt,nt,pt,wt=!1)=>{const{frets:ut,barres:Zt,baseFret:vt}=tt,bt=wt?2.5:3,Ht=wt?3:4,rt=4,lt=6,Ot=wt?1:1.2,Cn=Array.from({length:lt},(gt,St)=>nt+St*bt),Ee=Array.from({length:rt+1},(gt,St)=>pt+St*Ht),Ve=vt===1,We=bt*(lt-1),Ze=Ht*rt;Ie.setDrawColor(0,0,0),Ve?(Ie.setLineWidth(1),Ie.line(nt,pt,nt+We,pt)):(Ie.setLineWidth(.3),Ie.line(nt,pt,nt+We,pt),Ie.setFontSize(wt?6:7),Ie.setFont("helvetica","bold"),Ie.text(vt.toString(),nt-3,pt+Ht/2+1)),Ie.setLineWidth(.2),Ee.slice(1).forEach(gt=>{Ie.line(nt,gt,nt+We,gt)}),Cn.forEach(gt=>{Ie.line(gt,pt,gt,pt+Ze)}),Zt.forEach(gt=>{const St=ut.map((Yt,en)=>({fret:Yt,idx:en})).filter(({fret:Yt})=>Yt===gt);if(St.length<2)return;const Mt=Math.min(...St.map(Yt=>Yt.idx)),$t=Math.max(...St.map(Yt=>Yt.idx)),Bt=pt+(gt-.5)*Ht;Ie.setLineWidth(Ot*1.4),Ie.line(Cn[Mt],Bt,Cn[$t],Bt),Ie.setLineWidth(.2)}),ut.forEach((gt,St)=>{const Mt=Cn[St];if(gt===-1){Ie.setFontSize(wt?6:7),Ie.setFont("helvetica","bold"),Ie.text("x",Mt,pt-1,{align:"center"});return}if(gt===0){Ie.setLineWidth(.3),Ie.circle(Mt,pt-1.5,.8,"S");return}if(Zt.includes(gt)){const Yt=ut.findIndex(en=>en===gt);if(St!==Yt)return}const Bt=pt+(gt-.5)*Ht;Ie.setFillColor(0,0,0),Ie.circle(Mt,Bt,Ot,"F")})},mt=Math.max(80,D-42);return E.jsxs("div",{className:"h-full w-full flex flex-col bg-bg-primary text-text-primary overflow-hidden",children:[E.jsxs("header",{className:`${ne?"h-14":"h-12"} border-b border-border-subtle grid grid-cols-[1fr_auto_1fr] items-center ${ne?"px-4":"px-3"} bg-bg-secondary shrink-0 z-20 transition-all duration-300 ease-out ${ne&&!re&&(Y||R)?"opacity-0 -translate-y-full pointer-events-none absolute top-0 left-0 right-0":"relative"}`,children:[E.jsx("div",{className:"flex items-center gap-2 shrink-0",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"relative",children:E.jsx(ZE,{size:ne?32:24})}),E.jsx("span",{className:`font-bold ${ne?"text-xs":"text-sm"} tracking-tight hidden sm:block text-text-muted`,children:"Songwriter's Wheel"})]})}),E.jsx("div",{className:"flex items-center justify-center overflow-hidden",children:me?E.jsx("input",{type:"text",value:xe,onChange:Ie=>Ne(Ie.target.value),onBlur:H,onKeyDown:De,autoFocus:!0,className:`bg-bg-tertiary border border-border-medium rounded px-3 py-1 ${ne?"text-xs":"text-sm"} font-medium text-text-primary focus:outline-none focus:border-accent-primary text-center ${ne?"w-40":"w-56"} max-w-[70vw]`,maxLength:50}):E.jsx("span",{onDoubleClick:st,className:`${ne?"text-xs":"text-sm"} font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors px-2 py-1 rounded text-center truncate max-w-[70vw]`,title:"Double-click to edit title",children:r.title})}),E.jsxs("div",{className:`flex items-center ${ne?"gap-3":"gap-4"} shrink-0 justify-self-end`,children:[!ne&&E.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[E.jsx(YC,{size:11,className:"shrink-0"}),E.jsx("span",{className:"leading-none",children:Ue})]}),E.jsxs("div",{className:`flex items-center gap-2 p-[10px] ${ne?"text-xs":"text-[10px]"} text-text-muted`,children:[E.jsx("span",{className:"uppercase font-bold",children:"Key"}),E.jsx("span",{className:`font-bold text-accent-primary ${ne?"text-base":"text-sm"}`,children:e})]}),E.jsxs("div",{className:"relative",ref:Qe,children:[E.jsxs("button",{onClick:()=>at(!je),className:`flex items-center gap-1.5 ${ne?"text-xs px-2 py-1.5 min-w-[44px]":"text-[11px] px-2 py-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback`,children:[E.jsx(hb,{size:ne?16:12}),E.jsx("span",{className:"hidden sm:inline",children:"Save"}),E.jsx(_h,{size:ne?12:10,className:`transition-transform ${je?"rotate-180":""}`})]}),je&&E.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-[#1a1a24] border border-border-medium rounded-lg shadow-2xl z-50 overflow-hidden",children:[E.jsxs("div",{className:"p-1.5 border-b border-border-subtle bg-[#22222e]",children:[E.jsxs("button",{onClick:et,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[E.jsx(hb,{size:14,className:"text-accent-primary"}),"Save Current Song"]}),E.jsxs("button",{onClick:Xt,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[E.jsx(QC,{size:14,className:"text-green-400"}),"New Song"]})]}),E.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#1a1a24]",children:Xe.length===0?E.jsx("p",{className:"px-3 py-4 text-[10px] text-gray-500 text-center",children:"No saved songs yet"}):E.jsxs("div",{className:"p-1.5",children:[E.jsx("p",{className:"px-2 py-1 text-[9px] text-gray-500 uppercase tracking-wider",children:"Saved Songs"}),Xe.map(Ie=>E.jsxs("div",{onClick:()=>ft(Ie),className:`flex items-center justify-between px-3 py-2 text-xs rounded cursor-pointer transition-colors ${Ie.id===r.id?"bg-accent-primary/20 text-accent-primary":"text-gray-300 hover:bg-[#2a2a3a]"}`,children:[E.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[E.jsx(eT,{size:12,className:"shrink-0"}),E.jsx("span",{className:"truncate",children:Ie.title})]}),E.jsx("button",{onClick:tt=>Dt(Ie.id,Ie.title,tt),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400 shrink-0",children:E.jsx(Xm,{size:10})})]},Ie.id))]})})]})]}),E.jsxs("button",{onClick:ct,className:`flex items-center gap-1.5 ${ne?"text-xs px-3 py-1.5 min-w-[44px]":"text-[11px] px-2.5 py-1"} bg-text-primary text-bg-primary rounded font-medium hover:bg-white transition-colors touch-feedback`,children:[E.jsx($C,{size:ne?16:12}),E.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]}),E.jsxs("div",{className:`flex-1 flex ${ne?re?"flex-row":"flex-col":"flex-row"} overflow-hidden min-h-0`,children:[E.jsxs("div",{className:`flex flex-col min-w-0 min-h-0 ${ne&&re?"w-1/2":"flex-1"} overflow-hidden bg-gradient-to-b from-bg-primary to-bg-secondary/30`,children:[E.jsxs("div",{className:`flex-1 flex flex-col ${ne&&!re?"justify-center":""} overflow-hidden`,children:[!ne||re?E.jsx("div",{className:`flex justify-end ${ne?"px-4 py-1":"px-3 py-1 md:py-0.5"} shrink-0 w-full`,children:E.jsxs("div",{className:`flex items-center ${ne?"gap-2":"gap-1"} bg-bg-secondary/80 backdrop-blur-sm rounded-full ${ne?"px-3 py-2":"px-2 py-1"} border border-border-subtle shadow-lg`,children:[E.jsx("button",{onClick:ue,disabled:V<=.2,className:`${ne?"w-11 h-11":"w-6 h-6"} flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95`,title:"Zoom out",children:E.jsx(hT,{size:ne?18:12})}),E.jsxs("span",{className:`${ne?"text-xs w-12":"text-[9px] w-8"} text-text-muted text-center font-medium`,children:[Math.round(V*100),"%"]}),E.jsx("button",{onClick:se,disabled:V>=2.5,className:`${ne?"w-11 h-11":"w-6 h-6"} flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95`,title:"Zoom in",children:E.jsx(v3,{size:ne?18:12})})]})}):null,E.jsx("div",{className:`flex-1 flex items-center justify-center overflow-hidden ${ne&&!re?"px-0 py-0":"px-3 pb-3"}`,style:{minHeight:ne&&!re?"45dvh":void 0,height:ne&&!re&&Y?"55dvh":void 0},children:E.jsx("div",{className:"relative flex items-center justify-center",style:{width:ne&&!re&&Y?"min(100vw - 8px, 55dvh)":`${te}px`,height:ne&&!re&&Y?"min(100vw - 8px, 55dvh)":`${te}px`,maxWidth:"100%",maxHeight:ne&&!re?"100%":void 0,transition:"all 0.3s ease-out"},children:E.jsx(BT,{zoomScale:V,zoomOriginY:k,onZoomChange:J})})})]}),ne?null:t?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:`bg-bg-secondary border-t border-border-subtle flex items-center justify-center group transition-colors ${B?"bg-accent-primary/20":""}`,style:{height:"16px"},children:E.jsx("div",{className:"flex-1 h-full cursor-ns-resize flex items-center justify-center hover:bg-bg-tertiary transition-colors",onMouseDown:ot,children:E.jsx(nT,{size:10,className:"text-text-muted group-hover:text-text-secondary"})})}),E.jsxs("div",{className:"shrink-0 bg-bg-secondary overflow-hidden flex flex-col",style:{height:D},children:[E.jsxs("div",{className:"shrink-0 flex items-center justify-between px-3 border-b border-border-subtle bg-bg-secondary/90 backdrop-blur-sm",style:{paddingTop:"4px",paddingBottom:"4px"},children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[E.jsx("span",{className:"uppercase font-bold tracking-wider text-[9px]",children:"Scale"}),E.jsx("input",{type:"range",min:.01,max:1.6,step:.01,value:z,onChange:Ie=>j(parseFloat(Ie.target.value)),className:"w-32",style:{accentColor:"#8b5cf6"},"aria-label":"Timeline scale"}),E.jsxs("span",{className:"text-[10px] text-text-secondary w-12 text-right",children:[Math.round(z*100),"%"]})]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsxs("button",{onClick:S,disabled:!C,className:`flex items-center gap-1 ${ne?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Undo (Z)",children:[E.jsx(b3,{size:ne?14:12}),E.jsx("span",{className:"uppercase font-bold tracking-wider",children:ne?"":"Undo"})]}),E.jsxs("button",{onClick:N,disabled:!T,className:`flex items-center gap-1 ${ne?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Redo (Z)",children:[E.jsx(y3,{size:ne?14:12}),E.jsx("span",{className:"uppercase font-bold tracking-wider",children:ne?"":"Redo"})]})]})]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsxs("button",{onClick:()=>{kt({isOpen:!0,title:"Clear Timeline",message:"Are you sure you want to clear all chords from the timeline? This action cannot be undone.",confirmLabel:"Clear",isDestructive:!0,onConfirm:c})},className:`${ne?"text-xs min-h-[44px] px-3":"text-[10px] px-2 py-1"} text-text-muted hover:text-red-400 rounded hover:bg-red-400/10 transition-colors flex items-center gap-1 touch-feedback`,title:"Clear all chords from timeline",children:[E.jsx(Xm,{size:ne?14:12}),E.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Clear"})]}),E.jsxs("button",{onClick:i,className:`${ne?"text-xs min-h-[44px] px-3":"text-[10px] px-2 py-1"} text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors flex items-center gap-1 touch-feedback`,title:"Hide timeline",children:[E.jsx(_h,{size:ne?14:12}),E.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Hide"})]})]})]}),E.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:E.jsx(Ob,{height:mt,scale:z})})]})]}):E.jsx("div",{className:`${ne?"h-12":"h-7"} bg-bg-secondary border-t border-border-subtle flex items-center justify-center shrink-0`,children:E.jsxs("button",{onClick:i,className:`${ne?"px-4 min-h-[48px]":"px-3 h-full"} flex items-center gap-1 ${ne?"text-xs":"text-[9px]"} text-text-muted hover:text-text-primary hover:bg-bg-tertiary transition-colors touch-feedback`,title:"Show timeline",children:[E.jsx(m3,{size:ne?14:12}),E.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Timeline"})]})})]}),ne&&re?E.jsx("div",{className:"w-1/2 flex flex-col overflow-hidden border-l border-border-subtle bg-bg-secondary",children:E.jsx(Ob,{height:300,scale:.8})}):ne?null:E.jsx(jb,{variant:"sidebar"})]}),ne&&!re&&E.jsx("div",{"data-chord-details":!0,className:`shrink-0 bg-bg-primary ${R?"px-3 pb-2":""} overflow-hidden max-h-[55vh]`,children:E.jsx(jb,{variant:"drawer"})}),!(ne&&!re&&(Y||R))&&E.jsx("div",{className:"shrink-0 z-30 relative",style:{paddingBottom:ne?"env(safe-area-inset-bottom)":void 0},children:E.jsx(XE,{})}),E.jsx(a_,{isOpen:dt.isOpen,onClose:()=>kt(Ie=>({...Ie,isOpen:!1})),onConfirm:dt.onConfirm,title:dt.title,message:dt.message,confirmLabel:dt.confirmLabel,isDestructive:dt.isDestructive})]})}p4.createRoot(document.getElementById("root")).render(E.jsx(he.StrictMode,{children:E.jsx(GO,{})}));export{Bn as _,h1 as c,Qy as g};
