(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var tM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k3(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Fm={exports:{}},xf={};var m5;function O3(){if(m5)return xf;m5=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var h=null;if(o!==void 0&&(h=""+o),a.key!==void 0&&(h=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:i,type:r,key:h,ref:a!==void 0?a:null,props:o}}return xf.Fragment=e,xf.jsx=t,xf.jsxs=t,xf}var g5;function M3(){return g5||(g5=1,Fm.exports=O3()),Fm.exports}var L=M3(),Pm={exports:{}},Wt={};var v5;function L3(){if(v5)return Wt;v5=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function y(X){return X===null||typeof X!="object"?null:(X=w&&X[w]||X["@@iterator"],typeof X=="function"?X:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function C(X,T,H){this.props=X,this.context=T,this.refs=E,this.updater=H||N}C.prototype.isReactComponent={},C.prototype.setState=function(X,T){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,T,"setState")},C.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function U(){}U.prototype=C.prototype;function F(X,T,H){this.props=X,this.context=T,this.refs=E,this.updater=H||N}var q=F.prototype=new U;q.constructor=F,A(q,C.prototype),q.isPureReactComponent=!0;var z=Array.isArray;function $(){}var Y={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function R(X,T,H){var Q=H.ref;return{$$typeof:i,type:X,key:T,ref:Q!==void 0?Q:null,props:H}}function Z(X,T){return R(X.type,T,X.props)}function O(X){return typeof X=="object"&&X!==null&&X.$$typeof===i}function j(X){var T={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(H){return T[H]})}var V=/\/+/g;function J(X,T){return typeof X=="object"&&X!==null&&X.key!=null?j(""+X.key):T.toString(36)}function ue(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then($,$):(X.status="pending",X.then(function(T){X.status==="pending"&&(X.status="fulfilled",X.value=T)},function(T){X.status==="pending"&&(X.status="rejected",X.reason=T)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function ee(X,T,H,Q,re){var ae=typeof X;(ae==="undefined"||ae==="boolean")&&(X=null);var me=!1;if(X===null)me=!0;else switch(ae){case"bigint":case"string":case"number":me=!0;break;case"object":switch(X.$$typeof){case i:case e:me=!0;break;case m:return me=X._init,ee(me(X._payload),T,H,Q,re)}}if(me)return re=re(X),me=Q===""?"."+J(X,0):Q,z(re)?(H="",me!=null&&(H=me.replace(V,"$&/")+"/"),ee(re,T,H,"",function(ve){return ve})):re!=null&&(O(re)&&(re=Z(re,H+(re.key==null||X&&X.key===re.key?"":(""+re.key).replace(V,"$&/")+"/")+me)),T.push(re)),1;me=0;var de=Q===""?".":Q+":";if(z(X))for(var _e=0;_e<X.length;_e++)Q=X[_e],ae=de+J(Q,_e),me+=ee(Q,T,H,ae,re);else if(_e=y(X),typeof _e=="function")for(X=_e.call(X),_e=0;!(Q=X.next()).done;)Q=Q.value,ae=de+J(Q,_e++),me+=ee(Q,T,H,ae,re);else if(ae==="object"){if(typeof X.then=="function")return ee(ue(X),T,H,Q,re);throw T=String(X),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return me}function ie(X,T,H){if(X==null)return X;var Q=[],re=0;return ee(X,Q,"","",function(ae){return T.call(H,ae,re++)}),Q}function ce(X){if(X._status===-1){var T=X._result;T=T(),T.then(function(H){(X._status===0||X._status===-1)&&(X._status=1,X._result=H)},function(H){(X._status===0||X._status===-1)&&(X._status=2,X._result=H)}),X._status===-1&&(X._status=0,X._result=T)}if(X._status===1)return X._result.default;throw X._result}var he=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},we={map:ie,forEach:function(X,T,H){ie(X,function(){T.apply(this,arguments)},H)},count:function(X){var T=0;return ie(X,function(){T++}),T},toArray:function(X){return ie(X,function(T){return T})||[]},only:function(X){if(!O(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return Wt.Activity=x,Wt.Children=we,Wt.Component=C,Wt.Fragment=t,Wt.Profiler=a,Wt.PureComponent=F,Wt.StrictMode=r,Wt.Suspense=f,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return Y.H.useMemoCache(X)}},Wt.cache=function(X){return function(){return X.apply(null,arguments)}},Wt.cacheSignal=function(){return null},Wt.cloneElement=function(X,T,H){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Q=A({},X.props),re=X.key;if(T!=null)for(ae in T.key!==void 0&&(re=""+T.key),T)!D.call(T,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&T.ref===void 0||(Q[ae]=T[ae]);var ae=arguments.length-2;if(ae===1)Q.children=H;else if(1<ae){for(var me=Array(ae),de=0;de<ae;de++)me[de]=arguments[de+2];Q.children=me}return R(X.type,re,Q)},Wt.createContext=function(X){return X={$$typeof:h,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},Wt.createElement=function(X,T,H){var Q,re={},ae=null;if(T!=null)for(Q in T.key!==void 0&&(ae=""+T.key),T)D.call(T,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(re[Q]=T[Q]);var me=arguments.length-2;if(me===1)re.children=H;else if(1<me){for(var de=Array(me),_e=0;_e<me;_e++)de[_e]=arguments[_e+2];re.children=de}if(X&&X.defaultProps)for(Q in me=X.defaultProps,me)re[Q]===void 0&&(re[Q]=me[Q]);return R(X,ae,re)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(X){return{$$typeof:c,render:X}},Wt.isValidElement=O,Wt.lazy=function(X){return{$$typeof:m,_payload:{_status:-1,_result:X},_init:ce}},Wt.memo=function(X,T){return{$$typeof:d,type:X,compare:T===void 0?null:T}},Wt.startTransition=function(X){var T=Y.T,H={};Y.T=H;try{var Q=X(),re=Y.S;re!==null&&re(H,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then($,he)}catch(ae){he(ae)}finally{T!==null&&H.types!==null&&(T.types=H.types),Y.T=T}},Wt.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Wt.use=function(X){return Y.H.use(X)},Wt.useActionState=function(X,T,H){return Y.H.useActionState(X,T,H)},Wt.useCallback=function(X,T){return Y.H.useCallback(X,T)},Wt.useContext=function(X){return Y.H.useContext(X)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(X,T){return Y.H.useDeferredValue(X,T)},Wt.useEffect=function(X,T){return Y.H.useEffect(X,T)},Wt.useEffectEvent=function(X){return Y.H.useEffectEvent(X)},Wt.useId=function(){return Y.H.useId()},Wt.useImperativeHandle=function(X,T,H){return Y.H.useImperativeHandle(X,T,H)},Wt.useInsertionEffect=function(X,T){return Y.H.useInsertionEffect(X,T)},Wt.useLayoutEffect=function(X,T){return Y.H.useLayoutEffect(X,T)},Wt.useMemo=function(X,T){return Y.H.useMemo(X,T)},Wt.useOptimistic=function(X,T){return Y.H.useOptimistic(X,T)},Wt.useReducer=function(X,T,H){return Y.H.useReducer(X,T,H)},Wt.useRef=function(X){return Y.H.useRef(X)},Wt.useState=function(X){return Y.H.useState(X)},Wt.useSyncExternalStore=function(X,T,H){return Y.H.useSyncExternalStore(X,T,H)},Wt.useTransition=function(){return Y.H.useTransition()},Wt.version="19.2.0",Wt}var y5;function K0(){return y5||(y5=1,Pm.exports=L3()),Pm.exports}var pe=K0();const _n=k3(pe);var Um={exports:{}},_f={},Vm={exports:{}},Hm={};var b5;function D3(){return b5||(b5=1,(function(i){function e(ee,ie){var ce=ee.length;ee.push(ie);e:for(;0<ce;){var he=ce-1>>>1,we=ee[he];if(0<a(we,ie))ee[he]=ie,ee[ce]=we,ce=he;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ie=ee[0],ce=ee.pop();if(ce!==ie){ee[0]=ce;e:for(var he=0,we=ee.length,X=we>>>1;he<X;){var T=2*(he+1)-1,H=ee[T],Q=T+1,re=ee[Q];if(0>a(H,ce))Q<we&&0>a(re,H)?(ee[he]=re,ee[Q]=ce,he=Q):(ee[he]=H,ee[T]=ce,he=T);else if(Q<we&&0>a(re,ce))ee[he]=re,ee[Q]=ce,he=Q;else break e}}return ie}function a(ee,ie){var ce=ee.sortIndex-ie.sortIndex;return ce!==0?ce:ee.id-ie.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var h=Date,c=h.now();i.unstable_now=function(){return h.now()-c}}var f=[],d=[],m=1,x=null,w=3,y=!1,N=!1,A=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function q(ee){for(var ie=t(d);ie!==null;){if(ie.callback===null)r(d);else if(ie.startTime<=ee)r(d),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=t(d)}}function z(ee){if(A=!1,q(ee),!N)if(t(f)!==null)N=!0,$||($=!0,j());else{var ie=t(d);ie!==null&&ue(z,ie.startTime-ee)}}var $=!1,Y=-1,D=5,R=-1;function Z(){return E?!0:!(i.unstable_now()-R<D)}function O(){if(E=!1,$){var ee=i.unstable_now();R=ee;var ie=!0;try{e:{N=!1,A&&(A=!1,U(Y),Y=-1),y=!0;var ce=w;try{t:{for(q(ee),x=t(f);x!==null&&!(x.expirationTime>ee&&Z());){var he=x.callback;if(typeof he=="function"){x.callback=null,w=x.priorityLevel;var we=he(x.expirationTime<=ee);if(ee=i.unstable_now(),typeof we=="function"){x.callback=we,q(ee),ie=!0;break t}x===t(f)&&r(f),q(ee)}else r(f);x=t(f)}if(x!==null)ie=!0;else{var X=t(d);X!==null&&ue(z,X.startTime-ee),ie=!1}}break e}finally{x=null,w=ce,y=!1}ie=void 0}}finally{ie?j():$=!1}}}var j;if(typeof F=="function")j=function(){F(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=O,j=function(){J.postMessage(null)}}else j=function(){C(O,0)};function ue(ee,ie){Y=C(function(){ee(i.unstable_now())},ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(ee){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var ce=w;w=ie;try{return ee()}finally{w=ce}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ce=w;w=ee;try{return ie()}finally{w=ce}},i.unstable_scheduleCallback=function(ee,ie,ce){var he=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?he+ce:he):ce=he,ee){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ce+we,ee={id:m++,callback:ie,priorityLevel:ee,startTime:ce,expirationTime:we,sortIndex:-1},ce>he?(ee.sortIndex=ce,e(d,ee),t(f)===null&&ee===t(d)&&(A?(U(Y),Y=-1):A=!0,ue(z,ce-he))):(ee.sortIndex=we,e(f,ee),N||y||(N=!0,$||($=!0,j()))),ee},i.unstable_shouldYield=Z,i.unstable_wrapCallback=function(ee){var ie=w;return function(){var ce=w;w=ie;try{return ee.apply(this,arguments)}finally{w=ce}}}})(Hm)),Hm}var x5;function j3(){return x5||(x5=1,Vm.exports=D3()),Vm.exports}var Gm={exports:{}},jr={};var _5;function R3(){if(_5)return jr;_5=1;var i=K0();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:d,implementation:m}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return jr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jr.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,m)},jr.flushSync=function(f){var d=h.T,m=r.p;try{if(h.T=null,r.p=2,f)return f()}finally{h.T=d,r.p=m,r.d.f()}},jr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},jr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},jr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,x=c(m,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:y}):m==="script"&&r.d.X(f,{crossOrigin:x,integrity:w,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},jr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},jr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,x=c(m,d.crossOrigin);r.d.L(f,m,{crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},jr.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},jr.requestFormReset=function(f){r.d.r(f)},jr.unstable_batchedUpdates=function(f,d){return f(d)},jr.useFormState=function(f,d,m){return h.H.useFormState(f,d,m)},jr.useFormStatus=function(){return h.H.useHostTransitionStatus()},jr.version="19.2.0",jr}var w5;function Db(){if(w5)return Gm.exports;w5=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gm.exports=R3(),Gm.exports}var S5;function I3(){if(S5)return _f;S5=1;var i=j3(),e=K0(),t=Db();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function c(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(o(n)!==n)throw Error(r(188))}function d(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,u=s;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return f(g),n;if(b===u)return f(g),s;b=b.sibling}throw Error(r(188))}if(l.return!==u.return)l=g,u=b;else{for(var M=!1,K=g.child;K;){if(K===l){M=!0,l=g,u=b;break}if(K===u){M=!0,u=g,l=b;break}K=K.sibling}if(!M){for(K=b.child;K;){if(K===l){M=!0,l=b,u=g;break}if(K===u){M=!0,u=b,l=g;break}K=K.sibling}if(!M)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function m(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=m(n),s!==null)return s;n=n.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),F=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var V=Symbol.for("react.client.reference");function J(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===V?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case z:return"Suspense";case $:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case F:return n.displayName||"Context";case U:return(n._context.displayName||"Context")+".Consumer";case q:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Y:return s=n.displayName||null,s!==null?s:J(n.type)||"Memo";case D:s=n._payload,n=n._init;try{return J(n(s))}catch{}}return null}var ue=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},he=[],we=-1;function X(n){return{current:n}}function T(n){0>we||(n.current=he[we],he[we]=null,we--)}function H(n,s){we++,he[we]=n.current,n.current=s}var Q=X(null),re=X(null),ae=X(null),me=X(null);function de(n,s){switch(H(ae,s),H(re,n),H(Q,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?zv(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=zv(s),n=qv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}T(Q),H(Q,n)}function _e(){T(Q),T(re),T(ae)}function ve(n){n.memoizedState!==null&&H(me,n);var s=Q.current,l=qv(s,n.type);s!==l&&(H(re,n),H(Q,l))}function Ie(n){re.current===n&&(T(Q),T(re)),me.current===n&&(T(me),gf._currentValue=ce)}var He,Ge;function Qe(n){if(He===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);He=s&&s[1]||"",Ge=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+n+Ge}var P=!1;function je(n,s){if(!n||P)return"";P=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(Re){var Me=Re}Reflect.construct(n,[],Ye)}else{try{Ye.call()}catch(Re){Me=Re}n.call(Ye.prototype)}}else{try{throw Error()}catch(Re){Me=Re}(Ye=n())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(Re){if(Re&&Me&&typeof Re.stack=="string")return[Re.stack,Me.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=u.DetermineComponentFrameRoot(),M=b[0],K=b[1];if(M&&K){var fe=M.split(`
`),ke=K.split(`
`);for(g=u=0;u<fe.length&&!fe[u].includes("DetermineComponentFrameRoot");)u++;for(;g<ke.length&&!ke[g].includes("DetermineComponentFrameRoot");)g++;if(u===fe.length||g===ke.length)for(u=fe.length-1,g=ke.length-1;1<=u&&0<=g&&fe[u]!==ke[g];)g--;for(;1<=u&&0<=g;u--,g--)if(fe[u]!==ke[g]){if(u!==1||g!==1)do if(u--,g--,0>g||fe[u]!==ke[g]){var qe=`
`+fe[u].replace(" at new "," at ");return n.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",n.displayName)),qe}while(1<=u&&0<=g);break}}}finally{P=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Qe(l):""}function ct(n,s){switch(n.tag){case 26:case 27:case 5:return Qe(n.type);case 16:return Qe("Lazy");case 13:return n.child!==s&&s!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return je(n.type,!1);case 11:return je(n.type.render,!1);case 1:return je(n.type,!0);case 31:return Qe("Activity");default:return""}}function tt(n){try{var s="",l=null;do s+=ct(n,l),l=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var De=Object.prototype.hasOwnProperty,et=i.unstable_scheduleCallback,nt=i.unstable_cancelCallback,ht=i.unstable_shouldYield,ut=i.unstable_requestPaint,Ot=i.unstable_now,We=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,ot=i.unstable_UserBlockingPriority,gt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,Tt=i.unstable_IdlePriority,lt=i.log,Ht=i.unstable_setDisableYieldValue,Dt=null,vt=null;function At(n){if(typeof lt=="function"&&Ht(n),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(Dt,n)}catch{}}var Ft=Math.clz32?Math.clz32:Le,St=Math.log,Oe=Math.LN2;function Le(n){return n>>>=0,n===0?32:31-(St(n)/Oe|0)|0}var Fe=256,pt=262144,it=4194304;function Ke(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function at(n,s,l){var u=n.pendingLanes;if(u===0)return 0;var g=0,b=n.suspendedLanes,M=n.pingedLanes;n=n.warmLanes;var K=u&134217727;return K!==0?(u=K&~b,u!==0?g=Ke(u):(M&=K,M!==0?g=Ke(M):l||(l=K&~n,l!==0&&(g=Ke(l))))):(K=u&~b,K!==0?g=Ke(K):M!==0?g=Ke(M):l||(l=u&~n,l!==0&&(g=Ke(l)))),g===0?0:s!==0&&s!==g&&(s&b)===0&&(b=g&-g,l=s&-s,b>=l||b===32&&(l&4194048)!==0)?s:g}function Jt(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Qt(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pn(){var n=it;return it<<=1,(it&62914560)===0&&(it=4194304),n}function mn(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function mt(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function an(n,s,l,u,g,b){var M=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var K=n.entanglements,fe=n.expirationTimes,ke=n.hiddenUpdates;for(l=M&~l;0<l;){var qe=31-Ft(l),Ye=1<<qe;K[qe]=0,fe[qe]=-1;var Me=ke[qe];if(Me!==null)for(ke[qe]=null,qe=0;qe<Me.length;qe++){var Re=Me[qe];Re!==null&&(Re.lane&=-536870913)}l&=~Ye}u!==0&&zn(n,u,0),b!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=b&~(M&~s))}function zn(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Ft(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function gn(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var u=31-Ft(l),g=1<<u;g&s|n[u]&s&&(n[u]|=s),l&=~g}}function Dn(n,s){var l=s&-s;return l=(l&42)!==0?1:tn(l),(l&(n.suspendedLanes|s))!==0?0:l}function tn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function vn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Cn(){var n=ie.p;return n!==0?n:(n=window.event,n===void 0?32:l5(n.type))}function yr(n,s){var l=ie.p;try{return ie.p=n,s()}finally{ie.p=l}}var ui=Math.random().toString(36).slice(2),Tn="__reactFiber$"+ui,qn="__reactProps$"+ui,Pi="__reactContainer$"+ui,lr="__reactEvents$"+ui,br="__reactListeners$"+ui,ma="__reactHandles$"+ui,Pr="__reactResources$"+ui,Ur="__reactMarker$"+ui;function Ys(n){delete n[Tn],delete n[qn],delete n[lr],delete n[br],delete n[ma]}function Vr(n){var s=n[Tn];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Pi]||l[Tn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=Yv(n);n!==null;){if(l=n[Tn])return l;n=Yv(n)}return s}n=l,l=n.parentNode}return null}function Ns(n){if(n=n[Tn]||n[Pi]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function jo(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Ws(n){var s=n[Pr];return s||(s=n[Pr]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function vi(n){n[Ur]=!0}var gc=new Set,Hr={};function Cs(n,s){ga(n,s),ga(n+"Capture",s)}function ga(n,s){for(Hr[n]=s,n=0;n<s.length;n++)gc.add(s[n])}var vc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yc={},bc={};function fu(n){return De.call(bc,n)?!0:De.call(yc,n)?!1:vc.test(n)?bc[n]=!0:(yc[n]=!0,!1)}function Gr(n,s,l){if(fu(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function va(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function Ts(n,s,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+u)}}function Sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function xc(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xs(n,s,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,b=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(M){l=""+M,b.call(this,M)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(M){l=""+M},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function so(n){if(!n._valueTracker){var s=xc(n)?"checked":"value";n._valueTracker=Xs(n,s,""+n[s])}}function _c(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return n&&(u=xc(n)?n.checked?"true":"false":n.value),n=u,n!==l?(s.setValue(n),!0):!1}function xr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Di=/[\n"\\]/g;function Si(n){return n.replace(Di,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xl(n,s,l,u,g,b,M,K){n.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.type=M:n.removeAttribute("type"),s!=null?M==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Sn(s)):n.value!==""+Sn(s)&&(n.value=""+Sn(s)):M!=="submit"&&M!=="reset"||n.removeAttribute("value"),s!=null?wc(n,M,Sn(s)):l!=null?wc(n,M,Sn(l)):u!=null&&n.removeAttribute("value"),g==null&&b!=null&&(n.defaultChecked=!!b),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?n.name=""+Sn(K):n.removeAttribute("name")}function du(n,s,l,u,g,b,M,K){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.type=b),s!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){so(n);return}l=l!=null?""+Sn(l):"",s=s!=null?""+Sn(s):l,K||s===n.value||(n.value=s),n.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=K?n.checked:!!u,n.defaultChecked=!!u,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(n.name=M),so(n)}function wc(n,s,l){s==="number"&&xr(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function _r(n,s,l,u){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&u&&(n[l].defaultSelected=!0)}else{for(l=""+Sn(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function Sc(n,s,l){if(s!=null&&(s=""+Sn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+Sn(l):""}function Ac(n,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(ue(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=Sn(s),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),so(n)}function Es(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var Ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(n,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,l):typeof l!="number"||l===0||Ro.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function mu(n,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&pu(n,g,u)}else for(var b in s)s.hasOwnProperty(b)&&pu(n,b,s[b])}function Nc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(n){return gu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ks(){}var ya=null;function Io(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ao=null,jt=null;function vu(n){var s=Ns(n);if(s&&(n=s.stateNode)){var l=n[qn]||null;e:switch(n=s.stateNode,s.type){case"input":if(xl(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Si(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==n&&u.form===n.form){var g=u[qn]||null;if(!g)throw Error(r(90));xl(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===n.form&&_c(u)}break e;case"textarea":Sc(n,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&_r(n,!!l.multiple,s,!1)}}}var Tc=!1;function yu(n,s,l){if(Tc)return n(s,l);Tc=!0;try{var u=n(s);return u}finally{if(Tc=!1,(ao!==null||jt!==null)&&(Rd(),ao&&(s=ao,n=jt,jt=ao=null,vu(s),n)))for(s=0;s<n.length;s++)vu(n[s])}}function Yr(n,s){var l=n.stateNode;if(l===null)return null;var u=l[qn]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=!1;if(Qi)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{Ec=!1}var Wr=null,zo=null,Zs=null;function bu(){if(Zs)return Zs;var n,s=zo,l=s.length,u,g="value"in Wr?Wr.value:Wr.textContent,b=g.length;for(n=0;n<l&&s[n]===g[n];n++);var M=l-n;for(u=1;u<=M&&s[l-u]===g[b-u];u++);return Zs=g.slice(n,1<u?1-u:void 0)}function ns(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function _l(){return!0}function wl(){return!1}function Ui(n){function s(l,u,g,b,M){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var K in n)n.hasOwnProperty(K)&&(l=n[K],this[K]=l?l(b):b[K]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?_l:wl,this.isPropagationStopped=wl,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),s}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=Ui(Ks),ba=x({},Ks,{view:0,detail:0}),Sl=Ui(ba),qo,xa,_a,Fo=x({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zt,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_a&&(_a&&n.type==="mousemove"?(qo=n.screenX-_a.screenX,xa=n.screenY-_a.screenY):xa=qo=0,_a=n),qo)},movementY:function(n){return"movementY"in n?n.movementY:xa}}),kc=Ui(Fo),wa=x({},Fo,{dataTransfer:0}),Sa=Ui(wa),xu=x({},ba,{relatedTarget:0}),Aa=Ui(xu),_u=x({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Ui(_u),I=x({},Ks,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),le=Ui(I),ge=x({},Ks,{data:0}),Se=Ui(ge),Pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ze={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nt(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=bt[n])?!!s[n]:!1}function zt(){return Nt}var Gt=x({},ba,{key:function(n){if(n.key){var s=Pe[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ns(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ze[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zt,charCode:function(n){return n.type==="keypress"?ns(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ns(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),un=Ui(Gt),ti=x({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yi=Ui(ti),Fn=x({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zt}),ji=Ui(Fn),Ai=x({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),$i=Ui(Ai),Na=x({},Fo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Os=Ui(Na),Ca=x({},Ks,{newState:0,oldState:0}),Oc=Ui(Ca),Al=[9,13,27,32],Qs=Qi&&"CompositionEvent"in window,Ms=null;Qi&&"documentMode"in document&&(Ms=document.documentMode);var Po=Qi&&"TextEvent"in window&&!Ms,Ta=Qi&&(!Qs||Ms&&8<Ms&&11>=Ms),Vi=" ",oo=!1;function lo(n,s){switch(n){case"keyup":return Al.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nl(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $s=!1;function wr(n,s){switch(n){case"compositionend":return Nl(s);case"keypress":return s.which!==32?null:(oo=!0,Vi);case"textInput":return n=s.data,n===Vi&&oo?null:n;default:return null}}function Ea(n,s){if($s)return n==="compositionend"||!Qs&&lo(n,s)?(n=bu(),Zs=zo=Wr=null,$s=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ta&&s.locale!=="ko"?null:s.data;default:return null}}var Cl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Cl[n.type]:s==="textarea"}function Xr(n,s,l,u){ao?jt?jt.push(u):jt=[u]:ao=u,s=Ud(s,"onChange"),0<s.length&&(l=new is("onChange","change",null,l,u),n.push({event:l,listeners:s}))}var Ls=null,ka=null;function Lc(n){Lv(n,0)}function Ds(n){var s=jo(n);if(_c(s))return n}function co(n,s){if(n==="change")return s}var Lr=!1;if(Qi){var Sr;if(Qi){var Js="oninput"in document;if(!Js){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Js=typeof ea.oninput=="function"}Sr=Js}else Sr=!1;Lr=Sr&&(!document.documentMode||9<document.documentMode)}function Oa(){Ls&&(Ls.detachEvent("onpropertychange",Tl),ka=Ls=null)}function Tl(n){if(n.propertyName==="value"&&Ds(ka)){var s=[];Xr(s,ka,n,Io(n)),yu(Lc,s)}}function El(n,s,l){n==="focusin"?(Oa(),Ls=s,ka=l,Ls.attachEvent("onpropertychange",Tl)):n==="focusout"&&Oa()}function bi(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ds(ka)}function wu(n,s){if(n==="click")return Ds(s)}function ta(n,s){if(n==="input"||n==="change")return Ds(s)}function na(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Ji=typeof Object.is=="function"?Object.is:na;function Ma(n,s){if(Ji(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!De.call(s,g)||!Ji(n[g],s[g]))return!1}return!0}function kl(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ol(n,s){var l=kl(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=s&&u>=s)return{node:l,offset:s-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=kl(l)}}function La(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?La(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Da(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=xr(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=xr(n.document)}return s}function ia(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Uo=Qi&&"documentMode"in document&&11>=document.documentMode,Zr=null,ja=null,cr=null,rs=!1;function An(n,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;rs||Zr==null||Zr!==xr(u)||(u=Zr,"selectionStart"in u&&ia(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),cr&&Ma(cr,u)||(cr=u,u=Ud(ja,"onSelect"),0<u.length&&(s=new is("onSelect","select",null,s,l),n.push({event:s,listeners:u}),s.target=Zr)))}function hn(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Pn={animationend:hn("Animation","AnimationEnd"),animationiteration:hn("Animation","AnimationIteration"),animationstart:hn("Animation","AnimationStart"),transitionrun:hn("Transition","TransitionRun"),transitionstart:hn("Transition","TransitionStart"),transitioncancel:hn("Transition","TransitionCancel"),transitionend:hn("Transition","TransitionEnd")},xi={},ra={};Qi&&(ra=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function js(n){if(xi[n])return xi[n];if(!Pn[n])return n;var s=Pn[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in ra)return xi[n]=s[l];return n}var Vo=js("animationend"),Dc=js("animationiteration"),zh=js("animationstart"),hd=js("transitionrun"),fd=js("transitionstart"),dd=js("transitioncancel"),qh=js("transitionend"),Fh=new Map,Ho="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ho.push("scrollEnd");function ss(n,s){Fh.set(n,s),Cs(s,[n])}var jc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Kr=[],Go=0,Su=0;function Rc(){for(var n=Go,s=Su=Go=0;s<n;){var l=Kr[s];Kr[s++]=null;var u=Kr[s];Kr[s++]=null;var g=Kr[s];Kr[s++]=null;var b=Kr[s];if(Kr[s++]=null,u!==null&&g!==null){var M=u.pending;M===null?g.next=g:(g.next=M.next,M.next=g),u.pending=g}b!==0&&Bc(l,g,b)}}function Ic(n,s,l,u){Kr[Go++]=n,Kr[Go++]=s,Kr[Go++]=l,Kr[Go++]=u,Su|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Au(n,s,l,u){return Ic(n,s,l,u),ur(n)}function Ra(n,s){return Ic(n,null,null,s),ur(n)}function Bc(n,s,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var g=!1,b=n.return;b!==null;)b.childLanes|=l,u=b.alternate,u!==null&&(u.childLanes|=l),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(g=!0)),n=b,b=b.return;return n.tag===3?(b=n.stateNode,g&&s!==null&&(g=31-Ft(l),n=b.hiddenUpdates,u=n[g],u===null?n[g]=[s]:u.push(s),s.lane=l|536870912),b):null}function ur(n){if(50<cf)throw cf=0,um=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var er={};function Nu(n,s,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(n,s,l,u){return new Nu(n,s,l,u)}function Cu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function as(n,s){var l=n.alternate;return l===null?(l=hr(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function zc(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ml(n,s,l,u,g,b){var M=0;if(u=n,typeof n=="function")Cu(n)&&(M=1);else if(typeof n=="string")M=v3(n,l,Q.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=hr(31,l,s,g),n.elementType=R,n.lanes=b,n;case A:return uo(l.children,g,b,s);case E:M=8,g|=24;break;case C:return n=hr(12,l,s,g|2),n.elementType=C,n.lanes=b,n;case z:return n=hr(13,l,s,g),n.elementType=z,n.lanes=b,n;case $:return n=hr(19,l,s,g),n.elementType=$,n.lanes=b,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:M=10;break e;case U:M=9;break e;case q:M=11;break e;case Y:M=14;break e;case D:M=16,u=null;break e}M=29,l=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=hr(M,l,s,g),s.elementType=n,s.type=u,s.lanes=b,s}function uo(n,s,l,u){return n=hr(7,n,u,s),n.lanes=l,n}function qc(n,s,l){return n=hr(6,n,null,s),n.lanes=l,n}function Tu(n){var s=hr(18,null,null,0);return s.stateNode=n,s}function Ll(n,s,l){return s=hr(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Eu=new WeakMap;function os(n,s){if(typeof n=="object"&&n!==null){var l=Eu.get(n);return l!==void 0?l:(s={value:n,source:s,stack:tt(s)},Eu.set(n,s),s)}return{value:n,source:s,stack:tt(s)}}var Dl=[],Yo=0,ku=null,Fc=0,ls=[],cs=0,ho=null,us=1,hs="";function Qr(n,s){Dl[Yo++]=Fc,Dl[Yo++]=ku,ku=n,Fc=s}function pd(n,s,l){ls[cs++]=us,ls[cs++]=hs,ls[cs++]=ho,ho=n;var u=us;n=hs;var g=32-Ft(u)-1;u&=~(1<<g),l+=1;var b=32-Ft(s)+g;if(30<b){var M=g-g%5;b=(u&(1<<M)-1).toString(32),u>>=M,g-=M,us=1<<32-Ft(s)+g|l<<g|u,hs=b+n}else us=1<<b|l<<g|u,hs=n}function Ph(n){n.return!==null&&(Qr(n,1),pd(n,1,0))}function Ou(n){for(;n===ku;)ku=Dl[--Yo],Dl[Yo]=null,Fc=Dl[--Yo],Dl[Yo]=null;for(;n===ho;)ho=ls[--cs],ls[cs]=null,hs=ls[--cs],ls[cs]=null,us=ls[--cs],ls[cs]=null}function md(n,s){ls[cs++]=us,ls[cs++]=hs,ls[cs++]=ho,us=s.id,hs=s.overflow,ho=n}var tr=null,Xn=null,nn=!1,Ar=null,hi=!1,Rs=Error(r(519));function fo(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(os(s,n)),Rs}function Uh(n){var s=n.stateNode,l=n.type,u=n.memoizedProps;switch(s[Tn]=n,s[qn]=u,l){case"dialog":sn("cancel",s),sn("close",s);break;case"iframe":case"object":case"embed":sn("load",s);break;case"video":case"audio":for(l=0;l<hf.length;l++)sn(hf[l],s);break;case"source":sn("error",s);break;case"img":case"image":case"link":sn("error",s),sn("load",s);break;case"details":sn("toggle",s);break;case"input":sn("invalid",s),du(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":sn("invalid",s);break;case"textarea":sn("invalid",s),Ac(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||Iv(s.textContent,l)?(u.popover!=null&&(sn("beforetoggle",s),sn("toggle",s)),u.onScroll!=null&&sn("scroll",s),u.onScrollEnd!=null&&sn("scrollend",s),u.onClick!=null&&(s.onclick=ks),s=!0):s=!1,s||fo(n,!0)}function Ia(n){for(tr=n.return;tr;)switch(tr.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:tr=tr.return}}function nr(n){if(n!==tr)return!1;if(!nn)return Ia(n),nn=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Nm(n.type,n.memoizedProps)),l=!l),l&&Xn&&fo(n),Ia(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Xn=Gv(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Xn=Gv(n)}else s===27?(s=Xn,Xl(n.type)?(n=Om,Om=null,Xn=n):Xn=s):Xn=tr?la(n.stateNode.nextSibling):null;return!0}function Wo(){Xn=tr=null,nn=!1}function Vh(){var n=Ar;return n!==null&&(vs===null?vs=n:vs.push.apply(vs,n),Ar=null),n}function jl(n){Ar===null?Ar=[n]:Ar.push(n)}var Mu=X(null),po=null,sa=null;function mo(n,s,l){H(Mu,s._currentValue),s._currentValue=l}function fs(n){n._currentValue=Mu.current,T(Mu)}function Rl(n,s,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===l)break;n=n.return}}function Xo(n,s,l,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var b=g.dependencies;if(b!==null){var M=g.child;b=b.firstContext;e:for(;b!==null;){var K=b;b=g;for(var fe=0;fe<s.length;fe++)if(K.context===s[fe]){b.lanes|=l,K=b.alternate,K!==null&&(K.lanes|=l),Rl(b.return,l,n),u||(M=null);break e}b=K.next}}else if(g.tag===18){if(M=g.return,M===null)throw Error(r(341));M.lanes|=l,b=M.alternate,b!==null&&(b.lanes|=l),Rl(M,l,n),M=null}else M=g.child;if(M!==null)M.return=g;else for(M=g;M!==null;){if(M===n){M=null;break}if(g=M.sibling,g!==null){g.return=M.return,M=g;break}M=M.return}g=M}}function go(n,s,l,u){n=null;for(var g=s,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var M=g.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var K=g.type;Ji(g.pendingProps.value,M.value)||(n!==null?n.push(K):n=[K])}}else if(g===me.current){if(M=g.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(gf):n=[gf])}g=g.return}n!==null&&Xo(s,n,l,u),s.flags|=262144}function Lu(n){for(n=n.firstContext;n!==null;){if(!Ji(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function vo(n){po=n,sa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ir(n){return gd(po,n)}function Du(n,s){return po===null&&vo(n),gd(n,s)}function gd(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},sa===null){if(n===null)throw Error(r(308));sa=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else sa=sa.next=s;return l}var k1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},O1=i.unstable_scheduleCallback,M1=i.unstable_NormalPriority,_i={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Il(){return{controller:new k1,data:new Map,refCount:0}}function Pc(n){n.refCount--,n.refCount===0&&O1(M1,function(){n.controller.abort()})}var Uc=null,ju=0,p=0,v=null;function S(n,s){if(Uc===null){var l=Uc=[];ju=0,p=gm(),v={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ju++,s.then(k,k),s}function k(){if(--ju===0&&Uc!==null){v!==null&&(v.status="fulfilled");var n=Uc;Uc=null,p=0,v=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function B(n,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var G=ee.S;ee.S=function(n,s){av=Ot(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&S(n,s),G!==null&&G(n,s)};var W=X(null);function te(){var n=W.current;return n!==null?n:Kn.pooledCache}function ne(n,s){s===null?H(W,W.current):H(W,s.pool)}function oe(){var n=te();return n===null?null:{parent:_i._currentValue,pool:n}}var ye=Error(r(460)),Te=Error(r(474)),se=Error(r(542)),xe={then:function(){}};function Ne(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ze(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(ks,ks),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Je(n),n;default:if(typeof s.status=="string")s.then(ks,ks);else{if(n=Kn,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Je(n),n}throw Be=s,ye}}function Ce(n){try{var s=n._init;return s(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Be=l,ye):l}}var Be=null;function Ue(){if(Be===null)throw Error(r(459));var n=Be;return Be=null,n}function Je(n){if(n===ye||n===se)throw Error(r(483))}var Xe=null,_t=0;function ft(n){var s=_t;return _t+=1,Xe===null&&(Xe=[]),ze(Xe,n,s)}function Pt(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function yt(n,s){throw s.$$typeof===w?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function en(n){function s(Ae,be){if(n){var Ee=Ae.deletions;Ee===null?(Ae.deletions=[be],Ae.flags|=16):Ee.push(be)}}function l(Ae,be){if(!n)return null;for(;be!==null;)s(Ae,be),be=be.sibling;return null}function u(Ae){for(var be=new Map;Ae!==null;)Ae.key!==null?be.set(Ae.key,Ae):be.set(Ae.index,Ae),Ae=Ae.sibling;return be}function g(Ae,be){return Ae=as(Ae,be),Ae.index=0,Ae.sibling=null,Ae}function b(Ae,be,Ee){return Ae.index=Ee,n?(Ee=Ae.alternate,Ee!==null?(Ee=Ee.index,Ee<be?(Ae.flags|=67108866,be):Ee):(Ae.flags|=67108866,be)):(Ae.flags|=1048576,be)}function M(Ae){return n&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function K(Ae,be,Ee,Ve){return be===null||be.tag!==6?(be=qc(Ee,Ae.mode,Ve),be.return=Ae,be):(be=g(be,Ee),be.return=Ae,be)}function fe(Ae,be,Ee,Ve){var Lt=Ee.type;return Lt===A?qe(Ae,be,Ee.props.children,Ve,Ee.key):be!==null&&(be.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===D&&Ce(Lt)===be.type)?(be=g(be,Ee.props),Pt(be,Ee),be.return=Ae,be):(be=Ml(Ee.type,Ee.key,Ee.props,null,Ae.mode,Ve),Pt(be,Ee),be.return=Ae,be)}function ke(Ae,be,Ee,Ve){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ee.containerInfo||be.stateNode.implementation!==Ee.implementation?(be=Ll(Ee,Ae.mode,Ve),be.return=Ae,be):(be=g(be,Ee.children||[]),be.return=Ae,be)}function qe(Ae,be,Ee,Ve,Lt){return be===null||be.tag!==7?(be=uo(Ee,Ae.mode,Ve,Lt),be.return=Ae,be):(be=g(be,Ee),be.return=Ae,be)}function Ye(Ae,be,Ee){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=qc(""+be,Ae.mode,Ee),be.return=Ae,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case y:return Ee=Ml(be.type,be.key,be.props,null,Ae.mode,Ee),Pt(Ee,be),Ee.return=Ae,Ee;case N:return be=Ll(be,Ae.mode,Ee),be.return=Ae,be;case D:return be=Ce(be),Ye(Ae,be,Ee)}if(ue(be)||j(be))return be=uo(be,Ae.mode,Ee,null),be.return=Ae,be;if(typeof be.then=="function")return Ye(Ae,ft(be),Ee);if(be.$$typeof===F)return Ye(Ae,Du(Ae,be),Ee);yt(Ae,be)}return null}function Me(Ae,be,Ee,Ve){var Lt=be!==null?be.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Lt!==null?null:K(Ae,be,""+Ee,Ve);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case y:return Ee.key===Lt?fe(Ae,be,Ee,Ve):null;case N:return Ee.key===Lt?ke(Ae,be,Ee,Ve):null;case D:return Ee=Ce(Ee),Me(Ae,be,Ee,Ve)}if(ue(Ee)||j(Ee))return Lt!==null?null:qe(Ae,be,Ee,Ve,null);if(typeof Ee.then=="function")return Me(Ae,be,ft(Ee),Ve);if(Ee.$$typeof===F)return Me(Ae,be,Du(Ae,Ee),Ve);yt(Ae,Ee)}return null}function Re(Ae,be,Ee,Ve,Lt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ae=Ae.get(Ee)||null,K(be,Ae,""+Ve,Lt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case y:return Ae=Ae.get(Ve.key===null?Ee:Ve.key)||null,fe(be,Ae,Ve,Lt);case N:return Ae=Ae.get(Ve.key===null?Ee:Ve.key)||null,ke(be,Ae,Ve,Lt);case D:return Ve=Ce(Ve),Re(Ae,be,Ee,Ve,Lt)}if(ue(Ve)||j(Ve))return Ae=Ae.get(Ee)||null,qe(be,Ae,Ve,Lt,null);if(typeof Ve.then=="function")return Re(Ae,be,Ee,ft(Ve),Lt);if(Ve.$$typeof===F)return Re(Ae,be,Ee,Du(be,Ve),Lt);yt(be,Ve)}return null}function xt(Ae,be,Ee,Ve){for(var Lt=null,En=null,Ct=be,Kt=be=0,ln=null;Ct!==null&&Kt<Ee.length;Kt++){Ct.index>Kt?(ln=Ct,Ct=null):ln=Ct.sibling;var kn=Me(Ae,Ct,Ee[Kt],Ve);if(kn===null){Ct===null&&(Ct=ln);break}n&&Ct&&kn.alternate===null&&s(Ae,Ct),be=b(kn,be,Kt),En===null?Lt=kn:En.sibling=kn,En=kn,Ct=ln}if(Kt===Ee.length)return l(Ae,Ct),nn&&Qr(Ae,Kt),Lt;if(Ct===null){for(;Kt<Ee.length;Kt++)Ct=Ye(Ae,Ee[Kt],Ve),Ct!==null&&(be=b(Ct,be,Kt),En===null?Lt=Ct:En.sibling=Ct,En=Ct);return nn&&Qr(Ae,Kt),Lt}for(Ct=u(Ct);Kt<Ee.length;Kt++)ln=Re(Ct,Ae,Kt,Ee[Kt],Ve),ln!==null&&(n&&ln.alternate!==null&&Ct.delete(ln.key===null?Kt:ln.key),be=b(ln,be,Kt),En===null?Lt=ln:En.sibling=ln,En=ln);return n&&Ct.forEach(function(Jl){return s(Ae,Jl)}),nn&&Qr(Ae,Kt),Lt}function It(Ae,be,Ee,Ve){if(Ee==null)throw Error(r(151));for(var Lt=null,En=null,Ct=be,Kt=be=0,ln=null,kn=Ee.next();Ct!==null&&!kn.done;Kt++,kn=Ee.next()){Ct.index>Kt?(ln=Ct,Ct=null):ln=Ct.sibling;var Jl=Me(Ae,Ct,kn.value,Ve);if(Jl===null){Ct===null&&(Ct=ln);break}n&&Ct&&Jl.alternate===null&&s(Ae,Ct),be=b(Jl,be,Kt),En===null?Lt=Jl:En.sibling=Jl,En=Jl,Ct=ln}if(kn.done)return l(Ae,Ct),nn&&Qr(Ae,Kt),Lt;if(Ct===null){for(;!kn.done;Kt++,kn=Ee.next())kn=Ye(Ae,kn.value,Ve),kn!==null&&(be=b(kn,be,Kt),En===null?Lt=kn:En.sibling=kn,En=kn);return nn&&Qr(Ae,Kt),Lt}for(Ct=u(Ct);!kn.done;Kt++,kn=Ee.next())kn=Re(Ct,Ae,Kt,kn.value,Ve),kn!==null&&(n&&kn.alternate!==null&&Ct.delete(kn.key===null?Kt:kn.key),be=b(kn,be,Kt),En===null?Lt=kn:En.sibling=kn,En=kn);return n&&Ct.forEach(function(E3){return s(Ae,E3)}),nn&&Qr(Ae,Kt),Lt}function Gn(Ae,be,Ee,Ve){if(typeof Ee=="object"&&Ee!==null&&Ee.type===A&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case y:e:{for(var Lt=Ee.key;be!==null;){if(be.key===Lt){if(Lt=Ee.type,Lt===A){if(be.tag===7){l(Ae,be.sibling),Ve=g(be,Ee.props.children),Ve.return=Ae,Ae=Ve;break e}}else if(be.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===D&&Ce(Lt)===be.type){l(Ae,be.sibling),Ve=g(be,Ee.props),Pt(Ve,Ee),Ve.return=Ae,Ae=Ve;break e}l(Ae,be);break}else s(Ae,be);be=be.sibling}Ee.type===A?(Ve=uo(Ee.props.children,Ae.mode,Ve,Ee.key),Ve.return=Ae,Ae=Ve):(Ve=Ml(Ee.type,Ee.key,Ee.props,null,Ae.mode,Ve),Pt(Ve,Ee),Ve.return=Ae,Ae=Ve)}return M(Ae);case N:e:{for(Lt=Ee.key;be!==null;){if(be.key===Lt)if(be.tag===4&&be.stateNode.containerInfo===Ee.containerInfo&&be.stateNode.implementation===Ee.implementation){l(Ae,be.sibling),Ve=g(be,Ee.children||[]),Ve.return=Ae,Ae=Ve;break e}else{l(Ae,be);break}else s(Ae,be);be=be.sibling}Ve=Ll(Ee,Ae.mode,Ve),Ve.return=Ae,Ae=Ve}return M(Ae);case D:return Ee=Ce(Ee),Gn(Ae,be,Ee,Ve)}if(ue(Ee))return xt(Ae,be,Ee,Ve);if(j(Ee)){if(Lt=j(Ee),typeof Lt!="function")throw Error(r(150));return Ee=Lt.call(Ee),It(Ae,be,Ee,Ve)}if(typeof Ee.then=="function")return Gn(Ae,be,ft(Ee),Ve);if(Ee.$$typeof===F)return Gn(Ae,be,Du(Ae,Ee),Ve);yt(Ae,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint"?(Ee=""+Ee,be!==null&&be.tag===6?(l(Ae,be.sibling),Ve=g(be,Ee),Ve.return=Ae,Ae=Ve):(l(Ae,be),Ve=qc(Ee,Ae.mode,Ve),Ve.return=Ae,Ae=Ve),M(Ae)):l(Ae,be)}return function(Ae,be,Ee,Ve){try{_t=0;var Lt=Gn(Ae,be,Ee,Ve);return Xe=null,Lt}catch(Ct){if(Ct===ye||Ct===se)throw Ct;var En=hr(29,Ct,null,Ae.mode);return En.lanes=Ve,En.return=Ae,En}finally{}}}var Zn=en(!0),Yt=en(!1),dt=!1;function st(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ni(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Rt(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Zt(n,s,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ln&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=ur(n),Bc(n,null,l),s}return Ic(n,u,s,l),ur(n)}function On(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,gn(n,l)}}function Ri(n,s){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var M={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?g=b=M:b=b.next=M,l=l.next}while(l!==null);b===null?g=b=s:b=b.next=s}else g=b=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var rr=!1;function Un(){if(rr){var n=v;if(n!==null)throw n}}function Ni(n,s,l,u){rr=!1;var g=n.updateQueue;dt=!1;var b=g.firstBaseUpdate,M=g.lastBaseUpdate,K=g.shared.pending;if(K!==null){g.shared.pending=null;var fe=K,ke=fe.next;fe.next=null,M===null?b=ke:M.next=ke,M=fe;var qe=n.alternate;qe!==null&&(qe=qe.updateQueue,K=qe.lastBaseUpdate,K!==M&&(K===null?qe.firstBaseUpdate=ke:K.next=ke,qe.lastBaseUpdate=fe))}if(b!==null){var Ye=g.baseState;M=0,qe=ke=fe=null,K=b;do{var Me=K.lane&-536870913,Re=Me!==K.lane;if(Re?(on&Me)===Me:(u&Me)===Me){Me!==0&&Me===p&&(rr=!0),qe!==null&&(qe=qe.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var xt=n,It=K;Me=s;var Gn=l;switch(It.tag){case 1:if(xt=It.payload,typeof xt=="function"){Ye=xt.call(Gn,Ye,Me);break e}Ye=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=It.payload,Me=typeof xt=="function"?xt.call(Gn,Ye,Me):xt,Me==null)break e;Ye=x({},Ye,Me);break e;case 2:dt=!0}}Me=K.callback,Me!==null&&(n.flags|=64,Re&&(n.flags|=8192),Re=g.callbacks,Re===null?g.callbacks=[Me]:Re.push(Me))}else Re={lane:Me,tag:K.tag,payload:K.payload,callback:K.callback,next:null},qe===null?(ke=qe=Re,fe=Ye):qe=qe.next=Re,M|=Me;if(K=K.next,K===null){if(K=g.shared.pending,K===null)break;Re=K,K=Re.next,Re.next=null,g.lastBaseUpdate=Re,g.shared.pending=null}}while(!0);qe===null&&(fe=Ye),g.baseState=fe,g.firstBaseUpdate=ke,g.lastBaseUpdate=qe,b===null&&(g.shared.lanes=0),Vl|=M,n.lanes=M,n.memoizedState=Ye}}function fr(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Ci(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)fr(l[n],s)}var $t=X(null),yn=X(0);function ii(n,s){n=rl,H(yn,n),H($t,s),rl=n|s.baseLanes}function Nn(){H(yn,rl),H($t,$t.current)}function Ii(){rl=yn.current,T($t),T(yn)}var ri=X(null),bn=null;function wi(n){var s=n.alternate;H(fn,fn.current&1),H(ri,n),bn===null&&(s===null||$t.current!==null||s.memoizedState!==null)&&(bn=n)}function Mn(n){H(fn,fn.current),H(ri,n),bn===null&&(bn=n)}function Ti(n){n.tag===22?(H(fn,fn.current),H(ri,n),bn===null&&(bn=n)):Ei()}function Ei(){H(fn,fn.current),H(ri,ri.current)}function jn(n){T(ri),bn===n&&(bn=null),T(fn)}var fn=X(0);function dr(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Em(l)||km(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fi=0,kt=null,Mt=null,xn=null,Dr=!1,ds=!1,Nr=!1,ki=0,yo=0,bo=null,Ru=0;function Vn(){throw Error(r(321))}function Hh(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!Ji(n[l],s[l]))return!1;return!0}function Gh(n,s,l,u,g,b){return fi=b,kt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=n===null||n.memoizedState===null?v2:q1,Nr=!1,b=l(u,g),Nr=!1,ds&&(b=Ba(s,l,u,g)),Iu(n),b}function Iu(n){ee.H=Jh;var s=Mt!==null&&Mt.next!==null;if(fi=0,xn=Mt=kt=null,Dr=!1,yo=0,bo=null,s)throw Error(r(300));n===null||Gi||(n=n.dependencies,n!==null&&Lu(n)&&(Gi=!0))}function Ba(n,s,l,u){kt=n;var g=0;do{if(ds&&(bo=null),yo=0,ds=!1,25<=g)throw Error(r(301));if(g+=1,xn=Mt=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}ee.H=y2,b=s(l,u)}while(ds);return b}function L1(){var n=ee.H,s=n.useState()[0];return s=typeof s.then=="function"?xo(s):s,n=n.useState()[0],(Mt!==null?Mt.memoizedState:null)!==n&&(kt.flags|=1024),s}function Yh(){var n=ki!==0;return ki=0,n}function Wh(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function Bu(n){if(Dr){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Dr=!1}fi=0,xn=Mt=kt=null,ds=!1,yo=ki=0,bo=null}function Hi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?kt.memoizedState=xn=n:xn=xn.next=n,xn}function di(){if(Mt===null){var n=kt.alternate;n=n!==null?n.memoizedState:null}else n=Mt.next;var s=xn===null?kt.memoizedState:xn.next;if(s!==null)xn=s,Mt=n;else{if(n===null)throw kt.alternate===null?Error(r(467)):Error(r(310));Mt=n,n={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},xn===null?kt.memoizedState=xn=n:xn=xn.next=n}return xn}function Vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(n){var s=yo;return yo+=1,bo===null&&(bo=[]),n=ze(bo,n,s),s=kt,(xn===null?s.memoizedState:xn.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?v2:q1),n}function Bl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return xo(n);if(n.$$typeof===F)return ir(n)}throw Error(r(438,String(n)))}function Zo(n){var s=null,l=kt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=kt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Vc(),kt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),u=0;u<n;u++)l[u]=Z;return s.index++,l}function aa(n,s){return typeof s=="function"?s(n):s}function zu(n){var s=di();return zl(s,Mt,n)}function zl(n,s,l){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=n.baseQueue,b=u.pending;if(b!==null){if(g!==null){var M=g.next;g.next=b.next,b.next=M}s.baseQueue=g=b,u.pending=null}if(b=n.baseState,g===null)n.memoizedState=b;else{s=g.next;var K=M=null,fe=null,ke=s,qe=!1;do{var Ye=ke.lane&-536870913;if(Ye!==ke.lane?(on&Ye)===Ye:(fi&Ye)===Ye){var Me=ke.revertLane;if(Me===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),Ye===p&&(qe=!0);else if((fi&Me)===Me){ke=ke.next,Me===p&&(qe=!0);continue}else Ye={lane:0,revertLane:ke.revertLane,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},fe===null?(K=fe=Ye,M=b):fe=fe.next=Ye,kt.lanes|=Me,Vl|=Me;Ye=ke.action,Nr&&l(b,Ye),b=ke.hasEagerState?ke.eagerState:l(b,Ye)}else Me={lane:Ye,revertLane:ke.revertLane,gesture:ke.gesture,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},fe===null?(K=fe=Me,M=b):fe=fe.next=Me,kt.lanes|=Ye,Vl|=Ye;ke=ke.next}while(ke!==null&&ke!==s);if(fe===null?M=b:fe.next=K,!Ji(b,n.memoizedState)&&(Gi=!0,qe&&(l=v,l!==null)))throw l;n.memoizedState=b,n.baseState=M,n.baseQueue=fe,u.lastRenderedState=b}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function qu(n){var s=di(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var u=l.dispatch,g=l.pending,b=s.memoizedState;if(g!==null){l.pending=null;var M=g=g.next;do b=n(b,M.action),M=M.next;while(M!==g);Ji(b,s.memoizedState)||(Gi=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),l.lastRenderedState=b}return[b,u]}function Fu(n,s,l){var u=kt,g=di(),b=nn;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=s();var M=!Ji((Mt||g).memoizedState,l);if(M&&(g.memoizedState=l,Gi=!0),g=g.queue,D1(Zh.bind(null,u,g,n),[n]),g.getSnapshot!==s||M||xn!==null&&xn.memoizedState.tag&1){if(u.flags|=2048,Qo(9,{destroy:void 0},Xh.bind(null,u,g,l,s),null),Kn===null)throw Error(r(349));b||(fi&127)!==0||za(u,s,l)}return l}function za(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=kt.updateQueue,s===null?(s=Vc(),kt.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Xh(n,s,l,u){s.value=l,s.getSnapshot=u,vd(s)&&Kh(n)}function Zh(n,s,l){return l(function(){vd(s)&&Kh(n)})}function vd(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!Ji(n,l)}catch{return!0}}function Kh(n){var s=Ra(n,2);s!==null&&ys(s,n,2)}function _o(n){var s=Hi();if(typeof n=="function"){var l=n;if(n=l(),Nr){At(!0);try{l()}finally{At(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:n},s}function yd(n,s,l,u){return n.baseState=l,zl(n,Mt,typeof u=="function"?u:aa)}function bd(n,s,l,u,g){if(Sd(n))throw Error(r(485));if(n=s.action,n!==null){var b={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){b.listeners.push(M)}};ee.T!==null?l(!0):b.isTransition=!1,u(b),l=s.pending,l===null?(b.next=s.pending=b,xd(s,b)):(b.next=l.next,s.pending=l.next=b)}}function xd(n,s){var l=s.action,u=s.payload,g=n.state;if(s.isTransition){var b=ee.T,M={};ee.T=M;try{var K=l(g,u),fe=ee.S;fe!==null&&fe(M,K),Qh(n,s,K)}catch(ke){Ko(n,s,ke)}finally{b!==null&&M.types!==null&&(b.types=M.types),ee.T=b}}else try{b=l(g,u),Qh(n,s,b)}catch(ke){Ko(n,s,ke)}}function Qh(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){_d(n,s,u)},function(u){return Ko(n,s,u)}):_d(n,s,l)}function _d(n,s,l){s.status="fulfilled",s.value=l,Pu(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,xd(n,l)))}function Ko(n,s,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Pu(s),s=s.next;while(s!==u)}n.action=null}function Pu(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Hc(n,s){return s}function oa(n,s){if(nn){var l=Kn.formState;if(l!==null){e:{var u=kt;if(nn){if(Xn){t:{for(var g=Xn,b=hi;g.nodeType!==8;){if(!b){g=null;break t}if(g=la(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){Xn=la(g.nextSibling),u=g.data==="F!";break e}}fo(u)}u=!1}u&&(s=l[0])}}return l=Hi(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:s},l.queue=u,l=p2.bind(null,kt,u),u.dispatch=l,u=_o(!1),b=z1.bind(null,kt,!1,u.queue),u=Hi(),g={state:s,dispatch:null,action:n,pending:null},u.queue=g,l=bd.bind(null,kt,g,b,l),g.dispatch=l,u.memoizedState=n,[s,l,!1]}function qa(n){var s=di();return Fa(s,Mt,n)}function Fa(n,s,l){if(s=zl(n,s,Hc)[0],n=zu(aa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=xo(s)}catch(M){throw M===ye?se:M}else u=s;s=di();var g=s.queue,b=g.dispatch;return l!==s.memoizedState&&(kt.flags|=2048,Qo(9,{destroy:void 0},Uu.bind(null,g,l),null)),[u,b,n]}function Uu(n,s){n.action=s}function Vu(n){var s=di(),l=Mt;if(l!==null)return Fa(s,l,n);di(),s=s.memoizedState,l=di();var u=l.queue.dispatch;return l.memoizedState=n,[s,u,!1]}function Qo(n,s,l,u){return n={tag:n,create:l,deps:u,inst:s,next:null},s=kt.updateQueue,s===null&&(s=Vc(),kt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,s.lastEffect=n),n}function wd(){return di().memoizedState}function ql(n,s,l,u){var g=Hi();kt.flags|=n,g.memoizedState=Qo(1|s,{destroy:void 0},l,u===void 0?null:u)}function Fl(n,s,l,u){var g=di();u=u===void 0?null:u;var b=g.memoizedState.inst;Mt!==null&&u!==null&&Hh(u,Mt.memoizedState.deps)?g.memoizedState=Qo(s,b,l,u):(kt.flags|=n,g.memoizedState=Qo(1|s,b,l,u))}function e2(n,s){ql(8390656,8,n,s)}function D1(n,s){Fl(2048,8,n,s)}function ww(n){kt.flags|=4;var s=kt.updateQueue;if(s===null)s=Vc(),kt.updateQueue=s,s.events=[n];else{var l=s.events;l===null?s.events=[n]:l.push(n)}}function t2(n){var s=di().memoizedState;return ww({ref:s,nextImpl:n}),function(){if((Ln&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function n2(n,s){return Fl(4,2,n,s)}function i2(n,s){return Fl(4,4,n,s)}function r2(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function s2(n,s,l){l=l!=null?l.concat([n]):null,Fl(4,4,r2.bind(null,s,n),l)}function j1(){}function a2(n,s){var l=di();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Hh(s,u[1])?u[0]:(l.memoizedState=[n,s],n)}function o2(n,s){var l=di();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Hh(s,u[1]))return u[0];if(u=n(),Nr){At(!0);try{n()}finally{At(!1)}}return l.memoizedState=[u,s],u}function R1(n,s,l){return l===void 0||(fi&1073741824)!==0&&(on&261930)===0?n.memoizedState=s:(n.memoizedState=l,n=lv(),kt.lanes|=n,Vl|=n,l)}function l2(n,s,l,u){return Ji(l,s)?l:$t.current!==null?(n=R1(n,l,u),Ji(n,s)||(Gi=!0),n):(fi&42)===0||(fi&1073741824)!==0&&(on&261930)===0?(Gi=!0,n.memoizedState=l):(n=lv(),kt.lanes|=n,Vl|=n,s)}function c2(n,s,l,u,g){var b=ie.p;ie.p=b!==0&&8>b?b:8;var M=ee.T,K={};ee.T=K,z1(n,!1,s,l);try{var fe=g(),ke=ee.S;if(ke!==null&&ke(K,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var qe=B(fe,u);$h(n,s,qe,zs(n))}else $h(n,s,u,zs(n))}catch(Ye){$h(n,s,{then:function(){},status:"rejected",reason:Ye},zs())}finally{ie.p=b,M!==null&&K.types!==null&&(M.types=K.types),ee.T=M}}function Sw(){}function I1(n,s,l,u){if(n.tag!==5)throw Error(r(476));var g=u2(n).queue;c2(n,g,s,ce,l===null?Sw:function(){return h2(n),l(u)})}function u2(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:ce},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function h2(n){var s=u2(n);s.next===null&&(s=n.alternate.memoizedState),$h(n,s.next.queue,{},zs())}function B1(){return ir(gf)}function f2(){return di().memoizedState}function d2(){return di().memoizedState}function Aw(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=zs();n=Rt(l);var u=Zt(s,n,l);u!==null&&(ys(u,s,l),On(u,s,l)),s={cache:Il()},n.payload=s;return}s=s.return}}function Nw(n,s,l){var u=zs();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Sd(n)?m2(s,l):(l=Au(n,s,l,u),l!==null&&(ys(l,n,u),g2(l,s,u)))}function p2(n,s,l){var u=zs();$h(n,s,l,u)}function $h(n,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sd(n))m2(s,g);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var M=s.lastRenderedState,K=b(M,l);if(g.hasEagerState=!0,g.eagerState=K,Ji(K,M))return Ic(n,s,g,0),Kn===null&&Rc(),!1}catch{}finally{}if(l=Au(n,s,g,u),l!==null)return ys(l,n,u),g2(l,s,u),!0}return!1}function z1(n,s,l,u){if(u={lane:2,revertLane:gm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Sd(n)){if(s)throw Error(r(479))}else s=Au(n,l,u,2),s!==null&&ys(s,n,2)}function Sd(n){var s=n.alternate;return n===kt||s!==null&&s===kt}function m2(n,s){ds=Dr=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function g2(n,s,l){if((l&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,gn(n,l)}}var Jh={readContext:ir,use:Bl,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useLayoutEffect:Vn,useInsertionEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useSyncExternalStore:Vn,useId:Vn,useHostTransitionStatus:Vn,useFormState:Vn,useActionState:Vn,useOptimistic:Vn,useMemoCache:Vn,useCacheRefresh:Vn};Jh.useEffectEvent=Vn;var v2={readContext:ir,use:Bl,useCallback:function(n,s){return Hi().memoizedState=[n,s===void 0?null:s],n},useContext:ir,useEffect:e2,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,ql(4194308,4,r2.bind(null,s,n),l)},useLayoutEffect:function(n,s){return ql(4194308,4,n,s)},useInsertionEffect:function(n,s){ql(4,2,n,s)},useMemo:function(n,s){var l=Hi();s=s===void 0?null:s;var u=n();if(Nr){At(!0);try{n()}finally{At(!1)}}return l.memoizedState=[u,s],u},useReducer:function(n,s,l){var u=Hi();if(l!==void 0){var g=l(s);if(Nr){At(!0);try{l(s)}finally{At(!1)}}}else g=s;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=Nw.bind(null,kt,n),[u.memoizedState,n]},useRef:function(n){var s=Hi();return n={current:n},s.memoizedState=n},useState:function(n){n=_o(n);var s=n.queue,l=p2.bind(null,kt,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:j1,useDeferredValue:function(n,s){var l=Hi();return R1(l,n,s)},useTransition:function(){var n=_o(!1);return n=c2.bind(null,kt,n.queue,!0,!1),Hi().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var u=kt,g=Hi();if(nn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Kn===null)throw Error(r(349));(on&127)!==0||za(u,s,l)}g.memoizedState=l;var b={value:l,getSnapshot:s};return g.queue=b,e2(Zh.bind(null,u,b,n),[n]),u.flags|=2048,Qo(9,{destroy:void 0},Xh.bind(null,u,b,l,s),null),l},useId:function(){var n=Hi(),s=Kn.identifierPrefix;if(nn){var l=hs,u=us;l=(u&~(1<<32-Ft(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=ki++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Ru++,s="_"+s+"r_"+l.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:B1,useFormState:oa,useActionState:oa,useOptimistic:function(n){var s=Hi();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=z1.bind(null,kt,!0,l),l.dispatch=s,[n,s]},useMemoCache:Zo,useCacheRefresh:function(){return Hi().memoizedState=Aw.bind(null,kt)},useEffectEvent:function(n){var s=Hi(),l={impl:n};return s.memoizedState=l,function(){if((Ln&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},q1={readContext:ir,use:Bl,useCallback:a2,useContext:ir,useEffect:D1,useImperativeHandle:s2,useInsertionEffect:n2,useLayoutEffect:i2,useMemo:o2,useReducer:zu,useRef:wd,useState:function(){return zu(aa)},useDebugValue:j1,useDeferredValue:function(n,s){var l=di();return l2(l,Mt.memoizedState,n,s)},useTransition:function(){var n=zu(aa)[0],s=di().memoizedState;return[typeof n=="boolean"?n:xo(n),s]},useSyncExternalStore:Fu,useId:f2,useHostTransitionStatus:B1,useFormState:qa,useActionState:qa,useOptimistic:function(n,s){var l=di();return yd(l,Mt,n,s)},useMemoCache:Zo,useCacheRefresh:d2};q1.useEffectEvent=t2;var y2={readContext:ir,use:Bl,useCallback:a2,useContext:ir,useEffect:D1,useImperativeHandle:s2,useInsertionEffect:n2,useLayoutEffect:i2,useMemo:o2,useReducer:qu,useRef:wd,useState:function(){return qu(aa)},useDebugValue:j1,useDeferredValue:function(n,s){var l=di();return Mt===null?R1(l,n,s):l2(l,Mt.memoizedState,n,s)},useTransition:function(){var n=qu(aa)[0],s=di().memoizedState;return[typeof n=="boolean"?n:xo(n),s]},useSyncExternalStore:Fu,useId:f2,useHostTransitionStatus:B1,useFormState:Vu,useActionState:Vu,useOptimistic:function(n,s){var l=di();return Mt!==null?yd(l,Mt,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Zo,useCacheRefresh:d2};y2.useEffectEvent=t2;function F1(n,s,l,u){s=n.memoizedState,l=l(u,s),l=l==null?s:x({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var P1={enqueueSetState:function(n,s,l){n=n._reactInternals;var u=zs(),g=Rt(u);g.payload=s,l!=null&&(g.callback=l),s=Zt(n,g,u),s!==null&&(ys(s,n,u),On(s,n,u))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var u=zs(),g=Rt(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Zt(n,g,u),s!==null&&(ys(s,n,u),On(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=zs(),u=Rt(l);u.tag=2,s!=null&&(u.callback=s),s=Zt(n,u,l),s!==null&&(ys(s,n,l),On(s,n,l))}};function b2(n,s,l,u,g,b,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,b,M):s.prototype&&s.prototype.isPureReactComponent?!Ma(l,u)||!Ma(g,b):!0}function x2(n,s,l,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==n&&P1.enqueueReplaceState(s,s.state,null)}function Gc(n,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(n=n.defaultProps){l===s&&(l=x({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function _2(n){jc(n)}function w2(n){console.error(n)}function S2(n){jc(n)}function Ad(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function A2(n,s,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function U1(n,s,l){return l=Rt(l),l.tag=3,l.payload={element:null},l.callback=function(){Ad(n,s)},l}function N2(n){return n=Rt(n),n.tag=3,n}function C2(n,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var b=u.value;n.payload=function(){return g(b)},n.callback=function(){A2(s,l,u)}}var M=l.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(n.callback=function(){A2(s,l,u),typeof g!="function"&&(Hl===null?Hl=new Set([this]):Hl.add(this));var K=u.stack;this.componentDidCatch(u.value,{componentStack:K!==null?K:""})})}function Cw(n,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&go(s,l,g,!0),l=ri.current,l!==null){switch(l.tag){case 31:case 13:return bn===null?Id():l.alternate===null&&Oi===0&&(Oi=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===xe?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),dm(n,u,g)),!1;case 22:return l.flags|=65536,u===xe?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),dm(n,u,g)),!1}throw Error(r(435,l.tag))}return dm(n,u,g),Id(),!1}if(nn)return s=ri.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==Rs&&(n=Error(r(422),{cause:u}),jl(os(n,l)))):(u!==Rs&&(s=Error(r(423),{cause:u}),jl(os(s,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=os(u,l),g=U1(n.stateNode,u,g),Ri(n,g),Oi!==4&&(Oi=2)),!1;var b=Error(r(520),{cause:u});if(b=os(b,l),lf===null?lf=[b]:lf.push(b),Oi!==4&&(Oi=2),s===null)return!0;u=os(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=U1(l.stateNode,u,n),Ri(l,n),!1;case 1:if(s=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Hl===null||!Hl.has(b))))return l.flags|=65536,g&=-g,l.lanes|=g,g=N2(g),C2(g,n,l,u),Ri(l,g),!1}l=l.return}while(l!==null);return!1}var V1=Error(r(461)),Gi=!1;function Cr(n,s,l,u){s.child=n===null?Yt(s,null,l,u):Zn(s,n.child,l,u)}function T2(n,s,l,u,g){l=l.render;var b=s.ref;if("ref"in u){var M={};for(var K in u)K!=="ref"&&(M[K]=u[K])}else M=u;return vo(s),u=Gh(n,s,l,M,b,g),K=Yh(),n!==null&&!Gi?(Wh(n,s,g),$o(n,s,g)):(nn&&K&&Ph(s),s.flags|=1,Cr(n,s,u,g),s.child)}function E2(n,s,l,u,g){if(n===null){var b=l.type;return typeof b=="function"&&!Cu(b)&&b.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=b,k2(n,s,b,u,g)):(n=Ml(l.type,null,u,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(b=n.child,!Q1(n,g)){var M=b.memoizedProps;if(l=l.compare,l=l!==null?l:Ma,l(M,u)&&n.ref===s.ref)return $o(n,s,g)}return s.flags|=1,n=as(b,u),n.ref=s.ref,n.return=s,s.child=n}function k2(n,s,l,u,g){if(n!==null){var b=n.memoizedProps;if(Ma(b,u)&&n.ref===s.ref)if(Gi=!1,s.pendingProps=u=b,Q1(n,g))(n.flags&131072)!==0&&(Gi=!0);else return s.lanes=n.lanes,$o(n,s,g)}return H1(n,s,l,u,g)}function O2(n,s,l,u){var g=u.children,b=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,n!==null){for(u=s.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~b}else u=0,s.child=null;return M2(n,s,b,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ne(s,b!==null?b.cachePool:null),b!==null?ii(s,b):Nn(),Ti(s);else return u=s.lanes=536870912,M2(n,s,b!==null?b.baseLanes|l:l,l,u)}else b!==null?(ne(s,b.cachePool),ii(s,b),Ei(),s.memoizedState=null):(n!==null&&ne(s,null),Nn(),Ei());return Cr(n,s,g,l),s.child}function ef(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function M2(n,s,l,u,g){var b=te();return b=b===null?null:{parent:_i._currentValue,pool:b},s.memoizedState={baseLanes:l,cachePool:b},n!==null&&ne(s,null),Nn(),Ti(s),n!==null&&go(n,s,u,!0),s.childLanes=g,null}function Nd(n,s){return s=Td({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function L2(n,s,l){return Zn(s,n.child,null,l),n=Nd(s,s.pendingProps),n.flags|=2,jn(s),s.memoizedState=null,n}function Tw(n,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(nn){if(u.mode==="hidden")return n=Nd(s,u),s.lanes=536870912,ef(null,n);if(Mn(s),(n=Xn)?(n=Hv(n,hi),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ho!==null?{id:us,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},l=Tu(n),l.return=s,s.child=l,tr=s,Xn=null)):n=null,n===null)throw fo(s);return s.lanes=536870912,null}return Nd(s,u)}var b=n.memoizedState;if(b!==null){var M=b.dehydrated;if(Mn(s),g)if(s.flags&256)s.flags&=-257,s=L2(n,s,l);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Gi||go(n,s,l,!1),g=(l&n.childLanes)!==0,Gi||g){if(u=Kn,u!==null&&(M=Dn(u,l),M!==0&&M!==b.retryLane))throw b.retryLane=M,Ra(n,M),ys(u,n,M),V1;Id(),s=L2(n,s,l)}else n=b.treeContext,Xn=la(M.nextSibling),tr=s,nn=!0,Ar=null,hi=!1,n!==null&&md(s,n),s=Nd(s,u),s.flags|=4096;return s}return n=as(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Cd(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function H1(n,s,l,u,g){return vo(s),l=Gh(n,s,l,u,void 0,g),u=Yh(),n!==null&&!Gi?(Wh(n,s,g),$o(n,s,g)):(nn&&u&&Ph(s),s.flags|=1,Cr(n,s,l,g),s.child)}function D2(n,s,l,u,g,b){return vo(s),s.updateQueue=null,l=Ba(s,u,l,g),Iu(n),u=Yh(),n!==null&&!Gi?(Wh(n,s,b),$o(n,s,b)):(nn&&u&&Ph(s),s.flags|=1,Cr(n,s,l,b),s.child)}function j2(n,s,l,u,g){if(vo(s),s.stateNode===null){var b=er,M=l.contextType;typeof M=="object"&&M!==null&&(b=ir(M)),b=new l(u,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=P1,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=u,b.state=s.memoizedState,b.refs={},st(s),M=l.contextType,b.context=typeof M=="object"&&M!==null?ir(M):er,b.state=s.memoizedState,M=l.getDerivedStateFromProps,typeof M=="function"&&(F1(s,l,M,u),b.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(M=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),M!==b.state&&P1.enqueueReplaceState(b,b.state,null),Ni(s,u,b,g),Un(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){b=s.stateNode;var K=s.memoizedProps,fe=Gc(l,K);b.props=fe;var ke=b.context,qe=l.contextType;M=er,typeof qe=="object"&&qe!==null&&(M=ir(qe));var Ye=l.getDerivedStateFromProps;qe=typeof Ye=="function"||typeof b.getSnapshotBeforeUpdate=="function",K=s.pendingProps!==K,qe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(K||ke!==M)&&x2(s,b,u,M),dt=!1;var Me=s.memoizedState;b.state=Me,Ni(s,u,b,g),Un(),ke=s.memoizedState,K||Me!==ke||dt?(typeof Ye=="function"&&(F1(s,l,Ye,u),ke=s.memoizedState),(fe=dt||b2(s,l,fe,u,Me,ke,M))?(qe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=ke),b.props=u,b.state=ke,b.context=M,u=fe):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{b=s.stateNode,ni(n,s),M=s.memoizedProps,qe=Gc(l,M),b.props=qe,Ye=s.pendingProps,Me=b.context,ke=l.contextType,fe=er,typeof ke=="object"&&ke!==null&&(fe=ir(ke)),K=l.getDerivedStateFromProps,(ke=typeof K=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==Ye||Me!==fe)&&x2(s,b,u,fe),dt=!1,Me=s.memoizedState,b.state=Me,Ni(s,u,b,g),Un();var Re=s.memoizedState;M!==Ye||Me!==Re||dt||n!==null&&n.dependencies!==null&&Lu(n.dependencies)?(typeof K=="function"&&(F1(s,l,K,u),Re=s.memoizedState),(qe=dt||b2(s,l,qe,u,Me,Re,fe)||n!==null&&n.dependencies!==null&&Lu(n.dependencies))?(ke||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,Re,fe),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,Re,fe)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===n.memoizedProps&&Me===n.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&Me===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Re),b.props=u,b.state=Re,b.context=fe,u=qe):(typeof b.componentDidUpdate!="function"||M===n.memoizedProps&&Me===n.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&Me===n.memoizedState||(s.flags|=1024),u=!1)}return b=u,Cd(n,s),u=(s.flags&128)!==0,b||u?(b=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,n!==null&&u?(s.child=Zn(s,n.child,null,g),s.child=Zn(s,null,l,g)):Cr(n,s,l,g),s.memoizedState=b.state,n=s.child):n=$o(n,s,g),n}function R2(n,s,l,u){return Wo(),s.flags|=256,Cr(n,s,l,u),s.child}var G1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Y1(n){return{baseLanes:n,cachePool:oe()}}function W1(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=Bs),n}function I2(n,s,l){var u=s.pendingProps,g=!1,b=(s.flags&128)!==0,M;if((M=b)||(M=n!==null&&n.memoizedState===null?!1:(fn.current&2)!==0),M&&(g=!0,s.flags&=-129),M=(s.flags&32)!==0,s.flags&=-33,n===null){if(nn){if(g?wi(s):Ei(),(n=Xn)?(n=Hv(n,hi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ho!==null?{id:us,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},l=Tu(n),l.return=s,s.child=l,tr=s,Xn=null)):n=null,n===null)throw fo(s);return km(n)?s.lanes=32:s.lanes=536870912,null}var K=u.children;return u=u.fallback,g?(Ei(),g=s.mode,K=Td({mode:"hidden",children:K},g),u=uo(u,g,l,null),K.return=s,u.return=s,K.sibling=u,s.child=K,u=s.child,u.memoizedState=Y1(l),u.childLanes=W1(n,M,l),s.memoizedState=G1,ef(null,u)):(wi(s),X1(s,K))}var fe=n.memoizedState;if(fe!==null&&(K=fe.dehydrated,K!==null)){if(b)s.flags&256?(wi(s),s.flags&=-257,s=Z1(n,s,l)):s.memoizedState!==null?(Ei(),s.child=n.child,s.flags|=128,s=null):(Ei(),K=u.fallback,g=s.mode,u=Td({mode:"visible",children:u.children},g),K=uo(K,g,l,null),K.flags|=2,u.return=s,K.return=s,u.sibling=K,s.child=u,Zn(s,n.child,null,l),u=s.child,u.memoizedState=Y1(l),u.childLanes=W1(n,M,l),s.memoizedState=G1,s=ef(null,u));else if(wi(s),km(K)){if(M=K.nextSibling&&K.nextSibling.dataset,M)var ke=M.dgst;M=ke,u=Error(r(419)),u.stack="",u.digest=M,jl({value:u,source:null,stack:null}),s=Z1(n,s,l)}else if(Gi||go(n,s,l,!1),M=(l&n.childLanes)!==0,Gi||M){if(M=Kn,M!==null&&(u=Dn(M,l),u!==0&&u!==fe.retryLane))throw fe.retryLane=u,Ra(n,u),ys(M,n,u),V1;Em(K)||Id(),s=Z1(n,s,l)}else Em(K)?(s.flags|=192,s.child=n.child,s=null):(n=fe.treeContext,Xn=la(K.nextSibling),tr=s,nn=!0,Ar=null,hi=!1,n!==null&&md(s,n),s=X1(s,u.children),s.flags|=4096);return s}return g?(Ei(),K=u.fallback,g=s.mode,fe=n.child,ke=fe.sibling,u=as(fe,{mode:"hidden",children:u.children}),u.subtreeFlags=fe.subtreeFlags&65011712,ke!==null?K=as(ke,K):(K=uo(K,g,l,null),K.flags|=2),K.return=s,u.return=s,u.sibling=K,s.child=u,ef(null,u),u=s.child,K=n.child.memoizedState,K===null?K=Y1(l):(g=K.cachePool,g!==null?(fe=_i._currentValue,g=g.parent!==fe?{parent:fe,pool:fe}:g):g=oe(),K={baseLanes:K.baseLanes|l,cachePool:g}),u.memoizedState=K,u.childLanes=W1(n,M,l),s.memoizedState=G1,ef(n.child,u)):(wi(s),l=n.child,n=l.sibling,l=as(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,n!==null&&(M=s.deletions,M===null?(s.deletions=[n],s.flags|=16):M.push(n)),s.child=l,s.memoizedState=null,l)}function X1(n,s){return s=Td({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Td(n,s){return n=hr(22,n,null,s),n.lanes=0,n}function Z1(n,s,l){return Zn(s,n.child,null,l),n=X1(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function B2(n,s,l){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Rl(n.return,s,l)}function K1(n,s,l,u,g,b){var M=n.memoizedState;M===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:b}:(M.isBackwards=s,M.rendering=null,M.renderingStartTime=0,M.last=u,M.tail=l,M.tailMode=g,M.treeForkCount=b)}function z2(n,s,l){var u=s.pendingProps,g=u.revealOrder,b=u.tail;u=u.children;var M=fn.current,K=(M&2)!==0;if(K?(M=M&1|2,s.flags|=128):M&=1,H(fn,M),Cr(n,s,u,l),u=nn?Fc:0,!K&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&B2(n,l,s);else if(n.tag===19)B2(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&dr(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),K1(s,!1,g,l,b,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&dr(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}K1(s,!0,l,null,b,u);break;case"together":K1(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function $o(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Vl|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(go(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=as(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=as(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Q1(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Lu(n)))}function Ew(n,s,l){switch(s.tag){case 3:de(s,s.stateNode.containerInfo),mo(s,_i,n.memoizedState.cache),Wo();break;case 27:case 5:ve(s);break;case 4:de(s,s.stateNode.containerInfo);break;case 10:mo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Mn(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(wi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?I2(n,s,l):(wi(s),n=$o(n,s,l),n!==null?n.sibling:null);wi(s);break;case 19:var g=(n.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(go(n,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return z2(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),H(fn,fn.current),u)break;return null;case 22:return s.lanes=0,O2(n,s,l,s.pendingProps);case 24:mo(s,_i,n.memoizedState.cache)}return $o(n,s,l)}function q2(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)Gi=!0;else{if(!Q1(n,l)&&(s.flags&128)===0)return Gi=!1,Ew(n,s,l);Gi=(n.flags&131072)!==0}else Gi=!1,nn&&(s.flags&1048576)!==0&&pd(s,Fc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Ce(s.elementType),s.type=n,typeof n=="function")Cu(n)?(u=Gc(n,u),s.tag=1,s=j2(null,s,n,u,l)):(s.tag=0,s=H1(null,s,n,u,l));else{if(n!=null){var g=n.$$typeof;if(g===q){s.tag=11,s=T2(null,s,n,u,l);break e}else if(g===Y){s.tag=14,s=E2(null,s,n,u,l);break e}}throw s=J(n)||n,Error(r(306,s,""))}}return s;case 0:return H1(n,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=Gc(u,s.pendingProps),j2(n,s,u,g,l);case 3:e:{if(de(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var b=s.memoizedState;g=b.element,ni(n,s),Ni(s,u,null,l);var M=s.memoizedState;if(u=M.cache,mo(s,_i,u),u!==b.cache&&Xo(s,[_i],l,!0),Un(),u=M.element,b.isDehydrated)if(b={element:u,isDehydrated:!1,cache:M.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=R2(n,s,u,l);break e}else if(u!==g){g=os(Error(r(424)),s),jl(g),s=R2(n,s,u,l);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Xn=la(n.firstChild),tr=s,nn=!0,Ar=null,hi=!0,l=Yt(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Wo(),u===g){s=$o(n,s,l);break e}Cr(n,s,u,l)}s=s.child}return s;case 26:return Cd(n,s),n===null?(l=Kv(s.type,null,s.pendingProps,null))?s.memoizedState=l:nn||(l=s.type,n=s.pendingProps,u=Vd(ae.current).createElement(l),u[Tn]=s,u[qn]=n,Tr(u,l,n),vi(u),s.stateNode=u):s.memoizedState=Kv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return ve(s),n===null&&nn&&(u=s.stateNode=Wv(s.type,s.pendingProps,ae.current),tr=s,hi=!0,g=Xn,Xl(s.type)?(Om=g,Xn=la(u.firstChild)):Xn=g),Cr(n,s,s.pendingProps.children,l),Cd(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&nn&&((g=u=Xn)&&(u=r3(u,s.type,s.pendingProps,hi),u!==null?(s.stateNode=u,tr=s,Xn=la(u.firstChild),hi=!1,g=!0):g=!1),g||fo(s)),ve(s),g=s.type,b=s.pendingProps,M=n!==null?n.memoizedProps:null,u=b.children,Nm(g,b)?u=null:M!==null&&Nm(g,M)&&(s.flags|=32),s.memoizedState!==null&&(g=Gh(n,s,L1,null,null,l),gf._currentValue=g),Cd(n,s),Cr(n,s,u,l),s.child;case 6:return n===null&&nn&&((n=l=Xn)&&(l=s3(l,s.pendingProps,hi),l!==null?(s.stateNode=l,tr=s,Xn=null,n=!0):n=!1),n||fo(s)),null;case 13:return I2(n,s,l);case 4:return de(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Zn(s,null,u,l):Cr(n,s,u,l),s.child;case 11:return T2(n,s,s.type,s.pendingProps,l);case 7:return Cr(n,s,s.pendingProps,l),s.child;case 8:return Cr(n,s,s.pendingProps.children,l),s.child;case 12:return Cr(n,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,mo(s,s.type,u.value),Cr(n,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,vo(s),g=ir(g),u=u(g),s.flags|=1,Cr(n,s,u,l),s.child;case 14:return E2(n,s,s.type,s.pendingProps,l);case 15:return k2(n,s,s.type,s.pendingProps,l);case 19:return z2(n,s,l);case 31:return Tw(n,s,l);case 22:return O2(n,s,l,s.pendingProps);case 24:return vo(s),u=ir(_i),n===null?(g=te(),g===null&&(g=Kn,b=Il(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=l),g=b),s.memoizedState={parent:u,cache:g},st(s),mo(s,_i,g)):((n.lanes&l)!==0&&(ni(n,s),Ni(s,null,null,l),Un()),g=n.memoizedState,b=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),mo(s,_i,u)):(u=b.cache,mo(s,_i,u),u!==g.cache&&Xo(s,[_i],l,!0))),Cr(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Jo(n){n.flags|=4}function $1(n,s,l,u,g){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(fv())n.flags|=8192;else throw Be=xe,Te}else n.flags&=-16777217}function F2(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!t5(s))if(fv())n.flags|=8192;else throw Be=xe,Te}function Ed(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?pn():536870912,n.lanes|=s,Wu|=s)}function tf(n,s){if(!nn)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function si(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=l,s}function kw(n,s,l){var u=s.pendingProps;switch(Ou(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(s),null;case 1:return si(s),null;case 3:return l=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),fs(_i),_e(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(nr(s)?Jo(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Vh())),si(s),null;case 26:var g=s.type,b=s.memoizedState;return n===null?(Jo(s),b!==null?(si(s),F2(s,b)):(si(s),$1(s,g,null,u,l))):b?b!==n.memoizedState?(Jo(s),si(s),F2(s,b)):(si(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&Jo(s),si(s),$1(s,g,n,u,l)),null;case 27:if(Ie(s),l=ae.current,g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Jo(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return si(s),null}n=Q.current,nr(s)?Uh(s):(n=Wv(g,u,l),s.stateNode=n,Jo(s))}return si(s),null;case 5:if(Ie(s),g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Jo(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return si(s),null}if(b=Q.current,nr(s))Uh(s);else{var M=Vd(ae.current);switch(b){case 1:b=M.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=M.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=M.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof u.is=="string"?M.createElement("select",{is:u.is}):M.createElement("select"),u.multiple?b.multiple=!0:u.size&&(b.size=u.size);break;default:b=typeof u.is=="string"?M.createElement(g,{is:u.is}):M.createElement(g)}}b[Tn]=s,b[qn]=u;e:for(M=s.child;M!==null;){if(M.tag===5||M.tag===6)b.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===s)break e;for(;M.sibling===null;){if(M.return===null||M.return===s)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}s.stateNode=b;e:switch(Tr(b,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Jo(s)}}return si(s),$1(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,l),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Jo(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=ae.current,nr(s)){if(n=s.stateNode,l=s.memoizedProps,u=null,g=tr,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[Tn]=s,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Iv(n.nodeValue,l)),n||fo(s,!0)}else n=Vd(n).createTextNode(u),n[Tn]=s,s.stateNode=n}return si(s),null;case 31:if(l=s.memoizedState,n===null||n.memoizedState!==null){if(u=nr(s),l!==null){if(n===null){if(!u)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Tn]=s}else Wo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;si(s),n=!1}else l=Vh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return s.flags&256?(jn(s),s):(jn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return si(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=nr(s),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Tn]=s}else Wo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;si(s),g=!1}else g=Vh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(jn(s),s):(jn(s),null)}return jn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==g&&(u.flags|=2048)),l!==n&&l&&(s.child.flags|=8192),Ed(s,s.updateQueue),si(s),null);case 4:return _e(),n===null&&xm(s.stateNode.containerInfo),si(s),null;case 10:return fs(s.type),si(s),null;case 19:if(T(fn),u=s.memoizedState,u===null)return si(s),null;if(g=(s.flags&128)!==0,b=u.rendering,b===null)if(g)tf(u,!1);else{if(Oi!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(b=dr(n),b!==null){for(s.flags|=128,tf(u,!1),n=b.updateQueue,s.updateQueue=n,Ed(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)zc(l,n),l=l.sibling;return H(fn,fn.current&1|2),nn&&Qr(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&Ot()>Dd&&(s.flags|=128,g=!0,tf(u,!1),s.lanes=4194304)}else{if(!g)if(n=dr(b),n!==null){if(s.flags|=128,g=!0,n=n.updateQueue,s.updateQueue=n,Ed(s,n),tf(u,!0),u.tail===null&&u.tailMode==="hidden"&&!b.alternate&&!nn)return si(s),null}else 2*Ot()-u.renderingStartTime>Dd&&l!==536870912&&(s.flags|=128,g=!0,tf(u,!1),s.lanes=4194304);u.isBackwards?(b.sibling=s.child,s.child=b):(n=u.last,n!==null?n.sibling=b:s.child=b,u.last=b)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ot(),n.sibling=null,l=fn.current,H(fn,g?l&1|2:l&1),nn&&Qr(s,u.treeForkCount),n):(si(s),null);case 22:case 23:return jn(s),Ii(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(si(s),s.subtreeFlags&6&&(s.flags|=8192)):si(s),l=s.updateQueue,l!==null&&Ed(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),n!==null&&T(W),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),fs(_i),si(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Ow(n,s){switch(Ou(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return fs(_i),_e(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ie(s),null;case 31:if(s.memoizedState!==null){if(jn(s),s.alternate===null)throw Error(r(340));Wo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(jn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Wo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return T(fn),null;case 4:return _e(),null;case 10:return fs(s.type),null;case 22:case 23:return jn(s),Ii(),n!==null&&T(W),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return fs(_i),null;case 25:return null;default:return null}}function P2(n,s){switch(Ou(s),s.tag){case 3:fs(_i),_e();break;case 26:case 27:case 5:Ie(s);break;case 4:_e();break;case 31:s.memoizedState!==null&&jn(s);break;case 13:jn(s);break;case 19:T(fn);break;case 10:fs(s.type);break;case 22:case 23:jn(s),Ii(),n!==null&&T(W);break;case 24:fs(_i)}}function nf(n,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&n)===n){u=void 0;var b=l.create,M=l.inst;u=b(),M.destroy=u}l=l.next}while(l!==g)}}catch(K){In(s,s.return,K)}}function Pl(n,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var b=g.next;u=b;do{if((u.tag&n)===n){var M=u.inst,K=M.destroy;if(K!==void 0){M.destroy=void 0,g=s;var fe=l,ke=K;try{ke()}catch(qe){In(g,fe,qe)}}}u=u.next}while(u!==b)}}catch(qe){In(s,s.return,qe)}}function U2(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{Ci(s,l)}catch(u){In(n,n.return,u)}}}function V2(n,s,l){l.props=Gc(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){In(n,s,u)}}function rf(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(g){In(n,s,g)}}function wo(n,s){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){In(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){In(n,s,g)}else l.current=null}function H2(n){var s=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){In(n,n.return,g)}}function J1(n,s,l){try{var u=n.stateNode;$w(u,n.type,l,s),u[qn]=s}catch(g){In(n,n.return,g)}}function G2(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Xl(n.type)||n.tag===4}function em(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||G2(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Xl(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function tm(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ks));else if(u!==4&&(u===27&&Xl(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(tm(n,s,l),n=n.sibling;n!==null;)tm(n,s,l),n=n.sibling}function kd(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(u!==4&&(u===27&&Xl(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(kd(n,s,l),n=n.sibling;n!==null;)kd(n,s,l),n=n.sibling}function Y2(n){var s=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Tr(s,u,l),s[Tn]=n,s[qn]=l}catch(b){In(n,n.return,b)}}var el=!1,Yi=!1,nm=!1,W2=typeof WeakSet=="function"?WeakSet:Set,pr=null;function Mw(n,s){if(n=n.containerInfo,Sm=Kd,n=Da(n),ia(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,b=u.focusNode;u=u.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var M=0,K=-1,fe=-1,ke=0,qe=0,Ye=n,Me=null;t:for(;;){for(var Re;Ye!==l||g!==0&&Ye.nodeType!==3||(K=M+g),Ye!==b||u!==0&&Ye.nodeType!==3||(fe=M+u),Ye.nodeType===3&&(M+=Ye.nodeValue.length),(Re=Ye.firstChild)!==null;)Me=Ye,Ye=Re;for(;;){if(Ye===n)break t;if(Me===l&&++ke===g&&(K=M),Me===b&&++qe===u&&(fe=M),(Re=Ye.nextSibling)!==null)break;Ye=Me,Me=Ye.parentNode}Ye=Re}l=K===-1||fe===-1?null:{start:K,end:fe}}else l=null}l=l||{start:0,end:0}}else l=null;for(Am={focusedElem:n,selectionRange:l},Kd=!1,pr=s;pr!==null;)if(s=pr,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,pr=n;else for(;pr!==null;){switch(s=pr,b=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&b!==null){n=void 0,l=s,g=b.memoizedProps,b=b.memoizedState,u=l.stateNode;try{var xt=Gc(l.type,g);n=u.getSnapshotBeforeUpdate(xt,b),u.__reactInternalSnapshotBeforeUpdate=n}catch(It){In(l,l.return,It)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)Tm(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Tm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,pr=n;break}pr=s.return}}function X2(n,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:nl(n,l),u&4&&nf(5,l);break;case 1:if(nl(n,l),u&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(M){In(l,l.return,M)}else{var g=Gc(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(M){In(l,l.return,M)}}u&64&&U2(l),u&512&&rf(l,l.return);break;case 3:if(nl(n,l),u&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Ci(n,s)}catch(M){In(l,l.return,M)}}break;case 27:s===null&&u&4&&Y2(l);case 26:case 5:nl(n,l),s===null&&u&4&&H2(l),u&512&&rf(l,l.return);break;case 12:nl(n,l);break;case 31:nl(n,l),u&4&&Q2(n,l);break;case 13:nl(n,l),u&4&&$2(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=Fw.bind(null,l),a3(n,l))));break;case 22:if(u=l.memoizedState!==null||el,!u){s=s!==null&&s.memoizedState!==null||Yi,g=el;var b=Yi;el=u,(Yi=s)&&!b?il(n,l,(l.subtreeFlags&8772)!==0):nl(n,l),el=g,Yi=b}break;case 30:break;default:nl(n,l)}}function Z2(n){var s=n.alternate;s!==null&&(n.alternate=null,Z2(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ys(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pi=null,ps=!1;function tl(n,s,l){for(l=l.child;l!==null;)K2(n,s,l),l=l.sibling}function K2(n,s,l){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Dt,l)}catch{}switch(l.tag){case 26:Yi||wo(l,s),tl(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Yi||wo(l,s);var u=pi,g=ps;Xl(l.type)&&(pi=l.stateNode,ps=!1),tl(n,s,l),df(l.stateNode),pi=u,ps=g;break;case 5:Yi||wo(l,s);case 6:if(u=pi,g=ps,pi=null,tl(n,s,l),pi=u,ps=g,pi!==null)if(ps)try{(pi.nodeType===9?pi.body:pi.nodeName==="HTML"?pi.ownerDocument.body:pi).removeChild(l.stateNode)}catch(b){In(l,s,b)}else try{pi.removeChild(l.stateNode)}catch(b){In(l,s,b)}break;case 18:pi!==null&&(ps?(n=pi,Uv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),th(n)):Uv(pi,l.stateNode));break;case 4:u=pi,g=ps,pi=l.stateNode.containerInfo,ps=!0,tl(n,s,l),pi=u,ps=g;break;case 0:case 11:case 14:case 15:Pl(2,l,s),Yi||Pl(4,l,s),tl(n,s,l);break;case 1:Yi||(wo(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&V2(l,s,u)),tl(n,s,l);break;case 21:tl(n,s,l);break;case 22:Yi=(u=Yi)||l.memoizedState!==null,tl(n,s,l),Yi=u;break;default:tl(n,s,l)}}function Q2(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{th(n)}catch(l){In(s,s.return,l)}}}function $2(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{th(n)}catch(l){In(s,s.return,l)}}function Lw(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new W2),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new W2),s;default:throw Error(r(435,n.tag))}}function Od(n,s){var l=Lw(n);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=Pw.bind(null,n,u);u.then(g,g)}})}function ms(n,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],b=n,M=s,K=M;e:for(;K!==null;){switch(K.tag){case 27:if(Xl(K.type)){pi=K.stateNode,ps=!1;break e}break;case 5:pi=K.stateNode,ps=!1;break e;case 3:case 4:pi=K.stateNode.containerInfo,ps=!0;break e}K=K.return}if(pi===null)throw Error(r(160));K2(b,M,g),pi=null,ps=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)J2(s,n),s=s.sibling}var Pa=null;function J2(n,s){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ms(s,n),gs(n),u&4&&(Pl(3,n,n.return),nf(3,n),Pl(5,n,n.return));break;case 1:ms(s,n),gs(n),u&512&&(Yi||l===null||wo(l,l.return)),u&64&&el&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=Pa;if(ms(s,n),gs(n),u&512&&(Yi||l===null||wo(l,l.return)),u&4){var b=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Ur]||b[Tn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(u),g.head.insertBefore(b,g.querySelector("head > title"))),Tr(b,u,l),b[Tn]=n,vi(b),u=b;break e;case"link":var M=Jv("link","href",g).get(u+(l.href||""));if(M){for(var K=0;K<M.length;K++)if(b=M[K],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){M.splice(K,1);break t}}b=g.createElement(u),Tr(b,u,l),g.head.appendChild(b);break;case"meta":if(M=Jv("meta","content",g).get(u+(l.content||""))){for(K=0;K<M.length;K++)if(b=M[K],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){M.splice(K,1);break t}}b=g.createElement(u),Tr(b,u,l),g.head.appendChild(b);break;default:throw Error(r(468,u))}b[Tn]=n,vi(b),u=b}n.stateNode=u}else e5(g,n.type,n.stateNode);else n.stateNode=$v(g,u,n.memoizedProps);else b!==u?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,u===null?e5(g,n.type,n.stateNode):$v(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&J1(n,n.memoizedProps,l.memoizedProps)}break;case 27:ms(s,n),gs(n),u&512&&(Yi||l===null||wo(l,l.return)),l!==null&&u&4&&J1(n,n.memoizedProps,l.memoizedProps);break;case 5:if(ms(s,n),gs(n),u&512&&(Yi||l===null||wo(l,l.return)),n.flags&32){g=n.stateNode;try{Es(g,"")}catch(xt){In(n,n.return,xt)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,J1(n,g,l!==null?l.memoizedProps:g)),u&1024&&(nm=!0);break;case 6:if(ms(s,n),gs(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(xt){In(n,n.return,xt)}}break;case 3:if(Yd=null,g=Pa,Pa=Hd(s.containerInfo),ms(s,n),Pa=g,gs(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{th(s.containerInfo)}catch(xt){In(n,n.return,xt)}nm&&(nm=!1,ev(n));break;case 4:u=Pa,Pa=Hd(n.stateNode.containerInfo),ms(s,n),gs(n),Pa=u;break;case 12:ms(s,n),gs(n);break;case 31:ms(s,n),gs(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Od(n,u)));break;case 13:ms(s,n),gs(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ld=Ot()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Od(n,u)));break;case 22:g=n.memoizedState!==null;var fe=l!==null&&l.memoizedState!==null,ke=el,qe=Yi;if(el=ke||g,Yi=qe||fe,ms(s,n),Yi=qe,el=ke,gs(n),u&8192)e:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||fe||el||Yi||Yc(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){fe=l=s;try{if(b=fe.stateNode,g)M=b.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{K=fe.stateNode;var Ye=fe.memoizedProps.style,Me=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;K.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(xt){In(fe,fe.return,xt)}}}else if(s.tag===6){if(l===null){fe=s;try{fe.stateNode.nodeValue=g?"":fe.memoizedProps}catch(xt){In(fe,fe.return,xt)}}}else if(s.tag===18){if(l===null){fe=s;try{var Re=fe.stateNode;g?Vv(Re,!0):Vv(fe.stateNode,!1)}catch(xt){In(fe,fe.return,xt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Od(n,l))));break;case 19:ms(s,n),gs(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Od(n,u)));break;case 30:break;case 21:break;default:ms(s,n),gs(n)}}function gs(n){var s=n.flags;if(s&2){try{for(var l,u=n.return;u!==null;){if(G2(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,b=em(n);kd(n,b,g);break;case 5:var M=l.stateNode;l.flags&32&&(Es(M,""),l.flags&=-33);var K=em(n);kd(n,K,M);break;case 3:case 4:var fe=l.stateNode.containerInfo,ke=em(n);tm(n,ke,fe);break;default:throw Error(r(161))}}catch(qe){In(n,n.return,qe)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function ev(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;ev(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function nl(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)X2(n,s.alternate,s),s=s.sibling}function Yc(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Pl(4,s,s.return),Yc(s);break;case 1:wo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&V2(s,s.return,l),Yc(s);break;case 27:df(s.stateNode);case 26:case 5:wo(s,s.return),Yc(s);break;case 22:s.memoizedState===null&&Yc(s);break;case 30:Yc(s);break;default:Yc(s)}n=n.sibling}}function il(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=n,b=s,M=b.flags;switch(b.tag){case 0:case 11:case 15:il(g,b,l),nf(4,b);break;case 1:if(il(g,b,l),u=b,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ke){In(u,u.return,ke)}if(u=b,g=u.updateQueue,g!==null){var K=u.stateNode;try{var fe=g.shared.hiddenCallbacks;if(fe!==null)for(g.shared.hiddenCallbacks=null,g=0;g<fe.length;g++)fr(fe[g],K)}catch(ke){In(u,u.return,ke)}}l&&M&64&&U2(b),rf(b,b.return);break;case 27:Y2(b);case 26:case 5:il(g,b,l),l&&u===null&&M&4&&H2(b),rf(b,b.return);break;case 12:il(g,b,l);break;case 31:il(g,b,l),l&&M&4&&Q2(g,b);break;case 13:il(g,b,l),l&&M&4&&$2(g,b);break;case 22:b.memoizedState===null&&il(g,b,l),rf(b,b.return);break;case 30:break;default:il(g,b,l)}s=s.sibling}}function im(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Pc(l))}function rm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Pc(n))}function Ua(n,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)tv(n,s,l,u),s=s.sibling}function tv(n,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Ua(n,s,l,u),g&2048&&nf(9,s);break;case 1:Ua(n,s,l,u);break;case 3:Ua(n,s,l,u),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Pc(n)));break;case 12:if(g&2048){Ua(n,s,l,u),n=s.stateNode;try{var b=s.memoizedProps,M=b.id,K=b.onPostCommit;typeof K=="function"&&K(M,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(fe){In(s,s.return,fe)}}else Ua(n,s,l,u);break;case 31:Ua(n,s,l,u);break;case 13:Ua(n,s,l,u);break;case 23:break;case 22:b=s.stateNode,M=s.alternate,s.memoizedState!==null?b._visibility&2?Ua(n,s,l,u):sf(n,s):b._visibility&2?Ua(n,s,l,u):(b._visibility|=2,Hu(n,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&im(M,s);break;case 24:Ua(n,s,l,u),g&2048&&rm(s.alternate,s);break;default:Ua(n,s,l,u)}}function Hu(n,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=n,M=s,K=l,fe=u,ke=M.flags;switch(M.tag){case 0:case 11:case 15:Hu(b,M,K,fe,g),nf(8,M);break;case 23:break;case 22:var qe=M.stateNode;M.memoizedState!==null?qe._visibility&2?Hu(b,M,K,fe,g):sf(b,M):(qe._visibility|=2,Hu(b,M,K,fe,g)),g&&ke&2048&&im(M.alternate,M);break;case 24:Hu(b,M,K,fe,g),g&&ke&2048&&rm(M.alternate,M);break;default:Hu(b,M,K,fe,g)}s=s.sibling}}function sf(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,u=s,g=u.flags;switch(u.tag){case 22:sf(l,u),g&2048&&im(u.alternate,u);break;case 24:sf(l,u),g&2048&&rm(u.alternate,u);break;default:sf(l,u)}s=s.sibling}}var af=8192;function Gu(n,s,l){if(n.subtreeFlags&af)for(n=n.child;n!==null;)nv(n,s,l),n=n.sibling}function nv(n,s,l){switch(n.tag){case 26:Gu(n,s,l),n.flags&af&&n.memoizedState!==null&&y3(l,Pa,n.memoizedState,n.memoizedProps);break;case 5:Gu(n,s,l);break;case 3:case 4:var u=Pa;Pa=Hd(n.stateNode.containerInfo),Gu(n,s,l),Pa=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=af,af=16777216,Gu(n,s,l),af=u):Gu(n,s,l));break;default:Gu(n,s,l)}}function iv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function of(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];pr=u,sv(u,n)}iv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rv(n),n=n.sibling}function rv(n){switch(n.tag){case 0:case 11:case 15:of(n),n.flags&2048&&Pl(9,n,n.return);break;case 3:of(n);break;case 12:of(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Md(n)):of(n);break;default:of(n)}}function Md(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];pr=u,sv(u,n)}iv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Pl(8,s,s.return),Md(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Md(s));break;default:Md(s)}n=n.sibling}}function sv(n,s){for(;pr!==null;){var l=pr;switch(l.tag){case 0:case 11:case 15:Pl(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Pc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,pr=u;else e:for(l=n;pr!==null;){u=pr;var g=u.sibling,b=u.return;if(Z2(u),u===l){pr=null;break e}if(g!==null){g.return=b,pr=g;break e}pr=b}}}var Dw={getCacheForType:function(n){var s=ir(_i),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l},cacheSignal:function(){return ir(_i).controller.signal}},jw=typeof WeakMap=="function"?WeakMap:Map,Ln=0,Kn=null,rn=null,on=0,Rn=0,Is=null,Ul=!1,Yu=!1,sm=!1,rl=0,Oi=0,Vl=0,Wc=0,am=0,Bs=0,Wu=0,lf=null,vs=null,om=!1,Ld=0,av=0,Dd=1/0,jd=null,Hl=null,sr=0,Gl=null,Xu=null,sl=0,lm=0,cm=null,ov=null,cf=0,um=null;function zs(){return(Ln&2)!==0&&on!==0?on&-on:ee.T!==null?gm():Cn()}function lv(){if(Bs===0)if((on&536870912)===0||nn){var n=pt;pt<<=1,(pt&3932160)===0&&(pt=262144),Bs=n}else Bs=536870912;return n=ri.current,n!==null&&(n.flags|=32),Bs}function ys(n,s,l){(n===Kn&&(Rn===2||Rn===9)||n.cancelPendingCommit!==null)&&(Zu(n,0),Yl(n,on,Bs,!1)),mt(n,l),((Ln&2)===0||n!==Kn)&&(n===Kn&&((Ln&2)===0&&(Wc|=l),Oi===4&&Yl(n,on,Bs,!1)),So(n))}function cv(n,s,l){if((Ln&6)!==0)throw Error(r(327));var u=!l&&(s&127)===0&&(s&n.expiredLanes)===0||Jt(n,s),g=u?Bw(n,s):fm(n,s,!0),b=u;do{if(g===0){Yu&&!u&&Yl(n,s,0,!1);break}else{if(l=n.current.alternate,b&&!Rw(l)){g=fm(n,s,!1),b=!1;continue}if(g===2){if(b=s,n.errorRecoveryDisabledLanes&b)var M=0;else M=n.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){s=M;e:{var K=n;g=lf;var fe=K.current.memoizedState.isDehydrated;if(fe&&(Zu(K,M).flags|=256),M=fm(K,M,!1),M!==2){if(sm&&!fe){K.errorRecoveryDisabledLanes|=b,Wc|=b,g=4;break e}b=vs,vs=g,b!==null&&(vs===null?vs=b:vs.push.apply(vs,b))}g=M}if(b=!1,g!==2)continue}}if(g===1){Zu(n,0),Yl(n,s,0,!0);break}e:{switch(u=n,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Yl(u,s,Bs,!Ul);break e;case 2:vs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Ld+300-Ot(),10<g)){if(Yl(u,s,Bs,!Ul),at(u,0,!0)!==0)break e;sl=s,u.timeoutHandle=Fv(uv.bind(null,u,l,vs,jd,om,s,Bs,Wc,Wu,Ul,b,"Throttled",-0,0),g);break e}uv(u,l,vs,jd,om,s,Bs,Wc,Wu,Ul,b,null,-0,0)}}break}while(!0);So(n)}function uv(n,s,l,u,g,b,M,K,fe,ke,qe,Ye,Me,Re){if(n.timeoutHandle=-1,Ye=s.subtreeFlags,Ye&8192||(Ye&16785408)===16785408){Ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ks},nv(s,b,Ye);var xt=(b&62914560)===b?Ld-Ot():(b&4194048)===b?av-Ot():0;if(xt=b3(Ye,xt),xt!==null){sl=b,n.cancelPendingCommit=xt(yv.bind(null,n,s,b,l,u,g,M,K,fe,qe,Ye,null,Me,Re)),Yl(n,b,M,!ke);return}}yv(n,s,b,l,u,g,M,K,fe)}function Rw(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],b=g.getSnapshot;g=g.value;try{if(!Ji(b(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yl(n,s,l,u){s&=~am,s&=~Wc,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var g=s;0<g;){var b=31-Ft(g),M=1<<b;u[b]=-1,g&=~M}l!==0&&zn(n,l,s)}function Rd(){return(Ln&6)===0?(uf(0),!1):!0}function hm(){if(rn!==null){if(Rn===0)var n=rn.return;else n=rn,sa=po=null,Bu(n),Xe=null,_t=0,n=rn;for(;n!==null;)P2(n.alternate,n),n=n.return;rn=null}}function Zu(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,t3(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),sl=0,hm(),Kn=n,rn=l=as(n.current,null),on=s,Rn=0,Is=null,Ul=!1,Yu=Jt(n,s),sm=!1,Wu=Bs=am=Wc=Vl=Oi=0,vs=lf=null,om=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var g=31-Ft(u),b=1<<g;s|=n[g],u&=~b}return rl=s,Rc(),l}function hv(n,s){kt=null,ee.H=Jh,s===ye||s===se?(s=Ue(),Rn=3):s===Te?(s=Ue(),Rn=4):Rn=s===V1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Is=s,rn===null&&(Oi=1,Ad(n,os(s,n.current)))}function fv(){var n=ri.current;return n===null?!0:(on&4194048)===on?bn===null:(on&62914560)===on||(on&536870912)!==0?n===bn:!1}function dv(){var n=ee.H;return ee.H=Jh,n===null?Jh:n}function pv(){var n=ee.A;return ee.A=Dw,n}function Id(){Oi=4,Ul||(on&4194048)!==on&&ri.current!==null||(Yu=!0),(Vl&134217727)===0&&(Wc&134217727)===0||Kn===null||Yl(Kn,on,Bs,!1)}function fm(n,s,l){var u=Ln;Ln|=2;var g=dv(),b=pv();(Kn!==n||on!==s)&&(jd=null,Zu(n,s)),s=!1;var M=Oi;e:do try{if(Rn!==0&&rn!==null){var K=rn,fe=Is;switch(Rn){case 8:hm(),M=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(s=!0);var ke=Rn;if(Rn=0,Is=null,Ku(n,K,fe,ke),l&&Yu){M=0;break e}break;default:ke=Rn,Rn=0,Is=null,Ku(n,K,fe,ke)}}Iw(),M=Oi;break}catch(qe){hv(n,qe)}while(!0);return s&&n.shellSuspendCounter++,sa=po=null,Ln=u,ee.H=g,ee.A=b,rn===null&&(Kn=null,on=0,Rc()),M}function Iw(){for(;rn!==null;)mv(rn)}function Bw(n,s){var l=Ln;Ln|=2;var u=dv(),g=pv();Kn!==n||on!==s?(jd=null,Dd=Ot()+500,Zu(n,s)):Yu=Jt(n,s);e:do try{if(Rn!==0&&rn!==null){s=rn;var b=Is;t:switch(Rn){case 1:Rn=0,Is=null,Ku(n,s,b,1);break;case 2:case 9:if(Ne(b)){Rn=0,Is=null,gv(s);break}s=function(){Rn!==2&&Rn!==9||Kn!==n||(Rn=7),So(n)},b.then(s,s);break e;case 3:Rn=7;break e;case 4:Rn=5;break e;case 7:Ne(b)?(Rn=0,Is=null,gv(s)):(Rn=0,Is=null,Ku(n,s,b,7));break;case 5:var M=null;switch(rn.tag){case 26:M=rn.memoizedState;case 5:case 27:var K=rn;if(M?t5(M):K.stateNode.complete){Rn=0,Is=null;var fe=K.sibling;if(fe!==null)rn=fe;else{var ke=K.return;ke!==null?(rn=ke,Bd(ke)):rn=null}break t}}Rn=0,Is=null,Ku(n,s,b,5);break;case 6:Rn=0,Is=null,Ku(n,s,b,6);break;case 8:hm(),Oi=6;break e;default:throw Error(r(462))}}zw();break}catch(qe){hv(n,qe)}while(!0);return sa=po=null,ee.H=u,ee.A=g,Ln=l,rn!==null?0:(Kn=null,on=0,Rc(),Oi)}function zw(){for(;rn!==null&&!ht();)mv(rn)}function mv(n){var s=q2(n.alternate,n,rl);n.memoizedProps=n.pendingProps,s===null?Bd(n):rn=s}function gv(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=D2(l,s,s.pendingProps,s.type,void 0,on);break;case 11:s=D2(l,s,s.pendingProps,s.type.render,s.ref,on);break;case 5:Bu(s);default:P2(l,s),s=rn=zc(s,rl),s=q2(l,s,rl)}n.memoizedProps=n.pendingProps,s===null?Bd(n):rn=s}function Ku(n,s,l,u){sa=po=null,Bu(s),Xe=null,_t=0;var g=s.return;try{if(Cw(n,g,s,l,on)){Oi=1,Ad(n,os(l,n.current)),rn=null;return}}catch(b){if(g!==null)throw rn=g,b;Oi=1,Ad(n,os(l,n.current)),rn=null;return}s.flags&32768?(nn||u===1?n=!0:Yu||(on&536870912)!==0?n=!1:(Ul=n=!0,(u===2||u===9||u===3||u===6)&&(u=ri.current,u!==null&&u.tag===13&&(u.flags|=16384))),vv(s,n)):Bd(s)}function Bd(n){var s=n;do{if((s.flags&32768)!==0){vv(s,Ul);return}n=s.return;var l=kw(s.alternate,s,rl);if(l!==null){rn=l;return}if(s=s.sibling,s!==null){rn=s;return}rn=s=n}while(s!==null);Oi===0&&(Oi=5)}function vv(n,s){do{var l=Ow(n.alternate,n);if(l!==null){l.flags&=32767,rn=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){rn=n;return}rn=n=l}while(n!==null);Oi=6,rn=null}function yv(n,s,l,u,g,b,M,K,fe){n.cancelPendingCommit=null;do zd();while(sr!==0);if((Ln&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=Su,an(n,l,b,M,K,fe),n===Kn&&(rn=Kn=null,on=0),Xu=s,Gl=n,sl=l,lm=b,cm=g,ov=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Uw(gt,function(){return Sv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null,g=ie.p,ie.p=2,M=Ln,Ln|=4;try{Mw(n,s,l)}finally{Ln=M,ie.p=g,ee.T=u}}sr=1,bv(),xv(),_v()}}function bv(){if(sr===1){sr=0;var n=Gl,s=Xu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null;var u=ie.p;ie.p=2;var g=Ln;Ln|=4;try{J2(s,n);var b=Am,M=Da(n.containerInfo),K=b.focusedElem,fe=b.selectionRange;if(M!==K&&K&&K.ownerDocument&&La(K.ownerDocument.documentElement,K)){if(fe!==null&&ia(K)){var ke=fe.start,qe=fe.end;if(qe===void 0&&(qe=ke),"selectionStart"in K)K.selectionStart=ke,K.selectionEnd=Math.min(qe,K.value.length);else{var Ye=K.ownerDocument||document,Me=Ye&&Ye.defaultView||window;if(Me.getSelection){var Re=Me.getSelection(),xt=K.textContent.length,It=Math.min(fe.start,xt),Gn=fe.end===void 0?It:Math.min(fe.end,xt);!Re.extend&&It>Gn&&(M=Gn,Gn=It,It=M);var Ae=Ol(K,It),be=Ol(K,Gn);if(Ae&&be&&(Re.rangeCount!==1||Re.anchorNode!==Ae.node||Re.anchorOffset!==Ae.offset||Re.focusNode!==be.node||Re.focusOffset!==be.offset)){var Ee=Ye.createRange();Ee.setStart(Ae.node,Ae.offset),Re.removeAllRanges(),It>Gn?(Re.addRange(Ee),Re.extend(be.node,be.offset)):(Ee.setEnd(be.node,be.offset),Re.addRange(Ee))}}}}for(Ye=[],Re=K;Re=Re.parentNode;)Re.nodeType===1&&Ye.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Ye.length;K++){var Ve=Ye[K];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}Kd=!!Sm,Am=Sm=null}finally{Ln=g,ie.p=u,ee.T=l}}n.current=s,sr=2}}function xv(){if(sr===2){sr=0;var n=Gl,s=Xu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=ee.T,ee.T=null;var u=ie.p;ie.p=2;var g=Ln;Ln|=4;try{X2(n,s.alternate,s)}finally{Ln=g,ie.p=u,ee.T=l}}sr=3}}function _v(){if(sr===4||sr===3){sr=0,ut();var n=Gl,s=Xu,l=sl,u=ov;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?sr=5:(sr=0,Xu=Gl=null,wv(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Hl=null),vn(l),s=s.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Dt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=ee.T,g=ie.p,ie.p=2,ee.T=null;try{for(var b=n.onRecoverableError,M=0;M<u.length;M++){var K=u[M];b(K.value,{componentStack:K.stack})}}finally{ee.T=s,ie.p=g}}(sl&3)!==0&&zd(),So(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===um?cf++:(cf=0,um=n):cf=0,uf(0)}}function wv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Pc(s)))}function zd(){return bv(),xv(),_v(),Sv()}function Sv(){if(sr!==5)return!1;var n=Gl,s=lm;lm=0;var l=vn(sl),u=ee.T,g=ie.p;try{ie.p=32>l?32:l,ee.T=null,l=cm,cm=null;var b=Gl,M=sl;if(sr=0,Xu=Gl=null,sl=0,(Ln&6)!==0)throw Error(r(331));var K=Ln;if(Ln|=4,rv(b.current),tv(b,b.current,M,l),Ln=K,uf(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Dt,b)}catch{}return!0}finally{ie.p=g,ee.T=u,wv(n,s)}}function Av(n,s,l){s=os(l,s),s=U1(n.stateNode,s,2),n=Zt(n,s,2),n!==null&&(mt(n,2),So(n))}function In(n,s,l){if(n.tag===3)Av(n,n,l);else for(;s!==null;){if(s.tag===3){Av(s,n,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Hl===null||!Hl.has(u))){n=os(l,n),l=N2(2),u=Zt(s,l,2),u!==null&&(C2(l,u,s,n),mt(u,2),So(u));break}}s=s.return}}function dm(n,s,l){var u=n.pingCache;if(u===null){u=n.pingCache=new jw;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(sm=!0,g.add(l),n=qw.bind(null,n,s,l),s.then(n,n))}function qw(n,s,l){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Kn===n&&(on&l)===l&&(Oi===4||Oi===3&&(on&62914560)===on&&300>Ot()-Ld?(Ln&2)===0&&Zu(n,0):am|=l,Wu===on&&(Wu=0)),So(n)}function Nv(n,s){s===0&&(s=pn()),n=Ra(n,s),n!==null&&(mt(n,s),So(n))}function Fw(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Nv(n,l)}function Pw(n,s){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Nv(n,l)}function Uw(n,s){return et(n,s)}var qd=null,Qu=null,pm=!1,Fd=!1,mm=!1,Wl=0;function So(n){n!==Qu&&n.next===null&&(Qu===null?qd=Qu=n:Qu=Qu.next=n),Fd=!0,pm||(pm=!0,Hw())}function uf(n,s){if(!mm&&Fd){mm=!0;do for(var l=!1,u=qd;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var b=0;else{var M=u.suspendedLanes,K=u.pingedLanes;b=(1<<31-Ft(42|n)+1)-1,b&=g&~(M&~K),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,kv(u,b))}else b=on,b=at(u,u===Kn?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(b&3)===0||Jt(u,b)||(l=!0,kv(u,b));u=u.next}while(l);mm=!1}}function Vw(){Cv()}function Cv(){Fd=pm=!1;var n=0;Wl!==0&&e3()&&(n=Wl);for(var s=Ot(),l=null,u=qd;u!==null;){var g=u.next,b=Tv(u,s);b===0?(u.next=null,l===null?qd=g:l.next=g,g===null&&(Qu=l)):(l=u,(n!==0||(b&3)!==0)&&(Fd=!0)),u=g}sr!==0&&sr!==5||uf(n),Wl!==0&&(Wl=0)}function Tv(n,s){for(var l=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var M=31-Ft(b),K=1<<M,fe=g[M];fe===-1?((K&l)===0||(K&u)!==0)&&(g[M]=Qt(K,s)):fe<=s&&(n.expiredLanes|=K),b&=~K}if(s=Kn,l=on,l=at(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===s&&(Rn===2||Rn===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&nt(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Jt(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(u!==null&&nt(u),vn(l)){case 2:case 8:l=ot;break;case 32:l=gt;break;case 268435456:l=Tt;break;default:l=gt}return u=Ev.bind(null,n),l=et(l,u),n.callbackPriority=s,n.callbackNode=l,s}return u!==null&&u!==null&&nt(u),n.callbackPriority=2,n.callbackNode=null,2}function Ev(n,s){if(sr!==0&&sr!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(zd()&&n.callbackNode!==l)return null;var u=on;return u=at(n,n===Kn?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(cv(n,u,s),Tv(n,Ot()),n.callbackNode!=null&&n.callbackNode===l?Ev.bind(null,n):null)}function kv(n,s){if(zd())return null;cv(n,s,!0)}function Hw(){n3(function(){(Ln&6)!==0?et($e,Vw):Cv()})}function gm(){if(Wl===0){var n=p;n===0&&(n=Fe,Fe<<=1,(Fe&261888)===0&&(Fe=256)),Wl=n}return Wl}function Ov(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Mr(""+n)}function Mv(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function Gw(n,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var b=Ov((g[qn]||null).action),M=u.submitter;M&&(s=(s=M[qn]||null)?Ov(s.formAction):M.getAttribute("formAction"),s!==null&&(b=s,M=null));var K=new is("action","action",null,u,g);n.push({event:K,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Wl!==0){var fe=M?Mv(g,M):new FormData(g);I1(l,{pending:!0,data:fe,method:g.method,action:b},null,fe)}}else typeof b=="function"&&(K.preventDefault(),fe=M?Mv(g,M):new FormData(g),I1(l,{pending:!0,data:fe,method:g.method,action:b},b,fe))},currentTarget:g}]})}}for(var vm=0;vm<Ho.length;vm++){var ym=Ho[vm],Yw=ym.toLowerCase(),Ww=ym[0].toUpperCase()+ym.slice(1);ss(Yw,"on"+Ww)}ss(Vo,"onAnimationEnd"),ss(Dc,"onAnimationIteration"),ss(zh,"onAnimationStart"),ss("dblclick","onDoubleClick"),ss("focusin","onFocus"),ss("focusout","onBlur"),ss(hd,"onTransitionRun"),ss(fd,"onTransitionStart"),ss(dd,"onTransitionCancel"),ss(qh,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hf));function Lv(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],g=u.event;u=u.listeners;e:{var b=void 0;if(s)for(var M=u.length-1;0<=M;M--){var K=u[M],fe=K.instance,ke=K.currentTarget;if(K=K.listener,fe!==b&&g.isPropagationStopped())break e;b=K,g.currentTarget=ke;try{b(g)}catch(qe){jc(qe)}g.currentTarget=null,b=fe}else for(M=0;M<u.length;M++){if(K=u[M],fe=K.instance,ke=K.currentTarget,K=K.listener,fe!==b&&g.isPropagationStopped())break e;b=K,g.currentTarget=ke;try{b(g)}catch(qe){jc(qe)}g.currentTarget=null,b=fe}}}}function sn(n,s){var l=s[lr];l===void 0&&(l=s[lr]=new Set);var u=n+"__bubble";l.has(u)||(Dv(s,n,2,!1),l.add(u))}function bm(n,s,l){var u=0;s&&(u|=4),Dv(l,n,u,s)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function xm(n){if(!n[Pd]){n[Pd]=!0,gc.forEach(function(l){l!=="selectionchange"&&(Xw.has(l)||bm(l,!1,n),bm(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Pd]||(s[Pd]=!0,bm("selectionchange",!1,s))}}function Dv(n,s,l,u){switch(l5(s)){case 2:var g=w3;break;case 8:g=S3;break;default:g=Rm}l=g.bind(null,s,l,n),g=void 0,!Ec||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function _m(n,s,l,u,g){var b=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var M=u.tag;if(M===3||M===4){var K=u.stateNode.containerInfo;if(K===g)break;if(M===4)for(M=u.return;M!==null;){var fe=M.tag;if((fe===3||fe===4)&&M.stateNode.containerInfo===g)return;M=M.return}for(;K!==null;){if(M=Vr(K),M===null)return;if(fe=M.tag,fe===5||fe===6||fe===26||fe===27){u=b=M;continue e}K=K.parentNode}}u=u.return}yu(function(){var ke=b,qe=Io(l),Ye=[];e:{var Me=Fh.get(n);if(Me!==void 0){var Re=is,xt=n;switch(n){case"keypress":if(ns(l)===0)break e;case"keydown":case"keyup":Re=un;break;case"focusin":xt="focus",Re=Aa;break;case"focusout":xt="blur",Re=Aa;break;case"beforeblur":case"afterblur":Re=Aa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=Sa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=ji;break;case Vo:case Dc:case zh:Re=_;break;case qh:Re=$i;break;case"scroll":case"scrollend":Re=Sl;break;case"wheel":Re=Os;break;case"copy":case"cut":case"paste":Re=le;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=yi;break;case"toggle":case"beforetoggle":Re=Oc}var It=(s&4)!==0,Gn=!It&&(n==="scroll"||n==="scrollend"),Ae=It?Me!==null?Me+"Capture":null:Me;It=[];for(var be=ke,Ee;be!==null;){var Ve=be;if(Ee=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Ee===null||Ae===null||(Ve=Yr(be,Ae),Ve!=null&&It.push(ff(be,Ve,Ee))),Gn)break;be=be.return}0<It.length&&(Me=new Re(Me,xt,null,l,qe),Ye.push({event:Me,listeners:It}))}}if((s&7)===0){e:{if(Me=n==="mouseover"||n==="pointerover",Re=n==="mouseout"||n==="pointerout",Me&&l!==ya&&(xt=l.relatedTarget||l.fromElement)&&(Vr(xt)||xt[Pi]))break e;if((Re||Me)&&(Me=qe.window===qe?qe:(Me=qe.ownerDocument)?Me.defaultView||Me.parentWindow:window,Re?(xt=l.relatedTarget||l.toElement,Re=ke,xt=xt?Vr(xt):null,xt!==null&&(Gn=o(xt),It=xt.tag,xt!==Gn||It!==5&&It!==27&&It!==6)&&(xt=null)):(Re=null,xt=ke),Re!==xt)){if(It=kc,Ve="onMouseLeave",Ae="onMouseEnter",be="mouse",(n==="pointerout"||n==="pointerover")&&(It=yi,Ve="onPointerLeave",Ae="onPointerEnter",be="pointer"),Gn=Re==null?Me:jo(Re),Ee=xt==null?Me:jo(xt),Me=new It(Ve,be+"leave",Re,l,qe),Me.target=Gn,Me.relatedTarget=Ee,Ve=null,Vr(qe)===ke&&(It=new It(Ae,be+"enter",xt,l,qe),It.target=Ee,It.relatedTarget=Gn,Ve=It),Gn=Ve,Re&&xt)t:{for(It=Zw,Ae=Re,be=xt,Ee=0,Ve=Ae;Ve;Ve=It(Ve))Ee++;Ve=0;for(var Lt=be;Lt;Lt=It(Lt))Ve++;for(;0<Ee-Ve;)Ae=It(Ae),Ee--;for(;0<Ve-Ee;)be=It(be),Ve--;for(;Ee--;){if(Ae===be||be!==null&&Ae===be.alternate){It=Ae;break t}Ae=It(Ae),be=It(be)}It=null}else It=null;Re!==null&&jv(Ye,Me,Re,It,!1),xt!==null&&Gn!==null&&jv(Ye,Gn,xt,It,!0)}}e:{if(Me=ke?jo(ke):window,Re=Me.nodeName&&Me.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Me.type==="file")var En=co;else if(Mc(Me))if(Lr)En=ta;else{En=bi;var Ct=El}else Re=Me.nodeName,!Re||Re.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?ke&&Nc(ke.elementType)&&(En=co):En=wu;if(En&&(En=En(n,ke))){Xr(Ye,En,l,qe);break e}Ct&&Ct(n,Me,ke),n==="focusout"&&ke&&Me.type==="number"&&ke.memoizedProps.value!=null&&wc(Me,"number",Me.value)}switch(Ct=ke?jo(ke):window,n){case"focusin":(Mc(Ct)||Ct.contentEditable==="true")&&(Zr=Ct,ja=ke,cr=null);break;case"focusout":cr=ja=Zr=null;break;case"mousedown":rs=!0;break;case"contextmenu":case"mouseup":case"dragend":rs=!1,An(Ye,l,qe);break;case"selectionchange":if(Uo)break;case"keydown":case"keyup":An(Ye,l,qe)}var Kt;if(Qs)e:{switch(n){case"compositionstart":var ln="onCompositionStart";break e;case"compositionend":ln="onCompositionEnd";break e;case"compositionupdate":ln="onCompositionUpdate";break e}ln=void 0}else $s?lo(n,l)&&(ln="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(ln="onCompositionStart");ln&&(Ta&&l.locale!=="ko"&&($s||ln!=="onCompositionStart"?ln==="onCompositionEnd"&&$s&&(Kt=bu()):(Wr=qe,zo="value"in Wr?Wr.value:Wr.textContent,$s=!0)),Ct=Ud(ke,ln),0<Ct.length&&(ln=new Se(ln,n,null,l,qe),Ye.push({event:ln,listeners:Ct}),Kt?ln.data=Kt:(Kt=Nl(l),Kt!==null&&(ln.data=Kt)))),(Kt=Po?wr(n,l):Ea(n,l))&&(ln=Ud(ke,"onBeforeInput"),0<ln.length&&(Ct=new Se("onBeforeInput","beforeinput",null,l,qe),Ye.push({event:Ct,listeners:ln}),Ct.data=Kt)),Gw(Ye,n,ke,l,qe)}Lv(Ye,s)})}function ff(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Ud(n,s){for(var l=s+"Capture",u=[];n!==null;){var g=n,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Yr(n,l),g!=null&&u.unshift(ff(n,g,b)),g=Yr(n,s),g!=null&&u.push(ff(n,g,b))),n.tag===3)return u;n=n.return}return[]}function Zw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function jv(n,s,l,u,g){for(var b=s._reactName,M=[];l!==null&&l!==u;){var K=l,fe=K.alternate,ke=K.stateNode;if(K=K.tag,fe!==null&&fe===u)break;K!==5&&K!==26&&K!==27||ke===null||(fe=ke,g?(ke=Yr(l,b),ke!=null&&M.unshift(ff(l,ke,fe))):g||(ke=Yr(l,b),ke!=null&&M.push(ff(l,ke,fe)))),l=l.return}M.length!==0&&n.push({event:s,listeners:M})}var Kw=/\r\n?/g,Qw=/\u0000|\uFFFD/g;function Rv(n){return(typeof n=="string"?n:""+n).replace(Kw,`
`).replace(Qw,"")}function Iv(n,s){return s=Rv(s),Rv(n)===s}function Hn(n,s,l,u,g,b){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Es(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Es(n,""+u);break;case"className":va(n,"class",u);break;case"tabIndex":va(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":va(n,l,u);break;case"style":mu(n,u,b);break;case"data":if(s!=="object"){va(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Mr(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(s!=="input"&&Hn(n,s,"name",g.name,g,null),Hn(n,s,"formEncType",g.formEncType,g,null),Hn(n,s,"formMethod",g.formMethod,g,null),Hn(n,s,"formTarget",g.formTarget,g,null)):(Hn(n,s,"encType",g.encType,g,null),Hn(n,s,"method",g.method,g,null),Hn(n,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Mr(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=ks);break;case"onScroll":u!=null&&sn("scroll",n);break;case"onScrollEnd":u!=null&&sn("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=Mr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":sn("beforetoggle",n),sn("toggle",n),Gr(n,"popover",u);break;case"xlinkActuate":Ts(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ts(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ts(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ts(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ts(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ts(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ts(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ts(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ts(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Cc.get(l)||l,Gr(n,l,u))}}function wm(n,s,l,u,g,b){switch(l){case"style":mu(n,u,b);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Es(n,u):(typeof u=="number"||typeof u=="bigint")&&Es(n,""+u);break;case"onScroll":u!=null&&sn("scroll",n);break;case"onScrollEnd":u!=null&&sn("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ks);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),b=n[qn]||null,b=b!=null?b[l]:null,typeof b=="function"&&n.removeEventListener(s,b,g),typeof u=="function")){typeof b!="function"&&b!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,u,g);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):Gr(n,l,u)}}}function Tr(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sn("error",n),sn("load",n);var u=!1,g=!1,b;for(b in l)if(l.hasOwnProperty(b)){var M=l[b];if(M!=null)switch(b){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Hn(n,s,b,M,l,null)}}g&&Hn(n,s,"srcSet",l.srcSet,l,null),u&&Hn(n,s,"src",l.src,l,null);return;case"input":sn("invalid",n);var K=b=M=g=null,fe=null,ke=null;for(u in l)if(l.hasOwnProperty(u)){var qe=l[u];if(qe!=null)switch(u){case"name":g=qe;break;case"type":M=qe;break;case"checked":fe=qe;break;case"defaultChecked":ke=qe;break;case"value":b=qe;break;case"defaultValue":K=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(r(137,s));break;default:Hn(n,s,u,qe,l,null)}}du(n,b,K,fe,ke,M,g,!1);return;case"select":sn("invalid",n),u=M=b=null;for(g in l)if(l.hasOwnProperty(g)&&(K=l[g],K!=null))switch(g){case"value":b=K;break;case"defaultValue":M=K;break;case"multiple":u=K;default:Hn(n,s,g,K,l,null)}s=b,l=M,n.multiple=!!u,s!=null?_r(n,!!u,s,!1):l!=null&&_r(n,!!u,l,!0);return;case"textarea":sn("invalid",n),b=g=u=null;for(M in l)if(l.hasOwnProperty(M)&&(K=l[M],K!=null))switch(M){case"value":u=K;break;case"defaultValue":g=K;break;case"children":b=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:Hn(n,s,M,K,l,null)}Ac(n,u,g,b);return;case"option":for(fe in l)if(l.hasOwnProperty(fe)&&(u=l[fe],u!=null))switch(fe){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Hn(n,s,fe,u,l,null)}return;case"dialog":sn("beforetoggle",n),sn("toggle",n),sn("cancel",n),sn("close",n);break;case"iframe":case"object":sn("load",n);break;case"video":case"audio":for(u=0;u<hf.length;u++)sn(hf[u],n);break;case"image":sn("error",n),sn("load",n);break;case"details":sn("toggle",n);break;case"embed":case"source":case"link":sn("error",n),sn("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ke in l)if(l.hasOwnProperty(ke)&&(u=l[ke],u!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Hn(n,s,ke,u,l,null)}return;default:if(Nc(s)){for(qe in l)l.hasOwnProperty(qe)&&(u=l[qe],u!==void 0&&wm(n,s,qe,u,l,void 0));return}}for(K in l)l.hasOwnProperty(K)&&(u=l[K],u!=null&&Hn(n,s,K,u,l,null))}function $w(n,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,M=null,K=null,fe=null,ke=null,qe=null;for(Re in l){var Ye=l[Re];if(l.hasOwnProperty(Re)&&Ye!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":fe=Ye;default:u.hasOwnProperty(Re)||Hn(n,s,Re,null,u,Ye)}}for(var Me in u){var Re=u[Me];if(Ye=l[Me],u.hasOwnProperty(Me)&&(Re!=null||Ye!=null))switch(Me){case"type":b=Re;break;case"name":g=Re;break;case"checked":ke=Re;break;case"defaultChecked":qe=Re;break;case"value":M=Re;break;case"defaultValue":K=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(r(137,s));break;default:Re!==Ye&&Hn(n,s,Me,Re,u,Ye)}}xl(n,M,K,fe,ke,qe,b,g);return;case"select":Re=M=K=Me=null;for(b in l)if(fe=l[b],l.hasOwnProperty(b)&&fe!=null)switch(b){case"value":break;case"multiple":Re=fe;default:u.hasOwnProperty(b)||Hn(n,s,b,null,u,fe)}for(g in u)if(b=u[g],fe=l[g],u.hasOwnProperty(g)&&(b!=null||fe!=null))switch(g){case"value":Me=b;break;case"defaultValue":K=b;break;case"multiple":M=b;default:b!==fe&&Hn(n,s,g,b,u,fe)}s=K,l=M,u=Re,Me!=null?_r(n,!!l,Me,!1):!!u!=!!l&&(s!=null?_r(n,!!l,s,!0):_r(n,!!l,l?[]:"",!1));return;case"textarea":Re=Me=null;for(K in l)if(g=l[K],l.hasOwnProperty(K)&&g!=null&&!u.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Hn(n,s,K,null,u,g)}for(M in u)if(g=u[M],b=l[M],u.hasOwnProperty(M)&&(g!=null||b!=null))switch(M){case"value":Me=g;break;case"defaultValue":Re=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&Hn(n,s,M,g,u,b)}Sc(n,Me,Re);return;case"option":for(var xt in l)if(Me=l[xt],l.hasOwnProperty(xt)&&Me!=null&&!u.hasOwnProperty(xt))switch(xt){case"selected":n.selected=!1;break;default:Hn(n,s,xt,null,u,Me)}for(fe in u)if(Me=u[fe],Re=l[fe],u.hasOwnProperty(fe)&&Me!==Re&&(Me!=null||Re!=null))switch(fe){case"selected":n.selected=Me&&typeof Me!="function"&&typeof Me!="symbol";break;default:Hn(n,s,fe,Me,u,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in l)Me=l[It],l.hasOwnProperty(It)&&Me!=null&&!u.hasOwnProperty(It)&&Hn(n,s,It,null,u,Me);for(ke in u)if(Me=u[ke],Re=l[ke],u.hasOwnProperty(ke)&&Me!==Re&&(Me!=null||Re!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,s));break;default:Hn(n,s,ke,Me,u,Re)}return;default:if(Nc(s)){for(var Gn in l)Me=l[Gn],l.hasOwnProperty(Gn)&&Me!==void 0&&!u.hasOwnProperty(Gn)&&wm(n,s,Gn,void 0,u,Me);for(qe in u)Me=u[qe],Re=l[qe],!u.hasOwnProperty(qe)||Me===Re||Me===void 0&&Re===void 0||wm(n,s,qe,Me,u,Re);return}}for(var Ae in l)Me=l[Ae],l.hasOwnProperty(Ae)&&Me!=null&&!u.hasOwnProperty(Ae)&&Hn(n,s,Ae,null,u,Me);for(Ye in u)Me=u[Ye],Re=l[Ye],!u.hasOwnProperty(Ye)||Me===Re||Me==null&&Re==null||Hn(n,s,Ye,Me,u,Re)}function Bv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jw(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],b=g.transferSize,M=g.initiatorType,K=g.duration;if(b&&K&&Bv(M)){for(M=0,K=g.responseEnd,u+=1;u<l.length;u++){var fe=l[u],ke=fe.startTime;if(ke>K)break;var qe=fe.transferSize,Ye=fe.initiatorType;qe&&Bv(Ye)&&(fe=fe.responseEnd,M+=qe*(fe<K?1:(K-ke)/(fe-ke)))}if(--u,s+=8*(b+M)/(g.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Sm=null,Am=null;function Vd(n){return n.nodeType===9?n:n.ownerDocument}function zv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Nm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cm=null;function e3(){var n=window.event;return n&&n.type==="popstate"?n===Cm?!1:(Cm=n,!0):(Cm=null,!1)}var Fv=typeof setTimeout=="function"?setTimeout:void 0,t3=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,n3=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(n){return Pv.resolve(null).then(n).catch(i3)}:Fv;function i3(n){setTimeout(function(){throw n})}function Xl(n){return n==="head"}function Uv(n,s){var l=s,u=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(g),th(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")df(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,df(l);for(var b=l.firstChild;b;){var M=b.nextSibling,K=b.nodeName;b[Ur]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=M}}else l==="body"&&df(n.ownerDocument.body);l=g}while(l);th(s)}function Vv(n,s){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function Tm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Tm(l),Ys(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function r3(n,s,l,u){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ur])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(b=n.getAttribute("rel"),b==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(b!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(b=n.getAttribute("src"),(b!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===b)return n}else return n;if(n=la(n.nextSibling),n===null)break}return null}function s3(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=la(n.nextSibling),n===null))return null;return n}function Hv(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=la(n.nextSibling),n===null))return null;return n}function Em(n){return n.data==="$?"||n.data==="$~"}function km(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function a3(n,s){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function la(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Om=null;function Gv(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(s===0)return la(n.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}n=n.nextSibling}return null}function Yv(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return n;s--}else l!=="/$"&&l!=="/&"||s++}n=n.previousSibling}return null}function Wv(n,s,l){switch(s=Vd(l),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function df(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ys(n)}var ca=new Map,Xv=new Set;function Hd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var al=ie.d;ie.d={f:o3,r:l3,D:c3,C:u3,L:h3,m:f3,X:p3,S:d3,M:m3};function o3(){var n=al.f(),s=Rd();return n||s}function l3(n){var s=Ns(n);s!==null&&s.tag===5&&s.type==="form"?h2(s):al.r(n)}var $u=typeof document>"u"?null:document;function Zv(n,s,l){var u=$u;if(u&&typeof s=="string"&&s){var g=Si(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Xv.has(g)||(Xv.add(g),n={rel:n,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),Tr(s,"link",n),vi(s),u.head.appendChild(s)))}}function c3(n){al.D(n),Zv("dns-prefetch",n,null)}function u3(n,s){al.C(n,s),Zv("preconnect",n,s)}function h3(n,s,l){al.L(n,s,l);var u=$u;if(u&&n&&s){var g='link[rel="preload"][as="'+Si(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Si(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Si(l.imageSizes)+'"]')):g+='[href="'+Si(n)+'"]';var b=g;switch(s){case"style":b=Ju(n);break;case"script":b=eh(n)}ca.has(b)||(n=x({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),ca.set(b,n),u.querySelector(g)!==null||s==="style"&&u.querySelector(pf(b))||s==="script"&&u.querySelector(mf(b))||(s=u.createElement("link"),Tr(s,"link",n),vi(s),u.head.appendChild(s)))}}function f3(n,s){al.m(n,s);var l=$u;if(l&&n){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Si(u)+'"][href="'+Si(n)+'"]',b=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=eh(n)}if(!ca.has(b)&&(n=x({rel:"modulepreload",href:n},s),ca.set(b,n),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(mf(b)))return}u=l.createElement("link"),Tr(u,"link",n),vi(u),l.head.appendChild(u)}}}function d3(n,s,l){al.S(n,s,l);var u=$u;if(u&&n){var g=Ws(u).hoistableStyles,b=Ju(n);s=s||"default";var M=g.get(b);if(!M){var K={loading:0,preload:null};if(M=u.querySelector(pf(b)))K.loading=5;else{n=x({rel:"stylesheet",href:n,"data-precedence":s},l),(l=ca.get(b))&&Mm(n,l);var fe=M=u.createElement("link");vi(fe),Tr(fe,"link",n),fe._p=new Promise(function(ke,qe){fe.onload=ke,fe.onerror=qe}),fe.addEventListener("load",function(){K.loading|=1}),fe.addEventListener("error",function(){K.loading|=2}),K.loading|=4,Gd(M,s,u)}M={type:"stylesheet",instance:M,count:1,state:K},g.set(b,M)}}}function p3(n,s){al.X(n,s);var l=$u;if(l&&n){var u=Ws(l).hoistableScripts,g=eh(n),b=u.get(g);b||(b=l.querySelector(mf(g)),b||(n=x({src:n,async:!0},s),(s=ca.get(g))&&Lm(n,s),b=l.createElement("script"),vi(b),Tr(b,"link",n),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function m3(n,s){al.M(n,s);var l=$u;if(l&&n){var u=Ws(l).hoistableScripts,g=eh(n),b=u.get(g);b||(b=l.querySelector(mf(g)),b||(n=x({src:n,async:!0,type:"module"},s),(s=ca.get(g))&&Lm(n,s),b=l.createElement("script"),vi(b),Tr(b,"link",n),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function Kv(n,s,l,u){var g=(g=ae.current)?Hd(g):null;if(!g)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Ju(l.href),l=Ws(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Ju(l.href);var b=Ws(g).hoistableStyles,M=b.get(n);if(M||(g=g.ownerDocument||g,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(n,M),(b=g.querySelector(pf(n)))&&!b._p&&(M.instance=b,M.state.loading=5),ca.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ca.set(n,l),b||g3(g,n,l,M.state))),s&&u===null)throw Error(r(528,""));return M}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=eh(l),l=Ws(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Ju(n){return'href="'+Si(n)+'"'}function pf(n){return'link[rel="stylesheet"]['+n+"]"}function Qv(n){return x({},n,{"data-precedence":n.precedence,precedence:null})}function g3(n,s,l,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Tr(s,"link",l),vi(s),n.head.appendChild(s))}function eh(n){return'[src="'+Si(n)+'"]'}function mf(n){return"script[async]"+n}function $v(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Si(l.href)+'"]');if(u)return s.instance=u,vi(u),u;var g=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),vi(u),Tr(u,"style",g),Gd(u,l.precedence,n),s.instance=u;case"stylesheet":g=Ju(l.href);var b=n.querySelector(pf(g));if(b)return s.state.loading|=4,s.instance=b,vi(b),b;u=Qv(l),(g=ca.get(g))&&Mm(u,g),b=(n.ownerDocument||n).createElement("link"),vi(b);var M=b;return M._p=new Promise(function(K,fe){M.onload=K,M.onerror=fe}),Tr(b,"link",u),s.state.loading|=4,Gd(b,l.precedence,n),s.instance=b;case"script":return b=eh(l.src),(g=n.querySelector(mf(b)))?(s.instance=g,vi(g),g):(u=l,(g=ca.get(b))&&(u=x({},l),Lm(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),vi(g),Tr(g,"link",u),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Gd(u,l.precedence,n));return s.instance}function Gd(n,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,b=g,M=0;M<u.length;M++){var K=u[M];if(K.dataset.precedence===s)b=K;else if(b!==g)break}b?b.parentNode.insertBefore(n,b.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function Mm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Lm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Yd=null;function Jv(n,s,l){if(Yd===null){var u=new Map,g=Yd=new Map;g.set(l,u)}else g=Yd,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var b=l[g];if(!(b[Ur]||b[Tn]||n==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var M=b.getAttribute(s)||"";M=n+M;var K=u.get(M);K?K.push(b):u.set(M,[b])}}return u}function e5(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function v3(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function t5(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function y3(n,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Ju(u.href),b=s.querySelector(pf(g));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Wd.bind(n),s.then(n,n)),l.state.loading|=4,l.instance=b,vi(b);return}b=s.ownerDocument||s,u=Qv(u),(g=ca.get(g))&&Mm(u,g),b=b.createElement("link"),vi(b);var M=b;M._p=new Promise(function(K,fe){M.onload=K,M.onerror=fe}),Tr(b,"link",u),l.instance=b}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Wd.bind(n),s.addEventListener("load",l),s.addEventListener("error",l))}}var Dm=0;function b3(n,s){return n.stylesheets&&n.count===0&&Zd(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&Zd(n,n.stylesheets),n.unsuspend){var b=n.unsuspend;n.unsuspend=null,b()}},6e4+s);0<n.imgBytes&&Dm===0&&(Dm=62500*Jw());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Zd(n,n.stylesheets),n.unsuspend)){var b=n.unsuspend;n.unsuspend=null,b()}},(n.imgBytes>Dm?50:800)+s);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Wd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xd=null;function Zd(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xd=new Map,s.forEach(x3,n),Xd=null,Wd.call(n))}function x3(n,s){if(!(s.state.loading&4)){var l=Xd.get(n);if(l)var u=l.get(null);else{l=new Map,Xd.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var M=g[b];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(l.set(M.dataset.precedence,M),u=M)}u&&l.set(null,u)}g=s.instance,M=g.getAttribute("data-precedence"),b=l.get(M)||u,b===u&&l.set(null,g),l.set(M,g),this.count++,u=Wd.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),b?b.parentNode.insertBefore(g,b.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var gf={$$typeof:F,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function _3(n,s,l,u,g,b,M,K,fe){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mn(0),this.hiddenUpdates=mn(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function n5(n,s,l,u,g,b,M,K,fe,ke,qe,Ye){return n=new _3(n,s,l,M,fe,ke,qe,Ye,K),s=1,b===!0&&(s|=24),b=hr(3,null,null,s),n.current=b,b.stateNode=n,s=Il(),s.refCount++,n.pooledCache=s,s.refCount++,b.memoizedState={element:u,isDehydrated:l,cache:s},st(b),n}function i5(n){return n?(n=er,n):er}function r5(n,s,l,u,g,b){g=i5(g),u.context===null?u.context=g:u.pendingContext=g,u=Rt(s),u.payload={element:l},b=b===void 0?null:b,b!==null&&(u.callback=b),l=Zt(n,u,s),l!==null&&(ys(l,n,s),On(l,n,s))}function s5(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function jm(n,s){s5(n,s),(n=n.alternate)&&s5(n,s)}function a5(n){if(n.tag===13||n.tag===31){var s=Ra(n,67108864);s!==null&&ys(s,n,67108864),jm(n,67108864)}}function o5(n){if(n.tag===13||n.tag===31){var s=zs();s=tn(s);var l=Ra(n,s);l!==null&&ys(l,n,s),jm(n,s)}}var Kd=!0;function w3(n,s,l,u){var g=ee.T;ee.T=null;var b=ie.p;try{ie.p=2,Rm(n,s,l,u)}finally{ie.p=b,ee.T=g}}function S3(n,s,l,u){var g=ee.T;ee.T=null;var b=ie.p;try{ie.p=8,Rm(n,s,l,u)}finally{ie.p=b,ee.T=g}}function Rm(n,s,l,u){if(Kd){var g=Im(u);if(g===null)_m(n,s,u,Qd,l),c5(n,u);else if(N3(g,n,s,l,u))u.stopPropagation();else if(c5(n,u),s&4&&-1<A3.indexOf(n)){for(;g!==null;){var b=Ns(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var M=Ke(b.pendingLanes);if(M!==0){var K=b;for(K.pendingLanes|=2,K.entangledLanes|=2;M;){var fe=1<<31-Ft(M);K.entanglements[1]|=fe,M&=~fe}So(b),(Ln&6)===0&&(Dd=Ot()+500,uf(0))}}break;case 31:case 13:K=Ra(b,2),K!==null&&ys(K,b,2),Rd(),jm(b,2)}if(b=Im(u),b===null&&_m(n,s,u,Qd,l),b===g)break;g=b}g!==null&&u.stopPropagation()}else _m(n,s,u,null,l)}}function Im(n){return n=Io(n),Bm(n)}var Qd=null;function Bm(n){if(Qd=null,n=Vr(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=h(s),n!==null)return n;n=null}else if(l===31){if(n=c(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Qd=n,null}function l5(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(We()){case $e:return 2;case ot:return 8;case gt:case rt:return 32;case Tt:return 268435456;default:return 32}default:return 32}}var zm=!1,Zl=null,Kl=null,Ql=null,vf=new Map,yf=new Map,$l=[],A3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c5(n,s){switch(n){case"focusin":case"focusout":Zl=null;break;case"dragenter":case"dragleave":Kl=null;break;case"mouseover":case"mouseout":Ql=null;break;case"pointerover":case"pointerout":vf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yf.delete(s.pointerId)}}function bf(n,s,l,u,g,b){return n===null||n.nativeEvent!==b?(n={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:b,targetContainers:[g]},s!==null&&(s=Ns(s),s!==null&&a5(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function N3(n,s,l,u,g){switch(s){case"focusin":return Zl=bf(Zl,n,s,l,u,g),!0;case"dragenter":return Kl=bf(Kl,n,s,l,u,g),!0;case"mouseover":return Ql=bf(Ql,n,s,l,u,g),!0;case"pointerover":var b=g.pointerId;return vf.set(b,bf(vf.get(b)||null,n,s,l,u,g)),!0;case"gotpointercapture":return b=g.pointerId,yf.set(b,bf(yf.get(b)||null,n,s,l,u,g)),!0}return!1}function u5(n){var s=Vr(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=h(l),s!==null){n.blockedOn=s,yr(n.priority,function(){o5(l)});return}}else if(s===31){if(s=c(l),s!==null){n.blockedOn=s,yr(n.priority,function(){o5(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $d(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Im(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);ya=u,l.target.dispatchEvent(u),ya=null}else return s=Ns(l),s!==null&&a5(s),n.blockedOn=l,!1;s.shift()}return!0}function h5(n,s,l){$d(n)&&l.delete(s)}function C3(){zm=!1,Zl!==null&&$d(Zl)&&(Zl=null),Kl!==null&&$d(Kl)&&(Kl=null),Ql!==null&&$d(Ql)&&(Ql=null),vf.forEach(h5),yf.forEach(h5)}function Jd(n,s){n.blockedOn===s&&(n.blockedOn=null,zm||(zm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,C3)))}var ep=null;function f5(n){ep!==n&&(ep=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ep===n&&(ep=null);for(var s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],g=n[s+2];if(typeof u!="function"){if(Bm(u||l)===null)continue;break}var b=Ns(l);b!==null&&(n.splice(s,3),s-=3,I1(b,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function th(n){function s(fe){return Jd(fe,n)}Zl!==null&&Jd(Zl,n),Kl!==null&&Jd(Kl,n),Ql!==null&&Jd(Ql,n),vf.forEach(s),yf.forEach(s);for(var l=0;l<$l.length;l++){var u=$l[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<$l.length&&(l=$l[0],l.blockedOn===null);)u5(l),l.blockedOn===null&&$l.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],b=l[u+1],M=g[qn]||null;if(typeof b=="function")M||f5(l);else if(M){var K=null;if(b&&b.hasAttribute("formAction")){if(g=b,M=b[qn]||null)K=M.formAction;else if(Bm(g)!==null)continue}else K=M.action;typeof K=="function"?l[u+1]=K:(l.splice(u,3),u-=3),f5(l)}}}function d5(){function n(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(M){return g=M})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function qm(n){this._internalRoot=n}tp.prototype.render=qm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=zs();r5(l,u,n,s,null,null)},tp.prototype.unmount=qm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;r5(n.current,2,null,n,null,null),Rd(),s[Pi]=null}};function tp(n){this._internalRoot=n}tp.prototype.unstable_scheduleHydration=function(n){if(n){var s=Cn();n={blockedOn:null,target:n,priority:s};for(var l=0;l<$l.length&&s!==0&&s<$l[l].priority;l++);$l.splice(l,0,n),l===0&&u5(n)}};var p5=e.version;if(p5!=="19.2.0")throw Error(r(527,p5,"19.2.0"));ie.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=d(s),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var T3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!np.isDisabled&&np.supportsFiber)try{Dt=np.inject(T3),vt=np}catch{}}return _f.createRoot=function(n,s){if(!a(n))throw Error(r(299));var l=!1,u="",g=_2,b=w2,M=S2;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError)),s=n5(n,1,!1,null,null,l,u,null,g,b,M,d5),n[Pi]=s.current,xm(n),new qm(s)},_f.hydrateRoot=function(n,s,l){if(!a(n))throw Error(r(299));var u=!1,g="",b=_2,M=w2,K=S2,fe=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(M=l.onCaughtError),l.onRecoverableError!==void 0&&(K=l.onRecoverableError),l.formState!==void 0&&(fe=l.formState)),s=n5(n,1,!0,s,l??null,u,g,fe,b,M,K,d5),s.context=i5(null),l=s.current,u=zs(),u=tn(u),g=Rt(u),g.callback=null,Zt(l,g,u),l=u,s.current.lanes=l,mt(s,l),So(s),n[Pi]=s.current,xm(n),new tp(s)},_f.version="19.2.0",_f}var A5;function B3(){if(A5)return Um.exports;A5=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Um.exports=I3(),Um.exports}var z3=B3();const N5=i=>{let e;const t=new Set,r=(d,m)=>{const x=typeof d=="function"?d(e):d;if(!Object.is(x,e)){const w=e;e=m??(typeof x!="object"||x===null)?x:Object.assign({},e,x),t.forEach(y=>y(e,w))}},a=()=>e,c={setState:r,getState:a,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=i(r,a,c);return c},q3=(i=>i?N5(i):N5),F3=i=>i;function P3(i,e=F3){const t=_n.useSyncExternalStore(i.subscribe,_n.useCallback(()=>e(i.getState()),[i,e]),_n.useCallback(()=>e(i.getInitialState()),[i,e]));return _n.useDebugValue(t),t}const U3=i=>{const e=q3(i),t=r=>P3(e,r);return Object.assign(t,e),t},V3=(i=>U3);function H3(i,e){let t;try{t=i()}catch{return}return{getItem:a=>{var o;const h=f=>f===null?null:JSON.parse(f,void 0),c=(o=t.getItem(a))!=null?o:null;return c instanceof Promise?c.then(h):h(c)},setItem:(a,o)=>t.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>t.removeItem(a)}}const w0=i=>e=>{try{const t=i(e);return t instanceof Promise?t:{then(r){return w0(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return w0(r)(t)}}}},G3=(i,e)=>(t,r,a)=>{let o={storage:H3(()=>localStorage),partialize:A=>A,version:0,merge:(A,E)=>({...E,...A}),...e},h=!1;const c=new Set,f=new Set;let d=o.storage;if(!d)return i((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...A)},r,a);const m=()=>{const A=o.partialize({...r()});return d.setItem(o.name,{state:A,version:o.version})},x=a.setState;a.setState=(A,E)=>(x(A,E),m());const w=i((...A)=>(t(...A),m()),r,a);a.getInitialState=()=>w;let y;const N=()=>{var A,E;if(!d)return;h=!1,c.forEach(U=>{var F;return U((F=r())!=null?F:w)});const C=((E=o.onRehydrateStorage)==null?void 0:E.call(o,(A=r())!=null?A:w))||void 0;return w0(d.getItem.bind(d))(o.name).then(U=>{if(U)if(typeof U.version=="number"&&U.version!==o.version){if(o.migrate){const F=o.migrate(U.state,U.version);return F instanceof Promise?F.then(q=>[!0,q]):[!0,F]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,U.state];return[!1,void 0]}).then(U=>{var F;const[q,z]=U;if(y=o.merge(z,(F=r())!=null?F:w),t(y,!0),q)return m()}).then(()=>{C?.(y,void 0),y=r(),h=!0,f.forEach(U=>U(y))}).catch(U=>{C?.(void 0,U)})};return a.persist={setOptions:A=>{o={...o,...A},A.storage&&(d=A.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>N(),hasHydrated:()=>h,onHydrate:A=>(c.add(A),()=>{c.delete(A)}),onFinishHydration:A=>(f.add(A),()=>{f.delete(A)})},o.skipHydration||N(),y||w},Y3=G3,Kc=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Ef=["C","G","D","A","E","B","F#","Db","Ab","Eb","Bb","F"],W3=[{major:"C",ii:"Dm",iii:"Em",diminished:"B"},{major:"G",ii:"Am",iii:"Bm",diminished:"F#"},{major:"D",ii:"Em",iii:"F#m",diminished:"C#"},{major:"A",ii:"Bm",iii:"C#m",diminished:"G#"},{major:"E",ii:"F#m",iii:"G#m",diminished:"D#"},{major:"B",ii:"C#m",iii:"D#m",diminished:"A#"},{major:"F#",ii:"G#m",iii:"A#m",diminished:"E#"},{major:"Db",ii:"Ebm",iii:"Fm",diminished:"C"},{major:"Ab",ii:"Bbm",iii:"Cm",diminished:"G"},{major:"Eb",ii:"Fm",iii:"Gm",diminished:"D"},{major:"Bb",ii:"Cm",iii:"Dm",diminished:"A"},{major:"F",ii:"Gm",iii:"Am",diminished:"E"}];function hl(i){return i.includes("b")&&{Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#",Cb:"B",Fb:"E"}[i]||i}const X3={7:"dominant7",9:"dominant9",11:"dominant11",13:"dominant13",maj7:"major7",maj9:"major9",maj11:"major11",maj13:"major13",6:"major6",add9:"add9",m7:"minor7",m9:"minor9",m11:"minor11",m13:"minor13",m6:"minor6",dim:"diminished",dim7:"diminished7",m7b5:"halfDiminished7","m75":"halfDiminished7",7:"halfDiminished7",sus2:"sus2",sus4:"sus4","7sus4":"dominant7sus4"},Z3={major:[0,4,7],minor:[0,3,7],diminished:[0,3,6],augmented:[0,4,8],sus2:[0,2,7],sus4:[0,5,7],major6:[0,4,7,9],minor6:[0,3,7,9],major7:[0,4,7,11],minor7:[0,3,7,10],dominant7:[0,4,7,10],diminished7:[0,3,6,9],halfDiminished7:[0,3,6,10],dominant7sus4:[0,5,7,10],add9:[0,4,7,14],major9:[0,4,7,11,14],minor9:[0,3,7,10,14],dominant9:[0,4,7,10,14],major11:[0,4,7,11,14,17],minor11:[0,3,7,10,14,17],dominant11:[0,4,7,10,14,17],major13:[0,4,7,11,14,21],minor13:[0,3,7,10,14,21],dominant13:[0,4,7,10,14,21]};function uh(i,e){const t=hl(i),r=Kc.indexOf(t);if(r===-1)return[];const a=X3[e]||e,o=Z3[a];return o?o.map(h=>Kc[(r+h)%12]):(console.warn(`Unknown chord quality: ${e} (resolved to ${a})`),Kc.slice(r,r+1).concat([Kc[(r+4)%12],Kc[(r+7)%12]]))}function K3(i){const e=["G","D","A","E","B","F#","C#"],t=["F","Bb","Eb","Ab","Db","Gb","Cb"],r=e.indexOf(i),a=t.indexOf(i);return r>=0?{sharps:r+1,flats:0}:a>=0?{sharps:0,flats:a+1}:{sharps:0,flats:0}}function Q0(){return{C:"hsl(48, 95%, 58%)",G:"hsl(72, 75%, 50%)",D:"hsl(95, 65%, 48%)",A:"hsl(160, 60%, 45%)",E:"hsl(185, 70%, 50%)",B:"hsl(205, 75%, 55%)","F#":"hsl(235, 60%, 58%)",Gb:"hsl(235, 60%, 58%)",Db:"hsl(265, 55%, 55%)",Ab:"hsl(285, 50%, 52%)",Eb:"hsl(315, 60%, 55%)",Bb:"hsl(350, 70%, 58%)",F:"hsl(28, 85%, 55%)"}}function Q3(i,e){const t=hl(i),r=hl(e),a=Kc.indexOf(t),o=Kc.indexOf(r);if(a===-1||o===-1)return"?";let h=(o-a+12)%12;return{0:"1",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[h]||"?"}function $3(i){const e=i.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);return e?parseInt(e[3])>55?"#000000":"#ffffff":"#000000"}const kr=[];for(let i=0;i<256;++i)kr.push((i+256).toString(16).slice(1));function J3(i,e=0){return(kr[i[e+0]]+kr[i[e+1]]+kr[i[e+2]]+kr[i[e+3]]+"-"+kr[i[e+4]]+kr[i[e+5]]+"-"+kr[i[e+6]]+kr[i[e+7]]+"-"+kr[i[e+8]]+kr[i[e+9]]+"-"+kr[i[e+10]]+kr[i[e+11]]+kr[i[e+12]]+kr[i[e+13]]+kr[i[e+14]]+kr[i[e+15]]).toLowerCase()}let Ym;const e4=new Uint8Array(16);function t4(){if(!Ym){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ym=crypto.getRandomValues.bind(crypto)}return Ym(e4)}const n4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C5={randomUUID:n4};function i4(i,e,t){i=i||{};const r=i.random??i.rng?.()??t4();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,J3(r)}function Ha(i,e,t){return C5.randomUUID&&!i?C5.randomUUID():i4(i)}const xs=[4,4],S0=(i=xs)=>{const[e,t]=i;return!e||!t?4:e*(4/t)},hh=i=>{const e=S0(i);return{id:Ha(),beats:[{id:Ha(),chord:null,duration:e}]}},Ao=i=>i?`${i.sectionId}:${i.slotId}`:"",$0=i=>{const e=[];return i.forEach(t=>{t.measures.forEach(r=>{r.beats.forEach(a=>{e.push({sectionId:t.id,slotId:a.id,chord:a.chord??null})})})}),e},Xc=(i,e)=>{if(!e)return null;for(const t of i)if(t.id===e.sectionId){for(const r of t.measures)for(const a of r.beats)if(a.id===e.slotId)return a.chord??null}return null},T5=(i,e)=>e?$0(i).findIndex(r=>r.sectionId===e.sectionId&&r.slotId===e.slotId):-1,r4=(i,e,t)=>{const r=$0(i),a=r.findIndex(f=>f.sectionId===e.sectionId&&f.slotId===e.slotId),o=r.findIndex(f=>f.sectionId===t.sectionId&&f.slotId===t.slotId);if(a===-1||o===-1)return[];const[h,c]=a<=o?[a,o]:[o,a];return r.slice(h,c+1).map(({sectionId:f,slotId:d})=>({sectionId:f,slotId:d}))},bp=(i,e)=>e?i.some(t=>t.id===e.sectionId&&t.measures.some(r=>r.beats.some(a=>a.id===e.slotId))):!1,sh=(i,e,t,r,a)=>{const o=e&&t?{sectionId:e,slotId:t}:null,h=r.filter(m=>bp(i,m)),c=bp(i,o),f=h[h.length-1]||(c?o:null),d=a&&bp(i,a);return{selectedSectionId:f?.sectionId??null,selectedSlotId:f?.slotId??null,selectedSlots:h,selectionAnchor:d?a:h[0]??f??null}},A0=100,Cf=i=>typeof structuredClone=="function"?structuredClone(i):JSON.parse(JSON.stringify(i)),Er=i=>{const e=Cf(i.currentSong),t=[...i.historyPast,e].slice(-A0);return{historyPast:t,historyFuture:[],canUndo:t.length>0,canRedo:!1}},E5=(i,e,t,r,a)=>{const o=sh(i.sections,e,t,r,a),h=o.selectedSectionId&&o.selectedSlotId?{sectionId:o.selectedSectionId,slotId:o.selectedSlotId}:null,c=h?Xc(i.sections,h):null;return{...o,selectedChord:c}},s4=(i,e,t)=>{let r=!1;for(const a of i)for(const o of a.measures)for(const h of o.beats){if(r)return{sectionId:a.id,slotId:h.id};a.id===e&&h.id===t&&(r=!0)}return null},wf={id:"default",title:"Untitled Song",artist:"",key:"C",tempo:120,timeSignature:[4,4],sections:[{id:"verse-1",name:"Verse 1",type:"verse",timeSignature:xs,measures:Array(4).fill(null).map(()=>hh(xs))},{id:"chorus-1",name:"Chorus",type:"chorus",timeSignature:xs,measures:Array(4).fill(null).map(()=>hh(xs))}],notes:"",createdAt:new Date,updatedAt:new Date},fa=V3()(Y3(i=>({currentSong:wf,historyPast:[],historyFuture:[],canUndo:!1,canRedo:!1,selectedKey:"C",wheelRotation:0,wheelMode:"fixed",chordPanelVisible:!0,timelineVisible:!0,collapsedSections:{},selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,isPlaying:!1,tempo:120,volume:.8,instrument:"piano",isMuted:!1,setKey:e=>i({selectedKey:e}),rotateWheel:e=>i(t=>({wheelRotation:t.wheelMode==="rotating"?t.wheelRotation+(e==="cw"?-30:30):0})),toggleWheelMode:()=>i(e=>{const t=e.wheelMode==="rotating"?"fixed":"rotating";let r=0;if(t==="rotating"){const a=Ef.indexOf(e.selectedKey);a!==-1&&(r=-(a*30))}return{wheelMode:t,wheelRotation:r}}),toggleChordPanel:()=>i(e=>({chordPanelVisible:!e.chordPanelVisible})),toggleTimeline:()=>i(e=>({timelineVisible:!e.timelineVisible})),toggleSectionCollapsed:e=>i(t=>{const r={...t.collapsedSections,[e]:!t.collapsedSections?.[e]};return r[e]||delete r[e],{collapsedSections:r}}),setSelectedChord:e=>i({selectedChord:e}),setSelectedSlot:(e,t)=>i(r=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,selectedChord:null};const a={sectionId:e,slotId:t},o=Xc(r.currentSong.sections,a);return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[a],selectionAnchor:a,selectedChord:o??null}}),setSelectedSlots:e=>i(t=>{const r=e.filter(Boolean),a=r[r.length-1]??null,o=Xc(t.currentSong.sections,a);return{selectedSlots:r,selectedSectionId:a?.sectionId??null,selectedSlotId:a?.slotId??null,selectionAnchor:r[0]??a??null,selectedChord:o??null}}),toggleSlotSelection:(e,t)=>i(r=>{const a=r.selectedSlots.some(d=>d.sectionId===e&&d.slotId===t),o=a?r.selectedSlots.filter(d=>!(d.sectionId===e&&d.slotId===t)):[...r.selectedSlots,{sectionId:e,slotId:t}],h=o[o.length-1]??null,c=Xc(r.currentSong.sections,h),f=a&&r.selectionAnchor&&Ao(r.selectionAnchor)===Ao({sectionId:e,slotId:t});return{selectedSlots:o,selectedSectionId:h?.sectionId??null,selectedSlotId:h?.slotId??null,selectionAnchor:f?o[0]??h??null:r.selectionAnchor??h??null,selectedChord:c??null}}),selectRangeTo:(e,t)=>i(r=>{const a={sectionId:e,slotId:t},o=r.selectionAnchor||r.selectedSlots[r.selectedSlots.length-1]||(r.selectedSectionId&&r.selectedSlotId?{sectionId:r.selectedSectionId,slotId:r.selectedSlotId}:a),c=bp(r.currentSong.sections,o)?o:a,f=r4(r.currentSong.sections,c,a),d=f.length?f:[a],m=Xc(r.currentSong.sections,a);return{selectedSlots:d,selectedSectionId:a.sectionId,selectedSlotId:a.slotId,selectionAnchor:c,selectedChord:m??null}}),moveSelection:(e,t,r="move")=>{let a=!1;return i(o=>{const h=$0(o.currentSong.sections),c=T5(o.currentSong.sections,e),f=T5(o.currentSong.sections,t);if(c===-1||f===-1)return{};const m=(o.selectedSlots.length?o.selectedSlots:[e]).map(D=>{const R=h.findIndex(Z=>Z.sectionId===D.sectionId&&Z.slotId===D.slotId);return R>=0?{idx:R,slot:h[R]}:null}).filter(D=>!!D).sort((D,R)=>D.idx-R.idx);if(!m.length)return{};const x=f-c,w=m.map(({idx:D})=>D+x);if(w.some(D=>D<0||D>=h.length))return{};const y=w.map(D=>h[D]);if(m.length===1&&r==="move"){const D=m[0].slot,R=y[0],Z=Er(o),O=o.currentSong.sections.map(ee=>({...ee,measures:ee.measures.map(ie=>({...ie,beats:ie.beats.map(ce=>ce.id===D.slotId&&ee.id===D.sectionId?{...ce,chord:R.chord}:ce.id===R.slotId&&ee.id===R.sectionId?{...ce,chord:D.chord}:ce)}))}));a=!0;const j=o.selectionAnchor&&Ao(o.selectionAnchor)===Ao(e),V=sh(O,t.sectionId,t.slotId,[{sectionId:R.sectionId,slotId:R.slotId}],j?{sectionId:R.sectionId,slotId:R.slotId}:o.selectionAnchor),J=V.selectedSectionId&&V.selectedSlotId?{sectionId:V.selectedSectionId,slotId:V.selectedSlotId}:null,ue=Xc(O,J);return{...Z,currentSong:{...o.currentSong,sections:O},selectedSectionId:V.selectedSectionId,selectedSlotId:V.selectedSlotId,selectedSlots:V.selectedSlots,selectionAnchor:V.selectionAnchor,selectedChord:ue??null}}const N=new Map;m.forEach((D,R)=>{N.set(Ao(y[R]),D.slot.chord??null)});const A=new Set;r==="move"&&m.forEach((D,R)=>{const Z=Ao(D.slot),O=Ao(y[R]);Z!==O&&A.add(Z)});const E=Er(o),C=o.currentSong.sections.map(D=>({...D,measures:D.measures.map(R=>({...R,beats:R.beats.map(Z=>{const O=Ao({sectionId:D.id,slotId:Z.id});return N.has(O)?{...Z,chord:N.get(O)??null}:A.has(O)?{...Z,chord:null}:Z})}))}));a=!0;const U=Ao(o.selectionAnchor),F=m.find(D=>Ao(D.slot)===U),q=F?{sectionId:y[m.indexOf(F)].sectionId,slotId:y[m.indexOf(F)].slotId}:o.selectionAnchor,z=sh(C,t.sectionId,t.slotId,y.map(D=>({sectionId:D.sectionId,slotId:D.slotId})),q??null),$=z.selectedSectionId&&z.selectedSlotId?{sectionId:z.selectedSectionId,slotId:z.selectedSlotId}:null,Y=Xc(C,$);return{...E,currentSong:{...o.currentSong,sections:C},selectedSectionId:z.selectedSectionId,selectedSlotId:z.selectedSlotId,selectedSlots:z.selectedSlots,selectionAnchor:z.selectionAnchor,selectedChord:Y??null}}),a},selectNextSlotAfter:(e,t)=>{let r=!1;return i(a=>{const o=s4(a.currentSong.sections,e,t);if(!o)return{};const h=a.currentSong.sections.find(c=>c.id===o.sectionId)?.measures.flatMap(c=>c.beats).find(c=>c.id===o.slotId)?.chord??null;return r=!0,{selectedSectionId:o.sectionId,selectedSlotId:o.slotId,selectedChord:h,selectedSlots:[{sectionId:o.sectionId,slotId:o.slotId}],selectionAnchor:{sectionId:o.sectionId,slotId:o.slotId}}}),r},setTempo:e=>i(t=>({...Er(t),tempo:e,currentSong:{...t.currentSong,tempo:e}})),setVolume:e=>i({volume:e}),setInstrument:e=>i({instrument:e}),setIsPlaying:e=>i({isPlaying:e}),toggleMute:()=>i(e=>({isMuted:!e.isMuted})),setTitle:e=>i(t=>({...Er(t),currentSong:{...t.currentSong,title:e}})),loadSong:e=>i(t=>{const r=e.key||"C",a=e.tempo??wf.tempo;let o=0;if(t.wheelMode==="rotating"){const c=Ef.indexOf(r);c!==-1&&(o=-(c*30))}return{...Er(t),currentSong:{...e,tempo:a},selectedKey:r,wheelRotation:o,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:a}}),newSong:()=>i(e=>({...Er(e),currentSong:{...wf,id:Ha(),title:"Untitled Song",createdAt:new Date,updatedAt:new Date,tempo:wf.tempo,sections:[{id:Ha(),name:"Verse 1",type:"verse",timeSignature:xs,measures:Array(4).fill(null).map(()=>hh(xs))},{id:Ha(),name:"Chorus",type:"chorus",timeSignature:xs,measures:Array(4).fill(null).map(()=>hh(xs))}]},selectedKey:"C",wheelRotation:0,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:wf.tempo})),addSection:e=>i(t=>{const r={id:Ha(),name:e.charAt(0).toUpperCase()+e.slice(1),type:e,timeSignature:t.currentSong.timeSignature||xs,measures:Array(4).fill(null).map(()=>hh(t.currentSong.timeSignature||xs))};return{...Er(t),currentSong:{...t.currentSong,sections:[...t.currentSong.sections,r]}}}),updateSection:(e,t)=>i(r=>({...Er(r),currentSong:{...r.currentSong,sections:r.currentSong.sections.map(o=>o.id===e?{...o,...t}:o)}})),removeSection:e=>i(t=>{const r=Er(t),{[e]:a,...o}=t.collapsedSections||{};return{...r,currentSong:{...t.currentSong,sections:t.currentSong.sections.filter(h=>h.id!==e)},collapsedSections:o}}),duplicateSection:e=>i(t=>{const r=t.currentSong.sections.find(f=>f.id===e);if(!r)return{};const a=Er(t),o={...r,id:Ha(),name:`${r.name} (Copy)`,timeSignature:r.timeSignature||t.currentSong.timeSignature||xs,measures:r.measures.map(f=>({...f,id:Ha(),beats:f.beats.map(d=>({...d,id:Ha()}))}))},h=t.currentSong.sections.findIndex(f=>f.id===e),c=[...t.currentSong.sections];return c.splice(h+1,0,o),{...a,currentSong:{...t.currentSong,sections:c}}}),reorderSections:e=>i(t=>({...Er(t),currentSong:{...t.currentSong,sections:e}})),setSectionMeasures:(e,t)=>i(r=>{const a=Math.max(1,Math.min(32,Math.round(t))),o=r.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||r.currentSong.timeSignature||xs;let m=[...f.measures];if(m.length<a)for(;m.length<a;)m.push(hh(d));else m.length>a&&(m=m.slice(0,a));return{...f,measures:m}}),h=sh(o,r.selectedSectionId,r.selectedSlotId,r.selectedSlots,r.selectionAnchor);return{...Er(r),currentSong:{...r.currentSong,sections:o},...h}}),setSectionTimeSignature:(e,t)=>i(r=>{const a=r.currentSong.sections.map(c=>{if(c.id!==e)return c;const f=S0(t);return{...c,timeSignature:t,measures:c.measures.map(d=>({...d,beats:[{id:Ha(),chord:null,duration:f}]}))}}),o=sh(a,r.selectedSectionId,r.selectedSlotId,r.selectedSlots,r.selectionAnchor);return{...Er(r),currentSong:{...r.currentSong,sections:a},...o}}),setMeasureSubdivision:(e,t,r)=>i(a=>{const o=Math.max(1,Math.min(16,Math.round(r))),h=a.currentSong.sections.map(d=>{if(d.id!==e)return d;const m=d.timeSignature||a.currentSong.timeSignature||xs,x=S0(m);return{...d,measures:d.measures.map(w=>{if(w.id!==t)return w;const y=x/o,N=Array.from({length:o}).map((A,E)=>{const C=w.beats[E];return{id:C?.id??Ha(),chord:C?.chord??null,duration:y}});return{...w,beats:N}})}}),c=sh(h,a.selectedSectionId,a.selectedSlotId,a.selectedSlots,a.selectionAnchor);return{...Er(a),currentSong:{...a.currentSong,sections:h},...c}}),addChordToSlot:(e,t,r)=>i(a=>{const o=Er(a),h=a.currentSong.sections.map(c=>c.id!==t?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==r?d:{...d,chord:e})}))});return{...o,currentSong:{...a.currentSong,sections:h}}}),clearSlot:(e,t)=>i(r=>{if(!r.currentSong.sections.some(c=>c.id===e&&c.measures.some(f=>f.beats.some(d=>d.id===t&&d.chord))))return{};const o=Er(r),h=r.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==t?d:{...d,chord:null})}))});return{...o,currentSong:{...r.currentSong,sections:h}}}),moveChord:(e,t,r,a)=>i(o=>{let h=null,c=null;if(o.currentSong.sections.forEach(m=>{m.measures.forEach(x=>{x.beats.forEach(w=>{w.id===t&&(h=w.chord),w.id===a&&(c=w.chord)})})}),!h&&!c)return{};const f=Er(o),d=o.currentSong.sections.map(m=>({...m,measures:m.measures.map(x=>({...x,beats:x.beats.map(w=>w.id===t?{...w,chord:c}:w.id===a?{...w,chord:h}:w)}))}));return{...f,currentSong:{...o.currentSong,sections:d}}}),undo:()=>i(e=>{if(!e.historyPast.length)return{};const t=e.historyPast[e.historyPast.length-1],r=e.historyPast.slice(0,-1),a=[Cf(e.currentSong),...e.historyFuture].slice(0,A0),o=E5(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Cf(t),historyPast:r,historyFuture:a,canUndo:r.length>0,canRedo:a.length>0,tempo:t.tempo??e.tempo,...o}}),redo:()=>i(e=>{if(!e.historyFuture.length)return{};const t=e.historyFuture[0],r=e.historyFuture.slice(1),a=[...e.historyPast,Cf(e.currentSong)].slice(-A0),o=E5(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Cf(t),historyPast:a,historyFuture:r,canUndo:a.length>0,canRedo:r.length>0,tempo:t.tempo??e.tempo,...o}})}),{name:"songwriter-wheel-storage",partialize:i=>({currentSong:i.currentSong,tempo:i.tempo,volume:i.volume,instrument:i.instrument,isMuted:i.isMuted})}));function sc(i,e,t,r){const a=(r-90)*Math.PI/180;return{x:i+t*Math.cos(a),y:e+t*Math.sin(a)}}function a4(i,e,t,r,a){const o=sc(i,e,t,r),h=sc(i,e,t,a),c=a-r<=180?"0":"1";return["M",o.x,o.y,"A",t,t,0,c,1,h.x,h.y].join(" ")}function o4(i,e,t,r,a,o){const h=sc(i,e,r,o),c=sc(i,e,r,a),f=sc(i,e,t,o),d=sc(i,e,t,a),m=o-a<=180?"0":"1";return["M",h.x,h.y,"A",r,r,0,m,0,c.x,c.y,"L",d.x,d.y,"A",t,t,0,m,1,f.x,f.y,"Z"].join(" ")}function jb(i){var e,t,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(e=0;e<a;e++)i[e]&&(t=jb(i[e]))&&(r&&(r+=" "),r+=t)}else for(t in i)i[t]&&(r&&(r+=" "),r+=t);return r}function Fs(){for(var i,e,t=0,r="",a=arguments.length;t<a;t++)(i=arguments[t])&&(e=jb(i))&&(r&&(r+=" "),r+=e);return r}const Rb="15.1.22",k5=(i,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:i}),O5=(i,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:i}),N0=(i,e)=>({startTime:e,type:"setValue",value:i}),Ib=(i,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:i}),Bb=(i,e,{startTime:t,target:r,timeConstant:a})=>r+(e-r)*Math.exp((t-i)/a),fh=i=>i.type==="exponentialRampToValue",kp=i=>i.type==="linearRampToValue",ic=i=>fh(i)||kp(i),J0=i=>i.type==="setValue",cl=i=>i.type==="setValueCurve",Op=(i,e,t,r)=>{const a=i[e];return a===void 0?r:ic(a)||J0(a)?a.value:cl(a)?a.values[a.values.length-1]:Bb(t,Op(i,e-1,a.startTime,r),a)},M5=(i,e,t,r,a)=>t===void 0?[r.insertTime,a]:ic(t)?[t.endTime,t.value]:J0(t)?[t.startTime,t.value]:cl(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,Op(i,e-1,t.startTime,a)],C0=i=>i.type==="cancelAndHold",T0=i=>i.type==="cancelScheduledValues",ec=i=>C0(i)||T0(i)?i.cancelTime:fh(i)||kp(i)?i.endTime:i.startTime,L5=(i,e,t,{endTime:r,value:a})=>t===a?a:0<t&&0<a||t<0&&a<0?t*(a/t)**((i-e)/(r-e)):0,D5=(i,e,t,{endTime:r,value:a})=>t+(i-e)/(r-e)*(a-t),l4=(i,e)=>{const t=Math.floor(e),r=Math.ceil(e);return t===r?i[t]:(1-(e-t))*i[t]+(1-(r-e))*i[r]},c4=(i,{duration:e,startTime:t,values:r})=>{const a=(i-t)/e*(r.length-1);return l4(r,a)},ip=i=>i.type==="setTarget";class u4{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=ec(e);if(C0(e)||T0(e)){const r=this._automationEvents.findIndex(o=>T0(e)&&cl(o)?o.startTime+o.duration>=t:ec(o)>=t),a=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),C0(e)){const o=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&ic(a)){if(o!==void 0&&ip(o))throw new Error("The internal list is malformed.");const h=o===void 0?a.insertTime:cl(o)?o.startTime+o.duration:ec(o),c=o===void 0?this._defaultValue:cl(o)?o.values[o.values.length-1]:o.value,f=fh(a)?L5(t,h,c,a):D5(t,h,c,a),d=fh(a)?k5(f,t,this._currenTime):O5(f,t,this._currenTime);this._automationEvents.push(d)}if(o!==void 0&&ip(o)&&this._automationEvents.push(N0(this.getValue(t),t)),o!==void 0&&cl(o)&&o.startTime+o.duration>t){const h=t-o.startTime,c=(o.values.length-1)/o.duration,f=Math.max(2,1+Math.ceil(h*c)),d=h/(f-1)*c,m=o.values.slice(0,f);if(d<1)for(let x=1;x<f;x+=1){const w=d*x%1;m[x]=o.values[x-1]*(1-w)+o.values[x]*w}this._automationEvents[this._automationEvents.length-1]=Ib(m,o.startTime,h)}}}else{const r=this._automationEvents.findIndex(h=>ec(h)>t),a=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(a!==void 0&&cl(a)&&ec(a)+a.duration>t)return!1;const o=fh(e)?k5(e.value,e.endTime,this._currenTime):kp(e)?O5(e.value,t,this._currenTime):e;if(r===-1)this._automationEvents.push(o);else{if(cl(e)&&t+e.duration>ec(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,o)}}return!0}flush(e){const t=this._automationEvents.findIndex(r=>ec(r)>e);if(t>1){const r=this._automationEvents.slice(t-1),a=r[0];ip(a)&&r.unshift(N0(Op(this._automationEvents,t-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(h=>ec(h)>e),r=this._automationEvents[t],a=(t===-1?this._automationEvents.length:t)-1,o=this._automationEvents[a];if(o!==void 0&&ip(o)&&(r===void 0||!ic(r)||r.insertTime>e))return Bb(e,Op(this._automationEvents,a-1,o.startTime,this._defaultValue),o);if(o!==void 0&&J0(o)&&(r===void 0||!ic(r)))return o.value;if(o!==void 0&&cl(o)&&(r===void 0||!ic(r)||o.startTime+o.duration>e))return e<o.startTime+o.duration?c4(e,o):o.values[o.values.length-1];if(o!==void 0&&ic(o)&&(r===void 0||!ic(r)))return o.value;if(r!==void 0&&fh(r)){const[h,c]=M5(this._automationEvents,a,o,r,this._defaultValue);return L5(e,h,c,r)}if(r!==void 0&&kp(r)){const[h,c]=M5(this._automationEvents,a,o,r,this._defaultValue);return D5(e,h,c,r)}return this._defaultValue}}const h4=i=>({cancelTime:i,type:"cancelAndHold"}),f4=i=>({cancelTime:i,type:"cancelScheduledValues"}),d4=(i,e)=>({endTime:e,type:"exponentialRampToValue",value:i}),p4=(i,e)=>({endTime:e,type:"linearRampToValue",value:i}),m4=(i,e,t)=>({startTime:e,target:i,timeConstant:t,type:"setTarget"}),g4=()=>new DOMException("","AbortError"),v4=i=>(e,t,[r,a,o],h)=>{i(e[a],[t,r,o],c=>c[0]===t&&c[1]===r,h)},y4=i=>(e,t,r)=>{const a=[];for(let o=0;o<r.numberOfInputs;o+=1)a.push(new Set);i.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},b4=i=>(e,t)=>{i.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},Sh=new WeakSet,zb=new WeakMap,eg=new WeakMap,qb=new WeakMap,tg=new WeakMap,t1=new WeakMap,Fb=new WeakMap,E0=new WeakMap,k0=new WeakMap,O0=new WeakMap,Pb={construct(){return Pb}},x4=i=>{try{const e=new Proxy(i,Pb);new e}catch{return!1}return!0},j5=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,R5=(i,e)=>{const t=[];let r=i.replace(/^[\s]+/,""),a=r.match(j5);for(;a!==null;){const o=a[1].slice(1,-1),h=a[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,e).toString());t.push(h),r=r.slice(a[0].length).replace(/^[\s]+/,""),a=r.match(j5)}return[t.join(";"),r]},I5=i=>{if(i!==void 0&&!Array.isArray(i))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},B5=i=>{if(!x4(i))throw new TypeError("The given value for processorCtor should be a constructor.");if(i.prototype===null||typeof i.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},_4=(i,e,t,r,a,o,h,c,f,d,m,x,w)=>{let y=0;return(N,A,E={credentials:"omit"})=>{const C=m.get(N);if(C!==void 0&&C.has(A))return Promise.resolve();const U=d.get(N);if(U!==void 0){const z=U.get(A);if(z!==void 0)return z}const F=o(N),q=F.audioWorklet===void 0?a(A).then(([z,$])=>{const[Y,D]=R5(z,$),R=`${Y};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${D}
})})(window,'_AWGS')`;return t(R)}).then(()=>{const z=w._AWGS.pop();if(z===void 0)throw new SyntaxError;r(F.currentTime,F.sampleRate,()=>z(class{},void 0,($,Y)=>{if($.trim()==="")throw e();const D=k0.get(F);if(D!==void 0){if(D.has($))throw e();B5(Y),I5(Y.parameterDescriptors),D.set($,Y)}else B5(Y),I5(Y.parameterDescriptors),k0.set(F,new Map([[$,Y]]))},F.sampleRate,void 0,void 0))}):Promise.all([a(A),Promise.resolve(i(x,x))]).then(([[z,$],Y])=>{const D=y+1;y=D;const[R,Z]=R5(z,$),J=`${R};((AudioWorkletProcessor,registerProcessor)=>{${Z}
})(${Y?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${Y?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${Y?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${D}',class extends AudioWorkletProcessor{process(){return !1}})`,ue=new Blob([J],{type:"application/javascript; charset=utf-8"}),ee=URL.createObjectURL(ue);return F.audioWorklet.addModule(ee,E).then(()=>{if(c(F))return F;const ie=h(F);return ie.audioWorklet.addModule(ee,E).then(()=>ie)}).then(ie=>{if(f===null)throw new SyntaxError;try{new f(ie,`__sac${D}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(ee))});return U===void 0?d.set(N,new Map([[A,q]])):U.set(A,q),q.then(()=>{const z=m.get(N);z===void 0?m.set(N,new Set([A])):z.add(A)}).finally(()=>{const z=d.get(N);z!==void 0&&z.delete(A)}),q}},Za=(i,e)=>{const t=i.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},n1=(i,e)=>{const t=Array.from(i).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[r]=t;return i.delete(r),r},Ub=(i,e,t,r)=>{const a=Za(i,e),o=n1(a,h=>h[0]===t&&h[1]===r);return a.size===0&&i.delete(e),o},Xf=i=>Za(Fb,i),Ah=i=>{if(Sh.has(i))throw new Error("The AudioNode is already stored.");Sh.add(i),Xf(i).forEach(e=>e(!0))},Vb=i=>"port"in i,Zf=i=>{if(!Sh.has(i))throw new Error("The AudioNode is not stored.");Sh.delete(i),Xf(i).forEach(e=>e(!1))},M0=(i,e)=>{!Vb(i)&&e.every(t=>t.size===0)&&Zf(i)},w4=(i,e,t,r,a,o,h,c,f,d,m,x,w)=>{const y=new WeakMap;return(N,A,E,C,U)=>{const{activeInputs:F,passiveInputs:q}=o(A),{outputs:z}=o(N),$=c(N),Y=D=>{const R=f(A),Z=f(N);if(D){const O=Ub(q,N,E,C);i(F,N,O,!1),!U&&!x(N)&&t(Z,R,E,C),w(A)&&Ah(A)}else{const O=r(F,N,E,C);e(q,C,O,!1),!U&&!x(N)&&a(Z,R,E,C);const j=h(A);if(j===0)m(A)&&M0(A,F);else{const V=y.get(A);V!==void 0&&clearTimeout(V),y.set(A,setTimeout(()=>{m(A)&&M0(A,F)},j*1e3))}}};return d(z,[A,E,C],D=>D[0]===A&&D[1]===E&&D[2]===C,!0)?($.add(Y),m(N)?i(F,N,[E,C,Y],!0):e(q,C,[N,E,Y],!0),!0):!1}},S4=i=>(e,t,[r,a,o],h)=>{const c=e.get(r);c===void 0?e.set(r,new Set([[a,t,o]])):i(c,[a,t,o],f=>f[0]===a&&f[1]===t,h)},A4=i=>(e,t)=>{const r=i(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(r).connect(e.destination);const a=()=>{t.removeEventListener("ended",a),t.disconnect(r),r.disconnect()};t.addEventListener("ended",a)},N4=i=>(e,t)=>{i(e).add(t)},C4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},T4=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=a(c),m={...C4,...f},x=r(d,m),w=o(d)?e():null;super(c,!1,x,w),this._nativeAnalyserNode=x}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=f,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},Fr=(i,e)=>i.context===e,E4=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Fr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=i(h,d)}return r.set(h,c),await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},Mp=i=>{try{i.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Oo=()=>new DOMException("","IndexSizeError"),ng=i=>{i.getChannelData=(e=>t=>{try{return e.call(i,t)}catch(r){throw r.code===12?Oo():r}})(i.getChannelData)},k4={numberOfChannels:1},O4=(i,e,t,r,a,o,h,c)=>{let f=null;return class Hb{constructor(m){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:x,numberOfChannels:w,sampleRate:y}={...k4,...m};f===null&&(f=new a(1,1,44100));const N=r!==null&&e(o,o)?new r({length:x,numberOfChannels:w,sampleRate:y}):f.createBuffer(w,x,y);if(N.numberOfChannels===0)throw t();return typeof N.copyFromChannel!="function"?(h(N),ng(N)):e(Mp,()=>Mp(N))||c(N),i.add(N),N}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===Hb.prototype||i.has(m)}}},_s=-34028234663852886e22,$r=-_s,fl=i=>Sh.has(i),M4={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},L4=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const x=o(d),w={...M4,...m},y=a(x,w),N=h(x),A=N?e():null;super(d,!1,y,A),this._audioBufferSourceNodeRenderer=A,this._isBufferNullified=!1,this._isBufferSet=w.buffer!==null,this._nativeAudioBufferSourceNode=y,this._onended=null,this._playbackRate=t(this,N,y.playbackRate,$r,_s)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const m=typeof d=="function"?c(this,d):null;this._nativeAudioBufferSourceNode.onended=m;const x=this._nativeAudioBufferSourceNode.onended;this._onended=x!==null&&x===m?d:x}get playbackRate(){return this._playbackRate}start(d=0,m=0,x){if(this._nativeAudioBufferSourceNode.start(d,m,x),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=x===void 0?[d,m]:[d,m,x]),this.context.state!=="closed"){Ah(this);const w=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",w),fl(this)&&Zf(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",w)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},D4=(i,e,t,r,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let x=t(d);const w=Fr(x,m);if(!w){const y={buffer:x.buffer,channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,loop:x.loop,loopEnd:x.loopEnd,loopStart:x.loopStart,playbackRate:x.playbackRate.value};x=e(m,y),h!==null&&x.start(...h),c!==null&&x.stop(c)}return o.set(m,x),w?await i(m,d.playbackRate,x.playbackRate):await r(m,d.playbackRate,x.playbackRate),await a(d,m,x),x};return{set start(d){h=d},set stop(d){c=d},render(d,m){const x=o.get(m);return x!==void 0?Promise.resolve(x):f(d,m)}}},j4=i=>"playbackRate"in i,R4=i=>"frequency"in i&&"gain"in i,I4=i=>"offset"in i,B4=i=>!("frequency"in i)&&"gain"in i,z4=i=>"detune"in i&&"frequency"in i&&!("gain"in i),q4=i=>"pan"in i,Jr=i=>Za(zb,i),Kf=i=>Za(qb,i),L0=(i,e)=>{const{activeInputs:t}=Jr(i);t.forEach(a=>a.forEach(([o])=>{e.includes(i)||L0(o,[...e,i])}));const r=j4(i)?[i.playbackRate]:Vb(i)?Array.from(i.parameters.values()):R4(i)?[i.Q,i.detune,i.frequency,i.gain]:I4(i)?[i.offset]:B4(i)?[i.gain]:z4(i)?[i.detune,i.frequency]:q4(i)?[i.pan]:[];for(const a of r){const o=Kf(a);o!==void 0&&o.activeInputs.forEach(([h])=>L0(h,e))}fl(i)&&Zf(i)},Gb=i=>{L0(i.destination,[])},F4=i=>i===void 0||typeof i=="number"||typeof i=="string"&&(i==="balanced"||i==="interactive"||i==="playback"),P4=(i,e,t,r,a,o,h,c,f)=>class extends i{constructor(m={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let x;try{x=new f(m)}catch(N){throw N.code===12&&N.message==="sampleRate is not in range"?t():N}if(x===null)throw r();if(!F4(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&x.sampleRate!==m.sampleRate)throw t();super(x,2);const{latencyHint:w}=m,{sampleRate:y}=x;if(this._baseLatency=typeof x.baseLatency=="number"?x.baseLatency:w==="balanced"?512/y:w==="interactive"||w===void 0?256/y:w==="playback"?1024/y:Math.max(2,Math.min(128,Math.round(w*y/128)))*128/y,this._nativeAudioContext=x,f.name==="webkitAudioContext"?(this._nativeGainNode=x.createGain(),this._nativeOscillatorNode=x.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(x.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,x.state==="running"){this._state="suspended";const N=()=>{this._state==="suspended"&&(this._state=null),x.removeEventListener("statechange",N)};x.addEventListener("statechange",N)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Gb(this)}))}createMediaElementSource(m){return new a(this,{mediaElement:m})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(m){return new h(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new c(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,x)=>{const w=()=>{this._nativeAudioContext.removeEventListener("statechange",w),this._nativeAudioContext.state==="running"?m():this.resume().then(m,x)};this._nativeAudioContext.addEventListener("statechange",w)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?e():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?e():m})}},U4=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const x=o(d),w=h(x),y=a(x,m,w),N=w?e(c):null;super(d,!1,y,N),this._isNodeOfNativeOfflineAudioContext=w,this._nativeAudioDestinationNode=y}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},V4=i=>{const e=new WeakMap,t=async(r,a)=>{const o=a.destination;return e.set(a,o),await i(r,a,o),o};return{render(r,a){const o=e.get(a);return o!==void 0?Promise.resolve(o):t(r,a)}}},H4=(i,e,t,r,a,o,h,c)=>(f,d)=>{const m=d.listener,x=()=>{const z=new Float32Array(1),$=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),Y=h(d);let D=!1,R=[0,0,-1,0,1,0],Z=[0,0,0];const O=()=>{if(D)return;D=!0;const ue=r(d,256,9,0);ue.onaudioprocess=({inputBuffer:ee})=>{const ie=[o(ee,z,0),o(ee,z,1),o(ee,z,2),o(ee,z,3),o(ee,z,4),o(ee,z,5)];ie.some((he,we)=>he!==R[we])&&(m.setOrientation(...ie),R=ie);const ce=[o(ee,z,6),o(ee,z,7),o(ee,z,8)];ce.some((he,we)=>he!==Z[we])&&(m.setPosition(...ce),Z=ce)},$.connect(ue)},j=ue=>ee=>{ee!==R[ue]&&(R[ue]=ee,m.setOrientation(...R))},V=ue=>ee=>{ee!==Z[ue]&&(Z[ue]=ee,m.setPosition(...Z))},J=(ue,ee,ie)=>{const ce=t(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ee});ce.connect($,0,ue),ce.start(),Object.defineProperty(ce.offset,"defaultValue",{get(){return ee}});const he=i({context:f},Y,ce.offset,$r,_s);return c(he,"value",we=>()=>we.call(he),we=>X=>{try{we.call(he,X)}catch(T){if(T.code!==9)throw T}O(),Y&&ie(X)}),he.cancelAndHoldAtTime=(we=>Y?()=>{throw a()}:(...X)=>{const T=we.apply(he,X);return O(),T})(he.cancelAndHoldAtTime),he.cancelScheduledValues=(we=>Y?()=>{throw a()}:(...X)=>{const T=we.apply(he,X);return O(),T})(he.cancelScheduledValues),he.exponentialRampToValueAtTime=(we=>Y?()=>{throw a()}:(...X)=>{const T=we.apply(he,X);return O(),T})(he.exponentialRampToValueAtTime),he.linearRampToValueAtTime=(we=>Y?()=>{throw a()}:(...X)=>{const T=we.apply(he,X);return O(),T})(he.linearRampToValueAtTime),he.setTargetAtTime=(we=>Y?()=>{throw a()}:(...X)=>{const T=we.apply(he,X);return O(),T})(he.setTargetAtTime),he.setValueAtTime=(we=>Y?()=>{throw a()}:(...X)=>{const T=we.apply(he,X);return O(),T})(he.setValueAtTime),he.setValueCurveAtTime=(we=>Y?()=>{throw a()}:(...X)=>{const T=we.apply(he,X);return O(),T})(he.setValueCurveAtTime),he};return{forwardX:J(0,0,j(0)),forwardY:J(1,0,j(1)),forwardZ:J(2,-1,j(2)),positionX:J(6,0,V(0)),positionY:J(7,0,V(1)),positionZ:J(8,0,V(2)),upX:J(3,0,j(3)),upY:J(4,1,j(4)),upZ:J(5,0,j(5))}},{forwardX:w,forwardY:y,forwardZ:N,positionX:A,positionY:E,positionZ:C,upX:U,upY:F,upZ:q}=m.forwardX===void 0?x():m;return{get forwardX(){return w},get forwardY(){return y},get forwardZ(){return N},get positionX(){return A},get positionY(){return E},get positionZ(){return C},get upX(){return U},get upY(){return F},get upZ(){return q}}},Lp=i=>"context"in i,Qf=i=>Lp(i[0]),ou=(i,e,t,r)=>{for(const a of i)if(t(a)){if(r)return!1;throw Error("The set contains at least one similar element.")}return i.add(e),!0},z5=(i,e,[t,r],a)=>{ou(i,[e,t,r],o=>o[0]===e&&o[1]===t,a)},q5=(i,[e,t,r],a)=>{const o=i.get(e);o===void 0?i.set(e,new Set([[t,r]])):ou(o,[t,r],h=>h[0]===t,a)},Th=i=>"inputs"in i,Dp=(i,e,t,r)=>{if(Th(e)){const a=e.inputs[r];return i.connect(a,t,0),[a,t,0]}return i.connect(e,t,r),[e,t,r]},Yb=(i,e,t)=>{for(const r of i)if(r[0]===e&&r[1]===t)return i.delete(r),r;return null},G4=(i,e,t)=>n1(i,r=>r[0]===e&&r[1]===t),Wb=(i,e)=>{if(!Xf(i).delete(e))throw new Error("Missing the expected event listener.")},Xb=(i,e,t)=>{const r=Za(i,e),a=n1(r,o=>o[0]===t);return r.size===0&&i.delete(e),a},jp=(i,e,t,r)=>{Th(e)?i.disconnect(e.inputs[r],t,0):i.disconnect(e,t,r)},li=i=>Za(eg,i),Bf=i=>Za(tg,i),iu=i=>E0.has(i),xp=i=>!Sh.has(i),F5=(i,e)=>new Promise(t=>{if(e!==null)t(!0);else{const r=i.createScriptProcessor(256,1,1),a=i.createGain(),o=i.createBuffer(1,2,44100),h=o.getChannelData(0);h[0]=1,h[1]=1;const c=i.createBufferSource();c.buffer=o,c.loop=!0,c.connect(r).connect(i.destination),c.connect(a),c.disconnect(a),r.onaudioprocess=f=>{const d=f.inputBuffer.getChannelData(0);Array.prototype.some.call(d,m=>m===1)?t(!0):t(!1),c.stop(),r.onaudioprocess=null,c.disconnect(r),r.disconnect(i.destination)},c.start()}}),Wm=(i,e)=>{const t=new Map;for(const r of i)for(const a of r){const o=t.get(a);t.set(a,o===void 0?1:o+1)}t.forEach((r,a)=>e(a,r))},Rp=i=>"context"in i,Y4=i=>{const e=new Map;i.connect=(t=>(r,a=0,o=0)=>{const h=Rp(r)?t(r,a,o):t(r,a),c=e.get(r);return c===void 0?e.set(r,[{input:o,output:a}]):c.every(f=>f.input!==o||f.output!==a)&&c.push({input:o,output:a}),h})(i.connect.bind(i)),i.disconnect=(t=>(r,a,o)=>{if(t.apply(i),r===void 0)e.clear();else if(typeof r=="number")for(const[h,c]of e){const f=c.filter(d=>d.output!==r);f.length===0?e.delete(h):e.set(h,f)}else if(e.has(r))if(a===void 0)e.delete(r);else{const h=e.get(r);if(h!==void 0){const c=h.filter(f=>f.output!==a&&(f.input!==o||o===void 0));c.length===0?e.delete(r):e.set(r,c)}}for(const[h,c]of e)c.forEach(f=>{Rp(h)?i.connect(h,f.output,f.input):i.connect(h,f.output)})})(i.disconnect)},W4=(i,e,t,r)=>{const{activeInputs:a,passiveInputs:o}=Kf(e),{outputs:h}=Jr(i),c=Xf(i),f=d=>{const m=li(i),x=Bf(e);if(d){const w=Xb(o,i,t);z5(a,i,w,!1),!r&&!iu(i)&&m.connect(x,t)}else{const w=G4(a,i,t);q5(o,w,!1),!r&&!iu(i)&&m.disconnect(x,t)}};return ou(h,[e,t],d=>d[0]===e&&d[1]===t,!0)?(c.add(f),fl(i)?z5(a,i,[t,f],!0):q5(o,[i,t,f],!0),!0):!1},X4=(i,e,t,r)=>{const{activeInputs:a,passiveInputs:o}=Jr(e),h=Yb(a[r],i,t);return h===null?[Ub(o,i,t,r)[2],!1]:[h[2],!0]},Z4=(i,e,t)=>{const{activeInputs:r,passiveInputs:a}=Kf(e),o=Yb(r,i,t);return o===null?[Xb(a,i,t)[1],!1]:[o[2],!0]},ig=(i,e,t,r,a)=>{const[o,h]=X4(i,t,r,a);if(o!==null&&(Wb(i,o),h&&!e&&!iu(i)&&jp(li(i),li(t),r,a)),fl(t)){const{activeInputs:c}=Jr(t);M0(t,c)}},rg=(i,e,t,r)=>{const[a,o]=Z4(i,t,r);a!==null&&(Wb(i,a),o&&!e&&!iu(i)&&li(i).disconnect(Bf(t),r))},K4=(i,e)=>{const t=Jr(i),r=[];for(const a of t.outputs)Qf(a)?ig(i,e,...a):rg(i,e,...a),r.push(a[0]);return t.outputs.clear(),r},Q4=(i,e,t)=>{const r=Jr(i),a=[];for(const o of r.outputs)o[1]===t&&(Qf(o)?ig(i,e,...o):rg(i,e,...o),a.push(o[0]),r.outputs.delete(o));return a},$4=(i,e,t,r,a)=>{const o=Jr(i);return Array.from(o.outputs).filter(h=>h[0]===t&&(r===void 0||h[1]===r)&&(a===void 0||h[2]===a)).map(h=>(Qf(h)?ig(i,e,...h):rg(i,e,...h),o.outputs.delete(h),h[0]))},J4=(i,e,t,r,a,o,h,c,f,d,m,x,w,y,N,A)=>class extends d{constructor(C,U,F,q){super(F),this._context=C,this._nativeAudioNode=F;const z=m(C);x(z)&&t(F5,()=>F5(z,A))!==!0&&Y4(F),eg.set(this,F),Fb.set(this,new Set),C.state!=="closed"&&U&&Ah(this),i(this,q,F)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,U=0,F=0){if(U<0||U>=this._nativeAudioNode.numberOfOutputs)throw a();const q=m(this._context),z=N(q);if(w(C)||y(C))throw o();if(Lp(C)){const D=li(C);try{const Z=Dp(this._nativeAudioNode,D,U,F),O=xp(this);(z||O)&&this._nativeAudioNode.disconnect(...Z),this.context.state!=="closed"&&!O&&xp(C)&&Ah(C)}catch(Z){throw Z.code===12?o():Z}if(e(this,C,U,F,z)){const Z=f([this],C);Wm(Z,r(z))}return C}const $=Bf(C);if($.name==="playbackRate"&&$.maxValue===1024)throw h();try{this._nativeAudioNode.connect($,U),(z||xp(this))&&this._nativeAudioNode.disconnect($,U)}catch(D){throw D.code===12?o():D}if(W4(this,C,U,z)){const D=f([this],C);Wm(D,r(z))}}disconnect(C,U,F){let q;const z=m(this._context),$=N(z);if(C===void 0)q=K4(this,$);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw a();q=Q4(this,$,C)}else{if(U!==void 0&&(U<0||U>=this.numberOfOutputs)||Lp(C)&&F!==void 0&&(F<0||F>=C.numberOfInputs))throw a();if(q=$4(this,$,C,U,F),q.length===0)throw o()}for(const Y of q){const D=f([this],Y);Wm(D,c)}}},eS=(i,e,t,r,a,o,h,c,f,d,m,x,w)=>(y,N,A,E=null,C=null)=>{const U=A.value,F=new u4(U),q=N?r(F):null,z={get defaultValue(){return U},get maxValue(){return E===null?A.maxValue:E},get minValue(){return C===null?A.minValue:C},get value(){return A.value},set value($){A.value=$,z.setValueAtTime($,y.context.currentTime)},cancelAndHoldAtTime($){if(typeof A.cancelAndHoldAtTime=="function")q===null&&F.flush(y.context.currentTime),F.add(a($)),A.cancelAndHoldAtTime($);else{const Y=Array.from(F).pop();q===null&&F.flush(y.context.currentTime),F.add(a($));const D=Array.from(F).pop();A.cancelScheduledValues($),Y!==D&&D!==void 0&&(D.type==="exponentialRampToValue"?A.exponentialRampToValueAtTime(D.value,D.endTime):D.type==="linearRampToValue"?A.linearRampToValueAtTime(D.value,D.endTime):D.type==="setValue"?A.setValueAtTime(D.value,D.startTime):D.type==="setValueCurve"&&A.setValueCurveAtTime(D.values,D.startTime,D.duration))}return z},cancelScheduledValues($){return q===null&&F.flush(y.context.currentTime),F.add(o($)),A.cancelScheduledValues($),z},exponentialRampToValueAtTime($,Y){if($===0)throw new RangeError;if(!Number.isFinite(Y)||Y<0)throw new RangeError;const D=y.context.currentTime;return q===null&&F.flush(D),Array.from(F).length===0&&(F.add(d(U,D)),A.setValueAtTime(U,D)),F.add(h($,Y)),A.exponentialRampToValueAtTime($,Y),z},linearRampToValueAtTime($,Y){const D=y.context.currentTime;return q===null&&F.flush(D),Array.from(F).length===0&&(F.add(d(U,D)),A.setValueAtTime(U,D)),F.add(c($,Y)),A.linearRampToValueAtTime($,Y),z},setTargetAtTime($,Y,D){return q===null&&F.flush(y.context.currentTime),F.add(f($,Y,D)),A.setTargetAtTime($,Y,D),z},setValueAtTime($,Y){return q===null&&F.flush(y.context.currentTime),F.add(d($,Y)),A.setValueAtTime($,Y),z},setValueCurveAtTime($,Y,D){const R=$ instanceof Float32Array?$:new Float32Array($);if(x!==null&&x.name==="webkitAudioContext"){const Z=Y+D,O=y.context.sampleRate,j=Math.ceil(Y*O),V=Math.floor(Z*O),J=V-j,ue=new Float32Array(J);for(let ie=0;ie<J;ie+=1){const ce=(R.length-1)/D*((j+ie)/O-Y),he=Math.floor(ce),we=Math.ceil(ce);ue[ie]=he===we?R[he]:(1-(ce-he))*R[he]+(1-(we-ce))*R[we]}q===null&&F.flush(y.context.currentTime),F.add(m(ue,Y,D)),A.setValueCurveAtTime(ue,Y,D);const ee=V/O;ee<Z&&w(z,ue[ue.length-1],ee),w(z,R[R.length-1],Z)}else q===null&&F.flush(y.context.currentTime),F.add(m(R,Y,D)),A.setValueCurveAtTime(R,Y,D);return z}};return t.set(z,A),e.set(z,y),i(z,q),z},tS=i=>({replay(e){for(const t of i)if(t.type==="exponentialRampToValue"){const{endTime:r,value:a}=t;e.exponentialRampToValueAtTime(a,r)}else if(t.type==="linearRampToValue"){const{endTime:r,value:a}=t;e.linearRampToValueAtTime(a,r)}else if(t.type==="setTarget"){const{startTime:r,target:a,timeConstant:o}=t;e.setTargetAtTime(a,r,o)}else if(t.type==="setValue"){const{startTime:r,value:a}=t;e.setValueAtTime(a,r)}else if(t.type==="setValueCurve"){const{duration:r,startTime:a,values:o}=t;e.setValueCurveAtTime(o,a,r)}else throw new Error("Can't apply an unknown automation.")}});class Zb{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((r,a)=>e.call(t,r,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const nS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},iS=(i,e,t,r,a,o,h,c,f,d,m,x,w,y)=>class extends e{constructor(A,E,C){var U;const F=c(A),q=f(F),z=m({...nS,...C});w(z);const $=k0.get(F),Y=$?.get(E),D=q||F.state!=="closed"?F:(U=h(F))!==null&&U!==void 0?U:F,R=a(D,q?null:A.baseLatency,d,E,Y,z),Z=q?r(E,z,Y):null;super(A,!0,R,Z);const O=[];R.parameters.forEach((V,J)=>{const ue=t(this,q,V);O.push([J,ue])}),this._nativeAudioWorkletNode=R,this._onprocessorerror=null,this._parameters=new Zb(O),q&&i(F,this);const{activeInputs:j}=o(this);x(R,j)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(A){const E=typeof A=="function"?y(this,A):null;this._nativeAudioWorkletNode.onprocessorerror=E;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===E?A:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Ip(i,e,t,r,a){if(typeof i.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),i.copyFromChannel(e[t],r,a);else{const o=i.getChannelData(r);if(e[t].byteLength===0)e[t]=o.slice(a,a+128);else{const h=new Float32Array(o.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(h)}}}const Kb=(i,e,t,r,a)=>{typeof i.copyToChannel=="function"?e[t].byteLength!==0&&i.copyToChannel(e[t],r,a):e[t].byteLength!==0&&i.getChannelData(r).set(e[t],a)},Bp=(i,e)=>{const t=[];for(let r=0;r<i;r+=1){const a=[],o=typeof e=="number"?e:e[r];for(let h=0;h<o;h+=1)a.push(new Float32Array(128));t.push(a)}return t},rS=(i,e)=>{const t=Za(O0,i),r=li(e);return Za(t,r)},sS=async(i,e,t,r,a,o,h)=>{const c=e===null?Math.ceil(i.context.length/128)*128:e.length,f=r.channelCount*r.numberOfInputs,d=a.reduce((E,C)=>E+C,0),m=d===0?null:t.createBuffer(d,c,t.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const x=Jr(i),w=await rS(t,i),y=Bp(r.numberOfInputs,r.channelCount),N=Bp(r.numberOfOutputs,a),A=Array.from(i.parameters.keys()).reduce((E,C)=>({...E,[C]:new Float32Array(128)}),{});for(let E=0;E<c;E+=128){if(r.numberOfInputs>0&&e!==null)for(let C=0;C<r.numberOfInputs;C+=1)for(let U=0;U<r.channelCount;U+=1)Ip(e,y[C],U,U,E);o.parameterDescriptors!==void 0&&e!==null&&o.parameterDescriptors.forEach(({name:C},U)=>{Ip(e,A,C,f+U,E)});for(let C=0;C<r.numberOfInputs;C+=1)for(let U=0;U<a[C];U+=1)N[C][U].byteLength===0&&(N[C][U]=new Float32Array(128));try{const C=y.map((F,q)=>x.activeInputs[q].size===0?[]:F),U=h(E/t.sampleRate,t.sampleRate,()=>w.process(C,N,A));if(m!==null)for(let F=0,q=0;F<r.numberOfOutputs;F+=1){for(let z=0;z<a[F];z+=1)Kb(m,N[F],z,q+z,E);q+=a[F]}if(!U)break}catch(C){i.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return m},aS=(i,e,t,r,a,o,h,c,f,d,m,x,w,y,N,A)=>(E,C,U)=>{const F=new WeakMap;let q=null;const z=async($,Y)=>{let D=m($),R=null;const Z=Fr(D,Y),O=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(x===null){const j=O.reduce((ee,ie)=>ee+ie,0),V=a(Y,{channelCount:Math.max(1,j),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,j)}),J=[];for(let ee=0;ee<$.numberOfOutputs;ee+=1)J.push(r(Y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:O[ee]}));const ue=h(Y,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});ue.connect=e.bind(null,J),ue.disconnect=f.bind(null,J),R=[V,J,ue]}else Z||(D=new x(Y,E));if(F.set(Y,R===null?D:R[2]),R!==null){if(q===null){if(U===void 0)throw new Error("Missing the processor constructor.");if(w===null)throw new Error("Missing the native OfflineAudioContext constructor.");const ie=$.channelCount*$.numberOfInputs,ce=U.parameterDescriptors===void 0?0:U.parameterDescriptors.length,he=ie+ce;q=sS($,he===0?null:await(async()=>{const X=new w(he,Math.ceil($.context.length/128)*128,Y.sampleRate),T=[],H=[];for(let ae=0;ae<C.numberOfInputs;ae+=1)T.push(h(X,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),H.push(a(X,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const Q=await Promise.all(Array.from($.parameters.values()).map(async ae=>{const me=o(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ae.value});return await y(X,ae,me.offset),me})),re=r(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,ie+ce)});for(let ae=0;ae<C.numberOfInputs;ae+=1){T[ae].connect(H[ae]);for(let me=0;me<C.channelCount;me+=1)H[ae].connect(re,me,ae*C.channelCount+me)}for(const[ae,me]of Q.entries())me.connect(re,0,ie+ae),me.start(0);return re.connect(X.destination),await Promise.all(T.map(ae=>N($,X,ae))),A(X)})(),Y,C,O,U,d)}const j=await q,V=t(Y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[J,ue,ee]=R;j!==null&&(V.buffer=j,V.start(0)),V.connect(J);for(let ie=0,ce=0;ie<$.numberOfOutputs;ie+=1){const he=ue[ie];for(let we=0;we<O[ie];we+=1)J.connect(he,ce+we,we);ce+=O[ie]}return ee}if(Z)for(const[j,V]of $.parameters.entries())await i(Y,V,D.parameters.get(j));else for(const[j,V]of $.parameters.entries())await y(Y,V,D.parameters.get(j));return await N($,Y,D),D};return{render($,Y){c(Y,$);const D=F.get(Y);return D!==void 0?Promise.resolve(D):z($,Y)}}},oS=(i,e,t,r,a,o,h,c,f,d,m,x,w,y,N,A,E,C,U,F)=>class extends N{constructor(z,$){super(z,$),this._nativeContext=z,this._audioWorklet=i===void 0?void 0:{addModule:(Y,D)=>i(this,Y,D)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(z,$,Y){return new t({length:$,numberOfChannels:z,sampleRate:Y})}createBufferSource(){return new r(this)}createChannelMerger(z=6){return new o(this,{numberOfInputs:z})}createChannelSplitter(z=6){return new h(this,{numberOfOutputs:z})}createConstantSource(){return new c(this)}createConvolver(){return new f(this)}createDelay(z=1){return new m(this,{maxDelayTime:z})}createDynamicsCompressor(){return new x(this)}createGain(){return new w(this)}createIIRFilter(z,$){return new y(this,{feedback:$,feedforward:z})}createOscillator(){return new A(this)}createPanner(){return new E(this)}createPeriodicWave(z,$,Y={disableNormalization:!1}){return new C(this,{...Y,imag:$,real:z})}createStereoPanner(){return new U(this)}createWaveShaper(){return new F(this)}decodeAudioData(z,$,Y){return d(this._nativeContext,z).then(D=>(typeof $=="function"&&$(D),D),D=>{throw typeof Y=="function"&&Y(D),D})}},lS={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},cS=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const x=o(d),w={...lS,...m},y=a(x,w),N=h(x),A=N?t():null;super(d,!1,y,A),this._Q=e(this,N,y.Q,$r,_s),this._detune=e(this,N,y.detune,1200*Math.log2($r),-1200*Math.log2($r)),this._frequency=e(this,N,y.frequency,d.sampleRate/2,0),this._gain=e(this,N,y.gain,40*Math.log10($r),_s),this._nativeBiquadFilterNode=y,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,m,x){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,m,x)}catch(w){throw w.code===11?r():w}if(d.length!==m.length||m.length!==x.length)throw r()}},uS=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Fr(d,f);if(!m){const x={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=e(f,x)}return o.set(f,d),m?(await i(f,c.Q,d.Q),await i(f,c.detune,d.detune),await i(f,c.frequency,d.frequency),await i(f,c.gain,d.gain)):(await r(f,c.Q,d.Q),await r(f,c.detune,d.detune),await r(f,c.frequency,d.frequency),await r(f,c.gain,d.gain)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},hS=(i,e)=>(t,r)=>{const a=e.get(t);if(a!==void 0)return a;const o=i.get(t);if(o!==void 0)return o;try{const h=r();return h instanceof Promise?(i.set(t,h),h.catch(()=>!1).then(c=>(i.delete(t),e.set(t,c),c))):(e.set(t,h),h)}catch{return e.set(t,!1),!1}},fS={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},dS=(i,e,t,r,a)=>class extends i{constructor(h,c){const f=r(h),d={...fS,...c},m=t(f,d),x=a(f)?e():null;super(h,!1,m,x)}},pS=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Fr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=i(h,d)}return r.set(h,c),await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},mS={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},gS=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=r(c),m=o({...mS,...f}),x=t(d,m),w=a(d)?e():null;super(c,!1,x,w)}},vS=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Fr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=i(h,d)}return r.set(h,c),await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},yS=i=>(e,t,r)=>i(t,e,r),bS=i=>(e,t,r=0,a=0)=>{const o=e[r];if(o===void 0)throw i();return Rp(t)?o.connect(t,0,a):o.connect(t,0)},xS=i=>(e,t)=>{const r=i(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return r.buffer=a,r.loop=!0,r.connect(t),r.start(),()=>{r.stop(),r.disconnect(t)}},_S={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},wS=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),x={..._S,...d},w=r(m,x),y=o(m),N=y?t():null;super(f,!1,w,N),this._constantSourceNodeRenderer=N,this._nativeConstantSourceNode=w,this._offset=e(this,y,w.offset,$r,_s),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeConstantSourceNode.onended=d;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===d?f:m}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){Ah(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),fl(this)&&Zf(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},SS=(i,e,t,r,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let x=t(d);const w=Fr(x,m);if(!w){const y={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,offset:x.offset.value};x=e(m,y),h!==null&&x.start(h),c!==null&&x.stop(c)}return o.set(m,x),w?await i(m,d.offset,x.offset):await r(m,d.offset,x.offset),await a(d,m,x),x};return{set start(d){h=d},set stop(d){c=d},render(d,m){const x=o.get(m);return x!==void 0?Promise.resolve(x):f(d,m)}}},AS=i=>e=>(i[0]=e,i[0]),NS={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},CS=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=r(c),m={...NS,...f},x=t(d,m),y=a(d)?e():null;super(c,!1,x,y),this._isBufferNullified=!1,this._nativeConvolverNode=x,m.buffer!==null&&o(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},TS=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Fr(c,h)){const d={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=i(h,d)}return r.set(h,c),Th(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},ES=(i,e)=>(t,r,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,r,a)}catch(o){throw o.name==="SyntaxError"?i():o}},kS=()=>new DOMException("","DataCloneError"),P5=i=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(r=>{const a=()=>{t.onmessage=null,e.close(),t.close(),r()};t.onmessage=()=>a();try{e.postMessage(i,[i])}catch{}finally{a()}})},OS=(i,e,t,r,a,o,h,c,f,d,m)=>(x,w)=>{const y=h(x)?x:o(x);if(a.has(w)){const N=t();return Promise.reject(N)}try{a.add(w)}catch{}return e(f,()=>f(y))?y.decodeAudioData(w).then(N=>(P5(w).catch(()=>{}),e(c,()=>c(N))||m(N),i.add(N),N)):new Promise((N,A)=>{const E=async()=>{try{await P5(w)}catch{}},C=U=>{A(U),E()};try{y.decodeAudioData(w,U=>{typeof U.copyFromChannel!="function"&&(d(U),ng(U)),i.add(U),E().then(()=>N(U))},U=>{C(U===null?r():U)})}catch(U){C(U)}})},MS=(i,e,t,r,a,o,h,c)=>(f,d)=>{const m=e.get(f);if(m===void 0)throw new Error("Missing the expected cycle count.");const x=o(f.context),w=c(x);if(m===d){if(e.delete(f),!w&&h(f)){const y=r(f),{outputs:N}=t(f);for(const A of N)if(Qf(A)){const E=r(A[0]);i(y,E,A[1],A[2])}else{const E=a(A[0]);y.connect(E,A[1])}}}else e.set(f,m-d)},LS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},DS=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),x={...LS,...d},w=r(m,x),y=o(m),N=y?t(x.maxDelayTime):null;super(f,!1,w,N),this._delayTime=e(this,y,w.delayTime),h(this,x.maxDelayTime)}get delayTime(){return this._delayTime}},jS=(i,e,t,r,a)=>o=>{const h=new WeakMap,c=async(f,d)=>{let m=t(f);const x=Fr(m,d);if(!x){const w={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:o};m=e(d,w)}return h.set(d,m),x?await i(d,f.delayTime,m.delayTime):await r(d,f.delayTime,m.delayTime),await a(f,d,m),m};return{render(f,d){const m=h.get(d);return m!==void 0?Promise.resolve(m):c(f,d)}}},RS=i=>(e,t,r,a)=>i(e[a],o=>o[0]===t&&o[1]===r),IS=i=>(e,t)=>{i(e).delete(t)},BS=i=>"delayTime"in i,zS=(i,e,t)=>function r(a,o){const h=Lp(o)?o:t(i,o);if(BS(h))return[];if(a[0]===h)return[a];if(a.includes(h))return[];const{outputs:c}=e(h);return Array.from(c).map(f=>r([...a,h],f[0])).reduce((f,d)=>f.concat(d),[])},rp=(i,e,t)=>{const r=e[t];if(r===void 0)throw i();return r},qS=i=>(e,t=void 0,r=void 0,a=0)=>t===void 0?e.forEach(o=>o.disconnect()):typeof t=="number"?rp(i,e,t).disconnect():Rp(t)?r===void 0?e.forEach(o=>o.disconnect(t)):a===void 0?rp(i,e,r).disconnect(t,0):rp(i,e,r).disconnect(t,0,a):r===void 0?e.forEach(o=>o.disconnect(t)):rp(i,e,r).disconnect(t,0),FS={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},PS=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const x=o(d),w={...FS,...m},y=r(x,w),N=h(x),A=N?t():null;super(d,!1,y,A),this._attack=e(this,N,y.attack),this._knee=e(this,N,y.knee),this._nativeDynamicsCompressorNode=y,this._ratio=e(this,N,y.ratio),this._release=e(this,N,y.release),this._threshold=e(this,N,y.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=m,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},US=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Fr(d,f);if(!m){const x={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=e(f,x)}return o.set(f,d),m?(await i(f,c.attack,d.attack),await i(f,c.knee,d.knee),await i(f,c.ratio,d.ratio),await i(f,c.release,d.release),await i(f,c.threshold,d.threshold)):(await r(f,c.attack,d.attack),await r(f,c.knee,d.knee),await r(f,c.ratio,d.ratio),await r(f,c.release,d.release),await r(f,c.threshold,d.threshold)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},VS=()=>new DOMException("","EncodingError"),HS=i=>e=>new Promise((t,r)=>{if(i===null){r(new SyntaxError);return}const a=i.document.head;if(a===null)r(new SyntaxError);else{const o=i.document.createElement("script"),h=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(h),f=i.onerror,d=()=>{i.onerror=f,URL.revokeObjectURL(c)};i.onerror=(m,x,w,y,N)=>{if(x===c||x===i.location.href&&w===1&&y===1)return d(),r(N),!1;if(f!==null)return f(m,x,w,y,N)},o.onerror=()=>{d(),r(new SyntaxError)},o.onload=()=>{d(),t()},o.src=c,o.type="module",a.appendChild(o)}}),GS=i=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,r,a){if(r!==null){let o=this._listeners.get(r);o===void 0&&(o=i(this,r),typeof r=="function"&&this._listeners.set(r,o)),this._nativeEventTarget.addEventListener(t,o,a)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,r,a){const o=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,a)}},YS=i=>(e,t,r)=>{Object.defineProperties(i,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{i!==null&&(delete i.currentFrame,delete i.currentTime)}},WS=i=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw i()},XS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},ZS=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=a(c),m={...XS,...f},x=r(d,m),w=o(d),y=w?t():null;super(c,!1,x,y),this._gain=e(this,w,x.gain,$r,_s)}get gain(){return this._gain}},KS=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Fr(d,f);if(!m){const x={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=e(f,x)}return o.set(f,d),m?await i(f,c.gain,d.gain):await r(f,c.gain,d.gain),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},QS=(i,e)=>t=>e(i,t),$S=i=>e=>{const t=i(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},JS=i=>e=>{var t;return(t=i.get(e))!==null&&t!==void 0?t:0},e6=i=>e=>{const t=i(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},t6=i=>e=>i.get(e),vr=()=>new DOMException("","InvalidStateError"),n6=i=>e=>{const t=i.get(e);if(t===void 0)throw vr();return t},i6=(i,e)=>t=>{let r=i.get(t);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),i.set(t,r),r},r6=i=>e=>{const t=i.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},i1=()=>new DOMException("","InvalidAccessError"),s6=i=>{i.getFrequencyResponse=(e=>(t,r,a)=>{if(t.length!==r.length||r.length!==a.length)throw i1();return e.call(i,t,r,a)})(i.getFrequencyResponse)},a6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},o6=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=r(c),m=a(d),x={...a6,...f},w=e(d,m?null:c.baseLatency,x),y=m?t(x.feedback,x.feedforward):null;super(c,!1,w,y),s6(w),this._nativeIIRFilterNode=w,o(this,1)}getFrequencyResponse(c,f,d){return this._nativeIIRFilterNode.getFrequencyResponse(c,f,d)}},Qb=(i,e,t,r,a,o,h,c,f,d,m)=>{const x=d.length;let w=c;for(let y=0;y<x;y+=1){let N=t[0]*d[y];for(let A=1;A<a;A+=1){const E=w-A&f-1;N+=t[A]*o[E],N-=i[A]*h[E]}for(let A=a;A<r;A+=1)N+=t[A]*o[w-A&f-1];for(let A=a;A<e;A+=1)N-=i[A]*h[w-A&f-1];o[w]=d[y],h[w]=N,w=w+1&f-1,m[y]=N}return w},l6=(i,e,t,r)=>{const a=t instanceof Float64Array?t:new Float64Array(t),o=r instanceof Float64Array?r:new Float64Array(r),h=a.length,c=o.length,f=Math.min(h,c);if(a[0]!==1){for(let N=0;N<h;N+=1)o[N]/=a[0];for(let N=1;N<c;N+=1)a[N]/=a[0]}const d=32,m=new Float32Array(d),x=new Float32Array(d),w=e.createBuffer(i.numberOfChannels,i.length,i.sampleRate),y=i.numberOfChannels;for(let N=0;N<y;N+=1){const A=i.getChannelData(N),E=w.getChannelData(N);m.fill(0),x.fill(0),Qb(a,h,o,c,f,m,x,0,d,A,E)}return w},c6=(i,e,t,r,a)=>(o,h)=>{const c=new WeakMap;let f=null;const d=async(m,x)=>{let w=null,y=e(m);const N=Fr(y,x);if(x.createIIRFilter===void 0?w=i(x,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):N||(y=x.createIIRFilter(h,o)),c.set(x,w===null?y:w),w!==null){if(f===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const E=new t(m.context.destination.channelCount,m.context.length,x.sampleRate);f=(async()=>{await r(m,E,E.destination);const C=await a(E);return l6(C,x,o,h)})()}const A=await f;return w.buffer=A,w.start(0),w}return await r(m,x,y),y};return{render(m,x){const w=c.get(x);return w!==void 0?Promise.resolve(w):d(m,x)}}},u6=(i,e,t,r,a,o)=>h=>(c,f)=>{const d=i.get(c);if(d===void 0){if(!h&&o(c)){const m=r(c),{outputs:x}=t(c);for(const w of x)if(Qf(w)){const y=r(w[0]);e(m,y,w[1],w[2])}else{const y=a(w[0]);m.disconnect(y,w[1])}}i.set(c,f)}else i.set(c,d+f)},h6=(i,e)=>t=>{const r=i.get(t);return e(r)||e(t)},f6=(i,e)=>t=>i.has(t)||e(t),d6=(i,e)=>t=>i.has(t)||e(t),p6=(i,e)=>t=>{const r=i.get(t);return e(r)||e(t)},m6=i=>e=>i!==null&&e instanceof i,g6=i=>e=>i!==null&&typeof i.AudioNode=="function"&&e instanceof i.AudioNode,v6=i=>e=>i!==null&&typeof i.AudioParam=="function"&&e instanceof i.AudioParam,y6=(i,e)=>t=>i(t)||e(t),b6=i=>e=>i!==null&&e instanceof i,x6=i=>i!==null&&i.isSecureContext,_6=(i,e,t,r)=>class extends i{constructor(o,h){const c=t(o),f=e(c,h);if(r(c))throw TypeError();super(o,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},w6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},S6=(i,e,t,r)=>class extends i{constructor(o,h){const c=t(o);if(r(c))throw new TypeError;const f={...w6,...h},d=e(c,f);super(o,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},A6=(i,e,t,r)=>class extends i{constructor(o,h){const c=t(o),f=e(c,h);if(r(c))throw new TypeError;super(o,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},N6=(i,e,t)=>class extends i{constructor(a,o){const h=t(a),c=e(h,o);super(a,!0,c,null)}},C6=(i,e,t,r,a,o)=>class extends t{constructor(c,f){super(c),this._nativeContext=c,t1.set(this,c),r(c)&&a.set(c,new Set),this._destination=new i(this,f),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const f=typeof c=="function"?o(this,c):null;this._nativeContext.onstatechange=f;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===f?c:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},zf=i=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=i.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},T6=(i,e)=>(t,r,a)=>{const o=new Set;return t.connect=(h=>(c,f=0,d=0)=>{const m=o.size===0;if(e(c))return h.call(t,c,f,d),i(o,[c,f,d],x=>x[0]===c&&x[1]===f&&x[2]===d,!0),m&&r(),c;h.call(t,c,f),i(o,[c,f],x=>x[0]===c&&x[1]===f,!0),m&&r()})(t.connect),t.disconnect=(h=>(c,f,d)=>{const m=o.size>0;if(c===void 0)h.apply(t),o.clear();else if(typeof c=="number"){h.call(t,c);for(const w of o)w[1]===c&&o.delete(w)}else{e(c)?h.call(t,c,f,d):h.call(t,c,f);for(const w of o)w[0]===c&&(f===void 0||w[1]===f)&&(d===void 0||w[2]===d)&&o.delete(w)}const x=o.size===0;m&&x&&a()})(t.disconnect),t},gi=(i,e,t)=>{const r=e[t];r!==void 0&&r!==i[t]&&(i[t]=r)},or=(i,e)=>{gi(i,e,"channelCount"),gi(i,e,"channelCountMode"),gi(i,e,"channelInterpretation")},U5=i=>typeof i.getFloatTimeDomainData=="function",E6=i=>{i.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);i.getByteTimeDomainData(t);const r=Math.max(t.length,i.fftSize);for(let a=0;a<r;a+=1)e[a]=(t[a]-128)*.0078125;return e}},k6=(i,e)=>(t,r)=>{const a=t.createAnalyser();if(or(a,r),!(r.maxDecibels>r.minDecibels))throw e();return gi(a,r,"fftSize"),gi(a,r,"maxDecibels"),gi(a,r,"minDecibels"),gi(a,r,"smoothingTimeConstant"),i(U5,()=>U5(a))||E6(a),a},O6=i=>i===null?null:i.hasOwnProperty("AudioBuffer")?i.AudioBuffer:null,Li=(i,e,t)=>{const r=e[t];r!==void 0&&r!==i[t].value&&(i[t].value=r)},M6=i=>{i.start=(e=>{let t=!1;return(r=0,a=0,o)=>{if(t)throw vr();e.call(i,r,a,o),t=!0}})(i.start)},sg=i=>{i.start=(e=>(t=0,r=0,a)=>{if(typeof a=="number"&&a<0||r<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(i,t,r,a)})(i.start)},ag=i=>{i.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(i,t)})(i.stop)},L6=(i,e,t,r,a,o,h,c,f,d,m)=>(x,w)=>{const y=x.createBufferSource();return or(y,w),Li(y,w,"playbackRate"),gi(y,w,"buffer"),gi(y,w,"loop"),gi(y,w,"loopEnd"),gi(y,w,"loopStart"),e(t,()=>t(x))||M6(y),e(r,()=>r(x))||f(y),e(a,()=>a(x))||d(y,x),e(o,()=>o(x))||sg(y),e(h,()=>h(x))||m(y,x),e(c,()=>c(x))||ag(y),i(x,y),y},D6=i=>i===null?null:i.hasOwnProperty("AudioContext")?i.AudioContext:i.hasOwnProperty("webkitAudioContext")?i.webkitAudioContext:null,j6=(i,e)=>(t,r,a)=>{const o=t.destination;if(o.channelCount!==r)try{o.channelCount=r}catch{}a&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:r});const h=i(t,{channelCount:r,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(h,"channelCount",c=>()=>c.call(h),c=>f=>{c.call(h,f);try{o.channelCount=f}catch(d){if(f>o.maxChannelCount)throw d}}),e(h,"channelCountMode",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelCountMode=f}),e(h,"channelInterpretation",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelInterpretation=f}),Object.defineProperty(h,"maxChannelCount",{get:()=>o.maxChannelCount}),h.connect(o),h},R6=i=>i===null?null:i.hasOwnProperty("AudioWorkletNode")?i.AudioWorkletNode:null,I6=i=>{const{port1:e}=new MessageChannel;try{e.postMessage(i)}finally{e.close()}},B6=(i,e,t,r,a)=>(o,h,c,f,d,m)=>{if(c!==null)try{const x=new c(o,f,m),w=new Map;let y=null;if(Object.defineProperties(x,{channelCount:{get:()=>m.channelCount,set:()=>{throw i()}},channelCountMode:{get:()=>"explicit",set:()=>{throw i()}},onprocessorerror:{get:()=>y,set:N=>{typeof y=="function"&&x.removeEventListener("processorerror",y),y=typeof N=="function"?N:null,typeof y=="function"&&x.addEventListener("processorerror",y)}}}),x.addEventListener=(N=>(...A)=>{if(A[0]==="processorerror"){const E=typeof A[1]=="function"?A[1]:typeof A[1]=="object"&&A[1]!==null&&typeof A[1].handleEvent=="function"?A[1].handleEvent:null;if(E!==null){const C=w.get(A[1]);C!==void 0?A[1]=C:(A[1]=U=>{U.type==="error"?(Object.defineProperties(U,{type:{value:"processorerror"}}),E(U)):E(new ErrorEvent(A[0],{...U}))},w.set(E,A[1]))}}return N.call(x,"error",A[1],A[2]),N.call(x,...A)})(x.addEventListener),x.removeEventListener=(N=>(...A)=>{if(A[0]==="processorerror"){const E=w.get(A[1]);E!==void 0&&(w.delete(A[1]),A[1]=E)}return N.call(x,"error",A[1],A[2]),N.call(x,A[0],A[1],A[2])})(x.removeEventListener),m.numberOfOutputs!==0){const N=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return x.connect(N).connect(o.destination),a(x,()=>N.disconnect(),()=>N.connect(o.destination))}return x}catch(x){throw x.code===11?r():x}if(d===void 0)throw r();return I6(m),e(o,h,d,m)},$b=(i,e)=>i===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(i*e))))),z6=i=>new Promise((e,t)=>{const{port1:r,port2:a}=new MessageChannel;r.onmessage=({data:o})=>{r.close(),a.close(),e(o)},r.onmessageerror=({data:o})=>{r.close(),a.close(),t(o)},a.postMessage(i)}),q6=async(i,e)=>{const t=await z6(e);return new i(t)},F6=(i,e,t,r)=>{let a=O0.get(i);a===void 0&&(a=new WeakMap,O0.set(i,a));const o=q6(t,r);return a.set(e,o),o},P6=(i,e,t,r,a,o,h,c,f,d,m,x,w)=>(y,N,A,E)=>{if(E.numberOfInputs===0&&E.numberOfOutputs===0)throw f();const C=Array.isArray(E.outputChannelCount)?E.outputChannelCount:Array.from(E.outputChannelCount);if(C.some(P=>P<1))throw f();if(C.length!==E.numberOfOutputs)throw e();if(E.channelCountMode!=="explicit")throw f();const U=E.channelCount*E.numberOfInputs,F=C.reduce((P,je)=>P+je,0),q=A.parameterDescriptors===void 0?0:A.parameterDescriptors.length;if(U+q>6||F>6)throw f();const z=new MessageChannel,$=[],Y=[];for(let P=0;P<E.numberOfInputs;P+=1)$.push(h(y,{channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,gain:1})),Y.push(a(y,{channelCount:E.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:E.channelCount}));const D=[];if(A.parameterDescriptors!==void 0)for(const{defaultValue:P,maxValue:je,minValue:ct,name:tt}of A.parameterDescriptors){const De=o(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:E.parameterData[tt]!==void 0?E.parameterData[tt]:P===void 0?0:P});Object.defineProperties(De.offset,{defaultValue:{get:()=>P===void 0?0:P},maxValue:{get:()=>je===void 0?$r:je},minValue:{get:()=>ct===void 0?_s:ct}}),D.push(De)}const R=r(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,U+q)}),Z=$b(N,y.sampleRate),O=c(y,Z,U+q,Math.max(1,F)),j=a(y,{channelCount:Math.max(1,F),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,F)}),V=[];for(let P=0;P<E.numberOfOutputs;P+=1)V.push(r(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[P]}));for(let P=0;P<E.numberOfInputs;P+=1){$[P].connect(Y[P]);for(let je=0;je<E.channelCount;je+=1)Y[P].connect(R,je,P*E.channelCount+je)}const J=new Zb(A.parameterDescriptors===void 0?[]:A.parameterDescriptors.map(({name:P},je)=>{const ct=D[je];return ct.connect(R,0,U+je),ct.start(0),[P,ct.offset]}));R.connect(O);let ue=E.channelInterpretation,ee=null;const ie=E.numberOfOutputs===0?[O]:V,ce={get bufferSize(){return Z},get channelCount(){return E.channelCount},set channelCount(P){throw t()},get channelCountMode(){return E.channelCountMode},set channelCountMode(P){throw t()},get channelInterpretation(){return ue},set channelInterpretation(P){for(const je of $)je.channelInterpretation=P;ue=P},get context(){return O.context},get inputs(){return $},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get onprocessorerror(){return ee},set onprocessorerror(P){typeof ee=="function"&&ce.removeEventListener("processorerror",ee),ee=typeof P=="function"?P:null,typeof ee=="function"&&ce.addEventListener("processorerror",ee)},get parameters(){return J},get port(){return z.port2},addEventListener(...P){return O.addEventListener(P[0],P[1],P[2])},connect:i.bind(null,ie),disconnect:d.bind(null,ie),dispatchEvent(...P){return O.dispatchEvent(P[0])},removeEventListener(...P){return O.removeEventListener(P[0],P[1],P[2])}},he=new Map;z.port1.addEventListener=(P=>(...je)=>{if(je[0]==="message"){const ct=typeof je[1]=="function"?je[1]:typeof je[1]=="object"&&je[1]!==null&&typeof je[1].handleEvent=="function"?je[1].handleEvent:null;if(ct!==null){const tt=he.get(je[1]);tt!==void 0?je[1]=tt:(je[1]=De=>{m(y.currentTime,y.sampleRate,()=>ct(De))},he.set(ct,je[1]))}}return P.call(z.port1,je[0],je[1],je[2])})(z.port1.addEventListener),z.port1.removeEventListener=(P=>(...je)=>{if(je[0]==="message"){const ct=he.get(je[1]);ct!==void 0&&(he.delete(je[1]),je[1]=ct)}return P.call(z.port1,je[0],je[1],je[2])})(z.port1.removeEventListener);let we=null;Object.defineProperty(z.port1,"onmessage",{get:()=>we,set:P=>{typeof we=="function"&&z.port1.removeEventListener("message",we),we=typeof P=="function"?P:null,typeof we=="function"&&(z.port1.addEventListener("message",we),z.port1.start())}}),A.prototype.port=z.port1;let X=null;F6(y,ce,A,E).then(P=>X=P);const H=Bp(E.numberOfInputs,E.channelCount),Q=Bp(E.numberOfOutputs,C),re=A.parameterDescriptors===void 0?[]:A.parameterDescriptors.reduce((P,{name:je})=>({...P,[je]:new Float32Array(128)}),{});let ae=!0;const me=()=>{E.numberOfOutputs>0&&O.disconnect(j);for(let P=0,je=0;P<E.numberOfOutputs;P+=1){const ct=V[P];for(let tt=0;tt<C[P];tt+=1)j.disconnect(ct,je+tt,tt);je+=C[P]}},de=new Map;O.onaudioprocess=({inputBuffer:P,outputBuffer:je})=>{if(X!==null){const ct=x(ce);for(let tt=0;tt<Z;tt+=128){for(let De=0;De<E.numberOfInputs;De+=1)for(let et=0;et<E.channelCount;et+=1)Ip(P,H[De],et,et,tt);A.parameterDescriptors!==void 0&&A.parameterDescriptors.forEach(({name:De},et)=>{Ip(P,re,De,U+et,tt)});for(let De=0;De<E.numberOfInputs;De+=1)for(let et=0;et<C[De];et+=1)Q[De][et].byteLength===0&&(Q[De][et]=new Float32Array(128));try{const De=H.map((nt,ht)=>{if(ct[ht].size>0)return de.set(ht,Z/128),nt;const Ot=de.get(ht);return Ot===void 0?[]:(nt.every(We=>We.every($e=>$e===0))&&(Ot===1?de.delete(ht):de.set(ht,Ot-1)),nt)});ae=m(y.currentTime+tt/y.sampleRate,y.sampleRate,()=>X.process(De,Q,re));for(let nt=0,ht=0;nt<E.numberOfOutputs;nt+=1){for(let ut=0;ut<C[nt];ut+=1)Kb(je,Q[nt],ut,ht+ut,tt);ht+=C[nt]}}catch(De){ae=!1,ce.dispatchEvent(new ErrorEvent("processorerror",{colno:De.colno,filename:De.filename,lineno:De.lineno,message:De.message}))}if(!ae){for(let De=0;De<E.numberOfInputs;De+=1){$[De].disconnect(Y[De]);for(let et=0;et<E.channelCount;et+=1)Y[tt].disconnect(R,et,De*E.channelCount+et)}if(A.parameterDescriptors!==void 0){const De=A.parameterDescriptors.length;for(let et=0;et<De;et+=1){const nt=D[et];nt.disconnect(R,0,U+et),nt.stop()}}R.disconnect(O),O.onaudioprocess=null,_e?me():He();break}}}};let _e=!1;const ve=h(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ie=()=>O.connect(ve).connect(y.destination),He=()=>{O.disconnect(ve),ve.disconnect()},Ge=()=>{if(ae){He(),E.numberOfOutputs>0&&O.connect(j);for(let P=0,je=0;P<E.numberOfOutputs;P+=1){const ct=V[P];for(let tt=0;tt<C[P];tt+=1)j.connect(ct,je+tt,tt);je+=C[P]}}_e=!0},Qe=()=>{ae&&(Ie(),me()),_e=!1};return Ie(),w(ce,Ge,Qe)},Jb=(i,e)=>{const t=i.createBiquadFilter();return or(t,e),Li(t,e,"Q"),Li(t,e,"detune"),Li(t,e,"frequency"),Li(t,e,"gain"),gi(t,e,"type"),t},U6=(i,e)=>(t,r)=>{const a=t.createChannelMerger(r.numberOfInputs);return i!==null&&i.name==="webkitAudioContext"&&e(t,a),or(a,r),a},V6=i=>{const e=i.numberOfOutputs;Object.defineProperty(i,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw vr()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw vr()}}),Object.defineProperty(i,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw vr()}})},$f=(i,e)=>{const t=i.createChannelSplitter(e.numberOfOutputs);return or(t,e),V6(t),t},H6=(i,e,t,r,a)=>(o,h)=>{if(o.createConstantSource===void 0)return t(o,h);const c=o.createConstantSource();return or(c,h),Li(c,h,"offset"),e(r,()=>r(o))||sg(c),e(a,()=>a(o))||ag(c),i(o,c),c},Eh=(i,e)=>(i.connect=e.connect.bind(e),i.disconnect=e.disconnect.bind(e),i),G6=(i,e,t,r)=>(a,{offset:o,...h})=>{const c=a.createBuffer(1,2,44100),f=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=t(a,{...h,gain:o}),m=c.getChannelData(0);m[0]=1,m[1]=1,f.buffer=c,f.loop=!0;const x={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(N){d.channelCount=N},get channelCountMode(){return d.channelCountMode},set channelCountMode(N){d.channelCountMode=N},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(N){d.channelInterpretation=N},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return f.onended},set onended(N){f.onended=N},addEventListener(...N){return f.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return f.dispatchEvent(N[0])},removeEventListener(...N){return f.removeEventListener(N[0],N[1],N[2])},start(N=0){f.start.call(f,N)},stop(N=0){f.stop.call(f,N)}},w=()=>f.connect(d),y=()=>f.disconnect(d);return i(a,f),r(Eh(x,d),w,y)},Y6=(i,e)=>(t,r)=>{const a=t.createConvolver();if(or(a,r),r.disableNormalization===a.normalize&&(a.normalize=!r.disableNormalization),gi(a,r,"buffer"),r.channelCount>2||(e(a,"channelCount",o=>()=>o.call(a),o=>h=>{if(h>2)throw i();return o.call(a,h)}),r.channelCountMode==="max"))throw i();return e(a,"channelCountMode",o=>()=>o.call(a),o=>h=>{if(h==="max")throw i();return o.call(a,h)}),a},ex=(i,e)=>{const t=i.createDelay(e.maxDelayTime);return or(t,e),Li(t,e,"delayTime"),t},W6=i=>(e,t)=>{const r=e.createDynamicsCompressor();if(or(r,t),t.channelCount>2||t.channelCountMode==="max")throw i();return Li(r,t,"attack"),Li(r,t,"knee"),Li(r,t,"ratio"),Li(r,t,"release"),Li(r,t,"threshold"),r},Ss=(i,e)=>{const t=i.createGain();return or(t,e),Li(t,e,"gain"),t},X6=i=>(e,t,r)=>{if(e.createIIRFilter===void 0)return i(e,t,r);const a=e.createIIRFilter(r.feedforward,r.feedback);return or(a,r),a};function Z6(i,e){const t=e[0]*e[0]+e[1]*e[1];return[(i[0]*e[0]+i[1]*e[1])/t,(i[1]*e[0]-i[0]*e[1])/t]}function K6(i,e){return[i[0]*e[0]-i[1]*e[1],i[0]*e[1]+i[1]*e[0]]}function V5(i,e){let t=[0,0];for(let r=i.length-1;r>=0;r-=1)t=K6(t,e),t[0]+=i[r];return t}const Q6=(i,e,t,r)=>(a,o,{channelCount:h,channelCountMode:c,channelInterpretation:f,feedback:d,feedforward:m})=>{const x=$b(o,a.sampleRate),w=d instanceof Float64Array?d:new Float64Array(d),y=m instanceof Float64Array?m:new Float64Array(m),N=w.length,A=y.length,E=Math.min(N,A);if(N===0||N>20)throw r();if(w[0]===0)throw e();if(A===0||A>20)throw r();if(y[0]===0)throw e();if(w[0]!==1){for(let D=0;D<A;D+=1)y[D]/=w[0];for(let D=1;D<N;D+=1)w[D]/=w[0]}const C=t(a,x,h,h);C.channelCount=h,C.channelCountMode=c,C.channelInterpretation=f;const U=32,F=[],q=[],z=[];for(let D=0;D<h;D+=1){F.push(0);const R=new Float32Array(U),Z=new Float32Array(U);R.fill(0),Z.fill(0),q.push(R),z.push(Z)}C.onaudioprocess=D=>{const R=D.inputBuffer,Z=D.outputBuffer,O=R.numberOfChannels;for(let j=0;j<O;j+=1){const V=R.getChannelData(j),J=Z.getChannelData(j);F[j]=Qb(w,N,y,A,E,q[j],z[j],F[j],U,V,J)}};const $=a.sampleRate/2;return Eh({get bufferSize(){return x},get channelCount(){return C.channelCount},set channelCount(D){C.channelCount=D},get channelCountMode(){return C.channelCountMode},set channelCountMode(D){C.channelCountMode=D},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(D){C.channelInterpretation=D},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...D){return C.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return C.dispatchEvent(D[0])},getFrequencyResponse(D,R,Z){if(D.length!==R.length||R.length!==Z.length)throw i();const O=D.length;for(let j=0;j<O;j+=1){const V=-Math.PI*(D[j]/$),J=[Math.cos(V),Math.sin(V)],ue=V5(y,J),ee=V5(w,J),ie=Z6(ue,ee);R[j]=Math.sqrt(ie[0]*ie[0]+ie[1]*ie[1]),Z[j]=Math.atan2(ie[1],ie[0])}},removeEventListener(...D){return C.removeEventListener(D[0],D[1],D[2])}},C)},$6=(i,e)=>i.createMediaElementSource(e.mediaElement),J6=(i,e)=>{const t=i.createMediaStreamDestination();return or(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},eA=(i,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((o,h)=>o.id<h.id?-1:o.id>h.id?1:0);const r=t.slice(0,1),a=i.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(a,"mediaStream",{value:e}),a},tA=(i,e)=>(t,{mediaStreamTrack:r})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(r);const a=new MediaStream([r]),o=t.createMediaStreamSource(a);if(r.kind!=="audio")throw i();if(e(t))throw new TypeError;return o},nA=i=>i===null?null:i.hasOwnProperty("OfflineAudioContext")?i.OfflineAudioContext:i.hasOwnProperty("webkitOfflineAudioContext")?i.webkitOfflineAudioContext:null,iA=(i,e,t,r,a,o)=>(h,c)=>{const f=h.createOscillator();return or(f,c),Li(f,c,"detune"),Li(f,c,"frequency"),c.periodicWave!==void 0?f.setPeriodicWave(c.periodicWave):gi(f,c,"type"),e(t,()=>t(h))||sg(f),e(r,()=>r(h))||o(f,h),e(a,()=>a(h))||ag(f),i(h,f),f},rA=i=>(e,t)=>{const r=e.createPanner();return r.orientationX===void 0?i(e,t):(or(r,t),Li(r,t,"orientationX"),Li(r,t,"orientationY"),Li(r,t,"orientationZ"),Li(r,t,"positionX"),Li(r,t,"positionY"),Li(r,t,"positionZ"),gi(r,t,"coneInnerAngle"),gi(r,t,"coneOuterAngle"),gi(r,t,"coneOuterGain"),gi(r,t,"distanceModel"),gi(r,t,"maxDistance"),gi(r,t,"panningModel"),gi(r,t,"refDistance"),gi(r,t,"rolloffFactor"),r)},sA=(i,e,t,r,a,o,h,c,f,d)=>(m,{coneInnerAngle:x,coneOuterAngle:w,coneOuterGain:y,distanceModel:N,maxDistance:A,orientationX:E,orientationY:C,orientationZ:U,panningModel:F,positionX:q,positionY:z,positionZ:$,refDistance:Y,rolloffFactor:D,...R})=>{const Z=m.createPanner();if(R.channelCount>2||R.channelCountMode==="max")throw h();or(Z,R);const O={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},j=t(m,{...O,channelInterpretation:"speakers",numberOfInputs:6}),V=r(m,{...R,gain:1}),J=r(m,{...O,gain:1}),ue=r(m,{...O,gain:0}),ee=r(m,{...O,gain:0}),ie=r(m,{...O,gain:0}),ce=r(m,{...O,gain:0}),he=r(m,{...O,gain:0}),we=a(m,256,6,1),X=o(m,{...O,curve:new Float32Array([1,1]),oversample:"none"});let T=[E,C,U],H=[q,z,$];const Q=new Float32Array(1);we.onaudioprocess=({inputBuffer:de})=>{const _e=[f(de,Q,0),f(de,Q,1),f(de,Q,2)];_e.some((Ie,He)=>Ie!==T[He])&&(Z.setOrientation(..._e),T=_e);const ve=[f(de,Q,3),f(de,Q,4),f(de,Q,5)];ve.some((Ie,He)=>Ie!==H[He])&&(Z.setPosition(...ve),H=ve)},Object.defineProperty(ue.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ee.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ie.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ce.gain,"defaultValue",{get:()=>0}),Object.defineProperty(he.gain,"defaultValue",{get:()=>0});const re={get bufferSize(){},get channelCount(){return Z.channelCount},set channelCount(de){if(de>2)throw h();V.channelCount=de,Z.channelCount=de},get channelCountMode(){return Z.channelCountMode},set channelCountMode(de){if(de==="max")throw h();V.channelCountMode=de,Z.channelCountMode=de},get channelInterpretation(){return Z.channelInterpretation},set channelInterpretation(de){V.channelInterpretation=de,Z.channelInterpretation=de},get coneInnerAngle(){return Z.coneInnerAngle},set coneInnerAngle(de){Z.coneInnerAngle=de},get coneOuterAngle(){return Z.coneOuterAngle},set coneOuterAngle(de){Z.coneOuterAngle=de},get coneOuterGain(){return Z.coneOuterGain},set coneOuterGain(de){if(de<0||de>1)throw e();Z.coneOuterGain=de},get context(){return Z.context},get distanceModel(){return Z.distanceModel},set distanceModel(de){Z.distanceModel=de},get inputs(){return[V]},get maxDistance(){return Z.maxDistance},set maxDistance(de){if(de<0)throw new RangeError;Z.maxDistance=de},get numberOfInputs(){return Z.numberOfInputs},get numberOfOutputs(){return Z.numberOfOutputs},get orientationX(){return J.gain},get orientationY(){return ue.gain},get orientationZ(){return ee.gain},get panningModel(){return Z.panningModel},set panningModel(de){Z.panningModel=de},get positionX(){return ie.gain},get positionY(){return ce.gain},get positionZ(){return he.gain},get refDistance(){return Z.refDistance},set refDistance(de){if(de<0)throw new RangeError;Z.refDistance=de},get rolloffFactor(){return Z.rolloffFactor},set rolloffFactor(de){if(de<0)throw new RangeError;Z.rolloffFactor=de},addEventListener(...de){return V.addEventListener(de[0],de[1],de[2])},dispatchEvent(...de){return V.dispatchEvent(de[0])},removeEventListener(...de){return V.removeEventListener(de[0],de[1],de[2])}};x!==re.coneInnerAngle&&(re.coneInnerAngle=x),w!==re.coneOuterAngle&&(re.coneOuterAngle=w),y!==re.coneOuterGain&&(re.coneOuterGain=y),N!==re.distanceModel&&(re.distanceModel=N),A!==re.maxDistance&&(re.maxDistance=A),E!==re.orientationX.value&&(re.orientationX.value=E),C!==re.orientationY.value&&(re.orientationY.value=C),U!==re.orientationZ.value&&(re.orientationZ.value=U),F!==re.panningModel&&(re.panningModel=F),q!==re.positionX.value&&(re.positionX.value=q),z!==re.positionY.value&&(re.positionY.value=z),$!==re.positionZ.value&&(re.positionZ.value=$),Y!==re.refDistance&&(re.refDistance=Y),D!==re.rolloffFactor&&(re.rolloffFactor=D),(T[0]!==1||T[1]!==0||T[2]!==0)&&Z.setOrientation(...T),(H[0]!==0||H[1]!==0||H[2]!==0)&&Z.setPosition(...H);const ae=()=>{V.connect(Z),i(V,X,0,0),X.connect(J).connect(j,0,0),X.connect(ue).connect(j,0,1),X.connect(ee).connect(j,0,2),X.connect(ie).connect(j,0,3),X.connect(ce).connect(j,0,4),X.connect(he).connect(j,0,5),j.connect(we).connect(m.destination)},me=()=>{V.disconnect(Z),c(V,X,0,0),X.disconnect(J),J.disconnect(j),X.disconnect(ue),ue.disconnect(j),X.disconnect(ee),ee.disconnect(j),X.disconnect(ie),ie.disconnect(j),X.disconnect(ce),ce.disconnect(j),X.disconnect(he),he.disconnect(j),j.disconnect(we),we.disconnect(m.destination)};return d(Eh(re,Z),ae,me)},aA=i=>(e,{disableNormalization:t,imag:r,real:a})=>{const o=r instanceof Float32Array?r:new Float32Array(r),h=a instanceof Float32Array?a:new Float32Array(a),c=e.createPeriodicWave(h,o,{disableNormalization:t});if(Array.from(r).length<2)throw i();return c},Jf=(i,e,t,r)=>i.createScriptProcessor(e,t,r),oA=(i,e)=>(t,r)=>{const a=r.channelCountMode;if(a==="clamped-max")throw e();if(t.createStereoPanner===void 0)return i(t,r);const o=t.createStereoPanner();return or(o,r),Li(o,r,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>a,set:h=>{if(h!==a)throw e()}}),o},lA=(i,e,t,r,a,o)=>{const c=new Float32Array([1,1]),f=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...d,oversample:"none"},x=(N,A,E,C)=>{const U=new Float32Array(16385),F=new Float32Array(16385);for(let R=0;R<16385;R+=1){const Z=R/16384*f;U[R]=Math.cos(Z),F[R]=Math.sin(Z)}const q=t(N,{...d,gain:0}),z=r(N,{...m,curve:U}),$=r(N,{...m,curve:c}),Y=t(N,{...d,gain:0}),D=r(N,{...m,curve:F});return{connectGraph(){A.connect(q),A.connect($.inputs===void 0?$:$.inputs[0]),A.connect(Y),$.connect(E),E.connect(z.inputs===void 0?z:z.inputs[0]),E.connect(D.inputs===void 0?D:D.inputs[0]),z.connect(q.gain),D.connect(Y.gain),q.connect(C,0,0),Y.connect(C,0,1)},disconnectGraph(){A.disconnect(q),A.disconnect($.inputs===void 0?$:$.inputs[0]),A.disconnect(Y),$.disconnect(E),E.disconnect(z.inputs===void 0?z:z.inputs[0]),E.disconnect(D.inputs===void 0?D:D.inputs[0]),z.disconnect(q.gain),D.disconnect(Y.gain),q.disconnect(C,0,0),Y.disconnect(C,0,1)}}},w=(N,A,E,C)=>{const U=new Float32Array(16385),F=new Float32Array(16385),q=new Float32Array(16385),z=new Float32Array(16385),$=Math.floor(16385/2);for(let ie=0;ie<16385;ie+=1)if(ie>$){const ce=(ie-$)/(16384-$)*f;U[ie]=Math.cos(ce),F[ie]=Math.sin(ce),q[ie]=0,z[ie]=1}else{const ce=ie/(16384-$)*f;U[ie]=1,F[ie]=0,q[ie]=Math.cos(ce),z[ie]=Math.sin(ce)}const Y=e(N,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),D=t(N,{...d,gain:0}),R=r(N,{...m,curve:U}),Z=t(N,{...d,gain:0}),O=r(N,{...m,curve:F}),j=r(N,{...m,curve:c}),V=t(N,{...d,gain:0}),J=r(N,{...m,curve:q}),ue=t(N,{...d,gain:0}),ee=r(N,{...m,curve:z});return{connectGraph(){A.connect(Y),A.connect(j.inputs===void 0?j:j.inputs[0]),Y.connect(D,0),Y.connect(Z,0),Y.connect(V,1),Y.connect(ue,1),j.connect(E),E.connect(R.inputs===void 0?R:R.inputs[0]),E.connect(O.inputs===void 0?O:O.inputs[0]),E.connect(J.inputs===void 0?J:J.inputs[0]),E.connect(ee.inputs===void 0?ee:ee.inputs[0]),R.connect(D.gain),O.connect(Z.gain),J.connect(V.gain),ee.connect(ue.gain),D.connect(C,0,0),V.connect(C,0,0),Z.connect(C,0,1),ue.connect(C,0,1)},disconnectGraph(){A.disconnect(Y),A.disconnect(j.inputs===void 0?j:j.inputs[0]),Y.disconnect(D,0),Y.disconnect(Z,0),Y.disconnect(V,1),Y.disconnect(ue,1),j.disconnect(E),E.disconnect(R.inputs===void 0?R:R.inputs[0]),E.disconnect(O.inputs===void 0?O:O.inputs[0]),E.disconnect(J.inputs===void 0?J:J.inputs[0]),E.disconnect(ee.inputs===void 0?ee:ee.inputs[0]),R.disconnect(D.gain),O.disconnect(Z.gain),J.disconnect(V.gain),ee.disconnect(ue.gain),D.disconnect(C,0,0),V.disconnect(C,0,0),Z.disconnect(C,0,1),ue.disconnect(C,0,1)}}},y=(N,A,E,C,U)=>{if(A===1)return x(N,E,C,U);if(A===2)return w(N,E,C,U);throw a()};return(N,{channelCount:A,channelCountMode:E,pan:C,...U})=>{if(E==="max")throw a();const F=i(N,{...U,channelCount:1,channelCountMode:E,numberOfInputs:2}),q=t(N,{...U,channelCount:A,channelCountMode:E,gain:1}),z=t(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:$,disconnectGraph:Y}=y(N,A,q,z,F);Object.defineProperty(z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(z.gain,"maxValue",{get:()=>1}),Object.defineProperty(z.gain,"minValue",{get:()=>-1});const D={get bufferSize(){},get channelCount(){return q.channelCount},set channelCount(j){q.channelCount!==j&&(R&&Y(),{connectGraph:$,disconnectGraph:Y}=y(N,j,q,z,F),R&&$()),q.channelCount=j},get channelCountMode(){return q.channelCountMode},set channelCountMode(j){if(j==="clamped-max"||j==="max")throw a();q.channelCountMode=j},get channelInterpretation(){return q.channelInterpretation},set channelInterpretation(j){q.channelInterpretation=j},get context(){return q.context},get inputs(){return[q]},get numberOfInputs(){return q.numberOfInputs},get numberOfOutputs(){return q.numberOfOutputs},get pan(){return z.gain},addEventListener(...j){return q.addEventListener(j[0],j[1],j[2])},dispatchEvent(...j){return q.dispatchEvent(j[0])},removeEventListener(...j){return q.removeEventListener(j[0],j[1],j[2])}};let R=!1;const Z=()=>{$(),R=!0},O=()=>{Y(),R=!1};return o(Eh(D,F),Z,O)}},cA=(i,e,t,r,a,o,h)=>(c,f)=>{const d=c.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,f);or(d,f);const m=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(m!==null&&m.length<2)throw e();gi(d,{curve:m},"curve"),gi(d,f,"oversample");let x=null,w=!1;return h(d,"curve",A=>()=>A.call(d),A=>E=>(A.call(d,E),w&&(r(E)&&x===null?x=i(c,d):!r(E)&&x!==null&&(x(),x=null)),E)),a(d,()=>{w=!0,r(d.curve)&&(x=i(c,d))},()=>{w=!1,x!==null&&(x(),x=null)})},uA=(i,e,t,r,a)=>(o,{curve:h,oversample:c,...f})=>{const d=o.createWaveShaper(),m=o.createWaveShaper();or(d,f),or(m,f);const x=t(o,{...f,gain:1}),w=t(o,{...f,gain:-1}),y=t(o,{...f,gain:1}),N=t(o,{...f,gain:-1});let A=null,E=!1,C=null;const U={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(z){x.channelCount=z,w.channelCount=z,d.channelCount=z,y.channelCount=z,m.channelCount=z,N.channelCount=z},get channelCountMode(){return d.channelCountMode},set channelCountMode(z){x.channelCountMode=z,w.channelCountMode=z,d.channelCountMode=z,y.channelCountMode=z,m.channelCountMode=z,N.channelCountMode=z},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(z){x.channelInterpretation=z,w.channelInterpretation=z,d.channelInterpretation=z,y.channelInterpretation=z,m.channelInterpretation=z,N.channelInterpretation=z},get context(){return d.context},get curve(){return C},set curve(z){if(z!==null&&z.length<2)throw e();if(z===null)d.curve=z,m.curve=z;else{const $=z.length,Y=new Float32Array($+2-$%2),D=new Float32Array($+2-$%2);Y[0]=z[0],D[0]=-z[$-1];const R=Math.ceil(($+1)/2),Z=($+1)/2-1;for(let O=1;O<R;O+=1){const j=O/R*Z,V=Math.floor(j),J=Math.ceil(j);Y[O]=V===J?z[V]:(1-(j-V))*z[V]+(1-(J-j))*z[J],D[O]=V===J?-z[$-1-V]:-((1-(j-V))*z[$-1-V])-(1-(J-j))*z[$-1-J]}Y[R]=$%2===1?z[R-1]:(z[R-2]+z[R-1])/2,d.curve=Y,m.curve=D}C=z,E&&(r(C)&&A===null?A=i(o,x):A!==null&&(A(),A=null))},get inputs(){return[x]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(z){d.oversample=z,m.oversample=z},addEventListener(...z){return x.addEventListener(z[0],z[1],z[2])},dispatchEvent(...z){return x.dispatchEvent(z[0])},removeEventListener(...z){return x.removeEventListener(z[0],z[1],z[2])}};h!==null&&(U.curve=h instanceof Float32Array?h:new Float32Array(h)),c!==U.oversample&&(U.oversample=c);const F=()=>{x.connect(d).connect(y),x.connect(w).connect(m).connect(N).connect(y),E=!0,r(C)&&(A=i(o,x))},q=()=>{x.disconnect(d),d.disconnect(y),x.disconnect(w),w.disconnect(m),m.disconnect(N),N.disconnect(y),E=!1,A!==null&&(A(),A=null)};return a(Eh(U,y),F,q)},es=()=>new DOMException("","NotSupportedError"),hA={numberOfChannels:1},fA=(i,e,t,r,a)=>class extends i{constructor(h,c,f){let d;if(typeof h=="number"&&c!==void 0&&f!==void 0)d={length:c,numberOfChannels:h,sampleRate:f};else if(typeof h=="object")d=h;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:x,sampleRate:w}={...hA,...d},y=r(x,m,w);e(zf,()=>zf(y))||y.addEventListener("statechange",(()=>{let N=0;const A=E=>{this._state==="running"&&(N>0?(y.removeEventListener("statechange",A),E.stopImmediatePropagation(),this._waitForThePromiseToSettle(E)):N+=1)};return A})()),super(y,x),this._length=m,this._nativeOfflineAudioContext=y,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Gb(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},dA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},pA=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),x={...dA,...d},w=t(m,x),y=o(m),N=y?r():null,A=f.sampleRate/2;super(f,!1,w,N),this._detune=e(this,y,w.detune,153600,-153600),this._frequency=e(this,y,w.frequency,A,-A),this._nativeOscillatorNode=w,this._onended=null,this._oscillatorNodeRenderer=N,this._oscillatorNodeRenderer!==null&&x.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=x.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeOscillatorNode.onended=d;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===d?f:m}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){Ah(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),fl(this)&&Zf(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},mA=(i,e,t,r,a)=>()=>{const o=new WeakMap;let h=null,c=null,f=null;const d=async(m,x)=>{let w=t(m);const y=Fr(w,x);if(!y){const N={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,detune:w.detune.value,frequency:w.frequency.value,periodicWave:h===null?void 0:h,type:w.type};w=e(x,N),c!==null&&w.start(c),f!==null&&w.stop(f)}return o.set(x,w),y?(await i(x,m.detune,w.detune),await i(x,m.frequency,w.frequency)):(await r(x,m.detune,w.detune),await r(x,m.frequency,w.frequency)),await a(m,x,w),w};return{set periodicWave(m){h=m},set start(m){c=m},set stop(m){f=m},render(m,x){const w=o.get(x);return w!==void 0?Promise.resolve(w):d(m,x)}}},gA={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},vA=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),x={...gA,...d},w=t(m,x),y=o(m),N=y?r():null;super(f,!1,w,N),this._nativePannerNode=w,this._orientationX=e(this,y,w.orientationX,$r,_s),this._orientationY=e(this,y,w.orientationY,$r,_s),this._orientationZ=e(this,y,w.orientationZ,$r,_s),this._positionX=e(this,y,w.positionX,$r,_s),this._positionY=e(this,y,w.positionY,$r,_s),this._positionZ=e(this,y,w.positionZ,$r,_s),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},yA=(i,e,t,r,a,o,h,c,f,d)=>()=>{const m=new WeakMap;let x=null;const w=async(y,N)=>{let A=null,E=o(y);const C={channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation},U={...C,coneInnerAngle:E.coneInnerAngle,coneOuterAngle:E.coneOuterAngle,coneOuterGain:E.coneOuterGain,distanceModel:E.distanceModel,maxDistance:E.maxDistance,panningModel:E.panningModel,refDistance:E.refDistance,rolloffFactor:E.rolloffFactor},F=Fr(E,N);if("bufferSize"in E)A=r(N,{...C,gain:1});else if(!F){const q={...U,orientationX:E.orientationX.value,orientationY:E.orientationY.value,orientationZ:E.orientationZ.value,positionX:E.positionX.value,positionY:E.positionY.value,positionZ:E.positionZ.value};E=a(N,q)}if(m.set(N,A===null?E:A),A!==null){if(x===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const O=new h(6,y.context.length,N.sampleRate),j=e(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});j.connect(O.destination),x=(async()=>{const V=await Promise.all([y.orientationX,y.orientationY,y.orientationZ,y.positionX,y.positionY,y.positionZ].map(async(J,ue)=>{const ee=t(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ue===0?1:0});return await c(O,J,ee.offset),ee}));for(let J=0;J<6;J+=1)V[J].connect(j,0,J),V[J].start(0);return d(O)})()}const q=await x,z=r(N,{...C,gain:1});await f(y,N,z);const $=[];for(let O=0;O<q.numberOfChannels;O+=1)$.push(q.getChannelData(O));let Y=[$[0][0],$[1][0],$[2][0]],D=[$[3][0],$[4][0],$[5][0]],R=r(N,{...C,gain:1}),Z=a(N,{...U,orientationX:Y[0],orientationY:Y[1],orientationZ:Y[2],positionX:D[0],positionY:D[1],positionZ:D[2]});z.connect(R).connect(Z.inputs[0]),Z.connect(A);for(let O=128;O<q.length;O+=128){const j=[$[0][O],$[1][O],$[2][O]],V=[$[3][O],$[4][O],$[5][O]];if(j.some((J,ue)=>J!==Y[ue])||V.some((J,ue)=>J!==D[ue])){Y=j,D=V;const J=O/N.sampleRate;R.gain.setValueAtTime(0,J),R=r(N,{...C,gain:0}),Z=a(N,{...U,orientationX:Y[0],orientationY:Y[1],orientationZ:Y[2],positionX:D[0],positionY:D[1],positionZ:D[2]}),R.gain.setValueAtTime(1,J),z.connect(R).connect(Z.inputs[0]),Z.connect(A)}}return A}return F?(await i(N,y.orientationX,E.orientationX),await i(N,y.orientationY,E.orientationY),await i(N,y.orientationZ,E.orientationZ),await i(N,y.positionX,E.positionX),await i(N,y.positionY,E.positionY),await i(N,y.positionZ,E.positionZ)):(await c(N,y.orientationX,E.orientationX),await c(N,y.orientationY,E.orientationY),await c(N,y.orientationZ,E.orientationZ),await c(N,y.positionX,E.positionX),await c(N,y.positionY,E.positionY),await c(N,y.positionZ,E.positionZ)),Th(E)?await f(y,N,E.inputs[0]):await f(y,N,E),E};return{render(y,N){const A=m.get(N);return A!==void 0?Promise.resolve(A):w(y,N)}}},bA={disableNormalization:!1},xA=(i,e,t,r)=>class tx{constructor(o,h){const c=e(o),f=r({...bA,...h}),d=i(c,f);return t.add(d),d}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===tx.prototype||t.has(o)}},_A=(i,e)=>(t,r,a)=>(i(r).replay(a),e(r,t,a)),wA=(i,e,t)=>async(r,a,o)=>{const h=i(r);await Promise.all(h.activeInputs.map((c,f)=>Array.from(c).map(async([d,m])=>{const w=await e(d).render(d,a),y=r.context.destination;!t(d)&&(r!==y||!t(r))&&w.connect(o,m,f)})).reduce((c,f)=>[...c,...f],[]))},SA=(i,e,t)=>async(r,a,o)=>{const h=e(r);await Promise.all(Array.from(h.activeInputs).map(async([c,f])=>{const m=await i(c).render(c,a);t(c)||m.connect(o,f)}))},AA=(i,e,t,r)=>a=>i(zf,()=>zf(a))?Promise.resolve(i(r,r)).then(o=>{if(!o){const h=t(a,512,0,1);a.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>a.currentTime,h.connect(a.destination)}return a.startRendering()}):new Promise(o=>{const h=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=c=>{h.disconnect(),o(c.renderedBuffer)},h.connect(a.destination),a.startRendering()}),NA=i=>(e,t)=>{i.set(e,t)},CA=i=>(e,t)=>i.set(e,t),TA=(i,e,t,r,a,o,h,c)=>(f,d)=>t(f).render(f,d).then(()=>Promise.all(Array.from(r(d)).map(m=>t(m).render(m,d)))).then(()=>a(d)).then(m=>(typeof m.copyFromChannel!="function"?(h(m),ng(m)):e(o,()=>o(m))||c(m),i.add(m),m)),EA={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},kA=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=a(c),m={...EA,...f},x=t(d,m),w=o(d),y=w?r():null;super(c,!1,x,y),this._pan=e(this,w,x.pan)}get pan(){return this._pan}},OA=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Fr(d,f);if(!m){const x={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=e(f,x)}return o.set(f,d),m?await i(f,c.pan,d.pan):await r(f,c.pan,d.pan),Th(d)?await a(c,f,d.inputs[0]):await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},MA=i=>()=>{if(i===null)return!1;try{new i({length:1,sampleRate:44100})}catch{return!1}return!0},LA=(i,e)=>async()=>{if(i===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),a=URL.createObjectURL(t);let o=!1,h=!1;try{await r.audioWorklet.addModule(a);const c=new i(r,"a",{numberOfOutputs:0}),f=r.createOscillator();c.port.onmessage=()=>o=!0,c.onprocessorerror=()=>h=!0,f.connect(c),f.start(0),await r.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(a)}return o&&!h},DA=(i,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),r=i(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{t.oncomplete=()=>{r.disconnect(),a(t.currentTime!==0)},t.startRendering()})},jA=()=>new DOMException("","UnknownError"),RA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},IA=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),x={...RA,...d},w=t(m,x),N=o(m)?r():null;super(f,!0,w,N),this._isCurveNullified=!1,this._nativeWaveShaperNode=w,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},BA=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Fr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=i(h,d)}return r.set(h,c),Th(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},zA=()=>typeof window>"u"?null:window,qA=(i,e)=>t=>{t.copyFromChannel=(r,a,o=0)=>{const h=i(o),c=i(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=r.length;for(let x=h<0?-h:0;x+h<f&&x<m;x+=1)r[x]=d[x+h]},t.copyToChannel=(r,a,o=0)=>{const h=i(o),c=i(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=r.length;for(let x=h<0?-h:0;x+h<f&&x<m;x+=1)d[x+h]=r[x]}},FA=i=>e=>{e.copyFromChannel=(t=>(r,a,o=0)=>{const h=i(o),c=i(a);if(h<e.length)return t.call(e,r,c,h)})(e.copyFromChannel),e.copyToChannel=(t=>(r,a,o=0)=>{const h=i(o),c=i(a);if(h<e.length)return t.call(e,r,c,h)})(e.copyToChannel)},PA=i=>(e,t)=>{const r=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),i(e,"buffer",a=>()=>{const o=a.call(e);return o===r?null:o},a=>o=>a.call(e,o===null?r:o))},UA=(i,e)=>(t,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw i()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw i()}});const a=t.createBufferSource();e(r,()=>{const c=r.numberOfInputs;for(let f=0;f<c;f+=1)a.connect(r,0,f)},()=>a.disconnect(r))},nx=(i,e,t)=>i.copyFromChannel===void 0?i.getChannelData(t)[0]:(i.copyFromChannel(e,t),e[0]),ix=i=>{if(i===null)return!1;const e=i.length;return e%2!==0?i[Math.floor(e/2)]!==0:i[e/2-1]+i[e/2]!==0},ed=(i,e,t,r)=>{let a=i;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:o,set:h}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(i,e,{get:t(o),set:r(h)})},VA=i=>({...i,outputChannelCount:i.outputChannelCount!==void 0?i.outputChannelCount:i.numberOfInputs===1&&i.numberOfOutputs===1?[i.channelCount]:Array.from({length:i.numberOfOutputs},()=>1)}),HA=i=>({...i,channelCount:i.numberOfOutputs}),GA=i=>{const{imag:e,real:t}=i;return e===void 0?t===void 0?{...i,imag:[0,0],real:[0,0]}:{...i,imag:Array.from(t,()=>0),real:t}:t===void 0?{...i,imag:e,real:Array.from(e,()=>0)}:{...i,imag:e,real:t}},rx=(i,e,t)=>{try{i.setValueAtTime(e,t)}catch(r){if(r.code!==9)throw r;rx(i,e,t+1e-7)}},YA=i=>{const e=i.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},WA=i=>{const e=i.createBufferSource(),t=i.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},XA=i=>{const e=i.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},og=i=>{const e=i.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},sx=i=>{const e=i.createBuffer(1,1,44100),t=i.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},lg=i=>{const e=i.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},ZA=i=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(i)}finally{e.close(),t.close()}},KA=i=>{i.start=(e=>(t=0,r=0,a)=>{const o=i.buffer,h=o===null?r:Math.min(o.duration,r);o!==null&&h>o.duration-.5/i.context.sampleRate?e.call(i,t,0,0):e.call(i,t,h,a)})(i.start)},ax=(i,e)=>{const t=e.createGain();i.connect(t);const r=(a=>()=>{a.call(i,t),i.removeEventListener("ended",r)})(i.disconnect);i.addEventListener("ended",r),Eh(i,t),i.stop=(a=>{let o=!1;return(h=0)=>{if(o)try{a.call(i,h)}catch{t.gain.setValueAtTime(0,h)}else a.call(i,h),o=!0}})(i.stop)},kh=(i,e)=>t=>{const r={value:i};return Object.defineProperties(t,{currentTarget:r,target:r}),typeof e=="function"?e.call(i,t):e.handleEvent.call(i,t)},QA=v4(ou),$A=S4(ou),JA=RS(n1),ox=new WeakMap,eN=JS(ox),eo=hS(new Map,new WeakMap),ko=zA(),lx=k6(eo,Oo),cg=$S(Jr),Or=wA(Jr,cg,iu),tN=E4(lx,li,Or),ei=n6(t1),vl=nA(ko),Wn=b6(vl),cx=new WeakMap,ux=GS(kh),td=D6(ko),ug=m6(td),hg=g6(ko),hx=v6(ko),qf=R6(ko),Fi=J4(y4(zb),w4(QA,$A,Dp,JA,jp,Jr,eN,Xf,li,ou,fl,iu,xp),eo,u6(E0,jp,Jr,li,Bf,fl),Oo,i1,es,MS(Dp,E0,Jr,li,Bf,ei,fl,Wn),zS(cx,Jr,Za),ux,ei,ug,hg,hx,Wn,qf),nN=T4(Fi,tN,Oo,lx,ei,Wn),fg=new WeakSet,H5=O6(ko),fx=AS(new Uint32Array(1)),dg=qA(fx,Oo),pg=FA(fx),dx=O4(fg,eo,es,H5,vl,MA(H5),dg,pg),r1=A4(Ss),px=SA(cg,Kf,iu),Mo=yS(px),Oh=L6(r1,eo,YA,WA,XA,og,sx,lg,KA,PA(ed),ax),Lo=_A(e6(Kf),px),iN=D4(Mo,Oh,li,Lo,Or),to=eS(b4(qb),cx,tg,tS,h4,f4,d4,p4,m4,N0,Ib,td,rx),rN=L4(Fi,iN,to,vr,Oh,ei,Wn,kh),sN=U4(Fi,V4,Oo,vr,j6(Ss,ed),ei,Wn,Or),aN=uS(Mo,Jb,li,Lo,Or),lu=CA(ox),oN=cS(Fi,to,aN,i1,Jb,ei,Wn,lu),pc=T6(ou,hg),lN=UA(vr,pc),mc=U6(td,lN),cN=pS(mc,li,Or),uN=dS(Fi,cN,mc,ei,Wn),hN=vS($f,li,Or),fN=gS(Fi,hN,$f,ei,Wn,HA),dN=G6(r1,Oh,Ss,pc),Mh=H6(r1,eo,dN,og,lg),pN=SS(Mo,Mh,li,Lo,Or),mN=wS(Fi,to,pN,Mh,ei,Wn,kh),mx=Y6(es,ed),gN=TS(mx,li,Or),vN=CS(Fi,gN,mx,ei,Wn,lu),yN=jS(Mo,ex,li,Lo,Or),bN=DS(Fi,to,yN,ex,ei,Wn,lu),gx=W6(es),xN=US(Mo,gx,li,Lo,Or),_N=PS(Fi,to,xN,gx,es,ei,Wn,lu),wN=KS(Mo,Ss,li,Lo,Or),SN=ZS(Fi,to,wN,Ss,ei,Wn),AN=Q6(i1,vr,Jf,es),s1=AA(eo,Ss,Jf,DA(Ss,vl)),NN=c6(Oh,li,vl,Or,s1),CN=X6(AN),TN=o6(Fi,CN,NN,ei,Wn,lu),EN=H4(to,mc,Mh,Jf,es,nx,Wn,ed),vx=new WeakMap,kN=C6(sN,EN,ux,Wn,vx,kh),yx=iA(r1,eo,og,sx,lg,ax),ON=mA(Mo,yx,li,Lo,Or),MN=pA(Fi,to,yx,ON,ei,Wn,kh),bx=xS(Oh),LN=uA(bx,vr,Ss,ix,pc),a1=cA(bx,vr,LN,ix,pc,td,ed),DN=sA(Dp,vr,mc,Ss,Jf,a1,es,jp,nx,pc),xx=rA(DN),jN=yA(Mo,mc,Mh,Ss,xx,li,vl,Lo,Or,s1),RN=vA(Fi,to,xx,jN,ei,Wn,lu),IN=aA(Oo),BN=xA(IN,ei,new WeakSet,GA),zN=lA(mc,$f,Ss,a1,es,pc),_x=oA(zN,es),qN=OA(Mo,_x,li,Lo,Or),FN=kA(Fi,to,_x,qN,ei,Wn),PN=BA(a1,li,Or),UN=IA(Fi,vr,a1,PN,ei,Wn,lu),wx=x6(ko),mg=YS(ko),Sx=new WeakMap,VN=i6(Sx,vl),HN=wx?_4(eo,es,HS(ko),mg,WS(g4),ei,VN,Wn,qf,new WeakMap,new WeakMap,LA(qf,vl),ko):void 0,GN=y6(ug,Wn),YN=OS(fg,eo,kS,VS,new WeakSet,ei,GN,Mp,zf,dg,pg),Ax=oS(HN,nN,dx,rN,oN,uN,fN,mN,vN,YN,bN,_N,SN,TN,kN,MN,RN,BN,FN,UN),WN=_6(Fi,$6,ei,Wn),XN=S6(Fi,J6,ei,Wn),ZN=A6(Fi,eA,ei,Wn),KN=tA(vr,Wn),QN=N6(Fi,KN,ei),$N=P4(Ax,vr,es,jA,WN,XN,ZN,QN,td),gg=r6(vx),JN=N4(gg),Nx=bS(Oo),e8=IS(gg),Cx=qS(Oo),Tx=new WeakMap,t8=QS(Tx,Za),n8=P6(Nx,Oo,vr,mc,$f,Mh,Ss,Jf,es,Cx,mg,t8,pc),i8=B6(vr,n8,Ss,es,pc),r8=aS(Mo,Nx,Oh,mc,$f,Mh,Ss,e8,Cx,mg,li,qf,vl,Lo,Or,s1),s8=t6(Sx),a8=NA(Tx),G5=wx?iS(JN,Fi,to,r8,i8,Jr,s8,ei,Wn,qf,VA,a8,ZA,kh):void 0,o8=ES(es,vl),l8=TA(fg,eo,cg,gg,s1,Mp,dg,pg),c8=fA(Ax,eo,vr,o8,l8),u8=h6(t1,ug),h8=f6(eg,hg),f8=d6(tg,hx),d8=p6(t1,Wn);function da(i){return i===void 0}function cn(i){return i!==void 0}function p8(i){return typeof i=="function"}function dl(i){return typeof i=="number"}function eu(i){return Object.prototype.toString.call(i)==="[object Object]"&&i.constructor===Object}function m8(i){return typeof i=="boolean"}function Hs(i){return Array.isArray(i)}function pl(i){return typeof i=="string"}function sp(i){return pl(i)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(i)}function qt(i,e){if(!i)throw new Error(e)}function ml(i,e,t=1/0){if(!(e<=i&&i<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${i}`)}function Ex(i){!i.isOffline&&i.state!=="running"&&o1('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let kx=!1,Y5=!1;function W5(i){kx=i}function g8(i){da(i)&&kx&&!Y5&&(Y5=!0,o1("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Ox=console;function v8(...i){Ox.log(...i)}function o1(...i){Ox.warn(...i)}function y8(i){return new $N(i)}function b8(i,e,t){return new c8(i,e,t)}const Ps=typeof self=="object"?self:null,x8=Ps&&(Ps.hasOwnProperty("AudioContext")||Ps.hasOwnProperty("webkitAudioContext"));function _8(i,e,t){return qt(cn(G5),"AudioWorkletNode only works in a secure context (https or localhost)"),new(i instanceof Ps?.BaseAudioContext?Ps?.AudioWorkletNode:G5)(i,e,t)}function no(i,e,t,r){var a=arguments.length,o=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,r);else for(var c=i.length-1;c>=0;c--)(h=i[c])&&(o=(a<3?h(o):a>3?h(e,t,o):h(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o}function Zi(i,e,t,r){function a(o){return o instanceof t?o:new t(function(h){h(o)})}return new(t||(t=Promise))(function(o,h){function c(m){try{d(r.next(m))}catch(x){h(x)}}function f(m){try{d(r.throw(m))}catch(x){h(x)}}function d(m){m.done?o(m.value):a(m.value).then(c,f)}d((r=r.apply(i,e||[])).next())})}class w8{constructor(e,t,r,a){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),r=new Worker(t);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function ru(i){return f8(i)}function oc(i){return h8(i)}function _p(i){return d8(i)}function ah(i){return u8(i)}function S8(i){return i instanceof dx}function A8(i,e){return i==="value"||ru(e)||oc(e)||S8(e)}function tu(i,...e){if(!e.length)return i;const t=e.shift();if(eu(i)&&eu(t))for(const r in t)A8(r,t[r])?i[r]=t[r]:eu(t[r])?(i[r]||Object.assign(i,{[r]:{}}),tu(i[r],t[r])):Object.assign(i,{[r]:t[r]});return tu(i,...e)}function N8(i,e){return i.length===e.length&&i.every((t,r)=>e[r]===t)}function Bt(i,e,t=[],r){const a={},o=Array.from(e);if(eu(o[0])&&r&&!Reflect.has(o[0],r)&&(Object.keys(o[0]).some(c=>Reflect.has(i,c))||(tu(a,{[r]:o[0]}),t.splice(t.indexOf(r),1),o.shift())),o.length===1&&eu(o[0]))tu(a,o[0]);else for(let h=0;h<t.length;h++)cn(o[h])&&(a[t[h]]=o[h]);return tu(i,a)}function C8(i){return i.constructor.getDefaults()}function gh(i,e){return da(i)?e:i}function Ya(i,e){return e.forEach(t=>{Reflect.has(i,t)&&delete i[t]}),i}class yl{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Ps&&this.toString()===Ps.TONE_DEBUG_CLASS)&&v8(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}yl.version=Rb;const vg=1e-6;function Nh(i,e){return i>e+vg}function D0(i,e){return Nh(i,e)||Ga(i,e)}function zp(i,e){return i+vg<e}function Ga(i,e){return Math.abs(i-e)<vg}function T8(i,e,t){return Math.max(Math.min(i,t),e)}let Eo=class Mx extends yl{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Bt(Mx.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(qt(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];qt(D0(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const r=this._search(e,t);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const r=this._search(e,t);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Ga(this._timeline[t].time,e)){for(let r=t;r>=0&&Ga(this._timeline[r].time,e);r--)t=r;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&D0(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let r=0;const a=this._timeline.length;let o=a;if(a>0&&this._timeline[a-1][t]<=e)return a-1;for(;r<o;){let h=Math.floor(r+(o-r)/2);const c=this._timeline[h],f=this._timeline[h+1];if(Ga(c[t],e)){for(let d=h;d<this._timeline.length;d++){const m=this._timeline[d];if(Ga(m[t],e))h=d;else break}return h}else{if(zp(c[t],e)&&Nh(f[t],e))return h;Nh(c[t],e)?o=h:r=h+1}}return-1}_iterate(e,t=0,r=this._timeline.length-1){this._timeline.slice(t,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const r=this._search(e);return r!==-1&&this._iterate(t,0,r),this}forEachAfter(e,t){const r=this._search(e);return this._iterate(t,r+1),this}forEachBetween(e,t,r){let a=this._search(e),o=this._search(t);return a!==-1&&o!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[o].time===t&&(o-=1),this._iterate(r,a,o)):a===-1&&this._iterate(r,0,o),this}forEachFrom(e,t){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(t,r+1),this}forEachAtTime(e,t){const r=this._search(e);if(r!==-1&&Ga(this._timeline[r].time,e)){let a=r;for(let o=r;o>=0&&Ga(this._timeline[o].time,e);o--)a=o;this._iterate(o=>{t(o)},a,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}};const Lx=[];function l1(i){Lx.push(i)}function E8(i){Lx.forEach(e=>e(i))}const Dx=[];function c1(i){Dx.push(i)}function k8(i){Dx.forEach(e=>e(i))}class nd extends yl{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(a=>{da(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(t)}),this}once(e,t){const r=(...a)=>{t(...a),this.off(e,r)};return this.on(e,r),this}off(e,t){return e.split(/\W+/).forEach(a=>{if(da(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(da(t))this._events[a]=[];else{const o=this._events[a];for(let h=o.length-1;h>=0;h--)o[h]===t&&o.splice(h,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let a=0,o=r.length;a<o;a++)r[a].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const r=Object.getOwnPropertyDescriptor(nd.prototype,t);Object.defineProperty(e.prototype,t,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class jx extends nd{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}let yg=class Rx extends jx{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new Eo,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=Bt(Rx.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=y8({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new w8(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(E8(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,r){return this._context.createBuffer(e,t,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,r){return this._context.createPeriodicWave(e,t,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return qt(ah(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return qt(ah(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return qt(ah(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){qt(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){qt(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){qt(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){qt(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return _8(this.rawContext,e,t)}addAudioWorkletModule(e){return Zi(this,void 0,void 0,function*(){qt(cn(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Zi(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ah(this._context)?this._context.resume():Promise.resolve()}close(){return Zi(this,void 0,void 0,function*(){ah(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&k8(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),r=t.getChannelData(0);for(let o=0;o<r.length;o++)r[o]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=t,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,t=>{t.callback(),this._timeouts.remove(t)})}setTimeout(e,t){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const r=++this._timeoutIds,a=()=>{const o=this.now();this._timeouts.add({callback:()=>{e(),a()},id:r,time:o+t})};return a(),r}};class O8 extends jx{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Zi(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function ci(i,e){Hs(e)?e.forEach(t=>ci(i,t)):Object.defineProperty(i,e,{enumerable:!0,writable:!1})}function bg(i,e){Hs(e)?e.forEach(t=>bg(i,t)):Object.defineProperty(i,e,{writable:!0})}const Yn=()=>{};class ai extends yl{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Yn;const e=Bt(ai.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,pl(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Yn,onload:Yn,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Wa().sampleRate}set(e){return e instanceof ai?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Zi(this,void 0,void 0,function*(){const t=ai.load(e).then(r=>{this.set(r),this.onload(this)});ai.downloads.push(t);try{yield t}finally{const r=ai.downloads.indexOf(t);ai.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=Hs(e)&&e[0].length>0,r=t?e.length:1,a=t?e[0].length:e.length,o=Wa(),h=o.createBuffer(r,a,o.sampleRate),c=!t&&r===1?[e]:e;for(let f=0;f<r;f++)h.copyToChannel(c[f],f);return this._buffer=h,this}toMono(e){if(dl(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const r=this.numberOfChannels;for(let a=0;a<r;a++){const o=this.toArray(a);for(let h=0;h<o.length;h++)t[h]+=o[h]}t=t.map(a=>a/r),this.fromArray(t)}return this}toArray(e){if(dl(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let r=0;r<this.numberOfChannels;r++)t[r]=this.getChannelData(r);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){qt(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),a=Math.floor(t*this.sampleRate);qt(r<a,"The start time must be less than the end time");const o=a-r,h=Wa().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)h.copyToChannel(this.getChannelData(c).subarray(r,a),c);return new ai(h)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new ai().fromArray(e)}static fromUrl(e){return Zi(this,void 0,void 0,function*(){return yield new ai().load(e)})}static load(e){return Zi(this,void 0,void 0,function*(){const t=ai.baseUrl===""||ai.baseUrl.endsWith("/")?ai.baseUrl:ai.baseUrl+"/",r=yield fetch(t+e);if(!r.ok)throw new Error(`could not load url: ${e}`);const a=yield r.arrayBuffer();return yield Wa().decodeAudioData(a)})}static supportsType(e){const t=e.split("."),r=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Zi(this,void 0,void 0,function*(){for(yield Promise.resolve();ai.downloads.length;)yield ai.downloads[0]})}}ai.baseUrl="";ai.downloads=[];class xg extends yg{constructor(){super({clockSource:"offline",context:_p(arguments[0])?arguments[0]:b8(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:_p(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=_p(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Zi(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const r=Math.floor(this.sampleRate/128);e&&t%r===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return Zi(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new ai(t)})}close(){return Promise.resolve()}}const Ix=new O8;let $c=Ix;function Wa(){return $c===Ix&&x8&&M8(new yg),$c}function M8(i,e=!1){e&&$c.dispose(),ah(i)?$c=new yg(i):_p(i)?$c=new xg(i):$c=i}function _g(){return $c.resume()}if(Ps&&!Ps.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Rb} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function L8(i){return Math.pow(10,i/20)}function D8(i){return 20*(Math.log(i)/Math.LN10)}function Bx(i){return Math.pow(2,i/12)}let u1=440;function j8(){return u1}function R8(i){u1=i}function Jc(i){return Math.round(zx(i))}function zx(i){return 69+12*Math.log2(i/u1)}function qx(i){return u1*Math.pow(2,(i-69)/12)}class wg extends yl{constructor(e,t,r){super(),this.defaultUnits="s",this._val=t,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const r=parseInt(e,10),a=t==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/r)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,r)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a+=this._beatsToUnits(parseFloat(t))),r&&r!=="0"&&(a+=this._beatsToUnits(parseFloat(r)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof wg&&this.fromType(this._val),da(this._val))return this._noArg();if(pl(this._val)&&da(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(eu(this._val)){let e=0;for(const t in this._val)if(cn(this._val[t])){const r=this._val[t],a=new this.constructor(this.context,t).valueOf()*r;e+=a}return e}if(cn(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return pl(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Xa extends wg{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new Xa(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const r=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),c=Math.round(a/r)*r-a;return a+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let o=1;o<9;o++){const h=Math.pow(2,o);t.push(h+"n."),t.push(h+"n"),t.push(h+"t")}t.push("0");let r=t[0],a=new Xa(this.context,t[0]).toSeconds();return t.forEach(o=>{const h=new Xa(this.context,o).toSeconds();Math.abs(h-e)<Math.abs(a-e)&&(r=o,a=h)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const r=Math.floor(t/this._getTimeSignature());let a=t%1*4;t=Math.floor(t)%this._getTimeSignature();const o=a.toString();return o.length>3&&(a=parseFloat(parseFloat(o).toFixed(3))),[r,t,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Jc(this.toFrequency())}_now(){return this.context.now()}}class Us extends Xa{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return j8()}static set A4(e){R8(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Us.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const a=I8[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?a:Us.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,r){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a*=this._beatsToUnits(parseFloat(t))),r&&r!=="0"&&(a*=this._beatsToUnits(parseFloat(r)/4)),a}}})}transpose(e){return new Us(this.context,this.valueOf()*Bx(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return Jc(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Us.A4);let r=Math.round(12*t)+57;const a=Math.floor(r/12);return a<0&&(r+=-12*a),B8[r%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return qx(e)}static ftom(e){return Jc(e)}}const I8={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},B8=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class kf extends Xa{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class ws extends yl{constructor(){super();const e=Bt(ws.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Wa()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return g8(e),new Xa(this.context,e).toSeconds()}toFrequency(e){return new Us(this.context,e).toFrequency()}toTicks(e){return new kf(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(r=>{da(e[r])&&delete t[r]}),t}get(){const e=C8(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const r=this[t];cn(r)&&cn(r.value)&&cn(r.setValueAtTime)?e[t]=r.value:r instanceof ws?e[t]=r._getPartialProperties(e[t]):Hs(r)||dl(r)||pl(r)||m8(r)?e[t]=r:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&cn(this[t])&&(this[t]&&cn(this[t].value)&&cn(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof ws?this[t].set(e[t]):this[t]=e[t])}),this}}class Sg extends Eo{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,r){return ml(t,0),this.add(Object.assign({},r,{state:e,time:t})),this}getLastState(e,t){const r=this._search(t);for(let a=r;a>=0;a--){const o=this._timeline[a];if(o.state===e)return o}}getNextState(e,t){const r=this._search(t);if(r!==-1)for(let a=r;a<this._timeline.length;a++){const o=this._timeline[a];if(o.state===e)return o}}}class $n extends ws{constructor(){const e=Bt($n.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,qt(cn(e.param)&&(ru(e.param)||e.param instanceof $n),"param must be an AudioParam");!ru(e.param);)e.param=e.param._param;this._swappable=cn(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Eo(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,cn(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ws.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return cn(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return cn(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return cn(this.maxValue)&&cn(this.minValue)&&ml(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?L8(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?D8(e):e}setValueAtTime(e,t){const r=this.toSeconds(t),a=this._fromType(e);return qt(isFinite(a)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,r),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),r=this._events.getAfter(t),a=this._events.get(t);let o=this._initialValue;if(a===null)o=this._initialValue;else if(a.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const h=this._events.getBefore(a.time);let c;h===null?c=this._initialValue:c=h.value,a.type==="setTargetAtTime"&&(o=this._exponentialApproach(a.time,c,a.value,a.constant,t))}else if(r===null)o=a.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let h=a.value;if(a.type==="setTargetAtTime"){const c=this._events.getBefore(a.time);c===null?h=this._initialValue:h=c.value}r.type==="linearRampToValueAtTime"?o=this._linearInterpolate(a.time,h,r.time,r.value,t):o=this._exponentialInterpolate(a.time,h,r.time,r.value,t)}else o=a.value;return this._toType(o)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const r=this._fromType(e),a=this.toSeconds(t);return qt(isFinite(r)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(r),this._events.add({time:a,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(r,a),this}exponentialRampToValueAtTime(e,t){let r=this._fromType(e);r=Ga(r,0)?this._minOutput:r,this._assertRange(r);const a=this.toSeconds(t);return qt(isFinite(r)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(r,a),this}exponentialRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(t)),this}linearRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(t)),this}targetRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,t),this}exponentialApproachValueAtTime(e,t,r){t=this.toSeconds(t),r=this.toSeconds(r);const a=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,t,a),this.cancelAndHoldAtTime(t+r*.9),this.linearRampToValueAtTime(e,t+r),this}setTargetAtTime(e,t,r){const a=this._fromType(e);qt(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(t);return this._assertRange(a),qt(isFinite(a)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:r,time:o,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,o,r),this._param.setTargetAtTime(a,o,r),this}setValueCurveAtTime(e,t,r,a=1){r=this.toSeconds(r),t=this.toSeconds(t);const o=this._fromType(e[0])*a;this.setValueAtTime(this._toType(o),t);const h=r/(e.length-1);for(let c=1;c<e.length;c++){const f=this._fromType(e[c])*a;this.linearRampToValueAtTime(this._toType(f),t+c*h)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return qt(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),r=this._fromType(this.getValueAtTime(t));qt(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+r);const a=this._events.get(t),o=this._events.getAfter(t);return a&&Ga(a.time,t)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),t):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),t)),this._events.add({time:t,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,t),this}rampTo(e,t=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,r):this.linearRampTo(e,t,r),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const r=this._events.get(t);if(r&&r.type==="setTargetAtTime"){const a=this._events.getAfter(r.time),o=a?a.time:t+2,h=(o-t)/10;for(let c=t;c<o;c+=h)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){qt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,r,a,o){return r+(t-r)*Math.exp(-(o-e)/a)}_linearInterpolate(e,t,r,a,o){return t+(a-t)*((o-e)/(r-e))}_exponentialInterpolate(e,t,r,a,o){return t*Math.pow(a/t,(o-e)/(r-e))}}class Vt extends ws{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return cn(this.input)?ru(this.input)||this.input instanceof $n?1:this.input.numberOfInputs:0}get numberOfOutputs(){return cn(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return cn(e)&&(e instanceof Vt||oc(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();qt(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,r=0){return Lh(this,e,t,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return o1("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,r=0){return z8(this,e,t,r),this}chain(...e){return Ff(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),cn(this.input)&&(this.input instanceof Vt?this.input.dispose():oc(this.input)&&this.input.disconnect()),cn(this.output)&&(this.output instanceof Vt?this.output.dispose():oc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ff(...i){const e=i.shift();i.reduce((t,r)=>(t instanceof Vt?t.connect(r):oc(t)&&Lh(t,r),r),e)}function Lh(i,e,t=0,r=0){for(qt(cn(i),"Cannot connect from undefined node"),qt(cn(e),"Cannot connect to undefined node"),(e instanceof Vt||oc(e))&&qt(e.numberOfInputs>0,"Cannot connect to node with no inputs"),qt(i.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Vt||e instanceof $n;)cn(e.input)&&(e=e.input);for(;i instanceof Vt;)cn(i.output)&&(i=i.output);ru(e)?i.connect(e,t):i.connect(e,t,r)}function z8(i,e,t=0,r=0){if(cn(e))for(;e instanceof Vt;)e=e.input;for(;!oc(i);)cn(i.output)&&(i=i.output);ru(e)?i.disconnect(e,t):oc(e)?i.disconnect(e,t,r):i.disconnect()}class Ki extends Vt{constructor(){const e=Bt(Ki.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new $n({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),ci(this,"gain")}static getDefaults(){return Object.assign(Vt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ch extends Vt{constructor(e){super(e),this.onended=Yn,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ki({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const r=this.toSeconds(t);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Vt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Yn})}_startGain(e,t=1){qt(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+r):this._gainNode.gain.exponentialApproachValueAtTime(t,e,r)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){qt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Yn&&(this.onended(this),this.onended=Yn,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),qt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Yn,this}}class Ag extends Ch{constructor(){const e=Bt(Ag.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Lh(this._source,this._gainNode),this.offset=new $n({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Ch.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Jn extends Vt{constructor(){const e=Bt(Jn.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Ag({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Vt.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,r=0){return Ng(this,e,t,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,r){return this._param.exponentialRampTo(e,t,r),this}linearRampTo(e,t,r){return this._param.linearRampTo(e,t,r),this}targetRampTo(e,t,r){return this._param.targetRampTo(e,t,r),this}exponentialApproachValueAtTime(e,t,r){return this._param.exponentialApproachValueAtTime(e,t,r),this}setTargetAtTime(e,t,r){return this._param.setTargetAtTime(e,t,r),this}setValueCurveAtTime(e,t,r,a){return this._param.setValueCurveAtTime(e,t,r,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,r){return this._param.rampTo(e,t,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Ng(i,e,t,r){(e instanceof $n||ru(e)||e instanceof Jn&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Jn&&(e.overridden=!0)),Lh(i,e,t,r)}class Cg extends $n{constructor(){const e=Bt(Cg.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Eo(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign($n.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,r){t=this.toSeconds(t),this.setRampPoint(t);const a=this._fromType(e),o=this._events.get(t),h=Math.round(Math.max(1/r,1));for(let c=0;c<=h;c++){const f=r*c+t,d=this._exponentialApproach(o.time,o.value,a,r,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}setValueAtTime(e,t){const r=this.toSeconds(t);super.setValueAtTime(e,t);const a=this._events.get(r),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,r);return a.ticks=Math.max(h,0),this}linearRampToValueAtTime(e,t){const r=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const a=this._events.get(r),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,r);return a.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const r=this._fromType(e),a=this._events.get(t),o=Math.round(Math.max((t-a.time)*10,1)),h=(t-a.time)/o;for(let c=0;c<=o;c++){const f=h*c+a.time,d=this._exponentialInterpolate(a.time,a.value,t,r,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(da(e.ticks)){const h=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(h,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(t));const o=this._events.get(t);return o&&o.time===t&&o.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(r+a)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),r=this._events.get(t);return Math.max(this._getTicksUntilEvent(r,t),0)}getDurationOfTicks(e,t){const r=this.toSeconds(t),a=this.getTicksAtTime(t);return this.getTimeOfTick(a+e)-r}getTimeOfTick(e){const t=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&r&&r.type==="linearRampToValueAtTime"&&t.value!==r.value){const a=this._fromType(this.getValueAtTime(t.time)),h=(this._fromType(this.getValueAtTime(r.time))-a)/(r.time-t.time),c=Math.sqrt(Math.pow(a,2)-2*h*(t.ticks-e)),f=(-a+c)/h,d=(-a-c)/h;return(f>0?f:d)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const r=this.toSeconds(t),a=this.toSeconds(e),o=this.getTicksAtTime(r);return this.getTicksAtTime(r+a)-o}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class Tg extends Jn{constructor(){const e=Bt(Tg.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Cg({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Jn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Eg extends ws{constructor(){const e=Bt(Eg.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Sg,this._tickOffset=new Eo,this._ticksAtTime=new Eo,this._secondsAtTime=new Eo,this.frequency=new Tg({context:this.context,units:e.units,value:e.frequency}),ci(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},ws.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),cn(t)&&this.setTicksAtTime(t,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const r=this._state.get(t);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),r=this._state.getLastState("stopped",t),a=this._ticksAtTime.get(t),o={state:"paused",time:t};this._state.add(o);let h=a||r,c=a?a.ticks:0,f=null;return this._state.forEachBetween(h.time,t+this.sampleTime,d=>{let m=h.time;const x=this._tickOffset.get(d.time);x&&x.time>=h.time&&(c=x.ticks,m=x.time),h.state==="started"&&d.state!=="started"&&(c+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(m),d.time!==o.time&&(f={state:d.state,time:d.time,ticks:c})),h=d}),this._state.remove(o),f&&this._ticksAtTime.add(f),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),r=this.frequency.timeToTicks(e,t);this.setTicksAtTime(r,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const a=this._secondsAtTime.get(e);let o=a||t,h=a?a.seconds:0,c=null;return this._state.forEachBetween(o.time,e+this.sampleTime,f=>{let d=o.time;const m=this._tickOffset.get(f.time);m&&m.time>=o.time&&(h=m.seconds,d=m.time),o.state==="started"&&f.state!=="started"&&(h+=f.time-d,f.time!==r.time&&(c={state:f.state,time:f.time,seconds:h})),o=f}),this._state.remove(r),c&&this._secondsAtTime.add(c),h}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const r=this._tickOffset.get(t),a=this._state.get(t),o=Math.max(r.time,a.time),h=this.frequency.getTicksAtTime(o)+e-r.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(e,t,r){let a=this._state.get(e);this._state.forEachBetween(e,t,h=>{a&&a.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),h.time-this.sampleTime,r),a=h});let o=null;if(a&&a.state==="started"){const h=Math.max(a.time,e),c=this.frequency.getTicksAtTime(h),f=this.frequency.getTicksAtTime(a.time),d=c-f;let m=Math.ceil(d)-d;m=Ga(m,1)?0:m;let x=this.frequency.getTimeOfTick(c+m);for(;x<t;){try{r(x,Math.round(this.getTicksAtTime(x)))}catch(w){o=w;break}x+=this.frequency.getDurationOfTicks(1,x)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}let Fx=class Px extends ws{constructor(){const e=Bt(Px.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Yn,this._lastUpdate=0,this._state=new Sg("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Eg({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ci(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(ws.getDefaults(),{callback:Yn,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){Ex(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,t),r<this._lastUpdate&&this.emit("start",r,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const r=this.toSeconds(t),a=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(a+e,r)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,r=>{switch(r.state){case"started":const a=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,a);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,t,(r,a)=>{this.callback(r,a)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};nd.mixin(Fx);class Dh extends Vt{constructor(){const e=Bt(Dh.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Ki({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,ci(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Vt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class kg extends Vt{constructor(){const e=Bt(kg.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Dh({context:this.context}),this.output=new Ki({context:this.context}),this.volume=this.input.volume,Ff(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Vt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Ff(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}l1(i=>{i.destination=new kg({context:i})});c1(i=>{i.destination.dispose()});class q8 extends Vt{constructor(){super(...arguments),this.name="Listener",this.positionX=new $n({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new $n({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new $n({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new $n({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new $n({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new $n({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new $n({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new $n({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new $n({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Vt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}l1(i=>{i.listener=new q8({context:i})});c1(i=>{i.listener.dispose()});class Og extends yl{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Bt(Og.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const r=e.urls[t];this.add(t,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Yn,onload:Yn,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return qt(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,r=Yn,a=Yn){return pl(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new ai(this.baseUrl+t,r,a))):this._buffers.set(e.toString(),new ai(t,r,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class qp extends Us{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return Jc(super._frequencyToUnits(e))}_ticksToUnits(e){return Jc(super._ticksToUnits(e))}_beatsToUnits(e){return Jc(super._beatsToUnits(e))}_secondsToUnits(e){return Jc(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return qx(this.toMidi())}transpose(e){return new qp(this.context,this.toMidi()+e)}}class dh extends kf{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class F8 extends ws{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Eo,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,t=>{e-t.time<=this.expiration&&t.callback(),this._events.remove(t)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}l1(i=>{i.draw=new F8({context:i})});c1(i=>{i.draw.dispose()});class P8 extends yl{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){qt(cn(e.time),"Events must have a time property"),qt(cn(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new U8(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const r of t)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let r,a=null;if(t>0)if(e.left.right===null)r=e.left,r.right=e.right,a=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,a=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,a=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,a=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const t=e.parent,r=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),t!==null?r?t.left=a:t.right=a:this._setRoot(a)}_rotateRight(e){const t=e.parent,r=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),t!==null?r?t.left=a:t.right=a:this._setRoot(a)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let r=t[0];for(let a=1;a<t.length;a++)t[a].low>r.low&&(r=t[a]);return r.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(r=>t.push(r)),t.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(a=>{a.event&&t(a.event)})}return this}forEachFrom(e,t){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(a=>{a.event&&t(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class U8{constructor(e,t,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class V8 extends yl{constructor(e){super(),this.name="TimelineValue",this._timeline=new Eo({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class lc extends Vt{constructor(){super(Bt(lc.getDefaults(),arguments,["context"]))}connect(e,t=0,r=0){return Ng(this,e,t,r),this}}class id extends lc{constructor(){const e=Bt(id.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Hs(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):p8(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Jn.getDefaults(),{length:1024})}setMap(e,t=1024){const r=new Float32Array(t);for(let a=0,o=t;a<o;a++){const h=a/(o-1)*2-1;r[a]=e(h,a)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(r=>r.includes(e));qt(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class h1 extends lc{constructor(){const e=Bt(h1.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new id({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(lc.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class cc{constructor(e,t){this.id=cc._eventId++,this._remainderTime=0;const r=Object.assign(cc.getDefaults(),t);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Yn,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}cc._eventId=0;class Mg extends cc{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Mg.getDefaults(),t);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},cc.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return zp(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new dh(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){zp(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new dh(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Nh(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class f1 extends ws{constructor(){const e=Bt(f1.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new V8(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Eo,this._repeatedEvents=new P8,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Fx({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),ci(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(ws.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const r=t%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(r*Math.PI)*this._swingAmount;e+=new dh(this.context,this._swingTicks*2/3).toSeconds()*a}W5(!0),this._timeline.forEachAtTime(t,r=>r.invoke(e)),W5(!1)}schedule(e,t){const r=new cc(this,{callback:e,time:new kf(this.context,t).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,t,r,a=1/0){const o=new Mg(this,{callback:e,duration:new Xa(this.context,a).toTicks(),interval:new Xa(this.context,t).toTicks(),time:new kf(this.context,r).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(e,t){const r=new cc(this,{callback:e,once:!0,time:new kf(this.context,t).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(t,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new dh(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let r;return cn(t)&&(r=this.toTicks(t)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Hs(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Xa(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Xa(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new dh(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new dh(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),r=this._clock.frequency.timeToTicks(e,t);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(t),a=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,t),o=t+a;this.emit("stop",o),this._clock.setTicksAtTime(e,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),r=this.getTicksAtTime(t),a=e-r%e;return this._clock.nextTickTime(a,t)}}syncSignal(e,t){const r=this.now();let a=this.bpm,o=1/(60/a.getValueAtTime(r)/this.PPQ),h=[];if(e.units==="time"){const f=.015625/o,d=new Ki(f),m=new h1(-1),x=new Ki(f);a.chain(d,m,x),a=x,o=1/o,h=[d,m,x]}t||(e.getValueAtTime(r)!==0?t=e.getValueAtTime(r)/o:t=0);const c=new Ki(t);return a.connect(c),c.connect(e._param),h.push(c),this._syncedSignals.push({initial:e.value,nodes:h,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const r=this._syncedSignals[t];r.signal===e&&(r.nodes.forEach(a=>a.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),bg(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}nd.mixin(f1);l1(i=>{i.transport=new f1({context:i})});c1(i=>{i.transport.dispose()});class qr extends Vt{constructor(e){super(e),this.input=void 0,this._state=new Sg("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Yn,this._syncedStop=Yn,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Dh({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,ci(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Vt.getDefaults(),{mute:!1,onstop:Yn,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,r){let a=da(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")qt(Nh(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,t,r);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const o=this._state.get(a);o&&(o.offset=this.toSeconds(gh(t,0)),o.duration=r?this.toSeconds(r):void 0);const h=this.context.transport.schedule(c=>{this._start(c,t,r)},a);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else Ex(this.context),this._start(a,t,r);return this}stop(e){let t=da(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||cn(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const r=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(r)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Nh(t,0)){const r=this._state.get(t);if(r&&r.state==="started"&&r.time!==t){const a=t-this.toSeconds(r.time);let o;r.duration&&(o=this.toSeconds(r.duration)-a),this._start(e,this.toSeconds(r.offset)+a,o)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Yn,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class d1 extends Ch{constructor(){const e=Bt(d1.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Lh(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new $n({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new ai(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ch.getDefaults(),{url:new ai,loop:!1,loopEnd:0,loopStart:0,onload:Yn,onerror:Yn,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,r,a=1){qt(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(e);this._startGain(o,a),this.loop?t=gh(t,this.loopStart):t=gh(t,0);let h=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),d=c-f;D0(h,c)&&(h=(h-f)%d+f),Ga(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,zp(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,h)),cn(r)){let c=this.toSeconds(r);c=Math.max(c,0),this.stop(o+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function cu(i,e){return Zi(this,void 0,void 0,function*(){const t=e/i.context.sampleRate,r=new xg(1,t,i.context.sampleRate);return new i.constructor(Object.assign(i.get(),{frequency:2/t,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Lg extends Ch{constructor(){const e=Bt(Lg.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Lh(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new $n({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new $n({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),ci(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ch.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Xi extends qr{constructor(){const e=Bt(Xi.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),ci(this,"frequency"),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),ci(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(qr.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),r=new Lg({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Xi._periodicWaveCache.find(t=>t.phase===this._phase&&N8(t.partials,this._partials));{const e=Xi._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(cn(r)){const{partials:a,wave:o}=r;this._wave=o,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,o]=this._getRealImaginary(e,this._phase),h=this.context.createPeriodicWave(a,o);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Xi._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),Xi._periodicWaveCache.length>100&&Xi._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){ml(e,0);let t=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(t=r[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const a=new Float32Array(e);this._partials.forEach((o,h)=>a[h]=o),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,t){let a=2048;const o=new Float32Array(a),h=new Float32Array(a);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,a=c,this._partials.length===0)return[o,h]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);f?(c=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),e=f[1],c=Math.max(c,2),a=c):this._partialCount=0,this._partials=[]}for(let f=1;f<a;++f){const d=2/(f*Math.PI);let m;switch(e){case"sine":m=f<=c?1:0,this._partials[f-1]=m;break;case"square":m=f&1?2*d:0,this._partials[f-1]=m;break;case"sawtooth":m=d*(f&1?1:-1),this._partials[f-1]=m;break;case"triangle":f&1?m=2*(d*d)*(f-1>>1&1?-1:1):m=0,this._partials[f-1]=m;break;case"custom":m=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}m!==0?(o[f]=-m*Math.sin(t*f),h[f]=m*Math.cos(t*f)):(o[f]=0,h[f]=0)}return[o,h]}_inverseFFT(e,t,r){let a=0;const o=e.length;for(let h=0;h<o;h++)a+=e[h]*Math.cos(h*r)+t[h]*Math.sin(h*r);return a}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let r=0;const a=Math.PI*2,o=32;for(let h=0;h<o;h++)r=Math.max(this._inverseFFT(e,t,h/o*a),r);return T8(-this._inverseFFT(e,t,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Zi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Xi._periodicWaveCache=[];class Ux extends lc{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new id({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class gl extends Jn{constructor(){const e=Bt(gl.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Ki({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Jn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class p1 extends qr{constructor(){const e=Bt(p1.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new Ux({context:this.context}),this._modulationNode=new Ki({context:this.context}),this._carrier=new Xi({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Xi({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new gl({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ci(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Xi.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Zi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class m1 extends qr{constructor(){const e=Bt(m1.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Ki({context:this.context,gain:0}),this._carrier=new Xi({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Xi({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new gl({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new gl({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ci(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Xi.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Zi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class rd extends qr{constructor(){const e=Bt(rd.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Ki({context:this.context,gain:0}),this._thresh=new id({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new Jn({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Xi({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ci(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(qr.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Zi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class g1 extends qr{constructor(){const e=Bt(g1.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,ci(this,["frequency","detune"])}static getDefaults(){return Object.assign(Xi.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,r=e/(this._oscillators.length-1);this._forEach((a,o)=>a.detune.value=t+r*o)}}get count(){return this._oscillators.length}set count(e){if(ml(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const r=new Xi({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):Yn});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[t]=r}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,r)=>t.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Zi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class v1 extends qr{constructor(){const e=Bt(v1.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new gl({context:this.context,value:2}),this._pulse=new rd({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Xi({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ci(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(qr.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Zi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const X5={am:p1,fat:g1,fm:m1,oscillator:Xi,pulse:rd,pwm:v1};class uc extends qr{constructor(){const e=Bt(uc.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),ci(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Xi.getDefaults(),m1.getDefaults(),p1.getDefaults(),g1.getDefaults(),rd.getDefaults(),v1.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=X5[e],r=this.now();if(this._oscillator){const a=this._oscillator;a.stop(r),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof X5[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&dl(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&dl(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&pl(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Zi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Dg extends Jn{constructor(){super(Bt(Dg.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new Ki({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Ff(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Jn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class jg extends lc{constructor(){const e=Bt(jg.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new gl({context:this.context,value:e.max-e.min}),this._add=this.output=new Dg({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(lc.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function Vx(i,e=1/0){const t=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){ml(o,i,e),t.set(this,o)}})}}function bl(i,e=1/0){const t=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){ml(this.toSeconds(o),i,e),t.set(this,o)}})}}class y1 extends qr{constructor(){const e=Bt(y1.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new ai({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(qr.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Yn,onerror:Yn,playbackRate:1,reverse:!1})}load(e){return Zi(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Yn){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,r){return super.start(e,t,r),this}_start(e,t,r){this._loop?t=gh(t,this._loopStart):t=gh(t,0);const a=this.toSeconds(t),o=r;r=gh(r,Math.max(this._buffer.duration-a,0));let h=this.toSeconds(r);h=h/this._playbackRate,e=this.toSeconds(e);const c=new d1({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+h),this._state.setStateAtTime("stopped",e+h,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&da(o)?c.start(e,a):c.start(e,a,h-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(t))}restart(e,t,r){return super.restart(e,t,r),this}_restart(e,t,r){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,t,r)}seek(e,t){const r=this.toSeconds(t);if(this._state.getValueAtTime(r)==="started"){const a=this.toSeconds(e);this._stop(r),this._start(r,a)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&ml(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&ml(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),r=this._state.getNextState("stopped",t);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}no([bl(0)],y1.prototype,"fadeIn",void 0);no([bl(0)],y1.prototype,"fadeOut",void 0);class Gs extends Vt{constructor(){const e=Bt(Gs.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Jn({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Vt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(pl(e))return e;{let r;for(r in ap)if(ap[r][t]===e)return r;return e}}_setCurve(e,t,r){if(pl(r)&&Reflect.has(ap,r)){const a=ap[r];eu(a)?e!=="_decayCurve"&&(this[e]=a[t]):this[e]=a}else if(Hs(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),h=this.getValueAtTime(e);if(h>0){const c=1/a;a=(1-h)/c}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,a,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let f=1;f<c.length;f++)if(c[f-1]<=h&&h<=c[f]){c=this._attackCurve.slice(f),c[0]=h;break}this._sig.setValueCurveAtTime(c,e,a,t)}if(o&&this.sustain<1){const c=t*this.sustain,f=e+a;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,o+f):this._sig.exponentialApproachValueAtTime(c,f,o)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(qt(Hs(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,r=1){return t=this.toSeconds(t),this.triggerAttack(t,r),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,r=0){return Ng(this,e,t,r),this}asArray(){return Zi(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,r=new xg(1,t,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=a+this.toSeconds(this.release),h=o*.1,c=o+h,f=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:r}));return f._sig.toDestination(),f.triggerAttackRelease(t*(a+h)/c,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}no([bl(0)],Gs.prototype,"attack",void 0);no([bl(0)],Gs.prototype,"decay",void 0);no([Vx(0,1)],Gs.prototype,"sustain",void 0);no([bl(0)],Gs.prototype,"release",void 0);const ap=(()=>{let e,t;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const a=[],o=6.4;for(e=0;e<127;e++){t=e/127;const w=Math.sin(t*(Math.PI*2)*o-Math.PI/2)+1;a[e]=w/10+t*.83}a[127]=1;const h=[],c=5;for(e=0;e<128;e++)h[e]=Math.ceil(e/127*c)/c;const f=[];for(e=0;e<128;e++)t=e/127,f[e]=.5*(1-Math.cos(Math.PI*t));const d=[];for(e=0;e<128;e++){t=e/127;const w=Math.pow(t,3)*4+.2,y=Math.cos(w*Math.PI*2*t);d[e]=Math.abs(y*(1-t))}function m(w){const y=new Array(w.length);for(let N=0;N<w.length;N++)y[N]=1-w[N];return y}function x(w){return w.slice(0).reverse()}return{bounce:{In:m(d),Out:d},cosine:{In:r,Out:x(r)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:m(a)},sine:{In:f,Out:m(f)},step:{In:h,Out:m(h)}}})();class hc extends Vt{constructor(){const e=Bt(hc.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new Dh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,ci(this,"volume")}static getDefaults(){return Object.assign(Vt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const r=this["_original_"+e]=this[e];this[e]=(...a)=>{const o=a[t],h=this.context.transport.schedule(c=>{a[t]=c,r.apply(this,a)},o);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,r,a){const o=this.toSeconds(r),h=this.toSeconds(t);return this.triggerAttack(e,o,a),this.triggerRelease(o+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ka extends hc{constructor(){const e=Bt(Ka.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(hc.getDefaults(),{detune:0,onsilence:Yn,portamento:0})}triggerAttack(e,t,r=1){this.log("triggerAttack",e,t,r);const a=this.toSeconds(t);return this._triggerEnvelopeAttack(a,r),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const r=this.toSeconds(t),a=e instanceof Us?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,o,r)}else this.frequency.setValueAtTime(a,r);return this}}no([bl(0)],Ka.prototype,"portamento",void 0);class b1 extends Gs{constructor(){super(Bt(b1.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Ki({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ha extends Ka{constructor(){const e=Bt(ha.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new uc(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new b1(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),ci(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ka.getDefaults(),{envelope:Object.assign(Ya(Gs.getDefaults(),Object.keys(Vt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Ya(uc.getDefaults(),[...Object.keys(qr.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Pf extends Ka{constructor(){const e=Bt(Pf.getDefaults(),arguments);super(e),this.name="ModulationSynth",this._carrier=new ha({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new ha({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Jn({context:this.context,units:"frequency"}),this.detune=new Jn({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new gl({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new Ki({context:this.context,gain:0}),ci(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Ka.getDefaults(),{harmonicity:3,oscillator:Object.assign(Ya(uc.getDefaults(),[...Object.keys(qr.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Ya(Gs.getDefaults(),Object.keys(Vt.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Ya(uc.getDefaults(),[...Object.keys(qr.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Ya(Gs.getDefaults(),Object.keys(Vt.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class Fp extends Pf{constructor(){super(Bt(Fp.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Ux({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Pp extends Vt{constructor(){const e=Bt(Pp.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new $n({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new $n({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new $n({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new $n({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(Vt.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){qt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let h=0;h<e;h++){const f=Math.pow(h/e,2)*19980+20;t[h]=f}const r=new Float32Array(e),a=new Float32Array(e),o=this.context.createBiquadFilter();return o.type=this.type,o.Q.value=this.Q.value,o.frequency.value=this.frequency.value,o.gain.value=this.gain.value,o.getFrequencyResponse(t,r,a),r}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Up extends Vt{constructor(){const e=Bt(Up.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new Ki({context:this.context}),this.output=new Ki({context:this.context}),this._filters=[],this._filters=[],this.Q=new Jn({context:this.context,units:"positive",value:e.Q}),this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),this.gain=new Jn({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,ci(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Vt.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){qt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(r=>r.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const t=dl(e)?e:parseInt(e,10),r=[-12,-24,-48,-96];let a=r.indexOf(t);qt(a!==-1,`rolloff can only be ${r.join(", ")}`),a+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach(o=>o.disconnect()),this._filters=new Array(a);for(let o=0;o<a;o++){const h=new Pp({context:this.context});h.type=this._type,this.frequency.connect(h.frequency),this.detune.connect(h.detune),this.Q.connect(h.Q),this.gain.connect(h.gain),this._filters[o]=h}this._internalChannels=this._filters,Ff(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new Pp({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),r=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{t.getFrequencyResponse(e).forEach((o,h)=>r[h]*=o)}),t.dispose(),r}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),bg(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Vp extends Gs{constructor(){const e=Bt(Vp.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="FrequencyEnvelope",this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new h1({context:this.context,value:e.exponent}),this._scale=this.output=new jg({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Gs.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);ml(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Hp extends Ka{constructor(){const e=Bt(Hp.getDefaults(),arguments);super(e),this.name="MonoSynth",this.oscillator=new uc(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Up(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new Vp(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new b1(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),ci(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Ka.getDefaults(),{envelope:Object.assign(Ya(Gs.getDefaults(),Object.keys(Vt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Ya(Up.getDefaults(),Object.keys(Vt.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Ya(Vp.getDefaults(),Object.keys(Vt.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Ya(uc.getDefaults(),Object.keys(qr.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Of extends Pf{constructor(){const e=Bt(Of.getDefaults(),arguments);super(e),this.name="FMSynth",this.modulationIndex=new gl({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Pf.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class x1 extends ha{constructor(){const e=Bt(x1.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,ci(this,["oscillator","envelope"])}static getDefaults(){return tu(Ka.getDefaults(),ha.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const r=this.toSeconds(t),a=this.toFrequency(e instanceof Us?e.toFrequency():e),o=a*this.octaves;return this.oscillator.frequency.setValueAtTime(o,r),this.oscillator.frequency.exponentialRampToValueAtTime(a,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}no([Vx(0)],x1.prototype,"octaves",void 0);no([bl(0)],x1.prototype,"pitchDecay",void 0);const Hx=new Set;function Rg(i){Hx.add(i)}function Gx(i,e){const t=`registerProcessor("${i}", ${e})`;Hx.add(t)}const H8=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Rg(H8);const G8=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Rg(G8);const Y8=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Rg(Y8);const W8="feedback-comb-filter",X8=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Gx(W8,X8);class bs extends hc{constructor(){const e=Bt(bs.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),qt(!dl(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(hc.getDefaults(),{maxPolyphony:32,options:{},voice:ha})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex(r=>r.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return qt(e instanceof Ka,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else o1("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,r){e.forEach(a=>{const o=new qp(this.context,a).toMidi(),h=this._getNextAvailableVoice();h&&(h.triggerAttack(a,t,r),this._activeVoices.push({midi:o,voice:h,released:!1}),this.log("triggerAttack",a,t))})}_triggerRelease(e,t){e.forEach(r=>{const a=new qp(this.context,r).toMidi(),o=this._activeVoices.find(({midi:h,released:c})=>h===a&&!c);o&&(o.voice.triggerRelease(t),o.released=!0,this.log("triggerRelease",r,t))})}_scheduleEvent(e,t,r,a){qt(!this.disposed,"Synth was already disposed"),r<=this.now()?e==="attack"?this._triggerAttack(t,r,a):this._triggerRelease(t,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,t,r,a)},r-this.now())}triggerAttack(e,t,r){Array.isArray(e)||(e=[e]);const a=this.toSeconds(t);return this._scheduleEvent("attack",e,a,r),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const r=this.toSeconds(t);return this._scheduleEvent("release",e,r),this}triggerAttackRelease(e,t,r,a){const o=this.toSeconds(r);if(this.triggerAttack(e,o,a),Hs(t)){qt(Hs(e),"If the duration is an array, the notes must also be an array"),e=e;for(let h=0;h<e.length;h++){const c=t[Math.min(h,t.length-1)],f=this.toSeconds(c);qt(f>0,"The duration must be greater than 0"),this.triggerRelease(e[h],o+f)}}else{const h=this.toSeconds(t);qt(h>0,"The duration must be greater than 0"),this.triggerRelease(e,o+h)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const t=Ya(e,["onsilence","context"]);return this.options=tu(this.options,t),this._voices.forEach(r=>r.set(t)),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(t)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class sd extends hc{constructor(){const e=Bt(sd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(r=>{const a=parseInt(r,10);if(qt(sp(r)||dl(a)&&isFinite(a),`url key is neither a note or midi pitch: ${r}`),sp(r)){const o=new Us(this.context,r).toMidi();t[o]=e.urls[r]}else dl(a)&&isFinite(a)&&(t[a]=e.urls[a])}),this._buffers=new Og({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(hc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Yn,onerror:Yn,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,r=1){return this.log("triggerAttack",e,t,r),Array.isArray(e)||(e=[e]),e.forEach(a=>{const o=zx(new Us(this.context,a).toFrequency()),h=Math.round(o),c=o-h,f=this._findClosest(h),d=h-f,m=this._buffers.get(d),x=Bx(f+c),w=new d1({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:x}).connect(this.output);w.start(t,0,m.duration/x,r),Hs(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(w),w.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const y=this._activeSources.get(h),N=y.indexOf(w);N!==-1&&y.splice(N,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(r=>{const a=new Us(this.context,r).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const o=this._activeSources.get(a);t=this.toSeconds(t),o.forEach(h=>{h.stop(t)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,r,a=1){const o=this.toSeconds(r);return this.triggerAttack(e,o,a),Hs(t)?(qt(Hs(e),"notes must be an array when duration is array"),e.forEach((h,c)=>{const f=t[Math.min(c,t.length-1)];this.triggerRelease(h,o+this.toSeconds(f))})):this.triggerRelease(e,o+this.toSeconds(t)),this}add(e,t,r){if(qt(sp(e)||isFinite(e),`note must be a pitch or midi: ${e}`),sp(e)){const a=new Us(this.context,e).toMidi();this._buffers.add(a,t,r)}else this._buffers.add(e,t,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}no([bl(0)],sd.prototype,"attack",void 0);no([bl(0)],sd.prototype,"release",void 0);class Ig extends Vt{constructor(){const e=Bt(Ig.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new $n({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",ci(this,"pan")}static getDefaults(){return Object.assign(Vt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const Z8="bit-crusher",K8=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Gx(Z8,K8);class Wi extends Vt{constructor(){const e=Bt(Wi.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Ki({context:this.context}),Wi._allSolos.has(this.context)||Wi._allSolos.set(this.context,new Set),Wi._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Vt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Wi._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Wi._soloed.has(this.context)||Wi._soloed.set(this.context,new Set),Wi._soloed.get(this.context).add(this)}_removeSolo(){Wi._soloed.has(this.context)&&Wi._soloed.get(this.context).delete(this)}_isSoloed(){return Wi._soloed.has(this.context)&&Wi._soloed.get(this.context).has(this)}_noSolos(){return!Wi._soloed.has(this.context)||Wi._soloed.has(this.context)&&Wi._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Wi._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Wi._allSolos=new Map;Wi._soloed=new Map;class Bg extends Vt{constructor(){const e=Bt(Bg.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Ig({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Dh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,ci(this,["pan","volume"])}static getDefaults(){return Object.assign(Vt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class ph extends Vt{constructor(){const e=Bt(ph.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Wi({solo:e.solo,context:this.context}),this._panVol=this.output=new Bg({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ci(this,["pan","volume"])}static getDefaults(){return Object.assign(Vt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return ph.buses.has(e)||ph.buses.set(e,new Ki({context:this.context})),ph.buses.get(e)}send(e,t=0){const r=this._getBus(e),a=new Ki({context:this.context,units:"decibels",gain:t});return this.connect(a),a.connect(r),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}ph.buses=new Map;Wa().transport;const Yx=Wa().destination;Wa().destination;Wa().listener;Wa().draw;const Wx=Wa();function Q8(){return ai.loaded()}const op=({cx:i,cy:e,innerRadius:t,outerRadius:r,startAngle:a,endAngle:o,color:h,label:c,chord:f,isSelected:d,isDiatonic:m,isSecondary:x=!1,onClick:w,onDoubleClick:y,ringType:N="major",wheelRotation:A=0,romanNumeral:E,voicingSuggestion:C,segmentId:U="seg"})=>{const F=o4(i,e,t,r,a,o),q=(a+o)/2,z=_n.useRef(0),$=_n.useRef(null),[Y,D]=_n.useState(!1),R=-A,Z=r-t,O=t+Z*.5,j=t+Z*.18,V=sc(i,e,O,q),J=sc(i,e,j,q),ue=r-6,ee=a4(i,e,ue,a+1,o-1),ie=`voicing-arc-${U}`,ce=`clip-${U}`,we=(()=>{let Ge=.35,Qe=.5;m?(Ge=1,Qe=1):x&&(Ge=.7,Qe=.65);const P=h.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(P){const je=parseInt(P[1]),ct=Math.round(parseInt(P[2])*Qe),tt=parseInt(P[3]);let De=tt;return N==="minor"?De=Math.max(tt-8,30):N==="diminished"&&(De=Math.max(tt-15,25)),{fill:`hsl(${je}, ${ct}%, ${De}%)`,opacity:Ge}}return{fill:h,opacity:Ge}})(),X=()=>N==="diminished"?"10px":N==="minor"?"12px":"14px",T=m||x,H=T?"#000000":"rgba(255,255,255,0.7)",Q=m?"bold":x?"600":"normal",re=N==="diminished"||N==="minor"?"6px":"8px",ae=N==="major"?T?6:5:N==="minor"?T?4:3.25:T?3.5:3,me=T?1:.95,de=()=>{D(!0)},_e=async Ge=>{Ge.preventDefault(),Ge.stopPropagation(),D(!1),Wx.state!=="running"&&await _g();const Qe=Date.now(),P=Qe-z.current;$.current&&(clearTimeout($.current),$.current=null),P<300&&P>0?(z.current=0,y&&y(f)):(z.current=Qe,$.current=setTimeout(()=>{w(f),$.current=null},300))},ve=()=>{D(!1),$.current&&(clearTimeout($.current),$.current=null)},Ie=Ge=>{Ge.stopPropagation(),w(f)},He=Ge=>{Ge.stopPropagation(),y&&y(f)};return L.jsxs("g",{className:Fs("cursor-pointer transition-all duration-200",!T&&"hover:opacity-70",Y&&"opacity-80"),onClick:Ie,onDoubleClick:He,onTouchStart:de,onTouchEnd:_e,onTouchCancel:ve,style:{pointerEvents:"all",WebkitTapHighlightColor:"transparent"},children:[(m||x)&&C&&L.jsx("defs",{children:L.jsx("path",{id:ie,d:ee,fill:"none"})}),L.jsx("defs",{children:L.jsx("clipPath",{id:ce,children:L.jsx("path",{d:F})})}),L.jsx("path",{d:F,fill:we.fill,opacity:we.opacity,stroke:"rgba(0,0,0,0.3)",strokeWidth:"1",className:Fs("transition-all duration-200 hover:brightness-110",d&&"brightness-125 stroke-white stroke-2",T&&"hover:brightness-105"),style:{pointerEvents:"all"}}),d&&L.jsx("path",{d:F,fill:"none",stroke:"white",strokeWidth:ae,opacity:me,filter:"url(#segment-glow)",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none",clipPath:`url(#${ce})`}),(m||x)&&C&&N==="major"&&L.jsx("text",{fill:"rgba(0,0,0,0.6)",fontSize:"6px",className:"pointer-events-none select-none",children:L.jsx("textPath",{href:`#${ie}`,startOffset:"50%",textAnchor:"middle",children:C})}),m&&C&&N==="minor"&&L.jsx("text",{fill:"rgba(0,0,0,0.55)",fontSize:"5px",className:"pointer-events-none select-none",children:L.jsx("textPath",{href:`#${ie}`,startOffset:"50%",textAnchor:"middle",children:C})}),m&&C&&N==="diminished"&&L.jsx("text",{fill:"rgba(0,0,0,0.5)",fontSize:"5px",className:"pointer-events-none select-none",children:L.jsx("textPath",{href:`#${ie}`,startOffset:"50%",textAnchor:"middle",children:C})}),L.jsx("text",{x:V.x,y:V.y,textAnchor:"middle",dominantBaseline:"middle",fill:H,fontWeight:Q,fontSize:X(),className:"pointer-events-none select-none",transform:`rotate(${R}, ${V.x}, ${V.y})`,children:c}),(m||x)&&E&&L.jsx("text",{x:J.x,y:J.y,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(0,0,0,0.6)",fontSize:re,fontStyle:"italic",className:"pointer-events-none select-none",transform:`rotate(${R}, ${J.x}, ${J.y})`,children:E})]})};const $8=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J8=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Z5=i=>{const e=J8(i);return e.charAt(0).toUpperCase()+e.slice(1)},Xx=(...i)=>i.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),eC=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var tC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nC=pe.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:h,...c},f)=>pe.createElement("svg",{ref:f,...tC,width:e,height:e,stroke:i,strokeWidth:r?Number(t)*24/Number(e):t,className:Xx("lucide",a),...!o&&!eC(c)&&{"aria-hidden":"true"},...c},[...h.map(([d,m])=>pe.createElement(d,m)),...Array.isArray(o)?o:[o]]));const wn=(i,e)=>{const t=pe.forwardRef(({className:r,...a},o)=>pe.createElement(nC,{ref:o,iconNode:e,className:Xx(`lucide-${$8(Z5(i))}`,`lucide-${i}`,r),...a}));return t.displayName=Z5(i),t};const iC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],rC=wn("arrow-right",iC);const sC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vh=wn("chevron-down",sC);const aC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oC=wn("chevron-right",aC);const lC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],cC=wn("chevron-left",lC);const uC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zg=wn("chevron-up",uC);const hC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fC=wn("circle-question-mark",hC);const dC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pC=wn("circle",dC);const mC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gC=wn("clock",mC);const vC=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],K5=wn("compass",vC);const yC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bC=wn("copy",yC);const xC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_C=wn("download",xC);const wC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],SC=wn("file-plus",wC);const AC=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],NC=wn("folder-open",AC);const CC=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],Q5=wn("grip-horizontal",CC);const TC=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Zx=wn("grip-vertical",TC);const EC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],kC=wn("hash",EC);const OC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],MC=wn("layers",OC);const LC=[["path",{d:"M5 12h14",key:"1ays0h"}]],DC=wn("minus",LC);const jC=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],j0=wn("music",jC);const RC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],IC=wn("panel-right-close",RC);const BC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],zC=wn("panel-right",BC);const qC=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],FC=wn("pause",qC);const PC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],UC=wn("play",PC);const VC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kx=wn("plus",VC);const HC=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],GC=wn("repeat",HC);const YC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Qx=wn("rotate-ccw",YC);const WC=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],$x=wn("rotate-cw",WC);const XC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$5=wn("save",XC);const ZC=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],KC=wn("skip-back",ZC);const QC=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],$C=wn("skip-forward",QC);const JC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jx=wn("trash-2",JC);const eT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],tT=wn("volume-2",eT);const nT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],iT=wn("volume-x",nT);const rT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],J5=wn("x",rT);let Uf={piano:null,epiano:null,guitar:null,organ:null,synth:null,strings:null,pad:null,brass:null,marimba:null,bell:null,lead:null,bass:null,choir:null},oh="piano",Sf=null;const sT=i=>{i in Uf&&(oh=i)},aT=i=>{const e=i<=0?-1/0:20*Math.log10(i);console.log(`Setting volume: ${i} -> ${e} db`);try{Yx.volume.rampTo(e,.1)}catch(t){console.error("Error setting volume:",t)}},oT=i=>{console.log(`Setting mute: ${i}`),Yx.mute=i},qg=async()=>{if(Sf)return Sf;Sf=(async()=>{const i="https://tonejs.github.io/audio/salamander/",e=(t,r)=>{if(!Uf[t])try{const a=r();a&&(Uf[t]=a,console.log(`Instrument "${t}" ready`))}catch(a){console.error(`Failed to init instrument "${t}"`,a)}};e("piano",()=>new sd({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:i}).toDestination()),e("guitar",()=>new bs(ha,{oscillator:{type:"triangle"},envelope:{attack:.002,decay:.25,sustain:.3,release:1.2},filter:{type:"lowpass",frequency:2400,rolloff:-12,Q:1.2},filterEnvelope:{attack:.002,decay:.25,sustain:.2,release:.8,baseFrequency:800,octaves:2.5}}).toDestination()),e("organ",()=>new bs(Fp,{harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("synth",()=>new bs(Of,{harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("epiano",()=>new bs(Fp,{harmonicity:2,oscillator:{type:"triangle"},envelope:{attack:.01,decay:.2,sustain:.7,release:.8},modulation:{type:"sine"},modulationEnvelope:{attack:.2,decay:.1,sustain:.6,release:.6}}).toDestination()),e("strings",()=>new bs(ha,{oscillator:{type:"sawtooth"},envelope:{attack:.2,decay:.2,sustain:.8,release:1.2}}).toDestination()),e("pad",()=>new bs(Of,{harmonicity:1.5,modulationIndex:8,oscillator:{type:"sine"},envelope:{attack:.5,decay:.3,sustain:.9,release:1.5},modulation:{type:"triangle"},modulationEnvelope:{attack:.8,decay:.3,sustain:.8,release:1.2}}).toDestination()),e("brass",()=>new bs(Hp,{oscillator:{type:"square"},filter:{Q:2,type:"lowpass",rolloff:-12},envelope:{attack:.02,decay:.25,sustain:.6,release:.7},filterEnvelope:{attack:.01,decay:.2,sustain:.8,release:.4,baseFrequency:200,octaves:2.5}}).toDestination()),e("marimba",()=>new bs(ha,{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.35,sustain:0,release:.6}}).toDestination()),e("bell",()=>new bs(Of,{harmonicity:8,modulationIndex:2,oscillator:{type:"sine"},envelope:{attack:.01,decay:1.2,sustain:0,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.01,decay:.5,sustain:0,release:1.2}}).toDestination()),e("lead",()=>new bs(ha,{oscillator:{type:"sawtooth"},envelope:{attack:.005,decay:.15,sustain:.6,release:.35}}).toDestination()),e("bass",()=>new bs(Hp,{oscillator:{type:"square"},filter:{type:"lowpass",rolloff:-24,Q:2},envelope:{attack:.01,decay:.2,sustain:.6,release:.4},filterEnvelope:{attack:.001,decay:.15,sustain:.4,release:.2,baseFrequency:80,octaves:3}}).toDestination()),e("choir",()=>new bs(ha,{oscillator:{type:"sine"},envelope:{attack:.8,decay:.3,sustain:.9,release:1.8}}).toDestination()),await Q8(),console.log("Audio initialized")})();try{await Sf}catch(i){Sf=null,console.error("Failed to initialize audio",i)}},ey=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],e_=async(i,e="1n")=>{if(console.log("playChord called with notes:",i),Wx.state!=="running"&&(console.log("Starting Tone context..."),await _g()),await qg(),console.log("Audio initialized, current instrument:",oh),!i||i.length===0){console.log("No notes to play");return}const t=i[0],r=ey.indexOf(t.replace(/\d/,"")),a=i.map((h,c)=>{if(h.match(/\d/))return h;const f=h,d=ey.indexOf(f);if(c===0)return`${f}3`;let m=3;return(d<r||d-r>6)&&(m=4),c>=4&&(m=4),c>=5&&(m=5),`${f}${m}`});let o=Uf[oh];if(console.log(`Trying to play with instrument: ${oh}, available:`,o!==null),o||(console.warn(`Instrument "${oh}" not ready, falling back to piano`),o=Uf.piano),!o){console.error("No instrument available to play!");return}try{console.log("Playing voiced notes:",a),o.triggerAttackRelease(a,e),console.log("Chord played successfully")}catch(h){console.error(`Failed to play on "${oh}"`,h)}},lT=({zoomScale:i,zoomOriginY:e,onZoomChange:t})=>{const{selectedKey:r,setKey:a,wheelRotation:o,wheelMode:h,rotateWheel:c,toggleWheelMode:f,addChordToSlot:d,selectedSectionId:m,selectedSlotId:x,currentSong:w,setSelectedChord:y,selectedChord:N,selectNextSlotAfter:A,setSelectedSlot:E}=fa(),C=h==="rotating"?o:0,U=Ef.indexOf(r),F=pe.useRef(null),q=pe.useRef(null),[z,$]=pe.useState(null),[Y,D]=pe.useState({x:0,y:0}),[R,Z]=pe.useState(()=>typeof window<"u"?window.innerWidth<768:!1);pe.useEffect(()=>{const Oe=N?.segmentId??null;$(Oe)},[N]),pe.useEffect(()=>{const Oe=()=>Z(window.innerWidth<768);return window.addEventListener("resize",Oe),()=>window.removeEventListener("resize",Oe)},[]);const O=pe.useRef(null),j=pe.useRef(null),[V,J]=pe.useState(!1),ue=pe.useRef(0),ee=pe.useRef(0),ie=pe.useCallback((Oe,Le)=>{if(!j.current)return 0;const Fe=j.current.getBoundingClientRect(),pt=Fe.left+Fe.width/2,it=Fe.top+Fe.height/2,Ke=Oe-pt,at=Le-it;return Math.atan2(at,Ke)*(180/Math.PI)},[]),ce=pe.useCallback(Oe=>{const Le=Ef.indexOf(r),Fe=Oe==="cw"?(Le+1)%12:(Le-1+12)%12;a(Ef[Fe]),c(Oe)},[r,a,c]),he=pe.useRef(null),we=pe.useRef(!1),X=pe.useCallback(Oe=>{if(!j.current)return;const Le=j.current.getBoundingClientRect(),Fe=Le.width/2,pt=Le.height/2,it=Oe.clientX-Le.left-Fe,Ke=Oe.clientY-Le.top-pt,at=Math.sqrt(it*it+Ke*Ke),Jt=Le.width/600*70;at>Jt&&(J(!0),ue.current=ie(Oe.clientX,Oe.clientY),ee.current=o,Oe.preventDefault())},[ie,o,h]),T=pe.useCallback(Oe=>{if(Oe.touches.length!==1)return;const Le=Oe.touches[0];if(he.current={x:Le.clientX,y:Le.clientY},we.current=!1,!j.current)return;const Fe=j.current.getBoundingClientRect(),pt=Fe.width/2,it=Fe.height/2,Ke=Le.clientX-Fe.left-pt,at=Le.clientY-Fe.top-it,Jt=Math.sqrt(Ke*Ke+at*at),Qt=Fe.width/600*70;Jt>Qt&&(ue.current=ie(Le.clientX,Le.clientY),ee.current=o)},[ie,o]),H=pe.useCallback(Oe=>{if(Oe.touches.length!==1||!he.current)return;const Le=Oe.touches[0],Fe=Le.clientX-he.current.x,pt=Le.clientY-he.current.y;if(Math.sqrt(Fe*Fe+pt*pt)>10){if(we.current=!0,Oe.preventDefault(),!j.current)return;const Ke=j.current.getBoundingClientRect(),at=Ke.width/2,Jt=Ke.height/2,Qt=Le.clientX-Ke.left,pn=Le.clientY-Ke.top,mn=Math.sqrt(Math.pow(Qt-at,2)+Math.pow(pn-Jt,2)),mt=Ke.width/600*70;if(mn>mt&&ue.current!==0){const an=ie(Le.clientX,Le.clientY),zn=an-ue.current;if(Math.abs(zn)>=15){const gn=Math.round(zn/30);if(gn!==0){const Dn=h==="fixed"?gn>0?"cw":"ccw":gn>0?"ccw":"cw",tn=Math.abs(gn);for(let vn=0;vn<tn;vn++)ce(Dn);ue.current=an}}}}},[ie,ce,h]),Q=pe.useCallback(Oe=>{if(!V)return;const Le=ie(Oe.clientX,Oe.clientY),Fe=Le-ue.current;if(Math.abs(Fe)>=15){const pt=Math.round(Fe/30);if(pt!==0){let it;h==="fixed"?it=pt>0?"cw":"ccw":it=pt>0?"ccw":"cw";const Ke=Math.abs(pt);for(let at=0;at<Ke;at++)ce(it);ue.current=Le}}},[V,ie,ce,h]),re=pe.useCallback(()=>{J(!1)},[]);pe.useEffect(()=>{if(V)return document.addEventListener("mousemove",Q),document.addEventListener("mouseup",re),()=>{document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",re)}},[V,Q,re]);const ae=pe.useCallback((Oe,Le,Fe)=>{if(!O.current||Fe<=1)return{x:0,y:0};const{clientWidth:pt,clientHeight:it}=O.current,Ke=12,at=pt*(Fe-1)/2+Ke,Jt=it*(Fe-1)/2+Ke;return{x:Math.max(-at,Math.min(at,Oe)),y:Math.max(-Jt,Math.min(Jt,Le))}},[]);pe.useEffect(()=>{D(Oe=>ae(Oe.x,Oe.y,i))},[i,ae]);const me=Oe=>({x:(Oe[0].clientX+Oe[1].clientX)/2,y:(Oe[0].clientY+Oe[1].clientY)/2}),de=pe.useCallback(Oe=>{if(Oe.touches.length===2){Oe.preventDefault();const Le=Oe.touches[0].clientX-Oe.touches[1].clientX,Fe=Oe.touches[0].clientY-Oe.touches[1].clientY;F.current=Math.sqrt(Le*Le+Fe*Fe),q.current=me(Oe.touches)}},[]),_e=pe.useCallback(Oe=>{if(Oe.touches.length===2&&F.current!==null){Oe.preventDefault(),Oe.stopPropagation();const Le=Oe.touches[0].clientX-Oe.touches[1].clientX,Fe=Oe.touches[0].clientY-Oe.touches[1].clientY,pt=Math.sqrt(Le*Le+Fe*Fe),it=pt/F.current,Ke=Math.max(1,Math.min(2.5,i*it)),at=Ke>1.3?38:50,Jt=me(Oe.touches);if(q.current){const Qt=Jt.x-q.current.x,pn=Jt.y-q.current.y;D(mn=>ae(mn.x+Qt,mn.y+pn,Ke))}F.current=pt,q.current=Jt,t(Ke,at)}},[i,t,ae]),ve=pe.useCallback(Oe=>{F.current=null,q.current=null,Oe.touches.length===0&&Oe.preventDefault()},[]),Ie=pe.useCallback(Oe=>{if(Oe.ctrlKey||Oe.metaKey){Oe.preventDefault();const Le=Oe.deltaY>0?.9:1.1,Fe=Math.max(1,Math.min(2.5,i*Le)),pt=Fe>1.3?38:50;t(Fe,pt)}},[i,t]),He=Q0(),Ge=600,Qe=Ge/2,P=Ge/2,je=60,ct=je+8,tt=145,De=tt,et=210,nt=et,ht=250,ut=pe.useMemo(()=>K3(r),[r]),Ot=pe.useMemo(()=>ut.sharps>0?`${ut.sharps}`:ut.flats>0?`${ut.flats}`:"",[ut]),We=pe.useRef(0),$e=Oe=>{const Le=Oe,Fe=Date.now();Fe-We.current<300||(We.current=Fe,e_(Oe.notes),$(Le.segmentId??null),y(Oe))},ot=Oe=>{const Le=Oe;let Fe=null,pt=null;if(m&&x)Fe=m,pt=x;else if(m){const it=w.sections.find(Ke=>Ke.id===m);if(it)for(const Ke of it.measures){for(const at of Ke.beats)if(!at.chord){Fe=it.id,pt=at.id;break}if(pt)break}}if(!Fe||!pt)for(const it of w.sections){for(const Ke of it.measures){for(const at of Ke.beats)if(!at.chord){Fe=it.id,pt=at.id;break}if(pt)break}if(pt)break}Fe&&pt&&(d(Oe,Fe,pt),A(Fe,pt)||(E(Fe,pt),$(Le.segmentId??null),y(Oe)))},gt=Oe=>(Oe-U+12)%12,rt=(Oe,Le)=>{const Fe=gt(Oe);return Le==="major"?Fe===0||Fe===1||Fe===11:Le==="ii"||Le==="iii"||Le==="dim"?Fe===0:!1},Tt=Oe=>gt(Oe)===1,lt=Oe=>{const Le=gt(Oe);return Le===2||Le===4},Ht=(Oe,Le)=>{const Fe=gt(Oe);if(Le==="major"){if(Fe===0)return"I";if(Fe===1)return"V";if(Fe===11)return"IV";if(Fe===2)return"II";if(Fe===4)return"III"}if(Le==="ii"){if(Fe===0)return"ii";if(Fe===1)return"vi"}return Le==="iii"&&Fe===0?"iii":Le==="dim"&&Fe===0?"vii":""},Dt=(Oe,Le)=>{const Fe=gt(Oe);if(Le==="major"){if(Fe===0)return"maj7, maj9, maj13 or 6";if(Fe===1)return"7, 9, 11, sus4, 13";if(Fe===11)return"maj7, maj9, maj13 or 6";if(Fe===2||Fe===4)return"7, sus4"}if(Le==="ii"){if(Fe===0)return"m7, m9, m11, m6";if(Fe===1)return"m7, m9, m11"}return Le==="iii"&&Fe===0?"m7":Le==="dim"&&Fe===0?"m75 (7)":""},vt=Oe=>{if(z)return z===Oe.segmentId;const Le=N?.segmentId;return Le?Le===Oe.segmentId:!1},At=pe.useCallback(Oe=>{Oe.touches.length===2?de(Oe):Oe.touches.length===1&&T(Oe)},[de,T]),Ft=pe.useCallback(Oe=>{Oe.touches.length===2?_e(Oe):Oe.touches.length===1&&H(Oe)},[_e,H]),St=pe.useCallback(Oe=>{he.current=null,we.current=!1,ve(Oe)},[ve]);return L.jsx("div",{ref:O,className:"relative flex flex-col items-center justify-center w-full h-full max-w-full max-h-full aspect-square p-1 sm:p-2 select-none",onTouchStart:At,onTouchMove:Ft,onTouchEnd:St,onWheel:Ie,style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",touchAction:"none"},children:L.jsx("div",{className:"w-full h-full transition-transform duration-150 ease-out overflow-hidden",style:{transform:`translate(${Y.x}px, ${Y.y}px) scale(${i})`,transformOrigin:`center ${e}%`},children:L.jsxs("svg",{ref:j,width:"100%",height:"100%",viewBox:`0 0 ${Ge} ${Ge}`,className:`w-full h-full select-none ${V?"cursor-grabbing":"cursor-grab"}`,onMouseDown:X,style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},children:[L.jsxs("defs",{children:[L.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[L.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),L.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),L.jsx("filter",{id:"segment-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:L.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#ffffff",floodOpacity:"0.9"})})]}),L.jsx("g",{style:{transform:`rotate(${C}deg)`,transformOrigin:`${Qe}px ${P}px`,transition:"transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:W3.map((Oe,Le)=>{const pt=Le*30-15,it=pt+30,Ke=He[Oe.major]||He.C,at=Oe.ii.replace("m",""),Jt=Oe.iii.replace("m",""),Qt=Oe.diminished.replace("",""),pn=rt(Le,"major"),mn=lt(Le),mt=rt(Le,"ii")||Tt(Le),an=rt(Le,"iii"),zn=rt(Le,"dim"),gn={root:Oe.major,quality:"major",numeral:Ht(Le,"major"),notes:uh(Oe.major,"major"),symbol:Oe.major,segmentId:`major-${Le}`,ringType:"major",positionIndex:Le},Dn={root:at,quality:"minor",numeral:Ht(Le,"ii"),notes:uh(at,"minor"),symbol:Oe.ii,segmentId:`ii-${Le}`,ringType:"minor",positionIndex:Le},tn={root:Jt,quality:"minor",numeral:Ht(Le,"iii"),notes:uh(Jt,"minor"),symbol:Oe.iii,segmentId:`iii-${Le}`,ringType:"minor",positionIndex:Le},vn={root:Qt,quality:"diminished",numeral:Ht(Le,"dim"),notes:uh(Qt,"diminished"),symbol:Oe.diminished,segmentId:`dim-${Le}`,ringType:"diminished",positionIndex:Le},Cn=15,ui=pt+-7.5,Tn=ui+Cn,qn=Tn,Pi=qn+Cn,lr=15,br=pt+(30-lr)/2,ma=br+lr,Pr=Oe.major,Ur=Oe.ii,Ys=Oe.iii,Vr=Oe.diminished;return L.jsxs("g",{children:[L.jsx(op,{cx:Qe,cy:P,innerRadius:ct,outerRadius:tt,startAngle:pt,endAngle:it,color:Ke,label:Pr,chord:gn,isSelected:vt(gn),isDiatonic:pn,isSecondary:mn,onClick:$e,onDoubleClick:ot,ringType:"major",wheelRotation:C,romanNumeral:pn||mn?Ht(Le,"major"):void 0,voicingSuggestion:pn||mn?Dt(Le,"major"):void 0,segmentId:`major-${Le}`}),L.jsx(op,{cx:Qe,cy:P,innerRadius:De,outerRadius:et,startAngle:ui,endAngle:Tn,color:Ke,label:Ur,chord:Dn,isSelected:vt(Dn),isDiatonic:mt,onClick:$e,onDoubleClick:ot,ringType:"minor",wheelRotation:C,romanNumeral:mt?Ht(Le,"ii"):void 0,voicingSuggestion:mt?Dt(Le,"ii"):void 0,segmentId:`ii-${Le}`}),L.jsx(op,{cx:Qe,cy:P,innerRadius:De,outerRadius:et,startAngle:qn,endAngle:Pi,color:Ke,label:Ys,chord:tn,isSelected:vt(tn),isDiatonic:an,onClick:$e,onDoubleClick:ot,ringType:"minor",wheelRotation:C,romanNumeral:an?Ht(Le,"iii"):void 0,voicingSuggestion:an?Dt(Le,"iii"):void 0,segmentId:`iii-${Le}`}),L.jsx(op,{cx:Qe,cy:P,innerRadius:nt,outerRadius:ht,startAngle:br,endAngle:ma,color:Ke,label:Vr,chord:vn,isSelected:vt(vn),isDiatonic:zn,onClick:$e,onDoubleClick:ot,ringType:"diminished",wheelRotation:C,romanNumeral:zn?Ht(Le,"dim"):void 0,voicingSuggestion:zn?Dt(Le,"dim"):void 0,segmentId:`dim-${Le}`})]},Oe.major)})}),L.jsx("circle",{cx:Qe,cy:P,r:je,fill:"#1a1a24",stroke:"#3a3a4a",strokeWidth:"2",style:{pointerEvents:"none"}}),L.jsx("text",{x:Qe,y:P-22,textAnchor:"middle",fill:"#6366f1",fontSize:"9",fontWeight:"bold",letterSpacing:"2",children:"KEY"}),L.jsx("text",{x:Qe,y:P+6,textAnchor:"middle",fill:"white",fontSize:"26",fontWeight:"bold",children:r}),L.jsx("text",{x:Qe,y:P+24,textAnchor:"middle",fill:"#9898a6",fontSize:"11",children:Ot||"No /"}),L.jsxs("g",{transform:`translate(${Qe-22}, ${P+38})`,onClick:()=>ce("ccw"),onTouchEnd:Oe=>{Oe.preventDefault(),Oe.stopPropagation(),ce("ccw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[L.jsx("circle",{r:R?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),L.jsx("g",{transform:R?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:L.jsx(Qx,{size:R?12:9,color:"#9898a6"})})]}),L.jsxs("g",{transform:`translate(${Qe+22}, ${P+38})`,onClick:()=>ce("cw"),onTouchEnd:Oe=>{Oe.preventDefault(),Oe.stopPropagation(),ce("cw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[L.jsx("circle",{r:R?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),L.jsx("g",{transform:R?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:L.jsx($x,{size:R?12:9,color:"#9898a6"})})]}),L.jsxs("g",{transform:`translate(${Qe}, ${P+52})`,onClick:f,onTouchEnd:Oe=>{Oe.preventDefault(),Oe.stopPropagation(),f()},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[L.jsx("rect",{x:R?-24:-18,y:R?-10:-6,width:R?48:36,height:R?20:12,rx:R?10:6,fill:h==="fixed"?"#6366f1":"#282833",className:"hover:brightness-110 transition-all",style:{pointerEvents:"all"}}),L.jsx("g",{style:{pointerEvents:"none"},children:h==="fixed"?L.jsx("g",{transform:R?"translate(-5, -5)":"translate(-4, -4)",children:L.jsx(K5,{size:R?10:8,color:"white"})}):L.jsx("g",{transform:R?"translate(-5, -5) rotate(-35 5 5)":"translate(-4, -4) rotate(-35 4 4)",children:L.jsx(K5,{size:R?10:8,color:"#ef4444"})})})]})]})})})};var Tf=Db();function cT(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return pe.useMemo(()=>r=>{e.forEach(a=>a(r))},e)}const _1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jh(i){const e=Object.prototype.toString.call(i);return e==="[object Window]"||e==="[object global]"}function Fg(i){return"nodeType"in i}function ts(i){var e,t;return i?jh(i)?i:Fg(i)&&(e=(t=i.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Pg(i){const{Document:e}=ts(i);return i instanceof e}function ad(i){return jh(i)?!1:i instanceof ts(i).HTMLElement}function t_(i){return i instanceof ts(i).SVGElement}function Rh(i){return i?jh(i)?i.document:Fg(i)?Pg(i)?i:ad(i)||t_(i)?i.ownerDocument:document:document:document}const Qa=_1?pe.useLayoutEffect:pe.useEffect;function w1(i){const e=pe.useRef(i);return Qa(()=>{e.current=i}),pe.useCallback(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function uT(){const i=pe.useRef(null),e=pe.useCallback((r,a)=>{i.current=setInterval(r,a)},[]),t=pe.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[e,t]}function Vf(i,e){e===void 0&&(e=[i]);const t=pe.useRef(i);return Qa(()=>{t.current!==i&&(t.current=i)},e),t}function od(i,e){const t=pe.useRef();return pe.useMemo(()=>{const r=i(t.current);return t.current=r,r},[...e])}function Gp(i){const e=w1(i),t=pe.useRef(null),r=pe.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,r]}function Yp(i){const e=pe.useRef();return pe.useEffect(()=>{e.current=i},[i]),e.current}let Xm={};function ld(i,e){return pe.useMemo(()=>{if(e)return e;const t=Xm[i]==null?0:Xm[i]+1;return Xm[i]=t,i+"-"+t},[i,e])}function n_(i){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.reduce((o,h)=>{const c=Object.entries(h);for(const[f,d]of c){const m=o[f];m!=null&&(o[f]=m+i*d)}return o},{...e})}}const yh=n_(1),Hf=n_(-1);function hT(i){return"clientX"in i&&"clientY"in i}function S1(i){if(!i)return!1;const{KeyboardEvent:e}=ts(i.target);return e&&i instanceof e}function fT(i){if(!i)return!1;const{TouchEvent:e}=ts(i.target);return e&&i instanceof e}function Wp(i){if(fT(i)){if(i.touches&&i.touches.length){const{clientX:e,clientY:t}=i.touches[0];return{x:e,y:t}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:e,clientY:t}=i.changedTouches[0];return{x:e,y:t}}}return hT(i)?{x:i.clientX,y:i.clientY}:null}const fc=Object.freeze({Translate:{toString(i){if(!i)return;const{x:e,y:t}=i;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:e,scaleY:t}=i;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(i){if(i)return[fc.Translate.toString(i),fc.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:e,duration:t,easing:r}=i;return e+" "+t+"ms "+r}}}),ty="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function dT(i){return i.matches(ty)?i:i.querySelector(ty)}const pT={display:"none"};function mT(i){let{id:e,value:t}=i;return _n.createElement("div",{id:e,style:pT},t)}function gT(i){let{id:e,announcement:t,ariaLiveType:r="assertive"}=i;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return _n.createElement("div",{id:e,style:a,role:"status","aria-live":r,"aria-atomic":!0},t)}function vT(){const[i,e]=pe.useState("");return{announce:pe.useCallback(r=>{r!=null&&e(r)},[]),announcement:i}}const i_=pe.createContext(null);function r_(i){const e=pe.useContext(i_);pe.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(i)},[i,e])}function yT(){const[i]=pe.useState(()=>new Set),e=pe.useCallback(r=>(i.add(r),()=>i.delete(r)),[i]);return[pe.useCallback(r=>{let{type:a,event:o}=r;i.forEach(h=>{var c;return(c=h[a])==null?void 0:c.call(h,o)})},[i]),e]}const bT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},xT={onDragStart(i){let{active:e}=i;return"Picked up draggable item "+e.id+"."},onDragOver(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(i){let{active:e}=i;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function _T(i){let{announcements:e=xT,container:t,hiddenTextDescribedById:r,screenReaderInstructions:a=bT}=i;const{announce:o,announcement:h}=vT(),c=ld("DndLiveRegion"),[f,d]=pe.useState(!1);if(pe.useEffect(()=>{d(!0)},[]),r_(pe.useMemo(()=>({onDragStart(x){let{active:w}=x;o(e.onDragStart({active:w}))},onDragMove(x){let{active:w,over:y}=x;e.onDragMove&&o(e.onDragMove({active:w,over:y}))},onDragOver(x){let{active:w,over:y}=x;o(e.onDragOver({active:w,over:y}))},onDragEnd(x){let{active:w,over:y}=x;o(e.onDragEnd({active:w,over:y}))},onDragCancel(x){let{active:w,over:y}=x;o(e.onDragCancel({active:w,over:y}))}}),[o,e])),!f)return null;const m=_n.createElement(_n.Fragment,null,_n.createElement(mT,{id:r,value:a.draggable}),_n.createElement(gT,{id:c,announcement:h}));return t?Tf.createPortal(m,t):m}var ar;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(ar||(ar={}));function Xp(){}function ny(i,e){return pe.useMemo(()=>({sensor:i,options:e??{}}),[i,e])}function wT(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return pe.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const $a=Object.freeze({x:0,y:0});function s_(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function ST(i,e){const t=Wp(i);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function a_(i,e){let{data:{value:t}}=i,{data:{value:r}}=e;return t-r}function AT(i,e){let{data:{value:t}}=i,{data:{value:r}}=e;return r-t}function iy(i){let{left:e,top:t,height:r,width:a}=i;return[{x:e,y:t},{x:e+a,y:t},{x:e,y:t+r},{x:e+a,y:t+r}]}function o_(i,e){if(!i||i.length===0)return null;const[t]=i;return t[e]}function ry(i,e,t){return e===void 0&&(e=i.left),t===void 0&&(t=i.top),{x:e+i.width*.5,y:t+i.height*.5}}const NT=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=i;const a=ry(e,e.left,e.top),o=[];for(const h of r){const{id:c}=h,f=t.get(c);if(f){const d=s_(ry(f),a);o.push({id:c,data:{droppableContainer:h,value:d}})}}return o.sort(a_)},CT=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=i;const a=iy(e),o=[];for(const h of r){const{id:c}=h,f=t.get(c);if(f){const d=iy(f),m=a.reduce((w,y,N)=>w+s_(d[N],y),0),x=Number((m/4).toFixed(4));o.push({id:c,data:{droppableContainer:h,value:x}})}}return o.sort(a_)};function TT(i,e){const t=Math.max(e.top,i.top),r=Math.max(e.left,i.left),a=Math.min(e.left+e.width,i.left+i.width),o=Math.min(e.top+e.height,i.top+i.height),h=a-r,c=o-t;if(r<a&&t<o){const f=e.width*e.height,d=i.width*i.height,m=h*c,x=m/(f+d-m);return Number(x.toFixed(4))}return 0}const ET=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=i;const a=[];for(const o of r){const{id:h}=o,c=t.get(h);if(c){const f=TT(c,e);f>0&&a.push({id:h,data:{droppableContainer:o,value:f}})}}return a.sort(AT)};function kT(i,e,t){return{...i,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function l_(i,e){return i&&e?{x:i.left-e.left,y:i.top-e.top}:$a}function OT(i){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return a.reduce((h,c)=>({...h,top:h.top+i*c.y,bottom:h.bottom+i*c.y,left:h.left+i*c.x,right:h.right+i*c.x}),{...t})}}const MT=OT(1);function c_(i){if(i.startsWith("matrix3d(")){const e=i.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(i.startsWith("matrix(")){const e=i.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function LT(i,e,t){const r=c_(e);if(!r)return i;const{scaleX:a,scaleY:o,x:h,y:c}=r,f=i.left-h-(1-a)*parseFloat(t),d=i.top-c-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),m=a?i.width/a:i.width,x=o?i.height/o:i.height;return{width:m,height:x,top:d,right:f+m,bottom:d+x,left:f}}const DT={ignoreTransform:!1};function Ih(i,e){e===void 0&&(e=DT);let t=i.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:m}=ts(i).getComputedStyle(i);d&&(t=LT(t,d,m))}const{top:r,left:a,width:o,height:h,bottom:c,right:f}=t;return{top:r,left:a,width:o,height:h,bottom:c,right:f}}function sy(i){return Ih(i,{ignoreTransform:!0})}function jT(i){const e=i.innerWidth,t=i.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function RT(i,e){return e===void 0&&(e=ts(i).getComputedStyle(i)),e.position==="fixed"}function IT(i,e){e===void 0&&(e=ts(i).getComputedStyle(i));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?t.test(o):!1})}function A1(i,e){const t=[];function r(a){if(e!=null&&t.length>=e||!a)return t;if(Pg(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!ad(a)||t_(a)||t.includes(a))return t;const o=ts(i).getComputedStyle(a);return a!==i&&IT(a,o)&&t.push(a),RT(a,o)?t:r(a.parentNode)}return i?r(i):t}function u_(i){const[e]=A1(i,1);return e??null}function Zm(i){return!_1||!i?null:jh(i)?i:Fg(i)?Pg(i)||i===Rh(i).scrollingElement?window:ad(i)?i:null:null}function h_(i){return jh(i)?i.scrollX:i.scrollLeft}function f_(i){return jh(i)?i.scrollY:i.scrollTop}function R0(i){return{x:h_(i),y:f_(i)}}var mr;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(mr||(mr={}));function d_(i){return!_1||!i?!1:i===document.scrollingElement}function p_(i){const e={x:0,y:0},t=d_(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},r={x:i.scrollWidth-t.width,y:i.scrollHeight-t.height},a=i.scrollTop<=e.y,o=i.scrollLeft<=e.x,h=i.scrollTop>=r.y,c=i.scrollLeft>=r.x;return{isTop:a,isLeft:o,isBottom:h,isRight:c,maxScroll:r,minScroll:e}}const BT={x:.2,y:.2};function zT(i,e,t,r,a){let{top:o,left:h,right:c,bottom:f}=t;r===void 0&&(r=10),a===void 0&&(a=BT);const{isTop:d,isBottom:m,isLeft:x,isRight:w}=p_(i),y={x:0,y:0},N={x:0,y:0},A={height:e.height*a.y,width:e.width*a.x};return!d&&o<=e.top+A.height?(y.y=mr.Backward,N.y=r*Math.abs((e.top+A.height-o)/A.height)):!m&&f>=e.bottom-A.height&&(y.y=mr.Forward,N.y=r*Math.abs((e.bottom-A.height-f)/A.height)),!w&&c>=e.right-A.width?(y.x=mr.Forward,N.x=r*Math.abs((e.right-A.width-c)/A.width)):!x&&h<=e.left+A.width&&(y.x=mr.Backward,N.x=r*Math.abs((e.left+A.width-h)/A.width)),{direction:y,speed:N}}function qT(i){if(i===document.scrollingElement){const{innerWidth:o,innerHeight:h}=window;return{top:0,left:0,right:o,bottom:h,width:o,height:h}}const{top:e,left:t,right:r,bottom:a}=i.getBoundingClientRect();return{top:e,left:t,right:r,bottom:a,width:i.clientWidth,height:i.clientHeight}}function m_(i){return i.reduce((e,t)=>yh(e,R0(t)),$a)}function FT(i){return i.reduce((e,t)=>e+h_(t),0)}function PT(i){return i.reduce((e,t)=>e+f_(t),0)}function g_(i,e){if(e===void 0&&(e=Ih),!i)return;const{top:t,left:r,bottom:a,right:o}=e(i);u_(i)&&(a<=0||o<=0||t>=window.innerHeight||r>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const UT=[["x",["left","right"],FT],["y",["top","bottom"],PT]];class Ug{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=A1(t),a=m_(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,h,c]of UT)for(const f of h)Object.defineProperty(this,f,{get:()=>{const d=c(r),m=a[o]-d;return this.rect[f]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Mf{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var a;(a=this.target)==null||a.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function VT(i){const{EventTarget:e}=ts(i);return i instanceof e?i:Rh(i)}function Km(i,e){const t=Math.abs(i.x),r=Math.abs(i.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var ua;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(ua||(ua={}));function ay(i){i.preventDefault()}function HT(i){i.stopPropagation()}var dn;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(dn||(dn={}));const v_={start:[dn.Space,dn.Enter],cancel:[dn.Esc],end:[dn.Space,dn.Enter,dn.Tab]},GT=(i,e)=>{let{currentCoordinates:t}=e;switch(i.code){case dn.Right:return{...t,x:t.x+25};case dn.Left:return{...t,x:t.x-25};case dn.Down:return{...t,y:t.y+25};case dn.Up:return{...t,y:t.y-25}}};class Vg{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Mf(Rh(t)),this.windowListeners=new Mf(ts(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ua.Resize,this.handleCancel),this.windowListeners.add(ua.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ua.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&g_(r),t($a)}handleKeyDown(e){if(S1(e)){const{active:t,context:r,options:a}=this.props,{keyboardCodes:o=v_,coordinateGetter:h=GT,scrollBehavior:c="smooth"}=a,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:d}=r.current,m=d?{x:d.left,y:d.top}:$a;this.referenceCoordinates||(this.referenceCoordinates=m);const x=h(e,{active:t,context:r.current,currentCoordinates:m});if(x){const w=Hf(x,m),y={x:0,y:0},{scrollableAncestors:N}=r.current;for(const A of N){const E=e.code,{isTop:C,isRight:U,isLeft:F,isBottom:q,maxScroll:z,minScroll:$}=p_(A),Y=qT(A),D={x:Math.min(E===dn.Right?Y.right-Y.width/2:Y.right,Math.max(E===dn.Right?Y.left:Y.left+Y.width/2,x.x)),y:Math.min(E===dn.Down?Y.bottom-Y.height/2:Y.bottom,Math.max(E===dn.Down?Y.top:Y.top+Y.height/2,x.y))},R=E===dn.Right&&!U||E===dn.Left&&!F,Z=E===dn.Down&&!q||E===dn.Up&&!C;if(R&&D.x!==x.x){const O=A.scrollLeft+w.x,j=E===dn.Right&&O<=z.x||E===dn.Left&&O>=$.x;if(j&&!w.y){A.scrollTo({left:O,behavior:c});return}j?y.x=A.scrollLeft-O:y.x=E===dn.Right?A.scrollLeft-z.x:A.scrollLeft-$.x,y.x&&A.scrollBy({left:-y.x,behavior:c});break}else if(Z&&D.y!==x.y){const O=A.scrollTop+w.y,j=E===dn.Down&&O<=z.y||E===dn.Up&&O>=$.y;if(j&&!w.x){A.scrollTo({top:O,behavior:c});return}j?y.y=A.scrollTop-O:y.y=E===dn.Down?A.scrollTop-z.y:A.scrollTop-$.y,y.y&&A.scrollBy({top:-y.y,behavior:c});break}}this.handleMove(e,yh(Hf(x,this.referenceCoordinates),y))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Vg.activators=[{eventName:"onKeyDown",handler:(i,e,t)=>{let{keyboardCodes:r=v_,onActivation:a}=e,{active:o}=t;const{code:h}=i.nativeEvent;if(r.start.includes(h)){const c=o.activatorNode.current;return c&&i.target!==c?!1:(i.preventDefault(),a?.({event:i.nativeEvent}),!0)}return!1}}];function oy(i){return!!(i&&"distance"in i)}function ly(i){return!!(i&&"delay"in i)}class Hg{constructor(e,t,r){var a;r===void 0&&(r=VT(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:h}=o;this.props=e,this.events=t,this.document=Rh(h),this.documentListeners=new Mf(this.document),this.listeners=new Mf(r),this.windowListeners=new Mf(ts(h)),this.initialCoordinates=(a=Wp(o))!=null?a:$a,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ua.Resize,this.handleCancel),this.windowListeners.add(ua.DragStart,ay),this.windowListeners.add(ua.VisibilityChange,this.handleCancel),this.windowListeners.add(ua.ContextMenu,ay),this.documentListeners.add(ua.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ly(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(oy(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ua.Click,HT,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ua.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:a,props:o}=this,{onMove:h,options:{activationConstraint:c}}=o;if(!a)return;const f=(t=Wp(e))!=null?t:$a,d=Hf(a,f);if(!r&&c){if(oy(c)){if(c.tolerance!=null&&Km(d,c.tolerance))return this.handleCancel();if(Km(d,c.distance))return this.handleStart()}if(ly(c)&&Km(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),h(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===dn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const YT={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Gg extends Hg{constructor(e){const{event:t}=e,r=Rh(t.target);super(e,YT,r)}}Gg.activators=[{eventName:"onPointerDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r?.({event:t}),!0)}}];const WT={move:{name:"mousemove"},end:{name:"mouseup"}};var I0;(function(i){i[i.RightClick=2]="RightClick"})(I0||(I0={}));class XT extends Hg{constructor(e){super(e,WT,Rh(e.event.target))}}XT.activators=[{eventName:"onMouseDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:r}=e;return t.button===I0.RightClick?!1:(r?.({event:t}),!0)}}];const Qm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ZT extends Hg{constructor(e){super(e,Qm)}static setup(){return window.addEventListener(Qm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Qm.move.name,e)};function e(){}}}ZT.activators=[{eventName:"onTouchStart",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:r}=e;const{touches:a}=t;return a.length>1?!1:(r?.({event:t}),!0)}}];var Lf;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(Lf||(Lf={}));var Zp;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(Zp||(Zp={}));function KT(i){let{acceleration:e,activator:t=Lf.Pointer,canScroll:r,draggingRect:a,enabled:o,interval:h=5,order:c=Zp.TreeOrder,pointerCoordinates:f,scrollableAncestors:d,scrollableAncestorRects:m,delta:x,threshold:w}=i;const y=$T({delta:x,disabled:!o}),[N,A]=uT(),E=pe.useRef({x:0,y:0}),C=pe.useRef({x:0,y:0}),U=pe.useMemo(()=>{switch(t){case Lf.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Lf.DraggableRect:return a}},[t,a,f]),F=pe.useRef(null),q=pe.useCallback(()=>{const $=F.current;if(!$)return;const Y=E.current.x*C.current.x,D=E.current.y*C.current.y;$.scrollBy(Y,D)},[]),z=pe.useMemo(()=>c===Zp.TreeOrder?[...d].reverse():d,[c,d]);pe.useEffect(()=>{if(!o||!d.length||!U){A();return}for(const $ of z){if(r?.($)===!1)continue;const Y=d.indexOf($),D=m[Y];if(!D)continue;const{direction:R,speed:Z}=zT($,D,U,e,w);for(const O of["x","y"])y[O][R[O]]||(Z[O]=0,R[O]=0);if(Z.x>0||Z.y>0){A(),F.current=$,N(q,h),E.current=Z,C.current=R;return}}E.current={x:0,y:0},C.current={x:0,y:0},A()},[e,q,r,A,o,h,JSON.stringify(U),JSON.stringify(y),N,d,z,m,JSON.stringify(w)])}const QT={x:{[mr.Backward]:!1,[mr.Forward]:!1},y:{[mr.Backward]:!1,[mr.Forward]:!1}};function $T(i){let{delta:e,disabled:t}=i;const r=Yp(e);return od(a=>{if(t||!r||!a)return QT;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[mr.Backward]:a.x[mr.Backward]||o.x===-1,[mr.Forward]:a.x[mr.Forward]||o.x===1},y:{[mr.Backward]:a.y[mr.Backward]||o.y===-1,[mr.Forward]:a.y[mr.Forward]||o.y===1}}},[t,e,r])}function JT(i,e){const t=e!=null?i.get(e):void 0,r=t?t.node.current:null;return od(a=>{var o;return e==null?null:(o=r??a)!=null?o:null},[r,e])}function e7(i,e){return pe.useMemo(()=>i.reduce((t,r)=>{const{sensor:a}=r,o=a.activators.map(h=>({eventName:h.eventName,handler:e(h.handler,r)}));return[...t,...o]},[]),[i,e])}var Gf;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Gf||(Gf={}));var B0;(function(i){i.Optimized="optimized"})(B0||(B0={}));const cy=new Map;function t7(i,e){let{dragging:t,dependencies:r,config:a}=e;const[o,h]=pe.useState(null),{frequency:c,measure:f,strategy:d}=a,m=pe.useRef(i),x=E(),w=Vf(x),y=pe.useCallback(function(C){C===void 0&&(C=[]),!w.current&&h(U=>U===null?C:U.concat(C.filter(F=>!U.includes(F))))},[w]),N=pe.useRef(null),A=od(C=>{if(x&&!t)return cy;if(!C||C===cy||m.current!==i||o!=null){const U=new Map;for(let F of i){if(!F)continue;if(o&&o.length>0&&!o.includes(F.id)&&F.rect.current){U.set(F.id,F.rect.current);continue}const q=F.node.current,z=q?new Ug(f(q),q):null;F.rect.current=z,z&&U.set(F.id,z)}return U}return C},[i,o,t,x,f]);return pe.useEffect(()=>{m.current=i},[i]),pe.useEffect(()=>{x||y()},[t,x]),pe.useEffect(()=>{o&&o.length>0&&h(null)},[JSON.stringify(o)]),pe.useEffect(()=>{x||typeof c!="number"||N.current!==null||(N.current=setTimeout(()=>{y(),N.current=null},c))},[c,x,y,...r]),{droppableRects:A,measureDroppableContainers:y,measuringScheduled:o!=null};function E(){switch(d){case Gf.Always:return!1;case Gf.BeforeDragging:return t;default:return!t}}}function Yg(i,e){return od(t=>i?t||(typeof e=="function"?e(i):i):null,[e,i])}function n7(i,e){return Yg(i,e)}function i7(i){let{callback:e,disabled:t}=i;const r=w1(e),a=pe.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,t]);return pe.useEffect(()=>()=>a?.disconnect(),[a]),a}function N1(i){let{callback:e,disabled:t}=i;const r=w1(e),a=pe.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[t]);return pe.useEffect(()=>()=>a?.disconnect(),[a]),a}function r7(i){return new Ug(Ih(i),i)}function uy(i,e,t){e===void 0&&(e=r7);const[r,a]=pe.useState(null);function o(){a(f=>{if(!i)return null;if(i.isConnected===!1){var d;return(d=f??t)!=null?d:null}const m=e(i);return JSON.stringify(f)===JSON.stringify(m)?f:m})}const h=i7({callback(f){if(i)for(const d of f){const{type:m,target:x}=d;if(m==="childList"&&x instanceof HTMLElement&&x.contains(i)){o();break}}}}),c=N1({callback:o});return Qa(()=>{o(),i?(c?.observe(i),h?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),h?.disconnect())},[i]),r}function s7(i){const e=Yg(i);return l_(i,e)}const hy=[];function a7(i){const e=pe.useRef(i),t=od(r=>i?r&&r!==hy&&i&&e.current&&i.parentNode===e.current.parentNode?r:A1(i):hy,[i]);return pe.useEffect(()=>{e.current=i},[i]),t}function o7(i){const[e,t]=pe.useState(null),r=pe.useRef(i),a=pe.useCallback(o=>{const h=Zm(o.target);h&&t(c=>c?(c.set(h,R0(h)),new Map(c)):null)},[]);return pe.useEffect(()=>{const o=r.current;if(i!==o){h(o);const c=i.map(f=>{const d=Zm(f);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,R0(d)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),r.current=i}return()=>{h(i),h(o)};function h(c){c.forEach(f=>{const d=Zm(f);d?.removeEventListener("scroll",a)})}},[a,i]),pe.useMemo(()=>i.length?e?Array.from(e.values()).reduce((o,h)=>yh(o,h),$a):m_(i):$a,[i,e])}function fy(i,e){e===void 0&&(e=[]);const t=pe.useRef(null);return pe.useEffect(()=>{t.current=null},e),pe.useEffect(()=>{const r=i!==$a;r&&!t.current&&(t.current=i),!r&&t.current&&(t.current=null)},[i]),t.current?Hf(i,t.current):$a}function l7(i){pe.useEffect(()=>{if(!_1)return;const e=i.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t?.()}},i.map(e=>{let{sensor:t}=e;return t}))}function c7(i,e){return pe.useMemo(()=>i.reduce((t,r)=>{let{eventName:a,handler:o}=r;return t[a]=h=>{o(h,e)},t},{}),[i,e])}function y_(i){return pe.useMemo(()=>i?jT(i):null,[i])}const dy=[];function u7(i,e){e===void 0&&(e=Ih);const[t]=i,r=y_(t?ts(t):null),[a,o]=pe.useState(dy);function h(){o(()=>i.length?i.map(f=>d_(f)?r:new Ug(e(f),f)):dy)}const c=N1({callback:h});return Qa(()=>{c?.disconnect(),h(),i.forEach(f=>c?.observe(f))},[i]),a}function b_(i){if(!i)return null;if(i.children.length>1)return i;const e=i.children[0];return ad(e)?e:i}function h7(i){let{measure:e}=i;const[t,r]=pe.useState(null),a=pe.useCallback(d=>{for(const{target:m}of d)if(ad(m)){r(x=>{const w=e(m);return x?{...x,width:w.width,height:w.height}:w});break}},[e]),o=N1({callback:a}),h=pe.useCallback(d=>{const m=b_(d);o?.disconnect(),m&&o?.observe(m),r(m?e(m):null)},[e,o]),[c,f]=Gp(h);return pe.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const f7=[{sensor:Gg,options:{}},{sensor:Vg,options:{}}],d7={current:{}},wp={draggable:{measure:sy},droppable:{measure:sy,strategy:Gf.WhileDragging,frequency:B0.Optimized},dragOverlay:{measure:Ih}};class Df extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const p7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Df,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Xp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:wp,measureDroppableContainers:Xp,windowRect:null,measuringScheduled:!1},x_={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Xp,draggableNodes:new Map,over:null,measureDroppableContainers:Xp},cd=pe.createContext(x_),__=pe.createContext(p7);function m7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Df}}}function g7(i,e){switch(e.type){case ar.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ar.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:e.coordinates.x-i.draggable.initialCoordinates.x,y:e.coordinates.y-i.draggable.initialCoordinates.y}}};case ar.DragEnd:case ar.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ar.RegisterDroppable:{const{element:t}=e,{id:r}=t,a=new Df(i.droppable.containers);return a.set(r,t),{...i,droppable:{...i.droppable,containers:a}}}case ar.SetDroppableDisabled:{const{id:t,key:r,disabled:a}=e,o=i.droppable.containers.get(t);if(!o||r!==o.key)return i;const h=new Df(i.droppable.containers);return h.set(t,{...o,disabled:a}),{...i,droppable:{...i.droppable,containers:h}}}case ar.UnregisterDroppable:{const{id:t,key:r}=e,a=i.droppable.containers.get(t);if(!a||r!==a.key)return i;const o=new Df(i.droppable.containers);return o.delete(t),{...i,droppable:{...i.droppable,containers:o}}}default:return i}}function v7(i){let{disabled:e}=i;const{active:t,activatorEvent:r,draggableNodes:a}=pe.useContext(cd),o=Yp(r),h=Yp(t?.id);return pe.useEffect(()=>{if(!e&&!r&&o&&h!=null){if(!S1(o)||document.activeElement===o.target)return;const c=a.get(h);if(!c)return;const{activatorNode:f,node:d}=c;if(!f.current&&!d.current)return;requestAnimationFrame(()=>{for(const m of[f.current,d.current]){if(!m)continue;const x=dT(m);if(x){x.focus();break}}})}},[r,e,a,h,o]),null}function w_(i,e){let{transform:t,...r}=e;return i!=null&&i.length?i.reduce((a,o)=>o({transform:a,...r}),t):t}function y7(i){return pe.useMemo(()=>({draggable:{...wp.draggable,...i?.draggable},droppable:{...wp.droppable,...i?.droppable},dragOverlay:{...wp.dragOverlay,...i?.dragOverlay}}),[i?.draggable,i?.droppable,i?.dragOverlay])}function b7(i){let{activeNode:e,measure:t,initialRect:r,config:a=!0}=i;const o=pe.useRef(!1),{x:h,y:c}=typeof a=="boolean"?{x:a,y:a}:a;Qa(()=>{if(!h&&!c||!e){o.current=!1;return}if(o.current||!r)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const m=t(d),x=l_(m,r);if(h||(x.x=0),c||(x.y=0),o.current=!0,Math.abs(x.x)>0||Math.abs(x.y)>0){const w=u_(d);w&&w.scrollBy({top:x.y,left:x.x})}},[e,h,c,r,t])}const C1=pe.createContext({...$a,scaleX:1,scaleY:1});var rc;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(rc||(rc={}));const x7=pe.memo(function(e){var t,r,a,o;let{id:h,accessibility:c,autoScroll:f=!0,children:d,sensors:m=f7,collisionDetection:x=ET,measuring:w,modifiers:y,...N}=e;const A=pe.useReducer(g7,void 0,m7),[E,C]=A,[U,F]=yT(),[q,z]=pe.useState(rc.Uninitialized),$=q===rc.Initialized,{draggable:{active:Y,nodes:D,translate:R},droppable:{containers:Z}}=E,O=Y!=null?D.get(Y):null,j=pe.useRef({initial:null,translated:null}),V=pe.useMemo(()=>{var it;return Y!=null?{id:Y,data:(it=O?.data)!=null?it:d7,rect:j}:null},[Y,O]),J=pe.useRef(null),[ue,ee]=pe.useState(null),[ie,ce]=pe.useState(null),he=Vf(N,Object.values(N)),we=ld("DndDescribedBy",h),X=pe.useMemo(()=>Z.getEnabled(),[Z]),T=y7(w),{droppableRects:H,measureDroppableContainers:Q,measuringScheduled:re}=t7(X,{dragging:$,dependencies:[R.x,R.y],config:T.droppable}),ae=JT(D,Y),me=pe.useMemo(()=>ie?Wp(ie):null,[ie]),de=pt(),_e=n7(ae,T.draggable.measure);b7({activeNode:Y!=null?D.get(Y):null,config:de.layoutShiftCompensation,initialRect:_e,measure:T.draggable.measure});const ve=uy(ae,T.draggable.measure,_e),Ie=uy(ae?ae.parentElement:null),He=pe.useRef({activatorEvent:null,active:null,activeNode:ae,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ge=Z.getNodeFor((t=He.current.over)==null?void 0:t.id),Qe=h7({measure:T.dragOverlay.measure}),P=(r=Qe.nodeRef.current)!=null?r:ae,je=$?(a=Qe.rect)!=null?a:ve:null,ct=!!(Qe.nodeRef.current&&Qe.rect),tt=s7(ct?null:ve),De=y_(P?ts(P):null),et=a7($?Ge??ae:null),nt=u7(et),ht=w_(y,{transform:{x:R.x-tt.x,y:R.y-tt.y,scaleX:1,scaleY:1},activatorEvent:ie,active:V,activeNodeRect:ve,containerNodeRect:Ie,draggingNodeRect:je,over:He.current.over,overlayNodeRect:Qe.rect,scrollableAncestors:et,scrollableAncestorRects:nt,windowRect:De}),ut=me?yh(me,R):null,Ot=o7(et),We=fy(Ot),$e=fy(Ot,[ve]),ot=yh(ht,We),gt=je?MT(je,ht):null,rt=V&&gt?x({active:V,collisionRect:gt,droppableRects:H,droppableContainers:X,pointerCoordinates:ut}):null,Tt=o_(rt,"id"),[lt,Ht]=pe.useState(null),Dt=ct?ht:yh(ht,$e),vt=kT(Dt,(o=lt?.rect)!=null?o:null,ve),At=pe.useRef(null),Ft=pe.useCallback((it,Ke)=>{let{sensor:at,options:Jt}=Ke;if(J.current==null)return;const Qt=D.get(J.current);if(!Qt)return;const pn=it.nativeEvent,mn=new at({active:J.current,activeNode:Qt,event:pn,options:Jt,context:He,onAbort(an){if(!D.get(an))return;const{onDragAbort:gn}=he.current,Dn={id:an};gn?.(Dn),U({type:"onDragAbort",event:Dn})},onPending(an,zn,gn,Dn){if(!D.get(an))return;const{onDragPending:vn}=he.current,Cn={id:an,constraint:zn,initialCoordinates:gn,offset:Dn};vn?.(Cn),U({type:"onDragPending",event:Cn})},onStart(an){const zn=J.current;if(zn==null)return;const gn=D.get(zn);if(!gn)return;const{onDragStart:Dn}=he.current,tn={activatorEvent:pn,active:{id:zn,data:gn.data,rect:j}};Tf.unstable_batchedUpdates(()=>{Dn?.(tn),z(rc.Initializing),C({type:ar.DragStart,initialCoordinates:an,active:zn}),U({type:"onDragStart",event:tn}),ee(At.current),ce(pn)})},onMove(an){C({type:ar.DragMove,coordinates:an})},onEnd:mt(ar.DragEnd),onCancel:mt(ar.DragCancel)});At.current=mn;function mt(an){return async function(){const{active:gn,collisions:Dn,over:tn,scrollAdjustedTranslate:vn}=He.current;let Cn=null;if(gn&&vn){const{cancelDrop:yr}=he.current;Cn={activatorEvent:pn,active:gn,collisions:Dn,delta:vn,over:tn},an===ar.DragEnd&&typeof yr=="function"&&await Promise.resolve(yr(Cn))&&(an=ar.DragCancel)}J.current=null,Tf.unstable_batchedUpdates(()=>{C({type:an}),z(rc.Uninitialized),Ht(null),ee(null),ce(null),At.current=null;const yr=an===ar.DragEnd?"onDragEnd":"onDragCancel";if(Cn){const ui=he.current[yr];ui?.(Cn),U({type:yr,event:Cn})}})}}},[D]),St=pe.useCallback((it,Ke)=>(at,Jt)=>{const Qt=at.nativeEvent,pn=D.get(Jt);if(J.current!==null||!pn||Qt.dndKit||Qt.defaultPrevented)return;const mn={active:pn};it(at,Ke.options,mn)===!0&&(Qt.dndKit={capturedBy:Ke.sensor},J.current=Jt,Ft(at,Ke))},[D,Ft]),Oe=e7(m,St);l7(m),Qa(()=>{ve&&q===rc.Initializing&&z(rc.Initialized)},[ve,q]),pe.useEffect(()=>{const{onDragMove:it}=he.current,{active:Ke,activatorEvent:at,collisions:Jt,over:Qt}=He.current;if(!Ke||!at)return;const pn={active:Ke,activatorEvent:at,collisions:Jt,delta:{x:ot.x,y:ot.y},over:Qt};Tf.unstable_batchedUpdates(()=>{it?.(pn),U({type:"onDragMove",event:pn})})},[ot.x,ot.y]),pe.useEffect(()=>{const{active:it,activatorEvent:Ke,collisions:at,droppableContainers:Jt,scrollAdjustedTranslate:Qt}=He.current;if(!it||J.current==null||!Ke||!Qt)return;const{onDragOver:pn}=he.current,mn=Jt.get(Tt),mt=mn&&mn.rect.current?{id:mn.id,rect:mn.rect.current,data:mn.data,disabled:mn.disabled}:null,an={active:it,activatorEvent:Ke,collisions:at,delta:{x:Qt.x,y:Qt.y},over:mt};Tf.unstable_batchedUpdates(()=>{Ht(mt),pn?.(an),U({type:"onDragOver",event:an})})},[Tt]),Qa(()=>{He.current={activatorEvent:ie,active:V,activeNode:ae,collisionRect:gt,collisions:rt,droppableRects:H,draggableNodes:D,draggingNode:P,draggingNodeRect:je,droppableContainers:Z,over:lt,scrollableAncestors:et,scrollAdjustedTranslate:ot},j.current={initial:je,translated:gt}},[V,ae,rt,gt,D,P,je,H,Z,lt,et,ot]),KT({...de,delta:R,draggingRect:gt,pointerCoordinates:ut,scrollableAncestors:et,scrollableAncestorRects:nt});const Le=pe.useMemo(()=>({active:V,activeNode:ae,activeNodeRect:ve,activatorEvent:ie,collisions:rt,containerNodeRect:Ie,dragOverlay:Qe,draggableNodes:D,droppableContainers:Z,droppableRects:H,over:lt,measureDroppableContainers:Q,scrollableAncestors:et,scrollableAncestorRects:nt,measuringConfiguration:T,measuringScheduled:re,windowRect:De}),[V,ae,ve,ie,rt,Ie,Qe,D,Z,H,lt,Q,et,nt,T,re,De]),Fe=pe.useMemo(()=>({activatorEvent:ie,activators:Oe,active:V,activeNodeRect:ve,ariaDescribedById:{draggable:we},dispatch:C,draggableNodes:D,over:lt,measureDroppableContainers:Q}),[ie,Oe,V,ve,C,we,D,lt,Q]);return _n.createElement(i_.Provider,{value:F},_n.createElement(cd.Provider,{value:Fe},_n.createElement(__.Provider,{value:Le},_n.createElement(C1.Provider,{value:vt},d)),_n.createElement(v7,{disabled:c?.restoreFocus===!1})),_n.createElement(_T,{...c,hiddenTextDescribedById:we}));function pt(){const it=ue?.autoScrollEnabled===!1,Ke=typeof f=="object"?f.enabled===!1:f===!1,at=$&&!it&&!Ke;return typeof f=="object"?{...f,enabled:at}:{enabled:at}}}),_7=pe.createContext(null),py="button",w7="Draggable";function S_(i){let{id:e,data:t,disabled:r=!1,attributes:a}=i;const o=ld(w7),{activators:h,activatorEvent:c,active:f,activeNodeRect:d,ariaDescribedById:m,draggableNodes:x,over:w}=pe.useContext(cd),{role:y=py,roleDescription:N="draggable",tabIndex:A=0}=a??{},E=f?.id===e,C=pe.useContext(E?C1:_7),[U,F]=Gp(),[q,z]=Gp(),$=c7(h,e),Y=Vf(t);Qa(()=>(x.set(e,{id:e,key:o,node:U,activatorNode:q,data:Y}),()=>{const R=x.get(e);R&&R.key===o&&x.delete(e)}),[x,e]);const D=pe.useMemo(()=>({role:y,tabIndex:A,"aria-disabled":r,"aria-pressed":E&&y===py?!0:void 0,"aria-roledescription":N,"aria-describedby":m.draggable}),[r,y,A,E,N,m.draggable]);return{active:f,activatorEvent:c,activeNodeRect:d,attributes:D,isDragging:E,listeners:r?void 0:$,node:U,over:w,setNodeRef:F,setActivatorNodeRef:z,transform:C}}function A_(){return pe.useContext(__)}const S7="Droppable",A7={timeout:25};function N_(i){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:a}=i;const o=ld(S7),{active:h,dispatch:c,over:f,measureDroppableContainers:d}=pe.useContext(cd),m=pe.useRef({disabled:t}),x=pe.useRef(!1),w=pe.useRef(null),y=pe.useRef(null),{disabled:N,updateMeasurementsFor:A,timeout:E}={...A7,...a},C=Vf(A??r),U=pe.useCallback(()=>{if(!x.current){x.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{d(Array.isArray(C.current)?C.current:[C.current]),y.current=null},E)},[E]),F=N1({callback:U,disabled:N||!h}),q=pe.useCallback((D,R)=>{F&&(R&&(F.unobserve(R),x.current=!1),D&&F.observe(D))},[F]),[z,$]=Gp(q),Y=Vf(e);return pe.useEffect(()=>{!F||!z.current||(F.disconnect(),x.current=!1,F.observe(z.current))},[z,F]),pe.useEffect(()=>(c({type:ar.RegisterDroppable,element:{id:r,key:o,disabled:t,node:z,rect:w,data:Y}}),()=>c({type:ar.UnregisterDroppable,key:o,id:r})),[r]),pe.useEffect(()=>{t!==m.current.disabled&&(c({type:ar.SetDroppableDisabled,id:r,key:o,disabled:t}),m.current.disabled=t)},[r,o,t,c]),{active:h,rect:w,isOver:f?.id===r,node:z,over:f,setNodeRef:$}}function N7(i){let{animation:e,children:t}=i;const[r,a]=pe.useState(null),[o,h]=pe.useState(null),c=Yp(t);return!t&&!r&&c&&a(c),Qa(()=>{if(!o)return;const f=r?.key,d=r?.props.id;if(f==null||d==null){a(null);return}Promise.resolve(e(d,o)).then(()=>{a(null)})},[e,r,o]),_n.createElement(_n.Fragment,null,t,r?pe.cloneElement(r,{ref:h}):null)}const C7={x:0,y:0,scaleX:1,scaleY:1};function T7(i){let{children:e}=i;return _n.createElement(cd.Provider,{value:x_},_n.createElement(C1.Provider,{value:C7},e))}const E7={position:"fixed",touchAction:"none"},k7=i=>S1(i)?"transform 250ms ease":void 0,O7=pe.forwardRef((i,e)=>{let{as:t,activatorEvent:r,adjustScale:a,children:o,className:h,rect:c,style:f,transform:d,transition:m=k7}=i;if(!c)return null;const x=a?d:{...d,scaleX:1,scaleY:1},w={...E7,width:c.width,height:c.height,top:c.top,left:c.left,transform:fc.Transform.toString(x),transformOrigin:a&&r?ST(r,c):void 0,transition:typeof m=="function"?m(r):m,...f};return _n.createElement(t,{className:h,style:w,ref:e},o)}),M7=i=>e=>{let{active:t,dragOverlay:r}=e;const a={},{styles:o,className:h}=i;if(o!=null&&o.active)for(const[c,f]of Object.entries(o.active))f!==void 0&&(a[c]=t.node.style.getPropertyValue(c),t.node.style.setProperty(c,f));if(o!=null&&o.dragOverlay)for(const[c,f]of Object.entries(o.dragOverlay))f!==void 0&&r.node.style.setProperty(c,f);return h!=null&&h.active&&t.node.classList.add(h.active),h!=null&&h.dragOverlay&&r.node.classList.add(h.dragOverlay),function(){for(const[f,d]of Object.entries(a))t.node.style.setProperty(f,d);h!=null&&h.active&&t.node.classList.remove(h.active)}},L7=i=>{let{transform:{initial:e,final:t}}=i;return[{transform:fc.Transform.toString(e)},{transform:fc.Transform.toString(t)}]},D7={duration:250,easing:"ease",keyframes:L7,sideEffects:M7({styles:{active:{opacity:"0"}}})};function j7(i){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:a}=i;return w1((o,h)=>{if(e===null)return;const c=t.get(o);if(!c)return;const f=c.node.current;if(!f)return;const d=b_(h);if(!d)return;const{transform:m}=ts(h).getComputedStyle(h),x=c_(m);if(!x)return;const w=typeof e=="function"?e:R7(e);return g_(f,a.draggable.measure),w({active:{id:o,data:c.data,node:f,rect:a.draggable.measure(f)},draggableNodes:t,dragOverlay:{node:h,rect:a.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:a,transform:x})})}function R7(i){const{duration:e,easing:t,sideEffects:r,keyframes:a}={...D7,...i};return o=>{let{active:h,dragOverlay:c,transform:f,...d}=o;if(!e)return;const m={x:c.rect.left-h.rect.left,y:c.rect.top-h.rect.top},x={scaleX:f.scaleX!==1?h.rect.width*f.scaleX/c.rect.width:1,scaleY:f.scaleY!==1?h.rect.height*f.scaleY/c.rect.height:1},w={x:f.x-m.x,y:f.y-m.y,...x},y=a({...d,active:h,dragOverlay:c,transform:{initial:f,final:w}}),[N]=y,A=y[y.length-1];if(JSON.stringify(N)===JSON.stringify(A))return;const E=r?.({active:h,dragOverlay:c,...d}),C=c.node.animate(y,{duration:e,easing:t,fill:"forwards"});return new Promise(U=>{C.onfinish=()=>{E?.(),U()}})}}let my=0;function I7(i){return pe.useMemo(()=>{if(i!=null)return my++,my},[i])}const B7=_n.memo(i=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:a,transition:o,modifiers:h,wrapperElement:c="div",className:f,zIndex:d=999}=i;const{activatorEvent:m,active:x,activeNodeRect:w,containerNodeRect:y,draggableNodes:N,droppableContainers:A,dragOverlay:E,over:C,measuringConfiguration:U,scrollableAncestors:F,scrollableAncestorRects:q,windowRect:z}=A_(),$=pe.useContext(C1),Y=I7(x?.id),D=w_(h,{activatorEvent:m,active:x,activeNodeRect:w,containerNodeRect:y,draggingNodeRect:E.rect,over:C,overlayNodeRect:E.rect,scrollableAncestors:F,scrollableAncestorRects:q,transform:$,windowRect:z}),R=Yg(w),Z=j7({config:r,draggableNodes:N,droppableContainers:A,measuringConfiguration:U}),O=R?E.setRef:void 0;return _n.createElement(T7,null,_n.createElement(N7,{animation:Z},x&&Y?_n.createElement(O7,{key:Y,id:x.id,ref:O,as:c,activatorEvent:m,adjustScale:e,className:f,transition:o,rect:R,style:{zIndex:d,...a},transform:D},t):null))});function Wg(i,e,t){const r=i.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function z7(i,e){return i.reduce((t,r,a)=>{const o=e.get(r);return o&&(t[a]=o),t},Array(i.length))}function lp(i){return i!==null&&i>=0}function q7(i,e){if(i===e)return!0;if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function F7(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const cp={scaleX:1,scaleY:1},P7=i=>{var e;let{rects:t,activeNodeRect:r,activeIndex:a,overIndex:o,index:h}=i;const c=(e=t[a])!=null?e:r;if(!c)return null;const f=U7(t,h,a);if(h===a){const d=t[o];return d?{x:a<o?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...cp}:null}return h>a&&h<=o?{x:-c.width-f,y:0,...cp}:h<a&&h>=o?{x:c.width+f,y:0,...cp}:{x:0,y:0,...cp}};function U7(i,e,t){const r=i[e],a=i[e-1],o=i[e+1];return!r||!a&&!o?0:t<e?a?r.left-(a.left+a.width):o.left-(r.left+r.width):o?o.left-(r.left+r.width):r.left-(a.left+a.width)}const C_=i=>{let{rects:e,activeIndex:t,overIndex:r,index:a}=i;const o=Wg(e,r,t),h=e[a],c=o[a];return!c||!h?null:{x:c.left-h.left,y:c.top-h.top,scaleX:c.width/h.width,scaleY:c.height/h.height}},T_="Sortable",E_=_n.createContext({activeIndex:-1,containerId:T_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:C_,disabled:{draggable:!1,droppable:!1}});function V7(i){let{children:e,id:t,items:r,strategy:a=C_,disabled:o=!1}=i;const{active:h,dragOverlay:c,droppableRects:f,over:d,measureDroppableContainers:m}=A_(),x=ld(T_,t),w=c.rect!==null,y=pe.useMemo(()=>r.map($=>typeof $=="object"&&"id"in $?$.id:$),[r]),N=h!=null,A=h?y.indexOf(h.id):-1,E=d?y.indexOf(d.id):-1,C=pe.useRef(y),U=!q7(y,C.current),F=E!==-1&&A===-1||U,q=F7(o);Qa(()=>{U&&N&&m(y)},[U,y,N,m]),pe.useEffect(()=>{C.current=y},[y]);const z=pe.useMemo(()=>({activeIndex:A,containerId:x,disabled:q,disableTransforms:F,items:y,overIndex:E,useDragOverlay:w,sortedRects:z7(y,f),strategy:a}),[A,x,q.draggable,q.droppable,F,y,E,f,w,a]);return _n.createElement(E_.Provider,{value:z},e)}const H7=i=>{let{id:e,items:t,activeIndex:r,overIndex:a}=i;return Wg(t,r,a).indexOf(e)},G7=i=>{let{containerId:e,isSorting:t,wasDragging:r,index:a,items:o,newIndex:h,previousItems:c,previousContainerId:f,transition:d}=i;return!d||!r||c!==o&&a===h?!1:t?!0:h!==a&&e===f},Y7={duration:200,easing:"ease"},k_="transform",W7=fc.Transition.toString({property:k_,duration:0,easing:"linear"}),X7={roleDescription:"sortable"};function Z7(i){let{disabled:e,index:t,node:r,rect:a}=i;const[o,h]=pe.useState(null),c=pe.useRef(t);return Qa(()=>{if(!e&&t!==c.current&&r.current){const f=a.current;if(f){const d=Ih(r.current,{ignoreTransform:!0}),m={x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height};(m.x||m.y)&&h(m)}}t!==c.current&&(c.current=t)},[e,t,r,a]),pe.useEffect(()=>{o&&h(null)},[o]),o}function K7(i){let{animateLayoutChanges:e=G7,attributes:t,disabled:r,data:a,getNewIndex:o=H7,id:h,strategy:c,resizeObserverConfig:f,transition:d=Y7}=i;const{items:m,containerId:x,activeIndex:w,disabled:y,disableTransforms:N,sortedRects:A,overIndex:E,useDragOverlay:C,strategy:U}=pe.useContext(E_),F=Q7(r,y),q=m.indexOf(h),z=pe.useMemo(()=>({sortable:{containerId:x,index:q,items:m},...a}),[x,a,q,m]),$=pe.useMemo(()=>m.slice(m.indexOf(h)),[m,h]),{rect:Y,node:D,isOver:R,setNodeRef:Z}=N_({id:h,data:z,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:$,...f}}),{active:O,activatorEvent:j,activeNodeRect:V,attributes:J,setNodeRef:ue,listeners:ee,isDragging:ie,over:ce,setActivatorNodeRef:he,transform:we}=S_({id:h,data:z,attributes:{...X7,...t},disabled:F.draggable}),X=cT(Z,ue),T=!!O,H=T&&!N&&lp(w)&&lp(E),Q=!C&&ie,re=Q&&H?we:null,me=H?re??(c??U)({rects:A,activeNodeRect:V,activeIndex:w,overIndex:E,index:q}):null,de=lp(w)&&lp(E)?o({id:h,items:m,activeIndex:w,overIndex:E}):q,_e=O?.id,ve=pe.useRef({activeId:_e,items:m,newIndex:de,containerId:x}),Ie=m!==ve.current.items,He=e({active:O,containerId:x,isDragging:ie,isSorting:T,id:h,index:q,items:m,newIndex:ve.current.newIndex,previousItems:ve.current.items,previousContainerId:ve.current.containerId,transition:d,wasDragging:ve.current.activeId!=null}),Ge=Z7({disabled:!He,index:q,node:D,rect:Y});return pe.useEffect(()=>{T&&ve.current.newIndex!==de&&(ve.current.newIndex=de),x!==ve.current.containerId&&(ve.current.containerId=x),m!==ve.current.items&&(ve.current.items=m)},[T,de,x,m]),pe.useEffect(()=>{if(_e===ve.current.activeId)return;if(_e!=null&&ve.current.activeId==null){ve.current.activeId=_e;return}const P=setTimeout(()=>{ve.current.activeId=_e},50);return()=>clearTimeout(P)},[_e]),{active:O,activeIndex:w,attributes:J,data:z,rect:Y,index:q,newIndex:de,items:m,isOver:R,isSorting:T,isDragging:ie,listeners:ee,node:D,overIndex:E,over:ce,setNodeRef:X,setActivatorNodeRef:he,setDroppableNodeRef:Z,setDraggableNodeRef:ue,transform:Ge??me,transition:Qe()};function Qe(){if(Ge||Ie&&ve.current.newIndex===q)return W7;if(!(Q&&!S1(j)||!d)&&(T||He))return fc.Transition.toString({...d,property:k_})}}function Q7(i,e){var t,r;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(t=i?.draggable)!=null?t:e.draggable,droppable:(r=i?.droppable)!=null?r:e.droppable}}function Kp(i){if(!i)return!1;const e=i.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const $7=[dn.Down,dn.Right,dn.Up,dn.Left],J7=(i,e)=>{let{context:{active:t,collisionRect:r,droppableRects:a,droppableContainers:o,over:h,scrollableAncestors:c}}=e;if($7.includes(i.code)){if(i.preventDefault(),!t||!r)return;const f=[];o.getEnabled().forEach(x=>{if(!x||x!=null&&x.disabled)return;const w=a.get(x.id);if(w)switch(i.code){case dn.Down:r.top<w.top&&f.push(x);break;case dn.Up:r.top>w.top&&f.push(x);break;case dn.Left:r.left>w.left&&f.push(x);break;case dn.Right:r.left<w.left&&f.push(x);break}});const d=CT({collisionRect:r,droppableRects:a,droppableContainers:f});let m=o_(d,"id");if(m===h?.id&&d.length>1&&(m=d[1].id),m!=null){const x=o.get(t.id),w=o.get(m),y=w?a.get(w.id):null,N=w?.node.current;if(N&&y&&x&&w){const E=A1(N).some(($,Y)=>c[Y]!==$),C=O_(x,w),U=eE(x,w),F=E||!C?{x:0,y:0}:{x:U?r.width-y.width:0,y:U?r.height-y.height:0},q={x:y.left,y:y.top};return F.x&&F.y?q:Hf(q,F)}}}};function O_(i,e){return!Kp(i)||!Kp(e)?!1:i.data.current.sortable.containerId===e.data.current.sortable.containerId}function eE(i,e){return!Kp(i)||!Kp(e)||!O_(i,e)?!1:i.data.current.sortable.index<e.data.current.sortable.index}const tE=({slot:i,sectionId:e,size:t=48,width:r})=>{const{selectedSlots:a,setSelectedSlot:o,toggleSlotSelection:h,selectRangeTo:c,setSelectedSlots:f}=fa(),d=Q0(),m=r??t,{isOver:x,setNodeRef:w}=N_({id:`slot-${i.id}`,data:{type:"slot",sectionId:e,slotId:i.id}}),{attributes:y,listeners:N,setNodeRef:A,transform:E,isDragging:C}=S_({id:`chord-${i.id}`,data:{type:"chord",chord:i.chord,originSlotId:i.id,originSectionId:e},disabled:!i.chord}),U=a.some(D=>D.slotId===i.id&&D.sectionId===e),F=E?{transform:`translate3d(${E.x}px, ${E.y}px, 0)`,zIndex:999}:void 0,q=D=>{if(D.button===0)if(D.stopPropagation(),D.shiftKey)c(e,i.id);else if(D.metaKey||D.ctrlKey)h(e,i.id);else if(U&&a.length>0){const R=[...a.filter(Z=>!(Z.sectionId===e&&Z.slotId===i.id)),{sectionId:e,slotId:i.id}];f(R)}else o(e,i.id)},$=(()=>{if(!i.chord)return;const D=i.chord.root;if(d[D])return d[D];const R=hl(D);for(const Z of Object.keys(d))if(hl(Z)===R)return d[Z];return"hsl(230, 60%, 50%)"})(),Y=Math.max(8,Math.min(12,t*.22));return L.jsxs("div",{ref:w,onMouseDown:q,onClick:D=>D.stopPropagation(),onDoubleClick:D=>D.stopPropagation(),style:{width:m,height:t},className:Fs("rounded border-2 flex items-center justify-center transition-all relative flex-shrink-0",x?"border-accent-primary bg-accent-glow scale-105":"border-border-medium bg-bg-elevated",U?"ring-2 ring-accent-primary ring-offset-1 ring-offset-bg-primary":"",!i.chord&&"hover:border-text-muted cursor-pointer"),children:[!i.chord&&L.jsx("span",{className:"text-text-muted font-light select-none",style:{fontSize:Y+4},children:"+"}),i.chord&&L.jsx("div",{ref:A,...N,...y,style:{...F,backgroundColor:$},className:Fs("w-full h-full rounded flex items-center justify-center font-bold shadow cursor-grab active:cursor-grabbing select-none overflow-hidden",C?"opacity-50":"opacity-100"),children:L.jsx("span",{style:{fontSize:Y,color:$3($||"")},className:"truncate px-0.5 text-center font-bold",children:i.chord.symbol})})]})},nE=i=>{const[e,t]=i;return e*(4/t)},iE=({measure:i,sectionId:e,index:t,chordSize:r=48,timeSignature:a,scale:o=1})=>{const{setMeasureSubdivision:h}=fa(),c=Math.max(.1,Math.min(1.6,o)),f=nE(a),d=i.beats.length,m=r*.9,x=Math.max(8,m*c),y=f%3===0?[1,3,6]:[2,4,8],N=A=>{Number.isFinite(A)&&h(e,i.id,A)};return L.jsxs("div",{className:"flex flex-col border-r-2 border-border-medium last:border-r-0 px-1 min-w-[64px]",style:{minWidth:x*Math.max(1,f)+8},children:[L.jsx("div",{className:"text-[8px] text-text-muted mb-0.5 font-mono uppercase tracking-wider text-center",children:t+1}),L.jsx("div",{className:"flex gap-0.5",children:i.beats.map(A=>{const E=Math.max(x*(A.duration||1),x);return L.jsx(tE,{slot:A,sectionId:e,size:r,width:E},A.id)})}),L.jsxs("div",{className:"flex flex-col items-center justify-center gap-0.5 mt-1",children:[L.jsx("span",{className:"text-[8px] uppercase tracking-wider text-text-muted leading-tight",children:"Steps"}),L.jsxs("select",{value:d,onChange:A=>N(parseInt(A.target.value,10)),className:"bg-bg-tertiary text-text-primary text-[10px] rounded px-1 py-0.5 border border-border-subtle focus:outline-none",children:[y.map(A=>L.jsx("option",{value:A,className:"bg-bg-secondary text-text-primary",children:A},A)),!y.includes(d)&&L.jsx("option",{value:d,className:"bg-bg-secondary text-text-primary",children:d})]})]})]})},rE=({section:i,chordSize:e=48,scale:t=1})=>{const{removeSection:r,duplicateSection:a,updateSection:o,selectedSectionId:h,setSelectedSlot:c,setSectionMeasures:f,setSectionTimeSignature:d,currentSong:m,collapsedSections:x,toggleSectionCollapsed:w}=fa(),[y,N]=pe.useState(!1),[A,E]=pe.useState(i.name),C=pe.useRef(null);pe.useEffect(()=>{y&&C.current&&(C.current.focus(),C.current.select())},[y]);const U=T=>{T.stopPropagation(),E(i.name),N(!0)},F=()=>{const T=A.trim();T&&T!==i.name&&o(i.id,{name:T}),N(!1)},q=T=>{T.key==="Enter"?F():T.key==="Escape"&&(E(i.name),N(!1))},{attributes:z,listeners:$,setNodeRef:Y,transform:D,transition:R,isDragging:Z}=K7({id:i.id,data:{type:"section",sectionId:i.id}}),O={transform:fc.Transform.toString(D),transition:R},j=T=>{T.stopPropagation(),confirm(`Delete section "${i.name}"?`)&&r(i.id)},V=()=>{c(i.id,null)},J=(t??1)<=.2,ue=x[i.id]??!1,ee=i.timeSignature||m.timeSignature||[4,4],ie=i.measures.length,ce=T=>{const H=Number.isFinite(T)?T:ie;f(i.id,H)},he=T=>{const[H,Q]=T.split("/").map(ae=>parseInt(ae,10));!H||!Q||i.measures.some(ae=>ae.beats.some(me=>!!me.chord))&&!confirm("Changing the time signature will clear chords in this section. Continue?")||d(i.id,[H,Q])},we=`${ee[0]}/${ee[1]}`,X=[[4,4],[3,4],[2,4],[6,8]];return L.jsxs("div",{ref:Y,style:O,className:Fs("flex flex-col bg-bg-secondary rounded-lg overflow-hidden border-2 shadow-[0_0_0_2px_rgba(255,255,255,0.12)] transition-all h-full",h===i.id?"border-accent-primary shadow-[0_0_0_2px_rgba(99,102,241,0.35)]":"border-border-medium",Z?"opacity-50":"opacity-100"),onClick:V,children:[L.jsxs("div",{className:Fs("flex items-center justify-between bg-bg-elevated border-b border-border-subtle group",J?"px-1.5 py-1 gap-1.5":"flex-wrap gap-3 px-2 py-1.5"),children:[L.jsxs("div",{className:Fs("flex items-center min-w-0",J?"gap-1":"gap-1.5"),children:[L.jsx("div",{...z,...$,className:"cursor-grab active:cursor-grabbing text-text-muted hover:text-text-primary shrink-0",title:"Drag section",children:L.jsx(Zx,{size:J?10:12})}),!J&&L.jsx(L.Fragment,{children:y?L.jsx("input",{ref:C,type:"text",value:A,onChange:T=>E(T.target.value),onBlur:F,onKeyDown:q,onClick:T=>T.stopPropagation(),className:"font-medium text-xs text-text-primary bg-bg-tertiary border border-border-medium rounded px-1.5 py-0.5 w-24 focus:outline-none focus:border-accent-primary",maxLength:30}):L.jsx("span",{className:"font-medium text-xs text-text-primary cursor-pointer hover:text-accent-primary transition-colors truncate max-w-[120px]",onDoubleClick:U,title:"Double-click to rename",children:i.name})})]}),!J&&L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded px-1.5 py-0.5",onClick:T=>T.stopPropagation(),children:[L.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Bars"}),L.jsx("input",{type:"number",min:1,max:32,value:ie,onChange:T=>ce(parseInt(T.target.value,10)),className:"w-12 bg-transparent text-text-primary text-xs focus:outline-none"})]}),L.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded px-1.5 py-0.5",onClick:T=>T.stopPropagation(),children:[L.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Meter"}),L.jsx("select",{value:we,onChange:T=>he(T.target.value),className:"bg-transparent text-text-primary text-xs focus:outline-none",children:X.map(([T,H])=>L.jsxs("option",{value:`${T}/${H}`,className:"bg-bg-secondary text-text-primary",children:[T,"/",H]},`${T}/${H}`))})]})]}),L.jsxs("div",{className:Fs("flex items-center gap-1",J?"":"opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-opacity"),children:[L.jsx("button",{onClick:T=>{T.stopPropagation(),w(i.id)},className:Fs("p-1 rounded text-text-muted hover:text-text-primary",J?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:ue?"Expand section":"Collapse section",children:ue?L.jsx(vh,{size:J?12:11}):L.jsx(zg,{size:J?12:11})}),L.jsx("button",{onClick:T=>{T.stopPropagation(),a(i.id)},className:Fs("p-1 rounded text-text-muted hover:text-text-primary",J?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:"Duplicate section",children:L.jsx(bC,{size:J?12:11})}),L.jsx("button",{onClick:j,className:Fs("p-1 rounded text-text-muted hover:text-red-400",J?"hover:bg-red-500/15":"hover:bg-red-500/10"),title:"Delete section",children:L.jsx(Jx,{size:J?12:11})})]})]}),ue?L.jsxs("div",{className:"flex items-center justify-between px-2 py-2 border-t border-border-subtle bg-bg-secondary text-[10px] text-text-muted",children:[L.jsx("span",{className:"font-semibold text-text-secondary truncate pr-2",children:i.name}),L.jsxs("div",{className:"flex items-center gap-2 uppercase tracking-wider",children:[L.jsxs("span",{children:[ie," bars"]}),L.jsx("span",{children:we})]})]}):L.jsx("div",{className:"flex p-1.5 gap-0 overflow-x-auto flex-1",children:i.measures.map((T,H)=>L.jsx(iE,{measure:T,sectionId:i.id,index:H,chordSize:e,timeSignature:ee,scale:t},T.id))})]})},sE=({onAltChange:i})=>(r_({onDragMove:e=>{const t=e.modifiers?.altKey??!1;i(!!t)},onDragEnd:()=>i(!1),onDragCancel:()=>i(!1)}),null),$m=({height:i=180,scale:e=1})=>{const{currentSong:t,addSection:r,reorderSections:a,addChordToSlot:o,moveChord:h,moveSelection:c}=fa(),f=Math.max(.1,Math.min(1.6,e)),d=i-40,m=Math.max(32,Math.min(64,d-24)),[x,w]=_n.useState(null),[y,N]=_n.useState(null),[A,E]=_n.useState(!1),C=wT(ny(Gg,{activationConstraint:{distance:8}}),ny(Vg,{coordinateGetter:J7})),U=q=>{const z=q.activatorEvent,$=!!(z&&"altKey"in z&&z.altKey);w(q.active.id),N({...q.active.data.current,copyMode:$}),E($)},F=q=>{const{active:z,over:$}=q;if(w(null),N(null),E(!1),!!$){if(z.data.current?.type==="section"&&$.data.current?.type==="section"){if(z.id!==$.id){const Y=t.sections.findIndex(R=>R.id===z.id),D=t.sections.findIndex(R=>R.id===$.id);a(Wg(t.sections,Y,D))}return}if(z.data.current?.type==="chord"&&$.data.current?.type==="slot"){const Y=z.data.current.originSlotId,D=z.data.current.originSectionId,R=$.data.current.slotId,Z=$.data.current.sectionId,O=z.data.current.chord;if(Y&&D){if(Y===R&&D===Z||c({sectionId:D,slotId:Y},{sectionId:Z,slotId:R},y?.copyMode||A?"copy":"move"))return;const V=fa.getState(),J=V.currentSong.sections.find(ue=>ue.id===Z)?.measures.flatMap(ue=>ue.beats).find(ue=>ue.id===R)?.chord;h(D,Y,Z,R),J?(V.setSelectedSlot(D,Y),V.setSelectedChord(J)):O&&(V.setSelectedSlot(Z,R),V.setSelectedChord(O))}else o(O,Z,R),fa.getState().setSelectedSlot(Z,R),fa.getState().setSelectedChord(O)}}};return _n.useEffect(()=>{const q=$=>{$.altKey&&E(!0)},z=$=>{$.altKey||E(!1)};return window.addEventListener("keydown",q),window.addEventListener("keyup",z),()=>{window.removeEventListener("keydown",q),window.removeEventListener("keyup",z)}},[]),L.jsx("div",{className:"w-full h-full flex flex-col",children:L.jsx("div",{className:"flex-1 overflow-x-auto px-3 py-1.5 overflow-y-hidden",ref:q=>{q&&q.addEventListener("wheel",z=>{z.deltaY!==0&&(z.preventDefault(),q.scrollLeft+=z.deltaY)},{passive:!1})},children:L.jsxs(x7,{sensors:C,collisionDetection:NT,onDragStart:U,onDragEnd:F,children:[L.jsx(sE,{onAltChange:E}),L.jsx(V7,{items:t.sections.map(q=>q.id),strategy:P7,children:L.jsxs("div",{className:"flex gap-3 min-w-max h-full items-stretch",children:[t.sections.map(q=>L.jsx(rE,{section:q,chordSize:m,scale:f},q.id)),L.jsxs("button",{onClick:()=>r("chorus"),className:"w-10 rounded-lg border-2 border-dashed border-border-medium hover:border-accent-primary hover:bg-bg-elevated transition-all flex flex-col items-center justify-center text-text-muted hover:text-accent-primary gap-0.5 self-stretch",children:[L.jsx(Kx,{size:12}),L.jsx("span",{className:"text-[6px] font-medium uppercase tracking-wider",children:"Add"})]})]})}),L.jsxs(B7,{children:[x&&y?.type==="section"?L.jsx("div",{className:"opacity-80 rotate-2 scale-105",children:L.jsx("div",{className:"bg-bg-elevated p-4 rounded-xl border border-accent-primary w-[400px] h-[200px] flex items-center justify-center shadow-2xl",children:L.jsx("span",{className:"font-bold text-xl",children:"Moving Section..."})})}):null,x&&y?.type==="chord"?L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"w-24 h-24 rounded-lg bg-accent-primary text-white flex items-center justify-center font-bold text-xl shadow-2xl rotate-6 scale-110 cursor-grabbing",children:y.chord.symbol}),(y?.copyMode||A)&&L.jsx("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white text-[11px] font-bold px-2 py-0.5 rounded-full shadow-md border border-white",children:"+"})]}):null]})]})})})},aE=({highlightedNotes:i,rootNote:e,color:t="#6366f1"})=>{const r=["C","D","E","F","G","A","B"],a=i.map(m=>hl(m)),o=e?hl(e):null,h=m=>{const x=hl(m);return a.includes(x)},c=m=>o?hl(m)===o:!1,f=()=>{const m=[];for(let w=3;w<=4;w++)r.forEach(y=>{const N=h(y),A=c(y);m.push(L.jsx("div",{className:Fs("h-full border border-gray-400 rounded-b-sm relative transition-colors duration-200",!N&&"bg-white hover:bg-gray-100"),style:{width:`${100/14}%`,backgroundColor:N?A?t:`${t}99`:void 0},children:A&&L.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 rounded-full bg-white shadow-sm"})},`white-${w}-${y}`))});return m},d=()=>{const m=[],x=[14.3,28.6,57.1,71.4,85.7];for(let w=0;w<2;w++){const y=w*50;["C#","D#","F#","G#","A#"].forEach((A,E)=>{const C=h(A),U=c(A),F=y+x[E]/2;m.push(L.jsx("div",{className:Fs("absolute top-0 h-[65%] w-[4%] -translate-x-1/2 rounded-b-sm z-10 border border-black/50 transition-colors duration-200",!C&&"bg-gray-900"),style:{left:`${F}%`,backgroundColor:C?t:void 0,boxShadow:C?`0 0 12px ${t}`:"inset 0 -2px 4px rgba(0,0,0,0.3)"},children:U&&L.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-1.5 h-1.5 rounded-full bg-white shadow-sm"})},`black-${w}-${A}`))})}return m};return L.jsxs("div",{className:"relative w-full h-16 bg-gray-700 rounded overflow-hidden select-none shadow-inner",children:[L.jsx("div",{className:"flex w-full h-full",children:f()}),d()]})},gy=()=>L.jsxs(L.Fragment,{children:[L.jsxs("section",{children:[L.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[L.jsx(pC,{size:12,className:"fill-accent-primary"}),"Quick Start"]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-3 text-sm text-gray-300",children:[L.jsx("p",{children:"The Chord Wheel puts chord theory into your hands. No music reading is necessary; simply rotate the transparent disk and analyze any chord progression instantly."}),L.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[L.jsx("li",{children:"Determine which chords belong to a given key"}),L.jsx("li",{children:"Transpose a chord progression to any key"}),L.jsx("li",{children:"Compose your own music"})]})]})]}),L.jsxs("section",{children:[L.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[L.jsx(MC,{size:12}),"Understanding the Rings"]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-bold text-white mb-2",children:"Inner Ring (Major)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Contains the 12 major chords arranged in the Circle of Fifths. Upper-case numerals (I, IV, V) denote major chords."})]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-bold text-white mb-2",children:"Middle Ring (Minor)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Contains 24 minor chords. Lower-case numerals (ii, iii, vi) denote minor chords in a key."})]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-bold text-white mb-2",children:"Outer Ring (Diminished)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"The vii chord for each key. The diminished chord has a harsh, dissonant quality due to the 5."})]})]})]}),L.jsxs("section",{children:[L.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[L.jsx(kC,{size:12}),"Roman Numerals"]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Roman numerals denote the harmonic progression. Upper-case = major, lower-case = minor."}),L.jsxs("div",{className:"grid grid-cols-7 gap-2 text-center text-sm",children:[L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"I"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Tonic"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"ii"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Super"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"iii"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Mediant"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"IV"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Subdom"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"V"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Dominant"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"vi"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Relative"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"vii"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Leading"})]})]})]})]}),L.jsxs("section",{children:[L.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[L.jsx(rC,{size:12}),"The Circle of Fifths"]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[L.jsx("p",{children:'Starting with C and moving clockwise (C  G  D  A  E  B  F#  Db  Ab  Eb  Bb  F), each step is a "dominant" (fifth) progression. This cyclical nature is one of the most fundamental principles in music theory.'}),L.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[L.jsx("li",{children:'Modulations often move one "key" clockwise or counter-clockwise'}),L.jsx("li",{children:"Neighboring keys share many chords in common"}),L.jsx("li",{children:"The strong pull of V  I is why songs resolve satisfyingly"})]})]})]}),L.jsxs("section",{children:[L.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Building Chords"}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-4",children:[L.jsxs("div",{children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"Triads (3 Notes)"}),L.jsx("p",{className:"text-sm text-gray-400 mb-2",children:'Built using "every other note" of the scale: Root, 3rd, 5th'}),L.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Major"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Minor"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Diminished"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]})]})]}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"Seventh Chords (4 Notes)"}),L.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Add the 7th note: 1st, 3rd, 5th, 7th"}),L.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Major 7th (maj7)"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Dominant 7th (7)"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Minor 7th (m7)"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Half-Dim (m75)"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]})]})]})]})]}),L.jsxs("section",{children:[L.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Common Progressions"}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-IV-V (Pop/Rock)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - F - G"}),L.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The foundation of rock 'n' roll"})]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"ii-V-I (Jazz)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: Dm7 - G7 - Cmaj7"}),L.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The most common jazz progression"})]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-vi-IV-V (50s/Doo-wop)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - Am - F - G"}),L.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Also used in countless pop songs"})]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-V-vi-IV (Modern Pop)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - G - Am - F"}),L.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'The "4 chord song" progression'})]})]})]}),L.jsxs("section",{children:[L.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Secondary Dominants (II & III)"}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[L.jsxs("p",{children:["The II and III chords (shown with half-highlighting) aren't diatonic but are commonly used. They're called ",L.jsx("strong",{className:"text-white",children:"secondary dominants"}),' because they "act" like dominant V chords:']}),L.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[L.jsxs("li",{children:[L.jsx("strong",{className:"text-white",children:"II"})," (D in key of C) = V of V (leads strongly to G)"]}),L.jsxs("li",{children:[L.jsx("strong",{className:"text-white",children:"III"})," (E in key of C) = V of vi (leads strongly to Am)"]})]}),L.jsx("p",{className:"text-gray-400",children:"Study chord progressions by The Beatles, Rolling Stones, Elvis Costello, and you'll discover these two chords add tremendous variety."})]})]}),L.jsxs("section",{children:[L.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Modes & Relative Minor"}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[L.jsxs("p",{children:["The vi chord (Am in key of C) is special: it's the ",L.jsx("strong",{className:"text-white",children:"relative minor"}),". Songs emphasizing vi as the tonic create a minor mood using the same chords."]}),L.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-[10px] mt-3",children:[L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"I"}),L.jsx("span",{className:"block text-gray-500",children:"Ionian"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"ii"}),L.jsx("span",{className:"block text-gray-500",children:"Dorian"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"iii"}),L.jsx("span",{className:"block text-gray-500",children:"Phrygian"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"IV"}),L.jsx("span",{className:"block text-gray-500",children:"Lydian"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"V"}),L.jsx("span",{className:"block text-gray-500",children:"Mixolyd."})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"vi"}),L.jsx("span",{className:"block text-gray-500",children:"Aeolian"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"vii"}),L.jsx("span",{className:"block text-gray-500",children:"Locrian"})]})]})]})]})]}),oE=({isOpen:i,onClose:e,isEmbedded:t=!1})=>i?t?L.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col bg-[#1a1a24]",children:[L.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-[#22222e] shrink-0",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:L.jsx(j0,{size:12,className:"text-white"})}),L.jsx("h2",{className:"text-sm font-bold text-white",children:"Guide"})]}),L.jsx("button",{onClick:e,className:"p-1 hover:bg-bg-tertiary rounded transition-colors text-text-muted hover:text-white",children:L.jsx(J5,{size:16})})]}),L.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-6 sm:py-6 space-y-8",children:L.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:L.jsx(gy,{})})})]}):L.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:[L.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm pointer-events-none"}),L.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-4xl w-full max-h-[85vh] overflow-hidden flex flex-col pointer-events-auto",children:[L.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-subtle bg-[#22222e]",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:L.jsx(j0,{size:16,className:"text-white"})}),L.jsx("h2",{className:"text-lg font-bold text-white",children:"Chord Wheel Guide"})]}),L.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-tertiary rounded-lg transition-colors text-text-muted hover:text-white",children:L.jsx(J5,{size:20})})]}),L.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-8 sm:py-8 space-y-8",children:L.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:L.jsx(gy,{})})}),L.jsx("div",{className:"px-6 py-4 sm:px-8 sm:py-5 border-t border-border-subtle bg-[#22222e] text-center",children:L.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Drag the wheel or use the rotation buttons to change keys. Click any chord to see details."})})]})]}):null,Jm=({variant:i="sidebar"})=>{const{selectedChord:e,selectedKey:t,chordPanelVisible:r,toggleChordPanel:a,selectedSectionId:o,selectedSlotId:h,addChordToSlot:c,setSelectedChord:f,selectNextSlotAfter:d,setSelectedSlot:m}=fa(),x=Q0(),[w,y]=pe.useState(null),[N,A]=pe.useState([]),[E,C]=pe.useState(280),[U,F]=pe.useState(!1),[q,z]=pe.useState(!1),$=pe.useRef(0),Y=i==="drawer",[D,R]=pe.useState(e),Z=e??D,[O,j]=pe.useState(()=>typeof window<"u"?window.innerWidth<768:!1),[V,J]=pe.useState(!1),[ue,ee]=pe.useState(!1),[ie,ce]=pe.useState(!1);pe.useEffect(()=>{const ve=()=>j(window.innerWidth<768);return window.addEventListener("resize",ve),()=>window.removeEventListener("resize",ve)},[]);const he={maj:"Bright, stable major triad  home base sound.",7:"Dominant 7: bluesy tension that wants to resolve.",maj7:"Dreamy, smooth major color  great on I or IV.",maj9:"Airy, modern major flavor; adds sparkle without tension.",maj13:"Lush, extended major pad; orchestral/jazz sheen.",6:"Warm vintage major; softer than maj7 for tonic use.",13:"Dominant with a soulful top; funky/jazz turnaround vibe.",m7:"Soulful, laid-back minor  default jazz ii sound.",m9:"Lush, cinematic minor color with extra depth.",m11:"Spacious, modal minor; great for grooves and vamps.",m6:"Bittersweet/film-noir minor; nice tonic minor option.",sus2:"Open and airy with no third; neutral pop/ambient feel.",sus4:"Suspended tension that likes to resolve to major.",dim:"Tense and unstable; classic passing/leading chord.",m7b5:"Half-diminished; dark ii chord in minor keys.",add9:"Sparkly major with no 7th; modern pop shimmer.",9:"Dominant 9: rich funk/jazz tension with color.",11:"Dominant 11: suspended, modal flavor over V."},we=["maj","7","maj7","maj9","maj13","6","13","m7","m9","m11","m6","sus2","sus4","dim","m7b5","add9","9","11"],X=ve=>{if(!Z?.root)return"-";const Ie=ct=>ct.replace(/[\d]/g,"").replace(//,"b").replace(//,"#"),He={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},Ge=He[Ie(Z.root)],Qe=He[Ie(ve)];if(Ge===void 0||Qe===void 0)return"-";const P=(Qe-Ge+12)%12;return{0:"R",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[P]??"-"},T=pe.useCallback(ve=>{Y||(ve.preventDefault(),F(!0))},[Y]);pe.useEffect(()=>{if(!U||Y)return;const ve=He=>{const Ge=window.innerWidth-He.clientX;C(Math.max(200,Math.min(400,Ge)))},Ie=()=>{F(!1)};return document.addEventListener("mousemove",ve),document.addEventListener("mouseup",Ie),()=>{document.removeEventListener("mousemove",ve),document.removeEventListener("mouseup",Ie)}},[U,Y]),pe.useEffect(()=>{e&&R(e)},[e]),pe.useEffect(()=>{y(null),A([])},[Z?.root,Z?.quality]);const H=Z&&x[Z.root]||"#6366f1",Q=N.length>0?N:Z?.notes||[],re=ve=>{const Ie=Date.now();if(Ie-$.current<300||($.current=Ie,!Z))return;const He=uh(Z.root,ve);console.log(`Playing ${Z.root}${ve}:`,He),e_(He),y(ve),A(He)},ae=ve=>{if($.current=0,!Z||!o||!h)return;const Ie=uh(Z.root,ve),He={...Z,quality:ve,symbol:`${Z.root}${ve}`,notes:Ie};c(He,o,h),d(o,h)||(m(o,h),f(He))},me=()=>{y(null),A([])},de=()=>{if(!Z)return"";const ve=Z.numeral;return{I:"The tonic chord  your home base. Most songs begin and end here. Try adding maj7 or 6 for a jazzier sound.",ii:"The supertonic  a pre-dominant chord that naturally leads to V. The ii-V-I progression is fundamental in jazz and pop.",iii:"The mediant  shares two notes with I. Can substitute for I or lead to vi. Often used for color.",IV:'The subdominant  creates a "plagal" sound. The IV-I is the "Amen" cadence. Adds warmth to choruses.',V:"The dominant  creates tension that resolves to I. Add a 7th for extra pull toward home.",vi:"The relative minor  shares the same notes as I major. The vi-IV-I-V is hugely popular in pop music.","vii":"The leading tone chord  unstable and wants to resolve to I. Often used as a passing chord.",II:"Secondary dominant (V/V)  borrows dominant function to approach V. Common in jazz.",III:"Secondary dominant (V/vi)  leads strongly to vi. Creates a dramatic shift."}[ve||""]||"This chord adds color and interest to your progression."},_e=()=>{if(!Z)return{extensions:[],description:""};let ve=Z.numeral;if(ve&&ve.includes("(")){const He=ve.match(/^(.+?)\s*\(/);He&&(ve=He[1].trim())}return{I:{extensions:["maj7","maj9","maj13","6"],description:"Major 7th or 6th voicings sound rich and resolved"},IV:{extensions:["maj7","maj9","maj13","6"],description:"Same as I  warm major extensions work beautifully"},V:{extensions:["7","9","11","sus4","13"],description:"Dominant 7th adds tension that pulls to I"},ii:{extensions:["m7","m9","m11","m6"],description:"Minor 7th extensions for a smooth jazz sound"},iii:{extensions:["m7"],description:"Keep it simple  m7 is most common for iii"},vi:{extensions:["m7","m9","m11"],description:"Minor extensions add depth and emotion"},"vii":{extensions:["m75"],description:"Half-diminished (7) is the standard voicing"},II:{extensions:["7","sus4"],description:"Dominant voicing as V/V  leads strongly to V"},III:{extensions:["7","sus4"],description:"Dominant voicing as V/vi  leads strongly to vi"}}[ve||""]||{extensions:[],description:`This chord doesn't fit in the key of ${t}, but it may add color and interest to your progression.`}};return r?L.jsxs("div",{className:Y?`${O?"relative w-full":"fixed inset-x-3 bottom-[88px]"} ${O?"max-h-[60vh]":"max-h-[70vh]"} bg-bg-secondary border-2 border-border-subtle rounded-2xl shadow-2xl overflow-hidden ${O?"":"z-40"} flex`:"h-full flex bg-bg-secondary border-l border-border-subtle shrink-0",style:Y?void 0:{width:E,minWidth:E},children:[!Y&&L.jsx("div",{className:`w-2 flex items-center justify-center cursor-ew-resize hover:bg-bg-tertiary transition-colors ${U?"bg-accent-primary/20":""} relative z-[60]`,onMouseDown:T,children:L.jsx(Zx,{size:12,className:"text-text-muted"})}),L.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0 relative",children:[L.jsxs("div",{className:`${O&&Y?"px-4 py-2":"px-3 py-2"} border-b border-border-subtle flex justify-between items-center gap-3 shrink-0 ${Y?"bg-bg-secondary/80 backdrop-blur-md":""}`,children:[L.jsxs("div",{className:"flex items-center gap-2 overflow-hidden flex-1 min-w-0",children:[L.jsxs("span",{className:"flex items-center gap-2 shrink-0",children:[L.jsx("span",{className:`${O?"text-lg":"text-base sm:text-lg"} font-bold text-text-primary leading-none`,children:Z?Z.symbol:"Chord Details"}),Z?.numeral&&L.jsx("span",{className:`${O?"text-xs":"text-[11px]"} font-serif italic text-text-secondary shrink-0`,children:Z.numeral})]}),Z&&L.jsxs("span",{className:`${O?"text-xs":"text-[10px]"} text-text-muted whitespace-nowrap`,children:["Key: ",L.jsx("span",{className:"font-semibold text-text-primary",children:t})]})]}),L.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[Z&&L.jsx("button",{onClick:()=>z(!0),className:`${O?"w-10 h-10 min-w-[40px] min-h-[40px]":"w-8 h-8"} flex items-center justify-center bg-bg-tertiary/60 hover:bg-accent-primary/20 border border-border-subtle rounded-full text-text-muted hover:text-accent-primary transition-colors shadow-sm touch-feedback`,title:"Chord Wheel Guide",children:L.jsx(fC,{size:O?16:14})}),L.jsx("button",{onClick:a,className:`${O?"p-2 min-w-[40px] min-h-[40px]":"p-1"} hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center`,title:"Hide panel",children:L.jsx(IC,{size:O?18:16,className:"text-text-muted"})})]})]}),Z?L.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 overscroll-contain",children:[L.jsxs("div",{className:`${O?"px-4 py-1.5":"px-4 py-3"} border-b border-border-subtle`,children:[L.jsxs("div",{className:"flex items-center justify-between mb-2",children:[L.jsxs("h3",{className:`${O?"text-[11px]":"text-[10px]"} font-semibold text-text-muted uppercase tracking-wide`,children:["Voicing ",w&&L.jsxs("span",{className:"text-accent-primary ml-1",children:["(",w,")"]})]}),w&&L.jsxs("button",{onClick:me,className:`${O?"text-[10px] px-2 py-1":"text-[9px]"} text-accent-primary hover:text-accent-secondary transition-colors touch-feedback`,children:[" ",Z.symbol]})]}),L.jsx(aE,{highlightedNotes:Q,rootNote:Z.root,color:H}),L.jsx("div",{className:`${O?"mt-2":"mt-4"} w-full`,children:L.jsxs("div",{className:"grid w-full items-center gap-y-1",style:{gridTemplateColumns:`auto repeat(${Q.length}, minmax(0,1fr))`,columnGap:"6px",rowGap:"4px"},children:[L.jsx("div",{className:"text-[9px] font-semibold uppercase tracking-wide text-text-muted leading-tight",children:"Notes"}),Q.map((ve,Ie)=>L.jsx("div",{className:"text-center text-[12px] font-bold text-text-primary leading-none py-1",style:{minHeight:24},children:ve},`note-${Ie}`)),L.jsx("div",{className:"text-[9px] font-semibold uppercase tracking-wide text-text-muted leading-tight",children:"Absolute"}),Q.map((ve,Ie)=>L.jsx("div",{className:"text-center text-[11px] text-text-primary font-semibold leading-none py-1",style:{minHeight:24},children:X(ve)},`abs-${Ie}`)),L.jsx("div",{className:"text-[9px] font-semibold uppercase tracking-wide text-text-muted leading-tight",children:"Relative to Key"}),Q.map((ve,Ie)=>L.jsx("div",{className:"text-center text-[11px] text-text-secondary leading-none py-1",style:{minHeight:24},children:Q3(t,ve).replace(/^1/,"R")},`rel-${Ie}`))]})})]}),L.jsxs("div",{className:`${O?"px-4 py-1":"px-4 py-2"} border-b border-border-subtle`,children:[L.jsxs("button",{onClick:()=>O&&J(!V),className:`w-full flex items-center justify-between ${V&&O?"mb-2":"mb-0"} ${O?"cursor-pointer py-0.5":""}`,children:[L.jsx("h3",{className:`${O?"text-[11px]":"text-[10px]"} font-semibold text-text-muted uppercase tracking-wide`,children:"Variations"}),O&&L.jsx(vh,{size:14,className:`text-text-muted transition-transform ${V?"rotate-180":""}`})]}),(!O||V)&&L.jsx("div",{className:`grid ${O?"grid-cols-3":"grid-cols-2 sm:grid-cols-3"} ${O?"gap-2":"gap-1.5"}`,children:we.map((ve,Ie)=>{const Ge=Ie%2===0?{left:"calc(100% + 10px)"}:{right:"calc(100% + 10px)"};return L.jsxs("button",{className:`relative group ${O?"px-3 py-3 min-h-[48px] text-xs":"px-2 py-1.5 text-[10px]"} rounded font-medium transition-colors border touch-feedback ${w===ve?"bg-accent-primary text-white border-accent-primary":"bg-bg-elevated hover:bg-bg-tertiary text-text-secondary hover:text-text-primary border-border-subtle"}`,onClick:()=>re(ve),onDoubleClick:()=>ae(ve),children:[ve,!O&&he[ve]&&L.jsx("span",{className:"pointer-events-none absolute top-1/2 -translate-y-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-150 z-50 w-44 text-left",style:{...Ge,backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:he[ve]})]},ve)})})]}),Z?.numeral&&_e().extensions.length>0&&L.jsxs("div",{className:`${O?"px-4 py-1":"px-4 py-2"} border-b border-border-subtle bg-accent-primary/5`,children:[L.jsxs("button",{onClick:()=>O&&ee(!ue),className:`w-full flex items-center justify-between ${ue&&O?"mb-2":"mb-0"} ${O?"cursor-pointer py-0.5":""}`,children:[L.jsxs("h3",{className:`${O?"text-[11px]":"text-[10px]"} font-semibold text-accent-primary uppercase tracking-wide`,children:["Suggested for ",Z.numeral]}),O&&L.jsx(vh,{size:14,className:`text-accent-primary transition-transform ${ue?"rotate-180":""}`})]}),(!O||ue)&&L.jsxs(L.Fragment,{children:[L.jsx("div",{className:`flex flex-wrap ${O?"gap-2.5":"gap-2"} mb-2`,children:_e().extensions.map(ve=>L.jsxs("button",{className:`relative group ${O?"px-4 py-2.5 text-sm min-h-[44px]":"px-3 py-1.5 text-xs"} rounded font-semibold transition-colors touch-feedback ${w===ve?"bg-accent-primary text-white":"bg-bg-elevated hover:bg-accent-primary/20 text-text-primary border border-border-subtle"}`,onClick:()=>re(ve),onDoubleClick:()=>ae(ve),children:[Z.root,ve,!O&&he[ve]&&L.jsx("span",{className:"pointer-events-none absolute -top-6 -translate-y-full left-1/2 -translate-x-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-150 z-50 w-44 text-left",style:{backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:he[ve]})]},ve))}),L.jsx("p",{className:`${O?"text-xs":"text-[10px]"} text-text-muted leading-relaxed`,children:_e().description})]})]}),L.jsxs("div",{className:`${O?"px-4 py-1":"px-4 py-2"} ${O?"pb-1":""}`,children:[L.jsxs("button",{onClick:()=>O&&ce(!ie),className:`w-full flex items-center justify-between ${O?"cursor-pointer py-0.5":"mb-0"} ${ie&&O?"mb-2":"mb-0"}`,children:[L.jsx("h3",{className:`${O?"text-[11px]":"text-[10px]"} font-semibold text-accent-primary uppercase tracking-wide ${O?"":"mb-2"}`,children:"Theory"}),O&&L.jsx(vh,{size:14,className:`text-accent-primary transition-transform ${ie?"rotate-180":""}`})]}),(!O||ie)&&L.jsx("div",{className:`${O?"p-3":"p-4"} bg-bg-elevated rounded-lg border border-border-subtle`,children:L.jsx("p",{className:`${O?"text-sm":"text-xs"} text-text-secondary leading-relaxed`,children:de()})})]})]}):L.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:L.jsx("p",{className:`${O?"text-base":"text-sm"} text-text-muted text-center`,children:"Select a chord from the wheel or timeline"})})]}),L.jsx(oE,{isOpen:q,onClose:()=>z(!1)})]}):Y?L.jsxs("button",{onClick:a,className:`w-full ${O?"h-16 min-h-[64px]":"h-11"} flex items-center justify-center gap-2 bg-bg-secondary border-2 border-border-subtle rounded-2xl ${O?"text-base":"text-[11px]"} font-bold text-text-primary shadow-lg hover:border-accent-primary transition-all touch-feedback active:scale-[0.97]`,title:"Show chord details",children:[L.jsx(zg,{size:O?20:14}),L.jsx("span",{children:"Open Chord Details"})]}):L.jsx("button",{onClick:a,className:"h-full px-2 flex items-center justify-center bg-bg-secondary border-l border-border-subtle hover:bg-bg-tertiary transition-colors shrink-0",title:"Show chord details",children:L.jsx(zC,{size:18,className:"text-text-muted"})})},lE=()=>{const{isPlaying:i,tempo:e,volume:t,setIsPlaying:r,setTempo:a,setVolume:o,instrument:h,setInstrument:c,isMuted:f,toggleMute:d}=fa(),[m,x]=pe.useState(()=>typeof window<"u"?window.innerWidth<768:!1);pe.useEffect(()=>{const A=()=>x(window.innerWidth<768);return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const w=async()=>{i?r(!1):(await qg(),r(!0))},y=[{value:"piano",label:"Piano"},{value:"epiano",label:"Electric Piano"},{value:"organ",label:"Organ"},{value:"pad",label:"Pad"},{value:"guitar",label:"Guitar"}];y.find(A=>A.value===h)||c("piano");const N=A=>{const E=y.findIndex(U=>U.value===h);if(E===-1){c("piano");return}const C=A==="next"?(E+1)%y.length:(E-1+y.length)%y.length;c(y[C].value)};return L.jsxs("div",{className:`${m?"h-16":"h-14"} bg-bg-elevated border-t border-border-subtle flex items-center ${m?"justify-around px-2":"justify-between px-6"}`,children:[L.jsxs("div",{className:`flex items-center ${m?"gap-1":"gap-2"}`,children:[L.jsx("button",{className:`${m?"p-2 min-w-[44px] min-h-[44px]":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:L.jsx(KC,{size:m?18:16})}),L.jsx("button",{onClick:w,className:`${m?"w-12 h-12":"w-9 h-9"} rounded-full bg-accent-primary hover:bg-indigo-500 flex items-center justify-center text-white shadow-lg transition-all hover:scale-105 active:scale-95 touch-feedback`,children:i?L.jsx(FC,{size:m?22:18,fill:"currentColor"}):L.jsx(UC,{size:m?22:18,fill:"currentColor",className:"ml-0.5"})}),L.jsx("button",{className:`${m?"p-2 min-w-[44px] min-h-[44px]":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:L.jsx($C,{size:m?18:16})}),!m&&L.jsx("button",{className:"p-1.5 text-text-secondary hover:text-text-primary transition-colors ml-1",children:L.jsx(GC,{size:14})})]}),!m&&L.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-text-muted",children:[L.jsxs("div",{className:"flex items-center gap-1.5",children:[L.jsx("span",{children:"Tempo"}),L.jsx("input",{type:"number",value:e,onChange:A=>a(Number(A.target.value)),className:"w-10 bg-bg-tertiary border border-border-subtle rounded px-1 py-0.5 text-center text-text-primary text-[10px]"}),L.jsx("span",{children:"BPM"})]}),L.jsx("span",{className:"text-text-muted",children:""}),L.jsx("span",{children:"4/4"})]}),L.jsxs("div",{className:`flex items-center ${m?"gap-2":"gap-4"}`,children:[L.jsxs("div",{className:`flex items-center ${m?"gap-1":"gap-2"}`,children:[!m&&L.jsxs("div",{className:"flex items-center rounded bg-bg-tertiary/60 border border-border-subtle/70 h-8",children:[L.jsx("button",{onClick:()=>N("prev"),className:"px-1.5 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-l transition-colors flex items-center",title:"Previous instrument",children:L.jsx(cC,{size:12})}),L.jsx("button",{onClick:()=>N("next"),className:"px-1.5 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-r transition-colors flex items-center",title:"Next instrument",children:L.jsx(oC,{size:12})})]}),L.jsx("select",{value:h,onChange:A=>c(A.target.value),className:`bg-bg-tertiary border border-border-subtle rounded ${m?"px-2 h-11 text-xs min-w-[90px]":"px-2 h-8 text-[10px] min-w-[140px]"} text-text-secondary focus:outline-none focus:border-accent-primary cursor-pointer`,children:y.map(A=>L.jsx("option",{value:A.value,children:A.label},A.value))})]}),L.jsxs("div",{className:`flex items-center gap-2 ${m?"w-20":"w-32"}`,children:[L.jsx("button",{onClick:d,className:`${m?"min-w-[44px] min-h-[44px] p-2":""} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,title:f?"Unmute":"Mute",children:f||t===0?L.jsx(iT,{size:m?18:14}):L.jsx(tT,{size:m?18:14})}),!m&&L.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f?0:t,onChange:A=>{f&&d(),o(Number(A.target.value))},className:`w-full h-1 bg-bg-tertiary rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2.5 [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:bg-accent-primary [&::-webkit-slider-thumb]:rounded-full ${f?"opacity-50":""}`})]})]})]})},cE="modulepreload",uE=function(i){return"/chord-wheel-writer/"+i},vy={},e0=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),c=h?.nonce||h?.getAttribute("nonce");a=f(t.map(d=>{if(d=uE(d),d in vy)return;vy[d]=!0;const m=d.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${x}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":cE,m||(w.as="script"),w.crossOrigin="",w.href=d,c&&w.setAttribute("nonce",c),document.head.appendChild(w),m)return new Promise((y,N)=>{w.addEventListener("load",y),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(h){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=h,window.dispatchEvent(c),!c.defaultPrevented)throw h}return a.then(h=>{for(const c of h||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function Bn(i){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(i)}var Ja=Uint8Array,Vs=Uint16Array,Xg=Int32Array,Zg=new Ja([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Kg=new Ja([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),yy=new Ja([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M_=function(i,e){for(var t=new Vs(31),r=0;r<31;++r)t[r]=e+=1<<i[r-1];for(var a=new Xg(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)a[o]=o-t[r]<<5|r;return{b:t,r:a}},L_=M_(Zg,2),hE=L_.b,z0=L_.r;hE[28]=258,z0[258]=28;var fE=M_(Kg,0),by=fE.r,q0=new Vs(32768);for(var oi=0;oi<32768;++oi){var tc=(oi&43690)>>1|(oi&21845)<<1;tc=(tc&52428)>>2|(tc&13107)<<2,tc=(tc&61680)>>4|(tc&3855)<<4,q0[oi]=((tc&65280)>>8|(tc&255)<<8)>>1}var jf=(function(i,e,t){for(var r=i.length,a=0,o=new Vs(e);a<r;++a)i[a]&&++o[i[a]-1];var h=new Vs(e);for(a=1;a<e;++a)h[a]=h[a-1]+o[a-1]<<1;var c;if(t){c=new Vs(1<<e);var f=15-e;for(a=0;a<r;++a)if(i[a])for(var d=a<<4|i[a],m=e-i[a],x=h[i[a]-1]++<<m,w=x|(1<<m)-1;x<=w;++x)c[q0[x]>>f]=d}else for(c=new Vs(r),a=0;a<r;++a)i[a]&&(c[a]=q0[h[i[a]-1]++]>>15-i[a]);return c}),su=new Ja(288);for(var oi=0;oi<144;++oi)su[oi]=8;for(var oi=144;oi<256;++oi)su[oi]=9;for(var oi=256;oi<280;++oi)su[oi]=7;for(var oi=280;oi<288;++oi)su[oi]=8;var Qp=new Ja(32);for(var oi=0;oi<32;++oi)Qp[oi]=5;var dE=jf(su,9,0),pE=jf(Qp,5,0),D_=function(i){return(i+7)/8|0},mE=function(i,e,t){return(t==null||t>i.length)&&(t=i.length),new Ja(i.subarray(e,t))},ol=function(i,e,t){t<<=e&7;var r=e/8|0;i[r]|=t,i[r+1]|=t>>8},Af=function(i,e,t){t<<=e&7;var r=e/8|0;i[r]|=t,i[r+1]|=t>>8,i[r+2]|=t>>16},t0=function(i,e){for(var t=[],r=0;r<i.length;++r)i[r]&&t.push({s:r,f:i[r]});var a=t.length,o=t.slice();if(!a)return{t:R_,l:0};if(a==1){var h=new Ja(t[0].s+1);return h[t[0].s]=1,{t:h,l:1}}t.sort(function(z,$){return z.f-$.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,m=1,x=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};m!=a-1;)c=t[t[d].f<t[x].f?d++:x++],f=t[d!=m&&t[d].f<t[x].f?d++:x++],t[m++]={s:-1,f:c.f+f.f,l:c,r:f};for(var w=o[0].s,r=1;r<a;++r)o[r].s>w&&(w=o[r].s);var y=new Vs(w+1),N=F0(t[m-1],y,0);if(N>e){var r=0,A=0,E=N-e,C=1<<E;for(o.sort(function($,Y){return y[Y.s]-y[$.s]||$.f-Y.f});r<a;++r){var U=o[r].s;if(y[U]>e)A+=C-(1<<N-y[U]),y[U]=e;else break}for(A>>=E;A>0;){var F=o[r].s;y[F]<e?A-=1<<e-y[F]++-1:++r}for(;r>=0&&A;--r){var q=o[r].s;y[q]==e&&(--y[q],++A)}N=e}return{t:new Ja(y),l:N}},F0=function(i,e,t){return i.s==-1?Math.max(F0(i.l,e,t+1),F0(i.r,e,t+1)):e[i.s]=t},xy=function(i){for(var e=i.length;e&&!i[--e];);for(var t=new Vs(++e),r=0,a=i[0],o=1,h=function(f){t[r++]=f},c=1;c<=e;++c)if(i[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)h(32754);o>2&&(h(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(h(a),--o;o>6;o-=6)h(8304);o>2&&(h(o-3<<5|8208),o=0)}for(;o--;)h(a);o=1,a=i[c]}return{c:t.subarray(0,r),n:e}},Nf=function(i,e){for(var t=0,r=0;r<e.length;++r)t+=i[r]*e[r];return t},j_=function(i,e,t){var r=t.length,a=D_(e+2);i[a]=r&255,i[a+1]=r>>8,i[a+2]=i[a]^255,i[a+3]=i[a+1]^255;for(var o=0;o<r;++o)i[a+o+4]=t[o];return(a+4+r)*8},_y=function(i,e,t,r,a,o,h,c,f,d,m){ol(e,m++,t),++a[256];for(var x=t0(a,15),w=x.t,y=x.l,N=t0(o,15),A=N.t,E=N.l,C=xy(w),U=C.c,F=C.n,q=xy(A),z=q.c,$=q.n,Y=new Vs(19),D=0;D<U.length;++D)++Y[U[D]&31];for(var D=0;D<z.length;++D)++Y[z[D]&31];for(var R=t0(Y,7),Z=R.t,O=R.l,j=19;j>4&&!Z[yy[j-1]];--j);var V=d+5<<3,J=Nf(a,su)+Nf(o,Qp)+h,ue=Nf(a,w)+Nf(o,A)+h+14+3*j+Nf(Y,Z)+2*Y[16]+3*Y[17]+7*Y[18];if(f>=0&&V<=J&&V<=ue)return j_(e,m,i.subarray(f,f+d));var ee,ie,ce,he;if(ol(e,m,1+(ue<J)),m+=2,ue<J){ee=jf(w,y,0),ie=w,ce=jf(A,E,0),he=A;var we=jf(Z,O,0);ol(e,m,F-257),ol(e,m+5,$-1),ol(e,m+10,j-4),m+=14;for(var D=0;D<j;++D)ol(e,m+3*D,Z[yy[D]]);m+=3*j;for(var X=[U,z],T=0;T<2;++T)for(var H=X[T],D=0;D<H.length;++D){var Q=H[D]&31;ol(e,m,we[Q]),m+=Z[Q],Q>15&&(ol(e,m,H[D]>>5&127),m+=H[D]>>12)}}else ee=dE,ie=su,ce=pE,he=Qp;for(var D=0;D<c;++D){var re=r[D];if(re>255){var Q=re>>18&31;Af(e,m,ee[Q+257]),m+=ie[Q+257],Q>7&&(ol(e,m,re>>23&31),m+=Zg[Q]);var ae=re&31;Af(e,m,ce[ae]),m+=he[ae],ae>3&&(Af(e,m,re>>5&8191),m+=Kg[ae])}else Af(e,m,ee[re]),m+=ie[re]}return Af(e,m,ee[256]),m+ie[256]},gE=new Xg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),R_=new Ja(0),vE=function(i,e,t,r,a,o){var h=o.z||i.length,c=new Ja(r+h+5*(1+Math.ceil(h/7e3))+a),f=c.subarray(r,c.length-a),d=o.l,m=(o.r||0)&7;if(e){m&&(f[0]=o.r>>3);for(var x=gE[e-1],w=x>>13,y=x&8191,N=(1<<t)-1,A=o.p||new Vs(32768),E=o.h||new Vs(N+1),C=Math.ceil(t/3),U=2*C,F=function(Qe){return(i[Qe]^i[Qe+1]<<C^i[Qe+2]<<U)&N},q=new Xg(25e3),z=new Vs(288),$=new Vs(32),Y=0,D=0,R=o.i||0,Z=0,O=o.w||0,j=0;R+2<h;++R){var V=F(R),J=R&32767,ue=E[V];if(A[J]=ue,E[V]=J,O<=R){var ee=h-R;if((Y>7e3||Z>24576)&&(ee>423||!d)){m=_y(i,f,0,q,z,$,D,Z,j,R-j,m),Z=Y=D=0,j=R;for(var ie=0;ie<286;++ie)z[ie]=0;for(var ie=0;ie<30;++ie)$[ie]=0}var ce=2,he=0,we=y,X=J-ue&32767;if(ee>2&&V==F(R-X))for(var T=Math.min(w,ee)-1,H=Math.min(32767,R),Q=Math.min(258,ee);X<=H&&--we&&J!=ue;){if(i[R+ce]==i[R+ce-X]){for(var re=0;re<Q&&i[R+re]==i[R+re-X];++re);if(re>ce){if(ce=re,he=X,re>T)break;for(var ae=Math.min(X,re-2),me=0,ie=0;ie<ae;++ie){var de=R-X+ie&32767,_e=A[de],ve=de-_e&32767;ve>me&&(me=ve,ue=de)}}}J=ue,ue=A[J],X+=J-ue&32767}if(he){q[Z++]=268435456|z0[ce]<<18|by[he];var Ie=z0[ce]&31,He=by[he]&31;D+=Zg[Ie]+Kg[He],++z[257+Ie],++$[He],O=R+ce,++Y}else q[Z++]=i[R],++z[i[R]]}}for(R=Math.max(R,O);R<h;++R)q[Z++]=i[R],++z[i[R]];m=_y(i,f,d,q,z,$,D,Z,j,R-j,m),d||(o.r=m&7|f[m/8|0]<<3,m-=7,o.h=E,o.p=A,o.i=R,o.w=O)}else{for(var R=o.w||0;R<h+d;R+=65535){var Ge=R+65535;Ge>=h&&(f[m/8|0]=d,Ge=h),m=j_(f,m+1,i.subarray(R,Ge))}o.i=h}return mE(c,0,r+D_(m)+a)},I_=function(){var i=1,e=0;return{p:function(t){for(var r=i,a=e,o=t.length|0,h=0;h!=o;){for(var c=Math.min(h+2655,o);h<c;++h)a+=r+=t[h];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}i=r,e=a},d:function(){return i%=65521,e%=65521,(i&255)<<24|(i&65280)<<8|(e&255)<<8|e>>8}}},yE=function(i,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),h=new Ja(o.length+i.length);h.set(o),h.set(i,o.length),i=h,a.w=o.length}return vE(i,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+e.mem,t,r,a)},B_=function(i,e,t){for(;t;++e)i[e]=t,t>>>=8},bE=function(i,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(i[0]=120,i[1]=r<<6|(e.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,e.dictionary){var a=I_();a.p(e.dictionary),B_(i,2,a.d())}};function P0(i,e){e||(e={});var t=I_();t.p(i);var r=yE(i,e,e.dictionary?6:2,4);return bE(r,e),B_(r,r.length-4,t.d()),r}var xE=typeof TextDecoder<"u"&&new TextDecoder,_E=0;try{xE.decode(R_,{stream:!0}),_E=1}catch{}function wE(i){if(Array.isArray(i))return i}function SE(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var r,a,o,h,c=[],f=!0,d=!1;try{if(o=(t=t.call(i)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(m){d=!0,a=m}finally{try{if(!f&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(d)throw a}}return c}}function wy(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=Array(e);t<e;t++)r[t]=i[t];return r}function AE(i,e){if(i){if(typeof i=="string")return wy(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?wy(i,e):void 0}}function NE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sy(i,e){return wE(i)||SE(i,e)||AE(i,e)||NE()}function Ay(i,e="utf8"){return new TextDecoder(e).decode(i)}const CE=new TextEncoder;function TE(i){return CE.encode(i)}const EE=1024*8,kE=(()=>{const i=new Uint8Array(4),e=new Uint32Array(i.buffer);return!((e[0]=1)&i[0])})(),n0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Qg{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=EE,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let h=a;(ArrayBuffer.isView(e)||e instanceof Qg)&&(e.byteLength!==e.buffer.byteLength&&(h=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=h,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,h,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=n0[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===kE&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+r));c.reverse();const f=new n0[t](c.buffer);return this.offset+=r,f.reverse(),f}const h=new n0[t](o);return this.offset+=r,h}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Ay(this.readBytes(e))}decodeText(e=1,t="utf8"){return Ay(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(TE(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Bh(i){let e=i.length;for(;--e>=0;)i[e]=0}const OE=3,ME=258,z_=29,LE=256,DE=LE+1+z_,q_=30,jE=512,RE=new Array((DE+2)*2);Bh(RE);const IE=new Array(q_*2);Bh(IE);const BE=new Array(jE);Bh(BE);const zE=new Array(ME-OE+1);Bh(zE);const qE=new Array(z_);Bh(qE);const FE=new Array(q_);Bh(FE);const PE=(i,e,t,r)=>{let a=i&65535|0,o=i>>>16&65535|0,h=0;for(;t!==0;){h=t>2e3?2e3:t,t-=h;do a=a+e[r++]|0,o=o+a|0;while(--h);a%=65521,o%=65521}return a|o<<16|0};var U0=PE;const UE=()=>{let i,e=[];for(var t=0;t<256;t++){i=t;for(var r=0;r<8;r++)i=i&1?3988292384^i>>>1:i>>>1;e[t]=i}return e},VE=new Uint32Array(UE()),HE=(i,e,t,r)=>{const a=VE,o=r+t;i^=-1;for(let h=r;h<o;h++)i=i>>>8^a[(i^e[h])&255];return i^-1};var No=HE,V0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},F_={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const GE=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var YE=function(i){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)GE(t,r)&&(i[r]=t[r])}}return i},WE=i=>{let e=0;for(let r=0,a=i.length;r<a;r++)e+=i[r].length;const t=new Uint8Array(e);for(let r=0,a=0,o=i.length;r<o;r++){let h=i[r];t.set(h,a),a+=h.length}return t},P_={assign:YE,flattenChunks:WE};let U_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{U_=!1}const Yf=new Uint8Array(256);for(let i=0;i<256;i++)Yf[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;Yf[254]=Yf[254]=1;var XE=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let e,t,r,a,o,h=i.length,c=0;for(a=0;a<h;a++)t=i.charCodeAt(a),(t&64512)===55296&&a+1<h&&(r=i.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)t=i.charCodeAt(a),(t&64512)===55296&&a+1<h&&(r=i.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const ZE=(i,e)=>{if(e<65534&&i.subarray&&U_)return String.fromCharCode.apply(null,i.length===e?i:i.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(i[r]);return t};var KE=(i,e)=>{const t=e||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,e));let r,a;const o=new Array(t*2);for(a=0,r=0;r<t;){let h=i[r++];if(h<128){o[a++]=h;continue}let c=Yf[h];if(c>4){o[a++]=65533,r+=c-1;continue}for(h&=c===2?31:c===3?15:7;c>1&&r<t;)h=h<<6|i[r++]&63,c--;if(c>1){o[a++]=65533;continue}h<65536?o[a++]=h:(h-=65536,o[a++]=55296|h>>10&1023,o[a++]=56320|h&1023)}return ZE(o,a)},QE=(i,e)=>{e=e||i.length,e>i.length&&(e=i.length);let t=e-1;for(;t>=0&&(i[t]&192)===128;)t--;return t<0||t===0?e:t+Yf[i[t]]>e?t:e},H0={string2buf:XE,buf2string:KE,utf8border:QE};function $E(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var JE=$E;const up=16209,ek=16191;var tk=function(e,t){let r,a,o,h,c,f,d,m,x,w,y,N,A,E,C,U,F,q,z,$,Y,D,R,Z;const O=e.state;r=e.next_in,R=e.input,a=r+(e.avail_in-5),o=e.next_out,Z=e.output,h=o-(t-e.avail_out),c=o+(e.avail_out-257),f=O.dmax,d=O.wsize,m=O.whave,x=O.wnext,w=O.window,y=O.hold,N=O.bits,A=O.lencode,E=O.distcode,C=(1<<O.lenbits)-1,U=(1<<O.distbits)-1;e:do{N<15&&(y+=R[r++]<<N,N+=8,y+=R[r++]<<N,N+=8),F=A[y&C];t:for(;;){if(q=F>>>24,y>>>=q,N-=q,q=F>>>16&255,q===0)Z[o++]=F&65535;else if(q&16){z=F&65535,q&=15,q&&(N<q&&(y+=R[r++]<<N,N+=8),z+=y&(1<<q)-1,y>>>=q,N-=q),N<15&&(y+=R[r++]<<N,N+=8,y+=R[r++]<<N,N+=8),F=E[y&U];n:for(;;){if(q=F>>>24,y>>>=q,N-=q,q=F>>>16&255,q&16){if($=F&65535,q&=15,N<q&&(y+=R[r++]<<N,N+=8,N<q&&(y+=R[r++]<<N,N+=8)),$+=y&(1<<q)-1,$>f){e.msg="invalid distance too far back",O.mode=up;break e}if(y>>>=q,N-=q,q=o-h,$>q){if(q=$-q,q>m&&O.sane){e.msg="invalid distance too far back",O.mode=up;break e}if(Y=0,D=w,x===0){if(Y+=d-q,q<z){z-=q;do Z[o++]=w[Y++];while(--q);Y=o-$,D=Z}}else if(x<q){if(Y+=d+x-q,q-=x,q<z){z-=q;do Z[o++]=w[Y++];while(--q);if(Y=0,x<z){q=x,z-=q;do Z[o++]=w[Y++];while(--q);Y=o-$,D=Z}}}else if(Y+=x-q,q<z){z-=q;do Z[o++]=w[Y++];while(--q);Y=o-$,D=Z}for(;z>2;)Z[o++]=D[Y++],Z[o++]=D[Y++],Z[o++]=D[Y++],z-=3;z&&(Z[o++]=D[Y++],z>1&&(Z[o++]=D[Y++]))}else{Y=o-$;do Z[o++]=Z[Y++],Z[o++]=Z[Y++],Z[o++]=Z[Y++],z-=3;while(z>2);z&&(Z[o++]=Z[Y++],z>1&&(Z[o++]=Z[Y++]))}}else if((q&64)===0){F=E[(F&65535)+(y&(1<<q)-1)];continue n}else{e.msg="invalid distance code",O.mode=up;break e}break}}else if((q&64)===0){F=A[(F&65535)+(y&(1<<q)-1)];continue t}else if(q&32){O.mode=ek;break e}else{e.msg="invalid literal/length code",O.mode=up;break e}break}}while(r<a&&o<c);z=N>>3,r-=z,N-=z<<3,y&=(1<<N)-1,e.next_in=r,e.next_out=o,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=o<c?257+(c-o):257-(o-c),O.hold=y,O.bits=N};const nh=15,Ny=852,Cy=592,Ty=0,i0=1,Ey=2,nk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ik=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),rk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ak=(i,e,t,r,a,o,h,c)=>{const f=c.bits;let d=0,m=0,x=0,w=0,y=0,N=0,A=0,E=0,C=0,U=0,F,q,z,$,Y,D=null,R;const Z=new Uint16Array(nh+1),O=new Uint16Array(nh+1);let j=null,V,J,ue;for(d=0;d<=nh;d++)Z[d]=0;for(m=0;m<r;m++)Z[e[t+m]]++;for(y=f,w=nh;w>=1&&Z[w]===0;w--);if(y>w&&(y=w),w===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(x=1;x<w&&Z[x]===0;x++);for(y<x&&(y=x),E=1,d=1;d<=nh;d++)if(E<<=1,E-=Z[d],E<0)return-1;if(E>0&&(i===Ty||w!==1))return-1;for(O[1]=0,d=1;d<nh;d++)O[d+1]=O[d]+Z[d];for(m=0;m<r;m++)e[t+m]!==0&&(h[O[e[t+m]]++]=m);if(i===Ty?(D=j=h,R=20):i===i0?(D=nk,j=ik,R=257):(D=rk,j=sk,R=0),U=0,m=0,d=x,Y=o,N=y,A=0,z=-1,C=1<<y,$=C-1,i===i0&&C>Ny||i===Ey&&C>Cy)return 1;for(;;){V=d-A,h[m]+1<R?(J=0,ue=h[m]):h[m]>=R?(J=j[h[m]-R],ue=D[h[m]-R]):(J=96,ue=0),F=1<<d-A,q=1<<N,x=q;do q-=F,a[Y+(U>>A)+q]=V<<24|J<<16|ue|0;while(q!==0);for(F=1<<d-1;U&F;)F>>=1;if(F!==0?(U&=F-1,U+=F):U=0,m++,--Z[d]===0){if(d===w)break;d=e[t+h[m]]}if(d>y&&(U&$)!==z){for(A===0&&(A=y),Y+=x,N=d-A,E=1<<N;N+A<w&&(E-=Z[N+A],!(E<=0));)N++,E<<=1;if(C+=1<<N,i===i0&&C>Ny||i===Ey&&C>Cy)return 1;z=U&$,a[z]=y<<24|N<<16|Y-o|0}}return U!==0&&(a[Y+U]=d-A<<24|64<<16|0),c.bits=y,0};var Rf=ak;const ok=0,V_=1,H_=2,{Z_FINISH:ky,Z_BLOCK:lk,Z_TREES:hp,Z_OK:au,Z_STREAM_END:ck,Z_NEED_DICT:uk,Z_STREAM_ERROR:pa,Z_DATA_ERROR:G_,Z_MEM_ERROR:Y_,Z_BUF_ERROR:hk,Z_DEFLATED:Oy}=F_,T1=16180,My=16181,Ly=16182,Dy=16183,jy=16184,Ry=16185,Iy=16186,By=16187,zy=16188,qy=16189,$p=16190,ll=16191,r0=16192,Fy=16193,s0=16194,Py=16195,Uy=16196,Vy=16197,Hy=16198,fp=16199,dp=16200,Gy=16201,Yy=16202,Wy=16203,Xy=16204,Zy=16205,a0=16206,Ky=16207,Qy=16208,mi=16209,W_=16210,X_=16211,fk=852,dk=592,pk=15,mk=pk,$y=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function gk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const uu=i=>{if(!i)return 1;const e=i.state;return!e||e.strm!==i||e.mode<T1||e.mode>X_?1:0},Z_=i=>{if(uu(i))return pa;const e=i.state;return i.total_in=i.total_out=e.total=0,i.msg="",e.wrap&&(i.adler=e.wrap&1),e.mode=T1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(fk),e.distcode=e.distdyn=new Int32Array(dk),e.sane=1,e.back=-1,au},K_=i=>{if(uu(i))return pa;const e=i.state;return e.wsize=0,e.whave=0,e.wnext=0,Z_(i)},Q_=(i,e)=>{let t;if(uu(i))return pa;const r=i.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?pa:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,K_(i))},$_=(i,e)=>{if(!i)return pa;const t=new gk;i.state=t,t.strm=i,t.window=null,t.mode=T1;const r=Q_(i,e);return r!==au&&(i.state=null),r},vk=i=>$_(i,mk);let Jy=!0,o0,l0;const yk=i=>{if(Jy){o0=new Int32Array(512),l0=new Int32Array(32);let e=0;for(;e<144;)i.lens[e++]=8;for(;e<256;)i.lens[e++]=9;for(;e<280;)i.lens[e++]=7;for(;e<288;)i.lens[e++]=8;for(Rf(V_,i.lens,0,288,o0,0,i.work,{bits:9}),e=0;e<32;)i.lens[e++]=5;Rf(H_,i.lens,0,32,l0,0,i.work,{bits:5}),Jy=!1}i.lencode=o0,i.lenbits=9,i.distcode=l0,i.distbits=5},J_=(i,e,t,r)=>{let a;const o=i.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(e.subarray(t-r,t-r+a),o.wnext),r-=a,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},bk=(i,e)=>{let t,r,a,o,h,c,f,d,m,x,w,y,N,A,E=0,C,U,F,q,z,$,Y,D;const R=new Uint8Array(4);let Z,O;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(uu(i)||!i.output||!i.input&&i.avail_in!==0)return pa;t=i.state,t.mode===ll&&(t.mode=r0),h=i.next_out,a=i.output,f=i.avail_out,o=i.next_in,r=i.input,c=i.avail_in,d=t.hold,m=t.bits,x=c,w=f,D=au;e:for(;;)switch(t.mode){case T1:if(t.wrap===0){t.mode=r0;break}for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,R[0]=d&255,R[1]=d>>>8&255,t.check=No(t.check,R,2,0),d=0,m=0,t.mode=My;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){i.msg="incorrect header check",t.mode=mi;break}if((d&15)!==Oy){i.msg="unknown compression method",t.mode=mi;break}if(d>>>=4,m-=4,Y=(d&15)+8,t.wbits===0&&(t.wbits=Y),Y>15||Y>t.wbits){i.msg="invalid window size",t.mode=mi;break}t.dmax=1<<t.wbits,t.flags=0,i.adler=t.check=1,t.mode=d&512?qy:ll,d=0,m=0;break;case My:for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.flags=d,(t.flags&255)!==Oy){i.msg="unknown compression method",t.mode=mi;break}if(t.flags&57344){i.msg="unknown header flags set",t.mode=mi;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=No(t.check,R,2,0)),d=0,m=0,t.mode=Ly;case Ly:for(;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,R[2]=d>>>16&255,R[3]=d>>>24&255,t.check=No(t.check,R,4,0)),d=0,m=0,t.mode=Dy;case Dy:for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=No(t.check,R,2,0)),d=0,m=0,t.mode=jy;case jy:if(t.flags&1024){for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=No(t.check,R,2,0)),d=0,m=0}else t.head&&(t.head.extra=null);t.mode=Ry;case Ry:if(t.flags&1024&&(y=t.length,y>c&&(y=c),y&&(t.head&&(Y=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+y),Y)),t.flags&512&&t.wrap&4&&(t.check=No(t.check,r,y,o)),c-=y,o+=y,t.length-=y),t.length))break e;t.length=0,t.mode=Iy;case Iy:if(t.flags&2048){if(c===0)break e;y=0;do Y=r[o+y++],t.head&&Y&&t.length<65536&&(t.head.name+=String.fromCharCode(Y));while(Y&&y<c);if(t.flags&512&&t.wrap&4&&(t.check=No(t.check,r,y,o)),c-=y,o+=y,Y)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=By;case By:if(t.flags&4096){if(c===0)break e;y=0;do Y=r[o+y++],t.head&&Y&&t.length<65536&&(t.head.comment+=String.fromCharCode(Y));while(Y&&y<c);if(t.flags&512&&t.wrap&4&&(t.check=No(t.check,r,y,o)),c-=y,o+=y,Y)break e}else t.head&&(t.head.comment=null);t.mode=zy;case zy:if(t.flags&512){for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.check&65535)){i.msg="header crc mismatch",t.mode=mi;break}d=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),i.adler=t.check=0,t.mode=ll;break;case qy:for(;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}i.adler=t.check=$y(d),d=0,m=0,t.mode=$p;case $p:if(t.havedict===0)return i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=c,t.hold=d,t.bits=m,uk;i.adler=t.check=1,t.mode=ll;case ll:if(e===lk||e===hp)break e;case r0:if(t.last){d>>>=m&7,m-=m&7,t.mode=a0;break}for(;m<3;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}switch(t.last=d&1,d>>>=1,m-=1,d&3){case 0:t.mode=Fy;break;case 1:if(yk(t),t.mode=fp,e===hp){d>>>=2,m-=2;break e}break;case 2:t.mode=Uy;break;case 3:i.msg="invalid block type",t.mode=mi}d>>>=2,m-=2;break;case Fy:for(d>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if((d&65535)!==(d>>>16^65535)){i.msg="invalid stored block lengths",t.mode=mi;break}if(t.length=d&65535,d=0,m=0,t.mode=s0,e===hp)break e;case s0:t.mode=Py;case Py:if(y=t.length,y){if(y>c&&(y=c),y>f&&(y=f),y===0)break e;a.set(r.subarray(o,o+y),h),c-=y,o+=y,f-=y,h+=y,t.length-=y;break}t.mode=ll;break;case Uy:for(;m<14;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.nlen=(d&31)+257,d>>>=5,m-=5,t.ndist=(d&31)+1,d>>>=5,m-=5,t.ncode=(d&15)+4,d>>>=4,m-=4,t.nlen>286||t.ndist>30){i.msg="too many length or distance symbols",t.mode=mi;break}t.have=0,t.mode=Vy;case Vy:for(;t.have<t.ncode;){for(;m<3;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.lens[j[t.have++]]=d&7,d>>>=3,m-=3}for(;t.have<19;)t.lens[j[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Z={bits:t.lenbits},D=Rf(ok,t.lens,0,19,t.lencode,0,t.work,Z),t.lenbits=Z.bits,D){i.msg="invalid code lengths set",t.mode=mi;break}t.have=0,t.mode=Hy;case Hy:for(;t.have<t.nlen+t.ndist;){for(;E=t.lencode[d&(1<<t.lenbits)-1],C=E>>>24,U=E>>>16&255,F=E&65535,!(C<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(F<16)d>>>=C,m-=C,t.lens[t.have++]=F;else{if(F===16){for(O=C+2;m<O;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(d>>>=C,m-=C,t.have===0){i.msg="invalid bit length repeat",t.mode=mi;break}Y=t.lens[t.have-1],y=3+(d&3),d>>>=2,m-=2}else if(F===17){for(O=C+3;m<O;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=C,m-=C,Y=0,y=3+(d&7),d>>>=3,m-=3}else{for(O=C+7;m<O;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=C,m-=C,Y=0,y=11+(d&127),d>>>=7,m-=7}if(t.have+y>t.nlen+t.ndist){i.msg="invalid bit length repeat",t.mode=mi;break}for(;y--;)t.lens[t.have++]=Y}}if(t.mode===mi)break;if(t.lens[256]===0){i.msg="invalid code -- missing end-of-block",t.mode=mi;break}if(t.lenbits=9,Z={bits:t.lenbits},D=Rf(V_,t.lens,0,t.nlen,t.lencode,0,t.work,Z),t.lenbits=Z.bits,D){i.msg="invalid literal/lengths set",t.mode=mi;break}if(t.distbits=6,t.distcode=t.distdyn,Z={bits:t.distbits},D=Rf(H_,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Z),t.distbits=Z.bits,D){i.msg="invalid distances set",t.mode=mi;break}if(t.mode=fp,e===hp)break e;case fp:t.mode=dp;case dp:if(c>=6&&f>=258){i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=c,t.hold=d,t.bits=m,tk(i,w),h=i.next_out,a=i.output,f=i.avail_out,o=i.next_in,r=i.input,c=i.avail_in,d=t.hold,m=t.bits,t.mode===ll&&(t.back=-1);break}for(t.back=0;E=t.lencode[d&(1<<t.lenbits)-1],C=E>>>24,U=E>>>16&255,F=E&65535,!(C<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(U&&(U&240)===0){for(q=C,z=U,$=F;E=t.lencode[$+((d&(1<<q+z)-1)>>q)],C=E>>>24,U=E>>>16&255,F=E&65535,!(q+C<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=q,m-=q,t.back+=q}if(d>>>=C,m-=C,t.back+=C,t.length=F,U===0){t.mode=Zy;break}if(U&32){t.back=-1,t.mode=ll;break}if(U&64){i.msg="invalid literal/length code",t.mode=mi;break}t.extra=U&15,t.mode=Gy;case Gy:if(t.extra){for(O=t.extra;m<O;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Yy;case Yy:for(;E=t.distcode[d&(1<<t.distbits)-1],C=E>>>24,U=E>>>16&255,F=E&65535,!(C<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if((U&240)===0){for(q=C,z=U,$=F;E=t.distcode[$+((d&(1<<q+z)-1)>>q)],C=E>>>24,U=E>>>16&255,F=E&65535,!(q+C<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=q,m-=q,t.back+=q}if(d>>>=C,m-=C,t.back+=C,U&64){i.msg="invalid distance code",t.mode=mi;break}t.offset=F,t.extra=U&15,t.mode=Wy;case Wy:if(t.extra){for(O=t.extra;m<O;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){i.msg="invalid distance too far back",t.mode=mi;break}t.mode=Xy;case Xy:if(f===0)break e;if(y=w-f,t.offset>y){if(y=t.offset-y,y>t.whave&&t.sane){i.msg="invalid distance too far back",t.mode=mi;break}y>t.wnext?(y-=t.wnext,N=t.wsize-y):N=t.wnext-y,y>t.length&&(y=t.length),A=t.window}else A=a,N=h-t.offset,y=t.length;y>f&&(y=f),f-=y,t.length-=y;do a[h++]=A[N++];while(--y);t.length===0&&(t.mode=dp);break;case Zy:if(f===0)break e;a[h++]=t.length,f--,t.mode=dp;break;case a0:if(t.wrap){for(;m<32;){if(c===0)break e;c--,d|=r[o++]<<m,m+=8}if(w-=f,i.total_out+=w,t.total+=w,t.wrap&4&&w&&(i.adler=t.check=t.flags?No(t.check,a,w,h-w):U0(t.check,a,w,h-w)),w=f,t.wrap&4&&(t.flags?d:$y(d))!==t.check){i.msg="incorrect data check",t.mode=mi;break}d=0,m=0}t.mode=Ky;case Ky:if(t.wrap&&t.flags){for(;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.total&4294967295)){i.msg="incorrect length check",t.mode=mi;break}d=0,m=0}t.mode=Qy;case Qy:D=ck;break e;case mi:D=G_;break e;case W_:return Y_;case X_:default:return pa}return i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=c,t.hold=d,t.bits=m,(t.wsize||w!==i.avail_out&&t.mode<mi&&(t.mode<a0||e!==ky))&&J_(i,i.output,i.next_out,w-i.avail_out),x-=i.avail_in,w-=i.avail_out,i.total_in+=x,i.total_out+=w,t.total+=w,t.wrap&4&&w&&(i.adler=t.check=t.flags?No(t.check,a,w,i.next_out-w):U0(t.check,a,w,i.next_out-w)),i.data_type=t.bits+(t.last?64:0)+(t.mode===ll?128:0)+(t.mode===fp||t.mode===s0?256:0),(x===0&&w===0||e===ky)&&D===au&&(D=hk),D},xk=i=>{if(uu(i))return pa;let e=i.state;return e.window&&(e.window=null),i.state=null,au},_k=(i,e)=>{if(uu(i))return pa;const t=i.state;return(t.wrap&2)===0?pa:(t.head=e,e.done=!1,au)},wk=(i,e)=>{const t=e.length;let r,a,o;return uu(i)||(r=i.state,r.wrap!==0&&r.mode!==$p)?pa:r.mode===$p&&(a=1,a=U0(a,e,t,0),a!==r.check)?G_:(o=J_(i,e,t,t),o?(r.mode=W_,Y_):(r.havedict=1,au))};var Sk=K_,Ak=Q_,Nk=Z_,Ck=vk,Tk=$_,Ek=bk,kk=xk,Ok=_k,Mk=wk,Lk="pako inflate (from Nodeca project)",ul={inflateReset:Sk,inflateReset2:Ak,inflateResetKeep:Nk,inflateInit:Ck,inflateInit2:Tk,inflate:Ek,inflateEnd:kk,inflateGetHeader:Ok,inflateSetDictionary:Mk,inflateInfo:Lk};function Dk(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var jk=Dk;const ew=Object.prototype.toString,{Z_NO_FLUSH:Rk,Z_FINISH:Ik,Z_OK:Wf,Z_STREAM_END:c0,Z_NEED_DICT:u0,Z_STREAM_ERROR:Bk,Z_DATA_ERROR:eb,Z_MEM_ERROR:zk}=F_;function ud(i){this.options=P_.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(i&&i.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new JE,this.strm.avail_out=0;let t=ul.inflateInit2(this.strm,e.windowBits);if(t!==Wf)throw new Error(V0[t]);if(this.header=new jk,ul.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=H0.string2buf(e.dictionary):ew.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=ul.inflateSetDictionary(this.strm,e.dictionary),t!==Wf)))throw new Error(V0[t])}ud.prototype.push=function(i,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,h,c;if(this.ended)return!1;for(e===~~e?h=e:h=e===!0?Ik:Rk,ew.call(i)==="[object ArrayBuffer]"?t.input=new Uint8Array(i):t.input=i,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=ul.inflate(t,h),o===u0&&a&&(o=ul.inflateSetDictionary(t,a),o===Wf?o=ul.inflate(t,h):o===eb&&(o=u0));t.avail_in>0&&o===c0&&t.state.wrap>0&&i[t.next_in]!==0;)ul.inflateReset(t),o=ul.inflate(t,h);switch(o){case Bk:case eb:case u0:case zk:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===c0))if(this.options.to==="string"){let f=H0.utf8border(t.output,t.next_out),d=t.next_out-f,m=H0.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Wf&&c===0)){if(o===c0)return o=ul.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};ud.prototype.onData=function(i){this.chunks.push(i)};ud.prototype.onEnd=function(i){i===Wf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=P_.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function qk(i,e){const t=new ud(e);if(t.push(i),t.err)throw t.msg||V0[t.err];return t.result}var Fk=ud,Pk=qk,Uk={Inflate:Fk,inflate:Pk};const{Inflate:Vk,inflate:Hk}=Uk;var tb=Vk,Gk=Hk;const tw=[];for(let i=0;i<256;i++){let e=i;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;tw[i]=e}const nb=4294967295;function Yk(i,e,t){let r=i;for(let a=0;a<t;a++)r=tw[(r^e[a])&255]^r>>>8;return r}function Wk(i,e){return(Yk(nb,i,e)^nb)>>>0}function ib(i,e,t){const r=i.readUint32(),a=Wk(new Uint8Array(i.buffer,i.byteOffset+i.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${a}`)}function nw(i,e,t){for(let r=0;r<t;r++)e[r]=i[r]}function iw(i,e,t,r){let a=0;for(;a<r;a++)e[a]=i[a];for(;a<t;a++)e[a]=i[a]+e[a-r]&255}function rw(i,e,t,r){let a=0;if(t.length===0)for(;a<r;a++)e[a]=i[a];else for(;a<r;a++)e[a]=i[a]+t[a]&255}function sw(i,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=i[o];for(;o<r;o++)e[o]=i[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=i[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=i[o]+(e[o-a]+t[o]>>1)&255}}function aw(i,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=i[o];for(;o<r;o++)e[o]=i[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=i[o]+t[o]&255;for(;o<r;o++)e[o]=i[o]+Xk(e[o-a],t[o],t[o-a])&255}}function Xk(i,e,t){const r=i+e-t,a=Math.abs(r-i),o=Math.abs(r-e),h=Math.abs(r-t);return a<=o&&a<=h?i:o<=h?e:t}function Zk(i,e,t,r,a,o){switch(i){case 0:nw(e,t,a);break;case 1:iw(e,t,a,o);break;case 2:rw(e,t,r,a);break;case 3:sw(e,t,r,a,o);break;case 4:aw(e,t,r,a,o);break;default:throw new Error(`Unsupported filter: ${i}`)}}const Kk=new Uint16Array([255]),Qk=new Uint8Array(Kk.buffer),$k=Qk[0]===255;function Jk(i){const{data:e,width:t,height:r,channels:a,depth:o}=i,h=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(r*t*c);let d=0;for(let m=0;m<7;m++){const x=h[m],w=Math.ceil((t-x.x)/x.xStep),y=Math.ceil((r-x.y)/x.yStep);if(w<=0||y<=0)continue;const N=w*c,A=new Uint8Array(N);for(let E=0;E<y;E++){const C=e[d++],U=e.subarray(d,d+N);d+=N;const F=new Uint8Array(N);Zk(C,U,F,A,N,c),A.set(F);for(let q=0;q<w;q++){const z=x.x+q*x.xStep,$=x.y+E*x.yStep;if(!(z>=t||$>=r))for(let Y=0;Y<c;Y++)f[($*t+z)*c+Y]=F[q*c+Y]}}}if(o===16){const m=new Uint16Array(f.buffer);if($k)for(let x=0;x<m.length;x++)m[x]=eO(m[x]);return m}else return f}function eO(i){return(i&255)<<8|i>>8&255}const tO=new Uint16Array([255]),nO=new Uint8Array(tO.buffer),iO=nO[0]===255,rO=new Uint8Array(0);function rb(i){const{data:e,width:t,height:r,channels:a,depth:o}=i,h=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*t),f=new Uint8Array(r*c);let d=rO,m=0,x,w;for(let y=0;y<r;y++){switch(x=e.subarray(m+1,m+1+c),w=f.subarray(y*c,(y+1)*c),e[m]){case 0:nw(x,w,c);break;case 1:iw(x,w,c,h);break;case 2:rw(x,w,d,c);break;case 3:sw(x,w,d,c,h);break;case 4:aw(x,w,d,c,h);break;default:throw new Error(`Unsupported filter: ${e[m]}`)}d=w,m+=c+1}if(o===16){const y=new Uint16Array(f.buffer);if(iO)for(let N=0;N<y.length;N++)y[N]=sO(y[N]);return y}else return f}function sO(i){return(i&255)<<8|i>>8&255}const Sp=Uint8Array.of(137,80,78,71,13,10,26,10);function sb(i){if(!aO(i.readBytes(Sp.length)))throw new Error("wrong PNG signature")}function aO(i){if(i.length<Sp.length)return!1;for(let e=0;e<Sp.length;e++)if(i[e]!==Sp[e])return!1;return!0}const oO="tEXt",lO=0,ow=new TextDecoder("latin1");function cO(i){if(hO(i),i.length===0||i.length>79)throw new Error("keyword length must be between 1 and 79")}const uO=/^[\u0000-\u00FF]*$/;function hO(i){if(!uO.test(i))throw new Error("invalid latin1 text")}function fO(i,e,t){const r=lw(e);i[r]=dO(e,t-r.length-1)}function lw(i){for(i.mark();i.readByte()!==lO;);const e=i.offset;i.reset();const t=ow.decode(i.readBytes(e-i.offset-1));return i.skip(1),cO(t),t}function dO(i,e){return ow.decode(i.readBytes(e))}const qs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},h0={UNKNOWN:-1,DEFLATE:0},ab={UNKNOWN:-1,ADAPTIVE:0},f0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},pp={NONE:0,BACKGROUND:1,PREVIOUS:2},d0={SOURCE:0,OVER:1};class pO extends Qg{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new tb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=h0.UNKNOWN,this._filterMethod=ab.UNKNOWN,this._interlaceMethod=f0.UNKNOWN,this._colorType=qs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(sb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(sb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case oO:fO(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?ib(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?ib(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=mO(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case qs.GREYSCALE:r=1;break;case qs.TRUECOLOUR:r=3;break;case qs.INDEXED_COLOUR:r=1;break;case qs.GREYSCALE_ALPHA:r=2;break;case qs.TRUECOLOUR_ALPHA:r=4;break;case qs.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==h0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<t;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case qs.GREYSCALE:case qs.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case qs.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case qs.UNKNOWN:case qs.GREYSCALE_ALPHA:case qs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=lw(this),r=this.readUint8();if(r!==h0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:Gk(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=rb({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case pp.NONE:break;case pp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const h=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[h+c]=0}break;case pp.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,a=(o,h)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+h)*this._png.channels,f=(o*t.width+h)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case d0.SOURCE:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case d0.OVER:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++){const m=t.data[f+this._png.channels-1]/r,x=d%(this._png.channels-1)===0?1:t.data[f+d],w=Math.floor(m*x+(1-m)*e.data[c+d]);e.data[c+d]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==ab.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===f0.NO_INTERLACE)this._png.data=rb({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===f0.ADAM7)this._png.data=Jk({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:pp.NONE,blendOp:d0.SOURCE,data:e}),this._inflator=new tb,this._writingDataChunks=!1}}function mO(i){if(i!==1&&i!==2&&i!==4&&i!==8&&i!==16)throw new Error(`invalid bit depth: ${i}`);return i}var ob;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.METRE=1]="METRE"})(ob||(ob={}));function gO(i,e){return new pO(i,e).decode()}var Ut=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function p0(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var Qn={log:p0,warn:function(i){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):p0.call(null,arguments))},error:function(i){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):p0(i))}};function m0(i,e,t){var r=new XMLHttpRequest;r.open("GET",i),r.responseType="blob",r.onload=function(){Zc(r.response,e,t)},r.onerror=function(){Qn.error("could not download file")},r.send()}function lb(i){var e=new XMLHttpRequest;e.open("HEAD",i,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function mp(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(e)}}var Zc=Ut.saveAs||((typeof window>"u"?"undefined":Bn(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,e,t){var r=Ut.URL||Ut.webkitURL,a=document.createElement("a");e=e||i.name||"download",a.download=e,a.rel="noopener",typeof i=="string"?(a.href=i,a.origin!==location.origin?lb(a.href)?m0(i,e,t):mp(a,a.target="_blank"):mp(a)):(a.href=r.createObjectURL(i),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){mp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(i,e,t){if(e=e||i.name||"download",typeof i=="string")if(lb(i))m0(i,e,t);else{var r=document.createElement("a");r.href=i,r.target="_blank",setTimeout(function(){mp(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Bn(o)!=="object"&&(Qn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(i,t),e)}:function(i,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof i=="string")return m0(i,e,t);var a=i.type==="application/octet-stream",o=/constructor/i.test(Ut.HTMLElement)||Ut.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||a&&o)&&(typeof FileReader>"u"?"undefined":Bn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=h?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=m:location=m,r=null},c.readAsDataURL(i)}else{var f=Ut.URL||Ut.webkitURL,d=f.createObjectURL(i);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function cw(i){var e;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,o=t[r].process,h=a.exec(i);h&&(e=o(h),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var Ap=Ut.atob.bind(Ut),cb=Ut.btoa.bind(Ut);function g0(i,e){var t=i[0],r=i[1],a=i[2],o=i[3];t=Rr(t,r,a,o,e[0],7,-680876936),o=Rr(o,t,r,a,e[1],12,-389564586),a=Rr(a,o,t,r,e[2],17,606105819),r=Rr(r,a,o,t,e[3],22,-1044525330),t=Rr(t,r,a,o,e[4],7,-176418897),o=Rr(o,t,r,a,e[5],12,1200080426),a=Rr(a,o,t,r,e[6],17,-1473231341),r=Rr(r,a,o,t,e[7],22,-45705983),t=Rr(t,r,a,o,e[8],7,1770035416),o=Rr(o,t,r,a,e[9],12,-1958414417),a=Rr(a,o,t,r,e[10],17,-42063),r=Rr(r,a,o,t,e[11],22,-1990404162),t=Rr(t,r,a,o,e[12],7,1804603682),o=Rr(o,t,r,a,e[13],12,-40341101),a=Rr(a,o,t,r,e[14],17,-1502002290),t=Ir(t,r=Rr(r,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Ir(o,t,r,a,e[6],9,-1069501632),a=Ir(a,o,t,r,e[11],14,643717713),r=Ir(r,a,o,t,e[0],20,-373897302),t=Ir(t,r,a,o,e[5],5,-701558691),o=Ir(o,t,r,a,e[10],9,38016083),a=Ir(a,o,t,r,e[15],14,-660478335),r=Ir(r,a,o,t,e[4],20,-405537848),t=Ir(t,r,a,o,e[9],5,568446438),o=Ir(o,t,r,a,e[14],9,-1019803690),a=Ir(a,o,t,r,e[3],14,-187363961),r=Ir(r,a,o,t,e[8],20,1163531501),t=Ir(t,r,a,o,e[13],5,-1444681467),o=Ir(o,t,r,a,e[2],9,-51403784),a=Ir(a,o,t,r,e[7],14,1735328473),t=Br(t,r=Ir(r,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Br(o,t,r,a,e[8],11,-2022574463),a=Br(a,o,t,r,e[11],16,1839030562),r=Br(r,a,o,t,e[14],23,-35309556),t=Br(t,r,a,o,e[1],4,-1530992060),o=Br(o,t,r,a,e[4],11,1272893353),a=Br(a,o,t,r,e[7],16,-155497632),r=Br(r,a,o,t,e[10],23,-1094730640),t=Br(t,r,a,o,e[13],4,681279174),o=Br(o,t,r,a,e[0],11,-358537222),a=Br(a,o,t,r,e[3],16,-722521979),r=Br(r,a,o,t,e[6],23,76029189),t=Br(t,r,a,o,e[9],4,-640364487),o=Br(o,t,r,a,e[12],11,-421815835),a=Br(a,o,t,r,e[15],16,530742520),t=zr(t,r=Br(r,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=zr(o,t,r,a,e[7],10,1126891415),a=zr(a,o,t,r,e[14],15,-1416354905),r=zr(r,a,o,t,e[5],21,-57434055),t=zr(t,r,a,o,e[12],6,1700485571),o=zr(o,t,r,a,e[3],10,-1894986606),a=zr(a,o,t,r,e[10],15,-1051523),r=zr(r,a,o,t,e[1],21,-2054922799),t=zr(t,r,a,o,e[8],6,1873313359),o=zr(o,t,r,a,e[15],10,-30611744),a=zr(a,o,t,r,e[6],15,-1560198380),r=zr(r,a,o,t,e[13],21,1309151649),t=zr(t,r,a,o,e[4],6,-145523070),o=zr(o,t,r,a,e[11],10,-1120210379),a=zr(a,o,t,r,e[2],15,718787259),r=zr(r,a,o,t,e[9],21,-343485551),i[0]=ac(t,i[0]),i[1]=ac(r,i[1]),i[2]=ac(a,i[2]),i[3]=ac(o,i[3])}function E1(i,e,t,r,a,o){return e=ac(ac(e,i),ac(r,o)),ac(e<<a|e>>>32-a,t)}function Rr(i,e,t,r,a,o,h){return E1(e&t|~e&r,i,e,a,o,h)}function Ir(i,e,t,r,a,o,h){return E1(e&r|t&~r,i,e,a,o,h)}function Br(i,e,t,r,a,o,h){return E1(e^t^r,i,e,a,o,h)}function zr(i,e,t,r,a,o,h){return E1(t^(e|~r),i,e,a,o,h)}function uw(i){var e,t=i.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=i.length;e+=64)g0(r,vO(i.substring(e-64,e)));i=i.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i.length;e++)a[e>>2]|=i.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(g0(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,g0(r,a),r}function vO(i){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=i.charCodeAt(e)+(i.charCodeAt(e+1)<<8)+(i.charCodeAt(e+2)<<16)+(i.charCodeAt(e+3)<<24);return t}var ub="0123456789abcdef".split("");function yO(i){for(var e="",t=0;t<4;t++)e+=ub[i>>8*t+4&15]+ub[i>>8*t&15];return e}function bO(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function G0(i){return uw(i).map(bO).join("")}var xO=(function(i){for(var e=0;e<i.length;e++)i[e]=yO(i[e]);return i.join("")})(uw("hello"))!="5d41402abc4b2a76b9719d911017c592";function ac(i,e){if(xO){var t=(65535&i)+(65535&e);return(i>>16)+(e>>16)+(t>>16)<<16|65535&t}return i+e&4294967295}function Y0(i,e){var t,r,a,o;if(i!==t){for(var h=(a=i,o=1+(256/i.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var m=c[f];d=(d+m+h.charCodeAt(f))%256,c[f]=c[d],c[d]=m}t=i,r=c}else c=r;var x=e.length,w=0,y=0,N="";for(f=0;f<x;f++)y=(y+(m=c[w=(w+1)%256]))%256,c[w]=c[y],c[y]=m,h=c[(c[w]+c[y])%256],N+=String.fromCharCode(e.charCodeAt(f)^h);return N}var hb={print:4,modify:8,copy:16,"annot-forms":32};function lh(i,e,t,r){this.v=1,this.r=2;var a=192;i.forEach(function(c){if(hb.perm!==void 0)throw new Error("Invalid permission: "+c);a+=hb[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),h=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,h),this.P=-(1+(255^a)),this.encryptionKey=G0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Y0(this.encryptionKey,this.padding)}function ch(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var e="",t=i.length,r=0;r<t;r++){var a=i.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):i[r]}return e}function fb(i){if(Bn(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!a],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var h=e[t][o];try{h[0].apply(i,r)}catch(c){Ut.console&&Qn.error("jsPDF PubSub Error",c.message,c)}h[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Jp(i){if(!(this instanceof Jp))return new Jp(i);var e="opacity,stroke-opacity".split(",");for(var t in i)i.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=i[t]);this.id="",this.objectNumber=-1}function hw(i,e){this.gState=i,this.matrix=e,this.id="",this.objectNumber=-1}function Qc(i,e,t,r,a){if(!(this instanceof Qc))return new Qc(i,e,t,r,a);this.type=i==="axial"?2:3,this.coords=e,this.colors=t,hw.call(this,r,a)}function mh(i,e,t,r,a){if(!(this instanceof mh))return new mh(i,e,t,r,a);this.boundingBox=i,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,hw.call(this,r,a)}function Et(i){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],h=[],c=1,f=16,d="S",m=null;Bn(i=i||{})==="object"&&(t=i.orientation,r=i.unit||r,a=i.format||a,o=i.compress||i.compressPdf||o,(m=i.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(e=i.precision),i.floatPrecision!==void 0&&(f=i.floatPrecision),d=i.defaultPathOperation||"S"),h=i.filters||(o===!0?["FlateEncode"]:h),r=r||"mm",t=(""+(t||"P")).toLowerCase();var x=i.putOnlyUsedFonts||!1,w={},y={internal:{},__private__:{}};y.__private__.PubSub=fb;var N="1.3",A=y.__private__.getPdfVersion=function(){return N};y.__private__.setPdfVersion=function(_){N=_};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return E};var C=y.__private__.getPageFormat=function(_){return E[_]};a=a||"a4";var U="compat",F="advanced",q=U;function z(){this.saveGraphicsState(),P(new mt(Tt,0,0,-Tt,0,Aa()*Tt).toString()+" cm"),this.setFontSize(this.getFontSize()/Tt),d="n",q=F}function $(){this.restoreGraphicsState(),d="S",q=U}var Y=y.__private__.combineFontStyleAndFontWeight=function(_,I){if(_=="bold"&&I=="normal"||_=="bold"&&I==400||_=="normal"&&I=="italic"||_=="bold"&&I=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return I&&(_=I==400||I==="normal"?_==="italic"?"italic":"normal":I!=700&&I!=="bold"||_!=="normal"?(I==700?"bold":I)+""+_:"bold"),_};y.advancedAPI=function(_){var I=q===U;return I&&z.call(this),typeof _!="function"||(_(this),I&&$.call(this)),this},y.compatAPI=function(_){var I=q===F;return I&&$.call(this),typeof _!="function"||(_(this),I&&z.call(this)),this},y.isAdvancedAPI=function(){return q===F};var D,R=function(_){if(q!==F)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=y.roundToPrecision=y.__private__.roundToPrecision=function(_,I){var le=e||I;if(isNaN(_)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(le).replace(/0+$/,"")};D=y.hpf=y.__private__.hpf=typeof f=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(_,f)}:f==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(_,16)};var O=y.f2=y.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return Z(_,2)},j=y.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return Z(_,3)},V=y.scale=y.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return q===U?_*Tt:q===F?_:void 0},J=function(_){return V((function(I){return q===U?Aa()-I:q===F?I:void 0})(_))};y.__private__.setPrecision=y.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var ue,ee="00000000000000000000000000000000",ie=y.__private__.getFileId=function(){return ee},ce=y.__private__.setFileId=function(_){return ee=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Di=new lh(m.userPermissions,m.userPassword,m.ownerPassword,ee)),ee};y.setFileId=function(_){return ce(_),this},y.getFileId=function(){return ie()};var he=y.__private__.convertDateToPDFDate=function(_){var I=_.getTimezoneOffset(),le=I<0?"+":"-",ge=Math.floor(Math.abs(I/60)),Se=Math.abs(I%60),Pe=[le,Q(ge),"'",Q(Se),"'"].join("");return["D:",_.getFullYear(),Q(_.getMonth()+1),Q(_.getDate()),Q(_.getHours()),Q(_.getMinutes()),Q(_.getSeconds()),Pe].join("")},we=y.__private__.convertPDFDateToDate=function(_){var I=parseInt(_.substr(2,4),10),le=parseInt(_.substr(6,2),10)-1,ge=parseInt(_.substr(8,2),10),Se=parseInt(_.substr(10,2),10),Pe=parseInt(_.substr(12,2),10),Ze=parseInt(_.substr(14,2),10);return new Date(I,le,ge,Se,Pe,Ze,0)},X=y.__private__.setCreationDate=function(_){var I;if(_===void 0&&(_=new Date),_ instanceof Date)I=he(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");I=_}return ue=I},T=y.__private__.getCreationDate=function(_){var I=ue;return _==="jsDate"&&(I=we(ue)),I};y.setCreationDate=function(_){return X(_),this},y.getCreationDate=function(_){return T(_)};var H,Q=y.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},re=y.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ae=0,me=[],de=[],_e=0,ve=[],Ie=[],He=!1,Ge=de;y.__private__.setCustomOutputDestination=function(_){He=!0,Ge=_};var Qe=function(_){He||(Ge=_)};y.__private__.resetCustomOutputDestination=function(){He=!1,Ge=de};var P=y.__private__.out=function(_){return _=_.toString(),_e+=_.length+1,Ge.push(_),Ge},je=y.__private__.write=function(_){return P(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},ct=y.__private__.getArrayBuffer=function(_){for(var I=_.length,le=new ArrayBuffer(I),ge=new Uint8Array(le);I--;)ge[I]=_.charCodeAt(I);return le},tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return tt};var De=i.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(_){return De=q===F?_/Tt:_,this};var et,nt=y.__private__.getFontSize=y.getFontSize=function(){return q===U?De:De*Tt},ht=i.R2L||!1;y.__private__.setR2L=y.setR2L=function(_){return ht=_,this},y.__private__.getR2L=y.getR2L=function(){return ht};var ut,Ot=y.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))et=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');et=_}else et=parseInt(_,10)};y.__private__.getZoomMode=function(){return et};var We,$e=y.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');ut=_};y.__private__.getPageMode=function(){return ut};var ot=y.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');We=_};y.__private__.getLayoutMode=function(){return We},y.__private__.setDisplayMode=y.setDisplayMode=function(_,I,le){return Ot(_),ot(I),$e(le),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(_){if(Object.keys(gt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[_]},y.__private__.getDocumentProperties=function(){return gt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(_){for(var I in gt)gt.hasOwnProperty(I)&&_[I]&&(gt[I]=_[I]);return this},y.__private__.setDocumentProperty=function(_,I){if(Object.keys(gt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[_]=I};var rt,Tt,lt,Ht,Dt,vt={},At={},Ft=[],St={},Oe={},Le={},Fe={},pt=null,it=0,Ke=[],at=new fb(y),Jt=i.hotfixes||[],Qt={},pn={},mn=[],mt=function _(I,le,ge,Se,Pe,Ze){if(!(this instanceof _))return new _(I,le,ge,Se,Pe,Ze);isNaN(I)&&(I=1),isNaN(le)&&(le=0),isNaN(ge)&&(ge=0),isNaN(Se)&&(Se=1),isNaN(Pe)&&(Pe=0),isNaN(Ze)&&(Ze=0),this._matrix=[I,le,ge,Se,Pe,Ze]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(_)},mt.prototype.multiply=function(_){var I=_.sx*this.sx+_.shy*this.shx,le=_.sx*this.shy+_.shy*this.sy,ge=_.shx*this.sx+_.sy*this.shx,Se=_.shx*this.shy+_.sy*this.sy,Pe=_.tx*this.sx+_.ty*this.shx+this.tx,Ze=_.tx*this.shy+_.ty*this.sy+this.ty;return new mt(I,le,ge,Se,Pe,Ze)},mt.prototype.decompose=function(){var _=this.sx,I=this.shy,le=this.shx,ge=this.sy,Se=this.tx,Pe=this.ty,Ze=Math.sqrt(_*_+I*I),bt=(_/=Ze)*le+(I/=Ze)*ge;le-=_*bt,ge-=I*bt;var Nt=Math.sqrt(le*le+ge*ge);return bt/=Nt,_*(ge/=Nt)<I*(le/=Nt)&&(_=-_,I=-I,bt=-bt,Ze=-Ze),{scale:new mt(Ze,0,0,Nt,0,0),translate:new mt(1,0,0,1,Se,Pe),rotate:new mt(_,I,-I,_,0,0),skew:new mt(1,0,bt,1,0,0)}},mt.prototype.toString=function(_){return this.join(" ")},mt.prototype.inversed=function(){var _=this.sx,I=this.shy,le=this.shx,ge=this.sy,Se=this.tx,Pe=this.ty,Ze=1/(_*ge-I*le),bt=ge*Ze,Nt=-I*Ze,zt=-le*Ze,Gt=_*Ze;return new mt(bt,Nt,zt,Gt,-bt*Se-zt*Pe,-Nt*Se-Gt*Pe)},mt.prototype.applyToPoint=function(_){var I=_.x*this.sx+_.y*this.shx+this.tx,le=_.x*this.shy+_.y*this.sy+this.ty;return new is(I,le)},mt.prototype.applyToRectangle=function(_){var I=this.applyToPoint(_),le=this.applyToPoint(new is(_.x+_.w,_.y+_.h));return new ba(I.x,I.y,le.x-I.x,le.y-I.y)},mt.prototype.clone=function(){var _=this.sx,I=this.shy,le=this.shx,ge=this.sy,Se=this.tx,Pe=this.ty;return new mt(_,I,le,ge,Se,Pe)},y.Matrix=mt;var an=y.matrixMult=function(_,I){return I.multiply(_)},zn=new mt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=zn;var gn=function(_,I){if(!Oe[_]){var le=(I instanceof Qc?"Sh":"P")+(Object.keys(St).length+1).toString(10);I.id=le,Oe[_]=le,St[le]=I,at.publish("addPattern",I)}};y.ShadingPattern=Qc,y.TilingPattern=mh,y.addShadingPattern=function(_,I){return R("addShadingPattern()"),gn(_,I),this},y.beginTilingPattern=function(_){R("beginTilingPattern()"),qo(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},y.endTilingPattern=function(_,I){R("endTilingPattern()"),I.stream=Ie[H].join(`
`),gn(_,I),at.publish("endTilingPattern",I),mn.pop().restore()};var Dn,tn=y.__private__.newObject=function(){var _=vn();return Cn(_,!0),_},vn=y.__private__.newObjectDeferred=function(){return ae++,me[ae]=function(){return _e},ae},Cn=function(_,I){return I=typeof I=="boolean"&&I,me[_]=_e,I&&P(_+" 0 obj"),_},yr=y.__private__.newAdditionalObject=function(){var _={objId:vn(),content:""};return ve.push(_),_},ui=vn(),Tn=vn(),qn=y.__private__.decodeColorString=function(_){var I=_.split(" ");if(I.length!==2||I[1]!=="g"&&I[1]!=="G")I.length!==5||I[4]!=="k"&&I[4]!=="K"||(I=[(1-I[0])*(1-I[3]),(1-I[1])*(1-I[3]),(1-I[2])*(1-I[3]),"r"]);else{var le=parseFloat(I[0]);I=[le,le,le,"r"]}for(var ge="#",Se=0;Se<3;Se++)ge+=("0"+Math.floor(255*parseFloat(I[Se])).toString(16)).slice(-2);return ge},Pi=y.__private__.encodeColorString=function(_){var I;typeof _=="string"&&(_={ch1:_});var le=_.ch1,ge=_.ch2,Se=_.ch3,Pe=_.ch4,Ze=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var bt=new cw(le);if(bt.ok)le=bt.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var Nt=parseInt(le.substr(1),16);le=Nt>>16&255,ge=Nt>>8&255,Se=255&Nt}if(ge===void 0||Pe===void 0&&le===ge&&ge===Se)I=typeof le=="string"?le+" "+Ze[0]:_.precision===2?O(le/255)+" "+Ze[0]:j(le/255)+" "+Ze[0];else if(Pe===void 0||Bn(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return["1.","1.","1.",Ze[1]].join(" ");I=typeof le=="string"?[le,ge,Se,Ze[1]].join(" "):_.precision===2?[O(le/255),O(ge/255),O(Se/255),Ze[1]].join(" "):[j(le/255),j(ge/255),j(Se/255),Ze[1]].join(" ")}else I=typeof le=="string"?[le,ge,Se,Pe,Ze[2]].join(" "):_.precision===2?[O(le),O(ge),O(Se),O(Pe),Ze[2]].join(" "):[j(le),j(ge),j(Se),j(Pe),Ze[2]].join(" ");return I},lr=y.__private__.getFilters=function(){return h},br=y.__private__.putStream=function(_){var I=(_=_||{}).data||"",le=_.filters||lr(),ge=_.alreadyAppliedFilters||[],Se=_.addLength1||!1,Pe=I.length,Ze=_.objectId,bt=function(ji){return ji};if(m!==null&&Ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(bt=Di.encryptor(Ze,0));var Nt={};le===!0&&(le=["FlateEncode"]);var zt=_.additionalKeyValues||[],Gt=(Nt=Et.API.processDataByFilters!==void 0?Et.API.processDataByFilters(I,le):{data:I,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Nt.data.length!==0&&(zt.push({key:"Length",value:Nt.data.length}),Se===!0&&zt.push({key:"Length1",value:Pe})),Gt.length!=0)if(Gt.split("/").length-1==1)zt.push({key:"Filter",value:Gt});else{zt.push({key:"Filter",value:"["+Gt+"]"});for(var un=0;un<zt.length;un+=1)if(zt[un].key==="DecodeParms"){for(var ti=[],yi=0;yi<Nt.reverseChain.split("/").length-1;yi+=1)ti.push("null");ti.push(zt[un].value),zt[un].value="["+ti.join(" ")+"]"}}P("<<");for(var Fn=0;Fn<zt.length;Fn++)P("/"+zt[Fn].key+" "+zt[Fn].value);P(">>"),Nt.data.length!==0&&(P("stream"),P(bt(Nt.data)),P("endstream"))},ma=y.__private__.putPage=function(_){var I=_.number,le=_.data,ge=_.objId,Se=_.contentsObjId;Cn(ge,!0),P("<</Type /Page"),P("/Parent "+_.rootDictionaryObjId+" 0 R"),P("/Resources "+_.resourceDictionaryObjId+" 0 R"),P("/MediaBox ["+parseFloat(D(_.mediaBox.bottomLeftX))+" "+parseFloat(D(_.mediaBox.bottomLeftY))+" "+D(_.mediaBox.topRightX)+" "+D(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&P("/CropBox ["+D(_.cropBox.bottomLeftX)+" "+D(_.cropBox.bottomLeftY)+" "+D(_.cropBox.topRightX)+" "+D(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&P("/BleedBox ["+D(_.bleedBox.bottomLeftX)+" "+D(_.bleedBox.bottomLeftY)+" "+D(_.bleedBox.topRightX)+" "+D(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&P("/TrimBox ["+D(_.trimBox.bottomLeftX)+" "+D(_.trimBox.bottomLeftY)+" "+D(_.trimBox.topRightX)+" "+D(_.trimBox.topRightY)+"]"),_.artBox!==null&&P("/ArtBox ["+D(_.artBox.bottomLeftX)+" "+D(_.artBox.bottomLeftY)+" "+D(_.artBox.topRightX)+" "+D(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&P("/UserUnit "+_.userUnit),at.publish("putPage",{objId:ge,pageContext:Ke[I],pageNumber:I,page:le}),P("/Contents "+Se+" 0 R"),P(">>"),P("endobj");var Pe=le.join(`
`);return q===F&&(Pe+=`
Q`),Cn(Se,!0),br({data:Pe,filters:lr(),objectId:Se}),P("endobj"),ge},Pr=y.__private__.putPages=function(){var _,I,le=[];for(_=1;_<=it;_++)Ke[_].objId=vn(),Ke[_].contentsObjId=vn();for(_=1;_<=it;_++)le.push(ma({number:_,data:Ie[_],objId:Ke[_].objId,contentsObjId:Ke[_].contentsObjId,mediaBox:Ke[_].mediaBox,cropBox:Ke[_].cropBox,bleedBox:Ke[_].bleedBox,trimBox:Ke[_].trimBox,artBox:Ke[_].artBox,userUnit:Ke[_].userUnit,rootDictionaryObjId:ui,resourceDictionaryObjId:Tn}));Cn(ui,!0),P("<</Type /Pages");var ge="/Kids [";for(I=0;I<it;I++)ge+=le[I]+" 0 R ";P(ge+"]"),P("/Count "+it),P(">>"),P("endobj"),at.publish("postPutPages")},Ur=function(_){at.publish("putFont",{font:_,out:P,newObject:tn,putStream:br}),_.isAlreadyPutted!==!0&&(_.objectNumber=tn(),P("<<"),P("/Type /Font"),P("/BaseFont /"+ch(_.postScriptName)),P("/Subtype /Type1"),typeof _.encoding=="string"&&P("/Encoding /"+_.encoding),P("/FirstChar 32"),P("/LastChar 255"),P(">>"),P("endobj"))},Ys=function(_){_.objectNumber=tn();var I=[];I.push({key:"Type",value:"/XObject"}),I.push({key:"Subtype",value:"/Form"}),I.push({key:"BBox",value:"["+[D(_.x),D(_.y),D(_.x+_.width),D(_.y+_.height)].join(" ")+"]"}),I.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var le=_.pages[1].join(`
`);br({data:le,additionalKeyValues:I,objectId:_.objectNumber}),P("endobj")},Vr=function(_,I){I||(I=21);var le=tn(),ge=(function(Ze,bt){var Nt,zt=[],Gt=1/(bt-1);for(Nt=0;Nt<1;Nt+=Gt)zt.push(Nt);if(zt.push(1),Ze[0].offset!=0){var un={offset:0,color:Ze[0].color};Ze.unshift(un)}if(Ze[Ze.length-1].offset!=1){var ti={offset:1,color:Ze[Ze.length-1].color};Ze.push(ti)}for(var yi="",Fn=0,ji=0;ji<zt.length;ji++){for(Nt=zt[ji];Nt>Ze[Fn+1].offset;)Fn++;var Ai=Ze[Fn].offset,$i=(Nt-Ai)/(Ze[Fn+1].offset-Ai),Na=Ze[Fn].color,Os=Ze[Fn+1].color;yi+=re(Math.round((1-$i)*Na[0]+$i*Os[0]).toString(16))+re(Math.round((1-$i)*Na[1]+$i*Os[1]).toString(16))+re(Math.round((1-$i)*Na[2]+$i*Os[2]).toString(16))}return yi.trim()})(_.colors,I),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+I+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),br({data:ge,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),P("endobj"),_.objectNumber=tn(),P("<< /ShadingType "+_.type),P("/ColorSpace /DeviceRGB");var Pe="/Coords ["+D(parseFloat(_.coords[0]))+" "+D(parseFloat(_.coords[1]))+" ";_.type===2?Pe+=D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3])):Pe+=D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3]))+" "+D(parseFloat(_.coords[4]))+" "+D(parseFloat(_.coords[5])),P(Pe+="]"),_.matrix&&P("/Matrix ["+_.matrix.toString()+"]"),P("/Function "+le+" 0 R"),P("/Extend [true true]"),P(">>"),P("endobj")},Ns=function(_,I){var le=vn(),ge=tn();I.push({resourcesOid:le,objectOid:ge}),_.objectNumber=ge;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+_.boundingBox.map(D).join(" ")+"]"}),Se.push({key:"XStep",value:D(_.xStep)}),Se.push({key:"YStep",value:D(_.yStep)}),Se.push({key:"Resources",value:le+" 0 R"}),_.matrix&&Se.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),br({data:_.stream,additionalKeyValues:Se,objectId:_.objectNumber}),P("endobj")},jo=function(_){for(var I in _.objectNumber=tn(),P("<<"),_)switch(I){case"opacity":P("/ca "+O(_[I]));break;case"stroke-opacity":P("/CA "+O(_[I]))}P(">>"),P("endobj")},Ws=function(_){Cn(_.resourcesOid,!0),P("<<"),P("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var I in P("/Font <<"),vt)vt.hasOwnProperty(I)&&(x===!1||x===!0&&w.hasOwnProperty(I))&&P("/"+I+" "+vt[I].objectNumber+" 0 R");P(">>")})(),(function(){if(Object.keys(St).length>0){for(var I in P("/Shading <<"),St)St.hasOwnProperty(I)&&St[I]instanceof Qc&&St[I].objectNumber>=0&&P("/"+I+" "+St[I].objectNumber+" 0 R");at.publish("putShadingPatternDict"),P(">>")}})(),(function(I){if(Object.keys(St).length>0){for(var le in P("/Pattern <<"),St)St.hasOwnProperty(le)&&St[le]instanceof y.TilingPattern&&St[le].objectNumber>=0&&St[le].objectNumber<I&&P("/"+le+" "+St[le].objectNumber+" 0 R");at.publish("putTilingPatternDict"),P(">>")}})(_.objectOid),(function(){if(Object.keys(Le).length>0){var I;for(I in P("/ExtGState <<"),Le)Le.hasOwnProperty(I)&&Le[I].objectNumber>=0&&P("/"+I+" "+Le[I].objectNumber+" 0 R");at.publish("putGStateDict"),P(">>")}})(),(function(){for(var I in P("/XObject <<"),Qt)Qt.hasOwnProperty(I)&&Qt[I].objectNumber>=0&&P("/"+I+" "+Qt[I].objectNumber+" 0 R");at.publish("putXobjectDict"),P(">>")})(),P(">>"),P("endobj")},vi=function(_){At[_.fontName]=At[_.fontName]||{},At[_.fontName][_.fontStyle]=_.id},gc=function(_,I,le,ge,Se){var Pe={id:"F"+(Object.keys(vt).length+1).toString(10),postScriptName:_,fontName:I,fontStyle:le,encoding:ge,isStandardFont:Se||!1,metadata:{}};return at.publish("addFont",{font:Pe,instance:this}),vt[Pe.id]=Pe,vi(Pe),Pe.id},Hr=y.__private__.pdfEscape=y.pdfEscape=function(_,I){return(function(le,ge){var Se,Pe,Ze,bt,Nt,zt,Gt,un,ti;if(Ze=(ge=ge||{}).sourceEncoding||"Unicode",Nt=ge.outputEncoding,(ge.autoencode||Nt)&&vt[rt].metadata&&vt[rt].metadata[Ze]&&vt[rt].metadata[Ze].encoding&&(bt=vt[rt].metadata[Ze].encoding,!Nt&&vt[rt].encoding&&(Nt=vt[rt].encoding),!Nt&&bt.codePages&&(Nt=bt.codePages[0]),typeof Nt=="string"&&(Nt=bt[Nt]),Nt)){for(Gt=!1,zt=[],Se=0,Pe=le.length;Se<Pe;Se++)(un=Nt[le.charCodeAt(Se)])?zt.push(String.fromCharCode(un)):zt.push(le[Se]),zt[Se].charCodeAt(0)>>8&&(Gt=!0);le=zt.join("")}for(Se=le.length;Gt===void 0&&Se!==0;)le.charCodeAt(Se-1)>>8&&(Gt=!0),Se--;if(!Gt)return le;for(zt=ge.noBOM?[]:[254,255],Se=0,Pe=le.length;Se<Pe;Se++){if((ti=(un=le.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");zt.push(ti),zt.push(un-(ti<<8))}return String.fromCharCode.apply(void 0,zt)})(_,I).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cs=y.__private__.beginPage=function(_){Ie[++it]=[],Ke[it]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},yc(it),Qe(Ie[H])},ga=function(_,I){var le,ge,Se;switch(t=I||t,typeof _=="string"&&(le=C(_.toLowerCase()),Array.isArray(le)&&(ge=le[0],Se=le[1])),Array.isArray(_)&&(ge=_[0]*Tt,Se=_[1]*Tt),isNaN(ge)&&(ge=a[0],Se=a[1]),(ge>14400||Se>14400)&&(Qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Se=Math.min(14400,Se)),a=[ge,Se],t.substr(0,1)){case"l":Se>ge&&(a=[Se,ge]);break;case"p":ge>Se&&(a=[Se,ge])}Cs(a),jt(Io),P(Wr),wl!==0&&P(wl+" J"),Ui!==0&&P(Ui+" j"),at.publish("addPage",{pageNumber:it})},vc=function(_){_>0&&_<=it&&(Ie.splice(_,1),Ke.splice(_,1),it--,H>it&&(H=it),this.setPage(H))},yc=function(_){_>0&&_<=it&&(H=_)},bc=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Ie.length-1},fu=function(_,I,le){var ge,Se=void 0;return le=le||{},_=_!==void 0?_:vt[rt].fontName,I=I!==void 0?I:vt[rt].fontStyle,ge=_.toLowerCase(),At[ge]!==void 0&&At[ge][I]!==void 0?Se=At[ge][I]:At[_]!==void 0&&At[_][I]!==void 0?Se=At[_][I]:le.disableWarning===!1&&Qn.warn("Unable to look up font label for font '"+_+"', '"+I+"'. Refer to getFontList() for available fonts."),Se||le.noFallback||(Se=At.times[I])==null&&(Se=At.times.normal),Se},Gr=y.__private__.putInfo=function(){var _=tn(),I=function(ge){return ge};for(var le in m!==null&&(I=Di.encryptor(_,0)),P("<<"),P("/Producer ("+Hr(I("jsPDF "+Et.version))+")"),gt)gt.hasOwnProperty(le)&&gt[le]&&P("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+Hr(I(gt[le]))+")");P("/CreationDate ("+Hr(I(ue))+")"),P(">>"),P("endobj")},va=y.__private__.putCatalog=function(_){var I=(_=_||{}).rootDictionaryObjId||ui;switch(tn(),P("<<"),P("/Type /Catalog"),P("/Pages "+I+" 0 R"),et||(et="fullwidth"),et){case"fullwidth":P("/OpenAction [3 0 R /FitH null]");break;case"fullheight":P("/OpenAction [3 0 R /FitV null]");break;case"fullpage":P("/OpenAction [3 0 R /Fit]");break;case"original":P("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+et;le.substr(le.length-1)==="%"&&(et=parseInt(et)/100),typeof et=="number"&&P("/OpenAction [3 0 R /XYZ null null "+O(et)+"]")}switch(We||(We="continuous"),We){case"continuous":P("/PageLayout /OneColumn");break;case"single":P("/PageLayout /SinglePage");break;case"two":case"twoleft":P("/PageLayout /TwoColumnLeft");break;case"tworight":P("/PageLayout /TwoColumnRight")}ut&&P("/PageMode /"+ut),at.publish("putCatalog"),P(">>"),P("endobj")},Ts=y.__private__.putTrailer=function(){P("trailer"),P("<<"),P("/Size "+(ae+1)),P("/Root "+ae+" 0 R"),P("/Info "+(ae-1)+" 0 R"),m!==null&&P("/Encrypt "+Di.oid+" 0 R"),P("/ID [ <"+ee+"> <"+ee+"> ]"),P(">>")},Sn=y.__private__.putHeader=function(){P("%PDF-"+N),P("%")},xc=y.__private__.putXRef=function(){var _="0000000000";P("xref"),P("0 "+(ae+1)),P("0000000000 65535 f ");for(var I=1;I<=ae;I++)typeof me[I]=="function"?P((_+me[I]()).slice(-10)+" 00000 n "):me[I]!==void 0?P((_+me[I]).slice(-10)+" 00000 n "):P("0000000000 00000 n ")},Xs=y.__private__.buildDocument=function(){var _;ae=0,_e=0,de=[],me=[],ve=[],ui=vn(),Tn=vn(),Qe(de),at.publish("buildDocument"),Sn(),Pr(),(function(){at.publish("putAdditionalObjects");for(var le=0;le<ve.length;le++){var ge=ve[le];Cn(ge.objId,!0),P(ge.content),P("endobj")}at.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var le in vt)vt.hasOwnProperty(le)&&(x===!1||x===!0&&w.hasOwnProperty(le))&&Ur(vt[le])})(),(function(){var le;for(le in Le)Le.hasOwnProperty(le)&&jo(Le[le])})(),(function(){for(var le in Qt)Qt.hasOwnProperty(le)&&Ys(Qt[le])})(),(function(le){var ge;for(ge in St)St.hasOwnProperty(ge)&&(St[ge]instanceof Qc?Vr(St[ge]):St[ge]instanceof mh&&Ns(St[ge],le))})(_),at.publish("putResources"),_.forEach(Ws),Ws({resourcesOid:Tn,objectOid:Number.MAX_SAFE_INTEGER}),at.publish("postPutResources"),m!==null&&(Di.oid=tn(),P("<<"),P("/Filter /Standard"),P("/V "+Di.v),P("/R "+Di.r),P("/U <"+Di.toHexString(Di.U)+">"),P("/O <"+Di.toHexString(Di.O)+">"),P("/P "+Di.P),P(">>"),P("endobj")),Gr(),va();var I=_e;return xc(),Ts(),P("startxref"),P(""+I),P("%%EOF"),Qe(Ie[H]),de.join(`
`)},so=y.__private__.getBlob=function(_){return new Blob([ct(_)],{type:"application/pdf"})},_c=y.output=y.__private__.output=(Dn=function(_,I){switch(typeof(I=I||{})=="string"?I={filename:I}:I.filename=I.filename||"generated.pdf",_){case void 0:return Xs();case"save":y.save(I.filename);break;case"arraybuffer":return ct(Xs());case"blob":return so(Xs());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(so(Xs()))||void 0;Qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",ge=Xs();try{le=cb(ge)}catch{le=cb(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+I.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';I.pdfObjectUrl&&(Se=I.pdfObjectUrl,Pe="");var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(I)+");<\/script></body></html>",bt=Ut.open();return bt!==null&&bt.document.write(Ze),bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(I.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+I.filename+'" width="500px" height="400px" /></body></html>',zt=Ut.open();if(zt!==null){zt.document.write(Nt);var Gt=this;zt.document.documentElement.querySelector("#pdfViewer").onload=function(){zt.document.title=I.filename,zt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Gt.output("bloburl"))}}return zt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",I)+'"></iframe></body></html>',ti=Ut.open();if(ti!==null&&(ti.document.write(un),ti.document.title=I.filename),ti||typeof safari>"u")return ti;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",I);default:return null}},Dn.foo=function(){try{return Dn.apply(this,arguments)}catch(le){var _=le.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var I="Error in function "+_.split(`
`)[0].split("<")[0]+": "+le.message;if(!Ut.console)throw new Error(I);Ut.console.error(I,le),Ut.alert&&alert(I)}},Dn.foo.bar=Dn,Dn.foo),xr=function(_){return Array.isArray(Jt)===!0&&Jt.indexOf(_)>-1};switch(r){case"pt":Tt=1;break;case"mm":Tt=72/25.4;break;case"cm":Tt=72/2.54;break;case"in":Tt=72;break;case"px":Tt=xr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Tt=12;break;case"ex":Tt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Tt=r}var Di=null;X(),ce();var Si=y.__private__.getPageInfo=y.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ke[_].objId,pageNumber:_,pageContext:Ke[_]}},xl=y.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var I in Ke)if(Ke[I].objId===_)break;return Si(I)},du=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Ke[H].objId,pageNumber:H,pageContext:Ke[H]}};y.addPage=function(){return ga.apply(this,arguments),this},y.setPage=function(){return yc.apply(this,arguments),Qe.call(this,Ie[H]),this},y.insertPage=function(_){return this.addPage(),this.movePage(H,_),this},y.movePage=function(_,I){var le,ge;if(_>I){le=Ie[_],ge=Ke[_];for(var Se=_;Se>I;Se--)Ie[Se]=Ie[Se-1],Ke[Se]=Ke[Se-1];Ie[I]=le,Ke[I]=ge,this.setPage(I)}else if(_<I){le=Ie[_],ge=Ke[_];for(var Pe=_;Pe<I;Pe++)Ie[Pe]=Ie[Pe+1],Ke[Pe]=Ke[Pe+1];Ie[I]=le,Ke[I]=ge,this.setPage(I)}return this},y.deletePage=function(){return vc.apply(this,arguments),this},y.__private__.text=y.text=function(_,I,le,ge,Se){var Pe,Ze,bt,Nt,zt,Gt,un,ti,yi,Fn=(ge=ge||{}).scope||this;if(typeof _=="number"&&typeof I=="number"&&(typeof le=="string"||Array.isArray(le))){var ji=le;le=I,I=_,_=ji}if(arguments[3]instanceof mt==0?(bt=arguments[4],Nt=arguments[5],Bn(un=arguments[3])==="object"&&un!==null||(typeof bt=="string"&&(Nt=bt,bt=null),typeof un=="string"&&(Nt=un,un=null),typeof un=="number"&&(bt=un,un=null),ge={flags:un,angle:bt,align:Nt})):(R("The transform parameter of text() with a Matrix value"),yi=Se),isNaN(I)||isNaN(le)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Fn;var Ai,$i="",Na=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:ya,Os=Fn.internal.scaleFactor;function Ca(An){return An=An.split("	").join(Array(ge.TabLen||9).join(" ")),Hr(An,un)}function Oc(An){for(var hn,Pn=An.concat(),xi=[],ra=Pn.length;ra--;)typeof(hn=Pn.shift())=="string"?xi.push(hn):Array.isArray(An)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?xi.push(hn[0]):xi.push([hn[0],hn[1],hn[2]]);return xi}function Al(An,hn){var Pn;if(typeof An=="string")Pn=hn(An)[0];else if(Array.isArray(An)){for(var xi,ra,js=An.concat(),Vo=[],Dc=js.length;Dc--;)typeof(xi=js.shift())=="string"?Vo.push(hn(xi)[0]):Array.isArray(xi)&&typeof xi[0]=="string"&&(ra=hn(xi[0],xi[1],xi[2]),Vo.push([ra[0],ra[1],ra[2]]));Pn=Vo}return Pn}var Qs=!1,Ms=!0;if(typeof _=="string")Qs=!0;else if(Array.isArray(_)){var Po=_.concat();Ze=[];for(var Ta,Vi=Po.length;Vi--;)(typeof(Ta=Po.shift())!="string"||Array.isArray(Ta)&&typeof Ta[0]!="string")&&(Ms=!1);Qs=Ms}if(Qs===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var oo=De/Fn.internal.scaleFactor,lo=oo*(Na-1);switch(ge.baseline){case"bottom":le-=lo;break;case"top":le+=oo-lo;break;case"hanging":le+=oo-2*lo;break;case"middle":le+=oo/2-lo}if((Gt=ge.maxWidth||0)>0&&(typeof _=="string"?_=Fn.splitTextToSize(_,Gt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(An,hn){return An.concat(Fn.splitTextToSize(hn,Gt))},[]))),Pe={text:_,x:I,y:le,options:ge,mutex:{pdfEscape:Hr,activeFontKey:rt,fonts:vt,activeFontSize:De}},at.publish("preProcessText",Pe),_=Pe.text,bt=(ge=Pe.options).angle,yi instanceof mt==0&&bt&&typeof bt=="number"){bt*=Math.PI/180,ge.rotationDirection===0&&(bt=-bt),q===F&&(bt=-bt);var Nl=Math.cos(bt),$s=Math.sin(bt);yi=new mt(Nl,$s,-$s,Nl,0,0)}else bt&&bt instanceof mt&&(yi=bt);q!==F||yi||(yi=zn),(zt=ge.charSpace||ns)!==void 0&&($i+=D(V(zt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ti=ge.horizontalScale)!==void 0&&($i+=D(100*ti)+` Tz
`),ge.lang;var wr=-1,Ea=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,Cl=Fn.internal.getCurrentPageInfo().pageContext;switch(Ea){case 0:case!1:case"fill":wr=0;break;case 1:case!0:case"stroke":wr=1;break;case 2:case"fillThenStroke":wr=2;break;case 3:case"invisible":wr=3;break;case 4:case"fillAndAddForClipping":wr=4;break;case 5:case"strokeAndAddPathForClipping":wr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wr=6;break;case 7:case"addToPathForClipping":wr=7}var Mc=Cl.usedRenderingMode!==void 0?Cl.usedRenderingMode:-1;wr!==-1?$i+=wr+` Tr
`:Mc!==-1&&($i+=`0 Tr
`),wr!==-1&&(Cl.usedRenderingMode=wr),Nt=ge.align||"left";var Xr,Ls=De*Na,ka=Fn.internal.pageSize.getWidth(),Lc=vt[rt];zt=ge.charSpace||ns,Gt=ge.maxWidth||0,un=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var Ds=[],co=function(An){return Fn.getStringUnitWidth(An,{font:Lc,charSpace:zt,fontSize:De,doKerning:!1})*De/Os};if(Object.prototype.toString.call(_)==="[object Array]"){var Lr;Ze=Oc(_),Nt!=="left"&&(Xr=Ze.map(co));var Sr,Js=0;if(Nt==="right"){I-=Xr[0],_=[],Vi=Ze.length;for(var ea=0;ea<Vi;ea++)ea===0?(Sr=Yr(I),Lr=Qi(le)):(Sr=V(Js-Xr[ea]),Lr=-Ls),_.push([Ze[ea],Sr,Lr]),Js=Xr[ea]}else if(Nt==="center"){I-=Xr[0]/2,_=[],Vi=Ze.length;for(var Oa=0;Oa<Vi;Oa++)Oa===0?(Sr=Yr(I),Lr=Qi(le)):(Sr=V((Js-Xr[Oa])/2),Lr=-Ls),_.push([Ze[Oa],Sr,Lr]),Js=Xr[Oa]}else if(Nt==="left"){_=[],Vi=Ze.length;for(var Tl=0;Tl<Vi;Tl++)_.push(Ze[Tl])}else if(Nt==="justify"&&Lc.encoding==="Identity-H"){_=[],Vi=Ze.length,Gt=Gt!==0?Gt:ka;for(var El=0,bi=0;bi<Vi;bi++)if(Lr=bi===0?Qi(le):-Ls,Sr=bi===0?Yr(I):El,bi<Vi-1){var wu=V((Gt-Xr[bi])/(Ze[bi].split(" ").length-1)),ta=Ze[bi].split(" ");_.push([ta[0]+" ",Sr,Lr]),El=0;for(var na=1;na<ta.length;na++){var Ji=(co(ta[na-1]+" "+ta[na])-co(ta[na]))*Os+wu;na==ta.length-1?_.push([ta[na],Ji,0]):_.push([ta[na]+" ",Ji,0]),El-=Ji}}else _.push([Ze[bi],Sr,Lr]);_.push(["",El,0])}else{if(Nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Vi=Ze.length,Gt=Gt!==0?Gt:ka,bi=0;bi<Vi;bi++){Lr=bi===0?Qi(le):-Ls,Sr=bi===0?Yr(I):0;var Ma=Ze[bi].split(" ").length-1,kl=Ma>0?(Gt-Xr[bi])/Ma:0;bi<Vi-1?Ds.push(D(V(kl))):Ds.push(0),_.push([Ze[bi],Sr,Lr])}}}(typeof ge.R2L=="boolean"?ge.R2L:ht)===!0&&(_=Al(_,function(An,hn,Pn){return[An.split("").reverse().join(""),hn,Pn]})),Pe={text:_,x:I,y:le,options:ge,mutex:{pdfEscape:Hr,activeFontKey:rt,fonts:vt,activeFontSize:De}},at.publish("postProcessText",Pe),_=Pe.text,Ai=Pe.mutex.isHex||!1;var Ol=vt[rt].encoding;Ol!=="WinAnsiEncoding"&&Ol!=="StandardEncoding"||(_=Al(_,function(An,hn,Pn){return[Ca(An),hn,Pn]})),Ze=Oc(_),_=[];for(var La,Da,ia,Uo=Array.isArray(Ze[0])?1:0,Zr="",ja=function(An,hn,Pn){var xi="";return Pn instanceof mt?(Pn=typeof ge.angle=="number"?an(Pn,new mt(1,0,0,1,An,hn)):an(new mt(1,0,0,1,An,hn),Pn),q===F&&(Pn=an(new mt(1,0,0,-1,0,0),Pn)),xi=Pn.join(" ")+` Tm
`):xi=D(An)+" "+D(hn)+` Td
`,xi},cr=0;cr<Ze.length;cr++){switch(Zr="",Uo){case 1:ia=(Ai?"<":"(")+Ze[cr][0]+(Ai?">":")"),La=parseFloat(Ze[cr][1]),Da=parseFloat(Ze[cr][2]);break;case 0:ia=(Ai?"<":"(")+Ze[cr]+(Ai?">":")"),La=Yr(I),Da=Qi(le)}Ds!==void 0&&Ds[cr]!==void 0&&(Zr=Ds[cr]+` Tw
`),cr===0?_.push(Zr+ja(La,Da,yi)+ia):Uo===0?_.push(Zr+ia):Uo===1&&_.push(Zr+ja(La,Da,yi)+ia)}_=Uo===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var rs=`BT
/`;return rs+=rt+" "+De+` Tf
`,rs+=D(De*Na)+` TL
`,rs+=Zs+`
`,rs+=$i,rs+=_,P(rs+="ET"),w[rt]=!0,Fn};var wc=y.__private__.clip=y.clip=function(_){return P(_==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return wc("evenodd")},y.__private__.discardPath=y.discardPath=function(){return P("n"),this};var _r=y.__private__.isValidStyle=function(_){var I=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(I=!0),I};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(_){return _r(_)&&(d=_),this};var Sc=y.__private__.getStyle=y.getStyle=function(_){var I=d;switch(_){case"D":case"S":I="S";break;case"F":I="f";break;case"FD":case"DF":I="B";break;case"f":case"f*":case"B":case"B*":I=_}return I},Ac=y.close=function(){return P("h"),this};y.stroke=function(){return P("S"),this},y.fill=function(_){return Es("f",_),this},y.fillEvenOdd=function(_){return Es("f*",_),this},y.fillStroke=function(_){return Es("B",_),this},y.fillStrokeEvenOdd=function(_){return Es("B*",_),this};var Es=function(_,I){Bn(I)==="object"?mu(I,_):P(_)},Ro=function(_){_===null||q===F&&_===void 0||(_=Sc(_),P(_))};function pu(_,I,le,ge,Se){var Pe=new mh(I||this.boundingBox,le||this.xStep,ge||this.yStep,this.gState,Se||this.matrix);Pe.stream=this.stream;var Ze=_+"$$"+this.cloneIndex+++"$$";return gn(Ze,Pe),Pe}var mu=function(_,I){var le=Oe[_.key],ge=St[le];if(ge instanceof Qc)P("q"),P(Nc(I)),ge.gState&&y.setGState(ge.gState),P(_.matrix.toString()+" cm"),P("/"+le+" sh"),P("Q");else if(ge instanceof mh){var Se=new mt(1,0,0,-1,0,Aa());_.matrix&&(Se=Se.multiply(_.matrix||zn),le=pu.call(ge,_.key,_.boundingBox,_.xStep,_.yStep,Se).id),P("q"),P("/Pattern cs"),P("/"+le+" scn"),ge.gState&&y.setGState(ge.gState),P(I),P("Q")}},Nc=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cc=y.moveTo=function(_,I){return P(D(V(_))+" "+D(J(I))+" m"),this},gu=y.lineTo=function(_,I){return P(D(V(_))+" "+D(J(I))+" l"),this},Mr=y.curveTo=function(_,I,le,ge,Se,Pe){return P([D(V(_)),D(J(I)),D(V(le)),D(J(ge)),D(V(Se)),D(J(Pe)),"c"].join(" ")),this};y.__private__.line=y.line=function(_,I,le,ge,Se){if(isNaN(_)||isNaN(I)||isNaN(le)||isNaN(ge)||!_r(Se))throw new Error("Invalid arguments passed to jsPDF.line");return q===U?this.lines([[le-_,ge-I]],_,I,[1,1],Se||"S"):this.lines([[le-_,ge-I]],_,I,[1,1]).stroke()},y.__private__.lines=y.lines=function(_,I,le,ge,Se,Pe){var Ze,bt,Nt,zt,Gt,un,ti,yi,Fn,ji,Ai,$i;if(typeof _=="number"&&($i=le,le=I,I=_,_=$i),ge=ge||[1,1],Pe=Pe||!1,isNaN(I)||isNaN(le)||!Array.isArray(_)||!Array.isArray(ge)||!_r(Se)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cc(I,le),Ze=ge[0],bt=ge[1],zt=_.length,ji=I,Ai=le,Nt=0;Nt<zt;Nt++)(Gt=_[Nt]).length===2?(ji=Gt[0]*Ze+ji,Ai=Gt[1]*bt+Ai,gu(ji,Ai)):(un=Gt[0]*Ze+ji,ti=Gt[1]*bt+Ai,yi=Gt[2]*Ze+ji,Fn=Gt[3]*bt+Ai,ji=Gt[4]*Ze+ji,Ai=Gt[5]*bt+Ai,Mr(un,ti,yi,Fn,ji,Ai));return Pe&&Ac(),Ro(Se),this},y.path=function(_){for(var I=0;I<_.length;I++){var le=_[I],ge=le.c;switch(le.op){case"m":Cc(ge[0],ge[1]);break;case"l":gu(ge[0],ge[1]);break;case"c":Mr.apply(this,ge);break;case"h":Ac()}}return this},y.__private__.rect=y.rect=function(_,I,le,ge,Se){if(isNaN(_)||isNaN(I)||isNaN(le)||isNaN(ge)||!_r(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return q===U&&(ge=-ge),P([D(V(_)),D(J(I)),D(V(le)),D(V(ge)),"re"].join(" ")),Ro(Se),this},y.__private__.triangle=y.triangle=function(_,I,le,ge,Se,Pe,Ze){if(isNaN(_)||isNaN(I)||isNaN(le)||isNaN(ge)||isNaN(Se)||isNaN(Pe)||!_r(Ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-_,ge-I],[Se-le,Pe-ge],[_-Se,I-Pe]],_,I,[1,1],Ze,!0),this},y.__private__.roundedRect=y.roundedRect=function(_,I,le,ge,Se,Pe,Ze){if(isNaN(_)||isNaN(I)||isNaN(le)||isNaN(ge)||isNaN(Se)||isNaN(Pe)||!_r(Ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var bt=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*le),Pe=Math.min(Pe,.5*ge),this.lines([[le-2*Se,0],[Se*bt,0,Se,Pe-Pe*bt,Se,Pe],[0,ge-2*Pe],[0,Pe*bt,-Se*bt,Pe,-Se,Pe],[2*Se-le,0],[-Se*bt,0,-Se,-Pe*bt,-Se,-Pe],[0,2*Pe-ge],[0,-Pe*bt,Se*bt,-Pe,Se,-Pe]],_+Se,I,[1,1],Ze,!0),this},y.__private__.ellipse=y.ellipse=function(_,I,le,ge,Se){if(isNaN(_)||isNaN(I)||isNaN(le)||isNaN(ge)||!_r(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*le,Ze=4/3*(Math.SQRT2-1)*ge;return Cc(_+le,I),Mr(_+le,I-Ze,_+Pe,I-ge,_,I-ge),Mr(_-Pe,I-ge,_-le,I-Ze,_-le,I),Mr(_-le,I+Ze,_-Pe,I+ge,_,I+ge),Mr(_+Pe,I+ge,_+le,I+Ze,_+le,I),Ro(Se),this},y.__private__.circle=y.circle=function(_,I,le,ge){if(isNaN(_)||isNaN(I)||isNaN(le)||!_r(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,I,le,le,ge)},y.setFont=function(_,I,le){return le&&(I=Y(I,le)),rt=fu(_,I,{disableWarning:!1}),this};var ks=y.__private__.getFont=y.getFont=function(){return vt[fu.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var _,I,le={};for(_ in At)if(At.hasOwnProperty(_))for(I in le[_]=[],At[_])At[_].hasOwnProperty(I)&&le[_].push(I);return le},y.addFont=function(_,I,le,ge,Se){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(le=Y(le,ge)),gc.call(this,_,I,le,Se=Se||"Identity-H")};var ya,Io=i.lineWidth||.200025,ao=y.__private__.getLineWidth=y.getLineWidth=function(){return Io},jt=y.__private__.setLineWidth=y.setLineWidth=function(_){return Io=_,P(D(V(_))+" w"),this};y.__private__.setLineDash=Et.API.setLineDash=Et.API.setLineDashPattern=function(_,I){if(_=_||[],I=I||0,isNaN(I)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(le){return D(V(le))}).join(" "),I=D(V(I)),P("["+_+"] "+I+" d"),this};var vu=y.__private__.getLineHeight=y.getLineHeight=function(){return De*ya};y.__private__.getLineHeight=y.getLineHeight=function(){return De*ya};var Tc=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(ya=_),this},yu=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return ya};Tc(i.lineHeight);var Yr=y.__private__.getHorizontalCoordinate=function(_){return V(_)},Qi=y.__private__.getVerticalCoordinate=function(_){return q===F?_:Ke[H].mediaBox.topRightY-Ke[H].mediaBox.bottomLeftY-V(_)},Ec=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(_){return D(Yr(_))},Bo=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(_){return D(Qi(_))},Wr=i.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return qn(Wr)},y.__private__.setStrokeColor=y.setDrawColor=function(_,I,le,ge){return Wr=Pi({ch1:_,ch2:I,ch3:le,ch4:ge,pdfColorType:"draw",precision:2}),P(Wr),this};var zo=i.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return qn(zo)},y.__private__.setFillColor=y.setFillColor=function(_,I,le,ge){return zo=Pi({ch1:_,ch2:I,ch3:le,ch4:ge,pdfColorType:"fill",precision:2}),P(zo),this};var Zs=i.textColor||"0 g",bu=y.__private__.getTextColor=y.getTextColor=function(){return qn(Zs)};y.__private__.setTextColor=y.setTextColor=function(_,I,le,ge){return Zs=Pi({ch1:_,ch2:I,ch3:le,ch4:ge,pdfColorType:"text",precision:3}),this};var ns=i.charSpace,_l=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(ns||0)};y.__private__.setCharSpace=y.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ns=_,this};var wl=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(_){var I=y.CapJoinStyles[_];if(I===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wl=I,P(I+" J"),this};var Ui=0;y.__private__.setLineJoin=y.setLineJoin=function(_){var I=y.CapJoinStyles[_];if(I===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ui=I,P(I+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return P(D(V(_))+" M"),this},y.GState=Jp,y.setGState=function(_){(_=typeof _=="string"?Le[Fe[_]]:Ks(null,_)).equals(pt)||(P("/"+_.id+" gs"),pt=_)};var Ks=function(_,I){if(!_||!Fe[_]){var le=!1;for(var ge in Le)if(Le.hasOwnProperty(ge)&&Le[ge].equals(I)){le=!0;break}if(le)I=Le[ge];else{var Se="GS"+(Object.keys(Le).length+1).toString(10);Le[Se]=I,I.id=Se}return _&&(Fe[_]=I.id),at.publish("addGState",I),I}};y.addGState=function(_,I){return Ks(_,I),this},y.saveGraphicsState=function(){return P("q"),Ft.push({key:rt,size:De,color:Zs}),this},y.restoreGraphicsState=function(){P("Q");var _=Ft.pop();return rt=_.key,De=_.size,Zs=_.color,pt=null,this},y.setCurrentTransformationMatrix=function(_){return P(_.toString()+" cm"),this},y.comment=function(_){return P("#"+_),this};var is=function(_,I){var le=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Pe){isNaN(Pe)||(le=parseFloat(Pe))}});var ge=I||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(Pe){isNaN(Pe)||(ge=parseFloat(Pe))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Pe){Se=Pe.toString()}}),this},ba=function(_,I,le,ge){is.call(this,_,I),this.type="rect";var Se=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Ze){isNaN(Ze)||(Se=parseFloat(Ze))}});var Pe=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Ze){isNaN(Ze)||(Pe=parseFloat(Ze))}}),this},Sl=function(){this.page=it,this.currentPage=H,this.pages=Ie.slice(0),this.pagesContext=Ke.slice(0),this.x=lt,this.y=Ht,this.matrix=Dt,this.width=_a(H),this.height=kc(H),this.outputDestination=Ge,this.id="",this.objectNumber=-1};Sl.prototype.restore=function(){it=this.page,H=this.currentPage,Ke=this.pagesContext,Ie=this.pages,lt=this.x,Ht=this.y,Dt=this.matrix,Fo(H,this.width),wa(H,this.height),Ge=this.outputDestination};var qo=function(_,I,le,ge,Se){mn.push(new Sl),it=H=0,Ie=[],lt=_,Ht=I,Dt=Se,Cs([le,ge])};for(var xa in y.beginFormObject=function(_,I,le,ge,Se){return qo(_,I,le,ge,Se),this},y.endFormObject=function(_){return(function(I){if(pn[I])mn.pop().restore();else{var le=new Sl,ge="Xo"+(Object.keys(Qt).length+1).toString(10);le.id=ge,pn[I]=ge,Qt[ge]=le,at.publish("addFormObject",le),mn.pop().restore()}})(_),this},y.doFormObject=function(_,I){var le=Qt[pn[_]];return P("q"),P(I.toString()+" cm"),P("/"+le.id+" Do"),P("Q"),this},y.getFormObject=function(_){var I=Qt[pn[_]];return{x:I.x,y:I.y,width:I.width,height:I.height,matrix:I.matrix}},y.save=function(_,I){return _=_||"generated.pdf",(I=I||{}).returnPromise=I.returnPromise||!1,I.returnPromise===!1?(Zc(so(Xs()),_),typeof Zc.unload=="function"&&Ut.setTimeout&&setTimeout(Zc.unload,911),this):new Promise(function(le,ge){try{var Se=Zc(so(Xs()),_);typeof Zc.unload=="function"&&Ut.setTimeout&&setTimeout(Zc.unload,911),le(Se)}catch(Pe){ge(Pe.message)}})},Et.API)Et.API.hasOwnProperty(xa)&&(xa==="events"&&Et.API.events.length?(function(_,I){var le,ge,Se;for(Se=I.length-1;Se!==-1;Se--)le=I[Se][0],ge=I[Se][1],_.subscribe.apply(_,[le].concat(typeof ge=="function"?[ge]:ge))})(at,Et.API.events):y[xa]=Et.API[xa]);function _a(_){return Ke[_].mediaBox.topRightX-Ke[_].mediaBox.bottomLeftX}function Fo(_,I){Ke[_].mediaBox.topRightX=I+Ke[_].mediaBox.bottomLeftX}function kc(_){return Ke[_].mediaBox.topRightY-Ke[_].mediaBox.bottomLeftY}function wa(_,I){Ke[_].mediaBox.topRightY=I+Ke[_].mediaBox.bottomLeftY}var Sa=y.getPageWidth=function(_){return _a(_=_||H)/Tt},xu=y.setPageWidth=function(_,I){Fo(_,I*Tt)},Aa=y.getPageHeight=function(_){return kc(_=_||H)/Tt},_u=y.setPageHeight=function(_,I){wa(_,I*Tt)};return y.internal={pdfEscape:Hr,getStyle:Sc,getFont:ks,getFontSize:nt,getCharSpace:_l,getTextColor:bu,getLineHeight:vu,getLineHeightFactor:yu,getLineWidth:ao,write:je,getHorizontalCoordinate:Yr,getVerticalCoordinate:Qi,getCoordinateString:Ec,getVerticalCoordinateString:Bo,collections:{},newObject:tn,newAdditionalObject:yr,newObjectDeferred:vn,newObjectDeferredBegin:Cn,getFilters:lr,putStream:br,events:at,scaleFactor:Tt,pageSize:{getWidth:function(){return Sa(H)},setWidth:function(_){xu(H,_)},getHeight:function(){return Aa(H)},setHeight:function(_){_u(H,_)}},encryptionOptions:m,encryption:Di,getEncryptor:function(_){return m!==null?Di.encryptor(_,0):function(I){return I}},output:_c,getNumberOfPages:bc,get pages(){return Ie},out:P,f2:O,f3:j,getPageInfo:Si,getPageInfoByObjId:xl,getCurrentPageInfo:du,getPDFVersion:A,Point:is,Rectangle:ba,Matrix:mt,hasHotfix:xr},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Sa(H)},set:function(_){xu(H,_)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Aa(H)},set:function(_){_u(H,_)},enumerable:!0,configurable:!0}),(function(_){for(var I=0,le=tt.length;I<le;I++){var ge=gc.call(this,_[I][0],_[I][1],_[I][2],tt[I][3],!0);x===!1&&(w[ge]=!0);var Se=_[I][0].split("-");vi({id:ge,fontName:Se[0],fontStyle:Se[1]||""})}at.publish("addFonts",{fonts:vt,dictionary:At})}).call(y,tt),rt="F1",ga(a,t),at.publish("initialized"),y}lh.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},lh.prototype.toHexString=function(i){return i.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},lh.prototype.hexToBytes=function(i){for(var e=[],t=0;t<i.length;t+=2)e.push(String.fromCharCode(parseInt(i.substr(t,2),16)));return e.join("")},lh.prototype.processOwnerPassword=function(i,e){return Y0(G0(e).substr(0,5),i)},lh.prototype.encryptor=function(i,e){var t=G0(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Y0(t,r)}},Jp.prototype.equals=function(i){var e,t="id,objectNumber,equals";if(!i||Bn(i)!==Bn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!i.hasOwnProperty(e)||this[e]!==i[e])return!1;r++}for(e in i)i.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Et.API={events:[]},Et.version="3.0.4";var Mi=Et.API,$g=1,hu=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ih=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xt=function(i){return i.toFixed(2)},nc=function(i){return i.toFixed(5)};Mi.__acroform__={};var As=function(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i},db=function(i){return i*$g},Co=function(i){var e=new dw,t=wt.internal.getHeight(i)||0,r=wt.internal.getWidth(i)||0;return e.BBox=[0,0,Number(Xt(r)),Number(Xt(t))],e},_O=Mi.__acroform__.setBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<e},wO=Mi.__acroform__.clearBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<e)},SO=Mi.__acroform__.getBit=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<e?1:0},Bi=Mi.__acroform__.getBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return SO(i,e-1)},zi=Mi.__acroform__.setBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _O(i,e-1)},qi=Mi.__acroform__.clearBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wO(i,e-1)},AO=Mi.__acroform__.calculateCoordinates=function(i,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=i[0],o=i[1],h=i[2],c=i[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=t(a+h)||0,f.upperRight_Y=r(o)||0,[Number(Xt(f.lowerLeft_X)),Number(Xt(f.lowerLeft_Y)),Number(Xt(f.upperRight_X)),Number(Xt(f.upperRight_Y))]},NO=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var e=[],t=i._V||i.DV,r=W0(i,t),a=i.scope.internal.getFont(i.fontName,i.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(i.scope.__private__.encodeColorString(i.color)),e.push("/"+a+" "+Xt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Co(i);return o.scope=i.scope,o.stream=e.join(`
`),o}},W0=function(i,e){var t=i.fontSize===0?i.maxFontSize:i.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=i.multiline?a.map(function(O){return O.split(`
`)}):a.map(function(O){return[O]});var o=t,h=wt.internal.getHeight(i)||0;h=h<0?-h:h;var c=wt.internal.getWidth(i)||0;c=c<0?-c:c;var f=function(O,j,V){if(O+1<a.length){var J=j+" "+a[O+1][0];return gp(J,i,V).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,m,x=gp("3",i,o).height,w=i.multiline?h-o:(h-x)/2,y=w+=2,N=0,A=0,E=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+gp(e,i,o=12).width+", FieldWidth:"+c+`
`;break}for(var C="",U=0,F=0;F<a.length;F++)if(a.hasOwnProperty(F)){var q=!1;if(a[F].length!==1&&E!==a[F].length-1){if((x+2)*(U+2)+2>h)continue e;C+=a[F][E],q=!0,A=F,F--}else{C=(C+=a[F][E]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var z=parseInt(F),$=f(z,C,o),Y=F>=a.length-1;if($&&!Y){C+=" ",E=0;continue}if($||Y){if(Y)A=z;else if(i.multiline&&(x+2)*(U+2)+2>h)continue e}else{if(!i.multiline||(x+2)*(U+2)+2>h)continue e;A=z}}for(var D="",R=N;R<=A;R++){var Z=a[R];if(i.multiline){if(R===A){D+=Z[E]+" ",E=(E+1)%Z.length;continue}if(R===N){D+=Z[Z.length-1]+" ";continue}}D+=Z[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,m=gp(D,i,o).width,i.textAlign){case"right":d=c-m-2;break;case"center":d=(c-m)/2;break;default:d=2}e+=Xt(d)+" "+Xt(y)+` Td
`,e+="("+hu(D)+`) Tj
`,e+=-Xt(d)+` 0 Td
`,y=-(o+2),m=0,N=q?A:A+1,U++,C=""}break}return r.text=e,r.fontSize=o,r},gp=function(i,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(i,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},CO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},TO=function(i,e){var t={type:"reference",object:i};e.internal.getPageInfo(i.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(i.page).pageContext.annotations.push(t)},EO=function(i,e){if(e.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(io.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(CO)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");$g=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new pw,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&TO(o,t)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(t){(function(r,a){var o=!r;for(var h in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(h)){var c=r[h],f=[],d=c.Rect;if(c.Rect&&(c.Rect=AO(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=wt.createDefaultAppearanceStream(c),Bn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=NO(c);f.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var x="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var y=c.appearanceStreamContent[w];if(x+="/"+w+" ",x+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var h in y)if(y.hasOwnProperty(h)){var N=y[h];typeof N=="function"&&(N=N.call(a,c)),x+="/"+h+" "+N+" ",a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N)}}else typeof(N=y)=="function"&&(N=N.call(a,c)),x+="/"+h+" "+N,a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N);x+=">>"}f.push({key:"AP",value:`<<
`+x+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(A,E){for(var C in A)if(A.hasOwnProperty(C)){var U=C,F=A[C];E.internal.newObjectDeferredBegin(F.objId,!0),Bn(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete A[U]}})(a.internal.acroformPlugin.xForms,a)})(t,i)}),i.internal.acroformPlugin.isInitialized=!0}},fw=Mi.__acroform__.arrayToPdfArray=function(i,e,t){var r=function(h){return h};if(Array.isArray(i)){for(var a="[",o=0;o<i.length;o++)switch(o!==0&&(a+=" "),Bn(i[o])){case"boolean":case"number":case"object":a+=i[o].toString();break;case"string":i[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+hu(r(i[o].toString()))+")"):a+=i[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},v0=function(i,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(i=i||"").toString(),"("+hu(r(i))+")"},To=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};To.prototype.toString=function(){return this.objId+" 0 R"},To.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},To.prototype.getKeyValueListForStream=function(){var i=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?i.push({key:r,value:fw(a,this.objId,this.scope)}):a instanceof To?(a.scope=this.scope,i.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&i.push({key:r,value:a}))}return i};var dw=function(){To.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){i=t.trim()},get:function(){return i||null}})};As(dw,To);var pw=function(){To.call(this);var i,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+hu(t(i))+")"}},set:function(t){i=t}})};As(pw,To);var io=function i(){To.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Bi(e,3)},set:function(C){C?this.F=zi(e,3):this.F=qi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof e1)return;o="FieldObject"+i.FieldNum++}var C=function(U){return U};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+hu(C(o))+")"},set:function(C){o=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(C){o=C}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(C){f=C}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/$g:d},set:function(C){d=C}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(C){m=C}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof e1||this instanceof nu))return v0(x,this.objId,this.scope)},set:function(C){C=C.toString(),x=C}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof gr==0?v0(w,this.objId,this.scope):w},set:function(C){C=C.toString(),w=this instanceof gr==0?C.substr(0,1)==="("?ih(C.substr(1,C.length-2)):ih(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof gr==1?ih(w.substr(1,w.length-1)):w},set:function(C){C=C.toString(),w=this instanceof gr==1?"/"+C:C}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof gr==0?v0(y,this.objId,this.scope):y},set:function(C){C=C.toString(),y=this instanceof gr==0?C.substr(0,1)==="("?ih(C.substr(1,C.length-2)):ih(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof gr==1?ih(y.substr(1,y.length-1)):y},set:function(C){C=C.toString(),y=this instanceof gr==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(C){C=!!C,A=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(C){N=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,1)},set:function(C){C?this.Ff=zi(this.Ff,1):this.Ff=qi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,2)},set:function(C){C?this.Ff=zi(this.Ff,2):this.Ff=qi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,3)},set:function(C){C?this.Ff=zi(this.Ff,3):this.Ff=qi(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');E=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(E){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};As(io,To);var bh=function(){io.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){i=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fw(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=(function(o,h,c){c||(c=1);for(var f,d=[];f=h.exec(o);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,18)},set:function(t){t?this.Ff=zi(this.Ff,18):this.Ff=qi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=zi(this.Ff,19):this.Ff=qi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,20)},set:function(t){t?(this.Ff=zi(this.Ff,20),e.sort()):this.Ff=qi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,22)},set:function(t){t?this.Ff=zi(this.Ff,22):this.Ff=qi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,23)},set:function(t){t?this.Ff=zi(this.Ff,23):this.Ff=qi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,27)},set:function(t){t?this.Ff=zi(this.Ff,27):this.Ff=qi(this.Ff,27)}}),this.hasAppearanceStream=!1};As(bh,io);var xh=function(){bh.call(this),this.fontName="helvetica",this.combo=!1};As(xh,bh);var _h=function(){xh.call(this),this.combo=!0};As(_h,xh);var Np=function(){_h.call(this),this.edit=!0};As(Np,_h);var gr=function(){io.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,15)},set:function(t){t?this.Ff=zi(this.Ff,15):this.Ff=qi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,16)},set:function(t){t?this.Ff=zi(this.Ff,16):this.Ff=qi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,17)},set:function(t){t?this.Ff=zi(this.Ff,17):this.Ff=qi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,26)},set:function(t){t?this.Ff=zi(this.Ff,26):this.Ff=qi(this.Ff,26)}});var i,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+hu(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Bn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(t){i="/"+t}})};As(gr,io);var Cp=function(){gr.call(this),this.pushButton=!0};As(Cp,gr);var wh=function(){gr.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e!==void 0?e:[]}})};As(wh,gr);var e1=function(){var i,e;io.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(a){i=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,h=[];for(o in h.push("<<"),r)h.push("/"+o+" ("+hu(a(r[o]))+")");return h.push(">>"),h.join(`
`)},set:function(a){Bn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};As(e1,io),wh.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=i.createAppearanceStream(t.optionName),t.caption=i.getCA()}},wh.prototype.createOption=function(i){var e=new e1;return e.Parent=this,e.optionName=i,this.Kids.push(e),kO.call(this.scope,e),e};var Tp=function(){gr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wt.CheckBox.createAppearanceStream()};As(Tp,gr);var nu=function(){io.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,13)},set:function(e){e?this.Ff=zi(this.Ff,13):this.Ff=qi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,21)},set:function(e){e?this.Ff=zi(this.Ff,21):this.Ff=qi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,23)},set:function(e){e?this.Ff=zi(this.Ff,23):this.Ff=qi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,24)},set:function(e){e?this.Ff=zi(this.Ff,24):this.Ff=qi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,25)},set:function(e){e?this.Ff=zi(this.Ff,25):this.Ff=qi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,26)},set:function(e){e?this.Ff=zi(this.Ff,26):this.Ff=qi(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){Number.isInteger(e)&&(i=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};As(nu,io);var Ep=function(){nu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,14)},set:function(i){i?this.Ff=zi(this.Ff,14):this.Ff=qi(this.Ff,14)}}),this.password=!0};As(Ep,nu);var wt={CheckBox:{createAppearanceStream:function(){return{N:{On:wt.CheckBox.YesNormal},D:{On:wt.CheckBox.YesPushDown,Off:wt.CheckBox.OffPushDown}}},YesPushDown:function(i){var e=Co(i);e.scope=i.scope;var t=[],r=i.scope.internal.getFont(i.fontName,i.fontStyle).id,a=i.scope.__private__.encodeColorString(i.color),o=W0(i,i.caption);return t.push("0.749023 g"),t.push("0 0 "+Xt(wt.internal.getWidth(i))+" "+Xt(wt.internal.getHeight(i))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Xt(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(i){var e=Co(i);e.scope=i.scope;var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),a=[],o=wt.internal.getHeight(i),h=wt.internal.getWidth(i),c=W0(i,i.caption);return a.push("1 g"),a.push("0 0 "+Xt(h)+" "+Xt(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Xt(h-1)+" "+Xt(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+Xt(c.fontSize)+" Tf "+r),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(i){var e=Co(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(wt.internal.getWidth(i))+" "+Xt(wt.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(i){var e={D:{Off:wt.RadioButton.Circle.OffPushDown},N:{}};return e.N[i]=wt.RadioButton.Circle.YesNormal,e.D[i]=wt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(i){var e=Co(i);e.scope=i.scope;var t=[],r=wt.internal.getWidth(i)<=wt.internal.getHeight(i)?wt.internal.getWidth(i)/4:wt.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=wt.internal.Bezier_C,o=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+nc(wt.internal.getWidth(i)/2)+" "+nc(wt.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=Co(i);e.scope=i.scope;var t=[],r=wt.internal.getWidth(i)<=wt.internal.getHeight(i)?wt.internal.getWidth(i)/4:wt.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*wt.internal.Bezier_C).toFixed(5)),h=Number((r*wt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+nc(wt.internal.getWidth(i)/2)+" "+nc(wt.internal.getHeight(i)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+nc(wt.internal.getWidth(i)/2)+" "+nc(wt.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+h+" "+h+" "+r+" 0 "+r+" c"),t.push("-"+h+" "+r+" -"+r+" "+h+" -"+r+" 0 c"),t.push("-"+r+" -"+h+" -"+h+" -"+r+" 0 -"+r+" c"),t.push(h+" -"+r+" "+r+" -"+h+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(i){var e=Co(i);e.scope=i.scope;var t=[],r=wt.internal.getWidth(i)<=wt.internal.getHeight(i)?wt.internal.getWidth(i)/4:wt.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*wt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+nc(wt.internal.getWidth(i)/2)+" "+nc(wt.internal.getHeight(i)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(i){var e={D:{Off:wt.RadioButton.Cross.OffPushDown},N:{}};return e.N[i]=wt.RadioButton.Cross.YesNormal,e.D[i]=wt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(i){var e=Co(i);e.scope=i.scope;var t=[],r=wt.internal.calculateCross(i);return t.push("q"),t.push("1 1 "+Xt(wt.internal.getWidth(i)-2)+" "+Xt(wt.internal.getHeight(i)-2)+" re"),t.push("W"),t.push("n"),t.push(Xt(r.x1.x)+" "+Xt(r.x1.y)+" m"),t.push(Xt(r.x2.x)+" "+Xt(r.x2.y)+" l"),t.push(Xt(r.x4.x)+" "+Xt(r.x4.y)+" m"),t.push(Xt(r.x3.x)+" "+Xt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=Co(i);e.scope=i.scope;var t=wt.internal.calculateCross(i),r=[];return r.push("0.749023 g"),r.push("0 0 "+Xt(wt.internal.getWidth(i))+" "+Xt(wt.internal.getHeight(i))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Xt(wt.internal.getWidth(i)-2)+" "+Xt(wt.internal.getHeight(i)-2)+" re"),r.push("W"),r.push("n"),r.push(Xt(t.x1.x)+" "+Xt(t.x1.y)+" m"),r.push(Xt(t.x2.x)+" "+Xt(t.x2.y)+" l"),r.push(Xt(t.x4.x)+" "+Xt(t.x4.y)+" m"),r.push(Xt(t.x3.x)+" "+Xt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(i){var e=Co(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(wt.internal.getWidth(i))+" "+Xt(wt.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(i){var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,t=i.scope.__private__.encodeColorString(i.color);return"/"+e+" "+i.fontSize+" Tf "+t}};wt.internal={Bezier_C:.551915024494,calculateCross:function(i){var e=wt.internal.getWidth(i),t=wt.internal.getHeight(i),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},wt.internal.getWidth=function(i){var e=0;return Bn(i)==="object"&&(e=db(i.Rect[2])),e},wt.internal.getHeight=function(i){var e=0;return Bn(i)==="object"&&(e=db(i.Rect[3])),e};var kO=Mi.addField=function(i){if(EO(this,i),!(i instanceof io))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=i).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};Mi.AcroFormChoiceField=bh,Mi.AcroFormListBox=xh,Mi.AcroFormComboBox=_h,Mi.AcroFormEditBox=Np,Mi.AcroFormButton=gr,Mi.AcroFormPushButton=Cp,Mi.AcroFormRadioButton=wh,Mi.AcroFormCheckBox=Tp,Mi.AcroFormTextField=nu,Mi.AcroFormPasswordField=Ep,Mi.AcroFormAppearance=wt,Mi.AcroForm={ChoiceField:bh,ListBox:xh,ComboBox:_h,EditBox:Np,Button:gr,PushButton:Cp,RadioButton:wh,CheckBox:Tp,TextField:nu,PasswordField:Ep,Appearance:wt},Et.AcroForm={ChoiceField:bh,ListBox:xh,ComboBox:_h,EditBox:Np,Button:gr,PushButton:Cp,RadioButton:wh,CheckBox:Tp,TextField:nu,PasswordField:Ep,Appearance:wt};Et.AcroForm;function mw(i){return i.reduce(function(e,t,r){return e[t]=r,e},{})}(function(i){var e="addImage_";i.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=i.__addimage__.getImageFileTypeByImageData=function(O,j){var V,J,ue,ee,ie,ce=t;if((j=j||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if($(O))for(ie in r)for(ue=r[ie],V=0;V<ue.length;V+=1){for(ee=!0,J=0;J<ue[V].length;J+=1)if(ue[V][J]!==void 0&&ue[V][J]!==O[J]){ee=!1;break}if(ee===!0){ce=ie;break}}else for(ie in r)for(ue=r[ie],V=0;V<ue.length;V+=1){for(ee=!0,J=0;J<ue[V].length;J+=1)if(ue[V][J]!==void 0&&ue[V][J]!==O.charCodeAt(J)){ee=!1;break}if(ee===!0){ce=ie;break}}return ce===t&&j!==t&&(ce=j),ce},o=function O(j){for(var V=this.internal.write,J=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:j.width}),ee.push({key:"Height",value:j.height}),j.colorSpace===C.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===C.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)&&j.transparency.length>0){for(var ie="",ce=0,he=j.transparency.length;ce<he;ce++)ie+=j.transparency[ce]+" "+j.transparency[ce]+" ";ee.push({key:"Mask",value:"["+ie+"]"})}j.sMask!==void 0&&ee.push({key:"SMask",value:j.objectId+1+" 0 R"});var we=j.filter!==void 0?["/"+j.filter]:void 0;if(J({data:j.data,additionalKeyValues:ee,alreadyAppliedFilters:we,objectId:j.objectId}),V("endobj"),"sMask"in j&&j.sMask!==void 0){var X,T=(X=j.sMaskBitsPerComponent)!==null&&X!==void 0?X:j.bitsPerComponent,H={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:j.sMask};"filter"in j&&(H.decodeParameters="/Predictor ".concat(j.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(j.width),H.filter=j.filter),O.call(this,H)}if(j.colorSpace===C.INDEXED){var Q=this.internal.newObject();J({data:D(new Uint8Array(j.palette)),objectId:Q}),V("endobj")}},h=function(){var O=this.internal.collections[e+"images"];for(var j in O)o.call(this,O[j])},c=function(){var O,j=this.internal.collections[e+"images"],V=this.internal.write;for(var J in j)V("/I"+(O=j[J]).index,O.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var O=this.internal.collections[e+"images"];return f.call(this),O},m=function(){return Object.keys(this.internal.collections[e+"images"]).length},x=function(O){return typeof i["process"+O.toUpperCase()]=="function"},w=function(O){return Bn(O)==="object"&&O.nodeType===1},y=function(O,j){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var V=""+O.getAttribute("src");if(V.indexOf("data:image/")===0)return Ap(unescape(V).split("base64,").pop());var J=i.loadFile(V,!0);if(J!==void 0)return J}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var ue;switch(j){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return Ap(O.toDataURL(ue,1).split("base64,").pop())}},N=function(O){var j=this.internal.collections[e+"images"];if(j){for(var V in j)if(O===j[V].alias)return j[V]}},A=function(O,j,V){return O||j||(O=-96,j=-96),O<0&&(O=-1*V.width*72/O/this.internal.scaleFactor),j<0&&(j=-1*V.height*72/j/this.internal.scaleFactor),O===0&&(O=j*V.width/V.height),j===0&&(j=O*V.height/V.width),[O,j]},E=function(O,j,V,J,ue,ee){var ie=A.call(this,V,J,ue),ce=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,we=d.call(this);if(V=ie[0],J=ie[1],we[ue.index]=ue,ee){ee*=Math.PI/180;var X=Math.cos(ee),T=Math.sin(ee),H=function(re){return re.toFixed(4)},Q=[H(X),H(T),H(-1*T),H(X),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,ce(O),he(j+J),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([ce(V),"0","0",ce(J),"0","0","cm"].join(" "))):this.internal.write([ce(V),"0","0",ce(J),ce(O),he(j+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},C=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var U=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=i.__addimage__.sHashCode=function(O){var j,V,J=0;if(typeof O=="string")for(V=O.length,j=0;j<V;j++)J=(J<<5)-J+O.charCodeAt(j),J|=0;else if($(O))for(V=O.byteLength/2,j=0;j<V;j++)J=(J<<5)-J+O[j],J|=0;return J},q=i.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var j=!0;return O.length===0&&(j=!1),O.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(j=!1),j},z=i.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var j=O.indexOf(",");return j<0?null:O.substring(0,j).trim().endsWith("base64")?O.substring(j+1):null};i.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var $=i.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},Y=i.__addimage__.binaryStringToUint8Array=function(O){for(var j=O.length,V=new Uint8Array(j),J=0;J<j;J++)V[J]=O.charCodeAt(J);return V},D=i.__addimage__.arrayBufferToBinaryString=function(O){for(var j="",V=$(O)?O:new Uint8Array(O),J=0;J<V.length;J+=8192)j+=String.fromCharCode.apply(null,V.subarray(J,J+8192));return j};i.addImage=function(){var O,j,V,J,ue,ee,ie,ce,he;if(typeof arguments[1]=="number"?(j=t,V=arguments[1],J=arguments[2],ue=arguments[3],ee=arguments[4],ie=arguments[5],ce=arguments[6],he=arguments[7]):(j=arguments[1],V=arguments[2],J=arguments[3],ue=arguments[4],ee=arguments[5],ie=arguments[6],ce=arguments[7],he=arguments[8]),Bn(O=arguments[0])==="object"&&!w(O)&&"imageData"in O){var we=O;O=we.imageData,j=we.format||j||t,V=we.x||V||0,J=we.y||J||0,ue=we.w||we.width||ue,ee=we.h||we.height||ee,ie=we.alias||ie,ce=we.compression||ce,he=we.rotation||we.angle||he}var X=this.internal.getFilters();if(ce===void 0&&X.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(V)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var T=R.call(this,O,j,ie,ce);return E.call(this,V,J,ue,ee,T,he),this};var R=function(O,j,V,J){var ue,ee,ie;if(typeof O=="string"&&a(O)===t){O=unescape(O);var ce=Z(O,!1);(ce!==""||(ce=i.loadFile(O,!0))!==void 0)&&(O=ce)}if(w(O)&&(O=y(O,j)),j=a(O,j),!x(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((ie=V)==null||ie.length===0)&&(V=(function(he){return typeof he=="string"||$(he)?F(he):$(he.data)?F(he.data):null})(O)),(ue=N.call(this,V))||(O instanceof Uint8Array||j==="RGBA"||(ee=O,O=Y(O)),ue=this["process"+j.toUpperCase()](O,m.call(this),V,(function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in i.image_compression?he:U.NONE})(J),ee)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},Z=i.__addimage__.convertBase64ToBinaryString=function(O,j){j=typeof j!="boolean"||j;var V,J="";if(typeof O=="string"){var ue;V=(ue=z(O))!==null&&ue!==void 0?ue:O;try{J=Ap(V)}catch(ee){if(j)throw q(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};i.getImageProperties=function(O){var j,V,J="";if(w(O)&&(O=y(O)),typeof O=="string"&&a(O)===t&&((J=Z(O,!1))===""&&(J=i.loadFile(O)||""),O=J),V=a(O),!x(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(O instanceof Uint8Array||(O=Y(O)),!(j=this["process"+V.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=V,j}})(Et.API),(function(i){var e=function(t){if(t!==void 0&&t!="")return!0};Et.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(t){for(var r,a,o,h=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,m=!1,x=0;x<d.length&&!m;x++)switch((r=d[x]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var w=0;w<d.length;w++){r=d[w];var y=this.internal.pdfEscape,N=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(A.objId),U=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+h(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+h(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+y(C(r.contents))+")",o+=" /Popup "+E.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+y(C(U))+") >>",A.content=o;var F=A.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+h(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+h(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+F,r.open&&(o+=" /Open true"),o+=" >>",E.content=o,this.internal.write(A.objId,"0 R",E.objId,"0 R");break;case"freetext":a="/Rect ["+h(r.bounds.x)+" "+c(r.bounds.y)+" "+h(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var q=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+y(N(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+y(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var $=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+$+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),i.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},i.link=function(t,r,a,o,h){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+a),h:d(r+o)},options:h,type:"link"})},i.textWithLink=function(t,r,a,o){var h,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var m=this.splitTextToSize(t,c).length;h=Math.ceil(d*m)}else c=f,h=d;return this.text(t,r,a,o),a+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-d,c,h,o),f},i.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Et.API),(function(i){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];i.__arabicParser__={};var o=i.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},h=i.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},c=i.__arabicParser__.isArabicEndLetter=function(A){return h(A)&&o(A)&&e[A.charCodeAt(0)].length<=2},f=i.__arabicParser__.isArabicAlfLetter=function(A){return h(A)&&a.indexOf(A.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return h(A)&&o(A)&&e[A.charCodeAt(0)].length>=1};var d=i.__arabicParser__.arabicLetterHasFinalForm=function(A){return h(A)&&o(A)&&e[A.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(A){return h(A)&&o(A)&&e[A.charCodeAt(0)].length>=3};var m=i.__arabicParser__.arabicLetterHasMedialForm=function(A){return h(A)&&o(A)&&e[A.charCodeAt(0)].length==4},x=i.__arabicParser__.resolveLigatures=function(A){var E=0,C=t,U="",F=0;for(E=0;E<A.length;E+=1)C[A.charCodeAt(E)]!==void 0?(F++,typeof(C=C[A.charCodeAt(E)])=="number"&&(U+=String.fromCharCode(C),C=t,F=0),E===A.length-1&&(C=t,U+=A.charAt(E-(F-1)),E-=F-1,F=0)):(C=t,U+=A.charAt(E-F),E-=F,F=0);return U};i.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&r[A.charCodeAt(0)]!==void 0};var w=i.__arabicParser__.getCorrectForm=function(A,E,C){return h(A)?o(A)===!1?-1:!d(A)||!h(E)&&!h(C)||!h(C)&&c(E)||c(A)&&!h(E)||c(A)&&f(E)||c(A)&&c(E)?0:m(A)&&h(E)&&!c(E)&&h(C)&&d(C)?3:c(A)||!h(C)?1:2:-1},y=function(A){var E=0,C=0,U=0,F="",q="",z="",$=(A=A||"").split("\\s+"),Y=[];for(E=0;E<$.length;E+=1){for(Y.push(""),C=0;C<$[E].length;C+=1)F=$[E][C],q=$[E][C-1],z=$[E][C+1],h(F)?(U=w(F,q,z),Y[E]+=U!==-1?String.fromCharCode(e[F.charCodeAt(0)][U]):F):Y[E]+=F;Y[E]=x(Y[E])}return Y.join(" ")},N=i.__arabicParser__.processArabic=i.processArabic=function(){var A,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(E)){var U=0;for(C=[],U=0;U<E.length;U+=1)Array.isArray(E[U])?C.push([y(E[U][0]),E[U][1],E[U][2]]):C.push([y(E[U])]);A=C}else A=y(E);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};i.events.push(["preProcessText",N])})(Et.API),Et.API.autoPrint=function(i){var e;return(i=i||{}).variant=i.variant||"non-conform",i.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(i){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var h={};Object.defineProperty(this,"style",{get:function(){return h},set:function(c){h=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Et.API),(function(i){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(A){d=A}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(A){m=A}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(A){x=A}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(A){w=A}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(A){N=A}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},i.getTextDimensions=function(f,d){r.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),x=d.font||this.getFont(),w=d.scaleFactor||this.internal.scaleFactor,y=0,N=0,A=0,E=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var C=d.maxWidth;C>0?typeof f=="string"?f=this.splitTextToSize(f,C):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(F,q){return F.concat(E.splitTextToSize(q,C))},[])):f=Array.isArray(f)?f:[f];for(var U=0;U<f.length;U++)y<(A=this.getStringUnitWidth(f[U],{font:x})*m)&&(y=A);return y!==0&&(N=f.length),{w:y/=w,h:Math.max((N*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/w,0)}},i.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var h=i.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=x.top,y&&w&&(this.printHeaderRow(f.lineNumber,!0),f.y+=w[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-m,f.y+m,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+m,{align:"center",baseline:"top",maxWidth:f.width-m-m}):this.text(f.text,f.x+m,f.y+m,{align:"left",baseline:"top",maxWidth:f.width-m-m})),this.internal.__cell__.lastCell=f,this};i.table=function(f,d,m,x,w){if(r.call(this),!m)throw new Error("No data for PDF table.");var y,N,A,E,C=[],U=[],F=[],q={},z={},$=[],Y=[],D=(w=w||{}).autoSize||!1,R=w.printHeaders!==!1,Z=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,O=w.margins||Object.assign({width:this.getPageWidth()},e),j=typeof w.padding=="number"?w.padding:3,V=w.headerBackgroundColor||"#c8c8c8",J=w.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=J,this.setFontSize(Z),x==null)U=C=Object.keys(m[0]),F=C.map(function(){return"left"});else if(Array.isArray(x)&&Bn(x[0])==="object")for(C=x.map(function(we){return we.name}),U=x.map(function(we){return we.prompt||we.name||""}),F=x.map(function(we){return we.align||"left"}),y=0;y<x.length;y+=1)z[x[y].name]=.7499990551181103*x[y].width;else Array.isArray(x)&&typeof x[0]=="string"&&(U=C=x,F=C.map(function(){return"left"}));if(D||Array.isArray(x)&&typeof x[0]=="string")for(y=0;y<C.length;y+=1){for(q[E=C[y]]=m.map(function(we){return we[E]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(U[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=q[E],this.setFont(void 0,"normal"),A=0;A<N.length;A+=1)$.push(this.getTextDimensions(N[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[E]=Math.max.apply(null,$)+j+j,$=[]}if(R){var ue={};for(y=0;y<C.length;y+=1)ue[C[y]]={},ue[C[y]].text=U[y],ue[C[y]].align=F[y];var ee=c.call(this,ue,z);Y=C.map(function(we){return new o(f,d,z[we],ee,ue[we].text,void 0,ue[we].align)}),this.setTableHeaderRow(Y),this.printHeaderRow(1,!1)}var ie=x.reduce(function(we,X){return we[X.name]=X.align,we},{});for(y=0;y<m.length;y+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:y,data:m[y]},this);var ce=c.call(this,m[y],z);for(A=0;A<C.length;A+=1){var he=m[y][C[A]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:y,col:A,data:he},this),h.call(this,new o(f,d,z[C[A]],ce,he,y+2,ie[C[A]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var m=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(f).map(function(y){var N=f[y];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[y]-m-m)},this).map(function(y){return this.getLineHeightFactor()*y.length*x/w+m+m},this).reduce(function(y,N){return Math.max(y,N)},0)};i.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},i.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){m=this.internal.__cell__.tableHeaderRow[y].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,w.push(m)),m.lineNumber=f;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),h.call(this,m),this.setTextColor(N)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),t=!1}})(Et.API);var gw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],X0=mw(vw),yw=[100,200,300,400,500,600,700,800,900],OO=mw(yw);function y0(i){var e=i.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return gw[o=o||"normal"]?o:"normal"})(i.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(i.weight),a=(function(o){return typeof X0[o=o||"normal"]=="number"?o:"normal"})(i.stretch);return{family:e,style:t,weight:r,stretch:a,src:i.src||[],ref:i.ref||{name:e,style:[a,t,r].join(" ")}}}function pb(i,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(i[e[a]])return i[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(i[e[a]])return i[e[a]]}var MO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},mb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function gb(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function vb(i){return i.trimLeft()}function LO(i,e){for(var t=0;t<i.length;){if(i.charAt(t)===e)return[i.substring(0,t),i.substring(t+1)];t+=1}return null}function DO(i){var e=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],i.substring(e[0].length)]}var vp,yb,bb,rh,yp,xb,_b,wb,b0=["times"];function Sb(i,e,t,r,a){var o=4,h=Nb;switch(a){case Et.API.image_compression.FAST:o=1,h=Ab;break;case Et.API.image_compression.MEDIUM:o=6,h=Cb;break;case Et.API.image_compression.SLOW:o=9,h=Tb}i=(function(f,d,m,x){for(var w,y=f.length/d,N=new Uint8Array(f.length+y),A=[jO,Ab,Nb,Cb,Tb],E=0;E<y;E+=1){var C=E*d,U=f.subarray(C,C+d);if(x)N.set(x(U,m,w),C+E);else{for(var F=A.length,q=[],z=0;z<F;z+=1)q[z]=A[z](U,m,w);var $=IO(q.concat());N.set(q[$],C+E)}w=U}return N})(i,e,Math.ceil(t*r/8),h);var c=P0(i,{level:o});return Et.API.__addimage__.arrayBufferToBinaryString(c)}function jO(i){var e=Array.apply([],i);return e.unshift(0),e}function Ab(i,e){var t=i.length,r=[];r[0]=1;for(var a=0;a<t;a+=1){var o=i[a-e]||0;r[a+1]=i[a]-o+256&255}return r}function Nb(i,e,t){var r=i.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var h=t&&t[o]||0;a[o+1]=i[o]-h+256&255}return a}function Cb(i,e,t){var r=i.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var h=i[o-e]||0,c=t&&t[o]||0;a[o+1]=i[o]+256-(h+c>>>1)&255}return a}function Tb(i,e,t){var r=i.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var h=RO(i[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=i[o]-h+256&255}return a}function RO(i,e,t){if(i===e&&e===t)return i;var r=Math.abs(e-t),a=Math.abs(i-t),o=Math.abs(i+e-t-t);return r<=a&&r<=o?i:a<=o?e:t}function IO(i){var e=i.map(function(t){return t.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function x0(i,e,t){var r=e*t,a=Math.floor(r/8),o=16-(r-8*a+t),h=(1<<t)-1;return bw(i,a)>>o&h}function Eb(i,e,t,r){var a=t*r,o=Math.floor(a/8),h=16-(a-8*o+r),c=(1<<r)-1,f=(e&c)<<h;(function(d,m,x){if(m+1<d.byteLength)d.setUint16(m,x,!1);else{var w=x>>8&255;d.setUint8(m,w)}})(i,o,bw(i,o)&~(c<<h)&65535|f)}function bw(i,e){return e+1<i.byteLength?i.getUint16(e,!1):i.getUint8(e)<<8}function BO(i){var e=0;if(i[e++]!==71||i[e++]!==73||i[e++]!==70||i[e++]!==56||(i[e++]+1&253)!=56||i[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=i[e++]|i[e++]<<8,r=i[e++]|i[e++]<<8,a=i[e++],o=a>>7,h=1<<1+(7&a);i[e++],i[e++];var c=null,f=null;o&&(c=e,f=h,e+=3*h);var d=!0,m=[],x=0,w=null,y=0,N=null;for(this.width=t,this.height=r;d&&e<i.length;)switch(i[e++]){case 33:switch(i[e++]){case 255:if(i[e]!==11||i[e+1]==78&&i[e+2]==69&&i[e+3]==84&&i[e+4]==83&&i[e+5]==67&&i[e+6]==65&&i[e+7]==80&&i[e+8]==69&&i[e+9]==50&&i[e+10]==46&&i[e+11]==48&&i[e+12]==3&&i[e+13]==1&&i[e+16]==0)e+=14,N=i[e++]|i[e++]<<8,e++;else for(e+=12;;){if(!((O=i[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(i[e++]!==4||i[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=i[e++];x=i[e++]|i[e++]<<8,w=i[e++],1&A||(w=null),y=A>>2&7,e++;break;case 254:for(;;){if(!((O=i[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+i[e-1].toString(16))}break;case 44:var E=i[e++]|i[e++]<<8,C=i[e++]|i[e++]<<8,U=i[e++]|i[e++]<<8,F=i[e++]|i[e++]<<8,q=i[e++],z=q>>6&1,$=1<<1+(7&q),Y=c,D=f,R=!1;q>>7&&(R=!0,Y=e,D=$,e+=3*$);var Z=e;for(e++;;){var O;if(!((O=i[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}m.push({x:E,y:C,width:U,height:F,has_local_palette:R,palette_offset:Y,palette_size:D,data_offset:Z,data_length:e-Z,transparent_index:w,interlaced:!!z,delay:x,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+i[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return N},this.frameInfo=function(j){if(j<0||j>=m.length)throw new Error("Frame index out of range.");return m[j]},this.decodeAndBlitFrameBGRA=function(j,V){var J=this.frameInfo(j),ue=J.width*J.height,ee=new Uint8Array(ue);kb(i,J.data_offset,ee,ue);var ie=J.palette_offset,ce=J.transparent_index;ce===null&&(ce=256);var he=J.width,we=t-he,X=he,T=4*(J.y*t+J.x),H=4*((J.y+J.height)*t+J.x),Q=T,re=4*we;J.interlaced===!0&&(re+=4*t*7);for(var ae=8,me=0,de=ee.length;me<de;++me){var _e=ee[me];if(X===0&&(X=he,(Q+=re)>=H&&(re=4*we+4*t*(ae-1),Q=T+(he+we)*(ae<<1),ae>>=1)),_e===ce)Q+=4;else{var ve=i[ie+3*_e],Ie=i[ie+3*_e+1],He=i[ie+3*_e+2];V[Q++]=He,V[Q++]=Ie,V[Q++]=ve,V[Q++]=255}--X}},this.decodeAndBlitFrameRGBA=function(j,V){var J=this.frameInfo(j),ue=J.width*J.height,ee=new Uint8Array(ue);kb(i,J.data_offset,ee,ue);var ie=J.palette_offset,ce=J.transparent_index;ce===null&&(ce=256);var he=J.width,we=t-he,X=he,T=4*(J.y*t+J.x),H=4*((J.y+J.height)*t+J.x),Q=T,re=4*we;J.interlaced===!0&&(re+=4*t*7);for(var ae=8,me=0,de=ee.length;me<de;++me){var _e=ee[me];if(X===0&&(X=he,(Q+=re)>=H&&(re=4*we+4*t*(ae-1),Q=T+(he+we)*(ae<<1),ae>>=1)),_e===ce)Q+=4;else{var ve=i[ie+3*_e],Ie=i[ie+3*_e+1],He=i[ie+3*_e+2];V[Q++]=ve,V[Q++]=Ie,V[Q++]=He,V[Q++]=255}--X}}}function kb(i,e,t,r){for(var a=i[e++],o=1<<a,h=o+1,c=h+1,f=a+1,d=(1<<f)-1,m=0,x=0,w=0,y=i[e++],N=new Int32Array(4096),A=null;;){for(;m<16&&y!==0;)x|=i[e++]<<m,m+=8,y===1?y=i[e++]:--y;if(m<f)break;var E=x&d;if(x>>=f,m-=f,E!==o){if(E===h)break;for(var C=E<c?E:A,U=0,F=C;F>o;)F=N[F]>>8,++U;var q=F;if(w+U+(C!==E?1:0)>r)return void Qn.log("Warning, gif stream longer than expected.");t[w++]=q;var z=w+=U;for(C!==E&&(t[w++]=q),F=C;U--;)F=N[F],t[--z]=255&F,F>>=8;A!==null&&c<4096&&(N[c++]=A<<8|q,c>=d+1&&f<12&&(++f,d=d<<1|1)),A=E}else c=h+1,d=(1<<(f=a+1))-1,A=null}return w!==r&&Qn.log("Warning, gif stream shorter than expected."),t}function _0(i){var e,t,r,a,o,h=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),m=new Array(64),x=new Array(65535),w=new Array(65535),y=new Array(64),N=new Array(64),A=[],E=0,C=7,U=new Array(64),F=new Array(64),q=new Array(64),z=new Array(256),$=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(T,H){for(var Q=0,re=0,ae=new Array,me=1;me<=16;me++){for(var de=1;de<=T[me];de++)ae[H[re]]=[],ae[H[re]][0]=Q,ae[H[re]][1]=me,re++,Q++;Q*=2}return ae}function ie(T){for(var H=T[0],Q=T[1]-1;Q>=0;)H&1<<Q&&(E|=1<<C),Q--,--C<0&&(E==255?(ce(255),ce(0)):ce(E),C=7,E=0)}function ce(T){A.push(T)}function he(T){ce(T>>8&255),ce(255&T)}function we(T,H,Q,re,ae){for(var me,de=ae[0],_e=ae[240],ve=(function(De,et){var nt,ht,ut,Ot,We,$e,ot,gt,rt,Tt,lt=0;for(rt=0;rt<8;++rt){nt=De[lt],ht=De[lt+1],ut=De[lt+2],Ot=De[lt+3],We=De[lt+4],$e=De[lt+5],ot=De[lt+6];var Ht=nt+(gt=De[lt+7]),Dt=nt-gt,vt=ht+ot,At=ht-ot,Ft=ut+$e,St=ut-$e,Oe=Ot+We,Le=Ot-We,Fe=Ht+Oe,pt=Ht-Oe,it=vt+Ft,Ke=vt-Ft;De[lt]=Fe+it,De[lt+4]=Fe-it;var at=.707106781*(Ke+pt);De[lt+2]=pt+at,De[lt+6]=pt-at;var Jt=.382683433*((Fe=Le+St)-(Ke=At+Dt)),Qt=.5411961*Fe+Jt,pn=1.306562965*Ke+Jt,mn=.707106781*(it=St+At),mt=Dt+mn,an=Dt-mn;De[lt+5]=an+Qt,De[lt+3]=an-Qt,De[lt+1]=mt+pn,De[lt+7]=mt-pn,lt+=8}for(lt=0,rt=0;rt<8;++rt){nt=De[lt],ht=De[lt+8],ut=De[lt+16],Ot=De[lt+24],We=De[lt+32],$e=De[lt+40],ot=De[lt+48];var zn=nt+(gt=De[lt+56]),gn=nt-gt,Dn=ht+ot,tn=ht-ot,vn=ut+$e,Cn=ut-$e,yr=Ot+We,ui=Ot-We,Tn=zn+yr,qn=zn-yr,Pi=Dn+vn,lr=Dn-vn;De[lt]=Tn+Pi,De[lt+32]=Tn-Pi;var br=.707106781*(lr+qn);De[lt+16]=qn+br,De[lt+48]=qn-br;var ma=.382683433*((Tn=ui+Cn)-(lr=tn+gn)),Pr=.5411961*Tn+ma,Ur=1.306562965*lr+ma,Ys=.707106781*(Pi=Cn+tn),Vr=gn+Ys,Ns=gn-Ys;De[lt+40]=Ns+Pr,De[lt+24]=Ns-Pr,De[lt+8]=Vr+Ur,De[lt+56]=Vr-Ur,lt++}for(rt=0;rt<64;++rt)Tt=De[rt]*et[rt],y[rt]=Tt>0?Tt+.5|0:Tt-.5|0;return y})(T,H),Ie=0;Ie<64;++Ie)N[Y[Ie]]=ve[Ie];var He=N[0]-Q;Q=N[0],He==0?ie(re[0]):(ie(re[w[me=32767+He]]),ie(x[me]));for(var Ge=63;Ge>0&&N[Ge]==0;)Ge--;if(Ge==0)return ie(de),Q;for(var Qe,P=1;P<=Ge;){for(var je=P;N[P]==0&&P<=Ge;)++P;var ct=P-je;if(ct>=16){Qe=ct>>4;for(var tt=1;tt<=Qe;++tt)ie(_e);ct&=15}me=32767+N[P],ie(ae[(ct<<4)+w[me]]),ie(x[me]),P++}return Ge!=63&&ie(de),Q}function X(T){T=Math.min(Math.max(T,1),100),o!=T&&((function(H){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ae=h((Q[re]*H+50)/100);ae=Math.min(Math.max(ae,1),255),c[Y[re]]=ae}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var _e=h((me[de]*H+50)/100);_e=Math.min(Math.max(_e,1),255),f[Y[de]]=_e}for(var ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ie=0,He=0;He<8;He++)for(var Ge=0;Ge<8;Ge++)d[Ie]=1/(c[Y[Ie]]*ve[He]*ve[Ge]*8),m[Ie]=1/(f[Y[Ie]]*ve[He]*ve[Ge]*8),Ie++})(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),o=T)}this.encode=function(T,H){H&&X(H),A=new Array,E=0,C=7,he(65496),he(65504),he(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),he(1),he(1),ce(0),ce(0),(function(){he(65499),he(132),ce(0);for(var ht=0;ht<64;ht++)ce(c[ht]);ce(1);for(var ut=0;ut<64;ut++)ce(f[ut])})(),(function(ht,ut){he(65472),he(17),ce(8),he(ut),he(ht),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)})(T.width,T.height),(function(){he(65476),he(418),ce(0);for(var ht=0;ht<16;ht++)ce(D[ht+1]);for(var ut=0;ut<=11;ut++)ce(R[ut]);ce(16);for(var Ot=0;Ot<16;Ot++)ce(Z[Ot+1]);for(var We=0;We<=161;We++)ce(O[We]);ce(1);for(var $e=0;$e<16;$e++)ce(j[$e+1]);for(var ot=0;ot<=11;ot++)ce(V[ot]);ce(17);for(var gt=0;gt<16;gt++)ce(J[gt+1]);for(var rt=0;rt<=161;rt++)ce(ue[rt])})(),he(65498),he(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var Q=0,re=0,ae=0;E=0,C=7,this.encode.displayName="_encode_";for(var me,de,_e,ve,Ie,He,Ge,Qe,P,je=T.data,ct=T.width,tt=T.height,De=4*ct,et=0;et<tt;){for(me=0;me<De;){for(Ie=De*et+me,Ge=-1,Qe=0,P=0;P<64;P++)He=Ie+(Qe=P>>3)*De+(Ge=4*(7&P)),et+Qe>=tt&&(He-=De*(et+1+Qe-tt)),me+Ge>=De&&(He-=me+Ge-De+4),de=je[He++],_e=je[He++],ve=je[He++],U[P]=($[de]+$[_e+256|0]+$[ve+512|0]>>16)-128,F[P]=($[de+768|0]+$[_e+1024|0]+$[ve+1280|0]>>16)-128,q[P]=($[de+1280|0]+$[_e+1536|0]+$[ve+1792|0]>>16)-128;Q=we(U,d,Q,e,r),re=we(F,m,re,t,a),ae=we(q,m,ae,t,a),me+=32}et+=8}if(C>=0){var nt=[];nt[1]=C+1,nt[0]=(1<<C+1)-1,ie(nt)}return he(65497),new Uint8Array(A)},i=i||50,(function(){for(var T=String.fromCharCode,H=0;H<256;H++)z[H]=T(H)})(),e=ee(D,R),t=ee(j,V),r=ee(Z,O),a=ee(J,ue),(function(){for(var T=1,H=2,Q=1;Q<=15;Q++){for(var re=T;re<H;re++)w[32767+re]=Q,x[32767+re]=[],x[32767+re][1]=Q,x[32767+re][0]=re;for(var ae=-(H-1);ae<=-T;ae++)w[32767+ae]=Q,x[32767+ae]=[],x[32767+ae][1]=Q,x[32767+ae][0]=H-1+ae;T<<=1,H<<=1}})(),(function(){for(var T=0;T<256;T++)$[T]=19595*T,$[T+256|0]=38470*T,$[T+512|0]=7471*T+32768,$[T+768|0]=-11059*T,$[T+1024|0]=-21709*T,$[T+1280|0]=32768*T+8421375,$[T+1536|0]=-27439*T,$[T+1792|0]=-5329*T})(),X(i)}function Va(i,e){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ob(i){function e(R){if(!R)throw Error("assert :P")}function t(R,Z,O){for(var j=0;4>j;j++)if(R[Z+j]!=O.charCodeAt(j))return!0;return!1}function r(R,Z,O,j,V){for(var J=0;J<V;J++)R[Z+J]=O[j+J]}function a(R,Z,O,j){for(var V=0;V<j;V++)R[Z+V]=O}function o(R){return new Int32Array(R)}function h(R,Z){for(var O=[],j=0;j<R;j++)O.push(new Z);return O}function c(R,Z){var O=[];return(function j(V,J,ue){for(var ee=ue[J],ie=0;ie<ee&&(V.push(ue.length>J+1?[]:new Z),!(ue.length<J+1));ie++)j(V[ie],J+1,ue)})(O,0,R),O}var f=function(){var R=this;function Z(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function O(p,v,S,k,B){e(!(k%S));do p[v+(k-=S)]=B;while(0<k)}function j(p,v,S,k,B){if(e(2328>=B),512>=B)var G=o(512);else if((G=o(B))==null)return 0;return(function(W,te,ne,oe,ye,Te){var se,xe,Ne=te,ze=1<<ne,Ce=o(16),Be=o(16);for(e(ye!=0),e(oe!=null),e(W!=null),e(0<ne),xe=0;xe<ye;++xe){if(15<oe[xe])return 0;++Ce[oe[xe]]}if(Ce[0]==ye)return 0;for(Be[1]=0,se=1;15>se;++se){if(Ce[se]>1<<se)return 0;Be[se+1]=Be[se]+Ce[se]}for(xe=0;xe<ye;++xe)se=oe[xe],0<oe[xe]&&(Te[Be[se]++]=xe);if(Be[15]==1)return(oe=new V).g=0,oe.value=Te[0],O(W,Ne,1,ze,oe),ze;var Ue,Je=-1,Xe=ze-1,_t=0,ft=1,Pt=1,yt=1<<ne;for(xe=0,se=1,ye=2;se<=ne;++se,ye<<=1){if(ft+=Pt<<=1,0>(Pt-=Ce[se]))return 0;for(;0<Ce[se];--Ce[se])(oe=new V).g=se,oe.value=Te[xe++],O(W,Ne+_t,ye,yt,oe),_t=Z(_t,se)}for(se=ne+1,ye=2;15>=se;++se,ye<<=1){if(ft+=Pt<<=1,0>(Pt-=Ce[se]))return 0;for(;0<Ce[se];--Ce[se]){if(oe=new V,(_t&Xe)!=Je){for(Ne+=yt,Ue=1<<(Je=se)-ne;15>Je&&!(0>=(Ue-=Ce[Je]));)++Je,Ue<<=1;ze+=yt=1<<(Ue=Je-ne),W[te+(Je=_t&Xe)].g=Ue+ne,W[te+Je].value=Ne-te-Je}oe.g=se-ne,oe.value=Te[xe++],O(W,Ne+(_t>>ne),ye,yt,oe),_t=Z(_t,se)}}return ft!=2*Be[15]-1?0:ze})(p,v,S,k,B,G)}function V(){this.value=this.g=0}function J(){this.value=this.g=0}function ue(){this.G=h(5,V),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=h(co,J)}function ee(p,v,S,k){e(p!=null),e(v!=null),e(2147483648>k),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+k,p.Zc=4<=k?S+k-4+1:S,de(p)}function ie(p,v){for(var S=0;0<v--;)S|=ve(p,128)<<v;return S}function ce(p,v){var S=ie(p,v);return _e(p)?-S:S}function he(p,v,S,k){var B,G=0;for(e(p!=null),e(v!=null),e(4294967288>k),p.Sb=k,p.Ra=0,p.u=0,p.h=0,4<k&&(k=4),B=0;B<k;++B)G+=v[S+B]<<8*B;p.Ra=G,p.bb=k,p.oa=v,p.pa=S}function we(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Js-8>>>0,++p.bb,p.u-=8;re(p)&&(p.h=1,p.u=0)}function X(p,v){if(e(0<=v),!p.h&&v<=Sr){var S=Q(p)&Lr[v];return p.u+=v,we(p),S}return p.h=1,p.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(p){return p.Ra>>>(p.u&Js-1)>>>0}function re(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Js}function ae(p,v){p.u=v,p.h=re(p)}function me(p){p.u>=ea&&(e(p.u>=ea),we(p))}function de(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function _e(p){return ie(p,1)}function ve(p,v){var S=p.Ca;0>p.b&&de(p);var k=p.b,B=S*v>>>8,G=(p.I>>>k>B)+0;for(G?(S-=B,p.I-=B+1<<k>>>0):S=B+1,k=S,B=0;256<=k;)B+=8,k>>=8;return k=7^B+Oa[k],p.b-=k,p.Ca=(S<<k)-1,G}function Ie(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function He(p,v){return p[v+0]|p[v+1]<<8}function Ge(p,v){return He(p,v)|p[v+2]<<16}function Qe(p,v){return He(p,v)|He(p,v+2)<<16}function P(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=o(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function je(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function ct(){this.X=[],this.Xa=this.Mb=0}function tt(p,v,S,k){e(S!=null),e(k!=null);var B=S[0],G=k[0];return B==0&&(B=(p*G+v/2)/v),G==0&&(G=(v*B+p/2)/p),0>=B||0>=G?0:(S[0]=B,k[0]=G,1)}function De(p,v){return p+(1<<v)-1>>>v}function et(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function nt(p,v){R[v]=function(S,k,B,G,W,te,ne){var oe;for(oe=0;oe<W;++oe){var ye=R[p](te[ne+oe-1],B,G+oe);te[ne+oe]=et(S[k+oe],ye)}}}function ht(){this.ud=this.hd=this.jd=0}function ut(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function Ot(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function We(p,v){return Ot(p+(p-v+.5>>1))}function $e(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function ot(p,v,S,k,B,G,W){for(k=G[W-1],S=0;S<B;++S)G[W+S]=k=et(p[v+S],k)}function gt(p,v,S,k,B){var G;for(G=0;G<S;++G){var W=p[v+G],te=W>>8&255,ne=16711935&(ne=(ne=16711935&W)+((te<<16)+te));k[B+G]=(4278255360&W)+ne>>>0}}function rt(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function Tt(p,v,S,k,B,G){var W;for(W=0;W<k;++W){var te=v[S+W],ne=te>>>8,oe=te,ye=255&(ye=(ye=te>>>16)+((p.jd<<24>>24)*(ne<<24>>24)>>>5));oe=255&(oe=(oe+=(p.hd<<24>>24)*(ne<<24>>24)>>>5)+((p.ud<<24>>24)*(ye<<24>>24)>>>5)),B[G+W]=(4278255360&te)+(ye<<16)+oe}}function lt(p,v,S,k,B){R[v]=function(G,W,te,ne,oe,ye,Te,se,xe){for(ne=Te;ne<se;++ne)for(Te=0;Te<xe;++Te)oe[ye++]=B(te[k(G[W++])])},R[p]=function(G,W,te,ne,oe,ye,Te){var se=8>>G.b,xe=G.Ea,Ne=G.K[0],ze=G.w;if(8>se)for(G=(1<<G.b)-1,ze=(1<<se)-1;W<te;++W){var Ce,Be=0;for(Ce=0;Ce<xe;++Ce)Ce&G||(Be=k(ne[oe++])),ye[Te++]=B(Ne[Be&ze]),Be>>=se}else R["VP8LMapColor"+S](ne,oe,Ne,ze,ye,Te,W,te,xe)}}function Ht(p,v,S,k,B){for(S=v+S;v<S;){var G=p[v++];k[B++]=G>>16&255,k[B++]=G>>8&255,k[B++]=255&G}}function Dt(p,v,S,k,B){for(S=v+S;v<S;){var G=p[v++];k[B++]=G>>16&255,k[B++]=G>>8&255,k[B++]=255&G,k[B++]=G>>24&255}}function vt(p,v,S,k,B){for(S=v+S;v<S;){var G=(W=p[v++])>>16&240|W>>12&15,W=240&W|W>>28&15;k[B++]=G,k[B++]=W}}function At(p,v,S,k,B){for(S=v+S;v<S;){var G=(W=p[v++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;k[B++]=G,k[B++]=W}}function Ft(p,v,S,k,B){for(S=v+S;v<S;){var G=p[v++];k[B++]=255&G,k[B++]=G>>8&255,k[B++]=G>>16&255}}function St(p,v,S,k,B,G){if(G==0)for(S=v+S;v<S;)Ie(k,((G=p[v++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),B+=32;else r(k,B,p,v,S)}function Oe(p,v){R[v][0]=R[p+"0"],R[v][1]=R[p+"1"],R[v][2]=R[p+"2"],R[v][3]=R[p+"3"],R[v][4]=R[p+"4"],R[v][5]=R[p+"5"],R[v][6]=R[p+"6"],R[v][7]=R[p+"7"],R[v][8]=R[p+"8"],R[v][9]=R[p+"9"],R[v][10]=R[p+"10"],R[v][11]=R[p+"11"],R[v][12]=R[p+"12"],R[v][13]=R[p+"13"],R[v][14]=R[p+"0"],R[v][15]=R[p+"0"]}function Le(p){return p==qc||p==Tu||p==Ll||p==Eu}function Fe(){this.eb=[],this.size=this.A=this.fb=0}function pt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function it(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Fe,this.f.kb=new pt,this.sd=null}function Ke(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function at(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Jt(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Qt(p,v){var S=p.T,k=v.ba.f.RGBA,B=k.eb,G=k.fb+p.ka*k.A,W=nr[v.ba.S],te=p.y,ne=p.O,oe=p.f,ye=p.N,Te=p.ea,se=p.W,xe=v.cc,Ne=v.dc,ze=v.Mc,Ce=v.Nc,Be=p.ka,Ue=p.ka+p.T,Je=p.U,Xe=Je+1>>1;for(Be==0?W(te,ne,null,null,oe,ye,Te,se,oe,ye,Te,se,B,G,null,null,Je):(W(v.ec,v.fc,te,ne,xe,Ne,ze,Ce,oe,ye,Te,se,B,G-k.A,B,G,Je),++S);Be+2<Ue;Be+=2)xe=oe,Ne=ye,ze=Te,Ce=se,ye+=p.Rc,se+=p.Rc,G+=2*k.A,W(te,(ne+=2*p.fa)-p.fa,te,ne,xe,Ne,ze,Ce,oe,ye,Te,se,B,G-k.A,B,G,Je);return ne+=p.fa,p.j+Ue<p.o?(r(v.ec,v.fc,te,ne,Je),r(v.cc,v.dc,oe,ye,Xe),r(v.Mc,v.Nc,Te,se,Xe),S--):1&Ue||W(te,ne,null,null,oe,ye,Te,se,oe,ye,Te,se,B,G+k.A,null,null,Je),S}function pn(p,v,S){var k=p.F,B=[p.J];if(k!=null){var G=p.U,W=v.ba.S,te=W==zc||W==Ll;v=v.ba.f.RGBA;var ne=[0],oe=p.ka;ne[0]=p.T,p.Kb&&(oe==0?--ne[0]:(--oe,B[0]-=p.width),p.j+p.ka+p.T==p.o&&(ne[0]=p.o-p.j-oe));var ye=v.eb;oe=v.fb+oe*v.A,p=jc(k,B[0],p.width,G,ne,ye,oe+(te?0:3),v.A),e(S==ne),p&&Le(W)&&Ho(ye,oe,te,G,ne,v.A)}return 0}function mn(p){var v=p.ma,S=v.ba.S,k=11>S,B=S==hr||S==as||S==zc||S==Ml||S==12||Le(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!ka(v.Oa,p,B?11:12))return 0;if(B&&Le(S)&&Oc(),p.da)alert("todo:use_scaling");else{if(k){if(v.Ib=Jt,p.Kb){if(S=p.U+1>>1,v.memory=o(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=Qt,Oc()}}else alert("todo:EmitYUV");B&&(v.Jb=pn,k&&Os())}if(k&&!vo){for(p=0;256>p;++p)ir[p]=89858*(p-128)+Rl>>fs,k1[p]=-22014*(p-128)+Rl,gd[p]=-45773*(p-128),Du[p]=113618*(p-128)+Rl>>fs;for(p=Xo;p<go;++p)v=76283*(p-16)+Rl>>fs,O1[p-Xo]=Gr(v,255),M1[p-Xo]=Gr(v+8>>4,15);vo=1}return 1}function mt(p){var v=p.ma,S=p.U,k=p.T;return e(!(1&p.ka)),0>=S||0>=k?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function an(p){p.ma.memory=null}function zn(p,v,S,k){return X(p,8)!=47?0:(v[0]=X(p,14)+1,S[0]=X(p,14)+1,k[0]=X(p,1),X(p,3)!=0?0:!p.h)}function gn(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+X(v,S)+1}function Dn(p,v){return 120<v?v-120:1<=(S=((S=ls[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function tn(p,v,S){var k=Q(S),B=p[v+=255&k].g-8;return 0<B&&(ae(S,S.u+8),k=Q(S),v+=p[v].value,v+=k&(1<<B)-1),ae(S,S.u+p[v].g),p[v].value}function vn(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function Cn(p,v,S){var k=p.xc;return e((v=k==0?0:p.vc[p.md*(S>>k)+(v>>k)])<p.Wb),p.Ya[v]}function yr(p,v,S,k){var B=p.ab,G=p.c*v,W=p.C;v=W+v;var te=S,ne=k;for(k=p.Ta,S=p.Ua;0<B--;){var oe=p.gc[B],ye=W,Te=v,se=te,xe=ne,Ne=(ne=k,te=S,oe.Ea);switch(e(ye<Te),e(Te<=oe.nc),oe.hc){case 2:bi(se,xe,(Te-ye)*Ne,ne,te);break;case 0:var ze=ye,Ce=Te,Be=ne,Ue=te,Je=(yt=oe).Ea;ze==0&&(Tl(se,xe,null,null,1,Be,Ue),ot(se,xe+1,0,0,Je-1,Be,Ue+1),xe+=Je,Ue+=Je,++ze);for(var Xe=1<<yt.b,_t=Xe-1,ft=De(Je,yt.b),Pt=yt.K,yt=yt.w+(ze>>yt.b)*ft;ze<Ce;){var en=Pt,Zn=yt,Yt=1;for(El(se,xe,Be,Ue-Je,1,Be,Ue);Yt<Je;){var dt=(Yt&~_t)+Xe;dt>Je&&(dt=Je),(0,Ma[en[Zn++]>>8&15])(se,xe+ +Yt,Be,Ue+Yt-Je,dt-Yt,Be,Ue+Yt),Yt=dt}xe+=Je,Ue+=Je,++ze&_t||(yt+=ft)}Te!=oe.nc&&r(ne,te-Ne,ne,te+(Te-ye-1)*Ne,Ne);break;case 1:for(Ne=se,Ce=xe,Je=(se=oe.Ea)-(Ue=se&~(Be=(xe=1<<oe.b)-1)),ze=De(se,oe.b),Xe=oe.K,oe=oe.w+(ye>>oe.b)*ze;ye<Te;){for(_t=Xe,ft=oe,Pt=new ht,yt=Ce+Ue,en=Ce+se;Ce<yt;)rt(_t[ft++],Pt),kl(Pt,Ne,Ce,xe,ne,te),Ce+=xe,te+=xe;Ce<en&&(rt(_t[ft++],Pt),kl(Pt,Ne,Ce,Je,ne,te),Ce+=Je,te+=Je),++ye&Be||(oe+=ze)}break;case 3:if(se==ne&&xe==te&&0<oe.b){for(Ce=ne,se=Ne=te+(Te-ye)*Ne-(Ue=(Te-ye)*De(oe.Ea,oe.b)),xe=ne,Be=te,ze=[],Ue=(Je=Ue)-1;0<=Ue;--Ue)ze[Ue]=xe[Be+Ue];for(Ue=Je-1;0<=Ue;--Ue)Ce[se+Ue]=ze[Ue];wu(oe,ye,Te,ne,Ne,ne,te)}else wu(oe,ye,Te,se,xe,ne,te)}te=k,ne=S}ne!=S&&r(k,S,te,ne,G)}function ui(p,v){var S=p.V,k=p.Ba+p.c*p.C,B=v-p.C;if(e(v<=p.l.o),e(16>=B),0<B){var G=p.l,W=p.Ta,te=p.Ua,ne=G.width;if(yr(p,B,S,k),B=te=[te],e((S=p.C)<(k=v)),e(G.v<G.va),k>G.o&&(k=G.o),S<G.j){var oe=G.j-S;S=G.j,B[0]+=oe*ne}if(S>=k?S=0:(B[0]+=4*G.v,G.ka=S-G.j,G.U=G.va-G.v,G.T=k-S,S=1),S){if(te=te[0],11>(S=p.ca).S){var ye=S.f.RGBA,Te=(k=S.S,B=G.U,G=G.T,oe=ye.eb,ye.A),se=G;for(ye=ye.fb+p.Ma*ye.A;0<se--;){var xe=W,Ne=te,ze=B,Ce=oe,Be=ye;switch(k){case Nu:Ol(xe,Ne,ze,Ce,Be);break;case hr:La(xe,Ne,ze,Ce,Be);break;case qc:La(xe,Ne,ze,Ce,Be),Ho(Ce,Be,0,ze,1,0);break;case Cu:Uo(xe,Ne,ze,Ce,Be);break;case as:St(xe,Ne,ze,Ce,Be,1);break;case Tu:St(xe,Ne,ze,Ce,Be,1),Ho(Ce,Be,0,ze,1,0);break;case zc:St(xe,Ne,ze,Ce,Be,0);break;case Ll:St(xe,Ne,ze,Ce,Be,0),Ho(Ce,Be,1,ze,1,0);break;case Ml:Da(xe,Ne,ze,Ce,Be);break;case Eu:Da(xe,Ne,ze,Ce,Be),ss(Ce,Be,ze,1,0);break;case uo:ia(xe,Ne,ze,Ce,Be);break;default:e(0)}te+=ne,ye+=Te}p.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function Tn(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,k=p.Ya[v].H;if(0<S[1][k[1]+0].g||0<S[2][k[2]+0].g||0<S[3][k[3]+0].g)return 0}return 1}function qn(p,v,S,k,B,G){if(p.Z!=0){var W=p.qd,te=p.rd;for(e(Ia[p.Z]!=null);v<S;++v)Ia[p.Z](W,te,k,B,k,B,G),W=k,te=B,B+=G;p.qd=W,p.rd=te}}function Pi(p,v){var S=p.l.ma,k=S.Z==0||S.Z==1?p.l.j:p.C;if(k=p.C<k?k:p.C,e(v<=p.l.o),v>k){var B=p.l.width,G=S.ca,W=S.tb+B*k,te=p.V,ne=p.Ba+p.c*k,oe=p.gc;e(p.ab==1),e(oe[0].hc==3),na(oe[0],k,v,te,ne,G,W),qn(S,k,v,G,W,B)}p.C=p.Ma=v}function lr(p,v,S,k,B,G,W){var te=p.$/k,ne=p.$%k,oe=p.m,ye=p.s,Te=S+p.$,se=Te;B=S+k*B;var xe=S+k*G,Ne=280+ye.ua,ze=p.Pb?te:16777216,Ce=0<ye.ua?ye.Wa:null,Be=ye.wc,Ue=Te<xe?Cn(ye,ne,te):null;e(p.C<G),e(xe<=B);var Je=!1;e:for(;;){for(;Je||Te<xe;){var Xe=0;if(te>=ze){var _t=Te-S;e((ze=p).Pb),ze.wd=ze.m,ze.xd=_t,0<ze.s.ua&&je(ze.s.Wa,ze.s.vb),ze=te+ho}if(ne&Be||(Ue=Cn(ye,ne,te)),e(Ue!=null),Ue.Qb&&(v[Te]=Ue.qb,Je=!0),!Je)if(me(oe),Ue.jc){Xe=oe,_t=v;var ft=Te,Pt=Ue.pd[Q(Xe)&co-1];e(Ue.jc),256>Pt.g?(ae(Xe,Xe.u+Pt.g),_t[ft]=Pt.value,Xe=0):(ae(Xe,Xe.u+Pt.g-256),e(256<=Pt.value),Xe=Pt.value),Xe==0&&(Je=!0)}else Xe=tn(Ue.G[0],Ue.H[0],oe);if(oe.h)break;if(Je||256>Xe){if(!Je)if(Ue.nd)v[Te]=(Ue.qb|Xe<<8)>>>0;else{if(me(oe),Je=tn(Ue.G[1],Ue.H[1],oe),me(oe),_t=tn(Ue.G[2],Ue.H[2],oe),ft=tn(Ue.G[3],Ue.H[3],oe),oe.h)break;v[Te]=(ft<<24|Je<<16|Xe<<8|_t)>>>0}if(Je=!1,++Te,++ne>=k&&(ne=0,++te,W!=null&&te<=G&&!(te%16)&&W(p,te),Ce!=null))for(;se<Te;)Xe=v[se++],Ce.X[(506832829*Xe&4294967295)>>>Ce.Mb]=Xe}else if(280>Xe){if(Xe=gn(Xe-256,oe),_t=tn(Ue.G[4],Ue.H[4],oe),me(oe),_t=Dn(k,_t=gn(_t,oe)),oe.h)break;if(Te-S<_t||B-Te<Xe)break e;for(ft=0;ft<Xe;++ft)v[Te+ft]=v[Te+ft-_t];for(Te+=Xe,ne+=Xe;ne>=k;)ne-=k,++te,W!=null&&te<=G&&!(te%16)&&W(p,te);if(e(Te<=B),ne&Be&&(Ue=Cn(ye,ne,te)),Ce!=null)for(;se<Te;)Xe=v[se++],Ce.X[(506832829*Xe&4294967295)>>>Ce.Mb]=Xe}else{if(!(Xe<Ne))break e;for(Je=Xe-280,e(Ce!=null);se<Te;)Xe=v[se++],Ce.X[(506832829*Xe&4294967295)>>>Ce.Mb]=Xe;Xe=Te,e(!(Je>>>(_t=Ce).Xa)),v[Xe]=_t.X[Je],Je=!0}Je||e(oe.h==re(oe))}if(p.Pb&&oe.h&&Te<B)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&je(p.s.vb,p.s.Wa);else{if(oe.h)break e;W?.(p,te>G?G:te),p.a=0,p.$=Te-S}return 1}return p.a=3,0}function br(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function ma(){var p=new zt;return p==null?null:(p.a=0,p.xb=Uh,Oe("Predictor","VP8LPredictors"),Oe("Predictor","VP8LPredictors_C"),Oe("PredictorAdd","VP8LPredictorsAdd"),Oe("PredictorAdd","VP8LPredictorsAdd_C"),bi=gt,kl=Tt,Ol=Ht,La=Dt,Da=vt,ia=At,Uo=Ft,R.VP8LMapColor32b=ta,R.VP8LMapColor8b=Ji,p)}function Pr(p,v,S,k,B){var G=1,W=[p],te=[v],ne=k.m,oe=k.s,ye=null,Te=0;e:for(;;){if(S)for(;G&&X(ne,1);){var se=W,xe=te,Ne=k,ze=1,Ce=Ne.m,Be=Ne.gc[Ne.ab],Ue=X(Ce,2);if(Ne.Oc&1<<Ue)G=0;else{switch(Ne.Oc|=1<<Ue,Be.hc=Ue,Be.Ea=se[0],Be.nc=xe[0],Be.K=[null],++Ne.ab,e(4>=Ne.ab),Ue){case 0:case 1:Be.b=X(Ce,3)+2,ze=Pr(De(Be.Ea,Be.b),De(Be.nc,Be.b),0,Ne,Be.K),Be.K=Be.K[0];break;case 3:var Je,Xe=X(Ce,8)+1,_t=16<Xe?0:4<Xe?1:2<Xe?2:3;if(se[0]=De(Be.Ea,_t),Be.b=_t,Je=ze=Pr(Xe,1,0,Ne,Be.K)){var ft,Pt=Xe,yt=Be,en=1<<(8>>yt.b),Zn=o(en);if(Zn==null)Je=0;else{var Yt=yt.K[0],dt=yt.w;for(Zn[0]=yt.K[0][0],ft=1;ft<1*Pt;++ft)Zn[ft]=et(Yt[dt+ft],Zn[ft-1]);for(;ft<4*en;++ft)Zn[ft]=0;yt.K[0]=null,yt.K[0]=Zn,Je=1}}ze=Je;break;case 2:break;default:e(0)}G=ze}}if(W=W[0],te=te[0],G&&X(ne,1)&&!(G=1<=(Te=X(ne,4))&&11>=Te)){k.a=3;break e}var st;if(st=G)t:{var ni,Rt,Zt,On=k,Ri=W,rr=te,Un=Te,Ni=S,fr=On.m,Ci=On.s,$t=[null],yn=1,ii=0,Nn=cs[Un];n:for(;;){if(Ni&&X(fr,1)){var Ii=X(fr,3)+2,ri=De(Ri,Ii),bn=De(rr,Ii),wi=ri*bn;if(!Pr(ri,bn,0,On,$t))break n;for($t=$t[0],Ci.xc=Ii,ni=0;ni<wi;++ni){var Mn=$t[ni]>>8&65535;$t[ni]=Mn,Mn>=yn&&(yn=Mn+1)}}if(fr.h)break n;for(Rt=0;5>Rt;++Rt){var Ti=Yo[Rt];!Rt&&0<Un&&(Ti+=1<<Un),ii<Ti&&(ii=Ti)}var Ei=h(yn*Nn,V),jn=yn,fn=h(jn,ue);if(fn==null)var dr=null;else e(65536>=jn),dr=fn;var fi=o(ii);if(dr==null||fi==null||Ei==null){On.a=1;break n}var kt=Ei;for(ni=Zt=0;ni<yn;++ni){var Mt=dr[ni],xn=Mt.G,Dr=Mt.H,ds=0,Nr=1,ki=0;for(Rt=0;5>Rt;++Rt){Ti=Yo[Rt],xn[Rt]=kt,Dr[Rt]=Zt,!Rt&&0<Un&&(Ti+=1<<Un);r:{var yo,bo=Ti,Ru=On,Vn=fi,Hh=kt,Gh=Zt,Iu=0,Ba=Ru.m,L1=X(Ba,1);if(a(Vn,0,0,bo),L1){var Yh=X(Ba,1)+1,Wh=X(Ba,1),Bu=X(Ba,Wh==0?1:8);Vn[Bu]=1,Yh==2&&(Vn[Bu=X(Ba,8)]=1);var Hi=1}else{var di=o(19),Vc=X(Ba,4)+4;if(19<Vc){Ru.a=3;var xo=0;break r}for(yo=0;yo<Vc;++yo)di[Fc[yo]]=X(Ba,3);var Bl=void 0,Zo=void 0,aa=Ru,zu=di,zl=bo,qu=Vn,Fu=0,za=aa.m,Xh=8,Zh=h(128,V);i:for(;j(Zh,0,7,zu,19);){if(X(za,1)){var vd=2+2*X(za,3);if((Bl=2+X(za,vd))>zl)break i}else Bl=zl;for(Zo=0;Zo<zl&&Bl--;){me(za);var Kh=Zh[0+(127&Q(za))];ae(za,za.u+Kh.g);var _o=Kh.value;if(16>_o)qu[Zo++]=_o,_o!=0&&(Xh=_o);else{var yd=_o==16,bd=_o-16,xd=Dl[bd],Qh=X(za,os[bd])+xd;if(Zo+Qh>zl)break i;for(var _d=yd?Xh:0;0<Qh--;)qu[Zo++]=_d}}Fu=1;break i}Fu||(aa.a=3),Hi=Fu}(Hi=Hi&&!Ba.h)&&(Iu=j(Hh,Gh,8,Vn,bo)),Hi&&Iu!=0?xo=Iu:(Ru.a=3,xo=0)}if(xo==0)break n;if(Nr&&ku[Rt]==1&&(Nr=kt[Zt].g==0),ds+=kt[Zt].g,Zt+=xo,3>=Rt){var Ko,Pu=fi[0];for(Ko=1;Ko<Ti;++Ko)fi[Ko]>Pu&&(Pu=fi[Ko]);ki+=Pu}}if(Mt.nd=Nr,Mt.Qb=0,Nr&&(Mt.qb=(xn[3][Dr[3]+0].value<<24|xn[1][Dr[1]+0].value<<16|xn[2][Dr[2]+0].value)>>>0,ds==0&&256>xn[0][Dr[0]+0].value&&(Mt.Qb=1,Mt.qb+=xn[0][Dr[0]+0].value<<8)),Mt.jc=!Mt.Qb&&6>ki,Mt.jc){var Hc,oa=Mt;for(Hc=0;Hc<co;++Hc){var qa=Hc,Fa=oa.pd[qa],Uu=oa.G[0][oa.H[0]+qa];256<=Uu.value?(Fa.g=Uu.g+256,Fa.value=Uu.value):(Fa.g=0,Fa.value=0,qa>>=vn(Uu,8,Fa),qa>>=vn(oa.G[1][oa.H[1]+qa],16,Fa),qa>>=vn(oa.G[2][oa.H[2]+qa],0,Fa),vn(oa.G[3][oa.H[3]+qa],24,Fa))}}}Ci.vc=$t,Ci.Wb=yn,Ci.Ya=dr,Ci.yc=Ei,st=1;break t}st=0}if(!(G=st)){k.a=3;break e}if(0<Te){if(oe.ua=1<<Te,!P(oe.Wa,Te)){k.a=1,G=0;break e}}else oe.ua=0;var Vu=k,Qo=W,wd=te,ql=Vu.s,Fl=ql.xc;if(Vu.c=Qo,Vu.i=wd,ql.md=De(Qo,Fl),ql.wc=Fl==0?-1:(1<<Fl)-1,S){k.xb=fo;break e}if((ye=o(W*te))==null){k.a=1,G=0;break e}G=(G=lr(k,ye,0,W,te,te,null))&&!ne.h;break e}return G?(B!=null?B[0]=ye:(e(ye==null),e(S)),k.$=0,S||br(oe)):br(oe),G}function Ur(p,v){var S=p.c*p.i,k=S+v+16*v;return e(p.c<=v),p.V=o(k),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function Ys(p,v){var S=p.C,k=v-S,B=p.V,G=p.Ba+p.c*S;for(e(v<=p.l.o);0<k;){var W=16<k?16:k,te=p.l.ma,ne=p.l.width,oe=ne*W,ye=te.ca,Te=te.tb+ne*S,se=p.Ta,xe=p.Ua;yr(p,W,B,G),Kr(se,xe,ye,Te,oe),qn(te,S,S+W,ye,Te,ne),k-=W,B+=W*p.c,S+=W}e(S==v),p.C=p.Ma=v}function Vr(){this.ub=this.yd=this.td=this.Rb=0}function Ns(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function jo(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ws(){this.Yb=(function(){var p=[];return(function v(S,k,B){for(var G=B[k],W=0;W<G&&(S.push(B.length>k+1?[]:0),!(B.length<k+1));W++)v(S[W],k+1,B)})(p,0,[3,11]),p})()}function vi(){this.jb=o(3),this.Wc=c([4,8],Ws),this.Xc=c([4,17],Ws)}function gc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Hr(){this.ld=this.La=this.dd=this.tc=0}function Cs(){this.Na=this.la=0}function ga(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vc(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Hr),this.Y=0,this.ya=Array(new vc),this.aa=0,this.l=new va}function bc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function fu(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Vr,this.Kc=new Ns,this.ed=new gc,this.Qa=new jo,this.Ic=this.$c=this.Aa=0,this.D=new yc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=h(8,T),this.ia=0,this.pb=h(4,ga),this.Pa=new vi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bc),this.Hd=0,this.rb=Array(new Cs),this.sb=0,this.wa=Array(new Hr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vc),this.L=this.aa=0,this.gd=c([4,2],Hr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gr(p,v){return 0>p?0:p>v?v:p}function va(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ts(){var p=new fu;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Qr||(Qr=so)),p}function Sn(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function xc(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Xs(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return Sn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,k=v.w,B=v.ha;if(4>B)return Sn(p,7,"Truncated header.");var G=S[k+0]|S[k+1]<<8|S[k+2]<<16,W=p.Od;if(W.Rb=!(1&G),W.td=G>>1&7,W.yd=G>>4&1,W.ub=G>>5,3<W.td)return Sn(p,3,"Incorrect keyframe parameters.");if(!W.yd)return Sn(p,4,"Frame not displayable.");k+=3,B-=3;var te=p.Kc;if(W.Rb){if(7>B)return Sn(p,7,"cannot parse picture header");if(!xc(S,k,B))return Sn(p,3,"Bad code word");te.c=16383&(S[k+4]<<8|S[k+3]),te.Td=S[k+4]>>6,te.i=16383&(S[k+6]<<8|S[k+5]),te.Ud=S[k+6]>>6,k+=7,B-=7,p.za=te.c+15>>4,p.Ub=te.i+15>>4,v.width=te.c,v.height=te.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((G=p.Pa).jb,0,255,G.jb.length),e((G=p.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,a(G.Zb,0,0,G.Zb.length),a(G.Lb,0,0,G.Lb)}if(W.ub>B)return Sn(p,7,"bad partition length");ee(G=p.m,S,k,W.ub),k+=W.ub,B-=W.ub,W.Rb&&(te.Ld=_e(G),te.Kd=_e(G)),te=p.Qa;var ne,oe=p.Pa;if(e(G!=null),e(te!=null),te.Cb=_e(G),te.Cb){if(te.Bb=_e(G),_e(G)){for(te.Fb=_e(G),ne=0;4>ne;++ne)te.Zb[ne]=_e(G)?ce(G,7):0;for(ne=0;4>ne;++ne)te.Lb[ne]=_e(G)?ce(G,6):0}if(te.Bb)for(ne=0;3>ne;++ne)oe.jb[ne]=_e(G)?ie(G,8):255}else te.Bb=0;if(G.Ka)return Sn(p,3,"cannot parse segment header");if((te=p.ed).zd=_e(G),te.Tb=ie(G,6),te.wb=ie(G,3),te.Pc=_e(G),te.Pc&&_e(G)){for(oe=0;4>oe;++oe)_e(G)&&(te.vd[oe]=ce(G,6));for(oe=0;4>oe;++oe)_e(G)&&(te.od[oe]=ce(G,6))}if(p.L=te.Tb==0?0:te.zd?1:2,G.Ka)return Sn(p,3,"cannot parse filter header");var ye=B;if(B=ne=k,k=ne+ye,te=ye,p.Xb=(1<<ie(p.m,2))-1,ye<3*(oe=p.Xb))S=7;else{for(ne+=3*oe,te-=3*oe,ye=0;ye<oe;++ye){var Te=S[B+0]|S[B+1]<<8|S[B+2]<<16;Te>te&&(Te=te),ee(p.Jc[+ye],S,ne,Te),ne+=Te,te-=Te,B+=3}ee(p.Jc[+oe],S,ne,te),S=ne<k?0:5}if(S!=0)return Sn(p,S,"cannot parse partitions");for(S=ie(ne=p.m,7),B=_e(ne)?ce(ne,4):0,k=_e(ne)?ce(ne,4):0,te=_e(ne)?ce(ne,4):0,oe=_e(ne)?ce(ne,4):0,ne=_e(ne)?ce(ne,4):0,ye=p.Qa,Te=0;4>Te;++Te){if(ye.Cb){var se=ye.Zb[Te];ye.Fb||(se+=S)}else{if(0<Te){p.pb[Te]=p.pb[0];continue}se=S}var xe=p.pb[Te];xe.Sc[0]=us[Gr(se+B,127)],xe.Sc[1]=hs[Gr(se+0,127)],xe.Eb[0]=2*us[Gr(se+k,127)],xe.Eb[1]=101581*hs[Gr(se+te,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=us[Gr(se+oe,117)],xe.Qc[1]=hs[Gr(se+ne,127)],xe.lc=se+ne}if(!W.Rb)return Sn(p,4,"Not a key frame.");for(_e(G),W=p.Pa,S=0;4>S;++S){for(B=0;8>B;++B)for(k=0;3>k;++k)for(te=0;11>te;++te)oe=ve(G,Xn[S][B][k][te])?ie(G,8):md[S][B][k][te],W.Wc[S][B].Yb[k][te]=oe;for(B=0;17>B;++B)W.Xc[S][B]=W.Wc[S][nn[B]]}return p.kc=_e(G),p.kc&&(p.Bd=ie(G,8)),p.cb=1}function so(p,v,S,k,B,G,W){var te=v[B].Yb[S];for(S=0;16>B;++B){if(!ve(p,te[S+0]))return B;for(;!ve(p,te[S+1]);)if(te=v[++B].Yb[0],S=0,B==16)return 16;var ne=v[B+1].Yb;if(ve(p,te[S+2])){var oe=p,ye=0;if(ve(oe,(se=te)[(Te=S)+3]))if(ve(oe,se[Te+6])){for(te=0,Te=2*(ye=ve(oe,se[Te+8]))+(se=ve(oe,se[Te+9+ye])),ye=0,se=pd[Te];se[te];++te)ye+=ye+ve(oe,se[te]);ye+=3+(8<<Te)}else ve(oe,se[Te+7])?(ye=7+2*ve(oe,165),ye+=ve(oe,145)):ye=5+ve(oe,159);else ye=ve(oe,se[Te+4])?3+ve(oe,se[Te+5]):2;te=ne[2]}else ye=1,te=ne[1];ne=W+Ph[B],0>(oe=p).b&&de(oe);var Te,se=oe.b,xe=(Te=oe.Ca>>1)-(oe.I>>se)>>31;--oe.b,oe.Ca+=xe,oe.Ca|=1,oe.I-=(Te+1&xe)<<se,G[ne]=((ye^xe)-xe)*k[(0<B)+0]}return 16}function _c(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function xr(p,v,S,k,B){B=p[v+S+32*k]+(B>>3),p[v+S+32*k]=-256&B?0>B?0:255:B}function Di(p,v,S,k,B,G){xr(p,v,0,S,k+B),xr(p,v,1,S,k+G),xr(p,v,2,S,k-G),xr(p,v,3,S,k-B)}function Si(p){return(20091*p>>16)+p}function xl(p,v,S,k){var B,G=0,W=o(16);for(B=0;4>B;++B){var te=p[v+0]+p[v+8],ne=p[v+0]-p[v+8],oe=(35468*p[v+4]>>16)-Si(p[v+12]),ye=Si(p[v+4])+(35468*p[v+12]>>16);W[G+0]=te+ye,W[G+1]=ne+oe,W[G+2]=ne-oe,W[G+3]=te-ye,G+=4,v++}for(B=G=0;4>B;++B)te=(p=W[G+0]+4)+W[G+8],ne=p-W[G+8],oe=(35468*W[G+4]>>16)-Si(W[G+12]),xr(S,k,0,0,te+(ye=Si(W[G+4])+(35468*W[G+12]>>16))),xr(S,k,1,0,ne+oe),xr(S,k,2,0,ne-oe),xr(S,k,3,0,te-ye),G++,k+=32}function du(p,v,S,k){var B=p[v+0]+4,G=35468*p[v+4]>>16,W=Si(p[v+4]),te=35468*p[v+1]>>16;Di(S,k,0,B+W,p=Si(p[v+1]),te),Di(S,k,1,B+G,p,te),Di(S,k,2,B-G,p,te),Di(S,k,3,B-W,p,te)}function wc(p,v,S,k,B){xl(p,v,S,k),B&&xl(p,v+16,S,k+4)}function _r(p,v,S,k){ja(p,v+0,S,k,1),ja(p,v+32,S,k+128,1)}function Sc(p,v,S,k){var B;for(p=p[v+0]+4,B=0;4>B;++B)for(v=0;4>v;++v)xr(S,k,v,B,p)}function Ac(p,v,S,k){p[v+0]&&An(p,v+0,S,k),p[v+16]&&An(p,v+16,S,k+4),p[v+32]&&An(p,v+32,S,k+128),p[v+48]&&An(p,v+48,S,k+128+4)}function Es(p,v,S,k){var B,G=o(16);for(B=0;4>B;++B){var W=p[v+0+B]+p[v+12+B],te=p[v+4+B]+p[v+8+B],ne=p[v+4+B]-p[v+8+B],oe=p[v+0+B]-p[v+12+B];G[0+B]=W+te,G[8+B]=W-te,G[4+B]=oe+ne,G[12+B]=oe-ne}for(B=0;4>B;++B)W=(p=G[0+4*B]+3)+G[3+4*B],te=G[1+4*B]+G[2+4*B],ne=G[1+4*B]-G[2+4*B],oe=p-G[3+4*B],S[k+0]=W+te>>3,S[k+16]=oe+ne>>3,S[k+32]=W-te>>3,S[k+48]=oe-ne>>3,k+=64}function Ro(p,v,S){var k,B=v-32,G=ur,W=255-p[B-1];for(k=0;k<S;++k){var te,ne=G,oe=W+p[v-1];for(te=0;te<S;++te)p[v+te]=ne[oe+p[B+te]];v+=32}}function pu(p,v){Ro(p,v,4)}function mu(p,v){Ro(p,v,8)}function Nc(p,v){Ro(p,v,16)}function Cc(p,v){var S;for(S=0;16>S;++S)r(p,v+32*S,p,v-32,16)}function gu(p,v){var S;for(S=16;0<S;--S)a(p,v,p[v-1],16),v+=32}function Mr(p,v,S){var k;for(k=0;16>k;++k)a(v,S+32*k,p,16)}function ks(p,v){var S,k=16;for(S=0;16>S;++S)k+=p[v-1+32*S]+p[v+S-32];Mr(k>>5,p,v)}function ya(p,v){var S,k=8;for(S=0;16>S;++S)k+=p[v-1+32*S];Mr(k>>4,p,v)}function Io(p,v){var S,k=8;for(S=0;16>S;++S)k+=p[v+S-32];Mr(k>>4,p,v)}function ao(p,v){Mr(128,p,v)}function jt(p,v,S){return p+2*v+S+2>>2}function vu(p,v){var S,k=v-32;for(k=new Uint8Array([jt(p[k-1],p[k+0],p[k+1]),jt(p[k+0],p[k+1],p[k+2]),jt(p[k+1],p[k+2],p[k+3]),jt(p[k+2],p[k+3],p[k+4])]),S=0;4>S;++S)r(p,v+32*S,k,0,k.length)}function Tc(p,v){var S=p[v-1],k=p[v-1+32],B=p[v-1+64],G=p[v-1+96];Ie(p,v+0,16843009*jt(p[v-1-32],S,k)),Ie(p,v+32,16843009*jt(S,k,B)),Ie(p,v+64,16843009*jt(k,B,G)),Ie(p,v+96,16843009*jt(B,G,G))}function yu(p,v){var S,k=4;for(S=0;4>S;++S)k+=p[v+S-32]+p[v-1+32*S];for(k>>=3,S=0;4>S;++S)a(p,v+32*S,k,4)}function Yr(p,v){var S=p[v-1+0],k=p[v-1+32],B=p[v-1+64],G=p[v-1-32],W=p[v+0-32],te=p[v+1-32],ne=p[v+2-32],oe=p[v+3-32];p[v+0+96]=jt(k,B,p[v-1+96]),p[v+1+96]=p[v+0+64]=jt(S,k,B),p[v+2+96]=p[v+1+64]=p[v+0+32]=jt(G,S,k),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=jt(W,G,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=jt(te,W,G),p[v+3+32]=p[v+2+0]=jt(ne,te,W),p[v+3+0]=jt(oe,ne,te)}function Qi(p,v){var S=p[v+1-32],k=p[v+2-32],B=p[v+3-32],G=p[v+4-32],W=p[v+5-32],te=p[v+6-32],ne=p[v+7-32];p[v+0+0]=jt(p[v+0-32],S,k),p[v+1+0]=p[v+0+32]=jt(S,k,B),p[v+2+0]=p[v+1+32]=p[v+0+64]=jt(k,B,G),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=jt(B,G,W),p[v+3+32]=p[v+2+64]=p[v+1+96]=jt(G,W,te),p[v+3+64]=p[v+2+96]=jt(W,te,ne),p[v+3+96]=jt(te,ne,ne)}function Ec(p,v){var S=p[v-1+0],k=p[v-1+32],B=p[v-1+64],G=p[v-1-32],W=p[v+0-32],te=p[v+1-32],ne=p[v+2-32],oe=p[v+3-32];p[v+0+0]=p[v+1+64]=G+W+1>>1,p[v+1+0]=p[v+2+64]=W+te+1>>1,p[v+2+0]=p[v+3+64]=te+ne+1>>1,p[v+3+0]=ne+oe+1>>1,p[v+0+96]=jt(B,k,S),p[v+0+64]=jt(k,S,G),p[v+0+32]=p[v+1+96]=jt(S,G,W),p[v+1+32]=p[v+2+96]=jt(G,W,te),p[v+2+32]=p[v+3+96]=jt(W,te,ne),p[v+3+32]=jt(te,ne,oe)}function Bo(p,v){var S=p[v+0-32],k=p[v+1-32],B=p[v+2-32],G=p[v+3-32],W=p[v+4-32],te=p[v+5-32],ne=p[v+6-32],oe=p[v+7-32];p[v+0+0]=S+k+1>>1,p[v+1+0]=p[v+0+64]=k+B+1>>1,p[v+2+0]=p[v+1+64]=B+G+1>>1,p[v+3+0]=p[v+2+64]=G+W+1>>1,p[v+0+32]=jt(S,k,B),p[v+1+32]=p[v+0+96]=jt(k,B,G),p[v+2+32]=p[v+1+96]=jt(B,G,W),p[v+3+32]=p[v+2+96]=jt(G,W,te),p[v+3+64]=jt(W,te,ne),p[v+3+96]=jt(te,ne,oe)}function Wr(p,v){var S=p[v-1+0],k=p[v-1+32],B=p[v-1+64],G=p[v-1+96];p[v+0+0]=S+k+1>>1,p[v+2+0]=p[v+0+32]=k+B+1>>1,p[v+2+32]=p[v+0+64]=B+G+1>>1,p[v+1+0]=jt(S,k,B),p[v+3+0]=p[v+1+32]=jt(k,B,G),p[v+3+32]=p[v+1+64]=jt(B,G,G),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=G}function zo(p,v){var S=p[v-1+0],k=p[v-1+32],B=p[v-1+64],G=p[v-1+96],W=p[v-1-32],te=p[v+0-32],ne=p[v+1-32],oe=p[v+2-32];p[v+0+0]=p[v+2+32]=S+W+1>>1,p[v+0+32]=p[v+2+64]=k+S+1>>1,p[v+0+64]=p[v+2+96]=B+k+1>>1,p[v+0+96]=G+B+1>>1,p[v+3+0]=jt(te,ne,oe),p[v+2+0]=jt(W,te,ne),p[v+1+0]=p[v+3+32]=jt(S,W,te),p[v+1+32]=p[v+3+64]=jt(k,S,W),p[v+1+64]=p[v+3+96]=jt(B,k,S),p[v+1+96]=jt(G,B,k)}function Zs(p,v){var S;for(S=0;8>S;++S)r(p,v+32*S,p,v-32,8)}function bu(p,v){var S;for(S=0;8>S;++S)a(p,v,p[v-1],8),v+=32}function ns(p,v,S){var k;for(k=0;8>k;++k)a(v,S+32*k,p,8)}function _l(p,v){var S,k=8;for(S=0;8>S;++S)k+=p[v+S-32]+p[v-1+32*S];ns(k>>4,p,v)}function wl(p,v){var S,k=4;for(S=0;8>S;++S)k+=p[v+S-32];ns(k>>3,p,v)}function Ui(p,v){var S,k=4;for(S=0;8>S;++S)k+=p[v-1+32*S];ns(k>>3,p,v)}function Ks(p,v){ns(128,p,v)}function is(p,v,S){var k=p[v-S],B=p[v+0],G=3*(B-k)+Ra[1020+p[v-2*S]-p[v+S]],W=Bc[112+(G+4>>3)];p[v-S]=ur[255+k+Bc[112+(G+3>>3)]],p[v+0]=ur[255+B-W]}function ba(p,v,S,k){var B=p[v+0],G=p[v+S];return er[255+p[v-2*S]-p[v-S]]>k||er[255+G-B]>k}function Sl(p,v,S,k){return 4*er[255+p[v-S]-p[v+0]]+er[255+p[v-2*S]-p[v+S]]<=k}function qo(p,v,S,k,B){var G=p[v-3*S],W=p[v-2*S],te=p[v-S],ne=p[v+0],oe=p[v+S],ye=p[v+2*S],Te=p[v+3*S];return 4*er[255+te-ne]+er[255+W-oe]>k?0:er[255+p[v-4*S]-G]<=B&&er[255+G-W]<=B&&er[255+W-te]<=B&&er[255+Te-ye]<=B&&er[255+ye-oe]<=B&&er[255+oe-ne]<=B}function xa(p,v,S,k){var B=2*k+1;for(k=0;16>k;++k)Sl(p,v+k,S,B)&&is(p,v+k,S)}function _a(p,v,S,k){var B=2*k+1;for(k=0;16>k;++k)Sl(p,v+k*S,1,B)&&is(p,v+k*S,1)}function Fo(p,v,S,k){var B;for(B=3;0<B;--B)xa(p,v+=4*S,S,k)}function kc(p,v,S,k){var B;for(B=3;0<B;--B)_a(p,v+=4,S,k)}function wa(p,v,S,k,B,G,W,te){for(G=2*G+1;0<B--;){if(qo(p,v,S,G,W))if(ba(p,v,S,te))is(p,v,S);else{var ne=p,oe=v,ye=S,Te=ne[oe-2*ye],se=ne[oe-ye],xe=ne[oe+0],Ne=ne[oe+ye],ze=ne[oe+2*ye],Ce=27*(Ue=Ra[1020+3*(xe-se)+Ra[1020+Te-Ne]])+63>>7,Be=18*Ue+63>>7,Ue=9*Ue+63>>7;ne[oe-3*ye]=ur[255+ne[oe-3*ye]+Ue],ne[oe-2*ye]=ur[255+Te+Be],ne[oe-ye]=ur[255+se+Ce],ne[oe+0]=ur[255+xe-Ce],ne[oe+ye]=ur[255+Ne-Be],ne[oe+2*ye]=ur[255+ze-Ue]}v+=k}}function Sa(p,v,S,k,B,G,W,te){for(G=2*G+1;0<B--;){if(qo(p,v,S,G,W))if(ba(p,v,S,te))is(p,v,S);else{var ne=p,oe=v,ye=S,Te=ne[oe-ye],se=ne[oe+0],xe=ne[oe+ye],Ne=Bc[112+(4+(ze=3*(se-Te))>>3)],ze=Bc[112+(ze+3>>3)],Ce=Ne+1>>1;ne[oe-2*ye]=ur[255+ne[oe-2*ye]+Ce],ne[oe-ye]=ur[255+Te+ze],ne[oe+0]=ur[255+se-Ne],ne[oe+ye]=ur[255+xe-Ce]}v+=k}}function xu(p,v,S,k,B,G){wa(p,v,S,1,16,k,B,G)}function Aa(p,v,S,k,B,G){wa(p,v,1,S,16,k,B,G)}function _u(p,v,S,k,B,G){var W;for(W=3;0<W;--W)Sa(p,v+=4*S,S,1,16,k,B,G)}function _(p,v,S,k,B,G){var W;for(W=3;0<W;--W)Sa(p,v+=4,1,S,16,k,B,G)}function I(p,v,S,k,B,G,W,te){wa(p,v,B,1,8,G,W,te),wa(S,k,B,1,8,G,W,te)}function le(p,v,S,k,B,G,W,te){wa(p,v,1,B,8,G,W,te),wa(S,k,1,B,8,G,W,te)}function ge(p,v,S,k,B,G,W,te){Sa(p,v+4*B,B,1,8,G,W,te),Sa(S,k+4*B,B,1,8,G,W,te)}function Se(p,v,S,k,B,G,W,te){Sa(p,v+4,1,B,8,G,W,te),Sa(S,k+4,1,B,8,G,W,te)}function Pe(){this.ba=new it,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new at,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ze(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Nt(){this.ua=0,this.Wa=new ct,this.vb=new ct,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new V}function zt(){this.xb=this.a=0,this.l=new va,this.ca=new it,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Nt,this.ab=0,this.gc=h(4,bt),this.Oc=0}function Gt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new va,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function un(p,v,S,k,B,G,W){for(p=p==null?0:p[v+0],v=0;v<W;++v)B[G+v]=p+S[k+v]&255,p=B[G+v]}function ti(p,v,S,k,B,G,W){var te;if(p==null)un(null,null,S,k,B,G,W);else for(te=0;te<W;++te)B[G+te]=p[v+te]+S[k+te]&255}function yi(p,v,S,k,B,G,W){if(p==null)un(null,null,S,k,B,G,W);else{var te,ne=p[v+0],oe=ne,ye=ne;for(te=0;te<W;++te)oe=ye+(ne=p[v+te])-oe,ye=S[k+te]+(-256&oe?0>oe?0:255:oe)&255,oe=ne,B[G+te]=ye}}function Fn(p,v,S,k){var B=v.width,G=v.o;if(e(p!=null&&v!=null),0>S||0>=k||S+k>G)return null;if(!p.Cc){if(p.ga==null){var W;if(p.ga=new Gt,(W=p.ga==null)||(W=v.width*v.o,e(p.Gb.length==0),p.Gb=o(W),p.Uc=0,p.Gb==null?W=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,W=1),W=!W),!W){W=p.ga;var te=p.Fa,ne=p.P,oe=p.qc,ye=p.mb,Te=p.nb,se=ne+1,xe=oe-1,Ne=W.l;if(e(te!=null&&ye!=null&&v!=null),Ia[0]=null,Ia[1]=un,Ia[2]=ti,Ia[3]=yi,W.ca=ye,W.tb=Te,W.c=v.width,W.i=v.height,e(0<W.c&&0<W.i),1>=oe)v=0;else if(W.$a=3&te[ne+0],W.Z=te[ne+0]>>2&3,W.Lc=te[ne+0]>>4&3,ne=te[ne+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||ne)v=0;else if(Ne.put=mt,Ne.ac=mn,Ne.bc=an,Ne.ma=W,Ne.width=v.width,Ne.height=v.height,Ne.Da=v.Da,Ne.v=v.v,Ne.va=v.va,Ne.j=v.j,Ne.o=v.o,W.$a)e:{e(W.$a==1),v=ma();t:for(;;){if(v==null){v=0;break e}if(e(W!=null),W.mc=v,v.c=W.c,v.i=W.i,v.l=W.l,v.l.ma=W,v.l.width=W.c,v.l.height=W.i,v.a=0,he(v.m,te,se,xe),!Pr(W.c,W.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Tn(v.s)?(W.ic=1,te=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(te),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(W.ic=0,v=Ur(v,W.c)),!v))break t;v=1;break e}W.mc=null,v=0}else v=xe>=W.c*W.i;W=!v}if(W)return null;p.ga.Lc!=1?p.Ga=0:k=G-S}e(p.ga!=null),e(S+k<=G);e:{if(v=(te=p.ga).c,G=te.l.o,te.$a==0){if(se=p.rc,xe=p.Vc,Ne=p.Fa,ne=p.P+1+S*v,oe=p.mb,ye=p.nb+S*v,e(ne<=p.P+p.qc),te.Z!=0)for(e(Ia[te.Z]!=null),W=0;W<k;++W)Ia[te.Z](se,xe,Ne,ne,oe,ye,v),se=oe,xe=ye,ye+=v,ne+=v;else for(W=0;W<k;++W)r(oe,ye,Ne,ne,v),se=oe,xe=ye,ye+=v,ne+=v;p.rc=se,p.Vc=xe}else{if(e(te.mc!=null),v=S+k,e((W=te.mc)!=null),e(v<=W.i),W.C>=v)v=1;else if(te.ic||Os(),te.ic){te=W.V,se=W.Ba,xe=W.c;var ze=W.i,Ce=(Ne=1,ne=W.$/xe,oe=W.$%xe,ye=W.m,Te=W.s,W.$),Be=xe*ze,Ue=xe*v,Je=Te.wc,Xe=Ce<Ue?Cn(Te,oe,ne):null;e(Ce<=Be),e(v<=ze),e(Tn(Te));t:for(;;){for(;!ye.h&&Ce<Ue;){if(oe&Je||(Xe=Cn(Te,oe,ne)),e(Xe!=null),me(ye),256>(ze=tn(Xe.G[0],Xe.H[0],ye)))te[se+Ce]=ze,++Ce,++oe>=xe&&(oe=0,++ne<=v&&!(ne%16)&&Pi(W,ne));else{if(!(280>ze)){Ne=0;break t}ze=gn(ze-256,ye);var _t,ft=tn(Xe.G[4],Xe.H[4],ye);if(me(ye),!(Ce>=(ft=Dn(xe,ft=gn(ft,ye)))&&Be-Ce>=ze)){Ne=0;break t}for(_t=0;_t<ze;++_t)te[se+Ce+_t]=te[se+Ce+_t-ft];for(Ce+=ze,oe+=ze;oe>=xe;)oe-=xe,++ne<=v&&!(ne%16)&&Pi(W,ne);Ce<Ue&&oe&Je&&(Xe=Cn(Te,oe,ne))}e(ye.h==re(ye))}Pi(W,ne>v?v:ne);break t}!Ne||ye.h&&Ce<Be?(Ne=0,W.a=ye.h?5:3):W.$=Ce,v=Ne}else v=lr(W,W.V,W.Ba,W.c,W.i,v,Ys);if(!v){k=0;break e}}S+k>=G&&(p.Cc=1),k=1}if(!k)return null;if(p.Cc&&((k=p.ga)!=null&&(k.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*B}function ji(p,v,S,k,B,G){for(;0<B--;){var W,te=p,ne=v+(S?1:0),oe=p,ye=v+(S?0:3);for(W=0;W<k;++W){var Te=oe[ye+4*W];Te!=255&&(Te*=32897,te[ne+4*W+0]=te[ne+4*W+0]*Te>>23,te[ne+4*W+1]=te[ne+4*W+1]*Te>>23,te[ne+4*W+2]=te[ne+4*W+2]*Te>>23)}v+=G}}function Ai(p,v,S,k,B){for(;0<k--;){var G;for(G=0;G<S;++G){var W=p[v+2*G+0],te=15&(oe=p[v+2*G+1]),ne=4369*te,oe=(240&oe|oe>>4)*ne>>16;p[v+2*G+0]=(240&W|W>>4)*ne>>16&240|(15&W|W<<4)*ne>>16>>4&15,p[v+2*G+1]=240&oe|te}v+=B}}function $i(p,v,S,k,B,G,W,te){var ne,oe,ye=255;for(oe=0;oe<B;++oe){for(ne=0;ne<k;++ne){var Te=p[v+ne];G[W+4*ne]=Te,ye&=Te}v+=S,W+=te}return ye!=255}function Na(p,v,S,k,B){var G;for(G=0;G<B;++G)S[k+G]=p[v+G]>>8}function Os(){Ho=ji,ss=Ai,jc=$i,Kr=Na}function Ca(p,v,S){R[p]=function(k,B,G,W,te,ne,oe,ye,Te,se,xe,Ne,ze,Ce,Be,Ue,Je){var Xe,_t=Je-1>>1,ft=te[ne+0]|oe[ye+0]<<16,Pt=Te[se+0]|xe[Ne+0]<<16;e(k!=null);var yt=3*ft+Pt+131074>>2;for(v(k[B+0],255&yt,yt>>16,ze,Ce),G!=null&&(yt=3*Pt+ft+131074>>2,v(G[W+0],255&yt,yt>>16,Be,Ue)),Xe=1;Xe<=_t;++Xe){var en=te[ne+Xe]|oe[ye+Xe]<<16,Zn=Te[se+Xe]|xe[Ne+Xe]<<16,Yt=ft+en+Pt+Zn+524296,dt=Yt+2*(en+Pt)>>3;yt=dt+ft>>1,ft=(Yt=Yt+2*(ft+Zn)>>3)+en>>1,v(k[B+2*Xe-1],255&yt,yt>>16,ze,Ce+(2*Xe-1)*S),v(k[B+2*Xe-0],255&ft,ft>>16,ze,Ce+(2*Xe-0)*S),G!=null&&(yt=Yt+Pt>>1,ft=dt+Zn>>1,v(G[W+2*Xe-1],255&yt,yt>>16,Be,Ue+(2*Xe-1)*S),v(G[W+2*Xe+0],255&ft,ft>>16,Be,Ue+(2*Xe+0)*S)),ft=en,Pt=Zn}1&Je||(yt=3*ft+Pt+131074>>2,v(k[B+Je-1],255&yt,yt>>16,ze,Ce+(Je-1)*S),G!=null&&(yt=3*Pt+ft+131074>>2,v(G[W+Je-1],255&yt,yt>>16,Be,Ue+(Je-1)*S)))}}function Oc(){nr[Nu]=Wo,nr[hr]=jl,nr[Cu]=Vh,nr[as]=Mu,nr[zc]=po,nr[Ml]=sa,nr[uo]=mo,nr[qc]=jl,nr[Tu]=Mu,nr[Ll]=po,nr[Eu]=sa}function Al(p){return p&-16384?0>p?0:255:p>>Lu}function Qs(p,v){return Al((19077*p>>8)+(26149*v>>8)-14234)}function Ms(p,v,S){return Al((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function Po(p,v){return Al((19077*p>>8)+(33050*v>>8)-17685)}function Ta(p,v,S,k,B){k[B+0]=Qs(p,S),k[B+1]=Ms(p,v,S),k[B+2]=Po(p,v)}function Vi(p,v,S,k,B){k[B+0]=Po(p,v),k[B+1]=Ms(p,v,S),k[B+2]=Qs(p,S)}function oo(p,v,S,k,B){var G=Ms(p,v,S);v=G<<3&224|Po(p,v)>>3,k[B+0]=248&Qs(p,S)|G>>5,k[B+1]=v}function lo(p,v,S,k,B){var G=240&Po(p,v)|15;k[B+0]=240&Qs(p,S)|Ms(p,v,S)>>4,k[B+1]=G}function Nl(p,v,S,k,B){k[B+0]=255,Ta(p,v,S,k,B+1)}function $s(p,v,S,k,B){Vi(p,v,S,k,B),k[B+3]=255}function wr(p,v,S,k,B){Ta(p,v,S,k,B),k[B+3]=255}function Ea(p,v,S){R[p]=function(k,B,G,W,te,ne,oe,ye,Te){for(var se=ye+(-2&Te)*S;ye!=se;)v(k[B+0],G[W+0],te[ne+0],oe,ye),v(k[B+1],G[W+0],te[ne+0],oe,ye+S),B+=2,++W,++ne,ye+=2*S;1&Te&&v(k[B+0],G[W+0],te[ne+0],oe,ye)}}function Cl(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function Mc(p,v,S,k,B){switch(p>>>30){case 3:ja(v,S,k,B,0);break;case 2:cr(v,S,k,B);break;case 1:An(v,S,k,B)}}function Xr(p,v){var S,k,B=v.M,G=v.Nb,W=p.oc,te=p.pc+40,ne=p.oc,oe=p.pc+584,ye=p.oc,Te=p.pc+600;for(S=0;16>S;++S)W[te+32*S-1]=129;for(S=0;8>S;++S)ne[oe+32*S-1]=129,ye[Te+32*S-1]=129;for(0<B?W[te-1-32]=ne[oe-1-32]=ye[Te-1-32]=129:(a(W,te-32-1,127,21),a(ne,oe-32-1,127,9),a(ye,Te-32-1,127,9)),k=0;k<p.za;++k){var se=v.ya[v.aa+k];if(0<k){for(S=-1;16>S;++S)r(W,te+32*S-4,W,te+32*S+12,4);for(S=-1;8>S;++S)r(ne,oe+32*S-4,ne,oe+32*S+4,4),r(ye,Te+32*S-4,ye,Te+32*S+4,4)}var xe=p.Gd,Ne=p.Hd+k,ze=se.ad,Ce=se.Hc;if(0<B&&(r(W,te-32,xe[Ne].y,0,16),r(ne,oe-32,xe[Ne].f,0,8),r(ye,Te-32,xe[Ne].ea,0,8)),se.Za){var Be=W,Ue=te-32+16;for(0<B&&(k>=p.za-1?a(Be,Ue,xe[Ne].y[15],4):r(Be,Ue,xe[Ne+1].y,0,4)),S=0;4>S;S++)Be[Ue+128+S]=Be[Ue+256+S]=Be[Ue+384+S]=Be[Ue+0+S];for(S=0;16>S;++S,Ce<<=2)Be=W,Ue=te+_i[S],hi[se.Ob[S]](Be,Ue),Mc(Ce,ze,16*+S,Be,Ue)}else if(Be=Cl(k,B,se.Ob[0]),Ar[Be](W,te),Ce!=0)for(S=0;16>S;++S,Ce<<=2)Mc(Ce,ze,16*+S,W,te+_i[S]);for(S=se.Gc,Be=Cl(k,B,se.Dd),Rs[Be](ne,oe),Rs[Be](ye,Te),Ce=ze,Be=ne,Ue=oe,255&(se=0|S)&&(170&se?rs(Ce,256,Be,Ue):hn(Ce,256,Be,Ue)),se=ye,Ce=Te,255&(S>>=8)&&(170&S?rs(ze,320,se,Ce):hn(ze,320,se,Ce)),B<p.Ub-1&&(r(xe[Ne].y,0,W,te+480,16),r(xe[Ne].f,0,ne,oe+224,8),r(xe[Ne].ea,0,ye,Te+224,8)),S=8*G*p.B,xe=p.sa,Ne=p.ta+16*k+16*G*p.R,ze=p.qa,se=p.ra+8*k+S,Ce=p.Ha,Be=p.Ia+8*k+S,S=0;16>S;++S)r(xe,Ne+S*p.R,W,te+32*S,16);for(S=0;8>S;++S)r(ze,se+S*p.B,ne,oe+32*S,8),r(Ce,Be+S*p.B,ye,Te+32*S,8)}}function Ls(p,v,S,k,B,G,W,te,ne){var oe=[0],ye=[0],Te=0,se=ne!=null?ne.kd:0,xe=ne??new Ze;if(p==null||12>S)return 7;xe.data=p,xe.w=v,xe.ha=S,v=[v],S=[S],xe.gb=[xe.gb];e:{var Ne=v,ze=S,Ce=xe.gb;if(e(p!=null),e(ze!=null),e(Ce!=null),Ce[0]=0,12<=ze[0]&&!t(p,Ne[0],"RIFF")){if(t(p,Ne[0]+8,"WEBP")){Ce=3;break e}var Be=Qe(p,Ne[0]+4);if(12>Be||4294967286<Be){Ce=3;break e}if(se&&Be>ze[0]-8){Ce=7;break e}Ce[0]=Be,Ne[0]+=12,ze[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Be=0<xe.gb[0],S=S[0];;){e:{var Ue=p;ze=v,Ce=S;var Je=oe,Xe=ye,_t=Ne=[0];if((yt=Te=[Te])[0]=0,8>Ce[0])Ce=7;else{if(!t(Ue,ze[0],"VP8X")){if(Qe(Ue,ze[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var ft=Qe(Ue,ze[0]+8),Pt=1+Ge(Ue,ze[0]+12);if(2147483648<=Pt*(Ue=1+Ge(Ue,ze[0]+15))){Ce=3;break e}_t!=null&&(_t[0]=ft),Je!=null&&(Je[0]=Pt),Xe!=null&&(Xe[0]=Ue),ze[0]+=18,Ce[0]-=18,yt[0]=1}Ce=0}}if(Te=Te[0],Ne=Ne[0],Ce!=0)return Ce;if(ze=!!(2&Ne),!Be&&Te)return 3;if(G!=null&&(G[0]=!!(16&Ne)),W!=null&&(W[0]=ze),te!=null&&(te[0]=0),W=oe[0],Ne=ye[0],Te&&ze&&ne==null){Ce=0;break}if(4>S){Ce=7;break}if(Be&&Te||!Be&&!Te&&!t(p,v[0],"ALPH")){S=[S],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{ft=p,Ce=v,Be=S;var yt=xe.gb;Je=xe.na,Xe=xe.P,_t=xe.Sa,Pt=22,e(ft!=null),e(Be!=null),Ue=Ce[0];var en=Be[0];for(e(Je!=null),e(_t!=null),Je[0]=null,Xe[0]=null,_t[0]=0;;){if(Ce[0]=Ue,Be[0]=en,8>en){Ce=7;break e}var Zn=Qe(ft,Ue+4);if(4294967286<Zn){Ce=3;break e}var Yt=8+Zn+1&-2;if(Pt+=Yt,0<yt&&Pt>yt){Ce=3;break e}if(!t(ft,Ue,"VP8 ")||!t(ft,Ue,"VP8L")){Ce=0;break e}if(en[0]<Yt){Ce=7;break e}t(ft,Ue,"ALPH")||(Je[0]=ft,Xe[0]=Ue+8,_t[0]=Zn),Ue+=Yt,en-=Yt}}if(S=S[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],Ce!=0)break}S=[S],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(yt=p,Ce=v,Be=S,Je=xe.gb[0],Xe=xe.Ja,_t=xe.xa,ft=Ce[0],Ue=!t(yt,ft,"VP8 "),Pt=!t(yt,ft,"VP8L"),e(yt!=null),e(Be!=null),e(Xe!=null),e(_t!=null),8>Be[0])Ce=7;else{if(Ue||Pt){if(yt=Qe(yt,ft+4),12<=Je&&yt>Je-12){Ce=3;break e}if(se&&yt>Be[0]-8){Ce=7;break e}Xe[0]=yt,Ce[0]+=8,Be[0]-=8,_t[0]=Pt}else _t[0]=5<=Be[0]&&yt[ft+0]==47&&!(yt[ft+4]>>5),Xe[0]=Be[0];Ce=0}if(S=S[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],v=v[0],Ce!=0)break;if(4294967286<xe.Ja)return 3;if(te==null||ze||(te[0]=xe.xa?2:1),W=[W],Ne=[Ne],xe.xa){if(5>S){Ce=7;break}te=W,se=Ne,ze=G,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(Be=[0],yt=[0],Je=[0],he(Xe=new H,p,v,S),zn(Xe,Be,yt,Je)?(te!=null&&(te[0]=Be[0]),se!=null&&(se[0]=yt[0]),ze!=null&&(ze[0]=Je[0]),p=1):p=0):p=0}else{if(10>S){Ce=7;break}te=Ne,p==null||10>S||!xc(p,v+3,S-3)?p=0:(se=p[v+0]|p[v+1]<<8|p[v+2]<<16,ze=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&se||3<(se>>1&7)||!(se>>4&1)||se>>5>=xe.Ja||!ze||!p?p=0:(W&&(W[0]=ze),te&&(te[0]=p),p=1))}if(!p||(W=W[0],Ne=Ne[0],Te&&(oe[0]!=W||ye[0]!=Ne)))return 3;ne!=null&&(ne[0]=xe,ne.offset=v-ne.w,e(4294967286>v-ne.w),e(ne.offset==ne.ha-S));break}return Ce==0||Ce==7&&Te&&ne==null?(G!=null&&(G[0]|=xe.na!=null&&0<xe.na.length),k!=null&&(k[0]=W),B!=null&&(B[0]=Ne),0):Ce}function ka(p,v,S){var k=v.width,B=v.height,G=0,W=0,te=k,ne=B;if(v.Da=p!=null&&0<p.Da,v.Da&&(te=p.cd,ne=p.bd,G=p.v,W=p.j,11>S||(G&=-2,W&=-2),0>G||0>W||0>=te||0>=ne||G+te>k||W+ne>B))return 0;if(v.v=G,v.j=W,v.va=G+te,v.o=W+ne,v.U=te,v.T=ne,v.da=p!=null&&0<p.da,v.da){if(!tt(te,ne,S=[p.ib],G=[p.hb]))return 0;v.ib=S[0],v.hb=G[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*k/4&&v.hb<3*B/4,v.Kb=0),1}function Lc(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Ds(p,v,S,k){if(k==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var B=S.cd,G=S.bd,W=-2&S.v,te=-2&S.j;if(0>W||0>te||0>=B||0>=G||W+B>p||te+G>v)return 2;p=B,v=G}if(S.da){if(!tt(p,v,B=[S.ib],G=[S.hb]))return 2;p=B[0],v=G[0]}}k.width=p,k.height=v;e:{var ne=k.width,oe=k.height;if(p=k.S,0>=ne||0>=oe||!(p>=Nu&&13>p))p=2;else{if(0>=k.Rd&&k.sd==null){W=G=B=v=0;var ye=(te=ne*ju[p])*oe;if(11>p||(G=(oe+1)/2*(v=(ne+1)/2),p==12&&(W=(B=ne)*oe)),(oe=o(ye+2*G+W))==null){p=1;break e}k.sd=oe,11>p?((ne=k.f.RGBA).eb=oe,ne.fb=0,ne.A=te,ne.size=ye):((ne=k.f.kb).y=oe,ne.O=0,ne.fa=te,ne.Fd=ye,ne.f=oe,ne.N=0+ye,ne.Ab=v,ne.Cd=G,ne.ea=oe,ne.W=0+ye+G,ne.Db=v,ne.Ed=G,p==12&&(ne.F=oe,ne.J=0+ye+2*G),ne.Tc=W,ne.lb=B)}if(v=1,B=k.S,G=k.width,W=k.height,B>=Nu&&13>B)if(11>B)p=k.f.RGBA,v&=(te=Math.abs(p.A))*(W-1)+G<=p.size,v&=te>=G*ju[B],v&=p.eb!=null;else{p=k.f.kb,te=(G+1)/2,ye=(W+1)/2,ne=Math.abs(p.fa),oe=Math.abs(p.Ab);var Te=Math.abs(p.Db),se=Math.abs(p.lb),xe=se*(W-1)+G;v&=ne*(W-1)+G<=p.Fd,v&=oe*(ye-1)+te<=p.Cd,v=(v&=Te*(ye-1)+te<=p.Ed)&ne>=G&oe>=te&Te>=te,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,B==12&&(v&=se>=G,v&=xe<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=Lc(k)),p}var co=64,Lr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Sr=24,Js=32,ea=8,Oa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(p){return p},R.Predictor2=function(p,v,S){return v[S+0]},R.Predictor3=function(p,v,S){return v[S+1]},R.Predictor4=function(p,v,S){return v[S-1]},R.Predictor5=function(p,v,S){return ut(ut(p,v[S+1]),v[S+0])},R.Predictor6=function(p,v,S){return ut(p,v[S-1])},R.Predictor7=function(p,v,S){return ut(p,v[S+0])},R.Predictor8=function(p,v,S){return ut(v[S-1],v[S+0])},R.Predictor9=function(p,v,S){return ut(v[S+0],v[S+1])},R.Predictor10=function(p,v,S){return ut(ut(p,v[S-1]),ut(v[S+0],v[S+1]))},R.Predictor11=function(p,v,S){var k=v[S+0];return 0>=$e(k>>24&255,p>>24&255,(v=v[S-1])>>24&255)+$e(k>>16&255,p>>16&255,v>>16&255)+$e(k>>8&255,p>>8&255,v>>8&255)+$e(255&k,255&p,255&v)?k:p},R.Predictor12=function(p,v,S){var k=v[S+0];return(Ot((p>>24&255)+(k>>24&255)-((v=v[S-1])>>24&255))<<24|Ot((p>>16&255)+(k>>16&255)-(v>>16&255))<<16|Ot((p>>8&255)+(k>>8&255)-(v>>8&255))<<8|Ot((255&p)+(255&k)-(255&v)))>>>0},R.Predictor13=function(p,v,S){var k=v[S-1];return(We((p=ut(p,v[S+0]))>>24&255,k>>24&255)<<24|We(p>>16&255,k>>16&255)<<16|We(p>>8&255,k>>8&255)<<8|We(255&p,255&k))>>>0};var Tl=R.PredictorAdd0;R.PredictorAdd1=ot,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var El=R.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var bi,wu=R.ColorIndexInverseTransform,ta=R.MapARGB,na=R.VP8LColorIndexInverseTransformAlpha,Ji=R.MapAlpha,Ma=R.VP8LPredictorsAdd=[];Ma.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var kl,Ol,La,Da,ia,Uo,Zr,ja,cr,rs,An,hn,Pn,xi,ra,js,Vo,Dc,zh,hd,fd,dd,qh,Fh,Ho,ss,jc,Kr,Go=o(511),Su=o(2041),Rc=o(225),Ic=o(767),Au=0,Ra=Su,Bc=Rc,ur=Ic,er=Go,Nu=0,hr=1,Cu=2,as=3,zc=4,Ml=5,uo=6,qc=7,Tu=8,Ll=9,Eu=10,os=[2,3,7],Dl=[3,3,11],Yo=[280,256,256,256,40],ku=[0,1,1,1,0],Fc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ls=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],cs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ho=8,us=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qr=null,pd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ph=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ou=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],md=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Xn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ar=[],hi=[],Rs=[],fo=1,Uh=2,Ia=[],nr=[];Ca("UpsampleRgbLinePair",Ta,3),Ca("UpsampleBgrLinePair",Vi,3),Ca("UpsampleRgbaLinePair",wr,4),Ca("UpsampleBgraLinePair",$s,4),Ca("UpsampleArgbLinePair",Nl,4),Ca("UpsampleRgba4444LinePair",lo,2),Ca("UpsampleRgb565LinePair",oo,2);var Wo=R.UpsampleRgbLinePair,Vh=R.UpsampleBgrLinePair,jl=R.UpsampleRgbaLinePair,Mu=R.UpsampleBgraLinePair,po=R.UpsampleArgbLinePair,sa=R.UpsampleRgba4444LinePair,mo=R.UpsampleRgb565LinePair,fs=16,Rl=1<<fs-1,Xo=-227,go=482,Lu=6,vo=0,ir=o(256),Du=o(256),gd=o(256),k1=o(256),O1=o(go-Xo),M1=o(go-Xo);Ea("YuvToRgbRow",Ta,3),Ea("YuvToBgrRow",Vi,3),Ea("YuvToRgbaRow",wr,4),Ea("YuvToBgraRow",$s,4),Ea("YuvToArgbRow",Nl,4),Ea("YuvToRgba4444Row",lo,2),Ea("YuvToRgb565Row",oo,2);var _i=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Il=[0,2,8],Pc=[8,7,6,4,4,2,2,2,1,1,1,1],Uc=1;this.WebPDecodeRGBA=function(p,v,S,k,B){var G=hr,W=new Pe,te=new it;W.ba=te,te.S=G,te.width=[te.width],te.height=[te.height];var ne=te.width,oe=te.height,ye=new Ke;if(ye==null||p==null)var Te=2;else e(ye!=null),Te=Ls(p,v,S,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Te!=0?ne=0:(ne!=null&&(ne[0]=ye.width[0]),oe!=null&&(oe[0]=ye.height[0]),ne=1),ne){te.width=te.width[0],te.height=te.height[0],k!=null&&(k[0]=te.width),B!=null&&(B[0]=te.height);e:{if(k=new va,(B=new Ze).data=p,B.w=v,B.ha=S,B.kd=1,v=[0],e(B!=null),((p=Ls(B.data,B.w,B.ha,null,null,null,v,null,B))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(W!=null),k.data=B.data,k.w=B.w+B.offset,k.ha=B.ha-B.offset,k.put=mt,k.ac=mn,k.bc=an,k.ma=W,B.xa){if((p=ma())==null){W=1;break e}if((function(se,xe){var Ne=[0],ze=[0],Ce=[0];t:for(;;){if(se==null)return 0;if(xe==null)return se.a=2,0;if(se.l=xe,se.a=0,he(se.m,xe.data,xe.w,xe.ha),!zn(se.m,Ne,ze,Ce)){se.a=3;break t}if(se.xb=Uh,xe.width=Ne[0],xe.height=ze[0],!Pr(Ne[0],ze[0],1,se,null))break t;return 1}return e(se.a!=0),0})(p,k)){if(k=(v=Ds(k.width,k.height,W.Oa,W.ba))==0){t:{k=p;n:for(;;){if(k==null){k=0;break t}if(e(k.s.yc!=null),e(k.s.Ya!=null),e(0<k.s.Wb),e((S=k.l)!=null),e((B=S.ma)!=null),k.xb!=0){if(k.ca=B.ba,k.tb=B.tb,e(k.ca!=null),!ka(B.Oa,S,as)){k.a=2;break n}if(!Ur(k,S.width)||S.da)break n;if((S.da||Le(k.ca.S))&&Os(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&Os()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!P(k.s.vb,k.s.Wa.Xa)){k.a=1;break n}k.xb=0}if(!lr(k,k.V,k.Ba,k.c,k.i,S.o,ui))break n;B.Dc=k.Ma,k=1;break t}e(k.a!=0),k=0}k=!k}k&&(v=p.a)}else v=p.a}else{if((p=new Ts)==null){W=1;break e}if(p.Fa=B.na,p.P=B.P,p.qc=B.Sa,Xs(p,k)){if((v=Ds(k.width,k.height,W.Oa,W.ba))==0){if(p.Aa=0,S=W.Oa,e((B=p)!=null),S!=null){if(0<(ne=0>(ne=S.Md)?0:100<ne?255:255*ne/100)){for(oe=ye=0;4>oe;++oe)12>(Te=B.pb[oe]).lc&&(Te.ia=ne*Pc[0>Te.lc?0:Te.lc]>>3),ye|=Te.ia;ye&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=S.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(se,xe){if(se==null)return 0;if(xe==null)return Sn(se,2,"NULL VP8Io parameter in VP8Decode().");if(!se.cb&&!Xs(se,xe))return 0;if(e(se.cb),xe.ac==null||xe.ac(xe)){xe.ob&&(se.L=0);var Ne=Il[se.L];if(se.L==2?(se.yb=0,se.zb=0):(se.yb=xe.v-Ne>>4,se.zb=xe.j-Ne>>4,0>se.yb&&(se.yb=0),0>se.zb&&(se.zb=0)),se.Va=xe.o+15+Ne>>4,se.Hb=xe.va+15+Ne>>4,se.Hb>se.za&&(se.Hb=se.za),se.Va>se.Ub&&(se.Va=se.Ub),0<se.L){var ze=se.ed;for(Ne=0;4>Ne;++Ne){var Ce;if(se.Qa.Cb){var Be=se.Qa.Lb[Ne];se.Qa.Fb||(Be+=ze.Tb)}else Be=ze.Tb;for(Ce=0;1>=Ce;++Ce){var Ue=se.gd[Ne][Ce],Je=Be;if(ze.Pc&&(Je+=ze.vd[0],Ce&&(Je+=ze.od[0])),0<(Je=0>Je?0:63<Je?63:Je)){var Xe=Je;0<ze.wb&&(Xe=4<ze.wb?Xe>>2:Xe>>1)>9-ze.wb&&(Xe=9-ze.wb),1>Xe&&(Xe=1),Ue.dd=Xe,Ue.tc=2*Je+Xe,Ue.ld=40<=Je?2:15<=Je?1:0}else Ue.tc=0;Ue.La=Ce}}}Ne=0}else Sn(se,6,"Frame setup failed"),Ne=se.a;if(Ne=Ne==0){if(Ne){se.$c=0,0<se.Aa||(se.Ic=Uc);t:{Ne=se.Ic,ze=4*(Xe=se.za);var _t=32*Xe,ft=Xe+1,Pt=0<se.L?Xe*(0<se.Aa?2:1):0,yt=(se.Aa==2?2:1)*Xe;if((Ue=ze+832+(Ce=3*(16*Ne+Il[se.L])/2*_t)+(Be=se.Fa!=null&&0<se.Fa.length?se.Kc.c*se.Kc.i:0))!=Ue)Ne=0;else{if(Ue>se.Vb){if(se.Vb=0,se.Ec=o(Ue),se.Fc=0,se.Ec==null){Ne=Sn(se,1,"no memory during frame initialization.");break t}se.Vb=Ue}Ue=se.Ec,Je=se.Fc,se.Ac=Ue,se.Bc=Je,Je+=ze,se.Gd=h(_t,bc),se.Hd=0,se.rb=h(ft+1,Cs),se.sb=1,se.wa=Pt?h(Pt,Hr):null,se.Y=0,se.D.Nb=0,se.D.wa=se.wa,se.D.Y=se.Y,0<se.Aa&&(se.D.Y+=Xe),e(!0),se.oc=Ue,se.pc=Je,Je+=832,se.ya=h(yt,vc),se.aa=0,se.D.ya=se.ya,se.D.aa=se.aa,se.Aa==2&&(se.D.aa+=Xe),se.R=16*Xe,se.B=8*Xe,Xe=(_t=Il[se.L])*se.R,_t=_t/2*se.B,se.sa=Ue,se.ta=Je+Xe,se.qa=se.sa,se.ra=se.ta+16*Ne*se.R+_t,se.Ha=se.qa,se.Ia=se.ra+8*Ne*se.B+_t,se.$c=0,Je+=Ce,se.mb=Be?Ue:null,se.nb=Be?Je:null,e(Je+Be<=se.Fc+se.Vb),_c(se),a(se.Ac,se.Bc,0,ze),Ne=1}}if(Ne){if(xe.ka=0,xe.y=se.sa,xe.O=se.ta,xe.f=se.qa,xe.N=se.ra,xe.ea=se.Ha,xe.Vd=se.Ia,xe.fa=se.R,xe.Rc=se.B,xe.F=null,xe.J=0,!Au){for(Ne=-255;255>=Ne;++Ne)Go[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)Su[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)Rc[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)Ic[255+Ne]=0>Ne?0:255<Ne?255:Ne;Au=1}Zr=Es,ja=wc,rs=_r,An=Sc,hn=Ac,cr=du,Pn=xu,xi=Aa,ra=I,js=le,Vo=_u,Dc=_,zh=ge,hd=Se,fd=xa,dd=_a,qh=Fo,Fh=kc,hi[0]=yu,hi[1]=pu,hi[2]=vu,hi[3]=Tc,hi[4]=Yr,hi[5]=Ec,hi[6]=Qi,hi[7]=Bo,hi[8]=zo,hi[9]=Wr,Ar[0]=ks,Ar[1]=Nc,Ar[2]=Cc,Ar[3]=gu,Ar[4]=ya,Ar[5]=Io,Ar[6]=ao,Rs[0]=_l,Rs[1]=mu,Rs[2]=Zs,Rs[3]=bu,Rs[4]=Ui,Rs[5]=wl,Rs[6]=Ks,Ne=1}else Ne=0}Ne&&(Ne=(function(en,Zn){for(en.M=0;en.M<en.Va;++en.M){var Yt,dt=en.Jc[en.M&en.Xb],st=en.m,ni=en;for(Yt=0;Yt<ni.za;++Yt){var Rt=st,Zt=ni,On=Zt.Ac,Ri=Zt.Bc+4*Yt,rr=Zt.zc,Un=Zt.ya[Zt.aa+Yt];if(Zt.Qa.Bb?Un.$b=ve(Rt,Zt.Pa.jb[0])?2+ve(Rt,Zt.Pa.jb[2]):ve(Rt,Zt.Pa.jb[1]):Un.$b=0,Zt.kc&&(Un.Ad=ve(Rt,Zt.Bd)),Un.Za=!ve(Rt,145)+0,Un.Za){var Ni=Un.Ob,fr=0;for(Zt=0;4>Zt;++Zt){var Ci,$t=rr[0+Zt];for(Ci=0;4>Ci;++Ci){$t=tr[On[Ri+Ci]][$t];for(var yn=Ou[ve(Rt,$t[0])];0<yn;)yn=Ou[2*yn+ve(Rt,$t[yn])];$t=-yn,On[Ri+Ci]=$t}r(Ni,fr,On,Ri,4),fr+=4,rr[0+Zt]=$t}}else $t=ve(Rt,156)?ve(Rt,128)?1:3:ve(Rt,163)?2:0,Un.Ob[0]=$t,a(On,Ri,$t,4),a(rr,0,$t,4);Un.Dd=ve(Rt,142)?ve(Rt,114)?ve(Rt,183)?1:3:2:0}if(ni.m.Ka)return Sn(en,7,"Premature end-of-partition0 encountered.");for(;en.ja<en.za;++en.ja){if(ni=dt,Rt=(st=en).rb[st.sb-1],On=st.rb[st.sb+st.ja],Yt=st.ya[st.aa+st.ja],Ri=st.kc?Yt.Ad:0)Rt.la=On.la=0,Yt.Za||(Rt.Na=On.Na=0),Yt.Hc=0,Yt.Gc=0,Yt.ia=0;else{var ii,Nn;if(Rt=On,On=ni,Ri=st.Pa.Xc,rr=st.ya[st.aa+st.ja],Un=st.pb[rr.$b],Zt=rr.ad,Ni=0,fr=st.rb[st.sb-1],$t=Ci=0,a(Zt,Ni,0,384),rr.Za)var Ii=0,ri=Ri[3];else{yn=o(16);var bn=Rt.Na+fr.Na;if(bn=Qr(On,Ri[1],bn,Un.Eb,0,yn,0),Rt.Na=fr.Na=(0<bn)+0,1<bn)Zr(yn,0,Zt,Ni);else{var wi=yn[0]+3>>3;for(yn=0;256>yn;yn+=16)Zt[Ni+yn]=wi}Ii=1,ri=Ri[0]}var Mn=15&Rt.la,Ti=15&fr.la;for(yn=0;4>yn;++yn){var Ei=1&Ti;for(wi=Nn=0;4>wi;++wi)Mn=Mn>>1|(Ei=(bn=Qr(On,ri,bn=Ei+(1&Mn),Un.Sc,Ii,Zt,Ni))>Ii)<<7,Nn=Nn<<2|(3<bn?3:1<bn?2:Zt[Ni+0]!=0),Ni+=16;Mn>>=4,Ti=Ti>>1|Ei<<7,Ci=(Ci<<8|Nn)>>>0}for(ri=Mn,Ii=Ti>>4,ii=0;4>ii;ii+=2){for(Nn=0,Mn=Rt.la>>4+ii,Ti=fr.la>>4+ii,yn=0;2>yn;++yn){for(Ei=1&Ti,wi=0;2>wi;++wi)bn=Ei+(1&Mn),Mn=Mn>>1|(Ei=0<(bn=Qr(On,Ri[2],bn,Un.Qc,0,Zt,Ni)))<<3,Nn=Nn<<2|(3<bn?3:1<bn?2:Zt[Ni+0]!=0),Ni+=16;Mn>>=2,Ti=Ti>>1|Ei<<5}$t|=Nn<<4*ii,ri|=Mn<<4<<ii,Ii|=(240&Ti)<<ii}Rt.la=ri,fr.la=Ii,rr.Hc=Ci,rr.Gc=$t,rr.ia=43690&$t?0:Un.ia,Ri=!(Ci|$t)}if(0<st.L&&(st.wa[st.Y+st.ja]=st.gd[Yt.$b][Yt.Za],st.wa[st.Y+st.ja].La|=!Ri),ni.Ka)return Sn(en,7,"Premature end-of-file encountered.")}if(_c(en),st=Zn,ni=1,Yt=(dt=en).D,Rt=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if(Yt.M=dt.M,Yt.uc=Rt,Xr(dt,Yt),ni=1,Yt=(Nn=dt.D).Nb,Rt=($t=Il[dt.L])*dt.R,On=$t/2*dt.B,yn=16*Yt*dt.R,wi=8*Yt*dt.B,Ri=dt.sa,rr=dt.ta-Rt+yn,Un=dt.qa,Zt=dt.ra-On+wi,Ni=dt.Ha,fr=dt.Ia-On+wi,Ti=(Mn=Nn.M)==0,Ci=Mn>=dt.Va-1,dt.Aa==2&&Xr(dt,Nn),Nn.uc)for(Ei=(bn=dt).D.M,e(bn.D.uc),Nn=bn.yb;Nn<bn.Hb;++Nn){Ii=Nn,ri=Ei;var jn=(fn=(ki=bn).D).Nb;ii=ki.R;var fn=fn.wa[fn.Y+Ii],dr=ki.sa,fi=ki.ta+16*jn*ii+16*Ii,kt=fn.dd,Mt=fn.tc;if(Mt!=0)if(e(3<=Mt),ki.L==1)0<Ii&&dd(dr,fi,ii,Mt+4),fn.La&&Fh(dr,fi,ii,Mt),0<ri&&fd(dr,fi,ii,Mt+4),fn.La&&qh(dr,fi,ii,Mt);else{var xn=ki.B,Dr=ki.qa,ds=ki.ra+8*jn*xn+8*Ii,Nr=ki.Ha,ki=ki.Ia+8*jn*xn+8*Ii;jn=fn.ld,0<Ii&&(xi(dr,fi,ii,Mt+4,kt,jn),js(Dr,ds,Nr,ki,xn,Mt+4,kt,jn)),fn.La&&(Dc(dr,fi,ii,Mt,kt,jn),hd(Dr,ds,Nr,ki,xn,Mt,kt,jn)),0<ri&&(Pn(dr,fi,ii,Mt+4,kt,jn),ra(Dr,ds,Nr,ki,xn,Mt+4,kt,jn)),fn.La&&(Vo(dr,fi,ii,Mt,kt,jn),zh(Dr,ds,Nr,ki,xn,Mt,kt,jn))}}if(dt.ia&&alert("todo:DitherRow"),st.put!=null){if(Nn=16*Mn,Mn=16*(Mn+1),Ti?(st.y=dt.sa,st.O=dt.ta+yn,st.f=dt.qa,st.N=dt.ra+wi,st.ea=dt.Ha,st.W=dt.Ia+wi):(Nn-=$t,st.y=Ri,st.O=rr,st.f=Un,st.N=Zt,st.ea=Ni,st.W=fr),Ci||(Mn-=$t),Mn>st.o&&(Mn=st.o),st.F=null,st.J=null,dt.Fa!=null&&0<dt.Fa.length&&Nn<Mn&&(st.J=Fn(dt,st,Nn,Mn-Nn),st.F=dt.mb,st.F==null&&st.F.length==0)){ni=Sn(dt,3,"Could not decode alpha data.");break t}Nn<st.j&&($t=st.j-Nn,Nn=st.j,e(!(1&$t)),st.O+=dt.R*$t,st.N+=dt.B*($t>>1),st.W+=dt.B*($t>>1),st.F!=null&&(st.J+=st.width*$t)),Nn<Mn&&(st.O+=st.v,st.N+=st.v>>1,st.W+=st.v>>1,st.F!=null&&(st.J+=st.v),st.ka=Nn-st.j,st.U=st.va-st.v,st.T=Mn-Nn,ni=st.put(st))}Yt+1!=dt.Ic||Ci||(r(dt.sa,dt.ta-Rt,Ri,rr+16*dt.R,Rt),r(dt.qa,dt.ra-On,Un,Zt+8*dt.B,On),r(dt.Ha,dt.Ia-On,Ni,fr+8*dt.B,On))}if(!ni)return Sn(en,6,"Output aborted.")}return 1})(se,xe)),xe.bc!=null&&xe.bc(xe),Ne&=1}return Ne?(se.cb=0,Ne):0})(p,k)||(v=p.a)}}else v=p.a}v==0&&W.Oa!=null&&W.Oa.fd&&(v=Lc(W.ba))}W=v}G=W!=0?null:11>G?te.f.RGBA.eb:te.f.kb.y}else G=null;return G};var ju=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(R,Z){for(var O="",j=0;j<4;j++)O+=String.fromCharCode(R[Z++]);return O}function m(R,Z){return R[Z+0]|R[Z+1]<<8}function x(R,Z){return(R[Z+0]|R[Z+1]<<8|R[Z+2]<<16)>>>0}function w(R,Z){return(R[Z+0]|R[Z+1]<<8|R[Z+2]<<16|R[Z+3]<<24)>>>0}new f;var y=[0],N=[0],A=[],E=new f,C=i,U=(function(R,Z){var O={},j=0,V=!1,J=0,ue=0;if(O.frames=[],!(function(T,H){for(var Q=0;Q<4;Q++)if(T[H+Q]!="RIFF".charCodeAt(Q))return!0;return!1})(R,Z)){for(w(R,Z+=4),Z+=8;Z<R.length;){var ee=d(R,Z),ie=w(R,Z+=4);Z+=4;var ce=ie+(1&ie);switch(ee){case"VP8 ":case"VP8L":O.frames[j]===void 0&&(O.frames[j]={}),(X=O.frames[j]).src_off=V?ue:Z-8,X.src_size=J+ie+8,j++,V&&(V=!1,J=0,ue=0);break;case"VP8X":(X=O.header={}).feature_flags=R[Z];var he=Z+4;X.canvas_width=1+x(R,he),he+=3,X.canvas_height=1+x(R,he),he+=3;break;case"ALPH":V=!0,J=ce+8,ue=Z-8;break;case"ANIM":(X=O.header).bgcolor=w(R,Z),he=Z+4,X.loop_count=m(R,he),he+=2;break;case"ANMF":var we,X;(X=O.frames[j]={}).offset_x=2*x(R,Z),Z+=3,X.offset_y=2*x(R,Z),Z+=3,X.width=1+x(R,Z),Z+=3,X.height=1+x(R,Z),Z+=3,X.duration=x(R,Z),Z+=3,we=R[Z++],X.dispose=1&we,X.blend=we>>1&1}ee!="ANMF"&&(Z+=ce)}return O}})(C,0);U.response=C,U.rgbaoutput=!0,U.dataurl=!1;var F=U.header?U.header:null,q=U.frames?U.frames:null;if(F){F.loop_counter=F.loop_count,y=[F.canvas_height],N=[F.canvas_width];for(var z=0;z<q.length&&q[z].blend!=0;z++);}var $=q[0],Y=E.WebPDecodeRGBA(C,$.src_off,$.src_size,N,y);$.rgba=Y,$.imgwidth=N[0],$.imgheight=y[0];for(var D=0;D<N[0]*y[0]*4;D++)A[D]=Y[D];return this.width=N,this.height=y,this.data=A,this}(function(i){var e,t,r,a,o,h,c,f,d,m=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new f,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new h,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new h,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,h=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new m}]);var x=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=T;Object.defineProperty(this,"pdf",{get:function(){return H}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(P){Q=!!P}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(P){re=!!P}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(P){isNaN(P)||(ae=P)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(P){isNaN(P)||(me=P)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(P){var je;typeof P=="number"?je=[P,P,P,P]:((je=new Array(4))[0]=P[0],je[1]=P.length>=2?P[1]:je[0],je[2]=P.length>=3?P[2]:je[0],je[3]=P.length>=4?P[3]:je[1]),d.margin=je}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(P){de=P}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(P){_e=P}});var ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ve},set:function(P){ve=P}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(P){P instanceof m&&(d=P)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(P){d.path=P}});var Ie=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ie},set:function(P){Ie=P}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(P){var je;je=w(P),this.ctx.fillStyle=je.style,this.ctx.isFillTransparent=je.a===0,this.ctx.fillOpacity=je.a,this.pdf.setFillColor(je.r,je.g,je.b,{a:je.a}),this.pdf.setTextColor(je.r,je.g,je.b,{a:je.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(P){var je=w(P);this.ctx.strokeStyle=je.style,this.ctx.isStrokeTransparent=je.a===0,this.ctx.strokeOpacity=je.a,je.a===0?this.pdf.setDrawColor(255,255,255):(je.a,this.pdf.setDrawColor(je.r,je.g,je.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(P){["butt","round","square"].indexOf(P)!==-1&&(this.ctx.lineCap=P,this.pdf.setLineCap(P))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(P){isNaN(P)||(this.ctx.lineWidth=P,this.pdf.setLineWidth(P))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(P){["bevel","round","miter"].indexOf(P)!==-1&&(this.ctx.lineJoin=P,this.pdf.setLineJoin(P))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(P){isNaN(P)||(this.ctx.miterLimit=P,this.pdf.setMiterLimit(P))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(P){this.ctx.textBaseline=P}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(P){["right","end","center","left","start"].indexOf(P)!==-1&&(this.ctx.textAlign=P)}});var He=null,Ge=null,Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(P){He=null,Ge=null,Qe=P}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(P){var je;if(this.ctx.font=P,(je=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(P))!==null){var ct=je[1];je[2];var tt=je[3],De=je[4];je[5];var et=je[6],nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(De)[2];De=Math.floor(nt==="px"?parseFloat(De)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(De)*this.pdf.getFontSize():parseFloat(De)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(De);var ht=(function(lt){var Ht,Dt,vt=[],At=lt.trim();if(At==="")return b0;if(At in mb)return[mb[At]];for(;At!=="";){switch(Dt=null,Ht=(At=vb(At)).charAt(0)){case'"':case"'":Dt=LO(At.substring(1),Ht);break;default:Dt=DO(At)}if(Dt===null||(vt.push(Dt[0]),(At=vb(Dt[1]))!==""&&At.charAt(0)!==","))return b0;At=At.replace(/^,/,"")}return vt})(et);if(this.fontFaces){var ut=(function(lt,Ht){var Dt=lt.getFontList(),vt=JSON.stringify(Dt);if(He===null||Ge!==vt){var At=(function(Ft){var St=[];return Object.keys(Ft).forEach(function(Oe){Ft[Oe].forEach(function(Le){var Fe=null;switch(Le){case"bold":Fe={family:Oe,weight:"bold"};break;case"italic":Fe={family:Oe,style:"italic"};break;case"bolditalic":Fe={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":Fe={family:Oe}}Fe!==null&&(Fe.ref={name:Oe,style:Le},St.push(Fe))})}),St})(Dt);He=(function(Ft){for(var St={},Oe=0;Oe<Ft.length;++Oe){var Le=y0(Ft[Oe]),Fe=Le.family,pt=Le.stretch,it=Le.style,Ke=Le.weight;St[Fe]=St[Fe]||{},St[Fe][pt]=St[Fe][pt]||{},St[Fe][pt][it]=St[Fe][pt][it]||{},St[Fe][pt][it][Ke]=Le}return St})(At.concat(Ht)),Ge=vt}return He})(this.pdf,this.fontFaces),Ot=ht.map(function(lt){return{family:lt,stretch:"normal",weight:tt,style:ct}}),We=(function(lt,Ht,Dt){for(var vt=(Dt=Dt||{}).defaultFontFamily||"times",At=Object.assign({},MO,Dt.genericFontFamilies||{}),Ft=null,St=null,Oe=0;Oe<Ht.length;++Oe)if(At[(Ft=y0(Ht[Oe])).family]&&(Ft.family=At[Ft.family]),lt.hasOwnProperty(Ft.family)){St=lt[Ft.family];break}if(!(St=St||lt[vt]))throw new Error("Could not find a font-family for the rule '"+gb(Ft)+"' and default family '"+vt+"'.");if(St=(function(Le,Fe){if(Fe[Le])return Fe[Le];var pt=X0[Le],it=pt<=X0.normal?-1:1,Ke=pb(Fe,vw,pt,it);if(!Ke)throw new Error("Could not find a matching font-stretch value for "+Le);return Ke})(Ft.stretch,St),St=(function(Le,Fe){if(Fe[Le])return Fe[Le];for(var pt=gw[Le],it=0;it<pt.length;++it)if(Fe[pt[it]])return Fe[pt[it]];throw new Error("Could not find a matching font-style for "+Le)})(Ft.style,St),!(St=(function(Le,Fe){if(Fe[Le])return Fe[Le];if(Le===400&&Fe[500])return Fe[500];if(Le===500&&Fe[400])return Fe[400];var pt=OO[Le],it=pb(Fe,yw,pt,Le<400?-1:1);if(!it)throw new Error("Could not find a matching font-weight for value "+Le);return it})(Ft.weight,St)))throw new Error("Failed to resolve a font for the rule '"+gb(Ft)+"'.");return St})(ut,Ot);this.pdf.setFont(We.ref.name,We.ref.style)}else{var $e="";(tt==="bold"||parseInt(tt,10)>=700||ct==="bold")&&($e="bold"),ct==="italic"&&($e+="italic"),$e.length===0&&($e="normal");for(var ot="",gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<ht.length;rt++){if(this.pdf.internal.getFont(ht[rt],$e,{noFallback:!0,disableWarning:!0})!==void 0){ot=ht[rt];break}if($e==="bolditalic"&&this.pdf.internal.getFont(ht[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=ht[rt],$e="bold";else if(this.pdf.internal.getFont(ht[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=ht[rt],$e="normal";break}}if(ot===""){for(var Tt=0;Tt<ht.length;Tt++)if(gt[ht[Tt]]){ot=gt[ht[Tt]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,$e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(P){this.ctx.globalCompositeOperation=P}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(P){this.ctx.globalAlpha=P}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(P){this.ctx.lineDashOffset=P,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(P){this.ctx.lineDash=P,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(P){this.ctx.ignoreClearRect=!!P}})};x.prototype.setLineDash=function(T){this.lineDash=T},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){q.call(this,"fill",!1)},x.prototype.stroke=function(){q.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(T,H){if(isNaN(T)||isNaN(H))throw Qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new h(T,H));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new h(T,H)},x.prototype.closePath=function(){var T=new h(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Bn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){T=new h(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new h(T.x,T.y)},x.prototype.lineTo=function(T,H){if(isNaN(T)||isNaN(H))throw Qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new h(T,H));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new h(Q.x,Q.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},x.prototype.quadraticCurveTo=function(T,H,Q,re){if(isNaN(Q)||isNaN(re)||isNaN(T)||isNaN(H))throw Qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new h(Q,re)),me=this.ctx.transform.applyToPoint(new h(T,H));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new h(ae.x,ae.y)},x.prototype.bezierCurveTo=function(T,H,Q,re,ae,me){if(isNaN(ae)||isNaN(me)||isNaN(T)||isNaN(H)||isNaN(Q)||isNaN(re))throw Qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new h(ae,me)),_e=this.ctx.transform.applyToPoint(new h(T,H)),ve=this.ctx.transform.applyToPoint(new h(Q,re));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:ve.x,y2:ve.y,x:de.x,y:de.y}),this.ctx.lastPoint=new h(de.x,de.y)},x.prototype.arc=function(T,H,Q,re,ae,me){if(isNaN(T)||isNaN(H)||isNaN(Q)||isNaN(re)||isNaN(ae))throw Qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new h(T,H));T=de.x,H=de.y;var _e=this.ctx.transform.applyToPoint(new h(0,Q)),ve=this.ctx.transform.applyToPoint(new h(0,0));Q=Math.sqrt(Math.pow(_e.x-ve.x,2)+Math.pow(_e.y-ve.y,2))}Math.abs(ae-re)>=2*Math.PI&&(re=0,ae=2*Math.PI),this.path.push({type:"arc",x:T,y:H,radius:Q,startAngle:re,endAngle:ae,counterclockwise:me})},x.prototype.arcTo=function(T,H,Q,re,ae){throw new Error("arcTo not implemented.")},x.prototype.rect=function(T,H,Q,re){if(isNaN(T)||isNaN(H)||isNaN(Q)||isNaN(re))throw Qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,H),this.lineTo(T+Q,H),this.lineTo(T+Q,H+re),this.lineTo(T,H+re),this.lineTo(T,H),this.lineTo(T+Q,H),this.lineTo(T,H)},x.prototype.fillRect=function(T,H,Q,re){if(isNaN(T)||isNaN(H)||isNaN(Q)||isNaN(re))throw Qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,H,Q,re),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},x.prototype.strokeRect=function(T,H,Q,re){if(isNaN(T)||isNaN(H)||isNaN(Q)||isNaN(re))throw Qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(T,H,Q,re),this.stroke())},x.prototype.clearRect=function(T,H,Q,re){if(isNaN(T)||isNaN(H)||isNaN(Q)||isNaN(re))throw Qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,H,Q,re))},x.prototype.save=function(T){T=typeof T!="boolean"||T;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},x.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(H),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(T){var H,Q,re,ae;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))H=0,Q=0,re=0,ae=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(me!==null)H=parseInt(me[1]),Q=parseInt(me[2]),re=parseInt(me[3]),ae=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)H=parseInt(me[1]),Q=parseInt(me[2]),re=parseInt(me[3]),ae=parseFloat(me[4]);else{if(ae=1,typeof T=="string"&&T.charAt(0)!=="#"){var de=new cw(T);T=de.ok?de.toHex():"#000000"}T.length===4?(H=T.substring(1,2),H+=H,Q=T.substring(2,3),Q+=Q,re=T.substring(3,4),re+=re):(H=T.substring(1,3),Q=T.substring(3,5),re=T.substring(5,7)),H=parseInt(H,16),Q=parseInt(Q,16),re=parseInt(re,16)}}return{r:H,g:Q,b:re,a:ae,style:T}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(T,H,Q,re){if(isNaN(H)||isNaN(Q)||typeof T!="string")throw Qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!y.call(this)){var ae=ce(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;j.call(this,{text:T,x:H,y:Q,scale:me,angle:ae,align:this.textAlign,maxWidth:re})}},x.prototype.strokeText=function(T,H,Q,re){if(isNaN(H)||isNaN(Q)||typeof T!="string")throw Qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){re=isNaN(re)?void 0:re;var ae=ce(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;j.call(this,{text:T,x:H,y:Q,scale:me,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:re})}},x.prototype.measureText=function(T){if(typeof T!="string")throw Qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,Q=this.pdf.internal.scaleFactor,re=H.internal.getFontSize(),ae=H.getStringUnitWidth(T)*re/H.internal.scaleFactor;return new function(me){var de=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:ae*=Math.round(96*Q/72*1e4)/1e4})},x.prototype.scale=function(T,H){if(isNaN(T)||isNaN(H))throw Qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new f(T,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},x.prototype.rotate=function(T){if(isNaN(T))throw Qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new f(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},x.prototype.translate=function(T,H){if(isNaN(T)||isNaN(H))throw Qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new f(1,0,0,1,T,H);this.ctx.transform=this.ctx.transform.multiply(Q)},x.prototype.transform=function(T,H,Q,re,ae,me){if(isNaN(T)||isNaN(H)||isNaN(Q)||isNaN(re)||isNaN(ae)||isNaN(me))throw Qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new f(T,H,Q,re,ae,me);this.ctx.transform=this.ctx.transform.multiply(de)},x.prototype.setTransform=function(T,H,Q,re,ae,me){T=isNaN(T)?1:T,H=isNaN(H)?0:H,Q=isNaN(Q)?0:Q,re=isNaN(re)?1:re,ae=isNaN(ae)?0:ae,me=isNaN(me)?0:me,this.ctx.transform=new f(T,H,Q,re,ae,me)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(T,H,Q,re,ae,me,de,_e,ve){var Ie=this.pdf.getImageProperties(T),He=1,Ge=1,Qe=1,P=1;re!==void 0&&_e!==void 0&&(Qe=_e/re,P=ve/ae,He=Ie.width/re*_e/re,Ge=Ie.height/ae*ve/ae),me===void 0&&(me=H,de=Q,H=0,Q=0),re!==void 0&&_e===void 0&&(_e=re,ve=ae),re===void 0&&_e===void 0&&(_e=Ie.width,ve=Ie.height);var je=this.ctx.transform.decompose(),ct=ce(je.rotate.shx),tt=new f,De=(tt=(tt=(tt=tt.multiply(je.translate)).multiply(je.skew)).multiply(je.scale)).applyToRectangle(new c(me-H*Qe,de-Q*P,re*He,ae*Ge));if(this.autoPaging){for(var et,nt=E.call(this,De),ht=[],ut=0;ut<nt.length;ut+=1)ht.indexOf(nt[ut])===-1&&ht.push(nt[ut]);F(ht);for(var Ot=ht[0],We=ht[ht.length-1],$e=Ot;$e<We+1;$e++){this.pdf.setPage($e);var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=$e===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=$e===1?0:rt+($e-2)*Tt;if(this.ctx.clip_path.length!==0){var Ht=this.path;et=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(et,this.posX+this.margin[3],-lt+gt+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=Ht}var Dt=JSON.parse(JSON.stringify(De));Dt=U([Dt],this.posX+this.margin[3],-lt+gt+this.ctx.prevPageLastElemOffset)[0];var vt=($e>Ot||$e<We)&&A.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Tt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,ct),vt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(T,"JPEG",De.x,De.y,De.w,De.h,null,null,ct)};var E=function(T,H,Q){var re=[];H=H||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":re.push(Math.floor((T.y+ae)/Q)+1);break;case"arc":re.push(Math.floor((T.y+ae-T.radius)/Q)+1),re.push(Math.floor((T.y+ae+T.radius)/Q)+1);break;case"qct":var me=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);re.push(Math.floor((me.y+ae)/Q)+1),re.push(Math.floor((me.y+me.h+ae)/Q)+1);break;case"bct":var de=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);re.push(Math.floor((de.y+ae)/Q)+1),re.push(Math.floor((de.y+de.h+ae)/Q)+1);break;case"rect":re.push(Math.floor((T.y+ae)/Q)+1),re.push(Math.floor((T.y+T.h+ae)/Q)+1)}for(var _e=0;_e<re.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<re[_e];)C.call(this);return re},C=function(){var T=this.fillStyle,H=this.strokeStyle,Q=this.font,re=this.lineCap,ae=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=H,this.font=Q,this.lineCap=re,this.lineWidth=ae,this.lineJoin=me},U=function(T,H,Q){for(var re=0;re<T.length;re++)switch(T[re].type){case"bct":T[re].x2+=H,T[re].y2+=Q;case"qct":T[re].x1+=H,T[re].y1+=Q;default:T[re].x+=H,T[re].y+=Q}return T},F=function(T){return T.sort(function(H,Q){return H-Q})},q=function(T,H){var Q=this.fillStyle,re=this.strokeStyle,ae=this.lineCap,me=this.lineWidth,de=Math.abs(me*this.ctx.transform.scaleX),_e=this.lineJoin;if(this.autoPaging){for(var ve,Ie,He=JSON.parse(JSON.stringify(this.path)),Ge=JSON.parse(JSON.stringify(this.path)),Qe=[],P=0;P<Ge.length;P++)if(Ge[P].x!==void 0)for(var je=E.call(this,Ge[P]),ct=0;ct<je.length;ct+=1)Qe.indexOf(je[ct])===-1&&Qe.push(je[ct]);for(var tt=0;tt<Qe.length;tt++)for(;this.pdf.internal.getNumberOfPages()<Qe[tt];)C.call(this);F(Qe);for(var De=Qe[0],et=Qe[Qe.length-1],nt=De;nt<et+1;nt++){this.pdf.setPage(nt),this.fillStyle=Q,this.strokeStyle=re,this.lineCap=ae,this.lineWidth=de,this.lineJoin=_e;var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ut=nt===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=nt===1?0:Ot+(nt-2)*We;if(this.ctx.clip_path.length!==0){var ot=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(ve,this.posX+this.margin[3],-$e+ut+this.ctx.prevPageLastElemOffset),z.call(this,T,!0),this.path=ot}if(Ie=JSON.parse(JSON.stringify(He)),this.path=U(Ie,this.posX+this.margin[3],-$e+ut+this.ctx.prevPageLastElemOffset),H===!1||nt===0){var gt=(nt>De||nt<et)&&A.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,We,null).clip().discardPath()),z.call(this,T,H),gt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}this.path=He}else this.lineWidth=de,z.call(this,T,H),this.lineWidth=me},z=function(T,H){if((T!=="stroke"||H||!N.call(this))&&(T==="stroke"||H||!y.call(this))){for(var Q,re,ae=[],me=this.path,de=0;de<me.length;de++){var _e=me[de];switch(_e.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:_e,deltas:[],abs:[]});break;case"lt":var ve=ae.length;if(me[de-1]&&!isNaN(me[de-1].x)&&(Q=[_e.x-me[de-1].x,_e.y-me[de-1].y],ve>0)){for(;ve>=0;ve--)if(ae[ve-1].close!==!0&&ae[ve-1].begin!==!0){ae[ve-1].deltas.push(Q),ae[ve-1].abs.push(_e);break}}break;case"bct":Q=[_e.x1-me[de-1].x,_e.y1-me[de-1].y,_e.x2-me[de-1].x,_e.y2-me[de-1].y,_e.x-me[de-1].x,_e.y-me[de-1].y],ae[ae.length-1].deltas.push(Q);break;case"qct":var Ie=me[de-1].x+2/3*(_e.x1-me[de-1].x),He=me[de-1].y+2/3*(_e.y1-me[de-1].y),Ge=_e.x+2/3*(_e.x1-_e.x),Qe=_e.y+2/3*(_e.y1-_e.y),P=_e.x,je=_e.y;Q=[Ie-me[de-1].x,He-me[de-1].y,Ge-me[de-1].x,Qe-me[de-1].y,P-me[de-1].x,je-me[de-1].y],ae[ae.length-1].deltas.push(Q);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(_e)}}re=H?null:T==="stroke"?"stroke":"fill";for(var ct=!1,tt=0;tt<ae.length;tt++)if(ae[tt].arc)for(var De=ae[tt].abs,et=0;et<De.length;et++){var nt=De[et];nt.type==="arc"?D.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,H,!ct):V.call(this,nt.x,nt.y),ct=!0}else if(ae[tt].close===!0)this.pdf.internal.out("h"),ct=!1;else if(ae[tt].begin!==!0){var ht=ae[tt].start.x,ut=ae[tt].start.y;J.call(this,ae[tt].deltas,ht,ut),ct=!0}re&&R.call(this,re),H&&Z.call(this)}},$=function(T){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-Q;case"top":return T+H-Q;case"hanging":return T+H-2*Q;case"middle":return T+H/2-Q;default:return T}},Y=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(H,Q){this.colorStops.push([H,Q])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(T,H,Q,re,ae,me,de,_e,ve){for(var Ie=ee.call(this,Q,re,ae,me),He=0;He<Ie.length;He++){var Ge=Ie[He];He===0&&(ve?O.call(this,Ge.x1+T,Ge.y1+H):V.call(this,Ge.x1+T,Ge.y1+H)),ue.call(this,T,H,Ge.x2,Ge.y2,Ge.x3,Ge.y3,Ge.x4,Ge.y4)}_e?Z.call(this):R.call(this,de)},R=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(T,H){this.pdf.internal.out(t(T)+" "+r(H)+" m")},j=function(T){var H;switch(T.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var Q,re,ae,me=this.pdf.getTextDimensions(T.text),de=$.call(this,T.y),_e=Y.call(this,de)-me.h,ve=this.ctx.transform.applyToPoint(new h(T.x,de));if(this.autoPaging){var Ie=this.ctx.transform.decompose(),He=new f;He=(He=(He=He.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale);for(var Ge=this.ctx.transform.applyToRectangle(new c(T.x,de,me.w,me.h)),Qe=He.applyToRectangle(new c(T.x,_e,me.w,me.h)),P=E.call(this,Qe),je=[],ct=0;ct<P.length;ct+=1)je.indexOf(P[ct])===-1&&je.push(P[ct]);F(je);for(var tt=je[0],De=je[je.length-1],et=tt;et<De+1;et++){this.pdf.setPage(et);var nt=et===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[2],Ot=ut-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],$e=We-this.margin[3],ot=et===1?0:ht+(et-2)*Ot;if(this.ctx.clip_path.length!==0){var gt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(Q,this.posX+this.margin[3],-1*ot+nt),z.call(this,"fill",!0),this.path=gt}var rt=U([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-ot+nt+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*T.scale),ae=this.lineWidth,this.lineWidth=ae*T.scale);var Tt=this.autoPaging!=="text";if(Tt||rt.y+rt.h<=ut){if(Tt||rt.y>=nt&&rt.x<=We){var lt=Tt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||We-rt.x)[0],Ht=U([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-ot+nt+this.ctx.prevPageLastElemOffset)[0],Dt=Tt&&(et>tt||et<De)&&A.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,Ot,null).clip().discardPath()),this.pdf.text(lt,Ht.x,Ht.y,{angle:T.angle,align:H,renderingMode:T.renderingMode}),Dt&&this.pdf.restoreGraphicsState()}}else rt.y<ut&&(this.ctx.prevPageLastElemOffset+=ut-rt.y);T.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ae)}}else T.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*T.scale),ae=this.lineWidth,this.lineWidth=ae*T.scale),this.pdf.text(T.text,ve.x+this.posX,ve.y+this.posY,{angle:T.angle,align:H,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ae)},V=function(T,H,Q,re){Q=Q||0,re=re||0,this.pdf.internal.out(t(T+Q)+" "+r(H+re)+" l")},J=function(T,H,Q){return this.pdf.lines(T,H,Q,null,null)},ue=function(T,H,Q,re,ae,me,de,_e){this.pdf.internal.out([e(a(Q+T)),e(o(re+H)),e(a(ae+T)),e(o(me+H)),e(a(de+T)),e(o(_e+H)),"c"].join(" "))},ee=function(T,H,Q,re){for(var ae=2*Math.PI,me=Math.PI/2;H>Q;)H-=ae;var de=Math.abs(Q-H);de<ae&&re&&(de=ae-de);for(var _e=[],ve=re?-1:1,Ie=H;de>1e-5;){var He=Ie+ve*Math.min(de,me);_e.push(ie.call(this,T,Ie,He)),de-=Math.abs(He-Ie),Ie=He}return _e},ie=function(T,H,Q){var re=(Q-H)/2,ae=T*Math.cos(re),me=T*Math.sin(re),de=ae,_e=-me,ve=de*de+_e*_e,Ie=ve+de*ae+_e*me,He=4/3*(Math.sqrt(2*ve*Ie)-Ie)/(de*me-_e*ae),Ge=de-He*_e,Qe=_e+He*de,P=Ge,je=-Qe,ct=re+H,tt=Math.cos(ct),De=Math.sin(ct);return{x1:T*Math.cos(H),y1:T*Math.sin(H),x2:Ge*tt-Qe*De,y2:Ge*De+Qe*tt,x3:P*tt-je*De,y3:P*De+je*tt,x4:T*Math.cos(Q),y4:T*Math.sin(Q)}},ce=function(T){return 180*T/Math.PI},he=function(T,H,Q,re,ae,me){var de=T+.5*(Q-T),_e=H+.5*(re-H),ve=ae+.5*(Q-ae),Ie=me+.5*(re-me),He=Math.min(T,ae,de,ve),Ge=Math.max(T,ae,de,ve),Qe=Math.min(H,me,_e,Ie),P=Math.max(H,me,_e,Ie);return new c(He,Qe,Ge-He,P-Qe)},we=function(T,H,Q,re,ae,me,de,_e){var ve,Ie,He,Ge,Qe,P,je,ct,tt,De,et,nt,ht,ut,Ot=Q-T,We=re-H,$e=ae-Q,ot=me-re,gt=de-ae,rt=_e-me;for(Ie=0;Ie<41;Ie++)tt=(je=(He=T+(ve=Ie/40)*Ot)+ve*((Qe=Q+ve*$e)-He))+ve*(Qe+ve*(ae+ve*gt-Qe)-je),De=(ct=(Ge=H+ve*We)+ve*((P=re+ve*ot)-Ge))+ve*(P+ve*(me+ve*rt-P)-ct),Ie==0?(et=tt,nt=De,ht=tt,ut=De):(et=Math.min(et,tt),nt=Math.min(nt,De),ht=Math.max(ht,tt),ut=Math.max(ut,De));return new c(Math.round(et),Math.round(nt),Math.round(ht-et),Math.round(ut-nt))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,H,Q=(T=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:H}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Et.API),(function(i){var e=function(h){var c,f,d,m,x,w,y,N,A,E;for(f=[],d=0,m=(h+=c="\0\0\0\0".slice(h.length%4||4)).length;m>d;d+=4)(x=(h.charCodeAt(d)<<24)+(h.charCodeAt(d+1)<<16)+(h.charCodeAt(d+2)<<8)+h.charCodeAt(d+3))!==0?(w=(x=((x=((x=((x=(x-(E=x%85))/85)-(A=x%85))/85)-(N=x%85))/85)-(y=x%85))/85)%85,f.push(w+33,y+33,N+33,A+33,E+33)):f.push(122);return(function(C,U){for(var F=U;F>0;F--)C.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(h){var c,f,d,m,x,w=String,y="length",N=255,A="charCodeAt",E="slice",C="replace";for(h[E](-2),h=h[E](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),d=[],m=0,x=(h+=c="uuuuu"[E](h[y]%5||5))[y];x>m;m+=5)f=52200625*(h[A](m)-33)+614125*(h[A](m+1)-33)+7225*(h[A](m+2)-33)+85*(h[A](m+3)-33)+(h[A](m+4)-33),d.push(N&f>>24,N&f>>16,N&f>>8,N&f);return(function(U,F){for(var q=F;q>0;q--)U.pop()})(d,c[y]),w.fromCharCode.apply(w,d)},r=function(h){return h.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(h){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((h=h.replace(/\s/g,"")).indexOf(">")!==-1&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),c.test(h)===!1)return"";for(var f="",d=0;d<h.length;d+=2)f+=String.fromCharCode("0x"+(h[d]+h[d+1]));return f},o=function(h){for(var c=new Uint8Array(h.length),f=h.length;f--;)c[f]=h.charCodeAt(f);return(c=P0(c)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};i.processDataByFilters=function(h,c){var f=0,d=h||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}})(Et.API),(function(i){i.loadFile=function(e,t,r){return(function(a,o,h){o=o!==!1,h=typeof h=="function"?h:function(){};var c=void 0;try{c=(function(f,d,m){var x=new XMLHttpRequest,w=0,y=function(N){var A=N.length,E=[],C=String.fromCharCode;for(w=0;w<A;w+=1)E.push(C(255&N.charCodeAt(w)));return E.join("")};if(x.open("GET",f,!d),x.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(x.onload=function(){x.status===200?m(y(this.responseText)):m(void 0)}),x.send(null),d&&x.status===200)return y(x.responseText)})(a,o,h)}catch{}return c})(e,t,r)},i.loadImageFile=i.loadFile})(Et.API),(function(i){function e(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):e0(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):e0(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=Bn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var m in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[m]=f.style[m];return d},o=function c(f,d){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),x=f.firstChild;x;x=x.nextSibling)d!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||m.appendChild(c(x,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m},h=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),d);return(m=m.setProgress(1,c,1,[c])).set(f)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(c,f){return c.__proto__=f||h.prototype,c},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},h.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,m=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var y=0;y<m.length;++y){var N=m[y],A=N.src.find(function(E){return E.format==="truetype"});A&&d.addFont(A.url,N.ref.name,N.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,d.context2d.save(!0),f(this.prop.container,w)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},h.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},h.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},h.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in h.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},h.prototype.get=function(c,f){return this.then(function(){var d=c in h.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},h.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},h.prototype.setPageSize=function(c){function f(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(c=c||Et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},h.prototype.setProgress=function(c,f,d,m){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(c,f,d,m){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},h.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(m,x){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(w){return d.updateProgress(null,m),w}).then(m,x).then(function(w){return d.updateProgress(1),w})})},h.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),f&&(f=f.bind(m));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:h.convert(Object.assign({},m),Promise.prototype),w=d.call(x,c,f);return h.convert(w,m.__proto__)},h.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},h.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},h.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return h.convert(f,this)},h.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},h.prototype.error=function(c){return this.then(function(){throw new Error(c)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,Et.getPageSize=function(c,f,d){if(Bn(c)==="object"){var m=c;c=m.orientation,f=m.unit||f,d=m.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var x,w=(""+d).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+f}var N,A=0,E=0;if(y.hasOwnProperty(w))A=y[w][1]/x,E=y[w][0]/x;else try{A=d[1],E=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",E>A&&(N=E,E=A,A=N);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",A>E&&(N=E,E=A,A=N)}return{width:E,height:A,unit:f,k:x,orientation:c}},i.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(y0):null;var d=new h(f);return f.worker?d:d.from(c).doCallback()}})(Et.API),Et.API.addJS=function(i){return bb=i,this.internal.events.subscribe("postPutResources",function(){vp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),yb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+bb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){vp!==void 0&&yb!==void 0&&this.internal.out("/Names <</JavaScript "+vp+" 0 R>>")}),this},(function(i){var e;i.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var h=a[o],c=r.exec(h);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(h)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(o=0;o<d;o++){var x=t.internal.newObject();m.push(x);var w=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var y=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<m.length;o++)t.internal.write("(page_"+(o+1)+")"+m[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+y+" 0 R"),t.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),i.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,o){var h={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(h),h},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var h=r.children[o];this.objStart(h),this.line("/Title "+this.makeString(h.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),h.children.length>0&&(this.line("/First "+this.makeRef(h.children[0])),this.line("/Last "+this.makeRef(h.children[h.children.length-1])));var c=this.count=this.count_r({count:0},h);if(c>0&&this.line("/Count "+c),h.options&&h.options.pageNumber){var f=t.internal.getPageInfo(h.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(Et.API),(function(i){var e=[192,193,194,195,196,197,198,199];i.processJPEG=function(t,r,a,o,h,c){var f,d=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=h||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(x){for(var w,y=256*x.charCodeAt(4)+x.charCodeAt(5),N=x.length,A={width:0,height:0,numcomponents:1},E=4;E<N;E+=2){if(E+=y,e.indexOf(x.charCodeAt(E+1))!==-1){w=256*x.charCodeAt(E+5)+x.charCodeAt(E+6),A={width:256*x.charCodeAt(E+7)+x.charCodeAt(E+8),height:w,numcomponents:x.charCodeAt(E+9)};break}y=256*x.charCodeAt(E+2)+x.charCodeAt(E+3)}return A})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:a}}return m}})(Et.API),Et.API.processPNG=function(i,e,t,r){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var a,o=gO(i,{checkCrc:!0}),h=o.width,c=o.height,f=o.channels,d=o.palette,m=o.depth;a=d&&f===1?(function(D){for(var R=D.width,Z=D.height,O=D.data,j=D.palette,V=D.depth,J=!1,ue=[],ee=[],ie=void 0,ce=!1,he=0,we=0;we<j.length;we++){var X=Sy(j[we],4),T=X[0],H=X[1],Q=X[2],re=X[3];ue.push(T,H,Q),re!=null&&(re===0?(he++,ee.length<1&&ee.push(we)):re<255&&(ce=!0))}if(ce||he>1){J=!0,ee=void 0;var ae=R*Z;ie=new Uint8Array(ae);for(var me=new DataView(O.buffer),de=0;de<ae;de++){var _e=x0(me,de,V),ve=Sy(j[_e],4)[3];ie[de]=ve}}else he===0&&(ee=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:O,alphaBytes:ie,needSMask:J,palette:ue,mask:ee}})(o):f===2||f===4?(function(D){for(var R=D.data,Z=D.width,O=D.height,j=D.channels,V=D.depth,J=j===2?"DeviceGray":"DeviceRGB",ue=j-1,ee=Z*O,ie=ue,ce=ee*ie,he=1*ee,we=Math.ceil(ce*V/8),X=Math.ceil(he*V/8),T=new Uint8Array(we),H=new Uint8Array(X),Q=new DataView(R.buffer),re=new DataView(T.buffer),ae=new DataView(H.buffer),me=!1,de=0;de<ee;de++){for(var _e=de*j,ve=0;ve<ie;ve++)Eb(re,x0(Q,_e+ve,V),de*ie+ve,V);var Ie=x0(Q,_e+ie,V);Ie<(1<<V)-1&&(me=!0),Eb(ae,Ie,1*de,V)}return{colorSpace:J,colorsPerPixel:ue,sMaskBitsPerComponent:me?V:void 0,colorBytes:T,alphaBytes:H,needSMask:me}})(o):(function(D){var R=D.data,Z=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Z,colorsPerPixel:Z==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(O){for(var j=O.length,V=new Uint8Array(2*j),J=new DataView(V.buffer,V.byteOffset,V.byteLength),ue=0;ue<j;ue++)J.setUint16(2*ue,O[ue],!1);return V})(R):R,needSMask:!1}})(o);var x,w,y,N=a,A=N.colorSpace,E=N.colorsPerPixel,C=N.sMaskBitsPerComponent,U=N.colorBytes,F=N.alphaBytes,q=N.needSMask,z=N.palette,$=N.mask,Y=null;return r!==Et.API.image_compression.NONE&&typeof P0=="function"?(Y=(function(D){var R;switch(D){case Et.API.image_compression.FAST:R=11;break;case Et.API.image_compression.MEDIUM:R=13;break;case Et.API.image_compression.SLOW:R=14;break;default:R=12}return R})(r),x=this.decode.FLATE_DECODE,w="/Predictor ".concat(Y," /Colors ").concat(E," /BitsPerComponent ").concat(m," /Columns ").concat(h),i=Sb(U,Math.ceil(h*E*m/8),E,m,r),q&&(y=Sb(F,Math.ceil(h*C/8),1,C,r))):(x=void 0,w=void 0,i=U,q&&(y=F)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:t,data:i,index:e,filter:x,decodeParameters:w,transparency:$,palette:z,sMask:y,predictor:Y,width:h,height:c,bitsPerComponent:m,sMaskBitsPerComponent:C,colorSpace:A}}},(function(i){i.processGIF89A=function(e,t,r,a){var o=new BO(e),h=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:h,height:c},m=new _0(100).encode(d,100);return i.processJPEG.call(this,m,t,r,a)},i.processGIF87A=i.processGIF89A})(Et.API),Va.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var e=0;e<i;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Va.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[i]()}catch(t){Qn.log("bit decode error:"+t)}},Va.prototype.bit1=function(){var i,e=Math.ceil(this.width/8),t=e%4;for(i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[h+4*c]=f.blue,this.data[h+4*c+1]=f.green,this.data[h+4*c+2]=f.red,this.data[h+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Va.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),e=i%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<i;a++){var o=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[h]=d.blue,this.data[h+1]=d.green,this.data[h+2]=d.red,this.data[h+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[h+4]=d.blue,this.data[h+4+1]=d.green,this.data[h+4+2]=d.red,this.data[h+4+3]=255}e!==0&&(this.pos+=4-e)}},Va.prototype.bit8=function(){for(var i=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(a<this.palette.length){var h=this.palette[a];this.data[o]=h.red,this.data[o+1]=h.green,this.data[o+2]=h.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}i!==0&&(this.pos+=4-i)}},Va.prototype.bit15=function(){for(var i=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,m=r*this.width*4+4*a;this.data[m]=f,this.data[m+1]=c,this.data[m+2]=h,this.data[m+3]=d}this.pos+=i}},Va.prototype.bit16=function(){for(var i=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(h&e)/e*255|0,f=(h>>5&t)/t*255|0,d=(h>>11)/e*255|0,m=a*this.width*4+4*o;this.data[m]=d,this.data[m+1]=f,this.data[m+2]=c,this.data[m+3]=255}this.pos+=i}},Va.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=r,this.data[h+3]=255}this.pos+=this.width%4}},Va.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=h}},Va.prototype.getData=function(){return this.data},(function(i){i.processBMP=function(e,t,r,a){var o=new Va(e,!1),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new _0(100).encode(f,100);return i.processJPEG.call(this,d,t,r,a)}})(Et.API),Ob.prototype.getData=function(){return this.data},(function(i){i.processWEBP=function(e,t,r,a){var o=new Ob(e),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new _0(100).encode(f,100);return i.processJPEG.call(this,d,t,r,a)}})(Et.API),Et.API.processRGBA=function(i,e,t){for(var r=i.data,a=r.length,o=new Uint8Array(a/4*3),h=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var m=r[d],x=r[d+1],w=r[d+2],y=r[d+3];o[c++]=m,o[c++]=x,o[c++]=w,h[f++]=y}var N=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(h),data:N,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Et.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rh=Et.API,yp=rh.getCharWidthsArray=function(i,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),h=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,m=d.fof?d.fof:1,x=e.doKerning!==!1,w=0,y=i.length,N=0,A=c[0]||f,E=[];for(t=0;t<y;t++)r=i.charCodeAt(t),typeof a.metadata.widthOfString=="function"?E.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+h*(1e3/o)||0)/1e3):(w=x&&Bn(d[r])==="object"&&!isNaN(parseInt(d[r][N],10))?d[r][N]/m:0,E.push((c[r]||A)/f+w)),N=r;return E},xb=rh.getStringUnitWidth=function(i,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return rh.processArabic&&(i=rh.processArabic(i)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(i,t,a)/t:yp.apply(this,arguments).reduce(function(o,h){return o+h},0)},_b=function(i,e,t,r){for(var a=[],o=0,h=i.length,c=0;o!==h&&c+e[o]<t;)c+=e[o],o++;a.push(i.slice(0,o));var f=o;for(c=0;o!==h;)c+e[o]>r&&(a.push(i.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(i.slice(f,o)),a},wb=function(i,e,t){t||(t={});var r,a,o,h,c,f,d,m=[],x=[m],w=t.textIndent||0,y=0,N=0,A=i.split(" "),E=yp.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?A[0].length+2:t.lineIndent||0){var C=Array(f).join(" "),U=[];A.map(function(q){(q=q.split(/\s*\n/)).length>1?U=U.concat(q.map(function(z,$){return($&&z.length?`
`:"")+z})):U.push(q[0])}),A=U,f=xb.apply(this,[C,t])}for(o=0,h=A.length;o<h;o++){var F=0;if(r=A[o],f&&r[0]==`
`&&(r=r.substr(1),F=1),w+y+(N=(a=yp.apply(this,[r,t])).reduce(function(q,z){return q+z},0))>e||F){if(N>e){for(c=_b.apply(this,[r,a,e-(w+y),e]),m.push(c.shift()),m=[c.pop()];c.length;)x.push([c.shift()]);N=a.slice(r.length-(m[0]?m[0].length:0)).reduce(function(q,z){return q+z},0)}else m=[r];x.push(m),w=N+f,y=E}else m.push(r),w+=y+N,y=E}return d=f?function(q,z){return(z?C:"")+q.join(" ")}:function(q){return q.join(" ")},x.map(d)},rh.splitTextToSize=function(i,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var x=this.internal.getFont(m.fontName,m.fontStyle),w="Unicode";return x.metadata[w]?{widths:x.metadata[w].widths||{0:1},kerning:x.metadata[w].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(i)?i:String(i).split(/\r?\n/);var h=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(wb.apply(this,[r[c],h,o]));return d},(function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[t[o]]=e[o],a[e[o]]=t[o];var h=function(w){return"0x"+parseInt(w,10).toString(16)},c=i.__fontmetrics__.compress=function(w){var y,N,A,E,C=["{"];for(var U in w){if(y=w[U],isNaN(parseInt(U,10))?N="'"+U+"'":(U=parseInt(U,10),N=(N=h(U).slice(2)).slice(0,-1)+a[N.slice(-1)]),typeof y=="number")y<0?(A=h(y).slice(3),E="-"):(A=h(y).slice(2),E=""),A=E+A.slice(0,-1)+a[A.slice(-1)];else{if(Bn(y)!=="object")throw new Error("Don't know what to do with value type "+Bn(y)+".");A=c(y)}C.push(N+A)}return C.push("}"),C.join("")},f=i.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,N,A,E,C={},U=1,F=C,q=[],z="",$="",Y=w.length-1,D=1;D<Y;D+=1)(E=w[D])=="'"?y?(A=y.join(""),y=void 0):y=[]:y?y.push(E):E=="{"?(q.push([F,A]),F={},A=void 0):E=="}"?((N=q.pop())[0][N[1]]=F,A=void 0,F=N[0]):E=="-"?U=-1:A===void 0?r.hasOwnProperty(E)?(z+=r[E],A=parseInt(z,16)*U,U=1,z=""):z+=E:r.hasOwnProperty(E)?($+=r[E],F[A]=parseInt($,16)*U,U=1,A=void 0,$=""):$+=E;return C},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},x={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(w){var y=w.font,N=x.Unicode[y.postScriptName];N&&(y.metadata.Unicode={},y.metadata.Unicode.widths=N.widths,y.metadata.Unicode.kerning=N.kerning);var A=m.Unicode[y.postScriptName];A&&(y.metadata.Unicode.encoding=A,y.encoding=A.codePages[0])}])})(Et.API),(function(i){var e=function(t){for(var r=t.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=t.charCodeAt(o);return a};i.API.events.push(["addFont",function(t){var r=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(h,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Ap(c)),h.metadata=i.API.TTFFont.open(c),h.metadata.Unicode=h.metadata.Unicode||{encoding:{},kerning:{},widths:[]},h.metadata.glyIdsUsed=[0]})(a,r)}}])})(Et),Et.API.addSvgAsImage=function(i,e,t,r,a,o,h,c){if(isNaN(e)||isNaN(t))throw Qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw Qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(Ut.canvg?Promise.resolve(Ut.canvg):e0(()=>import("./index.es-C1pJEKzB.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(d,i,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(m)}).then(function(){x.addImage(f.toDataURL("image/jpeg",1),e,t,r,a,h,c)})},Et.API.putTotalPages=function(i){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(i,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},Et.API.viewerPreferences=function(i,e){var t;i=i||{},e=e||!1;var r,a,o,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(h),f=[],d=0,m=0,x=0;function w(N,A){var E,C=!1;for(E=0;E<N.length;E+=1)N[E]===A&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,i==="reset"||e===!0){var y=c.length;for(x=0;x<y;x+=1)t[c[x]].value=t[c[x]].defaultValue,t[c[x]].explicitSet=!1}if(Bn(i)==="object"){for(a in i)if(o=i[a],w(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&w(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(m=0;m<o[d].length;m+=1)typeof o[d][m]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,A=[];for(N in t)t[N].explicitSet===!0&&(t[N].type==="name"?A.push("/"+N+" /"+t[N].value):A.push("/"+N+" "+t[N].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(i){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),h=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+h.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+h+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Et.API),(function(i){var e=i.API,t=e.pdfEscape16=function(o,h){for(var c,f=h.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],x=0,w=o.length;x<w;++x){if(c=h.metadata.characterToGlyph(o.charCodeAt(x)),h.metadata.glyIdsUsed.push(c),h.metadata.toUnicode[c]=o.charCodeAt(x),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(h.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(d[4-c.length],c)}return m.join("")},r=function(o){var h,c,f,d,m,x,w;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],x=0,w=(c=Object.keys(o).sort(function(y,N){return y-N})).length;x<w;x++)h=c[x],f.length>=100&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[h]!==void 0&&o[h]!==null&&typeof o[h].toString=="function"&&(d=("0000"+o[h].toString(16)).slice(-4),h=("0000"+(+h).toString(16)).slice(-4),f.push("<"+h+"><"+d+">"));return f.length&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof i.API.TTFFont&&c.encoding==="Identity-H"){for(var x=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",N=0;N<w.length;N++)y+=String.fromCharCode(w[N]);var A=d();m({data:y,addLength1:!0,objectId:A}),f("endobj");var E=d();m({data:r(c.metadata.toUnicode),addLength1:!0,objectId:E}),f("endobj");var C=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+ch(c.fontName)),f("/FontFile2 "+A+" 0 R"),f("/FontBBox "+i.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var U=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+ch(c.fontName)),f("/FontDescriptor "+C+" 0 R"),f("/W "+i.API.PDFObject.convert(x)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+E+" 0 R"),f("/BaseFont /"+ch(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+U+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof i.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var x=c.metadata.rawData,w="",y=0;y<x.length;y++)w+=String.fromCharCode(x[y]);var N=d();m({data:w,addLength1:!0,objectId:N}),f("endobj");var A=d();m({data:r(c.metadata.toUnicode),addLength1:!0,objectId:A}),f("endobj");var E=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+N+" 0 R"),f("/Flags 96"),f("/FontBBox "+i.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+ch(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var C=0;C<c.metadata.hmtx.widths.length;C++)c.metadata.hmtx.widths[C]=parseInt(c.metadata.hmtx.widths[C]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+ch(c.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var h,c=o.text||"",f=o.x,d=o.y,m=o.options||{},x=o.mutex||{},w=x.pdfEscape,y=x.activeFontKey,N=x.fonts,A=y,E="",C=0,U="",F=N[A].encoding;if(N[A].encoding!=="Identity-H")return{text:c,x:f,y:d,options:m,mutex:x};for(U=c,A=y,Array.isArray(c)&&(U=c[0]),C=0;C<U.length;C+=1)N[A].metadata.hasOwnProperty("cmap")&&(h=N[A].metadata.cmap.unicode.codeMap[U[C].charCodeAt(0)]),h||U[C].charCodeAt(0)<256&&N[A].metadata.hasOwnProperty("Unicode")?E+=U[C]:E+="";var q="";return parseInt(A.slice(1))<14||F==="WinAnsiEncoding"?q=w(E,A).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(q=t(E,N[A])),x.isHex=!0,{text:q,x:f,y:d,options:m,mutex:x}};e.events.push(["postProcessText",function(o){var h=o.text||"",c=[],f={text:h,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(h)){var d=0;for(d=0;d<h.length;d+=1)Array.isArray(h[d])&&h[d].length===3?c.push([a(Object.assign({},f,{text:h[d][0]})).text,h[d][1],h[d][2]]):c.push(a(Object.assign({},f,{text:h[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:h})).text}])})(Et),(function(i){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},i.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},i.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Et.API),(function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(r){var a,o,h,c,f,d,m,x=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),U=!1,F=0;this.__bidiEngine__={};var q=function(O){var j=O.charCodeAt(),V=j>>8,J=A[V];return J!==void 0?x[256*J+(255&j)]:V===252||V===253?"AL":C.test(V)?"L":V===8?"R":"N"},z=function(O){for(var j,V=0;V<O.length;V++){if((j=q(O.charAt(V)))==="L")return!1;if(j==="R")return!0}return!1},$=function(O,j,V,J){var ue,ee,ie,ce,he=j[J];switch(he){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":U=!1;break;case"N":case"AN":break;case"EN":U&&(he="AN");break;case"AL":U=!0,he="R";break;case"WS":case"BN":he="N";break;case"CS":J<1||J+1>=j.length||(ue=V[J-1])!=="EN"&&ue!=="AN"||(ee=j[J+1])!=="EN"&&ee!=="AN"?he="N":U&&(ee="AN"),he=ee===ue?ee:"N";break;case"ES":he=(ue=J>0?V[J-1]:"B")==="EN"&&J+1<j.length&&j[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&V[J-1]==="EN"){he="EN";break}if(U){he="N";break}for(ie=J+1,ce=j.length;ie<ce&&j[ie]==="ET";)ie++;he=ie<ce&&j[ie]==="EN"?"EN":"N";break;case"NSM":if(h&&!c){for(ce=j.length,ie=J+1;ie<ce&&j[ie]==="NSM";)ie++;if(ie<ce){var we=O[J],X=we>=1425&&we<=2303||we===64286;if(ue=j[ie],X&&(ue==="R"||ue==="AL")){he="R";break}}}he=J<1||(ue=j[J-1])==="B"?"N":V[J-1];break;case"B":U=!1,a=!0,he=F;break;case"S":o=!0,he="N"}return he},Y=function(O,j,V){var J=O.split("");return V&&D(J,V,{hiLevel:F}),J.reverse(),j&&j.reverse(),J.join("")},D=function(O,j,V){var J,ue,ee,ie,ce,he=-1,we=O.length,X=0,T=[],H=F?y:w,Q=[];for(U=!1,a=!1,o=!1,ue=0;ue<we;ue++)Q[ue]=q(O[ue]);for(ee=0;ee<we;ee++){if(ce=X,T[ee]=$(O,Q,T,ee),J=240&(X=H[ce][N[T[ee]]]),X&=15,j[ee]=ie=H[X][5],J>0)if(J===16){for(ue=he;ue<ee;ue++)j[ue]=1;he=-1}else he=-1;if(H[X][6])he===-1&&(he=ee);else if(he>-1){for(ue=he;ue<ee;ue++)j[ue]=ie;he=-1}Q[ee]==="B"&&(j[ee]=0),V.hiLevel|=ie}o&&(function(re,ae,me){for(var de=0;de<me;de++)if(re[de]==="S"){ae[de]=F;for(var _e=de-1;_e>=0&&re[_e]==="WS";_e--)ae[_e]=F}})(Q,j,we)},R=function(O,j,V,J,ue){if(!(ue.hiLevel<O)){if(O===1&&F===1&&!a)return j.reverse(),void(V&&V.reverse());for(var ee,ie,ce,he,we=j.length,X=0;X<we;){if(J[X]>=O){for(ce=X+1;ce<we&&J[ce]>=O;)ce++;for(he=X,ie=ce-1;he<ie;he++,ie--)ee=j[he],j[he]=j[ie],j[ie]=ee,V&&(ee=V[he],V[he]=V[ie],V[ie]=ee);X=ce}X++}}},Z=function(O,j,V){var J=O.split(""),ue={hiLevel:F};return V||(V=[]),D(J,V,ue),(function(ee,ie,ce){if(ce.hiLevel!==0&&m)for(var he,we=0;we<ee.length;we++)ie[we]===1&&(he=E.indexOf(ee[we]))>=0&&(ee[we]=E[he+1])})(J,V,ue),R(2,J,j,V,ue),R(1,J,j,V,ue),J.join("")};return this.__bidiEngine__.doBidiReorder=function(O,j,V){if((function(ue,ee){if(ee)for(var ie=0;ie<ue.length;ie++)ee[ie]=ie;c===void 0&&(c=z(ue)),d===void 0&&(d=z(ue))})(O,j),h||!f||d)if(h&&f&&c^d)F=c?1:0,O=Y(O,j,V);else if(!h&&f&&d)F=c?1:0,O=Z(O,j,V),O=Y(O,j);else if(!h||c||f||d){if(h&&!f&&c^d)O=Y(O,j),c?(F=0,O=Z(O,j,V)):(F=1,O=Z(O,j,V),O=Y(O,j));else if(h&&c&&!f&&d)F=1,O=Z(O,j,V),O=Y(O,j);else if(!h&&!f&&c^d){var J=m;c?(F=1,O=Z(O,j,V),F=0,m=!1,O=Z(O,j,V),m=J):(F=0,O=Z(O,j,V),O=Y(O,j),F=1,m=!1,O=Z(O,j,V),m=J,O=Y(O,j))}}else F=0,O=Z(O,j,V);else F=c?1:0,O=Z(O,j,V);return O},this.__bidiEngine__.setOptions=function(O){O&&(h=O.isInputVisual,f=O.isOutputVisual,c=O.isInputRtl,d=O.isOutputRtl,m=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var h=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(h=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?h.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):h.push([t.doBidiReorder(a[c])]);r.text=h}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Et),Et.API.TTFFont=(function(){function i(e){var t;if(this.rawData=e,t=this.contents=new dc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new $O(this),this.registerTTF()}return i.open=function(e){return new i(e)},i.prototype.parse=function(){return this.directory=new zO(this.contents),this.head=new FO(this),this.name=new GO(this),this.cmap=new xw(this),this.toUnicode={},this.hhea=new PO(this),this.maxp=new YO(this),this.hmtx=new WO(this),this.post=new VO(this),this.os2=new UO(this),this.loca=new QO(this),this.glyf=new XO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var e,t,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var h,c,f,d;for(d=[],h=0,c=(f=this.bbox).length;h<c;h++)e=f[h],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},i.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},i.prototype.widthOfString=function(e,t,r){var a,o,h,c;for(h=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),h+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return h*(t/1e3)},i.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},i})();var ro,dc=(function(){function i(e){this.data=e??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(e){return this.data[this.pos++]=e},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},i.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},i.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},i.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},i.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(e){return this.writeInt16(e)},i.prototype.readLongLong=function(){var e,t,r,a,o,h,c,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),h=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^h)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*o+65536*h+256*c+f},i.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(e){return this.writeInt32(e)},i.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},i.prototype.write=function(e){var t,r,a,o;for(o=[],r=0,a=e.length;r<a;r++)t=e[r],o.push(this.writeByte(t));return o},i})(),zO=(function(){var i;function e(t){var r,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,o,h,c,f,d,m,x,w,y,N,A;for(A in y=Object.keys(t).length,f=Math.log(2),x=16*Math.floor(Math.log(y)/f),h=Math.floor(x/f),m=16*y-x,(a=new dc).writeInt(this.scalarType),a.writeShort(y),a.writeShort(x),a.writeShort(h),a.writeShort(m),o=16*y,d=a.pos+o,c=null,N=[],t)for(w=t[A],a.writeString(A),a.writeInt(i(w)),a.writeInt(d),a.writeInt(w.length),N=N.concat(w),A==="head"&&(c=d),d+=w.length;d%4;)N.push(0),d++;return a.write(N),r=2981146554-i(a.data),a.pos=c+8,a.writeUInt32(r),a.data},i=function(t){var r,a,o,h;for(t=_w.call(t);t.length%4;)t.push(0);for(o=new dc(t),a=0,r=0,h=t.length;r<h;r=r+=4)a+=o.readUInt32();return 4294967295&a},e})(),qO={}.hasOwnProperty,Do=function(i,e){for(var t in e)qO.call(e,t)&&(i[t]=e[t]);function r(){this.constructor=i}return r.prototype=e.prototype,i.prototype=new r,i.__super__=e.prototype,i};ro=(function(){function i(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i})();var FO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="head",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},i.prototype.encode=function(e){var t;return(t=new dc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},i})(),Mb=(function(){function i(e,t){var r,a,o,h,c,f,d,m,x,w,y,N,A,E,C,U,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(y=e.readUInt16(),w=y/2,e.pos+=6,o=(function(){var q,z;for(z=[],f=q=0;0<=w?q<w:q>w;f=0<=w?++q:--q)z.push(e.readUInt16());return z})(),e.pos+=2,A=(function(){var q,z;for(z=[],f=q=0;0<=w?q<w:q>w;f=0<=w?++q:--q)z.push(e.readUInt16());return z})(),d=(function(){var q,z;for(z=[],f=q=0;0<=w?q<w:q>w;f=0<=w?++q:--q)z.push(e.readUInt16());return z})(),m=(function(){var q,z;for(z=[],f=q=0;0<=w?q<w:q>w;f=0<=w?++q:--q)z.push(e.readUInt16());return z})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var q,z;for(z=[],f=q=0;0<=a?q<a:q>a;f=0<=a?++q:--q)z.push(e.readUInt16());return z})(),f=C=0,F=o.length;C<F;f=++C)for(E=o[f],r=U=N=A[f];N<=E?U<=E:U>=E;r=N<=E?++U:--U)m[f]===0?h=r+d[f]:(h=c[m[f]/2+(r-N)-(w-f)]||0)!==0&&(h+=d[f]),this.codeMap[r]=65535&h}e.pos=x}return i.encode=function(e,t){var r,a,o,h,c,f,d,m,x,w,y,N,A,E,C,U,F,q,z,$,Y,D,R,Z,O,j,V,J,ue,ee,ie,ce,he,we,X,T,H,Q,re,ae,me,de,_e,ve,Ie,He;switch(J=new dc,h=Object.keys(e).sort(function(Ge,Qe){return Ge-Qe}),t){case"macroman":for(A=0,E=(function(){var Ge=[];for(N=0;N<256;++N)Ge.push(0);return Ge})(),U={0:0},o={},ue=0,he=h.length;ue<he;ue++)U[_e=e[a=h[ue]]]==null&&(U[_e]=++A),o[a]={old:e[a],new:U[e[a]]},E[a]=U[e[a]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(E),{charMap:o,subtable:J.data,maxGlyphID:A+1};case"unicode":for(j=[],x=[],F=0,U={},r={},C=d=null,ee=0,we=h.length;ee<we;ee++)U[z=e[a=h[ee]]]==null&&(U[z]=++F),r[a]={old:z,new:U[z]},c=U[z]-a,C!=null&&c===d||(C&&x.push(C),j.push(a),d=c),C=a;for(C&&x.push(C),x.push(65535),j.push(65535),Z=2*(R=j.length),D=2*Math.pow(Math.log(R)/Math.LN2,2),w=Math.log(D/2)/Math.LN2,Y=2*R-D,f=[],$=[],y=[],N=ie=0,X=j.length;ie<X;N=++ie){if(O=j[N],m=x[N],O===65535){f.push(0),$.push(0);break}if(O-(V=r[O].new)>=32768)for(f.push(0),$.push(2*(y.length+R-N)),a=ce=O;O<=m?ce<=m:ce>=m;a=O<=m?++ce:--ce)y.push(r[a].new);else f.push(V-O),$.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*R+2*y.length),J.writeUInt16(0),J.writeUInt16(Z),J.writeUInt16(D),J.writeUInt16(w),J.writeUInt16(Y),me=0,T=x.length;me<T;me++)a=x[me],J.writeUInt16(a);for(J.writeUInt16(0),de=0,H=j.length;de<H;de++)a=j[de],J.writeUInt16(a);for(ve=0,Q=f.length;ve<Q;ve++)c=f[ve],J.writeUInt16(c);for(Ie=0,re=$.length;Ie<re;Ie++)q=$[Ie],J.writeUInt16(q);for(He=0,ae=y.length;He<ae;He++)A=y[He],J.writeUInt16(A);return{charMap:r,subtable:J.data,maxGlyphID:F+1}}},i})(),xw=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="cmap",i.prototype.parse=function(e){var t,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)t=new Mb(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},i.encode=function(e,t){var r,a;return t==null&&(t="macroman"),r=Mb.encode(e,t),(a=new dc).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},i})(),PO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="hhea",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},i})(),UO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="OS/2",i.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},i})(),VO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="post",i.prototype.parse=function(e){var t,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var h,c,f;for(f=[],o=h=0,c=this.file.maxp.numGlyphs;0<=c?h<c:h>c;o=0<=c?++h:--h)f.push(e.readUInt32());return f}).call(this)}},i})(),HO=function(i,e){this.raw=i,this.length=i.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},GO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="name",i.prototype.parse=function(e){var t,r,a,o,h,c,f,d,m,x,w;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=m=0,x=r.length;m<x;o=++m)a=r[o],e.pos=a.offset,d=e.readString(a.length),h=new HO(d,a),f[w=a.nameID]==null&&(f[w]=[]),f[a.nameID].push(h);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},i})(),YO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="maxp",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},i})(),WO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="hmtx",i.prototype.parse=function(e){var t,r,a,o,h,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,m;for(m=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)m.push(e.readInt16());return m})(),this.widths=(function(){var d,m,x,w;for(w=[],d=0,m=(x=this.metrics).length;d<m;d++)o=x[d],w.push(o.advance);return w}).call(this),r=this.widths[this.widths.length-1],f=[],t=h=0;0<=a?h<a:h>a;t=0<=a?++h:--h)f.push(this.widths.push(r));return f},i.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},i})(),_w=[].slice,XO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(e){var t,r,a,o,h,c,f,d,m,x;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,h=(c=new dc(t.read(a))).readShort(),d=c.readShort(),x=c.readShort(),f=c.readShort(),m=c.readShort(),this.cache[e]=h===-1?new KO(c,d,x,f,m):new ZO(c,h,d,x,f,m),this.cache[e]))},i.prototype.encode=function(e,t,r){var a,o,h,c,f;for(h=[],o=[],c=0,f=t.length;c<f;c++)a=e[t[c]],o.push(h.length),a&&(h=h.concat(a.encode(r)));return o.push(h.length),{table:h,offsets:o}},i})(),ZO=(function(){function i(e,t,r,a,o,h){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=h,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i})(),KO=(function(){function i(e,t,r,a,o){var h,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],h=this.raw;c=h.readShort(),this.glyphOffsets.push(h.pos),this.glyphIDs.push(h.readUInt16()),32&c;)h.pos+=1&c?4:2,128&c?h.pos+=8:64&c?h.pos+=4:8&c&&(h.pos+=2)}return i.prototype.encode=function(){var e,t,r;for(t=new dc(_w.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},i})(),QO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="loca",i.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(e.readUInt32());return o}).call(this)},i.prototype.indexOf=function(e){return this.offsets[e]},i.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},i.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,h=0;h<r.length;++h)if(r[h]=a,o<t.length&&t[o]==h){++o,r[h]=a;var c=this.offsets[h],f=this.offsets[h+1]-c;f>0&&(a+=f)}for(var d=new Array(4*r.length),m=0;m<r.length;++m)d[4*m+3]=255&r[m],d[4*m+2]=(65280&r[m])>>8,d[4*m+1]=(16711680&r[m])>>16,d[4*m]=(4278190080&r[m])>>24;return d},i})(),$O=(function(){function i(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var e,t,r,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=a[r];return e},i.prototype.glyphsFor=function(e){var t,r,a,o,h,c,f;for(a={},h=0,c=e.length;h<c;h++)a[o=e[h]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(r=a[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],a[o]=r;return a},i.prototype.encode=function(e,t){var r,a,o,h,c,f,d,m,x,w,y,N,A,E,C;for(a in r=xw.encode(this.generateCmap(),"unicode"),h=this.glyphsFor(e),y={0:0},C=r.charMap)y[(f=C[a]).old]=f.new;for(N in w=r.maxGlyphID,h)N in y||(y[N]=w++);return m=(function(U){var F,q;for(F in q={},U)q[U[F]]=F;return q})(y),x=Object.keys(m).sort(function(U,F){return U-F}),A=(function(){var U,F,q;for(q=[],U=0,F=x.length;U<F;U++)c=x[U],q.push(m[c]);return q})(),o=this.font.glyf.encode(h,A,y),d=this.font.loca.encode(o.offsets,A),E={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},i})();Et.API.PDFObject=(function(){var i;function e(){}return i=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,o,h;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+i(t.getUTCFullYear(),4)+i(t.getUTCMonth(),2)+i(t.getUTCDate(),2)+i(t.getUTCHours(),2)+i(t.getUTCMinutes(),2)+i(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)h=t[a],o.push("/"+a+" "+e.convert(h));return o.push(">>"),o.join(`
`)}return""+t},e})();const Jg="chordWheelSongs",Z0="chordWheelCurrentSongId",If=()=>{try{const i=localStorage.getItem(Jg);return i?JSON.parse(i).map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})):[]}catch(i){return console.error("Error loading saved songs:",i),[]}},Lb=i=>{try{const e=If(),t=e.findIndex(a=>a.id===i.id),r={...i,updatedAt:new Date().toISOString(),createdAt:i.createdAt instanceof Date?i.createdAt.toISOString():i.createdAt};t>=0?e[t]=r:e.push({...r,createdAt:new Date().toISOString()}),localStorage.setItem(Jg,JSON.stringify(e)),localStorage.setItem(Z0,i.id)}catch(e){console.error("Error saving song:",e)}},JO=i=>{try{const t=If().filter(r=>r.id!==i);localStorage.setItem(Jg,JSON.stringify(t)),localStorage.getItem(Z0)===i&&localStorage.removeItem(Z0)}catch(e){console.error("Error deleting song:",e)}};function eM(){const{currentSong:i,selectedKey:e,timelineVisible:t,toggleTimeline:r,selectedSectionId:a,selectedSlotId:o,clearSlot:h,setTitle:c,loadSong:f,newSong:d,instrument:m,volume:x,isMuted:w,undo:y,redo:N,canUndo:A,canRedo:E}=fa();pe.useEffect(()=>{console.log("App Audio Sync: Instrument",m),sT(m)},[m]),pe.useEffect(()=>{console.log("App Audio Sync: Volume",x),aT(x)},[x]),pe.useEffect(()=>{console.log("App Audio Sync: Mute",w),oT(w)},[w]);const[C,U]=pe.useState(180),[F,q]=pe.useState(!1),[z,$]=pe.useState(1),[Y,D]=pe.useState(1),[R,Z]=pe.useState(50),[O,j]=pe.useState(720),[V,J]=pe.useState(()=>typeof window<"u"?window.innerWidth<768:!1),[ue,ee]=pe.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerWidth<1024:!1),ie=pe.useRef(!1),ce=pe.useRef(!1),he=pe.useRef(!1);pe.useEffect(()=>{const We=()=>{const $e=window.innerWidth,ot=window.innerHeight,gt=$e<768,rt=ot<$e&&$e<1024&&gt;if(J(gt),ee(rt),gt){if(rt){const Ht=$e*.5,Dt=16,vt=Math.min(560,Math.max(280,Ht-Dt,ot-120)),At=Math.min(vt*1.2,Ht-Dt+12,ot-120+12,560);j(At)}else{const St=(ot-56-64-80)*.8,Oe=Math.min(Math.min($e-12,St),560),Le=Math.min(Oe*1.2,$e-12+12,St+24,560);j(Math.max(260,Le))}if(!he.current&&Y===1){const Ht=Math.min(1.2,2.5);D(Ht),Z(Ht>1.3?45:50),he.current=!0}}else{const At=Math.max(360,ot-48-56-140),Ft=Math.min(720,Math.max(320,Math.min($e-120,At)));j(Ft)}const Tt=fa.getState();gt&&!ce.current&&(Tt.timelineVisible&&Tt.toggleTimeline(),Tt.chordPanelVisible&&Tt.toggleChordPanel(),ce.current=!0),!gt&&ie.current&&!Tt.chordPanelVisible&&(Tt.toggleChordPanel(),ie.current=!1)};return We(),window.addEventListener("resize",We),window.addEventListener("orientationchange",We),()=>{window.removeEventListener("resize",We),window.removeEventListener("orientationchange",We)}},[]);const we=pe.useCallback((We,$e)=>{D(We),Z($e)},[]),X=pe.useCallback(()=>{const We=Math.min(2.5,Y+.3);D(We),Z(We>1.3?38:50)},[Y]),T=pe.useCallback(()=>{const We=Math.max(1,Y-.3);D(We),Z(We>1.3?38:50)},[Y]),[H,Q]=pe.useState(!1),[re,ae]=pe.useState(i.title),me=pe.useMemo(()=>{const We=i.sections.reduce((Tt,lt)=>{const Ht=lt.measures.reduce((Dt,vt)=>Dt+vt.beats.reduce((At,Ft)=>At+Ft.duration,0),0);return Tt+Ht},0),$e=i.tempo/60,ot=We/$e,gt=Math.floor(ot/60),rt=Math.floor(ot%60);return`${gt}:${rt.toString().padStart(2,"0")}`},[i.sections,i.tempo]),[de,_e]=pe.useState(!1);pe.useEffect(()=>{const We=async()=>{try{await _g(),await qg(),_e(!0),console.log("Audio Context Started and Ready")}catch(ot){console.error("Audio initialization failed:",ot)}},$e=()=>{de||We()};return document.addEventListener("touchstart",$e,{once:!0}),document.addEventListener("click",$e,{once:!0}),()=>{document.removeEventListener("touchstart",$e),document.removeEventListener("click",$e)}},[de]),pe.useEffect(()=>{const We=$e=>{if(($e.key==="Delete"||$e.key==="Backspace")&&a&&o){if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;$e.preventDefault(),h(a,o)}};return window.addEventListener("keydown",We),()=>window.removeEventListener("keydown",We)},[a,o,h]),pe.useEffect(()=>{const We=$e=>{const ot=$e.target;ot?.tagName==="INPUT"||ot?.tagName==="TEXTAREA"||ot?.isContentEditable||$e.metaKey&&$e.key.toLowerCase()==="z"&&($e.preventDefault(),$e.shiftKey?E&&N():A&&y())};return window.addEventListener("keydown",We),()=>window.removeEventListener("keydown",We)},[y,N,A,E]);const ve=()=>{ae(i.title),Q(!0)},Ie=()=>{c(re.trim()||"Untitled Song"),Q(!1)},[He,Ge]=pe.useState(!1),[Qe,P]=pe.useState([]),je=pe.useRef(null);pe.useEffect(()=>{P(If())},[]),pe.useEffect(()=>{const We=$e=>{je.current&&!je.current.contains($e.target)&&Ge(!1)};return document.addEventListener("mousedown",We),()=>document.removeEventListener("mousedown",We)},[]);const ct=()=>{if(i.title==="Untitled Song"||!i.title.trim()){const We=prompt("Please name your song:",i.title);if(We===null)return;const $e=We.trim()||"Untitled Song";c($e);const ot={...i,title:$e};Lb(ot)}else Lb(i);P(If()),Ge(!1)},tt=We=>{f(We),Ge(!1)},De=()=>{confirm("Start a new song? Unsaved changes will be lost.")&&(d(),Ge(!1))},et=(We,$e,ot)=>{ot.stopPropagation(),confirm(`Delete "${$e}"?`)&&(JO(We),P(If()))},nt=We=>{We.key==="Enter"?Ie():We.key==="Escape"&&(ae(i.title),Q(!1))},ht=pe.useCallback(We=>{We.preventDefault(),q(!0)},[]);pe.useEffect(()=>{if(!F)return;const We=ot=>{const rt=window.innerHeight-ot.clientY-56;U(Math.max(100,Math.min(350,rt)))},$e=()=>{q(!1)};return document.addEventListener("mousemove",We),document.addEventListener("mouseup",$e),()=>{document.removeEventListener("mousemove",We),document.removeEventListener("mouseup",$e)}},[F]);const ut=()=>{const We=new Et;We.setFontSize(24),We.setFont("helvetica","bold"),We.text(i.title,20,20),We.setFontSize(12),We.setFont("helvetica","normal"),We.text(`Key: ${e} | Tempo: ${i.tempo} BPM`,20,30);let $e=50;i.sections.forEach(ot=>{$e>270&&(We.addPage(),$e=20),We.setFontSize(14),We.setFont("helvetica","bold"),We.text(`[${ot.name}]`,20,$e),$e+=10;const gt=ot.measures.flatMap(rt=>rt.beats).filter(rt=>rt.chord).map(rt=>rt.chord?.symbol).join("  |  ");We.setFontSize(12),We.setFont("helvetica","normal"),We.text(gt||"(No chords)",20,$e),$e+=15}),We.save(`${i.title.replace(/\s+/g,"-").toLowerCase()}.pdf`)},Ot=Math.max(80,C-42);return L.jsxs("div",{className:"h-full w-full flex flex-col bg-bg-primary text-text-primary overflow-hidden",children:[L.jsxs("header",{className:`${V?"h-14":"h-12"} border-b border-border-subtle grid grid-cols-[1fr_auto_1fr] items-center ${V?"px-4":"px-3"} bg-bg-secondary shrink-0 z-20 sticky top-0`,children:[L.jsx("div",{className:"flex items-center gap-2 shrink-0",children:L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsxs("div",{className:`${V?"w-8 h-8":"w-6 h-6"} rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center shadow-lg relative`,children:[L.jsx(j0,{size:V?16:12,className:"text-white"}),de&&L.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full",title:"Audio Ready"})]}),L.jsx("span",{className:`font-bold ${V?"text-xs":"text-sm"} tracking-tight hidden sm:block text-text-muted`,children:"Songwriter's Wheel"})]})}),L.jsx("div",{className:"flex items-center justify-center overflow-hidden",children:H?L.jsx("input",{type:"text",value:re,onChange:We=>ae(We.target.value),onBlur:Ie,onKeyDown:nt,autoFocus:!0,className:`bg-bg-tertiary border border-border-medium rounded px-3 py-1 ${V?"text-xs":"text-sm"} font-medium text-text-primary focus:outline-none focus:border-accent-primary text-center ${V?"w-40":"w-56"} max-w-[70vw]`,maxLength:50}):L.jsx("span",{onDoubleClick:ve,className:`${V?"text-xs":"text-sm"} font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors px-2 py-1 rounded text-center truncate max-w-[70vw]`,title:"Double-click to edit title",children:i.title})}),L.jsxs("div",{className:`flex items-center ${V?"gap-2":"gap-[20px]"} shrink-0 justify-self-end ${V?"mr-0":"mr-2"}`,children:[V&&!ue&&L.jsxs("button",{onClick:r,className:`flex items-center gap-1 px-3 py-2 min-h-[48px] rounded-lg ${t?"bg-accent-primary text-white":"bg-bg-tertiary text-text-muted"} hover:bg-accent-primary/80 hover:text-white transition-all border border-border-subtle shadow-md active:scale-95`,title:t?"Hide Timeline":"Show Timeline",children:[L.jsx(Q5,{size:16,className:"shrink-0"}),L.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:t?"Hide":"Show"})]}),!V&&L.jsxs("div",{className:"flex items-center gap-[6px] text-[10px] text-text-muted",children:[L.jsx(gC,{size:11,className:"shrink-0"}),L.jsx("span",{className:"leading-none",children:me})]}),L.jsxs("div",{className:`flex items-center gap-[6px] ${V?"text-xs":"text-[10px]"} text-text-muted`,children:[L.jsx("span",{className:"uppercase font-bold",children:"Key"}),L.jsx("span",{className:`font-bold text-accent-primary ${V?"text-base":"text-sm"}`,children:e})]}),L.jsxs("div",{className:"relative",ref:je,children:[L.jsxs("button",{onClick:()=>Ge(!He),className:`flex items-center ${V?"gap-1":"gap-[20px]"} ${V?"text-xs":"text-[11px]"} text-text-secondary hover:text-text-primary transition-colors ${V?"px-1 py-1.5 min-w-[44px]":"px-2 py-1"} touch-feedback`,children:[L.jsx($5,{size:V?16:12}),L.jsx("span",{className:"hidden sm:inline",children:"Save"}),L.jsx(vh,{size:V?12:10,className:`transition-transform ${He?"rotate-180":""}`})]}),He&&L.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-[#1a1a24] border border-border-medium rounded-lg shadow-2xl z-50 overflow-hidden",children:[L.jsxs("div",{className:"p-1.5 border-b border-border-subtle bg-[#22222e]",children:[L.jsxs("button",{onClick:ct,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[L.jsx($5,{size:14,className:"text-accent-primary"}),"Save Current Song"]}),L.jsxs("button",{onClick:De,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[L.jsx(SC,{size:14,className:"text-green-400"}),"New Song"]})]}),L.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#1a1a24]",children:Qe.length===0?L.jsx("p",{className:"px-3 py-4 text-[10px] text-gray-500 text-center",children:"No saved songs yet"}):L.jsxs("div",{className:"p-1.5",children:[L.jsx("p",{className:"px-2 py-1 text-[9px] text-gray-500 uppercase tracking-wider",children:"Saved Songs"}),Qe.map(We=>L.jsxs("div",{onClick:()=>tt(We),className:`flex items-center justify-between px-3 py-2 text-xs rounded cursor-pointer transition-colors ${We.id===i.id?"bg-accent-primary/20 text-accent-primary":"text-gray-300 hover:bg-[#2a2a3a]"}`,children:[L.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.jsx(NC,{size:12,className:"shrink-0"}),L.jsx("span",{className:"truncate",children:We.title})]}),L.jsx("button",{onClick:$e=>et(We.id,We.title,$e),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400 shrink-0",children:L.jsx(Jx,{size:10})})]},We.id))]})})]})]}),L.jsxs("button",{onClick:ut,className:`flex items-center ${V?"gap-1":"gap-[20px]"} ${V?"text-xs":"text-[11px]"} bg-text-primary text-bg-primary ${V?"px-2 py-1.5 min-w-[44px]":"px-2 py-1"} rounded font-medium hover:bg-white transition-colors touch-feedback`,children:[L.jsx(_C,{size:V?16:12}),L.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]}),L.jsxs("div",{className:`flex-1 flex ${V?ue?"flex-row":"flex-col":"flex-row"} overflow-hidden min-h-0`,children:[L.jsxs("div",{className:`flex flex-col min-w-0 min-h-0 ${V&&ue?"w-1/2":"flex-1"} overflow-hidden bg-gradient-to-b from-bg-primary to-bg-secondary/30`,children:[L.jsxs("div",{className:`flex-1 flex flex-col ${V&&!ue?"justify-center":""} overflow-hidden`,children:[!V||ue?L.jsx("div",{className:`flex justify-end ${V?"px-4 py-2":"px-3 py-2 md:py-1.5"} shrink-0 w-full`,children:L.jsxs("div",{className:`flex items-center ${V?"gap-2":"gap-1"} bg-bg-secondary/80 backdrop-blur-sm rounded-full ${V?"px-3 py-2":"px-2 py-1"} border border-border-subtle shadow-lg`,children:[L.jsx("button",{onClick:T,disabled:Y<=1,className:`${V?"w-11 h-11":"w-6 h-6"} flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95`,title:"Zoom out",children:L.jsx(DC,{size:V?18:12})}),L.jsxs("span",{className:`${V?"text-xs w-12":"text-[9px] w-8"} text-text-muted text-center font-medium`,children:[Math.round(Y*100),"%"]}),L.jsx("button",{onClick:X,disabled:Y>=2.5,className:`${V?"w-11 h-11":"w-6 h-6"} flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95`,title:"Zoom in",children:L.jsx(Kx,{size:V?18:12})})]})}):null,L.jsx("div",{className:`flex-1 flex items-center justify-center ${V&&!ue?"overflow-hidden":"overflow-auto"} ${V&&!ue?"px-2 py-0":"px-3 pb-3"}`,children:L.jsx("div",{className:"relative flex items-center justify-center",style:{width:`${O}px`,height:`${O}px`,maxWidth:"100%",maxHeight:V&&!ue?"100%":void 0},children:L.jsx(lT,{zoomScale:Y,zoomOriginY:R,onZoomChange:we})})})]}),!V||ue?t?L.jsxs(L.Fragment,{children:[L.jsx("div",{className:`h-7 bg-bg-secondary border-t border-border-subtle flex items-center justify-center group transition-colors ${F?"bg-accent-primary/20":""}`,children:L.jsx("div",{className:"flex-1 h-full cursor-ns-resize flex items-center justify-center hover:bg-bg-tertiary transition-colors",onMouseDown:ht,children:L.jsx(Q5,{size:14,className:"text-text-muted group-hover:text-text-secondary"})})}),L.jsxs("div",{className:"shrink-0 bg-bg-secondary overflow-hidden",style:{height:C},children:[L.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-bg-secondary/90 backdrop-blur-sm",children:[L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[L.jsx("span",{className:"uppercase font-bold tracking-wider text-[9px]",children:"Scale"}),L.jsx("input",{type:"range",min:.01,max:1.6,step:.01,value:z,onChange:We=>$(parseFloat(We.target.value)),className:"w-32",style:{accentColor:"#8b5cf6"},"aria-label":"Timeline scale"}),L.jsxs("span",{className:"text-[10px] text-text-secondary w-12 text-right",children:[Math.round(z*100),"%"]})]}),L.jsxs("div",{className:"flex items-center gap-1",children:[L.jsxs("button",{onClick:y,disabled:!A,className:`flex items-center gap-1 ${V?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Undo (Z)",children:[L.jsx(Qx,{size:V?14:12}),L.jsx("span",{className:"uppercase font-bold tracking-wider",children:V?"":"Undo"})]}),L.jsxs("button",{onClick:N,disabled:!E,className:`flex items-center gap-1 ${V?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Redo (Z)",children:[L.jsx($x,{size:V?14:12}),L.jsx("span",{className:"uppercase font-bold tracking-wider",children:V?"":"Redo"})]})]})]}),L.jsxs("button",{onClick:r,className:`${V?"text-xs min-h-[44px] px-3":"text-[10px] px-2 py-1"} text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors flex items-center gap-1 touch-feedback`,title:"Hide timeline",children:[L.jsx(vh,{size:V?14:12}),L.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Hide"})]})]}),L.jsx($m,{height:Ot,scale:z})]})]}):L.jsx("div",{className:`${V?"h-12":"h-7"} bg-bg-secondary border-t border-border-subtle flex items-center justify-center shrink-0`,children:L.jsxs("button",{onClick:r,className:`${V?"px-4 min-h-[48px]":"px-3 h-full"} flex items-center gap-1 ${V?"text-xs":"text-[9px]"} text-text-muted hover:text-text-primary hover:bg-bg-tertiary transition-colors touch-feedback`,title:"Show timeline",children:[L.jsx(zg,{size:V?14:12}),L.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Timeline"})]})}):null]}),V&&ue?L.jsxs("div",{className:"w-1/2 flex flex-col overflow-hidden border-l border-border-subtle",children:[t&&L.jsxs("div",{className:"flex-1 overflow-hidden bg-bg-secondary border-b border-border-subtle",children:[L.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-bg-secondary/90",children:[L.jsx("span",{className:"text-xs font-bold text-text-primary uppercase tracking-wider",children:"Timeline"}),L.jsx("button",{onClick:r,className:"text-xs px-2 py-1 text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors",children:"Hide"})]}),L.jsx($m,{height:150,scale:.8})]}),L.jsx("div",{className:"flex-1 overflow-auto",children:L.jsx(Jm,{variant:"drawer"})})]}):V?null:L.jsx(Jm,{variant:"sidebar"})]}),V&&!ue&&!t&&L.jsx("div",{className:"shrink-0 px-4 pb-3 bg-bg-primary border-t border-border-subtle",children:L.jsx(Jm,{variant:"drawer"})}),V&&!ue&&t&&L.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-bg-secondary border-t-2 border-accent-primary shadow-2xl",style:{height:"45vh",maxHeight:"350px",zIndex:50,paddingBottom:"env(safe-area-inset-bottom)"},children:[L.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-bg-secondary/95 backdrop-blur-sm",children:[L.jsx("span",{className:"text-sm font-bold text-text-primary uppercase tracking-wider",children:"Timeline"}),L.jsx("button",{onClick:r,className:"text-sm px-4 py-2 min-h-[44px] bg-bg-tertiary hover:bg-bg-elevated text-text-primary rounded-lg transition-colors font-semibold",children:"Hide"})]}),L.jsx($m,{height:200,scale:.8})]}),(!V||t)&&L.jsx("div",{className:"shrink-0 z-30 relative",style:{paddingBottom:V?"env(safe-area-inset-bottom)":void 0},children:L.jsx(lE,{})})]})}z3.createRoot(document.getElementById("root")).render(L.jsx(pe.StrictMode,{children:L.jsx(eM,{})}));export{Bn as _,tM as c,k3 as g};
