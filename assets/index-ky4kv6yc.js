(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var EL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Zm={exports:{}},Sf={};var N5;function Q3(){if(N5)return Sf;N5=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var h=null;if(o!==void 0&&(h=""+o),a.key!==void 0&&(h=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:i,type:r,key:h,ref:a!==void 0?a:null,props:o}}return Sf.Fragment=e,Sf.jsx=t,Sf.jsxs=t,Sf}var C5;function $3(){return C5||(C5=1,Zm.exports=Q3()),Zm.exports}var M=$3(),Km={exports:{}},Wt={};var T5;function J3(){if(T5)return Wt;T5=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function y(X){return X===null||typeof X!="object"?null:(X=w&&X[w]||X["@@iterator"],typeof X=="function"?X:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function C(X,T,H){this.props=X,this.context=T,this.refs=k,this.updater=H||A}C.prototype.isReactComponent={},C.prototype.setState=function(X,T){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,T,"setState")},C.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function F(){}F.prototype=C.prototype;function z(X,T,H){this.props=X,this.context=T,this.refs=k,this.updater=H||A}var V=z.prototype=new F;V.constructor=z,N(V,C.prototype),V.isPureReactComponent=!0;var I=Array.isArray;function Z(){}var G={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function R(X,T,H){var ee=H.ref;return{$$typeof:i,type:X,key:T,ref:ee!==void 0?ee:null,props:H}}function K(X,T){return R(X.type,T,X.props)}function E(X){return typeof X=="object"&&X!==null&&X.$$typeof===i}function j(X){var T={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(H){return T[H]})}var P=/\/+/g;function J(X,T){return typeof X=="object"&&X!==null&&X.key!=null?j(""+X.key):T.toString(36)}function ue(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(Z,Z):(X.status="pending",X.then(function(T){X.status==="pending"&&(X.status="fulfilled",X.value=T)},function(T){X.status==="pending"&&(X.status="rejected",X.reason=T)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function $(X,T,H,ee,ie){var oe=typeof X;(oe==="undefined"||oe==="boolean")&&(X=null);var me=!1;if(X===null)me=!0;else switch(oe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(X.$$typeof){case i:case e:me=!0;break;case m:return me=X._init,$(me(X._payload),T,H,ee,ie)}}if(me)return ie=ie(X),me=ee===""?"."+J(X,0):ee,I(ie)?(H="",me!=null&&(H=me.replace(P,"$&/")+"/"),$(ie,T,H,"",function(_e){return _e})):ie!=null&&(E(ie)&&(ie=K(ie,H+(ie.key==null||X&&X.key===ie.key?"":(""+ie.key).replace(P,"$&/")+"/")+me)),T.push(ie)),1;me=0;var de=ee===""?".":ee+":";if(I(X))for(var ge=0;ge<X.length;ge++)ee=X[ge],oe=de+J(ee,ge),me+=$(ee,T,H,oe,ie);else if(ge=y(X),typeof ge=="function")for(X=ge.call(X),ge=0;!(ee=X.next()).done;)ee=ee.value,oe=de+J(ee,ge++),me+=$(ee,T,H,oe,ie);else if(oe==="object"){if(typeof X.then=="function")return $(ue(X),T,H,ee,ie);throw T=String(X),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return me}function re(X,T,H){if(X==null)return X;var ee=[],ie=0;return $(X,ee,"","",function(oe){return T.call(H,oe,ie++)}),ee}function ce(X){if(X._status===-1){var T=X._result;T=T(),T.then(function(H){(X._status===0||X._status===-1)&&(X._status=1,X._result=H)},function(H){(X._status===0||X._status===-1)&&(X._status=2,X._result=H)}),X._status===-1&&(X._status=0,X._result=T)}if(X._status===1)return X._result.default;throw X._result}var pe=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},Ne={map:re,forEach:function(X,T,H){re(X,function(){T.apply(this,arguments)},H)},count:function(X){var T=0;return re(X,function(){T++}),T},toArray:function(X){return re(X,function(T){return T})||[]},only:function(X){if(!E(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return Wt.Activity=b,Wt.Children=Ne,Wt.Component=C,Wt.Fragment=t,Wt.Profiler=a,Wt.PureComponent=z,Wt.StrictMode=r,Wt.Suspense=f,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return G.H.useMemoCache(X)}},Wt.cache=function(X){return function(){return X.apply(null,arguments)}},Wt.cacheSignal=function(){return null},Wt.cloneElement=function(X,T,H){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var ee=N({},X.props),ie=X.key;if(T!=null)for(oe in T.key!==void 0&&(ie=""+T.key),T)!D.call(T,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&T.ref===void 0||(ee[oe]=T[oe]);var oe=arguments.length-2;if(oe===1)ee.children=H;else if(1<oe){for(var me=Array(oe),de=0;de<oe;de++)me[de]=arguments[de+2];ee.children=me}return R(X.type,ie,ee)},Wt.createContext=function(X){return X={$$typeof:h,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},Wt.createElement=function(X,T,H){var ee,ie={},oe=null;if(T!=null)for(ee in T.key!==void 0&&(oe=""+T.key),T)D.call(T,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ie[ee]=T[ee]);var me=arguments.length-2;if(me===1)ie.children=H;else if(1<me){for(var de=Array(me),ge=0;ge<me;ge++)de[ge]=arguments[ge+2];ie.children=de}if(X&&X.defaultProps)for(ee in me=X.defaultProps,me)ie[ee]===void 0&&(ie[ee]=me[ee]);return R(X,oe,ie)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(X){return{$$typeof:c,render:X}},Wt.isValidElement=E,Wt.lazy=function(X){return{$$typeof:m,_payload:{_status:-1,_result:X},_init:ce}},Wt.memo=function(X,T){return{$$typeof:d,type:X,compare:T===void 0?null:T}},Wt.startTransition=function(X){var T=G.T,H={};G.T=H;try{var ee=X(),ie=G.S;ie!==null&&ie(H,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Z,pe)}catch(oe){pe(oe)}finally{T!==null&&H.types!==null&&(T.types=H.types),G.T=T}},Wt.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Wt.use=function(X){return G.H.use(X)},Wt.useActionState=function(X,T,H){return G.H.useActionState(X,T,H)},Wt.useCallback=function(X,T){return G.H.useCallback(X,T)},Wt.useContext=function(X){return G.H.useContext(X)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(X,T){return G.H.useDeferredValue(X,T)},Wt.useEffect=function(X,T){return G.H.useEffect(X,T)},Wt.useEffectEvent=function(X){return G.H.useEffectEvent(X)},Wt.useId=function(){return G.H.useId()},Wt.useImperativeHandle=function(X,T,H){return G.H.useImperativeHandle(X,T,H)},Wt.useInsertionEffect=function(X,T){return G.H.useInsertionEffect(X,T)},Wt.useLayoutEffect=function(X,T){return G.H.useLayoutEffect(X,T)},Wt.useMemo=function(X,T){return G.H.useMemo(X,T)},Wt.useOptimistic=function(X,T){return G.H.useOptimistic(X,T)},Wt.useReducer=function(X,T,H){return G.H.useReducer(X,T,H)},Wt.useRef=function(X){return G.H.useRef(X)},Wt.useState=function(X){return G.H.useState(X)},Wt.useSyncExternalStore=function(X,T,H){return G.H.useSyncExternalStore(X,T,H)},Wt.useTransition=function(){return G.H.useTransition()},Wt.version="19.2.0",Wt}var E5;function sg(){return E5||(E5=1,Km.exports=J3()),Km.exports}var fe=sg();const pn=Yb(fe);var Qm={exports:{}},Af={},$m={exports:{}},Jm={};var k5;function e4(){return k5||(k5=1,(function(i){function e($,re){var ce=$.length;$.push(re);e:for(;0<ce;){var pe=ce-1>>>1,Ne=$[pe];if(0<a(Ne,re))$[pe]=re,$[ce]=Ne,ce=pe;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var re=$[0],ce=$.pop();if(ce!==re){$[0]=ce;e:for(var pe=0,Ne=$.length,X=Ne>>>1;pe<X;){var T=2*(pe+1)-1,H=$[T],ee=T+1,ie=$[ee];if(0>a(H,ce))ee<Ne&&0>a(ie,H)?($[pe]=ie,$[ee]=ce,pe=ee):($[pe]=H,$[T]=ce,pe=T);else if(ee<Ne&&0>a(ie,ce))$[pe]=ie,$[ee]=ce,pe=ee;else break e}}return re}function a($,re){var ce=$.sortIndex-re.sortIndex;return ce!==0?ce:$.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var h=Date,c=h.now();i.unstable_now=function(){return h.now()-c}}var f=[],d=[],m=1,b=null,w=3,y=!1,A=!1,N=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function V($){for(var re=t(d);re!==null;){if(re.callback===null)r(d);else if(re.startTime<=$)r(d),re.sortIndex=re.expirationTime,e(f,re);else break;re=t(d)}}function I($){if(N=!1,V($),!A)if(t(f)!==null)A=!0,Z||(Z=!0,j());else{var re=t(d);re!==null&&ue(I,re.startTime-$)}}var Z=!1,G=-1,D=5,R=-1;function K(){return k?!0:!(i.unstable_now()-R<D)}function E(){if(k=!1,Z){var $=i.unstable_now();R=$;var re=!0;try{e:{A=!1,N&&(N=!1,F(G),G=-1),y=!0;var ce=w;try{t:{for(V($),b=t(f);b!==null&&!(b.expirationTime>$&&K());){var pe=b.callback;if(typeof pe=="function"){b.callback=null,w=b.priorityLevel;var Ne=pe(b.expirationTime<=$);if($=i.unstable_now(),typeof Ne=="function"){b.callback=Ne,V($),re=!0;break t}b===t(f)&&r(f),V($)}else r(f);b=t(f)}if(b!==null)re=!0;else{var X=t(d);X!==null&&ue(I,X.startTime-$),re=!1}}break e}finally{b=null,w=ce,y=!1}re=void 0}}finally{re?j():Z=!1}}}var j;if(typeof z=="function")j=function(){z(E)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,J=P.port2;P.port1.onmessage=E,j=function(){J.postMessage(null)}}else j=function(){C(E,0)};function ue($,re){G=C(function(){$(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function($){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var ce=w;w=re;try{return $()}finally{w=ce}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ce=w;w=$;try{return re()}finally{w=ce}},i.unstable_scheduleCallback=function($,re,ce){var pe=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?pe+ce:pe):ce=pe,$){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ce+Ne,$={id:m++,callback:re,priorityLevel:$,startTime:ce,expirationTime:Ne,sortIndex:-1},ce>pe?($.sortIndex=ce,e(d,$),t(f)===null&&$===t(d)&&(N?(F(G),G=-1):N=!0,ue(I,ce-pe))):($.sortIndex=Ne,e(f,$),A||y||(A=!0,Z||(Z=!0,j()))),$},i.unstable_shouldYield=K,i.unstable_wrapCallback=function($){var re=w;return function(){var ce=w;w=re;try{return $.apply(this,arguments)}finally{w=ce}}}})(Jm)),Jm}var O5;function t4(){return O5||(O5=1,$m.exports=e4()),$m.exports}var e0={exports:{}},Rr={};var L5;function n4(){if(L5)return Rr;L5=1;var i=sg();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:d,implementation:m}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Rr.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,m)},Rr.flushSync=function(f){var d=h.T,m=r.p;try{if(h.T=null,r.p=2,f)return f()}finally{h.T=d,r.p=m,r.d.f()}},Rr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Rr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Rr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,b=c(m,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:y}):m==="script"&&r.d.X(f,{crossOrigin:b,integrity:w,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Rr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Rr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,b=c(m,d.crossOrigin);r.d.L(f,m,{crossOrigin:b,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Rr.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Rr.requestFormReset=function(f){r.d.r(f)},Rr.unstable_batchedUpdates=function(f,d){return f(d)},Rr.useFormState=function(f,d,m){return h.H.useFormState(f,d,m)},Rr.useFormStatus=function(){return h.H.useHostTransitionStatus()},Rr.version="19.2.0",Rr}var M5;function Wb(){if(M5)return e0.exports;M5=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),e0.exports=n4(),e0.exports}var D5;function i4(){if(D5)return Af;D5=1;var i=t4(),e=sg(),t=Wb();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function c(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(o(n)!==n)throw Error(r(188))}function d(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,u=s;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return f(g),n;if(x===u)return f(g),s;x=x.sibling}throw Error(r(188))}if(l.return!==u.return)l=g,u=x;else{for(var L=!1,Q=g.child;Q;){if(Q===l){L=!0,l=g,u=x;break}if(Q===u){L=!0,u=g,l=x;break}Q=Q.sibling}if(!L){for(Q=x.child;Q;){if(Q===l){L=!0,l=x,u=g;break}if(Q===u){L=!0,u=x,l=g;break}Q=Q.sibling}if(!L)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function m(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=m(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),z=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=E&&n[E]||n["@@iterator"],typeof n=="function"?n:null)}var P=Symbol.for("react.client.reference");function J(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===P?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case C:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case Z:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case z:return n.displayName||"Context";case F:return(n._context.displayName||"Context")+".Consumer";case V:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return s=n.displayName||null,s!==null?s:J(n.type)||"Memo";case D:s=n._payload,n=n._init;try{return J(n(s))}catch{}}return null}var ue=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},pe=[],Ne=-1;function X(n){return{current:n}}function T(n){0>Ne||(n.current=pe[Ne],pe[Ne]=null,Ne--)}function H(n,s){Ne++,pe[Ne]=n.current,n.current=s}var ee=X(null),ie=X(null),oe=X(null),me=X(null);function de(n,s){switch(H(oe,s),H(ie,n),H(ee,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Xv(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Xv(s),n=Zv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}T(ee),H(ee,n)}function ge(){T(ee),T(ie),T(oe)}function _e(n){n.memoizedState!==null&&H(me,n);var s=ee.current,l=Zv(s,n.type);s!==l&&(H(ie,n),H(ee,l))}function Re(n){ie.current===n&&(T(ee),T(ie)),me.current===n&&(T(me),bf._currentValue=ce)}var Xe,He;function Qe(n){if(Xe===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Xe=s&&s[1]||"",He=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+n+He}var U=!1;function De(n,s){if(!n||U)return"";U=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(je){var Le=je}Reflect.construct(n,[],Ye)}else{try{Ye.call()}catch(je){Le=je}n.call(Ye.prototype)}}else{try{throw Error()}catch(je){Le=je}(Ye=n())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(je){if(je&&Le&&typeof je.stack=="string")return[je.stack,Le.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),L=x[0],Q=x[1];if(L&&Q){var he=L.split(`
`),Oe=Q.split(`
`);for(g=u=0;u<he.length&&!he[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Oe.length&&!Oe[g].includes("DetermineComponentFrameRoot");)g++;if(u===he.length||g===Oe.length)for(u=he.length-1,g=Oe.length-1;1<=u&&0<=g&&he[u]!==Oe[g];)g--;for(;1<=u&&0<=g;u--,g--)if(he[u]!==Oe[g]){if(u!==1||g!==1)do if(u--,g--,0>g||he[u]!==Oe[g]){var ze=`
`+he[u].replace(" at new "," at ");return n.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",n.displayName)),ze}while(1<=u&&0<=g);break}}}finally{U=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Qe(l):""}function ut(n,s){switch(n.tag){case 26:case 27:case 5:return Qe(n.type);case 16:return Qe("Lazy");case 13:return n.child!==s&&s!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return De(n.type,!1);case 11:return De(n.type.render,!1);case 1:return De(n.type,!0);case 31:return Qe("Activity");default:return""}}function nt(n){try{var s="",l=null;do s+=ut(n,l),l=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Me=Object.prototype.hasOwnProperty,tt=i.unstable_scheduleCallback,it=i.unstable_cancelCallback,lt=i.unstable_shouldYield,pt=i.unstable_requestPaint,kt=i.unstable_now,Ge=i.unstable_getCurrentPriorityLevel,Ke=i.unstable_ImmediatePriority,ct=i.unstable_UserBlockingPriority,bt=i.unstable_NormalPriority,ot=i.unstable_LowPriority,xt=i.unstable_IdlePriority,st=i.log,Ut=i.unstable_setDisableYieldValue,Dt=null,St=null;function At(n){if(typeof st=="function"&&Ut(n),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(Dt,n)}catch{}}var zt=Math.clz32?Math.clz32:qe,we=Math.log,Be=Math.LN2;function qe(n){return n>>>=0,n===0?32:31-(we(n)/Be|0)|0}var rt=256,Et=262144,et=4194304;function Je(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function gt(n,s,l){var u=n.pendingLanes;if(u===0)return 0;var g=0,x=n.suspendedLanes,L=n.pingedLanes;n=n.warmLanes;var Q=u&134217727;return Q!==0?(u=Q&~x,u!==0?g=Je(u):(L&=Q,L!==0?g=Je(L):l||(l=Q&~n,l!==0&&(g=Je(l))))):(Q=u&~x,Q!==0?g=Je(Q):L!==0?g=Je(L):l||(l=u&~n,l!==0&&(g=Je(l)))),g===0?0:s!==0&&s!==g&&(s&x)===0&&(x=g&-g,l=s&-s,x>=l||x===32&&(l&4194048)!==0)?s:g}function Nn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function $t(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cn(){var n=et;return et<<=1,(et&62914560)===0&&(et=4194304),n}function Cn(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function ht(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function sn(n,s,l,u,g,x){var L=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var Q=n.entanglements,he=n.expirationTimes,Oe=n.hiddenUpdates;for(l=L&~l;0<l;){var ze=31-zt(l),Ye=1<<ze;Q[ze]=0,he[ze]=-1;var Le=Oe[ze];if(Le!==null)for(Oe[ze]=null,ze=0;ze<Le.length;ze++){var je=Le[ze];je!==null&&(je.lane&=-536870913)}l&=~Ye}u!==0&&jn(n,u,0),x!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=x&~(L&~s))}function jn(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-zt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function Tn(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var u=31-zt(l),g=1<<u;g&s|n[u]&s&&(n[u]|=s),l&=~g}}function Mn(n,s){var l=s&-s;return l=(l&42)!==0?1:Jt(l),(l&(n.suspendedLanes|s))!==0?0:l}function Jt(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function En(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Dn(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:y5(n.type))}function $i(n,s){var l=re.p;try{return re.p=n,s()}finally{re.p=l}}var ui=Math.random().toString(36).slice(2),wn="__reactFiber$"+ui,Wn="__reactProps$"+ui,ji="__reactContainer$"+ui,ur="__reactEvents$"+ui,Lr="__reactListeners$"+ui,ga="__reactHandles$"+ui,Pr="__reactResources$"+ui,Ur="__reactMarker$"+ui;function Xs(n){delete n[wn],delete n[Wn],delete n[ur],delete n[Lr],delete n[ga]}function Cs(n){var s=n[wn];if(s)return s;for(var l=n.parentNode;l;){if(s=l[ji]||l[wn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=n5(n);n!==null;){if(l=n[wn])return l;n=n5(n)}return s}n=l,l=n.parentNode}return null}function Ts(n){if(n=n[wn]||n[ji]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Vo(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Zs(n){var s=n[Pr];return s||(s=n[Pr]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function vi(n){n[Ur]=!0}var bc=new Set,Hr={};function Es(n,s){va(n,s),va(n+"Capture",s)}function va(n,s){for(Hr[n]=s,n=0;n<s.length;n++)bc.add(s[n])}var xc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_c={},wc={};function mu(n){return Me.call(wc,n)?!0:Me.call(_c,n)?!1:xc.test(n)?wc[n]=!0:(_c[n]=!0,!1)}function Gr(n,s,l){if(mu(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function ya(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function ks(n,s,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+u)}}function bn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Sc(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ks(n,s,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,x=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(L){l=""+L,x.call(this,L)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(L){l=""+L},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ao(n){if(!n._valueTracker){var s=Sc(n)?"checked":"value";n._valueTracker=Ks(n,s,""+n[s])}}function Ac(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return n&&(u=Sc(n)?n.checked?"true":"false":n.value),n=u,n!==l?(s.setValue(n),!0):!1}function xr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ri=/[\n"\\]/g;function Si(n){return n.replace(Ri,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sl(n,s,l,u,g,x,L,Q){n.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?n.type=L:n.removeAttribute("type"),s!=null?L==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+bn(s)):n.value!==""+bn(s)&&(n.value=""+bn(s)):L!=="submit"&&L!=="reset"||n.removeAttribute("value"),s!=null?Nc(n,L,bn(s)):l!=null?Nc(n,L,bn(l)):u!=null&&n.removeAttribute("value"),g==null&&x!=null&&(n.defaultChecked=!!x),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?n.name=""+bn(Q):n.removeAttribute("name")}function gu(n,s,l,u,g,x,L,Q){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),s!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){ao(n);return}l=l!=null?""+bn(l):"",s=s!=null?""+bn(s):l,Q||s===n.value||(n.value=s),n.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=Q?n.checked:!!u,n.defaultChecked=!!u,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(n.name=L),ao(n)}function Nc(n,s,l){s==="number"&&xr(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function _r(n,s,l,u){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&u&&(n[l].defaultSelected=!0)}else{for(l=""+bn(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function Cc(n,s,l){if(s!=null&&(s=""+bn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+bn(l):""}function Tc(n,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(ue(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=bn(s),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),ao(n)}function Os(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var Bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(n,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,l):typeof l!="number"||l===0||Bo.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function yu(n,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&vu(n,g,u)}else for(var x in s)s.hasOwnProperty(x)&&vu(n,x,s[x])}function Ec(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(n){return bu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ls(){}var ba=null;function qo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var oo=null,jt=null;function xu(n){var s=Ts(n);if(s&&(n=s.stateNode)){var l=n[Wn]||null;e:switch(n=s.stateNode,s.type){case"input":if(Sl(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Si(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==n&&u.form===n.form){var g=u[Wn]||null;if(!g)throw Error(r(90));Sl(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===n.form&&Ac(u)}break e;case"textarea":Cc(n,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&_r(n,!!l.multiple,s,!1)}}}var Oc=!1;function _u(n,s,l){if(Oc)return n(s,l);Oc=!0;try{var u=n(s);return u}finally{if(Oc=!1,(oo!==null||jt!==null)&&(qd(),oo&&(s=oo,n=jt,jt=oo=null,xu(s),n)))for(s=0;s<n.length;s++)xu(n[s])}}function Yr(n,s){var l=n.stateNode;if(l===null)return null;var u=l[Wn]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lc=!1;if(Ji)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){Lc=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{Lc=!1}var Wr=null,Fo=null,Qs=null;function wu(){if(Qs)return Qs;var n,s=Fo,l=s.length,u,g="value"in Wr?Wr.value:Wr.textContent,x=g.length;for(n=0;n<l&&s[n]===g[n];n++);var L=l-n;for(u=1;u<=L&&s[l-u]===g[x-u];u++);return Qs=g.slice(n,1<u?1-u:void 0)}function is(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Al(){return!0}function Nl(){return!1}function Ui(n){function s(l,u,g,x,L){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=x,this.target=L,this.currentTarget=null;for(var Q in n)n.hasOwnProperty(Q)&&(l=n[Q],this[Q]=l?l(x):x[Q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Al:Nl,this.isPropagationStopped=Nl,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Al)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Al)},persist:function(){},isPersistent:Al}),s}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=Ui($s),xa=b({},$s,{view:0,detail:0}),Cl=Ui(xa),Po,_a,wa,Uo=b({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bt,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wa&&(wa&&n.type==="mousemove"?(Po=n.screenX-wa.screenX,_a=n.screenY-wa.screenY):_a=Po=0,wa=n),Po)},movementY:function(n){return"movementY"in n?n.movementY:_a}}),Mc=Ui(Uo),Sa=b({},Uo,{dataTransfer:0}),Aa=Ui(Sa),Su=b({},xa,{relatedTarget:0}),Na=Ui(Su),Au=b({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Ui(Au),B=b({},$s,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),le=Ui(B),ve=b({},$s,{data:0}),Se=Ui(ve),Fe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ze={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nt(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=vt[n])?!!s[n]:!1}function Bt(){return Nt}var Gt=b({},xa,{key:function(n){if(n.key){var s=Fe[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=is(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ze[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bt,charCode:function(n){return n.type==="keypress"?is(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?is(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),un=Ui(Gt),ti=b({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yi=Ui(ti),qn=b({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bt}),Ii=Ui(qn),Ai=b({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),er=Ui(Ai),Ca=b({},Uo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ms=Ui(Ca),Ta=b({},$s,{newState:0,oldState:0}),Dc=Ui(Ta),Tl=[9,13,27,32],Js=Ji&&"CompositionEvent"in window,Ds=null;Ji&&"documentMode"in document&&(Ds=document.documentMode);var Ho=Ji&&"TextEvent"in window&&!Ds,Ea=Ji&&(!Js||Ds&&8<Ds&&11>=Ds),Hi=" ",lo=!1;function co(n,s){switch(n){case"keyup":return Tl.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function El(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ea=!1;function wr(n,s){switch(n){case"compositionend":return El(s);case"keypress":return s.which!==32?null:(lo=!0,Hi);case"textInput":return n=s.data,n===Hi&&lo?null:n;default:return null}}function ka(n,s){if(ea)return n==="compositionend"||!Js&&co(n,s)?(n=wu(),Qs=Fo=Wr=null,ea=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ea&&s.locale!=="ko"?null:s.data;default:return null}}var kl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!kl[n.type]:s==="textarea"}function Xr(n,s,l,u){oo?jt?jt.push(u):jt=[u]:oo=u,s=Yd(s,"onChange"),0<s.length&&(l=new rs("onChange","change",null,l,u),n.push({event:l,listeners:s}))}var js=null,Oa=null;function Rc(n){Pv(n,0)}function Rs(n){var s=Vo(n);if(Ac(s))return n}function uo(n,s){if(n==="change")return s}var Dr=!1;if(Ji){var Sr;if(Ji){var ta="oninput"in document;if(!ta){var na=document.createElement("div");na.setAttribute("oninput","return;"),ta=typeof na.oninput=="function"}Sr=ta}else Sr=!1;Dr=Sr&&(!document.documentMode||9<document.documentMode)}function La(){js&&(js.detachEvent("onpropertychange",Ol),Oa=js=null)}function Ol(n){if(n.propertyName==="value"&&Rs(Oa)){var s=[];Xr(s,Oa,n,qo(n)),_u(Rc,s)}}function Ll(n,s,l){n==="focusin"?(La(),js=s,Oa=l,js.attachEvent("onpropertychange",Ol)):n==="focusout"&&La()}function bi(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Rs(Oa)}function Nu(n,s){if(n==="click")return Rs(s)}function ia(n,s){if(n==="input"||n==="change")return Rs(s)}function ra(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var tr=typeof Object.is=="function"?Object.is:ra;function Ma(n,s){if(tr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Me.call(s,g)||!tr(n[g],s[g]))return!1}return!0}function Ml(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Dl(n,s){var l=Ml(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=s&&u>=s)return{node:l,offset:s-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ml(l)}}function Da(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Da(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function ja(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=xr(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=xr(n.document)}return s}function sa(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Go=Ji&&"documentMode"in document&&11>=document.documentMode,Zr=null,Ra=null,hr=null,ss=!1;function xn(n,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ss||Zr==null||Zr!==xr(u)||(u=Zr,"selectionStart"in u&&sa(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),hr&&Ma(hr,u)||(hr=u,u=Yd(Ra,"onSelect"),0<u.length&&(s=new rs("onSelect","select",null,s,l),n.push({event:s,listeners:u}),s.target=Zr)))}function hn(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var zn={animationend:hn("Animation","AnimationEnd"),animationiteration:hn("Animation","AnimationIteration"),animationstart:hn("Animation","AnimationStart"),transitionrun:hn("Transition","TransitionRun"),transitionstart:hn("Transition","TransitionStart"),transitioncancel:hn("Transition","TransitionCancel"),transitionend:hn("Transition","TransitionEnd")},xi={},aa={};Ji&&(aa=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function Is(n){if(xi[n])return xi[n];if(!zn[n])return n;var s=zn[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in aa)return xi[n]=s[l];return n}var Yo=Is("animationend"),Ic=Is("animationiteration"),Fh=Is("animationstart"),md=Is("transitionrun"),gd=Is("transitionstart"),vd=Is("transitioncancel"),Ph=Is("transitionend"),Uh=new Map,Wo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wo.push("scrollEnd");function as(n,s){Uh.set(n,s),Es(s,[n])}var Vc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Kr=[],Xo=0,Cu=0;function Bc(){for(var n=Xo,s=Cu=Xo=0;s<n;){var l=Kr[s];Kr[s++]=null;var u=Kr[s];Kr[s++]=null;var g=Kr[s];Kr[s++]=null;var x=Kr[s];if(Kr[s++]=null,u!==null&&g!==null){var L=u.pending;L===null?g.next=g:(g.next=L.next,L.next=g),u.pending=g}x!==0&&zc(l,g,x)}}function qc(n,s,l,u){Kr[Xo++]=n,Kr[Xo++]=s,Kr[Xo++]=l,Kr[Xo++]=u,Cu|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Tu(n,s,l,u){return qc(n,s,l,u),fr(n)}function Ia(n,s){return qc(n,null,null,s),fr(n)}function zc(n,s,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var g=!1,x=n.return;x!==null;)x.childLanes|=l,u=x.alternate,u!==null&&(u.childLanes|=l),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(g=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,g&&s!==null&&(g=31-zt(l),n=x.hiddenUpdates,u=n[g],u===null?n[g]=[s]:u.push(s),s.lane=l|536870912),x):null}function fr(n){if(50<ff)throw ff=0,bm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var nr={};function Eu(n,s,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(n,s,l,u){return new Eu(n,s,l,u)}function ku(n){return n=n.prototype,!(!n||!n.isReactComponent)}function os(n,s){var l=n.alternate;return l===null?(l=dr(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Fc(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function jl(n,s,l,u,g,x){var L=0;if(u=n,typeof n=="function")ku(n)&&(L=1);else if(typeof n=="string")L=q3(n,l,ee.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=dr(31,l,s,g),n.elementType=R,n.lanes=x,n;case N:return ho(l.children,g,x,s);case k:L=8,g|=24;break;case C:return n=dr(12,l,s,g|2),n.elementType=C,n.lanes=x,n;case I:return n=dr(13,l,s,g),n.elementType=I,n.lanes=x,n;case Z:return n=dr(19,l,s,g),n.elementType=Z,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:L=10;break e;case F:L=9;break e;case V:L=11;break e;case G:L=14;break e;case D:L=16,u=null;break e}L=29,l=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=dr(L,l,s,g),s.elementType=n,s.type=u,s.lanes=x,s}function ho(n,s,l,u){return n=dr(7,n,u,s),n.lanes=l,n}function Pc(n,s,l){return n=dr(6,n,null,s),n.lanes=l,n}function Ou(n){var s=dr(18,null,null,0);return s.stateNode=n,s}function Rl(n,s,l){return s=dr(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Lu=new WeakMap;function ls(n,s){if(typeof n=="object"&&n!==null){var l=Lu.get(n);return l!==void 0?l:(s={value:n,source:s,stack:nt(s)},Lu.set(n,s),s)}return{value:n,source:s,stack:nt(s)}}var Il=[],Zo=0,Mu=null,Uc=0,cs=[],us=0,fo=null,hs=1,fs="";function Qr(n,s){Il[Zo++]=Uc,Il[Zo++]=Mu,Mu=n,Uc=s}function yd(n,s,l){cs[us++]=hs,cs[us++]=fs,cs[us++]=fo,fo=n;var u=hs;n=fs;var g=32-zt(u)-1;u&=~(1<<g),l+=1;var x=32-zt(s)+g;if(30<x){var L=g-g%5;x=(u&(1<<L)-1).toString(32),u>>=L,g-=L,hs=1<<32-zt(s)+g|l<<g|u,fs=x+n}else hs=1<<x|l<<g|u,fs=n}function Hh(n){n.return!==null&&(Qr(n,1),yd(n,1,0))}function Du(n){for(;n===Mu;)Mu=Il[--Zo],Il[Zo]=null,Uc=Il[--Zo],Il[Zo]=null;for(;n===fo;)fo=cs[--us],cs[us]=null,fs=cs[--us],cs[us]=null,hs=cs[--us],cs[us]=null}function bd(n,s){cs[us++]=hs,cs[us++]=fs,cs[us++]=fo,hs=s.id,fs=s.overflow,fo=n}var ir=null,Xn=null,tn=!1,Ar=null,hi=!1,Vs=Error(r(519));function po(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(ls(s,n)),Vs}function Gh(n){var s=n.stateNode,l=n.type,u=n.memoizedProps;switch(s[wn]=n,s[Wn]=u,l){case"dialog":rn("cancel",s),rn("close",s);break;case"iframe":case"object":case"embed":rn("load",s);break;case"video":case"audio":for(l=0;l<pf.length;l++)rn(pf[l],s);break;case"source":rn("error",s);break;case"img":case"image":case"link":rn("error",s),rn("load",s);break;case"details":rn("toggle",s);break;case"input":rn("invalid",s),gu(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":rn("invalid",s);break;case"textarea":rn("invalid",s),Tc(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||Yv(s.textContent,l)?(u.popover!=null&&(rn("beforetoggle",s),rn("toggle",s)),u.onScroll!=null&&rn("scroll",s),u.onScrollEnd!=null&&rn("scrollend",s),u.onClick!=null&&(s.onclick=Ls),s=!0):s=!1,s||po(n,!0)}function Va(n){for(ir=n.return;ir;)switch(ir.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:ir=ir.return}}function rr(n){if(n!==ir)return!1;if(!tn)return Va(n),tn=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||jm(n.type,n.memoizedProps)),l=!l),l&&Xn&&po(n),Va(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Xn=t5(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Xn=t5(n)}else s===27?(s=Xn,Ql(n.type)?(n=qm,qm=null,Xn=n):Xn=s):Xn=ir?ua(n.stateNode.nextSibling):null;return!0}function Ko(){Xn=ir=null,tn=!1}function Yh(){var n=Ar;return n!==null&&(ys===null?ys=n:ys.push.apply(ys,n),Ar=null),n}function Vl(n){Ar===null?Ar=[n]:Ar.push(n)}var ju=X(null),mo=null,oa=null;function go(n,s,l){H(ju,s._currentValue),s._currentValue=l}function ds(n){n._currentValue=ju.current,T(ju)}function Bl(n,s,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===l)break;n=n.return}}function Qo(n,s,l,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var x=g.dependencies;if(x!==null){var L=g.child;x=x.firstContext;e:for(;x!==null;){var Q=x;x=g;for(var he=0;he<s.length;he++)if(Q.context===s[he]){x.lanes|=l,Q=x.alternate,Q!==null&&(Q.lanes|=l),Bl(x.return,l,n),u||(L=null);break e}x=Q.next}}else if(g.tag===18){if(L=g.return,L===null)throw Error(r(341));L.lanes|=l,x=L.alternate,x!==null&&(x.lanes|=l),Bl(L,l,n),L=null}else L=g.child;if(L!==null)L.return=g;else for(L=g;L!==null;){if(L===n){L=null;break}if(g=L.sibling,g!==null){g.return=L.return,L=g;break}L=L.return}g=L}}function vo(n,s,l,u){n=null;for(var g=s,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var L=g.alternate;if(L===null)throw Error(r(387));if(L=L.memoizedProps,L!==null){var Q=g.type;tr(g.pendingProps.value,L.value)||(n!==null?n.push(Q):n=[Q])}}else if(g===me.current){if(L=g.alternate,L===null)throw Error(r(387));L.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(bf):n=[bf])}g=g.return}n!==null&&Qo(s,n,l,u),s.flags|=262144}function Ru(n){for(n=n.firstContext;n!==null;){if(!tr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function yo(n){mo=n,oa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function sr(n){return xd(mo,n)}function Iu(n,s){return mo===null&&yo(n),xd(n,s)}function xd(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},oa===null){if(n===null)throw Error(r(308));oa=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else oa=oa.next=s;return l}var B1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},q1=i.unstable_scheduleCallback,z1=i.unstable_NormalPriority,_i={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ql(){return{controller:new B1,data:new Map,refCount:0}}function Hc(n){n.refCount--,n.refCount===0&&q1(z1,function(){n.controller.abort()})}var Gc=null,Vu=0,p=0,v=null;function S(n,s){if(Gc===null){var l=Gc=[];Vu=0,p=Nm(),v={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Vu++,s.then(O,O),s}function O(){if(--Vu===0&&Gc!==null){v!==null&&(v.status="fulfilled");var n=Gc;Gc=null,p=0,v=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function q(n,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var Y=$.S;$.S=function(n,s){gv=kt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&S(n,s),Y!==null&&Y(n,s)};var W=X(null);function te(){var n=W.current;return n!==null?n:Kn.pooledCache}function ne(n,s){s===null?H(W,W.current):H(W,s.pool)}function ae(){var n=te();return n===null?null:{parent:_i._currentValue,pool:n}}var ye=Error(r(460)),Ee=Error(r(474)),se=Error(r(542)),xe={then:function(){}};function Ce(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ve(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(Ls,Ls),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,$e(n),n;default:if(typeof s.status=="string")s.then(Ls,Ls);else{if(n=Kn,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,$e(n),n}throw Ie=s,ye}}function Te(n){try{var s=n._init;return s(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ie=l,ye):l}}var Ie=null;function Pe(){if(Ie===null)throw Error(r(459));var n=Ie;return Ie=null,n}function $e(n){if(n===ye||n===se)throw Error(r(483))}var We=null,_t=0;function ft(n){var s=_t;return _t+=1,We===null&&(We=[]),Ve(We,n,s)}function Ft(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function mt(n,s){throw s.$$typeof===w?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function en(n){function s(Ae,be){if(n){var ke=Ae.deletions;ke===null?(Ae.deletions=[be],Ae.flags|=16):ke.push(be)}}function l(Ae,be){if(!n)return null;for(;be!==null;)s(Ae,be),be=be.sibling;return null}function u(Ae){for(var be=new Map;Ae!==null;)Ae.key!==null?be.set(Ae.key,Ae):be.set(Ae.index,Ae),Ae=Ae.sibling;return be}function g(Ae,be){return Ae=os(Ae,be),Ae.index=0,Ae.sibling=null,Ae}function x(Ae,be,ke){return Ae.index=ke,n?(ke=Ae.alternate,ke!==null?(ke=ke.index,ke<be?(Ae.flags|=67108866,be):ke):(Ae.flags|=67108866,be)):(Ae.flags|=1048576,be)}function L(Ae){return n&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function Q(Ae,be,ke,Ue){return be===null||be.tag!==6?(be=Pc(ke,Ae.mode,Ue),be.return=Ae,be):(be=g(be,ke),be.return=Ae,be)}function he(Ae,be,ke,Ue){var Mt=ke.type;return Mt===N?ze(Ae,be,ke.props.children,Ue,ke.key):be!==null&&(be.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===D&&Te(Mt)===be.type)?(be=g(be,ke.props),Ft(be,ke),be.return=Ae,be):(be=jl(ke.type,ke.key,ke.props,null,Ae.mode,Ue),Ft(be,ke),be.return=Ae,be)}function Oe(Ae,be,ke,Ue){return be===null||be.tag!==4||be.stateNode.containerInfo!==ke.containerInfo||be.stateNode.implementation!==ke.implementation?(be=Rl(ke,Ae.mode,Ue),be.return=Ae,be):(be=g(be,ke.children||[]),be.return=Ae,be)}function ze(Ae,be,ke,Ue,Mt){return be===null||be.tag!==7?(be=ho(ke,Ae.mode,Ue,Mt),be.return=Ae,be):(be=g(be,ke),be.return=Ae,be)}function Ye(Ae,be,ke){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Pc(""+be,Ae.mode,ke),be.return=Ae,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case y:return ke=jl(be.type,be.key,be.props,null,Ae.mode,ke),Ft(ke,be),ke.return=Ae,ke;case A:return be=Rl(be,Ae.mode,ke),be.return=Ae,be;case D:return be=Te(be),Ye(Ae,be,ke)}if(ue(be)||j(be))return be=ho(be,Ae.mode,ke,null),be.return=Ae,be;if(typeof be.then=="function")return Ye(Ae,ft(be),ke);if(be.$$typeof===z)return Ye(Ae,Iu(Ae,be),ke);mt(Ae,be)}return null}function Le(Ae,be,ke,Ue){var Mt=be!==null?be.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return Mt!==null?null:Q(Ae,be,""+ke,Ue);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case y:return ke.key===Mt?he(Ae,be,ke,Ue):null;case A:return ke.key===Mt?Oe(Ae,be,ke,Ue):null;case D:return ke=Te(ke),Le(Ae,be,ke,Ue)}if(ue(ke)||j(ke))return Mt!==null?null:ze(Ae,be,ke,Ue,null);if(typeof ke.then=="function")return Le(Ae,be,ft(ke),Ue);if(ke.$$typeof===z)return Le(Ae,be,Iu(Ae,ke),Ue);mt(Ae,ke)}return null}function je(Ae,be,ke,Ue,Mt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Ae=Ae.get(ke)||null,Q(be,Ae,""+Ue,Mt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case y:return Ae=Ae.get(Ue.key===null?ke:Ue.key)||null,he(be,Ae,Ue,Mt);case A:return Ae=Ae.get(Ue.key===null?ke:Ue.key)||null,Oe(be,Ae,Ue,Mt);case D:return Ue=Te(Ue),je(Ae,be,ke,Ue,Mt)}if(ue(Ue)||j(Ue))return Ae=Ae.get(ke)||null,ze(be,Ae,Ue,Mt,null);if(typeof Ue.then=="function")return je(Ae,be,ke,ft(Ue),Mt);if(Ue.$$typeof===z)return je(Ae,be,ke,Iu(be,Ue),Mt);mt(be,Ue)}return null}function yt(Ae,be,ke,Ue){for(var Mt=null,Sn=null,Ct=be,Kt=be=0,on=null;Ct!==null&&Kt<ke.length;Kt++){Ct.index>Kt?(on=Ct,Ct=null):on=Ct.sibling;var An=Le(Ae,Ct,ke[Kt],Ue);if(An===null){Ct===null&&(Ct=on);break}n&&Ct&&An.alternate===null&&s(Ae,Ct),be=x(An,be,Kt),Sn===null?Mt=An:Sn.sibling=An,Sn=An,Ct=on}if(Kt===ke.length)return l(Ae,Ct),tn&&Qr(Ae,Kt),Mt;if(Ct===null){for(;Kt<ke.length;Kt++)Ct=Ye(Ae,ke[Kt],Ue),Ct!==null&&(be=x(Ct,be,Kt),Sn===null?Mt=Ct:Sn.sibling=Ct,Sn=Ct);return tn&&Qr(Ae,Kt),Mt}for(Ct=u(Ct);Kt<ke.length;Kt++)on=je(Ct,Ae,Kt,ke[Kt],Ue),on!==null&&(n&&on.alternate!==null&&Ct.delete(on.key===null?Kt:on.key),be=x(on,be,Kt),Sn===null?Mt=on:Sn.sibling=on,Sn=on);return n&&Ct.forEach(function(nc){return s(Ae,nc)}),tn&&Qr(Ae,Kt),Mt}function It(Ae,be,ke,Ue){if(ke==null)throw Error(r(151));for(var Mt=null,Sn=null,Ct=be,Kt=be=0,on=null,An=ke.next();Ct!==null&&!An.done;Kt++,An=ke.next()){Ct.index>Kt?(on=Ct,Ct=null):on=Ct.sibling;var nc=Le(Ae,Ct,An.value,Ue);if(nc===null){Ct===null&&(Ct=on);break}n&&Ct&&nc.alternate===null&&s(Ae,Ct),be=x(nc,be,Kt),Sn===null?Mt=nc:Sn.sibling=nc,Sn=nc,Ct=on}if(An.done)return l(Ae,Ct),tn&&Qr(Ae,Kt),Mt;if(Ct===null){for(;!An.done;Kt++,An=ke.next())An=Ye(Ae,An.value,Ue),An!==null&&(be=x(An,be,Kt),Sn===null?Mt=An:Sn.sibling=An,Sn=An);return tn&&Qr(Ae,Kt),Mt}for(Ct=u(Ct);!An.done;Kt++,An=ke.next())An=je(Ct,Ae,Kt,An.value,Ue),An!==null&&(n&&An.alternate!==null&&Ct.delete(An.key===null?Kt:An.key),be=x(An,be,Kt),Sn===null?Mt=An:Sn.sibling=An,Sn=An);return n&&Ct.forEach(function(K3){return s(Ae,K3)}),tn&&Qr(Ae,Kt),Mt}function Hn(Ae,be,ke,Ue){if(typeof ke=="object"&&ke!==null&&ke.type===N&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case y:e:{for(var Mt=ke.key;be!==null;){if(be.key===Mt){if(Mt=ke.type,Mt===N){if(be.tag===7){l(Ae,be.sibling),Ue=g(be,ke.props.children),Ue.return=Ae,Ae=Ue;break e}}else if(be.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===D&&Te(Mt)===be.type){l(Ae,be.sibling),Ue=g(be,ke.props),Ft(Ue,ke),Ue.return=Ae,Ae=Ue;break e}l(Ae,be);break}else s(Ae,be);be=be.sibling}ke.type===N?(Ue=ho(ke.props.children,Ae.mode,Ue,ke.key),Ue.return=Ae,Ae=Ue):(Ue=jl(ke.type,ke.key,ke.props,null,Ae.mode,Ue),Ft(Ue,ke),Ue.return=Ae,Ae=Ue)}return L(Ae);case A:e:{for(Mt=ke.key;be!==null;){if(be.key===Mt)if(be.tag===4&&be.stateNode.containerInfo===ke.containerInfo&&be.stateNode.implementation===ke.implementation){l(Ae,be.sibling),Ue=g(be,ke.children||[]),Ue.return=Ae,Ae=Ue;break e}else{l(Ae,be);break}else s(Ae,be);be=be.sibling}Ue=Rl(ke,Ae.mode,Ue),Ue.return=Ae,Ae=Ue}return L(Ae);case D:return ke=Te(ke),Hn(Ae,be,ke,Ue)}if(ue(ke))return yt(Ae,be,ke,Ue);if(j(ke)){if(Mt=j(ke),typeof Mt!="function")throw Error(r(150));return ke=Mt.call(ke),It(Ae,be,ke,Ue)}if(typeof ke.then=="function")return Hn(Ae,be,ft(ke),Ue);if(ke.$$typeof===z)return Hn(Ae,be,Iu(Ae,ke),Ue);mt(Ae,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,be!==null&&be.tag===6?(l(Ae,be.sibling),Ue=g(be,ke),Ue.return=Ae,Ae=Ue):(l(Ae,be),Ue=Pc(ke,Ae.mode,Ue),Ue.return=Ae,Ae=Ue),L(Ae)):l(Ae,be)}return function(Ae,be,ke,Ue){try{_t=0;var Mt=Hn(Ae,be,ke,Ue);return We=null,Mt}catch(Ct){if(Ct===ye||Ct===se)throw Ct;var Sn=dr(29,Ct,null,Ae.mode);return Sn.lanes=Ue,Sn.return=Ae,Sn}finally{}}}var Zn=en(!0),Yt=en(!1),dt=!1;function at(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ni(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Rt(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Zt(n,s,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ln&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=fr(n),zc(n,null,l),s}return qc(n,u,s,l),fr(n)}function kn(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Tn(n,l)}}function Vi(n,s){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var L={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?g=x=L:x=x.next=L,l=l.next}while(l!==null);x===null?g=x=s:x=x.next=s}else g=x=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var ar=!1;function Fn(){if(ar){var n=v;if(n!==null)throw n}}function Ni(n,s,l,u){ar=!1;var g=n.updateQueue;dt=!1;var x=g.firstBaseUpdate,L=g.lastBaseUpdate,Q=g.shared.pending;if(Q!==null){g.shared.pending=null;var he=Q,Oe=he.next;he.next=null,L===null?x=Oe:L.next=Oe,L=he;var ze=n.alternate;ze!==null&&(ze=ze.updateQueue,Q=ze.lastBaseUpdate,Q!==L&&(Q===null?ze.firstBaseUpdate=Oe:Q.next=Oe,ze.lastBaseUpdate=he))}if(x!==null){var Ye=g.baseState;L=0,ze=Oe=he=null,Q=x;do{var Le=Q.lane&-536870913,je=Le!==Q.lane;if(je?(an&Le)===Le:(u&Le)===Le){Le!==0&&Le===p&&(ar=!0),ze!==null&&(ze=ze.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var yt=n,It=Q;Le=s;var Hn=l;switch(It.tag){case 1:if(yt=It.payload,typeof yt=="function"){Ye=yt.call(Hn,Ye,Le);break e}Ye=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=It.payload,Le=typeof yt=="function"?yt.call(Hn,Ye,Le):yt,Le==null)break e;Ye=b({},Ye,Le);break e;case 2:dt=!0}}Le=Q.callback,Le!==null&&(n.flags|=64,je&&(n.flags|=8192),je=g.callbacks,je===null?g.callbacks=[Le]:je.push(Le))}else je={lane:Le,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},ze===null?(Oe=ze=je,he=Ye):ze=ze.next=je,L|=Le;if(Q=Q.next,Q===null){if(Q=g.shared.pending,Q===null)break;je=Q,Q=je.next,je.next=null,g.lastBaseUpdate=je,g.shared.pending=null}}while(!0);ze===null&&(he=Ye),g.baseState=he,g.firstBaseUpdate=Oe,g.lastBaseUpdate=ze,x===null&&(g.shared.lanes=0),Yl|=L,n.lanes=L,n.memoizedState=Ye}}function pr(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Ci(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)pr(l[n],s)}var Qt=X(null),gn=X(0);function ii(n,s){n=ol,H(gn,n),H(Qt,s),ol=n|s.baseLanes}function _n(){H(gn,ol),H(Qt,Qt.current)}function Bi(){ol=gn.current,T(Qt),T(gn)}var ri=X(null),vn=null;function wi(n){var s=n.alternate;H(fn,fn.current&1),H(ri,n),vn===null&&(s===null||Qt.current!==null||s.memoizedState!==null)&&(vn=n)}function On(n){H(fn,fn.current),H(ri,n),vn===null&&(vn=n)}function Ti(n){n.tag===22?(H(fn,fn.current),H(ri,n),vn===null&&(vn=n)):Ei()}function Ei(){H(fn,fn.current),H(ri,ri.current)}function Rn(n){T(ri),vn===n&&(vn=null),T(fn)}var fn=X(0);function mr(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Vm(l)||Bm(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fi=0,Ot=null,Lt=null,yn=null,jr=!1,ps=!1,Nr=!1,ki=0,bo=0,xo=null,Bu=0;function Pn(){throw Error(r(321))}function Wh(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!tr(n[l],s[l]))return!1;return!0}function Xh(n,s,l,u,g,x){return fi=x,Ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=n===null||n.memoizedState===null?T2:X1,Nr=!1,x=l(u,g),Nr=!1,ps&&(x=Ba(s,l,u,g)),qu(n),x}function qu(n){$.H=nf;var s=Lt!==null&&Lt.next!==null;if(fi=0,yn=Lt=Ot=null,jr=!1,bo=0,xo=null,s)throw Error(r(300));n===null||Yi||(n=n.dependencies,n!==null&&Ru(n)&&(Yi=!0))}function Ba(n,s,l,u){Ot=n;var g=0;do{if(ps&&(xo=null),bo=0,ps=!1,25<=g)throw Error(r(301));if(g+=1,yn=Lt=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}$.H=E2,x=s(l,u)}while(ps);return x}function F1(){var n=$.H,s=n.useState()[0];return s=typeof s.then=="function"?_o(s):s,n=n.useState()[0],(Lt!==null?Lt.memoizedState:null)!==n&&(Ot.flags|=1024),s}function Zh(){var n=ki!==0;return ki=0,n}function Kh(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function zu(n){if(jr){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}jr=!1}fi=0,yn=Lt=Ot=null,ps=!1,bo=ki=0,xo=null}function Gi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Ot.memoizedState=yn=n:yn=yn.next=n,yn}function di(){if(Lt===null){var n=Ot.alternate;n=n!==null?n.memoizedState:null}else n=Lt.next;var s=yn===null?Ot.memoizedState:yn.next;if(s!==null)yn=s,Lt=n;else{if(n===null)throw Ot.alternate===null?Error(r(467)):Error(r(310));Lt=n,n={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},yn===null?Ot.memoizedState=yn=n:yn=yn.next=n}return yn}function Yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _o(n){var s=bo;return bo+=1,xo===null&&(xo=[]),n=Ve(xo,n,s),s=Ot,(yn===null?s.memoizedState:yn.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?T2:X1),n}function zl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return _o(n);if(n.$$typeof===z)return sr(n)}throw Error(r(438,String(n)))}function $o(n){var s=null,l=Ot.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Ot.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Yc(),Ot.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),u=0;u<n;u++)l[u]=K;return s.index++,l}function la(n,s){return typeof s=="function"?s(n):s}function Fu(n){var s=di();return Fl(s,Lt,n)}function Fl(n,s,l){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=n.baseQueue,x=u.pending;if(x!==null){if(g!==null){var L=g.next;g.next=x.next,x.next=L}s.baseQueue=g=x,u.pending=null}if(x=n.baseState,g===null)n.memoizedState=x;else{s=g.next;var Q=L=null,he=null,Oe=s,ze=!1;do{var Ye=Oe.lane&-536870913;if(Ye!==Oe.lane?(an&Ye)===Ye:(fi&Ye)===Ye){var Le=Oe.revertLane;if(Le===0)he!==null&&(he=he.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Ye===p&&(ze=!0);else if((fi&Le)===Le){Oe=Oe.next,Le===p&&(ze=!0);continue}else Ye={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},he===null?(Q=he=Ye,L=x):he=he.next=Ye,Ot.lanes|=Le,Yl|=Le;Ye=Oe.action,Nr&&l(x,Ye),x=Oe.hasEagerState?Oe.eagerState:l(x,Ye)}else Le={lane:Ye,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},he===null?(Q=he=Le,L=x):he=he.next=Le,Ot.lanes|=Ye,Yl|=Ye;Oe=Oe.next}while(Oe!==null&&Oe!==s);if(he===null?L=x:he.next=Q,!tr(x,n.memoizedState)&&(Yi=!0,ze&&(l=v,l!==null)))throw l;n.memoizedState=x,n.baseState=L,n.baseQueue=he,u.lastRenderedState=x}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Pu(n){var s=di(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var u=l.dispatch,g=l.pending,x=s.memoizedState;if(g!==null){l.pending=null;var L=g=g.next;do x=n(x,L.action),L=L.next;while(L!==g);tr(x,s.memoizedState)||(Yi=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,u]}function Uu(n,s,l){var u=Ot,g=di(),x=tn;if(x){if(l===void 0)throw Error(r(407));l=l()}else l=s();var L=!tr((Lt||g).memoizedState,l);if(L&&(g.memoizedState=l,Yi=!0),g=g.queue,P1($h.bind(null,u,g,n),[n]),g.getSnapshot!==s||L||yn!==null&&yn.memoizedState.tag&1){if(u.flags|=2048,el(9,{destroy:void 0},Qh.bind(null,u,g,l,s),null),Kn===null)throw Error(r(349));x||(fi&127)!==0||qa(u,s,l)}return l}function qa(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Ot.updateQueue,s===null?(s=Yc(),Ot.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Qh(n,s,l,u){s.value=l,s.getSnapshot=u,_d(s)&&Jh(n)}function $h(n,s,l){return l(function(){_d(s)&&Jh(n)})}function _d(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!tr(n,l)}catch{return!0}}function Jh(n){var s=Ia(n,2);s!==null&&bs(s,n,2)}function wo(n){var s=Gi();if(typeof n=="function"){var l=n;if(n=l(),Nr){At(!0);try{l()}finally{At(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:n},s}function wd(n,s,l,u){return n.baseState=l,Fl(n,Lt,typeof u=="function"?u:la)}function Sd(n,s,l,u,g){if(Td(n))throw Error(r(485));if(n=s.action,n!==null){var x={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){x.listeners.push(L)}};$.T!==null?l(!0):x.isTransition=!1,u(x),l=s.pending,l===null?(x.next=s.pending=x,Ad(s,x)):(x.next=l.next,s.pending=l.next=x)}}function Ad(n,s){var l=s.action,u=s.payload,g=n.state;if(s.isTransition){var x=$.T,L={};$.T=L;try{var Q=l(g,u),he=$.S;he!==null&&he(L,Q),ef(n,s,Q)}catch(Oe){Jo(n,s,Oe)}finally{x!==null&&L.types!==null&&(x.types=L.types),$.T=x}}else try{x=l(g,u),ef(n,s,x)}catch(Oe){Jo(n,s,Oe)}}function ef(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Nd(n,s,u)},function(u){return Jo(n,s,u)}):Nd(n,s,l)}function Nd(n,s,l){s.status="fulfilled",s.value=l,Hu(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,Ad(n,l)))}function Jo(n,s,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Hu(s),s=s.next;while(s!==u)}n.action=null}function Hu(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Wc(n,s){return s}function ca(n,s){if(tn){var l=Kn.formState;if(l!==null){e:{var u=Ot;if(tn){if(Xn){t:{for(var g=Xn,x=hi;g.nodeType!==8;){if(!x){g=null;break t}if(g=ua(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Xn=ua(g.nextSibling),u=g.data==="F!";break e}}po(u)}u=!1}u&&(s=l[0])}}return l=Gi(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:s},l.queue=u,l=A2.bind(null,Ot,u),u.dispatch=l,u=wo(!1),x=W1.bind(null,Ot,!1,u.queue),u=Gi(),g={state:s,dispatch:null,action:n,pending:null},u.queue=g,l=Sd.bind(null,Ot,g,x,l),g.dispatch=l,u.memoizedState=n,[s,l,!1]}function za(n){var s=di();return Fa(s,Lt,n)}function Fa(n,s,l){if(s=Fl(n,s,Wc)[0],n=Fu(la)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=_o(s)}catch(L){throw L===ye?se:L}else u=s;s=di();var g=s.queue,x=g.dispatch;return l!==s.memoizedState&&(Ot.flags|=2048,el(9,{destroy:void 0},Gu.bind(null,g,l),null)),[u,x,n]}function Gu(n,s){n.action=s}function Yu(n){var s=di(),l=Lt;if(l!==null)return Fa(s,l,n);di(),s=s.memoizedState,l=di();var u=l.queue.dispatch;return l.memoizedState=n,[s,u,!1]}function el(n,s,l,u){return n={tag:n,create:l,deps:u,inst:s,next:null},s=Ot.updateQueue,s===null&&(s=Yc(),Ot.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,s.lastEffect=n),n}function Cd(){return di().memoizedState}function Pl(n,s,l,u){var g=Gi();Ot.flags|=n,g.memoizedState=el(1|s,{destroy:void 0},l,u===void 0?null:u)}function Ul(n,s,l,u){var g=di();u=u===void 0?null:u;var x=g.memoizedState.inst;Lt!==null&&u!==null&&Wh(u,Lt.memoizedState.deps)?g.memoizedState=el(s,x,l,u):(Ot.flags|=n,g.memoizedState=el(1|s,x,l,u))}function u2(n,s){Pl(8390656,8,n,s)}function P1(n,s){Ul(2048,8,n,s)}function Hw(n){Ot.flags|=4;var s=Ot.updateQueue;if(s===null)s=Yc(),Ot.updateQueue=s,s.events=[n];else{var l=s.events;l===null?s.events=[n]:l.push(n)}}function h2(n){var s=di().memoizedState;return Hw({ref:s,nextImpl:n}),function(){if((Ln&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function f2(n,s){return Ul(4,2,n,s)}function d2(n,s){return Ul(4,4,n,s)}function p2(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function m2(n,s,l){l=l!=null?l.concat([n]):null,Ul(4,4,p2.bind(null,s,n),l)}function U1(){}function g2(n,s){var l=di();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Wh(s,u[1])?u[0]:(l.memoizedState=[n,s],n)}function v2(n,s){var l=di();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Wh(s,u[1]))return u[0];if(u=n(),Nr){At(!0);try{n()}finally{At(!1)}}return l.memoizedState=[u,s],u}function H1(n,s,l){return l===void 0||(fi&1073741824)!==0&&(an&261930)===0?n.memoizedState=s:(n.memoizedState=l,n=yv(),Ot.lanes|=n,Yl|=n,l)}function y2(n,s,l,u){return tr(l,s)?l:Qt.current!==null?(n=H1(n,l,u),tr(n,s)||(Yi=!0),n):(fi&42)===0||(fi&1073741824)!==0&&(an&261930)===0?(Yi=!0,n.memoizedState=l):(n=yv(),Ot.lanes|=n,Yl|=n,s)}function b2(n,s,l,u,g){var x=re.p;re.p=x!==0&&8>x?x:8;var L=$.T,Q={};$.T=Q,W1(n,!1,s,l);try{var he=g(),Oe=$.S;if(Oe!==null&&Oe(Q,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var ze=q(he,u);tf(n,s,ze,zs(n))}else tf(n,s,u,zs(n))}catch(Ye){tf(n,s,{then:function(){},status:"rejected",reason:Ye},zs())}finally{re.p=x,L!==null&&Q.types!==null&&(L.types=Q.types),$.T=L}}function Gw(){}function G1(n,s,l,u){if(n.tag!==5)throw Error(r(476));var g=x2(n).queue;b2(n,g,s,ce,l===null?Gw:function(){return _2(n),l(u)})}function x2(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:ce},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function _2(n){var s=x2(n);s.next===null&&(s=n.alternate.memoizedState),tf(n,s.next.queue,{},zs())}function Y1(){return sr(bf)}function w2(){return di().memoizedState}function S2(){return di().memoizedState}function Yw(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=zs();n=Rt(l);var u=Zt(s,n,l);u!==null&&(bs(u,s,l),kn(u,s,l)),s={cache:ql()},n.payload=s;return}s=s.return}}function Ww(n,s,l){var u=zs();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Td(n)?N2(s,l):(l=Tu(n,s,l,u),l!==null&&(bs(l,n,u),C2(l,s,u)))}function A2(n,s,l){var u=zs();tf(n,s,l,u)}function tf(n,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Td(n))N2(s,g);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var L=s.lastRenderedState,Q=x(L,l);if(g.hasEagerState=!0,g.eagerState=Q,tr(Q,L))return qc(n,s,g,0),Kn===null&&Bc(),!1}catch{}finally{}if(l=Tu(n,s,g,u),l!==null)return bs(l,n,u),C2(l,s,u),!0}return!1}function W1(n,s,l,u){if(u={lane:2,revertLane:Nm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Td(n)){if(s)throw Error(r(479))}else s=Tu(n,l,u,2),s!==null&&bs(s,n,2)}function Td(n){var s=n.alternate;return n===Ot||s!==null&&s===Ot}function N2(n,s){ps=jr=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function C2(n,s,l){if((l&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Tn(n,l)}}var nf={readContext:sr,use:zl,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};nf.useEffectEvent=Pn;var T2={readContext:sr,use:zl,useCallback:function(n,s){return Gi().memoizedState=[n,s===void 0?null:s],n},useContext:sr,useEffect:u2,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Pl(4194308,4,p2.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Pl(4194308,4,n,s)},useInsertionEffect:function(n,s){Pl(4,2,n,s)},useMemo:function(n,s){var l=Gi();s=s===void 0?null:s;var u=n();if(Nr){At(!0);try{n()}finally{At(!1)}}return l.memoizedState=[u,s],u},useReducer:function(n,s,l){var u=Gi();if(l!==void 0){var g=l(s);if(Nr){At(!0);try{l(s)}finally{At(!1)}}}else g=s;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=Ww.bind(null,Ot,n),[u.memoizedState,n]},useRef:function(n){var s=Gi();return n={current:n},s.memoizedState=n},useState:function(n){n=wo(n);var s=n.queue,l=A2.bind(null,Ot,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:U1,useDeferredValue:function(n,s){var l=Gi();return H1(l,n,s)},useTransition:function(){var n=wo(!1);return n=b2.bind(null,Ot,n.queue,!0,!1),Gi().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var u=Ot,g=Gi();if(tn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Kn===null)throw Error(r(349));(an&127)!==0||qa(u,s,l)}g.memoizedState=l;var x={value:l,getSnapshot:s};return g.queue=x,u2($h.bind(null,u,x,n),[n]),u.flags|=2048,el(9,{destroy:void 0},Qh.bind(null,u,x,l,s),null),l},useId:function(){var n=Gi(),s=Kn.identifierPrefix;if(tn){var l=fs,u=hs;l=(u&~(1<<32-zt(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=ki++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Bu++,s="_"+s+"r_"+l.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Y1,useFormState:ca,useActionState:ca,useOptimistic:function(n){var s=Gi();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=W1.bind(null,Ot,!0,l),l.dispatch=s,[n,s]},useMemoCache:$o,useCacheRefresh:function(){return Gi().memoizedState=Yw.bind(null,Ot)},useEffectEvent:function(n){var s=Gi(),l={impl:n};return s.memoizedState=l,function(){if((Ln&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},X1={readContext:sr,use:zl,useCallback:g2,useContext:sr,useEffect:P1,useImperativeHandle:m2,useInsertionEffect:f2,useLayoutEffect:d2,useMemo:v2,useReducer:Fu,useRef:Cd,useState:function(){return Fu(la)},useDebugValue:U1,useDeferredValue:function(n,s){var l=di();return y2(l,Lt.memoizedState,n,s)},useTransition:function(){var n=Fu(la)[0],s=di().memoizedState;return[typeof n=="boolean"?n:_o(n),s]},useSyncExternalStore:Uu,useId:w2,useHostTransitionStatus:Y1,useFormState:za,useActionState:za,useOptimistic:function(n,s){var l=di();return wd(l,Lt,n,s)},useMemoCache:$o,useCacheRefresh:S2};X1.useEffectEvent=h2;var E2={readContext:sr,use:zl,useCallback:g2,useContext:sr,useEffect:P1,useImperativeHandle:m2,useInsertionEffect:f2,useLayoutEffect:d2,useMemo:v2,useReducer:Pu,useRef:Cd,useState:function(){return Pu(la)},useDebugValue:U1,useDeferredValue:function(n,s){var l=di();return Lt===null?H1(l,n,s):y2(l,Lt.memoizedState,n,s)},useTransition:function(){var n=Pu(la)[0],s=di().memoizedState;return[typeof n=="boolean"?n:_o(n),s]},useSyncExternalStore:Uu,useId:w2,useHostTransitionStatus:Y1,useFormState:Yu,useActionState:Yu,useOptimistic:function(n,s){var l=di();return Lt!==null?wd(l,Lt,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:$o,useCacheRefresh:S2};E2.useEffectEvent=h2;function Z1(n,s,l,u){s=n.memoizedState,l=l(u,s),l=l==null?s:b({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var K1={enqueueSetState:function(n,s,l){n=n._reactInternals;var u=zs(),g=Rt(u);g.payload=s,l!=null&&(g.callback=l),s=Zt(n,g,u),s!==null&&(bs(s,n,u),kn(s,n,u))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var u=zs(),g=Rt(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Zt(n,g,u),s!==null&&(bs(s,n,u),kn(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=zs(),u=Rt(l);u.tag=2,s!=null&&(u.callback=s),s=Zt(n,u,l),s!==null&&(bs(s,n,l),kn(s,n,l))}};function k2(n,s,l,u,g,x,L){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,x,L):s.prototype&&s.prototype.isPureReactComponent?!Ma(l,u)||!Ma(g,x):!0}function O2(n,s,l,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==n&&K1.enqueueReplaceState(s,s.state,null)}function Xc(n,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(n=n.defaultProps){l===s&&(l=b({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function L2(n){Vc(n)}function M2(n){console.error(n)}function D2(n){Vc(n)}function Ed(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function j2(n,s,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Q1(n,s,l){return l=Rt(l),l.tag=3,l.payload={element:null},l.callback=function(){Ed(n,s)},l}function R2(n){return n=Rt(n),n.tag=3,n}function I2(n,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var x=u.value;n.payload=function(){return g(x)},n.callback=function(){j2(s,l,u)}}var L=l.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(n.callback=function(){j2(s,l,u),typeof g!="function"&&(Wl===null?Wl=new Set([this]):Wl.add(this));var Q=u.stack;this.componentDidCatch(u.value,{componentStack:Q!==null?Q:""})})}function Xw(n,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&vo(s,l,g,!0),l=ri.current,l!==null){switch(l.tag){case 31:case 13:return vn===null?zd():l.alternate===null&&Oi===0&&(Oi=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===xe?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),wm(n,u,g)),!1;case 22:return l.flags|=65536,u===xe?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),wm(n,u,g)),!1}throw Error(r(435,l.tag))}return wm(n,u,g),zd(),!1}if(tn)return s=ri.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==Vs&&(n=Error(r(422),{cause:u}),Vl(ls(n,l)))):(u!==Vs&&(s=Error(r(423),{cause:u}),Vl(ls(s,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=ls(u,l),g=Q1(n.stateNode,u,g),Vi(n,g),Oi!==4&&(Oi=2)),!1;var x=Error(r(520),{cause:u});if(x=ls(x,l),hf===null?hf=[x]:hf.push(x),Oi!==4&&(Oi=2),s===null)return!0;u=ls(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=Q1(l.stateNode,u,n),Vi(l,n),!1;case 1:if(s=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Wl===null||!Wl.has(x))))return l.flags|=65536,g&=-g,l.lanes|=g,g=R2(g),I2(g,n,l,u),Vi(l,g),!1}l=l.return}while(l!==null);return!1}var $1=Error(r(461)),Yi=!1;function Cr(n,s,l,u){s.child=n===null?Yt(s,null,l,u):Zn(s,n.child,l,u)}function V2(n,s,l,u,g){l=l.render;var x=s.ref;if("ref"in u){var L={};for(var Q in u)Q!=="ref"&&(L[Q]=u[Q])}else L=u;return yo(s),u=Xh(n,s,l,L,x,g),Q=Zh(),n!==null&&!Yi?(Kh(n,s,g),tl(n,s,g)):(tn&&Q&&Hh(s),s.flags|=1,Cr(n,s,u,g),s.child)}function B2(n,s,l,u,g){if(n===null){var x=l.type;return typeof x=="function"&&!ku(x)&&x.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=x,q2(n,s,x,u,g)):(n=jl(l.type,null,u,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(x=n.child,!am(n,g)){var L=x.memoizedProps;if(l=l.compare,l=l!==null?l:Ma,l(L,u)&&n.ref===s.ref)return tl(n,s,g)}return s.flags|=1,n=os(x,u),n.ref=s.ref,n.return=s,s.child=n}function q2(n,s,l,u,g){if(n!==null){var x=n.memoizedProps;if(Ma(x,u)&&n.ref===s.ref)if(Yi=!1,s.pendingProps=u=x,am(n,g))(n.flags&131072)!==0&&(Yi=!0);else return s.lanes=n.lanes,tl(n,s,g)}return J1(n,s,l,u,g)}function z2(n,s,l,u){var g=u.children,x=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,n!==null){for(u=s.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~x}else u=0,s.child=null;return F2(n,s,x,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ne(s,x!==null?x.cachePool:null),x!==null?ii(s,x):_n(),Ti(s);else return u=s.lanes=536870912,F2(n,s,x!==null?x.baseLanes|l:l,l,u)}else x!==null?(ne(s,x.cachePool),ii(s,x),Ei(),s.memoizedState=null):(n!==null&&ne(s,null),_n(),Ei());return Cr(n,s,g,l),s.child}function rf(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function F2(n,s,l,u,g){var x=te();return x=x===null?null:{parent:_i._currentValue,pool:x},s.memoizedState={baseLanes:l,cachePool:x},n!==null&&ne(s,null),_n(),Ti(s),n!==null&&vo(n,s,u,!0),s.childLanes=g,null}function kd(n,s){return s=Ld({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function P2(n,s,l){return Zn(s,n.child,null,l),n=kd(s,s.pendingProps),n.flags|=2,Rn(s),s.memoizedState=null,n}function Zw(n,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(tn){if(u.mode==="hidden")return n=kd(s,u),s.lanes=536870912,rf(null,n);if(On(s),(n=Xn)?(n=e5(n,hi),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:fo!==null?{id:hs,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},l=Ou(n),l.return=s,s.child=l,ir=s,Xn=null)):n=null,n===null)throw po(s);return s.lanes=536870912,null}return kd(s,u)}var x=n.memoizedState;if(x!==null){var L=x.dehydrated;if(On(s),g)if(s.flags&256)s.flags&=-257,s=P2(n,s,l);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Yi||vo(n,s,l,!1),g=(l&n.childLanes)!==0,Yi||g){if(u=Kn,u!==null&&(L=Mn(u,l),L!==0&&L!==x.retryLane))throw x.retryLane=L,Ia(n,L),bs(u,n,L),$1;zd(),s=P2(n,s,l)}else n=x.treeContext,Xn=ua(L.nextSibling),ir=s,tn=!0,Ar=null,hi=!1,n!==null&&bd(s,n),s=kd(s,u),s.flags|=4096;return s}return n=os(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Od(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function J1(n,s,l,u,g){return yo(s),l=Xh(n,s,l,u,void 0,g),u=Zh(),n!==null&&!Yi?(Kh(n,s,g),tl(n,s,g)):(tn&&u&&Hh(s),s.flags|=1,Cr(n,s,l,g),s.child)}function U2(n,s,l,u,g,x){return yo(s),s.updateQueue=null,l=Ba(s,u,l,g),qu(n),u=Zh(),n!==null&&!Yi?(Kh(n,s,x),tl(n,s,x)):(tn&&u&&Hh(s),s.flags|=1,Cr(n,s,l,x),s.child)}function H2(n,s,l,u,g){if(yo(s),s.stateNode===null){var x=nr,L=l.contextType;typeof L=="object"&&L!==null&&(x=sr(L)),x=new l(u,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=K1,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=u,x.state=s.memoizedState,x.refs={},at(s),L=l.contextType,x.context=typeof L=="object"&&L!==null?sr(L):nr,x.state=s.memoizedState,L=l.getDerivedStateFromProps,typeof L=="function"&&(Z1(s,l,L,u),x.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(L=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),L!==x.state&&K1.enqueueReplaceState(x,x.state,null),Ni(s,u,x,g),Fn(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){x=s.stateNode;var Q=s.memoizedProps,he=Xc(l,Q);x.props=he;var Oe=x.context,ze=l.contextType;L=nr,typeof ze=="object"&&ze!==null&&(L=sr(ze));var Ye=l.getDerivedStateFromProps;ze=typeof Ye=="function"||typeof x.getSnapshotBeforeUpdate=="function",Q=s.pendingProps!==Q,ze||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(Q||Oe!==L)&&O2(s,x,u,L),dt=!1;var Le=s.memoizedState;x.state=Le,Ni(s,u,x,g),Fn(),Oe=s.memoizedState,Q||Le!==Oe||dt?(typeof Ye=="function"&&(Z1(s,l,Ye,u),Oe=s.memoizedState),(he=dt||k2(s,l,he,u,Le,Oe,L))?(ze||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Oe),x.props=u,x.state=Oe,x.context=L,u=he):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{x=s.stateNode,ni(n,s),L=s.memoizedProps,ze=Xc(l,L),x.props=ze,Ye=s.pendingProps,Le=x.context,Oe=l.contextType,he=nr,typeof Oe=="object"&&Oe!==null&&(he=sr(Oe)),Q=l.getDerivedStateFromProps,(Oe=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==Ye||Le!==he)&&O2(s,x,u,he),dt=!1,Le=s.memoizedState,x.state=Le,Ni(s,u,x,g),Fn();var je=s.memoizedState;L!==Ye||Le!==je||dt||n!==null&&n.dependencies!==null&&Ru(n.dependencies)?(typeof Q=="function"&&(Z1(s,l,Q,u),je=s.memoizedState),(ze=dt||k2(s,l,ze,u,Le,je,he)||n!==null&&n.dependencies!==null&&Ru(n.dependencies))?(Oe||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,je,he),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,je,he)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===n.memoizedProps&&Le===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&Le===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=je),x.props=u,x.state=je,x.context=he,u=ze):(typeof x.componentDidUpdate!="function"||L===n.memoizedProps&&Le===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&Le===n.memoizedState||(s.flags|=1024),u=!1)}return x=u,Od(n,s),u=(s.flags&128)!==0,x||u?(x=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,n!==null&&u?(s.child=Zn(s,n.child,null,g),s.child=Zn(s,null,l,g)):Cr(n,s,l,g),s.memoizedState=x.state,n=s.child):n=tl(n,s,g),n}function G2(n,s,l,u){return Ko(),s.flags|=256,Cr(n,s,l,u),s.child}var em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(n){return{baseLanes:n,cachePool:ae()}}function nm(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=qs),n}function Y2(n,s,l){var u=s.pendingProps,g=!1,x=(s.flags&128)!==0,L;if((L=x)||(L=n!==null&&n.memoizedState===null?!1:(fn.current&2)!==0),L&&(g=!0,s.flags&=-129),L=(s.flags&32)!==0,s.flags&=-33,n===null){if(tn){if(g?wi(s):Ei(),(n=Xn)?(n=e5(n,hi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:fo!==null?{id:hs,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},l=Ou(n),l.return=s,s.child=l,ir=s,Xn=null)):n=null,n===null)throw po(s);return Bm(n)?s.lanes=32:s.lanes=536870912,null}var Q=u.children;return u=u.fallback,g?(Ei(),g=s.mode,Q=Ld({mode:"hidden",children:Q},g),u=ho(u,g,l,null),Q.return=s,u.return=s,Q.sibling=u,s.child=Q,u=s.child,u.memoizedState=tm(l),u.childLanes=nm(n,L,l),s.memoizedState=em,rf(null,u)):(wi(s),im(s,Q))}var he=n.memoizedState;if(he!==null&&(Q=he.dehydrated,Q!==null)){if(x)s.flags&256?(wi(s),s.flags&=-257,s=rm(n,s,l)):s.memoizedState!==null?(Ei(),s.child=n.child,s.flags|=128,s=null):(Ei(),Q=u.fallback,g=s.mode,u=Ld({mode:"visible",children:u.children},g),Q=ho(Q,g,l,null),Q.flags|=2,u.return=s,Q.return=s,u.sibling=Q,s.child=u,Zn(s,n.child,null,l),u=s.child,u.memoizedState=tm(l),u.childLanes=nm(n,L,l),s.memoizedState=em,s=rf(null,u));else if(wi(s),Bm(Q)){if(L=Q.nextSibling&&Q.nextSibling.dataset,L)var Oe=L.dgst;L=Oe,u=Error(r(419)),u.stack="",u.digest=L,Vl({value:u,source:null,stack:null}),s=rm(n,s,l)}else if(Yi||vo(n,s,l,!1),L=(l&n.childLanes)!==0,Yi||L){if(L=Kn,L!==null&&(u=Mn(L,l),u!==0&&u!==he.retryLane))throw he.retryLane=u,Ia(n,u),bs(L,n,u),$1;Vm(Q)||zd(),s=rm(n,s,l)}else Vm(Q)?(s.flags|=192,s.child=n.child,s=null):(n=he.treeContext,Xn=ua(Q.nextSibling),ir=s,tn=!0,Ar=null,hi=!1,n!==null&&bd(s,n),s=im(s,u.children),s.flags|=4096);return s}return g?(Ei(),Q=u.fallback,g=s.mode,he=n.child,Oe=he.sibling,u=os(he,{mode:"hidden",children:u.children}),u.subtreeFlags=he.subtreeFlags&65011712,Oe!==null?Q=os(Oe,Q):(Q=ho(Q,g,l,null),Q.flags|=2),Q.return=s,u.return=s,u.sibling=Q,s.child=u,rf(null,u),u=s.child,Q=n.child.memoizedState,Q===null?Q=tm(l):(g=Q.cachePool,g!==null?(he=_i._currentValue,g=g.parent!==he?{parent:he,pool:he}:g):g=ae(),Q={baseLanes:Q.baseLanes|l,cachePool:g}),u.memoizedState=Q,u.childLanes=nm(n,L,l),s.memoizedState=em,rf(n.child,u)):(wi(s),l=n.child,n=l.sibling,l=os(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,n!==null&&(L=s.deletions,L===null?(s.deletions=[n],s.flags|=16):L.push(n)),s.child=l,s.memoizedState=null,l)}function im(n,s){return s=Ld({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Ld(n,s){return n=dr(22,n,null,s),n.lanes=0,n}function rm(n,s,l){return Zn(s,n.child,null,l),n=im(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function W2(n,s,l){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Bl(n.return,s,l)}function sm(n,s,l,u,g,x){var L=n.memoizedState;L===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:x}:(L.isBackwards=s,L.rendering=null,L.renderingStartTime=0,L.last=u,L.tail=l,L.tailMode=g,L.treeForkCount=x)}function X2(n,s,l){var u=s.pendingProps,g=u.revealOrder,x=u.tail;u=u.children;var L=fn.current,Q=(L&2)!==0;if(Q?(L=L&1|2,s.flags|=128):L&=1,H(fn,L),Cr(n,s,u,l),u=tn?Uc:0,!Q&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&W2(n,l,s);else if(n.tag===19)W2(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&mr(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),sm(s,!1,g,l,x,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&mr(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}sm(s,!0,l,null,x,u);break;case"together":sm(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function tl(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Yl|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(vo(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=os(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=os(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function am(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Ru(n)))}function Kw(n,s,l){switch(s.tag){case 3:de(s,s.stateNode.containerInfo),go(s,_i,n.memoizedState.cache),Ko();break;case 27:case 5:_e(s);break;case 4:de(s,s.stateNode.containerInfo);break;case 10:go(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,On(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(wi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Y2(n,s,l):(wi(s),n=tl(n,s,l),n!==null?n.sibling:null);wi(s);break;case 19:var g=(n.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(vo(n,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return X2(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),H(fn,fn.current),u)break;return null;case 22:return s.lanes=0,z2(n,s,l,s.pendingProps);case 24:go(s,_i,n.memoizedState.cache)}return tl(n,s,l)}function Z2(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)Yi=!0;else{if(!am(n,l)&&(s.flags&128)===0)return Yi=!1,Kw(n,s,l);Yi=(n.flags&131072)!==0}else Yi=!1,tn&&(s.flags&1048576)!==0&&yd(s,Uc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Te(s.elementType),s.type=n,typeof n=="function")ku(n)?(u=Xc(n,u),s.tag=1,s=H2(null,s,n,u,l)):(s.tag=0,s=J1(null,s,n,u,l));else{if(n!=null){var g=n.$$typeof;if(g===V){s.tag=11,s=V2(null,s,n,u,l);break e}else if(g===G){s.tag=14,s=B2(null,s,n,u,l);break e}}throw s=J(n)||n,Error(r(306,s,""))}}return s;case 0:return J1(n,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=Xc(u,s.pendingProps),H2(n,s,u,g,l);case 3:e:{if(de(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var x=s.memoizedState;g=x.element,ni(n,s),Ni(s,u,null,l);var L=s.memoizedState;if(u=L.cache,go(s,_i,u),u!==x.cache&&Qo(s,[_i],l,!0),Fn(),u=L.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:L.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=G2(n,s,u,l);break e}else if(u!==g){g=ls(Error(r(424)),s),Vl(g),s=G2(n,s,u,l);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Xn=ua(n.firstChild),ir=s,tn=!0,Ar=null,hi=!0,l=Yt(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ko(),u===g){s=tl(n,s,l);break e}Cr(n,s,u,l)}s=s.child}return s;case 26:return Od(n,s),n===null?(l=a5(s.type,null,s.pendingProps,null))?s.memoizedState=l:tn||(l=s.type,n=s.pendingProps,u=Wd(oe.current).createElement(l),u[wn]=s,u[Wn]=n,Tr(u,l,n),vi(u),s.stateNode=u):s.memoizedState=a5(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return _e(s),n===null&&tn&&(u=s.stateNode=i5(s.type,s.pendingProps,oe.current),ir=s,hi=!0,g=Xn,Ql(s.type)?(qm=g,Xn=ua(u.firstChild)):Xn=g),Cr(n,s,s.pendingProps.children,l),Od(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&tn&&((g=u=Xn)&&(u=C3(u,s.type,s.pendingProps,hi),u!==null?(s.stateNode=u,ir=s,Xn=ua(u.firstChild),hi=!1,g=!0):g=!1),g||po(s)),_e(s),g=s.type,x=s.pendingProps,L=n!==null?n.memoizedProps:null,u=x.children,jm(g,x)?u=null:L!==null&&jm(g,L)&&(s.flags|=32),s.memoizedState!==null&&(g=Xh(n,s,F1,null,null,l),bf._currentValue=g),Od(n,s),Cr(n,s,u,l),s.child;case 6:return n===null&&tn&&((n=l=Xn)&&(l=T3(l,s.pendingProps,hi),l!==null?(s.stateNode=l,ir=s,Xn=null,n=!0):n=!1),n||po(s)),null;case 13:return Y2(n,s,l);case 4:return de(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Zn(s,null,u,l):Cr(n,s,u,l),s.child;case 11:return V2(n,s,s.type,s.pendingProps,l);case 7:return Cr(n,s,s.pendingProps,l),s.child;case 8:return Cr(n,s,s.pendingProps.children,l),s.child;case 12:return Cr(n,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,go(s,s.type,u.value),Cr(n,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,yo(s),g=sr(g),u=u(g),s.flags|=1,Cr(n,s,u,l),s.child;case 14:return B2(n,s,s.type,s.pendingProps,l);case 15:return q2(n,s,s.type,s.pendingProps,l);case 19:return X2(n,s,l);case 31:return Zw(n,s,l);case 22:return z2(n,s,l,s.pendingProps);case 24:return yo(s),u=sr(_i),n===null?(g=te(),g===null&&(g=Kn,x=ql(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=l),g=x),s.memoizedState={parent:u,cache:g},at(s),go(s,_i,g)):((n.lanes&l)!==0&&(ni(n,s),Ni(s,null,null,l),Fn()),g=n.memoizedState,x=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),go(s,_i,u)):(u=x.cache,go(s,_i,u),u!==g.cache&&Qo(s,[_i],l,!0))),Cr(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function nl(n){n.flags|=4}function om(n,s,l,u,g){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(wv())n.flags|=8192;else throw Ie=xe,Ee}else n.flags&=-16777217}function K2(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!h5(s))if(wv())n.flags|=8192;else throw Ie=xe,Ee}function Md(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?cn():536870912,n.lanes|=s,Ku|=s)}function sf(n,s){if(!tn)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function si(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=l,s}function Qw(n,s,l){var u=s.pendingProps;switch(Du(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(s),null;case 1:return si(s),null;case 3:return l=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ds(_i),ge(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(rr(s)?nl(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Yh())),si(s),null;case 26:var g=s.type,x=s.memoizedState;return n===null?(nl(s),x!==null?(si(s),K2(s,x)):(si(s),om(s,g,null,u,l))):x?x!==n.memoizedState?(nl(s),si(s),K2(s,x)):(si(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&nl(s),si(s),om(s,g,n,u,l)),null;case 27:if(Re(s),l=oe.current,g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&nl(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return si(s),null}n=ee.current,rr(s)?Gh(s):(n=i5(g,u,l),s.stateNode=n,nl(s))}return si(s),null;case 5:if(Re(s),g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&nl(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return si(s),null}if(x=ee.current,rr(s))Gh(s);else{var L=Wd(oe.current);switch(x){case 1:x=L.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:x=L.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":x=L.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":x=L.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":x=L.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof u.is=="string"?L.createElement("select",{is:u.is}):L.createElement("select"),u.multiple?x.multiple=!0:u.size&&(x.size=u.size);break;default:x=typeof u.is=="string"?L.createElement(g,{is:u.is}):L.createElement(g)}}x[wn]=s,x[Wn]=u;e:for(L=s.child;L!==null;){if(L.tag===5||L.tag===6)x.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===s)break e;for(;L.sibling===null;){if(L.return===null||L.return===s)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}s.stateNode=x;e:switch(Tr(x,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&nl(s)}}return si(s),om(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,l),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&nl(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=oe.current,rr(s)){if(n=s.stateNode,l=s.memoizedProps,u=null,g=ir,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[wn]=s,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Yv(n.nodeValue,l)),n||po(s,!0)}else n=Wd(n).createTextNode(u),n[wn]=s,s.stateNode=n}return si(s),null;case 31:if(l=s.memoizedState,n===null||n.memoizedState!==null){if(u=rr(s),l!==null){if(n===null){if(!u)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[wn]=s}else Ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;si(s),n=!1}else l=Yh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return s.flags&256?(Rn(s),s):(Rn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return si(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=rr(s),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[wn]=s}else Ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;si(s),g=!1}else g=Yh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Rn(s),s):(Rn(s),null)}return Rn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==g&&(u.flags|=2048)),l!==n&&l&&(s.child.flags|=8192),Md(s,s.updateQueue),si(s),null);case 4:return ge(),n===null&&km(s.stateNode.containerInfo),si(s),null;case 10:return ds(s.type),si(s),null;case 19:if(T(fn),u=s.memoizedState,u===null)return si(s),null;if(g=(s.flags&128)!==0,x=u.rendering,x===null)if(g)sf(u,!1);else{if(Oi!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(x=mr(n),x!==null){for(s.flags|=128,sf(u,!1),n=x.updateQueue,s.updateQueue=n,Md(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)Fc(l,n),l=l.sibling;return H(fn,fn.current&1|2),tn&&Qr(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&kt()>Vd&&(s.flags|=128,g=!0,sf(u,!1),s.lanes=4194304)}else{if(!g)if(n=mr(x),n!==null){if(s.flags|=128,g=!0,n=n.updateQueue,s.updateQueue=n,Md(s,n),sf(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!tn)return si(s),null}else 2*kt()-u.renderingStartTime>Vd&&l!==536870912&&(s.flags|=128,g=!0,sf(u,!1),s.lanes=4194304);u.isBackwards?(x.sibling=s.child,s.child=x):(n=u.last,n!==null?n.sibling=x:s.child=x,u.last=x)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=kt(),n.sibling=null,l=fn.current,H(fn,g?l&1|2:l&1),tn&&Qr(s,u.treeForkCount),n):(si(s),null);case 22:case 23:return Rn(s),Bi(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(si(s),s.subtreeFlags&6&&(s.flags|=8192)):si(s),l=s.updateQueue,l!==null&&Md(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),n!==null&&T(W),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ds(_i),si(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function $w(n,s){switch(Du(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ds(_i),ge(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Re(s),null;case 31:if(s.memoizedState!==null){if(Rn(s),s.alternate===null)throw Error(r(340));Ko()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Rn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ko()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return T(fn),null;case 4:return ge(),null;case 10:return ds(s.type),null;case 22:case 23:return Rn(s),Bi(),n!==null&&T(W),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ds(_i),null;case 25:return null;default:return null}}function Q2(n,s){switch(Du(s),s.tag){case 3:ds(_i),ge();break;case 26:case 27:case 5:Re(s);break;case 4:ge();break;case 31:s.memoizedState!==null&&Rn(s);break;case 13:Rn(s);break;case 19:T(fn);break;case 10:ds(s.type);break;case 22:case 23:Rn(s),Bi(),n!==null&&T(W);break;case 24:ds(_i)}}function af(n,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&n)===n){u=void 0;var x=l.create,L=l.inst;u=x(),L.destroy=u}l=l.next}while(l!==g)}}catch(Q){Vn(s,s.return,Q)}}function Hl(n,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var x=g.next;u=x;do{if((u.tag&n)===n){var L=u.inst,Q=L.destroy;if(Q!==void 0){L.destroy=void 0,g=s;var he=l,Oe=Q;try{Oe()}catch(ze){Vn(g,he,ze)}}}u=u.next}while(u!==x)}}catch(ze){Vn(s,s.return,ze)}}function $2(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{Ci(s,l)}catch(u){Vn(n,n.return,u)}}}function J2(n,s,l){l.props=Xc(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Vn(n,s,u)}}function of(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(g){Vn(n,s,g)}}function So(n,s){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Vn(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Vn(n,s,g)}else l.current=null}function ev(n){var s=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Vn(n,n.return,g)}}function lm(n,s,l){try{var u=n.stateNode;x3(u,n.type,l,s),u[Wn]=s}catch(g){Vn(n,n.return,g)}}function tv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ql(n.type)||n.tag===4}function cm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||tv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ql(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function um(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ls));else if(u!==4&&(u===27&&Ql(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(um(n,s,l),n=n.sibling;n!==null;)um(n,s,l),n=n.sibling}function Dd(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(u!==4&&(u===27&&Ql(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Dd(n,s,l),n=n.sibling;n!==null;)Dd(n,s,l),n=n.sibling}function nv(n){var s=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Tr(s,u,l),s[wn]=n,s[Wn]=l}catch(x){Vn(n,n.return,x)}}var il=!1,Wi=!1,hm=!1,iv=typeof WeakSet=="function"?WeakSet:Set,gr=null;function Jw(n,s){if(n=n.containerInfo,Mm=ep,n=ja(n),sa(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var L=0,Q=-1,he=-1,Oe=0,ze=0,Ye=n,Le=null;t:for(;;){for(var je;Ye!==l||g!==0&&Ye.nodeType!==3||(Q=L+g),Ye!==x||u!==0&&Ye.nodeType!==3||(he=L+u),Ye.nodeType===3&&(L+=Ye.nodeValue.length),(je=Ye.firstChild)!==null;)Le=Ye,Ye=je;for(;;){if(Ye===n)break t;if(Le===l&&++Oe===g&&(Q=L),Le===x&&++ze===u&&(he=L),(je=Ye.nextSibling)!==null)break;Ye=Le,Le=Ye.parentNode}Ye=je}l=Q===-1||he===-1?null:{start:Q,end:he}}else l=null}l=l||{start:0,end:0}}else l=null;for(Dm={focusedElem:n,selectionRange:l},ep=!1,gr=s;gr!==null;)if(s=gr,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,gr=n;else for(;gr!==null;){switch(s=gr,x=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,l=s,g=x.memoizedProps,x=x.memoizedState,u=l.stateNode;try{var yt=Xc(l.type,g);n=u.getSnapshotBeforeUpdate(yt,x),u.__reactInternalSnapshotBeforeUpdate=n}catch(It){Vn(l,l.return,It)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)Im(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Im(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,gr=n;break}gr=s.return}}function rv(n,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:sl(n,l),u&4&&af(5,l);break;case 1:if(sl(n,l),u&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(L){Vn(l,l.return,L)}else{var g=Xc(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(L){Vn(l,l.return,L)}}u&64&&$2(l),u&512&&of(l,l.return);break;case 3:if(sl(n,l),u&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Ci(n,s)}catch(L){Vn(l,l.return,L)}}break;case 27:s===null&&u&4&&nv(l);case 26:case 5:sl(n,l),s===null&&u&4&&ev(l),u&512&&of(l,l.return);break;case 12:sl(n,l);break;case 31:sl(n,l),u&4&&ov(n,l);break;case 13:sl(n,l),u&4&&lv(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=l3.bind(null,l),E3(n,l))));break;case 22:if(u=l.memoizedState!==null||il,!u){s=s!==null&&s.memoizedState!==null||Wi,g=il;var x=Wi;il=u,(Wi=s)&&!x?al(n,l,(l.subtreeFlags&8772)!==0):sl(n,l),il=g,Wi=x}break;case 30:break;default:sl(n,l)}}function sv(n){var s=n.alternate;s!==null&&(n.alternate=null,sv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Xs(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pi=null,ms=!1;function rl(n,s,l){for(l=l.child;l!==null;)av(n,s,l),l=l.sibling}function av(n,s,l){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Dt,l)}catch{}switch(l.tag){case 26:Wi||So(l,s),rl(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Wi||So(l,s);var u=pi,g=ms;Ql(l.type)&&(pi=l.stateNode,ms=!1),rl(n,s,l),gf(l.stateNode),pi=u,ms=g;break;case 5:Wi||So(l,s);case 6:if(u=pi,g=ms,pi=null,rl(n,s,l),pi=u,ms=g,pi!==null)if(ms)try{(pi.nodeType===9?pi.body:pi.nodeName==="HTML"?pi.ownerDocument.body:pi).removeChild(l.stateNode)}catch(x){Vn(l,s,x)}else try{pi.removeChild(l.stateNode)}catch(x){Vn(l,s,x)}break;case 18:pi!==null&&(ms?(n=pi,$v(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),rh(n)):$v(pi,l.stateNode));break;case 4:u=pi,g=ms,pi=l.stateNode.containerInfo,ms=!0,rl(n,s,l),pi=u,ms=g;break;case 0:case 11:case 14:case 15:Hl(2,l,s),Wi||Hl(4,l,s),rl(n,s,l);break;case 1:Wi||(So(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&J2(l,s,u)),rl(n,s,l);break;case 21:rl(n,s,l);break;case 22:Wi=(u=Wi)||l.memoizedState!==null,rl(n,s,l),Wi=u;break;default:rl(n,s,l)}}function ov(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{rh(n)}catch(l){Vn(s,s.return,l)}}}function lv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{rh(n)}catch(l){Vn(s,s.return,l)}}function e3(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new iv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new iv),s;default:throw Error(r(435,n.tag))}}function jd(n,s){var l=e3(n);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=c3.bind(null,n,u);u.then(g,g)}})}function gs(n,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],x=n,L=s,Q=L;e:for(;Q!==null;){switch(Q.tag){case 27:if(Ql(Q.type)){pi=Q.stateNode,ms=!1;break e}break;case 5:pi=Q.stateNode,ms=!1;break e;case 3:case 4:pi=Q.stateNode.containerInfo,ms=!0;break e}Q=Q.return}if(pi===null)throw Error(r(160));av(x,L,g),pi=null,ms=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)cv(s,n),s=s.sibling}var Pa=null;function cv(n,s){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:gs(s,n),vs(n),u&4&&(Hl(3,n,n.return),af(3,n),Hl(5,n,n.return));break;case 1:gs(s,n),vs(n),u&512&&(Wi||l===null||So(l,l.return)),u&64&&il&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=Pa;if(gs(s,n),vs(n),u&512&&(Wi||l===null||So(l,l.return)),u&4){var x=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":x=g.getElementsByTagName("title")[0],(!x||x[Ur]||x[wn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(u),g.head.insertBefore(x,g.querySelector("head > title"))),Tr(x,u,l),x[wn]=n,vi(x),u=x;break e;case"link":var L=c5("link","href",g).get(u+(l.href||""));if(L){for(var Q=0;Q<L.length;Q++)if(x=L[Q],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){L.splice(Q,1);break t}}x=g.createElement(u),Tr(x,u,l),g.head.appendChild(x);break;case"meta":if(L=c5("meta","content",g).get(u+(l.content||""))){for(Q=0;Q<L.length;Q++)if(x=L[Q],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){L.splice(Q,1);break t}}x=g.createElement(u),Tr(x,u,l),g.head.appendChild(x);break;default:throw Error(r(468,u))}x[wn]=n,vi(x),u=x}n.stateNode=u}else u5(g,n.type,n.stateNode);else n.stateNode=l5(g,u,n.memoizedProps);else x!==u?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,u===null?u5(g,n.type,n.stateNode):l5(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&lm(n,n.memoizedProps,l.memoizedProps)}break;case 27:gs(s,n),vs(n),u&512&&(Wi||l===null||So(l,l.return)),l!==null&&u&4&&lm(n,n.memoizedProps,l.memoizedProps);break;case 5:if(gs(s,n),vs(n),u&512&&(Wi||l===null||So(l,l.return)),n.flags&32){g=n.stateNode;try{Os(g,"")}catch(yt){Vn(n,n.return,yt)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,lm(n,g,l!==null?l.memoizedProps:g)),u&1024&&(hm=!0);break;case 6:if(gs(s,n),vs(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(yt){Vn(n,n.return,yt)}}break;case 3:if(Kd=null,g=Pa,Pa=Xd(s.containerInfo),gs(s,n),Pa=g,vs(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{rh(s.containerInfo)}catch(yt){Vn(n,n.return,yt)}hm&&(hm=!1,uv(n));break;case 4:u=Pa,Pa=Xd(n.stateNode.containerInfo),gs(s,n),vs(n),Pa=u;break;case 12:gs(s,n),vs(n);break;case 31:gs(s,n),vs(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,jd(n,u)));break;case 13:gs(s,n),vs(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Id=kt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,jd(n,u)));break;case 22:g=n.memoizedState!==null;var he=l!==null&&l.memoizedState!==null,Oe=il,ze=Wi;if(il=Oe||g,Wi=ze||he,gs(s,n),Wi=ze,il=Oe,vs(n),u&8192)e:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||he||il||Wi||Zc(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){he=l=s;try{if(x=he.stateNode,g)L=x.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{Q=he.stateNode;var Ye=he.memoizedProps.style,Le=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;Q.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(yt){Vn(he,he.return,yt)}}}else if(s.tag===6){if(l===null){he=s;try{he.stateNode.nodeValue=g?"":he.memoizedProps}catch(yt){Vn(he,he.return,yt)}}}else if(s.tag===18){if(l===null){he=s;try{var je=he.stateNode;g?Jv(je,!0):Jv(he.stateNode,!1)}catch(yt){Vn(he,he.return,yt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,jd(n,l))));break;case 19:gs(s,n),vs(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,jd(n,u)));break;case 30:break;case 21:break;default:gs(s,n),vs(n)}}function vs(n){var s=n.flags;if(s&2){try{for(var l,u=n.return;u!==null;){if(tv(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,x=cm(n);Dd(n,x,g);break;case 5:var L=l.stateNode;l.flags&32&&(Os(L,""),l.flags&=-33);var Q=cm(n);Dd(n,Q,L);break;case 3:case 4:var he=l.stateNode.containerInfo,Oe=cm(n);um(n,Oe,he);break;default:throw Error(r(161))}}catch(ze){Vn(n,n.return,ze)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function uv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;uv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function sl(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)rv(n,s.alternate,s),s=s.sibling}function Zc(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Hl(4,s,s.return),Zc(s);break;case 1:So(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&J2(s,s.return,l),Zc(s);break;case 27:gf(s.stateNode);case 26:case 5:So(s,s.return),Zc(s);break;case 22:s.memoizedState===null&&Zc(s);break;case 30:Zc(s);break;default:Zc(s)}n=n.sibling}}function al(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=n,x=s,L=x.flags;switch(x.tag){case 0:case 11:case 15:al(g,x,l),af(4,x);break;case 1:if(al(g,x,l),u=x,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Oe){Vn(u,u.return,Oe)}if(u=x,g=u.updateQueue,g!==null){var Q=u.stateNode;try{var he=g.shared.hiddenCallbacks;if(he!==null)for(g.shared.hiddenCallbacks=null,g=0;g<he.length;g++)pr(he[g],Q)}catch(Oe){Vn(u,u.return,Oe)}}l&&L&64&&$2(x),of(x,x.return);break;case 27:nv(x);case 26:case 5:al(g,x,l),l&&u===null&&L&4&&ev(x),of(x,x.return);break;case 12:al(g,x,l);break;case 31:al(g,x,l),l&&L&4&&ov(g,x);break;case 13:al(g,x,l),l&&L&4&&lv(g,x);break;case 22:x.memoizedState===null&&al(g,x,l),of(x,x.return);break;case 30:break;default:al(g,x,l)}s=s.sibling}}function fm(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Hc(l))}function dm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Hc(n))}function Ua(n,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)hv(n,s,l,u),s=s.sibling}function hv(n,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Ua(n,s,l,u),g&2048&&af(9,s);break;case 1:Ua(n,s,l,u);break;case 3:Ua(n,s,l,u),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Hc(n)));break;case 12:if(g&2048){Ua(n,s,l,u),n=s.stateNode;try{var x=s.memoizedProps,L=x.id,Q=x.onPostCommit;typeof Q=="function"&&Q(L,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(he){Vn(s,s.return,he)}}else Ua(n,s,l,u);break;case 31:Ua(n,s,l,u);break;case 13:Ua(n,s,l,u);break;case 23:break;case 22:x=s.stateNode,L=s.alternate,s.memoizedState!==null?x._visibility&2?Ua(n,s,l,u):lf(n,s):x._visibility&2?Ua(n,s,l,u):(x._visibility|=2,Wu(n,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&fm(L,s);break;case 24:Ua(n,s,l,u),g&2048&&dm(s.alternate,s);break;default:Ua(n,s,l,u)}}function Wu(n,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=n,L=s,Q=l,he=u,Oe=L.flags;switch(L.tag){case 0:case 11:case 15:Wu(x,L,Q,he,g),af(8,L);break;case 23:break;case 22:var ze=L.stateNode;L.memoizedState!==null?ze._visibility&2?Wu(x,L,Q,he,g):lf(x,L):(ze._visibility|=2,Wu(x,L,Q,he,g)),g&&Oe&2048&&fm(L.alternate,L);break;case 24:Wu(x,L,Q,he,g),g&&Oe&2048&&dm(L.alternate,L);break;default:Wu(x,L,Q,he,g)}s=s.sibling}}function lf(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,u=s,g=u.flags;switch(u.tag){case 22:lf(l,u),g&2048&&fm(u.alternate,u);break;case 24:lf(l,u),g&2048&&dm(u.alternate,u);break;default:lf(l,u)}s=s.sibling}}var cf=8192;function Xu(n,s,l){if(n.subtreeFlags&cf)for(n=n.child;n!==null;)fv(n,s,l),n=n.sibling}function fv(n,s,l){switch(n.tag){case 26:Xu(n,s,l),n.flags&cf&&n.memoizedState!==null&&z3(l,Pa,n.memoizedState,n.memoizedProps);break;case 5:Xu(n,s,l);break;case 3:case 4:var u=Pa;Pa=Xd(n.stateNode.containerInfo),Xu(n,s,l),Pa=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=cf,cf=16777216,Xu(n,s,l),cf=u):Xu(n,s,l));break;default:Xu(n,s,l)}}function dv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function uf(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];gr=u,mv(u,n)}dv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)pv(n),n=n.sibling}function pv(n){switch(n.tag){case 0:case 11:case 15:uf(n),n.flags&2048&&Hl(9,n,n.return);break;case 3:uf(n);break;case 12:uf(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Rd(n)):uf(n);break;default:uf(n)}}function Rd(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];gr=u,mv(u,n)}dv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Hl(8,s,s.return),Rd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Rd(s));break;default:Rd(s)}n=n.sibling}}function mv(n,s){for(;gr!==null;){var l=gr;switch(l.tag){case 0:case 11:case 15:Hl(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Hc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,gr=u;else e:for(l=n;gr!==null;){u=gr;var g=u.sibling,x=u.return;if(sv(u),u===l){gr=null;break e}if(g!==null){g.return=x,gr=g;break e}gr=x}}}var t3={getCacheForType:function(n){var s=sr(_i),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l},cacheSignal:function(){return sr(_i).controller.signal}},n3=typeof WeakMap=="function"?WeakMap:Map,Ln=0,Kn=null,nn=null,an=0,In=0,Bs=null,Gl=!1,Zu=!1,pm=!1,ol=0,Oi=0,Yl=0,Kc=0,mm=0,qs=0,Ku=0,hf=null,ys=null,gm=!1,Id=0,gv=0,Vd=1/0,Bd=null,Wl=null,or=0,Xl=null,Qu=null,ll=0,vm=0,ym=null,vv=null,ff=0,bm=null;function zs(){return(Ln&2)!==0&&an!==0?an&-an:$.T!==null?Nm():Dn()}function yv(){if(qs===0)if((an&536870912)===0||tn){var n=Et;Et<<=1,(Et&3932160)===0&&(Et=262144),qs=n}else qs=536870912;return n=ri.current,n!==null&&(n.flags|=32),qs}function bs(n,s,l){(n===Kn&&(In===2||In===9)||n.cancelPendingCommit!==null)&&($u(n,0),Zl(n,an,qs,!1)),ht(n,l),((Ln&2)===0||n!==Kn)&&(n===Kn&&((Ln&2)===0&&(Kc|=l),Oi===4&&Zl(n,an,qs,!1)),Ao(n))}function bv(n,s,l){if((Ln&6)!==0)throw Error(r(327));var u=!l&&(s&127)===0&&(s&n.expiredLanes)===0||Nn(n,s),g=u?s3(n,s):_m(n,s,!0),x=u;do{if(g===0){Zu&&!u&&Zl(n,s,0,!1);break}else{if(l=n.current.alternate,x&&!i3(l)){g=_m(n,s,!1),x=!1;continue}if(g===2){if(x=s,n.errorRecoveryDisabledLanes&x)var L=0;else L=n.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){s=L;e:{var Q=n;g=hf;var he=Q.current.memoizedState.isDehydrated;if(he&&($u(Q,L).flags|=256),L=_m(Q,L,!1),L!==2){if(pm&&!he){Q.errorRecoveryDisabledLanes|=x,Kc|=x,g=4;break e}x=ys,ys=g,x!==null&&(ys===null?ys=x:ys.push.apply(ys,x))}g=L}if(x=!1,g!==2)continue}}if(g===1){$u(n,0),Zl(n,s,0,!0);break}e:{switch(u=n,x=g,x){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Zl(u,s,qs,!Gl);break e;case 2:ys=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Id+300-kt(),10<g)){if(Zl(u,s,qs,!Gl),gt(u,0,!0)!==0)break e;ll=s,u.timeoutHandle=Kv(xv.bind(null,u,l,ys,Bd,gm,s,qs,Kc,Ku,Gl,x,"Throttled",-0,0),g);break e}xv(u,l,ys,Bd,gm,s,qs,Kc,Ku,Gl,x,null,-0,0)}}break}while(!0);Ao(n)}function xv(n,s,l,u,g,x,L,Q,he,Oe,ze,Ye,Le,je){if(n.timeoutHandle=-1,Ye=s.subtreeFlags,Ye&8192||(Ye&16785408)===16785408){Ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ls},fv(s,x,Ye);var yt=(x&62914560)===x?Id-kt():(x&4194048)===x?gv-kt():0;if(yt=F3(Ye,yt),yt!==null){ll=x,n.cancelPendingCommit=yt(Ev.bind(null,n,s,x,l,u,g,L,Q,he,ze,Ye,null,Le,je)),Zl(n,x,L,!Oe);return}}Ev(n,s,x,l,u,g,L,Q,he)}function i3(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],x=g.getSnapshot;g=g.value;try{if(!tr(x(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zl(n,s,l,u){s&=~mm,s&=~Kc,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var g=s;0<g;){var x=31-zt(g),L=1<<x;u[x]=-1,g&=~L}l!==0&&jn(n,l,s)}function qd(){return(Ln&6)===0?(df(0),!1):!0}function xm(){if(nn!==null){if(In===0)var n=nn.return;else n=nn,oa=mo=null,zu(n),We=null,_t=0,n=nn;for(;n!==null;)Q2(n.alternate,n),n=n.return;nn=null}}function $u(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,S3(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),ll=0,xm(),Kn=n,nn=l=os(n.current,null),an=s,In=0,Bs=null,Gl=!1,Zu=Nn(n,s),pm=!1,Ku=qs=mm=Kc=Yl=Oi=0,ys=hf=null,gm=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var g=31-zt(u),x=1<<g;s|=n[g],u&=~x}return ol=s,Bc(),l}function _v(n,s){Ot=null,$.H=nf,s===ye||s===se?(s=Pe(),In=3):s===Ee?(s=Pe(),In=4):In=s===$1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bs=s,nn===null&&(Oi=1,Ed(n,ls(s,n.current)))}function wv(){var n=ri.current;return n===null?!0:(an&4194048)===an?vn===null:(an&62914560)===an||(an&536870912)!==0?n===vn:!1}function Sv(){var n=$.H;return $.H=nf,n===null?nf:n}function Av(){var n=$.A;return $.A=t3,n}function zd(){Oi=4,Gl||(an&4194048)!==an&&ri.current!==null||(Zu=!0),(Yl&134217727)===0&&(Kc&134217727)===0||Kn===null||Zl(Kn,an,qs,!1)}function _m(n,s,l){var u=Ln;Ln|=2;var g=Sv(),x=Av();(Kn!==n||an!==s)&&(Bd=null,$u(n,s)),s=!1;var L=Oi;e:do try{if(In!==0&&nn!==null){var Q=nn,he=Bs;switch(In){case 8:xm(),L=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(s=!0);var Oe=In;if(In=0,Bs=null,Ju(n,Q,he,Oe),l&&Zu){L=0;break e}break;default:Oe=In,In=0,Bs=null,Ju(n,Q,he,Oe)}}r3(),L=Oi;break}catch(ze){_v(n,ze)}while(!0);return s&&n.shellSuspendCounter++,oa=mo=null,Ln=u,$.H=g,$.A=x,nn===null&&(Kn=null,an=0,Bc()),L}function r3(){for(;nn!==null;)Nv(nn)}function s3(n,s){var l=Ln;Ln|=2;var u=Sv(),g=Av();Kn!==n||an!==s?(Bd=null,Vd=kt()+500,$u(n,s)):Zu=Nn(n,s);e:do try{if(In!==0&&nn!==null){s=nn;var x=Bs;t:switch(In){case 1:In=0,Bs=null,Ju(n,s,x,1);break;case 2:case 9:if(Ce(x)){In=0,Bs=null,Cv(s);break}s=function(){In!==2&&In!==9||Kn!==n||(In=7),Ao(n)},x.then(s,s);break e;case 3:In=7;break e;case 4:In=5;break e;case 7:Ce(x)?(In=0,Bs=null,Cv(s)):(In=0,Bs=null,Ju(n,s,x,7));break;case 5:var L=null;switch(nn.tag){case 26:L=nn.memoizedState;case 5:case 27:var Q=nn;if(L?h5(L):Q.stateNode.complete){In=0,Bs=null;var he=Q.sibling;if(he!==null)nn=he;else{var Oe=Q.return;Oe!==null?(nn=Oe,Fd(Oe)):nn=null}break t}}In=0,Bs=null,Ju(n,s,x,5);break;case 6:In=0,Bs=null,Ju(n,s,x,6);break;case 8:xm(),Oi=6;break e;default:throw Error(r(462))}}a3();break}catch(ze){_v(n,ze)}while(!0);return oa=mo=null,$.H=u,$.A=g,Ln=l,nn!==null?0:(Kn=null,an=0,Bc(),Oi)}function a3(){for(;nn!==null&&!lt();)Nv(nn)}function Nv(n){var s=Z2(n.alternate,n,ol);n.memoizedProps=n.pendingProps,s===null?Fd(n):nn=s}function Cv(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=U2(l,s,s.pendingProps,s.type,void 0,an);break;case 11:s=U2(l,s,s.pendingProps,s.type.render,s.ref,an);break;case 5:zu(s);default:Q2(l,s),s=nn=Fc(s,ol),s=Z2(l,s,ol)}n.memoizedProps=n.pendingProps,s===null?Fd(n):nn=s}function Ju(n,s,l,u){oa=mo=null,zu(s),We=null,_t=0;var g=s.return;try{if(Xw(n,g,s,l,an)){Oi=1,Ed(n,ls(l,n.current)),nn=null;return}}catch(x){if(g!==null)throw nn=g,x;Oi=1,Ed(n,ls(l,n.current)),nn=null;return}s.flags&32768?(tn||u===1?n=!0:Zu||(an&536870912)!==0?n=!1:(Gl=n=!0,(u===2||u===9||u===3||u===6)&&(u=ri.current,u!==null&&u.tag===13&&(u.flags|=16384))),Tv(s,n)):Fd(s)}function Fd(n){var s=n;do{if((s.flags&32768)!==0){Tv(s,Gl);return}n=s.return;var l=Qw(s.alternate,s,ol);if(l!==null){nn=l;return}if(s=s.sibling,s!==null){nn=s;return}nn=s=n}while(s!==null);Oi===0&&(Oi=5)}function Tv(n,s){do{var l=$w(n.alternate,n);if(l!==null){l.flags&=32767,nn=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){nn=n;return}nn=n=l}while(n!==null);Oi=6,nn=null}function Ev(n,s,l,u,g,x,L,Q,he){n.cancelPendingCommit=null;do Pd();while(or!==0);if((Ln&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(x=s.lanes|s.childLanes,x|=Cu,sn(n,l,x,L,Q,he),n===Kn&&(nn=Kn=null,an=0),Qu=s,Xl=n,ll=l,vm=x,ym=g,vv=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,u3(bt,function(){return Dv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,g=re.p,re.p=2,L=Ln,Ln|=4;try{Jw(n,s,l)}finally{Ln=L,re.p=g,$.T=u}}or=1,kv(),Ov(),Lv()}}function kv(){if(or===1){or=0;var n=Xl,s=Qu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=re.p;re.p=2;var g=Ln;Ln|=4;try{cv(s,n);var x=Dm,L=ja(n.containerInfo),Q=x.focusedElem,he=x.selectionRange;if(L!==Q&&Q&&Q.ownerDocument&&Da(Q.ownerDocument.documentElement,Q)){if(he!==null&&sa(Q)){var Oe=he.start,ze=he.end;if(ze===void 0&&(ze=Oe),"selectionStart"in Q)Q.selectionStart=Oe,Q.selectionEnd=Math.min(ze,Q.value.length);else{var Ye=Q.ownerDocument||document,Le=Ye&&Ye.defaultView||window;if(Le.getSelection){var je=Le.getSelection(),yt=Q.textContent.length,It=Math.min(he.start,yt),Hn=he.end===void 0?It:Math.min(he.end,yt);!je.extend&&It>Hn&&(L=Hn,Hn=It,It=L);var Ae=Dl(Q,It),be=Dl(Q,Hn);if(Ae&&be&&(je.rangeCount!==1||je.anchorNode!==Ae.node||je.anchorOffset!==Ae.offset||je.focusNode!==be.node||je.focusOffset!==be.offset)){var ke=Ye.createRange();ke.setStart(Ae.node,Ae.offset),je.removeAllRanges(),It>Hn?(je.addRange(ke),je.extend(be.node,be.offset)):(ke.setEnd(be.node,be.offset),je.addRange(ke))}}}}for(Ye=[],je=Q;je=je.parentNode;)je.nodeType===1&&Ye.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Ye.length;Q++){var Ue=Ye[Q];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}ep=!!Mm,Dm=Mm=null}finally{Ln=g,re.p=u,$.T=l}}n.current=s,or=2}}function Ov(){if(or===2){or=0;var n=Xl,s=Qu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=re.p;re.p=2;var g=Ln;Ln|=4;try{rv(n,s.alternate,s)}finally{Ln=g,re.p=u,$.T=l}}or=3}}function Lv(){if(or===4||or===3){or=0,pt();var n=Xl,s=Qu,l=ll,u=vv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?or=5:(or=0,Qu=Xl=null,Mv(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Wl=null),En(l),s=s.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Dt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=$.T,g=re.p,re.p=2,$.T=null;try{for(var x=n.onRecoverableError,L=0;L<u.length;L++){var Q=u[L];x(Q.value,{componentStack:Q.stack})}}finally{$.T=s,re.p=g}}(ll&3)!==0&&Pd(),Ao(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===bm?ff++:(ff=0,bm=n):ff=0,df(0)}}function Mv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Hc(s)))}function Pd(){return kv(),Ov(),Lv(),Dv()}function Dv(){if(or!==5)return!1;var n=Xl,s=vm;vm=0;var l=En(ll),u=$.T,g=re.p;try{re.p=32>l?32:l,$.T=null,l=ym,ym=null;var x=Xl,L=ll;if(or=0,Qu=Xl=null,ll=0,(Ln&6)!==0)throw Error(r(331));var Q=Ln;if(Ln|=4,pv(x.current),hv(x,x.current,L,l),Ln=Q,df(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Dt,x)}catch{}return!0}finally{re.p=g,$.T=u,Mv(n,s)}}function jv(n,s,l){s=ls(l,s),s=Q1(n.stateNode,s,2),n=Zt(n,s,2),n!==null&&(ht(n,2),Ao(n))}function Vn(n,s,l){if(n.tag===3)jv(n,n,l);else for(;s!==null;){if(s.tag===3){jv(s,n,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Wl===null||!Wl.has(u))){n=ls(l,n),l=R2(2),u=Zt(s,l,2),u!==null&&(I2(l,u,s,n),ht(u,2),Ao(u));break}}s=s.return}}function wm(n,s,l){var u=n.pingCache;if(u===null){u=n.pingCache=new n3;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(pm=!0,g.add(l),n=o3.bind(null,n,s,l),s.then(n,n))}function o3(n,s,l){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Kn===n&&(an&l)===l&&(Oi===4||Oi===3&&(an&62914560)===an&&300>kt()-Id?(Ln&2)===0&&$u(n,0):mm|=l,Ku===an&&(Ku=0)),Ao(n)}function Rv(n,s){s===0&&(s=cn()),n=Ia(n,s),n!==null&&(ht(n,s),Ao(n))}function l3(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Rv(n,l)}function c3(n,s){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Rv(n,l)}function u3(n,s){return tt(n,s)}var Ud=null,eh=null,Sm=!1,Hd=!1,Am=!1,Kl=0;function Ao(n){n!==eh&&n.next===null&&(eh===null?Ud=eh=n:eh=eh.next=n),Hd=!0,Sm||(Sm=!0,f3())}function df(n,s){if(!Am&&Hd){Am=!0;do for(var l=!1,u=Ud;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var x=0;else{var L=u.suspendedLanes,Q=u.pingedLanes;x=(1<<31-zt(42|n)+1)-1,x&=g&~(L&~Q),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,qv(u,x))}else x=an,x=gt(u,u===Kn?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||Nn(u,x)||(l=!0,qv(u,x));u=u.next}while(l);Am=!1}}function h3(){Iv()}function Iv(){Hd=Sm=!1;var n=0;Kl!==0&&w3()&&(n=Kl);for(var s=kt(),l=null,u=Ud;u!==null;){var g=u.next,x=Vv(u,s);x===0?(u.next=null,l===null?Ud=g:l.next=g,g===null&&(eh=l)):(l=u,(n!==0||(x&3)!==0)&&(Hd=!0)),u=g}or!==0&&or!==5||df(n),Kl!==0&&(Kl=0)}function Vv(n,s){for(var l=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var L=31-zt(x),Q=1<<L,he=g[L];he===-1?((Q&l)===0||(Q&u)!==0)&&(g[L]=$t(Q,s)):he<=s&&(n.expiredLanes|=Q),x&=~Q}if(s=Kn,l=an,l=gt(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===s&&(In===2||In===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&it(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Nn(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(u!==null&&it(u),En(l)){case 2:case 8:l=ct;break;case 32:l=bt;break;case 268435456:l=xt;break;default:l=bt}return u=Bv.bind(null,n),l=tt(l,u),n.callbackPriority=s,n.callbackNode=l,s}return u!==null&&u!==null&&it(u),n.callbackPriority=2,n.callbackNode=null,2}function Bv(n,s){if(or!==0&&or!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Pd()&&n.callbackNode!==l)return null;var u=an;return u=gt(n,n===Kn?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(bv(n,u,s),Vv(n,kt()),n.callbackNode!=null&&n.callbackNode===l?Bv.bind(null,n):null)}function qv(n,s){if(Pd())return null;bv(n,s,!0)}function f3(){A3(function(){(Ln&6)!==0?tt(Ke,h3):Iv()})}function Nm(){if(Kl===0){var n=p;n===0&&(n=rt,rt<<=1,(rt&261888)===0&&(rt=256)),Kl=n}return Kl}function zv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Mr(""+n)}function Fv(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function d3(n,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var x=zv((g[Wn]||null).action),L=u.submitter;L&&(s=(s=L[Wn]||null)?zv(s.formAction):L.getAttribute("formAction"),s!==null&&(x=s,L=null));var Q=new rs("action","action",null,u,g);n.push({event:Q,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Kl!==0){var he=L?Fv(g,L):new FormData(g);G1(l,{pending:!0,data:he,method:g.method,action:x},null,he)}}else typeof x=="function"&&(Q.preventDefault(),he=L?Fv(g,L):new FormData(g),G1(l,{pending:!0,data:he,method:g.method,action:x},x,he))},currentTarget:g}]})}}for(var Cm=0;Cm<Wo.length;Cm++){var Tm=Wo[Cm],p3=Tm.toLowerCase(),m3=Tm[0].toUpperCase()+Tm.slice(1);as(p3,"on"+m3)}as(Yo,"onAnimationEnd"),as(Ic,"onAnimationIteration"),as(Fh,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(md,"onTransitionRun"),as(gd,"onTransitionStart"),as(vd,"onTransitionCancel"),as(Ph,"onTransitionEnd"),va("onMouseEnter",["mouseout","mouseover"]),va("onMouseLeave",["mouseout","mouseover"]),va("onPointerEnter",["pointerout","pointerover"]),va("onPointerLeave",["pointerout","pointerover"]),Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Es("onBeforeInput",["compositionend","keypress","textInput","paste"]),Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pf));function Pv(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],g=u.event;u=u.listeners;e:{var x=void 0;if(s)for(var L=u.length-1;0<=L;L--){var Q=u[L],he=Q.instance,Oe=Q.currentTarget;if(Q=Q.listener,he!==x&&g.isPropagationStopped())break e;x=Q,g.currentTarget=Oe;try{x(g)}catch(ze){Vc(ze)}g.currentTarget=null,x=he}else for(L=0;L<u.length;L++){if(Q=u[L],he=Q.instance,Oe=Q.currentTarget,Q=Q.listener,he!==x&&g.isPropagationStopped())break e;x=Q,g.currentTarget=Oe;try{x(g)}catch(ze){Vc(ze)}g.currentTarget=null,x=he}}}}function rn(n,s){var l=s[ur];l===void 0&&(l=s[ur]=new Set);var u=n+"__bubble";l.has(u)||(Uv(s,n,2,!1),l.add(u))}function Em(n,s,l){var u=0;s&&(u|=4),Uv(l,n,u,s)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function km(n){if(!n[Gd]){n[Gd]=!0,bc.forEach(function(l){l!=="selectionchange"&&(g3.has(l)||Em(l,!1,n),Em(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Gd]||(s[Gd]=!0,Em("selectionchange",!1,s))}}function Uv(n,s,l,u){switch(y5(s)){case 2:var g=H3;break;case 8:g=G3;break;default:g=Hm}l=g.bind(null,s,l,n),g=void 0,!Lc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function Om(n,s,l,u,g){var x=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var L=u.tag;if(L===3||L===4){var Q=u.stateNode.containerInfo;if(Q===g)break;if(L===4)for(L=u.return;L!==null;){var he=L.tag;if((he===3||he===4)&&L.stateNode.containerInfo===g)return;L=L.return}for(;Q!==null;){if(L=Cs(Q),L===null)return;if(he=L.tag,he===5||he===6||he===26||he===27){u=x=L;continue e}Q=Q.parentNode}}u=u.return}_u(function(){var Oe=x,ze=qo(l),Ye=[];e:{var Le=Uh.get(n);if(Le!==void 0){var je=rs,yt=n;switch(n){case"keypress":if(is(l)===0)break e;case"keydown":case"keyup":je=un;break;case"focusin":yt="focus",je=Na;break;case"focusout":yt="blur",je=Na;break;case"beforeblur":case"afterblur":je=Na;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=Aa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=Ii;break;case Yo:case Ic:case Fh:je=_;break;case Ph:je=er;break;case"scroll":case"scrollend":je=Cl;break;case"wheel":je=Ms;break;case"copy":case"cut":case"paste":je=le;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=yi;break;case"toggle":case"beforetoggle":je=Dc}var It=(s&4)!==0,Hn=!It&&(n==="scroll"||n==="scrollend"),Ae=It?Le!==null?Le+"Capture":null:Le;It=[];for(var be=Oe,ke;be!==null;){var Ue=be;if(ke=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||ke===null||Ae===null||(Ue=Yr(be,Ae),Ue!=null&&It.push(mf(be,Ue,ke))),Hn)break;be=be.return}0<It.length&&(Le=new je(Le,yt,null,l,ze),Ye.push({event:Le,listeners:It}))}}if((s&7)===0){e:{if(Le=n==="mouseover"||n==="pointerover",je=n==="mouseout"||n==="pointerout",Le&&l!==ba&&(yt=l.relatedTarget||l.fromElement)&&(Cs(yt)||yt[ji]))break e;if((je||Le)&&(Le=ze.window===ze?ze:(Le=ze.ownerDocument)?Le.defaultView||Le.parentWindow:window,je?(yt=l.relatedTarget||l.toElement,je=Oe,yt=yt?Cs(yt):null,yt!==null&&(Hn=o(yt),It=yt.tag,yt!==Hn||It!==5&&It!==27&&It!==6)&&(yt=null)):(je=null,yt=Oe),je!==yt)){if(It=Mc,Ue="onMouseLeave",Ae="onMouseEnter",be="mouse",(n==="pointerout"||n==="pointerover")&&(It=yi,Ue="onPointerLeave",Ae="onPointerEnter",be="pointer"),Hn=je==null?Le:Vo(je),ke=yt==null?Le:Vo(yt),Le=new It(Ue,be+"leave",je,l,ze),Le.target=Hn,Le.relatedTarget=ke,Ue=null,Cs(ze)===Oe&&(It=new It(Ae,be+"enter",yt,l,ze),It.target=ke,It.relatedTarget=Hn,Ue=It),Hn=Ue,je&&yt)t:{for(It=v3,Ae=je,be=yt,ke=0,Ue=Ae;Ue;Ue=It(Ue))ke++;Ue=0;for(var Mt=be;Mt;Mt=It(Mt))Ue++;for(;0<ke-Ue;)Ae=It(Ae),ke--;for(;0<Ue-ke;)be=It(be),Ue--;for(;ke--;){if(Ae===be||be!==null&&Ae===be.alternate){It=Ae;break t}Ae=It(Ae),be=It(be)}It=null}else It=null;je!==null&&Hv(Ye,Le,je,It,!1),yt!==null&&Hn!==null&&Hv(Ye,Hn,yt,It,!0)}}e:{if(Le=Oe?Vo(Oe):window,je=Le.nodeName&&Le.nodeName.toLowerCase(),je==="select"||je==="input"&&Le.type==="file")var Sn=uo;else if(jc(Le))if(Dr)Sn=ia;else{Sn=bi;var Ct=Ll}else je=Le.nodeName,!je||je.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Oe&&Ec(Oe.elementType)&&(Sn=uo):Sn=Nu;if(Sn&&(Sn=Sn(n,Oe))){Xr(Ye,Sn,l,ze);break e}Ct&&Ct(n,Le,Oe),n==="focusout"&&Oe&&Le.type==="number"&&Oe.memoizedProps.value!=null&&Nc(Le,"number",Le.value)}switch(Ct=Oe?Vo(Oe):window,n){case"focusin":(jc(Ct)||Ct.contentEditable==="true")&&(Zr=Ct,Ra=Oe,hr=null);break;case"focusout":hr=Ra=Zr=null;break;case"mousedown":ss=!0;break;case"contextmenu":case"mouseup":case"dragend":ss=!1,xn(Ye,l,ze);break;case"selectionchange":if(Go)break;case"keydown":case"keyup":xn(Ye,l,ze)}var Kt;if(Js)e:{switch(n){case"compositionstart":var on="onCompositionStart";break e;case"compositionend":on="onCompositionEnd";break e;case"compositionupdate":on="onCompositionUpdate";break e}on=void 0}else ea?co(n,l)&&(on="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(on="onCompositionStart");on&&(Ea&&l.locale!=="ko"&&(ea||on!=="onCompositionStart"?on==="onCompositionEnd"&&ea&&(Kt=wu()):(Wr=ze,Fo="value"in Wr?Wr.value:Wr.textContent,ea=!0)),Ct=Yd(Oe,on),0<Ct.length&&(on=new Se(on,n,null,l,ze),Ye.push({event:on,listeners:Ct}),Kt?on.data=Kt:(Kt=El(l),Kt!==null&&(on.data=Kt)))),(Kt=Ho?wr(n,l):ka(n,l))&&(on=Yd(Oe,"onBeforeInput"),0<on.length&&(Ct=new Se("onBeforeInput","beforeinput",null,l,ze),Ye.push({event:Ct,listeners:on}),Ct.data=Kt)),d3(Ye,n,Oe,l,ze)}Pv(Ye,s)})}function mf(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Yd(n,s){for(var l=s+"Capture",u=[];n!==null;){var g=n,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=Yr(n,l),g!=null&&u.unshift(mf(n,g,x)),g=Yr(n,s),g!=null&&u.push(mf(n,g,x))),n.tag===3)return u;n=n.return}return[]}function v3(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Hv(n,s,l,u,g){for(var x=s._reactName,L=[];l!==null&&l!==u;){var Q=l,he=Q.alternate,Oe=Q.stateNode;if(Q=Q.tag,he!==null&&he===u)break;Q!==5&&Q!==26&&Q!==27||Oe===null||(he=Oe,g?(Oe=Yr(l,x),Oe!=null&&L.unshift(mf(l,Oe,he))):g||(Oe=Yr(l,x),Oe!=null&&L.push(mf(l,Oe,he)))),l=l.return}L.length!==0&&n.push({event:s,listeners:L})}var y3=/\r\n?/g,b3=/\u0000|\uFFFD/g;function Gv(n){return(typeof n=="string"?n:""+n).replace(y3,`
`).replace(b3,"")}function Yv(n,s){return s=Gv(s),Gv(n)===s}function Un(n,s,l,u,g,x){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Os(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Os(n,""+u);break;case"className":ya(n,"class",u);break;case"tabIndex":ya(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ya(n,l,u);break;case"style":yu(n,u,x);break;case"data":if(s!=="object"){ya(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Mr(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(s!=="input"&&Un(n,s,"name",g.name,g,null),Un(n,s,"formEncType",g.formEncType,g,null),Un(n,s,"formMethod",g.formMethod,g,null),Un(n,s,"formTarget",g.formTarget,g,null)):(Un(n,s,"encType",g.encType,g,null),Un(n,s,"method",g.method,g,null),Un(n,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Mr(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=Ls);break;case"onScroll":u!=null&&rn("scroll",n);break;case"onScrollEnd":u!=null&&rn("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=Mr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":rn("beforetoggle",n),rn("toggle",n),Gr(n,"popover",u);break;case"xlinkActuate":ks(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ks(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ks(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ks(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ks(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ks(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ks(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ks(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ks(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=kc.get(l)||l,Gr(n,l,u))}}function Lm(n,s,l,u,g,x){switch(l){case"style":yu(n,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Os(n,u):(typeof u=="number"||typeof u=="bigint")&&Os(n,""+u);break;case"onScroll":u!=null&&rn("scroll",n);break;case"onScrollEnd":u!=null&&rn("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Ls);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),x=n[Wn]||null,x=x!=null?x[l]:null,typeof x=="function"&&n.removeEventListener(s,x,g),typeof u=="function")){typeof x!="function"&&x!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,u,g);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):Gr(n,l,u)}}}function Tr(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rn("error",n),rn("load",n);var u=!1,g=!1,x;for(x in l)if(l.hasOwnProperty(x)){var L=l[x];if(L!=null)switch(x){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Un(n,s,x,L,l,null)}}g&&Un(n,s,"srcSet",l.srcSet,l,null),u&&Un(n,s,"src",l.src,l,null);return;case"input":rn("invalid",n);var Q=x=L=g=null,he=null,Oe=null;for(u in l)if(l.hasOwnProperty(u)){var ze=l[u];if(ze!=null)switch(u){case"name":g=ze;break;case"type":L=ze;break;case"checked":he=ze;break;case"defaultChecked":Oe=ze;break;case"value":x=ze;break;case"defaultValue":Q=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,s));break;default:Un(n,s,u,ze,l,null)}}gu(n,x,Q,he,Oe,L,g,!1);return;case"select":rn("invalid",n),u=L=x=null;for(g in l)if(l.hasOwnProperty(g)&&(Q=l[g],Q!=null))switch(g){case"value":x=Q;break;case"defaultValue":L=Q;break;case"multiple":u=Q;default:Un(n,s,g,Q,l,null)}s=x,l=L,n.multiple=!!u,s!=null?_r(n,!!u,s,!1):l!=null&&_r(n,!!u,l,!0);return;case"textarea":rn("invalid",n),x=g=u=null;for(L in l)if(l.hasOwnProperty(L)&&(Q=l[L],Q!=null))switch(L){case"value":u=Q;break;case"defaultValue":g=Q;break;case"children":x=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:Un(n,s,L,Q,l,null)}Tc(n,u,g,x);return;case"option":for(he in l)if(l.hasOwnProperty(he)&&(u=l[he],u!=null))switch(he){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Un(n,s,he,u,l,null)}return;case"dialog":rn("beforetoggle",n),rn("toggle",n),rn("cancel",n),rn("close",n);break;case"iframe":case"object":rn("load",n);break;case"video":case"audio":for(u=0;u<pf.length;u++)rn(pf[u],n);break;case"image":rn("error",n),rn("load",n);break;case"details":rn("toggle",n);break;case"embed":case"source":case"link":rn("error",n),rn("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in l)if(l.hasOwnProperty(Oe)&&(u=l[Oe],u!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Un(n,s,Oe,u,l,null)}return;default:if(Ec(s)){for(ze in l)l.hasOwnProperty(ze)&&(u=l[ze],u!==void 0&&Lm(n,s,ze,u,l,void 0));return}}for(Q in l)l.hasOwnProperty(Q)&&(u=l[Q],u!=null&&Un(n,s,Q,u,l,null))}function x3(n,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,L=null,Q=null,he=null,Oe=null,ze=null;for(je in l){var Ye=l[je];if(l.hasOwnProperty(je)&&Ye!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":he=Ye;default:u.hasOwnProperty(je)||Un(n,s,je,null,u,Ye)}}for(var Le in u){var je=u[Le];if(Ye=l[Le],u.hasOwnProperty(Le)&&(je!=null||Ye!=null))switch(Le){case"type":x=je;break;case"name":g=je;break;case"checked":Oe=je;break;case"defaultChecked":ze=je;break;case"value":L=je;break;case"defaultValue":Q=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,s));break;default:je!==Ye&&Un(n,s,Le,je,u,Ye)}}Sl(n,L,Q,he,Oe,ze,x,g);return;case"select":je=L=Q=Le=null;for(x in l)if(he=l[x],l.hasOwnProperty(x)&&he!=null)switch(x){case"value":break;case"multiple":je=he;default:u.hasOwnProperty(x)||Un(n,s,x,null,u,he)}for(g in u)if(x=u[g],he=l[g],u.hasOwnProperty(g)&&(x!=null||he!=null))switch(g){case"value":Le=x;break;case"defaultValue":Q=x;break;case"multiple":L=x;default:x!==he&&Un(n,s,g,x,u,he)}s=Q,l=L,u=je,Le!=null?_r(n,!!l,Le,!1):!!u!=!!l&&(s!=null?_r(n,!!l,s,!0):_r(n,!!l,l?[]:"",!1));return;case"textarea":je=Le=null;for(Q in l)if(g=l[Q],l.hasOwnProperty(Q)&&g!=null&&!u.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Un(n,s,Q,null,u,g)}for(L in u)if(g=u[L],x=l[L],u.hasOwnProperty(L)&&(g!=null||x!=null))switch(L){case"value":Le=g;break;case"defaultValue":je=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==x&&Un(n,s,L,g,u,x)}Cc(n,Le,je);return;case"option":for(var yt in l)if(Le=l[yt],l.hasOwnProperty(yt)&&Le!=null&&!u.hasOwnProperty(yt))switch(yt){case"selected":n.selected=!1;break;default:Un(n,s,yt,null,u,Le)}for(he in u)if(Le=u[he],je=l[he],u.hasOwnProperty(he)&&Le!==je&&(Le!=null||je!=null))switch(he){case"selected":n.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:Un(n,s,he,Le,u,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in l)Le=l[It],l.hasOwnProperty(It)&&Le!=null&&!u.hasOwnProperty(It)&&Un(n,s,It,null,u,Le);for(Oe in u)if(Le=u[Oe],je=l[Oe],u.hasOwnProperty(Oe)&&Le!==je&&(Le!=null||je!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,s));break;default:Un(n,s,Oe,Le,u,je)}return;default:if(Ec(s)){for(var Hn in l)Le=l[Hn],l.hasOwnProperty(Hn)&&Le!==void 0&&!u.hasOwnProperty(Hn)&&Lm(n,s,Hn,void 0,u,Le);for(ze in u)Le=u[ze],je=l[ze],!u.hasOwnProperty(ze)||Le===je||Le===void 0&&je===void 0||Lm(n,s,ze,Le,u,je);return}}for(var Ae in l)Le=l[Ae],l.hasOwnProperty(Ae)&&Le!=null&&!u.hasOwnProperty(Ae)&&Un(n,s,Ae,null,u,Le);for(Ye in u)Le=u[Ye],je=l[Ye],!u.hasOwnProperty(Ye)||Le===je||Le==null&&je==null||Un(n,s,Ye,Le,u,je)}function Wv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _3(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],x=g.transferSize,L=g.initiatorType,Q=g.duration;if(x&&Q&&Wv(L)){for(L=0,Q=g.responseEnd,u+=1;u<l.length;u++){var he=l[u],Oe=he.startTime;if(Oe>Q)break;var ze=he.transferSize,Ye=he.initiatorType;ze&&Wv(Ye)&&(he=he.responseEnd,L+=ze*(he<Q?1:(Q-Oe)/(he-Oe)))}if(--u,s+=8*(x+L)/(g.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Mm=null,Dm=null;function Wd(n){return n.nodeType===9?n:n.ownerDocument}function Xv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function jm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rm=null;function w3(){var n=window.event;return n&&n.type==="popstate"?n===Rm?!1:(Rm=n,!0):(Rm=null,!1)}var Kv=typeof setTimeout=="function"?setTimeout:void 0,S3=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,A3=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(n){return Qv.resolve(null).then(n).catch(N3)}:Kv;function N3(n){setTimeout(function(){throw n})}function Ql(n){return n==="head"}function $v(n,s){var l=s,u=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(g),rh(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")gf(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,gf(l);for(var x=l.firstChild;x;){var L=x.nextSibling,Q=x.nodeName;x[Ur]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=L}}else l==="body"&&gf(n.ownerDocument.body);l=g}while(l);rh(s)}function Jv(n,s){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function Im(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Im(l),Xs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function C3(n,s,l,u){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ur])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=ua(n.nextSibling),n===null)break}return null}function T3(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=ua(n.nextSibling),n===null))return null;return n}function e5(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ua(n.nextSibling),n===null))return null;return n}function Vm(n){return n.data==="$?"||n.data==="$~"}function Bm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function E3(n,s){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ua(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var qm=null;function t5(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(s===0)return ua(n.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}n=n.nextSibling}return null}function n5(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return n;s--}else l!=="/$"&&l!=="/&"||s++}n=n.previousSibling}return null}function i5(n,s,l){switch(s=Wd(l),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function gf(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Xs(n)}var ha=new Map,r5=new Set;function Xd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var cl=re.d;re.d={f:k3,r:O3,D:L3,C:M3,L:D3,m:j3,X:I3,S:R3,M:V3};function k3(){var n=cl.f(),s=qd();return n||s}function O3(n){var s=Ts(n);s!==null&&s.tag===5&&s.type==="form"?_2(s):cl.r(n)}var th=typeof document>"u"?null:document;function s5(n,s,l){var u=th;if(u&&typeof s=="string"&&s){var g=Si(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),r5.has(g)||(r5.add(g),n={rel:n,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),Tr(s,"link",n),vi(s),u.head.appendChild(s)))}}function L3(n){cl.D(n),s5("dns-prefetch",n,null)}function M3(n,s){cl.C(n,s),s5("preconnect",n,s)}function D3(n,s,l){cl.L(n,s,l);var u=th;if(u&&n&&s){var g='link[rel="preload"][as="'+Si(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Si(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Si(l.imageSizes)+'"]')):g+='[href="'+Si(n)+'"]';var x=g;switch(s){case"style":x=nh(n);break;case"script":x=ih(n)}ha.has(x)||(n=b({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),ha.set(x,n),u.querySelector(g)!==null||s==="style"&&u.querySelector(vf(x))||s==="script"&&u.querySelector(yf(x))||(s=u.createElement("link"),Tr(s,"link",n),vi(s),u.head.appendChild(s)))}}function j3(n,s){cl.m(n,s);var l=th;if(l&&n){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Si(u)+'"][href="'+Si(n)+'"]',x=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ih(n)}if(!ha.has(x)&&(n=b({rel:"modulepreload",href:n},s),ha.set(x,n),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(yf(x)))return}u=l.createElement("link"),Tr(u,"link",n),vi(u),l.head.appendChild(u)}}}function R3(n,s,l){cl.S(n,s,l);var u=th;if(u&&n){var g=Zs(u).hoistableStyles,x=nh(n);s=s||"default";var L=g.get(x);if(!L){var Q={loading:0,preload:null};if(L=u.querySelector(vf(x)))Q.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},l),(l=ha.get(x))&&zm(n,l);var he=L=u.createElement("link");vi(he),Tr(he,"link",n),he._p=new Promise(function(Oe,ze){he.onload=Oe,he.onerror=ze}),he.addEventListener("load",function(){Q.loading|=1}),he.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Zd(L,s,u)}L={type:"stylesheet",instance:L,count:1,state:Q},g.set(x,L)}}}function I3(n,s){cl.X(n,s);var l=th;if(l&&n){var u=Zs(l).hoistableScripts,g=ih(n),x=u.get(g);x||(x=l.querySelector(yf(g)),x||(n=b({src:n,async:!0},s),(s=ha.get(g))&&Fm(n,s),x=l.createElement("script"),vi(x),Tr(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function V3(n,s){cl.M(n,s);var l=th;if(l&&n){var u=Zs(l).hoistableScripts,g=ih(n),x=u.get(g);x||(x=l.querySelector(yf(g)),x||(n=b({src:n,async:!0,type:"module"},s),(s=ha.get(g))&&Fm(n,s),x=l.createElement("script"),vi(x),Tr(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function a5(n,s,l,u){var g=(g=oe.current)?Xd(g):null;if(!g)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=nh(l.href),l=Zs(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=nh(l.href);var x=Zs(g).hoistableStyles,L=x.get(n);if(L||(g=g.ownerDocument||g,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,L),(x=g.querySelector(vf(n)))&&!x._p&&(L.instance=x,L.state.loading=5),ha.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ha.set(n,l),x||B3(g,n,l,L.state))),s&&u===null)throw Error(r(528,""));return L}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ih(l),l=Zs(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function nh(n){return'href="'+Si(n)+'"'}function vf(n){return'link[rel="stylesheet"]['+n+"]"}function o5(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function B3(n,s,l,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Tr(s,"link",l),vi(s),n.head.appendChild(s))}function ih(n){return'[src="'+Si(n)+'"]'}function yf(n){return"script[async]"+n}function l5(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Si(l.href)+'"]');if(u)return s.instance=u,vi(u),u;var g=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),vi(u),Tr(u,"style",g),Zd(u,l.precedence,n),s.instance=u;case"stylesheet":g=nh(l.href);var x=n.querySelector(vf(g));if(x)return s.state.loading|=4,s.instance=x,vi(x),x;u=o5(l),(g=ha.get(g))&&zm(u,g),x=(n.ownerDocument||n).createElement("link"),vi(x);var L=x;return L._p=new Promise(function(Q,he){L.onload=Q,L.onerror=he}),Tr(x,"link",u),s.state.loading|=4,Zd(x,l.precedence,n),s.instance=x;case"script":return x=ih(l.src),(g=n.querySelector(yf(x)))?(s.instance=g,vi(g),g):(u=l,(g=ha.get(x))&&(u=b({},l),Fm(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),vi(g),Tr(g,"link",u),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Zd(u,l.precedence,n));return s.instance}function Zd(n,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,x=g,L=0;L<u.length;L++){var Q=u[L];if(Q.dataset.precedence===s)x=Q;else if(x!==g)break}x?x.parentNode.insertBefore(n,x.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function zm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Fm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Kd=null;function c5(n,s,l){if(Kd===null){var u=new Map,g=Kd=new Map;g.set(l,u)}else g=Kd,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var x=l[g];if(!(x[Ur]||x[wn]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var L=x.getAttribute(s)||"";L=n+L;var Q=u.get(L);Q?Q.push(x):u.set(L,[x])}}return u}function u5(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function q3(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function h5(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function z3(n,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=nh(u.href),x=s.querySelector(vf(g));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Qd.bind(n),s.then(n,n)),l.state.loading|=4,l.instance=x,vi(x);return}x=s.ownerDocument||s,u=o5(u),(g=ha.get(g))&&zm(u,g),x=x.createElement("link"),vi(x);var L=x;L._p=new Promise(function(Q,he){L.onload=Q,L.onerror=he}),Tr(x,"link",u),l.instance=x}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Qd.bind(n),s.addEventListener("load",l),s.addEventListener("error",l))}}var Pm=0;function F3(n,s){return n.stylesheets&&n.count===0&&Jd(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&Jd(n,n.stylesheets),n.unsuspend){var x=n.unsuspend;n.unsuspend=null,x()}},6e4+s);0<n.imgBytes&&Pm===0&&(Pm=62500*_3());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Jd(n,n.stylesheets),n.unsuspend)){var x=n.unsuspend;n.unsuspend=null,x()}},(n.imgBytes>Pm?50:800)+s);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Qd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $d=null;function Jd(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$d=new Map,s.forEach(P3,n),$d=null,Qd.call(n))}function P3(n,s){if(!(s.state.loading&4)){var l=$d.get(n);if(l)var u=l.get(null);else{l=new Map,$d.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var L=g[x];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(l.set(L.dataset.precedence,L),u=L)}u&&l.set(null,u)}g=s.instance,L=g.getAttribute("data-precedence"),x=l.get(L)||u,x===u&&l.set(null,g),l.set(L,g),this.count++,u=Qd.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),x?x.parentNode.insertBefore(g,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var bf={$$typeof:z,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function U3(n,s,l,u,g,x,L,Q,he){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cn(0),this.hiddenUpdates=Cn(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function f5(n,s,l,u,g,x,L,Q,he,Oe,ze,Ye){return n=new U3(n,s,l,L,he,Oe,ze,Ye,Q),s=1,x===!0&&(s|=24),x=dr(3,null,null,s),n.current=x,x.stateNode=n,s=ql(),s.refCount++,n.pooledCache=s,s.refCount++,x.memoizedState={element:u,isDehydrated:l,cache:s},at(x),n}function d5(n){return n?(n=nr,n):nr}function p5(n,s,l,u,g,x){g=d5(g),u.context===null?u.context=g:u.pendingContext=g,u=Rt(s),u.payload={element:l},x=x===void 0?null:x,x!==null&&(u.callback=x),l=Zt(n,u,s),l!==null&&(bs(l,n,s),kn(l,n,s))}function m5(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function Um(n,s){m5(n,s),(n=n.alternate)&&m5(n,s)}function g5(n){if(n.tag===13||n.tag===31){var s=Ia(n,67108864);s!==null&&bs(s,n,67108864),Um(n,67108864)}}function v5(n){if(n.tag===13||n.tag===31){var s=zs();s=Jt(s);var l=Ia(n,s);l!==null&&bs(l,n,s),Um(n,s)}}var ep=!0;function H3(n,s,l,u){var g=$.T;$.T=null;var x=re.p;try{re.p=2,Hm(n,s,l,u)}finally{re.p=x,$.T=g}}function G3(n,s,l,u){var g=$.T;$.T=null;var x=re.p;try{re.p=8,Hm(n,s,l,u)}finally{re.p=x,$.T=g}}function Hm(n,s,l,u){if(ep){var g=Gm(u);if(g===null)Om(n,s,u,tp,l),b5(n,u);else if(W3(g,n,s,l,u))u.stopPropagation();else if(b5(n,u),s&4&&-1<Y3.indexOf(n)){for(;g!==null;){var x=Ts(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var L=Je(x.pendingLanes);if(L!==0){var Q=x;for(Q.pendingLanes|=2,Q.entangledLanes|=2;L;){var he=1<<31-zt(L);Q.entanglements[1]|=he,L&=~he}Ao(x),(Ln&6)===0&&(Vd=kt()+500,df(0))}}break;case 31:case 13:Q=Ia(x,2),Q!==null&&bs(Q,x,2),qd(),Um(x,2)}if(x=Gm(u),x===null&&Om(n,s,u,tp,l),x===g)break;g=x}g!==null&&u.stopPropagation()}else Om(n,s,u,null,l)}}function Gm(n){return n=qo(n),Ym(n)}var tp=null;function Ym(n){if(tp=null,n=Cs(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=h(s),n!==null)return n;n=null}else if(l===31){if(n=c(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return tp=n,null}function y5(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case Ke:return 2;case ct:return 8;case bt:case ot:return 32;case xt:return 268435456;default:return 32}default:return 32}}var Wm=!1,$l=null,Jl=null,ec=null,xf=new Map,_f=new Map,tc=[],Y3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b5(n,s){switch(n){case"focusin":case"focusout":$l=null;break;case"dragenter":case"dragleave":Jl=null;break;case"mouseover":case"mouseout":ec=null;break;case"pointerover":case"pointerout":xf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_f.delete(s.pointerId)}}function wf(n,s,l,u,g,x){return n===null||n.nativeEvent!==x?(n={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:x,targetContainers:[g]},s!==null&&(s=Ts(s),s!==null&&g5(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function W3(n,s,l,u,g){switch(s){case"focusin":return $l=wf($l,n,s,l,u,g),!0;case"dragenter":return Jl=wf(Jl,n,s,l,u,g),!0;case"mouseover":return ec=wf(ec,n,s,l,u,g),!0;case"pointerover":var x=g.pointerId;return xf.set(x,wf(xf.get(x)||null,n,s,l,u,g)),!0;case"gotpointercapture":return x=g.pointerId,_f.set(x,wf(_f.get(x)||null,n,s,l,u,g)),!0}return!1}function x5(n){var s=Cs(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=h(l),s!==null){n.blockedOn=s,$i(n.priority,function(){v5(l)});return}}else if(s===31){if(s=c(l),s!==null){n.blockedOn=s,$i(n.priority,function(){v5(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function np(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Gm(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);ba=u,l.target.dispatchEvent(u),ba=null}else return s=Ts(l),s!==null&&g5(s),n.blockedOn=l,!1;s.shift()}return!0}function _5(n,s,l){np(n)&&l.delete(s)}function X3(){Wm=!1,$l!==null&&np($l)&&($l=null),Jl!==null&&np(Jl)&&(Jl=null),ec!==null&&np(ec)&&(ec=null),xf.forEach(_5),_f.forEach(_5)}function ip(n,s){n.blockedOn===s&&(n.blockedOn=null,Wm||(Wm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,X3)))}var rp=null;function w5(n){rp!==n&&(rp=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){rp===n&&(rp=null);for(var s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],g=n[s+2];if(typeof u!="function"){if(Ym(u||l)===null)continue;break}var x=Ts(l);x!==null&&(n.splice(s,3),s-=3,G1(x,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function rh(n){function s(he){return ip(he,n)}$l!==null&&ip($l,n),Jl!==null&&ip(Jl,n),ec!==null&&ip(ec,n),xf.forEach(s),_f.forEach(s);for(var l=0;l<tc.length;l++){var u=tc[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<tc.length&&(l=tc[0],l.blockedOn===null);)x5(l),l.blockedOn===null&&tc.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],x=l[u+1],L=g[Wn]||null;if(typeof x=="function")L||w5(l);else if(L){var Q=null;if(x&&x.hasAttribute("formAction")){if(g=x,L=x[Wn]||null)Q=L.formAction;else if(Ym(g)!==null)continue}else Q=L.action;typeof Q=="function"?l[u+1]=Q:(l.splice(u,3),u-=3),w5(l)}}}function S5(){function n(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(L){return g=L})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function Xm(n){this._internalRoot=n}sp.prototype.render=Xm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=zs();p5(l,u,n,s,null,null)},sp.prototype.unmount=Xm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;p5(n.current,2,null,n,null,null),qd(),s[ji]=null}};function sp(n){this._internalRoot=n}sp.prototype.unstable_scheduleHydration=function(n){if(n){var s=Dn();n={blockedOn:null,target:n,priority:s};for(var l=0;l<tc.length&&s!==0&&s<tc[l].priority;l++);tc.splice(l,0,n),l===0&&x5(n)}};var A5=e.version;if(A5!=="19.2.0")throw Error(r(527,A5,"19.2.0"));re.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=d(s),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var Z3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ap.isDisabled&&ap.supportsFiber)try{Dt=ap.inject(Z3),St=ap}catch{}}return Af.createRoot=function(n,s){if(!a(n))throw Error(r(299));var l=!1,u="",g=L2,x=M2,L=D2;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(L=s.onRecoverableError)),s=f5(n,1,!1,null,null,l,u,null,g,x,L,S5),n[ji]=s.current,km(n),new Xm(s)},Af.hydrateRoot=function(n,s,l){if(!a(n))throw Error(r(299));var u=!1,g="",x=L2,L=M2,Q=D2,he=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(L=l.onCaughtError),l.onRecoverableError!==void 0&&(Q=l.onRecoverableError),l.formState!==void 0&&(he=l.formState)),s=f5(n,1,!0,s,l??null,u,g,he,x,L,Q,S5),s.context=d5(null),l=s.current,u=zs(),u=Jt(u),g=Rt(u),g.callback=null,Zt(l,g,u),l=u,s.current.lanes=l,ht(s,l),Ao(s),n[ji]=s.current,km(n),new sp(s)},Af.version="19.2.0",Af}var j5;function r4(){if(j5)return Qm.exports;j5=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Qm.exports=i4(),Qm.exports}var s4=r4();const R5=i=>{let e;const t=new Set,r=(d,m)=>{const b=typeof d=="function"?d(e):d;if(!Object.is(b,e)){const w=e;e=m??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(y=>y(e,w))}},a=()=>e,c={setState:r,getState:a,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=i(r,a,c);return c},a4=(i=>i?R5(i):R5),o4=i=>i;function l4(i,e=o4){const t=pn.useSyncExternalStore(i.subscribe,pn.useCallback(()=>e(i.getState()),[i,e]),pn.useCallback(()=>e(i.getInitialState()),[i,e]));return pn.useDebugValue(t),t}const c4=i=>{const e=a4(i),t=r=>l4(e,r);return Object.assign(t,e),t},u4=(i=>c4);function h4(i,e){let t;try{t=i()}catch{return}return{getItem:a=>{var o;const h=f=>f===null?null:JSON.parse(f,void 0),c=(o=t.getItem(a))!=null?o:null;return c instanceof Promise?c.then(h):h(c)},setItem:(a,o)=>t.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>t.removeItem(a)}}const L0=i=>e=>{try{const t=i(e);return t instanceof Promise?t:{then(r){return L0(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return L0(r)(t)}}}},f4=(i,e)=>(t,r,a)=>{let o={storage:h4(()=>localStorage),partialize:N=>N,version:0,merge:(N,k)=>({...k,...N}),...e},h=!1;const c=new Set,f=new Set;let d=o.storage;if(!d)return i((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...N)},r,a);const m=()=>{const N=o.partialize({...r()});return d.setItem(o.name,{state:N,version:o.version})},b=a.setState;a.setState=(N,k)=>(b(N,k),m());const w=i((...N)=>(t(...N),m()),r,a);a.getInitialState=()=>w;let y;const A=()=>{var N,k;if(!d)return;h=!1,c.forEach(F=>{var z;return F((z=r())!=null?z:w)});const C=((k=o.onRehydrateStorage)==null?void 0:k.call(o,(N=r())!=null?N:w))||void 0;return L0(d.getItem.bind(d))(o.name).then(F=>{if(F)if(typeof F.version=="number"&&F.version!==o.version){if(o.migrate){const z=o.migrate(F.state,F.version);return z instanceof Promise?z.then(V=>[!0,V]):[!0,z]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,F.state];return[!1,void 0]}).then(F=>{var z;const[V,I]=F;if(y=o.merge(I,(z=r())!=null?z:w),t(y,!0),V)return m()}).then(()=>{C?.(y,void 0),y=r(),h=!0,f.forEach(F=>F(y))}).catch(F=>{C?.(void 0,F)})};return a.persist={setOptions:N=>{o={...o,...N},N.storage&&(d=N.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>A(),hasHydrated:()=>h,onHydrate:N=>(c.add(N),()=>{c.delete(N)}),onFinishHydration:N=>(f.add(N),()=>{f.delete(N)})},o.skipHydration||A(),y||w},d4=f4,Jc=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Lf=["C","G","D","A","E","B","F#","Db","Ab","Eb","Bb","F"],p4=[{major:"C",ii:"Dm",iii:"Em",diminished:"B"},{major:"G",ii:"Am",iii:"Bm",diminished:"F#"},{major:"D",ii:"Em",iii:"F#m",diminished:"C#"},{major:"A",ii:"Bm",iii:"C#m",diminished:"G#"},{major:"E",ii:"F#m",iii:"G#m",diminished:"D#"},{major:"B",ii:"C#m",iii:"D#m",diminished:"A#"},{major:"F#",ii:"G#m",iii:"A#m",diminished:"E#"},{major:"Db",ii:"Ebm",iii:"Fm",diminished:"C"},{major:"Ab",ii:"Bbm",iii:"Cm",diminished:"G"},{major:"Eb",ii:"Fm",iii:"Gm",diminished:"D"},{major:"Bb",ii:"Cm",iii:"Dm",diminished:"A"},{major:"F",ii:"Gm",iii:"Am",diminished:"E"}];function pl(i){return i.includes("b")&&{Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#",Cb:"B",Fb:"E"}[i]||i}const m4={7:"dominant7",9:"dominant9",11:"dominant11",13:"dominant13",maj7:"major7",maj9:"major9",maj11:"major11",maj13:"major13",6:"major6",add9:"add9",m7:"minor7",m9:"minor9",m11:"minor11",m13:"minor13",m6:"minor6",dim:"diminished",dim7:"diminished7",m7b5:"halfDiminished7","m75":"halfDiminished7",7:"halfDiminished7",sus2:"sus2",sus4:"sus4","7sus4":"dominant7sus4"},g4={major:[0,4,7],minor:[0,3,7],diminished:[0,3,6],augmented:[0,4,8],sus2:[0,2,7],sus4:[0,5,7],major6:[0,4,7,9],minor6:[0,3,7,9],major7:[0,4,7,11],minor7:[0,3,7,10],dominant7:[0,4,7,10],diminished7:[0,3,6,9],halfDiminished7:[0,3,6,10],dominant7sus4:[0,5,7,10],add9:[0,4,7,14],major9:[0,4,7,11,14],minor9:[0,3,7,10,14],dominant9:[0,4,7,10,14],major11:[0,4,7,11,14,17],minor11:[0,3,7,10,14,17],dominant11:[0,4,7,10,14,17],major13:[0,4,7,11,14,21],minor13:[0,3,7,10,14,21],dominant13:[0,4,7,10,14,21]};function fh(i,e){const t=pl(i),r=Jc.indexOf(t);if(r===-1)return[];const a=m4[e]||e,o=g4[a];return o?o.map(h=>Jc[(r+h)%12]):(console.warn(`Unknown chord quality: ${e} (resolved to ${a})`),Jc.slice(r,r+1).concat([Jc[(r+4)%12],Jc[(r+7)%12]]))}function v4(i){const e=["G","D","A","E","B","F#","C#"],t=["F","Bb","Eb","Ab","Db","Gb","Cb"],r=e.indexOf(i),a=t.indexOf(i);return r>=0?{sharps:r+1,flats:0}:a>=0?{sharps:0,flats:a+1}:{sharps:0,flats:0}}function ag(){return{C:"hsl(48, 95%, 58%)",G:"hsl(72, 75%, 50%)",D:"hsl(95, 65%, 48%)",A:"hsl(160, 60%, 45%)",E:"hsl(185, 70%, 50%)",B:"hsl(205, 75%, 55%)","F#":"hsl(235, 60%, 58%)",Gb:"hsl(235, 60%, 58%)",Db:"hsl(265, 55%, 55%)",Ab:"hsl(285, 50%, 52%)",Eb:"hsl(315, 60%, 55%)",Bb:"hsl(350, 70%, 58%)",F:"hsl(28, 85%, 55%)"}}function y4(i,e){const t=pl(i),r=pl(e),a=Jc.indexOf(t),o=Jc.indexOf(r);if(a===-1||o===-1)return"?";let h=(o-a+12)%12;return{0:"1",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[h]||"?"}function b4(i){const e=i.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);return e?parseInt(e[3])>55?"#000000":"#ffffff":"#000000"}const kr=[];for(let i=0;i<256;++i)kr.push((i+256).toString(16).slice(1));function x4(i,e=0){return(kr[i[e+0]]+kr[i[e+1]]+kr[i[e+2]]+kr[i[e+3]]+"-"+kr[i[e+4]]+kr[i[e+5]]+"-"+kr[i[e+6]]+kr[i[e+7]]+"-"+kr[i[e+8]]+kr[i[e+9]]+"-"+kr[i[e+10]]+kr[i[e+11]]+kr[i[e+12]]+kr[i[e+13]]+kr[i[e+14]]+kr[i[e+15]]).toLowerCase()}let t0;const _4=new Uint8Array(16);function w4(){if(!t0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t0=crypto.getRandomValues.bind(crypto)}return t0(_4)}const S4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),I5={randomUUID:S4};function A4(i,e,t){i=i||{};const r=i.random??i.rng?.()??w4();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,x4(r)}function Ga(i,e,t){return I5.randomUUID&&!i?I5.randomUUID():A4(i)}const _s=[4,4],M0=(i=_s)=>{const[e,t]=i;return!e||!t?4:e*(4/t)},dh=i=>{const e=M0(i);return{id:Ga(),beats:[{id:Ga(),chord:null,duration:e}]}},No=i=>i?`${i.sectionId}:${i.slotId}`:"",og=i=>{const e=[];return i.forEach(t=>{t.measures.forEach(r=>{r.beats.forEach(a=>{e.push({sectionId:t.id,slotId:a.id,chord:a.chord??null})})})}),e},Qc=(i,e)=>{if(!e)return null;for(const t of i)if(t.id===e.sectionId){for(const r of t.measures)for(const a of r.beats)if(a.id===e.slotId)return a.chord??null}return null},V5=(i,e)=>e?og(i).findIndex(r=>r.sectionId===e.sectionId&&r.slotId===e.slotId):-1,N4=(i,e,t)=>{const r=og(i),a=r.findIndex(f=>f.sectionId===e.sectionId&&f.slotId===e.slotId),o=r.findIndex(f=>f.sectionId===t.sectionId&&f.slotId===t.slotId);if(a===-1||o===-1)return[];const[h,c]=a<=o?[a,o]:[o,a];return r.slice(h,c+1).map(({sectionId:f,slotId:d})=>({sectionId:f,slotId:d}))},Sp=(i,e)=>e?i.some(t=>t.id===e.sectionId&&t.measures.some(r=>r.beats.some(a=>a.id===e.slotId))):!1,lh=(i,e,t,r,a)=>{const o=e&&t?{sectionId:e,slotId:t}:null,h=r.filter(m=>Sp(i,m)),c=Sp(i,o),f=h[h.length-1]||(c?o:null),d=a&&Sp(i,a);return{selectedSectionId:f?.sectionId??null,selectedSlotId:f?.slotId??null,selectedSlots:h,selectionAnchor:d?a:h[0]??f??null}},D0=100,kf=i=>typeof structuredClone=="function"?structuredClone(i):JSON.parse(JSON.stringify(i)),Er=i=>{const e=kf(i.currentSong),t=[...i.historyPast,e].slice(-D0);return{historyPast:t,historyFuture:[],canUndo:t.length>0,canRedo:!1}},B5=(i,e,t,r,a)=>{const o=lh(i.sections,e,t,r,a),h=o.selectedSectionId&&o.selectedSlotId?{sectionId:o.selectedSectionId,slotId:o.selectedSlotId}:null,c=h?Qc(i.sections,h):null;return{...o,selectedChord:c}},C4=(i,e,t)=>{let r=!1;for(const a of i)for(const o of a.measures)for(const h of o.beats){if(r)return{sectionId:a.id,slotId:h.id};a.id===e&&h.id===t&&(r=!0)}return null},Nf={id:"default",title:"Untitled Song",artist:"",key:"C",tempo:120,timeSignature:[4,4],sections:[{id:"verse-1",name:"Verse 1",type:"verse",timeSignature:_s,measures:Array(4).fill(null).map(()=>dh(_s))},{id:"chorus-1",name:"Chorus",type:"chorus",timeSignature:_s,measures:Array(4).fill(null).map(()=>dh(_s))}],notes:"",createdAt:new Date,updatedAt:new Date},Di=u4()(d4(i=>({currentSong:Nf,historyPast:[],historyFuture:[],canUndo:!1,canRedo:!1,selectedKey:"C",wheelRotation:0,wheelMode:"fixed",chordPanelVisible:!0,timelineVisible:!0,collapsedSections:{},selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,isPlaying:!1,playingSectionId:null,playingSlotId:null,isLooping:!1,tempo:120,volume:.8,instrument:"piano",isMuted:!1,setKey:e=>i({selectedKey:e}),rotateWheel:e=>i(t=>({wheelRotation:t.wheelMode==="rotating"?t.wheelRotation+(e==="cw"?-30:30):0})),toggleWheelMode:()=>i(e=>{const t=e.wheelMode==="rotating"?"fixed":"rotating";let r=0;if(t==="rotating"){const a=Lf.indexOf(e.selectedKey);a!==-1&&(r=-(a*30))}return{wheelMode:t,wheelRotation:r}}),toggleChordPanel:()=>i(e=>({chordPanelVisible:!e.chordPanelVisible})),toggleTimeline:()=>i(e=>({timelineVisible:!e.timelineVisible})),toggleSectionCollapsed:e=>i(t=>{const r={...t.collapsedSections,[e]:!t.collapsedSections?.[e]};return r[e]||delete r[e],{collapsedSections:r}}),setSelectedChord:e=>i({selectedChord:e}),setSelectedSlot:(e,t)=>i(r=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,selectedChord:null};const a={sectionId:e,slotId:t},o=Qc(r.currentSong.sections,a);return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[a],selectionAnchor:a,selectedChord:o??null}}),setSelectedSlots:e=>i(t=>{const r=e.filter(Boolean),a=r[r.length-1]??null,o=Qc(t.currentSong.sections,a);return{selectedSlots:r,selectedSectionId:a?.sectionId??null,selectedSlotId:a?.slotId??null,selectionAnchor:r[0]??a??null,selectedChord:o??null}}),toggleSlotSelection:(e,t)=>i(r=>{const a=r.selectedSlots.some(d=>d.sectionId===e&&d.slotId===t),o=a?r.selectedSlots.filter(d=>!(d.sectionId===e&&d.slotId===t)):[...r.selectedSlots,{sectionId:e,slotId:t}],h=o[o.length-1]??null,c=Qc(r.currentSong.sections,h),f=a&&r.selectionAnchor&&No(r.selectionAnchor)===No({sectionId:e,slotId:t});return{selectedSlots:o,selectedSectionId:h?.sectionId??null,selectedSlotId:h?.slotId??null,selectionAnchor:f?o[0]??h??null:r.selectionAnchor??h??null,selectedChord:c??null}}),selectRangeTo:(e,t)=>i(r=>{const a={sectionId:e,slotId:t},o=r.selectionAnchor||r.selectedSlots[r.selectedSlots.length-1]||(r.selectedSectionId&&r.selectedSlotId?{sectionId:r.selectedSectionId,slotId:r.selectedSlotId}:a),c=Sp(r.currentSong.sections,o)?o:a,f=N4(r.currentSong.sections,c,a),d=f.length?f:[a],m=Qc(r.currentSong.sections,a);return{selectedSlots:d,selectedSectionId:a.sectionId,selectedSlotId:a.slotId,selectionAnchor:c,selectedChord:m??null}}),moveSelection:(e,t,r="move")=>{let a=!1;return i(o=>{const h=og(o.currentSong.sections),c=V5(o.currentSong.sections,e),f=V5(o.currentSong.sections,t);if(c===-1||f===-1)return{};const m=(o.selectedSlots.length?o.selectedSlots:[e]).map(D=>{const R=h.findIndex(K=>K.sectionId===D.sectionId&&K.slotId===D.slotId);return R>=0?{idx:R,slot:h[R]}:null}).filter(D=>!!D).sort((D,R)=>D.idx-R.idx);if(!m.length)return{};const b=f-c,w=m.map(({idx:D})=>D+b);if(w.some(D=>D<0||D>=h.length))return{};const y=w.map(D=>h[D]);if(m.length===1&&r==="move"){const D=m[0].slot,R=y[0],K=Er(o),E=o.currentSong.sections.map($=>({...$,measures:$.measures.map(re=>({...re,beats:re.beats.map(ce=>ce.id===D.slotId&&$.id===D.sectionId?{...ce,chord:R.chord}:ce.id===R.slotId&&$.id===R.sectionId?{...ce,chord:D.chord}:ce)}))}));a=!0;const j=o.selectionAnchor&&No(o.selectionAnchor)===No(e),P=lh(E,t.sectionId,t.slotId,[{sectionId:R.sectionId,slotId:R.slotId}],j?{sectionId:R.sectionId,slotId:R.slotId}:o.selectionAnchor),J=P.selectedSectionId&&P.selectedSlotId?{sectionId:P.selectedSectionId,slotId:P.selectedSlotId}:null,ue=Qc(E,J);return{...K,currentSong:{...o.currentSong,sections:E},selectedSectionId:P.selectedSectionId,selectedSlotId:P.selectedSlotId,selectedSlots:P.selectedSlots,selectionAnchor:P.selectionAnchor,selectedChord:ue??null}}const A=new Map;m.forEach((D,R)=>{A.set(No(y[R]),D.slot.chord??null)});const N=new Set;r==="move"&&m.forEach((D,R)=>{const K=No(D.slot),E=No(y[R]);K!==E&&N.add(K)});const k=Er(o),C=o.currentSong.sections.map(D=>({...D,measures:D.measures.map(R=>({...R,beats:R.beats.map(K=>{const E=No({sectionId:D.id,slotId:K.id});return A.has(E)?{...K,chord:A.get(E)??null}:N.has(E)?{...K,chord:null}:K})}))}));a=!0;const F=No(o.selectionAnchor),z=m.find(D=>No(D.slot)===F),V=z?{sectionId:y[m.indexOf(z)].sectionId,slotId:y[m.indexOf(z)].slotId}:o.selectionAnchor,I=lh(C,t.sectionId,t.slotId,y.map(D=>({sectionId:D.sectionId,slotId:D.slotId})),V??null),Z=I.selectedSectionId&&I.selectedSlotId?{sectionId:I.selectedSectionId,slotId:I.selectedSlotId}:null,G=Qc(C,Z);return{...k,currentSong:{...o.currentSong,sections:C},selectedSectionId:I.selectedSectionId,selectedSlotId:I.selectedSlotId,selectedSlots:I.selectedSlots,selectionAnchor:I.selectionAnchor,selectedChord:G??null}}),a},selectNextSlotAfter:(e,t)=>{let r=!1;return i(a=>{const o=C4(a.currentSong.sections,e,t);if(!o)return{};const h=a.currentSong.sections.find(c=>c.id===o.sectionId)?.measures.flatMap(c=>c.beats).find(c=>c.id===o.slotId)?.chord??null;return r=!0,{selectedSectionId:o.sectionId,selectedSlotId:o.slotId,selectedChord:h,selectedSlots:[{sectionId:o.sectionId,slotId:o.slotId}],selectionAnchor:{sectionId:o.sectionId,slotId:o.slotId}}}),r},setTempo:e=>i(t=>({...Er(t),tempo:e,currentSong:{...t.currentSong,tempo:e}})),setVolume:e=>i({volume:e}),setInstrument:e=>i({instrument:e}),setIsPlaying:e=>i({isPlaying:e}),setPlayingSlot:(e,t)=>i({playingSectionId:e,playingSlotId:t}),toggleLoop:()=>i(e=>({isLooping:!e.isLooping})),toggleMute:()=>i(e=>({isMuted:!e.isMuted})),setTitle:e=>i(t=>({...Er(t),currentSong:{...t.currentSong,title:e}})),loadSong:e=>i(t=>{const r=e.key||"C",a=e.tempo??Nf.tempo;let o=0;if(t.wheelMode==="rotating"){const c=Lf.indexOf(r);c!==-1&&(o=-(c*30))}return{...Er(t),currentSong:{...e,tempo:a},selectedKey:r,wheelRotation:o,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:a}}),newSong:()=>i(e=>({...Er(e),currentSong:{...Nf,id:Ga(),title:"Untitled Song",createdAt:new Date,updatedAt:new Date,tempo:Nf.tempo,sections:[{id:Ga(),name:"Verse 1",type:"verse",timeSignature:_s,measures:Array(4).fill(null).map(()=>dh(_s))},{id:Ga(),name:"Chorus",type:"chorus",timeSignature:_s,measures:Array(4).fill(null).map(()=>dh(_s))}]},selectedKey:"C",wheelRotation:0,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:Nf.tempo})),addSection:e=>i(t=>{const r={id:Ga(),name:e.charAt(0).toUpperCase()+e.slice(1),type:e,timeSignature:t.currentSong.timeSignature||_s,measures:Array(4).fill(null).map(()=>dh(t.currentSong.timeSignature||_s))};return{...Er(t),currentSong:{...t.currentSong,sections:[...t.currentSong.sections,r]}}}),updateSection:(e,t)=>i(r=>({...Er(r),currentSong:{...r.currentSong,sections:r.currentSong.sections.map(o=>o.id===e?{...o,...t}:o)}})),removeSection:e=>i(t=>{const r=Er(t),{[e]:a,...o}=t.collapsedSections||{};return{...r,currentSong:{...t.currentSong,sections:t.currentSong.sections.filter(h=>h.id!==e)},collapsedSections:o}}),duplicateSection:e=>i(t=>{const r=t.currentSong.sections.find(f=>f.id===e);if(!r)return{};const a=Er(t),o={...r,id:Ga(),name:`${r.name} (Copy)`,timeSignature:r.timeSignature||t.currentSong.timeSignature||_s,measures:r.measures.map(f=>({...f,id:Ga(),beats:f.beats.map(d=>({...d,id:Ga()}))}))},h=t.currentSong.sections.findIndex(f=>f.id===e),c=[...t.currentSong.sections];return c.splice(h+1,0,o),{...a,currentSong:{...t.currentSong,sections:c}}}),reorderSections:e=>i(t=>({...Er(t),currentSong:{...t.currentSong,sections:e}})),setSectionMeasures:(e,t)=>i(r=>{const a=Math.max(1,Math.min(32,Math.round(t))),o=r.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||r.currentSong.timeSignature||_s;let m=[...f.measures];if(m.length<a)for(;m.length<a;)m.push(dh(d));else m.length>a&&(m=m.slice(0,a));return{...f,measures:m}}),h=lh(o,r.selectedSectionId,r.selectedSlotId,r.selectedSlots,r.selectionAnchor);return{...Er(r),currentSong:{...r.currentSong,sections:o},...h}}),setSectionTimeSignature:(e,t)=>i(r=>{const a=r.currentSong.sections.map(c=>{if(c.id!==e)return c;const f=M0(t);return{...c,timeSignature:t,measures:c.measures.map(d=>({...d,beats:[{id:Ga(),chord:null,duration:f}]}))}}),o=lh(a,r.selectedSectionId,r.selectedSlotId,r.selectedSlots,r.selectionAnchor);return{...Er(r),currentSong:{...r.currentSong,sections:a},...o}}),setMeasureSubdivision:(e,t,r)=>i(a=>{const o=Math.max(1,Math.min(16,Math.round(r))),h=a.currentSong.sections.map(d=>{if(d.id!==e)return d;const m=d.timeSignature||a.currentSong.timeSignature||_s,b=M0(m);return{...d,measures:d.measures.map(w=>{if(w.id!==t)return w;const y=b/o,A=Array.from({length:o}).map((N,k)=>{const C=w.beats[k];return{id:C?.id??Ga(),chord:C?.chord??null,duration:y}});return{...w,beats:A}})}}),c=lh(h,a.selectedSectionId,a.selectedSlotId,a.selectedSlots,a.selectionAnchor);return{...Er(a),currentSong:{...a.currentSong,sections:h},...c}}),addChordToSlot:(e,t,r)=>i(a=>{const o=Er(a),h=a.currentSong.sections.map(c=>c.id!==t?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==r?d:{...d,chord:e})}))});return{...o,currentSong:{...a.currentSong,sections:h}}}),clearSlot:(e,t)=>i(r=>{if(!r.currentSong.sections.some(c=>c.id===e&&c.measures.some(f=>f.beats.some(d=>d.id===t&&d.chord))))return{};const o=Er(r),h=r.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==t?d:{...d,chord:null})}))});return{...o,currentSong:{...r.currentSong,sections:h}}}),moveChord:(e,t,r,a)=>i(o=>{let h=null,c=null;if(o.currentSong.sections.forEach(m=>{m.measures.forEach(b=>{b.beats.forEach(w=>{w.id===t&&(h=w.chord),w.id===a&&(c=w.chord)})})}),!h&&!c)return{};const f=Er(o),d=o.currentSong.sections.map(m=>({...m,measures:m.measures.map(b=>({...b,beats:b.beats.map(w=>w.id===t?{...w,chord:c}:w.id===a?{...w,chord:h}:w)}))}));return{...f,currentSong:{...o.currentSong,sections:d}}}),undo:()=>i(e=>{if(!e.historyPast.length)return{};const t=e.historyPast[e.historyPast.length-1],r=e.historyPast.slice(0,-1),a=[kf(e.currentSong),...e.historyFuture].slice(0,D0),o=B5(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:kf(t),historyPast:r,historyFuture:a,canUndo:r.length>0,canRedo:a.length>0,tempo:t.tempo??e.tempo,...o}}),redo:()=>i(e=>{if(!e.historyFuture.length)return{};const t=e.historyFuture[0],r=e.historyFuture.slice(1),a=[...e.historyPast,kf(e.currentSong)].slice(-D0),o=B5(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:kf(t),historyPast:a,historyFuture:r,canUndo:a.length>0,canRedo:r.length>0,tempo:t.tempo??e.tempo,...o}})}),{name:"songwriter-wheel-storage",partialize:i=>({currentSong:i.currentSong,tempo:i.tempo,volume:i.volume,instrument:i.instrument,isMuted:i.isMuted})}));function lc(i,e,t,r){const a=(r-90)*Math.PI/180;return{x:i+t*Math.cos(a),y:e+t*Math.sin(a)}}function T4(i,e,t,r,a){const o=lc(i,e,t,r),h=lc(i,e,t,a),c=a-r<=180?"0":"1";return["M",o.x,o.y,"A",t,t,0,c,1,h.x,h.y].join(" ")}function E4(i,e,t,r,a,o){const h=lc(i,e,r,o),c=lc(i,e,r,a),f=lc(i,e,t,o),d=lc(i,e,t,a),m=o-a<=180?"0":"1";return["M",h.x,h.y,"A",r,r,0,m,0,c.x,c.y,"L",d.x,d.y,"A",t,t,0,m,1,f.x,f.y,"Z"].join(" ")}function Xb(i){var e,t,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(e=0;e<a;e++)i[e]&&(t=Xb(i[e]))&&(r&&(r+=" "),r+=t)}else for(t in i)i[t]&&(r&&(r+=" "),r+=t);return r}function Ps(){for(var i,e,t=0,r="",a=arguments.length;t<a;t++)(i=arguments[t])&&(e=Xb(i))&&(r&&(r+=" "),r+=e);return r}const Zb="15.1.22",q5=(i,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:i}),z5=(i,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:i}),j0=(i,e)=>({startTime:e,type:"setValue",value:i}),Kb=(i,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:i}),Qb=(i,e,{startTime:t,target:r,timeConstant:a})=>r+(e-r)*Math.exp((t-i)/a),ph=i=>i.type==="exponentialRampToValue",Rp=i=>i.type==="linearRampToValue",ac=i=>ph(i)||Rp(i),lg=i=>i.type==="setValue",fl=i=>i.type==="setValueCurve",Ip=(i,e,t,r)=>{const a=i[e];return a===void 0?r:ac(a)||lg(a)?a.value:fl(a)?a.values[a.values.length-1]:Qb(t,Ip(i,e-1,a.startTime,r),a)},F5=(i,e,t,r,a)=>t===void 0?[r.insertTime,a]:ac(t)?[t.endTime,t.value]:lg(t)?[t.startTime,t.value]:fl(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,Ip(i,e-1,t.startTime,a)],R0=i=>i.type==="cancelAndHold",I0=i=>i.type==="cancelScheduledValues",ic=i=>R0(i)||I0(i)?i.cancelTime:ph(i)||Rp(i)?i.endTime:i.startTime,P5=(i,e,t,{endTime:r,value:a})=>t===a?a:0<t&&0<a||t<0&&a<0?t*(a/t)**((i-e)/(r-e)):0,U5=(i,e,t,{endTime:r,value:a})=>t+(i-e)/(r-e)*(a-t),k4=(i,e)=>{const t=Math.floor(e),r=Math.ceil(e);return t===r?i[t]:(1-(e-t))*i[t]+(1-(r-e))*i[r]},O4=(i,{duration:e,startTime:t,values:r})=>{const a=(i-t)/e*(r.length-1);return k4(r,a)},op=i=>i.type==="setTarget";class L4{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=ic(e);if(R0(e)||I0(e)){const r=this._automationEvents.findIndex(o=>I0(e)&&fl(o)?o.startTime+o.duration>=t:ic(o)>=t),a=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),R0(e)){const o=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&ac(a)){if(o!==void 0&&op(o))throw new Error("The internal list is malformed.");const h=o===void 0?a.insertTime:fl(o)?o.startTime+o.duration:ic(o),c=o===void 0?this._defaultValue:fl(o)?o.values[o.values.length-1]:o.value,f=ph(a)?P5(t,h,c,a):U5(t,h,c,a),d=ph(a)?q5(f,t,this._currenTime):z5(f,t,this._currenTime);this._automationEvents.push(d)}if(o!==void 0&&op(o)&&this._automationEvents.push(j0(this.getValue(t),t)),o!==void 0&&fl(o)&&o.startTime+o.duration>t){const h=t-o.startTime,c=(o.values.length-1)/o.duration,f=Math.max(2,1+Math.ceil(h*c)),d=h/(f-1)*c,m=o.values.slice(0,f);if(d<1)for(let b=1;b<f;b+=1){const w=d*b%1;m[b]=o.values[b-1]*(1-w)+o.values[b]*w}this._automationEvents[this._automationEvents.length-1]=Kb(m,o.startTime,h)}}}else{const r=this._automationEvents.findIndex(h=>ic(h)>t),a=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(a!==void 0&&fl(a)&&ic(a)+a.duration>t)return!1;const o=ph(e)?q5(e.value,e.endTime,this._currenTime):Rp(e)?z5(e.value,t,this._currenTime):e;if(r===-1)this._automationEvents.push(o);else{if(fl(e)&&t+e.duration>ic(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,o)}}return!0}flush(e){const t=this._automationEvents.findIndex(r=>ic(r)>e);if(t>1){const r=this._automationEvents.slice(t-1),a=r[0];op(a)&&r.unshift(j0(Ip(this._automationEvents,t-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(h=>ic(h)>e),r=this._automationEvents[t],a=(t===-1?this._automationEvents.length:t)-1,o=this._automationEvents[a];if(o!==void 0&&op(o)&&(r===void 0||!ac(r)||r.insertTime>e))return Qb(e,Ip(this._automationEvents,a-1,o.startTime,this._defaultValue),o);if(o!==void 0&&lg(o)&&(r===void 0||!ac(r)))return o.value;if(o!==void 0&&fl(o)&&(r===void 0||!ac(r)||o.startTime+o.duration>e))return e<o.startTime+o.duration?O4(e,o):o.values[o.values.length-1];if(o!==void 0&&ac(o)&&(r===void 0||!ac(r)))return o.value;if(r!==void 0&&ph(r)){const[h,c]=F5(this._automationEvents,a,o,r,this._defaultValue);return P5(e,h,c,r)}if(r!==void 0&&Rp(r)){const[h,c]=F5(this._automationEvents,a,o,r,this._defaultValue);return U5(e,h,c,r)}return this._defaultValue}}const M4=i=>({cancelTime:i,type:"cancelAndHold"}),D4=i=>({cancelTime:i,type:"cancelScheduledValues"}),j4=(i,e)=>({endTime:e,type:"exponentialRampToValue",value:i}),R4=(i,e)=>({endTime:e,type:"linearRampToValue",value:i}),I4=(i,e,t)=>({startTime:e,target:i,timeConstant:t,type:"setTarget"}),V4=()=>new DOMException("","AbortError"),B4=i=>(e,t,[r,a,o],h)=>{i(e[a],[t,r,o],c=>c[0]===t&&c[1]===r,h)},q4=i=>(e,t,r)=>{const a=[];for(let o=0;o<r.numberOfInputs;o+=1)a.push(new Set);i.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},z4=i=>(e,t)=>{i.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},Nh=new WeakSet,$b=new WeakMap,cg=new WeakMap,Jb=new WeakMap,ug=new WeakMap,l1=new WeakMap,ex=new WeakMap,V0=new WeakMap,B0=new WeakMap,q0=new WeakMap,tx={construct(){return tx}},F4=i=>{try{const e=new Proxy(i,tx);new e}catch{return!1}return!0},H5=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,G5=(i,e)=>{const t=[];let r=i.replace(/^[\s]+/,""),a=r.match(H5);for(;a!==null;){const o=a[1].slice(1,-1),h=a[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,e).toString());t.push(h),r=r.slice(a[0].length).replace(/^[\s]+/,""),a=r.match(H5)}return[t.join(";"),r]},Y5=i=>{if(i!==void 0&&!Array.isArray(i))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},W5=i=>{if(!F4(i))throw new TypeError("The given value for processorCtor should be a constructor.");if(i.prototype===null||typeof i.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},P4=(i,e,t,r,a,o,h,c,f,d,m,b,w)=>{let y=0;return(A,N,k={credentials:"omit"})=>{const C=m.get(A);if(C!==void 0&&C.has(N))return Promise.resolve();const F=d.get(A);if(F!==void 0){const I=F.get(N);if(I!==void 0)return I}const z=o(A),V=z.audioWorklet===void 0?a(N).then(([I,Z])=>{const[G,D]=G5(I,Z),R=`${G};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${D}
})})(window,'_AWGS')`;return t(R)}).then(()=>{const I=w._AWGS.pop();if(I===void 0)throw new SyntaxError;r(z.currentTime,z.sampleRate,()=>I(class{},void 0,(Z,G)=>{if(Z.trim()==="")throw e();const D=B0.get(z);if(D!==void 0){if(D.has(Z))throw e();W5(G),Y5(G.parameterDescriptors),D.set(Z,G)}else W5(G),Y5(G.parameterDescriptors),B0.set(z,new Map([[Z,G]]))},z.sampleRate,void 0,void 0))}):Promise.all([a(N),Promise.resolve(i(b,b))]).then(([[I,Z],G])=>{const D=y+1;y=D;const[R,K]=G5(I,Z),J=`${R};((AudioWorkletProcessor,registerProcessor)=>{${K}
})(${G?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${G?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${G?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${D}',class extends AudioWorkletProcessor{process(){return !1}})`,ue=new Blob([J],{type:"application/javascript; charset=utf-8"}),$=URL.createObjectURL(ue);return z.audioWorklet.addModule($,k).then(()=>{if(c(z))return z;const re=h(z);return re.audioWorklet.addModule($,k).then(()=>re)}).then(re=>{if(f===null)throw new SyntaxError;try{new f(re,`__sac${D}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL($))});return F===void 0?d.set(A,new Map([[N,V]])):F.set(N,V),V.then(()=>{const I=m.get(A);I===void 0?m.set(A,new Set([N])):I.add(N)}).finally(()=>{const I=d.get(A);I!==void 0&&I.delete(N)}),V}},Ka=(i,e)=>{const t=i.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},c1=(i,e)=>{const t=Array.from(i).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[r]=t;return i.delete(r),r},nx=(i,e,t,r)=>{const a=Ka(i,e),o=c1(a,h=>h[0]===t&&h[1]===r);return a.size===0&&i.delete(e),o},Qf=i=>Ka(ex,i),Ch=i=>{if(Nh.has(i))throw new Error("The AudioNode is already stored.");Nh.add(i),Qf(i).forEach(e=>e(!0))},ix=i=>"port"in i,$f=i=>{if(!Nh.has(i))throw new Error("The AudioNode is not stored.");Nh.delete(i),Qf(i).forEach(e=>e(!1))},z0=(i,e)=>{!ix(i)&&e.every(t=>t.size===0)&&$f(i)},U4=(i,e,t,r,a,o,h,c,f,d,m,b,w)=>{const y=new WeakMap;return(A,N,k,C,F)=>{const{activeInputs:z,passiveInputs:V}=o(N),{outputs:I}=o(A),Z=c(A),G=D=>{const R=f(N),K=f(A);if(D){const E=nx(V,A,k,C);i(z,A,E,!1),!F&&!b(A)&&t(K,R,k,C),w(N)&&Ch(N)}else{const E=r(z,A,k,C);e(V,C,E,!1),!F&&!b(A)&&a(K,R,k,C);const j=h(N);if(j===0)m(N)&&z0(N,z);else{const P=y.get(N);P!==void 0&&clearTimeout(P),y.set(N,setTimeout(()=>{m(N)&&z0(N,z)},j*1e3))}}};return d(I,[N,k,C],D=>D[0]===N&&D[1]===k&&D[2]===C,!0)?(Z.add(G),m(A)?i(z,A,[k,C,G],!0):e(V,C,[A,k,G],!0),!0):!1}},H4=i=>(e,t,[r,a,o],h)=>{const c=e.get(r);c===void 0?e.set(r,new Set([[a,t,o]])):i(c,[a,t,o],f=>f[0]===a&&f[1]===t,h)},G4=i=>(e,t)=>{const r=i(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(r).connect(e.destination);const a=()=>{t.removeEventListener("ended",a),t.disconnect(r),r.disconnect()};t.addEventListener("ended",a)},Y4=i=>(e,t)=>{i(e).add(t)},W4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},X4=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=a(c),m={...W4,...f},b=r(d,m),w=o(d)?e():null;super(c,!1,b,w),this._nativeAnalyserNode=b}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=f,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},Fr=(i,e)=>i.context===e,Z4=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Fr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=i(h,d)}return r.set(h,c),await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},Vp=i=>{try{i.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Do=()=>new DOMException("","IndexSizeError"),hg=i=>{i.getChannelData=(e=>t=>{try{return e.call(i,t)}catch(r){throw r.code===12?Do():r}})(i.getChannelData)},K4={numberOfChannels:1},Q4=(i,e,t,r,a,o,h,c)=>{let f=null;return class rx{constructor(m){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:b,numberOfChannels:w,sampleRate:y}={...K4,...m};f===null&&(f=new a(1,1,44100));const A=r!==null&&e(o,o)?new r({length:b,numberOfChannels:w,sampleRate:y}):f.createBuffer(w,b,y);if(A.numberOfChannels===0)throw t();return typeof A.copyFromChannel!="function"?(h(A),hg(A)):e(Vp,()=>Vp(A))||c(A),i.add(A),A}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===rx.prototype||i.has(m)}}},ws=-34028234663852886e22,$r=-ws,ml=i=>Nh.has(i),$4={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},J4=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const b=o(d),w={...$4,...m},y=a(b,w),A=h(b),N=A?e():null;super(d,!1,y,N),this._audioBufferSourceNodeRenderer=N,this._isBufferNullified=!1,this._isBufferSet=w.buffer!==null,this._nativeAudioBufferSourceNode=y,this._onended=null,this._playbackRate=t(this,A,y.playbackRate,$r,ws)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const m=typeof d=="function"?c(this,d):null;this._nativeAudioBufferSourceNode.onended=m;const b=this._nativeAudioBufferSourceNode.onended;this._onended=b!==null&&b===m?d:b}get playbackRate(){return this._playbackRate}start(d=0,m=0,b){if(this._nativeAudioBufferSourceNode.start(d,m,b),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=b===void 0?[d,m]:[d,m,b]),this.context.state!=="closed"){Ch(this);const w=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",w),ml(this)&&$f(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",w)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},eS=(i,e,t,r,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let b=t(d);const w=Fr(b,m);if(!w){const y={buffer:b.buffer,channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,loop:b.loop,loopEnd:b.loopEnd,loopStart:b.loopStart,playbackRate:b.playbackRate.value};b=e(m,y),h!==null&&b.start(...h),c!==null&&b.stop(c)}return o.set(m,b),w?await i(m,d.playbackRate,b.playbackRate):await r(m,d.playbackRate,b.playbackRate),await a(d,m,b),b};return{set start(d){h=d},set stop(d){c=d},render(d,m){const b=o.get(m);return b!==void 0?Promise.resolve(b):f(d,m)}}},tS=i=>"playbackRate"in i,nS=i=>"frequency"in i&&"gain"in i,iS=i=>"offset"in i,rS=i=>!("frequency"in i)&&"gain"in i,sS=i=>"detune"in i&&"frequency"in i&&!("gain"in i),aS=i=>"pan"in i,Jr=i=>Ka($b,i),Jf=i=>Ka(Jb,i),F0=(i,e)=>{const{activeInputs:t}=Jr(i);t.forEach(a=>a.forEach(([o])=>{e.includes(i)||F0(o,[...e,i])}));const r=tS(i)?[i.playbackRate]:ix(i)?Array.from(i.parameters.values()):nS(i)?[i.Q,i.detune,i.frequency,i.gain]:iS(i)?[i.offset]:rS(i)?[i.gain]:sS(i)?[i.detune,i.frequency]:aS(i)?[i.pan]:[];for(const a of r){const o=Jf(a);o!==void 0&&o.activeInputs.forEach(([h])=>F0(h,e))}ml(i)&&$f(i)},sx=i=>{F0(i.destination,[])},oS=i=>i===void 0||typeof i=="number"||typeof i=="string"&&(i==="balanced"||i==="interactive"||i==="playback"),lS=(i,e,t,r,a,o,h,c,f)=>class extends i{constructor(m={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let b;try{b=new f(m)}catch(A){throw A.code===12&&A.message==="sampleRate is not in range"?t():A}if(b===null)throw r();if(!oS(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&b.sampleRate!==m.sampleRate)throw t();super(b,2);const{latencyHint:w}=m,{sampleRate:y}=b;if(this._baseLatency=typeof b.baseLatency=="number"?b.baseLatency:w==="balanced"?512/y:w==="interactive"||w===void 0?256/y:w==="playback"?1024/y:Math.max(2,Math.min(128,Math.round(w*y/128)))*128/y,this._nativeAudioContext=b,f.name==="webkitAudioContext"?(this._nativeGainNode=b.createGain(),this._nativeOscillatorNode=b.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(b.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,b.state==="running"){this._state="suspended";const A=()=>{this._state==="suspended"&&(this._state=null),b.removeEventListener("statechange",A)};b.addEventListener("statechange",A)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),sx(this)}))}createMediaElementSource(m){return new a(this,{mediaElement:m})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(m){return new h(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new c(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,b)=>{const w=()=>{this._nativeAudioContext.removeEventListener("statechange",w),this._nativeAudioContext.state==="running"?m():this.resume().then(m,b)};this._nativeAudioContext.addEventListener("statechange",w)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?e():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?e():m})}},cS=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const b=o(d),w=h(b),y=a(b,m,w),A=w?e(c):null;super(d,!1,y,A),this._isNodeOfNativeOfflineAudioContext=w,this._nativeAudioDestinationNode=y}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},uS=i=>{const e=new WeakMap,t=async(r,a)=>{const o=a.destination;return e.set(a,o),await i(r,a,o),o};return{render(r,a){const o=e.get(a);return o!==void 0?Promise.resolve(o):t(r,a)}}},hS=(i,e,t,r,a,o,h,c)=>(f,d)=>{const m=d.listener,b=()=>{const I=new Float32Array(1),Z=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),G=h(d);let D=!1,R=[0,0,-1,0,1,0],K=[0,0,0];const E=()=>{if(D)return;D=!0;const ue=r(d,256,9,0);ue.onaudioprocess=({inputBuffer:$})=>{const re=[o($,I,0),o($,I,1),o($,I,2),o($,I,3),o($,I,4),o($,I,5)];re.some((pe,Ne)=>pe!==R[Ne])&&(m.setOrientation(...re),R=re);const ce=[o($,I,6),o($,I,7),o($,I,8)];ce.some((pe,Ne)=>pe!==K[Ne])&&(m.setPosition(...ce),K=ce)},Z.connect(ue)},j=ue=>$=>{$!==R[ue]&&(R[ue]=$,m.setOrientation(...R))},P=ue=>$=>{$!==K[ue]&&(K[ue]=$,m.setPosition(...K))},J=(ue,$,re)=>{const ce=t(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:$});ce.connect(Z,0,ue),ce.start(),Object.defineProperty(ce.offset,"defaultValue",{get(){return $}});const pe=i({context:f},G,ce.offset,$r,ws);return c(pe,"value",Ne=>()=>Ne.call(pe),Ne=>X=>{try{Ne.call(pe,X)}catch(T){if(T.code!==9)throw T}E(),G&&re(X)}),pe.cancelAndHoldAtTime=(Ne=>G?()=>{throw a()}:(...X)=>{const T=Ne.apply(pe,X);return E(),T})(pe.cancelAndHoldAtTime),pe.cancelScheduledValues=(Ne=>G?()=>{throw a()}:(...X)=>{const T=Ne.apply(pe,X);return E(),T})(pe.cancelScheduledValues),pe.exponentialRampToValueAtTime=(Ne=>G?()=>{throw a()}:(...X)=>{const T=Ne.apply(pe,X);return E(),T})(pe.exponentialRampToValueAtTime),pe.linearRampToValueAtTime=(Ne=>G?()=>{throw a()}:(...X)=>{const T=Ne.apply(pe,X);return E(),T})(pe.linearRampToValueAtTime),pe.setTargetAtTime=(Ne=>G?()=>{throw a()}:(...X)=>{const T=Ne.apply(pe,X);return E(),T})(pe.setTargetAtTime),pe.setValueAtTime=(Ne=>G?()=>{throw a()}:(...X)=>{const T=Ne.apply(pe,X);return E(),T})(pe.setValueAtTime),pe.setValueCurveAtTime=(Ne=>G?()=>{throw a()}:(...X)=>{const T=Ne.apply(pe,X);return E(),T})(pe.setValueCurveAtTime),pe};return{forwardX:J(0,0,j(0)),forwardY:J(1,0,j(1)),forwardZ:J(2,-1,j(2)),positionX:J(6,0,P(0)),positionY:J(7,0,P(1)),positionZ:J(8,0,P(2)),upX:J(3,0,j(3)),upY:J(4,1,j(4)),upZ:J(5,0,j(5))}},{forwardX:w,forwardY:y,forwardZ:A,positionX:N,positionY:k,positionZ:C,upX:F,upY:z,upZ:V}=m.forwardX===void 0?b():m;return{get forwardX(){return w},get forwardY(){return y},get forwardZ(){return A},get positionX(){return N},get positionY(){return k},get positionZ(){return C},get upX(){return F},get upY(){return z},get upZ(){return V}}},Bp=i=>"context"in i,ed=i=>Bp(i[0]),uu=(i,e,t,r)=>{for(const a of i)if(t(a)){if(r)return!1;throw Error("The set contains at least one similar element.")}return i.add(e),!0},X5=(i,e,[t,r],a)=>{uu(i,[e,t,r],o=>o[0]===e&&o[1]===t,a)},Z5=(i,[e,t,r],a)=>{const o=i.get(e);o===void 0?i.set(e,new Set([[t,r]])):uu(o,[t,r],h=>h[0]===t,a)},Oh=i=>"inputs"in i,qp=(i,e,t,r)=>{if(Oh(e)){const a=e.inputs[r];return i.connect(a,t,0),[a,t,0]}return i.connect(e,t,r),[e,t,r]},ax=(i,e,t)=>{for(const r of i)if(r[0]===e&&r[1]===t)return i.delete(r),r;return null},fS=(i,e,t)=>c1(i,r=>r[0]===e&&r[1]===t),ox=(i,e)=>{if(!Qf(i).delete(e))throw new Error("Missing the expected event listener.")},lx=(i,e,t)=>{const r=Ka(i,e),a=c1(r,o=>o[0]===t);return r.size===0&&i.delete(e),a},zp=(i,e,t,r)=>{Oh(e)?i.disconnect(e.inputs[r],t,0):i.disconnect(e,t,r)},li=i=>Ka(cg,i),zf=i=>Ka(ug,i),au=i=>V0.has(i),Ap=i=>!Nh.has(i),K5=(i,e)=>new Promise(t=>{if(e!==null)t(!0);else{const r=i.createScriptProcessor(256,1,1),a=i.createGain(),o=i.createBuffer(1,2,44100),h=o.getChannelData(0);h[0]=1,h[1]=1;const c=i.createBufferSource();c.buffer=o,c.loop=!0,c.connect(r).connect(i.destination),c.connect(a),c.disconnect(a),r.onaudioprocess=f=>{const d=f.inputBuffer.getChannelData(0);Array.prototype.some.call(d,m=>m===1)?t(!0):t(!1),c.stop(),r.onaudioprocess=null,c.disconnect(r),r.disconnect(i.destination)},c.start()}}),n0=(i,e)=>{const t=new Map;for(const r of i)for(const a of r){const o=t.get(a);t.set(a,o===void 0?1:o+1)}t.forEach((r,a)=>e(a,r))},Fp=i=>"context"in i,dS=i=>{const e=new Map;i.connect=(t=>(r,a=0,o=0)=>{const h=Fp(r)?t(r,a,o):t(r,a),c=e.get(r);return c===void 0?e.set(r,[{input:o,output:a}]):c.every(f=>f.input!==o||f.output!==a)&&c.push({input:o,output:a}),h})(i.connect.bind(i)),i.disconnect=(t=>(r,a,o)=>{if(t.apply(i),r===void 0)e.clear();else if(typeof r=="number")for(const[h,c]of e){const f=c.filter(d=>d.output!==r);f.length===0?e.delete(h):e.set(h,f)}else if(e.has(r))if(a===void 0)e.delete(r);else{const h=e.get(r);if(h!==void 0){const c=h.filter(f=>f.output!==a&&(f.input!==o||o===void 0));c.length===0?e.delete(r):e.set(r,c)}}for(const[h,c]of e)c.forEach(f=>{Fp(h)?i.connect(h,f.output,f.input):i.connect(h,f.output)})})(i.disconnect)},pS=(i,e,t,r)=>{const{activeInputs:a,passiveInputs:o}=Jf(e),{outputs:h}=Jr(i),c=Qf(i),f=d=>{const m=li(i),b=zf(e);if(d){const w=lx(o,i,t);X5(a,i,w,!1),!r&&!au(i)&&m.connect(b,t)}else{const w=fS(a,i,t);Z5(o,w,!1),!r&&!au(i)&&m.disconnect(b,t)}};return uu(h,[e,t],d=>d[0]===e&&d[1]===t,!0)?(c.add(f),ml(i)?X5(a,i,[t,f],!0):Z5(o,[i,t,f],!0),!0):!1},mS=(i,e,t,r)=>{const{activeInputs:a,passiveInputs:o}=Jr(e),h=ax(a[r],i,t);return h===null?[nx(o,i,t,r)[2],!1]:[h[2],!0]},gS=(i,e,t)=>{const{activeInputs:r,passiveInputs:a}=Jf(e),o=ax(r,i,t);return o===null?[lx(a,i,t)[1],!1]:[o[2],!0]},fg=(i,e,t,r,a)=>{const[o,h]=mS(i,t,r,a);if(o!==null&&(ox(i,o),h&&!e&&!au(i)&&zp(li(i),li(t),r,a)),ml(t)){const{activeInputs:c}=Jr(t);z0(t,c)}},dg=(i,e,t,r)=>{const[a,o]=gS(i,t,r);a!==null&&(ox(i,a),o&&!e&&!au(i)&&li(i).disconnect(zf(t),r))},vS=(i,e)=>{const t=Jr(i),r=[];for(const a of t.outputs)ed(a)?fg(i,e,...a):dg(i,e,...a),r.push(a[0]);return t.outputs.clear(),r},yS=(i,e,t)=>{const r=Jr(i),a=[];for(const o of r.outputs)o[1]===t&&(ed(o)?fg(i,e,...o):dg(i,e,...o),a.push(o[0]),r.outputs.delete(o));return a},bS=(i,e,t,r,a)=>{const o=Jr(i);return Array.from(o.outputs).filter(h=>h[0]===t&&(r===void 0||h[1]===r)&&(a===void 0||h[2]===a)).map(h=>(ed(h)?fg(i,e,...h):dg(i,e,...h),o.outputs.delete(h),h[0]))},xS=(i,e,t,r,a,o,h,c,f,d,m,b,w,y,A,N)=>class extends d{constructor(C,F,z,V){super(z),this._context=C,this._nativeAudioNode=z;const I=m(C);b(I)&&t(K5,()=>K5(I,N))!==!0&&dS(z),cg.set(this,z),ex.set(this,new Set),C.state!=="closed"&&F&&Ch(this),i(this,V,z)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,F=0,z=0){if(F<0||F>=this._nativeAudioNode.numberOfOutputs)throw a();const V=m(this._context),I=A(V);if(w(C)||y(C))throw o();if(Bp(C)){const D=li(C);try{const K=qp(this._nativeAudioNode,D,F,z),E=Ap(this);(I||E)&&this._nativeAudioNode.disconnect(...K),this.context.state!=="closed"&&!E&&Ap(C)&&Ch(C)}catch(K){throw K.code===12?o():K}if(e(this,C,F,z,I)){const K=f([this],C);n0(K,r(I))}return C}const Z=zf(C);if(Z.name==="playbackRate"&&Z.maxValue===1024)throw h();try{this._nativeAudioNode.connect(Z,F),(I||Ap(this))&&this._nativeAudioNode.disconnect(Z,F)}catch(D){throw D.code===12?o():D}if(pS(this,C,F,I)){const D=f([this],C);n0(D,r(I))}}disconnect(C,F,z){let V;const I=m(this._context),Z=A(I);if(C===void 0)V=vS(this,Z);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw a();V=yS(this,Z,C)}else{if(F!==void 0&&(F<0||F>=this.numberOfOutputs)||Bp(C)&&z!==void 0&&(z<0||z>=C.numberOfInputs))throw a();if(V=bS(this,Z,C,F,z),V.length===0)throw o()}for(const G of V){const D=f([this],G);n0(D,c)}}},_S=(i,e,t,r,a,o,h,c,f,d,m,b,w)=>(y,A,N,k=null,C=null)=>{const F=N.value,z=new L4(F),V=A?r(z):null,I={get defaultValue(){return F},get maxValue(){return k===null?N.maxValue:k},get minValue(){return C===null?N.minValue:C},get value(){return N.value},set value(Z){N.value=Z,I.setValueAtTime(Z,y.context.currentTime)},cancelAndHoldAtTime(Z){if(typeof N.cancelAndHoldAtTime=="function")V===null&&z.flush(y.context.currentTime),z.add(a(Z)),N.cancelAndHoldAtTime(Z);else{const G=Array.from(z).pop();V===null&&z.flush(y.context.currentTime),z.add(a(Z));const D=Array.from(z).pop();N.cancelScheduledValues(Z),G!==D&&D!==void 0&&(D.type==="exponentialRampToValue"?N.exponentialRampToValueAtTime(D.value,D.endTime):D.type==="linearRampToValue"?N.linearRampToValueAtTime(D.value,D.endTime):D.type==="setValue"?N.setValueAtTime(D.value,D.startTime):D.type==="setValueCurve"&&N.setValueCurveAtTime(D.values,D.startTime,D.duration))}return I},cancelScheduledValues(Z){return V===null&&z.flush(y.context.currentTime),z.add(o(Z)),N.cancelScheduledValues(Z),I},exponentialRampToValueAtTime(Z,G){if(Z===0)throw new RangeError;if(!Number.isFinite(G)||G<0)throw new RangeError;const D=y.context.currentTime;return V===null&&z.flush(D),Array.from(z).length===0&&(z.add(d(F,D)),N.setValueAtTime(F,D)),z.add(h(Z,G)),N.exponentialRampToValueAtTime(Z,G),I},linearRampToValueAtTime(Z,G){const D=y.context.currentTime;return V===null&&z.flush(D),Array.from(z).length===0&&(z.add(d(F,D)),N.setValueAtTime(F,D)),z.add(c(Z,G)),N.linearRampToValueAtTime(Z,G),I},setTargetAtTime(Z,G,D){return V===null&&z.flush(y.context.currentTime),z.add(f(Z,G,D)),N.setTargetAtTime(Z,G,D),I},setValueAtTime(Z,G){return V===null&&z.flush(y.context.currentTime),z.add(d(Z,G)),N.setValueAtTime(Z,G),I},setValueCurveAtTime(Z,G,D){const R=Z instanceof Float32Array?Z:new Float32Array(Z);if(b!==null&&b.name==="webkitAudioContext"){const K=G+D,E=y.context.sampleRate,j=Math.ceil(G*E),P=Math.floor(K*E),J=P-j,ue=new Float32Array(J);for(let re=0;re<J;re+=1){const ce=(R.length-1)/D*((j+re)/E-G),pe=Math.floor(ce),Ne=Math.ceil(ce);ue[re]=pe===Ne?R[pe]:(1-(ce-pe))*R[pe]+(1-(Ne-ce))*R[Ne]}V===null&&z.flush(y.context.currentTime),z.add(m(ue,G,D)),N.setValueCurveAtTime(ue,G,D);const $=P/E;$<K&&w(I,ue[ue.length-1],$),w(I,R[R.length-1],K)}else V===null&&z.flush(y.context.currentTime),z.add(m(R,G,D)),N.setValueCurveAtTime(R,G,D);return I}};return t.set(I,N),e.set(I,y),i(I,V),I},wS=i=>({replay(e){for(const t of i)if(t.type==="exponentialRampToValue"){const{endTime:r,value:a}=t;e.exponentialRampToValueAtTime(a,r)}else if(t.type==="linearRampToValue"){const{endTime:r,value:a}=t;e.linearRampToValueAtTime(a,r)}else if(t.type==="setTarget"){const{startTime:r,target:a,timeConstant:o}=t;e.setTargetAtTime(a,r,o)}else if(t.type==="setValue"){const{startTime:r,value:a}=t;e.setValueAtTime(a,r)}else if(t.type==="setValueCurve"){const{duration:r,startTime:a,values:o}=t;e.setValueCurveAtTime(o,a,r)}else throw new Error("Can't apply an unknown automation.")}});class cx{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((r,a)=>e.call(t,r,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const SS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},AS=(i,e,t,r,a,o,h,c,f,d,m,b,w,y)=>class extends e{constructor(N,k,C){var F;const z=c(N),V=f(z),I=m({...SS,...C});w(I);const Z=B0.get(z),G=Z?.get(k),D=V||z.state!=="closed"?z:(F=h(z))!==null&&F!==void 0?F:z,R=a(D,V?null:N.baseLatency,d,k,G,I),K=V?r(k,I,G):null;super(N,!0,R,K);const E=[];R.parameters.forEach((P,J)=>{const ue=t(this,V,P);E.push([J,ue])}),this._nativeAudioWorkletNode=R,this._onprocessorerror=null,this._parameters=new cx(E),V&&i(z,this);const{activeInputs:j}=o(this);b(R,j)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(N){const k=typeof N=="function"?y(this,N):null;this._nativeAudioWorkletNode.onprocessorerror=k;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===k?N:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Pp(i,e,t,r,a){if(typeof i.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),i.copyFromChannel(e[t],r,a);else{const o=i.getChannelData(r);if(e[t].byteLength===0)e[t]=o.slice(a,a+128);else{const h=new Float32Array(o.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(h)}}}const ux=(i,e,t,r,a)=>{typeof i.copyToChannel=="function"?e[t].byteLength!==0&&i.copyToChannel(e[t],r,a):e[t].byteLength!==0&&i.getChannelData(r).set(e[t],a)},Up=(i,e)=>{const t=[];for(let r=0;r<i;r+=1){const a=[],o=typeof e=="number"?e:e[r];for(let h=0;h<o;h+=1)a.push(new Float32Array(128));t.push(a)}return t},NS=(i,e)=>{const t=Ka(q0,i),r=li(e);return Ka(t,r)},CS=async(i,e,t,r,a,o,h)=>{const c=e===null?Math.ceil(i.context.length/128)*128:e.length,f=r.channelCount*r.numberOfInputs,d=a.reduce((k,C)=>k+C,0),m=d===0?null:t.createBuffer(d,c,t.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const b=Jr(i),w=await NS(t,i),y=Up(r.numberOfInputs,r.channelCount),A=Up(r.numberOfOutputs,a),N=Array.from(i.parameters.keys()).reduce((k,C)=>({...k,[C]:new Float32Array(128)}),{});for(let k=0;k<c;k+=128){if(r.numberOfInputs>0&&e!==null)for(let C=0;C<r.numberOfInputs;C+=1)for(let F=0;F<r.channelCount;F+=1)Pp(e,y[C],F,F,k);o.parameterDescriptors!==void 0&&e!==null&&o.parameterDescriptors.forEach(({name:C},F)=>{Pp(e,N,C,f+F,k)});for(let C=0;C<r.numberOfInputs;C+=1)for(let F=0;F<a[C];F+=1)A[C][F].byteLength===0&&(A[C][F]=new Float32Array(128));try{const C=y.map((z,V)=>b.activeInputs[V].size===0?[]:z),F=h(k/t.sampleRate,t.sampleRate,()=>w.process(C,A,N));if(m!==null)for(let z=0,V=0;z<r.numberOfOutputs;z+=1){for(let I=0;I<a[z];I+=1)ux(m,A[z],I,V+I,k);V+=a[z]}if(!F)break}catch(C){i.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return m},TS=(i,e,t,r,a,o,h,c,f,d,m,b,w,y,A,N)=>(k,C,F)=>{const z=new WeakMap;let V=null;const I=async(Z,G)=>{let D=m(Z),R=null;const K=Fr(D,G),E=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(b===null){const j=E.reduce(($,re)=>$+re,0),P=a(G,{channelCount:Math.max(1,j),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,j)}),J=[];for(let $=0;$<Z.numberOfOutputs;$+=1)J.push(r(G,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:E[$]}));const ue=h(G,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});ue.connect=e.bind(null,J),ue.disconnect=f.bind(null,J),R=[P,J,ue]}else K||(D=new b(G,k));if(z.set(G,R===null?D:R[2]),R!==null){if(V===null){if(F===void 0)throw new Error("Missing the processor constructor.");if(w===null)throw new Error("Missing the native OfflineAudioContext constructor.");const re=Z.channelCount*Z.numberOfInputs,ce=F.parameterDescriptors===void 0?0:F.parameterDescriptors.length,pe=re+ce;V=CS(Z,pe===0?null:await(async()=>{const X=new w(pe,Math.ceil(Z.context.length/128)*128,G.sampleRate),T=[],H=[];for(let oe=0;oe<C.numberOfInputs;oe+=1)T.push(h(X,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),H.push(a(X,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const ee=await Promise.all(Array.from(Z.parameters.values()).map(async oe=>{const me=o(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:oe.value});return await y(X,oe,me.offset),me})),ie=r(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,re+ce)});for(let oe=0;oe<C.numberOfInputs;oe+=1){T[oe].connect(H[oe]);for(let me=0;me<C.channelCount;me+=1)H[oe].connect(ie,me,oe*C.channelCount+me)}for(const[oe,me]of ee.entries())me.connect(ie,0,re+oe),me.start(0);return ie.connect(X.destination),await Promise.all(T.map(oe=>A(Z,X,oe))),N(X)})(),G,C,E,F,d)}const j=await V,P=t(G,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[J,ue,$]=R;j!==null&&(P.buffer=j,P.start(0)),P.connect(J);for(let re=0,ce=0;re<Z.numberOfOutputs;re+=1){const pe=ue[re];for(let Ne=0;Ne<E[re];Ne+=1)J.connect(pe,ce+Ne,Ne);ce+=E[re]}return $}if(K)for(const[j,P]of Z.parameters.entries())await i(G,P,D.parameters.get(j));else for(const[j,P]of Z.parameters.entries())await y(G,P,D.parameters.get(j));return await A(Z,G,D),D};return{render(Z,G){c(G,Z);const D=z.get(G);return D!==void 0?Promise.resolve(D):I(Z,G)}}},ES=(i,e,t,r,a,o,h,c,f,d,m,b,w,y,A,N,k,C,F,z)=>class extends A{constructor(I,Z){super(I,Z),this._nativeContext=I,this._audioWorklet=i===void 0?void 0:{addModule:(G,D)=>i(this,G,D)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(I,Z,G){return new t({length:Z,numberOfChannels:I,sampleRate:G})}createBufferSource(){return new r(this)}createChannelMerger(I=6){return new o(this,{numberOfInputs:I})}createChannelSplitter(I=6){return new h(this,{numberOfOutputs:I})}createConstantSource(){return new c(this)}createConvolver(){return new f(this)}createDelay(I=1){return new m(this,{maxDelayTime:I})}createDynamicsCompressor(){return new b(this)}createGain(){return new w(this)}createIIRFilter(I,Z){return new y(this,{feedback:Z,feedforward:I})}createOscillator(){return new N(this)}createPanner(){return new k(this)}createPeriodicWave(I,Z,G={disableNormalization:!1}){return new C(this,{...G,imag:Z,real:I})}createStereoPanner(){return new F(this)}createWaveShaper(){return new z(this)}decodeAudioData(I,Z,G){return d(this._nativeContext,I).then(D=>(typeof Z=="function"&&Z(D),D),D=>{throw typeof G=="function"&&G(D),D})}},kS={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},OS=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const b=o(d),w={...kS,...m},y=a(b,w),A=h(b),N=A?t():null;super(d,!1,y,N),this._Q=e(this,A,y.Q,$r,ws),this._detune=e(this,A,y.detune,1200*Math.log2($r),-1200*Math.log2($r)),this._frequency=e(this,A,y.frequency,d.sampleRate/2,0),this._gain=e(this,A,y.gain,40*Math.log10($r),ws),this._nativeBiquadFilterNode=y,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,m,b){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,m,b)}catch(w){throw w.code===11?r():w}if(d.length!==m.length||m.length!==b.length)throw r()}},LS=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Fr(d,f);if(!m){const b={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=e(f,b)}return o.set(f,d),m?(await i(f,c.Q,d.Q),await i(f,c.detune,d.detune),await i(f,c.frequency,d.frequency),await i(f,c.gain,d.gain)):(await r(f,c.Q,d.Q),await r(f,c.detune,d.detune),await r(f,c.frequency,d.frequency),await r(f,c.gain,d.gain)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},MS=(i,e)=>(t,r)=>{const a=e.get(t);if(a!==void 0)return a;const o=i.get(t);if(o!==void 0)return o;try{const h=r();return h instanceof Promise?(i.set(t,h),h.catch(()=>!1).then(c=>(i.delete(t),e.set(t,c),c))):(e.set(t,h),h)}catch{return e.set(t,!1),!1}},DS={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},jS=(i,e,t,r,a)=>class extends i{constructor(h,c){const f=r(h),d={...DS,...c},m=t(f,d),b=a(f)?e():null;super(h,!1,m,b)}},RS=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Fr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=i(h,d)}return r.set(h,c),await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},IS={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},VS=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=r(c),m=o({...IS,...f}),b=t(d,m),w=a(d)?e():null;super(c,!1,b,w)}},BS=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Fr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=i(h,d)}return r.set(h,c),await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},qS=i=>(e,t,r)=>i(t,e,r),zS=i=>(e,t,r=0,a=0)=>{const o=e[r];if(o===void 0)throw i();return Fp(t)?o.connect(t,0,a):o.connect(t,0)},FS=i=>(e,t)=>{const r=i(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return r.buffer=a,r.loop=!0,r.connect(t),r.start(),()=>{r.stop(),r.disconnect(t)}},PS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},US=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),b={...PS,...d},w=r(m,b),y=o(m),A=y?t():null;super(f,!1,w,A),this._constantSourceNodeRenderer=A,this._nativeConstantSourceNode=w,this._offset=e(this,y,w.offset,$r,ws),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeConstantSourceNode.onended=d;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===d?f:m}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){Ch(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),ml(this)&&$f(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},HS=(i,e,t,r,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let b=t(d);const w=Fr(b,m);if(!w){const y={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,offset:b.offset.value};b=e(m,y),h!==null&&b.start(h),c!==null&&b.stop(c)}return o.set(m,b),w?await i(m,d.offset,b.offset):await r(m,d.offset,b.offset),await a(d,m,b),b};return{set start(d){h=d},set stop(d){c=d},render(d,m){const b=o.get(m);return b!==void 0?Promise.resolve(b):f(d,m)}}},GS=i=>e=>(i[0]=e,i[0]),YS={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},WS=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=r(c),m={...YS,...f},b=t(d,m),y=a(d)?e():null;super(c,!1,b,y),this._isBufferNullified=!1,this._nativeConvolverNode=b,m.buffer!==null&&o(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},XS=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Fr(c,h)){const d={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=i(h,d)}return r.set(h,c),Oh(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},ZS=(i,e)=>(t,r,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,r,a)}catch(o){throw o.name==="SyntaxError"?i():o}},KS=()=>new DOMException("","DataCloneError"),Q5=i=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(r=>{const a=()=>{t.onmessage=null,e.close(),t.close(),r()};t.onmessage=()=>a();try{e.postMessage(i,[i])}catch{}finally{a()}})},QS=(i,e,t,r,a,o,h,c,f,d,m)=>(b,w)=>{const y=h(b)?b:o(b);if(a.has(w)){const A=t();return Promise.reject(A)}try{a.add(w)}catch{}return e(f,()=>f(y))?y.decodeAudioData(w).then(A=>(Q5(w).catch(()=>{}),e(c,()=>c(A))||m(A),i.add(A),A)):new Promise((A,N)=>{const k=async()=>{try{await Q5(w)}catch{}},C=F=>{N(F),k()};try{y.decodeAudioData(w,F=>{typeof F.copyFromChannel!="function"&&(d(F),hg(F)),i.add(F),k().then(()=>A(F))},F=>{C(F===null?r():F)})}catch(F){C(F)}})},$S=(i,e,t,r,a,o,h,c)=>(f,d)=>{const m=e.get(f);if(m===void 0)throw new Error("Missing the expected cycle count.");const b=o(f.context),w=c(b);if(m===d){if(e.delete(f),!w&&h(f)){const y=r(f),{outputs:A}=t(f);for(const N of A)if(ed(N)){const k=r(N[0]);i(y,k,N[1],N[2])}else{const k=a(N[0]);y.connect(k,N[1])}}}else e.set(f,m-d)},JS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},eA=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),b={...JS,...d},w=r(m,b),y=o(m),A=y?t(b.maxDelayTime):null;super(f,!1,w,A),this._delayTime=e(this,y,w.delayTime),h(this,b.maxDelayTime)}get delayTime(){return this._delayTime}},tA=(i,e,t,r,a)=>o=>{const h=new WeakMap,c=async(f,d)=>{let m=t(f);const b=Fr(m,d);if(!b){const w={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:o};m=e(d,w)}return h.set(d,m),b?await i(d,f.delayTime,m.delayTime):await r(d,f.delayTime,m.delayTime),await a(f,d,m),m};return{render(f,d){const m=h.get(d);return m!==void 0?Promise.resolve(m):c(f,d)}}},nA=i=>(e,t,r,a)=>i(e[a],o=>o[0]===t&&o[1]===r),iA=i=>(e,t)=>{i(e).delete(t)},rA=i=>"delayTime"in i,sA=(i,e,t)=>function r(a,o){const h=Bp(o)?o:t(i,o);if(rA(h))return[];if(a[0]===h)return[a];if(a.includes(h))return[];const{outputs:c}=e(h);return Array.from(c).map(f=>r([...a,h],f[0])).reduce((f,d)=>f.concat(d),[])},lp=(i,e,t)=>{const r=e[t];if(r===void 0)throw i();return r},aA=i=>(e,t=void 0,r=void 0,a=0)=>t===void 0?e.forEach(o=>o.disconnect()):typeof t=="number"?lp(i,e,t).disconnect():Fp(t)?r===void 0?e.forEach(o=>o.disconnect(t)):a===void 0?lp(i,e,r).disconnect(t,0):lp(i,e,r).disconnect(t,0,a):r===void 0?e.forEach(o=>o.disconnect(t)):lp(i,e,r).disconnect(t,0),oA={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},lA=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const b=o(d),w={...oA,...m},y=r(b,w),A=h(b),N=A?t():null;super(d,!1,y,N),this._attack=e(this,A,y.attack),this._knee=e(this,A,y.knee),this._nativeDynamicsCompressorNode=y,this._ratio=e(this,A,y.ratio),this._release=e(this,A,y.release),this._threshold=e(this,A,y.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=m,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},cA=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Fr(d,f);if(!m){const b={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=e(f,b)}return o.set(f,d),m?(await i(f,c.attack,d.attack),await i(f,c.knee,d.knee),await i(f,c.ratio,d.ratio),await i(f,c.release,d.release),await i(f,c.threshold,d.threshold)):(await r(f,c.attack,d.attack),await r(f,c.knee,d.knee),await r(f,c.ratio,d.ratio),await r(f,c.release,d.release),await r(f,c.threshold,d.threshold)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},uA=()=>new DOMException("","EncodingError"),hA=i=>e=>new Promise((t,r)=>{if(i===null){r(new SyntaxError);return}const a=i.document.head;if(a===null)r(new SyntaxError);else{const o=i.document.createElement("script"),h=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(h),f=i.onerror,d=()=>{i.onerror=f,URL.revokeObjectURL(c)};i.onerror=(m,b,w,y,A)=>{if(b===c||b===i.location.href&&w===1&&y===1)return d(),r(A),!1;if(f!==null)return f(m,b,w,y,A)},o.onerror=()=>{d(),r(new SyntaxError)},o.onload=()=>{d(),t()},o.src=c,o.type="module",a.appendChild(o)}}),fA=i=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,r,a){if(r!==null){let o=this._listeners.get(r);o===void 0&&(o=i(this,r),typeof r=="function"&&this._listeners.set(r,o)),this._nativeEventTarget.addEventListener(t,o,a)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,r,a){const o=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,a)}},dA=i=>(e,t,r)=>{Object.defineProperties(i,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{i!==null&&(delete i.currentFrame,delete i.currentTime)}},pA=i=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw i()},mA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},gA=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=a(c),m={...mA,...f},b=r(d,m),w=o(d),y=w?t():null;super(c,!1,b,y),this._gain=e(this,w,b.gain,$r,ws)}get gain(){return this._gain}},vA=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Fr(d,f);if(!m){const b={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=e(f,b)}return o.set(f,d),m?await i(f,c.gain,d.gain):await r(f,c.gain,d.gain),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},yA=(i,e)=>t=>e(i,t),bA=i=>e=>{const t=i(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},xA=i=>e=>{var t;return(t=i.get(e))!==null&&t!==void 0?t:0},_A=i=>e=>{const t=i(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},wA=i=>e=>i.get(e),br=()=>new DOMException("","InvalidStateError"),SA=i=>e=>{const t=i.get(e);if(t===void 0)throw br();return t},AA=(i,e)=>t=>{let r=i.get(t);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),i.set(t,r),r},NA=i=>e=>{const t=i.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},u1=()=>new DOMException("","InvalidAccessError"),CA=i=>{i.getFrequencyResponse=(e=>(t,r,a)=>{if(t.length!==r.length||r.length!==a.length)throw u1();return e.call(i,t,r,a)})(i.getFrequencyResponse)},TA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},EA=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=r(c),m=a(d),b={...TA,...f},w=e(d,m?null:c.baseLatency,b),y=m?t(b.feedback,b.feedforward):null;super(c,!1,w,y),CA(w),this._nativeIIRFilterNode=w,o(this,1)}getFrequencyResponse(c,f,d){return this._nativeIIRFilterNode.getFrequencyResponse(c,f,d)}},hx=(i,e,t,r,a,o,h,c,f,d,m)=>{const b=d.length;let w=c;for(let y=0;y<b;y+=1){let A=t[0]*d[y];for(let N=1;N<a;N+=1){const k=w-N&f-1;A+=t[N]*o[k],A-=i[N]*h[k]}for(let N=a;N<r;N+=1)A+=t[N]*o[w-N&f-1];for(let N=a;N<e;N+=1)A-=i[N]*h[w-N&f-1];o[w]=d[y],h[w]=A,w=w+1&f-1,m[y]=A}return w},kA=(i,e,t,r)=>{const a=t instanceof Float64Array?t:new Float64Array(t),o=r instanceof Float64Array?r:new Float64Array(r),h=a.length,c=o.length,f=Math.min(h,c);if(a[0]!==1){for(let A=0;A<h;A+=1)o[A]/=a[0];for(let A=1;A<c;A+=1)a[A]/=a[0]}const d=32,m=new Float32Array(d),b=new Float32Array(d),w=e.createBuffer(i.numberOfChannels,i.length,i.sampleRate),y=i.numberOfChannels;for(let A=0;A<y;A+=1){const N=i.getChannelData(A),k=w.getChannelData(A);m.fill(0),b.fill(0),hx(a,h,o,c,f,m,b,0,d,N,k)}return w},OA=(i,e,t,r,a)=>(o,h)=>{const c=new WeakMap;let f=null;const d=async(m,b)=>{let w=null,y=e(m);const A=Fr(y,b);if(b.createIIRFilter===void 0?w=i(b,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):A||(y=b.createIIRFilter(h,o)),c.set(b,w===null?y:w),w!==null){if(f===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const k=new t(m.context.destination.channelCount,m.context.length,b.sampleRate);f=(async()=>{await r(m,k,k.destination);const C=await a(k);return kA(C,b,o,h)})()}const N=await f;return w.buffer=N,w.start(0),w}return await r(m,b,y),y};return{render(m,b){const w=c.get(b);return w!==void 0?Promise.resolve(w):d(m,b)}}},LA=(i,e,t,r,a,o)=>h=>(c,f)=>{const d=i.get(c);if(d===void 0){if(!h&&o(c)){const m=r(c),{outputs:b}=t(c);for(const w of b)if(ed(w)){const y=r(w[0]);e(m,y,w[1],w[2])}else{const y=a(w[0]);m.disconnect(y,w[1])}}i.set(c,f)}else i.set(c,d+f)},MA=(i,e)=>t=>{const r=i.get(t);return e(r)||e(t)},DA=(i,e)=>t=>i.has(t)||e(t),jA=(i,e)=>t=>i.has(t)||e(t),RA=(i,e)=>t=>{const r=i.get(t);return e(r)||e(t)},IA=i=>e=>i!==null&&e instanceof i,VA=i=>e=>i!==null&&typeof i.AudioNode=="function"&&e instanceof i.AudioNode,BA=i=>e=>i!==null&&typeof i.AudioParam=="function"&&e instanceof i.AudioParam,qA=(i,e)=>t=>i(t)||e(t),zA=i=>e=>i!==null&&e instanceof i,FA=i=>i!==null&&i.isSecureContext,PA=(i,e,t,r)=>class extends i{constructor(o,h){const c=t(o),f=e(c,h);if(r(c))throw TypeError();super(o,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},UA={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},HA=(i,e,t,r)=>class extends i{constructor(o,h){const c=t(o);if(r(c))throw new TypeError;const f={...UA,...h},d=e(c,f);super(o,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},GA=(i,e,t,r)=>class extends i{constructor(o,h){const c=t(o),f=e(c,h);if(r(c))throw new TypeError;super(o,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},YA=(i,e,t)=>class extends i{constructor(a,o){const h=t(a),c=e(h,o);super(a,!0,c,null)}},WA=(i,e,t,r,a,o)=>class extends t{constructor(c,f){super(c),this._nativeContext=c,l1.set(this,c),r(c)&&a.set(c,new Set),this._destination=new i(this,f),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const f=typeof c=="function"?o(this,c):null;this._nativeContext.onstatechange=f;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===f?c:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Ff=i=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=i.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},XA=(i,e)=>(t,r,a)=>{const o=new Set;return t.connect=(h=>(c,f=0,d=0)=>{const m=o.size===0;if(e(c))return h.call(t,c,f,d),i(o,[c,f,d],b=>b[0]===c&&b[1]===f&&b[2]===d,!0),m&&r(),c;h.call(t,c,f),i(o,[c,f],b=>b[0]===c&&b[1]===f,!0),m&&r()})(t.connect),t.disconnect=(h=>(c,f,d)=>{const m=o.size>0;if(c===void 0)h.apply(t),o.clear();else if(typeof c=="number"){h.call(t,c);for(const w of o)w[1]===c&&o.delete(w)}else{e(c)?h.call(t,c,f,d):h.call(t,c,f);for(const w of o)w[0]===c&&(f===void 0||w[1]===f)&&(d===void 0||w[2]===d)&&o.delete(w)}const b=o.size===0;m&&b&&a()})(t.disconnect),t},gi=(i,e,t)=>{const r=e[t];r!==void 0&&r!==i[t]&&(i[t]=r)},cr=(i,e)=>{gi(i,e,"channelCount"),gi(i,e,"channelCountMode"),gi(i,e,"channelInterpretation")},$5=i=>typeof i.getFloatTimeDomainData=="function",ZA=i=>{i.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);i.getByteTimeDomainData(t);const r=Math.max(t.length,i.fftSize);for(let a=0;a<r;a+=1)e[a]=(t[a]-128)*.0078125;return e}},KA=(i,e)=>(t,r)=>{const a=t.createAnalyser();if(cr(a,r),!(r.maxDecibels>r.minDecibels))throw e();return gi(a,r,"fftSize"),gi(a,r,"maxDecibels"),gi(a,r,"minDecibels"),gi(a,r,"smoothingTimeConstant"),i($5,()=>$5(a))||ZA(a),a},QA=i=>i===null?null:i.hasOwnProperty("AudioBuffer")?i.AudioBuffer:null,Mi=(i,e,t)=>{const r=e[t];r!==void 0&&r!==i[t].value&&(i[t].value=r)},$A=i=>{i.start=(e=>{let t=!1;return(r=0,a=0,o)=>{if(t)throw br();e.call(i,r,a,o),t=!0}})(i.start)},pg=i=>{i.start=(e=>(t=0,r=0,a)=>{if(typeof a=="number"&&a<0||r<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(i,t,r,a)})(i.start)},mg=i=>{i.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(i,t)})(i.stop)},JA=(i,e,t,r,a,o,h,c,f,d,m)=>(b,w)=>{const y=b.createBufferSource();return cr(y,w),Mi(y,w,"playbackRate"),gi(y,w,"buffer"),gi(y,w,"loop"),gi(y,w,"loopEnd"),gi(y,w,"loopStart"),e(t,()=>t(b))||$A(y),e(r,()=>r(b))||f(y),e(a,()=>a(b))||d(y,b),e(o,()=>o(b))||pg(y),e(h,()=>h(b))||m(y,b),e(c,()=>c(b))||mg(y),i(b,y),y},e6=i=>i===null?null:i.hasOwnProperty("AudioContext")?i.AudioContext:i.hasOwnProperty("webkitAudioContext")?i.webkitAudioContext:null,t6=(i,e)=>(t,r,a)=>{const o=t.destination;if(o.channelCount!==r)try{o.channelCount=r}catch{}a&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:r});const h=i(t,{channelCount:r,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(h,"channelCount",c=>()=>c.call(h),c=>f=>{c.call(h,f);try{o.channelCount=f}catch(d){if(f>o.maxChannelCount)throw d}}),e(h,"channelCountMode",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelCountMode=f}),e(h,"channelInterpretation",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelInterpretation=f}),Object.defineProperty(h,"maxChannelCount",{get:()=>o.maxChannelCount}),h.connect(o),h},n6=i=>i===null?null:i.hasOwnProperty("AudioWorkletNode")?i.AudioWorkletNode:null,i6=i=>{const{port1:e}=new MessageChannel;try{e.postMessage(i)}finally{e.close()}},r6=(i,e,t,r,a)=>(o,h,c,f,d,m)=>{if(c!==null)try{const b=new c(o,f,m),w=new Map;let y=null;if(Object.defineProperties(b,{channelCount:{get:()=>m.channelCount,set:()=>{throw i()}},channelCountMode:{get:()=>"explicit",set:()=>{throw i()}},onprocessorerror:{get:()=>y,set:A=>{typeof y=="function"&&b.removeEventListener("processorerror",y),y=typeof A=="function"?A:null,typeof y=="function"&&b.addEventListener("processorerror",y)}}}),b.addEventListener=(A=>(...N)=>{if(N[0]==="processorerror"){const k=typeof N[1]=="function"?N[1]:typeof N[1]=="object"&&N[1]!==null&&typeof N[1].handleEvent=="function"?N[1].handleEvent:null;if(k!==null){const C=w.get(N[1]);C!==void 0?N[1]=C:(N[1]=F=>{F.type==="error"?(Object.defineProperties(F,{type:{value:"processorerror"}}),k(F)):k(new ErrorEvent(N[0],{...F}))},w.set(k,N[1]))}}return A.call(b,"error",N[1],N[2]),A.call(b,...N)})(b.addEventListener),b.removeEventListener=(A=>(...N)=>{if(N[0]==="processorerror"){const k=w.get(N[1]);k!==void 0&&(w.delete(N[1]),N[1]=k)}return A.call(b,"error",N[1],N[2]),A.call(b,N[0],N[1],N[2])})(b.removeEventListener),m.numberOfOutputs!==0){const A=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return b.connect(A).connect(o.destination),a(b,()=>A.disconnect(),()=>A.connect(o.destination))}return b}catch(b){throw b.code===11?r():b}if(d===void 0)throw r();return i6(m),e(o,h,d,m)},fx=(i,e)=>i===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(i*e))))),s6=i=>new Promise((e,t)=>{const{port1:r,port2:a}=new MessageChannel;r.onmessage=({data:o})=>{r.close(),a.close(),e(o)},r.onmessageerror=({data:o})=>{r.close(),a.close(),t(o)},a.postMessage(i)}),a6=async(i,e)=>{const t=await s6(e);return new i(t)},o6=(i,e,t,r)=>{let a=q0.get(i);a===void 0&&(a=new WeakMap,q0.set(i,a));const o=a6(t,r);return a.set(e,o),o},l6=(i,e,t,r,a,o,h,c,f,d,m,b,w)=>(y,A,N,k)=>{if(k.numberOfInputs===0&&k.numberOfOutputs===0)throw f();const C=Array.isArray(k.outputChannelCount)?k.outputChannelCount:Array.from(k.outputChannelCount);if(C.some(U=>U<1))throw f();if(C.length!==k.numberOfOutputs)throw e();if(k.channelCountMode!=="explicit")throw f();const F=k.channelCount*k.numberOfInputs,z=C.reduce((U,De)=>U+De,0),V=N.parameterDescriptors===void 0?0:N.parameterDescriptors.length;if(F+V>6||z>6)throw f();const I=new MessageChannel,Z=[],G=[];for(let U=0;U<k.numberOfInputs;U+=1)Z.push(h(y,{channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation,gain:1})),G.push(a(y,{channelCount:k.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:k.channelCount}));const D=[];if(N.parameterDescriptors!==void 0)for(const{defaultValue:U,maxValue:De,minValue:ut,name:nt}of N.parameterDescriptors){const Me=o(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:k.parameterData[nt]!==void 0?k.parameterData[nt]:U===void 0?0:U});Object.defineProperties(Me.offset,{defaultValue:{get:()=>U===void 0?0:U},maxValue:{get:()=>De===void 0?$r:De},minValue:{get:()=>ut===void 0?ws:ut}}),D.push(Me)}const R=r(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,F+V)}),K=fx(A,y.sampleRate),E=c(y,K,F+V,Math.max(1,z)),j=a(y,{channelCount:Math.max(1,z),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,z)}),P=[];for(let U=0;U<k.numberOfOutputs;U+=1)P.push(r(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[U]}));for(let U=0;U<k.numberOfInputs;U+=1){Z[U].connect(G[U]);for(let De=0;De<k.channelCount;De+=1)G[U].connect(R,De,U*k.channelCount+De)}const J=new cx(N.parameterDescriptors===void 0?[]:N.parameterDescriptors.map(({name:U},De)=>{const ut=D[De];return ut.connect(R,0,F+De),ut.start(0),[U,ut.offset]}));R.connect(E);let ue=k.channelInterpretation,$=null;const re=k.numberOfOutputs===0?[E]:P,ce={get bufferSize(){return K},get channelCount(){return k.channelCount},set channelCount(U){throw t()},get channelCountMode(){return k.channelCountMode},set channelCountMode(U){throw t()},get channelInterpretation(){return ue},set channelInterpretation(U){for(const De of Z)De.channelInterpretation=U;ue=U},get context(){return E.context},get inputs(){return Z},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get onprocessorerror(){return $},set onprocessorerror(U){typeof $=="function"&&ce.removeEventListener("processorerror",$),$=typeof U=="function"?U:null,typeof $=="function"&&ce.addEventListener("processorerror",$)},get parameters(){return J},get port(){return I.port2},addEventListener(...U){return E.addEventListener(U[0],U[1],U[2])},connect:i.bind(null,re),disconnect:d.bind(null,re),dispatchEvent(...U){return E.dispatchEvent(U[0])},removeEventListener(...U){return E.removeEventListener(U[0],U[1],U[2])}},pe=new Map;I.port1.addEventListener=(U=>(...De)=>{if(De[0]==="message"){const ut=typeof De[1]=="function"?De[1]:typeof De[1]=="object"&&De[1]!==null&&typeof De[1].handleEvent=="function"?De[1].handleEvent:null;if(ut!==null){const nt=pe.get(De[1]);nt!==void 0?De[1]=nt:(De[1]=Me=>{m(y.currentTime,y.sampleRate,()=>ut(Me))},pe.set(ut,De[1]))}}return U.call(I.port1,De[0],De[1],De[2])})(I.port1.addEventListener),I.port1.removeEventListener=(U=>(...De)=>{if(De[0]==="message"){const ut=pe.get(De[1]);ut!==void 0&&(pe.delete(De[1]),De[1]=ut)}return U.call(I.port1,De[0],De[1],De[2])})(I.port1.removeEventListener);let Ne=null;Object.defineProperty(I.port1,"onmessage",{get:()=>Ne,set:U=>{typeof Ne=="function"&&I.port1.removeEventListener("message",Ne),Ne=typeof U=="function"?U:null,typeof Ne=="function"&&(I.port1.addEventListener("message",Ne),I.port1.start())}}),N.prototype.port=I.port1;let X=null;o6(y,ce,N,k).then(U=>X=U);const H=Up(k.numberOfInputs,k.channelCount),ee=Up(k.numberOfOutputs,C),ie=N.parameterDescriptors===void 0?[]:N.parameterDescriptors.reduce((U,{name:De})=>({...U,[De]:new Float32Array(128)}),{});let oe=!0;const me=()=>{k.numberOfOutputs>0&&E.disconnect(j);for(let U=0,De=0;U<k.numberOfOutputs;U+=1){const ut=P[U];for(let nt=0;nt<C[U];nt+=1)j.disconnect(ut,De+nt,nt);De+=C[U]}},de=new Map;E.onaudioprocess=({inputBuffer:U,outputBuffer:De})=>{if(X!==null){const ut=b(ce);for(let nt=0;nt<K;nt+=128){for(let Me=0;Me<k.numberOfInputs;Me+=1)for(let tt=0;tt<k.channelCount;tt+=1)Pp(U,H[Me],tt,tt,nt);N.parameterDescriptors!==void 0&&N.parameterDescriptors.forEach(({name:Me},tt)=>{Pp(U,ie,Me,F+tt,nt)});for(let Me=0;Me<k.numberOfInputs;Me+=1)for(let tt=0;tt<C[Me];tt+=1)ee[Me][tt].byteLength===0&&(ee[Me][tt]=new Float32Array(128));try{const Me=H.map((it,lt)=>{if(ut[lt].size>0)return de.set(lt,K/128),it;const kt=de.get(lt);return kt===void 0?[]:(it.every(Ge=>Ge.every(Ke=>Ke===0))&&(kt===1?de.delete(lt):de.set(lt,kt-1)),it)});oe=m(y.currentTime+nt/y.sampleRate,y.sampleRate,()=>X.process(Me,ee,ie));for(let it=0,lt=0;it<k.numberOfOutputs;it+=1){for(let pt=0;pt<C[it];pt+=1)ux(De,ee[it],pt,lt+pt,nt);lt+=C[it]}}catch(Me){oe=!1,ce.dispatchEvent(new ErrorEvent("processorerror",{colno:Me.colno,filename:Me.filename,lineno:Me.lineno,message:Me.message}))}if(!oe){for(let Me=0;Me<k.numberOfInputs;Me+=1){Z[Me].disconnect(G[Me]);for(let tt=0;tt<k.channelCount;tt+=1)G[nt].disconnect(R,tt,Me*k.channelCount+tt)}if(N.parameterDescriptors!==void 0){const Me=N.parameterDescriptors.length;for(let tt=0;tt<Me;tt+=1){const it=D[tt];it.disconnect(R,0,F+tt),it.stop()}}R.disconnect(E),E.onaudioprocess=null,ge?me():Xe();break}}}};let ge=!1;const _e=h(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Re=()=>E.connect(_e).connect(y.destination),Xe=()=>{E.disconnect(_e),_e.disconnect()},He=()=>{if(oe){Xe(),k.numberOfOutputs>0&&E.connect(j);for(let U=0,De=0;U<k.numberOfOutputs;U+=1){const ut=P[U];for(let nt=0;nt<C[U];nt+=1)j.connect(ut,De+nt,nt);De+=C[U]}}ge=!0},Qe=()=>{oe&&(Re(),me()),ge=!1};return Re(),w(ce,He,Qe)},dx=(i,e)=>{const t=i.createBiquadFilter();return cr(t,e),Mi(t,e,"Q"),Mi(t,e,"detune"),Mi(t,e,"frequency"),Mi(t,e,"gain"),gi(t,e,"type"),t},c6=(i,e)=>(t,r)=>{const a=t.createChannelMerger(r.numberOfInputs);return i!==null&&i.name==="webkitAudioContext"&&e(t,a),cr(a,r),a},u6=i=>{const e=i.numberOfOutputs;Object.defineProperty(i,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw br()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw br()}}),Object.defineProperty(i,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw br()}})},td=(i,e)=>{const t=i.createChannelSplitter(e.numberOfOutputs);return cr(t,e),u6(t),t},h6=(i,e,t,r,a)=>(o,h)=>{if(o.createConstantSource===void 0)return t(o,h);const c=o.createConstantSource();return cr(c,h),Mi(c,h,"offset"),e(r,()=>r(o))||pg(c),e(a,()=>a(o))||mg(c),i(o,c),c},Lh=(i,e)=>(i.connect=e.connect.bind(e),i.disconnect=e.disconnect.bind(e),i),f6=(i,e,t,r)=>(a,{offset:o,...h})=>{const c=a.createBuffer(1,2,44100),f=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=t(a,{...h,gain:o}),m=c.getChannelData(0);m[0]=1,m[1]=1,f.buffer=c,f.loop=!0;const b={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(A){d.channelCount=A},get channelCountMode(){return d.channelCountMode},set channelCountMode(A){d.channelCountMode=A},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(A){d.channelInterpretation=A},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return f.onended},set onended(A){f.onended=A},addEventListener(...A){return f.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return f.dispatchEvent(A[0])},removeEventListener(...A){return f.removeEventListener(A[0],A[1],A[2])},start(A=0){f.start.call(f,A)},stop(A=0){f.stop.call(f,A)}},w=()=>f.connect(d),y=()=>f.disconnect(d);return i(a,f),r(Lh(b,d),w,y)},d6=(i,e)=>(t,r)=>{const a=t.createConvolver();if(cr(a,r),r.disableNormalization===a.normalize&&(a.normalize=!r.disableNormalization),gi(a,r,"buffer"),r.channelCount>2||(e(a,"channelCount",o=>()=>o.call(a),o=>h=>{if(h>2)throw i();return o.call(a,h)}),r.channelCountMode==="max"))throw i();return e(a,"channelCountMode",o=>()=>o.call(a),o=>h=>{if(h==="max")throw i();return o.call(a,h)}),a},px=(i,e)=>{const t=i.createDelay(e.maxDelayTime);return cr(t,e),Mi(t,e,"delayTime"),t},p6=i=>(e,t)=>{const r=e.createDynamicsCompressor();if(cr(r,t),t.channelCount>2||t.channelCountMode==="max")throw i();return Mi(r,t,"attack"),Mi(r,t,"knee"),Mi(r,t,"ratio"),Mi(r,t,"release"),Mi(r,t,"threshold"),r},As=(i,e)=>{const t=i.createGain();return cr(t,e),Mi(t,e,"gain"),t},m6=i=>(e,t,r)=>{if(e.createIIRFilter===void 0)return i(e,t,r);const a=e.createIIRFilter(r.feedforward,r.feedback);return cr(a,r),a};function g6(i,e){const t=e[0]*e[0]+e[1]*e[1];return[(i[0]*e[0]+i[1]*e[1])/t,(i[1]*e[0]-i[0]*e[1])/t]}function v6(i,e){return[i[0]*e[0]-i[1]*e[1],i[0]*e[1]+i[1]*e[0]]}function J5(i,e){let t=[0,0];for(let r=i.length-1;r>=0;r-=1)t=v6(t,e),t[0]+=i[r];return t}const y6=(i,e,t,r)=>(a,o,{channelCount:h,channelCountMode:c,channelInterpretation:f,feedback:d,feedforward:m})=>{const b=fx(o,a.sampleRate),w=d instanceof Float64Array?d:new Float64Array(d),y=m instanceof Float64Array?m:new Float64Array(m),A=w.length,N=y.length,k=Math.min(A,N);if(A===0||A>20)throw r();if(w[0]===0)throw e();if(N===0||N>20)throw r();if(y[0]===0)throw e();if(w[0]!==1){for(let D=0;D<N;D+=1)y[D]/=w[0];for(let D=1;D<A;D+=1)w[D]/=w[0]}const C=t(a,b,h,h);C.channelCount=h,C.channelCountMode=c,C.channelInterpretation=f;const F=32,z=[],V=[],I=[];for(let D=0;D<h;D+=1){z.push(0);const R=new Float32Array(F),K=new Float32Array(F);R.fill(0),K.fill(0),V.push(R),I.push(K)}C.onaudioprocess=D=>{const R=D.inputBuffer,K=D.outputBuffer,E=R.numberOfChannels;for(let j=0;j<E;j+=1){const P=R.getChannelData(j),J=K.getChannelData(j);z[j]=hx(w,A,y,N,k,V[j],I[j],z[j],F,P,J)}};const Z=a.sampleRate/2;return Lh({get bufferSize(){return b},get channelCount(){return C.channelCount},set channelCount(D){C.channelCount=D},get channelCountMode(){return C.channelCountMode},set channelCountMode(D){C.channelCountMode=D},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(D){C.channelInterpretation=D},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...D){return C.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return C.dispatchEvent(D[0])},getFrequencyResponse(D,R,K){if(D.length!==R.length||R.length!==K.length)throw i();const E=D.length;for(let j=0;j<E;j+=1){const P=-Math.PI*(D[j]/Z),J=[Math.cos(P),Math.sin(P)],ue=J5(y,J),$=J5(w,J),re=g6(ue,$);R[j]=Math.sqrt(re[0]*re[0]+re[1]*re[1]),K[j]=Math.atan2(re[1],re[0])}},removeEventListener(...D){return C.removeEventListener(D[0],D[1],D[2])}},C)},b6=(i,e)=>i.createMediaElementSource(e.mediaElement),x6=(i,e)=>{const t=i.createMediaStreamDestination();return cr(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},_6=(i,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((o,h)=>o.id<h.id?-1:o.id>h.id?1:0);const r=t.slice(0,1),a=i.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(a,"mediaStream",{value:e}),a},w6=(i,e)=>(t,{mediaStreamTrack:r})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(r);const a=new MediaStream([r]),o=t.createMediaStreamSource(a);if(r.kind!=="audio")throw i();if(e(t))throw new TypeError;return o},S6=i=>i===null?null:i.hasOwnProperty("OfflineAudioContext")?i.OfflineAudioContext:i.hasOwnProperty("webkitOfflineAudioContext")?i.webkitOfflineAudioContext:null,A6=(i,e,t,r,a,o)=>(h,c)=>{const f=h.createOscillator();return cr(f,c),Mi(f,c,"detune"),Mi(f,c,"frequency"),c.periodicWave!==void 0?f.setPeriodicWave(c.periodicWave):gi(f,c,"type"),e(t,()=>t(h))||pg(f),e(r,()=>r(h))||o(f,h),e(a,()=>a(h))||mg(f),i(h,f),f},N6=i=>(e,t)=>{const r=e.createPanner();return r.orientationX===void 0?i(e,t):(cr(r,t),Mi(r,t,"orientationX"),Mi(r,t,"orientationY"),Mi(r,t,"orientationZ"),Mi(r,t,"positionX"),Mi(r,t,"positionY"),Mi(r,t,"positionZ"),gi(r,t,"coneInnerAngle"),gi(r,t,"coneOuterAngle"),gi(r,t,"coneOuterGain"),gi(r,t,"distanceModel"),gi(r,t,"maxDistance"),gi(r,t,"panningModel"),gi(r,t,"refDistance"),gi(r,t,"rolloffFactor"),r)},C6=(i,e,t,r,a,o,h,c,f,d)=>(m,{coneInnerAngle:b,coneOuterAngle:w,coneOuterGain:y,distanceModel:A,maxDistance:N,orientationX:k,orientationY:C,orientationZ:F,panningModel:z,positionX:V,positionY:I,positionZ:Z,refDistance:G,rolloffFactor:D,...R})=>{const K=m.createPanner();if(R.channelCount>2||R.channelCountMode==="max")throw h();cr(K,R);const E={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},j=t(m,{...E,channelInterpretation:"speakers",numberOfInputs:6}),P=r(m,{...R,gain:1}),J=r(m,{...E,gain:1}),ue=r(m,{...E,gain:0}),$=r(m,{...E,gain:0}),re=r(m,{...E,gain:0}),ce=r(m,{...E,gain:0}),pe=r(m,{...E,gain:0}),Ne=a(m,256,6,1),X=o(m,{...E,curve:new Float32Array([1,1]),oversample:"none"});let T=[k,C,F],H=[V,I,Z];const ee=new Float32Array(1);Ne.onaudioprocess=({inputBuffer:de})=>{const ge=[f(de,ee,0),f(de,ee,1),f(de,ee,2)];ge.some((Re,Xe)=>Re!==T[Xe])&&(K.setOrientation(...ge),T=ge);const _e=[f(de,ee,3),f(de,ee,4),f(de,ee,5)];_e.some((Re,Xe)=>Re!==H[Xe])&&(K.setPosition(..._e),H=_e)},Object.defineProperty(ue.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(re.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ce.gain,"defaultValue",{get:()=>0}),Object.defineProperty(pe.gain,"defaultValue",{get:()=>0});const ie={get bufferSize(){},get channelCount(){return K.channelCount},set channelCount(de){if(de>2)throw h();P.channelCount=de,K.channelCount=de},get channelCountMode(){return K.channelCountMode},set channelCountMode(de){if(de==="max")throw h();P.channelCountMode=de,K.channelCountMode=de},get channelInterpretation(){return K.channelInterpretation},set channelInterpretation(de){P.channelInterpretation=de,K.channelInterpretation=de},get coneInnerAngle(){return K.coneInnerAngle},set coneInnerAngle(de){K.coneInnerAngle=de},get coneOuterAngle(){return K.coneOuterAngle},set coneOuterAngle(de){K.coneOuterAngle=de},get coneOuterGain(){return K.coneOuterGain},set coneOuterGain(de){if(de<0||de>1)throw e();K.coneOuterGain=de},get context(){return K.context},get distanceModel(){return K.distanceModel},set distanceModel(de){K.distanceModel=de},get inputs(){return[P]},get maxDistance(){return K.maxDistance},set maxDistance(de){if(de<0)throw new RangeError;K.maxDistance=de},get numberOfInputs(){return K.numberOfInputs},get numberOfOutputs(){return K.numberOfOutputs},get orientationX(){return J.gain},get orientationY(){return ue.gain},get orientationZ(){return $.gain},get panningModel(){return K.panningModel},set panningModel(de){K.panningModel=de},get positionX(){return re.gain},get positionY(){return ce.gain},get positionZ(){return pe.gain},get refDistance(){return K.refDistance},set refDistance(de){if(de<0)throw new RangeError;K.refDistance=de},get rolloffFactor(){return K.rolloffFactor},set rolloffFactor(de){if(de<0)throw new RangeError;K.rolloffFactor=de},addEventListener(...de){return P.addEventListener(de[0],de[1],de[2])},dispatchEvent(...de){return P.dispatchEvent(de[0])},removeEventListener(...de){return P.removeEventListener(de[0],de[1],de[2])}};b!==ie.coneInnerAngle&&(ie.coneInnerAngle=b),w!==ie.coneOuterAngle&&(ie.coneOuterAngle=w),y!==ie.coneOuterGain&&(ie.coneOuterGain=y),A!==ie.distanceModel&&(ie.distanceModel=A),N!==ie.maxDistance&&(ie.maxDistance=N),k!==ie.orientationX.value&&(ie.orientationX.value=k),C!==ie.orientationY.value&&(ie.orientationY.value=C),F!==ie.orientationZ.value&&(ie.orientationZ.value=F),z!==ie.panningModel&&(ie.panningModel=z),V!==ie.positionX.value&&(ie.positionX.value=V),I!==ie.positionY.value&&(ie.positionY.value=I),Z!==ie.positionZ.value&&(ie.positionZ.value=Z),G!==ie.refDistance&&(ie.refDistance=G),D!==ie.rolloffFactor&&(ie.rolloffFactor=D),(T[0]!==1||T[1]!==0||T[2]!==0)&&K.setOrientation(...T),(H[0]!==0||H[1]!==0||H[2]!==0)&&K.setPosition(...H);const oe=()=>{P.connect(K),i(P,X,0,0),X.connect(J).connect(j,0,0),X.connect(ue).connect(j,0,1),X.connect($).connect(j,0,2),X.connect(re).connect(j,0,3),X.connect(ce).connect(j,0,4),X.connect(pe).connect(j,0,5),j.connect(Ne).connect(m.destination)},me=()=>{P.disconnect(K),c(P,X,0,0),X.disconnect(J),J.disconnect(j),X.disconnect(ue),ue.disconnect(j),X.disconnect($),$.disconnect(j),X.disconnect(re),re.disconnect(j),X.disconnect(ce),ce.disconnect(j),X.disconnect(pe),pe.disconnect(j),j.disconnect(Ne),Ne.disconnect(m.destination)};return d(Lh(ie,K),oe,me)},T6=i=>(e,{disableNormalization:t,imag:r,real:a})=>{const o=r instanceof Float32Array?r:new Float32Array(r),h=a instanceof Float32Array?a:new Float32Array(a),c=e.createPeriodicWave(h,o,{disableNormalization:t});if(Array.from(r).length<2)throw i();return c},nd=(i,e,t,r)=>i.createScriptProcessor(e,t,r),E6=(i,e)=>(t,r)=>{const a=r.channelCountMode;if(a==="clamped-max")throw e();if(t.createStereoPanner===void 0)return i(t,r);const o=t.createStereoPanner();return cr(o,r),Mi(o,r,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>a,set:h=>{if(h!==a)throw e()}}),o},k6=(i,e,t,r,a,o)=>{const c=new Float32Array([1,1]),f=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...d,oversample:"none"},b=(A,N,k,C)=>{const F=new Float32Array(16385),z=new Float32Array(16385);for(let R=0;R<16385;R+=1){const K=R/16384*f;F[R]=Math.cos(K),z[R]=Math.sin(K)}const V=t(A,{...d,gain:0}),I=r(A,{...m,curve:F}),Z=r(A,{...m,curve:c}),G=t(A,{...d,gain:0}),D=r(A,{...m,curve:z});return{connectGraph(){N.connect(V),N.connect(Z.inputs===void 0?Z:Z.inputs[0]),N.connect(G),Z.connect(k),k.connect(I.inputs===void 0?I:I.inputs[0]),k.connect(D.inputs===void 0?D:D.inputs[0]),I.connect(V.gain),D.connect(G.gain),V.connect(C,0,0),G.connect(C,0,1)},disconnectGraph(){N.disconnect(V),N.disconnect(Z.inputs===void 0?Z:Z.inputs[0]),N.disconnect(G),Z.disconnect(k),k.disconnect(I.inputs===void 0?I:I.inputs[0]),k.disconnect(D.inputs===void 0?D:D.inputs[0]),I.disconnect(V.gain),D.disconnect(G.gain),V.disconnect(C,0,0),G.disconnect(C,0,1)}}},w=(A,N,k,C)=>{const F=new Float32Array(16385),z=new Float32Array(16385),V=new Float32Array(16385),I=new Float32Array(16385),Z=Math.floor(16385/2);for(let re=0;re<16385;re+=1)if(re>Z){const ce=(re-Z)/(16384-Z)*f;F[re]=Math.cos(ce),z[re]=Math.sin(ce),V[re]=0,I[re]=1}else{const ce=re/(16384-Z)*f;F[re]=1,z[re]=0,V[re]=Math.cos(ce),I[re]=Math.sin(ce)}const G=e(A,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),D=t(A,{...d,gain:0}),R=r(A,{...m,curve:F}),K=t(A,{...d,gain:0}),E=r(A,{...m,curve:z}),j=r(A,{...m,curve:c}),P=t(A,{...d,gain:0}),J=r(A,{...m,curve:V}),ue=t(A,{...d,gain:0}),$=r(A,{...m,curve:I});return{connectGraph(){N.connect(G),N.connect(j.inputs===void 0?j:j.inputs[0]),G.connect(D,0),G.connect(K,0),G.connect(P,1),G.connect(ue,1),j.connect(k),k.connect(R.inputs===void 0?R:R.inputs[0]),k.connect(E.inputs===void 0?E:E.inputs[0]),k.connect(J.inputs===void 0?J:J.inputs[0]),k.connect($.inputs===void 0?$:$.inputs[0]),R.connect(D.gain),E.connect(K.gain),J.connect(P.gain),$.connect(ue.gain),D.connect(C,0,0),P.connect(C,0,0),K.connect(C,0,1),ue.connect(C,0,1)},disconnectGraph(){N.disconnect(G),N.disconnect(j.inputs===void 0?j:j.inputs[0]),G.disconnect(D,0),G.disconnect(K,0),G.disconnect(P,1),G.disconnect(ue,1),j.disconnect(k),k.disconnect(R.inputs===void 0?R:R.inputs[0]),k.disconnect(E.inputs===void 0?E:E.inputs[0]),k.disconnect(J.inputs===void 0?J:J.inputs[0]),k.disconnect($.inputs===void 0?$:$.inputs[0]),R.disconnect(D.gain),E.disconnect(K.gain),J.disconnect(P.gain),$.disconnect(ue.gain),D.disconnect(C,0,0),P.disconnect(C,0,0),K.disconnect(C,0,1),ue.disconnect(C,0,1)}}},y=(A,N,k,C,F)=>{if(N===1)return b(A,k,C,F);if(N===2)return w(A,k,C,F);throw a()};return(A,{channelCount:N,channelCountMode:k,pan:C,...F})=>{if(k==="max")throw a();const z=i(A,{...F,channelCount:1,channelCountMode:k,numberOfInputs:2}),V=t(A,{...F,channelCount:N,channelCountMode:k,gain:1}),I=t(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:Z,disconnectGraph:G}=y(A,N,V,I,z);Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"maxValue",{get:()=>1}),Object.defineProperty(I.gain,"minValue",{get:()=>-1});const D={get bufferSize(){},get channelCount(){return V.channelCount},set channelCount(j){V.channelCount!==j&&(R&&G(),{connectGraph:Z,disconnectGraph:G}=y(A,j,V,I,z),R&&Z()),V.channelCount=j},get channelCountMode(){return V.channelCountMode},set channelCountMode(j){if(j==="clamped-max"||j==="max")throw a();V.channelCountMode=j},get channelInterpretation(){return V.channelInterpretation},set channelInterpretation(j){V.channelInterpretation=j},get context(){return V.context},get inputs(){return[V]},get numberOfInputs(){return V.numberOfInputs},get numberOfOutputs(){return V.numberOfOutputs},get pan(){return I.gain},addEventListener(...j){return V.addEventListener(j[0],j[1],j[2])},dispatchEvent(...j){return V.dispatchEvent(j[0])},removeEventListener(...j){return V.removeEventListener(j[0],j[1],j[2])}};let R=!1;const K=()=>{Z(),R=!0},E=()=>{G(),R=!1};return o(Lh(D,z),K,E)}},O6=(i,e,t,r,a,o,h)=>(c,f)=>{const d=c.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,f);cr(d,f);const m=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(m!==null&&m.length<2)throw e();gi(d,{curve:m},"curve"),gi(d,f,"oversample");let b=null,w=!1;return h(d,"curve",N=>()=>N.call(d),N=>k=>(N.call(d,k),w&&(r(k)&&b===null?b=i(c,d):!r(k)&&b!==null&&(b(),b=null)),k)),a(d,()=>{w=!0,r(d.curve)&&(b=i(c,d))},()=>{w=!1,b!==null&&(b(),b=null)})},L6=(i,e,t,r,a)=>(o,{curve:h,oversample:c,...f})=>{const d=o.createWaveShaper(),m=o.createWaveShaper();cr(d,f),cr(m,f);const b=t(o,{...f,gain:1}),w=t(o,{...f,gain:-1}),y=t(o,{...f,gain:1}),A=t(o,{...f,gain:-1});let N=null,k=!1,C=null;const F={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(I){b.channelCount=I,w.channelCount=I,d.channelCount=I,y.channelCount=I,m.channelCount=I,A.channelCount=I},get channelCountMode(){return d.channelCountMode},set channelCountMode(I){b.channelCountMode=I,w.channelCountMode=I,d.channelCountMode=I,y.channelCountMode=I,m.channelCountMode=I,A.channelCountMode=I},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(I){b.channelInterpretation=I,w.channelInterpretation=I,d.channelInterpretation=I,y.channelInterpretation=I,m.channelInterpretation=I,A.channelInterpretation=I},get context(){return d.context},get curve(){return C},set curve(I){if(I!==null&&I.length<2)throw e();if(I===null)d.curve=I,m.curve=I;else{const Z=I.length,G=new Float32Array(Z+2-Z%2),D=new Float32Array(Z+2-Z%2);G[0]=I[0],D[0]=-I[Z-1];const R=Math.ceil((Z+1)/2),K=(Z+1)/2-1;for(let E=1;E<R;E+=1){const j=E/R*K,P=Math.floor(j),J=Math.ceil(j);G[E]=P===J?I[P]:(1-(j-P))*I[P]+(1-(J-j))*I[J],D[E]=P===J?-I[Z-1-P]:-((1-(j-P))*I[Z-1-P])-(1-(J-j))*I[Z-1-J]}G[R]=Z%2===1?I[R-1]:(I[R-2]+I[R-1])/2,d.curve=G,m.curve=D}C=I,k&&(r(C)&&N===null?N=i(o,b):N!==null&&(N(),N=null))},get inputs(){return[b]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(I){d.oversample=I,m.oversample=I},addEventListener(...I){return b.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return b.dispatchEvent(I[0])},removeEventListener(...I){return b.removeEventListener(I[0],I[1],I[2])}};h!==null&&(F.curve=h instanceof Float32Array?h:new Float32Array(h)),c!==F.oversample&&(F.oversample=c);const z=()=>{b.connect(d).connect(y),b.connect(w).connect(m).connect(A).connect(y),k=!0,r(C)&&(N=i(o,b))},V=()=>{b.disconnect(d),d.disconnect(y),b.disconnect(w),w.disconnect(m),m.disconnect(A),A.disconnect(y),k=!1,N!==null&&(N(),N=null)};return a(Lh(F,y),z,V)},ts=()=>new DOMException("","NotSupportedError"),M6={numberOfChannels:1},D6=(i,e,t,r,a)=>class extends i{constructor(h,c,f){let d;if(typeof h=="number"&&c!==void 0&&f!==void 0)d={length:c,numberOfChannels:h,sampleRate:f};else if(typeof h=="object")d=h;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:b,sampleRate:w}={...M6,...d},y=r(b,m,w);e(Ff,()=>Ff(y))||y.addEventListener("statechange",(()=>{let A=0;const N=k=>{this._state==="running"&&(A>0?(y.removeEventListener("statechange",N),k.stopImmediatePropagation(),this._waitForThePromiseToSettle(k)):A+=1)};return N})()),super(y,b),this._length=m,this._nativeOfflineAudioContext=y,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,sx(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},j6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},R6=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),b={...j6,...d},w=t(m,b),y=o(m),A=y?r():null,N=f.sampleRate/2;super(f,!1,w,A),this._detune=e(this,y,w.detune,153600,-153600),this._frequency=e(this,y,w.frequency,N,-N),this._nativeOscillatorNode=w,this._onended=null,this._oscillatorNodeRenderer=A,this._oscillatorNodeRenderer!==null&&b.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=b.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeOscillatorNode.onended=d;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===d?f:m}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){Ch(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),ml(this)&&$f(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},I6=(i,e,t,r,a)=>()=>{const o=new WeakMap;let h=null,c=null,f=null;const d=async(m,b)=>{let w=t(m);const y=Fr(w,b);if(!y){const A={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,detune:w.detune.value,frequency:w.frequency.value,periodicWave:h===null?void 0:h,type:w.type};w=e(b,A),c!==null&&w.start(c),f!==null&&w.stop(f)}return o.set(b,w),y?(await i(b,m.detune,w.detune),await i(b,m.frequency,w.frequency)):(await r(b,m.detune,w.detune),await r(b,m.frequency,w.frequency)),await a(m,b,w),w};return{set periodicWave(m){h=m},set start(m){c=m},set stop(m){f=m},render(m,b){const w=o.get(b);return w!==void 0?Promise.resolve(w):d(m,b)}}},V6={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},B6=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),b={...V6,...d},w=t(m,b),y=o(m),A=y?r():null;super(f,!1,w,A),this._nativePannerNode=w,this._orientationX=e(this,y,w.orientationX,$r,ws),this._orientationY=e(this,y,w.orientationY,$r,ws),this._orientationZ=e(this,y,w.orientationZ,$r,ws),this._positionX=e(this,y,w.positionX,$r,ws),this._positionY=e(this,y,w.positionY,$r,ws),this._positionZ=e(this,y,w.positionZ,$r,ws),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},q6=(i,e,t,r,a,o,h,c,f,d)=>()=>{const m=new WeakMap;let b=null;const w=async(y,A)=>{let N=null,k=o(y);const C={channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation},F={...C,coneInnerAngle:k.coneInnerAngle,coneOuterAngle:k.coneOuterAngle,coneOuterGain:k.coneOuterGain,distanceModel:k.distanceModel,maxDistance:k.maxDistance,panningModel:k.panningModel,refDistance:k.refDistance,rolloffFactor:k.rolloffFactor},z=Fr(k,A);if("bufferSize"in k)N=r(A,{...C,gain:1});else if(!z){const V={...F,orientationX:k.orientationX.value,orientationY:k.orientationY.value,orientationZ:k.orientationZ.value,positionX:k.positionX.value,positionY:k.positionY.value,positionZ:k.positionZ.value};k=a(A,V)}if(m.set(A,N===null?k:N),N!==null){if(b===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const E=new h(6,y.context.length,A.sampleRate),j=e(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});j.connect(E.destination),b=(async()=>{const P=await Promise.all([y.orientationX,y.orientationY,y.orientationZ,y.positionX,y.positionY,y.positionZ].map(async(J,ue)=>{const $=t(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ue===0?1:0});return await c(E,J,$.offset),$}));for(let J=0;J<6;J+=1)P[J].connect(j,0,J),P[J].start(0);return d(E)})()}const V=await b,I=r(A,{...C,gain:1});await f(y,A,I);const Z=[];for(let E=0;E<V.numberOfChannels;E+=1)Z.push(V.getChannelData(E));let G=[Z[0][0],Z[1][0],Z[2][0]],D=[Z[3][0],Z[4][0],Z[5][0]],R=r(A,{...C,gain:1}),K=a(A,{...F,orientationX:G[0],orientationY:G[1],orientationZ:G[2],positionX:D[0],positionY:D[1],positionZ:D[2]});I.connect(R).connect(K.inputs[0]),K.connect(N);for(let E=128;E<V.length;E+=128){const j=[Z[0][E],Z[1][E],Z[2][E]],P=[Z[3][E],Z[4][E],Z[5][E]];if(j.some((J,ue)=>J!==G[ue])||P.some((J,ue)=>J!==D[ue])){G=j,D=P;const J=E/A.sampleRate;R.gain.setValueAtTime(0,J),R=r(A,{...C,gain:0}),K=a(A,{...F,orientationX:G[0],orientationY:G[1],orientationZ:G[2],positionX:D[0],positionY:D[1],positionZ:D[2]}),R.gain.setValueAtTime(1,J),I.connect(R).connect(K.inputs[0]),K.connect(N)}}return N}return z?(await i(A,y.orientationX,k.orientationX),await i(A,y.orientationY,k.orientationY),await i(A,y.orientationZ,k.orientationZ),await i(A,y.positionX,k.positionX),await i(A,y.positionY,k.positionY),await i(A,y.positionZ,k.positionZ)):(await c(A,y.orientationX,k.orientationX),await c(A,y.orientationY,k.orientationY),await c(A,y.orientationZ,k.orientationZ),await c(A,y.positionX,k.positionX),await c(A,y.positionY,k.positionY),await c(A,y.positionZ,k.positionZ)),Oh(k)?await f(y,A,k.inputs[0]):await f(y,A,k),k};return{render(y,A){const N=m.get(A);return N!==void 0?Promise.resolve(N):w(y,A)}}},z6={disableNormalization:!1},F6=(i,e,t,r)=>class mx{constructor(o,h){const c=e(o),f=r({...z6,...h}),d=i(c,f);return t.add(d),d}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===mx.prototype||t.has(o)}},P6=(i,e)=>(t,r,a)=>(i(r).replay(a),e(r,t,a)),U6=(i,e,t)=>async(r,a,o)=>{const h=i(r);await Promise.all(h.activeInputs.map((c,f)=>Array.from(c).map(async([d,m])=>{const w=await e(d).render(d,a),y=r.context.destination;!t(d)&&(r!==y||!t(r))&&w.connect(o,m,f)})).reduce((c,f)=>[...c,...f],[]))},H6=(i,e,t)=>async(r,a,o)=>{const h=e(r);await Promise.all(Array.from(h.activeInputs).map(async([c,f])=>{const m=await i(c).render(c,a);t(c)||m.connect(o,f)}))},G6=(i,e,t,r)=>a=>i(Ff,()=>Ff(a))?Promise.resolve(i(r,r)).then(o=>{if(!o){const h=t(a,512,0,1);a.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>a.currentTime,h.connect(a.destination)}return a.startRendering()}):new Promise(o=>{const h=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=c=>{h.disconnect(),o(c.renderedBuffer)},h.connect(a.destination),a.startRendering()}),Y6=i=>(e,t)=>{i.set(e,t)},W6=i=>(e,t)=>i.set(e,t),X6=(i,e,t,r,a,o,h,c)=>(f,d)=>t(f).render(f,d).then(()=>Promise.all(Array.from(r(d)).map(m=>t(m).render(m,d)))).then(()=>a(d)).then(m=>(typeof m.copyFromChannel!="function"?(h(m),hg(m)):e(o,()=>o(m))||c(m),i.add(m),m)),Z6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},K6=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=a(c),m={...Z6,...f},b=t(d,m),w=o(d),y=w?r():null;super(c,!1,b,y),this._pan=e(this,w,b.pan)}get pan(){return this._pan}},Q6=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Fr(d,f);if(!m){const b={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=e(f,b)}return o.set(f,d),m?await i(f,c.pan,d.pan):await r(f,c.pan,d.pan),Oh(d)?await a(c,f,d.inputs[0]):await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},$6=i=>()=>{if(i===null)return!1;try{new i({length:1,sampleRate:44100})}catch{return!1}return!0},J6=(i,e)=>async()=>{if(i===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),a=URL.createObjectURL(t);let o=!1,h=!1;try{await r.audioWorklet.addModule(a);const c=new i(r,"a",{numberOfOutputs:0}),f=r.createOscillator();c.port.onmessage=()=>o=!0,c.onprocessorerror=()=>h=!0,f.connect(c),f.start(0),await r.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(a)}return o&&!h},eN=(i,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),r=i(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{t.oncomplete=()=>{r.disconnect(),a(t.currentTime!==0)},t.startRendering()})},tN=()=>new DOMException("","UnknownError"),nN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},iN=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),b={...nN,...d},w=t(m,b),A=o(m)?r():null;super(f,!0,w,A),this._isCurveNullified=!1,this._nativeWaveShaperNode=w,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},rN=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Fr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=i(h,d)}return r.set(h,c),Oh(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},sN=()=>typeof window>"u"?null:window,aN=(i,e)=>t=>{t.copyFromChannel=(r,a,o=0)=>{const h=i(o),c=i(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=r.length;for(let b=h<0?-h:0;b+h<f&&b<m;b+=1)r[b]=d[b+h]},t.copyToChannel=(r,a,o=0)=>{const h=i(o),c=i(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=r.length;for(let b=h<0?-h:0;b+h<f&&b<m;b+=1)d[b+h]=r[b]}},oN=i=>e=>{e.copyFromChannel=(t=>(r,a,o=0)=>{const h=i(o),c=i(a);if(h<e.length)return t.call(e,r,c,h)})(e.copyFromChannel),e.copyToChannel=(t=>(r,a,o=0)=>{const h=i(o),c=i(a);if(h<e.length)return t.call(e,r,c,h)})(e.copyToChannel)},lN=i=>(e,t)=>{const r=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),i(e,"buffer",a=>()=>{const o=a.call(e);return o===r?null:o},a=>o=>a.call(e,o===null?r:o))},cN=(i,e)=>(t,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw i()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw i()}});const a=t.createBufferSource();e(r,()=>{const c=r.numberOfInputs;for(let f=0;f<c;f+=1)a.connect(r,0,f)},()=>a.disconnect(r))},gx=(i,e,t)=>i.copyFromChannel===void 0?i.getChannelData(t)[0]:(i.copyFromChannel(e,t),e[0]),vx=i=>{if(i===null)return!1;const e=i.length;return e%2!==0?i[Math.floor(e/2)]!==0:i[e/2-1]+i[e/2]!==0},id=(i,e,t,r)=>{let a=i;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:o,set:h}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(i,e,{get:t(o),set:r(h)})},uN=i=>({...i,outputChannelCount:i.outputChannelCount!==void 0?i.outputChannelCount:i.numberOfInputs===1&&i.numberOfOutputs===1?[i.channelCount]:Array.from({length:i.numberOfOutputs},()=>1)}),hN=i=>({...i,channelCount:i.numberOfOutputs}),fN=i=>{const{imag:e,real:t}=i;return e===void 0?t===void 0?{...i,imag:[0,0],real:[0,0]}:{...i,imag:Array.from(t,()=>0),real:t}:t===void 0?{...i,imag:e,real:Array.from(e,()=>0)}:{...i,imag:e,real:t}},yx=(i,e,t)=>{try{i.setValueAtTime(e,t)}catch(r){if(r.code!==9)throw r;yx(i,e,t+1e-7)}},dN=i=>{const e=i.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},pN=i=>{const e=i.createBufferSource(),t=i.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},mN=i=>{const e=i.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},gg=i=>{const e=i.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},bx=i=>{const e=i.createBuffer(1,1,44100),t=i.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},vg=i=>{const e=i.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},gN=i=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(i)}finally{e.close(),t.close()}},vN=i=>{i.start=(e=>(t=0,r=0,a)=>{const o=i.buffer,h=o===null?r:Math.min(o.duration,r);o!==null&&h>o.duration-.5/i.context.sampleRate?e.call(i,t,0,0):e.call(i,t,h,a)})(i.start)},xx=(i,e)=>{const t=e.createGain();i.connect(t);const r=(a=>()=>{a.call(i,t),i.removeEventListener("ended",r)})(i.disconnect);i.addEventListener("ended",r),Lh(i,t),i.stop=(a=>{let o=!1;return(h=0)=>{if(o)try{a.call(i,h)}catch{t.gain.setValueAtTime(0,h)}else a.call(i,h),o=!0}})(i.stop)},Mh=(i,e)=>t=>{const r={value:i};return Object.defineProperties(t,{currentTarget:r,target:r}),typeof e=="function"?e.call(i,t):e.handleEvent.call(i,t)},yN=B4(uu),bN=H4(uu),xN=nA(c1),_x=new WeakMap,_N=xA(_x),to=MS(new Map,new WeakMap),Mo=sN(),wx=KA(to,Do),yg=bA(Jr),Or=U6(Jr,yg,au),wN=Z4(wx,li,Or),ei=SA(l1),xl=S6(Mo),Yn=zA(xl),Sx=new WeakMap,Ax=fA(Mh),rd=e6(Mo),bg=IA(rd),xg=VA(Mo),Nx=BA(Mo),Pf=n6(Mo),Pi=xS(q4($b),U4(yN,bN,qp,xN,zp,Jr,_N,Qf,li,uu,ml,au,Ap),to,LA(V0,zp,Jr,li,zf,ml),Do,u1,ts,$S(qp,V0,Jr,li,zf,ei,ml,Yn),sA(Sx,Jr,Ka),Ax,ei,bg,xg,Nx,Yn,Pf),SN=X4(Pi,wN,Do,wx,ei,Yn),_g=new WeakSet,ey=QA(Mo),Cx=GS(new Uint32Array(1)),wg=aN(Cx,Do),Sg=oN(Cx),Tx=Q4(_g,to,ts,ey,xl,$6(ey),wg,Sg),h1=G4(As),Ex=H6(yg,Jf,au),jo=qS(Ex),Dh=JA(h1,to,dN,pN,mN,gg,bx,vg,vN,lN(id),xx),Ro=P6(_A(Jf),Ex),AN=eS(jo,Dh,li,Ro,Or),no=_S(z4(Jb),Sx,ug,wS,M4,D4,j4,R4,I4,j0,Kb,rd,yx),NN=J4(Pi,AN,no,br,Dh,ei,Yn,Mh),CN=cS(Pi,uS,Do,br,t6(As,id),ei,Yn,Or),TN=LS(jo,dx,li,Ro,Or),hu=W6(_x),EN=OS(Pi,no,TN,u1,dx,ei,Yn,hu),vc=XA(uu,xg),kN=cN(br,vc),yc=c6(rd,kN),ON=RS(yc,li,Or),LN=jS(Pi,ON,yc,ei,Yn),MN=BS(td,li,Or),DN=VS(Pi,MN,td,ei,Yn,hN),jN=f6(h1,Dh,As,vc),jh=h6(h1,to,jN,gg,vg),RN=HS(jo,jh,li,Ro,Or),IN=US(Pi,no,RN,jh,ei,Yn,Mh),kx=d6(ts,id),VN=XS(kx,li,Or),BN=WS(Pi,VN,kx,ei,Yn,hu),qN=tA(jo,px,li,Ro,Or),zN=eA(Pi,no,qN,px,ei,Yn,hu),Ox=p6(ts),FN=cA(jo,Ox,li,Ro,Or),PN=lA(Pi,no,FN,Ox,ts,ei,Yn,hu),UN=vA(jo,As,li,Ro,Or),HN=gA(Pi,no,UN,As,ei,Yn),GN=y6(u1,br,nd,ts),f1=G6(to,As,nd,eN(As,xl)),YN=OA(Dh,li,xl,Or,f1),WN=m6(GN),XN=EA(Pi,WN,YN,ei,Yn,hu),ZN=hS(no,yc,jh,nd,ts,gx,Yn,id),Lx=new WeakMap,KN=WA(CN,ZN,Ax,Yn,Lx,Mh),Mx=A6(h1,to,gg,bx,vg,xx),QN=I6(jo,Mx,li,Ro,Or),$N=R6(Pi,no,Mx,QN,ei,Yn,Mh),Dx=FS(Dh),JN=L6(Dx,br,As,vx,vc),d1=O6(Dx,br,JN,vx,vc,rd,id),e8=C6(qp,br,yc,As,nd,d1,ts,zp,gx,vc),jx=N6(e8),t8=q6(jo,yc,jh,As,jx,li,xl,Ro,Or,f1),n8=B6(Pi,no,jx,t8,ei,Yn,hu),i8=T6(Do),r8=F6(i8,ei,new WeakSet,fN),s8=k6(yc,td,As,d1,ts,vc),Rx=E6(s8,ts),a8=Q6(jo,Rx,li,Ro,Or),o8=K6(Pi,no,Rx,a8,ei,Yn),l8=rN(d1,li,Or),c8=iN(Pi,br,d1,l8,ei,Yn,hu),Ix=FA(Mo),Ag=dA(Mo),Vx=new WeakMap,u8=AA(Vx,xl),h8=Ix?P4(to,ts,hA(Mo),Ag,pA(V4),ei,u8,Yn,Pf,new WeakMap,new WeakMap,J6(Pf,xl),Mo):void 0,f8=qA(bg,Yn),d8=QS(_g,to,KS,uA,new WeakSet,ei,f8,Vp,Ff,wg,Sg),Bx=ES(h8,SN,Tx,NN,EN,LN,DN,IN,BN,d8,zN,PN,HN,XN,KN,$N,n8,r8,o8,c8),p8=PA(Pi,b6,ei,Yn),m8=HA(Pi,x6,ei,Yn),g8=GA(Pi,_6,ei,Yn),v8=w6(br,Yn),y8=YA(Pi,v8,ei),b8=lS(Bx,br,ts,tN,p8,m8,g8,y8,rd),Ng=NA(Lx),x8=Y4(Ng),qx=zS(Do),_8=iA(Ng),zx=aA(Do),Fx=new WeakMap,w8=yA(Fx,Ka),S8=l6(qx,Do,br,yc,td,jh,As,nd,ts,zx,Ag,w8,vc),A8=r6(br,S8,As,ts,vc),N8=TS(jo,qx,Dh,yc,td,jh,As,_8,zx,Ag,li,Pf,xl,Ro,Or,f1),C8=wA(Vx),T8=Y6(Fx),ty=Ix?AS(x8,Pi,no,N8,A8,Jr,C8,ei,Yn,Pf,uN,T8,gN,Mh):void 0,E8=ZS(ts,xl),k8=X6(_g,to,yg,Ng,f1,Vp,wg,Sg),O8=D6(Bx,to,br,E8,k8),L8=MA(l1,bg),M8=DA(cg,xg),D8=jA(ug,Nx),j8=RA(l1,Yn);function pa(i){return i===void 0}function ln(i){return i!==void 0}function R8(i){return typeof i=="function"}function gl(i){return typeof i=="number"}function iu(i){return Object.prototype.toString.call(i)==="[object Object]"&&i.constructor===Object}function I8(i){return typeof i=="boolean"}function Ys(i){return Array.isArray(i)}function vl(i){return typeof i=="string"}function cp(i){return vl(i)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(i)}function qt(i,e){if(!i)throw new Error(e)}function yl(i,e,t=1/0){if(!(e<=i&&i<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${i}`)}function Px(i){!i.isOffline&&i.state!=="running"&&p1('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Ux=!1,ny=!1;function iy(i){Ux=i}function V8(i){pa(i)&&Ux&&!ny&&(ny=!0,p1("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Hx=console;function B8(...i){Hx.log(...i)}function p1(...i){Hx.warn(...i)}function q8(i){return new b8(i)}function z8(i,e,t){return new O8(i,e,t)}const Us=typeof self=="object"?self:null,F8=Us&&(Us.hasOwnProperty("AudioContext")||Us.hasOwnProperty("webkitAudioContext"));function P8(i,e,t){return qt(ln(ty),"AudioWorkletNode only works in a secure context (https or localhost)"),new(i instanceof Us?.BaseAudioContext?Us?.AudioWorkletNode:ty)(i,e,t)}function io(i,e,t,r){var a=arguments.length,o=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,r);else for(var c=i.length-1;c>=0;c--)(h=i[c])&&(o=(a<3?h(o):a>3?h(e,t,o):h(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o}function Ki(i,e,t,r){function a(o){return o instanceof t?o:new t(function(h){h(o)})}return new(t||(t=Promise))(function(o,h){function c(m){try{d(r.next(m))}catch(b){h(b)}}function f(m){try{d(r.throw(m))}catch(b){h(b)}}function d(m){m.done?o(m.value):a(m.value).then(c,f)}d((r=r.apply(i,e||[])).next())})}class U8{constructor(e,t,r,a){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),r=new Worker(t);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function ou(i){return D8(i)}function uc(i){return M8(i)}function Np(i){return j8(i)}function ch(i){return L8(i)}function H8(i){return i instanceof Tx}function G8(i,e){return i==="value"||ou(e)||uc(e)||H8(e)}function ru(i,...e){if(!e.length)return i;const t=e.shift();if(iu(i)&&iu(t))for(const r in t)G8(r,t[r])?i[r]=t[r]:iu(t[r])?(i[r]||Object.assign(i,{[r]:{}}),ru(i[r],t[r])):Object.assign(i,{[r]:t[r]});return ru(i,...e)}function Y8(i,e){return i.length===e.length&&i.every((t,r)=>e[r]===t)}function Vt(i,e,t=[],r){const a={},o=Array.from(e);if(iu(o[0])&&r&&!Reflect.has(o[0],r)&&(Object.keys(o[0]).some(c=>Reflect.has(i,c))||(ru(a,{[r]:o[0]}),t.splice(t.indexOf(r),1),o.shift())),o.length===1&&iu(o[0]))ru(a,o[0]);else for(let h=0;h<t.length;h++)ln(o[h])&&(a[t[h]]=o[h]);return ru(i,a)}function W8(i){return i.constructor.getDefaults()}function yh(i,e){return pa(i)?e:i}function Wa(i,e){return e.forEach(t=>{Reflect.has(i,t)&&delete i[t]}),i}class _l{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Us&&this.toString()===Us.TONE_DEBUG_CLASS)&&B8(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}_l.version=Zb;const Cg=1e-6;function Th(i,e){return i>e+Cg}function P0(i,e){return Th(i,e)||Ya(i,e)}function Hp(i,e){return i+Cg<e}function Ya(i,e){return Math.abs(i-e)<Cg}function X8(i,e,t){return Math.max(Math.min(i,t),e)}let Lo=class Gx extends _l{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Vt(Gx.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(qt(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];qt(P0(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const r=this._search(e,t);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const r=this._search(e,t);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Ya(this._timeline[t].time,e)){for(let r=t;r>=0&&Ya(this._timeline[r].time,e);r--)t=r;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&P0(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let r=0;const a=this._timeline.length;let o=a;if(a>0&&this._timeline[a-1][t]<=e)return a-1;for(;r<o;){let h=Math.floor(r+(o-r)/2);const c=this._timeline[h],f=this._timeline[h+1];if(Ya(c[t],e)){for(let d=h;d<this._timeline.length;d++){const m=this._timeline[d];if(Ya(m[t],e))h=d;else break}return h}else{if(Hp(c[t],e)&&Th(f[t],e))return h;Th(c[t],e)?o=h:r=h+1}}return-1}_iterate(e,t=0,r=this._timeline.length-1){this._timeline.slice(t,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const r=this._search(e);return r!==-1&&this._iterate(t,0,r),this}forEachAfter(e,t){const r=this._search(e);return this._iterate(t,r+1),this}forEachBetween(e,t,r){let a=this._search(e),o=this._search(t);return a!==-1&&o!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[o].time===t&&(o-=1),this._iterate(r,a,o)):a===-1&&this._iterate(r,0,o),this}forEachFrom(e,t){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(t,r+1),this}forEachAtTime(e,t){const r=this._search(e);if(r!==-1&&Ya(this._timeline[r].time,e)){let a=r;for(let o=r;o>=0&&Ya(this._timeline[o].time,e);o--)a=o;this._iterate(o=>{t(o)},a,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}};const Yx=[];function m1(i){Yx.push(i)}function Z8(i){Yx.forEach(e=>e(i))}const Wx=[];function g1(i){Wx.push(i)}function K8(i){Wx.forEach(e=>e(i))}class sd extends _l{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(a=>{pa(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(t)}),this}once(e,t){const r=(...a)=>{t(...a),this.off(e,r)};return this.on(e,r),this}off(e,t){return e.split(/\W+/).forEach(a=>{if(pa(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(pa(t))this._events[a]=[];else{const o=this._events[a];for(let h=o.length-1;h>=0;h--)o[h]===t&&o.splice(h,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let a=0,o=r.length;a<o;a++)r[a].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const r=Object.getOwnPropertyDescriptor(sd.prototype,t);Object.defineProperty(e.prototype,t,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class Xx extends sd{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}let Tg=class Zx extends Xx{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new Lo,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=Vt(Zx.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=q8({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new U8(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(Z8(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,r){return this._context.createBuffer(e,t,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,r){return this._context.createPeriodicWave(e,t,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return qt(ch(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return qt(ch(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return qt(ch(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){qt(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){qt(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){qt(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){qt(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return P8(this.rawContext,e,t)}addAudioWorkletModule(e){return Ki(this,void 0,void 0,function*(){qt(ln(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Ki(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ch(this._context)?this._context.resume():Promise.resolve()}close(){return Ki(this,void 0,void 0,function*(){ch(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&K8(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),r=t.getChannelData(0);for(let o=0;o<r.length;o++)r[o]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=t,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,t=>{t.callback(),this._timeouts.remove(t)})}setTimeout(e,t){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const r=++this._timeoutIds,a=()=>{const o=this.now();this._timeouts.add({callback:()=>{e(),a()},id:r,time:o+t})};return a(),r}};class Q8 extends Xx{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Ki(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function ci(i,e){Ys(e)?e.forEach(t=>ci(i,t)):Object.defineProperty(i,e,{enumerable:!0,writable:!1})}function Eg(i,e){Ys(e)?e.forEach(t=>Eg(i,t)):Object.defineProperty(i,e,{writable:!0})}const Gn=()=>{};class ai extends _l{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Gn;const e=Vt(ai.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,vl(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Gn,onload:Gn,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Xa().sampleRate}set(e){return e instanceof ai?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ki(this,void 0,void 0,function*(){const t=ai.load(e).then(r=>{this.set(r),this.onload(this)});ai.downloads.push(t);try{yield t}finally{const r=ai.downloads.indexOf(t);ai.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=Ys(e)&&e[0].length>0,r=t?e.length:1,a=t?e[0].length:e.length,o=Xa(),h=o.createBuffer(r,a,o.sampleRate),c=!t&&r===1?[e]:e;for(let f=0;f<r;f++)h.copyToChannel(c[f],f);return this._buffer=h,this}toMono(e){if(gl(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const r=this.numberOfChannels;for(let a=0;a<r;a++){const o=this.toArray(a);for(let h=0;h<o.length;h++)t[h]+=o[h]}t=t.map(a=>a/r),this.fromArray(t)}return this}toArray(e){if(gl(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let r=0;r<this.numberOfChannels;r++)t[r]=this.getChannelData(r);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){qt(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),a=Math.floor(t*this.sampleRate);qt(r<a,"The start time must be less than the end time");const o=a-r,h=Xa().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)h.copyToChannel(this.getChannelData(c).subarray(r,a),c);return new ai(h)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new ai().fromArray(e)}static fromUrl(e){return Ki(this,void 0,void 0,function*(){return yield new ai().load(e)})}static load(e){return Ki(this,void 0,void 0,function*(){const t=ai.baseUrl===""||ai.baseUrl.endsWith("/")?ai.baseUrl:ai.baseUrl+"/",r=yield fetch(t+e);if(!r.ok)throw new Error(`could not load url: ${e}`);const a=yield r.arrayBuffer();return yield Xa().decodeAudioData(a)})}static supportsType(e){const t=e.split("."),r=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Ki(this,void 0,void 0,function*(){for(yield Promise.resolve();ai.downloads.length;)yield ai.downloads[0]})}}ai.baseUrl="";ai.downloads=[];class kg extends Tg{constructor(){super({clockSource:"offline",context:Np(arguments[0])?arguments[0]:z8(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Np(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Np(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ki(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const r=Math.floor(this.sampleRate/128);e&&t%r===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return Ki(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new ai(t)})}close(){return Promise.resolve()}}const Kx=new Q8;let tu=Kx;function Xa(){return tu===Kx&&F8&&$8(new Tg),tu}function $8(i,e=!1){e&&tu.dispose(),ch(i)?tu=new Tg(i):Np(i)?tu=new kg(i):tu=i}function v1(){return tu.resume()}if(Us&&!Us.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Zb} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function J8(i){return Math.pow(10,i/20)}function eC(i){return 20*(Math.log(i)/Math.LN10)}function Qx(i){return Math.pow(2,i/12)}let y1=440;function tC(){return y1}function nC(i){y1=i}function nu(i){return Math.round($x(i))}function $x(i){return 69+12*Math.log2(i/y1)}function Jx(i){return y1*Math.pow(2,(i-69)/12)}class Og extends _l{constructor(e,t,r){super(),this.defaultUnits="s",this._val=t,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const r=parseInt(e,10),a=t==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/r)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,r)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a+=this._beatsToUnits(parseFloat(t))),r&&r!=="0"&&(a+=this._beatsToUnits(parseFloat(r)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Og&&this.fromType(this._val),pa(this._val))return this._noArg();if(vl(this._val)&&pa(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(iu(this._val)){let e=0;for(const t in this._val)if(ln(this._val[t])){const r=this._val[t],a=new this.constructor(this.context,t).valueOf()*r;e+=a}return e}if(ln(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return vl(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Za extends Og{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new Za(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const r=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),c=Math.round(a/r)*r-a;return a+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let o=1;o<9;o++){const h=Math.pow(2,o);t.push(h+"n."),t.push(h+"n"),t.push(h+"t")}t.push("0");let r=t[0],a=new Za(this.context,t[0]).toSeconds();return t.forEach(o=>{const h=new Za(this.context,o).toSeconds();Math.abs(h-e)<Math.abs(a-e)&&(r=o,a=h)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const r=Math.floor(t/this._getTimeSignature());let a=t%1*4;t=Math.floor(t)%this._getTimeSignature();const o=a.toString();return o.length>3&&(a=parseFloat(parseFloat(o).toFixed(3))),[r,t,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return nu(this.toFrequency())}_now(){return this.context.now()}}class Hs extends Za{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return tC()}static set A4(e){nC(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Hs.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const a=iC[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?a:Hs.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,r){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a*=this._beatsToUnits(parseFloat(t))),r&&r!=="0"&&(a*=this._beatsToUnits(parseFloat(r)/4)),a}}})}transpose(e){return new Hs(this.context,this.valueOf()*Qx(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return nu(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Hs.A4);let r=Math.round(12*t)+57;const a=Math.floor(r/12);return a<0&&(r+=-12*a),rC[r%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Jx(e)}static ftom(e){return nu(e)}}const iC={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},rC=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Mf extends Za{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Ss extends _l{constructor(){super();const e=Vt(Ss.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Xa()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return V8(e),new Za(this.context,e).toSeconds()}toFrequency(e){return new Hs(this.context,e).toFrequency()}toTicks(e){return new Mf(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(r=>{pa(e[r])&&delete t[r]}),t}get(){const e=W8(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const r=this[t];ln(r)&&ln(r.value)&&ln(r.setValueAtTime)?e[t]=r.value:r instanceof Ss?e[t]=r._getPartialProperties(e[t]):Ys(r)||gl(r)||vl(r)||I8(r)?e[t]=r:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&ln(this[t])&&(this[t]&&ln(this[t].value)&&ln(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Ss?this[t].set(e[t]):this[t]=e[t])}),this}}class Lg extends Lo{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,r){return yl(t,0),this.add(Object.assign({},r,{state:e,time:t})),this}getLastState(e,t){const r=this._search(t);for(let a=r;a>=0;a--){const o=this._timeline[a];if(o.state===e)return o}}getNextState(e,t){const r=this._search(t);if(r!==-1)for(let a=r;a<this._timeline.length;a++){const o=this._timeline[a];if(o.state===e)return o}}}class $n extends Ss{constructor(){const e=Vt($n.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,qt(ln(e.param)&&(ou(e.param)||e.param instanceof $n),"param must be an AudioParam");!ou(e.param);)e.param=e.param._param;this._swappable=ln(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Lo(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ln(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ss.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ln(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ln(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return ln(this.maxValue)&&ln(this.minValue)&&yl(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?J8(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?eC(e):e}setValueAtTime(e,t){const r=this.toSeconds(t),a=this._fromType(e);return qt(isFinite(a)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,r),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),r=this._events.getAfter(t),a=this._events.get(t);let o=this._initialValue;if(a===null)o=this._initialValue;else if(a.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const h=this._events.getBefore(a.time);let c;h===null?c=this._initialValue:c=h.value,a.type==="setTargetAtTime"&&(o=this._exponentialApproach(a.time,c,a.value,a.constant,t))}else if(r===null)o=a.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let h=a.value;if(a.type==="setTargetAtTime"){const c=this._events.getBefore(a.time);c===null?h=this._initialValue:h=c.value}r.type==="linearRampToValueAtTime"?o=this._linearInterpolate(a.time,h,r.time,r.value,t):o=this._exponentialInterpolate(a.time,h,r.time,r.value,t)}else o=a.value;return this._toType(o)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const r=this._fromType(e),a=this.toSeconds(t);return qt(isFinite(r)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(r),this._events.add({time:a,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(r,a),this}exponentialRampToValueAtTime(e,t){let r=this._fromType(e);r=Ya(r,0)?this._minOutput:r,this._assertRange(r);const a=this.toSeconds(t);return qt(isFinite(r)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(r,a),this}exponentialRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(t)),this}linearRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(t)),this}targetRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,t),this}exponentialApproachValueAtTime(e,t,r){t=this.toSeconds(t),r=this.toSeconds(r);const a=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,t,a),this.cancelAndHoldAtTime(t+r*.9),this.linearRampToValueAtTime(e,t+r),this}setTargetAtTime(e,t,r){const a=this._fromType(e);qt(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(t);return this._assertRange(a),qt(isFinite(a)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:r,time:o,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,o,r),this._param.setTargetAtTime(a,o,r),this}setValueCurveAtTime(e,t,r,a=1){r=this.toSeconds(r),t=this.toSeconds(t);const o=this._fromType(e[0])*a;this.setValueAtTime(this._toType(o),t);const h=r/(e.length-1);for(let c=1;c<e.length;c++){const f=this._fromType(e[c])*a;this.linearRampToValueAtTime(this._toType(f),t+c*h)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return qt(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),r=this._fromType(this.getValueAtTime(t));qt(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+r);const a=this._events.get(t),o=this._events.getAfter(t);return a&&Ya(a.time,t)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),t):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),t)),this._events.add({time:t,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,t),this}rampTo(e,t=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,r):this.linearRampTo(e,t,r),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const r=this._events.get(t);if(r&&r.type==="setTargetAtTime"){const a=this._events.getAfter(r.time),o=a?a.time:t+2,h=(o-t)/10;for(let c=t;c<o;c+=h)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){qt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,r,a,o){return r+(t-r)*Math.exp(-(o-e)/a)}_linearInterpolate(e,t,r,a,o){return t+(a-t)*((o-e)/(r-e))}_exponentialInterpolate(e,t,r,a,o){return t*Math.pow(a/t,(o-e)/(r-e))}}class Ht extends Ss{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ln(this.input)?ou(this.input)||this.input instanceof $n?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ln(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ln(e)&&(e instanceof Ht||uc(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();qt(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,r=0){return Rh(this,e,t,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return p1("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,r=0){return sC(this,e,t,r),this}chain(...e){return Uf(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),ln(this.input)&&(this.input instanceof Ht?this.input.dispose():uc(this.input)&&this.input.disconnect()),ln(this.output)&&(this.output instanceof Ht?this.output.dispose():uc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Uf(...i){const e=i.shift();i.reduce((t,r)=>(t instanceof Ht?t.connect(r):uc(t)&&Rh(t,r),r),e)}function Rh(i,e,t=0,r=0){for(qt(ln(i),"Cannot connect from undefined node"),qt(ln(e),"Cannot connect to undefined node"),(e instanceof Ht||uc(e))&&qt(e.numberOfInputs>0,"Cannot connect to node with no inputs"),qt(i.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Ht||e instanceof $n;)ln(e.input)&&(e=e.input);for(;i instanceof Ht;)ln(i.output)&&(i=i.output);ou(e)?i.connect(e,t):i.connect(e,t,r)}function sC(i,e,t=0,r=0){if(ln(e))for(;e instanceof Ht;)e=e.input;for(;!uc(i);)ln(i.output)&&(i=i.output);ou(e)?i.disconnect(e,t):uc(e)?i.disconnect(e,t,r):i.disconnect()}class Qi extends Ht{constructor(){const e=Vt(Qi.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new $n({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),ci(this,"gain")}static getDefaults(){return Object.assign(Ht.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Eh extends Ht{constructor(e){super(e),this.onended=Gn,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Qi({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const r=this.toSeconds(t);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Ht.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Gn})}_startGain(e,t=1){qt(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+r):this._gainNode.gain.exponentialApproachValueAtTime(t,e,r)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){qt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Gn&&(this.onended(this),this.onended=Gn,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),qt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Gn,this}}class Mg extends Eh{constructor(){const e=Vt(Mg.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Rh(this._source,this._gainNode),this.offset=new $n({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Eh.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Jn extends Ht{constructor(){const e=Vt(Jn.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Mg({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Ht.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,r=0){return Dg(this,e,t,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,r){return this._param.exponentialRampTo(e,t,r),this}linearRampTo(e,t,r){return this._param.linearRampTo(e,t,r),this}targetRampTo(e,t,r){return this._param.targetRampTo(e,t,r),this}exponentialApproachValueAtTime(e,t,r){return this._param.exponentialApproachValueAtTime(e,t,r),this}setTargetAtTime(e,t,r){return this._param.setTargetAtTime(e,t,r),this}setValueCurveAtTime(e,t,r,a){return this._param.setValueCurveAtTime(e,t,r,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,r){return this._param.rampTo(e,t,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Dg(i,e,t,r){(e instanceof $n||ou(e)||e instanceof Jn&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Jn&&(e.overridden=!0)),Rh(i,e,t,r)}class jg extends $n{constructor(){const e=Vt(jg.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Lo(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign($n.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,r){t=this.toSeconds(t),this.setRampPoint(t);const a=this._fromType(e),o=this._events.get(t),h=Math.round(Math.max(1/r,1));for(let c=0;c<=h;c++){const f=r*c+t,d=this._exponentialApproach(o.time,o.value,a,r,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}setValueAtTime(e,t){const r=this.toSeconds(t);super.setValueAtTime(e,t);const a=this._events.get(r),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,r);return a.ticks=Math.max(h,0),this}linearRampToValueAtTime(e,t){const r=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const a=this._events.get(r),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,r);return a.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const r=this._fromType(e),a=this._events.get(t),o=Math.round(Math.max((t-a.time)*10,1)),h=(t-a.time)/o;for(let c=0;c<=o;c++){const f=h*c+a.time,d=this._exponentialInterpolate(a.time,a.value,t,r,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(pa(e.ticks)){const h=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(h,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(t));const o=this._events.get(t);return o&&o.time===t&&o.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(r+a)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),r=this._events.get(t);return Math.max(this._getTicksUntilEvent(r,t),0)}getDurationOfTicks(e,t){const r=this.toSeconds(t),a=this.getTicksAtTime(t);return this.getTimeOfTick(a+e)-r}getTimeOfTick(e){const t=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&r&&r.type==="linearRampToValueAtTime"&&t.value!==r.value){const a=this._fromType(this.getValueAtTime(t.time)),h=(this._fromType(this.getValueAtTime(r.time))-a)/(r.time-t.time),c=Math.sqrt(Math.pow(a,2)-2*h*(t.ticks-e)),f=(-a+c)/h,d=(-a-c)/h;return(f>0?f:d)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const r=this.toSeconds(t),a=this.toSeconds(e),o=this.getTicksAtTime(r);return this.getTicksAtTime(r+a)-o}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class Rg extends Jn{constructor(){const e=Vt(Rg.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new jg({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Jn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Ig extends Ss{constructor(){const e=Vt(Ig.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Lg,this._tickOffset=new Lo,this._ticksAtTime=new Lo,this._secondsAtTime=new Lo,this.frequency=new Rg({context:this.context,units:e.units,value:e.frequency}),ci(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ss.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),ln(t)&&this.setTicksAtTime(t,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const r=this._state.get(t);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),r=this._state.getLastState("stopped",t),a=this._ticksAtTime.get(t),o={state:"paused",time:t};this._state.add(o);let h=a||r,c=a?a.ticks:0,f=null;return this._state.forEachBetween(h.time,t+this.sampleTime,d=>{let m=h.time;const b=this._tickOffset.get(d.time);b&&b.time>=h.time&&(c=b.ticks,m=b.time),h.state==="started"&&d.state!=="started"&&(c+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(m),d.time!==o.time&&(f={state:d.state,time:d.time,ticks:c})),h=d}),this._state.remove(o),f&&this._ticksAtTime.add(f),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),r=this.frequency.timeToTicks(e,t);this.setTicksAtTime(r,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const a=this._secondsAtTime.get(e);let o=a||t,h=a?a.seconds:0,c=null;return this._state.forEachBetween(o.time,e+this.sampleTime,f=>{let d=o.time;const m=this._tickOffset.get(f.time);m&&m.time>=o.time&&(h=m.seconds,d=m.time),o.state==="started"&&f.state!=="started"&&(h+=f.time-d,f.time!==r.time&&(c={state:f.state,time:f.time,seconds:h})),o=f}),this._state.remove(r),c&&this._secondsAtTime.add(c),h}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const r=this._tickOffset.get(t),a=this._state.get(t),o=Math.max(r.time,a.time),h=this.frequency.getTicksAtTime(o)+e-r.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(e,t,r){let a=this._state.get(e);this._state.forEachBetween(e,t,h=>{a&&a.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),h.time-this.sampleTime,r),a=h});let o=null;if(a&&a.state==="started"){const h=Math.max(a.time,e),c=this.frequency.getTicksAtTime(h),f=this.frequency.getTicksAtTime(a.time),d=c-f;let m=Math.ceil(d)-d;m=Ya(m,1)?0:m;let b=this.frequency.getTimeOfTick(c+m);for(;b<t;){try{r(b,Math.round(this.getTicksAtTime(b)))}catch(w){o=w;break}b+=this.frequency.getDurationOfTicks(1,b)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}let e_=class t_ extends Ss{constructor(){const e=Vt(t_.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Gn,this._lastUpdate=0,this._state=new Lg("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Ig({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ci(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ss.getDefaults(),{callback:Gn,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){Px(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,t),r<this._lastUpdate&&this.emit("start",r,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const r=this.toSeconds(t),a=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(a+e,r)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,r=>{switch(r.state){case"started":const a=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,a);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,t,(r,a)=>{this.callback(r,a)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};sd.mixin(e_);class Ih extends Ht{constructor(){const e=Vt(Ih.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Qi({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,ci(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Ht.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Vg extends Ht{constructor(){const e=Vt(Vg.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Ih({context:this.context}),this.output=new Qi({context:this.context}),this.volume=this.input.volume,Uf(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Ht.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Uf(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}m1(i=>{i.destination=new Vg({context:i})});g1(i=>{i.destination.dispose()});class aC extends Ht{constructor(){super(...arguments),this.name="Listener",this.positionX=new $n({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new $n({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new $n({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new $n({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new $n({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new $n({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new $n({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new $n({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new $n({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Ht.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}m1(i=>{i.listener=new aC({context:i})});g1(i=>{i.listener.dispose()});class Bg extends _l{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Vt(Bg.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const r=e.urls[t];this.add(t,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Gn,onload:Gn,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return qt(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,r=Gn,a=Gn){return vl(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new ai(this.baseUrl+t,r,a))):this._buffers.set(e.toString(),new ai(t,r,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Gp extends Hs{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return nu(super._frequencyToUnits(e))}_ticksToUnits(e){return nu(super._ticksToUnits(e))}_beatsToUnits(e){return nu(super._beatsToUnits(e))}_secondsToUnits(e){return nu(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return Jx(this.toMidi())}transpose(e){return new Gp(this.context,this.toMidi()+e)}}class mh extends Mf{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class oC extends Ss{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Lo,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,t=>{e-t.time<=this.expiration&&t.callback(),this._events.remove(t)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}m1(i=>{i.draw=new oC({context:i})});g1(i=>{i.draw.dispose()});class lC extends _l{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){qt(ln(e.time),"Events must have a time property"),qt(ln(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new cC(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const r of t)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let r,a=null;if(t>0)if(e.left.right===null)r=e.left,r.right=e.right,a=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,a=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,a=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,a=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const t=e.parent,r=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),t!==null?r?t.left=a:t.right=a:this._setRoot(a)}_rotateRight(e){const t=e.parent,r=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),t!==null?r?t.left=a:t.right=a:this._setRoot(a)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let r=t[0];for(let a=1;a<t.length;a++)t[a].low>r.low&&(r=t[a]);return r.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(r=>t.push(r)),t.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(a=>{a.event&&t(a.event)})}return this}forEachFrom(e,t){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(a=>{a.event&&t(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class cC{constructor(e,t,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class uC extends _l{constructor(e){super(),this.name="TimelineValue",this._timeline=new Lo({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class hc extends Ht{constructor(){super(Vt(hc.getDefaults(),arguments,["context"]))}connect(e,t=0,r=0){return Dg(this,e,t,r),this}}class ad extends hc{constructor(){const e=Vt(ad.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Ys(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):R8(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Jn.getDefaults(),{length:1024})}setMap(e,t=1024){const r=new Float32Array(t);for(let a=0,o=t;a<o;a++){const h=a/(o-1)*2-1;r[a]=e(h,a)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(r=>r.includes(e));qt(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class b1 extends hc{constructor(){const e=Vt(b1.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new ad({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(hc.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class fc{constructor(e,t){this.id=fc._eventId++,this._remainderTime=0;const r=Object.assign(fc.getDefaults(),t);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Gn,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}fc._eventId=0;class qg extends fc{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(qg.getDefaults(),t);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},fc.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Hp(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new mh(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Hp(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new mh(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Th(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class x1 extends Ss{constructor(){const e=Vt(x1.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new uC(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Lo,this._repeatedEvents=new lC,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new e_({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),ci(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Ss.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const r=t%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(r*Math.PI)*this._swingAmount;e+=new mh(this.context,this._swingTicks*2/3).toSeconds()*a}iy(!0),this._timeline.forEachAtTime(t,r=>r.invoke(e)),iy(!1)}schedule(e,t){const r=new fc(this,{callback:e,time:new Mf(this.context,t).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,t,r,a=1/0){const o=new qg(this,{callback:e,duration:new Za(this.context,a).toTicks(),interval:new Za(this.context,t).toTicks(),time:new Mf(this.context,r).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(e,t){const r=new fc(this,{callback:e,once:!0,time:new Mf(this.context,t).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(t,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new mh(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let r;return ln(t)&&(r=this.toTicks(t)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Ys(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Za(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Za(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new mh(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new mh(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),r=this._clock.frequency.timeToTicks(e,t);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(t),a=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,t),o=t+a;this.emit("stop",o),this._clock.setTicksAtTime(e,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),r=this.getTicksAtTime(t),a=e-r%e;return this._clock.nextTickTime(a,t)}}syncSignal(e,t){const r=this.now();let a=this.bpm,o=1/(60/a.getValueAtTime(r)/this.PPQ),h=[];if(e.units==="time"){const f=.015625/o,d=new Qi(f),m=new b1(-1),b=new Qi(f);a.chain(d,m,b),a=b,o=1/o,h=[d,m,b]}t||(e.getValueAtTime(r)!==0?t=e.getValueAtTime(r)/o:t=0);const c=new Qi(t);return a.connect(c),c.connect(e._param),h.push(c),this._syncedSignals.push({initial:e.value,nodes:h,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const r=this._syncedSignals[t];r.signal===e&&(r.nodes.forEach(a=>a.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Eg(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}sd.mixin(x1);m1(i=>{i.transport=new x1({context:i})});g1(i=>{i.transport.dispose()});class zr extends Ht{constructor(e){super(e),this.input=void 0,this._state=new Lg("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Gn,this._syncedStop=Gn,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ih({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,ci(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Ht.getDefaults(),{mute:!1,onstop:Gn,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,r){let a=pa(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")qt(Th(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,t,r);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const o=this._state.get(a);o&&(o.offset=this.toSeconds(yh(t,0)),o.duration=r?this.toSeconds(r):void 0);const h=this.context.transport.schedule(c=>{this._start(c,t,r)},a);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else Px(this.context),this._start(a,t,r);return this}stop(e){let t=pa(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||ln(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const r=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(r)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Th(t,0)){const r=this._state.get(t);if(r&&r.state==="started"&&r.time!==t){const a=t-this.toSeconds(r.time);let o;r.duration&&(o=this.toSeconds(r.duration)-a),this._start(e,this.toSeconds(r.offset)+a,o)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Gn,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class _1 extends Eh{constructor(){const e=Vt(_1.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Rh(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new $n({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new ai(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Eh.getDefaults(),{url:new ai,loop:!1,loopEnd:0,loopStart:0,onload:Gn,onerror:Gn,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,r,a=1){qt(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(e);this._startGain(o,a),this.loop?t=yh(t,this.loopStart):t=yh(t,0);let h=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),d=c-f;P0(h,c)&&(h=(h-f)%d+f),Ya(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Hp(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,h)),ln(r)){let c=this.toSeconds(r);c=Math.max(c,0),this.stop(o+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function fu(i,e){return Ki(this,void 0,void 0,function*(){const t=e/i.context.sampleRate,r=new kg(1,t,i.context.sampleRate);return new i.constructor(Object.assign(i.get(),{frequency:2/t,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class zg extends Eh{constructor(){const e=Vt(zg.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Rh(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new $n({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new $n({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),ci(this,["frequency","detune"])}static getDefaults(){return Object.assign(Eh.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Zi extends zr{constructor(){const e=Vt(Zi.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),ci(this,"frequency"),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),ci(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(zr.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),r=new zg({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Zi._periodicWaveCache.find(t=>t.phase===this._phase&&Y8(t.partials,this._partials));{const e=Zi._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(ln(r)){const{partials:a,wave:o}=r;this._wave=o,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,o]=this._getRealImaginary(e,this._phase),h=this.context.createPeriodicWave(a,o);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Zi._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),Zi._periodicWaveCache.length>100&&Zi._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){yl(e,0);let t=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(t=r[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const a=new Float32Array(e);this._partials.forEach((o,h)=>a[h]=o),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,t){let a=2048;const o=new Float32Array(a),h=new Float32Array(a);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,a=c,this._partials.length===0)return[o,h]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);f?(c=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),e=f[1],c=Math.max(c,2),a=c):this._partialCount=0,this._partials=[]}for(let f=1;f<a;++f){const d=2/(f*Math.PI);let m;switch(e){case"sine":m=f<=c?1:0,this._partials[f-1]=m;break;case"square":m=f&1?2*d:0,this._partials[f-1]=m;break;case"sawtooth":m=d*(f&1?1:-1),this._partials[f-1]=m;break;case"triangle":f&1?m=2*(d*d)*(f-1>>1&1?-1:1):m=0,this._partials[f-1]=m;break;case"custom":m=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}m!==0?(o[f]=-m*Math.sin(t*f),h[f]=m*Math.cos(t*f)):(o[f]=0,h[f]=0)}return[o,h]}_inverseFFT(e,t,r){let a=0;const o=e.length;for(let h=0;h<o;h++)a+=e[h]*Math.cos(h*r)+t[h]*Math.sin(h*r);return a}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let r=0;const a=Math.PI*2,o=32;for(let h=0;h<o;h++)r=Math.max(this._inverseFFT(e,t,h/o*a),r);return X8(-this._inverseFFT(e,t,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Ki(this,arguments,void 0,function*(e=1024){return fu(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Zi._periodicWaveCache=[];class n_ extends hc{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new ad({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class bl extends Jn{constructor(){const e=Vt(bl.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Qi({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Jn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class w1 extends zr{constructor(){const e=Vt(w1.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new n_({context:this.context}),this._modulationNode=new Qi({context:this.context}),this._carrier=new Zi({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Zi({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new bl({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ci(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Zi.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ki(this,arguments,void 0,function*(e=1024){return fu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class S1 extends zr{constructor(){const e=Vt(S1.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Qi({context:this.context,gain:0}),this._carrier=new Zi({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Zi({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new bl({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new bl({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ci(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Zi.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Ki(this,arguments,void 0,function*(e=1024){return fu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class od extends zr{constructor(){const e=Vt(od.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Qi({context:this.context,gain:0}),this._thresh=new ad({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new Jn({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Zi({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ci(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(zr.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Ki(this,arguments,void 0,function*(e=1024){return fu(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class A1 extends zr{constructor(){const e=Vt(A1.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,ci(this,["frequency","detune"])}static getDefaults(){return Object.assign(Zi.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,r=e/(this._oscillators.length-1);this._forEach((a,o)=>a.detune.value=t+r*o)}}get count(){return this._oscillators.length}set count(e){if(yl(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const r=new Zi({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):Gn});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[t]=r}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,r)=>t.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Ki(this,arguments,void 0,function*(e=1024){return fu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class N1 extends zr{constructor(){const e=Vt(N1.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new bl({context:this.context,value:2}),this._pulse=new od({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Zi({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ci(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(zr.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Ki(this,arguments,void 0,function*(e=1024){return fu(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const ry={am:w1,fat:A1,fm:S1,oscillator:Zi,pulse:od,pwm:N1};class dc extends zr{constructor(){const e=Vt(dc.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),ci(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Zi.getDefaults(),S1.getDefaults(),w1.getDefaults(),A1.getDefaults(),od.getDefaults(),N1.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=ry[e],r=this.now();if(this._oscillator){const a=this._oscillator;a.stop(r),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof ry[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&gl(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&gl(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&vl(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Ki(this,arguments,void 0,function*(e=1024){return fu(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Fg extends Jn{constructor(){super(Vt(Fg.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new Qi({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Uf(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Jn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Pg extends hc{constructor(){const e=Vt(Pg.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new bl({context:this.context,value:e.max-e.min}),this._add=this.output=new Fg({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(hc.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function i_(i,e=1/0){const t=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){yl(o,i,e),t.set(this,o)}})}}function wl(i,e=1/0){const t=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){yl(this.toSeconds(o),i,e),t.set(this,o)}})}}class C1 extends zr{constructor(){const e=Vt(C1.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new ai({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(zr.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Gn,onerror:Gn,playbackRate:1,reverse:!1})}load(e){return Ki(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Gn){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,r){return super.start(e,t,r),this}_start(e,t,r){this._loop?t=yh(t,this._loopStart):t=yh(t,0);const a=this.toSeconds(t),o=r;r=yh(r,Math.max(this._buffer.duration-a,0));let h=this.toSeconds(r);h=h/this._playbackRate,e=this.toSeconds(e);const c=new _1({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+h),this._state.setStateAtTime("stopped",e+h,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&pa(o)?c.start(e,a):c.start(e,a,h-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(t))}restart(e,t,r){return super.restart(e,t,r),this}_restart(e,t,r){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,t,r)}seek(e,t){const r=this.toSeconds(t);if(this._state.getValueAtTime(r)==="started"){const a=this.toSeconds(e);this._stop(r),this._start(r,a)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&yl(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&yl(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),r=this._state.getNextState("stopped",t);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}io([wl(0)],C1.prototype,"fadeIn",void 0);io([wl(0)],C1.prototype,"fadeOut",void 0);class Ws extends Ht{constructor(){const e=Vt(Ws.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Jn({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Ht.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(vl(e))return e;{let r;for(r in up)if(up[r][t]===e)return r;return e}}_setCurve(e,t,r){if(vl(r)&&Reflect.has(up,r)){const a=up[r];iu(a)?e!=="_decayCurve"&&(this[e]=a[t]):this[e]=a}else if(Ys(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),h=this.getValueAtTime(e);if(h>0){const c=1/a;a=(1-h)/c}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,a,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let f=1;f<c.length;f++)if(c[f-1]<=h&&h<=c[f]){c=this._attackCurve.slice(f),c[0]=h;break}this._sig.setValueCurveAtTime(c,e,a,t)}if(o&&this.sustain<1){const c=t*this.sustain,f=e+a;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,o+f):this._sig.exponentialApproachValueAtTime(c,f,o)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(qt(Ys(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,r=1){return t=this.toSeconds(t),this.triggerAttack(t,r),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,r=0){return Dg(this,e,t,r),this}asArray(){return Ki(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,r=new kg(1,t,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=a+this.toSeconds(this.release),h=o*.1,c=o+h,f=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:r}));return f._sig.toDestination(),f.triggerAttackRelease(t*(a+h)/c,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}io([wl(0)],Ws.prototype,"attack",void 0);io([wl(0)],Ws.prototype,"decay",void 0);io([i_(0,1)],Ws.prototype,"sustain",void 0);io([wl(0)],Ws.prototype,"release",void 0);const up=(()=>{let e,t;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const a=[],o=6.4;for(e=0;e<127;e++){t=e/127;const w=Math.sin(t*(Math.PI*2)*o-Math.PI/2)+1;a[e]=w/10+t*.83}a[127]=1;const h=[],c=5;for(e=0;e<128;e++)h[e]=Math.ceil(e/127*c)/c;const f=[];for(e=0;e<128;e++)t=e/127,f[e]=.5*(1-Math.cos(Math.PI*t));const d=[];for(e=0;e<128;e++){t=e/127;const w=Math.pow(t,3)*4+.2,y=Math.cos(w*Math.PI*2*t);d[e]=Math.abs(y*(1-t))}function m(w){const y=new Array(w.length);for(let A=0;A<w.length;A++)y[A]=1-w[A];return y}function b(w){return w.slice(0).reverse()}return{bounce:{In:m(d),Out:d},cosine:{In:r,Out:b(r)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:m(a)},sine:{In:f,Out:m(f)},step:{In:h,Out:m(h)}}})();class pc extends Ht{constructor(){const e=Vt(pc.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new Ih({context:this.context,volume:e.volume}),this.volume=this._volume.volume,ci(this,"volume")}static getDefaults(){return Object.assign(Ht.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const r=this["_original_"+e]=this[e];this[e]=(...a)=>{const o=a[t],h=this.context.transport.schedule(c=>{a[t]=c,r.apply(this,a)},o);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,r,a){const o=this.toSeconds(r),h=this.toSeconds(t);return this.triggerAttack(e,o,a),this.triggerRelease(o+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Qa extends pc{constructor(){const e=Vt(Qa.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(pc.getDefaults(),{detune:0,onsilence:Gn,portamento:0})}triggerAttack(e,t,r=1){this.log("triggerAttack",e,t,r);const a=this.toSeconds(t);return this._triggerEnvelopeAttack(a,r),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const r=this.toSeconds(t),a=e instanceof Hs?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,o,r)}else this.frequency.setValueAtTime(a,r);return this}}io([wl(0)],Qa.prototype,"portamento",void 0);class T1 extends Ws{constructor(){super(Vt(T1.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Qi({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class da extends Qa{constructor(){const e=Vt(da.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new dc(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new T1(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),ci(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Qa.getDefaults(),{envelope:Object.assign(Wa(Ws.getDefaults(),Object.keys(Ht.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Wa(dc.getDefaults(),[...Object.keys(zr.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Hf extends Qa{constructor(){const e=Vt(Hf.getDefaults(),arguments);super(e),this.name="ModulationSynth",this._carrier=new da({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new da({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Jn({context:this.context,units:"frequency"}),this.detune=new Jn({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new bl({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new Qi({context:this.context,gain:0}),ci(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Qa.getDefaults(),{harmonicity:3,oscillator:Object.assign(Wa(dc.getDefaults(),[...Object.keys(zr.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Wa(Ws.getDefaults(),Object.keys(Ht.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Wa(dc.getDefaults(),[...Object.keys(zr.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Wa(Ws.getDefaults(),Object.keys(Ht.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class Yp extends Hf{constructor(){super(Vt(Yp.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new n_({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Wp extends Ht{constructor(){const e=Vt(Wp.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new $n({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new $n({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new $n({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new $n({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(Ht.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){qt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let h=0;h<e;h++){const f=Math.pow(h/e,2)*19980+20;t[h]=f}const r=new Float32Array(e),a=new Float32Array(e),o=this.context.createBiquadFilter();return o.type=this.type,o.Q.value=this.Q.value,o.frequency.value=this.frequency.value,o.gain.value=this.gain.value,o.getFrequencyResponse(t,r,a),r}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Xp extends Ht{constructor(){const e=Vt(Xp.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new Qi({context:this.context}),this.output=new Qi({context:this.context}),this._filters=[],this._filters=[],this.Q=new Jn({context:this.context,units:"positive",value:e.Q}),this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),this.gain=new Jn({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,ci(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Ht.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){qt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(r=>r.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const t=gl(e)?e:parseInt(e,10),r=[-12,-24,-48,-96];let a=r.indexOf(t);qt(a!==-1,`rolloff can only be ${r.join(", ")}`),a+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach(o=>o.disconnect()),this._filters=new Array(a);for(let o=0;o<a;o++){const h=new Wp({context:this.context});h.type=this._type,this.frequency.connect(h.frequency),this.detune.connect(h.detune),this.Q.connect(h.Q),this.gain.connect(h.gain),this._filters[o]=h}this._internalChannels=this._filters,Uf(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new Wp({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),r=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{t.getFrequencyResponse(e).forEach((o,h)=>r[h]*=o)}),t.dispose(),r}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Eg(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Zp extends Ws{constructor(){const e=Vt(Zp.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="FrequencyEnvelope",this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new b1({context:this.context,value:e.exponent}),this._scale=this.output=new Pg({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Ws.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);yl(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Kp extends Qa{constructor(){const e=Vt(Kp.getDefaults(),arguments);super(e),this.name="MonoSynth",this.oscillator=new dc(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Xp(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new Zp(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new T1(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),ci(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Qa.getDefaults(),{envelope:Object.assign(Wa(Ws.getDefaults(),Object.keys(Ht.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Wa(Xp.getDefaults(),Object.keys(Ht.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Wa(Zp.getDefaults(),Object.keys(Ht.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Wa(dc.getDefaults(),Object.keys(zr.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Df extends Hf{constructor(){const e=Vt(Df.getDefaults(),arguments);super(e),this.name="FMSynth",this.modulationIndex=new bl({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Hf.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class E1 extends da{constructor(){const e=Vt(E1.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,ci(this,["oscillator","envelope"])}static getDefaults(){return ru(Qa.getDefaults(),da.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const r=this.toSeconds(t),a=this.toFrequency(e instanceof Hs?e.toFrequency():e),o=a*this.octaves;return this.oscillator.frequency.setValueAtTime(o,r),this.oscillator.frequency.exponentialRampToValueAtTime(a,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}io([i_(0)],E1.prototype,"octaves",void 0);io([wl(0)],E1.prototype,"pitchDecay",void 0);const r_=new Set;function Ug(i){r_.add(i)}function s_(i,e){const t=`registerProcessor("${i}", ${e})`;r_.add(t)}const hC=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Ug(hC);const fC=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Ug(fC);const dC=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Ug(dC);const pC="feedback-comb-filter",mC=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;s_(pC,mC);class xs extends pc{constructor(){const e=Vt(xs.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),qt(!gl(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(pc.getDefaults(),{maxPolyphony:32,options:{},voice:da})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex(r=>r.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return qt(e instanceof Qa,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else p1("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,r){e.forEach(a=>{const o=new Gp(this.context,a).toMidi(),h=this._getNextAvailableVoice();h&&(h.triggerAttack(a,t,r),this._activeVoices.push({midi:o,voice:h,released:!1}),this.log("triggerAttack",a,t))})}_triggerRelease(e,t){e.forEach(r=>{const a=new Gp(this.context,r).toMidi(),o=this._activeVoices.find(({midi:h,released:c})=>h===a&&!c);o&&(o.voice.triggerRelease(t),o.released=!0,this.log("triggerRelease",r,t))})}_scheduleEvent(e,t,r,a){qt(!this.disposed,"Synth was already disposed"),r<=this.now()?e==="attack"?this._triggerAttack(t,r,a):this._triggerRelease(t,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,t,r,a)},r-this.now())}triggerAttack(e,t,r){Array.isArray(e)||(e=[e]);const a=this.toSeconds(t);return this._scheduleEvent("attack",e,a,r),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const r=this.toSeconds(t);return this._scheduleEvent("release",e,r),this}triggerAttackRelease(e,t,r,a){const o=this.toSeconds(r);if(this.triggerAttack(e,o,a),Ys(t)){qt(Ys(e),"If the duration is an array, the notes must also be an array"),e=e;for(let h=0;h<e.length;h++){const c=t[Math.min(h,t.length-1)],f=this.toSeconds(c);qt(f>0,"The duration must be greater than 0"),this.triggerRelease(e[h],o+f)}}else{const h=this.toSeconds(t);qt(h>0,"The duration must be greater than 0"),this.triggerRelease(e,o+h)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const t=Wa(e,["onsilence","context"]);return this.options=ru(this.options,t),this._voices.forEach(r=>r.set(t)),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(t)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class ld extends pc{constructor(){const e=Vt(ld.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(r=>{const a=parseInt(r,10);if(qt(cp(r)||gl(a)&&isFinite(a),`url key is neither a note or midi pitch: ${r}`),cp(r)){const o=new Hs(this.context,r).toMidi();t[o]=e.urls[r]}else gl(a)&&isFinite(a)&&(t[a]=e.urls[a])}),this._buffers=new Bg({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(pc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Gn,onerror:Gn,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,r=1){return this.log("triggerAttack",e,t,r),Array.isArray(e)||(e=[e]),e.forEach(a=>{const o=$x(new Hs(this.context,a).toFrequency()),h=Math.round(o),c=o-h,f=this._findClosest(h),d=h-f,m=this._buffers.get(d),b=Qx(f+c),w=new _1({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:b}).connect(this.output);w.start(t,0,m.duration/b,r),Ys(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(w),w.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const y=this._activeSources.get(h),A=y.indexOf(w);A!==-1&&y.splice(A,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(r=>{const a=new Hs(this.context,r).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const o=this._activeSources.get(a);t=this.toSeconds(t),o.forEach(h=>{h.stop(t)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,r,a=1){const o=this.toSeconds(r);return this.triggerAttack(e,o,a),Ys(t)?(qt(Ys(e),"notes must be an array when duration is array"),e.forEach((h,c)=>{const f=t[Math.min(c,t.length-1)];this.triggerRelease(h,o+this.toSeconds(f))})):this.triggerRelease(e,o+this.toSeconds(t)),this}add(e,t,r){if(qt(cp(e)||isFinite(e),`note must be a pitch or midi: ${e}`),cp(e)){const a=new Hs(this.context,e).toMidi();this._buffers.add(a,t,r)}else this._buffers.add(e,t,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}io([wl(0)],ld.prototype,"attack",void 0);io([wl(0)],ld.prototype,"release",void 0);class Hg extends Ht{constructor(){const e=Vt(Hg.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new $n({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",ci(this,"pan")}static getDefaults(){return Object.assign(Ht.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const gC="bit-crusher",vC=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;s_(gC,vC);class Xi extends Ht{constructor(){const e=Vt(Xi.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Qi({context:this.context}),Xi._allSolos.has(this.context)||Xi._allSolos.set(this.context,new Set),Xi._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Ht.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Xi._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Xi._soloed.has(this.context)||Xi._soloed.set(this.context,new Set),Xi._soloed.get(this.context).add(this)}_removeSolo(){Xi._soloed.has(this.context)&&Xi._soloed.get(this.context).delete(this)}_isSoloed(){return Xi._soloed.has(this.context)&&Xi._soloed.get(this.context).has(this)}_noSolos(){return!Xi._soloed.has(this.context)||Xi._soloed.has(this.context)&&Xi._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Xi._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Xi._allSolos=new Map;Xi._soloed=new Map;class Gg extends Ht{constructor(){const e=Vt(Gg.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Hg({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ih({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,ci(this,["pan","volume"])}static getDefaults(){return Object.assign(Ht.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class gh extends Ht{constructor(){const e=Vt(gh.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Xi({solo:e.solo,context:this.context}),this._panVol=this.output=new Gg({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ci(this,["pan","volume"])}static getDefaults(){return Object.assign(Ht.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return gh.buses.has(e)||gh.buses.set(e,new Qi({context:this.context})),gh.buses.get(e)}send(e,t=0){const r=this._getBus(e),a=new Qi({context:this.context,units:"decibels",gain:t});return this.connect(a),a.connect(r),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}gh.buses=new Map;const es=Xa().transport,a_=Xa().destination;Xa().destination;Xa().listener;const yC=Xa().draw,ko=Xa();function bC(){return ai.loaded()}const hp=({cx:i,cy:e,innerRadius:t,outerRadius:r,startAngle:a,endAngle:o,color:h,label:c,chord:f,isSelected:d,isDiatonic:m,isSecondary:b=!1,onClick:w,onDoubleClick:y,ringType:A="major",wheelRotation:N=0,romanNumeral:k,voicingSuggestion:C,segmentId:F="seg"})=>{const z=E4(i,e,t,r,a,o),V=(a+o)/2,I=pn.useRef(0),Z=pn.useRef(null),[G,D]=pn.useState(!1),R=-N,K=r-t,E=t+K*.5,j=t+K*.18,P=lc(i,e,E,V),J=lc(i,e,j,V),ue=r-6,$=T4(i,e,ue,a+1,o-1),re=`voicing-arc-${F}`,ce=`clip-${F}`,Ne=(()=>{let He=.35,Qe=.5;m?(He=1,Qe=1):b&&(He=.7,Qe=.65);const U=h.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(U){const De=parseInt(U[1]),ut=Math.round(parseInt(U[2])*Qe),nt=parseInt(U[3]);let Me=nt;return A==="minor"?Me=Math.max(nt-8,30):A==="diminished"&&(Me=Math.max(nt-15,25)),{fill:`hsl(${De}, ${ut}%, ${Me}%)`,opacity:He}}return{fill:h,opacity:He}})(),X=()=>A==="diminished"?"10px":A==="minor"?"12px":"14px",T=m||b,H=T?"#000000":"rgba(255,255,255,0.7)",ee=m?"bold":b?"600":"normal",ie=A==="diminished"||A==="minor"?"6px":"8px",oe=A==="major"?T?6:5:A==="minor"?T?4:3.25:T?3.5:3,me=T?1:.95,de=()=>{D(!0)},ge=async He=>{He.preventDefault(),He.stopPropagation(),D(!1),ko.state!=="running"&&await v1();const Qe=Date.now(),U=Qe-I.current;Z.current&&(clearTimeout(Z.current),Z.current=null),U<300&&U>0?(I.current=0,y&&y(f)):(I.current=Qe,Z.current=setTimeout(()=>{w(f),Z.current=null},300))},_e=()=>{D(!1),Z.current&&(clearTimeout(Z.current),Z.current=null)},Re=He=>{He.stopPropagation(),w(f)},Xe=He=>{He.stopPropagation(),y&&y(f)};return M.jsxs("g",{className:Ps("cursor-pointer transition-all duration-200",!T&&"hover:opacity-70",G&&"opacity-80"),onClick:Re,onDoubleClick:Xe,onTouchStart:de,onTouchEnd:ge,onTouchCancel:_e,style:{pointerEvents:"all",WebkitTapHighlightColor:"transparent"},children:[(m||b)&&C&&M.jsx("defs",{children:M.jsx("path",{id:re,d:$,fill:"none"})}),M.jsx("defs",{children:M.jsx("clipPath",{id:ce,children:M.jsx("path",{d:z})})}),M.jsx("path",{d:z,fill:Ne.fill,opacity:Ne.opacity,stroke:k==="I"?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",strokeWidth:k==="I"?2.5:1,className:Ps("transition-all duration-200 hover:brightness-110",d&&"brightness-125 stroke-white stroke-2",T&&"hover:brightness-105"),style:{pointerEvents:"all"}}),d&&M.jsx("path",{d:z,fill:"none",stroke:"white",strokeWidth:oe,opacity:me,filter:"url(#segment-glow)",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none",clipPath:`url(#${ce})`}),(m||b)&&C&&A==="major"&&M.jsx("text",{fill:"rgba(0,0,0,0.6)",fontSize:"6px",className:"pointer-events-none select-none",children:M.jsx("textPath",{href:`#${re}`,startOffset:"50%",textAnchor:"middle",children:C})}),m&&C&&A==="minor"&&M.jsx("text",{fill:"rgba(0,0,0,0.55)",fontSize:"5px",className:"pointer-events-none select-none",children:M.jsx("textPath",{href:`#${re}`,startOffset:"50%",textAnchor:"middle",children:C})}),m&&C&&A==="diminished"&&M.jsx("text",{fill:"rgba(0,0,0,0.5)",fontSize:"5px",className:"pointer-events-none select-none",children:M.jsx("textPath",{href:`#${re}`,startOffset:"50%",textAnchor:"middle",children:C})}),M.jsx("text",{x:P.x,y:P.y,textAnchor:"middle",dominantBaseline:"middle",fill:H,fontWeight:ee,fontSize:X(),className:"pointer-events-none select-none",transform:`rotate(${R}, ${P.x}, ${P.y})`,children:c}),(m||b)&&k&&M.jsx("text",{x:J.x,y:J.y,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(0,0,0,0.6)",fontSize:ie,fontStyle:"italic",className:"pointer-events-none select-none",transform:`rotate(${R}, ${J.x}, ${J.y})`,children:k})]})};const xC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_C=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),sy=i=>{const e=_C(i);return e.charAt(0).toUpperCase()+e.slice(1)},o_=(...i)=>i.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),wC=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var SC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const AC=fe.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:h,...c},f)=>fe.createElement("svg",{ref:f,...SC,width:e,height:e,stroke:i,strokeWidth:r?Number(t)*24/Number(e):t,className:o_("lucide",a),...!o&&!wC(c)&&{"aria-hidden":"true"},...c},[...h.map(([d,m])=>fe.createElement(d,m)),...Array.isArray(o)?o:[o]]));const mn=(i,e)=>{const t=fe.forwardRef(({className:r,...a},o)=>fe.createElement(AC,{ref:o,iconNode:e,className:o_(`lucide-${xC(sy(i))}`,`lucide-${i}`,r),...a}));return t.displayName=sy(i),t};const NC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],CC=mn("arrow-right",NC);const TC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bh=mn("chevron-down",TC);const EC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kC=mn("chevron-right",EC);const OC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],LC=mn("chevron-left",OC);const MC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Yg=mn("chevron-up",MC);const DC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jC=mn("circle-question-mark",DC);const RC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],IC=mn("circle",RC);const VC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],BC=mn("clock",VC);const qC=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ay=mn("compass",qC);const zC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],FC=mn("copy",zC);const PC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],UC=mn("download",PC);const HC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],GC=mn("file-plus",HC);const YC=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],WC=mn("folder-open",YC);const XC=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],oy=mn("grip-horizontal",XC);const ZC=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],l_=mn("grip-vertical",ZC);const KC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],QC=mn("hash",KC);const $C=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],JC=mn("layers",$C);const eT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tT=mn("loader-circle",eT);const nT=[["path",{d:"M5 12h14",key:"1ays0h"}]],iT=mn("minus",nT);const rT=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],U0=mn("music",rT);const sT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],aT=mn("panel-right-close",sT);const oT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],lT=mn("panel-right",oT);const cT=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],uT=mn("pause",cT);const hT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],fT=mn("play",hT);const dT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],c_=mn("plus",dT);const pT=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],mT=mn("repeat",pT);const gT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],u_=mn("rotate-ccw",gT);const vT=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],h_=mn("rotate-cw",vT);const yT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ly=mn("save",yT);const bT=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],xT=mn("skip-back",bT);const _T=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],wT=mn("skip-forward",_T);const ST=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],f_=mn("trash-2",ST);const AT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],NT=mn("volume-2",AT);const CT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],TT=mn("volume-x",CT);const ET=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cy=mn("x",ET);let kh={piano:null,epiano:null,guitar:null,organ:null,synth:null,strings:null,pad:null,brass:null,marimba:null,bell:null,lead:null,bass:null,choir:null},d_="piano",Cf=null,Cp=[],Qp={},uy=!1,Co=null;const p_=async()=>{if(!uy){if(console.log("[iOS Audio] Starting unlock sequence..."),"audioSession"in navigator)try{navigator.audioSession.type="playback",console.log("[iOS Audio] Set audioSession.type to playback")}catch(i){console.warn("[iOS Audio] Could not set audioSession type:",i)}Co||(Co=document.createElement("audio"),Co.src="data:audio/mpeg;base64,/+NIxAAAAAANIAAAAAExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/jSMQADwAAADSAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",Co.loop=!0,Co.volume=.001,Co.muted=!1,Co.setAttribute("playsinline","true"),Co.setAttribute("x-webkit-airplay","deny"),document.body.appendChild(Co));try{const i=Co.play();i!==void 0&&await i,console.log("[iOS Audio] Silent looping audio started successfully")}catch(i){console.warn("[iOS Audio] Silent audio failed:",i)}try{await v1(),console.log("[iOS Audio] Tone.start() completed, state:",ko.state)}catch(i){console.warn("[iOS Audio] Tone.start() failed:",i)}if(ko.state!=="running")try{await ko.resume(),console.log("[iOS Audio] Context resumed, state:",ko.state)}catch(i){console.warn("[iOS Audio] Context resume failed:",i)}uy=!0,console.log("[iOS Audio] Unlock sequence complete")}},Wg=i=>{i in kh&&(d_=i)},m_=i=>{const e=i<=0?-1/0:20*Math.log10(i);try{a_.volume.rampTo(e,.1)}catch(t){console.error("Error setting volume:",t)}},g_=i=>{a_.mute=i},cd=async()=>{if(Cf)return Cf;Cf=(async()=>{const i="https://tonejs.github.io/audio/salamander/",e=(t,r)=>{if(!kh[t])try{const a=r();a&&(kh[t]=a)}catch(a){console.error(`Failed to init instrument "${t}"`,a)}};e("piano",()=>new ld({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:i}).toDestination()),e("guitar",()=>new xs(da,{oscillator:{type:"triangle"},envelope:{attack:.002,decay:.25,sustain:.3,release:1.2},filter:{type:"lowpass",frequency:2400,rolloff:-12,Q:1.2},filterEnvelope:{attack:.002,decay:.25,sustain:.2,release:.8,baseFrequency:800,octaves:2.5}}).toDestination()),e("organ",()=>new xs(Yp,{harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("synth",()=>new xs(Df,{harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("epiano",()=>new xs(Yp,{harmonicity:2,oscillator:{type:"triangle"},envelope:{attack:.01,decay:.2,sustain:.7,release:.8},modulation:{type:"sine"},modulationEnvelope:{attack:.2,decay:.1,sustain:.6,release:.6}}).toDestination()),e("strings",()=>new xs(da,{oscillator:{type:"sawtooth"},envelope:{attack:.2,decay:.2,sustain:.8,release:1.2}}).toDestination()),e("pad",()=>new xs(Df,{harmonicity:1.5,modulationIndex:8,oscillator:{type:"sine"},envelope:{attack:.5,decay:.3,sustain:.9,release:1.5},modulation:{type:"triangle"},modulationEnvelope:{attack:.8,decay:.3,sustain:.8,release:1.2}}).toDestination()),e("brass",()=>new xs(Kp,{oscillator:{type:"square"},filter:{Q:2,type:"lowpass",rolloff:-12},envelope:{attack:.02,decay:.25,sustain:.6,release:.7},filterEnvelope:{attack:.01,decay:.2,sustain:.8,release:.4,baseFrequency:200,octaves:2.5}}).toDestination()),e("marimba",()=>new xs(da,{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.35,sustain:0,release:.6}}).toDestination()),e("bell",()=>new xs(Df,{harmonicity:8,modulationIndex:2,oscillator:{type:"sine"},envelope:{attack:.01,decay:1.2,sustain:0,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.01,decay:.5,sustain:0,release:1.2}}).toDestination()),e("lead",()=>new xs(da,{oscillator:{type:"sawtooth"},envelope:{attack:.005,decay:.15,sustain:.6,release:.35}}).toDestination()),e("bass",()=>new xs(Kp,{oscillator:{type:"square"},filter:{type:"lowpass",rolloff:-24,Q:2},envelope:{attack:.01,decay:.2,sustain:.6,release:.4},filterEnvelope:{attack:.001,decay:.15,sustain:.4,release:.2,baseFrequency:80,octaves:3}}).toDestination()),e("choir",()=>new xs(da,{oscillator:{type:"sine"},envelope:{attack:.8,decay:.3,sustain:.9,release:1.8}}).toDestination()),await bC()})();try{await Cf}catch(i){Cf=null,console.error("Failed to initialize audio",i)}},hy=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],k1=async(i,e="1n",t)=>{if(ko.state!=="running"&&await v1(),ko.state==="suspended"&&await ko.resume(),await cd(),!i||i.length===0)return;const r=i[0],a=hy.indexOf(r.replace(/\d/,"")),o=i.map((c,f)=>{if(c.match(/\d/))return c;const d=c,m=hy.indexOf(d);if(f===0)return`${d}3`;let b=3;return(m<a||m-a>6)&&(b=4),f>=4&&(b=4),f>=5&&(b=5),`${d}${b}`});let h=kh[d_];if(h||(h=kh.piano),!h){console.error("No instrument available to play!");return}try{h.triggerAttackRelease(o,e,t)}catch(c){console.error("Failed to play chord",c)}},v_=()=>{Object.values(kh).forEach(t=>t?.releaseAll()),es.stop();const{setPlayingSlot:i,setIsPlaying:e}=Di.getState();i(null,null),e(!1)},Gf=i=>{const e=Math.floor(i/4),t=Math.floor(i%4),r=Math.floor(i%1*4);return`${e}:${t}:${r}`},Xg=i=>{es.cancel(0),Cp=[],Qp={},es.timeSignature=4;let e=0;i.sections.forEach(r=>{Qp[r.id]=e,r.measures.forEach(a=>{a.beats.forEach(o=>{const h=Gf(e),c=o.duration,f=c*4,d=`${Math.floor(f/16)}:${Math.floor(f%16/4)}:${f%4}`,m=es.schedule(b=>{yC.schedule(()=>{Di.getState().setPlayingSlot(r.id,o.id)},b),o.chord&&k1(o.chord.notes,d,b)},h);Cp.push(m),e+=c})})});const t=es.schedule(()=>{Di.getState().isLooping||v_()},Gf(e));Cp.push(t)},kT=async()=>{await cd()},y_=async()=>{await cd(),ko.state!=="running"&&await ko.resume();const{tempo:i,currentSong:e}=Di.getState();es.bpm.value=i,Cp.length===0&&Xg(e),es.start()},b_=()=>{es.pause()},x_=i=>{es.bpm.value=i},__=i=>{const{currentSong:e,playingSectionId:t}=Di.getState(),r=e.sections.map(m=>m.id);let a=t?r.indexOf(t):-1;a===-1&&(a=0);let o=i==="next"?a+1:a-1;o>=r.length&&(o=0),o<0&&(o=0);const h=r[o],c=Qp[h]||0,f=Gf(c);es.position=f;const d=e.sections[o].measures[0]?.beats[0];d&&Di.getState().setPlayingSlot(h,d.id)},w_=()=>{const{isLooping:i,playingSectionId:e,selectedSectionId:t,currentSong:r}=Di.getState();if(i){const a=e||t,o=r.sections.find(h=>h.id===a);if(o){const h=Qp[o.id]??0;let c=0;o.measures.forEach(d=>d.beats.forEach(m=>c+=m.duration));const f=h+c;es.loopStart=Gf(h),es.loopEnd=Gf(f),es.loop=!0;return}}es.loop=!1},OT=Object.freeze(Object.defineProperty({__proto__:null,initAudio:cd,pauseSong:b_,playChord:k1,playSong:y_,preloadAudio:kT,scheduleSong:Xg,setInstrument:Wg,setMute:g_,setTempo:x_,setVolume:m_,skipToSection:__,stopAudio:v_,toggleLoopMode:w_,unlockAudioForIOS:p_},Symbol.toStringTag,{value:"Module"})),fy=768;function Zg(){const[i,e]=fe.useState(()=>typeof window<"u"?window.innerWidth<fy:!1);return fe.useEffect(()=>{const t=()=>e(window.innerWidth<fy);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),i}const LT=({zoomScale:i,zoomOriginY:e,onZoomChange:t})=>{const{selectedKey:r,setKey:a,wheelRotation:o,wheelMode:h,rotateWheel:c,toggleWheelMode:f,addChordToSlot:d,selectedSectionId:m,selectedSlotId:b,currentSong:w,setSelectedChord:y,selectedChord:A,selectNextSlotAfter:N,setSelectedSlot:k}=Di(),C=h==="rotating"?o:0,F=Lf.indexOf(r),z=fe.useRef(null),V=fe.useRef(null),[I,Z]=fe.useState(null),[G,D]=fe.useState({x:0,y:0}),R=Zg();fe.useEffect(()=>{const we=A?.segmentId??null;Z(we)},[A]);const K=fe.useRef(null),E=fe.useRef(null),[j,P]=fe.useState(!1),J=fe.useRef(0),ue=fe.useRef(0),$=fe.useCallback((we,Be)=>{if(!E.current)return 0;const qe=E.current.getBoundingClientRect(),rt=qe.left+qe.width/2,Et=qe.top+qe.height/2,et=we-rt,Je=Be-Et;return Math.atan2(Je,et)*(180/Math.PI)},[]),re=fe.useCallback(we=>{const Be=Lf.indexOf(r),qe=we==="cw"?(Be+1)%12:(Be-1+12)%12;a(Lf[qe]),c(we)},[r,a,c]),ce=fe.useRef(null),pe=fe.useRef(!1),Ne=fe.useCallback(we=>{if(!E.current)return;const Be=E.current.getBoundingClientRect(),qe=Be.width/2,rt=Be.height/2,Et=we.clientX-Be.left-qe,et=we.clientY-Be.top-rt,Je=Math.sqrt(Et*Et+et*et),gt=Be.width/600*70;Je>gt&&(P(!0),J.current=$(we.clientX,we.clientY),ue.current=o,we.preventDefault())},[$,o,h]),X=fe.useCallback(we=>{if(we.touches.length!==1)return;const Be=we.touches[0];if(ce.current={x:Be.clientX,y:Be.clientY},pe.current=!1,!E.current)return;const qe=E.current.getBoundingClientRect(),rt=qe.width/2,Et=qe.height/2,et=Be.clientX-qe.left-rt,Je=Be.clientY-qe.top-Et,gt=Math.sqrt(et*et+Je*Je),Nn=qe.width/600*70;gt>Nn&&(J.current=$(Be.clientX,Be.clientY),ue.current=o)},[$,o]),T=fe.useCallback(we=>{if(we.touches.length!==1||!ce.current)return;const Be=we.touches[0],qe=Be.clientX-ce.current.x,rt=Be.clientY-ce.current.y;if(Math.sqrt(qe*qe+rt*rt)>10){if(pe.current=!0,we.preventDefault(),!E.current)return;const et=E.current.getBoundingClientRect(),Je=et.width/2,gt=et.height/2,Nn=Be.clientX-et.left,$t=Be.clientY-et.top,cn=Math.sqrt(Math.pow(Nn-Je,2)+Math.pow($t-gt,2)),Cn=et.width/600*70;if(cn>Cn&&J.current!==0){const ht=$(Be.clientX,Be.clientY),sn=ht-J.current;if(Math.abs(sn)>=15){const jn=Math.round(sn/30);if(jn!==0){const Tn=h==="fixed"?jn>0?"cw":"ccw":jn>0?"ccw":"cw",Mn=Math.abs(jn);for(let Jt=0;Jt<Mn;Jt++)re(Tn);J.current=ht}}}}},[$,re,h]),H=fe.useCallback(we=>{if(!j)return;const Be=$(we.clientX,we.clientY),qe=Be-J.current;if(Math.abs(qe)>=15){const rt=Math.round(qe/30);if(rt!==0){let Et;h==="fixed"?Et=rt>0?"cw":"ccw":Et=rt>0?"ccw":"cw";const et=Math.abs(rt);for(let Je=0;Je<et;Je++)re(Et);J.current=Be}}},[j,$,re,h]),ee=fe.useCallback(()=>{P(!1)},[]);fe.useEffect(()=>{if(j)return document.addEventListener("mousemove",H),document.addEventListener("mouseup",ee),()=>{document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",ee)}},[j,H,ee]);const ie=fe.useCallback((we,Be,qe)=>{if(!K.current||qe<=1)return{x:0,y:0};const{clientWidth:rt,clientHeight:Et}=K.current,et=12,Je=rt*(qe-1)/2+et,gt=Et*(qe-1)/2+et;return{x:Math.max(-Je,Math.min(Je,we)),y:Math.max(-gt,Math.min(gt,Be))}},[]);fe.useEffect(()=>{D(we=>ie(we.x,we.y,i))},[i,ie]);const oe=we=>({x:(we[0].clientX+we[1].clientX)/2,y:(we[0].clientY+we[1].clientY)/2}),me=fe.useCallback(we=>{if(we.touches.length===2){we.preventDefault();const Be=we.touches[0].clientX-we.touches[1].clientX,qe=we.touches[0].clientY-we.touches[1].clientY;z.current=Math.sqrt(Be*Be+qe*qe),V.current=oe(we.touches)}},[]),de=fe.useCallback(we=>{if(we.touches.length===2&&z.current!==null){we.preventDefault(),we.stopPropagation();const Be=we.touches[0].clientX-we.touches[1].clientX,qe=we.touches[0].clientY-we.touches[1].clientY,rt=Math.sqrt(Be*Be+qe*qe),Et=rt/z.current,et=Math.max(1,Math.min(2.5,i*Et)),Je=et>1.3?38:50,gt=oe(we.touches);if(V.current){const Nn=gt.x-V.current.x,$t=gt.y-V.current.y;D(cn=>ie(cn.x+Nn,cn.y+$t,et))}z.current=rt,V.current=gt,t(et,Je)}},[i,t,ie]),ge=fe.useCallback(we=>{z.current=null,V.current=null,we.touches.length===0&&we.preventDefault()},[]),_e=fe.useCallback(we=>{if(we.ctrlKey||we.metaKey){we.preventDefault();const Be=we.deltaY>0?.9:1.1,qe=Math.max(1,Math.min(2.5,i*Be)),rt=qe>1.3?38:50;t(qe,rt)}},[i,t]),Re=ag(),Xe=600,He=Xe/2,Qe=Xe/2,U=60,De=U+8,ut=145,nt=ut,Me=210,tt=Me,it=250,lt=fe.useMemo(()=>v4(r),[r]),pt=fe.useMemo(()=>lt.sharps>0?`${lt.sharps}`:lt.flats>0?`${lt.flats}`:"",[lt]),kt=fe.useRef(0),Ge=we=>{const Be=we,qe=Date.now();qe-kt.current<300||(kt.current=qe,k1(we.notes),Z(Be.segmentId??null),y(we))},Ke=we=>{const Be=we;let qe=null,rt=null;if(m&&b)qe=m,rt=b;else if(m){const Et=w.sections.find(et=>et.id===m);if(Et)for(const et of Et.measures){for(const Je of et.beats)if(!Je.chord){qe=Et.id,rt=Je.id;break}if(rt)break}}if(!qe||!rt)for(const Et of w.sections){for(const et of Et.measures){for(const Je of et.beats)if(!Je.chord){qe=Et.id,rt=Je.id;break}if(rt)break}if(rt)break}qe&&rt&&(d(we,qe,rt),N(qe,rt)||(k(qe,rt),Z(Be.segmentId??null),y(we)))},ct=we=>(we-F+12)%12,bt=(we,Be)=>{const qe=ct(we);return Be==="major"?qe===0||qe===1||qe===11:Be==="ii"||Be==="iii"||Be==="dim"?qe===0:!1},ot=we=>ct(we)===1,xt=we=>{const Be=ct(we);return Be===2||Be===4},st=(we,Be)=>{const qe=ct(we);if(Be==="major"){if(qe===0)return"I";if(qe===1)return"V";if(qe===11)return"IV";if(qe===2)return"II";if(qe===4)return"III"}if(Be==="ii"){if(qe===0)return"ii";if(qe===1)return"vi"}return Be==="iii"&&qe===0?"iii":Be==="dim"&&qe===0?"vii":""},Ut=(we,Be)=>{const qe=ct(we);if(Be==="major"){if(qe===0)return"maj7, maj9, maj13 or 6";if(qe===1)return"7, 9, 11, sus4, 13";if(qe===11)return"maj7, maj9, maj13 or 6";if(qe===2||qe===4)return"7, sus4"}if(Be==="ii"){if(qe===0)return"m7, m9, m11, m6";if(qe===1)return"m7, m9, m11"}return Be==="iii"&&qe===0?"m7":Be==="dim"&&qe===0?"m75 (7)":""},Dt=we=>{if(I)return I===we.segmentId;const Be=A?.segmentId;return Be?Be===we.segmentId:!1},St=fe.useCallback(we=>{we.touches.length===2?me(we):we.touches.length===1&&X(we)},[me,X]),At=fe.useCallback(we=>{we.touches.length===2?de(we):we.touches.length===1&&T(we)},[de,T]),zt=fe.useCallback(we=>{ce.current=null,pe.current=!1,ge(we)},[ge]);return M.jsx("div",{ref:K,className:"relative flex flex-col items-center justify-center w-full h-full max-w-full max-h-full aspect-square p-1 sm:p-2 select-none",onTouchStart:St,onTouchMove:At,onTouchEnd:zt,onWheel:_e,style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",touchAction:"none"},children:M.jsx("div",{className:"w-full h-full transition-transform duration-150 ease-out overflow-hidden",style:{transform:`translate(${G.x}px, ${G.y}px) scale(${i})`,transformOrigin:`center ${e}%`},children:M.jsxs("svg",{ref:E,width:"100%",height:"100%",viewBox:`0 0 ${Xe} ${Xe}`,className:`w-full h-full select-none ${j?"cursor-grabbing":"cursor-grab"}`,onMouseDown:Ne,style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},children:[M.jsxs("defs",{children:[M.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[M.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),M.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),M.jsx("filter",{id:"segment-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:M.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#ffffff",floodOpacity:"0.9"})})]}),M.jsx("g",{style:{transform:`rotate(${C}deg)`,transformOrigin:`${He}px ${Qe}px`,transition:"transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:p4.map((we,Be)=>{const rt=Be*30-15,Et=rt+30,et=Re[we.major]||Re.C,Je=we.ii.replace("m",""),gt=we.iii.replace("m",""),Nn=we.diminished.replace("",""),$t=bt(Be,"major"),cn=xt(Be),Cn=bt(Be,"ii")||ot(Be),ht=bt(Be,"iii"),sn=bt(Be,"dim"),jn={root:we.major,quality:"major",numeral:st(Be,"major"),notes:fh(we.major,"major"),symbol:we.major,segmentId:`major-${Be}`,ringType:"major",positionIndex:Be},Tn={root:Je,quality:"minor",numeral:st(Be,"ii"),notes:fh(Je,"minor"),symbol:we.ii,segmentId:`ii-${Be}`,ringType:"minor",positionIndex:Be},Mn={root:gt,quality:"minor",numeral:st(Be,"iii"),notes:fh(gt,"minor"),symbol:we.iii,segmentId:`iii-${Be}`,ringType:"minor",positionIndex:Be},Jt={root:Nn,quality:"diminished",numeral:st(Be,"dim"),notes:fh(Nn,"diminished"),symbol:we.diminished,segmentId:`dim-${Be}`,ringType:"diminished",positionIndex:Be},En=15,$i=rt+-7.5,ui=$i+En,wn=ui,Wn=wn+En,ji=15,ur=rt+(30-ji)/2,Lr=ur+ji,ga=we.major,Pr=we.ii,Ur=we.iii,Xs=we.diminished;return M.jsxs("g",{children:[M.jsx(hp,{cx:He,cy:Qe,innerRadius:De,outerRadius:ut,startAngle:rt,endAngle:Et,color:et,label:ga,chord:jn,isSelected:Dt(jn),isDiatonic:$t,isSecondary:cn,onClick:Ge,onDoubleClick:Ke,ringType:"major",wheelRotation:C,romanNumeral:$t||cn?st(Be,"major"):void 0,voicingSuggestion:$t||cn?Ut(Be,"major"):void 0,segmentId:`major-${Be}`}),M.jsx(hp,{cx:He,cy:Qe,innerRadius:nt,outerRadius:Me,startAngle:$i,endAngle:ui,color:et,label:Pr,chord:Tn,isSelected:Dt(Tn),isDiatonic:Cn,onClick:Ge,onDoubleClick:Ke,ringType:"minor",wheelRotation:C,romanNumeral:Cn?st(Be,"ii"):void 0,voicingSuggestion:Cn?Ut(Be,"ii"):void 0,segmentId:`ii-${Be}`}),M.jsx(hp,{cx:He,cy:Qe,innerRadius:nt,outerRadius:Me,startAngle:wn,endAngle:Wn,color:et,label:Ur,chord:Mn,isSelected:Dt(Mn),isDiatonic:ht,onClick:Ge,onDoubleClick:Ke,ringType:"minor",wheelRotation:C,romanNumeral:ht?st(Be,"iii"):void 0,voicingSuggestion:ht?Ut(Be,"iii"):void 0,segmentId:`iii-${Be}`}),M.jsx(hp,{cx:He,cy:Qe,innerRadius:tt,outerRadius:it,startAngle:ur,endAngle:Lr,color:et,label:Xs,chord:Jt,isSelected:Dt(Jt),isDiatonic:sn,onClick:Ge,onDoubleClick:Ke,ringType:"diminished",wheelRotation:C,romanNumeral:sn?st(Be,"dim"):void 0,voicingSuggestion:sn?Ut(Be,"dim"):void 0,segmentId:`dim-${Be}`})]},we.major)})}),M.jsx("circle",{cx:He,cy:Qe,r:U,fill:"#1a1a24",stroke:"#3a3a4a",strokeWidth:"2",style:{pointerEvents:"none"}}),M.jsx("text",{x:He,y:Qe-22,textAnchor:"middle",fill:"#6366f1",fontSize:"9",fontWeight:"bold",letterSpacing:"2",children:"KEY"}),M.jsx("text",{x:He,y:Qe+6,textAnchor:"middle",fill:"white",fontSize:"26",fontWeight:"bold",children:r}),M.jsx("text",{x:He,y:Qe+24,textAnchor:"middle",fill:"#9898a6",fontSize:"11",children:pt||"No /"}),M.jsxs("g",{transform:`translate(${He-22}, ${Qe+38})`,onClick:()=>re("ccw"),onTouchEnd:we=>{we.preventDefault(),we.stopPropagation(),re("ccw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[M.jsx("circle",{r:R?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),M.jsx("g",{transform:R?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:M.jsx(u_,{size:R?12:9,color:"#9898a6"})})]}),M.jsxs("g",{transform:`translate(${He+22}, ${Qe+38})`,onClick:()=>re("cw"),onTouchEnd:we=>{we.preventDefault(),we.stopPropagation(),re("cw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[M.jsx("circle",{r:R?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),M.jsx("g",{transform:R?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:M.jsx(h_,{size:R?12:9,color:"#9898a6"})})]}),M.jsxs("g",{transform:`translate(${He}, ${Qe+52})`,onClick:f,onTouchEnd:we=>{we.preventDefault(),we.stopPropagation(),f()},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[M.jsx("rect",{x:R?-24:-18,y:R?-10:-6,width:R?48:36,height:R?20:12,rx:R?10:6,fill:h==="fixed"?"#6366f1":"#282833",className:"hover:brightness-110 transition-all",style:{pointerEvents:"all"}}),M.jsx("g",{style:{pointerEvents:"none"},children:h==="fixed"?M.jsx("g",{transform:R?"translate(-5, -5)":"translate(-4, -4)",children:M.jsx(ay,{size:R?10:8,color:"white"})}):M.jsx("g",{transform:R?"translate(-5, -5) rotate(-35 5 5)":"translate(-4, -4) rotate(-35 4 4)",children:M.jsx(ay,{size:R?10:8,color:"#ef4444"})})})]})]})})})};var Of=Wb();function MT(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return fe.useMemo(()=>r=>{e.forEach(a=>a(r))},e)}const O1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vh(i){const e=Object.prototype.toString.call(i);return e==="[object Window]"||e==="[object global]"}function Kg(i){return"nodeType"in i}function ns(i){var e,t;return i?Vh(i)?i:Kg(i)&&(e=(t=i.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Qg(i){const{Document:e}=ns(i);return i instanceof e}function ud(i){return Vh(i)?!1:i instanceof ns(i).HTMLElement}function S_(i){return i instanceof ns(i).SVGElement}function Bh(i){return i?Vh(i)?i.document:Kg(i)?Qg(i)?i:ud(i)||S_(i)?i.ownerDocument:document:document:document}const $a=O1?fe.useLayoutEffect:fe.useEffect;function L1(i){const e=fe.useRef(i);return $a(()=>{e.current=i}),fe.useCallback(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function DT(){const i=fe.useRef(null),e=fe.useCallback((r,a)=>{i.current=setInterval(r,a)},[]),t=fe.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[e,t]}function Yf(i,e){e===void 0&&(e=[i]);const t=fe.useRef(i);return $a(()=>{t.current!==i&&(t.current=i)},e),t}function hd(i,e){const t=fe.useRef();return fe.useMemo(()=>{const r=i(t.current);return t.current=r,r},[...e])}function $p(i){const e=L1(i),t=fe.useRef(null),r=fe.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,r]}function Jp(i){const e=fe.useRef();return fe.useEffect(()=>{e.current=i},[i]),e.current}let i0={};function fd(i,e){return fe.useMemo(()=>{if(e)return e;const t=i0[i]==null?0:i0[i]+1;return i0[i]=t,i+"-"+t},[i,e])}function A_(i){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.reduce((o,h)=>{const c=Object.entries(h);for(const[f,d]of c){const m=o[f];m!=null&&(o[f]=m+i*d)}return o},{...e})}}const xh=A_(1),Wf=A_(-1);function jT(i){return"clientX"in i&&"clientY"in i}function M1(i){if(!i)return!1;const{KeyboardEvent:e}=ns(i.target);return e&&i instanceof e}function RT(i){if(!i)return!1;const{TouchEvent:e}=ns(i.target);return e&&i instanceof e}function e1(i){if(RT(i)){if(i.touches&&i.touches.length){const{clientX:e,clientY:t}=i.touches[0];return{x:e,y:t}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:e,clientY:t}=i.changedTouches[0];return{x:e,y:t}}}return jT(i)?{x:i.clientX,y:i.clientY}:null}const mc=Object.freeze({Translate:{toString(i){if(!i)return;const{x:e,y:t}=i;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:e,scaleY:t}=i;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(i){if(i)return[mc.Translate.toString(i),mc.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:e,duration:t,easing:r}=i;return e+" "+t+"ms "+r}}}),dy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function IT(i){return i.matches(dy)?i:i.querySelector(dy)}const VT={display:"none"};function BT(i){let{id:e,value:t}=i;return pn.createElement("div",{id:e,style:VT},t)}function qT(i){let{id:e,announcement:t,ariaLiveType:r="assertive"}=i;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return pn.createElement("div",{id:e,style:a,role:"status","aria-live":r,"aria-atomic":!0},t)}function zT(){const[i,e]=fe.useState("");return{announce:fe.useCallback(r=>{r!=null&&e(r)},[]),announcement:i}}const N_=fe.createContext(null);function C_(i){const e=fe.useContext(N_);fe.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(i)},[i,e])}function FT(){const[i]=fe.useState(()=>new Set),e=fe.useCallback(r=>(i.add(r),()=>i.delete(r)),[i]);return[fe.useCallback(r=>{let{type:a,event:o}=r;i.forEach(h=>{var c;return(c=h[a])==null?void 0:c.call(h,o)})},[i]),e]}const PT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},UT={onDragStart(i){let{active:e}=i;return"Picked up draggable item "+e.id+"."},onDragOver(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(i){let{active:e}=i;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function HT(i){let{announcements:e=UT,container:t,hiddenTextDescribedById:r,screenReaderInstructions:a=PT}=i;const{announce:o,announcement:h}=zT(),c=fd("DndLiveRegion"),[f,d]=fe.useState(!1);if(fe.useEffect(()=>{d(!0)},[]),C_(fe.useMemo(()=>({onDragStart(b){let{active:w}=b;o(e.onDragStart({active:w}))},onDragMove(b){let{active:w,over:y}=b;e.onDragMove&&o(e.onDragMove({active:w,over:y}))},onDragOver(b){let{active:w,over:y}=b;o(e.onDragOver({active:w,over:y}))},onDragEnd(b){let{active:w,over:y}=b;o(e.onDragEnd({active:w,over:y}))},onDragCancel(b){let{active:w,over:y}=b;o(e.onDragCancel({active:w,over:y}))}}),[o,e])),!f)return null;const m=pn.createElement(pn.Fragment,null,pn.createElement(BT,{id:r,value:a.draggable}),pn.createElement(qT,{id:c,announcement:h}));return t?Of.createPortal(m,t):m}var lr;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(lr||(lr={}));function t1(){}function py(i,e){return fe.useMemo(()=>({sensor:i,options:e??{}}),[i,e])}function GT(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return fe.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Ja=Object.freeze({x:0,y:0});function T_(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function YT(i,e){const t=e1(i);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function E_(i,e){let{data:{value:t}}=i,{data:{value:r}}=e;return t-r}function WT(i,e){let{data:{value:t}}=i,{data:{value:r}}=e;return r-t}function my(i){let{left:e,top:t,height:r,width:a}=i;return[{x:e,y:t},{x:e+a,y:t},{x:e,y:t+r},{x:e+a,y:t+r}]}function k_(i,e){if(!i||i.length===0)return null;const[t]=i;return t[e]}function gy(i,e,t){return e===void 0&&(e=i.left),t===void 0&&(t=i.top),{x:e+i.width*.5,y:t+i.height*.5}}const XT=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=i;const a=gy(e,e.left,e.top),o=[];for(const h of r){const{id:c}=h,f=t.get(c);if(f){const d=T_(gy(f),a);o.push({id:c,data:{droppableContainer:h,value:d}})}}return o.sort(E_)},ZT=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=i;const a=my(e),o=[];for(const h of r){const{id:c}=h,f=t.get(c);if(f){const d=my(f),m=a.reduce((w,y,A)=>w+T_(d[A],y),0),b=Number((m/4).toFixed(4));o.push({id:c,data:{droppableContainer:h,value:b}})}}return o.sort(E_)};function KT(i,e){const t=Math.max(e.top,i.top),r=Math.max(e.left,i.left),a=Math.min(e.left+e.width,i.left+i.width),o=Math.min(e.top+e.height,i.top+i.height),h=a-r,c=o-t;if(r<a&&t<o){const f=e.width*e.height,d=i.width*i.height,m=h*c,b=m/(f+d-m);return Number(b.toFixed(4))}return 0}const QT=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=i;const a=[];for(const o of r){const{id:h}=o,c=t.get(h);if(c){const f=KT(c,e);f>0&&a.push({id:h,data:{droppableContainer:o,value:f}})}}return a.sort(WT)};function $T(i,e,t){return{...i,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function O_(i,e){return i&&e?{x:i.left-e.left,y:i.top-e.top}:Ja}function JT(i){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return a.reduce((h,c)=>({...h,top:h.top+i*c.y,bottom:h.bottom+i*c.y,left:h.left+i*c.x,right:h.right+i*c.x}),{...t})}}const e7=JT(1);function L_(i){if(i.startsWith("matrix3d(")){const e=i.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(i.startsWith("matrix(")){const e=i.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function t7(i,e,t){const r=L_(e);if(!r)return i;const{scaleX:a,scaleY:o,x:h,y:c}=r,f=i.left-h-(1-a)*parseFloat(t),d=i.top-c-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),m=a?i.width/a:i.width,b=o?i.height/o:i.height;return{width:m,height:b,top:d,right:f+m,bottom:d+b,left:f}}const n7={ignoreTransform:!1};function qh(i,e){e===void 0&&(e=n7);let t=i.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:m}=ns(i).getComputedStyle(i);d&&(t=t7(t,d,m))}const{top:r,left:a,width:o,height:h,bottom:c,right:f}=t;return{top:r,left:a,width:o,height:h,bottom:c,right:f}}function vy(i){return qh(i,{ignoreTransform:!0})}function i7(i){const e=i.innerWidth,t=i.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function r7(i,e){return e===void 0&&(e=ns(i).getComputedStyle(i)),e.position==="fixed"}function s7(i,e){e===void 0&&(e=ns(i).getComputedStyle(i));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?t.test(o):!1})}function D1(i,e){const t=[];function r(a){if(e!=null&&t.length>=e||!a)return t;if(Qg(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!ud(a)||S_(a)||t.includes(a))return t;const o=ns(i).getComputedStyle(a);return a!==i&&s7(a,o)&&t.push(a),r7(a,o)?t:r(a.parentNode)}return i?r(i):t}function M_(i){const[e]=D1(i,1);return e??null}function r0(i){return!O1||!i?null:Vh(i)?i:Kg(i)?Qg(i)||i===Bh(i).scrollingElement?window:ud(i)?i:null:null}function D_(i){return Vh(i)?i.scrollX:i.scrollLeft}function j_(i){return Vh(i)?i.scrollY:i.scrollTop}function H0(i){return{x:D_(i),y:j_(i)}}var vr;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(vr||(vr={}));function R_(i){return!O1||!i?!1:i===document.scrollingElement}function I_(i){const e={x:0,y:0},t=R_(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},r={x:i.scrollWidth-t.width,y:i.scrollHeight-t.height},a=i.scrollTop<=e.y,o=i.scrollLeft<=e.x,h=i.scrollTop>=r.y,c=i.scrollLeft>=r.x;return{isTop:a,isLeft:o,isBottom:h,isRight:c,maxScroll:r,minScroll:e}}const a7={x:.2,y:.2};function o7(i,e,t,r,a){let{top:o,left:h,right:c,bottom:f}=t;r===void 0&&(r=10),a===void 0&&(a=a7);const{isTop:d,isBottom:m,isLeft:b,isRight:w}=I_(i),y={x:0,y:0},A={x:0,y:0},N={height:e.height*a.y,width:e.width*a.x};return!d&&o<=e.top+N.height?(y.y=vr.Backward,A.y=r*Math.abs((e.top+N.height-o)/N.height)):!m&&f>=e.bottom-N.height&&(y.y=vr.Forward,A.y=r*Math.abs((e.bottom-N.height-f)/N.height)),!w&&c>=e.right-N.width?(y.x=vr.Forward,A.x=r*Math.abs((e.right-N.width-c)/N.width)):!b&&h<=e.left+N.width&&(y.x=vr.Backward,A.x=r*Math.abs((e.left+N.width-h)/N.width)),{direction:y,speed:A}}function l7(i){if(i===document.scrollingElement){const{innerWidth:o,innerHeight:h}=window;return{top:0,left:0,right:o,bottom:h,width:o,height:h}}const{top:e,left:t,right:r,bottom:a}=i.getBoundingClientRect();return{top:e,left:t,right:r,bottom:a,width:i.clientWidth,height:i.clientHeight}}function V_(i){return i.reduce((e,t)=>xh(e,H0(t)),Ja)}function c7(i){return i.reduce((e,t)=>e+D_(t),0)}function u7(i){return i.reduce((e,t)=>e+j_(t),0)}function B_(i,e){if(e===void 0&&(e=qh),!i)return;const{top:t,left:r,bottom:a,right:o}=e(i);M_(i)&&(a<=0||o<=0||t>=window.innerHeight||r>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const h7=[["x",["left","right"],c7],["y",["top","bottom"],u7]];class $g{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=D1(t),a=V_(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,h,c]of h7)for(const f of h)Object.defineProperty(this,f,{get:()=>{const d=c(r),m=a[o]-d;return this.rect[f]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class jf{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var a;(a=this.target)==null||a.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function f7(i){const{EventTarget:e}=ns(i);return i instanceof e?i:Bh(i)}function s0(i,e){const t=Math.abs(i.x),r=Math.abs(i.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var fa;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(fa||(fa={}));function yy(i){i.preventDefault()}function d7(i){i.stopPropagation()}var dn;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(dn||(dn={}));const q_={start:[dn.Space,dn.Enter],cancel:[dn.Esc],end:[dn.Space,dn.Enter,dn.Tab]},p7=(i,e)=>{let{currentCoordinates:t}=e;switch(i.code){case dn.Right:return{...t,x:t.x+25};case dn.Left:return{...t,x:t.x-25};case dn.Down:return{...t,y:t.y+25};case dn.Up:return{...t,y:t.y-25}}};class Jg{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new jf(Bh(t)),this.windowListeners=new jf(ns(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(fa.Resize,this.handleCancel),this.windowListeners.add(fa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(fa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&B_(r),t(Ja)}handleKeyDown(e){if(M1(e)){const{active:t,context:r,options:a}=this.props,{keyboardCodes:o=q_,coordinateGetter:h=p7,scrollBehavior:c="smooth"}=a,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:d}=r.current,m=d?{x:d.left,y:d.top}:Ja;this.referenceCoordinates||(this.referenceCoordinates=m);const b=h(e,{active:t,context:r.current,currentCoordinates:m});if(b){const w=Wf(b,m),y={x:0,y:0},{scrollableAncestors:A}=r.current;for(const N of A){const k=e.code,{isTop:C,isRight:F,isLeft:z,isBottom:V,maxScroll:I,minScroll:Z}=I_(N),G=l7(N),D={x:Math.min(k===dn.Right?G.right-G.width/2:G.right,Math.max(k===dn.Right?G.left:G.left+G.width/2,b.x)),y:Math.min(k===dn.Down?G.bottom-G.height/2:G.bottom,Math.max(k===dn.Down?G.top:G.top+G.height/2,b.y))},R=k===dn.Right&&!F||k===dn.Left&&!z,K=k===dn.Down&&!V||k===dn.Up&&!C;if(R&&D.x!==b.x){const E=N.scrollLeft+w.x,j=k===dn.Right&&E<=I.x||k===dn.Left&&E>=Z.x;if(j&&!w.y){N.scrollTo({left:E,behavior:c});return}j?y.x=N.scrollLeft-E:y.x=k===dn.Right?N.scrollLeft-I.x:N.scrollLeft-Z.x,y.x&&N.scrollBy({left:-y.x,behavior:c});break}else if(K&&D.y!==b.y){const E=N.scrollTop+w.y,j=k===dn.Down&&E<=I.y||k===dn.Up&&E>=Z.y;if(j&&!w.x){N.scrollTo({top:E,behavior:c});return}j?y.y=N.scrollTop-E:y.y=k===dn.Down?N.scrollTop-I.y:N.scrollTop-Z.y,y.y&&N.scrollBy({top:-y.y,behavior:c});break}}this.handleMove(e,xh(Wf(b,this.referenceCoordinates),y))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Jg.activators=[{eventName:"onKeyDown",handler:(i,e,t)=>{let{keyboardCodes:r=q_,onActivation:a}=e,{active:o}=t;const{code:h}=i.nativeEvent;if(r.start.includes(h)){const c=o.activatorNode.current;return c&&i.target!==c?!1:(i.preventDefault(),a?.({event:i.nativeEvent}),!0)}return!1}}];function by(i){return!!(i&&"distance"in i)}function xy(i){return!!(i&&"delay"in i)}class e2{constructor(e,t,r){var a;r===void 0&&(r=f7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:h}=o;this.props=e,this.events=t,this.document=Bh(h),this.documentListeners=new jf(this.document),this.listeners=new jf(r),this.windowListeners=new jf(ns(h)),this.initialCoordinates=(a=e1(o))!=null?a:Ja,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(fa.Resize,this.handleCancel),this.windowListeners.add(fa.DragStart,yy),this.windowListeners.add(fa.VisibilityChange,this.handleCancel),this.windowListeners.add(fa.ContextMenu,yy),this.documentListeners.add(fa.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(xy(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(by(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(fa.Click,d7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(fa.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:a,props:o}=this,{onMove:h,options:{activationConstraint:c}}=o;if(!a)return;const f=(t=e1(e))!=null?t:Ja,d=Wf(a,f);if(!r&&c){if(by(c)){if(c.tolerance!=null&&s0(d,c.tolerance))return this.handleCancel();if(s0(d,c.distance))return this.handleStart()}if(xy(c)&&s0(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),h(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===dn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const m7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class t2 extends e2{constructor(e){const{event:t}=e,r=Bh(t.target);super(e,m7,r)}}t2.activators=[{eventName:"onPointerDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r?.({event:t}),!0)}}];const g7={move:{name:"mousemove"},end:{name:"mouseup"}};var G0;(function(i){i[i.RightClick=2]="RightClick"})(G0||(G0={}));class v7 extends e2{constructor(e){super(e,g7,Bh(e.event.target))}}v7.activators=[{eventName:"onMouseDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:r}=e;return t.button===G0.RightClick?!1:(r?.({event:t}),!0)}}];const a0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class y7 extends e2{constructor(e){super(e,a0)}static setup(){return window.addEventListener(a0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(a0.move.name,e)};function e(){}}}y7.activators=[{eventName:"onTouchStart",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:r}=e;const{touches:a}=t;return a.length>1?!1:(r?.({event:t}),!0)}}];var Rf;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(Rf||(Rf={}));var n1;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(n1||(n1={}));function b7(i){let{acceleration:e,activator:t=Rf.Pointer,canScroll:r,draggingRect:a,enabled:o,interval:h=5,order:c=n1.TreeOrder,pointerCoordinates:f,scrollableAncestors:d,scrollableAncestorRects:m,delta:b,threshold:w}=i;const y=_7({delta:b,disabled:!o}),[A,N]=DT(),k=fe.useRef({x:0,y:0}),C=fe.useRef({x:0,y:0}),F=fe.useMemo(()=>{switch(t){case Rf.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Rf.DraggableRect:return a}},[t,a,f]),z=fe.useRef(null),V=fe.useCallback(()=>{const Z=z.current;if(!Z)return;const G=k.current.x*C.current.x,D=k.current.y*C.current.y;Z.scrollBy(G,D)},[]),I=fe.useMemo(()=>c===n1.TreeOrder?[...d].reverse():d,[c,d]);fe.useEffect(()=>{if(!o||!d.length||!F){N();return}for(const Z of I){if(r?.(Z)===!1)continue;const G=d.indexOf(Z),D=m[G];if(!D)continue;const{direction:R,speed:K}=o7(Z,D,F,e,w);for(const E of["x","y"])y[E][R[E]]||(K[E]=0,R[E]=0);if(K.x>0||K.y>0){N(),z.current=Z,A(V,h),k.current=K,C.current=R;return}}k.current={x:0,y:0},C.current={x:0,y:0},N()},[e,V,r,N,o,h,JSON.stringify(F),JSON.stringify(y),A,d,I,m,JSON.stringify(w)])}const x7={x:{[vr.Backward]:!1,[vr.Forward]:!1},y:{[vr.Backward]:!1,[vr.Forward]:!1}};function _7(i){let{delta:e,disabled:t}=i;const r=Jp(e);return hd(a=>{if(t||!r||!a)return x7;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[vr.Backward]:a.x[vr.Backward]||o.x===-1,[vr.Forward]:a.x[vr.Forward]||o.x===1},y:{[vr.Backward]:a.y[vr.Backward]||o.y===-1,[vr.Forward]:a.y[vr.Forward]||o.y===1}}},[t,e,r])}function w7(i,e){const t=e!=null?i.get(e):void 0,r=t?t.node.current:null;return hd(a=>{var o;return e==null?null:(o=r??a)!=null?o:null},[r,e])}function S7(i,e){return fe.useMemo(()=>i.reduce((t,r)=>{const{sensor:a}=r,o=a.activators.map(h=>({eventName:h.eventName,handler:e(h.handler,r)}));return[...t,...o]},[]),[i,e])}var Xf;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Xf||(Xf={}));var Y0;(function(i){i.Optimized="optimized"})(Y0||(Y0={}));const _y=new Map;function A7(i,e){let{dragging:t,dependencies:r,config:a}=e;const[o,h]=fe.useState(null),{frequency:c,measure:f,strategy:d}=a,m=fe.useRef(i),b=k(),w=Yf(b),y=fe.useCallback(function(C){C===void 0&&(C=[]),!w.current&&h(F=>F===null?C:F.concat(C.filter(z=>!F.includes(z))))},[w]),A=fe.useRef(null),N=hd(C=>{if(b&&!t)return _y;if(!C||C===_y||m.current!==i||o!=null){const F=new Map;for(let z of i){if(!z)continue;if(o&&o.length>0&&!o.includes(z.id)&&z.rect.current){F.set(z.id,z.rect.current);continue}const V=z.node.current,I=V?new $g(f(V),V):null;z.rect.current=I,I&&F.set(z.id,I)}return F}return C},[i,o,t,b,f]);return fe.useEffect(()=>{m.current=i},[i]),fe.useEffect(()=>{b||y()},[t,b]),fe.useEffect(()=>{o&&o.length>0&&h(null)},[JSON.stringify(o)]),fe.useEffect(()=>{b||typeof c!="number"||A.current!==null||(A.current=setTimeout(()=>{y(),A.current=null},c))},[c,b,y,...r]),{droppableRects:N,measureDroppableContainers:y,measuringScheduled:o!=null};function k(){switch(d){case Xf.Always:return!1;case Xf.BeforeDragging:return t;default:return!t}}}function n2(i,e){return hd(t=>i?t||(typeof e=="function"?e(i):i):null,[e,i])}function N7(i,e){return n2(i,e)}function C7(i){let{callback:e,disabled:t}=i;const r=L1(e),a=fe.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,t]);return fe.useEffect(()=>()=>a?.disconnect(),[a]),a}function j1(i){let{callback:e,disabled:t}=i;const r=L1(e),a=fe.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[t]);return fe.useEffect(()=>()=>a?.disconnect(),[a]),a}function T7(i){return new $g(qh(i),i)}function wy(i,e,t){e===void 0&&(e=T7);const[r,a]=fe.useState(null);function o(){a(f=>{if(!i)return null;if(i.isConnected===!1){var d;return(d=f??t)!=null?d:null}const m=e(i);return JSON.stringify(f)===JSON.stringify(m)?f:m})}const h=C7({callback(f){if(i)for(const d of f){const{type:m,target:b}=d;if(m==="childList"&&b instanceof HTMLElement&&b.contains(i)){o();break}}}}),c=j1({callback:o});return $a(()=>{o(),i?(c?.observe(i),h?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),h?.disconnect())},[i]),r}function E7(i){const e=n2(i);return O_(i,e)}const Sy=[];function k7(i){const e=fe.useRef(i),t=hd(r=>i?r&&r!==Sy&&i&&e.current&&i.parentNode===e.current.parentNode?r:D1(i):Sy,[i]);return fe.useEffect(()=>{e.current=i},[i]),t}function O7(i){const[e,t]=fe.useState(null),r=fe.useRef(i),a=fe.useCallback(o=>{const h=r0(o.target);h&&t(c=>c?(c.set(h,H0(h)),new Map(c)):null)},[]);return fe.useEffect(()=>{const o=r.current;if(i!==o){h(o);const c=i.map(f=>{const d=r0(f);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,H0(d)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),r.current=i}return()=>{h(i),h(o)};function h(c){c.forEach(f=>{const d=r0(f);d?.removeEventListener("scroll",a)})}},[a,i]),fe.useMemo(()=>i.length?e?Array.from(e.values()).reduce((o,h)=>xh(o,h),Ja):V_(i):Ja,[i,e])}function Ay(i,e){e===void 0&&(e=[]);const t=fe.useRef(null);return fe.useEffect(()=>{t.current=null},e),fe.useEffect(()=>{const r=i!==Ja;r&&!t.current&&(t.current=i),!r&&t.current&&(t.current=null)},[i]),t.current?Wf(i,t.current):Ja}function L7(i){fe.useEffect(()=>{if(!O1)return;const e=i.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t?.()}},i.map(e=>{let{sensor:t}=e;return t}))}function M7(i,e){return fe.useMemo(()=>i.reduce((t,r)=>{let{eventName:a,handler:o}=r;return t[a]=h=>{o(h,e)},t},{}),[i,e])}function z_(i){return fe.useMemo(()=>i?i7(i):null,[i])}const Ny=[];function D7(i,e){e===void 0&&(e=qh);const[t]=i,r=z_(t?ns(t):null),[a,o]=fe.useState(Ny);function h(){o(()=>i.length?i.map(f=>R_(f)?r:new $g(e(f),f)):Ny)}const c=j1({callback:h});return $a(()=>{c?.disconnect(),h(),i.forEach(f=>c?.observe(f))},[i]),a}function F_(i){if(!i)return null;if(i.children.length>1)return i;const e=i.children[0];return ud(e)?e:i}function j7(i){let{measure:e}=i;const[t,r]=fe.useState(null),a=fe.useCallback(d=>{for(const{target:m}of d)if(ud(m)){r(b=>{const w=e(m);return b?{...b,width:w.width,height:w.height}:w});break}},[e]),o=j1({callback:a}),h=fe.useCallback(d=>{const m=F_(d);o?.disconnect(),m&&o?.observe(m),r(m?e(m):null)},[e,o]),[c,f]=$p(h);return fe.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const R7=[{sensor:t2,options:{}},{sensor:Jg,options:{}}],I7={current:{}},Tp={draggable:{measure:vy},droppable:{measure:vy,strategy:Xf.WhileDragging,frequency:Y0.Optimized},dragOverlay:{measure:qh}};class If extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const V7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new If,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:t1},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Tp,measureDroppableContainers:t1,windowRect:null,measuringScheduled:!1},P_={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:t1,draggableNodes:new Map,over:null,measureDroppableContainers:t1},dd=fe.createContext(P_),U_=fe.createContext(V7);function B7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new If}}}function q7(i,e){switch(e.type){case lr.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case lr.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:e.coordinates.x-i.draggable.initialCoordinates.x,y:e.coordinates.y-i.draggable.initialCoordinates.y}}};case lr.DragEnd:case lr.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case lr.RegisterDroppable:{const{element:t}=e,{id:r}=t,a=new If(i.droppable.containers);return a.set(r,t),{...i,droppable:{...i.droppable,containers:a}}}case lr.SetDroppableDisabled:{const{id:t,key:r,disabled:a}=e,o=i.droppable.containers.get(t);if(!o||r!==o.key)return i;const h=new If(i.droppable.containers);return h.set(t,{...o,disabled:a}),{...i,droppable:{...i.droppable,containers:h}}}case lr.UnregisterDroppable:{const{id:t,key:r}=e,a=i.droppable.containers.get(t);if(!a||r!==a.key)return i;const o=new If(i.droppable.containers);return o.delete(t),{...i,droppable:{...i.droppable,containers:o}}}default:return i}}function z7(i){let{disabled:e}=i;const{active:t,activatorEvent:r,draggableNodes:a}=fe.useContext(dd),o=Jp(r),h=Jp(t?.id);return fe.useEffect(()=>{if(!e&&!r&&o&&h!=null){if(!M1(o)||document.activeElement===o.target)return;const c=a.get(h);if(!c)return;const{activatorNode:f,node:d}=c;if(!f.current&&!d.current)return;requestAnimationFrame(()=>{for(const m of[f.current,d.current]){if(!m)continue;const b=IT(m);if(b){b.focus();break}}})}},[r,e,a,h,o]),null}function H_(i,e){let{transform:t,...r}=e;return i!=null&&i.length?i.reduce((a,o)=>o({transform:a,...r}),t):t}function F7(i){return fe.useMemo(()=>({draggable:{...Tp.draggable,...i?.draggable},droppable:{...Tp.droppable,...i?.droppable},dragOverlay:{...Tp.dragOverlay,...i?.dragOverlay}}),[i?.draggable,i?.droppable,i?.dragOverlay])}function P7(i){let{activeNode:e,measure:t,initialRect:r,config:a=!0}=i;const o=fe.useRef(!1),{x:h,y:c}=typeof a=="boolean"?{x:a,y:a}:a;$a(()=>{if(!h&&!c||!e){o.current=!1;return}if(o.current||!r)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const m=t(d),b=O_(m,r);if(h||(b.x=0),c||(b.y=0),o.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const w=M_(d);w&&w.scrollBy({top:b.y,left:b.x})}},[e,h,c,r,t])}const R1=fe.createContext({...Ja,scaleX:1,scaleY:1});var oc;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(oc||(oc={}));const U7=fe.memo(function(e){var t,r,a,o;let{id:h,accessibility:c,autoScroll:f=!0,children:d,sensors:m=R7,collisionDetection:b=QT,measuring:w,modifiers:y,...A}=e;const N=fe.useReducer(q7,void 0,B7),[k,C]=N,[F,z]=FT(),[V,I]=fe.useState(oc.Uninitialized),Z=V===oc.Initialized,{draggable:{active:G,nodes:D,translate:R},droppable:{containers:K}}=k,E=G!=null?D.get(G):null,j=fe.useRef({initial:null,translated:null}),P=fe.useMemo(()=>{var et;return G!=null?{id:G,data:(et=E?.data)!=null?et:I7,rect:j}:null},[G,E]),J=fe.useRef(null),[ue,$]=fe.useState(null),[re,ce]=fe.useState(null),pe=Yf(A,Object.values(A)),Ne=fd("DndDescribedBy",h),X=fe.useMemo(()=>K.getEnabled(),[K]),T=F7(w),{droppableRects:H,measureDroppableContainers:ee,measuringScheduled:ie}=A7(X,{dragging:Z,dependencies:[R.x,R.y],config:T.droppable}),oe=w7(D,G),me=fe.useMemo(()=>re?e1(re):null,[re]),de=Et(),ge=N7(oe,T.draggable.measure);P7({activeNode:G!=null?D.get(G):null,config:de.layoutShiftCompensation,initialRect:ge,measure:T.draggable.measure});const _e=wy(oe,T.draggable.measure,ge),Re=wy(oe?oe.parentElement:null),Xe=fe.useRef({activatorEvent:null,active:null,activeNode:oe,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),He=K.getNodeFor((t=Xe.current.over)==null?void 0:t.id),Qe=j7({measure:T.dragOverlay.measure}),U=(r=Qe.nodeRef.current)!=null?r:oe,De=Z?(a=Qe.rect)!=null?a:_e:null,ut=!!(Qe.nodeRef.current&&Qe.rect),nt=E7(ut?null:_e),Me=z_(U?ns(U):null),tt=k7(Z?He??oe:null),it=D7(tt),lt=H_(y,{transform:{x:R.x-nt.x,y:R.y-nt.y,scaleX:1,scaleY:1},activatorEvent:re,active:P,activeNodeRect:_e,containerNodeRect:Re,draggingNodeRect:De,over:Xe.current.over,overlayNodeRect:Qe.rect,scrollableAncestors:tt,scrollableAncestorRects:it,windowRect:Me}),pt=me?xh(me,R):null,kt=O7(tt),Ge=Ay(kt),Ke=Ay(kt,[_e]),ct=xh(lt,Ge),bt=De?e7(De,lt):null,ot=P&&bt?b({active:P,collisionRect:bt,droppableRects:H,droppableContainers:X,pointerCoordinates:pt}):null,xt=k_(ot,"id"),[st,Ut]=fe.useState(null),Dt=ut?lt:xh(lt,Ke),St=$T(Dt,(o=st?.rect)!=null?o:null,_e),At=fe.useRef(null),zt=fe.useCallback((et,Je)=>{let{sensor:gt,options:Nn}=Je;if(J.current==null)return;const $t=D.get(J.current);if(!$t)return;const cn=et.nativeEvent,Cn=new gt({active:J.current,activeNode:$t,event:cn,options:Nn,context:Xe,onAbort(sn){if(!D.get(sn))return;const{onDragAbort:Tn}=pe.current,Mn={id:sn};Tn?.(Mn),F({type:"onDragAbort",event:Mn})},onPending(sn,jn,Tn,Mn){if(!D.get(sn))return;const{onDragPending:En}=pe.current,Dn={id:sn,constraint:jn,initialCoordinates:Tn,offset:Mn};En?.(Dn),F({type:"onDragPending",event:Dn})},onStart(sn){const jn=J.current;if(jn==null)return;const Tn=D.get(jn);if(!Tn)return;const{onDragStart:Mn}=pe.current,Jt={activatorEvent:cn,active:{id:jn,data:Tn.data,rect:j}};Of.unstable_batchedUpdates(()=>{Mn?.(Jt),I(oc.Initializing),C({type:lr.DragStart,initialCoordinates:sn,active:jn}),F({type:"onDragStart",event:Jt}),$(At.current),ce(cn)})},onMove(sn){C({type:lr.DragMove,coordinates:sn})},onEnd:ht(lr.DragEnd),onCancel:ht(lr.DragCancel)});At.current=Cn;function ht(sn){return async function(){const{active:Tn,collisions:Mn,over:Jt,scrollAdjustedTranslate:En}=Xe.current;let Dn=null;if(Tn&&En){const{cancelDrop:$i}=pe.current;Dn={activatorEvent:cn,active:Tn,collisions:Mn,delta:En,over:Jt},sn===lr.DragEnd&&typeof $i=="function"&&await Promise.resolve($i(Dn))&&(sn=lr.DragCancel)}J.current=null,Of.unstable_batchedUpdates(()=>{C({type:sn}),I(oc.Uninitialized),Ut(null),$(null),ce(null),At.current=null;const $i=sn===lr.DragEnd?"onDragEnd":"onDragCancel";if(Dn){const ui=pe.current[$i];ui?.(Dn),F({type:$i,event:Dn})}})}}},[D]),we=fe.useCallback((et,Je)=>(gt,Nn)=>{const $t=gt.nativeEvent,cn=D.get(Nn);if(J.current!==null||!cn||$t.dndKit||$t.defaultPrevented)return;const Cn={active:cn};et(gt,Je.options,Cn)===!0&&($t.dndKit={capturedBy:Je.sensor},J.current=Nn,zt(gt,Je))},[D,zt]),Be=S7(m,we);L7(m),$a(()=>{_e&&V===oc.Initializing&&I(oc.Initialized)},[_e,V]),fe.useEffect(()=>{const{onDragMove:et}=pe.current,{active:Je,activatorEvent:gt,collisions:Nn,over:$t}=Xe.current;if(!Je||!gt)return;const cn={active:Je,activatorEvent:gt,collisions:Nn,delta:{x:ct.x,y:ct.y},over:$t};Of.unstable_batchedUpdates(()=>{et?.(cn),F({type:"onDragMove",event:cn})})},[ct.x,ct.y]),fe.useEffect(()=>{const{active:et,activatorEvent:Je,collisions:gt,droppableContainers:Nn,scrollAdjustedTranslate:$t}=Xe.current;if(!et||J.current==null||!Je||!$t)return;const{onDragOver:cn}=pe.current,Cn=Nn.get(xt),ht=Cn&&Cn.rect.current?{id:Cn.id,rect:Cn.rect.current,data:Cn.data,disabled:Cn.disabled}:null,sn={active:et,activatorEvent:Je,collisions:gt,delta:{x:$t.x,y:$t.y},over:ht};Of.unstable_batchedUpdates(()=>{Ut(ht),cn?.(sn),F({type:"onDragOver",event:sn})})},[xt]),$a(()=>{Xe.current={activatorEvent:re,active:P,activeNode:oe,collisionRect:bt,collisions:ot,droppableRects:H,draggableNodes:D,draggingNode:U,draggingNodeRect:De,droppableContainers:K,over:st,scrollableAncestors:tt,scrollAdjustedTranslate:ct},j.current={initial:De,translated:bt}},[P,oe,ot,bt,D,U,De,H,K,st,tt,ct]),b7({...de,delta:R,draggingRect:bt,pointerCoordinates:pt,scrollableAncestors:tt,scrollableAncestorRects:it});const qe=fe.useMemo(()=>({active:P,activeNode:oe,activeNodeRect:_e,activatorEvent:re,collisions:ot,containerNodeRect:Re,dragOverlay:Qe,draggableNodes:D,droppableContainers:K,droppableRects:H,over:st,measureDroppableContainers:ee,scrollableAncestors:tt,scrollableAncestorRects:it,measuringConfiguration:T,measuringScheduled:ie,windowRect:Me}),[P,oe,_e,re,ot,Re,Qe,D,K,H,st,ee,tt,it,T,ie,Me]),rt=fe.useMemo(()=>({activatorEvent:re,activators:Be,active:P,activeNodeRect:_e,ariaDescribedById:{draggable:Ne},dispatch:C,draggableNodes:D,over:st,measureDroppableContainers:ee}),[re,Be,P,_e,C,Ne,D,st,ee]);return pn.createElement(N_.Provider,{value:z},pn.createElement(dd.Provider,{value:rt},pn.createElement(U_.Provider,{value:qe},pn.createElement(R1.Provider,{value:St},d)),pn.createElement(z7,{disabled:c?.restoreFocus===!1})),pn.createElement(HT,{...c,hiddenTextDescribedById:Ne}));function Et(){const et=ue?.autoScrollEnabled===!1,Je=typeof f=="object"?f.enabled===!1:f===!1,gt=Z&&!et&&!Je;return typeof f=="object"?{...f,enabled:gt}:{enabled:gt}}}),H7=fe.createContext(null),Cy="button",G7="Draggable";function G_(i){let{id:e,data:t,disabled:r=!1,attributes:a}=i;const o=fd(G7),{activators:h,activatorEvent:c,active:f,activeNodeRect:d,ariaDescribedById:m,draggableNodes:b,over:w}=fe.useContext(dd),{role:y=Cy,roleDescription:A="draggable",tabIndex:N=0}=a??{},k=f?.id===e,C=fe.useContext(k?R1:H7),[F,z]=$p(),[V,I]=$p(),Z=M7(h,e),G=Yf(t);$a(()=>(b.set(e,{id:e,key:o,node:F,activatorNode:V,data:G}),()=>{const R=b.get(e);R&&R.key===o&&b.delete(e)}),[b,e]);const D=fe.useMemo(()=>({role:y,tabIndex:N,"aria-disabled":r,"aria-pressed":k&&y===Cy?!0:void 0,"aria-roledescription":A,"aria-describedby":m.draggable}),[r,y,N,k,A,m.draggable]);return{active:f,activatorEvent:c,activeNodeRect:d,attributes:D,isDragging:k,listeners:r?void 0:Z,node:F,over:w,setNodeRef:z,setActivatorNodeRef:I,transform:C}}function Y_(){return fe.useContext(U_)}const Y7="Droppable",W7={timeout:25};function W_(i){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:a}=i;const o=fd(Y7),{active:h,dispatch:c,over:f,measureDroppableContainers:d}=fe.useContext(dd),m=fe.useRef({disabled:t}),b=fe.useRef(!1),w=fe.useRef(null),y=fe.useRef(null),{disabled:A,updateMeasurementsFor:N,timeout:k}={...W7,...a},C=Yf(N??r),F=fe.useCallback(()=>{if(!b.current){b.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{d(Array.isArray(C.current)?C.current:[C.current]),y.current=null},k)},[k]),z=j1({callback:F,disabled:A||!h}),V=fe.useCallback((D,R)=>{z&&(R&&(z.unobserve(R),b.current=!1),D&&z.observe(D))},[z]),[I,Z]=$p(V),G=Yf(e);return fe.useEffect(()=>{!z||!I.current||(z.disconnect(),b.current=!1,z.observe(I.current))},[I,z]),fe.useEffect(()=>(c({type:lr.RegisterDroppable,element:{id:r,key:o,disabled:t,node:I,rect:w,data:G}}),()=>c({type:lr.UnregisterDroppable,key:o,id:r})),[r]),fe.useEffect(()=>{t!==m.current.disabled&&(c({type:lr.SetDroppableDisabled,id:r,key:o,disabled:t}),m.current.disabled=t)},[r,o,t,c]),{active:h,rect:w,isOver:f?.id===r,node:I,over:f,setNodeRef:Z}}function X7(i){let{animation:e,children:t}=i;const[r,a]=fe.useState(null),[o,h]=fe.useState(null),c=Jp(t);return!t&&!r&&c&&a(c),$a(()=>{if(!o)return;const f=r?.key,d=r?.props.id;if(f==null||d==null){a(null);return}Promise.resolve(e(d,o)).then(()=>{a(null)})},[e,r,o]),pn.createElement(pn.Fragment,null,t,r?fe.cloneElement(r,{ref:h}):null)}const Z7={x:0,y:0,scaleX:1,scaleY:1};function K7(i){let{children:e}=i;return pn.createElement(dd.Provider,{value:P_},pn.createElement(R1.Provider,{value:Z7},e))}const Q7={position:"fixed",touchAction:"none"},$7=i=>M1(i)?"transform 250ms ease":void 0,J7=fe.forwardRef((i,e)=>{let{as:t,activatorEvent:r,adjustScale:a,children:o,className:h,rect:c,style:f,transform:d,transition:m=$7}=i;if(!c)return null;const b=a?d:{...d,scaleX:1,scaleY:1},w={...Q7,width:c.width,height:c.height,top:c.top,left:c.left,transform:mc.Transform.toString(b),transformOrigin:a&&r?YT(r,c):void 0,transition:typeof m=="function"?m(r):m,...f};return pn.createElement(t,{className:h,style:w,ref:e},o)}),eE=i=>e=>{let{active:t,dragOverlay:r}=e;const a={},{styles:o,className:h}=i;if(o!=null&&o.active)for(const[c,f]of Object.entries(o.active))f!==void 0&&(a[c]=t.node.style.getPropertyValue(c),t.node.style.setProperty(c,f));if(o!=null&&o.dragOverlay)for(const[c,f]of Object.entries(o.dragOverlay))f!==void 0&&r.node.style.setProperty(c,f);return h!=null&&h.active&&t.node.classList.add(h.active),h!=null&&h.dragOverlay&&r.node.classList.add(h.dragOverlay),function(){for(const[f,d]of Object.entries(a))t.node.style.setProperty(f,d);h!=null&&h.active&&t.node.classList.remove(h.active)}},tE=i=>{let{transform:{initial:e,final:t}}=i;return[{transform:mc.Transform.toString(e)},{transform:mc.Transform.toString(t)}]},nE={duration:250,easing:"ease",keyframes:tE,sideEffects:eE({styles:{active:{opacity:"0"}}})};function iE(i){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:a}=i;return L1((o,h)=>{if(e===null)return;const c=t.get(o);if(!c)return;const f=c.node.current;if(!f)return;const d=F_(h);if(!d)return;const{transform:m}=ns(h).getComputedStyle(h),b=L_(m);if(!b)return;const w=typeof e=="function"?e:rE(e);return B_(f,a.draggable.measure),w({active:{id:o,data:c.data,node:f,rect:a.draggable.measure(f)},draggableNodes:t,dragOverlay:{node:h,rect:a.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:a,transform:b})})}function rE(i){const{duration:e,easing:t,sideEffects:r,keyframes:a}={...nE,...i};return o=>{let{active:h,dragOverlay:c,transform:f,...d}=o;if(!e)return;const m={x:c.rect.left-h.rect.left,y:c.rect.top-h.rect.top},b={scaleX:f.scaleX!==1?h.rect.width*f.scaleX/c.rect.width:1,scaleY:f.scaleY!==1?h.rect.height*f.scaleY/c.rect.height:1},w={x:f.x-m.x,y:f.y-m.y,...b},y=a({...d,active:h,dragOverlay:c,transform:{initial:f,final:w}}),[A]=y,N=y[y.length-1];if(JSON.stringify(A)===JSON.stringify(N))return;const k=r?.({active:h,dragOverlay:c,...d}),C=c.node.animate(y,{duration:e,easing:t,fill:"forwards"});return new Promise(F=>{C.onfinish=()=>{k?.(),F()}})}}let Ty=0;function sE(i){return fe.useMemo(()=>{if(i!=null)return Ty++,Ty},[i])}const aE=pn.memo(i=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:a,transition:o,modifiers:h,wrapperElement:c="div",className:f,zIndex:d=999}=i;const{activatorEvent:m,active:b,activeNodeRect:w,containerNodeRect:y,draggableNodes:A,droppableContainers:N,dragOverlay:k,over:C,measuringConfiguration:F,scrollableAncestors:z,scrollableAncestorRects:V,windowRect:I}=Y_(),Z=fe.useContext(R1),G=sE(b?.id),D=H_(h,{activatorEvent:m,active:b,activeNodeRect:w,containerNodeRect:y,draggingNodeRect:k.rect,over:C,overlayNodeRect:k.rect,scrollableAncestors:z,scrollableAncestorRects:V,transform:Z,windowRect:I}),R=n2(w),K=iE({config:r,draggableNodes:A,droppableContainers:N,measuringConfiguration:F}),E=R?k.setRef:void 0;return pn.createElement(K7,null,pn.createElement(X7,{animation:K},b&&G?pn.createElement(J7,{key:G,id:b.id,ref:E,as:c,activatorEvent:m,adjustScale:e,className:f,transition:o,rect:R,style:{zIndex:d,...a},transform:D},t):null))});function i2(i,e,t){const r=i.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function oE(i,e){return i.reduce((t,r,a)=>{const o=e.get(r);return o&&(t[a]=o),t},Array(i.length))}function fp(i){return i!==null&&i>=0}function lE(i,e){if(i===e)return!0;if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function cE(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const dp={scaleX:1,scaleY:1},uE=i=>{var e;let{rects:t,activeNodeRect:r,activeIndex:a,overIndex:o,index:h}=i;const c=(e=t[a])!=null?e:r;if(!c)return null;const f=hE(t,h,a);if(h===a){const d=t[o];return d?{x:a<o?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...dp}:null}return h>a&&h<=o?{x:-c.width-f,y:0,...dp}:h<a&&h>=o?{x:c.width+f,y:0,...dp}:{x:0,y:0,...dp}};function hE(i,e,t){const r=i[e],a=i[e-1],o=i[e+1];return!r||!a&&!o?0:t<e?a?r.left-(a.left+a.width):o.left-(r.left+r.width):o?o.left-(r.left+r.width):r.left-(a.left+a.width)}const X_=i=>{let{rects:e,activeIndex:t,overIndex:r,index:a}=i;const o=i2(e,r,t),h=e[a],c=o[a];return!c||!h?null:{x:c.left-h.left,y:c.top-h.top,scaleX:c.width/h.width,scaleY:c.height/h.height}},Z_="Sortable",K_=pn.createContext({activeIndex:-1,containerId:Z_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:X_,disabled:{draggable:!1,droppable:!1}});function fE(i){let{children:e,id:t,items:r,strategy:a=X_,disabled:o=!1}=i;const{active:h,dragOverlay:c,droppableRects:f,over:d,measureDroppableContainers:m}=Y_(),b=fd(Z_,t),w=c.rect!==null,y=fe.useMemo(()=>r.map(Z=>typeof Z=="object"&&"id"in Z?Z.id:Z),[r]),A=h!=null,N=h?y.indexOf(h.id):-1,k=d?y.indexOf(d.id):-1,C=fe.useRef(y),F=!lE(y,C.current),z=k!==-1&&N===-1||F,V=cE(o);$a(()=>{F&&A&&m(y)},[F,y,A,m]),fe.useEffect(()=>{C.current=y},[y]);const I=fe.useMemo(()=>({activeIndex:N,containerId:b,disabled:V,disableTransforms:z,items:y,overIndex:k,useDragOverlay:w,sortedRects:oE(y,f),strategy:a}),[N,b,V.draggable,V.droppable,z,y,k,f,w,a]);return pn.createElement(K_.Provider,{value:I},e)}const dE=i=>{let{id:e,items:t,activeIndex:r,overIndex:a}=i;return i2(t,r,a).indexOf(e)},pE=i=>{let{containerId:e,isSorting:t,wasDragging:r,index:a,items:o,newIndex:h,previousItems:c,previousContainerId:f,transition:d}=i;return!d||!r||c!==o&&a===h?!1:t?!0:h!==a&&e===f},mE={duration:200,easing:"ease"},Q_="transform",gE=mc.Transition.toString({property:Q_,duration:0,easing:"linear"}),vE={roleDescription:"sortable"};function yE(i){let{disabled:e,index:t,node:r,rect:a}=i;const[o,h]=fe.useState(null),c=fe.useRef(t);return $a(()=>{if(!e&&t!==c.current&&r.current){const f=a.current;if(f){const d=qh(r.current,{ignoreTransform:!0}),m={x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height};(m.x||m.y)&&h(m)}}t!==c.current&&(c.current=t)},[e,t,r,a]),fe.useEffect(()=>{o&&h(null)},[o]),o}function bE(i){let{animateLayoutChanges:e=pE,attributes:t,disabled:r,data:a,getNewIndex:o=dE,id:h,strategy:c,resizeObserverConfig:f,transition:d=mE}=i;const{items:m,containerId:b,activeIndex:w,disabled:y,disableTransforms:A,sortedRects:N,overIndex:k,useDragOverlay:C,strategy:F}=fe.useContext(K_),z=xE(r,y),V=m.indexOf(h),I=fe.useMemo(()=>({sortable:{containerId:b,index:V,items:m},...a}),[b,a,V,m]),Z=fe.useMemo(()=>m.slice(m.indexOf(h)),[m,h]),{rect:G,node:D,isOver:R,setNodeRef:K}=W_({id:h,data:I,disabled:z.droppable,resizeObserverConfig:{updateMeasurementsFor:Z,...f}}),{active:E,activatorEvent:j,activeNodeRect:P,attributes:J,setNodeRef:ue,listeners:$,isDragging:re,over:ce,setActivatorNodeRef:pe,transform:Ne}=G_({id:h,data:I,attributes:{...vE,...t},disabled:z.draggable}),X=MT(K,ue),T=!!E,H=T&&!A&&fp(w)&&fp(k),ee=!C&&re,ie=ee&&H?Ne:null,me=H?ie??(c??F)({rects:N,activeNodeRect:P,activeIndex:w,overIndex:k,index:V}):null,de=fp(w)&&fp(k)?o({id:h,items:m,activeIndex:w,overIndex:k}):V,ge=E?.id,_e=fe.useRef({activeId:ge,items:m,newIndex:de,containerId:b}),Re=m!==_e.current.items,Xe=e({active:E,containerId:b,isDragging:re,isSorting:T,id:h,index:V,items:m,newIndex:_e.current.newIndex,previousItems:_e.current.items,previousContainerId:_e.current.containerId,transition:d,wasDragging:_e.current.activeId!=null}),He=yE({disabled:!Xe,index:V,node:D,rect:G});return fe.useEffect(()=>{T&&_e.current.newIndex!==de&&(_e.current.newIndex=de),b!==_e.current.containerId&&(_e.current.containerId=b),m!==_e.current.items&&(_e.current.items=m)},[T,de,b,m]),fe.useEffect(()=>{if(ge===_e.current.activeId)return;if(ge!=null&&_e.current.activeId==null){_e.current.activeId=ge;return}const U=setTimeout(()=>{_e.current.activeId=ge},50);return()=>clearTimeout(U)},[ge]),{active:E,activeIndex:w,attributes:J,data:I,rect:G,index:V,newIndex:de,items:m,isOver:R,isSorting:T,isDragging:re,listeners:$,node:D,overIndex:k,over:ce,setNodeRef:X,setActivatorNodeRef:pe,setDroppableNodeRef:K,setDraggableNodeRef:ue,transform:He??me,transition:Qe()};function Qe(){if(He||Re&&_e.current.newIndex===V)return gE;if(!(ee&&!M1(j)||!d)&&(T||Xe))return mc.Transition.toString({...d,property:Q_})}}function xE(i,e){var t,r;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(t=i?.draggable)!=null?t:e.draggable,droppable:(r=i?.droppable)!=null?r:e.droppable}}function i1(i){if(!i)return!1;const e=i.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const _E=[dn.Down,dn.Right,dn.Up,dn.Left],wE=(i,e)=>{let{context:{active:t,collisionRect:r,droppableRects:a,droppableContainers:o,over:h,scrollableAncestors:c}}=e;if(_E.includes(i.code)){if(i.preventDefault(),!t||!r)return;const f=[];o.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const w=a.get(b.id);if(w)switch(i.code){case dn.Down:r.top<w.top&&f.push(b);break;case dn.Up:r.top>w.top&&f.push(b);break;case dn.Left:r.left>w.left&&f.push(b);break;case dn.Right:r.left<w.left&&f.push(b);break}});const d=ZT({collisionRect:r,droppableRects:a,droppableContainers:f});let m=k_(d,"id");if(m===h?.id&&d.length>1&&(m=d[1].id),m!=null){const b=o.get(t.id),w=o.get(m),y=w?a.get(w.id):null,A=w?.node.current;if(A&&y&&b&&w){const k=D1(A).some((Z,G)=>c[G]!==Z),C=$_(b,w),F=SE(b,w),z=k||!C?{x:0,y:0}:{x:F?r.width-y.width:0,y:F?r.height-y.height:0},V={x:y.left,y:y.top};return z.x&&z.y?V:Wf(V,z)}}}};function $_(i,e){return!i1(i)||!i1(e)?!1:i.data.current.sortable.containerId===e.data.current.sortable.containerId}function SE(i,e){return!i1(i)||!i1(e)||!$_(i,e)?!1:i.data.current.sortable.index<e.data.current.sortable.index}const AE=({slot:i,sectionId:e,size:t=48,width:r})=>{const{selectedSlots:a,setSelectedSlot:o,toggleSlotSelection:h,selectRangeTo:c,setSelectedSlots:f,playingSectionId:d,playingSlotId:m}=Di(),b=ag(),w=r??t,{isOver:y,setNodeRef:A}=W_({id:`slot-${i.id}`,data:{type:"slot",sectionId:e,slotId:i.id}}),{attributes:N,listeners:k,setNodeRef:C,transform:F,isDragging:z}=G_({id:`chord-${i.id}`,data:{type:"chord",chord:i.chord,originSlotId:i.id,originSectionId:e},disabled:!i.chord}),V=a.some(E=>E.slotId===i.id&&E.sectionId===e),I=d===e&&m===i.id,Z=F?{transform:`translate3d(${F.x}px, ${F.y}px, 0)`,zIndex:999}:void 0,G=E=>{if(E.button===0)if(E.stopPropagation(),E.shiftKey)c(e,i.id);else if(E.metaKey||E.ctrlKey)h(e,i.id);else if(V&&a.length>0){const j=[...a.filter(P=>!(P.sectionId===e&&P.slotId===i.id)),{sectionId:e,slotId:i.id}];f(j)}else o(e,i.id)},R=(()=>{if(!i.chord)return;const E=i.chord.root;if(b[E])return b[E];const j=pl(E);for(const P of Object.keys(b))if(pl(P)===j)return b[P];return"hsl(230, 60%, 50%)"})(),K=Math.max(8,Math.min(12,t*.22));return M.jsxs("div",{ref:A,onMouseDown:G,onClick:E=>E.stopPropagation(),onDoubleClick:E=>E.stopPropagation(),style:{width:w,height:t},className:Ps("rounded border-2 flex items-center justify-center transition-all relative flex-shrink-0",y?"border-accent-primary bg-accent-glow scale-105":"border-border-medium bg-bg-elevated",V?"ring-2 ring-accent-primary ring-offset-1 ring-offset-bg-primary":"",I?"ring-2 ring-green-500 ring-offset-1 ring-offset-bg-primary shadow-[0_0_15px_rgba(34,197,94,0.5)] scale-105 z-10":"",!i.chord&&"hover:border-text-muted cursor-pointer"),children:[!i.chord&&M.jsx("span",{className:"text-text-muted font-light select-none",style:{fontSize:K+4},children:"+"}),i.chord&&M.jsx("div",{ref:C,...k,...N,style:{...Z,backgroundColor:R},className:Ps("w-full h-full rounded flex items-center justify-center font-bold shadow cursor-grab active:cursor-grabbing select-none overflow-hidden",z?"opacity-50":"opacity-100"),children:M.jsx("span",{style:{fontSize:K,color:b4(R||"")},className:"truncate px-0.5 text-center font-bold",children:i.chord.symbol})})]})},NE=i=>{const[e,t]=i;return e*(4/t)},CE=({measure:i,sectionId:e,index:t,chordSize:r=48,timeSignature:a,scale:o=1})=>{const{setMeasureSubdivision:h}=Di(),c=Math.max(.1,Math.min(1.6,o)),f=NE(a),d=i.beats.length,m=r*.9,b=Math.max(8,m*c),y=f%3===0?[1,3,6]:[2,4,8],A=N=>{Number.isFinite(N)&&h(e,i.id,N)};return M.jsxs("div",{className:"flex flex-col border-r-2 border-border-medium last:border-r-0 px-1 min-w-[64px]",style:{minWidth:b*Math.max(1,f)+8},children:[M.jsx("div",{className:"text-[8px] text-text-muted mb-0.5 font-mono uppercase tracking-wider text-center",children:t+1}),M.jsx("div",{className:"flex gap-0.5",children:i.beats.map(N=>{const k=Math.max(b*(N.duration||1),b);return M.jsx(AE,{slot:N,sectionId:e,size:r,width:k},N.id)})}),M.jsxs("div",{className:"flex flex-col items-center justify-center gap-0.5 mt-1",children:[M.jsx("span",{className:"text-[8px] uppercase tracking-wider text-text-muted leading-tight",children:"Steps"}),M.jsxs("select",{value:d,onChange:N=>A(parseInt(N.target.value,10)),className:"bg-bg-tertiary text-text-primary text-[10px] rounded px-1 py-0.5 border border-border-subtle focus:outline-none",children:[y.map(N=>M.jsx("option",{value:N,className:"bg-bg-secondary text-text-primary",children:N},N)),!y.includes(d)&&M.jsx("option",{value:d,className:"bg-bg-secondary text-text-primary",children:d})]})]})]})},TE=({section:i,chordSize:e=48,scale:t=1})=>{const{removeSection:r,duplicateSection:a,updateSection:o,selectedSectionId:h,setSelectedSlot:c,setSectionMeasures:f,setSectionTimeSignature:d,currentSong:m,collapsedSections:b,toggleSectionCollapsed:w}=Di(),[y,A]=fe.useState(!1),[N,k]=fe.useState(i.name),C=fe.useRef(null);fe.useEffect(()=>{y&&C.current&&(C.current.focus(),C.current.select())},[y]);const F=T=>{T.stopPropagation(),k(i.name),A(!0)},z=()=>{const T=N.trim();T&&T!==i.name&&o(i.id,{name:T}),A(!1)},V=T=>{T.key==="Enter"?z():T.key==="Escape"&&(k(i.name),A(!1))},{attributes:I,listeners:Z,setNodeRef:G,transform:D,transition:R,isDragging:K}=bE({id:i.id,data:{type:"section",sectionId:i.id}}),E={transform:mc.Transform.toString(D),transition:R},j=T=>{T.stopPropagation(),confirm(`Delete section "${i.name}"?`)&&r(i.id)},P=()=>{c(i.id,null)},J=(t??1)<=.2,ue=b[i.id]??!1,$=i.timeSignature||m.timeSignature||[4,4],re=i.measures.length,ce=T=>{const H=Number.isFinite(T)?T:re;f(i.id,H)},pe=T=>{const[H,ee]=T.split("/").map(oe=>parseInt(oe,10));!H||!ee||i.measures.some(oe=>oe.beats.some(me=>!!me.chord))&&!confirm("Changing the time signature will clear chords in this section. Continue?")||d(i.id,[H,ee])},Ne=`${$[0]}/${$[1]}`,X=[[4,4],[3,4],[2,4],[6,8]];return M.jsxs("div",{ref:G,style:E,className:Ps("flex flex-col bg-bg-secondary rounded-lg overflow-hidden border-2 shadow-[0_0_0_2px_rgba(255,255,255,0.12)] transition-all h-full",h===i.id?"border-accent-primary shadow-[0_0_0_2px_rgba(99,102,241,0.35)]":"border-border-medium",K?"opacity-50":"opacity-100"),onClick:P,children:[M.jsxs("div",{className:Ps("flex items-center justify-between bg-bg-elevated border-b border-border-subtle group",J?"px-1.5 py-1 gap-1.5":"flex-wrap gap-3 px-2 py-1.5"),children:[M.jsxs("div",{className:Ps("flex items-center min-w-0",J?"gap-1":"gap-1.5"),children:[M.jsx("div",{...I,...Z,className:"cursor-grab active:cursor-grabbing text-text-muted hover:text-text-primary shrink-0",title:"Drag section",children:M.jsx(l_,{size:J?10:12})}),!J&&M.jsx(M.Fragment,{children:y?M.jsx("input",{ref:C,type:"text",value:N,onChange:T=>k(T.target.value),onBlur:z,onKeyDown:V,onClick:T=>T.stopPropagation(),className:"font-medium text-xs text-text-primary bg-bg-tertiary border border-border-medium rounded px-1.5 py-0.5 w-24 focus:outline-none focus:border-accent-primary",maxLength:30}):M.jsx("span",{className:"font-medium text-xs text-text-primary cursor-pointer hover:text-accent-primary transition-colors truncate max-w-[120px]",onDoubleClick:F,title:"Double-click to rename",children:i.name})})]}),!J&&M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded px-1.5 py-0.5",onClick:T=>T.stopPropagation(),children:[M.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Bars"}),M.jsx("input",{type:"number",min:1,max:32,value:re,onChange:T=>ce(parseInt(T.target.value,10)),className:"w-12 bg-transparent text-text-primary text-xs focus:outline-none"})]}),M.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded px-1.5 py-0.5",onClick:T=>T.stopPropagation(),children:[M.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Meter"}),M.jsx("select",{value:Ne,onChange:T=>pe(T.target.value),className:"bg-transparent text-text-primary text-xs focus:outline-none",children:X.map(([T,H])=>M.jsxs("option",{value:`${T}/${H}`,className:"bg-bg-secondary text-text-primary",children:[T,"/",H]},`${T}/${H}`))})]})]}),M.jsxs("div",{className:Ps("flex items-center gap-1",J?"":"opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-opacity"),children:[M.jsx("button",{onClick:T=>{T.stopPropagation(),w(i.id)},className:Ps("p-1 rounded text-text-muted hover:text-text-primary",J?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:ue?"Expand section":"Collapse section",children:ue?M.jsx(bh,{size:J?12:11}):M.jsx(Yg,{size:J?12:11})}),M.jsx("button",{onClick:T=>{T.stopPropagation(),a(i.id)},className:Ps("p-1 rounded text-text-muted hover:text-text-primary",J?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:"Duplicate section",children:M.jsx(FC,{size:J?12:11})}),M.jsx("button",{onClick:j,className:Ps("p-1 rounded text-text-muted hover:text-red-400",J?"hover:bg-red-500/15":"hover:bg-red-500/10"),title:"Delete section",children:M.jsx(f_,{size:J?12:11})})]})]}),ue?M.jsxs("div",{className:"flex items-center justify-between px-2 py-2 border-t border-border-subtle bg-bg-secondary text-[10px] text-text-muted",children:[M.jsx("span",{className:"font-semibold text-text-secondary truncate pr-2",children:i.name}),M.jsxs("div",{className:"flex items-center gap-2 uppercase tracking-wider",children:[M.jsxs("span",{children:[re," bars"]}),M.jsx("span",{children:Ne})]})]}):M.jsx("div",{className:"flex p-1.5 gap-0 overflow-x-auto flex-1",children:i.measures.map((T,H)=>M.jsx(CE,{measure:T,sectionId:i.id,index:H,chordSize:e,timeSignature:$,scale:t},T.id))})]})},EE=({scale:i,chordSize:e})=>{const{isPlaying:t,currentSong:r}=Di(),a=fe.useRef(null),o=fe.useRef(0),h=e*.9,c=Math.max(8,h*i),f=12,d=m=>{let b=m,w=0;for(const y of r.sections){for(const A of y.measures){const N=A.beats.reduce((I,Z)=>I+(Z.duration||1),0);if(b<N){w+=4;let I=b;for(const Z of A.beats){const G=Z.duration||1;if(I<G){const R=I/G,K=Math.max(c*G,c);return w+=R*K,w}const D=Math.max(c*G,c);w+=D+2,I-=G}return w}const k=A.beats.reduce((I,Z)=>I+Math.max(c*(Z.duration||1),c),0),C=Math.max(0,A.beats.length-1)*2,F=8,z=2,V=A===y.measures[y.measures.length-1];w+=k+C+F+(V?0:z),b-=N}w+=f}return w};return fe.useEffect(()=>{if(!t)return;const m=()=>{if(a.current){const b=es.position.toString().split(":"),w=parseFloat(b[0]),y=parseFloat(b[1]),A=parseFloat(b[2]),N=w*4+y+A/4,k=d(N);a.current.style.transform=`translateX(${k}px)`}o.current=requestAnimationFrame(m)};return o.current=requestAnimationFrame(m),()=>{o.current&&cancelAnimationFrame(o.current)}},[t,c,r]),t?M.jsx("div",{ref:a,className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-50 pointer-events-none shadow-[0_0_8px_rgba(239,68,68,0.8)]",style:{left:0},children:M.jsx("div",{className:"absolute -top-1 -left-[4.5px] w-0 h-0 border-l-[5px] border-l-transparent border-r-[5px] border-r-transparent border-t-[6px] border-t-red-500"})}):null},kE=({onAltChange:i})=>(C_({onDragMove:e=>{const t=e.modifiers?.altKey??!1;i(!!t)},onDragEnd:()=>i(!1),onDragCancel:()=>i(!1)}),null),o0=({height:i=180,scale:e=1})=>{const{currentSong:t,addSection:r,reorderSections:a,addChordToSlot:o,moveChord:h,moveSelection:c}=Di(),f=Math.max(.1,Math.min(1.6,e)),d=i-40,m=Math.max(32,Math.min(64,d-24)),[b,w]=pn.useState(null),[y,A]=pn.useState(null),[N,k]=pn.useState(!1),C=GT(py(t2,{activationConstraint:{distance:8}}),py(Jg,{coordinateGetter:wE})),F=V=>{const I=V.activatorEvent,Z=!!(I&&"altKey"in I&&I.altKey);w(V.active.id),A({...V.active.data.current,copyMode:Z}),k(Z)},z=V=>{const{active:I,over:Z}=V;if(w(null),A(null),k(!1),!!Z){if(I.data.current?.type==="section"&&Z.data.current?.type==="section"){if(I.id!==Z.id){const G=t.sections.findIndex(R=>R.id===I.id),D=t.sections.findIndex(R=>R.id===Z.id);a(i2(t.sections,G,D))}return}if(I.data.current?.type==="chord"&&Z.data.current?.type==="slot"){const G=I.data.current.originSlotId,D=I.data.current.originSectionId,R=Z.data.current.slotId,K=Z.data.current.sectionId,E=I.data.current.chord;if(G&&D){if(G===R&&D===K||c({sectionId:D,slotId:G},{sectionId:K,slotId:R},y?.copyMode||N?"copy":"move"))return;const P=Di.getState(),J=P.currentSong.sections.find(ue=>ue.id===K)?.measures.flatMap(ue=>ue.beats).find(ue=>ue.id===R)?.chord;h(D,G,K,R),J?(P.setSelectedSlot(D,G),P.setSelectedChord(J)):E&&(P.setSelectedSlot(K,R),P.setSelectedChord(E))}else o(E,K,R),Di.getState().setSelectedSlot(K,R),Di.getState().setSelectedChord(E)}}};return pn.useEffect(()=>{const V=Z=>{Z.altKey&&k(!0)},I=Z=>{Z.altKey||k(!1)};return window.addEventListener("keydown",V),window.addEventListener("keyup",I),()=>{window.removeEventListener("keydown",V),window.removeEventListener("keyup",I)}},[]),M.jsx("div",{className:"w-full h-full flex flex-col",children:M.jsx("div",{className:"flex-1 overflow-x-auto px-3 py-1.5 overflow-y-hidden",ref:V=>{V&&V.addEventListener("wheel",I=>{I.deltaY!==0&&(I.preventDefault(),V.scrollLeft+=I.deltaY)},{passive:!1})},children:M.jsxs("div",{className:"relative flex gap-3 min-w-max h-full items-stretch",children:[M.jsx(EE,{scale:f,chordSize:m}),M.jsxs(U7,{sensors:C,collisionDetection:XT,onDragStart:F,onDragEnd:z,children:[M.jsx(kE,{onAltChange:k}),M.jsxs(fE,{items:t.sections.map(V=>V.id),strategy:uE,children:[t.sections.map(V=>M.jsx(TE,{section:V,chordSize:m,scale:f},V.id)),M.jsxs("button",{onClick:()=>r("chorus"),className:"w-10 rounded-lg border-2 border-dashed border-border-medium hover:border-accent-primary hover:bg-bg-elevated transition-all flex flex-col items-center justify-center text-text-muted hover:text-accent-primary gap-0.5 self-stretch",children:[M.jsx(c_,{size:12}),M.jsx("span",{className:"text-[6px] font-medium uppercase tracking-wider",children:"Add"})]})]}),M.jsxs(aE,{children:[b&&y?.type==="section"?M.jsx("div",{className:"opacity-80 rotate-2 scale-105",children:M.jsx("div",{className:"bg-bg-elevated p-4 rounded-xl border border-accent-primary w-[400px] h-[200px] flex items-center justify-center shadow-2xl",children:M.jsx("span",{className:"font-bold text-xl",children:"Moving Section..."})})}):null,b&&y?.type==="chord"?M.jsxs("div",{className:"relative",children:[M.jsx("div",{className:"w-24 h-24 rounded-lg bg-accent-primary text-white flex items-center justify-center font-bold text-xl shadow-2xl rotate-6 scale-110 cursor-grabbing",children:y.chord.symbol}),(y?.copyMode||N)&&M.jsx("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white text-[11px] font-bold px-2 py-0.5 rounded-full shadow-md border border-white",children:"+"})]}):null]})]})]})})})},OE=({highlightedNotes:i,rootNote:e,color:t="#6366f1"})=>{const r=["C","D","E","F","G","A","B"],a=i.map(m=>pl(m)),o=e?pl(e):null,h=m=>{const b=pl(m);return a.includes(b)},c=m=>o?pl(m)===o:!1,f=()=>{const m=[];for(let w=3;w<=4;w++)r.forEach(y=>{const A=h(y),N=c(y);m.push(M.jsx("div",{className:Ps("h-full border border-gray-400 rounded-b-sm relative transition-colors duration-200",!A&&"bg-white hover:bg-gray-100"),style:{width:`${100/14}%`,backgroundColor:A?N?t:`${t}99`:void 0},children:N&&M.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 rounded-full bg-white shadow-sm"})},`white-${w}-${y}`))});return m},d=()=>{const m=[],b=[14.3,28.6,57.1,71.4,85.7];for(let w=0;w<2;w++){const y=w*50;["C#","D#","F#","G#","A#"].forEach((N,k)=>{const C=h(N),F=c(N),z=y+b[k]/2;m.push(M.jsx("div",{className:Ps("absolute top-0 h-[65%] w-[4%] -translate-x-1/2 rounded-b-sm z-10 border border-black/50 transition-colors duration-200",!C&&"bg-gray-900"),style:{left:`${z}%`,backgroundColor:C?t:void 0,boxShadow:C?`0 0 12px ${t}`:"inset 0 -2px 4px rgba(0,0,0,0.3)"},children:F&&M.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-1.5 h-1.5 rounded-full bg-white shadow-sm"})},`black-${w}-${N}`))})}return m};return M.jsxs("div",{className:"relative w-full h-16 bg-gray-700 rounded overflow-hidden select-none shadow-inner",children:[M.jsx("div",{className:"flex w-full h-full",children:f()}),d()]})},Ey=()=>M.jsxs(M.Fragment,{children:[M.jsxs("section",{children:[M.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[M.jsx(IC,{size:12,className:"fill-accent-primary"}),"Quick Start"]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-3 text-sm text-gray-300",children:[M.jsx("p",{children:"The Chord Wheel puts chord theory into your hands. No music reading is necessary; simply rotate the transparent disk and analyze any chord progression instantly."}),M.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[M.jsx("li",{children:"Determine which chords belong to a given key"}),M.jsx("li",{children:"Transpose a chord progression to any key"}),M.jsx("li",{children:"Compose your own music"})]})]})]}),M.jsxs("section",{children:[M.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[M.jsx(JC,{size:12}),"Understanding the Rings"]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-bold text-white mb-2",children:"Inner Ring (Major)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Contains the 12 major chords arranged in the Circle of Fifths. Upper-case numerals (I, IV, V) denote major chords."})]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-bold text-white mb-2",children:"Middle Ring (Minor)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Contains 24 minor chords. Lower-case numerals (ii, iii, vi) denote minor chords in a key."})]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-bold text-white mb-2",children:"Outer Ring (Diminished)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"The vii chord for each key. The diminished chord has a harsh, dissonant quality due to the 5."})]})]})]}),M.jsxs("section",{children:[M.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[M.jsx(QC,{size:12}),"Roman Numerals"]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Roman numerals denote the harmonic progression. Upper-case = major, lower-case = minor."}),M.jsxs("div",{className:"grid grid-cols-7 gap-2 text-center text-sm",children:[M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"I"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Tonic"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"ii"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Super"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"iii"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Mediant"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"IV"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Subdom"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"V"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Dominant"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"vi"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Relative"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"vii"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Leading"})]})]})]})]}),M.jsxs("section",{children:[M.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[M.jsx(CC,{size:12}),"The Circle of Fifths"]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[M.jsx("p",{children:'Starting with C and moving clockwise (C  G  D  A  E  B  F#  Db  Ab  Eb  Bb  F), each step is a "dominant" (fifth) progression. This cyclical nature is one of the most fundamental principles in music theory.'}),M.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[M.jsx("li",{children:'Modulations often move one "key" clockwise or counter-clockwise'}),M.jsx("li",{children:"Neighboring keys share many chords in common"}),M.jsx("li",{children:"The strong pull of V  I is why songs resolve satisfyingly"})]})]})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Building Chords"}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-4",children:[M.jsxs("div",{children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"Triads (3 Notes)"}),M.jsx("p",{className:"text-sm text-gray-400 mb-2",children:'Built using "every other note" of the scale: Root, 3rd, 5th'}),M.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Major"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Minor"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Diminished"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]})]})]}),M.jsxs("div",{children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"Seventh Chords (4 Notes)"}),M.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Add the 7th note: 1st, 3rd, 5th, 7th"}),M.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Major 7th (maj7)"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Dominant 7th (7)"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Minor 7th (m7)"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Half-Dim (m75)"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]})]})]})]})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Common Progressions"}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-IV-V (Pop/Rock)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - F - G"}),M.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The foundation of rock 'n' roll"})]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"ii-V-I (Jazz)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: Dm7 - G7 - Cmaj7"}),M.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The most common jazz progression"})]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-vi-IV-V (50s/Doo-wop)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - Am - F - G"}),M.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Also used in countless pop songs"})]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-V-vi-IV (Modern Pop)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - G - Am - F"}),M.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'The "4 chord song" progression'})]})]})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Secondary Dominants (II & III)"}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[M.jsxs("p",{children:["The II and III chords (shown with half-highlighting) aren't diatonic but are commonly used. They're called ",M.jsx("strong",{className:"text-white",children:"secondary dominants"}),' because they "act" like dominant V chords:']}),M.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[M.jsxs("li",{children:[M.jsx("strong",{className:"text-white",children:"II"})," (D in key of C) = V of V (leads strongly to G)"]}),M.jsxs("li",{children:[M.jsx("strong",{className:"text-white",children:"III"})," (E in key of C) = V of vi (leads strongly to Am)"]})]}),M.jsx("p",{className:"text-gray-400",children:"Study chord progressions by The Beatles, Rolling Stones, Elvis Costello, and you'll discover these two chords add tremendous variety."})]})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Modes & Relative Minor"}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[M.jsxs("p",{children:["The vi chord (Am in key of C) is special: it's the ",M.jsx("strong",{className:"text-white",children:"relative minor"}),". Songs emphasizing vi as the tonic create a minor mood using the same chords."]}),M.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-[10px] mt-3",children:[M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"I"}),M.jsx("span",{className:"block text-gray-500",children:"Ionian"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"ii"}),M.jsx("span",{className:"block text-gray-500",children:"Dorian"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"iii"}),M.jsx("span",{className:"block text-gray-500",children:"Phrygian"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"IV"}),M.jsx("span",{className:"block text-gray-500",children:"Lydian"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"V"}),M.jsx("span",{className:"block text-gray-500",children:"Mixolyd."})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"vi"}),M.jsx("span",{className:"block text-gray-500",children:"Aeolian"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"vii"}),M.jsx("span",{className:"block text-gray-500",children:"Locrian"})]})]})]})]})]}),LE=({isOpen:i,onClose:e,isEmbedded:t=!1})=>i?t?M.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col bg-[#1a1a24]",children:[M.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-[#22222e] shrink-0",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:M.jsx(U0,{size:12,className:"text-white"})}),M.jsx("h2",{className:"text-sm font-bold text-white",children:"Guide"})]}),M.jsx("button",{onClick:e,className:"p-1 hover:bg-bg-tertiary rounded transition-colors text-text-muted hover:text-white",children:M.jsx(cy,{size:16})})]}),M.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-6 sm:py-6 space-y-8",children:M.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:M.jsx(Ey,{})})})]}):M.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:[M.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm pointer-events-none"}),M.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-4xl w-full max-h-[85vh] overflow-hidden flex flex-col pointer-events-auto",children:[M.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-subtle bg-[#22222e]",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:M.jsx(U0,{size:16,className:"text-white"})}),M.jsx("h2",{className:"text-lg font-bold text-white",children:"Chord Wheel Guide"})]}),M.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-tertiary rounded-lg transition-colors text-text-muted hover:text-white",children:M.jsx(cy,{size:20})})]}),M.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-8 sm:py-8 space-y-8",children:M.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:M.jsx(Ey,{})})}),M.jsx("div",{className:"px-6 py-4 sm:px-8 sm:py-5 border-t border-border-subtle bg-[#22222e] text-center",children:M.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Drag the wheel or use the rotation buttons to change keys. Click any chord to see details."})})]})]}):null,l0=({variant:i="sidebar"})=>{const{selectedChord:e,selectedKey:t,chordPanelVisible:r,toggleChordPanel:a,selectedSectionId:o,selectedSlotId:h,addChordToSlot:c,setSelectedChord:f,selectNextSlotAfter:d,setSelectedSlot:m}=Di(),b=ag(),[w,y]=fe.useState(null),[A,N]=fe.useState([]),[k,C]=fe.useState(280),[F,z]=fe.useState(!1),[V,I]=fe.useState(!1),Z=fe.useRef(0),G=i==="drawer",[D,R]=fe.useState(e),K=e??D,E=Zg(),[j,P]=fe.useState(!1),[J,ue]=fe.useState(!1),[$,re]=fe.useState(!1),ce={maj:"Bright, stable major triad  home base sound.",7:"Dominant 7: bluesy tension that wants to resolve.",maj7:"Dreamy, smooth major color  great on I or IV.",maj9:"Airy, modern major flavor; adds sparkle without tension.",maj13:"Lush, extended major pad; orchestral/jazz sheen.",6:"Warm vintage major; softer than maj7 for tonic use.",13:"Dominant with a soulful top; funky/jazz turnaround vibe.",m7:"Soulful, laid-back minor  default jazz ii sound.",m9:"Lush, cinematic minor color with extra depth.",m11:"Spacious, modal minor; great for grooves and vamps.",m6:"Bittersweet/film-noir minor; nice tonic minor option.",sus2:"Open and airy with no third; neutral pop/ambient feel.",sus4:"Suspended tension that likes to resolve to major.",dim:"Tense and unstable; classic passing/leading chord.",m7b5:"Half-diminished; dark ii chord in minor keys.",add9:"Sparkly major with no 7th; modern pop shimmer.",9:"Dominant 9: rich funk/jazz tension with color.",11:"Dominant 11: suspended, modal flavor over V."},pe=["maj","7","maj7","maj9","maj13","6","13","m7","m9","m11","m6","sus2","sus4","dim","m7b5","add9","9","11"],Ne=ge=>{if(!K?.root)return"-";const _e=De=>De.replace(/[\d]/g,"").replace(//,"b").replace(//,"#"),Re={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},Xe=Re[_e(K.root)],He=Re[_e(ge)];if(Xe===void 0||He===void 0)return"-";const Qe=(He-Xe+12)%12;return{0:"R",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[Qe]??"-"},X=fe.useCallback(ge=>{G||(ge.preventDefault(),z(!0))},[G]);fe.useEffect(()=>{if(!F||G)return;const ge=Re=>{const Xe=window.innerWidth-Re.clientX;C(Math.max(200,Math.min(400,Xe)))},_e=()=>{z(!1)};return document.addEventListener("mousemove",ge),document.addEventListener("mouseup",_e),()=>{document.removeEventListener("mousemove",ge),document.removeEventListener("mouseup",_e)}},[F,G]),fe.useEffect(()=>{e&&R(e)},[e]),fe.useEffect(()=>{y(null),N([])},[K?.root,K?.quality]);const T=K&&b[K.root]||"#6366f1",H=A.length>0?A:K?.notes||[],ee=ge=>{const _e=Date.now();if(_e-Z.current<300||(Z.current=_e,!K))return;const Re=fh(K.root,ge);k1(Re),y(ge),N(Re)},ie=ge=>{if(Z.current=0,!K||!o||!h)return;const _e=fh(K.root,ge),Re={...K,quality:ge,symbol:`${K.root}${ge}`,notes:_e};c(Re,o,h),d(o,h)||(m(o,h),f(Re))},oe=()=>{y(null),N([])},me=()=>{if(!K)return"";const ge=K.numeral;return{I:"The tonic chord  your home base. Most songs begin and end here. Try adding maj7 or 6 for a jazzier sound.",ii:"The supertonic  a pre-dominant chord that naturally leads to V. The ii-V-I progression is fundamental in jazz and pop.",iii:"The mediant  shares two notes with I. Can substitute for I or lead to vi. Often used for color.",IV:'The subdominant  creates a "plagal" sound. The IV-I is the "Amen" cadence. Adds warmth to choruses.',V:"The dominant  creates tension that resolves to I. Add a 7th for extra pull toward home.",vi:"The relative minor  shares the same notes as I major. The vi-IV-I-V is hugely popular in pop music.","vii":"The leading tone chord  unstable and wants to resolve to I. Often used as a passing chord.",II:"Secondary dominant (V/V)  borrows dominant function to approach V. Common in jazz.",III:"Secondary dominant (V/vi)  leads strongly to vi. Creates a dramatic shift."}[ge||""]||"This chord adds color and interest to your progression."},de=()=>{if(!K)return{extensions:[],description:""};let ge=K.numeral;if(ge&&ge.includes("(")){const Re=ge.match(/^(.+?)\s*\(/);Re&&(ge=Re[1].trim())}return{I:{extensions:["maj7","maj9","maj13","6"],description:"Major 7th or 6th voicings sound rich and resolved"},IV:{extensions:["maj7","maj9","maj13","6"],description:"Same as I  warm major extensions work beautifully"},V:{extensions:["7","9","11","sus4","13"],description:"Dominant 7th adds tension that pulls to I"},ii:{extensions:["m7","m9","m11","m6"],description:"Minor 7th extensions for a smooth jazz sound"},iii:{extensions:["m7"],description:"Keep it simple  m7 is most common for iii"},vi:{extensions:["m7","m9","m11"],description:"Minor extensions add depth and emotion"},"vii":{extensions:["m75"],description:"Half-diminished (7) is the standard voicing"},II:{extensions:["7","sus4"],description:"Dominant voicing as V/V  leads strongly to V"},III:{extensions:["7","sus4"],description:"Dominant voicing as V/vi  leads strongly to vi"}}[ge||""]||{extensions:[],description:`This chord doesn't fit in the key of ${t}, but it may add color and interest to your progression.`}};return r?M.jsxs("div",{className:G?`${E?"relative w-full":"fixed inset-x-3 bottom-[88px]"} ${E?"max-h-[60vh]":"max-h-[70vh]"} bg-bg-secondary border-2 border-border-subtle rounded-2xl shadow-2xl overflow-hidden ${E?"":"z-40"} flex`:"h-full flex bg-bg-secondary border-l border-border-subtle shrink-0",style:G?void 0:{width:k,minWidth:k},children:[!G&&M.jsx("div",{className:`w-2 flex items-center justify-center cursor-ew-resize hover:bg-bg-tertiary transition-colors ${F?"bg-accent-primary/20":""} relative z-[60]`,onMouseDown:X,children:M.jsx(l_,{size:12,className:"text-text-muted"})}),M.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0 relative",children:[M.jsxs("div",{className:`${E&&G?"px-4 py-2":"px-3 py-2"} border-b border-border-subtle flex justify-between items-center gap-3 shrink-0 ${G?"bg-bg-secondary/80 backdrop-blur-md":""}`,children:[M.jsxs("div",{className:"flex items-center gap-2 overflow-hidden flex-1 min-w-0",children:[M.jsxs("span",{className:"flex items-center gap-2 shrink-0",children:[M.jsx("span",{className:`${E?"text-lg":"text-base sm:text-lg"} font-bold text-text-primary leading-none`,children:K?K.symbol:"Chord Details"}),K?.numeral&&M.jsx("span",{className:`${E?"text-xs":"text-[11px]"} font-serif italic text-text-secondary shrink-0`,children:K.numeral})]}),K&&M.jsxs("span",{className:`${E?"text-xs":"text-[10px]"} text-text-muted whitespace-nowrap`,children:["Key: ",M.jsx("span",{className:"font-semibold text-text-primary",children:t})]})]}),M.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[K&&M.jsx("button",{onClick:()=>I(!0),className:`${E?"w-10 h-10 min-w-[40px] min-h-[40px]":"w-8 h-8"} flex items-center justify-center bg-bg-tertiary/60 hover:bg-accent-primary/20 border border-border-subtle rounded-full text-text-muted hover:text-accent-primary transition-colors shadow-sm touch-feedback`,title:"Chord Wheel Guide",children:M.jsx(jC,{size:E?16:14})}),M.jsx("button",{onClick:a,className:`${E?"p-2 min-w-[40px] min-h-[40px]":"p-1"} hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center`,title:"Hide panel",children:M.jsx(aT,{size:E?18:16,className:"text-text-muted"})})]})]}),K?M.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 overscroll-contain",children:[M.jsxs("div",{className:`${E?"px-4 py-1.5":"px-4 py-3"} border-b border-border-subtle`,children:[M.jsxs("div",{className:"flex items-center justify-between mb-2",children:[M.jsxs("h3",{className:`${E?"text-[11px]":"text-[10px]"} font-semibold text-text-muted uppercase tracking-wide`,children:["Voicing ",w&&M.jsxs("span",{className:"text-accent-primary ml-1",children:["(",w,")"]})]}),w&&M.jsxs("button",{onClick:oe,className:`${E?"text-[10px] px-2 py-1":"text-[9px]"} text-accent-primary hover:text-accent-secondary transition-colors touch-feedback`,children:[" ",K.symbol]})]}),M.jsx(OE,{highlightedNotes:H,rootNote:K.root,color:T}),M.jsx("div",{className:`${E?"mt-2":"mt-4"} w-full`,children:M.jsxs("div",{className:"grid w-full items-center gap-y-1",style:{gridTemplateColumns:`auto repeat(${H.length}, minmax(0,1fr))`,columnGap:"6px",rowGap:"4px"},children:[M.jsx("div",{className:"text-[9px] font-semibold uppercase tracking-wide text-text-muted leading-tight",children:"Notes"}),H.map((ge,_e)=>M.jsx("div",{className:"text-center text-[12px] font-bold text-text-primary leading-none py-1",style:{minHeight:24},children:ge},`note-${_e}`)),M.jsx("div",{className:"text-[9px] font-semibold uppercase tracking-wide text-text-muted leading-tight",children:"Absolute"}),H.map((ge,_e)=>M.jsx("div",{className:"text-center text-[11px] text-text-primary font-semibold leading-none py-1",style:{minHeight:24},children:Ne(ge)},`abs-${_e}`)),M.jsx("div",{className:"text-[9px] font-semibold uppercase tracking-wide text-text-muted leading-tight",children:"Relative to Key"}),H.map((ge,_e)=>M.jsx("div",{className:"text-center text-[11px] text-text-secondary leading-none py-1",style:{minHeight:24},children:y4(t,ge).replace(/^1/,"R")},`rel-${_e}`))]})})]}),M.jsxs("div",{className:`${E?"px-4 py-2 mt-2":"px-4 py-3"} border-b border-border-subtle rounded-none`,children:[M.jsxs("button",{onClick:()=>E&&P(!j),className:`w-full flex items-center justify-between ${j&&E?"mb-2":"mb-0"} ${E?"cursor-pointer py-0.5":""}`,children:[M.jsx("h3",{className:`${E?"text-[11px]":"text-[10px]"} font-semibold text-text-muted uppercase tracking-wide`,children:"Variations"}),E&&M.jsx(bh,{size:14,className:`text-text-muted transition-transform ${j?"rotate-180":""}`})]}),(!E||j)&&M.jsx("div",{className:`grid ${E?"grid-cols-3":"grid-cols-2 sm:grid-cols-3"} ${E?"gap-2":"gap-1.5"}`,children:pe.map((ge,_e)=>{const Xe=_e%2===0?{left:"calc(100% + 10px)"}:{right:"calc(100% + 10px)"};return M.jsxs("button",{className:`relative group ${E?"px-3 py-3 min-h-[48px] text-xs":"px-2 py-1.5 text-[10px]"} rounded font-medium transition-colors border touch-feedback ${w===ge?"bg-accent-primary text-white border-accent-primary":"bg-bg-elevated hover:bg-bg-tertiary text-text-secondary hover:text-text-primary border-border-subtle"}`,onClick:()=>ee(ge),onDoubleClick:()=>ie(ge),children:[ge,!E&&ce[ge]&&M.jsx("span",{className:"pointer-events-none absolute top-1/2 -translate-y-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-150 z-50 w-44 text-left",style:{...Xe,backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:ce[ge]})]},ge)})})]}),K&&M.jsxs("div",{className:`${E?"px-4 py-2 mt-2":"px-4 py-3"} border-b border-border-subtle bg-accent-primary/5 rounded-none`,children:[M.jsxs("button",{onClick:()=>E&&ue(!J),className:`w-full flex items-center justify-between ${J&&E?"mb-2":"mb-0"} ${E?"cursor-pointer py-0.5":""}`,children:[M.jsxs("h3",{className:`${E?"text-[11px]":"text-[10px]"} font-semibold text-accent-primary uppercase tracking-wide`,children:["Suggested for ",K.numeral||K.symbol]}),E&&M.jsx(bh,{size:14,className:`text-accent-primary transition-transform ${J?"rotate-180":""}`})]}),(!E||J)&&M.jsxs(M.Fragment,{children:[de().extensions.length>0?M.jsx("div",{className:`flex flex-wrap ${E?"gap-2.5":"gap-2"} mb-2`,children:de().extensions.map(ge=>M.jsxs("button",{className:`relative group ${E?"px-4 py-2.5 text-sm min-h-[44px]":"px-3 py-1.5 text-xs"} rounded font-semibold transition-colors touch-feedback ${w===ge?"bg-accent-primary text-white":"bg-bg-elevated hover:bg-accent-primary/20 text-text-primary border border-border-subtle"}`,onClick:()=>ee(ge),onDoubleClick:()=>ie(ge),children:[K.root,ge,!E&&ce[ge]&&M.jsx("span",{className:"pointer-events-none absolute -top-6 -translate-y-full left-1/2 -translate-x-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-150 z-50 w-44 text-left",style:{backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:ce[ge]})]},ge))}):null,M.jsx("p",{className:`${E?"text-xs":"text-[10px]"} text-text-muted leading-relaxed`,children:de().description})]})]}),M.jsxs("div",{className:`${E?"px-4 py-2 mt-2 pb-2":"px-4 py-3"}`,children:[M.jsxs("button",{onClick:()=>E&&re(!$),className:`w-full flex items-center justify-between ${E?"cursor-pointer py-0.5":"mb-0"} ${$&&E?"mb-2":"mb-0"}`,children:[M.jsx("h3",{className:`${E?"text-[11px]":"text-[10px]"} font-semibold text-accent-primary uppercase tracking-wide ${E?"":"mb-2"}`,children:"Theory"}),E&&M.jsx(bh,{size:14,className:`text-accent-primary transition-transform ${$?"rotate-180":""}`})]}),(!E||$)&&M.jsx("div",{className:`${E?"p-3":"p-4"} bg-bg-elevated border border-border-subtle rounded-none`,children:M.jsx("p",{className:`${E?"text-sm":"text-xs"} text-text-secondary leading-relaxed`,children:me()})})]})]}):M.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:M.jsx("p",{className:`${E?"text-base":"text-sm"} text-text-muted text-center`,children:"Select a chord from the wheel or timeline"})})]}),M.jsx(LE,{isOpen:V,onClose:()=>I(!1)})]}):G?M.jsxs("button",{onClick:a,className:`w-full ${E?"h-16 min-h-[64px]":"h-11"} flex items-center justify-center gap-2 bg-bg-secondary border-2 border-border-subtle rounded-2xl ${E?"text-base":"text-[11px]"} font-bold text-text-primary shadow-lg hover:border-accent-primary transition-all touch-feedback active:scale-[0.97]`,title:"Show chord details",children:[M.jsx(Yg,{size:E?20:14}),M.jsx("span",{children:"Open Chord Details"})]}):M.jsx("button",{onClick:a,className:"h-full px-2 flex items-center justify-center bg-bg-secondary border-l border-border-subtle hover:bg-bg-tertiary transition-colors shrink-0",title:"Show chord details",children:M.jsx(lT,{size:18,className:"text-text-muted"})})},ME="modulepreload",DE=function(i){return"/chord-wheel-writer/"+i},ky={},Ep=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),c=h?.nonce||h?.getAttribute("nonce");a=f(t.map(d=>{if(d=DE(d),d in ky)return;ky[d]=!0;const m=d.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${b}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":ME,m||(w.as="script"),w.crossOrigin="",w.href=d,c&&w.setAttribute("nonce",c),document.head.appendChild(w),m)return new Promise((y,A)=>{w.addEventListener("load",y),w.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(h){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=h,window.dispatchEvent(c),!c.defaultPrevented)throw h}return a.then(h=>{for(const c of h||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},jE=()=>{const{currentSong:i,isPlaying:e,tempo:t,volume:r,setTempo:a,setVolume:o,instrument:h,setInstrument:c,isMuted:f,toggleMute:d,toggleLoop:m,isLooping:b,playingSectionId:w,selectedSectionId:y}=Di(),A=Zg(),[N,k]=pn.useState(!1);fe.useEffect(()=>{Xg(i)},[i]),fe.useEffect(()=>{x_(t)},[t]),fe.useEffect(()=>{Wg(h)},[h]),fe.useEffect(()=>{w_()},[b,i,w,y]),fe.useEffect(()=>{Ep(()=>Promise.resolve().then(()=>OT),void 0).then(Z=>{k(!0),Z.preloadAudio().finally(()=>k(!1))})},[]);const C=async()=>{try{await p_(),e?(b_(),Di.getState().setIsPlaying(!1)):(k(!0),await y_(),Di.getState().setIsPlaying(!0))}catch(Z){console.error("Playback error:",Z)}finally{k(!1)}},F=Z=>{__(Z)},z=()=>{m()},V=[{value:"piano",label:"Piano"},{value:"epiano",label:"Electric Piano"},{value:"organ",label:"Organ"},{value:"pad",label:"Pad"},{value:"guitar",label:"Guitar"}];V.find(Z=>Z.value===h)||c("piano");const I=Z=>{const G=V.findIndex(R=>R.value===h);if(G===-1){c("piano");return}const D=Z==="next"?(G+1)%V.length:(G-1+V.length)%V.length;c(V[D].value)};return M.jsxs("div",{className:`${A?"h-16":"h-14"} bg-bg-elevated border-t border-border-subtle flex items-center ${A?"justify-around px-2":"justify-between px-6"}`,children:[M.jsxs("div",{className:`flex items-center ${A?"gap-1":"gap-2"}`,children:[M.jsx("button",{onClick:()=>F("prev"),className:`${A?"p-2 min-w-[44px] min-h-[44px]":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:M.jsx(xT,{size:A?18:16})}),M.jsx("button",{onClick:C,disabled:N,className:`${A?"w-12 h-12":"w-9 h-9"} rounded-full bg-accent-primary hover:bg-indigo-500 disabled:bg-accent-primary/50 flex items-center justify-center text-white shadow-lg transition-all hover:scale-105 active:scale-95 touch-feedback`,children:N?M.jsx(tT,{size:A?22:18,className:"animate-spin"}):e?M.jsx(uT,{size:A?22:18,fill:"currentColor"}):M.jsx(fT,{size:A?22:18,fill:"currentColor",className:"ml-0.5"})}),M.jsx("button",{onClick:()=>F("next"),className:`${A?"p-2 min-w-[44px] min-h-[44px]":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:M.jsx(wT,{size:A?18:16})}),!A&&M.jsx("button",{onClick:z,className:`p-1.5 transition-colors ml-1 ${b?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,title:"Loop Section",children:M.jsx(mT,{size:14})})]}),!A&&M.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-text-muted",children:[M.jsxs("div",{className:"flex items-center gap-1.5",children:[M.jsx("span",{children:"Tempo"}),M.jsx("input",{type:"number",value:t,onChange:Z=>a(Number(Z.target.value)),className:"w-10 bg-bg-tertiary border border-border-subtle rounded px-1 py-0.5 text-center text-text-primary text-[10px]"}),M.jsx("span",{children:"BPM"})]}),M.jsx("span",{className:"text-text-muted",children:""}),M.jsx("span",{children:i.timeSignature?`${i.timeSignature[0]}/${i.timeSignature[1]}`:"4/4"})]}),M.jsxs("div",{className:`flex items-center ${A?"gap-2":"gap-4"}`,children:[M.jsxs("div",{className:`flex items-center ${A?"gap-1":"gap-2"}`,children:[!A&&M.jsxs("div",{className:"flex items-center rounded bg-bg-tertiary/60 border border-border-subtle/70 h-8",children:[M.jsx("button",{onClick:()=>I("prev"),className:"px-1.5 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-l transition-colors flex items-center",title:"Previous instrument",children:M.jsx(LC,{size:12})}),M.jsx("button",{onClick:()=>I("next"),className:"px-1.5 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-r transition-colors flex items-center",title:"Next instrument",children:M.jsx(kC,{size:12})})]}),M.jsx("select",{value:h,onChange:Z=>c(Z.target.value),className:`bg-bg-tertiary border border-border-subtle rounded ${A?"px-2 h-11 text-xs min-w-[90px]":"px-2 h-8 text-[10px] min-w-[140px]"} text-text-secondary focus:outline-none focus:border-accent-primary cursor-pointer`,children:V.map(Z=>M.jsx("option",{value:Z.value,children:Z.label},Z.value))})]}),M.jsxs("div",{className:`flex items-center gap-2 ${A?"w-20":"w-32"}`,children:[M.jsx("button",{onClick:d,className:`${A?"min-w-[44px] min-h-[44px] p-2":""} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,title:f?"Unmute":"Mute",children:f||r===0?M.jsx(TT,{size:A?18:14}):M.jsx(NT,{size:A?18:14})}),!A&&M.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f?0:r,onChange:Z=>{f&&d(),o(Number(Z.target.value))},className:`w-full h-1 bg-bg-tertiary rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2.5 [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:bg-accent-primary [&::-webkit-slider-thumb]:rounded-full ${f?"opacity-50":""}`})]})]})]})};function Bn(i){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(i)}var eo=Uint8Array,Gs=Uint16Array,r2=Int32Array,s2=new eo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a2=new eo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Oy=new eo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),J_=function(i,e){for(var t=new Gs(31),r=0;r<31;++r)t[r]=e+=1<<i[r-1];for(var a=new r2(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)a[o]=o-t[r]<<5|r;return{b:t,r:a}},ew=J_(s2,2),RE=ew.b,W0=ew.r;RE[28]=258,W0[258]=28;var IE=J_(a2,0),Ly=IE.r,X0=new Gs(32768);for(var oi=0;oi<32768;++oi){var rc=(oi&43690)>>1|(oi&21845)<<1;rc=(rc&52428)>>2|(rc&13107)<<2,rc=(rc&61680)>>4|(rc&3855)<<4,X0[oi]=((rc&65280)>>8|(rc&255)<<8)>>1}var Vf=(function(i,e,t){for(var r=i.length,a=0,o=new Gs(e);a<r;++a)i[a]&&++o[i[a]-1];var h=new Gs(e);for(a=1;a<e;++a)h[a]=h[a-1]+o[a-1]<<1;var c;if(t){c=new Gs(1<<e);var f=15-e;for(a=0;a<r;++a)if(i[a])for(var d=a<<4|i[a],m=e-i[a],b=h[i[a]-1]++<<m,w=b|(1<<m)-1;b<=w;++b)c[X0[b]>>f]=d}else for(c=new Gs(r),a=0;a<r;++a)i[a]&&(c[a]=X0[h[i[a]-1]++]>>15-i[a]);return c}),lu=new eo(288);for(var oi=0;oi<144;++oi)lu[oi]=8;for(var oi=144;oi<256;++oi)lu[oi]=9;for(var oi=256;oi<280;++oi)lu[oi]=7;for(var oi=280;oi<288;++oi)lu[oi]=8;var r1=new eo(32);for(var oi=0;oi<32;++oi)r1[oi]=5;var VE=Vf(lu,9,0),BE=Vf(r1,5,0),tw=function(i){return(i+7)/8|0},qE=function(i,e,t){return(t==null||t>i.length)&&(t=i.length),new eo(i.subarray(e,t))},ul=function(i,e,t){t<<=e&7;var r=e/8|0;i[r]|=t,i[r+1]|=t>>8},Tf=function(i,e,t){t<<=e&7;var r=e/8|0;i[r]|=t,i[r+1]|=t>>8,i[r+2]|=t>>16},c0=function(i,e){for(var t=[],r=0;r<i.length;++r)i[r]&&t.push({s:r,f:i[r]});var a=t.length,o=t.slice();if(!a)return{t:iw,l:0};if(a==1){var h=new eo(t[0].s+1);return h[t[0].s]=1,{t:h,l:1}}t.sort(function(I,Z){return I.f-Z.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,m=1,b=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};m!=a-1;)c=t[t[d].f<t[b].f?d++:b++],f=t[d!=m&&t[d].f<t[b].f?d++:b++],t[m++]={s:-1,f:c.f+f.f,l:c,r:f};for(var w=o[0].s,r=1;r<a;++r)o[r].s>w&&(w=o[r].s);var y=new Gs(w+1),A=Z0(t[m-1],y,0);if(A>e){var r=0,N=0,k=A-e,C=1<<k;for(o.sort(function(Z,G){return y[G.s]-y[Z.s]||Z.f-G.f});r<a;++r){var F=o[r].s;if(y[F]>e)N+=C-(1<<A-y[F]),y[F]=e;else break}for(N>>=k;N>0;){var z=o[r].s;y[z]<e?N-=1<<e-y[z]++-1:++r}for(;r>=0&&N;--r){var V=o[r].s;y[V]==e&&(--y[V],++N)}A=e}return{t:new eo(y),l:A}},Z0=function(i,e,t){return i.s==-1?Math.max(Z0(i.l,e,t+1),Z0(i.r,e,t+1)):e[i.s]=t},My=function(i){for(var e=i.length;e&&!i[--e];);for(var t=new Gs(++e),r=0,a=i[0],o=1,h=function(f){t[r++]=f},c=1;c<=e;++c)if(i[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)h(32754);o>2&&(h(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(h(a),--o;o>6;o-=6)h(8304);o>2&&(h(o-3<<5|8208),o=0)}for(;o--;)h(a);o=1,a=i[c]}return{c:t.subarray(0,r),n:e}},Ef=function(i,e){for(var t=0,r=0;r<e.length;++r)t+=i[r]*e[r];return t},nw=function(i,e,t){var r=t.length,a=tw(e+2);i[a]=r&255,i[a+1]=r>>8,i[a+2]=i[a]^255,i[a+3]=i[a+1]^255;for(var o=0;o<r;++o)i[a+o+4]=t[o];return(a+4+r)*8},Dy=function(i,e,t,r,a,o,h,c,f,d,m){ul(e,m++,t),++a[256];for(var b=c0(a,15),w=b.t,y=b.l,A=c0(o,15),N=A.t,k=A.l,C=My(w),F=C.c,z=C.n,V=My(N),I=V.c,Z=V.n,G=new Gs(19),D=0;D<F.length;++D)++G[F[D]&31];for(var D=0;D<I.length;++D)++G[I[D]&31];for(var R=c0(G,7),K=R.t,E=R.l,j=19;j>4&&!K[Oy[j-1]];--j);var P=d+5<<3,J=Ef(a,lu)+Ef(o,r1)+h,ue=Ef(a,w)+Ef(o,N)+h+14+3*j+Ef(G,K)+2*G[16]+3*G[17]+7*G[18];if(f>=0&&P<=J&&P<=ue)return nw(e,m,i.subarray(f,f+d));var $,re,ce,pe;if(ul(e,m,1+(ue<J)),m+=2,ue<J){$=Vf(w,y,0),re=w,ce=Vf(N,k,0),pe=N;var Ne=Vf(K,E,0);ul(e,m,z-257),ul(e,m+5,Z-1),ul(e,m+10,j-4),m+=14;for(var D=0;D<j;++D)ul(e,m+3*D,K[Oy[D]]);m+=3*j;for(var X=[F,I],T=0;T<2;++T)for(var H=X[T],D=0;D<H.length;++D){var ee=H[D]&31;ul(e,m,Ne[ee]),m+=K[ee],ee>15&&(ul(e,m,H[D]>>5&127),m+=H[D]>>12)}}else $=VE,re=lu,ce=BE,pe=r1;for(var D=0;D<c;++D){var ie=r[D];if(ie>255){var ee=ie>>18&31;Tf(e,m,$[ee+257]),m+=re[ee+257],ee>7&&(ul(e,m,ie>>23&31),m+=s2[ee]);var oe=ie&31;Tf(e,m,ce[oe]),m+=pe[oe],oe>3&&(Tf(e,m,ie>>5&8191),m+=a2[oe])}else Tf(e,m,$[ie]),m+=re[ie]}return Tf(e,m,$[256]),m+re[256]},zE=new r2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),iw=new eo(0),FE=function(i,e,t,r,a,o){var h=o.z||i.length,c=new eo(r+h+5*(1+Math.ceil(h/7e3))+a),f=c.subarray(r,c.length-a),d=o.l,m=(o.r||0)&7;if(e){m&&(f[0]=o.r>>3);for(var b=zE[e-1],w=b>>13,y=b&8191,A=(1<<t)-1,N=o.p||new Gs(32768),k=o.h||new Gs(A+1),C=Math.ceil(t/3),F=2*C,z=function(Qe){return(i[Qe]^i[Qe+1]<<C^i[Qe+2]<<F)&A},V=new r2(25e3),I=new Gs(288),Z=new Gs(32),G=0,D=0,R=o.i||0,K=0,E=o.w||0,j=0;R+2<h;++R){var P=z(R),J=R&32767,ue=k[P];if(N[J]=ue,k[P]=J,E<=R){var $=h-R;if((G>7e3||K>24576)&&($>423||!d)){m=Dy(i,f,0,V,I,Z,D,K,j,R-j,m),K=G=D=0,j=R;for(var re=0;re<286;++re)I[re]=0;for(var re=0;re<30;++re)Z[re]=0}var ce=2,pe=0,Ne=y,X=J-ue&32767;if($>2&&P==z(R-X))for(var T=Math.min(w,$)-1,H=Math.min(32767,R),ee=Math.min(258,$);X<=H&&--Ne&&J!=ue;){if(i[R+ce]==i[R+ce-X]){for(var ie=0;ie<ee&&i[R+ie]==i[R+ie-X];++ie);if(ie>ce){if(ce=ie,pe=X,ie>T)break;for(var oe=Math.min(X,ie-2),me=0,re=0;re<oe;++re){var de=R-X+re&32767,ge=N[de],_e=de-ge&32767;_e>me&&(me=_e,ue=de)}}}J=ue,ue=N[J],X+=J-ue&32767}if(pe){V[K++]=268435456|W0[ce]<<18|Ly[pe];var Re=W0[ce]&31,Xe=Ly[pe]&31;D+=s2[Re]+a2[Xe],++I[257+Re],++Z[Xe],E=R+ce,++G}else V[K++]=i[R],++I[i[R]]}}for(R=Math.max(R,E);R<h;++R)V[K++]=i[R],++I[i[R]];m=Dy(i,f,d,V,I,Z,D,K,j,R-j,m),d||(o.r=m&7|f[m/8|0]<<3,m-=7,o.h=k,o.p=N,o.i=R,o.w=E)}else{for(var R=o.w||0;R<h+d;R+=65535){var He=R+65535;He>=h&&(f[m/8|0]=d,He=h),m=nw(f,m+1,i.subarray(R,He))}o.i=h}return qE(c,0,r+tw(m)+a)},rw=function(){var i=1,e=0;return{p:function(t){for(var r=i,a=e,o=t.length|0,h=0;h!=o;){for(var c=Math.min(h+2655,o);h<c;++h)a+=r+=t[h];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}i=r,e=a},d:function(){return i%=65521,e%=65521,(i&255)<<24|(i&65280)<<8|(e&255)<<8|e>>8}}},PE=function(i,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),h=new eo(o.length+i.length);h.set(o),h.set(i,o.length),i=h,a.w=o.length}return FE(i,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+e.mem,t,r,a)},sw=function(i,e,t){for(;t;++e)i[e]=t,t>>>=8},UE=function(i,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(i[0]=120,i[1]=r<<6|(e.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,e.dictionary){var a=rw();a.p(e.dictionary),sw(i,2,a.d())}};function K0(i,e){e||(e={});var t=rw();t.p(i);var r=PE(i,e,e.dictionary?6:2,4);return UE(r,e),sw(r,r.length-4,t.d()),r}var HE=typeof TextDecoder<"u"&&new TextDecoder,GE=0;try{HE.decode(iw,{stream:!0}),GE=1}catch{}function YE(i){if(Array.isArray(i))return i}function WE(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var r,a,o,h,c=[],f=!0,d=!1;try{if(o=(t=t.call(i)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(m){d=!0,a=m}finally{try{if(!f&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(d)throw a}}return c}}function jy(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=Array(e);t<e;t++)r[t]=i[t];return r}function XE(i,e){if(i){if(typeof i=="string")return jy(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?jy(i,e):void 0}}function ZE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ry(i,e){return YE(i)||WE(i,e)||XE(i,e)||ZE()}function Iy(i,e="utf8"){return new TextDecoder(e).decode(i)}const KE=new TextEncoder;function QE(i){return KE.encode(i)}const $E=1024*8,JE=(()=>{const i=new Uint8Array(4),e=new Uint32Array(i.buffer);return!((e[0]=1)&i[0])})(),u0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class o2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=$E,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let h=a;(ArrayBuffer.isView(e)||e instanceof o2)&&(e.byteLength!==e.buffer.byteLength&&(h=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=h,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,h,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=u0[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===JE&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+r));c.reverse();const f=new u0[t](c.buffer);return this.offset+=r,f.reverse(),f}const h=new u0[t](o);return this.offset+=r,h}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Iy(this.readBytes(e))}decodeText(e=1,t="utf8"){return Iy(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(QE(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zh(i){let e=i.length;for(;--e>=0;)i[e]=0}const ek=3,tk=258,aw=29,nk=256,ik=nk+1+aw,ow=30,rk=512,sk=new Array((ik+2)*2);zh(sk);const ak=new Array(ow*2);zh(ak);const ok=new Array(rk);zh(ok);const lk=new Array(tk-ek+1);zh(lk);const ck=new Array(aw);zh(ck);const uk=new Array(ow);zh(uk);const hk=(i,e,t,r)=>{let a=i&65535|0,o=i>>>16&65535|0,h=0;for(;t!==0;){h=t>2e3?2e3:t,t-=h;do a=a+e[r++]|0,o=o+a|0;while(--h);a%=65521,o%=65521}return a|o<<16|0};var Q0=hk;const fk=()=>{let i,e=[];for(var t=0;t<256;t++){i=t;for(var r=0;r<8;r++)i=i&1?3988292384^i>>>1:i>>>1;e[t]=i}return e},dk=new Uint32Array(fk()),pk=(i,e,t,r)=>{const a=dk,o=r+t;i^=-1;for(let h=r;h<o;h++)i=i>>>8^a[(i^e[h])&255];return i^-1};var To=pk,$0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},lw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const mk=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var gk=function(i){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)mk(t,r)&&(i[r]=t[r])}}return i},vk=i=>{let e=0;for(let r=0,a=i.length;r<a;r++)e+=i[r].length;const t=new Uint8Array(e);for(let r=0,a=0,o=i.length;r<o;r++){let h=i[r];t.set(h,a),a+=h.length}return t},cw={assign:gk,flattenChunks:vk};let uw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{uw=!1}const Zf=new Uint8Array(256);for(let i=0;i<256;i++)Zf[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;Zf[254]=Zf[254]=1;var yk=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let e,t,r,a,o,h=i.length,c=0;for(a=0;a<h;a++)t=i.charCodeAt(a),(t&64512)===55296&&a+1<h&&(r=i.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)t=i.charCodeAt(a),(t&64512)===55296&&a+1<h&&(r=i.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const bk=(i,e)=>{if(e<65534&&i.subarray&&uw)return String.fromCharCode.apply(null,i.length===e?i:i.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(i[r]);return t};var xk=(i,e)=>{const t=e||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,e));let r,a;const o=new Array(t*2);for(a=0,r=0;r<t;){let h=i[r++];if(h<128){o[a++]=h;continue}let c=Zf[h];if(c>4){o[a++]=65533,r+=c-1;continue}for(h&=c===2?31:c===3?15:7;c>1&&r<t;)h=h<<6|i[r++]&63,c--;if(c>1){o[a++]=65533;continue}h<65536?o[a++]=h:(h-=65536,o[a++]=55296|h>>10&1023,o[a++]=56320|h&1023)}return bk(o,a)},_k=(i,e)=>{e=e||i.length,e>i.length&&(e=i.length);let t=e-1;for(;t>=0&&(i[t]&192)===128;)t--;return t<0||t===0?e:t+Zf[i[t]]>e?t:e},J0={string2buf:yk,buf2string:xk,utf8border:_k};function wk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Sk=wk;const pp=16209,Ak=16191;var Nk=function(e,t){let r,a,o,h,c,f,d,m,b,w,y,A,N,k,C,F,z,V,I,Z,G,D,R,K;const E=e.state;r=e.next_in,R=e.input,a=r+(e.avail_in-5),o=e.next_out,K=e.output,h=o-(t-e.avail_out),c=o+(e.avail_out-257),f=E.dmax,d=E.wsize,m=E.whave,b=E.wnext,w=E.window,y=E.hold,A=E.bits,N=E.lencode,k=E.distcode,C=(1<<E.lenbits)-1,F=(1<<E.distbits)-1;e:do{A<15&&(y+=R[r++]<<A,A+=8,y+=R[r++]<<A,A+=8),z=N[y&C];t:for(;;){if(V=z>>>24,y>>>=V,A-=V,V=z>>>16&255,V===0)K[o++]=z&65535;else if(V&16){I=z&65535,V&=15,V&&(A<V&&(y+=R[r++]<<A,A+=8),I+=y&(1<<V)-1,y>>>=V,A-=V),A<15&&(y+=R[r++]<<A,A+=8,y+=R[r++]<<A,A+=8),z=k[y&F];n:for(;;){if(V=z>>>24,y>>>=V,A-=V,V=z>>>16&255,V&16){if(Z=z&65535,V&=15,A<V&&(y+=R[r++]<<A,A+=8,A<V&&(y+=R[r++]<<A,A+=8)),Z+=y&(1<<V)-1,Z>f){e.msg="invalid distance too far back",E.mode=pp;break e}if(y>>>=V,A-=V,V=o-h,Z>V){if(V=Z-V,V>m&&E.sane){e.msg="invalid distance too far back",E.mode=pp;break e}if(G=0,D=w,b===0){if(G+=d-V,V<I){I-=V;do K[o++]=w[G++];while(--V);G=o-Z,D=K}}else if(b<V){if(G+=d+b-V,V-=b,V<I){I-=V;do K[o++]=w[G++];while(--V);if(G=0,b<I){V=b,I-=V;do K[o++]=w[G++];while(--V);G=o-Z,D=K}}}else if(G+=b-V,V<I){I-=V;do K[o++]=w[G++];while(--V);G=o-Z,D=K}for(;I>2;)K[o++]=D[G++],K[o++]=D[G++],K[o++]=D[G++],I-=3;I&&(K[o++]=D[G++],I>1&&(K[o++]=D[G++]))}else{G=o-Z;do K[o++]=K[G++],K[o++]=K[G++],K[o++]=K[G++],I-=3;while(I>2);I&&(K[o++]=K[G++],I>1&&(K[o++]=K[G++]))}}else if((V&64)===0){z=k[(z&65535)+(y&(1<<V)-1)];continue n}else{e.msg="invalid distance code",E.mode=pp;break e}break}}else if((V&64)===0){z=N[(z&65535)+(y&(1<<V)-1)];continue t}else if(V&32){E.mode=Ak;break e}else{e.msg="invalid literal/length code",E.mode=pp;break e}break}}while(r<a&&o<c);I=A>>3,r-=I,A-=I<<3,y&=(1<<A)-1,e.next_in=r,e.next_out=o,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=o<c?257+(c-o):257-(o-c),E.hold=y,E.bits=A};const sh=15,Vy=852,By=592,qy=0,h0=1,zy=2,Ck=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Tk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ek=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),kk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ok=(i,e,t,r,a,o,h,c)=>{const f=c.bits;let d=0,m=0,b=0,w=0,y=0,A=0,N=0,k=0,C=0,F=0,z,V,I,Z,G,D=null,R;const K=new Uint16Array(sh+1),E=new Uint16Array(sh+1);let j=null,P,J,ue;for(d=0;d<=sh;d++)K[d]=0;for(m=0;m<r;m++)K[e[t+m]]++;for(y=f,w=sh;w>=1&&K[w]===0;w--);if(y>w&&(y=w),w===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(b=1;b<w&&K[b]===0;b++);for(y<b&&(y=b),k=1,d=1;d<=sh;d++)if(k<<=1,k-=K[d],k<0)return-1;if(k>0&&(i===qy||w!==1))return-1;for(E[1]=0,d=1;d<sh;d++)E[d+1]=E[d]+K[d];for(m=0;m<r;m++)e[t+m]!==0&&(h[E[e[t+m]]++]=m);if(i===qy?(D=j=h,R=20):i===h0?(D=Ck,j=Tk,R=257):(D=Ek,j=kk,R=0),F=0,m=0,d=b,G=o,A=y,N=0,I=-1,C=1<<y,Z=C-1,i===h0&&C>Vy||i===zy&&C>By)return 1;for(;;){P=d-N,h[m]+1<R?(J=0,ue=h[m]):h[m]>=R?(J=j[h[m]-R],ue=D[h[m]-R]):(J=96,ue=0),z=1<<d-N,V=1<<A,b=V;do V-=z,a[G+(F>>N)+V]=P<<24|J<<16|ue|0;while(V!==0);for(z=1<<d-1;F&z;)z>>=1;if(z!==0?(F&=z-1,F+=z):F=0,m++,--K[d]===0){if(d===w)break;d=e[t+h[m]]}if(d>y&&(F&Z)!==I){for(N===0&&(N=y),G+=b,A=d-N,k=1<<A;A+N<w&&(k-=K[A+N],!(k<=0));)A++,k<<=1;if(C+=1<<A,i===h0&&C>Vy||i===zy&&C>By)return 1;I=F&Z,a[I]=y<<24|A<<16|G-o|0}}return F!==0&&(a[G+F]=d-N<<24|64<<16|0),c.bits=y,0};var Bf=Ok;const Lk=0,hw=1,fw=2,{Z_FINISH:Fy,Z_BLOCK:Mk,Z_TREES:mp,Z_OK:cu,Z_STREAM_END:Dk,Z_NEED_DICT:jk,Z_STREAM_ERROR:ma,Z_DATA_ERROR:dw,Z_MEM_ERROR:pw,Z_BUF_ERROR:Rk,Z_DEFLATED:Py}=lw,I1=16180,Uy=16181,Hy=16182,Gy=16183,Yy=16184,Wy=16185,Xy=16186,Zy=16187,Ky=16188,Qy=16189,s1=16190,hl=16191,f0=16192,$y=16193,d0=16194,Jy=16195,eb=16196,tb=16197,nb=16198,gp=16199,vp=16200,ib=16201,rb=16202,sb=16203,ab=16204,ob=16205,p0=16206,lb=16207,cb=16208,mi=16209,mw=16210,gw=16211,Ik=852,Vk=592,Bk=15,qk=Bk,ub=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function zk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const du=i=>{if(!i)return 1;const e=i.state;return!e||e.strm!==i||e.mode<I1||e.mode>gw?1:0},vw=i=>{if(du(i))return ma;const e=i.state;return i.total_in=i.total_out=e.total=0,i.msg="",e.wrap&&(i.adler=e.wrap&1),e.mode=I1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Ik),e.distcode=e.distdyn=new Int32Array(Vk),e.sane=1,e.back=-1,cu},yw=i=>{if(du(i))return ma;const e=i.state;return e.wsize=0,e.whave=0,e.wnext=0,vw(i)},bw=(i,e)=>{let t;if(du(i))return ma;const r=i.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ma:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,yw(i))},xw=(i,e)=>{if(!i)return ma;const t=new zk;i.state=t,t.strm=i,t.window=null,t.mode=I1;const r=bw(i,e);return r!==cu&&(i.state=null),r},Fk=i=>xw(i,qk);let hb=!0,m0,g0;const Pk=i=>{if(hb){m0=new Int32Array(512),g0=new Int32Array(32);let e=0;for(;e<144;)i.lens[e++]=8;for(;e<256;)i.lens[e++]=9;for(;e<280;)i.lens[e++]=7;for(;e<288;)i.lens[e++]=8;for(Bf(hw,i.lens,0,288,m0,0,i.work,{bits:9}),e=0;e<32;)i.lens[e++]=5;Bf(fw,i.lens,0,32,g0,0,i.work,{bits:5}),hb=!1}i.lencode=m0,i.lenbits=9,i.distcode=g0,i.distbits=5},_w=(i,e,t,r)=>{let a;const o=i.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(e.subarray(t-r,t-r+a),o.wnext),r-=a,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},Uk=(i,e)=>{let t,r,a,o,h,c,f,d,m,b,w,y,A,N,k=0,C,F,z,V,I,Z,G,D;const R=new Uint8Array(4);let K,E;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(du(i)||!i.output||!i.input&&i.avail_in!==0)return ma;t=i.state,t.mode===hl&&(t.mode=f0),h=i.next_out,a=i.output,f=i.avail_out,o=i.next_in,r=i.input,c=i.avail_in,d=t.hold,m=t.bits,b=c,w=f,D=cu;e:for(;;)switch(t.mode){case I1:if(t.wrap===0){t.mode=f0;break}for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,R[0]=d&255,R[1]=d>>>8&255,t.check=To(t.check,R,2,0),d=0,m=0,t.mode=Uy;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){i.msg="incorrect header check",t.mode=mi;break}if((d&15)!==Py){i.msg="unknown compression method",t.mode=mi;break}if(d>>>=4,m-=4,G=(d&15)+8,t.wbits===0&&(t.wbits=G),G>15||G>t.wbits){i.msg="invalid window size",t.mode=mi;break}t.dmax=1<<t.wbits,t.flags=0,i.adler=t.check=1,t.mode=d&512?Qy:hl,d=0,m=0;break;case Uy:for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.flags=d,(t.flags&255)!==Py){i.msg="unknown compression method",t.mode=mi;break}if(t.flags&57344){i.msg="unknown header flags set",t.mode=mi;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=To(t.check,R,2,0)),d=0,m=0,t.mode=Hy;case Hy:for(;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,R[2]=d>>>16&255,R[3]=d>>>24&255,t.check=To(t.check,R,4,0)),d=0,m=0,t.mode=Gy;case Gy:for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=To(t.check,R,2,0)),d=0,m=0,t.mode=Yy;case Yy:if(t.flags&1024){for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=To(t.check,R,2,0)),d=0,m=0}else t.head&&(t.head.extra=null);t.mode=Wy;case Wy:if(t.flags&1024&&(y=t.length,y>c&&(y=c),y&&(t.head&&(G=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+y),G)),t.flags&512&&t.wrap&4&&(t.check=To(t.check,r,y,o)),c-=y,o+=y,t.length-=y),t.length))break e;t.length=0,t.mode=Xy;case Xy:if(t.flags&2048){if(c===0)break e;y=0;do G=r[o+y++],t.head&&G&&t.length<65536&&(t.head.name+=String.fromCharCode(G));while(G&&y<c);if(t.flags&512&&t.wrap&4&&(t.check=To(t.check,r,y,o)),c-=y,o+=y,G)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Zy;case Zy:if(t.flags&4096){if(c===0)break e;y=0;do G=r[o+y++],t.head&&G&&t.length<65536&&(t.head.comment+=String.fromCharCode(G));while(G&&y<c);if(t.flags&512&&t.wrap&4&&(t.check=To(t.check,r,y,o)),c-=y,o+=y,G)break e}else t.head&&(t.head.comment=null);t.mode=Ky;case Ky:if(t.flags&512){for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.check&65535)){i.msg="header crc mismatch",t.mode=mi;break}d=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),i.adler=t.check=0,t.mode=hl;break;case Qy:for(;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}i.adler=t.check=ub(d),d=0,m=0,t.mode=s1;case s1:if(t.havedict===0)return i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=c,t.hold=d,t.bits=m,jk;i.adler=t.check=1,t.mode=hl;case hl:if(e===Mk||e===mp)break e;case f0:if(t.last){d>>>=m&7,m-=m&7,t.mode=p0;break}for(;m<3;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}switch(t.last=d&1,d>>>=1,m-=1,d&3){case 0:t.mode=$y;break;case 1:if(Pk(t),t.mode=gp,e===mp){d>>>=2,m-=2;break e}break;case 2:t.mode=eb;break;case 3:i.msg="invalid block type",t.mode=mi}d>>>=2,m-=2;break;case $y:for(d>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if((d&65535)!==(d>>>16^65535)){i.msg="invalid stored block lengths",t.mode=mi;break}if(t.length=d&65535,d=0,m=0,t.mode=d0,e===mp)break e;case d0:t.mode=Jy;case Jy:if(y=t.length,y){if(y>c&&(y=c),y>f&&(y=f),y===0)break e;a.set(r.subarray(o,o+y),h),c-=y,o+=y,f-=y,h+=y,t.length-=y;break}t.mode=hl;break;case eb:for(;m<14;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.nlen=(d&31)+257,d>>>=5,m-=5,t.ndist=(d&31)+1,d>>>=5,m-=5,t.ncode=(d&15)+4,d>>>=4,m-=4,t.nlen>286||t.ndist>30){i.msg="too many length or distance symbols",t.mode=mi;break}t.have=0,t.mode=tb;case tb:for(;t.have<t.ncode;){for(;m<3;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.lens[j[t.have++]]=d&7,d>>>=3,m-=3}for(;t.have<19;)t.lens[j[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,K={bits:t.lenbits},D=Bf(Lk,t.lens,0,19,t.lencode,0,t.work,K),t.lenbits=K.bits,D){i.msg="invalid code lengths set",t.mode=mi;break}t.have=0,t.mode=nb;case nb:for(;t.have<t.nlen+t.ndist;){for(;k=t.lencode[d&(1<<t.lenbits)-1],C=k>>>24,F=k>>>16&255,z=k&65535,!(C<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(z<16)d>>>=C,m-=C,t.lens[t.have++]=z;else{if(z===16){for(E=C+2;m<E;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(d>>>=C,m-=C,t.have===0){i.msg="invalid bit length repeat",t.mode=mi;break}G=t.lens[t.have-1],y=3+(d&3),d>>>=2,m-=2}else if(z===17){for(E=C+3;m<E;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=C,m-=C,G=0,y=3+(d&7),d>>>=3,m-=3}else{for(E=C+7;m<E;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=C,m-=C,G=0,y=11+(d&127),d>>>=7,m-=7}if(t.have+y>t.nlen+t.ndist){i.msg="invalid bit length repeat",t.mode=mi;break}for(;y--;)t.lens[t.have++]=G}}if(t.mode===mi)break;if(t.lens[256]===0){i.msg="invalid code -- missing end-of-block",t.mode=mi;break}if(t.lenbits=9,K={bits:t.lenbits},D=Bf(hw,t.lens,0,t.nlen,t.lencode,0,t.work,K),t.lenbits=K.bits,D){i.msg="invalid literal/lengths set",t.mode=mi;break}if(t.distbits=6,t.distcode=t.distdyn,K={bits:t.distbits},D=Bf(fw,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,K),t.distbits=K.bits,D){i.msg="invalid distances set",t.mode=mi;break}if(t.mode=gp,e===mp)break e;case gp:t.mode=vp;case vp:if(c>=6&&f>=258){i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=c,t.hold=d,t.bits=m,Nk(i,w),h=i.next_out,a=i.output,f=i.avail_out,o=i.next_in,r=i.input,c=i.avail_in,d=t.hold,m=t.bits,t.mode===hl&&(t.back=-1);break}for(t.back=0;k=t.lencode[d&(1<<t.lenbits)-1],C=k>>>24,F=k>>>16&255,z=k&65535,!(C<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(F&&(F&240)===0){for(V=C,I=F,Z=z;k=t.lencode[Z+((d&(1<<V+I)-1)>>V)],C=k>>>24,F=k>>>16&255,z=k&65535,!(V+C<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=V,m-=V,t.back+=V}if(d>>>=C,m-=C,t.back+=C,t.length=z,F===0){t.mode=ob;break}if(F&32){t.back=-1,t.mode=hl;break}if(F&64){i.msg="invalid literal/length code",t.mode=mi;break}t.extra=F&15,t.mode=ib;case ib:if(t.extra){for(E=t.extra;m<E;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=rb;case rb:for(;k=t.distcode[d&(1<<t.distbits)-1],C=k>>>24,F=k>>>16&255,z=k&65535,!(C<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if((F&240)===0){for(V=C,I=F,Z=z;k=t.distcode[Z+((d&(1<<V+I)-1)>>V)],C=k>>>24,F=k>>>16&255,z=k&65535,!(V+C<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=V,m-=V,t.back+=V}if(d>>>=C,m-=C,t.back+=C,F&64){i.msg="invalid distance code",t.mode=mi;break}t.offset=z,t.extra=F&15,t.mode=sb;case sb:if(t.extra){for(E=t.extra;m<E;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){i.msg="invalid distance too far back",t.mode=mi;break}t.mode=ab;case ab:if(f===0)break e;if(y=w-f,t.offset>y){if(y=t.offset-y,y>t.whave&&t.sane){i.msg="invalid distance too far back",t.mode=mi;break}y>t.wnext?(y-=t.wnext,A=t.wsize-y):A=t.wnext-y,y>t.length&&(y=t.length),N=t.window}else N=a,A=h-t.offset,y=t.length;y>f&&(y=f),f-=y,t.length-=y;do a[h++]=N[A++];while(--y);t.length===0&&(t.mode=vp);break;case ob:if(f===0)break e;a[h++]=t.length,f--,t.mode=vp;break;case p0:if(t.wrap){for(;m<32;){if(c===0)break e;c--,d|=r[o++]<<m,m+=8}if(w-=f,i.total_out+=w,t.total+=w,t.wrap&4&&w&&(i.adler=t.check=t.flags?To(t.check,a,w,h-w):Q0(t.check,a,w,h-w)),w=f,t.wrap&4&&(t.flags?d:ub(d))!==t.check){i.msg="incorrect data check",t.mode=mi;break}d=0,m=0}t.mode=lb;case lb:if(t.wrap&&t.flags){for(;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.total&4294967295)){i.msg="incorrect length check",t.mode=mi;break}d=0,m=0}t.mode=cb;case cb:D=Dk;break e;case mi:D=dw;break e;case mw:return pw;case gw:default:return ma}return i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=c,t.hold=d,t.bits=m,(t.wsize||w!==i.avail_out&&t.mode<mi&&(t.mode<p0||e!==Fy))&&_w(i,i.output,i.next_out,w-i.avail_out),b-=i.avail_in,w-=i.avail_out,i.total_in+=b,i.total_out+=w,t.total+=w,t.wrap&4&&w&&(i.adler=t.check=t.flags?To(t.check,a,w,i.next_out-w):Q0(t.check,a,w,i.next_out-w)),i.data_type=t.bits+(t.last?64:0)+(t.mode===hl?128:0)+(t.mode===gp||t.mode===d0?256:0),(b===0&&w===0||e===Fy)&&D===cu&&(D=Rk),D},Hk=i=>{if(du(i))return ma;let e=i.state;return e.window&&(e.window=null),i.state=null,cu},Gk=(i,e)=>{if(du(i))return ma;const t=i.state;return(t.wrap&2)===0?ma:(t.head=e,e.done=!1,cu)},Yk=(i,e)=>{const t=e.length;let r,a,o;return du(i)||(r=i.state,r.wrap!==0&&r.mode!==s1)?ma:r.mode===s1&&(a=1,a=Q0(a,e,t,0),a!==r.check)?dw:(o=_w(i,e,t,t),o?(r.mode=mw,pw):(r.havedict=1,cu))};var Wk=yw,Xk=bw,Zk=vw,Kk=Fk,Qk=xw,$k=Uk,Jk=Hk,eO=Gk,tO=Yk,nO="pako inflate (from Nodeca project)",dl={inflateReset:Wk,inflateReset2:Xk,inflateResetKeep:Zk,inflateInit:Kk,inflateInit2:Qk,inflate:$k,inflateEnd:Jk,inflateGetHeader:eO,inflateSetDictionary:tO,inflateInfo:nO};function iO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var rO=iO;const ww=Object.prototype.toString,{Z_NO_FLUSH:sO,Z_FINISH:aO,Z_OK:Kf,Z_STREAM_END:v0,Z_NEED_DICT:y0,Z_STREAM_ERROR:oO,Z_DATA_ERROR:fb,Z_MEM_ERROR:lO}=lw;function pd(i){this.options=cw.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(i&&i.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Sk,this.strm.avail_out=0;let t=dl.inflateInit2(this.strm,e.windowBits);if(t!==Kf)throw new Error($0[t]);if(this.header=new rO,dl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=J0.string2buf(e.dictionary):ww.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=dl.inflateSetDictionary(this.strm,e.dictionary),t!==Kf)))throw new Error($0[t])}pd.prototype.push=function(i,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,h,c;if(this.ended)return!1;for(e===~~e?h=e:h=e===!0?aO:sO,ww.call(i)==="[object ArrayBuffer]"?t.input=new Uint8Array(i):t.input=i,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=dl.inflate(t,h),o===y0&&a&&(o=dl.inflateSetDictionary(t,a),o===Kf?o=dl.inflate(t,h):o===fb&&(o=y0));t.avail_in>0&&o===v0&&t.state.wrap>0&&i[t.next_in]!==0;)dl.inflateReset(t),o=dl.inflate(t,h);switch(o){case oO:case fb:case y0:case lO:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===v0))if(this.options.to==="string"){let f=J0.utf8border(t.output,t.next_out),d=t.next_out-f,m=J0.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Kf&&c===0)){if(o===v0)return o=dl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};pd.prototype.onData=function(i){this.chunks.push(i)};pd.prototype.onEnd=function(i){i===Kf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=cw.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function cO(i,e){const t=new pd(e);if(t.push(i),t.err)throw t.msg||$0[t.err];return t.result}var uO=pd,hO=cO,fO={Inflate:uO,inflate:hO};const{Inflate:dO,inflate:pO}=fO;var db=dO,mO=pO;const Sw=[];for(let i=0;i<256;i++){let e=i;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Sw[i]=e}const pb=4294967295;function gO(i,e,t){let r=i;for(let a=0;a<t;a++)r=Sw[(r^e[a])&255]^r>>>8;return r}function vO(i,e){return(gO(pb,i,e)^pb)>>>0}function mb(i,e,t){const r=i.readUint32(),a=vO(new Uint8Array(i.buffer,i.byteOffset+i.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${a}`)}function Aw(i,e,t){for(let r=0;r<t;r++)e[r]=i[r]}function Nw(i,e,t,r){let a=0;for(;a<r;a++)e[a]=i[a];for(;a<t;a++)e[a]=i[a]+e[a-r]&255}function Cw(i,e,t,r){let a=0;if(t.length===0)for(;a<r;a++)e[a]=i[a];else for(;a<r;a++)e[a]=i[a]+t[a]&255}function Tw(i,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=i[o];for(;o<r;o++)e[o]=i[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=i[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=i[o]+(e[o-a]+t[o]>>1)&255}}function Ew(i,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=i[o];for(;o<r;o++)e[o]=i[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=i[o]+t[o]&255;for(;o<r;o++)e[o]=i[o]+yO(e[o-a],t[o],t[o-a])&255}}function yO(i,e,t){const r=i+e-t,a=Math.abs(r-i),o=Math.abs(r-e),h=Math.abs(r-t);return a<=o&&a<=h?i:o<=h?e:t}function bO(i,e,t,r,a,o){switch(i){case 0:Aw(e,t,a);break;case 1:Nw(e,t,a,o);break;case 2:Cw(e,t,r,a);break;case 3:Tw(e,t,r,a,o);break;case 4:Ew(e,t,r,a,o);break;default:throw new Error(`Unsupported filter: ${i}`)}}const xO=new Uint16Array([255]),_O=new Uint8Array(xO.buffer),wO=_O[0]===255;function SO(i){const{data:e,width:t,height:r,channels:a,depth:o}=i,h=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(r*t*c);let d=0;for(let m=0;m<7;m++){const b=h[m],w=Math.ceil((t-b.x)/b.xStep),y=Math.ceil((r-b.y)/b.yStep);if(w<=0||y<=0)continue;const A=w*c,N=new Uint8Array(A);for(let k=0;k<y;k++){const C=e[d++],F=e.subarray(d,d+A);d+=A;const z=new Uint8Array(A);bO(C,F,z,N,A,c),N.set(z);for(let V=0;V<w;V++){const I=b.x+V*b.xStep,Z=b.y+k*b.yStep;if(!(I>=t||Z>=r))for(let G=0;G<c;G++)f[(Z*t+I)*c+G]=z[V*c+G]}}}if(o===16){const m=new Uint16Array(f.buffer);if(wO)for(let b=0;b<m.length;b++)m[b]=AO(m[b]);return m}else return f}function AO(i){return(i&255)<<8|i>>8&255}const NO=new Uint16Array([255]),CO=new Uint8Array(NO.buffer),TO=CO[0]===255,EO=new Uint8Array(0);function gb(i){const{data:e,width:t,height:r,channels:a,depth:o}=i,h=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*t),f=new Uint8Array(r*c);let d=EO,m=0,b,w;for(let y=0;y<r;y++){switch(b=e.subarray(m+1,m+1+c),w=f.subarray(y*c,(y+1)*c),e[m]){case 0:Aw(b,w,c);break;case 1:Nw(b,w,c,h);break;case 2:Cw(b,w,d,c);break;case 3:Tw(b,w,d,c,h);break;case 4:Ew(b,w,d,c,h);break;default:throw new Error(`Unsupported filter: ${e[m]}`)}d=w,m+=c+1}if(o===16){const y=new Uint16Array(f.buffer);if(TO)for(let A=0;A<y.length;A++)y[A]=kO(y[A]);return y}else return f}function kO(i){return(i&255)<<8|i>>8&255}const kp=Uint8Array.of(137,80,78,71,13,10,26,10);function vb(i){if(!OO(i.readBytes(kp.length)))throw new Error("wrong PNG signature")}function OO(i){if(i.length<kp.length)return!1;for(let e=0;e<kp.length;e++)if(i[e]!==kp[e])return!1;return!0}const LO="tEXt",MO=0,kw=new TextDecoder("latin1");function DO(i){if(RO(i),i.length===0||i.length>79)throw new Error("keyword length must be between 1 and 79")}const jO=/^[\u0000-\u00FF]*$/;function RO(i){if(!jO.test(i))throw new Error("invalid latin1 text")}function IO(i,e,t){const r=Ow(e);i[r]=VO(e,t-r.length-1)}function Ow(i){for(i.mark();i.readByte()!==MO;);const e=i.offset;i.reset();const t=kw.decode(i.readBytes(e-i.offset-1));return i.skip(1),DO(t),t}function VO(i,e){return kw.decode(i.readBytes(e))}const Fs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},b0={UNKNOWN:-1,DEFLATE:0},yb={UNKNOWN:-1,ADAPTIVE:0},x0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},yp={NONE:0,BACKGROUND:1,PREVIOUS:2},_0={SOURCE:0,OVER:1};class BO extends o2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new db,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=b0.UNKNOWN,this._filterMethod=yb.UNKNOWN,this._interlaceMethod=x0.UNKNOWN,this._colorType=Fs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(vb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(vb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case LO:IO(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?mb(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?mb(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=qO(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case Fs.GREYSCALE:r=1;break;case Fs.TRUECOLOUR:r=3;break;case Fs.INDEXED_COLOUR:r=1;break;case Fs.GREYSCALE_ALPHA:r=2;break;case Fs.TRUECOLOUR_ALPHA:r=4;break;case Fs.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==b0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<t;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Fs.GREYSCALE:case Fs.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Fs.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Fs.UNKNOWN:case Fs.GREYSCALE_ALPHA:case Fs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=Ow(this),r=this.readUint8();if(r!==b0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:mO(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=gb({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case yp.NONE:break;case yp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const h=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[h+c]=0}break;case yp.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,a=(o,h)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+h)*this._png.channels,f=(o*t.width+h)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case _0.SOURCE:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case _0.OVER:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++){const m=t.data[f+this._png.channels-1]/r,b=d%(this._png.channels-1)===0?1:t.data[f+d],w=Math.floor(m*b+(1-m)*e.data[c+d]);e.data[c+d]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==yb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===x0.NO_INTERLACE)this._png.data=gb({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===x0.ADAM7)this._png.data=SO({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:yp.NONE,blendOp:_0.SOURCE,data:e}),this._inflator=new db,this._writingDataChunks=!1}}function qO(i){if(i!==1&&i!==2&&i!==4&&i!==8&&i!==16)throw new Error(`invalid bit depth: ${i}`);return i}var bb;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.METRE=1]="METRE"})(bb||(bb={}));function zO(i,e){return new BO(i,e).decode()}var Pt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function w0(){Pt.console&&typeof Pt.console.log=="function"&&Pt.console.log.apply(Pt.console,arguments)}var Qn={log:w0,warn:function(i){Pt.console&&(typeof Pt.console.warn=="function"?Pt.console.warn.apply(Pt.console,arguments):w0.call(null,arguments))},error:function(i){Pt.console&&(typeof Pt.console.error=="function"?Pt.console.error.apply(Pt.console,arguments):w0(i))}};function S0(i,e,t){var r=new XMLHttpRequest;r.open("GET",i),r.responseType="blob",r.onload=function(){$c(r.response,e,t)},r.onerror=function(){Qn.error("could not download file")},r.send()}function xb(i){var e=new XMLHttpRequest;e.open("HEAD",i,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function bp(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(e)}}var $c=Pt.saveAs||((typeof window>"u"?"undefined":Bn(window))!=="object"||window!==Pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,e,t){var r=Pt.URL||Pt.webkitURL,a=document.createElement("a");e=e||i.name||"download",a.download=e,a.rel="noopener",typeof i=="string"?(a.href=i,a.origin!==location.origin?xb(a.href)?S0(i,e,t):bp(a,a.target="_blank"):bp(a)):(a.href=r.createObjectURL(i),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){bp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(i,e,t){if(e=e||i.name||"download",typeof i=="string")if(xb(i))S0(i,e,t);else{var r=document.createElement("a");r.href=i,r.target="_blank",setTimeout(function(){bp(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Bn(o)!=="object"&&(Qn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(i,t),e)}:function(i,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof i=="string")return S0(i,e,t);var a=i.type==="application/octet-stream",o=/constructor/i.test(Pt.HTMLElement)||Pt.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||a&&o)&&(typeof FileReader>"u"?"undefined":Bn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=h?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=m:location=m,r=null},c.readAsDataURL(i)}else{var f=Pt.URL||Pt.webkitURL,d=f.createObjectURL(i);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function Lw(i){var e;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,o=t[r].process,h=a.exec(i);h&&(e=o(h),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var Op=Pt.atob.bind(Pt),_b=Pt.btoa.bind(Pt);function A0(i,e){var t=i[0],r=i[1],a=i[2],o=i[3];t=Ir(t,r,a,o,e[0],7,-680876936),o=Ir(o,t,r,a,e[1],12,-389564586),a=Ir(a,o,t,r,e[2],17,606105819),r=Ir(r,a,o,t,e[3],22,-1044525330),t=Ir(t,r,a,o,e[4],7,-176418897),o=Ir(o,t,r,a,e[5],12,1200080426),a=Ir(a,o,t,r,e[6],17,-1473231341),r=Ir(r,a,o,t,e[7],22,-45705983),t=Ir(t,r,a,o,e[8],7,1770035416),o=Ir(o,t,r,a,e[9],12,-1958414417),a=Ir(a,o,t,r,e[10],17,-42063),r=Ir(r,a,o,t,e[11],22,-1990404162),t=Ir(t,r,a,o,e[12],7,1804603682),o=Ir(o,t,r,a,e[13],12,-40341101),a=Ir(a,o,t,r,e[14],17,-1502002290),t=Vr(t,r=Ir(r,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Vr(o,t,r,a,e[6],9,-1069501632),a=Vr(a,o,t,r,e[11],14,643717713),r=Vr(r,a,o,t,e[0],20,-373897302),t=Vr(t,r,a,o,e[5],5,-701558691),o=Vr(o,t,r,a,e[10],9,38016083),a=Vr(a,o,t,r,e[15],14,-660478335),r=Vr(r,a,o,t,e[4],20,-405537848),t=Vr(t,r,a,o,e[9],5,568446438),o=Vr(o,t,r,a,e[14],9,-1019803690),a=Vr(a,o,t,r,e[3],14,-187363961),r=Vr(r,a,o,t,e[8],20,1163531501),t=Vr(t,r,a,o,e[13],5,-1444681467),o=Vr(o,t,r,a,e[2],9,-51403784),a=Vr(a,o,t,r,e[7],14,1735328473),t=Br(t,r=Vr(r,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Br(o,t,r,a,e[8],11,-2022574463),a=Br(a,o,t,r,e[11],16,1839030562),r=Br(r,a,o,t,e[14],23,-35309556),t=Br(t,r,a,o,e[1],4,-1530992060),o=Br(o,t,r,a,e[4],11,1272893353),a=Br(a,o,t,r,e[7],16,-155497632),r=Br(r,a,o,t,e[10],23,-1094730640),t=Br(t,r,a,o,e[13],4,681279174),o=Br(o,t,r,a,e[0],11,-358537222),a=Br(a,o,t,r,e[3],16,-722521979),r=Br(r,a,o,t,e[6],23,76029189),t=Br(t,r,a,o,e[9],4,-640364487),o=Br(o,t,r,a,e[12],11,-421815835),a=Br(a,o,t,r,e[15],16,530742520),t=qr(t,r=Br(r,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=qr(o,t,r,a,e[7],10,1126891415),a=qr(a,o,t,r,e[14],15,-1416354905),r=qr(r,a,o,t,e[5],21,-57434055),t=qr(t,r,a,o,e[12],6,1700485571),o=qr(o,t,r,a,e[3],10,-1894986606),a=qr(a,o,t,r,e[10],15,-1051523),r=qr(r,a,o,t,e[1],21,-2054922799),t=qr(t,r,a,o,e[8],6,1873313359),o=qr(o,t,r,a,e[15],10,-30611744),a=qr(a,o,t,r,e[6],15,-1560198380),r=qr(r,a,o,t,e[13],21,1309151649),t=qr(t,r,a,o,e[4],6,-145523070),o=qr(o,t,r,a,e[11],10,-1120210379),a=qr(a,o,t,r,e[2],15,718787259),r=qr(r,a,o,t,e[9],21,-343485551),i[0]=cc(t,i[0]),i[1]=cc(r,i[1]),i[2]=cc(a,i[2]),i[3]=cc(o,i[3])}function V1(i,e,t,r,a,o){return e=cc(cc(e,i),cc(r,o)),cc(e<<a|e>>>32-a,t)}function Ir(i,e,t,r,a,o,h){return V1(e&t|~e&r,i,e,a,o,h)}function Vr(i,e,t,r,a,o,h){return V1(e&r|t&~r,i,e,a,o,h)}function Br(i,e,t,r,a,o,h){return V1(e^t^r,i,e,a,o,h)}function qr(i,e,t,r,a,o,h){return V1(t^(e|~r),i,e,a,o,h)}function Mw(i){var e,t=i.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=i.length;e+=64)A0(r,FO(i.substring(e-64,e)));i=i.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i.length;e++)a[e>>2]|=i.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(A0(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,A0(r,a),r}function FO(i){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=i.charCodeAt(e)+(i.charCodeAt(e+1)<<8)+(i.charCodeAt(e+2)<<16)+(i.charCodeAt(e+3)<<24);return t}var wb="0123456789abcdef".split("");function PO(i){for(var e="",t=0;t<4;t++)e+=wb[i>>8*t+4&15]+wb[i>>8*t&15];return e}function UO(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function eg(i){return Mw(i).map(UO).join("")}var HO=(function(i){for(var e=0;e<i.length;e++)i[e]=PO(i[e]);return i.join("")})(Mw("hello"))!="5d41402abc4b2a76b9719d911017c592";function cc(i,e){if(HO){var t=(65535&i)+(65535&e);return(i>>16)+(e>>16)+(t>>16)<<16|65535&t}return i+e&4294967295}function tg(i,e){var t,r,a,o;if(i!==t){for(var h=(a=i,o=1+(256/i.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var m=c[f];d=(d+m+h.charCodeAt(f))%256,c[f]=c[d],c[d]=m}t=i,r=c}else c=r;var b=e.length,w=0,y=0,A="";for(f=0;f<b;f++)y=(y+(m=c[w=(w+1)%256]))%256,c[w]=c[y],c[y]=m,h=c[(c[w]+c[y])%256],A+=String.fromCharCode(e.charCodeAt(f)^h);return A}var Sb={print:4,modify:8,copy:16,"annot-forms":32};function uh(i,e,t,r){this.v=1,this.r=2;var a=192;i.forEach(function(c){if(Sb.perm!==void 0)throw new Error("Invalid permission: "+c);a+=Sb[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),h=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,h),this.P=-(1+(255^a)),this.encryptionKey=eg(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=tg(this.encryptionKey,this.padding)}function hh(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var e="",t=i.length,r=0;r<t;r++){var a=i.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):i[r]}return e}function Ab(i){if(Bn(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!a],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var h=e[t][o];try{h[0].apply(i,r)}catch(c){Pt.console&&Qn.error("jsPDF PubSub Error",c.message,c)}h[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function a1(i){if(!(this instanceof a1))return new a1(i);var e="opacity,stroke-opacity".split(",");for(var t in i)i.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=i[t]);this.id="",this.objectNumber=-1}function Dw(i,e){this.gState=i,this.matrix=e,this.id="",this.objectNumber=-1}function eu(i,e,t,r,a){if(!(this instanceof eu))return new eu(i,e,t,r,a);this.type=i==="axial"?2:3,this.coords=e,this.colors=t,Dw.call(this,r,a)}function vh(i,e,t,r,a){if(!(this instanceof vh))return new vh(i,e,t,r,a);this.boundingBox=i,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Dw.call(this,r,a)}function Tt(i){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],h=[],c=1,f=16,d="S",m=null;Bn(i=i||{})==="object"&&(t=i.orientation,r=i.unit||r,a=i.format||a,o=i.compress||i.compressPdf||o,(m=i.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(e=i.precision),i.floatPrecision!==void 0&&(f=i.floatPrecision),d=i.defaultPathOperation||"S"),h=i.filters||(o===!0?["FlateEncode"]:h),r=r||"mm",t=(""+(t||"P")).toLowerCase();var b=i.putOnlyUsedFonts||!1,w={},y={internal:{},__private__:{}};y.__private__.PubSub=Ab;var A="1.3",N=y.__private__.getPdfVersion=function(){return A};y.__private__.setPdfVersion=function(_){A=_};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return k};var C=y.__private__.getPageFormat=function(_){return k[_]};a=a||"a4";var F="compat",z="advanced",V=F;function I(){this.saveGraphicsState(),U(new ht(xt,0,0,-xt,0,Na()*xt).toString()+" cm"),this.setFontSize(this.getFontSize()/xt),d="n",V=z}function Z(){this.restoreGraphicsState(),d="S",V=F}var G=y.__private__.combineFontStyleAndFontWeight=function(_,B){if(_=="bold"&&B=="normal"||_=="bold"&&B==400||_=="normal"&&B=="italic"||_=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(_=B==400||B==="normal"?_==="italic"?"italic":"normal":B!=700&&B!=="bold"||_!=="normal"?(B==700?"bold":B)+""+_:"bold"),_};y.advancedAPI=function(_){var B=V===F;return B&&I.call(this),typeof _!="function"||(_(this),B&&Z.call(this)),this},y.compatAPI=function(_){var B=V===z;return B&&Z.call(this),typeof _!="function"||(_(this),B&&I.call(this)),this},y.isAdvancedAPI=function(){return V===z};var D,R=function(_){if(V!==z)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=y.roundToPrecision=y.__private__.roundToPrecision=function(_,B){var le=e||B;if(isNaN(_)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(le).replace(/0+$/,"")};D=y.hpf=y.__private__.hpf=typeof f=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return K(_,f)}:f==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return K(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return K(_,16)};var E=y.f2=y.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return K(_,2)},j=y.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return K(_,3)},P=y.scale=y.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return V===F?_*xt:V===z?_:void 0},J=function(_){return P((function(B){return V===F?Na()-B:V===z?B:void 0})(_))};y.__private__.setPrecision=y.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var ue,$="00000000000000000000000000000000",re=y.__private__.getFileId=function(){return $},ce=y.__private__.setFileId=function(_){return $=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Ri=new uh(m.userPermissions,m.userPassword,m.ownerPassword,$)),$};y.setFileId=function(_){return ce(_),this},y.getFileId=function(){return re()};var pe=y.__private__.convertDateToPDFDate=function(_){var B=_.getTimezoneOffset(),le=B<0?"+":"-",ve=Math.floor(Math.abs(B/60)),Se=Math.abs(B%60),Fe=[le,ee(ve),"'",ee(Se),"'"].join("");return["D:",_.getFullYear(),ee(_.getMonth()+1),ee(_.getDate()),ee(_.getHours()),ee(_.getMinutes()),ee(_.getSeconds()),Fe].join("")},Ne=y.__private__.convertPDFDateToDate=function(_){var B=parseInt(_.substr(2,4),10),le=parseInt(_.substr(6,2),10)-1,ve=parseInt(_.substr(8,2),10),Se=parseInt(_.substr(10,2),10),Fe=parseInt(_.substr(12,2),10),Ze=parseInt(_.substr(14,2),10);return new Date(B,le,ve,Se,Fe,Ze,0)},X=y.__private__.setCreationDate=function(_){var B;if(_===void 0&&(_=new Date),_ instanceof Date)B=pe(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=_}return ue=B},T=y.__private__.getCreationDate=function(_){var B=ue;return _==="jsDate"&&(B=Ne(ue)),B};y.setCreationDate=function(_){return X(_),this},y.getCreationDate=function(_){return T(_)};var H,ee=y.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ie=y.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},oe=0,me=[],de=[],ge=0,_e=[],Re=[],Xe=!1,He=de;y.__private__.setCustomOutputDestination=function(_){Xe=!0,He=_};var Qe=function(_){Xe||(He=_)};y.__private__.resetCustomOutputDestination=function(){Xe=!1,He=de};var U=y.__private__.out=function(_){return _=_.toString(),ge+=_.length+1,He.push(_),He},De=y.__private__.write=function(_){return U(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},ut=y.__private__.getArrayBuffer=function(_){for(var B=_.length,le=new ArrayBuffer(B),ve=new Uint8Array(le);B--;)ve[B]=_.charCodeAt(B);return le},nt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return nt};var Me=i.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(_){return Me=V===z?_/xt:_,this};var tt,it=y.__private__.getFontSize=y.getFontSize=function(){return V===F?Me:Me*xt},lt=i.R2L||!1;y.__private__.setR2L=y.setR2L=function(_){return lt=_,this},y.__private__.getR2L=y.getR2L=function(){return lt};var pt,kt=y.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))tt=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');tt=_}else tt=parseInt(_,10)};y.__private__.getZoomMode=function(){return tt};var Ge,Ke=y.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');pt=_};y.__private__.getPageMode=function(){return pt};var ct=y.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Ge=_};y.__private__.getLayoutMode=function(){return Ge},y.__private__.setDisplayMode=y.setDisplayMode=function(_,B,le){return kt(_),ct(B),Ke(le),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(_){if(Object.keys(bt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[_]},y.__private__.getDocumentProperties=function(){return bt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(_){for(var B in bt)bt.hasOwnProperty(B)&&_[B]&&(bt[B]=_[B]);return this},y.__private__.setDocumentProperty=function(_,B){if(Object.keys(bt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[_]=B};var ot,xt,st,Ut,Dt,St={},At={},zt=[],we={},Be={},qe={},rt={},Et=null,et=0,Je=[],gt=new Ab(y),Nn=i.hotfixes||[],$t={},cn={},Cn=[],ht=function _(B,le,ve,Se,Fe,Ze){if(!(this instanceof _))return new _(B,le,ve,Se,Fe,Ze);isNaN(B)&&(B=1),isNaN(le)&&(le=0),isNaN(ve)&&(ve=0),isNaN(Se)&&(Se=1),isNaN(Fe)&&(Fe=0),isNaN(Ze)&&(Ze=0),this._matrix=[B,le,ve,Se,Fe,Ze]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(_)},ht.prototype.multiply=function(_){var B=_.sx*this.sx+_.shy*this.shx,le=_.sx*this.shy+_.shy*this.sy,ve=_.shx*this.sx+_.sy*this.shx,Se=_.shx*this.shy+_.sy*this.sy,Fe=_.tx*this.sx+_.ty*this.shx+this.tx,Ze=_.tx*this.shy+_.ty*this.sy+this.ty;return new ht(B,le,ve,Se,Fe,Ze)},ht.prototype.decompose=function(){var _=this.sx,B=this.shy,le=this.shx,ve=this.sy,Se=this.tx,Fe=this.ty,Ze=Math.sqrt(_*_+B*B),vt=(_/=Ze)*le+(B/=Ze)*ve;le-=_*vt,ve-=B*vt;var Nt=Math.sqrt(le*le+ve*ve);return vt/=Nt,_*(ve/=Nt)<B*(le/=Nt)&&(_=-_,B=-B,vt=-vt,Ze=-Ze),{scale:new ht(Ze,0,0,Nt,0,0),translate:new ht(1,0,0,1,Se,Fe),rotate:new ht(_,B,-B,_,0,0),skew:new ht(1,0,vt,1,0,0)}},ht.prototype.toString=function(_){return this.join(" ")},ht.prototype.inversed=function(){var _=this.sx,B=this.shy,le=this.shx,ve=this.sy,Se=this.tx,Fe=this.ty,Ze=1/(_*ve-B*le),vt=ve*Ze,Nt=-B*Ze,Bt=-le*Ze,Gt=_*Ze;return new ht(vt,Nt,Bt,Gt,-vt*Se-Bt*Fe,-Nt*Se-Gt*Fe)},ht.prototype.applyToPoint=function(_){var B=_.x*this.sx+_.y*this.shx+this.tx,le=_.x*this.shy+_.y*this.sy+this.ty;return new rs(B,le)},ht.prototype.applyToRectangle=function(_){var B=this.applyToPoint(_),le=this.applyToPoint(new rs(_.x+_.w,_.y+_.h));return new xa(B.x,B.y,le.x-B.x,le.y-B.y)},ht.prototype.clone=function(){var _=this.sx,B=this.shy,le=this.shx,ve=this.sy,Se=this.tx,Fe=this.ty;return new ht(_,B,le,ve,Se,Fe)},y.Matrix=ht;var sn=y.matrixMult=function(_,B){return B.multiply(_)},jn=new ht(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=jn;var Tn=function(_,B){if(!Be[_]){var le=(B instanceof eu?"Sh":"P")+(Object.keys(we).length+1).toString(10);B.id=le,Be[_]=le,we[le]=B,gt.publish("addPattern",B)}};y.ShadingPattern=eu,y.TilingPattern=vh,y.addShadingPattern=function(_,B){return R("addShadingPattern()"),Tn(_,B),this},y.beginTilingPattern=function(_){R("beginTilingPattern()"),Po(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},y.endTilingPattern=function(_,B){R("endTilingPattern()"),B.stream=Re[H].join(`
`),Tn(_,B),gt.publish("endTilingPattern",B),Cn.pop().restore()};var Mn,Jt=y.__private__.newObject=function(){var _=En();return Dn(_,!0),_},En=y.__private__.newObjectDeferred=function(){return oe++,me[oe]=function(){return ge},oe},Dn=function(_,B){return B=typeof B=="boolean"&&B,me[_]=ge,B&&U(_+" 0 obj"),_},$i=y.__private__.newAdditionalObject=function(){var _={objId:En(),content:""};return _e.push(_),_},ui=En(),wn=En(),Wn=y.__private__.decodeColorString=function(_){var B=_.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var le=parseFloat(B[0]);B=[le,le,le,"r"]}for(var ve="#",Se=0;Se<3;Se++)ve+=("0"+Math.floor(255*parseFloat(B[Se])).toString(16)).slice(-2);return ve},ji=y.__private__.encodeColorString=function(_){var B;typeof _=="string"&&(_={ch1:_});var le=_.ch1,ve=_.ch2,Se=_.ch3,Fe=_.ch4,Ze=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var vt=new Lw(le);if(vt.ok)le=vt.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var Nt=parseInt(le.substr(1),16);le=Nt>>16&255,ve=Nt>>8&255,Se=255&Nt}if(ve===void 0||Fe===void 0&&le===ve&&ve===Se)B=typeof le=="string"?le+" "+Ze[0]:_.precision===2?E(le/255)+" "+Ze[0]:j(le/255)+" "+Ze[0];else if(Fe===void 0||Bn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return["1.","1.","1.",Ze[1]].join(" ");B=typeof le=="string"?[le,ve,Se,Ze[1]].join(" "):_.precision===2?[E(le/255),E(ve/255),E(Se/255),Ze[1]].join(" "):[j(le/255),j(ve/255),j(Se/255),Ze[1]].join(" ")}else B=typeof le=="string"?[le,ve,Se,Fe,Ze[2]].join(" "):_.precision===2?[E(le),E(ve),E(Se),E(Fe),Ze[2]].join(" "):[j(le),j(ve),j(Se),j(Fe),Ze[2]].join(" ");return B},ur=y.__private__.getFilters=function(){return h},Lr=y.__private__.putStream=function(_){var B=(_=_||{}).data||"",le=_.filters||ur(),ve=_.alreadyAppliedFilters||[],Se=_.addLength1||!1,Fe=B.length,Ze=_.objectId,vt=function(Ii){return Ii};if(m!==null&&Ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(vt=Ri.encryptor(Ze,0));var Nt={};le===!0&&(le=["FlateEncode"]);var Bt=_.additionalKeyValues||[],Gt=(Nt=Tt.API.processDataByFilters!==void 0?Tt.API.processDataByFilters(B,le):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(Nt.data.length!==0&&(Bt.push({key:"Length",value:Nt.data.length}),Se===!0&&Bt.push({key:"Length1",value:Fe})),Gt.length!=0)if(Gt.split("/").length-1==1)Bt.push({key:"Filter",value:Gt});else{Bt.push({key:"Filter",value:"["+Gt+"]"});for(var un=0;un<Bt.length;un+=1)if(Bt[un].key==="DecodeParms"){for(var ti=[],yi=0;yi<Nt.reverseChain.split("/").length-1;yi+=1)ti.push("null");ti.push(Bt[un].value),Bt[un].value="["+ti.join(" ")+"]"}}U("<<");for(var qn=0;qn<Bt.length;qn++)U("/"+Bt[qn].key+" "+Bt[qn].value);U(">>"),Nt.data.length!==0&&(U("stream"),U(vt(Nt.data)),U("endstream"))},ga=y.__private__.putPage=function(_){var B=_.number,le=_.data,ve=_.objId,Se=_.contentsObjId;Dn(ve,!0),U("<</Type /Page"),U("/Parent "+_.rootDictionaryObjId+" 0 R"),U("/Resources "+_.resourceDictionaryObjId+" 0 R"),U("/MediaBox ["+parseFloat(D(_.mediaBox.bottomLeftX))+" "+parseFloat(D(_.mediaBox.bottomLeftY))+" "+D(_.mediaBox.topRightX)+" "+D(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&U("/CropBox ["+D(_.cropBox.bottomLeftX)+" "+D(_.cropBox.bottomLeftY)+" "+D(_.cropBox.topRightX)+" "+D(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&U("/BleedBox ["+D(_.bleedBox.bottomLeftX)+" "+D(_.bleedBox.bottomLeftY)+" "+D(_.bleedBox.topRightX)+" "+D(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&U("/TrimBox ["+D(_.trimBox.bottomLeftX)+" "+D(_.trimBox.bottomLeftY)+" "+D(_.trimBox.topRightX)+" "+D(_.trimBox.topRightY)+"]"),_.artBox!==null&&U("/ArtBox ["+D(_.artBox.bottomLeftX)+" "+D(_.artBox.bottomLeftY)+" "+D(_.artBox.topRightX)+" "+D(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&U("/UserUnit "+_.userUnit),gt.publish("putPage",{objId:ve,pageContext:Je[B],pageNumber:B,page:le}),U("/Contents "+Se+" 0 R"),U(">>"),U("endobj");var Fe=le.join(`
`);return V===z&&(Fe+=`
Q`),Dn(Se,!0),Lr({data:Fe,filters:ur(),objectId:Se}),U("endobj"),ve},Pr=y.__private__.putPages=function(){var _,B,le=[];for(_=1;_<=et;_++)Je[_].objId=En(),Je[_].contentsObjId=En();for(_=1;_<=et;_++)le.push(ga({number:_,data:Re[_],objId:Je[_].objId,contentsObjId:Je[_].contentsObjId,mediaBox:Je[_].mediaBox,cropBox:Je[_].cropBox,bleedBox:Je[_].bleedBox,trimBox:Je[_].trimBox,artBox:Je[_].artBox,userUnit:Je[_].userUnit,rootDictionaryObjId:ui,resourceDictionaryObjId:wn}));Dn(ui,!0),U("<</Type /Pages");var ve="/Kids [";for(B=0;B<et;B++)ve+=le[B]+" 0 R ";U(ve+"]"),U("/Count "+et),U(">>"),U("endobj"),gt.publish("postPutPages")},Ur=function(_){gt.publish("putFont",{font:_,out:U,newObject:Jt,putStream:Lr}),_.isAlreadyPutted!==!0&&(_.objectNumber=Jt(),U("<<"),U("/Type /Font"),U("/BaseFont /"+hh(_.postScriptName)),U("/Subtype /Type1"),typeof _.encoding=="string"&&U("/Encoding /"+_.encoding),U("/FirstChar 32"),U("/LastChar 255"),U(">>"),U("endobj"))},Xs=function(_){_.objectNumber=Jt();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[D(_.x),D(_.y),D(_.x+_.width),D(_.y+_.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var le=_.pages[1].join(`
`);Lr({data:le,additionalKeyValues:B,objectId:_.objectNumber}),U("endobj")},Cs=function(_,B){B||(B=21);var le=Jt(),ve=(function(Ze,vt){var Nt,Bt=[],Gt=1/(vt-1);for(Nt=0;Nt<1;Nt+=Gt)Bt.push(Nt);if(Bt.push(1),Ze[0].offset!=0){var un={offset:0,color:Ze[0].color};Ze.unshift(un)}if(Ze[Ze.length-1].offset!=1){var ti={offset:1,color:Ze[Ze.length-1].color};Ze.push(ti)}for(var yi="",qn=0,Ii=0;Ii<Bt.length;Ii++){for(Nt=Bt[Ii];Nt>Ze[qn+1].offset;)qn++;var Ai=Ze[qn].offset,er=(Nt-Ai)/(Ze[qn+1].offset-Ai),Ca=Ze[qn].color,Ms=Ze[qn+1].color;yi+=ie(Math.round((1-er)*Ca[0]+er*Ms[0]).toString(16))+ie(Math.round((1-er)*Ca[1]+er*Ms[1]).toString(16))+ie(Math.round((1-er)*Ca[2]+er*Ms[2]).toString(16))}return yi.trim()})(_.colors,B),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+B+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Lr({data:ve,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),U("endobj"),_.objectNumber=Jt(),U("<< /ShadingType "+_.type),U("/ColorSpace /DeviceRGB");var Fe="/Coords ["+D(parseFloat(_.coords[0]))+" "+D(parseFloat(_.coords[1]))+" ";_.type===2?Fe+=D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3])):Fe+=D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3]))+" "+D(parseFloat(_.coords[4]))+" "+D(parseFloat(_.coords[5])),U(Fe+="]"),_.matrix&&U("/Matrix ["+_.matrix.toString()+"]"),U("/Function "+le+" 0 R"),U("/Extend [true true]"),U(">>"),U("endobj")},Ts=function(_,B){var le=En(),ve=Jt();B.push({resourcesOid:le,objectOid:ve}),_.objectNumber=ve;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+_.boundingBox.map(D).join(" ")+"]"}),Se.push({key:"XStep",value:D(_.xStep)}),Se.push({key:"YStep",value:D(_.yStep)}),Se.push({key:"Resources",value:le+" 0 R"}),_.matrix&&Se.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Lr({data:_.stream,additionalKeyValues:Se,objectId:_.objectNumber}),U("endobj")},Vo=function(_){for(var B in _.objectNumber=Jt(),U("<<"),_)switch(B){case"opacity":U("/ca "+E(_[B]));break;case"stroke-opacity":U("/CA "+E(_[B]))}U(">>"),U("endobj")},Zs=function(_){Dn(_.resourcesOid,!0),U("<<"),U("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var B in U("/Font <<"),St)St.hasOwnProperty(B)&&(b===!1||b===!0&&w.hasOwnProperty(B))&&U("/"+B+" "+St[B].objectNumber+" 0 R");U(">>")})(),(function(){if(Object.keys(we).length>0){for(var B in U("/Shading <<"),we)we.hasOwnProperty(B)&&we[B]instanceof eu&&we[B].objectNumber>=0&&U("/"+B+" "+we[B].objectNumber+" 0 R");gt.publish("putShadingPatternDict"),U(">>")}})(),(function(B){if(Object.keys(we).length>0){for(var le in U("/Pattern <<"),we)we.hasOwnProperty(le)&&we[le]instanceof y.TilingPattern&&we[le].objectNumber>=0&&we[le].objectNumber<B&&U("/"+le+" "+we[le].objectNumber+" 0 R");gt.publish("putTilingPatternDict"),U(">>")}})(_.objectOid),(function(){if(Object.keys(qe).length>0){var B;for(B in U("/ExtGState <<"),qe)qe.hasOwnProperty(B)&&qe[B].objectNumber>=0&&U("/"+B+" "+qe[B].objectNumber+" 0 R");gt.publish("putGStateDict"),U(">>")}})(),(function(){for(var B in U("/XObject <<"),$t)$t.hasOwnProperty(B)&&$t[B].objectNumber>=0&&U("/"+B+" "+$t[B].objectNumber+" 0 R");gt.publish("putXobjectDict"),U(">>")})(),U(">>"),U("endobj")},vi=function(_){At[_.fontName]=At[_.fontName]||{},At[_.fontName][_.fontStyle]=_.id},bc=function(_,B,le,ve,Se){var Fe={id:"F"+(Object.keys(St).length+1).toString(10),postScriptName:_,fontName:B,fontStyle:le,encoding:ve,isStandardFont:Se||!1,metadata:{}};return gt.publish("addFont",{font:Fe,instance:this}),St[Fe.id]=Fe,vi(Fe),Fe.id},Hr=y.__private__.pdfEscape=y.pdfEscape=function(_,B){return(function(le,ve){var Se,Fe,Ze,vt,Nt,Bt,Gt,un,ti;if(Ze=(ve=ve||{}).sourceEncoding||"Unicode",Nt=ve.outputEncoding,(ve.autoencode||Nt)&&St[ot].metadata&&St[ot].metadata[Ze]&&St[ot].metadata[Ze].encoding&&(vt=St[ot].metadata[Ze].encoding,!Nt&&St[ot].encoding&&(Nt=St[ot].encoding),!Nt&&vt.codePages&&(Nt=vt.codePages[0]),typeof Nt=="string"&&(Nt=vt[Nt]),Nt)){for(Gt=!1,Bt=[],Se=0,Fe=le.length;Se<Fe;Se++)(un=Nt[le.charCodeAt(Se)])?Bt.push(String.fromCharCode(un)):Bt.push(le[Se]),Bt[Se].charCodeAt(0)>>8&&(Gt=!0);le=Bt.join("")}for(Se=le.length;Gt===void 0&&Se!==0;)le.charCodeAt(Se-1)>>8&&(Gt=!0),Se--;if(!Gt)return le;for(Bt=ve.noBOM?[]:[254,255],Se=0,Fe=le.length;Se<Fe;Se++){if((ti=(un=le.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bt.push(ti),Bt.push(un-(ti<<8))}return String.fromCharCode.apply(void 0,Bt)})(_,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Es=y.__private__.beginPage=function(_){Re[++et]=[],Je[et]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},_c(et),Qe(Re[H])},va=function(_,B){var le,ve,Se;switch(t=B||t,typeof _=="string"&&(le=C(_.toLowerCase()),Array.isArray(le)&&(ve=le[0],Se=le[1])),Array.isArray(_)&&(ve=_[0]*xt,Se=_[1]*xt),isNaN(ve)&&(ve=a[0],Se=a[1]),(ve>14400||Se>14400)&&(Qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Se=Math.min(14400,Se)),a=[ve,Se],t.substr(0,1)){case"l":Se>ve&&(a=[Se,ve]);break;case"p":ve>Se&&(a=[Se,ve])}Es(a),jt(qo),U(Wr),Nl!==0&&U(Nl+" J"),Ui!==0&&U(Ui+" j"),gt.publish("addPage",{pageNumber:et})},xc=function(_){_>0&&_<=et&&(Re.splice(_,1),Je.splice(_,1),et--,H>et&&(H=et),this.setPage(H))},_c=function(_){_>0&&_<=et&&(H=_)},wc=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Re.length-1},mu=function(_,B,le){var ve,Se=void 0;return le=le||{},_=_!==void 0?_:St[ot].fontName,B=B!==void 0?B:St[ot].fontStyle,ve=_.toLowerCase(),At[ve]!==void 0&&At[ve][B]!==void 0?Se=At[ve][B]:At[_]!==void 0&&At[_][B]!==void 0?Se=At[_][B]:le.disableWarning===!1&&Qn.warn("Unable to look up font label for font '"+_+"', '"+B+"'. Refer to getFontList() for available fonts."),Se||le.noFallback||(Se=At.times[B])==null&&(Se=At.times.normal),Se},Gr=y.__private__.putInfo=function(){var _=Jt(),B=function(ve){return ve};for(var le in m!==null&&(B=Ri.encryptor(_,0)),U("<<"),U("/Producer ("+Hr(B("jsPDF "+Tt.version))+")"),bt)bt.hasOwnProperty(le)&&bt[le]&&U("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+Hr(B(bt[le]))+")");U("/CreationDate ("+Hr(B(ue))+")"),U(">>"),U("endobj")},ya=y.__private__.putCatalog=function(_){var B=(_=_||{}).rootDictionaryObjId||ui;switch(Jt(),U("<<"),U("/Type /Catalog"),U("/Pages "+B+" 0 R"),tt||(tt="fullwidth"),tt){case"fullwidth":U("/OpenAction [3 0 R /FitH null]");break;case"fullheight":U("/OpenAction [3 0 R /FitV null]");break;case"fullpage":U("/OpenAction [3 0 R /Fit]");break;case"original":U("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+tt;le.substr(le.length-1)==="%"&&(tt=parseInt(tt)/100),typeof tt=="number"&&U("/OpenAction [3 0 R /XYZ null null "+E(tt)+"]")}switch(Ge||(Ge="continuous"),Ge){case"continuous":U("/PageLayout /OneColumn");break;case"single":U("/PageLayout /SinglePage");break;case"two":case"twoleft":U("/PageLayout /TwoColumnLeft");break;case"tworight":U("/PageLayout /TwoColumnRight")}pt&&U("/PageMode /"+pt),gt.publish("putCatalog"),U(">>"),U("endobj")},ks=y.__private__.putTrailer=function(){U("trailer"),U("<<"),U("/Size "+(oe+1)),U("/Root "+oe+" 0 R"),U("/Info "+(oe-1)+" 0 R"),m!==null&&U("/Encrypt "+Ri.oid+" 0 R"),U("/ID [ <"+$+"> <"+$+"> ]"),U(">>")},bn=y.__private__.putHeader=function(){U("%PDF-"+A),U("%")},Sc=y.__private__.putXRef=function(){var _="0000000000";U("xref"),U("0 "+(oe+1)),U("0000000000 65535 f ");for(var B=1;B<=oe;B++)typeof me[B]=="function"?U((_+me[B]()).slice(-10)+" 00000 n "):me[B]!==void 0?U((_+me[B]).slice(-10)+" 00000 n "):U("0000000000 00000 n ")},Ks=y.__private__.buildDocument=function(){var _;oe=0,ge=0,de=[],me=[],_e=[],ui=En(),wn=En(),Qe(de),gt.publish("buildDocument"),bn(),Pr(),(function(){gt.publish("putAdditionalObjects");for(var le=0;le<_e.length;le++){var ve=_e[le];Dn(ve.objId,!0),U(ve.content),U("endobj")}gt.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var le in St)St.hasOwnProperty(le)&&(b===!1||b===!0&&w.hasOwnProperty(le))&&Ur(St[le])})(),(function(){var le;for(le in qe)qe.hasOwnProperty(le)&&Vo(qe[le])})(),(function(){for(var le in $t)$t.hasOwnProperty(le)&&Xs($t[le])})(),(function(le){var ve;for(ve in we)we.hasOwnProperty(ve)&&(we[ve]instanceof eu?Cs(we[ve]):we[ve]instanceof vh&&Ts(we[ve],le))})(_),gt.publish("putResources"),_.forEach(Zs),Zs({resourcesOid:wn,objectOid:Number.MAX_SAFE_INTEGER}),gt.publish("postPutResources"),m!==null&&(Ri.oid=Jt(),U("<<"),U("/Filter /Standard"),U("/V "+Ri.v),U("/R "+Ri.r),U("/U <"+Ri.toHexString(Ri.U)+">"),U("/O <"+Ri.toHexString(Ri.O)+">"),U("/P "+Ri.P),U(">>"),U("endobj")),Gr(),ya();var B=ge;return Sc(),ks(),U("startxref"),U(""+B),U("%%EOF"),Qe(Re[H]),de.join(`
`)},ao=y.__private__.getBlob=function(_){return new Blob([ut(_)],{type:"application/pdf"})},Ac=y.output=y.__private__.output=(Mn=function(_,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",_){case void 0:return Ks();case"save":y.save(B.filename);break;case"arraybuffer":return ut(Ks());case"blob":return ao(Ks());case"bloburi":case"bloburl":if(Pt.URL!==void 0&&typeof Pt.URL.createObjectURL=="function")return Pt.URL&&Pt.URL.createObjectURL(ao(Ks()))||void 0;Qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",ve=Ks();try{le=_b(ve)}catch{le=_b(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+B.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(Se=B.pdfObjectUrl,Fe="");var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",vt=Pt.open();return vt!==null&&vt.document.write(Ze),vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',Bt=Pt.open();if(Bt!==null){Bt.document.write(Nt);var Gt=this;Bt.document.documentElement.querySelector("#pdfViewer").onload=function(){Bt.document.title=B.filename,Bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Gt.output("bloburl"))}}return Bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',ti=Pt.open();if(ti!==null&&(ti.document.write(un),ti.document.title=B.filename),ti||typeof safari>"u")return ti;break;case"datauri":case"dataurl":return Pt.document.location.href=this.output("datauristring",B);default:return null}},Mn.foo=function(){try{return Mn.apply(this,arguments)}catch(le){var _=le.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var B="Error in function "+_.split(`
`)[0].split("<")[0]+": "+le.message;if(!Pt.console)throw new Error(B);Pt.console.error(B,le),Pt.alert&&alert(B)}},Mn.foo.bar=Mn,Mn.foo),xr=function(_){return Array.isArray(Nn)===!0&&Nn.indexOf(_)>-1};switch(r){case"pt":xt=1;break;case"mm":xt=72/25.4;break;case"cm":xt=72/2.54;break;case"in":xt=72;break;case"px":xt=xr("px_scaling")==1?.75:96/72;break;case"pc":case"em":xt=12;break;case"ex":xt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);xt=r}var Ri=null;X(),ce();var Si=y.__private__.getPageInfo=y.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Je[_].objId,pageNumber:_,pageContext:Je[_]}},Sl=y.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in Je)if(Je[B].objId===_)break;return Si(B)},gu=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Je[H].objId,pageNumber:H,pageContext:Je[H]}};y.addPage=function(){return va.apply(this,arguments),this},y.setPage=function(){return _c.apply(this,arguments),Qe.call(this,Re[H]),this},y.insertPage=function(_){return this.addPage(),this.movePage(H,_),this},y.movePage=function(_,B){var le,ve;if(_>B){le=Re[_],ve=Je[_];for(var Se=_;Se>B;Se--)Re[Se]=Re[Se-1],Je[Se]=Je[Se-1];Re[B]=le,Je[B]=ve,this.setPage(B)}else if(_<B){le=Re[_],ve=Je[_];for(var Fe=_;Fe<B;Fe++)Re[Fe]=Re[Fe+1],Je[Fe]=Je[Fe+1];Re[B]=le,Je[B]=ve,this.setPage(B)}return this},y.deletePage=function(){return xc.apply(this,arguments),this},y.__private__.text=y.text=function(_,B,le,ve,Se){var Fe,Ze,vt,Nt,Bt,Gt,un,ti,yi,qn=(ve=ve||{}).scope||this;if(typeof _=="number"&&typeof B=="number"&&(typeof le=="string"||Array.isArray(le))){var Ii=le;le=B,B=_,_=Ii}if(arguments[3]instanceof ht==0?(vt=arguments[4],Nt=arguments[5],Bn(un=arguments[3])==="object"&&un!==null||(typeof vt=="string"&&(Nt=vt,vt=null),typeof un=="string"&&(Nt=un,un=null),typeof un=="number"&&(vt=un,un=null),ve={flags:un,angle:vt,align:Nt})):(R("The transform parameter of text() with a Matrix value"),yi=Se),isNaN(B)||isNaN(le)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return qn;var Ai,er="",Ca=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:ba,Ms=qn.internal.scaleFactor;function Ta(xn){return xn=xn.split("	").join(Array(ve.TabLen||9).join(" ")),Hr(xn,un)}function Dc(xn){for(var hn,zn=xn.concat(),xi=[],aa=zn.length;aa--;)typeof(hn=zn.shift())=="string"?xi.push(hn):Array.isArray(xn)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?xi.push(hn[0]):xi.push([hn[0],hn[1],hn[2]]);return xi}function Tl(xn,hn){var zn;if(typeof xn=="string")zn=hn(xn)[0];else if(Array.isArray(xn)){for(var xi,aa,Is=xn.concat(),Yo=[],Ic=Is.length;Ic--;)typeof(xi=Is.shift())=="string"?Yo.push(hn(xi)[0]):Array.isArray(xi)&&typeof xi[0]=="string"&&(aa=hn(xi[0],xi[1],xi[2]),Yo.push([aa[0],aa[1],aa[2]]));zn=Yo}return zn}var Js=!1,Ds=!0;if(typeof _=="string")Js=!0;else if(Array.isArray(_)){var Ho=_.concat();Ze=[];for(var Ea,Hi=Ho.length;Hi--;)(typeof(Ea=Ho.shift())!="string"||Array.isArray(Ea)&&typeof Ea[0]!="string")&&(Ds=!1);Js=Ds}if(Js===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var lo=Me/qn.internal.scaleFactor,co=lo*(Ca-1);switch(ve.baseline){case"bottom":le-=co;break;case"top":le+=lo-co;break;case"hanging":le+=lo-2*co;break;case"middle":le+=lo/2-co}if((Gt=ve.maxWidth||0)>0&&(typeof _=="string"?_=qn.splitTextToSize(_,Gt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(xn,hn){return xn.concat(qn.splitTextToSize(hn,Gt))},[]))),Fe={text:_,x:B,y:le,options:ve,mutex:{pdfEscape:Hr,activeFontKey:ot,fonts:St,activeFontSize:Me}},gt.publish("preProcessText",Fe),_=Fe.text,vt=(ve=Fe.options).angle,yi instanceof ht==0&&vt&&typeof vt=="number"){vt*=Math.PI/180,ve.rotationDirection===0&&(vt=-vt),V===z&&(vt=-vt);var El=Math.cos(vt),ea=Math.sin(vt);yi=new ht(El,ea,-ea,El,0,0)}else vt&&vt instanceof ht&&(yi=vt);V!==z||yi||(yi=jn),(Bt=ve.charSpace||is)!==void 0&&(er+=D(P(Bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ti=ve.horizontalScale)!==void 0&&(er+=D(100*ti)+` Tz
`),ve.lang;var wr=-1,ka=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,kl=qn.internal.getCurrentPageInfo().pageContext;switch(ka){case 0:case!1:case"fill":wr=0;break;case 1:case!0:case"stroke":wr=1;break;case 2:case"fillThenStroke":wr=2;break;case 3:case"invisible":wr=3;break;case 4:case"fillAndAddForClipping":wr=4;break;case 5:case"strokeAndAddPathForClipping":wr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":wr=6;break;case 7:case"addToPathForClipping":wr=7}var jc=kl.usedRenderingMode!==void 0?kl.usedRenderingMode:-1;wr!==-1?er+=wr+` Tr
`:jc!==-1&&(er+=`0 Tr
`),wr!==-1&&(kl.usedRenderingMode=wr),Nt=ve.align||"left";var Xr,js=Me*Ca,Oa=qn.internal.pageSize.getWidth(),Rc=St[ot];Bt=ve.charSpace||is,Gt=ve.maxWidth||0,un=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Rs=[],uo=function(xn){return qn.getStringUnitWidth(xn,{font:Rc,charSpace:Bt,fontSize:Me,doKerning:!1})*Me/Ms};if(Object.prototype.toString.call(_)==="[object Array]"){var Dr;Ze=Dc(_),Nt!=="left"&&(Xr=Ze.map(uo));var Sr,ta=0;if(Nt==="right"){B-=Xr[0],_=[],Hi=Ze.length;for(var na=0;na<Hi;na++)na===0?(Sr=Yr(B),Dr=Ji(le)):(Sr=P(ta-Xr[na]),Dr=-js),_.push([Ze[na],Sr,Dr]),ta=Xr[na]}else if(Nt==="center"){B-=Xr[0]/2,_=[],Hi=Ze.length;for(var La=0;La<Hi;La++)La===0?(Sr=Yr(B),Dr=Ji(le)):(Sr=P((ta-Xr[La])/2),Dr=-js),_.push([Ze[La],Sr,Dr]),ta=Xr[La]}else if(Nt==="left"){_=[],Hi=Ze.length;for(var Ol=0;Ol<Hi;Ol++)_.push(Ze[Ol])}else if(Nt==="justify"&&Rc.encoding==="Identity-H"){_=[],Hi=Ze.length,Gt=Gt!==0?Gt:Oa;for(var Ll=0,bi=0;bi<Hi;bi++)if(Dr=bi===0?Ji(le):-js,Sr=bi===0?Yr(B):Ll,bi<Hi-1){var Nu=P((Gt-Xr[bi])/(Ze[bi].split(" ").length-1)),ia=Ze[bi].split(" ");_.push([ia[0]+" ",Sr,Dr]),Ll=0;for(var ra=1;ra<ia.length;ra++){var tr=(uo(ia[ra-1]+" "+ia[ra])-uo(ia[ra]))*Ms+Nu;ra==ia.length-1?_.push([ia[ra],tr,0]):_.push([ia[ra]+" ",tr,0]),Ll-=tr}}else _.push([Ze[bi],Sr,Dr]);_.push(["",Ll,0])}else{if(Nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Hi=Ze.length,Gt=Gt!==0?Gt:Oa,bi=0;bi<Hi;bi++){Dr=bi===0?Ji(le):-js,Sr=bi===0?Yr(B):0;var Ma=Ze[bi].split(" ").length-1,Ml=Ma>0?(Gt-Xr[bi])/Ma:0;bi<Hi-1?Rs.push(D(P(Ml))):Rs.push(0),_.push([Ze[bi],Sr,Dr])}}}(typeof ve.R2L=="boolean"?ve.R2L:lt)===!0&&(_=Tl(_,function(xn,hn,zn){return[xn.split("").reverse().join(""),hn,zn]})),Fe={text:_,x:B,y:le,options:ve,mutex:{pdfEscape:Hr,activeFontKey:ot,fonts:St,activeFontSize:Me}},gt.publish("postProcessText",Fe),_=Fe.text,Ai=Fe.mutex.isHex||!1;var Dl=St[ot].encoding;Dl!=="WinAnsiEncoding"&&Dl!=="StandardEncoding"||(_=Tl(_,function(xn,hn,zn){return[Ta(xn),hn,zn]})),Ze=Dc(_),_=[];for(var Da,ja,sa,Go=Array.isArray(Ze[0])?1:0,Zr="",Ra=function(xn,hn,zn){var xi="";return zn instanceof ht?(zn=typeof ve.angle=="number"?sn(zn,new ht(1,0,0,1,xn,hn)):sn(new ht(1,0,0,1,xn,hn),zn),V===z&&(zn=sn(new ht(1,0,0,-1,0,0),zn)),xi=zn.join(" ")+` Tm
`):xi=D(xn)+" "+D(hn)+` Td
`,xi},hr=0;hr<Ze.length;hr++){switch(Zr="",Go){case 1:sa=(Ai?"<":"(")+Ze[hr][0]+(Ai?">":")"),Da=parseFloat(Ze[hr][1]),ja=parseFloat(Ze[hr][2]);break;case 0:sa=(Ai?"<":"(")+Ze[hr]+(Ai?">":")"),Da=Yr(B),ja=Ji(le)}Rs!==void 0&&Rs[hr]!==void 0&&(Zr=Rs[hr]+` Tw
`),hr===0?_.push(Zr+Ra(Da,ja,yi)+sa):Go===0?_.push(Zr+sa):Go===1&&_.push(Zr+Ra(Da,ja,yi)+sa)}_=Go===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var ss=`BT
/`;return ss+=ot+" "+Me+` Tf
`,ss+=D(Me*Ca)+` TL
`,ss+=Qs+`
`,ss+=er,ss+=_,U(ss+="ET"),w[ot]=!0,qn};var Nc=y.__private__.clip=y.clip=function(_){return U(_==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Nc("evenodd")},y.__private__.discardPath=y.discardPath=function(){return U("n"),this};var _r=y.__private__.isValidStyle=function(_){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(B=!0),B};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(_){return _r(_)&&(d=_),this};var Cc=y.__private__.getStyle=y.getStyle=function(_){var B=d;switch(_){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=_}return B},Tc=y.close=function(){return U("h"),this};y.stroke=function(){return U("S"),this},y.fill=function(_){return Os("f",_),this},y.fillEvenOdd=function(_){return Os("f*",_),this},y.fillStroke=function(_){return Os("B",_),this},y.fillStrokeEvenOdd=function(_){return Os("B*",_),this};var Os=function(_,B){Bn(B)==="object"?yu(B,_):U(_)},Bo=function(_){_===null||V===z&&_===void 0||(_=Cc(_),U(_))};function vu(_,B,le,ve,Se){var Fe=new vh(B||this.boundingBox,le||this.xStep,ve||this.yStep,this.gState,Se||this.matrix);Fe.stream=this.stream;var Ze=_+"$$"+this.cloneIndex+++"$$";return Tn(Ze,Fe),Fe}var yu=function(_,B){var le=Be[_.key],ve=we[le];if(ve instanceof eu)U("q"),U(Ec(B)),ve.gState&&y.setGState(ve.gState),U(_.matrix.toString()+" cm"),U("/"+le+" sh"),U("Q");else if(ve instanceof vh){var Se=new ht(1,0,0,-1,0,Na());_.matrix&&(Se=Se.multiply(_.matrix||jn),le=vu.call(ve,_.key,_.boundingBox,_.xStep,_.yStep,Se).id),U("q"),U("/Pattern cs"),U("/"+le+" scn"),ve.gState&&y.setGState(ve.gState),U(B),U("Q")}},Ec=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},kc=y.moveTo=function(_,B){return U(D(P(_))+" "+D(J(B))+" m"),this},bu=y.lineTo=function(_,B){return U(D(P(_))+" "+D(J(B))+" l"),this},Mr=y.curveTo=function(_,B,le,ve,Se,Fe){return U([D(P(_)),D(J(B)),D(P(le)),D(J(ve)),D(P(Se)),D(J(Fe)),"c"].join(" ")),this};y.__private__.line=y.line=function(_,B,le,ve,Se){if(isNaN(_)||isNaN(B)||isNaN(le)||isNaN(ve)||!_r(Se))throw new Error("Invalid arguments passed to jsPDF.line");return V===F?this.lines([[le-_,ve-B]],_,B,[1,1],Se||"S"):this.lines([[le-_,ve-B]],_,B,[1,1]).stroke()},y.__private__.lines=y.lines=function(_,B,le,ve,Se,Fe){var Ze,vt,Nt,Bt,Gt,un,ti,yi,qn,Ii,Ai,er;if(typeof _=="number"&&(er=le,le=B,B=_,_=er),ve=ve||[1,1],Fe=Fe||!1,isNaN(B)||isNaN(le)||!Array.isArray(_)||!Array.isArray(ve)||!_r(Se)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(kc(B,le),Ze=ve[0],vt=ve[1],Bt=_.length,Ii=B,Ai=le,Nt=0;Nt<Bt;Nt++)(Gt=_[Nt]).length===2?(Ii=Gt[0]*Ze+Ii,Ai=Gt[1]*vt+Ai,bu(Ii,Ai)):(un=Gt[0]*Ze+Ii,ti=Gt[1]*vt+Ai,yi=Gt[2]*Ze+Ii,qn=Gt[3]*vt+Ai,Ii=Gt[4]*Ze+Ii,Ai=Gt[5]*vt+Ai,Mr(un,ti,yi,qn,Ii,Ai));return Fe&&Tc(),Bo(Se),this},y.path=function(_){for(var B=0;B<_.length;B++){var le=_[B],ve=le.c;switch(le.op){case"m":kc(ve[0],ve[1]);break;case"l":bu(ve[0],ve[1]);break;case"c":Mr.apply(this,ve);break;case"h":Tc()}}return this},y.__private__.rect=y.rect=function(_,B,le,ve,Se){if(isNaN(_)||isNaN(B)||isNaN(le)||isNaN(ve)||!_r(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return V===F&&(ve=-ve),U([D(P(_)),D(J(B)),D(P(le)),D(P(ve)),"re"].join(" ")),Bo(Se),this},y.__private__.triangle=y.triangle=function(_,B,le,ve,Se,Fe,Ze){if(isNaN(_)||isNaN(B)||isNaN(le)||isNaN(ve)||isNaN(Se)||isNaN(Fe)||!_r(Ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-_,ve-B],[Se-le,Fe-ve],[_-Se,B-Fe]],_,B,[1,1],Ze,!0),this},y.__private__.roundedRect=y.roundedRect=function(_,B,le,ve,Se,Fe,Ze){if(isNaN(_)||isNaN(B)||isNaN(le)||isNaN(ve)||isNaN(Se)||isNaN(Fe)||!_r(Ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var vt=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*le),Fe=Math.min(Fe,.5*ve),this.lines([[le-2*Se,0],[Se*vt,0,Se,Fe-Fe*vt,Se,Fe],[0,ve-2*Fe],[0,Fe*vt,-Se*vt,Fe,-Se,Fe],[2*Se-le,0],[-Se*vt,0,-Se,-Fe*vt,-Se,-Fe],[0,2*Fe-ve],[0,-Fe*vt,Se*vt,-Fe,Se,-Fe]],_+Se,B,[1,1],Ze,!0),this},y.__private__.ellipse=y.ellipse=function(_,B,le,ve,Se){if(isNaN(_)||isNaN(B)||isNaN(le)||isNaN(ve)||!_r(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*le,Ze=4/3*(Math.SQRT2-1)*ve;return kc(_+le,B),Mr(_+le,B-Ze,_+Fe,B-ve,_,B-ve),Mr(_-Fe,B-ve,_-le,B-Ze,_-le,B),Mr(_-le,B+Ze,_-Fe,B+ve,_,B+ve),Mr(_+Fe,B+ve,_+le,B+Ze,_+le,B),Bo(Se),this},y.__private__.circle=y.circle=function(_,B,le,ve){if(isNaN(_)||isNaN(B)||isNaN(le)||!_r(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,B,le,le,ve)},y.setFont=function(_,B,le){return le&&(B=G(B,le)),ot=mu(_,B,{disableWarning:!1}),this};var Ls=y.__private__.getFont=y.getFont=function(){return St[mu.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var _,B,le={};for(_ in At)if(At.hasOwnProperty(_))for(B in le[_]=[],At[_])At[_].hasOwnProperty(B)&&le[_].push(B);return le},y.addFont=function(_,B,le,ve,Se){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(le=G(le,ve)),bc.call(this,_,B,le,Se=Se||"Identity-H")};var ba,qo=i.lineWidth||.200025,oo=y.__private__.getLineWidth=y.getLineWidth=function(){return qo},jt=y.__private__.setLineWidth=y.setLineWidth=function(_){return qo=_,U(D(P(_))+" w"),this};y.__private__.setLineDash=Tt.API.setLineDash=Tt.API.setLineDashPattern=function(_,B){if(_=_||[],B=B||0,isNaN(B)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(le){return D(P(le))}).join(" "),B=D(P(B)),U("["+_+"] "+B+" d"),this};var xu=y.__private__.getLineHeight=y.getLineHeight=function(){return Me*ba};y.__private__.getLineHeight=y.getLineHeight=function(){return Me*ba};var Oc=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(ba=_),this},_u=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return ba};Oc(i.lineHeight);var Yr=y.__private__.getHorizontalCoordinate=function(_){return P(_)},Ji=y.__private__.getVerticalCoordinate=function(_){return V===z?_:Je[H].mediaBox.topRightY-Je[H].mediaBox.bottomLeftY-P(_)},Lc=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(_){return D(Yr(_))},zo=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(_){return D(Ji(_))},Wr=i.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Wn(Wr)},y.__private__.setStrokeColor=y.setDrawColor=function(_,B,le,ve){return Wr=ji({ch1:_,ch2:B,ch3:le,ch4:ve,pdfColorType:"draw",precision:2}),U(Wr),this};var Fo=i.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Wn(Fo)},y.__private__.setFillColor=y.setFillColor=function(_,B,le,ve){return Fo=ji({ch1:_,ch2:B,ch3:le,ch4:ve,pdfColorType:"fill",precision:2}),U(Fo),this};var Qs=i.textColor||"0 g",wu=y.__private__.getTextColor=y.getTextColor=function(){return Wn(Qs)};y.__private__.setTextColor=y.setTextColor=function(_,B,le,ve){return Qs=ji({ch1:_,ch2:B,ch3:le,ch4:ve,pdfColorType:"text",precision:3}),this};var is=i.charSpace,Al=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(is||0)};y.__private__.setCharSpace=y.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return is=_,this};var Nl=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(_){var B=y.CapJoinStyles[_];if(B===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nl=B,U(B+" J"),this};var Ui=0;y.__private__.setLineJoin=y.setLineJoin=function(_){var B=y.CapJoinStyles[_];if(B===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ui=B,U(B+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return U(D(P(_))+" M"),this},y.GState=a1,y.setGState=function(_){(_=typeof _=="string"?qe[rt[_]]:$s(null,_)).equals(Et)||(U("/"+_.id+" gs"),Et=_)};var $s=function(_,B){if(!_||!rt[_]){var le=!1;for(var ve in qe)if(qe.hasOwnProperty(ve)&&qe[ve].equals(B)){le=!0;break}if(le)B=qe[ve];else{var Se="GS"+(Object.keys(qe).length+1).toString(10);qe[Se]=B,B.id=Se}return _&&(rt[_]=B.id),gt.publish("addGState",B),B}};y.addGState=function(_,B){return $s(_,B),this},y.saveGraphicsState=function(){return U("q"),zt.push({key:ot,size:Me,color:Qs}),this},y.restoreGraphicsState=function(){U("Q");var _=zt.pop();return ot=_.key,Me=_.size,Qs=_.color,Et=null,this},y.setCurrentTransformationMatrix=function(_){return U(_.toString()+" cm"),this},y.comment=function(_){return U("#"+_),this};var rs=function(_,B){var le=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Fe){isNaN(Fe)||(le=parseFloat(Fe))}});var ve=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Fe){isNaN(Fe)||(ve=parseFloat(Fe))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Fe){Se=Fe.toString()}}),this},xa=function(_,B,le,ve){rs.call(this,_,B),this.type="rect";var Se=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Ze){isNaN(Ze)||(Se=parseFloat(Ze))}});var Fe=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(Ze){isNaN(Ze)||(Fe=parseFloat(Ze))}}),this},Cl=function(){this.page=et,this.currentPage=H,this.pages=Re.slice(0),this.pagesContext=Je.slice(0),this.x=st,this.y=Ut,this.matrix=Dt,this.width=wa(H),this.height=Mc(H),this.outputDestination=He,this.id="",this.objectNumber=-1};Cl.prototype.restore=function(){et=this.page,H=this.currentPage,Je=this.pagesContext,Re=this.pages,st=this.x,Ut=this.y,Dt=this.matrix,Uo(H,this.width),Sa(H,this.height),He=this.outputDestination};var Po=function(_,B,le,ve,Se){Cn.push(new Cl),et=H=0,Re=[],st=_,Ut=B,Dt=Se,Es([le,ve])};for(var _a in y.beginFormObject=function(_,B,le,ve,Se){return Po(_,B,le,ve,Se),this},y.endFormObject=function(_){return(function(B){if(cn[B])Cn.pop().restore();else{var le=new Cl,ve="Xo"+(Object.keys($t).length+1).toString(10);le.id=ve,cn[B]=ve,$t[ve]=le,gt.publish("addFormObject",le),Cn.pop().restore()}})(_),this},y.doFormObject=function(_,B){var le=$t[cn[_]];return U("q"),U(B.toString()+" cm"),U("/"+le.id+" Do"),U("Q"),this},y.getFormObject=function(_){var B=$t[cn[_]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},y.save=function(_,B){return _=_||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?($c(ao(Ks()),_),typeof $c.unload=="function"&&Pt.setTimeout&&setTimeout($c.unload,911),this):new Promise(function(le,ve){try{var Se=$c(ao(Ks()),_);typeof $c.unload=="function"&&Pt.setTimeout&&setTimeout($c.unload,911),le(Se)}catch(Fe){ve(Fe.message)}})},Tt.API)Tt.API.hasOwnProperty(_a)&&(_a==="events"&&Tt.API.events.length?(function(_,B){var le,ve,Se;for(Se=B.length-1;Se!==-1;Se--)le=B[Se][0],ve=B[Se][1],_.subscribe.apply(_,[le].concat(typeof ve=="function"?[ve]:ve))})(gt,Tt.API.events):y[_a]=Tt.API[_a]);function wa(_){return Je[_].mediaBox.topRightX-Je[_].mediaBox.bottomLeftX}function Uo(_,B){Je[_].mediaBox.topRightX=B+Je[_].mediaBox.bottomLeftX}function Mc(_){return Je[_].mediaBox.topRightY-Je[_].mediaBox.bottomLeftY}function Sa(_,B){Je[_].mediaBox.topRightY=B+Je[_].mediaBox.bottomLeftY}var Aa=y.getPageWidth=function(_){return wa(_=_||H)/xt},Su=y.setPageWidth=function(_,B){Uo(_,B*xt)},Na=y.getPageHeight=function(_){return Mc(_=_||H)/xt},Au=y.setPageHeight=function(_,B){Sa(_,B*xt)};return y.internal={pdfEscape:Hr,getStyle:Cc,getFont:Ls,getFontSize:it,getCharSpace:Al,getTextColor:wu,getLineHeight:xu,getLineHeightFactor:_u,getLineWidth:oo,write:De,getHorizontalCoordinate:Yr,getVerticalCoordinate:Ji,getCoordinateString:Lc,getVerticalCoordinateString:zo,collections:{},newObject:Jt,newAdditionalObject:$i,newObjectDeferred:En,newObjectDeferredBegin:Dn,getFilters:ur,putStream:Lr,events:gt,scaleFactor:xt,pageSize:{getWidth:function(){return Aa(H)},setWidth:function(_){Su(H,_)},getHeight:function(){return Na(H)},setHeight:function(_){Au(H,_)}},encryptionOptions:m,encryption:Ri,getEncryptor:function(_){return m!==null?Ri.encryptor(_,0):function(B){return B}},output:Ac,getNumberOfPages:wc,get pages(){return Re},out:U,f2:E,f3:j,getPageInfo:Si,getPageInfoByObjId:Sl,getCurrentPageInfo:gu,getPDFVersion:N,Point:rs,Rectangle:xa,Matrix:ht,hasHotfix:xr},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Aa(H)},set:function(_){Su(H,_)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Na(H)},set:function(_){Au(H,_)},enumerable:!0,configurable:!0}),(function(_){for(var B=0,le=nt.length;B<le;B++){var ve=bc.call(this,_[B][0],_[B][1],_[B][2],nt[B][3],!0);b===!1&&(w[ve]=!0);var Se=_[B][0].split("-");vi({id:ve,fontName:Se[0],fontStyle:Se[1]||""})}gt.publish("addFonts",{fonts:St,dictionary:At})}).call(y,nt),ot="F1",va(a,t),gt.publish("initialized"),y}uh.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},uh.prototype.toHexString=function(i){return i.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uh.prototype.hexToBytes=function(i){for(var e=[],t=0;t<i.length;t+=2)e.push(String.fromCharCode(parseInt(i.substr(t,2),16)));return e.join("")},uh.prototype.processOwnerPassword=function(i,e){return tg(eg(e).substr(0,5),i)},uh.prototype.encryptor=function(i,e){var t=eg(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return tg(t,r)}},a1.prototype.equals=function(i){var e,t="id,objectNumber,equals";if(!i||Bn(i)!==Bn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!i.hasOwnProperty(e)||this[e]!==i[e])return!1;r++}for(e in i)i.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Tt.API={events:[]},Tt.version="3.0.4";var Li=Tt.API,l2=1,pu=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ah=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xt=function(i){return i.toFixed(2)},sc=function(i){return i.toFixed(5)};Li.__acroform__={};var Ns=function(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i},Nb=function(i){return i*l2},Eo=function(i){var e=new Rw,t=wt.internal.getHeight(i)||0,r=wt.internal.getWidth(i)||0;return e.BBox=[0,0,Number(Xt(r)),Number(Xt(t))],e},GO=Li.__acroform__.setBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<e},YO=Li.__acroform__.clearBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<e)},WO=Li.__acroform__.getBit=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<e?1:0},qi=Li.__acroform__.getBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return WO(i,e-1)},zi=Li.__acroform__.setBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return GO(i,e-1)},Fi=Li.__acroform__.clearBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return YO(i,e-1)},XO=Li.__acroform__.calculateCoordinates=function(i,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=i[0],o=i[1],h=i[2],c=i[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=t(a+h)||0,f.upperRight_Y=r(o)||0,[Number(Xt(f.lowerLeft_X)),Number(Xt(f.lowerLeft_Y)),Number(Xt(f.upperRight_X)),Number(Xt(f.upperRight_Y))]},ZO=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var e=[],t=i._V||i.DV,r=ng(i,t),a=i.scope.internal.getFont(i.fontName,i.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(i.scope.__private__.encodeColorString(i.color)),e.push("/"+a+" "+Xt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Eo(i);return o.scope=i.scope,o.stream=e.join(`
`),o}},ng=function(i,e){var t=i.fontSize===0?i.maxFontSize:i.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=i.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var o=t,h=wt.internal.getHeight(i)||0;h=h<0?-h:h;var c=wt.internal.getWidth(i)||0;c=c<0?-c:c;var f=function(E,j,P){if(E+1<a.length){var J=j+" "+a[E+1][0];return xp(J,i,P).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,m,b=xp("3",i,o).height,w=i.multiline?h-o:(h-b)/2,y=w+=2,A=0,N=0,k=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+xp(e,i,o=12).width+", FieldWidth:"+c+`
`;break}for(var C="",F=0,z=0;z<a.length;z++)if(a.hasOwnProperty(z)){var V=!1;if(a[z].length!==1&&k!==a[z].length-1){if((b+2)*(F+2)+2>h)continue e;C+=a[z][k],V=!0,N=z,z--}else{C=(C+=a[z][k]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var I=parseInt(z),Z=f(I,C,o),G=z>=a.length-1;if(Z&&!G){C+=" ",k=0;continue}if(Z||G){if(G)N=I;else if(i.multiline&&(b+2)*(F+2)+2>h)continue e}else{if(!i.multiline||(b+2)*(F+2)+2>h)continue e;N=I}}for(var D="",R=A;R<=N;R++){var K=a[R];if(i.multiline){if(R===N){D+=K[k]+" ",k=(k+1)%K.length;continue}if(R===A){D+=K[K.length-1]+" ";continue}}D+=K[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,m=xp(D,i,o).width,i.textAlign){case"right":d=c-m-2;break;case"center":d=(c-m)/2;break;default:d=2}e+=Xt(d)+" "+Xt(y)+` Td
`,e+="("+pu(D)+`) Tj
`,e+=-Xt(d)+` 0 Td
`,y=-(o+2),m=0,A=V?N:N+1,F++,C=""}break}return r.text=e,r.fontSize=o,r},xp=function(i,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(i,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},KO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},QO=function(i,e){var t={type:"reference",object:i};e.internal.getPageInfo(i.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(i.page).pageContext.annotations.push(t)},$O=function(i,e){if(e.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(ro.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(KO)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");l2=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new Iw,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&QO(o,t)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(t){(function(r,a){var o=!r;for(var h in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(h)){var c=r[h],f=[],d=c.Rect;if(c.Rect&&(c.Rect=XO(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=wt.createDefaultAppearanceStream(c),Bn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=ZO(c);f.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var b="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var y=c.appearanceStreamContent[w];if(b+="/"+w+" ",b+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var h in y)if(y.hasOwnProperty(h)){var A=y[h];typeof A=="function"&&(A=A.call(a,c)),b+="/"+h+" "+A+" ",a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A)}}else typeof(A=y)=="function"&&(A=A.call(a,c)),b+="/"+h+" "+A,a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A);b+=">>"}f.push({key:"AP",value:`<<
`+b+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(N,k){for(var C in N)if(N.hasOwnProperty(C)){var F=C,z=N[C];k.internal.newObjectDeferredBegin(z.objId,!0),Bn(z)==="object"&&typeof z.putStream=="function"&&z.putStream(),delete N[F]}})(a.internal.acroformPlugin.xForms,a)})(t,i)}),i.internal.acroformPlugin.isInitialized=!0}},jw=Li.__acroform__.arrayToPdfArray=function(i,e,t){var r=function(h){return h};if(Array.isArray(i)){for(var a="[",o=0;o<i.length;o++)switch(o!==0&&(a+=" "),Bn(i[o])){case"boolean":case"number":case"object":a+=i[o].toString();break;case"string":i[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+pu(r(i[o].toString()))+")"):a+=i[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},N0=function(i,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(i=i||"").toString(),"("+pu(r(i))+")"},Oo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Oo.prototype.toString=function(){return this.objId+" 0 R"},Oo.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},Oo.prototype.getKeyValueListForStream=function(){var i=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?i.push({key:r,value:jw(a,this.objId,this.scope)}):a instanceof Oo?(a.scope=this.scope,i.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&i.push({key:r,value:a}))}return i};var Rw=function(){Oo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){i=t.trim()},get:function(){return i||null}})};Ns(Rw,Oo);var Iw=function(){Oo.call(this);var i,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+pu(t(i))+")"}},set:function(t){i=t}})};Ns(Iw,Oo);var ro=function i(){Oo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qi(e,3)},set:function(C){C?this.F=zi(e,3):this.F=Fi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof o1)return;o="FieldObject"+i.FieldNum++}var C=function(F){return F};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+pu(C(o))+")"},set:function(C){o=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(C){o=C}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(C){f=C}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/l2:d},set:function(C){d=C}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(C){m=C}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof o1||this instanceof su))return N0(b,this.objId,this.scope)},set:function(C){C=C.toString(),b=C}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof yr==0?N0(w,this.objId,this.scope):w},set:function(C){C=C.toString(),w=this instanceof yr==0?C.substr(0,1)==="("?ah(C.substr(1,C.length-2)):ah(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof yr==1?ah(w.substr(1,w.length-1)):w},set:function(C){C=C.toString(),w=this instanceof yr==1?"/"+C:C}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof yr==0?N0(y,this.objId,this.scope):y},set:function(C){C=C.toString(),y=this instanceof yr==0?C.substr(0,1)==="("?ah(C.substr(1,C.length-2)):ah(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof yr==1?ah(y.substr(1,y.length-1)):y},set:function(C){C=C.toString(),y=this instanceof yr==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(C){C=!!C,N=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(C){A=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,1)},set:function(C){C?this.Ff=zi(this.Ff,1):this.Ff=Fi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,2)},set:function(C){C?this.Ff=zi(this.Ff,2):this.Ff=Fi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,3)},set:function(C){C?this.Ff=zi(this.Ff,3):this.Ff=Fi(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');k=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(k){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};Ns(ro,Oo);var _h=function(){ro.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){i=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jw(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=(function(o,h,c){c||(c=1);for(var f,d=[];f=h.exec(o);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,18)},set:function(t){t?this.Ff=zi(this.Ff,18):this.Ff=Fi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=zi(this.Ff,19):this.Ff=Fi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,20)},set:function(t){t?(this.Ff=zi(this.Ff,20),e.sort()):this.Ff=Fi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,22)},set:function(t){t?this.Ff=zi(this.Ff,22):this.Ff=Fi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,23)},set:function(t){t?this.Ff=zi(this.Ff,23):this.Ff=Fi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,27)},set:function(t){t?this.Ff=zi(this.Ff,27):this.Ff=Fi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ns(_h,ro);var wh=function(){_h.call(this),this.fontName="helvetica",this.combo=!1};Ns(wh,_h);var Sh=function(){wh.call(this),this.combo=!0};Ns(Sh,wh);var Lp=function(){Sh.call(this),this.edit=!0};Ns(Lp,Sh);var yr=function(){ro.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,15)},set:function(t){t?this.Ff=zi(this.Ff,15):this.Ff=Fi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,16)},set:function(t){t?this.Ff=zi(this.Ff,16):this.Ff=Fi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,17)},set:function(t){t?this.Ff=zi(this.Ff,17):this.Ff=Fi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,26)},set:function(t){t?this.Ff=zi(this.Ff,26):this.Ff=Fi(this.Ff,26)}});var i,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+pu(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Bn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(t){i="/"+t}})};Ns(yr,ro);var Mp=function(){yr.call(this),this.pushButton=!0};Ns(Mp,yr);var Ah=function(){yr.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e!==void 0?e:[]}})};Ns(Ah,yr);var o1=function(){var i,e;ro.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(a){i=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,h=[];for(o in h.push("<<"),r)h.push("/"+o+" ("+pu(a(r[o]))+")");return h.push(">>"),h.join(`
`)},set:function(a){Bn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ns(o1,ro),Ah.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=i.createAppearanceStream(t.optionName),t.caption=i.getCA()}},Ah.prototype.createOption=function(i){var e=new o1;return e.Parent=this,e.optionName=i,this.Kids.push(e),JO.call(this.scope,e),e};var Dp=function(){yr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wt.CheckBox.createAppearanceStream()};Ns(Dp,yr);var su=function(){ro.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,13)},set:function(e){e?this.Ff=zi(this.Ff,13):this.Ff=Fi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,21)},set:function(e){e?this.Ff=zi(this.Ff,21):this.Ff=Fi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,23)},set:function(e){e?this.Ff=zi(this.Ff,23):this.Ff=Fi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,24)},set:function(e){e?this.Ff=zi(this.Ff,24):this.Ff=Fi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,25)},set:function(e){e?this.Ff=zi(this.Ff,25):this.Ff=Fi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,26)},set:function(e){e?this.Ff=zi(this.Ff,26):this.Ff=Fi(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){Number.isInteger(e)&&(i=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ns(su,ro);var jp=function(){su.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,14)},set:function(i){i?this.Ff=zi(this.Ff,14):this.Ff=Fi(this.Ff,14)}}),this.password=!0};Ns(jp,su);var wt={CheckBox:{createAppearanceStream:function(){return{N:{On:wt.CheckBox.YesNormal},D:{On:wt.CheckBox.YesPushDown,Off:wt.CheckBox.OffPushDown}}},YesPushDown:function(i){var e=Eo(i);e.scope=i.scope;var t=[],r=i.scope.internal.getFont(i.fontName,i.fontStyle).id,a=i.scope.__private__.encodeColorString(i.color),o=ng(i,i.caption);return t.push("0.749023 g"),t.push("0 0 "+Xt(wt.internal.getWidth(i))+" "+Xt(wt.internal.getHeight(i))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Xt(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(i){var e=Eo(i);e.scope=i.scope;var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),a=[],o=wt.internal.getHeight(i),h=wt.internal.getWidth(i),c=ng(i,i.caption);return a.push("1 g"),a.push("0 0 "+Xt(h)+" "+Xt(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Xt(h-1)+" "+Xt(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+Xt(c.fontSize)+" Tf "+r),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(i){var e=Eo(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(wt.internal.getWidth(i))+" "+Xt(wt.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(i){var e={D:{Off:wt.RadioButton.Circle.OffPushDown},N:{}};return e.N[i]=wt.RadioButton.Circle.YesNormal,e.D[i]=wt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(i){var e=Eo(i);e.scope=i.scope;var t=[],r=wt.internal.getWidth(i)<=wt.internal.getHeight(i)?wt.internal.getWidth(i)/4:wt.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=wt.internal.Bezier_C,o=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+sc(wt.internal.getWidth(i)/2)+" "+sc(wt.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=Eo(i);e.scope=i.scope;var t=[],r=wt.internal.getWidth(i)<=wt.internal.getHeight(i)?wt.internal.getWidth(i)/4:wt.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*wt.internal.Bezier_C).toFixed(5)),h=Number((r*wt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+sc(wt.internal.getWidth(i)/2)+" "+sc(wt.internal.getHeight(i)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+sc(wt.internal.getWidth(i)/2)+" "+sc(wt.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+h+" "+h+" "+r+" 0 "+r+" c"),t.push("-"+h+" "+r+" -"+r+" "+h+" -"+r+" 0 c"),t.push("-"+r+" -"+h+" -"+h+" -"+r+" 0 -"+r+" c"),t.push(h+" -"+r+" "+r+" -"+h+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(i){var e=Eo(i);e.scope=i.scope;var t=[],r=wt.internal.getWidth(i)<=wt.internal.getHeight(i)?wt.internal.getWidth(i)/4:wt.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*wt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+sc(wt.internal.getWidth(i)/2)+" "+sc(wt.internal.getHeight(i)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(i){var e={D:{Off:wt.RadioButton.Cross.OffPushDown},N:{}};return e.N[i]=wt.RadioButton.Cross.YesNormal,e.D[i]=wt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(i){var e=Eo(i);e.scope=i.scope;var t=[],r=wt.internal.calculateCross(i);return t.push("q"),t.push("1 1 "+Xt(wt.internal.getWidth(i)-2)+" "+Xt(wt.internal.getHeight(i)-2)+" re"),t.push("W"),t.push("n"),t.push(Xt(r.x1.x)+" "+Xt(r.x1.y)+" m"),t.push(Xt(r.x2.x)+" "+Xt(r.x2.y)+" l"),t.push(Xt(r.x4.x)+" "+Xt(r.x4.y)+" m"),t.push(Xt(r.x3.x)+" "+Xt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=Eo(i);e.scope=i.scope;var t=wt.internal.calculateCross(i),r=[];return r.push("0.749023 g"),r.push("0 0 "+Xt(wt.internal.getWidth(i))+" "+Xt(wt.internal.getHeight(i))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Xt(wt.internal.getWidth(i)-2)+" "+Xt(wt.internal.getHeight(i)-2)+" re"),r.push("W"),r.push("n"),r.push(Xt(t.x1.x)+" "+Xt(t.x1.y)+" m"),r.push(Xt(t.x2.x)+" "+Xt(t.x2.y)+" l"),r.push(Xt(t.x4.x)+" "+Xt(t.x4.y)+" m"),r.push(Xt(t.x3.x)+" "+Xt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(i){var e=Eo(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Xt(wt.internal.getWidth(i))+" "+Xt(wt.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(i){var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,t=i.scope.__private__.encodeColorString(i.color);return"/"+e+" "+i.fontSize+" Tf "+t}};wt.internal={Bezier_C:.551915024494,calculateCross:function(i){var e=wt.internal.getWidth(i),t=wt.internal.getHeight(i),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},wt.internal.getWidth=function(i){var e=0;return Bn(i)==="object"&&(e=Nb(i.Rect[2])),e},wt.internal.getHeight=function(i){var e=0;return Bn(i)==="object"&&(e=Nb(i.Rect[3])),e};var JO=Li.addField=function(i){if($O(this,i),!(i instanceof ro))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=i).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};Li.AcroFormChoiceField=_h,Li.AcroFormListBox=wh,Li.AcroFormComboBox=Sh,Li.AcroFormEditBox=Lp,Li.AcroFormButton=yr,Li.AcroFormPushButton=Mp,Li.AcroFormRadioButton=Ah,Li.AcroFormCheckBox=Dp,Li.AcroFormTextField=su,Li.AcroFormPasswordField=jp,Li.AcroFormAppearance=wt,Li.AcroForm={ChoiceField:_h,ListBox:wh,ComboBox:Sh,EditBox:Lp,Button:yr,PushButton:Mp,RadioButton:Ah,CheckBox:Dp,TextField:su,PasswordField:jp,Appearance:wt},Tt.AcroForm={ChoiceField:_h,ListBox:wh,ComboBox:Sh,EditBox:Lp,Button:yr,PushButton:Mp,RadioButton:Ah,CheckBox:Dp,TextField:su,PasswordField:jp,Appearance:wt};Tt.AcroForm;function Vw(i){return i.reduce(function(e,t,r){return e[t]=r,e},{})}(function(i){var e="addImage_";i.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=i.__addimage__.getImageFileTypeByImageData=function(E,j){var P,J,ue,$,re,ce=t;if((j=j||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(Z(E))for(re in r)for(ue=r[re],P=0;P<ue.length;P+=1){for($=!0,J=0;J<ue[P].length;J+=1)if(ue[P][J]!==void 0&&ue[P][J]!==E[J]){$=!1;break}if($===!0){ce=re;break}}else for(re in r)for(ue=r[re],P=0;P<ue.length;P+=1){for($=!0,J=0;J<ue[P].length;J+=1)if(ue[P][J]!==void 0&&ue[P][J]!==E.charCodeAt(J)){$=!1;break}if($===!0){ce=re;break}}return ce===t&&j!==t&&(ce=j),ce},o=function E(j){for(var P=this.internal.write,J=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:j.width}),$.push({key:"Height",value:j.height}),j.colorSpace===C.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===C.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)&&j.transparency.length>0){for(var re="",ce=0,pe=j.transparency.length;ce<pe;ce++)re+=j.transparency[ce]+" "+j.transparency[ce]+" ";$.push({key:"Mask",value:"["+re+"]"})}j.sMask!==void 0&&$.push({key:"SMask",value:j.objectId+1+" 0 R"});var Ne=j.filter!==void 0?["/"+j.filter]:void 0;if(J({data:j.data,additionalKeyValues:$,alreadyAppliedFilters:Ne,objectId:j.objectId}),P("endobj"),"sMask"in j&&j.sMask!==void 0){var X,T=(X=j.sMaskBitsPerComponent)!==null&&X!==void 0?X:j.bitsPerComponent,H={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:j.sMask};"filter"in j&&(H.decodeParameters="/Predictor ".concat(j.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(j.width),H.filter=j.filter),E.call(this,H)}if(j.colorSpace===C.INDEXED){var ee=this.internal.newObject();J({data:D(new Uint8Array(j.palette)),objectId:ee}),P("endobj")}},h=function(){var E=this.internal.collections[e+"images"];for(var j in E)o.call(this,E[j])},c=function(){var E,j=this.internal.collections[e+"images"],P=this.internal.write;for(var J in j)P("/I"+(E=j[J]).index,E.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var E=this.internal.collections[e+"images"];return f.call(this),E},m=function(){return Object.keys(this.internal.collections[e+"images"]).length},b=function(E){return typeof i["process"+E.toUpperCase()]=="function"},w=function(E){return Bn(E)==="object"&&E.nodeType===1},y=function(E,j){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var P=""+E.getAttribute("src");if(P.indexOf("data:image/")===0)return Op(unescape(P).split("base64,").pop());var J=i.loadFile(P,!0);if(J!==void 0)return J}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var ue;switch(j){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return Op(E.toDataURL(ue,1).split("base64,").pop())}},A=function(E){var j=this.internal.collections[e+"images"];if(j){for(var P in j)if(E===j[P].alias)return j[P]}},N=function(E,j,P){return E||j||(E=-96,j=-96),E<0&&(E=-1*P.width*72/E/this.internal.scaleFactor),j<0&&(j=-1*P.height*72/j/this.internal.scaleFactor),E===0&&(E=j*P.width/P.height),j===0&&(j=E*P.height/P.width),[E,j]},k=function(E,j,P,J,ue,$){var re=N.call(this,P,J,ue),ce=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,Ne=d.call(this);if(P=re[0],J=re[1],Ne[ue.index]=ue,$){$*=Math.PI/180;var X=Math.cos($),T=Math.sin($),H=function(ie){return ie.toFixed(4)},ee=[H(X),H(T),H(-1*T),H(X),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,ce(E),pe(j+J),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([ce(P),"0","0",ce(J),"0","0","cm"].join(" "))):this.internal.write([ce(P),"0","0",ce(J),ce(E),pe(j+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},C=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var F=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},z=i.__addimage__.sHashCode=function(E){var j,P,J=0;if(typeof E=="string")for(P=E.length,j=0;j<P;j++)J=(J<<5)-J+E.charCodeAt(j),J|=0;else if(Z(E))for(P=E.byteLength/2,j=0;j<P;j++)J=(J<<5)-J+E[j],J|=0;return J},V=i.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var j=!0;return E.length===0&&(j=!1),E.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(j=!1),j},I=i.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var j=E.indexOf(",");return j<0?null:E.substring(0,j).trim().endsWith("base64")?E.substring(j+1):null};i.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var Z=i.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},G=i.__addimage__.binaryStringToUint8Array=function(E){for(var j=E.length,P=new Uint8Array(j),J=0;J<j;J++)P[J]=E.charCodeAt(J);return P},D=i.__addimage__.arrayBufferToBinaryString=function(E){for(var j="",P=Z(E)?E:new Uint8Array(E),J=0;J<P.length;J+=8192)j+=String.fromCharCode.apply(null,P.subarray(J,J+8192));return j};i.addImage=function(){var E,j,P,J,ue,$,re,ce,pe;if(typeof arguments[1]=="number"?(j=t,P=arguments[1],J=arguments[2],ue=arguments[3],$=arguments[4],re=arguments[5],ce=arguments[6],pe=arguments[7]):(j=arguments[1],P=arguments[2],J=arguments[3],ue=arguments[4],$=arguments[5],re=arguments[6],ce=arguments[7],pe=arguments[8]),Bn(E=arguments[0])==="object"&&!w(E)&&"imageData"in E){var Ne=E;E=Ne.imageData,j=Ne.format||j||t,P=Ne.x||P||0,J=Ne.y||J||0,ue=Ne.w||Ne.width||ue,$=Ne.h||Ne.height||$,re=Ne.alias||re,ce=Ne.compression||ce,pe=Ne.rotation||Ne.angle||pe}var X=this.internal.getFilters();if(ce===void 0&&X.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(P)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var T=R.call(this,E,j,re,ce);return k.call(this,P,J,ue,$,T,pe),this};var R=function(E,j,P,J){var ue,$,re;if(typeof E=="string"&&a(E)===t){E=unescape(E);var ce=K(E,!1);(ce!==""||(ce=i.loadFile(E,!0))!==void 0)&&(E=ce)}if(w(E)&&(E=y(E,j)),j=a(E,j),!b(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((re=P)==null||re.length===0)&&(P=(function(pe){return typeof pe=="string"||Z(pe)?z(pe):Z(pe.data)?z(pe.data):null})(E)),(ue=A.call(this,P))||(E instanceof Uint8Array||j==="RGBA"||($=E,E=G(E)),ue=this["process"+j.toUpperCase()](E,m.call(this),P,(function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in i.image_compression?pe:F.NONE})(J),$)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},K=i.__addimage__.convertBase64ToBinaryString=function(E,j){j=typeof j!="boolean"||j;var P,J="";if(typeof E=="string"){var ue;P=(ue=I(E))!==null&&ue!==void 0?ue:E;try{J=Op(P)}catch($){if(j)throw V(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};i.getImageProperties=function(E){var j,P,J="";if(w(E)&&(E=y(E)),typeof E=="string"&&a(E)===t&&((J=K(E,!1))===""&&(J=i.loadFile(E)||""),E=J),P=a(E),!b(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(E instanceof Uint8Array||(E=G(E)),!(j=this["process"+P.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=P,j}})(Tt.API),(function(i){var e=function(t){if(t!==void 0&&t!="")return!0};Tt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(t){for(var r,a,o,h=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,m=!1,b=0;b<d.length&&!m;b++)switch((r=d[b]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var w=0;w<d.length;w++){r=d[w];var y=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(N.objId),F=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+h(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+h(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+y(C(r.contents))+")",o+=" /Popup "+k.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+y(C(F))+") >>",N.content=o;var z=N.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+h(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+h(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+z,r.open&&(o+=" /Open true"),o+=" >>",k.content=o,this.internal.write(N.objId,"0 R",k.objId,"0 R");break;case"freetext":a="/Rect ["+h(r.bounds.x)+" "+c(r.bounds.y)+" "+h(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var V=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+y(A(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+V+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var I=this.annotations._nameMap[r.options.name];r.options.pageNumber=I.page,r.options.top=I.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+y(A(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var Z=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Z+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),i.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},i.link=function(t,r,a,o,h){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+a),h:d(r+o)},options:h,type:"link"})},i.textWithLink=function(t,r,a,o){var h,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var m=this.splitTextToSize(t,c).length;h=Math.ceil(d*m)}else c=f,h=d;return this.text(t,r,a,o),a+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-d,c,h,o),f},i.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Tt.API),(function(i){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];i.__arabicParser__={};var o=i.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},h=i.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},c=i.__arabicParser__.isArabicEndLetter=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length<=2},f=i.__arabicParser__.isArabicAlfLetter=function(N){return h(N)&&a.indexOf(N.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length>=1};var d=i.__arabicParser__.arabicLetterHasFinalForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length>=3};var m=i.__arabicParser__.arabicLetterHasMedialForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length==4},b=i.__arabicParser__.resolveLigatures=function(N){var k=0,C=t,F="",z=0;for(k=0;k<N.length;k+=1)C[N.charCodeAt(k)]!==void 0?(z++,typeof(C=C[N.charCodeAt(k)])=="number"&&(F+=String.fromCharCode(C),C=t,z=0),k===N.length-1&&(C=t,F+=N.charAt(k-(z-1)),k-=z-1,z=0)):(C=t,F+=N.charAt(k-z),k-=z,z=0);return F};i.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&r[N.charCodeAt(0)]!==void 0};var w=i.__arabicParser__.getCorrectForm=function(N,k,C){return h(N)?o(N)===!1?-1:!d(N)||!h(k)&&!h(C)||!h(C)&&c(k)||c(N)&&!h(k)||c(N)&&f(k)||c(N)&&c(k)?0:m(N)&&h(k)&&!c(k)&&h(C)&&d(C)?3:c(N)||!h(C)?1:2:-1},y=function(N){var k=0,C=0,F=0,z="",V="",I="",Z=(N=N||"").split("\\s+"),G=[];for(k=0;k<Z.length;k+=1){for(G.push(""),C=0;C<Z[k].length;C+=1)z=Z[k][C],V=Z[k][C-1],I=Z[k][C+1],h(z)?(F=w(z,V,I),G[k]+=F!==-1?String.fromCharCode(e[z.charCodeAt(0)][F]):z):G[k]+=z;G[k]=b(G[k])}return G.join(" ")},A=i.__arabicParser__.processArabic=i.processArabic=function(){var N,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(k)){var F=0;for(C=[],F=0;F<k.length;F+=1)Array.isArray(k[F])?C.push([y(k[F][0]),k[F][1],k[F][2]]):C.push([y(k[F])]);N=C}else N=y(k);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};i.events.push(["preProcessText",A])})(Tt.API),Tt.API.autoPrint=function(i){var e;return(i=i||{}).variant=i.variant||"non-conform",i.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(i){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var h={};Object.defineProperty(this,"style",{get:function(){return h},set:function(c){h=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Tt.API),(function(i){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(N){b=N}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(N){w=N}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(N){A=N}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},i.getTextDimensions=function(f,d){r.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),b=d.font||this.getFont(),w=d.scaleFactor||this.internal.scaleFactor,y=0,A=0,N=0,k=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var C=d.maxWidth;C>0?typeof f=="string"?f=this.splitTextToSize(f,C):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(z,V){return z.concat(k.splitTextToSize(V,C))},[])):f=Array.isArray(f)?f:[f];for(var F=0;F<f.length;F++)y<(N=this.getStringUnitWidth(f[F],{font:b})*m)&&(y=N);return y!==0&&(A=f.length),{w:y/=w,h:Math.max((A*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/w,0)}},i.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var h=i.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=b.top,y&&w&&(this.printHeaderRow(f.lineNumber,!0),f.y+=w[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-m,f.y+m,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+m,{align:"center",baseline:"top",maxWidth:f.width-m-m}):this.text(f.text,f.x+m,f.y+m,{align:"left",baseline:"top",maxWidth:f.width-m-m})),this.internal.__cell__.lastCell=f,this};i.table=function(f,d,m,b,w){if(r.call(this),!m)throw new Error("No data for PDF table.");var y,A,N,k,C=[],F=[],z=[],V={},I={},Z=[],G=[],D=(w=w||{}).autoSize||!1,R=w.printHeaders!==!1,K=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,E=w.margins||Object.assign({width:this.getPageWidth()},e),j=typeof w.padding=="number"?w.padding:3,P=w.headerBackgroundColor||"#c8c8c8",J=w.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=J,this.setFontSize(K),b==null)F=C=Object.keys(m[0]),z=C.map(function(){return"left"});else if(Array.isArray(b)&&Bn(b[0])==="object")for(C=b.map(function(Ne){return Ne.name}),F=b.map(function(Ne){return Ne.prompt||Ne.name||""}),z=b.map(function(Ne){return Ne.align||"left"}),y=0;y<b.length;y+=1)I[b[y].name]=.7499990551181103*b[y].width;else Array.isArray(b)&&typeof b[0]=="string"&&(F=C=b,z=C.map(function(){return"left"}));if(D||Array.isArray(b)&&typeof b[0]=="string")for(y=0;y<C.length;y+=1){for(V[k=C[y]]=m.map(function(Ne){return Ne[k]}),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(F[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=V[k],this.setFont(void 0,"normal"),N=0;N<A.length;N+=1)Z.push(this.getTextDimensions(A[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[k]=Math.max.apply(null,Z)+j+j,Z=[]}if(R){var ue={};for(y=0;y<C.length;y+=1)ue[C[y]]={},ue[C[y]].text=F[y],ue[C[y]].align=z[y];var $=c.call(this,ue,I);G=C.map(function(Ne){return new o(f,d,I[Ne],$,ue[Ne].text,void 0,ue[Ne].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var re=b.reduce(function(Ne,X){return Ne[X.name]=X.align,Ne},{});for(y=0;y<m.length;y+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:y,data:m[y]},this);var ce=c.call(this,m[y],I);for(N=0;N<C.length;N+=1){var pe=m[y][C[N]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:y,col:N,data:pe},this),h.call(this,new o(f,d,I[C[N]],ce,pe,y+2,re[C[N]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var m=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(f).map(function(y){var A=f[y];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,d[y]-m-m)},this).map(function(y){return this.getLineHeightFactor()*y.length*b/w+m+m},this).reduce(function(y,A){return Math.max(y,A)},0)};i.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},i.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){m=this.internal.__cell__.tableHeaderRow[y].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,w.push(m)),m.lineNumber=f;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),h.call(this,m),this.setTextColor(A)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),t=!1}})(Tt.API);var Bw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ig=Vw(qw),zw=[100,200,300,400,500,600,700,800,900],eL=Vw(zw);function C0(i){var e=i.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return Bw[o=o||"normal"]?o:"normal"})(i.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(i.weight),a=(function(o){return typeof ig[o=o||"normal"]=="number"?o:"normal"})(i.stretch);return{family:e,style:t,weight:r,stretch:a,src:i.src||[],ref:i.ref||{name:e,style:[a,t,r].join(" ")}}}function Cb(i,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(i[e[a]])return i[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(i[e[a]])return i[e[a]]}var tL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Tb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Eb(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function kb(i){return i.trimLeft()}function nL(i,e){for(var t=0;t<i.length;){if(i.charAt(t)===e)return[i.substring(0,t),i.substring(t+1)];t+=1}return null}function iL(i){var e=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],i.substring(e[0].length)]}var _p,Ob,Lb,oh,wp,Mb,Db,jb,T0=["times"];function Rb(i,e,t,r,a){var o=4,h=Vb;switch(a){case Tt.API.image_compression.FAST:o=1,h=Ib;break;case Tt.API.image_compression.MEDIUM:o=6,h=Bb;break;case Tt.API.image_compression.SLOW:o=9,h=qb}i=(function(f,d,m,b){for(var w,y=f.length/d,A=new Uint8Array(f.length+y),N=[rL,Ib,Vb,Bb,qb],k=0;k<y;k+=1){var C=k*d,F=f.subarray(C,C+d);if(b)A.set(b(F,m,w),C+k);else{for(var z=N.length,V=[],I=0;I<z;I+=1)V[I]=N[I](F,m,w);var Z=aL(V.concat());A.set(V[Z],C+k)}w=F}return A})(i,e,Math.ceil(t*r/8),h);var c=K0(i,{level:o});return Tt.API.__addimage__.arrayBufferToBinaryString(c)}function rL(i){var e=Array.apply([],i);return e.unshift(0),e}function Ib(i,e){var t=i.length,r=[];r[0]=1;for(var a=0;a<t;a+=1){var o=i[a-e]||0;r[a+1]=i[a]-o+256&255}return r}function Vb(i,e,t){var r=i.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var h=t&&t[o]||0;a[o+1]=i[o]-h+256&255}return a}function Bb(i,e,t){var r=i.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var h=i[o-e]||0,c=t&&t[o]||0;a[o+1]=i[o]+256-(h+c>>>1)&255}return a}function qb(i,e,t){var r=i.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var h=sL(i[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=i[o]-h+256&255}return a}function sL(i,e,t){if(i===e&&e===t)return i;var r=Math.abs(e-t),a=Math.abs(i-t),o=Math.abs(i+e-t-t);return r<=a&&r<=o?i:a<=o?e:t}function aL(i){var e=i.map(function(t){return t.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function E0(i,e,t){var r=e*t,a=Math.floor(r/8),o=16-(r-8*a+t),h=(1<<t)-1;return Fw(i,a)>>o&h}function zb(i,e,t,r){var a=t*r,o=Math.floor(a/8),h=16-(a-8*o+r),c=(1<<r)-1,f=(e&c)<<h;(function(d,m,b){if(m+1<d.byteLength)d.setUint16(m,b,!1);else{var w=b>>8&255;d.setUint8(m,w)}})(i,o,Fw(i,o)&~(c<<h)&65535|f)}function Fw(i,e){return e+1<i.byteLength?i.getUint16(e,!1):i.getUint8(e)<<8}function oL(i){var e=0;if(i[e++]!==71||i[e++]!==73||i[e++]!==70||i[e++]!==56||(i[e++]+1&253)!=56||i[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=i[e++]|i[e++]<<8,r=i[e++]|i[e++]<<8,a=i[e++],o=a>>7,h=1<<1+(7&a);i[e++],i[e++];var c=null,f=null;o&&(c=e,f=h,e+=3*h);var d=!0,m=[],b=0,w=null,y=0,A=null;for(this.width=t,this.height=r;d&&e<i.length;)switch(i[e++]){case 33:switch(i[e++]){case 255:if(i[e]!==11||i[e+1]==78&&i[e+2]==69&&i[e+3]==84&&i[e+4]==83&&i[e+5]==67&&i[e+6]==65&&i[e+7]==80&&i[e+8]==69&&i[e+9]==50&&i[e+10]==46&&i[e+11]==48&&i[e+12]==3&&i[e+13]==1&&i[e+16]==0)e+=14,A=i[e++]|i[e++]<<8,e++;else for(e+=12;;){if(!((E=i[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(i[e++]!==4||i[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=i[e++];b=i[e++]|i[e++]<<8,w=i[e++],1&N||(w=null),y=N>>2&7,e++;break;case 254:for(;;){if(!((E=i[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+i[e-1].toString(16))}break;case 44:var k=i[e++]|i[e++]<<8,C=i[e++]|i[e++]<<8,F=i[e++]|i[e++]<<8,z=i[e++]|i[e++]<<8,V=i[e++],I=V>>6&1,Z=1<<1+(7&V),G=c,D=f,R=!1;V>>7&&(R=!0,G=e,D=Z,e+=3*Z);var K=e;for(e++;;){var E;if(!((E=i[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}m.push({x:k,y:C,width:F,height:z,has_local_palette:R,palette_offset:G,palette_size:D,data_offset:K,data_length:e-K,transparent_index:w,interlaced:!!I,delay:b,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+i[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return A},this.frameInfo=function(j){if(j<0||j>=m.length)throw new Error("Frame index out of range.");return m[j]},this.decodeAndBlitFrameBGRA=function(j,P){var J=this.frameInfo(j),ue=J.width*J.height,$=new Uint8Array(ue);Fb(i,J.data_offset,$,ue);var re=J.palette_offset,ce=J.transparent_index;ce===null&&(ce=256);var pe=J.width,Ne=t-pe,X=pe,T=4*(J.y*t+J.x),H=4*((J.y+J.height)*t+J.x),ee=T,ie=4*Ne;J.interlaced===!0&&(ie+=4*t*7);for(var oe=8,me=0,de=$.length;me<de;++me){var ge=$[me];if(X===0&&(X=pe,(ee+=ie)>=H&&(ie=4*Ne+4*t*(oe-1),ee=T+(pe+Ne)*(oe<<1),oe>>=1)),ge===ce)ee+=4;else{var _e=i[re+3*ge],Re=i[re+3*ge+1],Xe=i[re+3*ge+2];P[ee++]=Xe,P[ee++]=Re,P[ee++]=_e,P[ee++]=255}--X}},this.decodeAndBlitFrameRGBA=function(j,P){var J=this.frameInfo(j),ue=J.width*J.height,$=new Uint8Array(ue);Fb(i,J.data_offset,$,ue);var re=J.palette_offset,ce=J.transparent_index;ce===null&&(ce=256);var pe=J.width,Ne=t-pe,X=pe,T=4*(J.y*t+J.x),H=4*((J.y+J.height)*t+J.x),ee=T,ie=4*Ne;J.interlaced===!0&&(ie+=4*t*7);for(var oe=8,me=0,de=$.length;me<de;++me){var ge=$[me];if(X===0&&(X=pe,(ee+=ie)>=H&&(ie=4*Ne+4*t*(oe-1),ee=T+(pe+Ne)*(oe<<1),oe>>=1)),ge===ce)ee+=4;else{var _e=i[re+3*ge],Re=i[re+3*ge+1],Xe=i[re+3*ge+2];P[ee++]=_e,P[ee++]=Re,P[ee++]=Xe,P[ee++]=255}--X}}}function Fb(i,e,t,r){for(var a=i[e++],o=1<<a,h=o+1,c=h+1,f=a+1,d=(1<<f)-1,m=0,b=0,w=0,y=i[e++],A=new Int32Array(4096),N=null;;){for(;m<16&&y!==0;)b|=i[e++]<<m,m+=8,y===1?y=i[e++]:--y;if(m<f)break;var k=b&d;if(b>>=f,m-=f,k!==o){if(k===h)break;for(var C=k<c?k:N,F=0,z=C;z>o;)z=A[z]>>8,++F;var V=z;if(w+F+(C!==k?1:0)>r)return void Qn.log("Warning, gif stream longer than expected.");t[w++]=V;var I=w+=F;for(C!==k&&(t[w++]=V),z=C;F--;)z=A[z],t[--I]=255&z,z>>=8;N!==null&&c<4096&&(A[c++]=N<<8|V,c>=d+1&&f<12&&(++f,d=d<<1|1)),N=k}else c=h+1,d=(1<<(f=a+1))-1,N=null}return w!==r&&Qn.log("Warning, gif stream shorter than expected."),t}function k0(i){var e,t,r,a,o,h=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),m=new Array(64),b=new Array(65535),w=new Array(65535),y=new Array(64),A=new Array(64),N=[],k=0,C=7,F=new Array(64),z=new Array(64),V=new Array(64),I=new Array(256),Z=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(T,H){for(var ee=0,ie=0,oe=new Array,me=1;me<=16;me++){for(var de=1;de<=T[me];de++)oe[H[ie]]=[],oe[H[ie]][0]=ee,oe[H[ie]][1]=me,ie++,ee++;ee*=2}return oe}function re(T){for(var H=T[0],ee=T[1]-1;ee>=0;)H&1<<ee&&(k|=1<<C),ee--,--C<0&&(k==255?(ce(255),ce(0)):ce(k),C=7,k=0)}function ce(T){N.push(T)}function pe(T){ce(T>>8&255),ce(255&T)}function Ne(T,H,ee,ie,oe){for(var me,de=oe[0],ge=oe[240],_e=(function(Me,tt){var it,lt,pt,kt,Ge,Ke,ct,bt,ot,xt,st=0;for(ot=0;ot<8;++ot){it=Me[st],lt=Me[st+1],pt=Me[st+2],kt=Me[st+3],Ge=Me[st+4],Ke=Me[st+5],ct=Me[st+6];var Ut=it+(bt=Me[st+7]),Dt=it-bt,St=lt+ct,At=lt-ct,zt=pt+Ke,we=pt-Ke,Be=kt+Ge,qe=kt-Ge,rt=Ut+Be,Et=Ut-Be,et=St+zt,Je=St-zt;Me[st]=rt+et,Me[st+4]=rt-et;var gt=.707106781*(Je+Et);Me[st+2]=Et+gt,Me[st+6]=Et-gt;var Nn=.382683433*((rt=qe+we)-(Je=At+Dt)),$t=.5411961*rt+Nn,cn=1.306562965*Je+Nn,Cn=.707106781*(et=we+At),ht=Dt+Cn,sn=Dt-Cn;Me[st+5]=sn+$t,Me[st+3]=sn-$t,Me[st+1]=ht+cn,Me[st+7]=ht-cn,st+=8}for(st=0,ot=0;ot<8;++ot){it=Me[st],lt=Me[st+8],pt=Me[st+16],kt=Me[st+24],Ge=Me[st+32],Ke=Me[st+40],ct=Me[st+48];var jn=it+(bt=Me[st+56]),Tn=it-bt,Mn=lt+ct,Jt=lt-ct,En=pt+Ke,Dn=pt-Ke,$i=kt+Ge,ui=kt-Ge,wn=jn+$i,Wn=jn-$i,ji=Mn+En,ur=Mn-En;Me[st]=wn+ji,Me[st+32]=wn-ji;var Lr=.707106781*(ur+Wn);Me[st+16]=Wn+Lr,Me[st+48]=Wn-Lr;var ga=.382683433*((wn=ui+Dn)-(ur=Jt+Tn)),Pr=.5411961*wn+ga,Ur=1.306562965*ur+ga,Xs=.707106781*(ji=Dn+Jt),Cs=Tn+Xs,Ts=Tn-Xs;Me[st+40]=Ts+Pr,Me[st+24]=Ts-Pr,Me[st+8]=Cs+Ur,Me[st+56]=Cs-Ur,st++}for(ot=0;ot<64;++ot)xt=Me[ot]*tt[ot],y[ot]=xt>0?xt+.5|0:xt-.5|0;return y})(T,H),Re=0;Re<64;++Re)A[G[Re]]=_e[Re];var Xe=A[0]-ee;ee=A[0],Xe==0?re(ie[0]):(re(ie[w[me=32767+Xe]]),re(b[me]));for(var He=63;He>0&&A[He]==0;)He--;if(He==0)return re(de),ee;for(var Qe,U=1;U<=He;){for(var De=U;A[U]==0&&U<=He;)++U;var ut=U-De;if(ut>=16){Qe=ut>>4;for(var nt=1;nt<=Qe;++nt)re(ge);ut&=15}me=32767+A[U],re(oe[(ut<<4)+w[me]]),re(b[me]),U++}return He!=63&&re(de),ee}function X(T){T=Math.min(Math.max(T,1),100),o!=T&&((function(H){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var oe=h((ee[ie]*H+50)/100);oe=Math.min(Math.max(oe,1),255),c[G[ie]]=oe}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ge=h((me[de]*H+50)/100);ge=Math.min(Math.max(ge,1),255),f[G[de]]=ge}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,Xe=0;Xe<8;Xe++)for(var He=0;He<8;He++)d[Re]=1/(c[G[Re]]*_e[Xe]*_e[He]*8),m[Re]=1/(f[G[Re]]*_e[Xe]*_e[He]*8),Re++})(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),o=T)}this.encode=function(T,H){H&&X(H),N=new Array,k=0,C=7,pe(65496),pe(65504),pe(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),pe(1),pe(1),ce(0),ce(0),(function(){pe(65499),pe(132),ce(0);for(var lt=0;lt<64;lt++)ce(c[lt]);ce(1);for(var pt=0;pt<64;pt++)ce(f[pt])})(),(function(lt,pt){pe(65472),pe(17),ce(8),pe(pt),pe(lt),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)})(T.width,T.height),(function(){pe(65476),pe(418),ce(0);for(var lt=0;lt<16;lt++)ce(D[lt+1]);for(var pt=0;pt<=11;pt++)ce(R[pt]);ce(16);for(var kt=0;kt<16;kt++)ce(K[kt+1]);for(var Ge=0;Ge<=161;Ge++)ce(E[Ge]);ce(1);for(var Ke=0;Ke<16;Ke++)ce(j[Ke+1]);for(var ct=0;ct<=11;ct++)ce(P[ct]);ce(17);for(var bt=0;bt<16;bt++)ce(J[bt+1]);for(var ot=0;ot<=161;ot++)ce(ue[ot])})(),pe(65498),pe(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var ee=0,ie=0,oe=0;k=0,C=7,this.encode.displayName="_encode_";for(var me,de,ge,_e,Re,Xe,He,Qe,U,De=T.data,ut=T.width,nt=T.height,Me=4*ut,tt=0;tt<nt;){for(me=0;me<Me;){for(Re=Me*tt+me,He=-1,Qe=0,U=0;U<64;U++)Xe=Re+(Qe=U>>3)*Me+(He=4*(7&U)),tt+Qe>=nt&&(Xe-=Me*(tt+1+Qe-nt)),me+He>=Me&&(Xe-=me+He-Me+4),de=De[Xe++],ge=De[Xe++],_e=De[Xe++],F[U]=(Z[de]+Z[ge+256|0]+Z[_e+512|0]>>16)-128,z[U]=(Z[de+768|0]+Z[ge+1024|0]+Z[_e+1280|0]>>16)-128,V[U]=(Z[de+1280|0]+Z[ge+1536|0]+Z[_e+1792|0]>>16)-128;ee=Ne(F,d,ee,e,r),ie=Ne(z,m,ie,t,a),oe=Ne(V,m,oe,t,a),me+=32}tt+=8}if(C>=0){var it=[];it[1]=C+1,it[0]=(1<<C+1)-1,re(it)}return pe(65497),new Uint8Array(N)},i=i||50,(function(){for(var T=String.fromCharCode,H=0;H<256;H++)I[H]=T(H)})(),e=$(D,R),t=$(j,P),r=$(K,E),a=$(J,ue),(function(){for(var T=1,H=2,ee=1;ee<=15;ee++){for(var ie=T;ie<H;ie++)w[32767+ie]=ee,b[32767+ie]=[],b[32767+ie][1]=ee,b[32767+ie][0]=ie;for(var oe=-(H-1);oe<=-T;oe++)w[32767+oe]=ee,b[32767+oe]=[],b[32767+oe][1]=ee,b[32767+oe][0]=H-1+oe;T<<=1,H<<=1}})(),(function(){for(var T=0;T<256;T++)Z[T]=19595*T,Z[T+256|0]=38470*T,Z[T+512|0]=7471*T+32768,Z[T+768|0]=-11059*T,Z[T+1024|0]=-21709*T,Z[T+1280|0]=32768*T+8421375,Z[T+1536|0]=-27439*T,Z[T+1792|0]=-5329*T})(),X(i)}function Ha(i,e){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Pb(i){function e(R){if(!R)throw Error("assert :P")}function t(R,K,E){for(var j=0;4>j;j++)if(R[K+j]!=E.charCodeAt(j))return!0;return!1}function r(R,K,E,j,P){for(var J=0;J<P;J++)R[K+J]=E[j+J]}function a(R,K,E,j){for(var P=0;P<j;P++)R[K+P]=E}function o(R){return new Int32Array(R)}function h(R,K){for(var E=[],j=0;j<R;j++)E.push(new K);return E}function c(R,K){var E=[];return(function j(P,J,ue){for(var $=ue[J],re=0;re<$&&(P.push(ue.length>J+1?[]:new K),!(ue.length<J+1));re++)j(P[re],J+1,ue)})(E,0,R),E}var f=function(){var R=this;function K(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function E(p,v,S,O,q){e(!(O%S));do p[v+(O-=S)]=q;while(0<O)}function j(p,v,S,O,q){if(e(2328>=q),512>=q)var Y=o(512);else if((Y=o(q))==null)return 0;return(function(W,te,ne,ae,ye,Ee){var se,xe,Ce=te,Ve=1<<ne,Te=o(16),Ie=o(16);for(e(ye!=0),e(ae!=null),e(W!=null),e(0<ne),xe=0;xe<ye;++xe){if(15<ae[xe])return 0;++Te[ae[xe]]}if(Te[0]==ye)return 0;for(Ie[1]=0,se=1;15>se;++se){if(Te[se]>1<<se)return 0;Ie[se+1]=Ie[se]+Te[se]}for(xe=0;xe<ye;++xe)se=ae[xe],0<ae[xe]&&(Ee[Ie[se]++]=xe);if(Ie[15]==1)return(ae=new P).g=0,ae.value=Ee[0],E(W,Ce,1,Ve,ae),Ve;var Pe,$e=-1,We=Ve-1,_t=0,ft=1,Ft=1,mt=1<<ne;for(xe=0,se=1,ye=2;se<=ne;++se,ye<<=1){if(ft+=Ft<<=1,0>(Ft-=Te[se]))return 0;for(;0<Te[se];--Te[se])(ae=new P).g=se,ae.value=Ee[xe++],E(W,Ce+_t,ye,mt,ae),_t=K(_t,se)}for(se=ne+1,ye=2;15>=se;++se,ye<<=1){if(ft+=Ft<<=1,0>(Ft-=Te[se]))return 0;for(;0<Te[se];--Te[se]){if(ae=new P,(_t&We)!=$e){for(Ce+=mt,Pe=1<<($e=se)-ne;15>$e&&!(0>=(Pe-=Te[$e]));)++$e,Pe<<=1;Ve+=mt=1<<(Pe=$e-ne),W[te+($e=_t&We)].g=Pe+ne,W[te+$e].value=Ce-te-$e}ae.g=se-ne,ae.value=Ee[xe++],E(W,Ce+(_t>>ne),ye,mt,ae),_t=K(_t,se)}}return ft!=2*Ie[15]-1?0:Ve})(p,v,S,O,q,Y)}function P(){this.value=this.g=0}function J(){this.value=this.g=0}function ue(){this.G=h(5,P),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=h(uo,J)}function $(p,v,S,O){e(p!=null),e(v!=null),e(2147483648>O),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+O,p.Zc=4<=O?S+O-4+1:S,de(p)}function re(p,v){for(var S=0;0<v--;)S|=_e(p,128)<<v;return S}function ce(p,v){var S=re(p,v);return ge(p)?-S:S}function pe(p,v,S,O){var q,Y=0;for(e(p!=null),e(v!=null),e(4294967288>O),p.Sb=O,p.Ra=0,p.u=0,p.h=0,4<O&&(O=4),q=0;q<O;++q)Y+=v[S+q]<<8*q;p.Ra=Y,p.bb=O,p.oa=v,p.pa=S}function Ne(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<ta-8>>>0,++p.bb,p.u-=8;ie(p)&&(p.h=1,p.u=0)}function X(p,v){if(e(0<=v),!p.h&&v<=Sr){var S=ee(p)&Dr[v];return p.u+=v,Ne(p),S}return p.h=1,p.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(p){return p.Ra>>>(p.u&ta-1)>>>0}function ie(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>ta}function oe(p,v){p.u=v,p.h=ie(p)}function me(p){p.u>=na&&(e(p.u>=na),Ne(p))}function de(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ge(p){return re(p,1)}function _e(p,v){var S=p.Ca;0>p.b&&de(p);var O=p.b,q=S*v>>>8,Y=(p.I>>>O>q)+0;for(Y?(S-=q,p.I-=q+1<<O>>>0):S=q+1,O=S,q=0;256<=O;)q+=8,O>>=8;return O=7^q+La[O],p.b-=O,p.Ca=(S<<O)-1,Y}function Re(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function Xe(p,v){return p[v+0]|p[v+1]<<8}function He(p,v){return Xe(p,v)|p[v+2]<<16}function Qe(p,v){return Xe(p,v)|Xe(p,v+2)<<16}function U(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=o(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function De(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function ut(){this.X=[],this.Xa=this.Mb=0}function nt(p,v,S,O){e(S!=null),e(O!=null);var q=S[0],Y=O[0];return q==0&&(q=(p*Y+v/2)/v),Y==0&&(Y=(v*q+p/2)/p),0>=q||0>=Y?0:(S[0]=q,O[0]=Y,1)}function Me(p,v){return p+(1<<v)-1>>>v}function tt(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function it(p,v){R[v]=function(S,O,q,Y,W,te,ne){var ae;for(ae=0;ae<W;++ae){var ye=R[p](te[ne+ae-1],q,Y+ae);te[ne+ae]=tt(S[O+ae],ye)}}}function lt(){this.ud=this.hd=this.jd=0}function pt(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function kt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ge(p,v){return kt(p+(p-v+.5>>1))}function Ke(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function ct(p,v,S,O,q,Y,W){for(O=Y[W-1],S=0;S<q;++S)Y[W+S]=O=tt(p[v+S],O)}function bt(p,v,S,O,q){var Y;for(Y=0;Y<S;++Y){var W=p[v+Y],te=W>>8&255,ne=16711935&(ne=(ne=16711935&W)+((te<<16)+te));O[q+Y]=(4278255360&W)+ne>>>0}}function ot(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function xt(p,v,S,O,q,Y){var W;for(W=0;W<O;++W){var te=v[S+W],ne=te>>>8,ae=te,ye=255&(ye=(ye=te>>>16)+((p.jd<<24>>24)*(ne<<24>>24)>>>5));ae=255&(ae=(ae+=(p.hd<<24>>24)*(ne<<24>>24)>>>5)+((p.ud<<24>>24)*(ye<<24>>24)>>>5)),q[Y+W]=(4278255360&te)+(ye<<16)+ae}}function st(p,v,S,O,q){R[v]=function(Y,W,te,ne,ae,ye,Ee,se,xe){for(ne=Ee;ne<se;++ne)for(Ee=0;Ee<xe;++Ee)ae[ye++]=q(te[O(Y[W++])])},R[p]=function(Y,W,te,ne,ae,ye,Ee){var se=8>>Y.b,xe=Y.Ea,Ce=Y.K[0],Ve=Y.w;if(8>se)for(Y=(1<<Y.b)-1,Ve=(1<<se)-1;W<te;++W){var Te,Ie=0;for(Te=0;Te<xe;++Te)Te&Y||(Ie=O(ne[ae++])),ye[Ee++]=q(Ce[Ie&Ve]),Ie>>=se}else R["VP8LMapColor"+S](ne,ae,Ce,Ve,ye,Ee,W,te,xe)}}function Ut(p,v,S,O,q){for(S=v+S;v<S;){var Y=p[v++];O[q++]=Y>>16&255,O[q++]=Y>>8&255,O[q++]=255&Y}}function Dt(p,v,S,O,q){for(S=v+S;v<S;){var Y=p[v++];O[q++]=Y>>16&255,O[q++]=Y>>8&255,O[q++]=255&Y,O[q++]=Y>>24&255}}function St(p,v,S,O,q){for(S=v+S;v<S;){var Y=(W=p[v++])>>16&240|W>>12&15,W=240&W|W>>28&15;O[q++]=Y,O[q++]=W}}function At(p,v,S,O,q){for(S=v+S;v<S;){var Y=(W=p[v++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;O[q++]=Y,O[q++]=W}}function zt(p,v,S,O,q){for(S=v+S;v<S;){var Y=p[v++];O[q++]=255&Y,O[q++]=Y>>8&255,O[q++]=Y>>16&255}}function we(p,v,S,O,q,Y){if(Y==0)for(S=v+S;v<S;)Re(O,((Y=p[v++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),q+=32;else r(O,q,p,v,S)}function Be(p,v){R[v][0]=R[p+"0"],R[v][1]=R[p+"1"],R[v][2]=R[p+"2"],R[v][3]=R[p+"3"],R[v][4]=R[p+"4"],R[v][5]=R[p+"5"],R[v][6]=R[p+"6"],R[v][7]=R[p+"7"],R[v][8]=R[p+"8"],R[v][9]=R[p+"9"],R[v][10]=R[p+"10"],R[v][11]=R[p+"11"],R[v][12]=R[p+"12"],R[v][13]=R[p+"13"],R[v][14]=R[p+"0"],R[v][15]=R[p+"0"]}function qe(p){return p==Pc||p==Ou||p==Rl||p==Lu}function rt(){this.eb=[],this.size=this.A=this.fb=0}function Et(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function et(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new rt,this.f.kb=new Et,this.sd=null}function Je(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Nn(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function $t(p,v){var S=p.T,O=v.ba.f.RGBA,q=O.eb,Y=O.fb+p.ka*O.A,W=rr[v.ba.S],te=p.y,ne=p.O,ae=p.f,ye=p.N,Ee=p.ea,se=p.W,xe=v.cc,Ce=v.dc,Ve=v.Mc,Te=v.Nc,Ie=p.ka,Pe=p.ka+p.T,$e=p.U,We=$e+1>>1;for(Ie==0?W(te,ne,null,null,ae,ye,Ee,se,ae,ye,Ee,se,q,Y,null,null,$e):(W(v.ec,v.fc,te,ne,xe,Ce,Ve,Te,ae,ye,Ee,se,q,Y-O.A,q,Y,$e),++S);Ie+2<Pe;Ie+=2)xe=ae,Ce=ye,Ve=Ee,Te=se,ye+=p.Rc,se+=p.Rc,Y+=2*O.A,W(te,(ne+=2*p.fa)-p.fa,te,ne,xe,Ce,Ve,Te,ae,ye,Ee,se,q,Y-O.A,q,Y,$e);return ne+=p.fa,p.j+Pe<p.o?(r(v.ec,v.fc,te,ne,$e),r(v.cc,v.dc,ae,ye,We),r(v.Mc,v.Nc,Ee,se,We),S--):1&Pe||W(te,ne,null,null,ae,ye,Ee,se,ae,ye,Ee,se,q,Y+O.A,null,null,$e),S}function cn(p,v,S){var O=p.F,q=[p.J];if(O!=null){var Y=p.U,W=v.ba.S,te=W==Fc||W==Rl;v=v.ba.f.RGBA;var ne=[0],ae=p.ka;ne[0]=p.T,p.Kb&&(ae==0?--ne[0]:(--ae,q[0]-=p.width),p.j+p.ka+p.T==p.o&&(ne[0]=p.o-p.j-ae));var ye=v.eb;ae=v.fb+ae*v.A,p=Vc(O,q[0],p.width,Y,ne,ye,ae+(te?0:3),v.A),e(S==ne),p&&qe(W)&&Wo(ye,ae,te,Y,ne,v.A)}return 0}function Cn(p){var v=p.ma,S=v.ba.S,O=11>S,q=S==dr||S==os||S==Fc||S==jl||S==12||qe(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Oa(v.Oa,p,q?11:12))return 0;if(q&&qe(S)&&Dc(),p.da)alert("todo:use_scaling");else{if(O){if(v.Ib=Nn,p.Kb){if(S=p.U+1>>1,v.memory=o(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=$t,Dc()}}else alert("todo:EmitYUV");q&&(v.Jb=cn,O&&Ms())}if(O&&!yo){for(p=0;256>p;++p)sr[p]=89858*(p-128)+Bl>>ds,B1[p]=-22014*(p-128)+Bl,xd[p]=-45773*(p-128),Iu[p]=113618*(p-128)+Bl>>ds;for(p=Qo;p<vo;++p)v=76283*(p-16)+Bl>>ds,q1[p-Qo]=Gr(v,255),z1[p-Qo]=Gr(v+8>>4,15);yo=1}return 1}function ht(p){var v=p.ma,S=p.U,O=p.T;return e(!(1&p.ka)),0>=S||0>=O?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function sn(p){p.ma.memory=null}function jn(p,v,S,O){return X(p,8)!=47?0:(v[0]=X(p,14)+1,S[0]=X(p,14)+1,O[0]=X(p,1),X(p,3)!=0?0:!p.h)}function Tn(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+X(v,S)+1}function Mn(p,v){return 120<v?v-120:1<=(S=((S=cs[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function Jt(p,v,S){var O=ee(S),q=p[v+=255&O].g-8;return 0<q&&(oe(S,S.u+8),O=ee(S),v+=p[v].value,v+=O&(1<<q)-1),oe(S,S.u+p[v].g),p[v].value}function En(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function Dn(p,v,S){var O=p.xc;return e((v=O==0?0:p.vc[p.md*(S>>O)+(v>>O)])<p.Wb),p.Ya[v]}function $i(p,v,S,O){var q=p.ab,Y=p.c*v,W=p.C;v=W+v;var te=S,ne=O;for(O=p.Ta,S=p.Ua;0<q--;){var ae=p.gc[q],ye=W,Ee=v,se=te,xe=ne,Ce=(ne=O,te=S,ae.Ea);switch(e(ye<Ee),e(Ee<=ae.nc),ae.hc){case 2:bi(se,xe,(Ee-ye)*Ce,ne,te);break;case 0:var Ve=ye,Te=Ee,Ie=ne,Pe=te,$e=(mt=ae).Ea;Ve==0&&(Ol(se,xe,null,null,1,Ie,Pe),ct(se,xe+1,0,0,$e-1,Ie,Pe+1),xe+=$e,Pe+=$e,++Ve);for(var We=1<<mt.b,_t=We-1,ft=Me($e,mt.b),Ft=mt.K,mt=mt.w+(Ve>>mt.b)*ft;Ve<Te;){var en=Ft,Zn=mt,Yt=1;for(Ll(se,xe,Ie,Pe-$e,1,Ie,Pe);Yt<$e;){var dt=(Yt&~_t)+We;dt>$e&&(dt=$e),(0,Ma[en[Zn++]>>8&15])(se,xe+ +Yt,Ie,Pe+Yt-$e,dt-Yt,Ie,Pe+Yt),Yt=dt}xe+=$e,Pe+=$e,++Ve&_t||(mt+=ft)}Ee!=ae.nc&&r(ne,te-Ce,ne,te+(Ee-ye-1)*Ce,Ce);break;case 1:for(Ce=se,Te=xe,$e=(se=ae.Ea)-(Pe=se&~(Ie=(xe=1<<ae.b)-1)),Ve=Me(se,ae.b),We=ae.K,ae=ae.w+(ye>>ae.b)*Ve;ye<Ee;){for(_t=We,ft=ae,Ft=new lt,mt=Te+Pe,en=Te+se;Te<mt;)ot(_t[ft++],Ft),Ml(Ft,Ce,Te,xe,ne,te),Te+=xe,te+=xe;Te<en&&(ot(_t[ft++],Ft),Ml(Ft,Ce,Te,$e,ne,te),Te+=$e,te+=$e),++ye&Ie||(ae+=Ve)}break;case 3:if(se==ne&&xe==te&&0<ae.b){for(Te=ne,se=Ce=te+(Ee-ye)*Ce-(Pe=(Ee-ye)*Me(ae.Ea,ae.b)),xe=ne,Ie=te,Ve=[],Pe=($e=Pe)-1;0<=Pe;--Pe)Ve[Pe]=xe[Ie+Pe];for(Pe=$e-1;0<=Pe;--Pe)Te[se+Pe]=Ve[Pe];Nu(ae,ye,Ee,ne,Ce,ne,te)}else Nu(ae,ye,Ee,se,xe,ne,te)}te=O,ne=S}ne!=S&&r(O,S,te,ne,Y)}function ui(p,v){var S=p.V,O=p.Ba+p.c*p.C,q=v-p.C;if(e(v<=p.l.o),e(16>=q),0<q){var Y=p.l,W=p.Ta,te=p.Ua,ne=Y.width;if($i(p,q,S,O),q=te=[te],e((S=p.C)<(O=v)),e(Y.v<Y.va),O>Y.o&&(O=Y.o),S<Y.j){var ae=Y.j-S;S=Y.j,q[0]+=ae*ne}if(S>=O?S=0:(q[0]+=4*Y.v,Y.ka=S-Y.j,Y.U=Y.va-Y.v,Y.T=O-S,S=1),S){if(te=te[0],11>(S=p.ca).S){var ye=S.f.RGBA,Ee=(O=S.S,q=Y.U,Y=Y.T,ae=ye.eb,ye.A),se=Y;for(ye=ye.fb+p.Ma*ye.A;0<se--;){var xe=W,Ce=te,Ve=q,Te=ae,Ie=ye;switch(O){case Eu:Dl(xe,Ce,Ve,Te,Ie);break;case dr:Da(xe,Ce,Ve,Te,Ie);break;case Pc:Da(xe,Ce,Ve,Te,Ie),Wo(Te,Ie,0,Ve,1,0);break;case ku:Go(xe,Ce,Ve,Te,Ie);break;case os:we(xe,Ce,Ve,Te,Ie,1);break;case Ou:we(xe,Ce,Ve,Te,Ie,1),Wo(Te,Ie,0,Ve,1,0);break;case Fc:we(xe,Ce,Ve,Te,Ie,0);break;case Rl:we(xe,Ce,Ve,Te,Ie,0),Wo(Te,Ie,1,Ve,1,0);break;case jl:ja(xe,Ce,Ve,Te,Ie);break;case Lu:ja(xe,Ce,Ve,Te,Ie),as(Te,Ie,Ve,1,0);break;case ho:sa(xe,Ce,Ve,Te,Ie);break;default:e(0)}te+=ne,ye+=Ee}p.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function wn(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,O=p.Ya[v].H;if(0<S[1][O[1]+0].g||0<S[2][O[2]+0].g||0<S[3][O[3]+0].g)return 0}return 1}function Wn(p,v,S,O,q,Y){if(p.Z!=0){var W=p.qd,te=p.rd;for(e(Va[p.Z]!=null);v<S;++v)Va[p.Z](W,te,O,q,O,q,Y),W=O,te=q,q+=Y;p.qd=W,p.rd=te}}function ji(p,v){var S=p.l.ma,O=S.Z==0||S.Z==1?p.l.j:p.C;if(O=p.C<O?O:p.C,e(v<=p.l.o),v>O){var q=p.l.width,Y=S.ca,W=S.tb+q*O,te=p.V,ne=p.Ba+p.c*O,ae=p.gc;e(p.ab==1),e(ae[0].hc==3),ra(ae[0],O,v,te,ne,Y,W),Wn(S,O,v,Y,W,q)}p.C=p.Ma=v}function ur(p,v,S,O,q,Y,W){var te=p.$/O,ne=p.$%O,ae=p.m,ye=p.s,Ee=S+p.$,se=Ee;q=S+O*q;var xe=S+O*Y,Ce=280+ye.ua,Ve=p.Pb?te:16777216,Te=0<ye.ua?ye.Wa:null,Ie=ye.wc,Pe=Ee<xe?Dn(ye,ne,te):null;e(p.C<Y),e(xe<=q);var $e=!1;e:for(;;){for(;$e||Ee<xe;){var We=0;if(te>=Ve){var _t=Ee-S;e((Ve=p).Pb),Ve.wd=Ve.m,Ve.xd=_t,0<Ve.s.ua&&De(Ve.s.Wa,Ve.s.vb),Ve=te+fo}if(ne&Ie||(Pe=Dn(ye,ne,te)),e(Pe!=null),Pe.Qb&&(v[Ee]=Pe.qb,$e=!0),!$e)if(me(ae),Pe.jc){We=ae,_t=v;var ft=Ee,Ft=Pe.pd[ee(We)&uo-1];e(Pe.jc),256>Ft.g?(oe(We,We.u+Ft.g),_t[ft]=Ft.value,We=0):(oe(We,We.u+Ft.g-256),e(256<=Ft.value),We=Ft.value),We==0&&($e=!0)}else We=Jt(Pe.G[0],Pe.H[0],ae);if(ae.h)break;if($e||256>We){if(!$e)if(Pe.nd)v[Ee]=(Pe.qb|We<<8)>>>0;else{if(me(ae),$e=Jt(Pe.G[1],Pe.H[1],ae),me(ae),_t=Jt(Pe.G[2],Pe.H[2],ae),ft=Jt(Pe.G[3],Pe.H[3],ae),ae.h)break;v[Ee]=(ft<<24|$e<<16|We<<8|_t)>>>0}if($e=!1,++Ee,++ne>=O&&(ne=0,++te,W!=null&&te<=Y&&!(te%16)&&W(p,te),Te!=null))for(;se<Ee;)We=v[se++],Te.X[(506832829*We&4294967295)>>>Te.Mb]=We}else if(280>We){if(We=Tn(We-256,ae),_t=Jt(Pe.G[4],Pe.H[4],ae),me(ae),_t=Mn(O,_t=Tn(_t,ae)),ae.h)break;if(Ee-S<_t||q-Ee<We)break e;for(ft=0;ft<We;++ft)v[Ee+ft]=v[Ee+ft-_t];for(Ee+=We,ne+=We;ne>=O;)ne-=O,++te,W!=null&&te<=Y&&!(te%16)&&W(p,te);if(e(Ee<=q),ne&Ie&&(Pe=Dn(ye,ne,te)),Te!=null)for(;se<Ee;)We=v[se++],Te.X[(506832829*We&4294967295)>>>Te.Mb]=We}else{if(!(We<Ce))break e;for($e=We-280,e(Te!=null);se<Ee;)We=v[se++],Te.X[(506832829*We&4294967295)>>>Te.Mb]=We;We=Ee,e(!($e>>>(_t=Te).Xa)),v[We]=_t.X[$e],$e=!0}$e||e(ae.h==ie(ae))}if(p.Pb&&ae.h&&Ee<q)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&De(p.s.vb,p.s.Wa);else{if(ae.h)break e;W?.(p,te>Y?Y:te),p.a=0,p.$=Ee-S}return 1}return p.a=3,0}function Lr(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function ga(){var p=new Bt;return p==null?null:(p.a=0,p.xb=Gh,Be("Predictor","VP8LPredictors"),Be("Predictor","VP8LPredictors_C"),Be("PredictorAdd","VP8LPredictorsAdd"),Be("PredictorAdd","VP8LPredictorsAdd_C"),bi=bt,Ml=xt,Dl=Ut,Da=Dt,ja=St,sa=At,Go=zt,R.VP8LMapColor32b=ia,R.VP8LMapColor8b=tr,p)}function Pr(p,v,S,O,q){var Y=1,W=[p],te=[v],ne=O.m,ae=O.s,ye=null,Ee=0;e:for(;;){if(S)for(;Y&&X(ne,1);){var se=W,xe=te,Ce=O,Ve=1,Te=Ce.m,Ie=Ce.gc[Ce.ab],Pe=X(Te,2);if(Ce.Oc&1<<Pe)Y=0;else{switch(Ce.Oc|=1<<Pe,Ie.hc=Pe,Ie.Ea=se[0],Ie.nc=xe[0],Ie.K=[null],++Ce.ab,e(4>=Ce.ab),Pe){case 0:case 1:Ie.b=X(Te,3)+2,Ve=Pr(Me(Ie.Ea,Ie.b),Me(Ie.nc,Ie.b),0,Ce,Ie.K),Ie.K=Ie.K[0];break;case 3:var $e,We=X(Te,8)+1,_t=16<We?0:4<We?1:2<We?2:3;if(se[0]=Me(Ie.Ea,_t),Ie.b=_t,$e=Ve=Pr(We,1,0,Ce,Ie.K)){var ft,Ft=We,mt=Ie,en=1<<(8>>mt.b),Zn=o(en);if(Zn==null)$e=0;else{var Yt=mt.K[0],dt=mt.w;for(Zn[0]=mt.K[0][0],ft=1;ft<1*Ft;++ft)Zn[ft]=tt(Yt[dt+ft],Zn[ft-1]);for(;ft<4*en;++ft)Zn[ft]=0;mt.K[0]=null,mt.K[0]=Zn,$e=1}}Ve=$e;break;case 2:break;default:e(0)}Y=Ve}}if(W=W[0],te=te[0],Y&&X(ne,1)&&!(Y=1<=(Ee=X(ne,4))&&11>=Ee)){O.a=3;break e}var at;if(at=Y)t:{var ni,Rt,Zt,kn=O,Vi=W,ar=te,Fn=Ee,Ni=S,pr=kn.m,Ci=kn.s,Qt=[null],gn=1,ii=0,_n=us[Fn];n:for(;;){if(Ni&&X(pr,1)){var Bi=X(pr,3)+2,ri=Me(Vi,Bi),vn=Me(ar,Bi),wi=ri*vn;if(!Pr(ri,vn,0,kn,Qt))break n;for(Qt=Qt[0],Ci.xc=Bi,ni=0;ni<wi;++ni){var On=Qt[ni]>>8&65535;Qt[ni]=On,On>=gn&&(gn=On+1)}}if(pr.h)break n;for(Rt=0;5>Rt;++Rt){var Ti=Zo[Rt];!Rt&&0<Fn&&(Ti+=1<<Fn),ii<Ti&&(ii=Ti)}var Ei=h(gn*_n,P),Rn=gn,fn=h(Rn,ue);if(fn==null)var mr=null;else e(65536>=Rn),mr=fn;var fi=o(ii);if(mr==null||fi==null||Ei==null){kn.a=1;break n}var Ot=Ei;for(ni=Zt=0;ni<gn;++ni){var Lt=mr[ni],yn=Lt.G,jr=Lt.H,ps=0,Nr=1,ki=0;for(Rt=0;5>Rt;++Rt){Ti=Zo[Rt],yn[Rt]=Ot,jr[Rt]=Zt,!Rt&&0<Fn&&(Ti+=1<<Fn);r:{var bo,xo=Ti,Bu=kn,Pn=fi,Wh=Ot,Xh=Zt,qu=0,Ba=Bu.m,F1=X(Ba,1);if(a(Pn,0,0,xo),F1){var Zh=X(Ba,1)+1,Kh=X(Ba,1),zu=X(Ba,Kh==0?1:8);Pn[zu]=1,Zh==2&&(Pn[zu=X(Ba,8)]=1);var Gi=1}else{var di=o(19),Yc=X(Ba,4)+4;if(19<Yc){Bu.a=3;var _o=0;break r}for(bo=0;bo<Yc;++bo)di[Uc[bo]]=X(Ba,3);var zl=void 0,$o=void 0,la=Bu,Fu=di,Fl=xo,Pu=Pn,Uu=0,qa=la.m,Qh=8,$h=h(128,P);i:for(;j($h,0,7,Fu,19);){if(X(qa,1)){var _d=2+2*X(qa,3);if((zl=2+X(qa,_d))>Fl)break i}else zl=Fl;for($o=0;$o<Fl&&zl--;){me(qa);var Jh=$h[0+(127&ee(qa))];oe(qa,qa.u+Jh.g);var wo=Jh.value;if(16>wo)Pu[$o++]=wo,wo!=0&&(Qh=wo);else{var wd=wo==16,Sd=wo-16,Ad=Il[Sd],ef=X(qa,ls[Sd])+Ad;if($o+ef>Fl)break i;for(var Nd=wd?Qh:0;0<ef--;)Pu[$o++]=Nd}}Uu=1;break i}Uu||(la.a=3),Gi=Uu}(Gi=Gi&&!Ba.h)&&(qu=j(Wh,Xh,8,Pn,xo)),Gi&&qu!=0?_o=qu:(Bu.a=3,_o=0)}if(_o==0)break n;if(Nr&&Mu[Rt]==1&&(Nr=Ot[Zt].g==0),ps+=Ot[Zt].g,Zt+=_o,3>=Rt){var Jo,Hu=fi[0];for(Jo=1;Jo<Ti;++Jo)fi[Jo]>Hu&&(Hu=fi[Jo]);ki+=Hu}}if(Lt.nd=Nr,Lt.Qb=0,Nr&&(Lt.qb=(yn[3][jr[3]+0].value<<24|yn[1][jr[1]+0].value<<16|yn[2][jr[2]+0].value)>>>0,ps==0&&256>yn[0][jr[0]+0].value&&(Lt.Qb=1,Lt.qb+=yn[0][jr[0]+0].value<<8)),Lt.jc=!Lt.Qb&&6>ki,Lt.jc){var Wc,ca=Lt;for(Wc=0;Wc<uo;++Wc){var za=Wc,Fa=ca.pd[za],Gu=ca.G[0][ca.H[0]+za];256<=Gu.value?(Fa.g=Gu.g+256,Fa.value=Gu.value):(Fa.g=0,Fa.value=0,za>>=En(Gu,8,Fa),za>>=En(ca.G[1][ca.H[1]+za],16,Fa),za>>=En(ca.G[2][ca.H[2]+za],0,Fa),En(ca.G[3][ca.H[3]+za],24,Fa))}}}Ci.vc=Qt,Ci.Wb=gn,Ci.Ya=mr,Ci.yc=Ei,at=1;break t}at=0}if(!(Y=at)){O.a=3;break e}if(0<Ee){if(ae.ua=1<<Ee,!U(ae.Wa,Ee)){O.a=1,Y=0;break e}}else ae.ua=0;var Yu=O,el=W,Cd=te,Pl=Yu.s,Ul=Pl.xc;if(Yu.c=el,Yu.i=Cd,Pl.md=Me(el,Ul),Pl.wc=Ul==0?-1:(1<<Ul)-1,S){O.xb=po;break e}if((ye=o(W*te))==null){O.a=1,Y=0;break e}Y=(Y=ur(O,ye,0,W,te,te,null))&&!ne.h;break e}return Y?(q!=null?q[0]=ye:(e(ye==null),e(S)),O.$=0,S||Lr(ae)):Lr(ae),Y}function Ur(p,v){var S=p.c*p.i,O=S+v+16*v;return e(p.c<=v),p.V=o(O),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function Xs(p,v){var S=p.C,O=v-S,q=p.V,Y=p.Ba+p.c*S;for(e(v<=p.l.o);0<O;){var W=16<O?16:O,te=p.l.ma,ne=p.l.width,ae=ne*W,ye=te.ca,Ee=te.tb+ne*S,se=p.Ta,xe=p.Ua;$i(p,W,q,Y),Kr(se,xe,ye,Ee,ae),Wn(te,S,S+W,ye,Ee,ne),O-=W,q+=W*p.c,S+=W}e(S==v),p.C=p.Ma=v}function Cs(){this.ub=this.yd=this.td=this.Rb=0}function Ts(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Vo(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Zs(){this.Yb=(function(){var p=[];return(function v(S,O,q){for(var Y=q[O],W=0;W<Y&&(S.push(q.length>O+1?[]:0),!(q.length<O+1));W++)v(S[W],O+1,q)})(p,0,[3,11]),p})()}function vi(){this.jb=o(3),this.Wc=c([4,8],Zs),this.Xc=c([4,17],Zs)}function bc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Hr(){this.ld=this.La=this.dd=this.tc=0}function Es(){this.Na=this.la=0}function va(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xc(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _c(){this.uc=this.M=this.Nb=0,this.wa=Array(new Hr),this.Y=0,this.ya=Array(new xc),this.aa=0,this.l=new ya}function wc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function mu(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Cs,this.Kc=new Ts,this.ed=new bc,this.Qa=new Vo,this.Ic=this.$c=this.Aa=0,this.D=new _c,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=h(8,T),this.ia=0,this.pb=h(4,va),this.Pa=new vi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wc),this.Hd=0,this.rb=Array(new Es),this.sb=0,this.wa=Array(new Hr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xc),this.L=this.aa=0,this.gd=c([4,2],Hr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gr(p,v){return 0>p?0:p>v?v:p}function ya(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ks(){var p=new mu;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Qr||(Qr=ao)),p}function bn(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function Sc(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Ks(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return bn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,O=v.w,q=v.ha;if(4>q)return bn(p,7,"Truncated header.");var Y=S[O+0]|S[O+1]<<8|S[O+2]<<16,W=p.Od;if(W.Rb=!(1&Y),W.td=Y>>1&7,W.yd=Y>>4&1,W.ub=Y>>5,3<W.td)return bn(p,3,"Incorrect keyframe parameters.");if(!W.yd)return bn(p,4,"Frame not displayable.");O+=3,q-=3;var te=p.Kc;if(W.Rb){if(7>q)return bn(p,7,"cannot parse picture header");if(!Sc(S,O,q))return bn(p,3,"Bad code word");te.c=16383&(S[O+4]<<8|S[O+3]),te.Td=S[O+4]>>6,te.i=16383&(S[O+6]<<8|S[O+5]),te.Ud=S[O+6]>>6,O+=7,q-=7,p.za=te.c+15>>4,p.Ub=te.i+15>>4,v.width=te.c,v.height=te.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((Y=p.Pa).jb,0,255,Y.jb.length),e((Y=p.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,a(Y.Zb,0,0,Y.Zb.length),a(Y.Lb,0,0,Y.Lb)}if(W.ub>q)return bn(p,7,"bad partition length");$(Y=p.m,S,O,W.ub),O+=W.ub,q-=W.ub,W.Rb&&(te.Ld=ge(Y),te.Kd=ge(Y)),te=p.Qa;var ne,ae=p.Pa;if(e(Y!=null),e(te!=null),te.Cb=ge(Y),te.Cb){if(te.Bb=ge(Y),ge(Y)){for(te.Fb=ge(Y),ne=0;4>ne;++ne)te.Zb[ne]=ge(Y)?ce(Y,7):0;for(ne=0;4>ne;++ne)te.Lb[ne]=ge(Y)?ce(Y,6):0}if(te.Bb)for(ne=0;3>ne;++ne)ae.jb[ne]=ge(Y)?re(Y,8):255}else te.Bb=0;if(Y.Ka)return bn(p,3,"cannot parse segment header");if((te=p.ed).zd=ge(Y),te.Tb=re(Y,6),te.wb=re(Y,3),te.Pc=ge(Y),te.Pc&&ge(Y)){for(ae=0;4>ae;++ae)ge(Y)&&(te.vd[ae]=ce(Y,6));for(ae=0;4>ae;++ae)ge(Y)&&(te.od[ae]=ce(Y,6))}if(p.L=te.Tb==0?0:te.zd?1:2,Y.Ka)return bn(p,3,"cannot parse filter header");var ye=q;if(q=ne=O,O=ne+ye,te=ye,p.Xb=(1<<re(p.m,2))-1,ye<3*(ae=p.Xb))S=7;else{for(ne+=3*ae,te-=3*ae,ye=0;ye<ae;++ye){var Ee=S[q+0]|S[q+1]<<8|S[q+2]<<16;Ee>te&&(Ee=te),$(p.Jc[+ye],S,ne,Ee),ne+=Ee,te-=Ee,q+=3}$(p.Jc[+ae],S,ne,te),S=ne<O?0:5}if(S!=0)return bn(p,S,"cannot parse partitions");for(S=re(ne=p.m,7),q=ge(ne)?ce(ne,4):0,O=ge(ne)?ce(ne,4):0,te=ge(ne)?ce(ne,4):0,ae=ge(ne)?ce(ne,4):0,ne=ge(ne)?ce(ne,4):0,ye=p.Qa,Ee=0;4>Ee;++Ee){if(ye.Cb){var se=ye.Zb[Ee];ye.Fb||(se+=S)}else{if(0<Ee){p.pb[Ee]=p.pb[0];continue}se=S}var xe=p.pb[Ee];xe.Sc[0]=hs[Gr(se+q,127)],xe.Sc[1]=fs[Gr(se+0,127)],xe.Eb[0]=2*hs[Gr(se+O,127)],xe.Eb[1]=101581*fs[Gr(se+te,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=hs[Gr(se+ae,117)],xe.Qc[1]=fs[Gr(se+ne,127)],xe.lc=se+ne}if(!W.Rb)return bn(p,4,"Not a key frame.");for(ge(Y),W=p.Pa,S=0;4>S;++S){for(q=0;8>q;++q)for(O=0;3>O;++O)for(te=0;11>te;++te)ae=_e(Y,Xn[S][q][O][te])?re(Y,8):bd[S][q][O][te],W.Wc[S][q].Yb[O][te]=ae;for(q=0;17>q;++q)W.Xc[S][q]=W.Wc[S][tn[q]]}return p.kc=ge(Y),p.kc&&(p.Bd=re(Y,8)),p.cb=1}function ao(p,v,S,O,q,Y,W){var te=v[q].Yb[S];for(S=0;16>q;++q){if(!_e(p,te[S+0]))return q;for(;!_e(p,te[S+1]);)if(te=v[++q].Yb[0],S=0,q==16)return 16;var ne=v[q+1].Yb;if(_e(p,te[S+2])){var ae=p,ye=0;if(_e(ae,(se=te)[(Ee=S)+3]))if(_e(ae,se[Ee+6])){for(te=0,Ee=2*(ye=_e(ae,se[Ee+8]))+(se=_e(ae,se[Ee+9+ye])),ye=0,se=yd[Ee];se[te];++te)ye+=ye+_e(ae,se[te]);ye+=3+(8<<Ee)}else _e(ae,se[Ee+7])?(ye=7+2*_e(ae,165),ye+=_e(ae,145)):ye=5+_e(ae,159);else ye=_e(ae,se[Ee+4])?3+_e(ae,se[Ee+5]):2;te=ne[2]}else ye=1,te=ne[1];ne=W+Hh[q],0>(ae=p).b&&de(ae);var Ee,se=ae.b,xe=(Ee=ae.Ca>>1)-(ae.I>>se)>>31;--ae.b,ae.Ca+=xe,ae.Ca|=1,ae.I-=(Ee+1&xe)<<se,Y[ne]=((ye^xe)-xe)*O[(0<q)+0]}return 16}function Ac(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function xr(p,v,S,O,q){q=p[v+S+32*O]+(q>>3),p[v+S+32*O]=-256&q?0>q?0:255:q}function Ri(p,v,S,O,q,Y){xr(p,v,0,S,O+q),xr(p,v,1,S,O+Y),xr(p,v,2,S,O-Y),xr(p,v,3,S,O-q)}function Si(p){return(20091*p>>16)+p}function Sl(p,v,S,O){var q,Y=0,W=o(16);for(q=0;4>q;++q){var te=p[v+0]+p[v+8],ne=p[v+0]-p[v+8],ae=(35468*p[v+4]>>16)-Si(p[v+12]),ye=Si(p[v+4])+(35468*p[v+12]>>16);W[Y+0]=te+ye,W[Y+1]=ne+ae,W[Y+2]=ne-ae,W[Y+3]=te-ye,Y+=4,v++}for(q=Y=0;4>q;++q)te=(p=W[Y+0]+4)+W[Y+8],ne=p-W[Y+8],ae=(35468*W[Y+4]>>16)-Si(W[Y+12]),xr(S,O,0,0,te+(ye=Si(W[Y+4])+(35468*W[Y+12]>>16))),xr(S,O,1,0,ne+ae),xr(S,O,2,0,ne-ae),xr(S,O,3,0,te-ye),Y++,O+=32}function gu(p,v,S,O){var q=p[v+0]+4,Y=35468*p[v+4]>>16,W=Si(p[v+4]),te=35468*p[v+1]>>16;Ri(S,O,0,q+W,p=Si(p[v+1]),te),Ri(S,O,1,q+Y,p,te),Ri(S,O,2,q-Y,p,te),Ri(S,O,3,q-W,p,te)}function Nc(p,v,S,O,q){Sl(p,v,S,O),q&&Sl(p,v+16,S,O+4)}function _r(p,v,S,O){Ra(p,v+0,S,O,1),Ra(p,v+32,S,O+128,1)}function Cc(p,v,S,O){var q;for(p=p[v+0]+4,q=0;4>q;++q)for(v=0;4>v;++v)xr(S,O,v,q,p)}function Tc(p,v,S,O){p[v+0]&&xn(p,v+0,S,O),p[v+16]&&xn(p,v+16,S,O+4),p[v+32]&&xn(p,v+32,S,O+128),p[v+48]&&xn(p,v+48,S,O+128+4)}function Os(p,v,S,O){var q,Y=o(16);for(q=0;4>q;++q){var W=p[v+0+q]+p[v+12+q],te=p[v+4+q]+p[v+8+q],ne=p[v+4+q]-p[v+8+q],ae=p[v+0+q]-p[v+12+q];Y[0+q]=W+te,Y[8+q]=W-te,Y[4+q]=ae+ne,Y[12+q]=ae-ne}for(q=0;4>q;++q)W=(p=Y[0+4*q]+3)+Y[3+4*q],te=Y[1+4*q]+Y[2+4*q],ne=Y[1+4*q]-Y[2+4*q],ae=p-Y[3+4*q],S[O+0]=W+te>>3,S[O+16]=ae+ne>>3,S[O+32]=W-te>>3,S[O+48]=ae-ne>>3,O+=64}function Bo(p,v,S){var O,q=v-32,Y=fr,W=255-p[q-1];for(O=0;O<S;++O){var te,ne=Y,ae=W+p[v-1];for(te=0;te<S;++te)p[v+te]=ne[ae+p[q+te]];v+=32}}function vu(p,v){Bo(p,v,4)}function yu(p,v){Bo(p,v,8)}function Ec(p,v){Bo(p,v,16)}function kc(p,v){var S;for(S=0;16>S;++S)r(p,v+32*S,p,v-32,16)}function bu(p,v){var S;for(S=16;0<S;--S)a(p,v,p[v-1],16),v+=32}function Mr(p,v,S){var O;for(O=0;16>O;++O)a(v,S+32*O,p,16)}function Ls(p,v){var S,O=16;for(S=0;16>S;++S)O+=p[v-1+32*S]+p[v+S-32];Mr(O>>5,p,v)}function ba(p,v){var S,O=8;for(S=0;16>S;++S)O+=p[v-1+32*S];Mr(O>>4,p,v)}function qo(p,v){var S,O=8;for(S=0;16>S;++S)O+=p[v+S-32];Mr(O>>4,p,v)}function oo(p,v){Mr(128,p,v)}function jt(p,v,S){return p+2*v+S+2>>2}function xu(p,v){var S,O=v-32;for(O=new Uint8Array([jt(p[O-1],p[O+0],p[O+1]),jt(p[O+0],p[O+1],p[O+2]),jt(p[O+1],p[O+2],p[O+3]),jt(p[O+2],p[O+3],p[O+4])]),S=0;4>S;++S)r(p,v+32*S,O,0,O.length)}function Oc(p,v){var S=p[v-1],O=p[v-1+32],q=p[v-1+64],Y=p[v-1+96];Re(p,v+0,16843009*jt(p[v-1-32],S,O)),Re(p,v+32,16843009*jt(S,O,q)),Re(p,v+64,16843009*jt(O,q,Y)),Re(p,v+96,16843009*jt(q,Y,Y))}function _u(p,v){var S,O=4;for(S=0;4>S;++S)O+=p[v+S-32]+p[v-1+32*S];for(O>>=3,S=0;4>S;++S)a(p,v+32*S,O,4)}function Yr(p,v){var S=p[v-1+0],O=p[v-1+32],q=p[v-1+64],Y=p[v-1-32],W=p[v+0-32],te=p[v+1-32],ne=p[v+2-32],ae=p[v+3-32];p[v+0+96]=jt(O,q,p[v-1+96]),p[v+1+96]=p[v+0+64]=jt(S,O,q),p[v+2+96]=p[v+1+64]=p[v+0+32]=jt(Y,S,O),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=jt(W,Y,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=jt(te,W,Y),p[v+3+32]=p[v+2+0]=jt(ne,te,W),p[v+3+0]=jt(ae,ne,te)}function Ji(p,v){var S=p[v+1-32],O=p[v+2-32],q=p[v+3-32],Y=p[v+4-32],W=p[v+5-32],te=p[v+6-32],ne=p[v+7-32];p[v+0+0]=jt(p[v+0-32],S,O),p[v+1+0]=p[v+0+32]=jt(S,O,q),p[v+2+0]=p[v+1+32]=p[v+0+64]=jt(O,q,Y),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=jt(q,Y,W),p[v+3+32]=p[v+2+64]=p[v+1+96]=jt(Y,W,te),p[v+3+64]=p[v+2+96]=jt(W,te,ne),p[v+3+96]=jt(te,ne,ne)}function Lc(p,v){var S=p[v-1+0],O=p[v-1+32],q=p[v-1+64],Y=p[v-1-32],W=p[v+0-32],te=p[v+1-32],ne=p[v+2-32],ae=p[v+3-32];p[v+0+0]=p[v+1+64]=Y+W+1>>1,p[v+1+0]=p[v+2+64]=W+te+1>>1,p[v+2+0]=p[v+3+64]=te+ne+1>>1,p[v+3+0]=ne+ae+1>>1,p[v+0+96]=jt(q,O,S),p[v+0+64]=jt(O,S,Y),p[v+0+32]=p[v+1+96]=jt(S,Y,W),p[v+1+32]=p[v+2+96]=jt(Y,W,te),p[v+2+32]=p[v+3+96]=jt(W,te,ne),p[v+3+32]=jt(te,ne,ae)}function zo(p,v){var S=p[v+0-32],O=p[v+1-32],q=p[v+2-32],Y=p[v+3-32],W=p[v+4-32],te=p[v+5-32],ne=p[v+6-32],ae=p[v+7-32];p[v+0+0]=S+O+1>>1,p[v+1+0]=p[v+0+64]=O+q+1>>1,p[v+2+0]=p[v+1+64]=q+Y+1>>1,p[v+3+0]=p[v+2+64]=Y+W+1>>1,p[v+0+32]=jt(S,O,q),p[v+1+32]=p[v+0+96]=jt(O,q,Y),p[v+2+32]=p[v+1+96]=jt(q,Y,W),p[v+3+32]=p[v+2+96]=jt(Y,W,te),p[v+3+64]=jt(W,te,ne),p[v+3+96]=jt(te,ne,ae)}function Wr(p,v){var S=p[v-1+0],O=p[v-1+32],q=p[v-1+64],Y=p[v-1+96];p[v+0+0]=S+O+1>>1,p[v+2+0]=p[v+0+32]=O+q+1>>1,p[v+2+32]=p[v+0+64]=q+Y+1>>1,p[v+1+0]=jt(S,O,q),p[v+3+0]=p[v+1+32]=jt(O,q,Y),p[v+3+32]=p[v+1+64]=jt(q,Y,Y),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=Y}function Fo(p,v){var S=p[v-1+0],O=p[v-1+32],q=p[v-1+64],Y=p[v-1+96],W=p[v-1-32],te=p[v+0-32],ne=p[v+1-32],ae=p[v+2-32];p[v+0+0]=p[v+2+32]=S+W+1>>1,p[v+0+32]=p[v+2+64]=O+S+1>>1,p[v+0+64]=p[v+2+96]=q+O+1>>1,p[v+0+96]=Y+q+1>>1,p[v+3+0]=jt(te,ne,ae),p[v+2+0]=jt(W,te,ne),p[v+1+0]=p[v+3+32]=jt(S,W,te),p[v+1+32]=p[v+3+64]=jt(O,S,W),p[v+1+64]=p[v+3+96]=jt(q,O,S),p[v+1+96]=jt(Y,q,O)}function Qs(p,v){var S;for(S=0;8>S;++S)r(p,v+32*S,p,v-32,8)}function wu(p,v){var S;for(S=0;8>S;++S)a(p,v,p[v-1],8),v+=32}function is(p,v,S){var O;for(O=0;8>O;++O)a(v,S+32*O,p,8)}function Al(p,v){var S,O=8;for(S=0;8>S;++S)O+=p[v+S-32]+p[v-1+32*S];is(O>>4,p,v)}function Nl(p,v){var S,O=4;for(S=0;8>S;++S)O+=p[v+S-32];is(O>>3,p,v)}function Ui(p,v){var S,O=4;for(S=0;8>S;++S)O+=p[v-1+32*S];is(O>>3,p,v)}function $s(p,v){is(128,p,v)}function rs(p,v,S){var O=p[v-S],q=p[v+0],Y=3*(q-O)+Ia[1020+p[v-2*S]-p[v+S]],W=zc[112+(Y+4>>3)];p[v-S]=fr[255+O+zc[112+(Y+3>>3)]],p[v+0]=fr[255+q-W]}function xa(p,v,S,O){var q=p[v+0],Y=p[v+S];return nr[255+p[v-2*S]-p[v-S]]>O||nr[255+Y-q]>O}function Cl(p,v,S,O){return 4*nr[255+p[v-S]-p[v+0]]+nr[255+p[v-2*S]-p[v+S]]<=O}function Po(p,v,S,O,q){var Y=p[v-3*S],W=p[v-2*S],te=p[v-S],ne=p[v+0],ae=p[v+S],ye=p[v+2*S],Ee=p[v+3*S];return 4*nr[255+te-ne]+nr[255+W-ae]>O?0:nr[255+p[v-4*S]-Y]<=q&&nr[255+Y-W]<=q&&nr[255+W-te]<=q&&nr[255+Ee-ye]<=q&&nr[255+ye-ae]<=q&&nr[255+ae-ne]<=q}function _a(p,v,S,O){var q=2*O+1;for(O=0;16>O;++O)Cl(p,v+O,S,q)&&rs(p,v+O,S)}function wa(p,v,S,O){var q=2*O+1;for(O=0;16>O;++O)Cl(p,v+O*S,1,q)&&rs(p,v+O*S,1)}function Uo(p,v,S,O){var q;for(q=3;0<q;--q)_a(p,v+=4*S,S,O)}function Mc(p,v,S,O){var q;for(q=3;0<q;--q)wa(p,v+=4,S,O)}function Sa(p,v,S,O,q,Y,W,te){for(Y=2*Y+1;0<q--;){if(Po(p,v,S,Y,W))if(xa(p,v,S,te))rs(p,v,S);else{var ne=p,ae=v,ye=S,Ee=ne[ae-2*ye],se=ne[ae-ye],xe=ne[ae+0],Ce=ne[ae+ye],Ve=ne[ae+2*ye],Te=27*(Pe=Ia[1020+3*(xe-se)+Ia[1020+Ee-Ce]])+63>>7,Ie=18*Pe+63>>7,Pe=9*Pe+63>>7;ne[ae-3*ye]=fr[255+ne[ae-3*ye]+Pe],ne[ae-2*ye]=fr[255+Ee+Ie],ne[ae-ye]=fr[255+se+Te],ne[ae+0]=fr[255+xe-Te],ne[ae+ye]=fr[255+Ce-Ie],ne[ae+2*ye]=fr[255+Ve-Pe]}v+=O}}function Aa(p,v,S,O,q,Y,W,te){for(Y=2*Y+1;0<q--;){if(Po(p,v,S,Y,W))if(xa(p,v,S,te))rs(p,v,S);else{var ne=p,ae=v,ye=S,Ee=ne[ae-ye],se=ne[ae+0],xe=ne[ae+ye],Ce=zc[112+(4+(Ve=3*(se-Ee))>>3)],Ve=zc[112+(Ve+3>>3)],Te=Ce+1>>1;ne[ae-2*ye]=fr[255+ne[ae-2*ye]+Te],ne[ae-ye]=fr[255+Ee+Ve],ne[ae+0]=fr[255+se-Ce],ne[ae+ye]=fr[255+xe-Te]}v+=O}}function Su(p,v,S,O,q,Y){Sa(p,v,S,1,16,O,q,Y)}function Na(p,v,S,O,q,Y){Sa(p,v,1,S,16,O,q,Y)}function Au(p,v,S,O,q,Y){var W;for(W=3;0<W;--W)Aa(p,v+=4*S,S,1,16,O,q,Y)}function _(p,v,S,O,q,Y){var W;for(W=3;0<W;--W)Aa(p,v+=4,1,S,16,O,q,Y)}function B(p,v,S,O,q,Y,W,te){Sa(p,v,q,1,8,Y,W,te),Sa(S,O,q,1,8,Y,W,te)}function le(p,v,S,O,q,Y,W,te){Sa(p,v,1,q,8,Y,W,te),Sa(S,O,1,q,8,Y,W,te)}function ve(p,v,S,O,q,Y,W,te){Aa(p,v+4*q,q,1,8,Y,W,te),Aa(S,O+4*q,q,1,8,Y,W,te)}function Se(p,v,S,O,q,Y,W,te){Aa(p,v+4,1,q,8,Y,W,te),Aa(S,O+4,1,q,8,Y,W,te)}function Fe(){this.ba=new et,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ze(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Nt(){this.ua=0,this.Wa=new ut,this.vb=new ut,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new P}function Bt(){this.xb=this.a=0,this.l=new ya,this.ca=new et,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Nt,this.ab=0,this.gc=h(4,vt),this.Oc=0}function Gt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ya,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function un(p,v,S,O,q,Y,W){for(p=p==null?0:p[v+0],v=0;v<W;++v)q[Y+v]=p+S[O+v]&255,p=q[Y+v]}function ti(p,v,S,O,q,Y,W){var te;if(p==null)un(null,null,S,O,q,Y,W);else for(te=0;te<W;++te)q[Y+te]=p[v+te]+S[O+te]&255}function yi(p,v,S,O,q,Y,W){if(p==null)un(null,null,S,O,q,Y,W);else{var te,ne=p[v+0],ae=ne,ye=ne;for(te=0;te<W;++te)ae=ye+(ne=p[v+te])-ae,ye=S[O+te]+(-256&ae?0>ae?0:255:ae)&255,ae=ne,q[Y+te]=ye}}function qn(p,v,S,O){var q=v.width,Y=v.o;if(e(p!=null&&v!=null),0>S||0>=O||S+O>Y)return null;if(!p.Cc){if(p.ga==null){var W;if(p.ga=new Gt,(W=p.ga==null)||(W=v.width*v.o,e(p.Gb.length==0),p.Gb=o(W),p.Uc=0,p.Gb==null?W=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,W=1),W=!W),!W){W=p.ga;var te=p.Fa,ne=p.P,ae=p.qc,ye=p.mb,Ee=p.nb,se=ne+1,xe=ae-1,Ce=W.l;if(e(te!=null&&ye!=null&&v!=null),Va[0]=null,Va[1]=un,Va[2]=ti,Va[3]=yi,W.ca=ye,W.tb=Ee,W.c=v.width,W.i=v.height,e(0<W.c&&0<W.i),1>=ae)v=0;else if(W.$a=3&te[ne+0],W.Z=te[ne+0]>>2&3,W.Lc=te[ne+0]>>4&3,ne=te[ne+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||ne)v=0;else if(Ce.put=ht,Ce.ac=Cn,Ce.bc=sn,Ce.ma=W,Ce.width=v.width,Ce.height=v.height,Ce.Da=v.Da,Ce.v=v.v,Ce.va=v.va,Ce.j=v.j,Ce.o=v.o,W.$a)e:{e(W.$a==1),v=ga();t:for(;;){if(v==null){v=0;break e}if(e(W!=null),W.mc=v,v.c=W.c,v.i=W.i,v.l=W.l,v.l.ma=W,v.l.width=W.c,v.l.height=W.i,v.a=0,pe(v.m,te,se,xe),!Pr(W.c,W.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&wn(v.s)?(W.ic=1,te=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(te),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(W.ic=0,v=Ur(v,W.c)),!v))break t;v=1;break e}W.mc=null,v=0}else v=xe>=W.c*W.i;W=!v}if(W)return null;p.ga.Lc!=1?p.Ga=0:O=Y-S}e(p.ga!=null),e(S+O<=Y);e:{if(v=(te=p.ga).c,Y=te.l.o,te.$a==0){if(se=p.rc,xe=p.Vc,Ce=p.Fa,ne=p.P+1+S*v,ae=p.mb,ye=p.nb+S*v,e(ne<=p.P+p.qc),te.Z!=0)for(e(Va[te.Z]!=null),W=0;W<O;++W)Va[te.Z](se,xe,Ce,ne,ae,ye,v),se=ae,xe=ye,ye+=v,ne+=v;else for(W=0;W<O;++W)r(ae,ye,Ce,ne,v),se=ae,xe=ye,ye+=v,ne+=v;p.rc=se,p.Vc=xe}else{if(e(te.mc!=null),v=S+O,e((W=te.mc)!=null),e(v<=W.i),W.C>=v)v=1;else if(te.ic||Ms(),te.ic){te=W.V,se=W.Ba,xe=W.c;var Ve=W.i,Te=(Ce=1,ne=W.$/xe,ae=W.$%xe,ye=W.m,Ee=W.s,W.$),Ie=xe*Ve,Pe=xe*v,$e=Ee.wc,We=Te<Pe?Dn(Ee,ae,ne):null;e(Te<=Ie),e(v<=Ve),e(wn(Ee));t:for(;;){for(;!ye.h&&Te<Pe;){if(ae&$e||(We=Dn(Ee,ae,ne)),e(We!=null),me(ye),256>(Ve=Jt(We.G[0],We.H[0],ye)))te[se+Te]=Ve,++Te,++ae>=xe&&(ae=0,++ne<=v&&!(ne%16)&&ji(W,ne));else{if(!(280>Ve)){Ce=0;break t}Ve=Tn(Ve-256,ye);var _t,ft=Jt(We.G[4],We.H[4],ye);if(me(ye),!(Te>=(ft=Mn(xe,ft=Tn(ft,ye)))&&Ie-Te>=Ve)){Ce=0;break t}for(_t=0;_t<Ve;++_t)te[se+Te+_t]=te[se+Te+_t-ft];for(Te+=Ve,ae+=Ve;ae>=xe;)ae-=xe,++ne<=v&&!(ne%16)&&ji(W,ne);Te<Pe&&ae&$e&&(We=Dn(Ee,ae,ne))}e(ye.h==ie(ye))}ji(W,ne>v?v:ne);break t}!Ce||ye.h&&Te<Ie?(Ce=0,W.a=ye.h?5:3):W.$=Te,v=Ce}else v=ur(W,W.V,W.Ba,W.c,W.i,v,Xs);if(!v){O=0;break e}}S+O>=Y&&(p.Cc=1),O=1}if(!O)return null;if(p.Cc&&((O=p.ga)!=null&&(O.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*q}function Ii(p,v,S,O,q,Y){for(;0<q--;){var W,te=p,ne=v+(S?1:0),ae=p,ye=v+(S?0:3);for(W=0;W<O;++W){var Ee=ae[ye+4*W];Ee!=255&&(Ee*=32897,te[ne+4*W+0]=te[ne+4*W+0]*Ee>>23,te[ne+4*W+1]=te[ne+4*W+1]*Ee>>23,te[ne+4*W+2]=te[ne+4*W+2]*Ee>>23)}v+=Y}}function Ai(p,v,S,O,q){for(;0<O--;){var Y;for(Y=0;Y<S;++Y){var W=p[v+2*Y+0],te=15&(ae=p[v+2*Y+1]),ne=4369*te,ae=(240&ae|ae>>4)*ne>>16;p[v+2*Y+0]=(240&W|W>>4)*ne>>16&240|(15&W|W<<4)*ne>>16>>4&15,p[v+2*Y+1]=240&ae|te}v+=q}}function er(p,v,S,O,q,Y,W,te){var ne,ae,ye=255;for(ae=0;ae<q;++ae){for(ne=0;ne<O;++ne){var Ee=p[v+ne];Y[W+4*ne]=Ee,ye&=Ee}v+=S,W+=te}return ye!=255}function Ca(p,v,S,O,q){var Y;for(Y=0;Y<q;++Y)S[O+Y]=p[v+Y]>>8}function Ms(){Wo=Ii,as=Ai,Vc=er,Kr=Ca}function Ta(p,v,S){R[p]=function(O,q,Y,W,te,ne,ae,ye,Ee,se,xe,Ce,Ve,Te,Ie,Pe,$e){var We,_t=$e-1>>1,ft=te[ne+0]|ae[ye+0]<<16,Ft=Ee[se+0]|xe[Ce+0]<<16;e(O!=null);var mt=3*ft+Ft+131074>>2;for(v(O[q+0],255&mt,mt>>16,Ve,Te),Y!=null&&(mt=3*Ft+ft+131074>>2,v(Y[W+0],255&mt,mt>>16,Ie,Pe)),We=1;We<=_t;++We){var en=te[ne+We]|ae[ye+We]<<16,Zn=Ee[se+We]|xe[Ce+We]<<16,Yt=ft+en+Ft+Zn+524296,dt=Yt+2*(en+Ft)>>3;mt=dt+ft>>1,ft=(Yt=Yt+2*(ft+Zn)>>3)+en>>1,v(O[q+2*We-1],255&mt,mt>>16,Ve,Te+(2*We-1)*S),v(O[q+2*We-0],255&ft,ft>>16,Ve,Te+(2*We-0)*S),Y!=null&&(mt=Yt+Ft>>1,ft=dt+Zn>>1,v(Y[W+2*We-1],255&mt,mt>>16,Ie,Pe+(2*We-1)*S),v(Y[W+2*We+0],255&ft,ft>>16,Ie,Pe+(2*We+0)*S)),ft=en,Ft=Zn}1&$e||(mt=3*ft+Ft+131074>>2,v(O[q+$e-1],255&mt,mt>>16,Ve,Te+($e-1)*S),Y!=null&&(mt=3*Ft+ft+131074>>2,v(Y[W+$e-1],255&mt,mt>>16,Ie,Pe+($e-1)*S)))}}function Dc(){rr[Eu]=Ko,rr[dr]=Vl,rr[ku]=Yh,rr[os]=ju,rr[Fc]=mo,rr[jl]=oa,rr[ho]=go,rr[Pc]=Vl,rr[Ou]=ju,rr[Rl]=mo,rr[Lu]=oa}function Tl(p){return p&-16384?0>p?0:255:p>>Ru}function Js(p,v){return Tl((19077*p>>8)+(26149*v>>8)-14234)}function Ds(p,v,S){return Tl((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function Ho(p,v){return Tl((19077*p>>8)+(33050*v>>8)-17685)}function Ea(p,v,S,O,q){O[q+0]=Js(p,S),O[q+1]=Ds(p,v,S),O[q+2]=Ho(p,v)}function Hi(p,v,S,O,q){O[q+0]=Ho(p,v),O[q+1]=Ds(p,v,S),O[q+2]=Js(p,S)}function lo(p,v,S,O,q){var Y=Ds(p,v,S);v=Y<<3&224|Ho(p,v)>>3,O[q+0]=248&Js(p,S)|Y>>5,O[q+1]=v}function co(p,v,S,O,q){var Y=240&Ho(p,v)|15;O[q+0]=240&Js(p,S)|Ds(p,v,S)>>4,O[q+1]=Y}function El(p,v,S,O,q){O[q+0]=255,Ea(p,v,S,O,q+1)}function ea(p,v,S,O,q){Hi(p,v,S,O,q),O[q+3]=255}function wr(p,v,S,O,q){Ea(p,v,S,O,q),O[q+3]=255}function ka(p,v,S){R[p]=function(O,q,Y,W,te,ne,ae,ye,Ee){for(var se=ye+(-2&Ee)*S;ye!=se;)v(O[q+0],Y[W+0],te[ne+0],ae,ye),v(O[q+1],Y[W+0],te[ne+0],ae,ye+S),q+=2,++W,++ne,ye+=2*S;1&Ee&&v(O[q+0],Y[W+0],te[ne+0],ae,ye)}}function kl(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function jc(p,v,S,O,q){switch(p>>>30){case 3:Ra(v,S,O,q,0);break;case 2:hr(v,S,O,q);break;case 1:xn(v,S,O,q)}}function Xr(p,v){var S,O,q=v.M,Y=v.Nb,W=p.oc,te=p.pc+40,ne=p.oc,ae=p.pc+584,ye=p.oc,Ee=p.pc+600;for(S=0;16>S;++S)W[te+32*S-1]=129;for(S=0;8>S;++S)ne[ae+32*S-1]=129,ye[Ee+32*S-1]=129;for(0<q?W[te-1-32]=ne[ae-1-32]=ye[Ee-1-32]=129:(a(W,te-32-1,127,21),a(ne,ae-32-1,127,9),a(ye,Ee-32-1,127,9)),O=0;O<p.za;++O){var se=v.ya[v.aa+O];if(0<O){for(S=-1;16>S;++S)r(W,te+32*S-4,W,te+32*S+12,4);for(S=-1;8>S;++S)r(ne,ae+32*S-4,ne,ae+32*S+4,4),r(ye,Ee+32*S-4,ye,Ee+32*S+4,4)}var xe=p.Gd,Ce=p.Hd+O,Ve=se.ad,Te=se.Hc;if(0<q&&(r(W,te-32,xe[Ce].y,0,16),r(ne,ae-32,xe[Ce].f,0,8),r(ye,Ee-32,xe[Ce].ea,0,8)),se.Za){var Ie=W,Pe=te-32+16;for(0<q&&(O>=p.za-1?a(Ie,Pe,xe[Ce].y[15],4):r(Ie,Pe,xe[Ce+1].y,0,4)),S=0;4>S;S++)Ie[Pe+128+S]=Ie[Pe+256+S]=Ie[Pe+384+S]=Ie[Pe+0+S];for(S=0;16>S;++S,Te<<=2)Ie=W,Pe=te+_i[S],hi[se.Ob[S]](Ie,Pe),jc(Te,Ve,16*+S,Ie,Pe)}else if(Ie=kl(O,q,se.Ob[0]),Ar[Ie](W,te),Te!=0)for(S=0;16>S;++S,Te<<=2)jc(Te,Ve,16*+S,W,te+_i[S]);for(S=se.Gc,Ie=kl(O,q,se.Dd),Vs[Ie](ne,ae),Vs[Ie](ye,Ee),Te=Ve,Ie=ne,Pe=ae,255&(se=0|S)&&(170&se?ss(Te,256,Ie,Pe):hn(Te,256,Ie,Pe)),se=ye,Te=Ee,255&(S>>=8)&&(170&S?ss(Ve,320,se,Te):hn(Ve,320,se,Te)),q<p.Ub-1&&(r(xe[Ce].y,0,W,te+480,16),r(xe[Ce].f,0,ne,ae+224,8),r(xe[Ce].ea,0,ye,Ee+224,8)),S=8*Y*p.B,xe=p.sa,Ce=p.ta+16*O+16*Y*p.R,Ve=p.qa,se=p.ra+8*O+S,Te=p.Ha,Ie=p.Ia+8*O+S,S=0;16>S;++S)r(xe,Ce+S*p.R,W,te+32*S,16);for(S=0;8>S;++S)r(Ve,se+S*p.B,ne,ae+32*S,8),r(Te,Ie+S*p.B,ye,Ee+32*S,8)}}function js(p,v,S,O,q,Y,W,te,ne){var ae=[0],ye=[0],Ee=0,se=ne!=null?ne.kd:0,xe=ne??new Ze;if(p==null||12>S)return 7;xe.data=p,xe.w=v,xe.ha=S,v=[v],S=[S],xe.gb=[xe.gb];e:{var Ce=v,Ve=S,Te=xe.gb;if(e(p!=null),e(Ve!=null),e(Te!=null),Te[0]=0,12<=Ve[0]&&!t(p,Ce[0],"RIFF")){if(t(p,Ce[0]+8,"WEBP")){Te=3;break e}var Ie=Qe(p,Ce[0]+4);if(12>Ie||4294967286<Ie){Te=3;break e}if(se&&Ie>Ve[0]-8){Te=7;break e}Te[0]=Ie,Ce[0]+=12,Ve[0]-=12}Te=0}if(Te!=0)return Te;for(Ie=0<xe.gb[0],S=S[0];;){e:{var Pe=p;Ve=v,Te=S;var $e=ae,We=ye,_t=Ce=[0];if((mt=Ee=[Ee])[0]=0,8>Te[0])Te=7;else{if(!t(Pe,Ve[0],"VP8X")){if(Qe(Pe,Ve[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var ft=Qe(Pe,Ve[0]+8),Ft=1+He(Pe,Ve[0]+12);if(2147483648<=Ft*(Pe=1+He(Pe,Ve[0]+15))){Te=3;break e}_t!=null&&(_t[0]=ft),$e!=null&&($e[0]=Ft),We!=null&&(We[0]=Pe),Ve[0]+=18,Te[0]-=18,mt[0]=1}Te=0}}if(Ee=Ee[0],Ce=Ce[0],Te!=0)return Te;if(Ve=!!(2&Ce),!Ie&&Ee)return 3;if(Y!=null&&(Y[0]=!!(16&Ce)),W!=null&&(W[0]=Ve),te!=null&&(te[0]=0),W=ae[0],Ce=ye[0],Ee&&Ve&&ne==null){Te=0;break}if(4>S){Te=7;break}if(Ie&&Ee||!Ie&&!Ee&&!t(p,v[0],"ALPH")){S=[S],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{ft=p,Te=v,Ie=S;var mt=xe.gb;$e=xe.na,We=xe.P,_t=xe.Sa,Ft=22,e(ft!=null),e(Ie!=null),Pe=Te[0];var en=Ie[0];for(e($e!=null),e(_t!=null),$e[0]=null,We[0]=null,_t[0]=0;;){if(Te[0]=Pe,Ie[0]=en,8>en){Te=7;break e}var Zn=Qe(ft,Pe+4);if(4294967286<Zn){Te=3;break e}var Yt=8+Zn+1&-2;if(Ft+=Yt,0<mt&&Ft>mt){Te=3;break e}if(!t(ft,Pe,"VP8 ")||!t(ft,Pe,"VP8L")){Te=0;break e}if(en[0]<Yt){Te=7;break e}t(ft,Pe,"ALPH")||($e[0]=ft,We[0]=Pe+8,_t[0]=Zn),Pe+=Yt,en-=Yt}}if(S=S[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],Te!=0)break}S=[S],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(mt=p,Te=v,Ie=S,$e=xe.gb[0],We=xe.Ja,_t=xe.xa,ft=Te[0],Pe=!t(mt,ft,"VP8 "),Ft=!t(mt,ft,"VP8L"),e(mt!=null),e(Ie!=null),e(We!=null),e(_t!=null),8>Ie[0])Te=7;else{if(Pe||Ft){if(mt=Qe(mt,ft+4),12<=$e&&mt>$e-12){Te=3;break e}if(se&&mt>Ie[0]-8){Te=7;break e}We[0]=mt,Te[0]+=8,Ie[0]-=8,_t[0]=Ft}else _t[0]=5<=Ie[0]&&mt[ft+0]==47&&!(mt[ft+4]>>5),We[0]=Ie[0];Te=0}if(S=S[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],v=v[0],Te!=0)break;if(4294967286<xe.Ja)return 3;if(te==null||Ve||(te[0]=xe.xa?2:1),W=[W],Ce=[Ce],xe.xa){if(5>S){Te=7;break}te=W,se=Ce,Ve=Y,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(Ie=[0],mt=[0],$e=[0],pe(We=new H,p,v,S),jn(We,Ie,mt,$e)?(te!=null&&(te[0]=Ie[0]),se!=null&&(se[0]=mt[0]),Ve!=null&&(Ve[0]=$e[0]),p=1):p=0):p=0}else{if(10>S){Te=7;break}te=Ce,p==null||10>S||!Sc(p,v+3,S-3)?p=0:(se=p[v+0]|p[v+1]<<8|p[v+2]<<16,Ve=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&se||3<(se>>1&7)||!(se>>4&1)||se>>5>=xe.Ja||!Ve||!p?p=0:(W&&(W[0]=Ve),te&&(te[0]=p),p=1))}if(!p||(W=W[0],Ce=Ce[0],Ee&&(ae[0]!=W||ye[0]!=Ce)))return 3;ne!=null&&(ne[0]=xe,ne.offset=v-ne.w,e(4294967286>v-ne.w),e(ne.offset==ne.ha-S));break}return Te==0||Te==7&&Ee&&ne==null?(Y!=null&&(Y[0]|=xe.na!=null&&0<xe.na.length),O!=null&&(O[0]=W),q!=null&&(q[0]=Ce),0):Te}function Oa(p,v,S){var O=v.width,q=v.height,Y=0,W=0,te=O,ne=q;if(v.Da=p!=null&&0<p.Da,v.Da&&(te=p.cd,ne=p.bd,Y=p.v,W=p.j,11>S||(Y&=-2,W&=-2),0>Y||0>W||0>=te||0>=ne||Y+te>O||W+ne>q))return 0;if(v.v=Y,v.j=W,v.va=Y+te,v.o=W+ne,v.U=te,v.T=ne,v.da=p!=null&&0<p.da,v.da){if(!nt(te,ne,S=[p.ib],Y=[p.hb]))return 0;v.ib=S[0],v.hb=Y[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*O/4&&v.hb<3*q/4,v.Kb=0),1}function Rc(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Rs(p,v,S,O){if(O==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var q=S.cd,Y=S.bd,W=-2&S.v,te=-2&S.j;if(0>W||0>te||0>=q||0>=Y||W+q>p||te+Y>v)return 2;p=q,v=Y}if(S.da){if(!nt(p,v,q=[S.ib],Y=[S.hb]))return 2;p=q[0],v=Y[0]}}O.width=p,O.height=v;e:{var ne=O.width,ae=O.height;if(p=O.S,0>=ne||0>=ae||!(p>=Eu&&13>p))p=2;else{if(0>=O.Rd&&O.sd==null){W=Y=q=v=0;var ye=(te=ne*Vu[p])*ae;if(11>p||(Y=(ae+1)/2*(v=(ne+1)/2),p==12&&(W=(q=ne)*ae)),(ae=o(ye+2*Y+W))==null){p=1;break e}O.sd=ae,11>p?((ne=O.f.RGBA).eb=ae,ne.fb=0,ne.A=te,ne.size=ye):((ne=O.f.kb).y=ae,ne.O=0,ne.fa=te,ne.Fd=ye,ne.f=ae,ne.N=0+ye,ne.Ab=v,ne.Cd=Y,ne.ea=ae,ne.W=0+ye+Y,ne.Db=v,ne.Ed=Y,p==12&&(ne.F=ae,ne.J=0+ye+2*Y),ne.Tc=W,ne.lb=q)}if(v=1,q=O.S,Y=O.width,W=O.height,q>=Eu&&13>q)if(11>q)p=O.f.RGBA,v&=(te=Math.abs(p.A))*(W-1)+Y<=p.size,v&=te>=Y*Vu[q],v&=p.eb!=null;else{p=O.f.kb,te=(Y+1)/2,ye=(W+1)/2,ne=Math.abs(p.fa),ae=Math.abs(p.Ab);var Ee=Math.abs(p.Db),se=Math.abs(p.lb),xe=se*(W-1)+Y;v&=ne*(W-1)+Y<=p.Fd,v&=ae*(ye-1)+te<=p.Cd,v=(v&=Ee*(ye-1)+te<=p.Ed)&ne>=Y&ae>=te&Ee>=te,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,q==12&&(v&=se>=Y,v&=xe<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=Rc(O)),p}var uo=64,Dr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Sr=24,ta=32,na=8,La=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(p){return p},R.Predictor2=function(p,v,S){return v[S+0]},R.Predictor3=function(p,v,S){return v[S+1]},R.Predictor4=function(p,v,S){return v[S-1]},R.Predictor5=function(p,v,S){return pt(pt(p,v[S+1]),v[S+0])},R.Predictor6=function(p,v,S){return pt(p,v[S-1])},R.Predictor7=function(p,v,S){return pt(p,v[S+0])},R.Predictor8=function(p,v,S){return pt(v[S-1],v[S+0])},R.Predictor9=function(p,v,S){return pt(v[S+0],v[S+1])},R.Predictor10=function(p,v,S){return pt(pt(p,v[S-1]),pt(v[S+0],v[S+1]))},R.Predictor11=function(p,v,S){var O=v[S+0];return 0>=Ke(O>>24&255,p>>24&255,(v=v[S-1])>>24&255)+Ke(O>>16&255,p>>16&255,v>>16&255)+Ke(O>>8&255,p>>8&255,v>>8&255)+Ke(255&O,255&p,255&v)?O:p},R.Predictor12=function(p,v,S){var O=v[S+0];return(kt((p>>24&255)+(O>>24&255)-((v=v[S-1])>>24&255))<<24|kt((p>>16&255)+(O>>16&255)-(v>>16&255))<<16|kt((p>>8&255)+(O>>8&255)-(v>>8&255))<<8|kt((255&p)+(255&O)-(255&v)))>>>0},R.Predictor13=function(p,v,S){var O=v[S-1];return(Ge((p=pt(p,v[S+0]))>>24&255,O>>24&255)<<24|Ge(p>>16&255,O>>16&255)<<16|Ge(p>>8&255,O>>8&255)<<8|Ge(255&p,255&O))>>>0};var Ol=R.PredictorAdd0;R.PredictorAdd1=ct,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var Ll=R.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var bi,Nu=R.ColorIndexInverseTransform,ia=R.MapARGB,ra=R.VP8LColorIndexInverseTransformAlpha,tr=R.MapAlpha,Ma=R.VP8LPredictorsAdd=[];Ma.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Ml,Dl,Da,ja,sa,Go,Zr,Ra,hr,ss,xn,hn,zn,xi,aa,Is,Yo,Ic,Fh,md,gd,vd,Ph,Uh,Wo,as,Vc,Kr,Xo=o(511),Cu=o(2041),Bc=o(225),qc=o(767),Tu=0,Ia=Cu,zc=Bc,fr=qc,nr=Xo,Eu=0,dr=1,ku=2,os=3,Fc=4,jl=5,ho=6,Pc=7,Ou=8,Rl=9,Lu=10,ls=[2,3,7],Il=[3,3,11],Zo=[280,256,256,256,40],Mu=[0,1,1,1,0],Uc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],cs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],us=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fo=8,hs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qr=null,yd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Du=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],bd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ir=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Xn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],tn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ar=[],hi=[],Vs=[],po=1,Gh=2,Va=[],rr=[];Ta("UpsampleRgbLinePair",Ea,3),Ta("UpsampleBgrLinePair",Hi,3),Ta("UpsampleRgbaLinePair",wr,4),Ta("UpsampleBgraLinePair",ea,4),Ta("UpsampleArgbLinePair",El,4),Ta("UpsampleRgba4444LinePair",co,2),Ta("UpsampleRgb565LinePair",lo,2);var Ko=R.UpsampleRgbLinePair,Yh=R.UpsampleBgrLinePair,Vl=R.UpsampleRgbaLinePair,ju=R.UpsampleBgraLinePair,mo=R.UpsampleArgbLinePair,oa=R.UpsampleRgba4444LinePair,go=R.UpsampleRgb565LinePair,ds=16,Bl=1<<ds-1,Qo=-227,vo=482,Ru=6,yo=0,sr=o(256),Iu=o(256),xd=o(256),B1=o(256),q1=o(vo-Qo),z1=o(vo-Qo);ka("YuvToRgbRow",Ea,3),ka("YuvToBgrRow",Hi,3),ka("YuvToRgbaRow",wr,4),ka("YuvToBgraRow",ea,4),ka("YuvToArgbRow",El,4),ka("YuvToRgba4444Row",co,2),ka("YuvToRgb565Row",lo,2);var _i=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ql=[0,2,8],Hc=[8,7,6,4,4,2,2,2,1,1,1,1],Gc=1;this.WebPDecodeRGBA=function(p,v,S,O,q){var Y=dr,W=new Fe,te=new et;W.ba=te,te.S=Y,te.width=[te.width],te.height=[te.height];var ne=te.width,ae=te.height,ye=new Je;if(ye==null||p==null)var Ee=2;else e(ye!=null),Ee=js(p,v,S,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Ee!=0?ne=0:(ne!=null&&(ne[0]=ye.width[0]),ae!=null&&(ae[0]=ye.height[0]),ne=1),ne){te.width=te.width[0],te.height=te.height[0],O!=null&&(O[0]=te.width),q!=null&&(q[0]=te.height);e:{if(O=new ya,(q=new Ze).data=p,q.w=v,q.ha=S,q.kd=1,v=[0],e(q!=null),((p=js(q.data,q.w,q.ha,null,null,null,v,null,q))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(W!=null),O.data=q.data,O.w=q.w+q.offset,O.ha=q.ha-q.offset,O.put=ht,O.ac=Cn,O.bc=sn,O.ma=W,q.xa){if((p=ga())==null){W=1;break e}if((function(se,xe){var Ce=[0],Ve=[0],Te=[0];t:for(;;){if(se==null)return 0;if(xe==null)return se.a=2,0;if(se.l=xe,se.a=0,pe(se.m,xe.data,xe.w,xe.ha),!jn(se.m,Ce,Ve,Te)){se.a=3;break t}if(se.xb=Gh,xe.width=Ce[0],xe.height=Ve[0],!Pr(Ce[0],Ve[0],1,se,null))break t;return 1}return e(se.a!=0),0})(p,O)){if(O=(v=Rs(O.width,O.height,W.Oa,W.ba))==0){t:{O=p;n:for(;;){if(O==null){O=0;break t}if(e(O.s.yc!=null),e(O.s.Ya!=null),e(0<O.s.Wb),e((S=O.l)!=null),e((q=S.ma)!=null),O.xb!=0){if(O.ca=q.ba,O.tb=q.tb,e(O.ca!=null),!Oa(q.Oa,S,os)){O.a=2;break n}if(!Ur(O,S.width)||S.da)break n;if((S.da||qe(O.ca.S))&&Ms(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Ms()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!U(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!ur(O,O.V,O.Ba,O.c,O.i,S.o,ui))break n;q.Dc=O.Ma,O=1;break t}e(O.a!=0),O=0}O=!O}O&&(v=p.a)}else v=p.a}else{if((p=new ks)==null){W=1;break e}if(p.Fa=q.na,p.P=q.P,p.qc=q.Sa,Ks(p,O)){if((v=Rs(O.width,O.height,W.Oa,W.ba))==0){if(p.Aa=0,S=W.Oa,e((q=p)!=null),S!=null){if(0<(ne=0>(ne=S.Md)?0:100<ne?255:255*ne/100)){for(ae=ye=0;4>ae;++ae)12>(Ee=q.pb[ae]).lc&&(Ee.ia=ne*Hc[0>Ee.lc?0:Ee.lc]>>3),ye|=Ee.ia;ye&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=S.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(se,xe){if(se==null)return 0;if(xe==null)return bn(se,2,"NULL VP8Io parameter in VP8Decode().");if(!se.cb&&!Ks(se,xe))return 0;if(e(se.cb),xe.ac==null||xe.ac(xe)){xe.ob&&(se.L=0);var Ce=ql[se.L];if(se.L==2?(se.yb=0,se.zb=0):(se.yb=xe.v-Ce>>4,se.zb=xe.j-Ce>>4,0>se.yb&&(se.yb=0),0>se.zb&&(se.zb=0)),se.Va=xe.o+15+Ce>>4,se.Hb=xe.va+15+Ce>>4,se.Hb>se.za&&(se.Hb=se.za),se.Va>se.Ub&&(se.Va=se.Ub),0<se.L){var Ve=se.ed;for(Ce=0;4>Ce;++Ce){var Te;if(se.Qa.Cb){var Ie=se.Qa.Lb[Ce];se.Qa.Fb||(Ie+=Ve.Tb)}else Ie=Ve.Tb;for(Te=0;1>=Te;++Te){var Pe=se.gd[Ce][Te],$e=Ie;if(Ve.Pc&&($e+=Ve.vd[0],Te&&($e+=Ve.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var We=$e;0<Ve.wb&&(We=4<Ve.wb?We>>2:We>>1)>9-Ve.wb&&(We=9-Ve.wb),1>We&&(We=1),Pe.dd=We,Pe.tc=2*$e+We,Pe.ld=40<=$e?2:15<=$e?1:0}else Pe.tc=0;Pe.La=Te}}}Ce=0}else bn(se,6,"Frame setup failed"),Ce=se.a;if(Ce=Ce==0){if(Ce){se.$c=0,0<se.Aa||(se.Ic=Gc);t:{Ce=se.Ic,Ve=4*(We=se.za);var _t=32*We,ft=We+1,Ft=0<se.L?We*(0<se.Aa?2:1):0,mt=(se.Aa==2?2:1)*We;if((Pe=Ve+832+(Te=3*(16*Ce+ql[se.L])/2*_t)+(Ie=se.Fa!=null&&0<se.Fa.length?se.Kc.c*se.Kc.i:0))!=Pe)Ce=0;else{if(Pe>se.Vb){if(se.Vb=0,se.Ec=o(Pe),se.Fc=0,se.Ec==null){Ce=bn(se,1,"no memory during frame initialization.");break t}se.Vb=Pe}Pe=se.Ec,$e=se.Fc,se.Ac=Pe,se.Bc=$e,$e+=Ve,se.Gd=h(_t,wc),se.Hd=0,se.rb=h(ft+1,Es),se.sb=1,se.wa=Ft?h(Ft,Hr):null,se.Y=0,se.D.Nb=0,se.D.wa=se.wa,se.D.Y=se.Y,0<se.Aa&&(se.D.Y+=We),e(!0),se.oc=Pe,se.pc=$e,$e+=832,se.ya=h(mt,xc),se.aa=0,se.D.ya=se.ya,se.D.aa=se.aa,se.Aa==2&&(se.D.aa+=We),se.R=16*We,se.B=8*We,We=(_t=ql[se.L])*se.R,_t=_t/2*se.B,se.sa=Pe,se.ta=$e+We,se.qa=se.sa,se.ra=se.ta+16*Ce*se.R+_t,se.Ha=se.qa,se.Ia=se.ra+8*Ce*se.B+_t,se.$c=0,$e+=Te,se.mb=Ie?Pe:null,se.nb=Ie?$e:null,e($e+Ie<=se.Fc+se.Vb),Ac(se),a(se.Ac,se.Bc,0,Ve),Ce=1}}if(Ce){if(xe.ka=0,xe.y=se.sa,xe.O=se.ta,xe.f=se.qa,xe.N=se.ra,xe.ea=se.Ha,xe.Vd=se.Ia,xe.fa=se.R,xe.Rc=se.B,xe.F=null,xe.J=0,!Tu){for(Ce=-255;255>=Ce;++Ce)Xo[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)Cu[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)Bc[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)qc[255+Ce]=0>Ce?0:255<Ce?255:Ce;Tu=1}Zr=Os,Ra=Nc,ss=_r,xn=Cc,hn=Tc,hr=gu,zn=Su,xi=Na,aa=B,Is=le,Yo=Au,Ic=_,Fh=ve,md=Se,gd=_a,vd=wa,Ph=Uo,Uh=Mc,hi[0]=_u,hi[1]=vu,hi[2]=xu,hi[3]=Oc,hi[4]=Yr,hi[5]=Lc,hi[6]=Ji,hi[7]=zo,hi[8]=Fo,hi[9]=Wr,Ar[0]=Ls,Ar[1]=Ec,Ar[2]=kc,Ar[3]=bu,Ar[4]=ba,Ar[5]=qo,Ar[6]=oo,Vs[0]=Al,Vs[1]=yu,Vs[2]=Qs,Vs[3]=wu,Vs[4]=Ui,Vs[5]=Nl,Vs[6]=$s,Ce=1}else Ce=0}Ce&&(Ce=(function(en,Zn){for(en.M=0;en.M<en.Va;++en.M){var Yt,dt=en.Jc[en.M&en.Xb],at=en.m,ni=en;for(Yt=0;Yt<ni.za;++Yt){var Rt=at,Zt=ni,kn=Zt.Ac,Vi=Zt.Bc+4*Yt,ar=Zt.zc,Fn=Zt.ya[Zt.aa+Yt];if(Zt.Qa.Bb?Fn.$b=_e(Rt,Zt.Pa.jb[0])?2+_e(Rt,Zt.Pa.jb[2]):_e(Rt,Zt.Pa.jb[1]):Fn.$b=0,Zt.kc&&(Fn.Ad=_e(Rt,Zt.Bd)),Fn.Za=!_e(Rt,145)+0,Fn.Za){var Ni=Fn.Ob,pr=0;for(Zt=0;4>Zt;++Zt){var Ci,Qt=ar[0+Zt];for(Ci=0;4>Ci;++Ci){Qt=ir[kn[Vi+Ci]][Qt];for(var gn=Du[_e(Rt,Qt[0])];0<gn;)gn=Du[2*gn+_e(Rt,Qt[gn])];Qt=-gn,kn[Vi+Ci]=Qt}r(Ni,pr,kn,Vi,4),pr+=4,ar[0+Zt]=Qt}}else Qt=_e(Rt,156)?_e(Rt,128)?1:3:_e(Rt,163)?2:0,Fn.Ob[0]=Qt,a(kn,Vi,Qt,4),a(ar,0,Qt,4);Fn.Dd=_e(Rt,142)?_e(Rt,114)?_e(Rt,183)?1:3:2:0}if(ni.m.Ka)return bn(en,7,"Premature end-of-partition0 encountered.");for(;en.ja<en.za;++en.ja){if(ni=dt,Rt=(at=en).rb[at.sb-1],kn=at.rb[at.sb+at.ja],Yt=at.ya[at.aa+at.ja],Vi=at.kc?Yt.Ad:0)Rt.la=kn.la=0,Yt.Za||(Rt.Na=kn.Na=0),Yt.Hc=0,Yt.Gc=0,Yt.ia=0;else{var ii,_n;if(Rt=kn,kn=ni,Vi=at.Pa.Xc,ar=at.ya[at.aa+at.ja],Fn=at.pb[ar.$b],Zt=ar.ad,Ni=0,pr=at.rb[at.sb-1],Qt=Ci=0,a(Zt,Ni,0,384),ar.Za)var Bi=0,ri=Vi[3];else{gn=o(16);var vn=Rt.Na+pr.Na;if(vn=Qr(kn,Vi[1],vn,Fn.Eb,0,gn,0),Rt.Na=pr.Na=(0<vn)+0,1<vn)Zr(gn,0,Zt,Ni);else{var wi=gn[0]+3>>3;for(gn=0;256>gn;gn+=16)Zt[Ni+gn]=wi}Bi=1,ri=Vi[0]}var On=15&Rt.la,Ti=15&pr.la;for(gn=0;4>gn;++gn){var Ei=1&Ti;for(wi=_n=0;4>wi;++wi)On=On>>1|(Ei=(vn=Qr(kn,ri,vn=Ei+(1&On),Fn.Sc,Bi,Zt,Ni))>Bi)<<7,_n=_n<<2|(3<vn?3:1<vn?2:Zt[Ni+0]!=0),Ni+=16;On>>=4,Ti=Ti>>1|Ei<<7,Ci=(Ci<<8|_n)>>>0}for(ri=On,Bi=Ti>>4,ii=0;4>ii;ii+=2){for(_n=0,On=Rt.la>>4+ii,Ti=pr.la>>4+ii,gn=0;2>gn;++gn){for(Ei=1&Ti,wi=0;2>wi;++wi)vn=Ei+(1&On),On=On>>1|(Ei=0<(vn=Qr(kn,Vi[2],vn,Fn.Qc,0,Zt,Ni)))<<3,_n=_n<<2|(3<vn?3:1<vn?2:Zt[Ni+0]!=0),Ni+=16;On>>=2,Ti=Ti>>1|Ei<<5}Qt|=_n<<4*ii,ri|=On<<4<<ii,Bi|=(240&Ti)<<ii}Rt.la=ri,pr.la=Bi,ar.Hc=Ci,ar.Gc=Qt,ar.ia=43690&Qt?0:Fn.ia,Vi=!(Ci|Qt)}if(0<at.L&&(at.wa[at.Y+at.ja]=at.gd[Yt.$b][Yt.Za],at.wa[at.Y+at.ja].La|=!Vi),ni.Ka)return bn(en,7,"Premature end-of-file encountered.")}if(Ac(en),at=Zn,ni=1,Yt=(dt=en).D,Rt=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if(Yt.M=dt.M,Yt.uc=Rt,Xr(dt,Yt),ni=1,Yt=(_n=dt.D).Nb,Rt=(Qt=ql[dt.L])*dt.R,kn=Qt/2*dt.B,gn=16*Yt*dt.R,wi=8*Yt*dt.B,Vi=dt.sa,ar=dt.ta-Rt+gn,Fn=dt.qa,Zt=dt.ra-kn+wi,Ni=dt.Ha,pr=dt.Ia-kn+wi,Ti=(On=_n.M)==0,Ci=On>=dt.Va-1,dt.Aa==2&&Xr(dt,_n),_n.uc)for(Ei=(vn=dt).D.M,e(vn.D.uc),_n=vn.yb;_n<vn.Hb;++_n){Bi=_n,ri=Ei;var Rn=(fn=(ki=vn).D).Nb;ii=ki.R;var fn=fn.wa[fn.Y+Bi],mr=ki.sa,fi=ki.ta+16*Rn*ii+16*Bi,Ot=fn.dd,Lt=fn.tc;if(Lt!=0)if(e(3<=Lt),ki.L==1)0<Bi&&vd(mr,fi,ii,Lt+4),fn.La&&Uh(mr,fi,ii,Lt),0<ri&&gd(mr,fi,ii,Lt+4),fn.La&&Ph(mr,fi,ii,Lt);else{var yn=ki.B,jr=ki.qa,ps=ki.ra+8*Rn*yn+8*Bi,Nr=ki.Ha,ki=ki.Ia+8*Rn*yn+8*Bi;Rn=fn.ld,0<Bi&&(xi(mr,fi,ii,Lt+4,Ot,Rn),Is(jr,ps,Nr,ki,yn,Lt+4,Ot,Rn)),fn.La&&(Ic(mr,fi,ii,Lt,Ot,Rn),md(jr,ps,Nr,ki,yn,Lt,Ot,Rn)),0<ri&&(zn(mr,fi,ii,Lt+4,Ot,Rn),aa(jr,ps,Nr,ki,yn,Lt+4,Ot,Rn)),fn.La&&(Yo(mr,fi,ii,Lt,Ot,Rn),Fh(jr,ps,Nr,ki,yn,Lt,Ot,Rn))}}if(dt.ia&&alert("todo:DitherRow"),at.put!=null){if(_n=16*On,On=16*(On+1),Ti?(at.y=dt.sa,at.O=dt.ta+gn,at.f=dt.qa,at.N=dt.ra+wi,at.ea=dt.Ha,at.W=dt.Ia+wi):(_n-=Qt,at.y=Vi,at.O=ar,at.f=Fn,at.N=Zt,at.ea=Ni,at.W=pr),Ci||(On-=Qt),On>at.o&&(On=at.o),at.F=null,at.J=null,dt.Fa!=null&&0<dt.Fa.length&&_n<On&&(at.J=qn(dt,at,_n,On-_n),at.F=dt.mb,at.F==null&&at.F.length==0)){ni=bn(dt,3,"Could not decode alpha data.");break t}_n<at.j&&(Qt=at.j-_n,_n=at.j,e(!(1&Qt)),at.O+=dt.R*Qt,at.N+=dt.B*(Qt>>1),at.W+=dt.B*(Qt>>1),at.F!=null&&(at.J+=at.width*Qt)),_n<On&&(at.O+=at.v,at.N+=at.v>>1,at.W+=at.v>>1,at.F!=null&&(at.J+=at.v),at.ka=_n-at.j,at.U=at.va-at.v,at.T=On-_n,ni=at.put(at))}Yt+1!=dt.Ic||Ci||(r(dt.sa,dt.ta-Rt,Vi,ar+16*dt.R,Rt),r(dt.qa,dt.ra-kn,Fn,Zt+8*dt.B,kn),r(dt.Ha,dt.Ia-kn,Ni,pr+8*dt.B,kn))}if(!ni)return bn(en,6,"Output aborted.")}return 1})(se,xe)),xe.bc!=null&&xe.bc(xe),Ce&=1}return Ce?(se.cb=0,Ce):0})(p,O)||(v=p.a)}}else v=p.a}v==0&&W.Oa!=null&&W.Oa.fd&&(v=Rc(W.ba))}W=v}Y=W!=0?null:11>Y?te.f.RGBA.eb:te.f.kb.y}else Y=null;return Y};var Vu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(R,K){for(var E="",j=0;j<4;j++)E+=String.fromCharCode(R[K++]);return E}function m(R,K){return R[K+0]|R[K+1]<<8}function b(R,K){return(R[K+0]|R[K+1]<<8|R[K+2]<<16)>>>0}function w(R,K){return(R[K+0]|R[K+1]<<8|R[K+2]<<16|R[K+3]<<24)>>>0}new f;var y=[0],A=[0],N=[],k=new f,C=i,F=(function(R,K){var E={},j=0,P=!1,J=0,ue=0;if(E.frames=[],!(function(T,H){for(var ee=0;ee<4;ee++)if(T[H+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(R,K)){for(w(R,K+=4),K+=8;K<R.length;){var $=d(R,K),re=w(R,K+=4);K+=4;var ce=re+(1&re);switch($){case"VP8 ":case"VP8L":E.frames[j]===void 0&&(E.frames[j]={}),(X=E.frames[j]).src_off=P?ue:K-8,X.src_size=J+re+8,j++,P&&(P=!1,J=0,ue=0);break;case"VP8X":(X=E.header={}).feature_flags=R[K];var pe=K+4;X.canvas_width=1+b(R,pe),pe+=3,X.canvas_height=1+b(R,pe),pe+=3;break;case"ALPH":P=!0,J=ce+8,ue=K-8;break;case"ANIM":(X=E.header).bgcolor=w(R,K),pe=K+4,X.loop_count=m(R,pe),pe+=2;break;case"ANMF":var Ne,X;(X=E.frames[j]={}).offset_x=2*b(R,K),K+=3,X.offset_y=2*b(R,K),K+=3,X.width=1+b(R,K),K+=3,X.height=1+b(R,K),K+=3,X.duration=b(R,K),K+=3,Ne=R[K++],X.dispose=1&Ne,X.blend=Ne>>1&1}$!="ANMF"&&(K+=ce)}return E}})(C,0);F.response=C,F.rgbaoutput=!0,F.dataurl=!1;var z=F.header?F.header:null,V=F.frames?F.frames:null;if(z){z.loop_counter=z.loop_count,y=[z.canvas_height],A=[z.canvas_width];for(var I=0;I<V.length&&V[I].blend!=0;I++);}var Z=V[0],G=k.WebPDecodeRGBA(C,Z.src_off,Z.src_size,A,y);Z.rgba=G,Z.imgwidth=A[0],Z.imgheight=y[0];for(var D=0;D<A[0]*y[0]*4;D++)N[D]=G[D];return this.width=A,this.height=y,this.data=N,this}(function(i){var e,t,r,a,o,h,c,f,d,m=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new f,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new h,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new h,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,h=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new m}]);var b=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=T;Object.defineProperty(this,"pdf",{get:function(){return H}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(U){ee=!!U}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(U){ie=!!U}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(U){isNaN(U)||(oe=U)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(U){isNaN(U)||(me=U)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(U){var De;typeof U=="number"?De=[U,U,U,U]:((De=new Array(4))[0]=U[0],De[1]=U.length>=2?U[1]:De[0],De[2]=U.length>=3?U[2]:De[0],De[3]=U.length>=4?U[3]:De[1]),d.margin=De}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(U){de=U}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(U){ge=U}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(U){_e=U}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(U){U instanceof m&&(d=U)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(U){d.path=U}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(U){Re=U}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(U){var De;De=w(U),this.ctx.fillStyle=De.style,this.ctx.isFillTransparent=De.a===0,this.ctx.fillOpacity=De.a,this.pdf.setFillColor(De.r,De.g,De.b,{a:De.a}),this.pdf.setTextColor(De.r,De.g,De.b,{a:De.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(U){var De=w(U);this.ctx.strokeStyle=De.style,this.ctx.isStrokeTransparent=De.a===0,this.ctx.strokeOpacity=De.a,De.a===0?this.pdf.setDrawColor(255,255,255):(De.a,this.pdf.setDrawColor(De.r,De.g,De.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(U){["butt","round","square"].indexOf(U)!==-1&&(this.ctx.lineCap=U,this.pdf.setLineCap(U))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(U){isNaN(U)||(this.ctx.lineWidth=U,this.pdf.setLineWidth(U))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(U){["bevel","round","miter"].indexOf(U)!==-1&&(this.ctx.lineJoin=U,this.pdf.setLineJoin(U))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(U){isNaN(U)||(this.ctx.miterLimit=U,this.pdf.setMiterLimit(U))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(U){this.ctx.textBaseline=U}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(U){["right","end","center","left","start"].indexOf(U)!==-1&&(this.ctx.textAlign=U)}});var Xe=null,He=null,Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(U){Xe=null,He=null,Qe=U}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(U){var De;if(this.ctx.font=U,(De=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(U))!==null){var ut=De[1];De[2];var nt=De[3],Me=De[4];De[5];var tt=De[6],it=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Me)[2];Me=Math.floor(it==="px"?parseFloat(Me)*this.pdf.internal.scaleFactor:it==="em"?parseFloat(Me)*this.pdf.getFontSize():parseFloat(Me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Me);var lt=(function(st){var Ut,Dt,St=[],At=st.trim();if(At==="")return T0;if(At in Tb)return[Tb[At]];for(;At!=="";){switch(Dt=null,Ut=(At=kb(At)).charAt(0)){case'"':case"'":Dt=nL(At.substring(1),Ut);break;default:Dt=iL(At)}if(Dt===null||(St.push(Dt[0]),(At=kb(Dt[1]))!==""&&At.charAt(0)!==","))return T0;At=At.replace(/^,/,"")}return St})(tt);if(this.fontFaces){var pt=(function(st,Ut){var Dt=st.getFontList(),St=JSON.stringify(Dt);if(Xe===null||He!==St){var At=(function(zt){var we=[];return Object.keys(zt).forEach(function(Be){zt[Be].forEach(function(qe){var rt=null;switch(qe){case"bold":rt={family:Be,weight:"bold"};break;case"italic":rt={family:Be,style:"italic"};break;case"bolditalic":rt={family:Be,weight:"bold",style:"italic"};break;case"":case"normal":rt={family:Be}}rt!==null&&(rt.ref={name:Be,style:qe},we.push(rt))})}),we})(Dt);Xe=(function(zt){for(var we={},Be=0;Be<zt.length;++Be){var qe=C0(zt[Be]),rt=qe.family,Et=qe.stretch,et=qe.style,Je=qe.weight;we[rt]=we[rt]||{},we[rt][Et]=we[rt][Et]||{},we[rt][Et][et]=we[rt][Et][et]||{},we[rt][Et][et][Je]=qe}return we})(At.concat(Ut)),He=St}return Xe})(this.pdf,this.fontFaces),kt=lt.map(function(st){return{family:st,stretch:"normal",weight:nt,style:ut}}),Ge=(function(st,Ut,Dt){for(var St=(Dt=Dt||{}).defaultFontFamily||"times",At=Object.assign({},tL,Dt.genericFontFamilies||{}),zt=null,we=null,Be=0;Be<Ut.length;++Be)if(At[(zt=C0(Ut[Be])).family]&&(zt.family=At[zt.family]),st.hasOwnProperty(zt.family)){we=st[zt.family];break}if(!(we=we||st[St]))throw new Error("Could not find a font-family for the rule '"+Eb(zt)+"' and default family '"+St+"'.");if(we=(function(qe,rt){if(rt[qe])return rt[qe];var Et=ig[qe],et=Et<=ig.normal?-1:1,Je=Cb(rt,qw,Et,et);if(!Je)throw new Error("Could not find a matching font-stretch value for "+qe);return Je})(zt.stretch,we),we=(function(qe,rt){if(rt[qe])return rt[qe];for(var Et=Bw[qe],et=0;et<Et.length;++et)if(rt[Et[et]])return rt[Et[et]];throw new Error("Could not find a matching font-style for "+qe)})(zt.style,we),!(we=(function(qe,rt){if(rt[qe])return rt[qe];if(qe===400&&rt[500])return rt[500];if(qe===500&&rt[400])return rt[400];var Et=eL[qe],et=Cb(rt,zw,Et,qe<400?-1:1);if(!et)throw new Error("Could not find a matching font-weight for value "+qe);return et})(zt.weight,we)))throw new Error("Failed to resolve a font for the rule '"+Eb(zt)+"'.");return we})(pt,kt);this.pdf.setFont(Ge.ref.name,Ge.ref.style)}else{var Ke="";(nt==="bold"||parseInt(nt,10)>=700||ut==="bold")&&(Ke="bold"),ut==="italic"&&(Ke+="italic"),Ke.length===0&&(Ke="normal");for(var ct="",bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ot=0;ot<lt.length;ot++){if(this.pdf.internal.getFont(lt[ot],Ke,{noFallback:!0,disableWarning:!0})!==void 0){ct=lt[ot];break}if(Ke==="bolditalic"&&this.pdf.internal.getFont(lt[ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=lt[ot],Ke="bold";else if(this.pdf.internal.getFont(lt[ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=lt[ot],Ke="normal";break}}if(ct===""){for(var xt=0;xt<lt.length;xt++)if(bt[lt[xt]]){ct=bt[lt[xt]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,Ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(U){this.ctx.globalCompositeOperation=U}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(U){this.ctx.globalAlpha=U}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(U){this.ctx.lineDashOffset=U,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(U){this.ctx.lineDash=U,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(U){this.ctx.ignoreClearRect=!!U}})};b.prototype.setLineDash=function(T){this.lineDash=T},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){V.call(this,"fill",!1)},b.prototype.stroke=function(){V.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(T,H){if(isNaN(T)||isNaN(H))throw Qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new h(T,H));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new h(T,H)},b.prototype.closePath=function(){var T=new h(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Bn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){T=new h(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new h(T.x,T.y)},b.prototype.lineTo=function(T,H){if(isNaN(T)||isNaN(H))throw Qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new h(T,H));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new h(ee.x,ee.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),V.call(this,null,!0)},b.prototype.quadraticCurveTo=function(T,H,ee,ie){if(isNaN(ee)||isNaN(ie)||isNaN(T)||isNaN(H))throw Qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new h(ee,ie)),me=this.ctx.transform.applyToPoint(new h(T,H));this.path.push({type:"qct",x1:me.x,y1:me.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new h(oe.x,oe.y)},b.prototype.bezierCurveTo=function(T,H,ee,ie,oe,me){if(isNaN(oe)||isNaN(me)||isNaN(T)||isNaN(H)||isNaN(ee)||isNaN(ie))throw Qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new h(oe,me)),ge=this.ctx.transform.applyToPoint(new h(T,H)),_e=this.ctx.transform.applyToPoint(new h(ee,ie));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:_e.x,y2:_e.y,x:de.x,y:de.y}),this.ctx.lastPoint=new h(de.x,de.y)},b.prototype.arc=function(T,H,ee,ie,oe,me){if(isNaN(T)||isNaN(H)||isNaN(ee)||isNaN(ie)||isNaN(oe))throw Qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new h(T,H));T=de.x,H=de.y;var ge=this.ctx.transform.applyToPoint(new h(0,ee)),_e=this.ctx.transform.applyToPoint(new h(0,0));ee=Math.sqrt(Math.pow(ge.x-_e.x,2)+Math.pow(ge.y-_e.y,2))}Math.abs(oe-ie)>=2*Math.PI&&(ie=0,oe=2*Math.PI),this.path.push({type:"arc",x:T,y:H,radius:ee,startAngle:ie,endAngle:oe,counterclockwise:me})},b.prototype.arcTo=function(T,H,ee,ie,oe){throw new Error("arcTo not implemented.")},b.prototype.rect=function(T,H,ee,ie){if(isNaN(T)||isNaN(H)||isNaN(ee)||isNaN(ie))throw Qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,H),this.lineTo(T+ee,H),this.lineTo(T+ee,H+ie),this.lineTo(T,H+ie),this.lineTo(T,H),this.lineTo(T+ee,H),this.lineTo(T,H)},b.prototype.fillRect=function(T,H,ee,ie){if(isNaN(T)||isNaN(H)||isNaN(ee)||isNaN(ie))throw Qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,H,ee,ie),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},b.prototype.strokeRect=function(T,H,ee,ie){if(isNaN(T)||isNaN(H)||isNaN(ee)||isNaN(ie))throw Qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(T,H,ee,ie),this.stroke())},b.prototype.clearRect=function(T,H,ee,ie){if(isNaN(T)||isNaN(H)||isNaN(ee)||isNaN(ie))throw Qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,H,ee,ie))},b.prototype.save=function(T){T=typeof T!="boolean"||T;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},b.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(H),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(T){var H,ee,ie,oe;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))H=0,ee=0,ie=0,oe=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(me!==null)H=parseInt(me[1]),ee=parseInt(me[2]),ie=parseInt(me[3]),oe=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)H=parseInt(me[1]),ee=parseInt(me[2]),ie=parseInt(me[3]),oe=parseFloat(me[4]);else{if(oe=1,typeof T=="string"&&T.charAt(0)!=="#"){var de=new Lw(T);T=de.ok?de.toHex():"#000000"}T.length===4?(H=T.substring(1,2),H+=H,ee=T.substring(2,3),ee+=ee,ie=T.substring(3,4),ie+=ie):(H=T.substring(1,3),ee=T.substring(3,5),ie=T.substring(5,7)),H=parseInt(H,16),ee=parseInt(ee,16),ie=parseInt(ie,16)}}return{r:H,g:ee,b:ie,a:oe,style:T}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(T,H,ee,ie){if(isNaN(H)||isNaN(ee)||typeof T!="string")throw Qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!y.call(this)){var oe=ce(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;j.call(this,{text:T,x:H,y:ee,scale:me,angle:oe,align:this.textAlign,maxWidth:ie})}},b.prototype.strokeText=function(T,H,ee,ie){if(isNaN(H)||isNaN(ee)||typeof T!="string")throw Qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){ie=isNaN(ie)?void 0:ie;var oe=ce(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;j.call(this,{text:T,x:H,y:ee,scale:me,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ie})}},b.prototype.measureText=function(T){if(typeof T!="string")throw Qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,ee=this.pdf.internal.scaleFactor,ie=H.internal.getFontSize(),oe=H.getStringUnitWidth(T)*ie/H.internal.scaleFactor;return new function(me){var de=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:oe*=Math.round(96*ee/72*1e4)/1e4})},b.prototype.scale=function(T,H){if(isNaN(T)||isNaN(H))throw Qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new f(T,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},b.prototype.rotate=function(T){if(isNaN(T))throw Qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new f(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},b.prototype.translate=function(T,H){if(isNaN(T)||isNaN(H))throw Qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new f(1,0,0,1,T,H);this.ctx.transform=this.ctx.transform.multiply(ee)},b.prototype.transform=function(T,H,ee,ie,oe,me){if(isNaN(T)||isNaN(H)||isNaN(ee)||isNaN(ie)||isNaN(oe)||isNaN(me))throw Qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new f(T,H,ee,ie,oe,me);this.ctx.transform=this.ctx.transform.multiply(de)},b.prototype.setTransform=function(T,H,ee,ie,oe,me){T=isNaN(T)?1:T,H=isNaN(H)?0:H,ee=isNaN(ee)?0:ee,ie=isNaN(ie)?1:ie,oe=isNaN(oe)?0:oe,me=isNaN(me)?0:me,this.ctx.transform=new f(T,H,ee,ie,oe,me)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(T,H,ee,ie,oe,me,de,ge,_e){var Re=this.pdf.getImageProperties(T),Xe=1,He=1,Qe=1,U=1;ie!==void 0&&ge!==void 0&&(Qe=ge/ie,U=_e/oe,Xe=Re.width/ie*ge/ie,He=Re.height/oe*_e/oe),me===void 0&&(me=H,de=ee,H=0,ee=0),ie!==void 0&&ge===void 0&&(ge=ie,_e=oe),ie===void 0&&ge===void 0&&(ge=Re.width,_e=Re.height);var De=this.ctx.transform.decompose(),ut=ce(De.rotate.shx),nt=new f,Me=(nt=(nt=(nt=nt.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new c(me-H*Qe,de-ee*U,ie*Xe,oe*He));if(this.autoPaging){for(var tt,it=k.call(this,Me),lt=[],pt=0;pt<it.length;pt+=1)lt.indexOf(it[pt])===-1&&lt.push(it[pt]);z(lt);for(var kt=lt[0],Ge=lt[lt.length-1],Ke=kt;Ke<Ge+1;Ke++){this.pdf.setPage(Ke);var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=Ke===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=Ke===1?0:ot+(Ke-2)*xt;if(this.ctx.clip_path.length!==0){var Ut=this.path;tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(tt,this.posX+this.margin[3],-st+bt+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=Ut}var Dt=JSON.parse(JSON.stringify(Me));Dt=F([Dt],this.posX+this.margin[3],-st+bt+this.ctx.prevPageLastElemOffset)[0];var St=(Ke>kt||Ke<Ge)&&N.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,xt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,ut),St&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(T,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,ut)};var k=function(T,H,ee){var ie=[];H=H||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":ie.push(Math.floor((T.y+oe)/ee)+1);break;case"arc":ie.push(Math.floor((T.y+oe-T.radius)/ee)+1),ie.push(Math.floor((T.y+oe+T.radius)/ee)+1);break;case"qct":var me=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);ie.push(Math.floor((me.y+oe)/ee)+1),ie.push(Math.floor((me.y+me.h+oe)/ee)+1);break;case"bct":var de=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);ie.push(Math.floor((de.y+oe)/ee)+1),ie.push(Math.floor((de.y+de.h+oe)/ee)+1);break;case"rect":ie.push(Math.floor((T.y+oe)/ee)+1),ie.push(Math.floor((T.y+T.h+oe)/ee)+1)}for(var ge=0;ge<ie.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<ie[ge];)C.call(this);return ie},C=function(){var T=this.fillStyle,H=this.strokeStyle,ee=this.font,ie=this.lineCap,oe=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=H,this.font=ee,this.lineCap=ie,this.lineWidth=oe,this.lineJoin=me},F=function(T,H,ee){for(var ie=0;ie<T.length;ie++)switch(T[ie].type){case"bct":T[ie].x2+=H,T[ie].y2+=ee;case"qct":T[ie].x1+=H,T[ie].y1+=ee;default:T[ie].x+=H,T[ie].y+=ee}return T},z=function(T){return T.sort(function(H,ee){return H-ee})},V=function(T,H){var ee=this.fillStyle,ie=this.strokeStyle,oe=this.lineCap,me=this.lineWidth,de=Math.abs(me*this.ctx.transform.scaleX),ge=this.lineJoin;if(this.autoPaging){for(var _e,Re,Xe=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),Qe=[],U=0;U<He.length;U++)if(He[U].x!==void 0)for(var De=k.call(this,He[U]),ut=0;ut<De.length;ut+=1)Qe.indexOf(De[ut])===-1&&Qe.push(De[ut]);for(var nt=0;nt<Qe.length;nt++)for(;this.pdf.internal.getNumberOfPages()<Qe[nt];)C.call(this);z(Qe);for(var Me=Qe[0],tt=Qe[Qe.length-1],it=Me;it<tt+1;it++){this.pdf.setPage(it),this.fillStyle=ee,this.strokeStyle=ie,this.lineCap=oe,this.lineWidth=de,this.lineJoin=ge;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=it===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=it===1?0:kt+(it-2)*Ge;if(this.ctx.clip_path.length!==0){var ct=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(_e,this.posX+this.margin[3],-Ke+pt+this.ctx.prevPageLastElemOffset),I.call(this,T,!0),this.path=ct}if(Re=JSON.parse(JSON.stringify(Xe)),this.path=F(Re,this.posX+this.margin[3],-Ke+pt+this.ctx.prevPageLastElemOffset),H===!1||it===0){var bt=(it>Me||it<tt)&&N.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Ge,null).clip().discardPath()),I.call(this,T,H),bt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}this.path=Xe}else this.lineWidth=de,I.call(this,T,H),this.lineWidth=me},I=function(T,H){if((T!=="stroke"||H||!A.call(this))&&(T==="stroke"||H||!y.call(this))){for(var ee,ie,oe=[],me=this.path,de=0;de<me.length;de++){var ge=me[de];switch(ge.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:ge,deltas:[],abs:[]});break;case"lt":var _e=oe.length;if(me[de-1]&&!isNaN(me[de-1].x)&&(ee=[ge.x-me[de-1].x,ge.y-me[de-1].y],_e>0)){for(;_e>=0;_e--)if(oe[_e-1].close!==!0&&oe[_e-1].begin!==!0){oe[_e-1].deltas.push(ee),oe[_e-1].abs.push(ge);break}}break;case"bct":ee=[ge.x1-me[de-1].x,ge.y1-me[de-1].y,ge.x2-me[de-1].x,ge.y2-me[de-1].y,ge.x-me[de-1].x,ge.y-me[de-1].y],oe[oe.length-1].deltas.push(ee);break;case"qct":var Re=me[de-1].x+2/3*(ge.x1-me[de-1].x),Xe=me[de-1].y+2/3*(ge.y1-me[de-1].y),He=ge.x+2/3*(ge.x1-ge.x),Qe=ge.y+2/3*(ge.y1-ge.y),U=ge.x,De=ge.y;ee=[Re-me[de-1].x,Xe-me[de-1].y,He-me[de-1].x,Qe-me[de-1].y,U-me[de-1].x,De-me[de-1].y],oe[oe.length-1].deltas.push(ee);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(ge)}}ie=H?null:T==="stroke"?"stroke":"fill";for(var ut=!1,nt=0;nt<oe.length;nt++)if(oe[nt].arc)for(var Me=oe[nt].abs,tt=0;tt<Me.length;tt++){var it=Me[tt];it.type==="arc"?D.call(this,it.x,it.y,it.radius,it.startAngle,it.endAngle,it.counterclockwise,void 0,H,!ut):P.call(this,it.x,it.y),ut=!0}else if(oe[nt].close===!0)this.pdf.internal.out("h"),ut=!1;else if(oe[nt].begin!==!0){var lt=oe[nt].start.x,pt=oe[nt].start.y;J.call(this,oe[nt].deltas,lt,pt),ut=!0}ie&&R.call(this,ie),H&&K.call(this)}},Z=function(T){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-ee;case"top":return T+H-ee;case"hanging":return T+H-2*ee;case"middle":return T+H/2-ee;default:return T}},G=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(H,ee){this.colorStops.push([H,ee])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(T,H,ee,ie,oe,me,de,ge,_e){for(var Re=$.call(this,ee,ie,oe,me),Xe=0;Xe<Re.length;Xe++){var He=Re[Xe];Xe===0&&(_e?E.call(this,He.x1+T,He.y1+H):P.call(this,He.x1+T,He.y1+H)),ue.call(this,T,H,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}ge?K.call(this):R.call(this,de)},R=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(T,H){this.pdf.internal.out(t(T)+" "+r(H)+" m")},j=function(T){var H;switch(T.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var ee,ie,oe,me=this.pdf.getTextDimensions(T.text),de=Z.call(this,T.y),ge=G.call(this,de)-me.h,_e=this.ctx.transform.applyToPoint(new h(T.x,de));if(this.autoPaging){var Re=this.ctx.transform.decompose(),Xe=new f;Xe=(Xe=(Xe=Xe.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale);for(var He=this.ctx.transform.applyToRectangle(new c(T.x,de,me.w,me.h)),Qe=Xe.applyToRectangle(new c(T.x,ge,me.w,me.h)),U=k.call(this,Qe),De=[],ut=0;ut<U.length;ut+=1)De.indexOf(U[ut])===-1&&De.push(U[ut]);z(De);for(var nt=De[0],Me=De[De.length-1],tt=nt;tt<Me+1;tt++){this.pdf.setPage(tt);var it=tt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[2],kt=pt-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],Ke=Ge-this.margin[3],ct=tt===1?0:lt+(tt-2)*kt;if(this.ctx.clip_path.length!==0){var bt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(ee,this.posX+this.margin[3],-1*ct+it),I.call(this,"fill",!0),this.path=bt}var ot=F([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-ct+it+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*T.scale),oe=this.lineWidth,this.lineWidth=oe*T.scale);var xt=this.autoPaging!=="text";if(xt||ot.y+ot.h<=pt){if(xt||ot.y>=it&&ot.x<=Ge){var st=xt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Ge-ot.x)[0],Ut=F([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-ct+it+this.ctx.prevPageLastElemOffset)[0],Dt=xt&&(tt>nt||tt<Me)&&N.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,kt,null).clip().discardPath()),this.pdf.text(st,Ut.x,Ut.y,{angle:T.angle,align:H,renderingMode:T.renderingMode}),Dt&&this.pdf.restoreGraphicsState()}}else ot.y<pt&&(this.ctx.prevPageLastElemOffset+=pt-ot.y);T.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=oe)}}else T.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*T.scale),oe=this.lineWidth,this.lineWidth=oe*T.scale),this.pdf.text(T.text,_e.x+this.posX,_e.y+this.posY,{angle:T.angle,align:H,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=oe)},P=function(T,H,ee,ie){ee=ee||0,ie=ie||0,this.pdf.internal.out(t(T+ee)+" "+r(H+ie)+" l")},J=function(T,H,ee){return this.pdf.lines(T,H,ee,null,null)},ue=function(T,H,ee,ie,oe,me,de,ge){this.pdf.internal.out([e(a(ee+T)),e(o(ie+H)),e(a(oe+T)),e(o(me+H)),e(a(de+T)),e(o(ge+H)),"c"].join(" "))},$=function(T,H,ee,ie){for(var oe=2*Math.PI,me=Math.PI/2;H>ee;)H-=oe;var de=Math.abs(ee-H);de<oe&&ie&&(de=oe-de);for(var ge=[],_e=ie?-1:1,Re=H;de>1e-5;){var Xe=Re+_e*Math.min(de,me);ge.push(re.call(this,T,Re,Xe)),de-=Math.abs(Xe-Re),Re=Xe}return ge},re=function(T,H,ee){var ie=(ee-H)/2,oe=T*Math.cos(ie),me=T*Math.sin(ie),de=oe,ge=-me,_e=de*de+ge*ge,Re=_e+de*oe+ge*me,Xe=4/3*(Math.sqrt(2*_e*Re)-Re)/(de*me-ge*oe),He=de-Xe*ge,Qe=ge+Xe*de,U=He,De=-Qe,ut=ie+H,nt=Math.cos(ut),Me=Math.sin(ut);return{x1:T*Math.cos(H),y1:T*Math.sin(H),x2:He*nt-Qe*Me,y2:He*Me+Qe*nt,x3:U*nt-De*Me,y3:U*Me+De*nt,x4:T*Math.cos(ee),y4:T*Math.sin(ee)}},ce=function(T){return 180*T/Math.PI},pe=function(T,H,ee,ie,oe,me){var de=T+.5*(ee-T),ge=H+.5*(ie-H),_e=oe+.5*(ee-oe),Re=me+.5*(ie-me),Xe=Math.min(T,oe,de,_e),He=Math.max(T,oe,de,_e),Qe=Math.min(H,me,ge,Re),U=Math.max(H,me,ge,Re);return new c(Xe,Qe,He-Xe,U-Qe)},Ne=function(T,H,ee,ie,oe,me,de,ge){var _e,Re,Xe,He,Qe,U,De,ut,nt,Me,tt,it,lt,pt,kt=ee-T,Ge=ie-H,Ke=oe-ee,ct=me-ie,bt=de-oe,ot=ge-me;for(Re=0;Re<41;Re++)nt=(De=(Xe=T+(_e=Re/40)*kt)+_e*((Qe=ee+_e*Ke)-Xe))+_e*(Qe+_e*(oe+_e*bt-Qe)-De),Me=(ut=(He=H+_e*Ge)+_e*((U=ie+_e*ct)-He))+_e*(U+_e*(me+_e*ot-U)-ut),Re==0?(tt=nt,it=Me,lt=nt,pt=Me):(tt=Math.min(tt,nt),it=Math.min(it,Me),lt=Math.max(lt,nt),pt=Math.max(pt,Me));return new c(Math.round(tt),Math.round(it),Math.round(lt-tt),Math.round(pt-it))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,H,ee=(T=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:H}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Tt.API),(function(i){var e=function(h){var c,f,d,m,b,w,y,A,N,k;for(f=[],d=0,m=(h+=c="\0\0\0\0".slice(h.length%4||4)).length;m>d;d+=4)(b=(h.charCodeAt(d)<<24)+(h.charCodeAt(d+1)<<16)+(h.charCodeAt(d+2)<<8)+h.charCodeAt(d+3))!==0?(w=(b=((b=((b=((b=(b-(k=b%85))/85)-(N=b%85))/85)-(A=b%85))/85)-(y=b%85))/85)%85,f.push(w+33,y+33,A+33,N+33,k+33)):f.push(122);return(function(C,F){for(var z=F;z>0;z--)C.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(h){var c,f,d,m,b,w=String,y="length",A=255,N="charCodeAt",k="slice",C="replace";for(h[k](-2),h=h[k](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),d=[],m=0,b=(h+=c="uuuuu"[k](h[y]%5||5))[y];b>m;m+=5)f=52200625*(h[N](m)-33)+614125*(h[N](m+1)-33)+7225*(h[N](m+2)-33)+85*(h[N](m+3)-33)+(h[N](m+4)-33),d.push(A&f>>24,A&f>>16,A&f>>8,A&f);return(function(F,z){for(var V=z;V>0;V--)F.pop()})(d,c[y]),w.fromCharCode.apply(w,d)},r=function(h){return h.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(h){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((h=h.replace(/\s/g,"")).indexOf(">")!==-1&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),c.test(h)===!1)return"";for(var f="",d=0;d<h.length;d+=2)f+=String.fromCharCode("0x"+(h[d]+h[d+1]));return f},o=function(h){for(var c=new Uint8Array(h.length),f=h.length;f--;)c[f]=h.charCodeAt(f);return(c=K0(c)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};i.processDataByFilters=function(h,c){var f=0,d=h||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}})(Tt.API),(function(i){i.loadFile=function(e,t,r){return(function(a,o,h){o=o!==!1,h=typeof h=="function"?h:function(){};var c=void 0;try{c=(function(f,d,m){var b=new XMLHttpRequest,w=0,y=function(A){var N=A.length,k=[],C=String.fromCharCode;for(w=0;w<N;w+=1)k.push(C(255&A.charCodeAt(w)));return k.join("")};if(b.open("GET",f,!d),b.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(b.onload=function(){b.status===200?m(y(this.responseText)):m(void 0)}),b.send(null),d&&b.status===200)return y(b.responseText)})(a,o,h)}catch{}return c})(e,t,r)},i.loadImageFile=i.loadFile})(Tt.API),(function(i){function e(){return(Pt.html2canvas?Promise.resolve(Pt.html2canvas):Ep(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Pt.DOMPurify?Promise.resolve(Pt.DOMPurify):Ep(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=Bn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var m in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[m]=f.style[m];return d},o=function c(f,d){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),b=f.firstChild;b;b=b.nextSibling)d!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||m.appendChild(c(b,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m},h=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),d);return(m=m.setProgress(1,c,1,[c])).set(f)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(c,f){return c.__proto__=f||h.prototype,c},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},h.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,m=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var y=0;y<m.length;++y){var A=m[y],N=A.src.find(function(k){return k.format==="truetype"});N&&d.addFont(N.url,A.ref.name,A.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,d.context2d.save(!0),f(this.prop.container,w)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},h.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},h.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},h.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in h.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},h.prototype.get=function(c,f){return this.then(function(){var d=c in h.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},h.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},h.prototype.setPageSize=function(c){function f(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(c=c||Tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},h.prototype.setProgress=function(c,f,d,m){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(c,f,d,m){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},h.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(m,b){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(w){return d.updateProgress(null,m),w}).then(m,b).then(function(w){return d.updateProgress(1),w})})},h.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),f&&(f=f.bind(m));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:h.convert(Object.assign({},m),Promise.prototype),w=d.call(b,c,f);return h.convert(w,m.__proto__)},h.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},h.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},h.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return h.convert(f,this)},h.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},h.prototype.error=function(c){return this.then(function(){throw new Error(c)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,Tt.getPageSize=function(c,f,d){if(Bn(c)==="object"){var m=c;c=m.orientation,f=m.unit||f,d=m.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var b,w=(""+d).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+f}var A,N=0,k=0;if(y.hasOwnProperty(w))N=y[w][1]/b,k=y[w][0]/b;else try{N=d[1],k=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",k>N&&(A=k,k=N,N=A);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",N>k&&(A=k,k=N,N=A)}return{width:k,height:N,unit:f,k:b,orientation:c}},i.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(C0):null;var d=new h(f);return f.worker?d:d.from(c).doCallback()}})(Tt.API),Tt.API.addJS=function(i){return Lb=i,this.internal.events.subscribe("postPutResources",function(){_p=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_p+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ob=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Lb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){_p!==void 0&&Ob!==void 0&&this.internal.out("/Names <</JavaScript "+_p+" 0 R>>")}),this},(function(i){var e;i.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var h=a[o],c=r.exec(h);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(h)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(o=0;o<d;o++){var b=t.internal.newObject();m.push(b);var w=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var y=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<m.length;o++)t.internal.write("(page_"+(o+1)+")"+m[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+y+" 0 R"),t.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),i.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,o){var h={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(h),h},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var h=r.children[o];this.objStart(h),this.line("/Title "+this.makeString(h.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),h.children.length>0&&(this.line("/First "+this.makeRef(h.children[0])),this.line("/Last "+this.makeRef(h.children[h.children.length-1])));var c=this.count=this.count_r({count:0},h);if(c>0&&this.line("/Count "+c),h.options&&h.options.pageNumber){var f=t.internal.getPageInfo(h.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(Tt.API),(function(i){var e=[192,193,194,195,196,197,198,199];i.processJPEG=function(t,r,a,o,h,c){var f,d=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=h||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(b){for(var w,y=256*b.charCodeAt(4)+b.charCodeAt(5),A=b.length,N={width:0,height:0,numcomponents:1},k=4;k<A;k+=2){if(k+=y,e.indexOf(b.charCodeAt(k+1))!==-1){w=256*b.charCodeAt(k+5)+b.charCodeAt(k+6),N={width:256*b.charCodeAt(k+7)+b.charCodeAt(k+8),height:w,numcomponents:b.charCodeAt(k+9)};break}y=256*b.charCodeAt(k+2)+b.charCodeAt(k+3)}return N})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:a}}return m}})(Tt.API),Tt.API.processPNG=function(i,e,t,r){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var a,o=zO(i,{checkCrc:!0}),h=o.width,c=o.height,f=o.channels,d=o.palette,m=o.depth;a=d&&f===1?(function(D){for(var R=D.width,K=D.height,E=D.data,j=D.palette,P=D.depth,J=!1,ue=[],$=[],re=void 0,ce=!1,pe=0,Ne=0;Ne<j.length;Ne++){var X=Ry(j[Ne],4),T=X[0],H=X[1],ee=X[2],ie=X[3];ue.push(T,H,ee),ie!=null&&(ie===0?(pe++,$.length<1&&$.push(Ne)):ie<255&&(ce=!0))}if(ce||pe>1){J=!0,$=void 0;var oe=R*K;re=new Uint8Array(oe);for(var me=new DataView(E.buffer),de=0;de<oe;de++){var ge=E0(me,de,P),_e=Ry(j[ge],4)[3];re[de]=_e}}else pe===0&&($=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:E,alphaBytes:re,needSMask:J,palette:ue,mask:$}})(o):f===2||f===4?(function(D){for(var R=D.data,K=D.width,E=D.height,j=D.channels,P=D.depth,J=j===2?"DeviceGray":"DeviceRGB",ue=j-1,$=K*E,re=ue,ce=$*re,pe=1*$,Ne=Math.ceil(ce*P/8),X=Math.ceil(pe*P/8),T=new Uint8Array(Ne),H=new Uint8Array(X),ee=new DataView(R.buffer),ie=new DataView(T.buffer),oe=new DataView(H.buffer),me=!1,de=0;de<$;de++){for(var ge=de*j,_e=0;_e<re;_e++)zb(ie,E0(ee,ge+_e,P),de*re+_e,P);var Re=E0(ee,ge+re,P);Re<(1<<P)-1&&(me=!0),zb(oe,Re,1*de,P)}return{colorSpace:J,colorsPerPixel:ue,sMaskBitsPerComponent:me?P:void 0,colorBytes:T,alphaBytes:H,needSMask:me}})(o):(function(D){var R=D.data,K=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(E){for(var j=E.length,P=new Uint8Array(2*j),J=new DataView(P.buffer,P.byteOffset,P.byteLength),ue=0;ue<j;ue++)J.setUint16(2*ue,E[ue],!1);return P})(R):R,needSMask:!1}})(o);var b,w,y,A=a,N=A.colorSpace,k=A.colorsPerPixel,C=A.sMaskBitsPerComponent,F=A.colorBytes,z=A.alphaBytes,V=A.needSMask,I=A.palette,Z=A.mask,G=null;return r!==Tt.API.image_compression.NONE&&typeof K0=="function"?(G=(function(D){var R;switch(D){case Tt.API.image_compression.FAST:R=11;break;case Tt.API.image_compression.MEDIUM:R=13;break;case Tt.API.image_compression.SLOW:R=14;break;default:R=12}return R})(r),b=this.decode.FLATE_DECODE,w="/Predictor ".concat(G," /Colors ").concat(k," /BitsPerComponent ").concat(m," /Columns ").concat(h),i=Rb(F,Math.ceil(h*k*m/8),k,m,r),V&&(y=Rb(z,Math.ceil(h*C/8),1,C,r))):(b=void 0,w=void 0,i=F,V&&(y=z)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:t,data:i,index:e,filter:b,decodeParameters:w,transparency:Z,palette:I,sMask:y,predictor:G,width:h,height:c,bitsPerComponent:m,sMaskBitsPerComponent:C,colorSpace:N}}},(function(i){i.processGIF89A=function(e,t,r,a){var o=new oL(e),h=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:h,height:c},m=new k0(100).encode(d,100);return i.processJPEG.call(this,m,t,r,a)},i.processGIF87A=i.processGIF89A})(Tt.API),Ha.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var e=0;e<i;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ha.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[i]()}catch(t){Qn.log("bit decode error:"+t)}},Ha.prototype.bit1=function(){var i,e=Math.ceil(this.width/8),t=e%4;for(i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[h+4*c]=f.blue,this.data[h+4*c+1]=f.green,this.data[h+4*c+2]=f.red,this.data[h+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Ha.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),e=i%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<i;a++){var o=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[h]=d.blue,this.data[h+1]=d.green,this.data[h+2]=d.red,this.data[h+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[h+4]=d.blue,this.data[h+4+1]=d.green,this.data[h+4+2]=d.red,this.data[h+4+3]=255}e!==0&&(this.pos+=4-e)}},Ha.prototype.bit8=function(){for(var i=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(a<this.palette.length){var h=this.palette[a];this.data[o]=h.red,this.data[o+1]=h.green,this.data[o+2]=h.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}i!==0&&(this.pos+=4-i)}},Ha.prototype.bit15=function(){for(var i=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,m=r*this.width*4+4*a;this.data[m]=f,this.data[m+1]=c,this.data[m+2]=h,this.data[m+3]=d}this.pos+=i}},Ha.prototype.bit16=function(){for(var i=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(h&e)/e*255|0,f=(h>>5&t)/t*255|0,d=(h>>11)/e*255|0,m=a*this.width*4+4*o;this.data[m]=d,this.data[m+1]=f,this.data[m+2]=c,this.data[m+3]=255}this.pos+=i}},Ha.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=r,this.data[h+3]=255}this.pos+=this.width%4}},Ha.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=h}},Ha.prototype.getData=function(){return this.data},(function(i){i.processBMP=function(e,t,r,a){var o=new Ha(e,!1),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new k0(100).encode(f,100);return i.processJPEG.call(this,d,t,r,a)}})(Tt.API),Pb.prototype.getData=function(){return this.data},(function(i){i.processWEBP=function(e,t,r,a){var o=new Pb(e),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new k0(100).encode(f,100);return i.processJPEG.call(this,d,t,r,a)}})(Tt.API),Tt.API.processRGBA=function(i,e,t){for(var r=i.data,a=r.length,o=new Uint8Array(a/4*3),h=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var m=r[d],b=r[d+1],w=r[d+2],y=r[d+3];o[c++]=m,o[c++]=b,o[c++]=w,h[f++]=y}var A=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(h),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Tt.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},oh=Tt.API,wp=oh.getCharWidthsArray=function(i,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),h=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,m=d.fof?d.fof:1,b=e.doKerning!==!1,w=0,y=i.length,A=0,N=c[0]||f,k=[];for(t=0;t<y;t++)r=i.charCodeAt(t),typeof a.metadata.widthOfString=="function"?k.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+h*(1e3/o)||0)/1e3):(w=b&&Bn(d[r])==="object"&&!isNaN(parseInt(d[r][A],10))?d[r][A]/m:0,k.push((c[r]||N)/f+w)),A=r;return k},Mb=oh.getStringUnitWidth=function(i,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return oh.processArabic&&(i=oh.processArabic(i)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(i,t,a)/t:wp.apply(this,arguments).reduce(function(o,h){return o+h},0)},Db=function(i,e,t,r){for(var a=[],o=0,h=i.length,c=0;o!==h&&c+e[o]<t;)c+=e[o],o++;a.push(i.slice(0,o));var f=o;for(c=0;o!==h;)c+e[o]>r&&(a.push(i.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(i.slice(f,o)),a},jb=function(i,e,t){t||(t={});var r,a,o,h,c,f,d,m=[],b=[m],w=t.textIndent||0,y=0,A=0,N=i.split(" "),k=wp.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?N[0].length+2:t.lineIndent||0){var C=Array(f).join(" "),F=[];N.map(function(V){(V=V.split(/\s*\n/)).length>1?F=F.concat(V.map(function(I,Z){return(Z&&I.length?`
`:"")+I})):F.push(V[0])}),N=F,f=Mb.apply(this,[C,t])}for(o=0,h=N.length;o<h;o++){var z=0;if(r=N[o],f&&r[0]==`
`&&(r=r.substr(1),z=1),w+y+(A=(a=wp.apply(this,[r,t])).reduce(function(V,I){return V+I},0))>e||z){if(A>e){for(c=Db.apply(this,[r,a,e-(w+y),e]),m.push(c.shift()),m=[c.pop()];c.length;)b.push([c.shift()]);A=a.slice(r.length-(m[0]?m[0].length:0)).reduce(function(V,I){return V+I},0)}else m=[r];b.push(m),w=A+f,y=k}else m.push(r),w+=y+A,y=k}return d=f?function(V,I){return(I?C:"")+V.join(" ")}:function(V){return V.join(" ")},b.map(d)},oh.splitTextToSize=function(i,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var b=this.internal.getFont(m.fontName,m.fontStyle),w="Unicode";return b.metadata[w]?{widths:b.metadata[w].widths||{0:1},kerning:b.metadata[w].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(i)?i:String(i).split(/\r?\n/);var h=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(jb.apply(this,[r[c],h,o]));return d},(function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[t[o]]=e[o],a[e[o]]=t[o];var h=function(w){return"0x"+parseInt(w,10).toString(16)},c=i.__fontmetrics__.compress=function(w){var y,A,N,k,C=["{"];for(var F in w){if(y=w[F],isNaN(parseInt(F,10))?A="'"+F+"'":(F=parseInt(F,10),A=(A=h(F).slice(2)).slice(0,-1)+a[A.slice(-1)]),typeof y=="number")y<0?(N=h(y).slice(3),k="-"):(N=h(y).slice(2),k=""),N=k+N.slice(0,-1)+a[N.slice(-1)];else{if(Bn(y)!=="object")throw new Error("Don't know what to do with value type "+Bn(y)+".");N=c(y)}C.push(A+N)}return C.push("}"),C.join("")},f=i.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,A,N,k,C={},F=1,z=C,V=[],I="",Z="",G=w.length-1,D=1;D<G;D+=1)(k=w[D])=="'"?y?(N=y.join(""),y=void 0):y=[]:y?y.push(k):k=="{"?(V.push([z,N]),z={},N=void 0):k=="}"?((A=V.pop())[0][A[1]]=z,N=void 0,z=A[0]):k=="-"?F=-1:N===void 0?r.hasOwnProperty(k)?(I+=r[k],N=parseInt(I,16)*F,F=1,I=""):I+=k:r.hasOwnProperty(k)?(Z+=r[k],z[N]=parseInt(Z,16)*F,F=1,N=void 0,Z=""):Z+=k;return C},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},b={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(w){var y=w.font,A=b.Unicode[y.postScriptName];A&&(y.metadata.Unicode={},y.metadata.Unicode.widths=A.widths,y.metadata.Unicode.kerning=A.kerning);var N=m.Unicode[y.postScriptName];N&&(y.metadata.Unicode.encoding=N,y.encoding=N.codePages[0])}])})(Tt.API),(function(i){var e=function(t){for(var r=t.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=t.charCodeAt(o);return a};i.API.events.push(["addFont",function(t){var r=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(h,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Op(c)),h.metadata=i.API.TTFFont.open(c),h.metadata.Unicode=h.metadata.Unicode||{encoding:{},kerning:{},widths:[]},h.metadata.glyIdsUsed=[0]})(a,r)}}])})(Tt),Tt.API.addSvgAsImage=function(i,e,t,r,a,o,h,c){if(isNaN(e)||isNaN(t))throw Qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw Qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(Pt.canvg?Promise.resolve(Pt.canvg):Ep(()=>import("./index.es-R5Lzqa2F.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(d,i,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(m)}).then(function(){b.addImage(f.toDataURL("image/jpeg",1),e,t,r,a,h,c)})},Tt.API.putTotalPages=function(i){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(i,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},Tt.API.viewerPreferences=function(i,e){var t;i=i||{},e=e||!1;var r,a,o,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(h),f=[],d=0,m=0,b=0;function w(A,N){var k,C=!1;for(k=0;k<A.length;k+=1)A[k]===N&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,i==="reset"||e===!0){var y=c.length;for(b=0;b<y;b+=1)t[c[b]].value=t[c[b]].defaultValue,t[c[b]].explicitSet=!1}if(Bn(i)==="object"){for(a in i)if(o=i[a],w(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&w(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(m=0;m<o[d].length;m+=1)typeof o[d][m]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,N=[];for(A in t)t[A].explicitSet===!0&&(t[A].type==="name"?N.push("/"+A+" /"+t[A].value):N.push("/"+A+" "+t[A].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(i){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),h=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+h.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+h+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Tt.API),(function(i){var e=i.API,t=e.pdfEscape16=function(o,h){for(var c,f=h.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],b=0,w=o.length;b<w;++b){if(c=h.metadata.characterToGlyph(o.charCodeAt(b)),h.metadata.glyIdsUsed.push(c),h.metadata.toUnicode[c]=o.charCodeAt(b),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(h.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(d[4-c.length],c)}return m.join("")},r=function(o){var h,c,f,d,m,b,w;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],b=0,w=(c=Object.keys(o).sort(function(y,A){return y-A})).length;b<w;b++)h=c[b],f.length>=100&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[h]!==void 0&&o[h]!==null&&typeof o[h].toString=="function"&&(d=("0000"+o[h].toString(16)).slice(-4),h=("0000"+(+h).toString(16)).slice(-4),f.push("<"+h+"><"+d+">"));return f.length&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof i.API.TTFFont&&c.encoding==="Identity-H"){for(var b=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",A=0;A<w.length;A++)y+=String.fromCharCode(w[A]);var N=d();m({data:y,addLength1:!0,objectId:N}),f("endobj");var k=d();m({data:r(c.metadata.toUnicode),addLength1:!0,objectId:k}),f("endobj");var C=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+hh(c.fontName)),f("/FontFile2 "+N+" 0 R"),f("/FontBBox "+i.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var F=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+hh(c.fontName)),f("/FontDescriptor "+C+" 0 R"),f("/W "+i.API.PDFObject.convert(b)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+k+" 0 R"),f("/BaseFont /"+hh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+F+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof i.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var b=c.metadata.rawData,w="",y=0;y<b.length;y++)w+=String.fromCharCode(b[y]);var A=d();m({data:w,addLength1:!0,objectId:A}),f("endobj");var N=d();m({data:r(c.metadata.toUnicode),addLength1:!0,objectId:N}),f("endobj");var k=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+A+" 0 R"),f("/Flags 96"),f("/FontBBox "+i.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+hh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var C=0;C<c.metadata.hmtx.widths.length;C++)c.metadata.hmtx.widths[C]=parseInt(c.metadata.hmtx.widths[C]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+hh(c.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var h,c=o.text||"",f=o.x,d=o.y,m=o.options||{},b=o.mutex||{},w=b.pdfEscape,y=b.activeFontKey,A=b.fonts,N=y,k="",C=0,F="",z=A[N].encoding;if(A[N].encoding!=="Identity-H")return{text:c,x:f,y:d,options:m,mutex:b};for(F=c,N=y,Array.isArray(c)&&(F=c[0]),C=0;C<F.length;C+=1)A[N].metadata.hasOwnProperty("cmap")&&(h=A[N].metadata.cmap.unicode.codeMap[F[C].charCodeAt(0)]),h||F[C].charCodeAt(0)<256&&A[N].metadata.hasOwnProperty("Unicode")?k+=F[C]:k+="";var V="";return parseInt(N.slice(1))<14||z==="WinAnsiEncoding"?V=w(k,N).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):z==="Identity-H"&&(V=t(k,A[N])),b.isHex=!0,{text:V,x:f,y:d,options:m,mutex:b}};e.events.push(["postProcessText",function(o){var h=o.text||"",c=[],f={text:h,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(h)){var d=0;for(d=0;d<h.length;d+=1)Array.isArray(h[d])&&h[d].length===3?c.push([a(Object.assign({},f,{text:h[d][0]})).text,h[d][1],h[d][2]]):c.push(a(Object.assign({},f,{text:h[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:h})).text}])})(Tt),(function(i){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},i.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},i.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Tt.API),(function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(r){var a,o,h,c,f,d,m,b=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),F=!1,z=0;this.__bidiEngine__={};var V=function(E){var j=E.charCodeAt(),P=j>>8,J=N[P];return J!==void 0?b[256*J+(255&j)]:P===252||P===253?"AL":C.test(P)?"L":P===8?"R":"N"},I=function(E){for(var j,P=0;P<E.length;P++){if((j=V(E.charAt(P)))==="L")return!1;if(j==="R")return!0}return!1},Z=function(E,j,P,J){var ue,$,re,ce,pe=j[J];switch(pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":F=!1;break;case"N":case"AN":break;case"EN":F&&(pe="AN");break;case"AL":F=!0,pe="R";break;case"WS":case"BN":pe="N";break;case"CS":J<1||J+1>=j.length||(ue=P[J-1])!=="EN"&&ue!=="AN"||($=j[J+1])!=="EN"&&$!=="AN"?pe="N":F&&($="AN"),pe=$===ue?$:"N";break;case"ES":pe=(ue=J>0?P[J-1]:"B")==="EN"&&J+1<j.length&&j[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&P[J-1]==="EN"){pe="EN";break}if(F){pe="N";break}for(re=J+1,ce=j.length;re<ce&&j[re]==="ET";)re++;pe=re<ce&&j[re]==="EN"?"EN":"N";break;case"NSM":if(h&&!c){for(ce=j.length,re=J+1;re<ce&&j[re]==="NSM";)re++;if(re<ce){var Ne=E[J],X=Ne>=1425&&Ne<=2303||Ne===64286;if(ue=j[re],X&&(ue==="R"||ue==="AL")){pe="R";break}}}pe=J<1||(ue=j[J-1])==="B"?"N":P[J-1];break;case"B":F=!1,a=!0,pe=z;break;case"S":o=!0,pe="N"}return pe},G=function(E,j,P){var J=E.split("");return P&&D(J,P,{hiLevel:z}),J.reverse(),j&&j.reverse(),J.join("")},D=function(E,j,P){var J,ue,$,re,ce,pe=-1,Ne=E.length,X=0,T=[],H=z?y:w,ee=[];for(F=!1,a=!1,o=!1,ue=0;ue<Ne;ue++)ee[ue]=V(E[ue]);for($=0;$<Ne;$++){if(ce=X,T[$]=Z(E,ee,T,$),J=240&(X=H[ce][A[T[$]]]),X&=15,j[$]=re=H[X][5],J>0)if(J===16){for(ue=pe;ue<$;ue++)j[ue]=1;pe=-1}else pe=-1;if(H[X][6])pe===-1&&(pe=$);else if(pe>-1){for(ue=pe;ue<$;ue++)j[ue]=re;pe=-1}ee[$]==="B"&&(j[$]=0),P.hiLevel|=re}o&&(function(ie,oe,me){for(var de=0;de<me;de++)if(ie[de]==="S"){oe[de]=z;for(var ge=de-1;ge>=0&&ie[ge]==="WS";ge--)oe[ge]=z}})(ee,j,Ne)},R=function(E,j,P,J,ue){if(!(ue.hiLevel<E)){if(E===1&&z===1&&!a)return j.reverse(),void(P&&P.reverse());for(var $,re,ce,pe,Ne=j.length,X=0;X<Ne;){if(J[X]>=E){for(ce=X+1;ce<Ne&&J[ce]>=E;)ce++;for(pe=X,re=ce-1;pe<re;pe++,re--)$=j[pe],j[pe]=j[re],j[re]=$,P&&($=P[pe],P[pe]=P[re],P[re]=$);X=ce}X++}}},K=function(E,j,P){var J=E.split(""),ue={hiLevel:z};return P||(P=[]),D(J,P,ue),(function($,re,ce){if(ce.hiLevel!==0&&m)for(var pe,Ne=0;Ne<$.length;Ne++)re[Ne]===1&&(pe=k.indexOf($[Ne]))>=0&&($[Ne]=k[pe+1])})(J,P,ue),R(2,J,j,P,ue),R(1,J,j,P,ue),J.join("")};return this.__bidiEngine__.doBidiReorder=function(E,j,P){if((function(ue,$){if($)for(var re=0;re<ue.length;re++)$[re]=re;c===void 0&&(c=I(ue)),d===void 0&&(d=I(ue))})(E,j),h||!f||d)if(h&&f&&c^d)z=c?1:0,E=G(E,j,P);else if(!h&&f&&d)z=c?1:0,E=K(E,j,P),E=G(E,j);else if(!h||c||f||d){if(h&&!f&&c^d)E=G(E,j),c?(z=0,E=K(E,j,P)):(z=1,E=K(E,j,P),E=G(E,j));else if(h&&c&&!f&&d)z=1,E=K(E,j,P),E=G(E,j);else if(!h&&!f&&c^d){var J=m;c?(z=1,E=K(E,j,P),z=0,m=!1,E=K(E,j,P),m=J):(z=0,E=K(E,j,P),E=G(E,j),z=1,m=!1,E=K(E,j,P),m=J,E=G(E,j))}}else z=0,E=K(E,j,P);else z=c?1:0,E=K(E,j,P);return E},this.__bidiEngine__.setOptions=function(E){E&&(h=E.isInputVisual,f=E.isOutputVisual,c=E.isInputRtl,d=E.isOutputRtl,m=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var h=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(h=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?h.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):h.push([t.doBidiReorder(a[c])]);r.text=h}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Tt),Tt.API.TTFFont=(function(){function i(e){var t;if(this.rawData=e,t=this.contents=new gc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new wL(this),this.registerTTF()}return i.open=function(e){return new i(e)},i.prototype.parse=function(){return this.directory=new lL(this.contents),this.head=new uL(this),this.name=new mL(this),this.cmap=new Pw(this),this.toUnicode={},this.hhea=new hL(this),this.maxp=new gL(this),this.hmtx=new vL(this),this.post=new dL(this),this.os2=new fL(this),this.loca=new _L(this),this.glyf=new yL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var e,t,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var h,c,f,d;for(d=[],h=0,c=(f=this.bbox).length;h<c;h++)e=f[h],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},i.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},i.prototype.widthOfString=function(e,t,r){var a,o,h,c;for(h=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),h+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return h*(t/1e3)},i.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},i})();var so,gc=(function(){function i(e){this.data=e??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(e){return this.data[this.pos++]=e},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},i.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},i.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},i.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},i.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(e){return this.writeInt16(e)},i.prototype.readLongLong=function(){var e,t,r,a,o,h,c,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),h=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^h)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*o+65536*h+256*c+f},i.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(e){return this.writeInt32(e)},i.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},i.prototype.write=function(e){var t,r,a,o;for(o=[],r=0,a=e.length;r<a;r++)t=e[r],o.push(this.writeByte(t));return o},i})(),lL=(function(){var i;function e(t){var r,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,o,h,c,f,d,m,b,w,y,A,N;for(N in y=Object.keys(t).length,f=Math.log(2),b=16*Math.floor(Math.log(y)/f),h=Math.floor(b/f),m=16*y-b,(a=new gc).writeInt(this.scalarType),a.writeShort(y),a.writeShort(b),a.writeShort(h),a.writeShort(m),o=16*y,d=a.pos+o,c=null,A=[],t)for(w=t[N],a.writeString(N),a.writeInt(i(w)),a.writeInt(d),a.writeInt(w.length),A=A.concat(w),N==="head"&&(c=d),d+=w.length;d%4;)A.push(0),d++;return a.write(A),r=2981146554-i(a.data),a.pos=c+8,a.writeUInt32(r),a.data},i=function(t){var r,a,o,h;for(t=Uw.call(t);t.length%4;)t.push(0);for(o=new gc(t),a=0,r=0,h=t.length;r<h;r=r+=4)a+=o.readUInt32();return 4294967295&a},e})(),cL={}.hasOwnProperty,Io=function(i,e){for(var t in e)cL.call(e,t)&&(i[t]=e[t]);function r(){this.constructor=i}return r.prototype=e.prototype,i.prototype=new r,i.__super__=e.prototype,i};so=(function(){function i(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i})();var uL=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Io(i,so),i.prototype.tag="head",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},i.prototype.encode=function(e){var t;return(t=new gc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},i})(),Ub=(function(){function i(e,t){var r,a,o,h,c,f,d,m,b,w,y,A,N,k,C,F,z;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(y=e.readUInt16(),w=y/2,e.pos+=6,o=(function(){var V,I;for(I=[],f=V=0;0<=w?V<w:V>w;f=0<=w?++V:--V)I.push(e.readUInt16());return I})(),e.pos+=2,N=(function(){var V,I;for(I=[],f=V=0;0<=w?V<w:V>w;f=0<=w?++V:--V)I.push(e.readUInt16());return I})(),d=(function(){var V,I;for(I=[],f=V=0;0<=w?V<w:V>w;f=0<=w?++V:--V)I.push(e.readUInt16());return I})(),m=(function(){var V,I;for(I=[],f=V=0;0<=w?V<w:V>w;f=0<=w?++V:--V)I.push(e.readUInt16());return I})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var V,I;for(I=[],f=V=0;0<=a?V<a:V>a;f=0<=a?++V:--V)I.push(e.readUInt16());return I})(),f=C=0,z=o.length;C<z;f=++C)for(k=o[f],r=F=A=N[f];A<=k?F<=k:F>=k;r=A<=k?++F:--F)m[f]===0?h=r+d[f]:(h=c[m[f]/2+(r-A)-(w-f)]||0)!==0&&(h+=d[f]),this.codeMap[r]=65535&h}e.pos=b}return i.encode=function(e,t){var r,a,o,h,c,f,d,m,b,w,y,A,N,k,C,F,z,V,I,Z,G,D,R,K,E,j,P,J,ue,$,re,ce,pe,Ne,X,T,H,ee,ie,oe,me,de,ge,_e,Re,Xe;switch(J=new gc,h=Object.keys(e).sort(function(He,Qe){return He-Qe}),t){case"macroman":for(N=0,k=(function(){var He=[];for(A=0;A<256;++A)He.push(0);return He})(),F={0:0},o={},ue=0,pe=h.length;ue<pe;ue++)F[ge=e[a=h[ue]]]==null&&(F[ge]=++N),o[a]={old:e[a],new:F[e[a]]},k[a]=F[e[a]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(k),{charMap:o,subtable:J.data,maxGlyphID:N+1};case"unicode":for(j=[],b=[],z=0,F={},r={},C=d=null,$=0,Ne=h.length;$<Ne;$++)F[I=e[a=h[$]]]==null&&(F[I]=++z),r[a]={old:I,new:F[I]},c=F[I]-a,C!=null&&c===d||(C&&b.push(C),j.push(a),d=c),C=a;for(C&&b.push(C),b.push(65535),j.push(65535),K=2*(R=j.length),D=2*Math.pow(Math.log(R)/Math.LN2,2),w=Math.log(D/2)/Math.LN2,G=2*R-D,f=[],Z=[],y=[],A=re=0,X=j.length;re<X;A=++re){if(E=j[A],m=b[A],E===65535){f.push(0),Z.push(0);break}if(E-(P=r[E].new)>=32768)for(f.push(0),Z.push(2*(y.length+R-A)),a=ce=E;E<=m?ce<=m:ce>=m;a=E<=m?++ce:--ce)y.push(r[a].new);else f.push(P-E),Z.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*R+2*y.length),J.writeUInt16(0),J.writeUInt16(K),J.writeUInt16(D),J.writeUInt16(w),J.writeUInt16(G),me=0,T=b.length;me<T;me++)a=b[me],J.writeUInt16(a);for(J.writeUInt16(0),de=0,H=j.length;de<H;de++)a=j[de],J.writeUInt16(a);for(_e=0,ee=f.length;_e<ee;_e++)c=f[_e],J.writeUInt16(c);for(Re=0,ie=Z.length;Re<ie;Re++)V=Z[Re],J.writeUInt16(V);for(Xe=0,oe=y.length;Xe<oe;Xe++)N=y[Xe],J.writeUInt16(N);return{charMap:r,subtable:J.data,maxGlyphID:z+1}}},i})(),Pw=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Io(i,so),i.prototype.tag="cmap",i.prototype.parse=function(e){var t,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)t=new Ub(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},i.encode=function(e,t){var r,a;return t==null&&(t="macroman"),r=Ub.encode(e,t),(a=new gc).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},i})(),hL=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Io(i,so),i.prototype.tag="hhea",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},i})(),fL=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Io(i,so),i.prototype.tag="OS/2",i.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},i})(),dL=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Io(i,so),i.prototype.tag="post",i.prototype.parse=function(e){var t,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var h,c,f;for(f=[],o=h=0,c=this.file.maxp.numGlyphs;0<=c?h<c:h>c;o=0<=c?++h:--h)f.push(e.readUInt32());return f}).call(this)}},i})(),pL=function(i,e){this.raw=i,this.length=i.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},mL=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Io(i,so),i.prototype.tag="name",i.prototype.parse=function(e){var t,r,a,o,h,c,f,d,m,b,w;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=m=0,b=r.length;m<b;o=++m)a=r[o],e.pos=a.offset,d=e.readString(a.length),h=new pL(d,a),f[w=a.nameID]==null&&(f[w]=[]),f[a.nameID].push(h);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},i})(),gL=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Io(i,so),i.prototype.tag="maxp",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},i})(),vL=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Io(i,so),i.prototype.tag="hmtx",i.prototype.parse=function(e){var t,r,a,o,h,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,m;for(m=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)m.push(e.readInt16());return m})(),this.widths=(function(){var d,m,b,w;for(w=[],d=0,m=(b=this.metrics).length;d<m;d++)o=b[d],w.push(o.advance);return w}).call(this),r=this.widths[this.widths.length-1],f=[],t=h=0;0<=a?h<a:h>a;t=0<=a?++h:--h)f.push(this.widths.push(r));return f},i.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},i})(),Uw=[].slice,yL=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Io(i,so),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(e){var t,r,a,o,h,c,f,d,m,b;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,h=(c=new gc(t.read(a))).readShort(),d=c.readShort(),b=c.readShort(),f=c.readShort(),m=c.readShort(),this.cache[e]=h===-1?new xL(c,d,b,f,m):new bL(c,h,d,b,f,m),this.cache[e]))},i.prototype.encode=function(e,t,r){var a,o,h,c,f;for(h=[],o=[],c=0,f=t.length;c<f;c++)a=e[t[c]],o.push(h.length),a&&(h=h.concat(a.encode(r)));return o.push(h.length),{table:h,offsets:o}},i})(),bL=(function(){function i(e,t,r,a,o,h){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=h,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i})(),xL=(function(){function i(e,t,r,a,o){var h,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],h=this.raw;c=h.readShort(),this.glyphOffsets.push(h.pos),this.glyphIDs.push(h.readUInt16()),32&c;)h.pos+=1&c?4:2,128&c?h.pos+=8:64&c?h.pos+=4:8&c&&(h.pos+=2)}return i.prototype.encode=function(){var e,t,r;for(t=new gc(Uw.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},i})(),_L=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Io(i,so),i.prototype.tag="loca",i.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(e.readUInt32());return o}).call(this)},i.prototype.indexOf=function(e){return this.offsets[e]},i.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},i.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,h=0;h<r.length;++h)if(r[h]=a,o<t.length&&t[o]==h){++o,r[h]=a;var c=this.offsets[h],f=this.offsets[h+1]-c;f>0&&(a+=f)}for(var d=new Array(4*r.length),m=0;m<r.length;++m)d[4*m+3]=255&r[m],d[4*m+2]=(65280&r[m])>>8,d[4*m+1]=(16711680&r[m])>>16,d[4*m]=(4278190080&r[m])>>24;return d},i})(),wL=(function(){function i(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var e,t,r,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=a[r];return e},i.prototype.glyphsFor=function(e){var t,r,a,o,h,c,f;for(a={},h=0,c=e.length;h<c;h++)a[o=e[h]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(r=a[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],a[o]=r;return a},i.prototype.encode=function(e,t){var r,a,o,h,c,f,d,m,b,w,y,A,N,k,C;for(a in r=Pw.encode(this.generateCmap(),"unicode"),h=this.glyphsFor(e),y={0:0},C=r.charMap)y[(f=C[a]).old]=f.new;for(A in w=r.maxGlyphID,h)A in y||(y[A]=w++);return m=(function(F){var z,V;for(z in V={},F)V[F[z]]=z;return V})(y),b=Object.keys(m).sort(function(F,z){return F-z}),N=(function(){var F,z,V;for(V=[],F=0,z=b.length;F<z;F++)c=b[F],V.push(m[c]);return V})(),o=this.font.glyf.encode(h,N,y),d=this.font.loca.encode(o.offsets,N),k={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},i})();Tt.API.PDFObject=(function(){var i;function e(){}return i=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,o,h;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+i(t.getUTCFullYear(),4)+i(t.getUTCMonth(),2)+i(t.getUTCDate(),2)+i(t.getUTCHours(),2)+i(t.getUTCMinutes(),2)+i(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)h=t[a],o.push("/"+a+" "+e.convert(h));return o.push(">>"),o.join(`
`)}return""+t},e})();const c2="chordWheelSongs",rg="chordWheelCurrentSongId",qf=()=>{try{const i=localStorage.getItem(c2);return i?JSON.parse(i).map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})):[]}catch(i){return console.error("Error loading saved songs:",i),[]}},Hb=i=>{try{const e=qf(),t=e.findIndex(a=>a.id===i.id),r={...i,updatedAt:new Date().toISOString(),createdAt:i.createdAt instanceof Date?i.createdAt.toISOString():i.createdAt};t>=0?e[t]=r:e.push({...r,createdAt:new Date().toISOString()}),localStorage.setItem(c2,JSON.stringify(e)),localStorage.setItem(rg,i.id)}catch(e){console.error("Error saving song:",e)}},SL=i=>{try{const t=qf().filter(r=>r.id!==i);localStorage.setItem(c2,JSON.stringify(t)),localStorage.getItem(rg)===i&&localStorage.removeItem(rg)}catch(e){console.error("Error deleting song:",e)}};var O0,Gb;function AL(){if(Gb)return O0;Gb=1,O0=e;const i=["auxclick","click","contextmenu","dblclick","keydown","keyup","mousedown","mouseup","touchend"];function e(){const t=window.webkitAudioContext;if(!(navigator.maxTouchPoints>0&&t!=null))return;let a="blocked",o="blocked",h,c,f;const d=new t().sampleRate,m=b(d);i.forEach(k=>{window.addEventListener(k,w,{capture:!0,passive:!0})});function b(k){const C=new ArrayBuffer(10),F=new DataView(C);return F.setUint32(0,k,!0),F.setUint32(4,k,!0),F.setUint16(8,1,!0),`data:audio/wav;base64,UklGRisAAABXQVZFZm10IBAAAAABAAEA${window.btoa(String.fromCharCode(...new Uint8Array(C))).slice(0,13)}AgAZGF0YQcAAACAgICAgICAAAA=`}function w(k){a==="blocked"&&(a="pending",y()),o==="blocked"&&(o="pending",A())}function y(){h=document.createElement("audio"),h.setAttribute("x-webkit-airplay","deny"),h.preload="auto",h.loop=!0,h.src=m,h.load(),h.play().then(()=>{a="allowed",N()},()=>{a="blocked",h.pause(),h.removeAttribute("src"),h.load(),h=null})}function A(){c=new t,f=c.createBufferSource(),f.buffer=c.createBuffer(1,1,22050),f.connect(c.destination),f.start(),c.state==="running"?(o="allowed",N()):(o="blocked",f.disconnect(c.destination),f=null,c.close(),c=null)}function N(){a!=="allowed"||o!=="allowed"||i.forEach(k=>{window.removeEventListener(k,w,{capture:!0,passive:!0})})}}return O0}var NL=AL();const CL=Yb(NL);CL();function TL(){const{currentSong:i,selectedKey:e,timelineVisible:t,toggleTimeline:r,selectedSectionId:a,selectedSlotId:o,clearSlot:h,setTitle:c,loadSong:f,newSong:d,instrument:m,volume:b,isMuted:w,undo:y,redo:A,canUndo:N,canRedo:k}=Di();fe.useEffect(()=>{Wg(m)},[m]),fe.useEffect(()=>{m_(b)},[b]),fe.useEffect(()=>{g_(w)},[w]);const[C,F]=fe.useState(180),[z,V]=fe.useState(!1),[I,Z]=fe.useState(.6),[G,D]=fe.useState(1),[R,K]=fe.useState(50),[E,j]=fe.useState(720),[P,J]=fe.useState(()=>typeof window<"u"?window.innerWidth<768:!1),[ue,$]=fe.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerWidth<1024:!1),re=fe.useRef(!1),ce=fe.useRef(!1),pe=fe.useRef(!1);fe.useEffect(()=>{const Ge=()=>{const Ke=window.innerWidth,ct=window.innerHeight,bt=Ke<768,ot=ct<Ke&&Ke<1024&&bt;if(J(bt),$(ot),bt){if(ot){const Ut=Ke*.5,Dt=16,St=Math.min(560,Math.max(280,Ut-Dt,ct-120)),At=Math.min(St*1.2,Ut-Dt+12,ct-120+12,560);j(At)}else{const we=(ct-56-64-80)*.8,Be=Math.min(Math.min(Ke-12,we),560),qe=Math.min(Be*1.2,Ke-12+12,we+24,560);j(Math.max(260,qe))}if(!pe.current&&G===1){const Ut=Math.min(1.2,2.5);D(Ut),K(Ut>1.3?45:50),pe.current=!0}}else{const At=Math.max(360,ct-48-56-140),zt=Math.min(720,Math.max(320,Math.min(Ke-120,At)));j(zt)}const xt=Di.getState();bt&&!ce.current&&(xt.timelineVisible&&xt.toggleTimeline(),xt.chordPanelVisible&&xt.toggleChordPanel(),ce.current=!0),!bt&&re.current&&!xt.chordPanelVisible&&(xt.toggleChordPanel(),re.current=!1)};return Ge(),window.addEventListener("resize",Ge),window.addEventListener("orientationchange",Ge),()=>{window.removeEventListener("resize",Ge),window.removeEventListener("orientationchange",Ge)}},[]);const Ne=fe.useCallback((Ge,Ke)=>{D(Ge),K(Ke)},[]),X=fe.useCallback(()=>{const Ge=Math.min(2.5,G+.3);D(Ge),K(Ge>1.3?38:50)},[G]),T=fe.useCallback(()=>{const Ge=Math.max(1,G-.3);D(Ge),K(Ge>1.3?38:50)},[G]),[H,ee]=fe.useState(!1),[ie,oe]=fe.useState(i.title),me=fe.useMemo(()=>{const Ge=i.sections.reduce((xt,st)=>{const Ut=st.measures.reduce((Dt,St)=>Dt+St.beats.reduce((At,zt)=>At+zt.duration,0),0);return xt+Ut},0),Ke=i.tempo/60,ct=Ge/Ke,bt=Math.floor(ct/60),ot=Math.floor(ct%60);return`${bt}:${ot.toString().padStart(2,"0")}`},[i.sections,i.tempo]),[de,ge]=fe.useState(!1);fe.useEffect(()=>{const Ge=async()=>{try{await v1(),await cd(),ge(!0)}catch(ct){console.error("Audio initialization failed:",ct)}},Ke=()=>{de||Ge()};return document.addEventListener("touchstart",Ke,{once:!0}),document.addEventListener("click",Ke,{once:!0}),()=>{document.removeEventListener("touchstart",Ke),document.removeEventListener("click",Ke)}},[de]),fe.useEffect(()=>{const Ge=Ke=>{if((Ke.key==="Delete"||Ke.key==="Backspace")&&a&&o){if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;Ke.preventDefault(),h(a,o)}};return window.addEventListener("keydown",Ge),()=>window.removeEventListener("keydown",Ge)},[a,o,h]),fe.useEffect(()=>{const Ge=Ke=>{const ct=Ke.target;ct?.tagName==="INPUT"||ct?.tagName==="TEXTAREA"||ct?.isContentEditable||Ke.metaKey&&Ke.key.toLowerCase()==="z"&&(Ke.preventDefault(),Ke.shiftKey?k&&A():N&&y())};return window.addEventListener("keydown",Ge),()=>window.removeEventListener("keydown",Ge)},[y,A,N,k]);const _e=()=>{oe(i.title),ee(!0)},Re=()=>{c(ie.trim()||"Untitled Song"),ee(!1)},[Xe,He]=fe.useState(!1),[Qe,U]=fe.useState([]),De=fe.useRef(null);fe.useEffect(()=>{U(qf())},[]),fe.useEffect(()=>{const Ge=Ke=>{De.current&&!De.current.contains(Ke.target)&&He(!1)};return document.addEventListener("mousedown",Ge),()=>document.removeEventListener("mousedown",Ge)},[]);const ut=()=>{if(i.title==="Untitled Song"||!i.title.trim()){const Ge=prompt("Please name your song:",i.title);if(Ge===null)return;const Ke=Ge.trim()||"Untitled Song";c(Ke);const ct={...i,title:Ke};Hb(ct)}else Hb(i);U(qf()),He(!1)},nt=Ge=>{f(Ge),He(!1)},Me=()=>{confirm("Start a new song? Unsaved changes will be lost.")&&(d(),He(!1))},tt=(Ge,Ke,ct)=>{ct.stopPropagation(),confirm(`Delete "${Ke}"?`)&&(SL(Ge),U(qf()))},it=Ge=>{Ge.key==="Enter"?Re():Ge.key==="Escape"&&(oe(i.title),ee(!1))},lt=fe.useCallback(Ge=>{Ge.preventDefault(),V(!0)},[]);fe.useEffect(()=>{if(!z)return;const Ge=ct=>{const ot=window.innerHeight-ct.clientY-56;F(Math.max(100,Math.min(350,ot)))},Ke=()=>{V(!1)};return document.addEventListener("mousemove",Ge),document.addEventListener("mouseup",Ke),()=>{document.removeEventListener("mousemove",Ge),document.removeEventListener("mouseup",Ke)}},[z]);const pt=()=>{const Ge=new Tt;Ge.setFontSize(24),Ge.setFont("helvetica","bold"),Ge.text(i.title,20,20),Ge.setFontSize(12),Ge.setFont("helvetica","normal"),Ge.text(`Key: ${e} | Tempo: ${i.tempo} BPM`,20,30);let Ke=50;i.sections.forEach(ct=>{Ke>270&&(Ge.addPage(),Ke=20),Ge.setFontSize(14),Ge.setFont("helvetica","bold"),Ge.text(`[${ct.name}]`,20,Ke),Ke+=10;const ot=ct.measures.map(xt=>{const st=xt.beats.length;return st===1?`${xt.beats[0]?.chord?.symbol||""}   `:st===2?xt.beats.map(Ut=>`${Ut.chord?.symbol||""} `).join(" "):xt.beats.map(Ut=>Ut.chord?.symbol||"").join(" ")}).join("  |  ");Ge.setFontSize(12),Ge.setFont("helvetica","normal"),Ge.text(ot||"(No chords)",20,Ke),Ke+=15}),Ge.save(`${i.title.replace(/\s+/g,"-").toLowerCase()}.pdf`)},kt=Math.max(80,C-42);return M.jsxs("div",{className:"h-full w-full flex flex-col bg-bg-primary text-text-primary overflow-hidden",children:[M.jsxs("header",{className:`${P?"h-14":"h-12"} border-b border-border-subtle grid grid-cols-[1fr_auto_1fr] items-center ${P?"px-4":"px-3"} bg-bg-secondary shrink-0 z-20 sticky top-0`,children:[M.jsx("div",{className:"flex items-center gap-2 shrink-0",children:M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsxs("div",{className:`${P?"w-8 h-8":"w-6 h-6"} rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center shadow-lg relative`,children:[M.jsx(U0,{size:P?16:12,className:"text-white"}),de&&M.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full",title:"Audio Ready"})]}),M.jsx("span",{className:`font-bold ${P?"text-xs":"text-sm"} tracking-tight hidden sm:block text-text-muted`,children:"Songwriter's Wheel"})]})}),M.jsx("div",{className:"flex items-center justify-center overflow-hidden",children:H?M.jsx("input",{type:"text",value:ie,onChange:Ge=>oe(Ge.target.value),onBlur:Re,onKeyDown:it,autoFocus:!0,className:`bg-bg-tertiary border border-border-medium rounded px-3 py-1 ${P?"text-xs":"text-sm"} font-medium text-text-primary focus:outline-none focus:border-accent-primary text-center ${P?"w-40":"w-56"} max-w-[70vw]`,maxLength:50}):M.jsx("span",{onDoubleClick:_e,className:`${P?"text-xs":"text-sm"} font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors px-2 py-1 rounded text-center truncate max-w-[70vw]`,title:"Double-click to edit title",children:i.title})}),M.jsxs("div",{className:`flex items-center ${P?"gap-3":"gap-4"} shrink-0 justify-self-end`,children:[P&&!ue&&M.jsxs("button",{onClick:r,className:`flex items-center gap-1.5 px-3 py-2 min-h-[44px] rounded-lg ${t?"bg-accent-primary text-white":"bg-bg-tertiary text-text-muted"} hover:bg-accent-primary/80 hover:text-white transition-all border border-border-subtle shadow-md active:scale-95`,title:t?"Hide Timeline":"Show Timeline",children:[M.jsx(oy,{size:16,className:"shrink-0"}),M.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:t?"Hide":"Show"})]}),!P&&M.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-text-muted",children:[M.jsx(BC,{size:11,className:"shrink-0"}),M.jsx("span",{className:"leading-none",children:me})]}),M.jsxs("div",{className:`flex items-center gap-1.5 ${P?"text-xs":"text-[10px]"} text-text-muted`,children:[M.jsx("span",{className:"uppercase font-bold",children:"Key"}),M.jsx("span",{className:`font-bold text-accent-primary ${P?"text-base":"text-sm"}`,children:e})]}),M.jsxs("div",{className:"relative",ref:De,children:[M.jsxs("button",{onClick:()=>He(!Xe),className:`flex items-center gap-1.5 ${P?"text-xs px-2 py-1.5 min-w-[44px]":"text-[11px] px-2 py-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback`,children:[M.jsx(ly,{size:P?16:12}),M.jsx("span",{className:"hidden sm:inline",children:"Save"}),M.jsx(bh,{size:P?12:10,className:`transition-transform ${Xe?"rotate-180":""}`})]}),Xe&&M.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-[#1a1a24] border border-border-medium rounded-lg shadow-2xl z-50 overflow-hidden",children:[M.jsxs("div",{className:"p-1.5 border-b border-border-subtle bg-[#22222e]",children:[M.jsxs("button",{onClick:ut,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[M.jsx(ly,{size:14,className:"text-accent-primary"}),"Save Current Song"]}),M.jsxs("button",{onClick:Me,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[M.jsx(GC,{size:14,className:"text-green-400"}),"New Song"]})]}),M.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#1a1a24]",children:Qe.length===0?M.jsx("p",{className:"px-3 py-4 text-[10px] text-gray-500 text-center",children:"No saved songs yet"}):M.jsxs("div",{className:"p-1.5",children:[M.jsx("p",{className:"px-2 py-1 text-[9px] text-gray-500 uppercase tracking-wider",children:"Saved Songs"}),Qe.map(Ge=>M.jsxs("div",{onClick:()=>nt(Ge),className:`flex items-center justify-between px-3 py-2 text-xs rounded cursor-pointer transition-colors ${Ge.id===i.id?"bg-accent-primary/20 text-accent-primary":"text-gray-300 hover:bg-[#2a2a3a]"}`,children:[M.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[M.jsx(WC,{size:12,className:"shrink-0"}),M.jsx("span",{className:"truncate",children:Ge.title})]}),M.jsx("button",{onClick:Ke=>tt(Ge.id,Ge.title,Ke),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400 shrink-0",children:M.jsx(f_,{size:10})})]},Ge.id))]})})]})]}),M.jsxs("button",{onClick:pt,className:`flex items-center gap-1.5 ${P?"text-xs px-3 py-1.5 min-w-[44px]":"text-[11px] px-2.5 py-1"} bg-text-primary text-bg-primary rounded font-medium hover:bg-white transition-colors touch-feedback`,children:[M.jsx(UC,{size:P?16:12}),M.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]}),M.jsxs("div",{className:`flex-1 flex ${P?ue?"flex-row":"flex-col":"flex-row"} overflow-hidden min-h-0`,children:[M.jsxs("div",{className:`flex flex-col min-w-0 min-h-0 ${P&&ue?"w-1/2":"flex-1"} overflow-hidden bg-gradient-to-b from-bg-primary to-bg-secondary/30`,children:[M.jsxs("div",{className:`flex-1 flex flex-col ${P&&!ue?"justify-center":""} overflow-hidden`,children:[!P||ue?M.jsx("div",{className:`flex justify-end ${P?"px-4 py-2":"px-3 py-2 md:py-1.5"} shrink-0 w-full`,children:M.jsxs("div",{className:`flex items-center ${P?"gap-2":"gap-1"} bg-bg-secondary/80 backdrop-blur-sm rounded-full ${P?"px-3 py-2":"px-2 py-1"} border border-border-subtle shadow-lg`,children:[M.jsx("button",{onClick:T,disabled:G<=1,className:`${P?"w-11 h-11":"w-6 h-6"} flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95`,title:"Zoom out",children:M.jsx(iT,{size:P?18:12})}),M.jsxs("span",{className:`${P?"text-xs w-12":"text-[9px] w-8"} text-text-muted text-center font-medium`,children:[Math.round(G*100),"%"]}),M.jsx("button",{onClick:X,disabled:G>=2.5,className:`${P?"w-11 h-11":"w-6 h-6"} flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95`,title:"Zoom in",children:M.jsx(c_,{size:P?18:12})})]})}):null,M.jsx("div",{className:`flex-1 flex items-center justify-center ${P&&!ue?"overflow-hidden":"overflow-auto"} ${P&&!ue?"px-2 py-0":"px-3 pb-3"}`,children:M.jsx("div",{className:"relative flex items-center justify-center",style:{width:`${E}px`,height:`${E}px`,maxWidth:"100%",maxHeight:P&&!ue?"100%":void 0},children:M.jsx(LT,{zoomScale:G,zoomOriginY:R,onZoomChange:Ne})})})]}),!P||ue?t?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:`h-7 bg-bg-secondary border-t border-border-subtle flex items-center justify-center group transition-colors ${z?"bg-accent-primary/20":""}`,children:M.jsx("div",{className:"flex-1 h-full cursor-ns-resize flex items-center justify-center hover:bg-bg-tertiary transition-colors",onMouseDown:lt,children:M.jsx(oy,{size:14,className:"text-text-muted group-hover:text-text-secondary"})})}),M.jsxs("div",{className:"shrink-0 bg-bg-secondary overflow-hidden",style:{height:C},children:[M.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-bg-secondary/90 backdrop-blur-sm",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[M.jsx("span",{className:"uppercase font-bold tracking-wider text-[9px]",children:"Scale"}),M.jsx("input",{type:"range",min:.01,max:1.6,step:.01,value:I,onChange:Ge=>Z(parseFloat(Ge.target.value)),className:"w-32",style:{accentColor:"#8b5cf6"},"aria-label":"Timeline scale"}),M.jsxs("span",{className:"text-[10px] text-text-secondary w-12 text-right",children:[Math.round(I*100),"%"]})]}),M.jsxs("div",{className:"flex items-center gap-1",children:[M.jsxs("button",{onClick:y,disabled:!N,className:`flex items-center gap-1 ${P?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Undo (Z)",children:[M.jsx(u_,{size:P?14:12}),M.jsx("span",{className:"uppercase font-bold tracking-wider",children:P?"":"Undo"})]}),M.jsxs("button",{onClick:A,disabled:!k,className:`flex items-center gap-1 ${P?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Redo (Z)",children:[M.jsx(h_,{size:P?14:12}),M.jsx("span",{className:"uppercase font-bold tracking-wider",children:P?"":"Redo"})]})]})]}),M.jsxs("button",{onClick:r,className:`${P?"text-xs min-h-[44px] px-3":"text-[10px] px-2 py-1"} text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors flex items-center gap-1 touch-feedback`,title:"Hide timeline",children:[M.jsx(bh,{size:P?14:12}),M.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Hide"})]})]}),M.jsx(o0,{height:kt,scale:I})]})]}):M.jsx("div",{className:`${P?"h-12":"h-7"} bg-bg-secondary border-t border-border-subtle flex items-center justify-center shrink-0`,children:M.jsxs("button",{onClick:r,className:`${P?"px-4 min-h-[48px]":"px-3 h-full"} flex items-center gap-1 ${P?"text-xs":"text-[9px]"} text-text-muted hover:text-text-primary hover:bg-bg-tertiary transition-colors touch-feedback`,title:"Show timeline",children:[M.jsx(Yg,{size:P?14:12}),M.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Timeline"})]})}):null]}),P&&ue?M.jsxs("div",{className:"w-1/2 flex flex-col overflow-hidden border-l border-border-subtle",children:[t&&M.jsxs("div",{className:"flex-1 overflow-hidden bg-bg-secondary border-b border-border-subtle",children:[M.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-bg-secondary/90",children:[M.jsx("span",{className:"text-xs font-bold text-text-primary uppercase tracking-wider",children:"Timeline"}),M.jsx("button",{onClick:r,className:"text-xs px-2 py-1 text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors",children:"Hide"})]}),M.jsx(o0,{height:150,scale:.8})]}),M.jsx("div",{className:"flex-1 overflow-auto",children:M.jsx(l0,{variant:"drawer"})})]}):P?null:M.jsx(l0,{variant:"sidebar"})]}),P&&!ue&&!t&&M.jsx("div",{className:"shrink-0 px-4 pb-3 bg-bg-primary border-t border-border-subtle",children:M.jsx(l0,{variant:"drawer"})}),P&&!ue&&t&&M.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-bg-secondary border-t-2 border-accent-primary shadow-2xl",style:{height:"45vh",maxHeight:"350px",zIndex:50,paddingBottom:"env(safe-area-inset-bottom)"},children:[M.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-bg-secondary/95 backdrop-blur-sm",children:[M.jsx("span",{className:"text-sm font-bold text-text-primary uppercase tracking-wider",children:"Timeline"}),M.jsx("button",{onClick:r,className:"text-sm px-4 py-2 min-h-[44px] bg-bg-tertiary hover:bg-bg-elevated text-text-primary rounded-lg transition-colors font-semibold",children:"Hide"})]}),M.jsx(o0,{height:200,scale:.8})]}),(!P||t)&&M.jsx("div",{className:"shrink-0 z-30 relative",style:{paddingBottom:P?"env(safe-area-inset-bottom)":void 0},children:M.jsx(jE,{})})]})}s4.createRoot(document.getElementById("root")).render(M.jsx(fe.StrictMode,{children:M.jsx(TL,{})}));export{Bn as _,EL as c,Yb as g};
