(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var S1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hm={exports:{}},If={};var J5;function E_(){if(J5)return If;J5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:o}}return If.Fragment=e,If.jsx=t,If.jsxs=t,If}var ev;function M_(){return ev||(ev=1,hm.exports=E_()),hm.exports}var v=M_(),fm={exports:{}},fn={};var tv;function L_(){if(tv)return fn;tv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function b(W){return W===null||typeof W!="object"?null:(W=_&&W[_]||W["@@iterator"],typeof W=="function"?W:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function C(W,j,$){this.props=W,this.context=j,this.refs=k,this.updater=$||A}C.prototype.isReactComponent={},C.prototype.setState=function(W,j){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,j,"setState")},C.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function R(){}R.prototype=C.prototype;function D(W,j,$){this.props=W,this.context=j,this.refs=k,this.updater=$||A}var V=D.prototype=new R;V.constructor=D,N(V,C.prototype),V.isPureReactComponent=!0;var F=Array.isArray;function G(){}var H={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function B(W,j,$){var X=$.ref;return{$$typeof:n,type:W,key:j,ref:X!==void 0?X:null,props:$}}function te(W,j){return B(W.type,j,W.props)}function E(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function I(W){var j={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function($){return j[$]})}var re=/\/+/g;function U(W,j){return typeof W=="object"&&W!==null&&W.key!=null?I(""+W.key):j.toString(36)}function oe(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(G,G):(W.status="pending",W.then(function(j){W.status==="pending"&&(W.status="fulfilled",W.value=j)},function(j){W.status==="pending"&&(W.status="rejected",W.reason=j)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function Y(W,j,$,X,K){var ae=typeof W;(ae==="undefined"||ae==="boolean")&&(W=null);var de=!1;if(W===null)de=!0;else switch(ae){case"bigint":case"string":case"number":de=!0;break;case"object":switch(W.$$typeof){case n:case e:de=!0;break;case p:return de=W._init,Y(de(W._payload),j,$,X,K)}}if(de)return K=K(W),de=X===""?"."+U(W,0):X,F(K)?($="",de!=null&&($=de.replace(re,"$&/")+"/"),Y(K,j,$,"",function(we){return we})):K!=null&&(E(K)&&(K=te(K,$+(K.key==null||W&&W.key===K.key?"":(""+K.key).replace(re,"$&/")+"/")+de)),j.push(K)),1;de=0;var fe=X===""?".":X+":";if(F(W))for(var xe=0;xe<W.length;xe++)X=W[xe],ae=fe+U(X,xe),de+=Y(X,j,$,ae,K);else if(xe=b(W),typeof xe=="function")for(W=xe.call(W),xe=0;!(X=W.next()).done;)X=X.value,ae=fe+U(X,xe++),de+=Y(X,j,$,ae,K);else if(ae==="object"){if(typeof W.then=="function")return Y(oe(W),j,$,X,K);throw j=String(W),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return de}function J(W,j,$){if(W==null)return W;var X=[],K=0;return Y(W,X,"","",function(ae){return j.call($,ae,K++)}),X}function le(W){if(W._status===-1){var j=W._result;j=j(),j.then(function($){(W._status===0||W._status===-1)&&(W._status=1,W._result=$)},function($){(W._status===0||W._status===-1)&&(W._status=2,W._result=$)}),W._status===-1&&(W._status=0,W._result=j)}if(W._status===1)return W._result.default;throw W._result}var pe=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},be={map:J,forEach:function(W,j,$){J(W,function(){j.apply(this,arguments)},$)},count:function(W){var j=0;return J(W,function(){j++}),j},toArray:function(W){return J(W,function(j){return j})||[]},only:function(W){if(!E(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return fn.Activity=y,fn.Children=be,fn.Component=C,fn.Fragment=t,fn.Profiler=a,fn.PureComponent=D,fn.StrictMode=s,fn.Suspense=f,fn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,fn.__COMPILER_RUNTIME={__proto__:null,c:function(W){return H.H.useMemoCache(W)}},fn.cache=function(W){return function(){return W.apply(null,arguments)}},fn.cacheSignal=function(){return null},fn.cloneElement=function(W,j,$){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var X=N({},W.props),K=W.key;if(j!=null)for(ae in j.key!==void 0&&(K=""+j.key),j)!M.call(j,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&j.ref===void 0||(X[ae]=j[ae]);var ae=arguments.length-2;if(ae===1)X.children=$;else if(1<ae){for(var de=Array(ae),fe=0;fe<ae;fe++)de[fe]=arguments[fe+2];X.children=de}return B(W.type,K,X)},fn.createContext=function(W){return W={$$typeof:u,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:o,_context:W},W},fn.createElement=function(W,j,$){var X,K={},ae=null;if(j!=null)for(X in j.key!==void 0&&(ae=""+j.key),j)M.call(j,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(K[X]=j[X]);var de=arguments.length-2;if(de===1)K.children=$;else if(1<de){for(var fe=Array(de),xe=0;xe<de;xe++)fe[xe]=arguments[xe+2];K.children=fe}if(W&&W.defaultProps)for(X in de=W.defaultProps,de)K[X]===void 0&&(K[X]=de[X]);return B(W,ae,K)},fn.createRef=function(){return{current:null}},fn.forwardRef=function(W){return{$$typeof:c,render:W}},fn.isValidElement=E,fn.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:le}},fn.memo=function(W,j){return{$$typeof:d,type:W,compare:j===void 0?null:j}},fn.startTransition=function(W){var j=H.T,$={};H.T=$;try{var X=W(),K=H.S;K!==null&&K($,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(G,pe)}catch(ae){pe(ae)}finally{j!==null&&$.types!==null&&(j.types=$.types),H.T=j}},fn.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},fn.use=function(W){return H.H.use(W)},fn.useActionState=function(W,j,$){return H.H.useActionState(W,j,$)},fn.useCallback=function(W,j){return H.H.useCallback(W,j)},fn.useContext=function(W){return H.H.useContext(W)},fn.useDebugValue=function(){},fn.useDeferredValue=function(W,j){return H.H.useDeferredValue(W,j)},fn.useEffect=function(W,j){return H.H.useEffect(W,j)},fn.useEffectEvent=function(W){return H.H.useEffectEvent(W)},fn.useId=function(){return H.H.useId()},fn.useImperativeHandle=function(W,j,$){return H.H.useImperativeHandle(W,j,$)},fn.useInsertionEffect=function(W,j){return H.H.useInsertionEffect(W,j)},fn.useLayoutEffect=function(W,j){return H.H.useLayoutEffect(W,j)},fn.useMemo=function(W,j){return H.H.useMemo(W,j)},fn.useOptimistic=function(W,j){return H.H.useOptimistic(W,j)},fn.useReducer=function(W,j,$){return H.H.useReducer(W,j,$)},fn.useRef=function(W){return H.H.useRef(W)},fn.useState=function(W){return H.H.useState(W)},fn.useSyncExternalStore=function(W,j,$){return H.H.useSyncExternalStore(W,j,$)},fn.useTransition=function(){return H.H.useTransition()},fn.version="19.2.0",fn}var nv;function kg(){return nv||(nv=1,fm.exports=L_()),fm.exports}var ne=kg();const Xn=j_(ne);var dm={exports:{}},Vf={},pm={exports:{}},mm={};var rv;function O_(){return rv||(rv=1,(function(n){function e(Y,J){var le=Y.length;Y.push(J);e:for(;0<le;){var pe=le-1>>>1,be=Y[pe];if(0<a(be,J))Y[pe]=J,Y[le]=be,le=pe;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var J=Y[0],le=Y.pop();if(le!==J){Y[0]=le;e:for(var pe=0,be=Y.length,W=be>>>1;pe<W;){var j=2*(pe+1)-1,$=Y[j],X=j+1,K=Y[X];if(0>a($,le))X<be&&0>a(K,$)?(Y[pe]=K,Y[X]=le,pe=X):(Y[pe]=$,Y[j]=le,pe=j);else if(X<be&&0>a(K,le))Y[pe]=K,Y[X]=le,pe=X;else break e}}return J}function a(Y,J){var le=Y.sortIndex-J.sortIndex;return le!==0?le:Y.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],p=1,y=null,_=3,b=!1,A=!1,N=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V(Y){for(var J=t(d);J!==null;){if(J.callback===null)s(d);else if(J.startTime<=Y)s(d),J.sortIndex=J.expirationTime,e(f,J);else break;J=t(d)}}function F(Y){if(N=!1,V(Y),!A)if(t(f)!==null)A=!0,G||(G=!0,I());else{var J=t(d);J!==null&&oe(F,J.startTime-Y)}}var G=!1,H=-1,M=5,B=-1;function te(){return k?!0:!(n.unstable_now()-B<M)}function E(){if(k=!1,G){var Y=n.unstable_now();B=Y;var J=!0;try{e:{A=!1,N&&(N=!1,R(H),H=-1),b=!0;var le=_;try{t:{for(V(Y),y=t(f);y!==null&&!(y.expirationTime>Y&&te());){var pe=y.callback;if(typeof pe=="function"){y.callback=null,_=y.priorityLevel;var be=pe(y.expirationTime<=Y);if(Y=n.unstable_now(),typeof be=="function"){y.callback=be,V(Y),J=!0;break t}y===t(f)&&s(f),V(Y)}else s(f);y=t(f)}if(y!==null)J=!0;else{var W=t(d);W!==null&&oe(F,W.startTime-Y),J=!1}}break e}finally{y=null,_=le,b=!1}J=void 0}}finally{J?I():G=!1}}}var I;if(typeof D=="function")I=function(){D(E)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,U=re.port2;re.port1.onmessage=E,I=function(){U.postMessage(null)}}else I=function(){C(E,0)};function oe(Y,J){H=C(function(){Y(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(Y){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var le=_;_=J;try{return Y()}finally{_=le}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var le=_;_=Y;try{return J()}finally{_=le}},n.unstable_scheduleCallback=function(Y,J,le){var pe=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?pe+le:pe):le=pe,Y){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=le+be,Y={id:p++,callback:J,priorityLevel:Y,startTime:le,expirationTime:be,sortIndex:-1},le>pe?(Y.sortIndex=le,e(d,Y),t(f)===null&&Y===t(d)&&(N?(R(H),H=-1):N=!0,oe(F,le-pe))):(Y.sortIndex=be,e(f,Y),A||b||(A=!0,G||(G=!0,I()))),Y},n.unstable_shouldYield=te,n.unstable_wrapCallback=function(Y){var J=_;return function(){var le=_;_=J;try{return Y.apply(this,arguments)}finally{_=le}}}})(mm)),mm}var sv;function D_(){return sv||(sv=1,pm.exports=O_()),pm.exports}var gm={exports:{}},si={};var iv;function R_(){if(iv)return si;iv=1;var n=kg();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:d,implementation:p}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,si.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,p)},si.flushSync=function(f){var d=u.T,p=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=d,s.p=p,s.d.f()}},si.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(f,d))},si.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},si.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?s.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):p==="script"&&s.d.X(f,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},si.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(f)},si.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin);s.d.L(f,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},si.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);s.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(f)},si.requestFormReset=function(f){s.d.r(f)},si.unstable_batchedUpdates=function(f,d){return f(d)},si.useFormState=function(f,d,p){return u.H.useFormState(f,d,p)},si.useFormStatus=function(){return u.H.useHostTransitionStatus()},si.version="19.2.0",si}var av;function Ax(){if(av)return gm.exports;av=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gm.exports=R_(),gm.exports}var ov;function I_(){if(ov)return Vf;ov=1;var n=D_(),e=kg(),t=Ax();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function c(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(s(188))}function d(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var l=r,h=i;;){var g=l.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===l)return f(g),r;if(w===h)return f(g),i;w=w.sibling}throw Error(s(188))}if(l.return!==h.return)l=g,h=w;else{for(var O=!1,ee=g.child;ee;){if(ee===l){O=!0,l=g,h=w;break}if(ee===h){O=!0,h=g,l=w;break}ee=ee.sibling}if(!O){for(ee=w.child;ee;){if(ee===l){O=!0,l=w,h=g;break}if(ee===h){O=!0,h=w,l=g;break}ee=ee.sibling}if(!O)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:i}function p(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=p(r),i!==null)return i;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function I(r){return r===null||typeof r!="object"?null:(r=E&&r[E]||r["@@iterator"],typeof r=="function"?r:null)}var re=Symbol.for("react.client.reference");function U(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===re?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case C:return"Profiler";case k:return"StrictMode";case F:return"Suspense";case G:return"SuspenseList";case B:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case A:return"Portal";case D:return r.displayName||"Context";case R:return(r._context.displayName||"Context")+".Consumer";case V:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case H:return i=r.displayName||null,i!==null?i:U(r.type)||"Memo";case M:i=r._payload,r=r._init;try{return U(r(i))}catch{}}return null}var oe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},pe=[],be=-1;function W(r){return{current:r}}function j(r){0>be||(r.current=pe[be],pe[be]=null,be--)}function $(r,i){be++,pe[be]=r.current,r.current=i}var X=W(null),K=W(null),ae=W(null),de=W(null);function fe(r,i){switch($(ae,i),$(K,r),$(X,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?_5(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=_5(i),r=S5(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}j(X),$(X,r)}function xe(){j(X),j(K),j(ae)}function we(r){r.memoizedState!==null&&$(de,r);var i=X.current,l=S5(i,r.type);i!==l&&($(K,r),$(X,l))}function Ie(r){K.current===r&&(j(X),j(K)),de.current===r&&(j(de),Lf._currentValue=le)}var $e,Je;function ct(r){if($e===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);$e=i&&i[1]||"",Je=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+r+Je}var z=!1;function Ne(r,i){if(!r||z)return"";z=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(Be){var Re=Be}Reflect.construct(r,[],Ze)}else{try{Ze.call()}catch(Be){Re=Be}r.call(Ze.prototype)}}else{try{throw Error()}catch(Be){Re=Be}(Ze=r())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch(Be){if(Be&&Re&&typeof Be.stack=="string")return[Be.stack,Re.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),O=w[0],ee=w[1];if(O&&ee){var me=O.split(`
`),De=ee.split(`
`);for(g=h=0;h<me.length&&!me[h].includes("DetermineComponentFrameRoot");)h++;for(;g<De.length&&!De[g].includes("DetermineComponentFrameRoot");)g++;if(h===me.length||g===De.length)for(h=me.length-1,g=De.length-1;1<=h&&0<=g&&me[h]!==De[g];)g--;for(;1<=h&&0<=g;h--,g--)if(me[h]!==De[g]){if(h!==1||g!==1)do if(h--,g--,0>g||me[h]!==De[g]){var He=`
`+me[h].replace(" at new "," at ");return r.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",r.displayName)),He}while(1<=h&&0<=g);break}}}finally{z=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?ct(l):""}function rt(r,i){switch(r.tag){case 26:case 27:case 5:return ct(r.type);case 16:return ct("Lazy");case 13:return r.child!==i&&i!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return Ne(r.type,!1);case 11:return Ne(r.type.render,!1);case 1:return Ne(r.type,!0);case 31:return ct("Activity");default:return""}}function qe(r){try{var i="",l=null;do i+=rt(r,l),l=r,r=r.return;while(r);return i}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ee=Object.prototype.hasOwnProperty,Ke=n.unstable_scheduleCallback,We=n.unstable_cancelCallback,lt=n.unstable_shouldYield,at=n.unstable_requestPaint,ze=n.unstable_now,st=n.unstable_getCurrentPriorityLevel,et=n.unstable_ImmediatePriority,ut=n.unstable_UserBlockingPriority,xt=n.unstable_NormalPriority,dt=n.unstable_LowPriority,yt=n.unstable_IdlePriority,ht=n.log,bn=n.unstable_setDisableYieldValue,Ht=null,Tt=null;function St(r){if(typeof ht=="function"&&bn(r),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Ht,r)}catch{}}var At=Math.clz32?Math.clz32:Mt,bt=Math.log,on=Math.LN2;function Mt(r){return r>>>=0,r===0?32:31-(bt(r)/on|0)|0}var Dt=256,xn=262144,vt=4194304;function _e(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function it(r,i,l){var h=r.pendingLanes;if(h===0)return 0;var g=0,w=r.suspendedLanes,O=r.pingedLanes;r=r.warmLanes;var ee=h&134217727;return ee!==0?(h=ee&~w,h!==0?g=_e(h):(O&=ee,O!==0?g=_e(O):l||(l=ee&~r,l!==0&&(g=_e(l))))):(ee=h&~w,ee!==0?g=_e(ee):O!==0?g=_e(O):l||(l=h&~r,l!==0&&(g=_e(l)))),g===0?0:i!==0&&i!==g&&(i&w)===0&&(w=g&-g,l=i&-i,w>=l||w===32&&(l&4194048)!==0)?i:g}function Vt(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Ae(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ft(){var r=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),r}function pt(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function nt(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Nt(r,i,l,h,g,w){var O=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var ee=r.entanglements,me=r.expirationTimes,De=r.hiddenUpdates;for(l=O&~l;0<l;){var He=31-At(l),Ze=1<<He;ee[He]=0,me[He]=-1;var Re=De[He];if(Re!==null)for(De[He]=null,He=0;He<Re.length;He++){var Be=Re[He];Be!==null&&(Be.lane&=-536870913)}l&=~Ze}h!==0&&ln(r,h,0),w!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=w&~(O&~i))}function ln(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var h=31-At(i);r.entangledLanes|=i,r.entanglements[h]=r.entanglements[h]|1073741824|l&261930}function vn(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var h=31-At(l),g=1<<h;g&i|r[h]&i&&(r[h]|=i),l&=~g}}function Nn(r,i){var l=i&-i;return l=(l&42)!==0?1:Wt(l),(l&(r.suspendedLanes|i))!==0?0:l}function Wt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function nn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function pn(){var r=J.p;return r!==0?r:(r=window.event,r===void 0?32:G5(r.type))}function cr(r,i){var l=J.p;try{return J.p=r,i()}finally{J.p=l}}var _n=Math.random().toString(36).slice(2),gn="__reactFiber$"+_n,Ln="__reactProps$"+_n,xr="__reactContainer$"+_n,br="__reactEvents$"+_n,cs="__reactListeners$"+_n,ke="__reactHandles$"+_n,Ve="__reactResources$"+_n,Fe="__reactMarker$"+_n;function gt(r){delete r[gn],delete r[Ln],delete r[br],delete r[cs],delete r[ke]}function Gt(r){var i=r[gn];if(i)return i;for(var l=r.parentNode;l;){if(i=l[xr]||l[gn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=E5(r);r!==null;){if(l=r[gn])return l;r=E5(r)}return i}r=l,l=r.parentNode}return null}function Ct(r){if(r=r[gn]||r[xr]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function cn(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function zt(r){var i=r[Ve];return i||(i=r[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Jt(r){r[Fe]=!0}var Vn=new Set,Wn={};function ur(r,i){hr(r,i),hr(r+"Capture",i)}function hr(r,i){for(Wn[r]=i,r=0;r<i.length;r++)Vn.add(i[r])}var ts=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hs={},wi={};function Yi(r){return Ee.call(wi,r)?!0:Ee.call(Hs,r)?!1:ts.test(r)?wi[r]=!0:(Hs[r]=!0,!1)}function Mr(r,i,l){if(Yi(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function Ls(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function Ws(r,i,l,h){if(h===null)r.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+h)}}function Sn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ha(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function hi(r,i,l){var h=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,w=h.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(O){l=""+O,w.call(this,O)}}),Object.defineProperty(r,i,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(O){l=""+O},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function fa(r){if(!r._valueTracker){var i=ha(r)?"checked":"value";r._valueTracker=hi(r,i,""+r[i])}}function xo(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return r&&(h=ha(r)?r.checked?"true":"false":r.value),r=h,r!==l?(i.setValue(r),!0):!1}function us(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Br=/[\n"\\]/g;function Lr(r){return r.replace(Br,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wo(r,i,l,h,g,w,O,ee){r.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.type=O:r.removeAttribute("type"),i!=null?O==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Sn(i)):r.value!==""+Sn(i)&&(r.value=""+Sn(i)):O!=="submit"&&O!=="reset"||r.removeAttribute("value"),i!=null?Xo(r,O,Sn(i)):l!=null?Xo(r,O,Sn(l)):h!=null&&r.removeAttribute("value"),g==null&&w!=null&&(r.defaultChecked=!!w),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?r.name=""+Sn(ee):r.removeAttribute("name")}function Il(r,i,l,h,g,w,O,ee){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),i!=null||l!=null){if(!(w!=="submit"&&w!=="reset"||i!=null)){fa(r);return}l=l!=null?""+Sn(l):"",i=i!=null?""+Sn(i):l,ee||i===r.value||(r.value=i),r.defaultValue=i}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=ee?r.checked:!!h,r.defaultChecked=!!h,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(r.name=O),fa(r)}function Xo(r,i,l){i==="number"&&us(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Gs(r,i,l,h){if(r=r.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=i.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Sn(l),i=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,h&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function Oc(r,i,l){if(i!=null&&(i=""+Sn(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+Sn(l):""}function Dc(r,i,l,h){if(i==null){if(h!=null){if(l!=null)throw Error(s(92));if(oe(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),i=l}l=Sn(i),r.defaultValue=l,h=r.textContent,h===l&&h!==""&&h!==null&&(r.value=h),fa(r)}function $i(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Zo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tu(r,i,l){var h=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":h?r.setProperty(i,l):typeof l!="number"||l===0||Zo.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function Cu(r,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var g in i)h=i[g],i.hasOwnProperty(g)&&l[g]!==h&&Tu(r,g,h)}else for(var w in i)i.hasOwnProperty(w)&&Tu(r,w,i[w])}function Rc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ic=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ku=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(r){return ku.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Xi(){}var Da=null;function Qo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _o=null,Yt=null;function ju(r){var i=Ct(r);if(i&&(r=i.stateNode)){var l=r[Ln]||null;e:switch(r=i.stateNode,i.type){case"input":if(wo(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Lr(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==r&&h.form===r.form){var g=h[Ln]||null;if(!g)throw Error(s(90));wo(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)h=l[i],h.form===r.form&&xo(h)}break e;case"textarea":Oc(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Gs(r,!!l.multiple,i,!1)}}}var Vc=!1;function Eu(r,i,l){if(Vc)return r(i,l);Vc=!0;try{var h=r(i);return h}finally{if(Vc=!1,(_o!==null||Yt!==null)&&(t1(),_o&&(i=_o,r=Yt,Yt=_o=null,ju(i),r)))for(i=0;i<r.length;i++)ju(r[i])}}function fi(r,i){var l=r.stateNode;if(l===null)return null;var h=l[Ln]||null;if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fc=!1;if(ws)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){Fc=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{Fc=!1}var di=null,Jo=null,da=null;function Mu(){if(da)return da;var r,i=Jo,l=i.length,h,g="value"in di?di.value:di.textContent,w=g.length;for(r=0;r<l&&i[r]===g[r];r++);var O=l-r;for(h=1;h<=O&&i[l-h]===g[w-h];h++);return da=g.slice(r,1<h?1-h:void 0)}function _i(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Vl(){return!0}function Fl(){return!1}function hs(r){function i(l,h,g,w,O){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var ee in r)r.hasOwnProperty(ee)&&(l=r[ee],this[ee]=l?l(w):w[ee]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Vl:Fl,this.isPropagationStopped=Fl,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),i}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=hs(pa),Ra=y({},pa,{view:0,detail:0}),Bl=hs(Ra),el,Ia,Va,tl=y({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qt,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Va&&(Va&&r.type==="mousemove"?(el=r.screenX-Va.screenX,Ia=r.screenY-Va.screenY):Ia=el=0,Va=r),el)},movementY:function(r){return"movementY"in r?r.movementY:Ia}}),Bc=hs(tl),Fa=y({},tl,{dataTransfer:0}),Ba=hs(Fa),Lu=y({},Ra,{relatedTarget:0}),za=hs(Lu),Ou=y({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),S=hs(Ou),P=y({},pa,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),he=hs(P),ge=y({},pa,{data:0}),Te=hs(ge),Ge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rt(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=jt[r])?!!i[r]:!1}function Qt(){return Rt}var un=y({},Ra,{key:function(r){if(r.key){var i=Ge[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=_i(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?tt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qt,charCode:function(r){return r.type==="keypress"?_i(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?_i(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),On=hs(un),wr=y({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zr=hs(wr),er=y({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qt}),ns=hs(er),Gr=y({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),_s=hs(Gr),Pa=y({},tl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Zi=hs(Pa),qa=y({},pa,{newState:0,oldState:0}),zc=hs(qa),zl=[9,13,27,32],ma=ws&&"CompositionEvent"in window,Qi=null;ws&&"documentMode"in document&&(Qi=document.documentMode);var nl=ws&&"TextEvent"in window&&!Qi,Ua=ws&&(!ma||Qi&&8<Qi&&11>=Qi),fs=" ",So=!1;function No(r,i){switch(r){case"keyup":return zl.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pl(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ga=!1;function Ys(r,i){switch(r){case"compositionend":return Pl(i);case"keypress":return i.which!==32?null:(So=!0,fs);case"textInput":return r=i.data,r===fs&&So?null:r;default:return null}}function Ha(r,i){if(ga)return r==="compositionend"||!ma&&No(r,i)?(r=Mu(),da=Jo=di=null,ga=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ua&&i.locale!=="ko"?null:i.data;default:return null}}var ql={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pc(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!ql[r.type]:i==="textarea"}function pi(r,i,l,h){_o?Yt?Yt.push(h):Yt=[h]:_o=h,i=l1(i,"onChange"),0<i.length&&(l=new Si("onChange","change",null,l,h),r.push({event:l,listeners:i}))}var Ki=null,Wa=null;function qc(r){g5(r,0)}function Ji(r){var i=cn(r);if(xo(i))return r}function Ao(r,i){if(r==="change")return i}var ni=!1;if(ws){var $s;if(ws){var ba="oninput"in document;if(!ba){var va=document.createElement("div");va.setAttribute("oninput","return;"),ba=typeof va.oninput=="function"}$s=ba}else $s=!1;ni=$s&&(!document.documentMode||9<document.documentMode)}function Ga(){Ki&&(Ki.detachEvent("onpropertychange",Ul),Wa=Ki=null)}function Ul(r){if(r.propertyName==="value"&&Ji(Wa)){var i=[];pi(i,Wa,r,Qo(r)),Eu(qc,i)}}function Hl(r,i,l){r==="focusin"?(Ga(),Ki=i,Wa=l,Ki.attachEvent("onpropertychange",Ul)):r==="focusout"&&Ga()}function Pr(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ji(Wa)}function Du(r,i){if(r==="click")return Ji(i)}function ya(r,i){if(r==="input"||r==="change")return Ji(i)}function xa(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Ss=typeof Object.is=="function"?Object.is:xa;function Ya(r,i){if(Ss(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!Ee.call(i,g)||!Ss(r[g],i[g]))return!1}return!0}function Wl(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Gl(r,i){var l=Wl(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=i&&h>=i)return{node:l,offset:i-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Wl(l)}}function $a(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?$a(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Xa(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=us(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=us(r.document)}return i}function wa(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var rl=ws&&"documentMode"in document&&11>=document.documentMode,mi=null,Za=null,Os=null,Ni=!1;function Pn(r,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ni||mi==null||mi!==us(h)||(h=mi,"selectionStart"in h&&wa(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Os&&Ya(Os,h)||(Os=h,h=l1(Za,"onSelect"),0<h.length&&(i=new Si("onSelect","select",null,i,l),r.push({event:i,listeners:h}),i.target=mi)))}function Dn(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var tr={animationend:Dn("Animation","AnimationEnd"),animationiteration:Dn("Animation","AnimationIteration"),animationstart:Dn("Animation","AnimationStart"),transitionrun:Dn("Transition","TransitionRun"),transitionstart:Dn("Transition","TransitionStart"),transitioncancel:Dn("Transition","TransitionCancel"),transitionend:Dn("Transition","TransitionEnd")},qr={},_a={};ws&&(_a=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function ea(r){if(qr[r])return qr[r];if(!tr[r])return r;var i=tr[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in _a)return qr[r]=i[l];return r}var sl=ea("animationend"),Uc=ea("animationiteration"),ef=ea("animationstart"),Md=ea("transitionrun"),Ld=ea("transitionstart"),Od=ea("transitioncancel"),tf=ea("transitionend"),nf=new Map,il="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");il.push("scrollEnd");function Ai(r,i){nf.set(r,i),ur(i,[r])}var Hc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},gi=[],al=0,Ru=0;function Wc(){for(var r=al,i=Ru=al=0;i<r;){var l=gi[i];gi[i++]=null;var h=gi[i];gi[i++]=null;var g=gi[i];gi[i++]=null;var w=gi[i];if(gi[i++]=null,h!==null&&g!==null){var O=h.pending;O===null?g.next=g:(g.next=O.next,O.next=g),h.pending=g}w!==0&&Yc(l,g,w)}}function Gc(r,i,l,h){gi[al++]=r,gi[al++]=i,gi[al++]=l,gi[al++]=h,Ru|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function Iu(r,i,l,h){return Gc(r,i,l,h),Ds(r)}function Qa(r,i){return Gc(r,null,null,i),Ds(r)}function Yc(r,i,l){r.lanes|=l;var h=r.alternate;h!==null&&(h.lanes|=l);for(var g=!1,w=r.return;w!==null;)w.childLanes|=l,h=w.alternate,h!==null&&(h.childLanes|=l),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(g=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,g&&i!==null&&(g=31-At(l),r=w.hiddenUpdates,h=r[g],h===null?r[g]=[i]:h.push(i),i.lane=l|536870912),w):null}function Ds(r){if(50<Af)throw Af=0,R0=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Ns={};function Vu(r,i,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(r,i,l,h){return new Vu(r,i,l,h)}function Fu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ti(r,i){var l=r.alternate;return l===null?(l=Rs(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function $c(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Yl(r,i,l,h,g,w){var O=0;if(h=r,typeof r=="function")Fu(r)&&(O=1);else if(typeof r=="string")O=b_(r,l,X.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case B:return r=Rs(31,l,i,g),r.elementType=B,r.lanes=w,r;case N:return To(l.children,g,w,i);case k:O=8,g|=24;break;case C:return r=Rs(12,l,i,g|2),r.elementType=C,r.lanes=w,r;case F:return r=Rs(13,l,i,g),r.elementType=F,r.lanes=w,r;case G:return r=Rs(19,l,i,g),r.elementType=G,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:O=10;break e;case R:O=9;break e;case V:O=11;break e;case H:O=14;break e;case M:O=16,h=null;break e}O=29,l=Error(s(130,r===null?"null":typeof r,"")),h=null}return i=Rs(O,l,i,g),i.elementType=r,i.type=h,i.lanes=w,i}function To(r,i,l,h){return r=Rs(7,r,h,i),r.lanes=l,r}function Xc(r,i,l){return r=Rs(6,r,null,i),r.lanes=l,r}function Bu(r){var i=Rs(18,null,null,0);return i.stateNode=r,i}function $l(r,i,l){return i=Rs(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var zu=new WeakMap;function Ci(r,i){if(typeof r=="object"&&r!==null){var l=zu.get(r);return l!==void 0?l:(i={value:r,source:i,stack:qe(i)},zu.set(r,i),i)}return{value:r,source:i,stack:qe(i)}}var Xl=[],ol=0,Pu=null,Zc=0,ki=[],ji=0,Co=null,Ei=1,Mi="";function bi(r,i){Xl[ol++]=Zc,Xl[ol++]=Pu,Pu=r,Zc=i}function Dd(r,i,l){ki[ji++]=Ei,ki[ji++]=Mi,ki[ji++]=Co,Co=r;var h=Ei;r=Mi;var g=32-At(h)-1;h&=~(1<<g),l+=1;var w=32-At(i)+g;if(30<w){var O=g-g%5;w=(h&(1<<O)-1).toString(32),h>>=O,g-=O,Ei=1<<32-At(i)+g|l<<g|h,Mi=w+r}else Ei=1<<w|l<<g|h,Mi=r}function rf(r){r.return!==null&&(bi(r,1),Dd(r,1,0))}function qu(r){for(;r===Pu;)Pu=Xl[--ol],Xl[ol]=null,Zc=Xl[--ol],Xl[ol]=null;for(;r===Co;)Co=ki[--ji],ki[ji]=null,Mi=ki[--ji],ki[ji]=null,Ei=ki[--ji],ki[ji]=null}function Rd(r,i){ki[ji++]=Ei,ki[ji++]=Mi,ki[ji++]=Co,Ei=i.id,Mi=i.overflow,Co=r}var As=null,fr=null,Tn=!1,Xs=null,Or=!1,ta=Error(s(519));function ko(r){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(Ci(i,r)),ta}function sf(r){var i=r.stateNode,l=r.type,h=r.memoizedProps;switch(i[gn]=r,i[Ln]=h,l){case"dialog":kn("cancel",i),kn("close",i);break;case"iframe":case"object":case"embed":kn("load",i);break;case"video":case"audio":for(l=0;l<Cf.length;l++)kn(Cf[l],i);break;case"source":kn("error",i);break;case"img":case"image":case"link":kn("error",i),kn("load",i);break;case"details":kn("toggle",i);break;case"input":kn("invalid",i),Il(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":kn("invalid",i);break;case"textarea":kn("invalid",i),Dc(i,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||h.suppressHydrationWarning===!0||x5(i.textContent,l)?(h.popover!=null&&(kn("beforetoggle",i),kn("toggle",i)),h.onScroll!=null&&kn("scroll",i),h.onScrollEnd!=null&&kn("scrollend",i),h.onClick!=null&&(i.onclick=Xi),i=!0):i=!1,i||ko(r,!0)}function Ka(r){for(As=r.return;As;)switch(As.tag){case 5:case 31:case 13:Or=!1;return;case 27:case 3:Or=!0;return;default:As=As.return}}function Ts(r){if(r!==As)return!1;if(!Tn)return Ka(r),Tn=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Z0(r.type,r.memoizedProps)),l=!l),l&&fr&&ko(r),Ka(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));fr=j5(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));fr=j5(r)}else i===27?(i=fr,uc(r.type)?(r=tm,tm=null,fr=r):fr=i):fr=As?Ta(r.stateNode.nextSibling):null;return!0}function ll(){fr=As=null,Tn=!1}function af(){var r=Xs;return r!==null&&(Vi===null?Vi=r:Vi.push.apply(Vi,r),Xs=null),r}function Zl(r){Xs===null?Xs=[r]:Xs.push(r)}var Uu=W(null),jo=null,Sa=null;function Eo(r,i,l){$(Uu,i._currentValue),i._currentValue=l}function Li(r){r._currentValue=Uu.current,j(Uu)}function Ql(r,i,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===l)break;r=r.return}}function cl(r,i,l,h){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var w=g.dependencies;if(w!==null){var O=g.child;w=w.firstContext;e:for(;w!==null;){var ee=w;w=g;for(var me=0;me<i.length;me++)if(ee.context===i[me]){w.lanes|=l,ee=w.alternate,ee!==null&&(ee.lanes|=l),Ql(w.return,l,r),h||(O=null);break e}w=ee.next}}else if(g.tag===18){if(O=g.return,O===null)throw Error(s(341));O.lanes|=l,w=O.alternate,w!==null&&(w.lanes|=l),Ql(O,l,r),O=null}else O=g.child;if(O!==null)O.return=g;else for(O=g;O!==null;){if(O===r){O=null;break}if(g=O.sibling,g!==null){g.return=O.return,O=g;break}O=O.return}g=O}}function Mo(r,i,l,h){r=null;for(var g=i,w=!1;g!==null;){if(!w){if((g.flags&524288)!==0)w=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var O=g.alternate;if(O===null)throw Error(s(387));if(O=O.memoizedProps,O!==null){var ee=g.type;Ss(g.pendingProps.value,O.value)||(r!==null?r.push(ee):r=[ee])}}else if(g===de.current){if(O=g.alternate,O===null)throw Error(s(387));O.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Lf):r=[Lf])}g=g.return}r!==null&&cl(i,r,l,h),i.flags|=262144}function Hu(r){for(r=r.firstContext;r!==null;){if(!Ss(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Lo(r){jo=r,Sa=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Cs(r){return Id(jo,r)}function Wu(r,i){return jo===null&&Lo(r),Id(r,i)}function Id(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Sa===null){if(r===null)throw Error(s(308));Sa=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Sa=Sa.next=i;return l}var e0=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,h){r.push(h)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},t0=n.unstable_scheduleCallback,n0=n.unstable_NormalPriority,Ur={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kl(){return{controller:new e0,data:new Map,refCount:0}}function Qc(r){r.refCount--,r.refCount===0&&t0(n0,function(){r.controller.abort()})}var Kc=null,Gu=0,m=0,x=null;function T(r,i){if(Kc===null){var l=Kc=[];Gu=0,m=P0(),x={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Gu++,i.then(L,L),i}function L(){if(--Gu===0&&Kc!==null){x!==null&&(x.status="fulfilled");var r=Kc;Kc=null,m=0,x=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function q(r,i){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){h.status="fulfilled",h.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var Z=Y.S;Y.S=function(r,i){Hb=ze(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&T(r,i),Z!==null&&Z(r,i)};var Q=W(null);function se(){var r=Q.current;return r!==null?r:pr.pooledCache}function ie(r,i){i===null?$(Q,Q.current):$(Q,i.pool)}function ue(){var r=se();return r===null?null:{parent:Ur._currentValue,pool:r}}var ve=Error(s(460)),Le=Error(s(474)),ce=Error(s(542)),Se={then:function(){}};function je(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ue(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(Xi,Xi),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,ot(r),r;default:if(typeof i.status=="string")i.then(Xi,Xi);else{if(r=pr,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(h){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=h}},function(h){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,ot(r),r}throw Pe=i,ve}}function Me(r){try{var i=r._init;return i(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pe=l,ve):l}}var Pe=null;function Ye(){if(Pe===null)throw Error(s(459));var r=Pe;return Pe=null,r}function ot(r){if(r===ve||r===ce)throw Error(s(483))}var Qe=null,Lt=0;function wt(r){var i=Lt;return Lt+=1,Qe===null&&(Qe=[]),Ue(Qe,r,i)}function en(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function kt(r,i){throw i.$$typeof===_?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function An(r){function i(Ce,ye){if(r){var Oe=Ce.deletions;Oe===null?(Ce.deletions=[ye],Ce.flags|=16):Oe.push(ye)}}function l(Ce,ye){if(!r)return null;for(;ye!==null;)i(Ce,ye),ye=ye.sibling;return null}function h(Ce){for(var ye=new Map;Ce!==null;)Ce.key!==null?ye.set(Ce.key,Ce):ye.set(Ce.index,Ce),Ce=Ce.sibling;return ye}function g(Ce,ye){return Ce=Ti(Ce,ye),Ce.index=0,Ce.sibling=null,Ce}function w(Ce,ye,Oe){return Ce.index=Oe,r?(Oe=Ce.alternate,Oe!==null?(Oe=Oe.index,Oe<ye?(Ce.flags|=67108866,ye):Oe):(Ce.flags|=67108866,ye)):(Ce.flags|=1048576,ye)}function O(Ce){return r&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function ee(Ce,ye,Oe,Xe){return ye===null||ye.tag!==6?(ye=Xc(Oe,Ce.mode,Xe),ye.return=Ce,ye):(ye=g(ye,Oe),ye.return=Ce,ye)}function me(Ce,ye,Oe,Xe){var qt=Oe.type;return qt===N?He(Ce,ye,Oe.props.children,Xe,Oe.key):ye!==null&&(ye.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===M&&Me(qt)===ye.type)?(ye=g(ye,Oe.props),en(ye,Oe),ye.return=Ce,ye):(ye=Yl(Oe.type,Oe.key,Oe.props,null,Ce.mode,Xe),en(ye,Oe),ye.return=Ce,ye)}function De(Ce,ye,Oe,Xe){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Oe.containerInfo||ye.stateNode.implementation!==Oe.implementation?(ye=$l(Oe,Ce.mode,Xe),ye.return=Ce,ye):(ye=g(ye,Oe.children||[]),ye.return=Ce,ye)}function He(Ce,ye,Oe,Xe,qt){return ye===null||ye.tag!==7?(ye=To(Oe,Ce.mode,Xe,qt),ye.return=Ce,ye):(ye=g(ye,Oe),ye.return=Ce,ye)}function Ze(Ce,ye,Oe){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=Xc(""+ye,Ce.mode,Oe),ye.return=Ce,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case b:return Oe=Yl(ye.type,ye.key,ye.props,null,Ce.mode,Oe),en(Oe,ye),Oe.return=Ce,Oe;case A:return ye=$l(ye,Ce.mode,Oe),ye.return=Ce,ye;case M:return ye=Me(ye),Ze(Ce,ye,Oe)}if(oe(ye)||I(ye))return ye=To(ye,Ce.mode,Oe,null),ye.return=Ce,ye;if(typeof ye.then=="function")return Ze(Ce,wt(ye),Oe);if(ye.$$typeof===D)return Ze(Ce,Wu(Ce,ye),Oe);kt(Ce,ye)}return null}function Re(Ce,ye,Oe,Xe){var qt=ye!==null?ye.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return qt!==null?null:ee(Ce,ye,""+Oe,Xe);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case b:return Oe.key===qt?me(Ce,ye,Oe,Xe):null;case A:return Oe.key===qt?De(Ce,ye,Oe,Xe):null;case M:return Oe=Me(Oe),Re(Ce,ye,Oe,Xe)}if(oe(Oe)||I(Oe))return qt!==null?null:He(Ce,ye,Oe,Xe,null);if(typeof Oe.then=="function")return Re(Ce,ye,wt(Oe),Xe);if(Oe.$$typeof===D)return Re(Ce,ye,Wu(Ce,Oe),Xe);kt(Ce,Oe)}return null}function Be(Ce,ye,Oe,Xe,qt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return Ce=Ce.get(Oe)||null,ee(ye,Ce,""+Xe,qt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case b:return Ce=Ce.get(Xe.key===null?Oe:Xe.key)||null,me(ye,Ce,Xe,qt);case A:return Ce=Ce.get(Xe.key===null?Oe:Xe.key)||null,De(ye,Ce,Xe,qt);case M:return Xe=Me(Xe),Be(Ce,ye,Oe,Xe,qt)}if(oe(Xe)||I(Xe))return Ce=Ce.get(Oe)||null,He(ye,Ce,Xe,qt,null);if(typeof Xe.then=="function")return Be(Ce,ye,Oe,wt(Xe),qt);if(Xe.$$typeof===D)return Be(Ce,ye,Oe,Wu(ye,Xe),qt);kt(ye,Xe)}return null}function Et(Ce,ye,Oe,Xe){for(var qt=null,Un=null,It=ye,yn=ye=0,En=null;It!==null&&yn<Oe.length;yn++){It.index>yn?(En=It,It=null):En=It.sibling;var Hn=Re(Ce,It,Oe[yn],Xe);if(Hn===null){It===null&&(It=En);break}r&&It&&Hn.alternate===null&&i(Ce,It),ye=w(Hn,ye,yn),Un===null?qt=Hn:Un.sibling=Hn,Un=Hn,It=En}if(yn===Oe.length)return l(Ce,It),Tn&&bi(Ce,yn),qt;if(It===null){for(;yn<Oe.length;yn++)It=Ze(Ce,Oe[yn],Xe),It!==null&&(ye=w(It,ye,yn),Un===null?qt=It:Un.sibling=It,Un=It);return Tn&&bi(Ce,yn),qt}for(It=h(It);yn<Oe.length;yn++)En=Be(It,Ce,yn,Oe[yn],Xe),En!==null&&(r&&En.alternate!==null&&It.delete(En.key===null?yn:En.key),ye=w(En,ye,yn),Un===null?qt=En:Un.sibling=En,Un=En);return r&&It.forEach(function(mc){return i(Ce,mc)}),Tn&&bi(Ce,yn),qt}function Xt(Ce,ye,Oe,Xe){if(Oe==null)throw Error(s(151));for(var qt=null,Un=null,It=ye,yn=ye=0,En=null,Hn=Oe.next();It!==null&&!Hn.done;yn++,Hn=Oe.next()){It.index>yn?(En=It,It=null):En=It.sibling;var mc=Re(Ce,It,Hn.value,Xe);if(mc===null){It===null&&(It=En);break}r&&It&&mc.alternate===null&&i(Ce,It),ye=w(mc,ye,yn),Un===null?qt=mc:Un.sibling=mc,Un=mc,It=En}if(Hn.done)return l(Ce,It),Tn&&bi(Ce,yn),qt;if(It===null){for(;!Hn.done;yn++,Hn=Oe.next())Hn=Ze(Ce,Hn.value,Xe),Hn!==null&&(ye=w(Hn,ye,yn),Un===null?qt=Hn:Un.sibling=Hn,Un=Hn);return Tn&&bi(Ce,yn),qt}for(It=h(It);!Hn.done;yn++,Hn=Oe.next())Hn=Be(It,Ce,yn,Hn.value,Xe),Hn!==null&&(r&&Hn.alternate!==null&&It.delete(Hn.key===null?yn:Hn.key),ye=w(Hn,ye,yn),Un===null?qt=Hn:Un.sibling=Hn,Un=Hn);return r&&It.forEach(function(k_){return i(Ce,k_)}),Tn&&bi(Ce,yn),qt}function ir(Ce,ye,Oe,Xe){if(typeof Oe=="object"&&Oe!==null&&Oe.type===N&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case b:e:{for(var qt=Oe.key;ye!==null;){if(ye.key===qt){if(qt=Oe.type,qt===N){if(ye.tag===7){l(Ce,ye.sibling),Xe=g(ye,Oe.props.children),Xe.return=Ce,Ce=Xe;break e}}else if(ye.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===M&&Me(qt)===ye.type){l(Ce,ye.sibling),Xe=g(ye,Oe.props),en(Xe,Oe),Xe.return=Ce,Ce=Xe;break e}l(Ce,ye);break}else i(Ce,ye);ye=ye.sibling}Oe.type===N?(Xe=To(Oe.props.children,Ce.mode,Xe,Oe.key),Xe.return=Ce,Ce=Xe):(Xe=Yl(Oe.type,Oe.key,Oe.props,null,Ce.mode,Xe),en(Xe,Oe),Xe.return=Ce,Ce=Xe)}return O(Ce);case A:e:{for(qt=Oe.key;ye!==null;){if(ye.key===qt)if(ye.tag===4&&ye.stateNode.containerInfo===Oe.containerInfo&&ye.stateNode.implementation===Oe.implementation){l(Ce,ye.sibling),Xe=g(ye,Oe.children||[]),Xe.return=Ce,Ce=Xe;break e}else{l(Ce,ye);break}else i(Ce,ye);ye=ye.sibling}Xe=$l(Oe,Ce.mode,Xe),Xe.return=Ce,Ce=Xe}return O(Ce);case M:return Oe=Me(Oe),ir(Ce,ye,Oe,Xe)}if(oe(Oe))return Et(Ce,ye,Oe,Xe);if(I(Oe)){if(qt=I(Oe),typeof qt!="function")throw Error(s(150));return Oe=qt.call(Oe),Xt(Ce,ye,Oe,Xe)}if(typeof Oe.then=="function")return ir(Ce,ye,wt(Oe),Xe);if(Oe.$$typeof===D)return ir(Ce,ye,Wu(Ce,Oe),Xe);kt(Ce,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,ye!==null&&ye.tag===6?(l(Ce,ye.sibling),Xe=g(ye,Oe),Xe.return=Ce,Ce=Xe):(l(Ce,ye),Xe=Xc(Oe,Ce.mode,Xe),Xe.return=Ce,Ce=Xe),O(Ce)):l(Ce,ye)}return function(Ce,ye,Oe,Xe){try{Lt=0;var qt=ir(Ce,ye,Oe,Xe);return Qe=null,qt}catch(It){if(It===ve||It===ce)throw It;var Un=Rs(29,It,null,Ce.mode);return Un.lanes=Xe,Un.return=Ce,Un}finally{}}}var dr=An(!0),hn=An(!1),_t=!1;function mt(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _r(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function $t(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function mn(r,i,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,($n&2)!==0){var g=h.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),h.pending=i,i=Ds(r),Yc(r,null,l),i}return Gc(r,h,i,l),Ds(r)}function Gn(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,vn(r,l)}}function rs(r,i){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var O={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};w===null?g=w=O:w=w.next=O,l=l.next}while(l!==null);w===null?g=w=i:w=w.next=i}else g=w=i;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var ks=!1;function nr(){if(ks){var r=x;if(r!==null)throw r}}function Yr(r,i,l,h){ks=!1;var g=r.updateQueue;_t=!1;var w=g.firstBaseUpdate,O=g.lastBaseUpdate,ee=g.shared.pending;if(ee!==null){g.shared.pending=null;var me=ee,De=me.next;me.next=null,O===null?w=De:O.next=De,O=me;var He=r.alternate;He!==null&&(He=He.updateQueue,ee=He.lastBaseUpdate,ee!==O&&(ee===null?He.firstBaseUpdate=De:ee.next=De,He.lastBaseUpdate=me))}if(w!==null){var Ze=g.baseState;O=0,He=De=me=null,ee=w;do{var Re=ee.lane&-536870913,Be=Re!==ee.lane;if(Be?(jn&Re)===Re:(h&Re)===Re){Re!==0&&Re===m&&(ks=!0),He!==null&&(He=He.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var Et=r,Xt=ee;Re=i;var ir=l;switch(Xt.tag){case 1:if(Et=Xt.payload,typeof Et=="function"){Ze=Et.call(ir,Ze,Re);break e}Ze=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Xt.payload,Re=typeof Et=="function"?Et.call(ir,Ze,Re):Et,Re==null)break e;Ze=y({},Ze,Re);break e;case 2:_t=!0}}Re=ee.callback,Re!==null&&(r.flags|=64,Be&&(r.flags|=8192),Be=g.callbacks,Be===null?g.callbacks=[Re]:Be.push(Re))}else Be={lane:Re,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},He===null?(De=He=Be,me=Ze):He=He.next=Be,O|=Re;if(ee=ee.next,ee===null){if(ee=g.shared.pending,ee===null)break;Be=ee,ee=Be.next,Be.next=null,g.lastBaseUpdate=Be,g.shared.pending=null}}while(!0);He===null&&(me=Ze),g.baseState=me,g.firstBaseUpdate=De,g.lastBaseUpdate=He,w===null&&(g.shared.lanes=0),ic|=O,r.lanes=O,r.memoizedState=Ze}}function Is(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function $r(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)Is(l[r],i)}var wn=W(null),Fn=W(0);function Sr(r,i){r=yl,$(Fn,r),$(wn,i),yl=r|i.baseLanes}function qn(){$(Fn,yl),$(wn,wn.current)}function ss(){yl=Fn.current,j(wn),j(Fn)}var Nr=W(null),Bn=null;function Hr(r){var i=r.alternate;$(Rn,Rn.current&1),$(Nr,r),Bn===null&&(i===null||wn.current!==null||i.memoizedState!==null)&&(Bn=r)}function Yn(r){$(Rn,Rn.current),$(Nr,r),Bn===null&&(Bn=r)}function Xr(r){r.tag===22?($(Rn,Rn.current),$(Nr,r),Bn===null&&(Bn=r)):Zr()}function Zr(){$(Rn,Rn.current),$(Nr,Nr.current)}function Zn(r){j(Nr),Bn===r&&(Bn=null),j(Rn)}var Rn=W(0);function Vs(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||J0(l)||em(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dr=0,Bt=null,Pt=null,zn=null,ri=!1,Oi=!1,Zs=!1,Qr=0,Oo=0,Do=null,Yu=0;function rr(){throw Error(s(321))}function of(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Ss(r[l],i[l]))return!1;return!0}function lf(r,i,l,h,g,w){return Dr=w,Bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=r===null||r.memoizedState===null?tb:u0,Zs=!1,w=l(h,g),Zs=!1,Oi&&(w=Ja(i,l,h,g)),$u(r),w}function $u(r){Y.H=gf;var i=Pt!==null&&Pt.next!==null;if(Dr=0,zn=Pt=Bt=null,ri=!1,Oo=0,Do=null,i)throw Error(s(300));r===null||ps||(r=r.dependencies,r!==null&&Hu(r)&&(ps=!0))}function Ja(r,i,l,h){Bt=r;var g=0;do{if(Oi&&(Do=null),Oo=0,Oi=!1,25<=g)throw Error(s(301));if(g+=1,zn=Pt=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}Y.H=nb,w=i(l,h)}while(Oi);return w}function r0(){var r=Y.H,i=r.useState()[0];return i=typeof i.then=="function"?Ro(i):i,r=r.useState()[0],(Pt!==null?Pt.memoizedState:null)!==r&&(Bt.flags|=1024),i}function cf(){var r=Qr!==0;return Qr=0,r}function uf(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function Xu(r){if(ri){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ri=!1}Dr=0,zn=Pt=Bt=null,Oi=!1,Oo=Qr=0,Do=null}function ds(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?Bt.memoizedState=zn=r:zn=zn.next=r,zn}function Rr(){if(Pt===null){var r=Bt.alternate;r=r!==null?r.memoizedState:null}else r=Pt.next;var i=zn===null?Bt.memoizedState:zn.next;if(i!==null)zn=i,Pt=r;else{if(r===null)throw Bt.alternate===null?Error(s(467)):Error(s(310));Pt=r,r={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},zn===null?Bt.memoizedState=zn=r:zn=zn.next=r}return zn}function Jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ro(r){var i=Oo;return Oo+=1,Do===null&&(Do=[]),r=Ue(Do,r,i),i=Bt,(zn===null?i.memoizedState:zn.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?tb:u0),r}function Jl(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ro(r);if(r.$$typeof===D)return Cs(r)}throw Error(s(438,String(r)))}function ul(r){var i=null,l=Bt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var h=Bt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Jc(),Bt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),h=0;h<r;h++)l[h]=te;return i.index++,l}function Na(r,i){return typeof i=="function"?i(r):i}function Zu(r){var i=Rr();return ec(i,Pt,r)}function ec(r,i,l){var h=r.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var g=r.baseQueue,w=h.pending;if(w!==null){if(g!==null){var O=g.next;g.next=w.next,w.next=O}i.baseQueue=g=w,h.pending=null}if(w=r.baseState,g===null)r.memoizedState=w;else{i=g.next;var ee=O=null,me=null,De=i,He=!1;do{var Ze=De.lane&-536870913;if(Ze!==De.lane?(jn&Ze)===Ze:(Dr&Ze)===Ze){var Re=De.revertLane;if(Re===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Ze===m&&(He=!0);else if((Dr&Re)===Re){De=De.next,Re===m&&(He=!0);continue}else Ze={lane:0,revertLane:De.revertLane,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},me===null?(ee=me=Ze,O=w):me=me.next=Ze,Bt.lanes|=Re,ic|=Re;Ze=De.action,Zs&&l(w,Ze),w=De.hasEagerState?De.eagerState:l(w,Ze)}else Re={lane:Ze,revertLane:De.revertLane,gesture:De.gesture,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},me===null?(ee=me=Re,O=w):me=me.next=Re,Bt.lanes|=Ze,ic|=Ze;De=De.next}while(De!==null&&De!==i);if(me===null?O=w:me.next=ee,!Ss(w,r.memoizedState)&&(ps=!0,He&&(l=x,l!==null)))throw l;r.memoizedState=w,r.baseState=O,r.baseQueue=me,h.lastRenderedState=w}return g===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function Qu(r){var i=Rr(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=l.dispatch,g=l.pending,w=i.memoizedState;if(g!==null){l.pending=null;var O=g=g.next;do w=r(w,O.action),O=O.next;while(O!==g);Ss(w,i.memoizedState)||(ps=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),l.lastRenderedState=w}return[w,h]}function Ku(r,i,l){var h=Bt,g=Rr(),w=Tn;if(w){if(l===void 0)throw Error(s(407));l=l()}else l=i();var O=!Ss((Pt||g).memoizedState,l);if(O&&(g.memoizedState=l,ps=!0),g=g.queue,s0(ff.bind(null,h,g,r),[r]),g.getSnapshot!==i||O||zn!==null&&zn.memoizedState.tag&1){if(h.flags|=2048,fl(9,{destroy:void 0},hf.bind(null,h,g,l,i),null),pr===null)throw Error(s(349));w||(Dr&127)!==0||eo(h,i,l)}return l}function eo(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Bt.updateQueue,i===null?(i=Jc(),Bt.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function hf(r,i,l,h){i.value=l,i.getSnapshot=h,Vd(i)&&df(r)}function ff(r,i,l){return l(function(){Vd(i)&&df(r)})}function Vd(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Ss(r,l)}catch{return!0}}function df(r){var i=Qa(r,2);i!==null&&Fi(i,r,2)}function Io(r){var i=ds();if(typeof r=="function"){var l=r;if(r=l(),Zs){St(!0);try{l()}finally{St(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:r},i}function Fd(r,i,l,h){return r.baseState=l,ec(r,Pt,typeof h=="function"?h:Na)}function Bd(r,i,l,h,g){if(Ud(r))throw Error(s(485));if(r=i.action,r!==null){var w={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};Y.T!==null?l(!0):w.isTransition=!1,h(w),l=i.pending,l===null?(w.next=i.pending=w,zd(i,w)):(w.next=l.next,i.pending=l.next=w)}}function zd(r,i){var l=i.action,h=i.payload,g=r.state;if(i.isTransition){var w=Y.T,O={};Y.T=O;try{var ee=l(g,h),me=Y.S;me!==null&&me(O,ee),pf(r,i,ee)}catch(De){hl(r,i,De)}finally{w!==null&&O.types!==null&&(w.types=O.types),Y.T=w}}else try{w=l(g,h),pf(r,i,w)}catch(De){hl(r,i,De)}}function pf(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Pd(r,i,h)},function(h){return hl(r,i,h)}):Pd(r,i,l)}function Pd(r,i,l){i.status="fulfilled",i.value=l,Ju(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,zd(r,l)))}function hl(r,i,l){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=l,Ju(i),i=i.next;while(i!==h)}r.action=null}function Ju(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function eu(r,i){return i}function Aa(r,i){if(Tn){var l=pr.formState;if(l!==null){e:{var h=Bt;if(Tn){if(fr){t:{for(var g=fr,w=Or;g.nodeType!==8;){if(!w){g=null;break t}if(g=Ta(g.nextSibling),g===null){g=null;break t}}w=g.data,g=w==="F!"||w==="F"?g:null}if(g){fr=Ta(g.nextSibling),h=g.data==="F!";break e}}ko(h)}h=!1}h&&(i=l[0])}}return l=ds(),l.memoizedState=l.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:i},l.queue=h,l=K2.bind(null,Bt,h),h.dispatch=l,h=Io(!1),w=c0.bind(null,Bt,!1,h.queue),h=ds(),g={state:i,dispatch:null,action:r,pending:null},h.queue=g,l=Bd.bind(null,Bt,g,w,l),g.dispatch=l,h.memoizedState=r,[i,l,!1]}function to(r){var i=Rr();return no(i,Pt,r)}function no(r,i,l){if(i=ec(r,i,eu)[0],r=Zu(Na)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var h=Ro(i)}catch(O){throw O===ve?ce:O}else h=i;i=Rr();var g=i.queue,w=g.dispatch;return l!==i.memoizedState&&(Bt.flags|=2048,fl(9,{destroy:void 0},eh.bind(null,g,l),null)),[h,w,r]}function eh(r,i){r.action=i}function th(r){var i=Rr(),l=Pt;if(l!==null)return no(i,l,r);Rr(),i=i.memoizedState,l=Rr();var h=l.queue.dispatch;return l.memoizedState=r,[i,h,!1]}function fl(r,i,l,h){return r={tag:r,create:l,deps:h,inst:i,next:null},i=Bt.updateQueue,i===null&&(i=Jc(),Bt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,i.lastEffect=r),r}function qd(){return Rr().memoizedState}function tc(r,i,l,h){var g=ds();Bt.flags|=r,g.memoizedState=fl(1|i,{destroy:void 0},l,h===void 0?null:h)}function nc(r,i,l,h){var g=Rr();h=h===void 0?null:h;var w=g.memoizedState.inst;Pt!==null&&h!==null&&of(h,Pt.memoizedState.deps)?g.memoizedState=fl(i,w,l,h):(Bt.flags|=r,g.memoizedState=fl(1|i,w,l,h))}function F2(r,i){tc(8390656,8,r,i)}function s0(r,i){nc(2048,8,r,i)}function _4(r){Bt.flags|=4;var i=Bt.updateQueue;if(i===null)i=Jc(),Bt.updateQueue=i,i.events=[r];else{var l=i.events;l===null?i.events=[r]:l.push(r)}}function B2(r){var i=Rr().memoizedState;return _4({ref:i,nextImpl:r}),function(){if(($n&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function z2(r,i){return nc(4,2,r,i)}function P2(r,i){return nc(4,4,r,i)}function q2(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function U2(r,i,l){l=l!=null?l.concat([r]):null,nc(4,4,q2.bind(null,i,r),l)}function i0(){}function H2(r,i){var l=Rr();i=i===void 0?null:i;var h=l.memoizedState;return i!==null&&of(i,h[1])?h[0]:(l.memoizedState=[r,i],r)}function W2(r,i){var l=Rr();i=i===void 0?null:i;var h=l.memoizedState;if(i!==null&&of(i,h[1]))return h[0];if(h=r(),Zs){St(!0);try{r()}finally{St(!1)}}return l.memoizedState=[h,i],h}function a0(r,i,l){return l===void 0||(Dr&1073741824)!==0&&(jn&261930)===0?r.memoizedState=i:(r.memoizedState=l,r=Gb(),Bt.lanes|=r,ic|=r,l)}function G2(r,i,l,h){return Ss(l,i)?l:wn.current!==null?(r=a0(r,l,h),Ss(r,i)||(ps=!0),r):(Dr&42)===0||(Dr&1073741824)!==0&&(jn&261930)===0?(ps=!0,r.memoizedState=l):(r=Gb(),Bt.lanes|=r,ic|=r,i)}function Y2(r,i,l,h,g){var w=J.p;J.p=w!==0&&8>w?w:8;var O=Y.T,ee={};Y.T=ee,c0(r,!1,i,l);try{var me=g(),De=Y.S;if(De!==null&&De(ee,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var He=q(me,h);mf(r,i,He,sa(r))}else mf(r,i,h,sa(r))}catch(Ze){mf(r,i,{then:function(){},status:"rejected",reason:Ze},sa())}finally{J.p=w,O!==null&&ee.types!==null&&(O.types=ee.types),Y.T=O}}function S4(){}function o0(r,i,l,h){if(r.tag!==5)throw Error(s(476));var g=$2(r).queue;Y2(r,g,i,le,l===null?S4:function(){return X2(r),l(h)})}function $2(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:le},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function X2(r){var i=$2(r);i.next===null&&(i=r.alternate.memoizedState),mf(r,i.next.queue,{},sa())}function l0(){return Cs(Lf)}function Z2(){return Rr().memoizedState}function Q2(){return Rr().memoizedState}function N4(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=sa();r=$t(l);var h=mn(i,r,l);h!==null&&(Fi(h,i,l),Gn(h,i,l)),i={cache:Kl()},r.payload=i;return}i=i.return}}function A4(r,i,l){var h=sa();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ud(r)?J2(i,l):(l=Iu(r,i,l,h),l!==null&&(Fi(l,r,h),eb(l,i,h)))}function K2(r,i,l){var h=sa();mf(r,i,l,h)}function mf(r,i,l,h){var g={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ud(r))J2(i,g);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var O=i.lastRenderedState,ee=w(O,l);if(g.hasEagerState=!0,g.eagerState=ee,Ss(ee,O))return Gc(r,i,g,0),pr===null&&Wc(),!1}catch{}finally{}if(l=Iu(r,i,g,h),l!==null)return Fi(l,r,h),eb(l,i,h),!0}return!1}function c0(r,i,l,h){if(h={lane:2,revertLane:P0(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Ud(r)){if(i)throw Error(s(479))}else i=Iu(r,l,h,2),i!==null&&Fi(i,r,2)}function Ud(r){var i=r.alternate;return r===Bt||i!==null&&i===Bt}function J2(r,i){Oi=ri=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function eb(r,i,l){if((l&4194048)!==0){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,vn(r,l)}}var gf={readContext:Cs,use:Jl,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useLayoutEffect:rr,useInsertionEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useSyncExternalStore:rr,useId:rr,useHostTransitionStatus:rr,useFormState:rr,useActionState:rr,useOptimistic:rr,useMemoCache:rr,useCacheRefresh:rr};gf.useEffectEvent=rr;var tb={readContext:Cs,use:Jl,useCallback:function(r,i){return ds().memoizedState=[r,i===void 0?null:i],r},useContext:Cs,useEffect:F2,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,tc(4194308,4,q2.bind(null,i,r),l)},useLayoutEffect:function(r,i){return tc(4194308,4,r,i)},useInsertionEffect:function(r,i){tc(4,2,r,i)},useMemo:function(r,i){var l=ds();i=i===void 0?null:i;var h=r();if(Zs){St(!0);try{r()}finally{St(!1)}}return l.memoizedState=[h,i],h},useReducer:function(r,i,l){var h=ds();if(l!==void 0){var g=l(i);if(Zs){St(!0);try{l(i)}finally{St(!1)}}}else g=i;return h.memoizedState=h.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},h.queue=r,r=r.dispatch=A4.bind(null,Bt,r),[h.memoizedState,r]},useRef:function(r){var i=ds();return r={current:r},i.memoizedState=r},useState:function(r){r=Io(r);var i=r.queue,l=K2.bind(null,Bt,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:i0,useDeferredValue:function(r,i){var l=ds();return a0(l,r,i)},useTransition:function(){var r=Io(!1);return r=Y2.bind(null,Bt,r.queue,!0,!1),ds().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var h=Bt,g=ds();if(Tn){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),pr===null)throw Error(s(349));(jn&127)!==0||eo(h,i,l)}g.memoizedState=l;var w={value:l,getSnapshot:i};return g.queue=w,F2(ff.bind(null,h,w,r),[r]),h.flags|=2048,fl(9,{destroy:void 0},hf.bind(null,h,w,l,i),null),l},useId:function(){var r=ds(),i=pr.identifierPrefix;if(Tn){var l=Mi,h=Ei;l=(h&~(1<<32-At(h)-1)).toString(32)+l,i="_"+i+"R_"+l,l=Qr++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=Yu++,i="_"+i+"r_"+l.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:l0,useFormState:Aa,useActionState:Aa,useOptimistic:function(r){var i=ds();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=c0.bind(null,Bt,!0,l),l.dispatch=i,[r,i]},useMemoCache:ul,useCacheRefresh:function(){return ds().memoizedState=N4.bind(null,Bt)},useEffectEvent:function(r){var i=ds(),l={impl:r};return i.memoizedState=l,function(){if(($n&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},u0={readContext:Cs,use:Jl,useCallback:H2,useContext:Cs,useEffect:s0,useImperativeHandle:U2,useInsertionEffect:z2,useLayoutEffect:P2,useMemo:W2,useReducer:Zu,useRef:qd,useState:function(){return Zu(Na)},useDebugValue:i0,useDeferredValue:function(r,i){var l=Rr();return G2(l,Pt.memoizedState,r,i)},useTransition:function(){var r=Zu(Na)[0],i=Rr().memoizedState;return[typeof r=="boolean"?r:Ro(r),i]},useSyncExternalStore:Ku,useId:Z2,useHostTransitionStatus:l0,useFormState:to,useActionState:to,useOptimistic:function(r,i){var l=Rr();return Fd(l,Pt,r,i)},useMemoCache:ul,useCacheRefresh:Q2};u0.useEffectEvent=B2;var nb={readContext:Cs,use:Jl,useCallback:H2,useContext:Cs,useEffect:s0,useImperativeHandle:U2,useInsertionEffect:z2,useLayoutEffect:P2,useMemo:W2,useReducer:Qu,useRef:qd,useState:function(){return Qu(Na)},useDebugValue:i0,useDeferredValue:function(r,i){var l=Rr();return Pt===null?a0(l,r,i):G2(l,Pt.memoizedState,r,i)},useTransition:function(){var r=Qu(Na)[0],i=Rr().memoizedState;return[typeof r=="boolean"?r:Ro(r),i]},useSyncExternalStore:Ku,useId:Z2,useHostTransitionStatus:l0,useFormState:th,useActionState:th,useOptimistic:function(r,i){var l=Rr();return Pt!==null?Fd(l,Pt,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:ul,useCacheRefresh:Q2};nb.useEffectEvent=B2;function h0(r,i,l,h){i=r.memoizedState,l=l(h,i),l=l==null?i:y({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var f0={enqueueSetState:function(r,i,l){r=r._reactInternals;var h=sa(),g=$t(h);g.payload=i,l!=null&&(g.callback=l),i=mn(r,g,h),i!==null&&(Fi(i,r,h),Gn(i,r,h))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var h=sa(),g=$t(h);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=mn(r,g,h),i!==null&&(Fi(i,r,h),Gn(i,r,h))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=sa(),h=$t(l);h.tag=2,i!=null&&(h.callback=i),i=mn(r,h,l),i!==null&&(Fi(i,r,l),Gn(i,r,l))}};function rb(r,i,l,h,g,w,O){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,w,O):i.prototype&&i.prototype.isPureReactComponent?!Ya(l,h)||!Ya(g,w):!0}function sb(r,i,l,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==r&&f0.enqueueReplaceState(i,i.state,null)}function tu(r,i){var l=i;if("ref"in i){l={};for(var h in i)h!=="ref"&&(l[h]=i[h])}if(r=r.defaultProps){l===i&&(l=y({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}function ib(r){Hc(r)}function ab(r){console.error(r)}function ob(r){Hc(r)}function Hd(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function lb(r,i,l){try{var h=r.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function d0(r,i,l){return l=$t(l),l.tag=3,l.payload={element:null},l.callback=function(){Hd(r,i)},l}function cb(r){return r=$t(r),r.tag=3,r}function ub(r,i,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var w=h.value;r.payload=function(){return g(w)},r.callback=function(){lb(i,l,h)}}var O=l.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(r.callback=function(){lb(i,l,h),typeof g!="function"&&(ac===null?ac=new Set([this]):ac.add(this));var ee=h.stack;this.componentDidCatch(h.value,{componentStack:ee!==null?ee:""})})}function T4(r,i,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=l.alternate,i!==null&&Mo(i,l,g,!0),l=Nr.current,l!==null){switch(l.tag){case 31:case 13:return Bn===null?n1():l.alternate===null&&Kr===0&&(Kr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===Se?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([h]):i.add(h),F0(r,h,g)),!1;case 22:return l.flags|=65536,h===Se?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([h]):l.add(h)),F0(r,h,g)),!1}throw Error(s(435,l.tag))}return F0(r,h,g),n1(),!1}if(Tn)return i=Nr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,h!==ta&&(r=Error(s(422),{cause:h}),Zl(Ci(r,l)))):(h!==ta&&(i=Error(s(423),{cause:h}),Zl(Ci(i,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,h=Ci(h,l),g=d0(r.stateNode,h,g),rs(r,g),Kr!==4&&(Kr=2)),!1;var w=Error(s(520),{cause:h});if(w=Ci(w,l),Nf===null?Nf=[w]:Nf.push(w),Kr!==4&&(Kr=2),i===null)return!0;h=Ci(h,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=d0(l.stateNode,h,r),rs(l,r),!1;case 1:if(i=l.type,w=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ac===null||!ac.has(w))))return l.flags|=65536,g&=-g,l.lanes|=g,g=cb(g),ub(g,r,l,h),rs(l,g),!1}l=l.return}while(l!==null);return!1}var p0=Error(s(461)),ps=!1;function Qs(r,i,l,h){i.child=r===null?hn(i,null,l,h):dr(i,r.child,l,h)}function hb(r,i,l,h,g){l=l.render;var w=i.ref;if("ref"in h){var O={};for(var ee in h)ee!=="ref"&&(O[ee]=h[ee])}else O=h;return Lo(i),h=lf(r,i,l,O,w,g),ee=cf(),r!==null&&!ps?(uf(r,i,g),dl(r,i,g)):(Tn&&ee&&rf(i),i.flags|=1,Qs(r,i,h,g),i.child)}function fb(r,i,l,h,g){if(r===null){var w=l.type;return typeof w=="function"&&!Fu(w)&&w.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=w,db(r,i,w,h,g)):(r=Yl(l.type,null,h,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(w=r.child,!_0(r,g)){var O=w.memoizedProps;if(l=l.compare,l=l!==null?l:Ya,l(O,h)&&r.ref===i.ref)return dl(r,i,g)}return i.flags|=1,r=Ti(w,h),r.ref=i.ref,r.return=i,i.child=r}function db(r,i,l,h,g){if(r!==null){var w=r.memoizedProps;if(Ya(w,h)&&r.ref===i.ref)if(ps=!1,i.pendingProps=h=w,_0(r,g))(r.flags&131072)!==0&&(ps=!0);else return i.lanes=r.lanes,dl(r,i,g)}return m0(r,i,l,h,g)}function pb(r,i,l,h){var g=h.children,w=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((i.flags&128)!==0){if(w=w!==null?w.baseLanes|l:l,r!==null){for(h=i.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~w}else h=0,i.child=null;return mb(r,i,w,l,h)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&ie(i,w!==null?w.cachePool:null),w!==null?Sr(i,w):qn(),Xr(i);else return h=i.lanes=536870912,mb(r,i,w!==null?w.baseLanes|l:l,l,h)}else w!==null?(ie(i,w.cachePool),Sr(i,w),Zr(),i.memoizedState=null):(r!==null&&ie(i,null),qn(),Zr());return Qs(r,i,g,l),i.child}function bf(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function mb(r,i,l,h,g){var w=se();return w=w===null?null:{parent:Ur._currentValue,pool:w},i.memoizedState={baseLanes:l,cachePool:w},r!==null&&ie(i,null),qn(),Xr(i),r!==null&&Mo(r,i,h,!0),i.childLanes=g,null}function Wd(r,i){return i=Yd({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function gb(r,i,l){return dr(i,r.child,null,l),r=Wd(i,i.pendingProps),r.flags|=2,Zn(i),i.memoizedState=null,r}function C4(r,i,l){var h=i.pendingProps,g=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Tn){if(h.mode==="hidden")return r=Wd(i,h),i.lanes=536870912,bf(null,r);if(Yn(i),(r=fr)?(r=k5(r,Or),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Co!==null?{id:Ei,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},l=Bu(r),l.return=i,i.child=l,As=i,fr=null)):r=null,r===null)throw ko(i);return i.lanes=536870912,null}return Wd(i,h)}var w=r.memoizedState;if(w!==null){var O=w.dehydrated;if(Yn(i),g)if(i.flags&256)i.flags&=-257,i=gb(r,i,l);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(s(558));else if(ps||Mo(r,i,l,!1),g=(l&r.childLanes)!==0,ps||g){if(h=pr,h!==null&&(O=Nn(h,l),O!==0&&O!==w.retryLane))throw w.retryLane=O,Qa(r,O),Fi(h,r,O),p0;n1(),i=gb(r,i,l)}else r=w.treeContext,fr=Ta(O.nextSibling),As=i,Tn=!0,Xs=null,Or=!1,r!==null&&Rd(i,r),i=Wd(i,h),i.flags|=4096;return i}return r=Ti(r.child,{mode:h.mode,children:h.children}),r.ref=i.ref,i.child=r,r.return=i,r}function Gd(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function m0(r,i,l,h,g){return Lo(i),l=lf(r,i,l,h,void 0,g),h=cf(),r!==null&&!ps?(uf(r,i,g),dl(r,i,g)):(Tn&&h&&rf(i),i.flags|=1,Qs(r,i,l,g),i.child)}function bb(r,i,l,h,g,w){return Lo(i),i.updateQueue=null,l=Ja(i,h,l,g),$u(r),h=cf(),r!==null&&!ps?(uf(r,i,w),dl(r,i,w)):(Tn&&h&&rf(i),i.flags|=1,Qs(r,i,l,w),i.child)}function vb(r,i,l,h,g){if(Lo(i),i.stateNode===null){var w=Ns,O=l.contextType;typeof O=="object"&&O!==null&&(w=Cs(O)),w=new l(h,w),i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=f0,i.stateNode=w,w._reactInternals=i,w=i.stateNode,w.props=h,w.state=i.memoizedState,w.refs={},mt(i),O=l.contextType,w.context=typeof O=="object"&&O!==null?Cs(O):Ns,w.state=i.memoizedState,O=l.getDerivedStateFromProps,typeof O=="function"&&(h0(i,l,O,h),w.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&f0.enqueueReplaceState(w,w.state,null),Yr(i,h,w,g),nr(),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(r===null){w=i.stateNode;var ee=i.memoizedProps,me=tu(l,ee);w.props=me;var De=w.context,He=l.contextType;O=Ns,typeof He=="object"&&He!==null&&(O=Cs(He));var Ze=l.getDerivedStateFromProps;He=typeof Ze=="function"||typeof w.getSnapshotBeforeUpdate=="function",ee=i.pendingProps!==ee,He||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(ee||De!==O)&&sb(i,w,h,O),_t=!1;var Re=i.memoizedState;w.state=Re,Yr(i,h,w,g),nr(),De=i.memoizedState,ee||Re!==De||_t?(typeof Ze=="function"&&(h0(i,l,Ze,h),De=i.memoizedState),(me=_t||rb(i,l,me,h,Re,De,O))?(He||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=De),w.props=h,w.state=De,w.context=O,h=me):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{w=i.stateNode,_r(r,i),O=i.memoizedProps,He=tu(l,O),w.props=He,Ze=i.pendingProps,Re=w.context,De=l.contextType,me=Ns,typeof De=="object"&&De!==null&&(me=Cs(De)),ee=l.getDerivedStateFromProps,(De=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==Ze||Re!==me)&&sb(i,w,h,me),_t=!1,Re=i.memoizedState,w.state=Re,Yr(i,h,w,g),nr();var Be=i.memoizedState;O!==Ze||Re!==Be||_t||r!==null&&r.dependencies!==null&&Hu(r.dependencies)?(typeof ee=="function"&&(h0(i,l,ee,h),Be=i.memoizedState),(He=_t||rb(i,l,He,h,Re,Be,me)||r!==null&&r.dependencies!==null&&Hu(r.dependencies))?(De||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,Be,me),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,Be,me)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===r.memoizedProps&&Re===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&Re===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Be),w.props=h,w.state=Be,w.context=me,h=He):(typeof w.componentDidUpdate!="function"||O===r.memoizedProps&&Re===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&Re===r.memoizedState||(i.flags|=1024),h=!1)}return w=h,Gd(r,i),h=(i.flags&128)!==0,w||h?(w=i.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:w.render(),i.flags|=1,r!==null&&h?(i.child=dr(i,r.child,null,g),i.child=dr(i,null,l,g)):Qs(r,i,l,g),i.memoizedState=w.state,r=i.child):r=dl(r,i,g),r}function yb(r,i,l,h){return ll(),i.flags|=256,Qs(r,i,l,h),i.child}var g0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function b0(r){return{baseLanes:r,cachePool:ue()}}function v0(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=ra),r}function xb(r,i,l){var h=i.pendingProps,g=!1,w=(i.flags&128)!==0,O;if((O=w)||(O=r!==null&&r.memoizedState===null?!1:(Rn.current&2)!==0),O&&(g=!0,i.flags&=-129),O=(i.flags&32)!==0,i.flags&=-33,r===null){if(Tn){if(g?Hr(i):Zr(),(r=fr)?(r=k5(r,Or),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Co!==null?{id:Ei,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},l=Bu(r),l.return=i,i.child=l,As=i,fr=null)):r=null,r===null)throw ko(i);return em(r)?i.lanes=32:i.lanes=536870912,null}var ee=h.children;return h=h.fallback,g?(Zr(),g=i.mode,ee=Yd({mode:"hidden",children:ee},g),h=To(h,g,l,null),ee.return=i,h.return=i,ee.sibling=h,i.child=ee,h=i.child,h.memoizedState=b0(l),h.childLanes=v0(r,O,l),i.memoizedState=g0,bf(null,h)):(Hr(i),y0(i,ee))}var me=r.memoizedState;if(me!==null&&(ee=me.dehydrated,ee!==null)){if(w)i.flags&256?(Hr(i),i.flags&=-257,i=x0(r,i,l)):i.memoizedState!==null?(Zr(),i.child=r.child,i.flags|=128,i=null):(Zr(),ee=h.fallback,g=i.mode,h=Yd({mode:"visible",children:h.children},g),ee=To(ee,g,l,null),ee.flags|=2,h.return=i,ee.return=i,h.sibling=ee,i.child=h,dr(i,r.child,null,l),h=i.child,h.memoizedState=b0(l),h.childLanes=v0(r,O,l),i.memoizedState=g0,i=bf(null,h));else if(Hr(i),em(ee)){if(O=ee.nextSibling&&ee.nextSibling.dataset,O)var De=O.dgst;O=De,h=Error(s(419)),h.stack="",h.digest=O,Zl({value:h,source:null,stack:null}),i=x0(r,i,l)}else if(ps||Mo(r,i,l,!1),O=(l&r.childLanes)!==0,ps||O){if(O=pr,O!==null&&(h=Nn(O,l),h!==0&&h!==me.retryLane))throw me.retryLane=h,Qa(r,h),Fi(O,r,h),p0;J0(ee)||n1(),i=x0(r,i,l)}else J0(ee)?(i.flags|=192,i.child=r.child,i=null):(r=me.treeContext,fr=Ta(ee.nextSibling),As=i,Tn=!0,Xs=null,Or=!1,r!==null&&Rd(i,r),i=y0(i,h.children),i.flags|=4096);return i}return g?(Zr(),ee=h.fallback,g=i.mode,me=r.child,De=me.sibling,h=Ti(me,{mode:"hidden",children:h.children}),h.subtreeFlags=me.subtreeFlags&65011712,De!==null?ee=Ti(De,ee):(ee=To(ee,g,l,null),ee.flags|=2),ee.return=i,h.return=i,h.sibling=ee,i.child=h,bf(null,h),h=i.child,ee=r.child.memoizedState,ee===null?ee=b0(l):(g=ee.cachePool,g!==null?(me=Ur._currentValue,g=g.parent!==me?{parent:me,pool:me}:g):g=ue(),ee={baseLanes:ee.baseLanes|l,cachePool:g}),h.memoizedState=ee,h.childLanes=v0(r,O,l),i.memoizedState=g0,bf(r.child,h)):(Hr(i),l=r.child,r=l.sibling,l=Ti(l,{mode:"visible",children:h.children}),l.return=i,l.sibling=null,r!==null&&(O=i.deletions,O===null?(i.deletions=[r],i.flags|=16):O.push(r)),i.child=l,i.memoizedState=null,l)}function y0(r,i){return i=Yd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Yd(r,i){return r=Rs(22,r,null,i),r.lanes=0,r}function x0(r,i,l){return dr(i,r.child,null,l),r=y0(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function wb(r,i,l){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),Ql(r.return,i,l)}function w0(r,i,l,h,g,w){var O=r.memoizedState;O===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g,treeForkCount:w}:(O.isBackwards=i,O.rendering=null,O.renderingStartTime=0,O.last=h,O.tail=l,O.tailMode=g,O.treeForkCount=w)}function _b(r,i,l){var h=i.pendingProps,g=h.revealOrder,w=h.tail;h=h.children;var O=Rn.current,ee=(O&2)!==0;if(ee?(O=O&1|2,i.flags|=128):O&=1,$(Rn,O),Qs(r,i,h,l),h=Tn?Zc:0,!ee&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&wb(r,l,i);else if(r.tag===19)wb(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(g){case"forwards":for(l=i.child,g=null;l!==null;)r=l.alternate,r!==null&&Vs(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),w0(i,!1,g,l,w,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&Vs(r)===null){i.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}w0(i,!0,l,null,w,h);break;case"together":w0(i,!1,null,null,void 0,h);break;default:i.memoizedState=null}return i.child}function dl(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),ic|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(Mo(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,l=Ti(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=Ti(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function _0(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Hu(r)))}function k4(r,i,l){switch(i.tag){case 3:fe(i,i.stateNode.containerInfo),Eo(i,Ur,r.memoizedState.cache),ll();break;case 27:case 5:we(i);break;case 4:fe(i,i.stateNode.containerInfo);break;case 10:Eo(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Yn(i),null;break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(Hr(i),i.flags|=128,null):(l&i.child.childLanes)!==0?xb(r,i,l):(Hr(i),r=dl(r,i,l),r!==null?r.sibling:null);Hr(i);break;case 19:var g=(r.flags&128)!==0;if(h=(l&i.childLanes)!==0,h||(Mo(r,i,l,!1),h=(l&i.childLanes)!==0),g){if(h)return _b(r,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),$(Rn,Rn.current),h)break;return null;case 22:return i.lanes=0,pb(r,i,l,i.pendingProps);case 24:Eo(i,Ur,r.memoizedState.cache)}return dl(r,i,l)}function Sb(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)ps=!0;else{if(!_0(r,l)&&(i.flags&128)===0)return ps=!1,k4(r,i,l);ps=(r.flags&131072)!==0}else ps=!1,Tn&&(i.flags&1048576)!==0&&Dd(i,Zc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var h=i.pendingProps;if(r=Me(i.elementType),i.type=r,typeof r=="function")Fu(r)?(h=tu(r,h),i.tag=1,i=vb(null,i,r,h,l)):(i.tag=0,i=m0(null,i,r,h,l));else{if(r!=null){var g=r.$$typeof;if(g===V){i.tag=11,i=hb(null,i,r,h,l);break e}else if(g===H){i.tag=14,i=fb(null,i,r,h,l);break e}}throw i=U(r)||r,Error(s(306,i,""))}}return i;case 0:return m0(r,i,i.type,i.pendingProps,l);case 1:return h=i.type,g=tu(h,i.pendingProps),vb(r,i,h,g,l);case 3:e:{if(fe(i,i.stateNode.containerInfo),r===null)throw Error(s(387));h=i.pendingProps;var w=i.memoizedState;g=w.element,_r(r,i),Yr(i,h,null,l);var O=i.memoizedState;if(h=O.cache,Eo(i,Ur,h),h!==w.cache&&cl(i,[Ur],l,!0),nr(),h=O.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:O.cache},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){i=yb(r,i,h,l);break e}else if(h!==g){g=Ci(Error(s(424)),i),Zl(g),i=yb(r,i,h,l);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(fr=Ta(r.firstChild),As=i,Tn=!0,Xs=null,Or=!0,l=hn(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ll(),h===g){i=dl(r,i,l);break e}Qs(r,i,h,l)}i=i.child}return i;case 26:return Gd(r,i),r===null?(l=D5(i.type,null,i.pendingProps,null))?i.memoizedState=l:Tn||(l=i.type,r=i.pendingProps,h=c1(ae.current).createElement(l),h[gn]=i,h[Ln]=r,Ks(h,l,r),Jt(h),i.stateNode=h):i.memoizedState=D5(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return we(i),r===null&&Tn&&(h=i.stateNode=M5(i.type,i.pendingProps,ae.current),As=i,Or=!0,g=fr,uc(i.type)?(tm=g,fr=Ta(h.firstChild)):fr=g),Qs(r,i,i.pendingProps.children,l),Gd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Tn&&((g=h=fr)&&(h=s_(h,i.type,i.pendingProps,Or),h!==null?(i.stateNode=h,As=i,fr=Ta(h.firstChild),Or=!1,g=!0):g=!1),g||ko(i)),we(i),g=i.type,w=i.pendingProps,O=r!==null?r.memoizedProps:null,h=w.children,Z0(g,w)?h=null:O!==null&&Z0(g,O)&&(i.flags|=32),i.memoizedState!==null&&(g=lf(r,i,r0,null,null,l),Lf._currentValue=g),Gd(r,i),Qs(r,i,h,l),i.child;case 6:return r===null&&Tn&&((r=l=fr)&&(l=i_(l,i.pendingProps,Or),l!==null?(i.stateNode=l,As=i,fr=null,r=!0):r=!1),r||ko(i)),null;case 13:return xb(r,i,l);case 4:return fe(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=dr(i,null,h,l):Qs(r,i,h,l),i.child;case 11:return hb(r,i,i.type,i.pendingProps,l);case 7:return Qs(r,i,i.pendingProps,l),i.child;case 8:return Qs(r,i,i.pendingProps.children,l),i.child;case 12:return Qs(r,i,i.pendingProps.children,l),i.child;case 10:return h=i.pendingProps,Eo(i,i.type,h.value),Qs(r,i,h.children,l),i.child;case 9:return g=i.type._context,h=i.pendingProps.children,Lo(i),g=Cs(g),h=h(g),i.flags|=1,Qs(r,i,h,l),i.child;case 14:return fb(r,i,i.type,i.pendingProps,l);case 15:return db(r,i,i.type,i.pendingProps,l);case 19:return _b(r,i,l);case 31:return C4(r,i,l);case 22:return pb(r,i,l,i.pendingProps);case 24:return Lo(i),h=Cs(Ur),r===null?(g=se(),g===null&&(g=pr,w=Kl(),g.pooledCache=w,w.refCount++,w!==null&&(g.pooledCacheLanes|=l),g=w),i.memoizedState={parent:h,cache:g},mt(i),Eo(i,Ur,g)):((r.lanes&l)!==0&&(_r(r,i),Yr(i,null,null,l),nr()),g=r.memoizedState,w=i.memoizedState,g.parent!==h?(g={parent:h,cache:h},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Eo(i,Ur,h)):(h=w.cache,Eo(i,Ur,h),h!==g.cache&&cl(i,[Ur],l,!0))),Qs(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function pl(r){r.flags|=4}function S0(r,i,l,h,g){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(g&335544128)===g)if(r.stateNode.complete)r.flags|=8192;else if(Zb())r.flags|=8192;else throw Pe=Se,Le}else r.flags&=-16777217}function Nb(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!B5(i))if(Zb())r.flags|=8192;else throw Pe=Se,Le}function $d(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?ft():536870912,r.lanes|=i,ih|=i)}function vf(r,i){if(!Tn)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ar(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(i)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=h,r.childLanes=l,i}function j4(r,i,l){var h=i.pendingProps;switch(qu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(i),null;case 1:return Ar(i),null;case 3:return l=i.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),Li(Ur),xe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Ts(i)?pl(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,af())),Ar(i),null;case 26:var g=i.type,w=i.memoizedState;return r===null?(pl(i),w!==null?(Ar(i),Nb(i,w)):(Ar(i),S0(i,g,null,h,l))):w?w!==r.memoizedState?(pl(i),Ar(i),Nb(i,w)):(Ar(i),i.flags&=-16777217):(r=r.memoizedProps,r!==h&&pl(i),Ar(i),S0(i,g,r,h,l)),null;case 27:if(Ie(i),l=ae.current,g=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==h&&pl(i);else{if(!h){if(i.stateNode===null)throw Error(s(166));return Ar(i),null}r=X.current,Ts(i)?sf(i):(r=M5(g,h,l),i.stateNode=r,pl(i))}return Ar(i),null;case 5:if(Ie(i),g=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==h&&pl(i);else{if(!h){if(i.stateNode===null)throw Error(s(166));return Ar(i),null}if(w=X.current,Ts(i))sf(i);else{var O=c1(ae.current);switch(w){case 1:w=O.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:w=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":w=O.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":w=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":w=O.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?O.createElement("select",{is:h.is}):O.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?O.createElement(g,{is:h.is}):O.createElement(g)}}w[gn]=i,w[Ln]=h;e:for(O=i.child;O!==null;){if(O.tag===5||O.tag===6)w.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===i)break e;for(;O.sibling===null;){if(O.return===null||O.return===i)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}i.stateNode=w;e:switch(Ks(w,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&pl(i)}}return Ar(i),S0(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,l),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==h&&pl(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(s(166));if(r=ae.current,Ts(i)){if(r=i.stateNode,l=i.memoizedProps,h=null,g=As,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}r[gn]=i,r=!!(r.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||x5(r.nodeValue,l)),r||ko(i,!0)}else r=c1(r).createTextNode(h),r[gn]=i,i.stateNode=r}return Ar(i),null;case 31:if(l=i.memoizedState,r===null||r.memoizedState!==null){if(h=Ts(i),l!==null){if(r===null){if(!h)throw Error(s(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[gn]=i}else ll(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ar(i),r=!1}else l=af(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return i.flags&256?(Zn(i),i):(Zn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Ar(i),null;case 13:if(h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Ts(i),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[gn]=i}else ll(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ar(i),g=!1}else g=af(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Zn(i),i):(Zn(i),null)}return Zn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=h!==null,r=r!==null&&r.memoizedState!==null,l&&(h=i.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==g&&(h.flags|=2048)),l!==r&&l&&(i.child.flags|=8192),$d(i,i.updateQueue),Ar(i),null);case 4:return xe(),r===null&&W0(i.stateNode.containerInfo),Ar(i),null;case 10:return Li(i.type),Ar(i),null;case 19:if(j(Rn),h=i.memoizedState,h===null)return Ar(i),null;if(g=(i.flags&128)!==0,w=h.rendering,w===null)if(g)vf(h,!1);else{if(Kr!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(w=Vs(r),w!==null){for(i.flags|=128,vf(h,!1),r=w.updateQueue,i.updateQueue=r,$d(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)$c(l,r),l=l.sibling;return $(Rn,Rn.current&1|2),Tn&&bi(i,h.treeForkCount),i.child}r=r.sibling}h.tail!==null&&ze()>Jd&&(i.flags|=128,g=!0,vf(h,!1),i.lanes=4194304)}else{if(!g)if(r=Vs(w),r!==null){if(i.flags|=128,g=!0,r=r.updateQueue,i.updateQueue=r,$d(i,r),vf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!Tn)return Ar(i),null}else 2*ze()-h.renderingStartTime>Jd&&l!==536870912&&(i.flags|=128,g=!0,vf(h,!1),i.lanes=4194304);h.isBackwards?(w.sibling=i.child,i.child=w):(r=h.last,r!==null?r.sibling=w:i.child=w,h.last=w)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=ze(),r.sibling=null,l=Rn.current,$(Rn,g?l&1|2:l&1),Tn&&bi(i,h.treeForkCount),r):(Ar(i),null);case 22:case 23:return Zn(i),ss(),h=i.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(l&536870912)!==0&&(i.flags&128)===0&&(Ar(i),i.subtreeFlags&6&&(i.flags|=8192)):Ar(i),l=i.updateQueue,l!==null&&$d(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==l&&(i.flags|=2048),r!==null&&j(Q),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Li(Ur),Ar(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function E4(r,i){switch(qu(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Li(Ur),xe(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Ie(i),null;case 31:if(i.memoizedState!==null){if(Zn(i),i.alternate===null)throw Error(s(340));ll()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(Zn(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ll()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return j(Rn),null;case 4:return xe(),null;case 10:return Li(i.type),null;case 22:case 23:return Zn(i),ss(),r!==null&&j(Q),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Li(Ur),null;case 25:return null;default:return null}}function Ab(r,i){switch(qu(i),i.tag){case 3:Li(Ur),xe();break;case 26:case 27:case 5:Ie(i);break;case 4:xe();break;case 31:i.memoizedState!==null&&Zn(i);break;case 13:Zn(i);break;case 19:j(Rn);break;case 10:Li(i.type);break;case 22:case 23:Zn(i),ss(),r!==null&&j(Q);break;case 24:Li(Ur)}}function yf(r,i){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&r)===r){h=void 0;var w=l.create,O=l.inst;h=w(),O.destroy=h}l=l.next}while(l!==g)}}catch(ee){Kn(i,i.return,ee)}}function rc(r,i,l){try{var h=i.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var w=g.next;h=w;do{if((h.tag&r)===r){var O=h.inst,ee=O.destroy;if(ee!==void 0){O.destroy=void 0,g=i;var me=l,De=ee;try{De()}catch(He){Kn(g,me,He)}}}h=h.next}while(h!==w)}}catch(He){Kn(i,i.return,He)}}function Tb(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{$r(i,l)}catch(h){Kn(r,r.return,h)}}}function Cb(r,i,l){l.props=tu(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(h){Kn(r,i,h)}}function xf(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof l=="function"?r.refCleanup=l(h):l.current=h}}catch(g){Kn(r,i,g)}}function Vo(r,i){var l=r.ref,h=r.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Kn(r,i,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Kn(r,i,g)}else l.current=null}function kb(r){var i=r.type,l=r.memoizedProps,h=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Kn(r,r.return,g)}}function N0(r,i,l){try{var h=r.stateNode;K4(h,r.type,l,i),h[Ln]=i}catch(g){Kn(r,r.return,g)}}function jb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&uc(r.type)||r.tag===4}function A0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||jb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&uc(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function T0(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Xi));else if(h!==4&&(h===27&&uc(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(T0(r,i,l),r=r.sibling;r!==null;)T0(r,i,l),r=r.sibling}function Xd(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(h!==4&&(h===27&&uc(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Xd(r,i,l),r=r.sibling;r!==null;)Xd(r,i,l),r=r.sibling}function Eb(r){var i=r.stateNode,l=r.memoizedProps;try{for(var h=r.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Ks(i,h,l),i[gn]=r,i[Ln]=l}catch(w){Kn(r,r.return,w)}}var ml=!1,ms=!1,C0=!1,Mb=typeof WeakSet=="function"?WeakSet:Set,Fs=null;function M4(r,i){if(r=r.containerInfo,$0=g1,r=Xa(r),wa(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var O=0,ee=-1,me=-1,De=0,He=0,Ze=r,Re=null;t:for(;;){for(var Be;Ze!==l||g!==0&&Ze.nodeType!==3||(ee=O+g),Ze!==w||h!==0&&Ze.nodeType!==3||(me=O+h),Ze.nodeType===3&&(O+=Ze.nodeValue.length),(Be=Ze.firstChild)!==null;)Re=Ze,Ze=Be;for(;;){if(Ze===r)break t;if(Re===l&&++De===g&&(ee=O),Re===w&&++He===h&&(me=O),(Be=Ze.nextSibling)!==null)break;Ze=Re,Re=Ze.parentNode}Ze=Be}l=ee===-1||me===-1?null:{start:ee,end:me}}else l=null}l=l||{start:0,end:0}}else l=null;for(X0={focusedElem:r,selectionRange:l},g1=!1,Fs=i;Fs!==null;)if(i=Fs,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Fs=r;else for(;Fs!==null;){switch(i=Fs,w=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)g=r[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,l=i,g=w.memoizedProps,w=w.memoizedState,h=l.stateNode;try{var Et=tu(l.type,g);r=h.getSnapshotBeforeUpdate(Et,w),h.__reactInternalSnapshotBeforeUpdate=r}catch(Xt){Kn(l,l.return,Xt)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)K0(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":K0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Fs=r;break}Fs=i.return}}function Lb(r,i,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:bl(r,l),h&4&&yf(5,l);break;case 1:if(bl(r,l),h&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(O){Kn(l,l.return,O)}else{var g=tu(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(g,i,r.__reactInternalSnapshotBeforeUpdate)}catch(O){Kn(l,l.return,O)}}h&64&&Tb(l),h&512&&xf(l,l.return);break;case 3:if(bl(r,l),h&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{$r(r,i)}catch(O){Kn(l,l.return,O)}}break;case 27:i===null&&h&4&&Eb(l);case 26:case 5:bl(r,l),i===null&&h&4&&kb(l),h&512&&xf(l,l.return);break;case 12:bl(r,l);break;case 31:bl(r,l),h&4&&Rb(r,l);break;case 13:bl(r,l),h&4&&Ib(r,l),h&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=z4.bind(null,l),a_(r,l))));break;case 22:if(h=l.memoizedState!==null||ml,!h){i=i!==null&&i.memoizedState!==null||ms,g=ml;var w=ms;ml=h,(ms=i)&&!w?vl(r,l,(l.subtreeFlags&8772)!==0):bl(r,l),ml=g,ms=w}break;case 30:break;default:bl(r,l)}}function Ob(r){var i=r.alternate;i!==null&&(r.alternate=null,Ob(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&gt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ir=null,Di=!1;function gl(r,i,l){for(l=l.child;l!==null;)Db(r,i,l),l=l.sibling}function Db(r,i,l){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Ht,l)}catch{}switch(l.tag){case 26:ms||Vo(l,i),gl(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ms||Vo(l,i);var h=Ir,g=Di;uc(l.type)&&(Ir=l.stateNode,Di=!1),gl(r,i,l),jf(l.stateNode),Ir=h,Di=g;break;case 5:ms||Vo(l,i);case 6:if(h=Ir,g=Di,Ir=null,gl(r,i,l),Ir=h,Di=g,Ir!==null)if(Di)try{(Ir.nodeType===9?Ir.body:Ir.nodeName==="HTML"?Ir.ownerDocument.body:Ir).removeChild(l.stateNode)}catch(w){Kn(l,i,w)}else try{Ir.removeChild(l.stateNode)}catch(w){Kn(l,i,w)}break;case 18:Ir!==null&&(Di?(r=Ir,T5(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),dh(r)):T5(Ir,l.stateNode));break;case 4:h=Ir,g=Di,Ir=l.stateNode.containerInfo,Di=!0,gl(r,i,l),Ir=h,Di=g;break;case 0:case 11:case 14:case 15:rc(2,l,i),ms||rc(4,l,i),gl(r,i,l);break;case 1:ms||(Vo(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Cb(l,i,h)),gl(r,i,l);break;case 21:gl(r,i,l);break;case 22:ms=(h=ms)||l.memoizedState!==null,gl(r,i,l),ms=h;break;default:gl(r,i,l)}}function Rb(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{dh(r)}catch(l){Kn(i,i.return,l)}}}function Ib(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{dh(r)}catch(l){Kn(i,i.return,l)}}function L4(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Mb),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Mb),i;default:throw Error(s(435,r.tag))}}function Zd(r,i){var l=L4(r);i.forEach(function(h){if(!l.has(h)){l.add(h);var g=P4.bind(null,r,h);h.then(g,g)}})}function Ri(r,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],w=r,O=i,ee=O;e:for(;ee!==null;){switch(ee.tag){case 27:if(uc(ee.type)){Ir=ee.stateNode,Di=!1;break e}break;case 5:Ir=ee.stateNode,Di=!1;break e;case 3:case 4:Ir=ee.stateNode.containerInfo,Di=!0;break e}ee=ee.return}if(Ir===null)throw Error(s(160));Db(w,O,g),Ir=null,Di=!1,w=g.alternate,w!==null&&(w.return=null),g.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Vb(i,r),i=i.sibling}var ro=null;function Vb(r,i){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ri(i,r),Ii(r),h&4&&(rc(3,r,r.return),yf(3,r),rc(5,r,r.return));break;case 1:Ri(i,r),Ii(r),h&512&&(ms||l===null||Vo(l,l.return)),h&64&&ml&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=ro;if(Ri(i,r),Ii(r),h&512&&(ms||l===null||Vo(l,l.return)),h&4){var w=l!==null?l.memoizedState:null;if(h=r.memoizedState,l===null)if(h===null)if(r.stateNode===null){e:{h=r.type,l=r.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":w=g.getElementsByTagName("title")[0],(!w||w[Fe]||w[gn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=g.createElement(h),g.head.insertBefore(w,g.querySelector("head > title"))),Ks(w,h,l),w[gn]=r,Jt(w),h=w;break e;case"link":var O=V5("link","href",g).get(h+(l.href||""));if(O){for(var ee=0;ee<O.length;ee++)if(w=O[ee],w.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&w.getAttribute("rel")===(l.rel==null?null:l.rel)&&w.getAttribute("title")===(l.title==null?null:l.title)&&w.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){O.splice(ee,1);break t}}w=g.createElement(h),Ks(w,h,l),g.head.appendChild(w);break;case"meta":if(O=V5("meta","content",g).get(h+(l.content||""))){for(ee=0;ee<O.length;ee++)if(w=O[ee],w.getAttribute("content")===(l.content==null?null:""+l.content)&&w.getAttribute("name")===(l.name==null?null:l.name)&&w.getAttribute("property")===(l.property==null?null:l.property)&&w.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&w.getAttribute("charset")===(l.charSet==null?null:l.charSet)){O.splice(ee,1);break t}}w=g.createElement(h),Ks(w,h,l),g.head.appendChild(w);break;default:throw Error(s(468,h))}w[gn]=r,Jt(w),h=w}r.stateNode=h}else F5(g,r.type,r.stateNode);else r.stateNode=I5(g,h,r.memoizedProps);else w!==h?(w===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):w.count--,h===null?F5(g,r.type,r.stateNode):I5(g,h,r.memoizedProps)):h===null&&r.stateNode!==null&&N0(r,r.memoizedProps,l.memoizedProps)}break;case 27:Ri(i,r),Ii(r),h&512&&(ms||l===null||Vo(l,l.return)),l!==null&&h&4&&N0(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Ri(i,r),Ii(r),h&512&&(ms||l===null||Vo(l,l.return)),r.flags&32){g=r.stateNode;try{$i(g,"")}catch(Et){Kn(r,r.return,Et)}}h&4&&r.stateNode!=null&&(g=r.memoizedProps,N0(r,g,l!==null?l.memoizedProps:g)),h&1024&&(C0=!0);break;case 6:if(Ri(i,r),Ii(r),h&4){if(r.stateNode===null)throw Error(s(162));h=r.memoizedProps,l=r.stateNode;try{l.nodeValue=h}catch(Et){Kn(r,r.return,Et)}}break;case 3:if(f1=null,g=ro,ro=u1(i.containerInfo),Ri(i,r),ro=g,Ii(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{dh(i.containerInfo)}catch(Et){Kn(r,r.return,Et)}C0&&(C0=!1,Fb(r));break;case 4:h=ro,ro=u1(r.stateNode.containerInfo),Ri(i,r),Ii(r),ro=h;break;case 12:Ri(i,r),Ii(r);break;case 31:Ri(i,r),Ii(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Zd(r,h)));break;case 13:Ri(i,r),Ii(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Kd=ze()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Zd(r,h)));break;case 22:g=r.memoizedState!==null;var me=l!==null&&l.memoizedState!==null,De=ml,He=ms;if(ml=De||g,ms=He||me,Ri(i,r),ms=He,ml=De,Ii(r),h&8192)e:for(i=r.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||me||ml||ms||nu(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){me=l=i;try{if(w=me.stateNode,g)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{ee=me.stateNode;var Ze=me.memoizedProps.style,Re=Ze!=null&&Ze.hasOwnProperty("display")?Ze.display:null;ee.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(Et){Kn(me,me.return,Et)}}}else if(i.tag===6){if(l===null){me=i;try{me.stateNode.nodeValue=g?"":me.memoizedProps}catch(Et){Kn(me,me.return,Et)}}}else if(i.tag===18){if(l===null){me=i;try{var Be=me.stateNode;g?C5(Be,!0):C5(me.stateNode,!1)}catch(Et){Kn(me,me.return,Et)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=r.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Zd(r,l))));break;case 19:Ri(i,r),Ii(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Zd(r,h)));break;case 30:break;case 21:break;default:Ri(i,r),Ii(r)}}function Ii(r){var i=r.flags;if(i&2){try{for(var l,h=r.return;h!==null;){if(jb(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,w=A0(r);Xd(r,w,g);break;case 5:var O=l.stateNode;l.flags&32&&($i(O,""),l.flags&=-33);var ee=A0(r);Xd(r,ee,O);break;case 3:case 4:var me=l.stateNode.containerInfo,De=A0(r);T0(r,De,me);break;default:throw Error(s(161))}}catch(He){Kn(r,r.return,He)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Fb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Fb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function bl(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Lb(r,i.alternate,i),i=i.sibling}function nu(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:rc(4,i,i.return),nu(i);break;case 1:Vo(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Cb(i,i.return,l),nu(i);break;case 27:jf(i.stateNode);case 26:case 5:Vo(i,i.return),nu(i);break;case 22:i.memoizedState===null&&nu(i);break;case 30:nu(i);break;default:nu(i)}r=r.sibling}}function vl(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,g=r,w=i,O=w.flags;switch(w.tag){case 0:case 11:case 15:vl(g,w,l),yf(4,w);break;case 1:if(vl(g,w,l),h=w,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(De){Kn(h,h.return,De)}if(h=w,g=h.updateQueue,g!==null){var ee=h.stateNode;try{var me=g.shared.hiddenCallbacks;if(me!==null)for(g.shared.hiddenCallbacks=null,g=0;g<me.length;g++)Is(me[g],ee)}catch(De){Kn(h,h.return,De)}}l&&O&64&&Tb(w),xf(w,w.return);break;case 27:Eb(w);case 26:case 5:vl(g,w,l),l&&h===null&&O&4&&kb(w),xf(w,w.return);break;case 12:vl(g,w,l);break;case 31:vl(g,w,l),l&&O&4&&Rb(g,w);break;case 13:vl(g,w,l),l&&O&4&&Ib(g,w);break;case 22:w.memoizedState===null&&vl(g,w,l),xf(w,w.return);break;case 30:break;default:vl(g,w,l)}i=i.sibling}}function k0(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Qc(l))}function j0(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Qc(r))}function so(r,i,l,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bb(r,i,l,h),i=i.sibling}function Bb(r,i,l,h){var g=i.flags;switch(i.tag){case 0:case 11:case 15:so(r,i,l,h),g&2048&&yf(9,i);break;case 1:so(r,i,l,h);break;case 3:so(r,i,l,h),g&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Qc(r)));break;case 12:if(g&2048){so(r,i,l,h),r=i.stateNode;try{var w=i.memoizedProps,O=w.id,ee=w.onPostCommit;typeof ee=="function"&&ee(O,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(me){Kn(i,i.return,me)}}else so(r,i,l,h);break;case 31:so(r,i,l,h);break;case 13:so(r,i,l,h);break;case 23:break;case 22:w=i.stateNode,O=i.alternate,i.memoizedState!==null?w._visibility&2?so(r,i,l,h):wf(r,i):w._visibility&2?so(r,i,l,h):(w._visibility|=2,nh(r,i,l,h,(i.subtreeFlags&10256)!==0||!1)),g&2048&&k0(O,i);break;case 24:so(r,i,l,h),g&2048&&j0(i.alternate,i);break;default:so(r,i,l,h)}}function nh(r,i,l,h,g){for(g=g&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var w=r,O=i,ee=l,me=h,De=O.flags;switch(O.tag){case 0:case 11:case 15:nh(w,O,ee,me,g),yf(8,O);break;case 23:break;case 22:var He=O.stateNode;O.memoizedState!==null?He._visibility&2?nh(w,O,ee,me,g):wf(w,O):(He._visibility|=2,nh(w,O,ee,me,g)),g&&De&2048&&k0(O.alternate,O);break;case 24:nh(w,O,ee,me,g),g&&De&2048&&j0(O.alternate,O);break;default:nh(w,O,ee,me,g)}i=i.sibling}}function wf(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,h=i,g=h.flags;switch(h.tag){case 22:wf(l,h),g&2048&&k0(h.alternate,h);break;case 24:wf(l,h),g&2048&&j0(h.alternate,h);break;default:wf(l,h)}i=i.sibling}}var _f=8192;function rh(r,i,l){if(r.subtreeFlags&_f)for(r=r.child;r!==null;)zb(r,i,l),r=r.sibling}function zb(r,i,l){switch(r.tag){case 26:rh(r,i,l),r.flags&_f&&r.memoizedState!==null&&v_(l,ro,r.memoizedState,r.memoizedProps);break;case 5:rh(r,i,l);break;case 3:case 4:var h=ro;ro=u1(r.stateNode.containerInfo),rh(r,i,l),ro=h;break;case 22:r.memoizedState===null&&(h=r.alternate,h!==null&&h.memoizedState!==null?(h=_f,_f=16777216,rh(r,i,l),_f=h):rh(r,i,l));break;default:rh(r,i,l)}}function Pb(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Sf(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];Fs=h,Ub(h,r)}Pb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)qb(r),r=r.sibling}function qb(r){switch(r.tag){case 0:case 11:case 15:Sf(r),r.flags&2048&&rc(9,r,r.return);break;case 3:Sf(r);break;case 12:Sf(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Qd(r)):Sf(r);break;default:Sf(r)}}function Qd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];Fs=h,Ub(h,r)}Pb(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:rc(8,i,i.return),Qd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Qd(i));break;default:Qd(i)}r=r.sibling}}function Ub(r,i){for(;Fs!==null;){var l=Fs;switch(l.tag){case 0:case 11:case 15:rc(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Qc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Fs=h;else e:for(l=r;Fs!==null;){h=Fs;var g=h.sibling,w=h.return;if(Ob(h),h===l){Fs=null;break e}if(g!==null){g.return=w,Fs=g;break e}Fs=w}}}var O4={getCacheForType:function(r){var i=Cs(Ur),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l},cacheSignal:function(){return Cs(Ur).controller.signal}},D4=typeof WeakMap=="function"?WeakMap:Map,$n=0,pr=null,Cn=null,jn=0,Qn=0,na=null,sc=!1,sh=!1,E0=!1,yl=0,Kr=0,ic=0,ru=0,M0=0,ra=0,ih=0,Nf=null,Vi=null,L0=!1,Kd=0,Hb=0,Jd=1/0,e1=null,ac=null,js=0,oc=null,ah=null,xl=0,O0=0,D0=null,Wb=null,Af=0,R0=null;function sa(){return($n&2)!==0&&jn!==0?jn&-jn:Y.T!==null?P0():pn()}function Gb(){if(ra===0)if((jn&536870912)===0||Tn){var r=xn;xn<<=1,(xn&3932160)===0&&(xn=262144),ra=r}else ra=536870912;return r=Nr.current,r!==null&&(r.flags|=32),ra}function Fi(r,i,l){(r===pr&&(Qn===2||Qn===9)||r.cancelPendingCommit!==null)&&(oh(r,0),lc(r,jn,ra,!1)),nt(r,l),(($n&2)===0||r!==pr)&&(r===pr&&(($n&2)===0&&(ru|=l),Kr===4&&lc(r,jn,ra,!1)),Fo(r))}function Yb(r,i,l){if(($n&6)!==0)throw Error(s(327));var h=!l&&(i&127)===0&&(i&r.expiredLanes)===0||Vt(r,i),g=h?V4(r,i):V0(r,i,!0),w=h;do{if(g===0){sh&&!h&&lc(r,i,0,!1);break}else{if(l=r.current.alternate,w&&!R4(l)){g=V0(r,i,!1),w=!1;continue}if(g===2){if(w=i,r.errorRecoveryDisabledLanes&w)var O=0;else O=r.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){i=O;e:{var ee=r;g=Nf;var me=ee.current.memoizedState.isDehydrated;if(me&&(oh(ee,O).flags|=256),O=V0(ee,O,!1),O!==2){if(E0&&!me){ee.errorRecoveryDisabledLanes|=w,ru|=w,g=4;break e}w=Vi,Vi=g,w!==null&&(Vi===null?Vi=w:Vi.push.apply(Vi,w))}g=O}if(w=!1,g!==2)continue}}if(g===1){oh(r,0),lc(r,i,0,!0);break}e:{switch(h=r,w=g,w){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:lc(h,i,ra,!sc);break e;case 2:Vi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=Kd+300-ze(),10<g)){if(lc(h,i,ra,!sc),it(h,0,!0)!==0)break e;xl=i,h.timeoutHandle=N5($b.bind(null,h,l,Vi,e1,L0,i,ra,ru,ih,sc,w,"Throttled",-0,0),g);break e}$b(h,l,Vi,e1,L0,i,ra,ru,ih,sc,w,null,-0,0)}}break}while(!0);Fo(r)}function $b(r,i,l,h,g,w,O,ee,me,De,He,Ze,Re,Be){if(r.timeoutHandle=-1,Ze=i.subtreeFlags,Ze&8192||(Ze&16785408)===16785408){Ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xi},zb(i,w,Ze);var Et=(w&62914560)===w?Kd-ze():(w&4194048)===w?Hb-ze():0;if(Et=y_(Ze,Et),Et!==null){xl=w,r.cancelPendingCommit=Et(n5.bind(null,r,i,w,l,h,g,O,ee,me,He,Ze,null,Re,Be)),lc(r,w,O,!De);return}}n5(r,i,w,l,h,g,O,ee,me)}function R4(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],w=g.getSnapshot;g=g.value;try{if(!Ss(w(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function lc(r,i,l,h){i&=~M0,i&=~ru,r.suspendedLanes|=i,r.pingedLanes&=~i,h&&(r.warmLanes|=i),h=r.expirationTimes;for(var g=i;0<g;){var w=31-At(g),O=1<<w;h[w]=-1,g&=~O}l!==0&&ln(r,l,i)}function t1(){return($n&6)===0?(Tf(0),!1):!0}function I0(){if(Cn!==null){if(Qn===0)var r=Cn.return;else r=Cn,Sa=jo=null,Xu(r),Qe=null,Lt=0,r=Cn;for(;r!==null;)Ab(r.alternate,r),r=r.return;Cn=null}}function oh(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,t_(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),xl=0,I0(),pr=r,Cn=l=Ti(r.current,null),jn=i,Qn=0,na=null,sc=!1,sh=Vt(r,i),E0=!1,ih=ra=M0=ru=ic=Kr=0,Vi=Nf=null,L0=!1,(i&8)!==0&&(i|=i&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=i;0<h;){var g=31-At(h),w=1<<g;i|=r[g],h&=~w}return yl=i,Wc(),l}function Xb(r,i){Bt=null,Y.H=gf,i===ve||i===ce?(i=Ye(),Qn=3):i===Le?(i=Ye(),Qn=4):Qn=i===p0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,na=i,Cn===null&&(Kr=1,Hd(r,Ci(i,r.current)))}function Zb(){var r=Nr.current;return r===null?!0:(jn&4194048)===jn?Bn===null:(jn&62914560)===jn||(jn&536870912)!==0?r===Bn:!1}function Qb(){var r=Y.H;return Y.H=gf,r===null?gf:r}function Kb(){var r=Y.A;return Y.A=O4,r}function n1(){Kr=4,sc||(jn&4194048)!==jn&&Nr.current!==null||(sh=!0),(ic&134217727)===0&&(ru&134217727)===0||pr===null||lc(pr,jn,ra,!1)}function V0(r,i,l){var h=$n;$n|=2;var g=Qb(),w=Kb();(pr!==r||jn!==i)&&(e1=null,oh(r,i)),i=!1;var O=Kr;e:do try{if(Qn!==0&&Cn!==null){var ee=Cn,me=na;switch(Qn){case 8:I0(),O=6;break e;case 3:case 2:case 9:case 6:Nr.current===null&&(i=!0);var De=Qn;if(Qn=0,na=null,lh(r,ee,me,De),l&&sh){O=0;break e}break;default:De=Qn,Qn=0,na=null,lh(r,ee,me,De)}}I4(),O=Kr;break}catch(He){Xb(r,He)}while(!0);return i&&r.shellSuspendCounter++,Sa=jo=null,$n=h,Y.H=g,Y.A=w,Cn===null&&(pr=null,jn=0,Wc()),O}function I4(){for(;Cn!==null;)Jb(Cn)}function V4(r,i){var l=$n;$n|=2;var h=Qb(),g=Kb();pr!==r||jn!==i?(e1=null,Jd=ze()+500,oh(r,i)):sh=Vt(r,i);e:do try{if(Qn!==0&&Cn!==null){i=Cn;var w=na;t:switch(Qn){case 1:Qn=0,na=null,lh(r,i,w,1);break;case 2:case 9:if(je(w)){Qn=0,na=null,e5(i);break}i=function(){Qn!==2&&Qn!==9||pr!==r||(Qn=7),Fo(r)},w.then(i,i);break e;case 3:Qn=7;break e;case 4:Qn=5;break e;case 7:je(w)?(Qn=0,na=null,e5(i)):(Qn=0,na=null,lh(r,i,w,7));break;case 5:var O=null;switch(Cn.tag){case 26:O=Cn.memoizedState;case 5:case 27:var ee=Cn;if(O?B5(O):ee.stateNode.complete){Qn=0,na=null;var me=ee.sibling;if(me!==null)Cn=me;else{var De=ee.return;De!==null?(Cn=De,r1(De)):Cn=null}break t}}Qn=0,na=null,lh(r,i,w,5);break;case 6:Qn=0,na=null,lh(r,i,w,6);break;case 8:I0(),Kr=6;break e;default:throw Error(s(462))}}F4();break}catch(He){Xb(r,He)}while(!0);return Sa=jo=null,Y.H=h,Y.A=g,$n=l,Cn!==null?0:(pr=null,jn=0,Wc(),Kr)}function F4(){for(;Cn!==null&&!lt();)Jb(Cn)}function Jb(r){var i=Sb(r.alternate,r,yl);r.memoizedProps=r.pendingProps,i===null?r1(r):Cn=i}function e5(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=bb(l,i,i.pendingProps,i.type,void 0,jn);break;case 11:i=bb(l,i,i.pendingProps,i.type.render,i.ref,jn);break;case 5:Xu(i);default:Ab(l,i),i=Cn=$c(i,yl),i=Sb(l,i,yl)}r.memoizedProps=r.pendingProps,i===null?r1(r):Cn=i}function lh(r,i,l,h){Sa=jo=null,Xu(i),Qe=null,Lt=0;var g=i.return;try{if(T4(r,g,i,l,jn)){Kr=1,Hd(r,Ci(l,r.current)),Cn=null;return}}catch(w){if(g!==null)throw Cn=g,w;Kr=1,Hd(r,Ci(l,r.current)),Cn=null;return}i.flags&32768?(Tn||h===1?r=!0:sh||(jn&536870912)!==0?r=!1:(sc=r=!0,(h===2||h===9||h===3||h===6)&&(h=Nr.current,h!==null&&h.tag===13&&(h.flags|=16384))),t5(i,r)):r1(i)}function r1(r){var i=r;do{if((i.flags&32768)!==0){t5(i,sc);return}r=i.return;var l=j4(i.alternate,i,yl);if(l!==null){Cn=l;return}if(i=i.sibling,i!==null){Cn=i;return}Cn=i=r}while(i!==null);Kr===0&&(Kr=5)}function t5(r,i){do{var l=E4(r.alternate,r);if(l!==null){l.flags&=32767,Cn=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){Cn=r;return}Cn=r=l}while(r!==null);Kr=6,Cn=null}function n5(r,i,l,h,g,w,O,ee,me){r.cancelPendingCommit=null;do s1();while(js!==0);if(($n&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(w=i.lanes|i.childLanes,w|=Ru,Nt(r,l,w,O,ee,me),r===pr&&(Cn=pr=null,jn=0),ah=i,oc=r,xl=l,O0=w,D0=g,Wb=h,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,q4(xt,function(){return o5(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null,g=J.p,J.p=2,O=$n,$n|=4;try{M4(r,i,l)}finally{$n=O,J.p=g,Y.T=h}}js=1,r5(),s5(),i5()}}function r5(){if(js===1){js=0;var r=oc,i=ah,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var h=J.p;J.p=2;var g=$n;$n|=4;try{Vb(i,r);var w=X0,O=Xa(r.containerInfo),ee=w.focusedElem,me=w.selectionRange;if(O!==ee&&ee&&ee.ownerDocument&&$a(ee.ownerDocument.documentElement,ee)){if(me!==null&&wa(ee)){var De=me.start,He=me.end;if(He===void 0&&(He=De),"selectionStart"in ee)ee.selectionStart=De,ee.selectionEnd=Math.min(He,ee.value.length);else{var Ze=ee.ownerDocument||document,Re=Ze&&Ze.defaultView||window;if(Re.getSelection){var Be=Re.getSelection(),Et=ee.textContent.length,Xt=Math.min(me.start,Et),ir=me.end===void 0?Xt:Math.min(me.end,Et);!Be.extend&&Xt>ir&&(O=ir,ir=Xt,Xt=O);var Ce=Gl(ee,Xt),ye=Gl(ee,ir);if(Ce&&ye&&(Be.rangeCount!==1||Be.anchorNode!==Ce.node||Be.anchorOffset!==Ce.offset||Be.focusNode!==ye.node||Be.focusOffset!==ye.offset)){var Oe=Ze.createRange();Oe.setStart(Ce.node,Ce.offset),Be.removeAllRanges(),Xt>ir?(Be.addRange(Oe),Be.extend(ye.node,ye.offset)):(Oe.setEnd(ye.node,ye.offset),Be.addRange(Oe))}}}}for(Ze=[],Be=ee;Be=Be.parentNode;)Be.nodeType===1&&Ze.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<Ze.length;ee++){var Xe=Ze[ee];Xe.element.scrollLeft=Xe.left,Xe.element.scrollTop=Xe.top}}g1=!!$0,X0=$0=null}finally{$n=g,J.p=h,Y.T=l}}r.current=i,js=2}}function s5(){if(js===2){js=0;var r=oc,i=ah,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var h=J.p;J.p=2;var g=$n;$n|=4;try{Lb(r,i.alternate,i)}finally{$n=g,J.p=h,Y.T=l}}js=3}}function i5(){if(js===4||js===3){js=0,at();var r=oc,i=ah,l=xl,h=Wb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?js=5:(js=0,ah=oc=null,a5(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(ac=null),nn(l),i=i.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Ht,i,void 0,(i.current.flags&128)===128)}catch{}if(h!==null){i=Y.T,g=J.p,J.p=2,Y.T=null;try{for(var w=r.onRecoverableError,O=0;O<h.length;O++){var ee=h[O];w(ee.value,{componentStack:ee.stack})}}finally{Y.T=i,J.p=g}}(xl&3)!==0&&s1(),Fo(r),g=r.pendingLanes,(l&261930)!==0&&(g&42)!==0?r===R0?Af++:(Af=0,R0=r):Af=0,Tf(0)}}function a5(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Qc(i)))}function s1(){return r5(),s5(),i5(),o5()}function o5(){if(js!==5)return!1;var r=oc,i=O0;O0=0;var l=nn(xl),h=Y.T,g=J.p;try{J.p=32>l?32:l,Y.T=null,l=D0,D0=null;var w=oc,O=xl;if(js=0,ah=oc=null,xl=0,($n&6)!==0)throw Error(s(331));var ee=$n;if($n|=4,qb(w.current),Bb(w,w.current,O,l),$n=ee,Tf(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Ht,w)}catch{}return!0}finally{J.p=g,Y.T=h,a5(r,i)}}function l5(r,i,l){i=Ci(l,i),i=d0(r.stateNode,i,2),r=mn(r,i,2),r!==null&&(nt(r,2),Fo(r))}function Kn(r,i,l){if(r.tag===3)l5(r,r,l);else for(;i!==null;){if(i.tag===3){l5(i,r,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ac===null||!ac.has(h))){r=Ci(l,r),l=cb(2),h=mn(i,l,2),h!==null&&(ub(l,h,i,r),nt(h,2),Fo(h));break}}i=i.return}}function F0(r,i,l){var h=r.pingCache;if(h===null){h=r.pingCache=new D4;var g=new Set;h.set(i,g)}else g=h.get(i),g===void 0&&(g=new Set,h.set(i,g));g.has(l)||(E0=!0,g.add(l),r=B4.bind(null,r,i,l),i.then(r,r))}function B4(r,i,l){var h=r.pingCache;h!==null&&h.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,pr===r&&(jn&l)===l&&(Kr===4||Kr===3&&(jn&62914560)===jn&&300>ze()-Kd?($n&2)===0&&oh(r,0):M0|=l,ih===jn&&(ih=0)),Fo(r)}function c5(r,i){i===0&&(i=ft()),r=Qa(r,i),r!==null&&(nt(r,i),Fo(r))}function z4(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),c5(r,l)}function P4(r,i){var l=0;switch(r.tag){case 31:case 13:var h=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(i),c5(r,l)}function q4(r,i){return Ke(r,i)}var i1=null,ch=null,B0=!1,a1=!1,z0=!1,cc=0;function Fo(r){r!==ch&&r.next===null&&(ch===null?i1=ch=r:ch=ch.next=r),a1=!0,B0||(B0=!0,H4())}function Tf(r,i){if(!z0&&a1){z0=!0;do for(var l=!1,h=i1;h!==null;){if(r!==0){var g=h.pendingLanes;if(g===0)var w=0;else{var O=h.suspendedLanes,ee=h.pingedLanes;w=(1<<31-At(42|r)+1)-1,w&=g&~(O&~ee),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(l=!0,d5(h,w))}else w=jn,w=it(h,h===pr?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||Vt(h,w)||(l=!0,d5(h,w));h=h.next}while(l);z0=!1}}function U4(){u5()}function u5(){a1=B0=!1;var r=0;cc!==0&&e_()&&(r=cc);for(var i=ze(),l=null,h=i1;h!==null;){var g=h.next,w=h5(h,i);w===0?(h.next=null,l===null?i1=g:l.next=g,g===null&&(ch=l)):(l=h,(r!==0||(w&3)!==0)&&(a1=!0)),h=g}js!==0&&js!==5||Tf(r),cc!==0&&(cc=0)}function h5(r,i){for(var l=r.suspendedLanes,h=r.pingedLanes,g=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var O=31-At(w),ee=1<<O,me=g[O];me===-1?((ee&l)===0||(ee&h)!==0)&&(g[O]=Ae(ee,i)):me<=i&&(r.expiredLanes|=ee),w&=~ee}if(i=pr,l=jn,l=it(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,l===0||r===i&&(Qn===2||Qn===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&We(h),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Vt(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(h!==null&&We(h),nn(l)){case 2:case 8:l=ut;break;case 32:l=xt;break;case 268435456:l=yt;break;default:l=xt}return h=f5.bind(null,r),l=Ke(l,h),r.callbackPriority=i,r.callbackNode=l,i}return h!==null&&h!==null&&We(h),r.callbackPriority=2,r.callbackNode=null,2}function f5(r,i){if(js!==0&&js!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(s1()&&r.callbackNode!==l)return null;var h=jn;return h=it(r,r===pr?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(Yb(r,h,i),h5(r,ze()),r.callbackNode!=null&&r.callbackNode===l?f5.bind(null,r):null)}function d5(r,i){if(s1())return null;Yb(r,i,!0)}function H4(){n_(function(){($n&6)!==0?Ke(et,U4):u5()})}function P0(){if(cc===0){var r=m;r===0&&(r=Dt,Dt<<=1,(Dt&261888)===0&&(Dt=256)),cc=r}return cc}function p5(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ti(""+r)}function m5(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function W4(r,i,l,h,g){if(i==="submit"&&l&&l.stateNode===g){var w=p5((g[Ln]||null).action),O=h.submitter;O&&(i=(i=O[Ln]||null)?p5(i.formAction):O.getAttribute("formAction"),i!==null&&(w=i,O=null));var ee=new Si("action","action",null,h,g);r.push({event:ee,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(cc!==0){var me=O?m5(g,O):new FormData(g);o0(l,{pending:!0,data:me,method:g.method,action:w},null,me)}}else typeof w=="function"&&(ee.preventDefault(),me=O?m5(g,O):new FormData(g),o0(l,{pending:!0,data:me,method:g.method,action:w},w,me))},currentTarget:g}]})}}for(var q0=0;q0<il.length;q0++){var U0=il[q0],G4=U0.toLowerCase(),Y4=U0[0].toUpperCase()+U0.slice(1);Ai(G4,"on"+Y4)}Ai(sl,"onAnimationEnd"),Ai(Uc,"onAnimationIteration"),Ai(ef,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(Md,"onTransitionRun"),Ai(Ld,"onTransitionStart"),Ai(Od,"onTransitionCancel"),Ai(tf,"onTransitionEnd"),hr("onMouseEnter",["mouseout","mouseover"]),hr("onMouseLeave",["mouseout","mouseover"]),hr("onPointerEnter",["pointerout","pointerover"]),hr("onPointerLeave",["pointerout","pointerover"]),ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cf));function g5(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],g=h.event;h=h.listeners;e:{var w=void 0;if(i)for(var O=h.length-1;0<=O;O--){var ee=h[O],me=ee.instance,De=ee.currentTarget;if(ee=ee.listener,me!==w&&g.isPropagationStopped())break e;w=ee,g.currentTarget=De;try{w(g)}catch(He){Hc(He)}g.currentTarget=null,w=me}else for(O=0;O<h.length;O++){if(ee=h[O],me=ee.instance,De=ee.currentTarget,ee=ee.listener,me!==w&&g.isPropagationStopped())break e;w=ee,g.currentTarget=De;try{w(g)}catch(He){Hc(He)}g.currentTarget=null,w=me}}}}function kn(r,i){var l=i[br];l===void 0&&(l=i[br]=new Set);var h=r+"__bubble";l.has(h)||(b5(i,r,2,!1),l.add(h))}function H0(r,i,l){var h=0;i&&(h|=4),b5(l,r,h,i)}var o1="_reactListening"+Math.random().toString(36).slice(2);function W0(r){if(!r[o1]){r[o1]=!0,Vn.forEach(function(l){l!=="selectionchange"&&($4.has(l)||H0(l,!1,r),H0(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[o1]||(i[o1]=!0,H0("selectionchange",!1,i))}}function b5(r,i,l,h){switch(G5(i)){case 2:var g=__;break;case 8:g=S_;break;default:g=am}l=g.bind(null,i,l,r),g=void 0,!Fc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),h?g!==void 0?r.addEventListener(i,l,{capture:!0,passive:g}):r.addEventListener(i,l,!0):g!==void 0?r.addEventListener(i,l,{passive:g}):r.addEventListener(i,l,!1)}function G0(r,i,l,h,g){var w=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var ee=h.stateNode.containerInfo;if(ee===g)break;if(O===4)for(O=h.return;O!==null;){var me=O.tag;if((me===3||me===4)&&O.stateNode.containerInfo===g)return;O=O.return}for(;ee!==null;){if(O=Gt(ee),O===null)return;if(me=O.tag,me===5||me===6||me===26||me===27){h=w=O;continue e}ee=ee.parentNode}}h=h.return}Eu(function(){var De=w,He=Qo(l),Ze=[];e:{var Re=nf.get(r);if(Re!==void 0){var Be=Si,Et=r;switch(r){case"keypress":if(_i(l)===0)break e;case"keydown":case"keyup":Be=On;break;case"focusin":Et="focus",Be=za;break;case"focusout":Et="blur",Be=za;break;case"beforeblur":case"afterblur":Be=za;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=Ba;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=ns;break;case sl:case Uc:case ef:Be=S;break;case tf:Be=_s;break;case"scroll":case"scrollend":Be=Bl;break;case"wheel":Be=Zi;break;case"copy":case"cut":case"paste":Be=he;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=zr;break;case"toggle":case"beforetoggle":Be=zc}var Xt=(i&4)!==0,ir=!Xt&&(r==="scroll"||r==="scrollend"),Ce=Xt?Re!==null?Re+"Capture":null:Re;Xt=[];for(var ye=De,Oe;ye!==null;){var Xe=ye;if(Oe=Xe.stateNode,Xe=Xe.tag,Xe!==5&&Xe!==26&&Xe!==27||Oe===null||Ce===null||(Xe=fi(ye,Ce),Xe!=null&&Xt.push(kf(ye,Xe,Oe))),ir)break;ye=ye.return}0<Xt.length&&(Re=new Be(Re,Et,null,l,He),Ze.push({event:Re,listeners:Xt}))}}if((i&7)===0){e:{if(Re=r==="mouseover"||r==="pointerover",Be=r==="mouseout"||r==="pointerout",Re&&l!==Da&&(Et=l.relatedTarget||l.fromElement)&&(Gt(Et)||Et[xr]))break e;if((Be||Re)&&(Re=He.window===He?He:(Re=He.ownerDocument)?Re.defaultView||Re.parentWindow:window,Be?(Et=l.relatedTarget||l.toElement,Be=De,Et=Et?Gt(Et):null,Et!==null&&(ir=o(Et),Xt=Et.tag,Et!==ir||Xt!==5&&Xt!==27&&Xt!==6)&&(Et=null)):(Be=null,Et=De),Be!==Et)){if(Xt=Bc,Xe="onMouseLeave",Ce="onMouseEnter",ye="mouse",(r==="pointerout"||r==="pointerover")&&(Xt=zr,Xe="onPointerLeave",Ce="onPointerEnter",ye="pointer"),ir=Be==null?Re:cn(Be),Oe=Et==null?Re:cn(Et),Re=new Xt(Xe,ye+"leave",Be,l,He),Re.target=ir,Re.relatedTarget=Oe,Xe=null,Gt(He)===De&&(Xt=new Xt(Ce,ye+"enter",Et,l,He),Xt.target=Oe,Xt.relatedTarget=ir,Xe=Xt),ir=Xe,Be&&Et)t:{for(Xt=X4,Ce=Be,ye=Et,Oe=0,Xe=Ce;Xe;Xe=Xt(Xe))Oe++;Xe=0;for(var qt=ye;qt;qt=Xt(qt))Xe++;for(;0<Oe-Xe;)Ce=Xt(Ce),Oe--;for(;0<Xe-Oe;)ye=Xt(ye),Xe--;for(;Oe--;){if(Ce===ye||ye!==null&&Ce===ye.alternate){Xt=Ce;break t}Ce=Xt(Ce),ye=Xt(ye)}Xt=null}else Xt=null;Be!==null&&v5(Ze,Re,Be,Xt,!1),Et!==null&&ir!==null&&v5(Ze,ir,Et,Xt,!0)}}e:{if(Re=De?cn(De):window,Be=Re.nodeName&&Re.nodeName.toLowerCase(),Be==="select"||Be==="input"&&Re.type==="file")var Un=Ao;else if(Pc(Re))if(ni)Un=ya;else{Un=Pr;var It=Hl}else Be=Re.nodeName,!Be||Be.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?De&&Rc(De.elementType)&&(Un=Ao):Un=Du;if(Un&&(Un=Un(r,De))){pi(Ze,Un,l,He);break e}It&&It(r,Re,De),r==="focusout"&&De&&Re.type==="number"&&De.memoizedProps.value!=null&&Xo(Re,"number",Re.value)}switch(It=De?cn(De):window,r){case"focusin":(Pc(It)||It.contentEditable==="true")&&(mi=It,Za=De,Os=null);break;case"focusout":Os=Za=mi=null;break;case"mousedown":Ni=!0;break;case"contextmenu":case"mouseup":case"dragend":Ni=!1,Pn(Ze,l,He);break;case"selectionchange":if(rl)break;case"keydown":case"keyup":Pn(Ze,l,He)}var yn;if(ma)e:{switch(r){case"compositionstart":var En="onCompositionStart";break e;case"compositionend":En="onCompositionEnd";break e;case"compositionupdate":En="onCompositionUpdate";break e}En=void 0}else ga?No(r,l)&&(En="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(En="onCompositionStart");En&&(Ua&&l.locale!=="ko"&&(ga||En!=="onCompositionStart"?En==="onCompositionEnd"&&ga&&(yn=Mu()):(di=He,Jo="value"in di?di.value:di.textContent,ga=!0)),It=l1(De,En),0<It.length&&(En=new Te(En,r,null,l,He),Ze.push({event:En,listeners:It}),yn?En.data=yn:(yn=Pl(l),yn!==null&&(En.data=yn)))),(yn=nl?Ys(r,l):Ha(r,l))&&(En=l1(De,"onBeforeInput"),0<En.length&&(It=new Te("onBeforeInput","beforeinput",null,l,He),Ze.push({event:It,listeners:En}),It.data=yn)),W4(Ze,r,De,l,He)}g5(Ze,i)})}function kf(r,i,l){return{instance:r,listener:i,currentTarget:l}}function l1(r,i){for(var l=i+"Capture",h=[];r!==null;){var g=r,w=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||w===null||(g=fi(r,l),g!=null&&h.unshift(kf(r,g,w)),g=fi(r,i),g!=null&&h.push(kf(r,g,w))),r.tag===3)return h;r=r.return}return[]}function X4(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function v5(r,i,l,h,g){for(var w=i._reactName,O=[];l!==null&&l!==h;){var ee=l,me=ee.alternate,De=ee.stateNode;if(ee=ee.tag,me!==null&&me===h)break;ee!==5&&ee!==26&&ee!==27||De===null||(me=De,g?(De=fi(l,w),De!=null&&O.unshift(kf(l,De,me))):g||(De=fi(l,w),De!=null&&O.push(kf(l,De,me)))),l=l.return}O.length!==0&&r.push({event:i,listeners:O})}var Z4=/\r\n?/g,Q4=/\u0000|\uFFFD/g;function y5(r){return(typeof r=="string"?r:""+r).replace(Z4,`
`).replace(Q4,"")}function x5(r,i){return i=y5(i),y5(r)===i}function sr(r,i,l,h,g,w){switch(l){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||$i(r,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&$i(r,""+h);break;case"className":Ls(r,"class",h);break;case"tabIndex":Ls(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ls(r,l,h);break;case"style":Cu(r,h,w);break;case"data":if(i!=="object"){Ls(r,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(l);break}h=ti(""+h),r.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(l==="formAction"?(i!=="input"&&sr(r,i,"name",g.name,g,null),sr(r,i,"formEncType",g.formEncType,g,null),sr(r,i,"formMethod",g.formMethod,g,null),sr(r,i,"formTarget",g.formTarget,g,null)):(sr(r,i,"encType",g.encType,g,null),sr(r,i,"method",g.method,g,null),sr(r,i,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(l);break}h=ti(""+h),r.setAttribute(l,h);break;case"onClick":h!=null&&(r.onclick=Xi);break;case"onScroll":h!=null&&kn("scroll",r);break;case"onScrollEnd":h!=null&&kn("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}l=ti(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(l,""+h):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":h===!0?r.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(l,h):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(l,h):r.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(l):r.setAttribute(l,h);break;case"popover":kn("beforetoggle",r),kn("toggle",r),Mr(r,"popover",h);break;case"xlinkActuate":Ws(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ws(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ws(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ws(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ws(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ws(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ws(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ws(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ws(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Mr(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ic.get(l)||l,Mr(r,l,h))}}function Y0(r,i,l,h,g,w){switch(l){case"style":Cu(r,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof h=="string"?$i(r,h):(typeof h=="number"||typeof h=="bigint")&&$i(r,""+h);break;case"onScroll":h!=null&&kn("scroll",r);break;case"onScrollEnd":h!=null&&kn("scrollend",r);break;case"onClick":h!=null&&(r.onclick=Xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wn.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),w=r[Ln]||null,w=w!=null?w[l]:null,typeof w=="function"&&r.removeEventListener(i,w,g),typeof h=="function")){typeof w!="function"&&w!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,h,g);break e}l in r?r[l]=h:h===!0?r.setAttribute(l,""):Mr(r,l,h)}}}function Ks(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kn("error",r),kn("load",r);var h=!1,g=!1,w;for(w in l)if(l.hasOwnProperty(w)){var O=l[w];if(O!=null)switch(w){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:sr(r,i,w,O,l,null)}}g&&sr(r,i,"srcSet",l.srcSet,l,null),h&&sr(r,i,"src",l.src,l,null);return;case"input":kn("invalid",r);var ee=w=O=g=null,me=null,De=null;for(h in l)if(l.hasOwnProperty(h)){var He=l[h];if(He!=null)switch(h){case"name":g=He;break;case"type":O=He;break;case"checked":me=He;break;case"defaultChecked":De=He;break;case"value":w=He;break;case"defaultValue":ee=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(s(137,i));break;default:sr(r,i,h,He,l,null)}}Il(r,w,ee,me,De,O,g,!1);return;case"select":kn("invalid",r),h=O=w=null;for(g in l)if(l.hasOwnProperty(g)&&(ee=l[g],ee!=null))switch(g){case"value":w=ee;break;case"defaultValue":O=ee;break;case"multiple":h=ee;default:sr(r,i,g,ee,l,null)}i=w,l=O,r.multiple=!!h,i!=null?Gs(r,!!h,i,!1):l!=null&&Gs(r,!!h,l,!0);return;case"textarea":kn("invalid",r),w=g=h=null;for(O in l)if(l.hasOwnProperty(O)&&(ee=l[O],ee!=null))switch(O){case"value":h=ee;break;case"defaultValue":g=ee;break;case"children":w=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(91));break;default:sr(r,i,O,ee,l,null)}Dc(r,h,g,w);return;case"option":for(me in l)if(l.hasOwnProperty(me)&&(h=l[me],h!=null))switch(me){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:sr(r,i,me,h,l,null)}return;case"dialog":kn("beforetoggle",r),kn("toggle",r),kn("cancel",r),kn("close",r);break;case"iframe":case"object":kn("load",r);break;case"video":case"audio":for(h=0;h<Cf.length;h++)kn(Cf[h],r);break;case"image":kn("error",r),kn("load",r);break;case"details":kn("toggle",r);break;case"embed":case"source":case"link":kn("error",r),kn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in l)if(l.hasOwnProperty(De)&&(h=l[De],h!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:sr(r,i,De,h,l,null)}return;default:if(Rc(i)){for(He in l)l.hasOwnProperty(He)&&(h=l[He],h!==void 0&&Y0(r,i,He,h,l,void 0));return}}for(ee in l)l.hasOwnProperty(ee)&&(h=l[ee],h!=null&&sr(r,i,ee,h,l,null))}function K4(r,i,l,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,w=null,O=null,ee=null,me=null,De=null,He=null;for(Be in l){var Ze=l[Be];if(l.hasOwnProperty(Be)&&Ze!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":me=Ze;default:h.hasOwnProperty(Be)||sr(r,i,Be,null,h,Ze)}}for(var Re in h){var Be=h[Re];if(Ze=l[Re],h.hasOwnProperty(Re)&&(Be!=null||Ze!=null))switch(Re){case"type":w=Be;break;case"name":g=Be;break;case"checked":De=Be;break;case"defaultChecked":He=Be;break;case"value":O=Be;break;case"defaultValue":ee=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(s(137,i));break;default:Be!==Ze&&sr(r,i,Re,Be,h,Ze)}}wo(r,O,ee,me,De,He,w,g);return;case"select":Be=O=ee=Re=null;for(w in l)if(me=l[w],l.hasOwnProperty(w)&&me!=null)switch(w){case"value":break;case"multiple":Be=me;default:h.hasOwnProperty(w)||sr(r,i,w,null,h,me)}for(g in h)if(w=h[g],me=l[g],h.hasOwnProperty(g)&&(w!=null||me!=null))switch(g){case"value":Re=w;break;case"defaultValue":ee=w;break;case"multiple":O=w;default:w!==me&&sr(r,i,g,w,h,me)}i=ee,l=O,h=Be,Re!=null?Gs(r,!!l,Re,!1):!!h!=!!l&&(i!=null?Gs(r,!!l,i,!0):Gs(r,!!l,l?[]:"",!1));return;case"textarea":Be=Re=null;for(ee in l)if(g=l[ee],l.hasOwnProperty(ee)&&g!=null&&!h.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:sr(r,i,ee,null,h,g)}for(O in h)if(g=h[O],w=l[O],h.hasOwnProperty(O)&&(g!=null||w!=null))switch(O){case"value":Re=g;break;case"defaultValue":Be=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==w&&sr(r,i,O,g,h,w)}Oc(r,Re,Be);return;case"option":for(var Et in l)if(Re=l[Et],l.hasOwnProperty(Et)&&Re!=null&&!h.hasOwnProperty(Et))switch(Et){case"selected":r.selected=!1;break;default:sr(r,i,Et,null,h,Re)}for(me in h)if(Re=h[me],Be=l[me],h.hasOwnProperty(me)&&Re!==Be&&(Re!=null||Be!=null))switch(me){case"selected":r.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:sr(r,i,me,Re,h,Be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xt in l)Re=l[Xt],l.hasOwnProperty(Xt)&&Re!=null&&!h.hasOwnProperty(Xt)&&sr(r,i,Xt,null,h,Re);for(De in h)if(Re=h[De],Be=l[De],h.hasOwnProperty(De)&&Re!==Be&&(Re!=null||Be!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(s(137,i));break;default:sr(r,i,De,Re,h,Be)}return;default:if(Rc(i)){for(var ir in l)Re=l[ir],l.hasOwnProperty(ir)&&Re!==void 0&&!h.hasOwnProperty(ir)&&Y0(r,i,ir,void 0,h,Re);for(He in h)Re=h[He],Be=l[He],!h.hasOwnProperty(He)||Re===Be||Re===void 0&&Be===void 0||Y0(r,i,He,Re,h,Be);return}}for(var Ce in l)Re=l[Ce],l.hasOwnProperty(Ce)&&Re!=null&&!h.hasOwnProperty(Ce)&&sr(r,i,Ce,null,h,Re);for(Ze in h)Re=h[Ze],Be=l[Ze],!h.hasOwnProperty(Ze)||Re===Be||Re==null&&Be==null||sr(r,i,Ze,Re,h,Be)}function w5(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function J4(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var g=l[h],w=g.transferSize,O=g.initiatorType,ee=g.duration;if(w&&ee&&w5(O)){for(O=0,ee=g.responseEnd,h+=1;h<l.length;h++){var me=l[h],De=me.startTime;if(De>ee)break;var He=me.transferSize,Ze=me.initiatorType;He&&w5(Ze)&&(me=me.responseEnd,O+=He*(me<ee?1:(ee-De)/(me-De)))}if(--h,i+=8*(w+O)/(g.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var $0=null,X0=null;function c1(r){return r.nodeType===9?r:r.ownerDocument}function _5(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S5(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Z0(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Q0=null;function e_(){var r=window.event;return r&&r.type==="popstate"?r===Q0?!1:(Q0=r,!0):(Q0=null,!1)}var N5=typeof setTimeout=="function"?setTimeout:void 0,t_=typeof clearTimeout=="function"?clearTimeout:void 0,A5=typeof Promise=="function"?Promise:void 0,n_=typeof queueMicrotask=="function"?queueMicrotask:typeof A5<"u"?function(r){return A5.resolve(null).then(r).catch(r_)}:N5;function r_(r){setTimeout(function(){throw r})}function uc(r){return r==="head"}function T5(r,i){var l=i,h=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(h===0){r.removeChild(g),dh(i);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")jf(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,jf(l);for(var w=l.firstChild;w;){var O=w.nextSibling,ee=w.nodeName;w[Fe]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=O}}else l==="body"&&jf(r.ownerDocument.body);l=g}while(l);dh(i)}function C5(r,i){var l=r;r=0;do{var h=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=h}while(l)}function K0(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":K0(l),gt(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function s_(r,i,l,h){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[Fe])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var w=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=Ta(r.nextSibling),r===null)break}return null}function i_(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Ta(r.nextSibling),r===null))return null;return r}function k5(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Ta(r.nextSibling),r===null))return null;return r}function J0(r){return r.data==="$?"||r.data==="$~"}function em(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function a_(r,i){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||l.readyState!=="loading")i();else{var h=function(){i(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function Ta(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var tm=null;function j5(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(i===0)return Ta(r.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}r=r.nextSibling}return null}function E5(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return r;i--}else l!=="/$"&&l!=="/&"||i++}r=r.previousSibling}return null}function M5(r,i,l){switch(i=c1(l),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function jf(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);gt(r)}var Ca=new Map,L5=new Set;function u1(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var wl=J.d;J.d={f:o_,r:l_,D:c_,C:u_,L:h_,m:f_,X:p_,S:d_,M:m_};function o_(){var r=wl.f(),i=t1();return r||i}function l_(r){var i=Ct(r);i!==null&&i.tag===5&&i.type==="form"?X2(i):wl.r(r)}var uh=typeof document>"u"?null:document;function O5(r,i,l){var h=uh;if(h&&typeof i=="string"&&i){var g=Lr(i);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),L5.has(g)||(L5.add(g),r={rel:r,crossOrigin:l,href:i},h.querySelector(g)===null&&(i=h.createElement("link"),Ks(i,"link",r),Jt(i),h.head.appendChild(i)))}}function c_(r){wl.D(r),O5("dns-prefetch",r,null)}function u_(r,i){wl.C(r,i),O5("preconnect",r,i)}function h_(r,i,l){wl.L(r,i,l);var h=uh;if(h&&r&&i){var g='link[rel="preload"][as="'+Lr(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Lr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Lr(l.imageSizes)+'"]')):g+='[href="'+Lr(r)+'"]';var w=g;switch(i){case"style":w=hh(r);break;case"script":w=fh(r)}Ca.has(w)||(r=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),Ca.set(w,r),h.querySelector(g)!==null||i==="style"&&h.querySelector(Ef(w))||i==="script"&&h.querySelector(Mf(w))||(i=h.createElement("link"),Ks(i,"link",r),Jt(i),h.head.appendChild(i)))}}function f_(r,i){wl.m(r,i);var l=uh;if(l&&r){var h=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+Lr(h)+'"][href="'+Lr(r)+'"]',w=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=fh(r)}if(!Ca.has(w)&&(r=y({rel:"modulepreload",href:r},i),Ca.set(w,r),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Mf(w)))return}h=l.createElement("link"),Ks(h,"link",r),Jt(h),l.head.appendChild(h)}}}function d_(r,i,l){wl.S(r,i,l);var h=uh;if(h&&r){var g=zt(h).hoistableStyles,w=hh(r);i=i||"default";var O=g.get(w);if(!O){var ee={loading:0,preload:null};if(O=h.querySelector(Ef(w)))ee.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":i},l),(l=Ca.get(w))&&nm(r,l);var me=O=h.createElement("link");Jt(me),Ks(me,"link",r),me._p=new Promise(function(De,He){me.onload=De,me.onerror=He}),me.addEventListener("load",function(){ee.loading|=1}),me.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,h1(O,i,h)}O={type:"stylesheet",instance:O,count:1,state:ee},g.set(w,O)}}}function p_(r,i){wl.X(r,i);var l=uh;if(l&&r){var h=zt(l).hoistableScripts,g=fh(r),w=h.get(g);w||(w=l.querySelector(Mf(g)),w||(r=y({src:r,async:!0},i),(i=Ca.get(g))&&rm(r,i),w=l.createElement("script"),Jt(w),Ks(w,"link",r),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(g,w))}}function m_(r,i){wl.M(r,i);var l=uh;if(l&&r){var h=zt(l).hoistableScripts,g=fh(r),w=h.get(g);w||(w=l.querySelector(Mf(g)),w||(r=y({src:r,async:!0,type:"module"},i),(i=Ca.get(g))&&rm(r,i),w=l.createElement("script"),Jt(w),Ks(w,"link",r),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(g,w))}}function D5(r,i,l,h){var g=(g=ae.current)?u1(g):null;if(!g)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=hh(l.href),l=zt(g).hoistableStyles,h=l.get(i),h||(h={type:"style",instance:null,count:0,state:null},l.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=hh(l.href);var w=zt(g).hoistableStyles,O=w.get(r);if(O||(g=g.ownerDocument||g,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,O),(w=g.querySelector(Ef(r)))&&!w._p&&(O.instance=w,O.state.loading=5),Ca.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ca.set(r,l),w||g_(g,r,l,O.state))),i&&h===null)throw Error(s(528,""));return O}if(i&&h!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fh(l),l=zt(g).hoistableScripts,h=l.get(i),h||(h={type:"script",instance:null,count:0,state:null},l.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function hh(r){return'href="'+Lr(r)+'"'}function Ef(r){return'link[rel="stylesheet"]['+r+"]"}function R5(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function g_(r,i,l,h){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=r.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),Ks(i,"link",l),Jt(i),r.head.appendChild(i))}function fh(r){return'[src="'+Lr(r)+'"]'}function Mf(r){return"script[async]"+r}function I5(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var h=r.querySelector('style[data-href~="'+Lr(l.href)+'"]');if(h)return i.instance=h,Jt(h),h;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),Jt(h),Ks(h,"style",g),h1(h,l.precedence,r),i.instance=h;case"stylesheet":g=hh(l.href);var w=r.querySelector(Ef(g));if(w)return i.state.loading|=4,i.instance=w,Jt(w),w;h=R5(l),(g=Ca.get(g))&&nm(h,g),w=(r.ownerDocument||r).createElement("link"),Jt(w);var O=w;return O._p=new Promise(function(ee,me){O.onload=ee,O.onerror=me}),Ks(w,"link",h),i.state.loading|=4,h1(w,l.precedence,r),i.instance=w;case"script":return w=fh(l.src),(g=r.querySelector(Mf(w)))?(i.instance=g,Jt(g),g):(h=l,(g=Ca.get(w))&&(h=y({},l),rm(h,g)),r=r.ownerDocument||r,g=r.createElement("script"),Jt(g),Ks(g,"link",h),r.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,h1(h,l.precedence,r));return i.instance}function h1(r,i,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,w=g,O=0;O<h.length;O++){var ee=h[O];if(ee.dataset.precedence===i)w=ee;else if(w!==g)break}w?w.parentNode.insertBefore(r,w.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function nm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function rm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var f1=null;function V5(r,i,l){if(f1===null){var h=new Map,g=f1=new Map;g.set(l,h)}else g=f1,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(r))return h;for(h.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var w=l[g];if(!(w[Fe]||w[gn]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(i)||"";O=r+O;var ee=h.get(O);ee?ee.push(w):h.set(O,[w])}}return h}function F5(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function b_(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function B5(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function v_(r,i,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=hh(h.href),w=i.querySelector(Ef(g));if(w){i=w._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=d1.bind(r),i.then(r,r)),l.state.loading|=4,l.instance=w,Jt(w);return}w=i.ownerDocument||i,h=R5(h),(g=Ca.get(g))&&nm(h,g),w=w.createElement("link"),Jt(w);var O=w;O._p=new Promise(function(ee,me){O.onload=ee,O.onerror=me}),Ks(w,"link",h),l.instance=w}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=d1.bind(r),i.addEventListener("load",l),i.addEventListener("error",l))}}var sm=0;function y_(r,i){return r.stylesheets&&r.count===0&&m1(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var h=setTimeout(function(){if(r.stylesheets&&m1(r,r.stylesheets),r.unsuspend){var w=r.unsuspend;r.unsuspend=null,w()}},6e4+i);0<r.imgBytes&&sm===0&&(sm=62500*J4());var g=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&m1(r,r.stylesheets),r.unsuspend)){var w=r.unsuspend;r.unsuspend=null,w()}},(r.imgBytes>sm?50:800)+i);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function d1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)m1(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var p1=null;function m1(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,p1=new Map,i.forEach(x_,r),p1=null,d1.call(r))}function x_(r,i){if(!(i.state.loading&4)){var l=p1.get(r);if(l)var h=l.get(null);else{l=new Map,p1.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<g.length;w++){var O=g[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(l.set(O.dataset.precedence,O),h=O)}h&&l.set(null,h)}g=i.instance,O=g.getAttribute("data-precedence"),w=l.get(O)||h,w===h&&l.set(null,g),l.set(O,g),this.count++,h=d1.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),w?w.parentNode.insertBefore(g,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),i.state.loading|=4}}var Lf={$$typeof:D,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function w_(r,i,l,h,g,w,O,ee,me){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.hiddenUpdates=pt(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function z5(r,i,l,h,g,w,O,ee,me,De,He,Ze){return r=new w_(r,i,l,O,me,De,He,Ze,ee),i=1,w===!0&&(i|=24),w=Rs(3,null,null,i),r.current=w,w.stateNode=r,i=Kl(),i.refCount++,r.pooledCache=i,i.refCount++,w.memoizedState={element:h,isDehydrated:l,cache:i},mt(w),r}function P5(r){return r?(r=Ns,r):Ns}function q5(r,i,l,h,g,w){g=P5(g),h.context===null?h.context=g:h.pendingContext=g,h=$t(i),h.payload={element:l},w=w===void 0?null:w,w!==null&&(h.callback=w),l=mn(r,h,i),l!==null&&(Fi(l,r,i),Gn(l,r,i))}function U5(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function im(r,i){U5(r,i),(r=r.alternate)&&U5(r,i)}function H5(r){if(r.tag===13||r.tag===31){var i=Qa(r,67108864);i!==null&&Fi(i,r,67108864),im(r,67108864)}}function W5(r){if(r.tag===13||r.tag===31){var i=sa();i=Wt(i);var l=Qa(r,i);l!==null&&Fi(l,r,i),im(r,i)}}var g1=!0;function __(r,i,l,h){var g=Y.T;Y.T=null;var w=J.p;try{J.p=2,am(r,i,l,h)}finally{J.p=w,Y.T=g}}function S_(r,i,l,h){var g=Y.T;Y.T=null;var w=J.p;try{J.p=8,am(r,i,l,h)}finally{J.p=w,Y.T=g}}function am(r,i,l,h){if(g1){var g=om(h);if(g===null)G0(r,i,h,b1,l),Y5(r,h);else if(A_(g,r,i,l,h))h.stopPropagation();else if(Y5(r,h),i&4&&-1<N_.indexOf(r)){for(;g!==null;){var w=Ct(g);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=_e(w.pendingLanes);if(O!==0){var ee=w;for(ee.pendingLanes|=2,ee.entangledLanes|=2;O;){var me=1<<31-At(O);ee.entanglements[1]|=me,O&=~me}Fo(w),($n&6)===0&&(Jd=ze()+500,Tf(0))}}break;case 31:case 13:ee=Qa(w,2),ee!==null&&Fi(ee,w,2),t1(),im(w,2)}if(w=om(h),w===null&&G0(r,i,h,b1,l),w===g)break;g=w}g!==null&&h.stopPropagation()}else G0(r,i,h,null,l)}}function om(r){return r=Qo(r),lm(r)}var b1=null;function lm(r){if(b1=null,r=Gt(r),r!==null){var i=o(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=u(i),r!==null)return r;r=null}else if(l===31){if(r=c(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return b1=r,null}function G5(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case et:return 2;case ut:return 8;case xt:case dt:return 32;case yt:return 268435456;default:return 32}default:return 32}}var cm=!1,hc=null,fc=null,dc=null,Of=new Map,Df=new Map,pc=[],N_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y5(r,i){switch(r){case"focusin":case"focusout":hc=null;break;case"dragenter":case"dragleave":fc=null;break;case"mouseover":case"mouseout":dc=null;break;case"pointerover":case"pointerout":Of.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Df.delete(i.pointerId)}}function Rf(r,i,l,h,g,w){return r===null||r.nativeEvent!==w?(r={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},i!==null&&(i=Ct(i),i!==null&&H5(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function A_(r,i,l,h,g){switch(i){case"focusin":return hc=Rf(hc,r,i,l,h,g),!0;case"dragenter":return fc=Rf(fc,r,i,l,h,g),!0;case"mouseover":return dc=Rf(dc,r,i,l,h,g),!0;case"pointerover":var w=g.pointerId;return Of.set(w,Rf(Of.get(w)||null,r,i,l,h,g)),!0;case"gotpointercapture":return w=g.pointerId,Df.set(w,Rf(Df.get(w)||null,r,i,l,h,g)),!0}return!1}function $5(r){var i=Gt(r.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){r.blockedOn=i,cr(r.priority,function(){W5(l)});return}}else if(i===31){if(i=c(l),i!==null){r.blockedOn=i,cr(r.priority,function(){W5(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function v1(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=om(r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Da=h,l.target.dispatchEvent(h),Da=null}else return i=Ct(l),i!==null&&H5(i),r.blockedOn=l,!1;i.shift()}return!0}function X5(r,i,l){v1(r)&&l.delete(i)}function T_(){cm=!1,hc!==null&&v1(hc)&&(hc=null),fc!==null&&v1(fc)&&(fc=null),dc!==null&&v1(dc)&&(dc=null),Of.forEach(X5),Df.forEach(X5)}function y1(r,i){r.blockedOn===i&&(r.blockedOn=null,cm||(cm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,T_)))}var x1=null;function Z5(r){x1!==r&&(x1=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){x1===r&&(x1=null);for(var i=0;i<r.length;i+=3){var l=r[i],h=r[i+1],g=r[i+2];if(typeof h!="function"){if(lm(h||l)===null)continue;break}var w=Ct(l);w!==null&&(r.splice(i,3),i-=3,o0(w,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function dh(r){function i(me){return y1(me,r)}hc!==null&&y1(hc,r),fc!==null&&y1(fc,r),dc!==null&&y1(dc,r),Of.forEach(i),Df.forEach(i);for(var l=0;l<pc.length;l++){var h=pc[l];h.blockedOn===r&&(h.blockedOn=null)}for(;0<pc.length&&(l=pc[0],l.blockedOn===null);)$5(l),l.blockedOn===null&&pc.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],w=l[h+1],O=g[Ln]||null;if(typeof w=="function")O||Z5(l);else if(O){var ee=null;if(w&&w.hasAttribute("formAction")){if(g=w,O=w[Ln]||null)ee=O.formAction;else if(lm(g)!==null)continue}else ee=O.action;typeof ee=="function"?l[h+1]=ee:(l.splice(h,3),h-=3),Z5(l)}}}function Q5(){function r(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(O){return g=O})},focusReset:"manual",scroll:"manual"})}function i(){g!==null&&(g(),g=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),g!==null&&(g(),g=null)}}}function um(r){this._internalRoot=r}w1.prototype.render=um.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,h=sa();q5(l,h,r,i,null,null)},w1.prototype.unmount=um.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;q5(r.current,2,null,r,null,null),t1(),i[xr]=null}};function w1(r){this._internalRoot=r}w1.prototype.unstable_scheduleHydration=function(r){if(r){var i=pn();r={blockedOn:null,target:r,priority:i};for(var l=0;l<pc.length&&i!==0&&i<pc[l].priority;l++);pc.splice(l,0,r),l===0&&$5(r)}};var K5=e.version;if(K5!=="19.2.0")throw Error(s(527,K5,"19.2.0"));J.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=d(i),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var C_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_1.isDisabled&&_1.supportsFiber)try{Ht=_1.inject(C_),Tt=_1}catch{}}return Vf.createRoot=function(r,i){if(!a(r))throw Error(s(299));var l=!1,h="",g=ib,w=ab,O=ob;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(O=i.onRecoverableError)),i=z5(r,1,!1,null,null,l,h,null,g,w,O,Q5),r[xr]=i.current,W0(r),new um(i)},Vf.hydrateRoot=function(r,i,l){if(!a(r))throw Error(s(299));var h=!1,g="",w=ib,O=ab,ee=ob,me=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(O=l.onCaughtError),l.onRecoverableError!==void 0&&(ee=l.onRecoverableError),l.formState!==void 0&&(me=l.formState)),i=z5(r,1,!0,i,l??null,h,g,me,w,O,ee,Q5),i.context=P5(null),l=i.current,h=sa(),h=Wt(h),g=$t(h),g.callback=null,mn(l,g,h),l=h,i.current.lanes=l,nt(i,l),Fo(i),r[xr]=i.current,W0(r),new w1(i)},Vf.version="19.2.0",Vf}var lv;function V_(){if(lv)return dm.exports;lv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dm.exports=I_(),dm.exports}var F_=V_();const cv=n=>{let e;const t=new Set,s=(d,p)=>{const y=typeof d=="function"?d(e):d;if(!Object.is(y,e)){const _=e;e=p??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(b=>b(e,_))}},a=()=>e,c={setState:s,getState:a,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=n(s,a,c);return c},B_=(n=>n?cv(n):cv),z_=n=>n;function P_(n,e=z_){const t=Xn.useSyncExternalStore(n.subscribe,Xn.useCallback(()=>e(n.getState()),[n,e]),Xn.useCallback(()=>e(n.getInitialState()),[n,e]));return Xn.useDebugValue(t),t}const q_=n=>{const e=B_(n),t=s=>P_(e,s);return Object.assign(t,e),t},U_=(n=>q_);function H_(n,e){let t;try{t=n()}catch{return}return{getItem:a=>{var o;const u=f=>f===null?null:JSON.parse(f,void 0),c=(o=t.getItem(a))!=null?o:null;return c instanceof Promise?c.then(u):u(c)},setItem:(a,o)=>t.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>t.removeItem(a)}}const Wm=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(s){return Wm(s)(t)},catch(s){return this}}}catch(t){return{then(s){return this},catch(s){return Wm(s)(t)}}}},W_=(n,e)=>(t,s,a)=>{let o={storage:H_(()=>localStorage),partialize:N=>N,version:0,merge:(N,k)=>({...k,...N}),...e},u=!1;const c=new Set,f=new Set;let d=o.storage;if(!d)return n((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...N)},s,a);const p=()=>{const N=o.partialize({...s()});return d.setItem(o.name,{state:N,version:o.version})},y=a.setState;a.setState=(N,k)=>(y(N,k),p());const _=n((...N)=>(t(...N),p()),s,a);a.getInitialState=()=>_;let b;const A=()=>{var N,k;if(!d)return;u=!1,c.forEach(R=>{var D;return R((D=s())!=null?D:_)});const C=((k=o.onRehydrateStorage)==null?void 0:k.call(o,(N=s())!=null?N:_))||void 0;return Wm(d.getItem.bind(d))(o.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==o.version){if(o.migrate){const D=o.migrate(R.state,R.version);return D instanceof Promise?D.then(V=>[!0,V]):[!0,D]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var D;const[V,F]=R;if(b=o.merge(F,(D=s())!=null?D:_),t(b,!0),V)return p()}).then(()=>{C?.(b,void 0),b=s(),u=!0,f.forEach(R=>R(b))}).catch(R=>{C?.(void 0,R)})};return a.persist={setOptions:N=>{o={...o,...N},N.storage&&(d=N.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>A(),hasHydrated:()=>u,onHydrate:N=>(c.add(N),()=>{c.delete(N)}),onFinishHydration:N=>(f.add(N),()=>{f.delete(N)})},o.skipHydration||A(),b||_},G_=W_,Tl=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Hf=["C","G","D","A","E","B","F#","Db","Ab","Eb","Bb","F"],Y_=[{major:"C",ii:"Dm",iii:"Em",diminished:"B"},{major:"G",ii:"Am",iii:"Bm",diminished:"F#"},{major:"D",ii:"Em",iii:"F#m",diminished:"C#"},{major:"A",ii:"Bm",iii:"C#m",diminished:"G#"},{major:"E",ii:"F#m",iii:"G#m",diminished:"D#"},{major:"B",ii:"C#m",iii:"D#m",diminished:"A#"},{major:"F#",ii:"G#m",iii:"A#m",diminished:"E#"},{major:"Db",ii:"Ebm",iii:"Fm",diminished:"C"},{major:"Ab",ii:"Bbm",iii:"Cm",diminished:"G"},{major:"Eb",ii:"Fm",iii:"Gm",diminished:"D"},{major:"Bb",ii:"Cm",iii:"Dm",diminished:"A"},{major:"F",ii:"Gm",iii:"Am",diminished:"E"}],$_={major:"",maj:"",minor:"m",diminished:"",dim:"",augmented:"+",major7:"maj7",minor7:"m7",dominant7:"7",halfDiminished7:"m75",sus2:"sus2",sus4:"sus4",dominant9:"9",dominant11:"11",dominant13:"13",major9:"maj9",minor9:"m9",add9:"add9",6:"6",m6:"m6","7sus4":"7sus4",dominant7sus4:"7sus4"};function Nh(n){return $_[n]??n}function Lh(n){return n.includes("b")&&{Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#",Cb:"B",Fb:"E"}[n]||n}const X_={7:"dominant7",9:"dominant9",11:"dominant11",13:"dominant13",maj7:"major7",maj9:"major9",maj11:"major11",maj13:"major13",6:"major6",add9:"add9",m7:"minor7",m9:"minor9",m11:"minor11",m13:"minor13",m6:"minor6",dim:"diminished",dim7:"diminished7",m7b5:"halfDiminished7","m75":"halfDiminished7",7:"halfDiminished7",sus2:"sus2",sus4:"sus4","7sus4":"dominant7sus4"},Z_={major:[0,4,7],minor:[0,3,7],diminished:[0,3,6],augmented:[0,4,8],sus2:[0,2,7],sus4:[0,5,7],major6:[0,4,7,9],minor6:[0,3,7,9],major7:[0,4,7,11],minor7:[0,3,7,10],dominant7:[0,4,7,10],diminished7:[0,3,6,9],halfDiminished7:[0,3,6,10],dominant7sus4:[0,5,7,10],add9:[0,4,7,14],major9:[0,4,7,11,14],minor9:[0,3,7,10,14],dominant9:[0,4,7,10,14],major11:[0,4,7,11,14,17],minor11:[0,3,7,10,14,17],dominant11:[0,4,7,10,14,17],major13:[0,4,7,11,14,21],minor13:[0,3,7,10,14,21],dominant13:[0,4,7,10,14,21]};function ja(n,e){const t=Lh(n),s=Tl.indexOf(t);if(s===-1)return[];const a=X_[e]||e,o=Z_[a];return o?o.map(u=>Tl[(s+u)%12]):(console.warn(`Unknown chord quality: ${e} (resolved to ${a})`),Tl.slice(s,s+1).concat([Tl[(s+4)%12],Tl[(s+7)%12]]))}function su(n,e){if(!n||n.length===0)return n;const t=n.length-1,s=Math.max(0,Math.min(e,t));return s===0?n:[...n.slice(s),...n.slice(0,s)]}function Q_(n){return Math.max(0,(n?.length||1)-1)}function K_(n){return["Root","1st","2nd","3rd","4th","5th","6th"][n]||`${n}th`}function uv(n,e,t,s){const o=`${n}${e==="major"||e==="maj"?"":e}`;if(!s||s===0||!t||t.length===0)return o;const u=t[s%t.length];return`${o}/${u}`}function J_(n){const e=["G","D","A","E","B","F#","C#"],t=["F","Bb","Eb","Ab","Db","Gb","Cb"],s=e.indexOf(n),a=t.indexOf(n);return s>=0?{sharps:s+1,flats:0}:a>=0?{sharps:0,flats:a+1}:{sharps:0,flats:0}}function pd(){return{C:"hsl(48, 95%, 58%)",G:"hsl(72, 75%, 50%)",D:"hsl(95, 65%, 48%)",A:"hsl(160, 60%, 45%)",E:"hsl(185, 70%, 50%)",B:"hsl(205, 75%, 55%)","F#":"hsl(235, 60%, 58%)",Gb:"hsl(235, 60%, 58%)",Db:"hsl(265, 55%, 55%)",Ab:"hsl(285, 50%, 52%)",Eb:"hsl(315, 60%, 55%)",Bb:"hsl(350, 70%, 58%)",F:"hsl(28, 85%, 55%)"}}function eS(n,e){const t=Lh(n),s=Lh(e),a=Tl.indexOf(t),o=Tl.indexOf(s);if(a===-1||o===-1)return"?";let u=(o-a+12)%12;return{0:"1",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[u]||"?"}function ar(n){return n&&n.replace(/([A-G])b/g,"$1")}const Js=[];for(let n=0;n<256;++n)Js.push((n+256).toString(16).slice(1));function tS(n,e=0){return(Js[n[e+0]]+Js[n[e+1]]+Js[n[e+2]]+Js[n[e+3]]+"-"+Js[n[e+4]]+Js[n[e+5]]+"-"+Js[n[e+6]]+Js[n[e+7]]+"-"+Js[n[e+8]]+Js[n[e+9]]+"-"+Js[n[e+10]]+Js[n[e+11]]+Js[n[e+12]]+Js[n[e+13]]+Js[n[e+14]]+Js[n[e+15]]).toLowerCase()}let bm;const nS=new Uint8Array(16);function rS(){if(!bm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bm=crypto.getRandomValues.bind(crypto)}return bm(nS)}const sS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hv={randomUUID:sS};function iS(n,e,t){n=n||{};const s=n.random??n.rng?.()??rS();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,tS(s)}function Bs(n,e,t){return hv.randomUUID&&!n?hv.randomUUID():iS(n)}function fv(n){if(n.length===0)return"intro";const e=n.map(o=>o.type),t=e[e.length-1],s=e.slice(-4),a=e.reduce((o,u)=>(o[u]=(o[u]||0)+1,o),{});if(t==="intro")return"verse";if(s.length>=4){const[o,u,c,f]=s;if(o==="verse"&&u==="chorus"&&c==="verse"&&f==="chorus"||o==="chorus"&&u==="verse"&&c==="chorus"&&f==="verse")return"bridge"}if(t==="bridge"||t==="verse")return"chorus";if(t==="chorus"){const o=e.includes("bridge"),u=a.chorus||0;return o&&u>=3?"outro":"verse"}return t==="outro"?"verse":t==="pre-chorus"||t==="interlude"||t==="solo"||t==="breakdown"?"chorus":"verse"}const zs=[4,4],qf=(n=zs)=>{const[e,t]=n;return!e||!t?4:e*(4/t)},lu=n=>{const e=qf(n);return{id:Bs(),beats:[{id:Bs(),chord:null,duration:e}]}},Bo=n=>n?`${n.sectionId}:${n.slotId}`:"",jg=n=>{const e=[];return n.forEach(t=>{t.measures.forEach(s=>{s.beats.forEach(a=>{e.push({sectionId:t.id,slotId:a.id,chord:a.chord??null})})})}),e},iu=(n,e)=>{if(!e)return null;for(const t of n)if(t.id===e.sectionId){for(const s of t.measures)for(const a of s.beats)if(a.id===e.slotId)return a.chord??null}return null},dv=(n,e)=>e?jg(n).findIndex(s=>s.sectionId===e.sectionId&&s.slotId===e.slotId):-1,aS=(n,e,t)=>{const s=jg(n),a=s.findIndex(f=>f.sectionId===e.sectionId&&f.slotId===e.slotId),o=s.findIndex(f=>f.sectionId===t.sectionId&&f.slotId===t.slotId);if(a===-1||o===-1)return[];const[u,c]=a<=o?[a,o]:[o,a];return s.slice(u,c+1).map(({sectionId:f,slotId:d})=>({sectionId:f,slotId:d}))},z1=(n,e)=>e?n.some(t=>t.id===e.sectionId&&t.measures.some(s=>s.beats.some(a=>a.id===e.slotId))):!1,au=(n,e,t,s,a)=>{const o=e&&t?{sectionId:e,slotId:t}:null,u=s.filter(p=>z1(n,p)),c=z1(n,o),f=u[u.length-1]||(c?o:null),d=a&&z1(n,a);return{selectedSectionId:f?.sectionId??null,selectedSlotId:f?.slotId??null,selectedSlots:u,selectionAnchor:d?a:u[0]??f??null}},Gm=100,Uf=n=>typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n)),Tr=n=>{const e=Uf(n.currentSong),t=[...n.historyPast,e].slice(-Gm);return{historyPast:t,historyFuture:[],canUndo:t.length>0,canRedo:!1}},pv=(n,e,t,s,a)=>{const o=au(n.sections,e,t,s,a),u=o.selectedSectionId&&o.selectedSlotId?{sectionId:o.selectedSectionId,slotId:o.selectedSlotId}:null,c=u?iu(n.sections,u):null;return{...o,selectedChord:c}},oS=(n,e,t)=>{let s=!1;for(const a of n)for(const o of a.measures)for(const u of o.beats){if(s)return{sectionId:a.id,slotId:u.id};a.id===e&&u.id===t&&(s=!0)}return null},Ff={id:"default",title:"Untitled Song",artist:"",key:"C",tempo:120,timeSignature:[4,4],sections:[{id:"verse-1",name:"Verse 1",type:"verse",timeSignature:zs,measures:Array(4).fill(null).map(()=>lu(zs))},{id:"chorus-1",name:"Chorus",type:"chorus",timeSignature:zs,measures:Array(4).fill(null).map(()=>lu(zs))}],notes:"",createdAt:new Date,updatedAt:new Date},vm={root:"C",quality:"major",numeral:"I",notes:["C","E","G"],symbol:"C"},sn=U_()(G_(n=>({currentSong:Ff,historyPast:[],historyFuture:[],canUndo:!1,canRedo:!1,selectedKey:"C",wheelRotation:0,wheelMode:"fixed",chordPanelVisible:!0,timelineVisible:!0,songMapVisible:!1,songInfoModalVisible:!1,collapsedSections:{},chordPanelGuitarExpanded:!1,chordPanelVoicingsExpanded:!1,chordPanelAttention:!1,selectedChord:vm,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,isPlaying:!1,playingSectionId:null,playingSlotId:null,isLooping:!1,tempo:120,volume:.8,instrument:"piano",isMuted:!1,setKey:e=>n({selectedKey:e}),rotateWheel:e=>n(t=>({wheelRotation:t.wheelMode==="rotating"?t.wheelRotation+(e==="cw"?-30:30):0})),toggleWheelMode:()=>n(e=>{const t=e.wheelMode==="rotating"?"fixed":"rotating";let s=0;if(t==="rotating"){const a=Hf.indexOf(e.selectedKey);a!==-1&&(s=-(a*30))}return{wheelMode:t,wheelRotation:s}}),toggleChordPanel:()=>n(e=>({chordPanelVisible:!e.chordPanelVisible})),toggleTimeline:()=>n(e=>({timelineVisible:!e.timelineVisible})),openTimeline:()=>n(e=>{if(typeof window<"u"&&window.dispatchEvent(new CustomEvent("openMobileTimeline")),!e.selectedSectionId||!e.selectedSlotId){const t=e.currentSong.sections;if(t.length>0){const s=e.selectedSectionId&&t.find(a=>a.id===e.selectedSectionId)||t[0];if(s.measures.length>0&&s.measures[0].beats.length>0){const a=s.measures[0].beats[0],o={sectionId:s.id,slotId:a.id},u=a.chord??null;return{timelineVisible:!0,selectedSectionId:s.id,selectedSlotId:a.id,selectedSlots:[o],selectionAnchor:o,selectedChord:u}}}}return{timelineVisible:!0}}),toggleSongMap:e=>n(t=>({songMapVisible:e!==void 0?e:!t.songMapVisible})),toggleSongInfoModal:e=>n(t=>({songInfoModalVisible:e!==void 0?e:!t.songInfoModalVisible})),toggleSectionCollapsed:e=>n(t=>{const s={...t.collapsedSections,[e]:!t.collapsedSections?.[e]};return s[e]||delete s[e],{collapsedSections:s}}),setChordPanelGuitarExpanded:e=>n({chordPanelGuitarExpanded:e}),setChordPanelVoicingsExpanded:e=>n({chordPanelVoicingsExpanded:e}),pulseChordPanel:()=>{n({chordPanelAttention:!0}),setTimeout(()=>n({chordPanelAttention:!1}),600)},setSelectedChord:e=>n({selectedChord:e}),setSelectedSlot:(e,t)=>n(s=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,selectedChord:null};const a={sectionId:e,slotId:t},o=iu(s.currentSong.sections,a);return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[a],selectionAnchor:a,selectedChord:o??null}}),selectSlotOnly:(e,t)=>n(()=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null};const s={sectionId:e,slotId:t};return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[s],selectionAnchor:s}}),setSelectedSlots:e=>n(t=>{const s=e.filter(Boolean),a=s[s.length-1]??null,o=iu(t.currentSong.sections,a);return{selectedSlots:s,selectedSectionId:a?.sectionId??null,selectedSlotId:a?.slotId??null,selectionAnchor:s[0]??a??null,selectedChord:o??null}}),toggleSlotSelection:(e,t)=>n(s=>{const a=s.selectedSlots.some(d=>d.sectionId===e&&d.slotId===t),o=a?s.selectedSlots.filter(d=>!(d.sectionId===e&&d.slotId===t)):[...s.selectedSlots,{sectionId:e,slotId:t}],u=o[o.length-1]??null,c=iu(s.currentSong.sections,u),f=a&&s.selectionAnchor&&Bo(s.selectionAnchor)===Bo({sectionId:e,slotId:t});return{selectedSlots:o,selectedSectionId:u?.sectionId??null,selectedSlotId:u?.slotId??null,selectionAnchor:f?o[0]??u??null:s.selectionAnchor??u??null,selectedChord:c??null}}),selectRangeTo:(e,t)=>n(s=>{const a={sectionId:e,slotId:t},o=s.selectionAnchor||s.selectedSlots[s.selectedSlots.length-1]||(s.selectedSectionId&&s.selectedSlotId?{sectionId:s.selectedSectionId,slotId:s.selectedSlotId}:a),c=z1(s.currentSong.sections,o)?o:a,f=aS(s.currentSong.sections,c,a),d=f.length?f:[a],p=iu(s.currentSong.sections,a);return{selectedSlots:d,selectedSectionId:a.sectionId,selectedSlotId:a.slotId,selectionAnchor:c,selectedChord:p??null}}),moveSelection:(e,t,s="move")=>{let a=!1;return n(o=>{const u=jg(o.currentSong.sections),c=dv(o.currentSong.sections,e),f=dv(o.currentSong.sections,t);if(c===-1||f===-1)return{};const p=(o.selectedSlots.length?o.selectedSlots:[e]).map(M=>{const B=u.findIndex(te=>te.sectionId===M.sectionId&&te.slotId===M.slotId);return B>=0?{idx:B,slot:u[B]}:null}).filter(M=>!!M).sort((M,B)=>M.idx-B.idx);if(!p.length)return{};const y=f-c,_=p.map(({idx:M})=>M+y);if(_.some(M=>M<0||M>=u.length))return{};const b=_.map(M=>u[M]);if(p.length===1&&s==="move"){const M=p[0].slot,B=b[0],te=Tr(o),E=o.currentSong.sections.map(Y=>({...Y,measures:Y.measures.map(J=>({...J,beats:J.beats.map(le=>le.id===M.slotId&&Y.id===M.sectionId?{...le,chord:B.chord}:le.id===B.slotId&&Y.id===B.sectionId?{...le,chord:M.chord}:le)}))}));a=!0;const I=o.selectionAnchor&&Bo(o.selectionAnchor)===Bo(e),re=au(E,t.sectionId,t.slotId,[{sectionId:B.sectionId,slotId:B.slotId}],I?{sectionId:B.sectionId,slotId:B.slotId}:o.selectionAnchor),U=re.selectedSectionId&&re.selectedSlotId?{sectionId:re.selectedSectionId,slotId:re.selectedSlotId}:null,oe=iu(E,U);return{...te,currentSong:{...o.currentSong,sections:E},selectedSectionId:re.selectedSectionId,selectedSlotId:re.selectedSlotId,selectedSlots:re.selectedSlots,selectionAnchor:re.selectionAnchor,selectedChord:oe??null}}const A=new Map;p.forEach((M,B)=>{A.set(Bo(b[B]),M.slot.chord??null)});const N=new Set;s==="move"&&p.forEach((M,B)=>{const te=Bo(M.slot),E=Bo(b[B]);te!==E&&N.add(te)});const k=Tr(o),C=o.currentSong.sections.map(M=>({...M,measures:M.measures.map(B=>({...B,beats:B.beats.map(te=>{const E=Bo({sectionId:M.id,slotId:te.id});return A.has(E)?{...te,chord:A.get(E)??null}:N.has(E)?{...te,chord:null}:te})}))}));a=!0;const R=Bo(o.selectionAnchor),D=p.find(M=>Bo(M.slot)===R),V=D?{sectionId:b[p.indexOf(D)].sectionId,slotId:b[p.indexOf(D)].slotId}:o.selectionAnchor,F=au(C,t.sectionId,t.slotId,b.map(M=>({sectionId:M.sectionId,slotId:M.slotId})),V??null),G=F.selectedSectionId&&F.selectedSlotId?{sectionId:F.selectedSectionId,slotId:F.selectedSlotId}:null,H=iu(C,G);return{...k,currentSong:{...o.currentSong,sections:C},selectedSectionId:F.selectedSectionId,selectedSlotId:F.selectedSlotId,selectedSlots:F.selectedSlots,selectionAnchor:F.selectionAnchor,selectedChord:H??null}}),a},selectNextSlotAfter:(e,t)=>{let s=!1;return n(a=>{const o=oS(a.currentSong.sections,e,t);if(!o)return{};const u=a.currentSong.sections.find(c=>c.id===o.sectionId)?.measures.flatMap(c=>c.beats).find(c=>c.id===o.slotId)?.chord??null;return s=!0,{selectedSectionId:o.sectionId,selectedSlotId:o.slotId,selectedChord:u,selectedSlots:[{sectionId:o.sectionId,slotId:o.slotId}],selectionAnchor:{sectionId:o.sectionId,slotId:o.slotId}}}),s},setTempo:e=>n(t=>({...Tr(t),tempo:e,currentSong:{...t.currentSong,tempo:e}})),setVolume:e=>n({volume:e}),setInstrument:e=>n({instrument:e}),setIsPlaying:e=>n({isPlaying:e}),setPlayingSlot:(e,t)=>n({playingSectionId:e,playingSlotId:t}),toggleLoop:()=>n(e=>({isLooping:!e.isLooping})),toggleMute:()=>n(e=>({isMuted:!e.isMuted})),setTitle:e=>n(t=>({...Tr(t),currentSong:{...t.currentSong,title:e}})),setArtist:e=>n(t=>({...Tr(t),currentSong:{...t.currentSong,artist:e}})),setTags:e=>n(t=>({...Tr(t),currentSong:{...t.currentSong,tags:e}})),setSongTimeSignature:e=>n(t=>({...Tr(t),currentSong:{...t.currentSong,timeSignature:e}})),loadSong:e=>n(t=>{const s=e.key||"C",a=e.tempo??Ff.tempo;let o=0;if(t.wheelMode==="rotating"){const c=Hf.indexOf(s);c!==-1&&(o=-(c*30))}return{...Tr(t),currentSong:{...e,tempo:a},selectedKey:s,wheelRotation:o,selectedChord:vm,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:a}}),newSong:()=>n(e=>({...Tr(e),currentSong:{...Ff,id:Bs(),title:"Untitled Song",createdAt:new Date,updatedAt:new Date,tempo:Ff.tempo,sections:[{id:Bs(),name:"Verse 1",type:"verse",timeSignature:zs,measures:Array(4).fill(null).map(()=>lu(zs))},{id:Bs(),name:"Chorus",type:"chorus",timeSignature:zs,measures:Array(4).fill(null).map(()=>lu(zs))}]},selectedKey:"C",wheelRotation:0,selectedChord:vm,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:Ff.tempo})),addSection:e=>n(t=>{const s={id:Bs(),name:e.charAt(0).toUpperCase()+e.slice(1),type:e,timeSignature:t.currentSong.timeSignature||zs,measures:Array(4).fill(null).map(()=>lu(t.currentSong.timeSignature||zs))};return{...Tr(t),currentSong:{...t.currentSong,sections:[...t.currentSong.sections,s]}}}),addSuggestedSection:()=>n(e=>{const t=fv(e.currentSong.sections),s={id:Bs(),name:t.charAt(0).toUpperCase()+t.slice(1),type:t,timeSignature:e.currentSong.timeSignature||zs,measures:Array(4).fill(null).map(()=>lu(e.currentSong.timeSignature||zs))};return{...Tr(e),currentSong:{...e.currentSong,sections:[...e.currentSong.sections,s]}}}),addCustomSection:(e,t,s,a)=>n(o=>{const u=o.currentSong.timeSignature||zs,c=qf(u),f=a?.beatsPerChord??4,d=c/f;let p;a?.totalBars?p=a.totalBars:d>=1?p=Math.ceil(s.length/d):p=s.length*Math.ceil(1/d);const y=[];if(d>=1)for(let k=0;k<p;k++){const C=[];for(let R=0;R<d;R++){const D=Math.floor(k*d+R);C.push({id:Bs(),chord:s[D]||null,duration:f})}y.push({id:Bs(),beats:C})}else for(let k=0;k<p;k++)y.push({id:Bs(),beats:[{id:Bs(),chord:s[k]||null,duration:c}]});const _={id:Bs(),name:e,type:t,timeSignature:u,measures:y},b=Tr(o),A=y[0]?.beats[0]?.id,N=y[0]?.beats[0]?.chord??null;return{...b,currentSong:{...o.currentSong,sections:[...o.currentSong.sections,_]},selectedSectionId:_.id,selectedSlotId:A??null,selectedSlots:A?[{sectionId:_.id,slotId:A}]:[],selectionAnchor:A?{sectionId:_.id,slotId:A}:null,selectedChord:N}}),getSuggestedSectionType:()=>{const e=sn.getState();return fv(e.currentSong.sections)},updateSection:(e,t)=>n(s=>({...Tr(s),currentSong:{...s.currentSong,sections:s.currentSong.sections.map(o=>o.id===e?{...o,...t}:o)}})),removeSection:e=>n(t=>{const s=Tr(t),{[e]:a,...o}=t.collapsedSections||{};return{...s,currentSong:{...t.currentSong,sections:t.currentSong.sections.filter(u=>u.id!==e)},collapsedSections:o}}),clearSection:e=>n(t=>{const s=t.currentSong.sections.find(c=>c.id===e);if(!s)return{};if(!s.measures.some(c=>c.beats.some(f=>f.chord!==null)))return{};const o=Tr(t),u=t.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>({...d,chord:null}))}))});return{...o,currentSong:{...t.currentSong,sections:u}}}),duplicateSection:e=>n(t=>{const s=t.currentSong.sections.find(f=>f.id===e);if(!s)return{};const a=Tr(t),o={...s,id:Bs(),name:`${s.name} (Copy)`,timeSignature:s.timeSignature||t.currentSong.timeSignature||zs,measures:s.measures.map(f=>({...f,id:Bs(),beats:f.beats.map(d=>({...d,id:Bs()}))}))},u=t.currentSong.sections.findIndex(f=>f.id===e),c=[...t.currentSong.sections];return c.splice(u+1,0,o),{...a,currentSong:{...t.currentSong,sections:c}}}),reorderSections:e=>n(t=>({...Tr(t),currentSong:{...t.currentSong,sections:e}})),setSectionMeasures:(e,t)=>n(s=>{const a=Math.max(1,Math.min(32,Math.round(t))),o=s.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||s.currentSong.timeSignature||zs;let p=[...f.measures];if(p.length<a)for(;p.length<a;)p.push(lu(d));else p.length>a&&(p=p.slice(0,a));return{...f,measures:p}}),u=au(o,s.selectedSectionId,s.selectedSlotId,s.selectedSlots,s.selectionAnchor);return{...Tr(s),currentSong:{...s.currentSong,sections:o},...u}}),setSectionTimeSignature:(e,t)=>n(s=>{const a=s.currentSong.sections.map(c=>{if(c.id!==e)return c;const f=qf(t);return{...c,timeSignature:t,measures:c.measures.map(d=>({...d,beats:[{id:Bs(),chord:null,duration:f}]}))}}),o=au(a,s.selectedSectionId,s.selectedSlotId,s.selectedSlots,s.selectionAnchor);return{...Tr(s),currentSong:{...s.currentSong,sections:a},...o}}),setMeasureSubdivision:(e,t,s)=>n(a=>{const o=Math.max(1,Math.min(32,Math.round(s))),u=a.currentSong.sections.map(d=>{if(d.id!==e)return d;const p=d.timeSignature||a.currentSong.timeSignature||zs,y=qf(p);return{...d,measures:d.measures.map(_=>{if(_.id!==t)return _;const b=y/o,A=Array.from({length:o}).map((N,k)=>{const C=_.beats[k];return{id:C?.id??Bs(),chord:C?.chord??null,duration:b}});return{..._,beats:A}})}}),c=au(u,a.selectedSectionId,a.selectedSlotId,a.selectedSlots,a.selectionAnchor);return{...Tr(a),currentSong:{...a.currentSong,sections:u},...c}}),setSectionSubdivision:(e,t)=>n(s=>{const a=Math.max(1,Math.min(32,Math.round(t))),o=s.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||s.currentSong.timeSignature||zs,y=qf(d)/a;return{...f,measures:f.measures.map(_=>{const b=Array.from({length:a}).map((A,N)=>{const k=_.beats[N];return{id:k?.id??Bs(),chord:k?.chord??null,duration:y}});return{..._,beats:b}})}}),u=au(o,s.selectedSectionId,s.selectedSlotId,s.selectedSlots,s.selectionAnchor);return{...Tr(s),currentSong:{...s.currentSong,sections:o},...u}}),addChordToSlot:(e,t,s)=>n(a=>{const o=Tr(a),u=a.currentSong.sections.map(c=>c.id!==t?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==s?d:{...d,chord:e})}))});return{...o,currentSong:{...a.currentSong,sections:u}}}),clearSlot:(e,t)=>n(s=>{if(!s.currentSong.sections.some(c=>c.id===e&&c.measures.some(f=>f.beats.some(d=>d.id===t&&d.chord))))return{};const o=Tr(s),u=s.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==t?d:{...d,chord:null})}))});return{...o,currentSong:{...s.currentSong,sections:u}}}),clearTimeline:()=>n(e=>{if(!e.currentSong.sections.some(o=>o.measures.some(u=>u.beats.some(c=>c.chord!==null))))return{};const s=Tr(e),a=e.currentSong.sections.map(o=>({...o,measures:o.measures.map(u=>({...u,beats:u.beats.map(c=>({...c,chord:null}))}))}));return{...s,currentSong:{...e.currentSong,sections:a},selectedChord:null}}),moveChord:(e,t,s,a)=>n(o=>{let u=null,c=null;if(o.currentSong.sections.forEach(p=>{p.measures.forEach(y=>{y.beats.forEach(_=>{_.id===t&&(u=_.chord),_.id===a&&(c=_.chord)})})}),!u&&!c)return{};const f=Tr(o),d=o.currentSong.sections.map(p=>({...p,measures:p.measures.map(y=>({...y,beats:y.beats.map(_=>_.id===t?{..._,chord:c}:_.id===a?{..._,chord:u}:_)}))}));return{...f,currentSong:{...o.currentSong,sections:d}}}),undo:()=>n(e=>{if(!e.historyPast.length)return{};const t=e.historyPast[e.historyPast.length-1],s=e.historyPast.slice(0,-1),a=[Uf(e.currentSong),...e.historyFuture].slice(0,Gm),o=pv(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Uf(t),historyPast:s,historyFuture:a,canUndo:s.length>0,canRedo:a.length>0,tempo:t.tempo??e.tempo,...o}}),redo:()=>n(e=>{if(!e.historyFuture.length)return{};const t=e.historyFuture[0],s=e.historyFuture.slice(1),a=[...e.historyPast,Uf(e.currentSong)].slice(-Gm),o=pv(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Uf(t),historyPast:a,historyFuture:s,canUndo:a.length>0,canRedo:s.length>0,tempo:t.tempo??e.tempo,...o}})}),{name:"songwriter-wheel-storage",partialize:n=>({currentSong:n.currentSong,tempo:n.tempo,volume:n.volume,instrument:n.instrument,isMuted:n.isMuted})}));function wc(n,e,t,s){const a=(s-90)*Math.PI/180;return{x:n+t*Math.cos(a),y:e+t*Math.sin(a)}}function lS(n,e,t,s,a){const o=wc(n,e,t,s),u=wc(n,e,t,a),c=a-s<=180?"0":"1";return["M",o.x,o.y,"A",t,t,0,c,1,u.x,u.y].join(" ")}function cS(n,e,t,s,a,o){const u=wc(n,e,s,o),c=wc(n,e,s,a),f=wc(n,e,t,o),d=wc(n,e,t,a),p=o-a<=180?"0":"1";return["M",u.x,u.y,"A",s,s,0,p,0,c.x,c.y,"L",d.x,d.y,"A",t,t,0,p,1,f.x,f.y,"Z"].join(" ")}function Tx(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=Tx(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Ut(){for(var n,e,t=0,s="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=Tx(n))&&(s&&(s+=" "),s+=e);return s}const Cx="15.1.22",mv=(n,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:n}),gv=(n,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:n}),Ym=(n,e)=>({startTime:e,type:"setValue",value:n}),kx=(n,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:n}),jx=(n,e,{startTime:t,target:s,timeConstant:a})=>s+(e-s)*Math.exp((t-n)/a),xh=n=>n.type==="exponentialRampToValue",J1=n=>n.type==="linearRampToValue",yc=n=>xh(n)||J1(n),Eg=n=>n.type==="setValue",Nl=n=>n.type==="setValueCurve",ep=(n,e,t,s)=>{const a=n[e];return a===void 0?s:yc(a)||Eg(a)?a.value:Nl(a)?a.values[a.values.length-1]:jx(t,ep(n,e-1,a.startTime,s),a)},bv=(n,e,t,s,a)=>t===void 0?[s.insertTime,a]:yc(t)?[t.endTime,t.value]:Eg(t)?[t.startTime,t.value]:Nl(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,ep(n,e-1,t.startTime,a)],$m=n=>n.type==="cancelAndHold",Xm=n=>n.type==="cancelScheduledValues",gc=n=>$m(n)||Xm(n)?n.cancelTime:xh(n)||J1(n)?n.endTime:n.startTime,vv=(n,e,t,{endTime:s,value:a})=>t===a?a:0<t&&0<a||t<0&&a<0?t*(a/t)**((n-e)/(s-e)):0,yv=(n,e,t,{endTime:s,value:a})=>t+(n-e)/(s-e)*(a-t),uS=(n,e)=>{const t=Math.floor(e),s=Math.ceil(e);return t===s?n[t]:(1-(e-t))*n[t]+(1-(s-e))*n[s]},hS=(n,{duration:e,startTime:t,values:s})=>{const a=(n-t)/e*(s.length-1);return uS(s,a)},N1=n=>n.type==="setTarget";class fS{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=gc(e);if($m(e)||Xm(e)){const s=this._automationEvents.findIndex(o=>Xm(e)&&Nl(o)?o.startTime+o.duration>=t:gc(o)>=t),a=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),$m(e)){const o=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&yc(a)){if(o!==void 0&&N1(o))throw new Error("The internal list is malformed.");const u=o===void 0?a.insertTime:Nl(o)?o.startTime+o.duration:gc(o),c=o===void 0?this._defaultValue:Nl(o)?o.values[o.values.length-1]:o.value,f=xh(a)?vv(t,u,c,a):yv(t,u,c,a),d=xh(a)?mv(f,t,this._currenTime):gv(f,t,this._currenTime);this._automationEvents.push(d)}if(o!==void 0&&N1(o)&&this._automationEvents.push(Ym(this.getValue(t),t)),o!==void 0&&Nl(o)&&o.startTime+o.duration>t){const u=t-o.startTime,c=(o.values.length-1)/o.duration,f=Math.max(2,1+Math.ceil(u*c)),d=u/(f-1)*c,p=o.values.slice(0,f);if(d<1)for(let y=1;y<f;y+=1){const _=d*y%1;p[y]=o.values[y-1]*(1-_)+o.values[y]*_}this._automationEvents[this._automationEvents.length-1]=kx(p,o.startTime,u)}}}else{const s=this._automationEvents.findIndex(u=>gc(u)>t),a=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(a!==void 0&&Nl(a)&&gc(a)+a.duration>t)return!1;const o=xh(e)?mv(e.value,e.endTime,this._currenTime):J1(e)?gv(e.value,t,this._currenTime):e;if(s===-1)this._automationEvents.push(o);else{if(Nl(e)&&t+e.duration>gc(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,o)}}return!0}flush(e){const t=this._automationEvents.findIndex(s=>gc(s)>e);if(t>1){const s=this._automationEvents.slice(t-1),a=s[0];N1(a)&&s.unshift(Ym(ep(this._automationEvents,t-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(u=>gc(u)>e),s=this._automationEvents[t],a=(t===-1?this._automationEvents.length:t)-1,o=this._automationEvents[a];if(o!==void 0&&N1(o)&&(s===void 0||!yc(s)||s.insertTime>e))return jx(e,ep(this._automationEvents,a-1,o.startTime,this._defaultValue),o);if(o!==void 0&&Eg(o)&&(s===void 0||!yc(s)))return o.value;if(o!==void 0&&Nl(o)&&(s===void 0||!yc(s)||o.startTime+o.duration>e))return e<o.startTime+o.duration?hS(e,o):o.values[o.values.length-1];if(o!==void 0&&yc(o)&&(s===void 0||!yc(s)))return o.value;if(s!==void 0&&xh(s)){const[u,c]=bv(this._automationEvents,a,o,s,this._defaultValue);return vv(e,u,c,s)}if(s!==void 0&&J1(s)){const[u,c]=bv(this._automationEvents,a,o,s,this._defaultValue);return yv(e,u,c,s)}return this._defaultValue}}const dS=n=>({cancelTime:n,type:"cancelAndHold"}),pS=n=>({cancelTime:n,type:"cancelScheduledValues"}),mS=(n,e)=>({endTime:e,type:"exponentialRampToValue",value:n}),gS=(n,e)=>({endTime:e,type:"linearRampToValue",value:n}),bS=(n,e,t)=>({startTime:e,target:n,timeConstant:t,type:"setTarget"}),vS=()=>new DOMException("","AbortError"),yS=n=>(e,t,[s,a,o],u)=>{n(e[a],[t,s,o],c=>c[0]===t&&c[1]===s,u)},xS=n=>(e,t,s)=>{const a=[];for(let o=0;o<s.numberOfInputs;o+=1)a.push(new Set);n.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},wS=n=>(e,t)=>{n.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},Oh=new WeakSet,Ex=new WeakMap,Mg=new WeakMap,Mx=new WeakMap,Lg=new WeakMap,kp=new WeakMap,Lx=new WeakMap,Zm=new WeakMap,Qm=new WeakMap,Km=new WeakMap,Ox={construct(){return Ox}},_S=n=>{try{const e=new Proxy(n,Ox);new e}catch{return!1}return!0},xv=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,wv=(n,e)=>{const t=[];let s=n.replace(/^[\s]+/,""),a=s.match(xv);for(;a!==null;){const o=a[1].slice(1,-1),u=a[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,e).toString());t.push(u),s=s.slice(a[0].length).replace(/^[\s]+/,""),a=s.match(xv)}return[t.join(";"),s]},_v=n=>{if(n!==void 0&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Sv=n=>{if(!_S(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(n.prototype===null||typeof n.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},SS=(n,e,t,s,a,o,u,c,f,d,p,y,_)=>{let b=0;return(A,N,k={credentials:"omit"})=>{const C=p.get(A);if(C!==void 0&&C.has(N))return Promise.resolve();const R=d.get(A);if(R!==void 0){const F=R.get(N);if(F!==void 0)return F}const D=o(A),V=D.audioWorklet===void 0?a(N).then(([F,G])=>{const[H,M]=wv(F,G),B=`${H};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${M}
})})(window,'_AWGS')`;return t(B)}).then(()=>{const F=_._AWGS.pop();if(F===void 0)throw new SyntaxError;s(D.currentTime,D.sampleRate,()=>F(class{},void 0,(G,H)=>{if(G.trim()==="")throw e();const M=Qm.get(D);if(M!==void 0){if(M.has(G))throw e();Sv(H),_v(H.parameterDescriptors),M.set(G,H)}else Sv(H),_v(H.parameterDescriptors),Qm.set(D,new Map([[G,H]]))},D.sampleRate,void 0,void 0))}):Promise.all([a(N),Promise.resolve(n(y,y))]).then(([[F,G],H])=>{const M=b+1;b=M;const[B,te]=wv(F,G),U=`${B};((AudioWorkletProcessor,registerProcessor)=>{${te}
})(${H?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${H?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${H?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${M}',class extends AudioWorkletProcessor{process(){return !1}})`,oe=new Blob([U],{type:"application/javascript; charset=utf-8"}),Y=URL.createObjectURL(oe);return D.audioWorklet.addModule(Y,k).then(()=>{if(c(D))return D;const J=u(D);return J.audioWorklet.addModule(Y,k).then(()=>J)}).then(J=>{if(f===null)throw new SyntaxError;try{new f(J,`__sac${M}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(Y))});return R===void 0?d.set(A,new Map([[N,V]])):R.set(N,V),V.then(()=>{const F=p.get(A);F===void 0?p.set(A,new Set([N])):F.add(N)}).finally(()=>{const F=d.get(A);F!==void 0&&F.delete(N)}),V}},uo=(n,e)=>{const t=n.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},jp=(n,e)=>{const t=Array.from(n).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[s]=t;return n.delete(s),s},Dx=(n,e,t,s)=>{const a=uo(n,e),o=jp(a,u=>u[0]===t&&u[1]===s);return a.size===0&&n.delete(e),o},md=n=>uo(Lx,n),Dh=n=>{if(Oh.has(n))throw new Error("The AudioNode is already stored.");Oh.add(n),md(n).forEach(e=>e(!0))},Rx=n=>"port"in n,gd=n=>{if(!Oh.has(n))throw new Error("The AudioNode is not stored.");Oh.delete(n),md(n).forEach(e=>e(!1))},Jm=(n,e)=>{!Rx(n)&&e.every(t=>t.size===0)&&gd(n)},NS=(n,e,t,s,a,o,u,c,f,d,p,y,_)=>{const b=new WeakMap;return(A,N,k,C,R)=>{const{activeInputs:D,passiveInputs:V}=o(N),{outputs:F}=o(A),G=c(A),H=M=>{const B=f(N),te=f(A);if(M){const E=Dx(V,A,k,C);n(D,A,E,!1),!R&&!y(A)&&t(te,B,k,C),_(N)&&Dh(N)}else{const E=s(D,A,k,C);e(V,C,E,!1),!R&&!y(A)&&a(te,B,k,C);const I=u(N);if(I===0)p(N)&&Jm(N,D);else{const re=b.get(N);re!==void 0&&clearTimeout(re),b.set(N,setTimeout(()=>{p(N)&&Jm(N,D)},I*1e3))}}};return d(F,[N,k,C],M=>M[0]===N&&M[1]===k&&M[2]===C,!0)?(G.add(H),p(A)?n(D,A,[k,C,H],!0):e(V,C,[A,k,H],!0),!0):!1}},AS=n=>(e,t,[s,a,o],u)=>{const c=e.get(s);c===void 0?e.set(s,new Set([[a,t,o]])):n(c,[a,t,o],f=>f[0]===a&&f[1]===t,u)},TS=n=>(e,t)=>{const s=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(s).connect(e.destination);const a=()=>{t.removeEventListener("ended",a),t.disconnect(s),s.disconnect()};t.addEventListener("ended",a)},CS=n=>(e,t)=>{n(e).add(t)},kS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},jS=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=a(c),p={...kS,...f},y=s(d,p),_=o(d)?e():null;super(c,!1,y,_),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=f,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},ui=(n,e)=>n.context===e,ES=(n,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!ui(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=n(u,d)}return s.set(u,c),await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},tp=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Wo=()=>new DOMException("","IndexSizeError"),Og=n=>{n.getChannelData=(e=>t=>{try{return e.call(n,t)}catch(s){throw s.code===12?Wo():s}})(n.getChannelData)},MS={numberOfChannels:1},LS=(n,e,t,s,a,o,u,c)=>{let f=null;return class Ix{constructor(p){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:_,sampleRate:b}={...MS,...p};f===null&&(f=new a(1,1,44100));const A=s!==null&&e(o,o)?new s({length:y,numberOfChannels:_,sampleRate:b}):f.createBuffer(_,y,b);if(A.numberOfChannels===0)throw t();return typeof A.copyFromChannel!="function"?(u(A),Og(A)):e(tp,()=>tp(A))||c(A),n.add(A),A}static[Symbol.hasInstance](p){return p!==null&&typeof p=="object"&&Object.getPrototypeOf(p)===Ix.prototype||n.has(p)}}},Pi=-34028234663852886e22,vi=-Pi,kl=n=>Oh.has(n),OS={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},DS=(n,e,t,s,a,o,u,c)=>class extends n{constructor(d,p){const y=o(d),_={...OS,...p},b=a(y,_),A=u(y),N=A?e():null;super(d,!1,b,N),this._audioBufferSourceNodeRenderer=N,this._isBufferNullified=!1,this._isBufferSet=_.buffer!==null,this._nativeAudioBufferSourceNode=b,this._onended=null,this._playbackRate=t(this,A,b.playbackRate,vi,Pi)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const p=typeof d=="function"?c(this,d):null;this._nativeAudioBufferSourceNode.onended=p;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===p?d:y}get playbackRate(){return this._playbackRate}start(d=0,p=0,y){if(this._nativeAudioBufferSourceNode.start(d,p,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[d,p]:[d,p,y]),this.context.state!=="closed"){Dh(this);const _=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",_),kl(this)&&gd(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",_)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},RS=(n,e,t,s,a)=>()=>{const o=new WeakMap;let u=null,c=null;const f=async(d,p)=>{let y=t(d);const _=ui(y,p);if(!_){const b={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=e(p,b),u!==null&&y.start(...u),c!==null&&y.stop(c)}return o.set(p,y),_?await n(p,d.playbackRate,y.playbackRate):await s(p,d.playbackRate,y.playbackRate),await a(d,p,y),y};return{set start(d){u=d},set stop(d){c=d},render(d,p){const y=o.get(p);return y!==void 0?Promise.resolve(y):f(d,p)}}},IS=n=>"playbackRate"in n,VS=n=>"frequency"in n&&"gain"in n,FS=n=>"offset"in n,BS=n=>!("frequency"in n)&&"gain"in n,zS=n=>"detune"in n&&"frequency"in n&&!("gain"in n),PS=n=>"pan"in n,yi=n=>uo(Ex,n),bd=n=>uo(Mx,n),eg=(n,e)=>{const{activeInputs:t}=yi(n);t.forEach(a=>a.forEach(([o])=>{e.includes(n)||eg(o,[...e,n])}));const s=IS(n)?[n.playbackRate]:Rx(n)?Array.from(n.parameters.values()):VS(n)?[n.Q,n.detune,n.frequency,n.gain]:FS(n)?[n.offset]:BS(n)?[n.gain]:zS(n)?[n.detune,n.frequency]:PS(n)?[n.pan]:[];for(const a of s){const o=bd(a);o!==void 0&&o.activeInputs.forEach(([u])=>eg(u,e))}kl(n)&&gd(n)},Vx=n=>{eg(n.destination,[])},qS=n=>n===void 0||typeof n=="number"||typeof n=="string"&&(n==="balanced"||n==="interactive"||n==="playback"),US=(n,e,t,s,a,o,u,c,f)=>class extends n{constructor(p={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new f(p)}catch(A){throw A.code===12&&A.message==="sampleRate is not in range"?t():A}if(y===null)throw s();if(!qS(p.latencyHint))throw new TypeError(`The provided value '${p.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(p.sampleRate!==void 0&&y.sampleRate!==p.sampleRate)throw t();super(y,2);const{latencyHint:_}=p,{sampleRate:b}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:_==="balanced"?512/b:_==="interactive"||_===void 0?256/b:_==="playback"?1024/b:Math.max(2,Math.min(128,Math.round(_*b/128)))*128/b,this._nativeAudioContext=y,f.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const A=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",A)};y.addEventListener("statechange",A)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Vx(this)}))}createMediaElementSource(p){return new a(this,{mediaElement:p})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(p){return new u(this,{mediaStream:p})}createMediaStreamTrackSource(p){return new c(this,{mediaStreamTrack:p})}resume(){return this._state==="suspended"?new Promise((p,y)=>{const _=()=>{this._nativeAudioContext.removeEventListener("statechange",_),this._nativeAudioContext.state==="running"?p():this.resume().then(p,y)};this._nativeAudioContext.addEventListener("statechange",_)}):this._nativeAudioContext.resume().catch(p=>{throw p===void 0||p.code===15?e():p})}suspend(){return this._nativeAudioContext.suspend().catch(p=>{throw p===void 0?e():p})}},HS=(n,e,t,s,a,o,u,c)=>class extends n{constructor(d,p){const y=o(d),_=u(y),b=a(y,p,_),A=_?e(c):null;super(d,!1,b,A),this._isNodeOfNativeOfflineAudioContext=_,this._nativeAudioDestinationNode=b}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},WS=n=>{const e=new WeakMap,t=async(s,a)=>{const o=a.destination;return e.set(a,o),await n(s,a,o),o};return{render(s,a){const o=e.get(a);return o!==void 0?Promise.resolve(o):t(s,a)}}},GS=(n,e,t,s,a,o,u,c)=>(f,d)=>{const p=d.listener,y=()=>{const F=new Float32Array(1),G=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),H=u(d);let M=!1,B=[0,0,-1,0,1,0],te=[0,0,0];const E=()=>{if(M)return;M=!0;const oe=s(d,256,9,0);oe.onaudioprocess=({inputBuffer:Y})=>{const J=[o(Y,F,0),o(Y,F,1),o(Y,F,2),o(Y,F,3),o(Y,F,4),o(Y,F,5)];J.some((pe,be)=>pe!==B[be])&&(p.setOrientation(...J),B=J);const le=[o(Y,F,6),o(Y,F,7),o(Y,F,8)];le.some((pe,be)=>pe!==te[be])&&(p.setPosition(...le),te=le)},G.connect(oe)},I=oe=>Y=>{Y!==B[oe]&&(B[oe]=Y,p.setOrientation(...B))},re=oe=>Y=>{Y!==te[oe]&&(te[oe]=Y,p.setPosition(...te))},U=(oe,Y,J)=>{const le=t(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Y});le.connect(G,0,oe),le.start(),Object.defineProperty(le.offset,"defaultValue",{get(){return Y}});const pe=n({context:f},H,le.offset,vi,Pi);return c(pe,"value",be=>()=>be.call(pe),be=>W=>{try{be.call(pe,W)}catch(j){if(j.code!==9)throw j}E(),H&&J(W)}),pe.cancelAndHoldAtTime=(be=>H?()=>{throw a()}:(...W)=>{const j=be.apply(pe,W);return E(),j})(pe.cancelAndHoldAtTime),pe.cancelScheduledValues=(be=>H?()=>{throw a()}:(...W)=>{const j=be.apply(pe,W);return E(),j})(pe.cancelScheduledValues),pe.exponentialRampToValueAtTime=(be=>H?()=>{throw a()}:(...W)=>{const j=be.apply(pe,W);return E(),j})(pe.exponentialRampToValueAtTime),pe.linearRampToValueAtTime=(be=>H?()=>{throw a()}:(...W)=>{const j=be.apply(pe,W);return E(),j})(pe.linearRampToValueAtTime),pe.setTargetAtTime=(be=>H?()=>{throw a()}:(...W)=>{const j=be.apply(pe,W);return E(),j})(pe.setTargetAtTime),pe.setValueAtTime=(be=>H?()=>{throw a()}:(...W)=>{const j=be.apply(pe,W);return E(),j})(pe.setValueAtTime),pe.setValueCurveAtTime=(be=>H?()=>{throw a()}:(...W)=>{const j=be.apply(pe,W);return E(),j})(pe.setValueCurveAtTime),pe};return{forwardX:U(0,0,I(0)),forwardY:U(1,0,I(1)),forwardZ:U(2,-1,I(2)),positionX:U(6,0,re(0)),positionY:U(7,0,re(1)),positionZ:U(8,0,re(2)),upX:U(3,0,I(3)),upY:U(4,1,I(4)),upZ:U(5,0,I(5))}},{forwardX:_,forwardY:b,forwardZ:A,positionX:N,positionY:k,positionZ:C,upX:R,upY:D,upZ:V}=p.forwardX===void 0?y():p;return{get forwardX(){return _},get forwardY(){return b},get forwardZ(){return A},get positionX(){return N},get positionY(){return k},get positionZ(){return C},get upX(){return R},get upY(){return D},get upZ(){return V}}},np=n=>"context"in n,vd=n=>np(n[0]),xu=(n,e,t,s)=>{for(const a of n)if(t(a)){if(s)return!1;throw Error("The set contains at least one similar element.")}return n.add(e),!0},Nv=(n,e,[t,s],a)=>{xu(n,[e,t,s],o=>o[0]===e&&o[1]===t,a)},Av=(n,[e,t,s],a)=>{const o=n.get(e);o===void 0?n.set(e,new Set([[t,s]])):xu(o,[t,s],u=>u[0]===t,a)},zh=n=>"inputs"in n,rp=(n,e,t,s)=>{if(zh(e)){const a=e.inputs[s];return n.connect(a,t,0),[a,t,0]}return n.connect(e,t,s),[e,t,s]},Fx=(n,e,t)=>{for(const s of n)if(s[0]===e&&s[1]===t)return n.delete(s),s;return null},YS=(n,e,t)=>jp(n,s=>s[0]===e&&s[1]===t),Bx=(n,e)=>{if(!md(n).delete(e))throw new Error("Missing the expected event listener.")},zx=(n,e,t)=>{const s=uo(n,e),a=jp(s,o=>o[0]===t);return s.size===0&&n.delete(e),a},sp=(n,e,t,s)=>{zh(e)?n.disconnect(e.inputs[s],t,0):n.disconnect(e,t,s)},jr=n=>uo(Mg,n),td=n=>uo(Lg,n),mu=n=>Zm.has(n),P1=n=>!Oh.has(n),Tv=(n,e)=>new Promise(t=>{if(e!==null)t(!0);else{const s=n.createScriptProcessor(256,1,1),a=n.createGain(),o=n.createBuffer(1,2,44100),u=o.getChannelData(0);u[0]=1,u[1]=1;const c=n.createBufferSource();c.buffer=o,c.loop=!0,c.connect(s).connect(n.destination),c.connect(a),c.disconnect(a),s.onaudioprocess=f=>{const d=f.inputBuffer.getChannelData(0);Array.prototype.some.call(d,p=>p===1)?t(!0):t(!1),c.stop(),s.onaudioprocess=null,c.disconnect(s),s.disconnect(n.destination)},c.start()}}),ym=(n,e)=>{const t=new Map;for(const s of n)for(const a of s){const o=t.get(a);t.set(a,o===void 0?1:o+1)}t.forEach((s,a)=>e(a,s))},ip=n=>"context"in n,$S=n=>{const e=new Map;n.connect=(t=>(s,a=0,o=0)=>{const u=ip(s)?t(s,a,o):t(s,a),c=e.get(s);return c===void 0?e.set(s,[{input:o,output:a}]):c.every(f=>f.input!==o||f.output!==a)&&c.push({input:o,output:a}),u})(n.connect.bind(n)),n.disconnect=(t=>(s,a,o)=>{if(t.apply(n),s===void 0)e.clear();else if(typeof s=="number")for(const[u,c]of e){const f=c.filter(d=>d.output!==s);f.length===0?e.delete(u):e.set(u,f)}else if(e.has(s))if(a===void 0)e.delete(s);else{const u=e.get(s);if(u!==void 0){const c=u.filter(f=>f.output!==a&&(f.input!==o||o===void 0));c.length===0?e.delete(s):e.set(s,c)}}for(const[u,c]of e)c.forEach(f=>{ip(u)?n.connect(u,f.output,f.input):n.connect(u,f.output)})})(n.disconnect)},XS=(n,e,t,s)=>{const{activeInputs:a,passiveInputs:o}=bd(e),{outputs:u}=yi(n),c=md(n),f=d=>{const p=jr(n),y=td(e);if(d){const _=zx(o,n,t);Nv(a,n,_,!1),!s&&!mu(n)&&p.connect(y,t)}else{const _=YS(a,n,t);Av(o,_,!1),!s&&!mu(n)&&p.disconnect(y,t)}};return xu(u,[e,t],d=>d[0]===e&&d[1]===t,!0)?(c.add(f),kl(n)?Nv(a,n,[t,f],!0):Av(o,[n,t,f],!0),!0):!1},ZS=(n,e,t,s)=>{const{activeInputs:a,passiveInputs:o}=yi(e),u=Fx(a[s],n,t);return u===null?[Dx(o,n,t,s)[2],!1]:[u[2],!0]},QS=(n,e,t)=>{const{activeInputs:s,passiveInputs:a}=bd(e),o=Fx(s,n,t);return o===null?[zx(a,n,t)[1],!1]:[o[2],!0]},Dg=(n,e,t,s,a)=>{const[o,u]=ZS(n,t,s,a);if(o!==null&&(Bx(n,o),u&&!e&&!mu(n)&&sp(jr(n),jr(t),s,a)),kl(t)){const{activeInputs:c}=yi(t);Jm(t,c)}},Rg=(n,e,t,s)=>{const[a,o]=QS(n,t,s);a!==null&&(Bx(n,a),o&&!e&&!mu(n)&&jr(n).disconnect(td(t),s))},KS=(n,e)=>{const t=yi(n),s=[];for(const a of t.outputs)vd(a)?Dg(n,e,...a):Rg(n,e,...a),s.push(a[0]);return t.outputs.clear(),s},JS=(n,e,t)=>{const s=yi(n),a=[];for(const o of s.outputs)o[1]===t&&(vd(o)?Dg(n,e,...o):Rg(n,e,...o),a.push(o[0]),s.outputs.delete(o));return a},e6=(n,e,t,s,a)=>{const o=yi(n);return Array.from(o.outputs).filter(u=>u[0]===t&&(s===void 0||u[1]===s)&&(a===void 0||u[2]===a)).map(u=>(vd(u)?Dg(n,e,...u):Rg(n,e,...u),o.outputs.delete(u),u[0]))},t6=(n,e,t,s,a,o,u,c,f,d,p,y,_,b,A,N)=>class extends d{constructor(C,R,D,V){super(D),this._context=C,this._nativeAudioNode=D;const F=p(C);y(F)&&t(Tv,()=>Tv(F,N))!==!0&&$S(D),Mg.set(this,D),Lx.set(this,new Set),C.state!=="closed"&&R&&Dh(this),n(this,V,D)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,R=0,D=0){if(R<0||R>=this._nativeAudioNode.numberOfOutputs)throw a();const V=p(this._context),F=A(V);if(_(C)||b(C))throw o();if(np(C)){const M=jr(C);try{const te=rp(this._nativeAudioNode,M,R,D),E=P1(this);(F||E)&&this._nativeAudioNode.disconnect(...te),this.context.state!=="closed"&&!E&&P1(C)&&Dh(C)}catch(te){throw te.code===12?o():te}if(e(this,C,R,D,F)){const te=f([this],C);ym(te,s(F))}return C}const G=td(C);if(G.name==="playbackRate"&&G.maxValue===1024)throw u();try{this._nativeAudioNode.connect(G,R),(F||P1(this))&&this._nativeAudioNode.disconnect(G,R)}catch(M){throw M.code===12?o():M}if(XS(this,C,R,F)){const M=f([this],C);ym(M,s(F))}}disconnect(C,R,D){let V;const F=p(this._context),G=A(F);if(C===void 0)V=KS(this,G);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw a();V=JS(this,G,C)}else{if(R!==void 0&&(R<0||R>=this.numberOfOutputs)||np(C)&&D!==void 0&&(D<0||D>=C.numberOfInputs))throw a();if(V=e6(this,G,C,R,D),V.length===0)throw o()}for(const H of V){const M=f([this],H);ym(M,c)}}},n6=(n,e,t,s,a,o,u,c,f,d,p,y,_)=>(b,A,N,k=null,C=null)=>{const R=N.value,D=new fS(R),V=A?s(D):null,F={get defaultValue(){return R},get maxValue(){return k===null?N.maxValue:k},get minValue(){return C===null?N.minValue:C},get value(){return N.value},set value(G){N.value=G,F.setValueAtTime(G,b.context.currentTime)},cancelAndHoldAtTime(G){if(typeof N.cancelAndHoldAtTime=="function")V===null&&D.flush(b.context.currentTime),D.add(a(G)),N.cancelAndHoldAtTime(G);else{const H=Array.from(D).pop();V===null&&D.flush(b.context.currentTime),D.add(a(G));const M=Array.from(D).pop();N.cancelScheduledValues(G),H!==M&&M!==void 0&&(M.type==="exponentialRampToValue"?N.exponentialRampToValueAtTime(M.value,M.endTime):M.type==="linearRampToValue"?N.linearRampToValueAtTime(M.value,M.endTime):M.type==="setValue"?N.setValueAtTime(M.value,M.startTime):M.type==="setValueCurve"&&N.setValueCurveAtTime(M.values,M.startTime,M.duration))}return F},cancelScheduledValues(G){return V===null&&D.flush(b.context.currentTime),D.add(o(G)),N.cancelScheduledValues(G),F},exponentialRampToValueAtTime(G,H){if(G===0)throw new RangeError;if(!Number.isFinite(H)||H<0)throw new RangeError;const M=b.context.currentTime;return V===null&&D.flush(M),Array.from(D).length===0&&(D.add(d(R,M)),N.setValueAtTime(R,M)),D.add(u(G,H)),N.exponentialRampToValueAtTime(G,H),F},linearRampToValueAtTime(G,H){const M=b.context.currentTime;return V===null&&D.flush(M),Array.from(D).length===0&&(D.add(d(R,M)),N.setValueAtTime(R,M)),D.add(c(G,H)),N.linearRampToValueAtTime(G,H),F},setTargetAtTime(G,H,M){return V===null&&D.flush(b.context.currentTime),D.add(f(G,H,M)),N.setTargetAtTime(G,H,M),F},setValueAtTime(G,H){return V===null&&D.flush(b.context.currentTime),D.add(d(G,H)),N.setValueAtTime(G,H),F},setValueCurveAtTime(G,H,M){const B=G instanceof Float32Array?G:new Float32Array(G);if(y!==null&&y.name==="webkitAudioContext"){const te=H+M,E=b.context.sampleRate,I=Math.ceil(H*E),re=Math.floor(te*E),U=re-I,oe=new Float32Array(U);for(let J=0;J<U;J+=1){const le=(B.length-1)/M*((I+J)/E-H),pe=Math.floor(le),be=Math.ceil(le);oe[J]=pe===be?B[pe]:(1-(le-pe))*B[pe]+(1-(be-le))*B[be]}V===null&&D.flush(b.context.currentTime),D.add(p(oe,H,M)),N.setValueCurveAtTime(oe,H,M);const Y=re/E;Y<te&&_(F,oe[oe.length-1],Y),_(F,B[B.length-1],te)}else V===null&&D.flush(b.context.currentTime),D.add(p(B,H,M)),N.setValueCurveAtTime(B,H,M);return F}};return t.set(F,N),e.set(F,b),n(F,V),F},r6=n=>({replay(e){for(const t of n)if(t.type==="exponentialRampToValue"){const{endTime:s,value:a}=t;e.exponentialRampToValueAtTime(a,s)}else if(t.type==="linearRampToValue"){const{endTime:s,value:a}=t;e.linearRampToValueAtTime(a,s)}else if(t.type==="setTarget"){const{startTime:s,target:a,timeConstant:o}=t;e.setTargetAtTime(a,s,o)}else if(t.type==="setValue"){const{startTime:s,value:a}=t;e.setValueAtTime(a,s)}else if(t.type==="setValueCurve"){const{duration:s,startTime:a,values:o}=t;e.setValueCurveAtTime(o,a,s)}else throw new Error("Can't apply an unknown automation.")}});class Px{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((s,a)=>e.call(t,s,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const s6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},i6=(n,e,t,s,a,o,u,c,f,d,p,y,_,b)=>class extends e{constructor(N,k,C){var R;const D=c(N),V=f(D),F=p({...s6,...C});_(F);const G=Qm.get(D),H=G?.get(k),M=V||D.state!=="closed"?D:(R=u(D))!==null&&R!==void 0?R:D,B=a(M,V?null:N.baseLatency,d,k,H,F),te=V?s(k,F,H):null;super(N,!0,B,te);const E=[];B.parameters.forEach((re,U)=>{const oe=t(this,V,re);E.push([U,oe])}),this._nativeAudioWorkletNode=B,this._onprocessorerror=null,this._parameters=new Px(E),V&&n(D,this);const{activeInputs:I}=o(this);y(B,I)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(N){const k=typeof N=="function"?b(this,N):null;this._nativeAudioWorkletNode.onprocessorerror=k;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===k?N:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function ap(n,e,t,s,a){if(typeof n.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),n.copyFromChannel(e[t],s,a);else{const o=n.getChannelData(s);if(e[t].byteLength===0)e[t]=o.slice(a,a+128);else{const u=new Float32Array(o.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(u)}}}const qx=(n,e,t,s,a)=>{typeof n.copyToChannel=="function"?e[t].byteLength!==0&&n.copyToChannel(e[t],s,a):e[t].byteLength!==0&&n.getChannelData(s).set(e[t],a)},op=(n,e)=>{const t=[];for(let s=0;s<n;s+=1){const a=[],o=typeof e=="number"?e:e[s];for(let u=0;u<o;u+=1)a.push(new Float32Array(128));t.push(a)}return t},a6=(n,e)=>{const t=uo(Km,n),s=jr(e);return uo(t,s)},o6=async(n,e,t,s,a,o,u)=>{const c=e===null?Math.ceil(n.context.length/128)*128:e.length,f=s.channelCount*s.numberOfInputs,d=a.reduce((k,C)=>k+C,0),p=d===0?null:t.createBuffer(d,c,t.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const y=yi(n),_=await a6(t,n),b=op(s.numberOfInputs,s.channelCount),A=op(s.numberOfOutputs,a),N=Array.from(n.parameters.keys()).reduce((k,C)=>({...k,[C]:new Float32Array(128)}),{});for(let k=0;k<c;k+=128){if(s.numberOfInputs>0&&e!==null)for(let C=0;C<s.numberOfInputs;C+=1)for(let R=0;R<s.channelCount;R+=1)ap(e,b[C],R,R,k);o.parameterDescriptors!==void 0&&e!==null&&o.parameterDescriptors.forEach(({name:C},R)=>{ap(e,N,C,f+R,k)});for(let C=0;C<s.numberOfInputs;C+=1)for(let R=0;R<a[C];R+=1)A[C][R].byteLength===0&&(A[C][R]=new Float32Array(128));try{const C=b.map((D,V)=>y.activeInputs[V].size===0?[]:D),R=u(k/t.sampleRate,t.sampleRate,()=>_.process(C,A,N));if(p!==null)for(let D=0,V=0;D<s.numberOfOutputs;D+=1){for(let F=0;F<a[D];F+=1)qx(p,A[D],F,V+F,k);V+=a[D]}if(!R)break}catch(C){n.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return p},l6=(n,e,t,s,a,o,u,c,f,d,p,y,_,b,A,N)=>(k,C,R)=>{const D=new WeakMap;let V=null;const F=async(G,H)=>{let M=p(G),B=null;const te=ui(M,H),E=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(y===null){const I=E.reduce((Y,J)=>Y+J,0),re=a(H,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),U=[];for(let Y=0;Y<G.numberOfOutputs;Y+=1)U.push(s(H,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:E[Y]}));const oe=u(H,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});oe.connect=e.bind(null,U),oe.disconnect=f.bind(null,U),B=[re,U,oe]}else te||(M=new y(H,k));if(D.set(H,B===null?M:B[2]),B!==null){if(V===null){if(R===void 0)throw new Error("Missing the processor constructor.");if(_===null)throw new Error("Missing the native OfflineAudioContext constructor.");const J=G.channelCount*G.numberOfInputs,le=R.parameterDescriptors===void 0?0:R.parameterDescriptors.length,pe=J+le;V=o6(G,pe===0?null:await(async()=>{const W=new _(pe,Math.ceil(G.context.length/128)*128,H.sampleRate),j=[],$=[];for(let ae=0;ae<C.numberOfInputs;ae+=1)j.push(u(W,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),$.push(a(W,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const X=await Promise.all(Array.from(G.parameters.values()).map(async ae=>{const de=o(W,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ae.value});return await b(W,ae,de.offset),de})),K=s(W,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,J+le)});for(let ae=0;ae<C.numberOfInputs;ae+=1){j[ae].connect($[ae]);for(let de=0;de<C.channelCount;de+=1)$[ae].connect(K,de,ae*C.channelCount+de)}for(const[ae,de]of X.entries())de.connect(K,0,J+ae),de.start(0);return K.connect(W.destination),await Promise.all(j.map(ae=>A(G,W,ae))),N(W)})(),H,C,E,R,d)}const I=await V,re=t(H,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[U,oe,Y]=B;I!==null&&(re.buffer=I,re.start(0)),re.connect(U);for(let J=0,le=0;J<G.numberOfOutputs;J+=1){const pe=oe[J];for(let be=0;be<E[J];be+=1)U.connect(pe,le+be,be);le+=E[J]}return Y}if(te)for(const[I,re]of G.parameters.entries())await n(H,re,M.parameters.get(I));else for(const[I,re]of G.parameters.entries())await b(H,re,M.parameters.get(I));return await A(G,H,M),M};return{render(G,H){c(H,G);const M=D.get(H);return M!==void 0?Promise.resolve(M):F(G,H)}}},c6=(n,e,t,s,a,o,u,c,f,d,p,y,_,b,A,N,k,C,R,D)=>class extends A{constructor(F,G){super(F,G),this._nativeContext=F,this._audioWorklet=n===void 0?void 0:{addModule:(H,M)=>n(this,H,M)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(F,G,H){return new t({length:G,numberOfChannels:F,sampleRate:H})}createBufferSource(){return new s(this)}createChannelMerger(F=6){return new o(this,{numberOfInputs:F})}createChannelSplitter(F=6){return new u(this,{numberOfOutputs:F})}createConstantSource(){return new c(this)}createConvolver(){return new f(this)}createDelay(F=1){return new p(this,{maxDelayTime:F})}createDynamicsCompressor(){return new y(this)}createGain(){return new _(this)}createIIRFilter(F,G){return new b(this,{feedback:G,feedforward:F})}createOscillator(){return new N(this)}createPanner(){return new k(this)}createPeriodicWave(F,G,H={disableNormalization:!1}){return new C(this,{...H,imag:G,real:F})}createStereoPanner(){return new R(this)}createWaveShaper(){return new D(this)}decodeAudioData(F,G,H){return d(this._nativeContext,F).then(M=>(typeof G=="function"&&G(M),M),M=>{throw typeof H=="function"&&H(M),M})}},u6={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},h6=(n,e,t,s,a,o,u,c)=>class extends n{constructor(d,p){const y=o(d),_={...u6,...p},b=a(y,_),A=u(y),N=A?t():null;super(d,!1,b,N),this._Q=e(this,A,b.Q,vi,Pi),this._detune=e(this,A,b.detune,1200*Math.log2(vi),-1200*Math.log2(vi)),this._frequency=e(this,A,b.frequency,d.sampleRate/2,0),this._gain=e(this,A,b.gain,40*Math.log10(vi),Pi),this._nativeBiquadFilterNode=b,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,p,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,p,y)}catch(_){throw _.code===11?s():_}if(d.length!==p.length||p.length!==y.length)throw s()}},f6=(n,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const p=ui(d,f);if(!p){const y={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=e(f,y)}return o.set(f,d),p?(await n(f,c.Q,d.Q),await n(f,c.detune,d.detune),await n(f,c.frequency,d.frequency),await n(f,c.gain,d.gain)):(await s(f,c.Q,d.Q),await s(f,c.detune,d.detune),await s(f,c.frequency,d.frequency),await s(f,c.gain,d.gain)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},d6=(n,e)=>(t,s)=>{const a=e.get(t);if(a!==void 0)return a;const o=n.get(t);if(o!==void 0)return o;try{const u=s();return u instanceof Promise?(n.set(t,u),u.catch(()=>!1).then(c=>(n.delete(t),e.set(t,c),c))):(e.set(t,u),u)}catch{return e.set(t,!1),!1}},p6={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},m6=(n,e,t,s,a)=>class extends n{constructor(u,c){const f=s(u),d={...p6,...c},p=t(f,d),y=a(f)?e():null;super(u,!1,p,y)}},g6=(n,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!ui(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=n(u,d)}return s.set(u,c),await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},b6={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},v6=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=s(c),p=o({...b6,...f}),y=t(d,p),_=a(d)?e():null;super(c,!1,y,_)}},y6=(n,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!ui(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=n(u,d)}return s.set(u,c),await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},x6=n=>(e,t,s)=>n(t,e,s),w6=n=>(e,t,s=0,a=0)=>{const o=e[s];if(o===void 0)throw n();return ip(t)?o.connect(t,0,a):o.connect(t,0)},_6=n=>(e,t)=>{const s=n(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return s.buffer=a,s.loop=!0,s.connect(t),s.start(),()=>{s.stop(),s.disconnect(t)}},S6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},N6=(n,e,t,s,a,o,u)=>class extends n{constructor(f,d){const p=a(f),y={...S6,...d},_=s(p,y),b=o(p),A=b?t():null;super(f,!1,_,A),this._constantSourceNodeRenderer=A,this._nativeConstantSourceNode=_,this._offset=e(this,b,_.offset,vi,Pi),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?u(this,f):null;this._nativeConstantSourceNode.onended=d;const p=this._nativeConstantSourceNode.onended;this._onended=p!==null&&p===d?f:p}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){Dh(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),kl(this)&&gd(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},A6=(n,e,t,s,a)=>()=>{const o=new WeakMap;let u=null,c=null;const f=async(d,p)=>{let y=t(d);const _=ui(y,p);if(!_){const b={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=e(p,b),u!==null&&y.start(u),c!==null&&y.stop(c)}return o.set(p,y),_?await n(p,d.offset,y.offset):await s(p,d.offset,y.offset),await a(d,p,y),y};return{set start(d){u=d},set stop(d){c=d},render(d,p){const y=o.get(p);return y!==void 0?Promise.resolve(y):f(d,p)}}},T6=n=>e=>(n[0]=e,n[0]),C6={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},k6=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=s(c),p={...C6,...f},y=t(d,p),b=a(d)?e():null;super(c,!1,y,b),this._isBufferNullified=!1,this._nativeConvolverNode=y,p.buffer!==null&&o(this,p.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},j6=(n,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!ui(c,u)){const d={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=n(u,d)}return s.set(u,c),zh(c)?await t(o,u,c.inputs[0]):await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},E6=(n,e)=>(t,s,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,s,a)}catch(o){throw o.name==="SyntaxError"?n():o}},M6=()=>new DOMException("","DataCloneError"),Cv=n=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(s=>{const a=()=>{t.onmessage=null,e.close(),t.close(),s()};t.onmessage=()=>a();try{e.postMessage(n,[n])}catch{}finally{a()}})},L6=(n,e,t,s,a,o,u,c,f,d,p)=>(y,_)=>{const b=u(y)?y:o(y);if(a.has(_)){const A=t();return Promise.reject(A)}try{a.add(_)}catch{}return e(f,()=>f(b))?b.decodeAudioData(_).then(A=>(Cv(_).catch(()=>{}),e(c,()=>c(A))||p(A),n.add(A),A)):new Promise((A,N)=>{const k=async()=>{try{await Cv(_)}catch{}},C=R=>{N(R),k()};try{b.decodeAudioData(_,R=>{typeof R.copyFromChannel!="function"&&(d(R),Og(R)),n.add(R),k().then(()=>A(R))},R=>{C(R===null?s():R)})}catch(R){C(R)}})},O6=(n,e,t,s,a,o,u,c)=>(f,d)=>{const p=e.get(f);if(p===void 0)throw new Error("Missing the expected cycle count.");const y=o(f.context),_=c(y);if(p===d){if(e.delete(f),!_&&u(f)){const b=s(f),{outputs:A}=t(f);for(const N of A)if(vd(N)){const k=s(N[0]);n(b,k,N[1],N[2])}else{const k=a(N[0]);b.connect(k,N[1])}}}else e.set(f,p-d)},D6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},R6=(n,e,t,s,a,o,u)=>class extends n{constructor(f,d){const p=a(f),y={...D6,...d},_=s(p,y),b=o(p),A=b?t(y.maxDelayTime):null;super(f,!1,_,A),this._delayTime=e(this,b,_.delayTime),u(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},I6=(n,e,t,s,a)=>o=>{const u=new WeakMap,c=async(f,d)=>{let p=t(f);const y=ui(p,d);if(!y){const _={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,delayTime:p.delayTime.value,maxDelayTime:o};p=e(d,_)}return u.set(d,p),y?await n(d,f.delayTime,p.delayTime):await s(d,f.delayTime,p.delayTime),await a(f,d,p),p};return{render(f,d){const p=u.get(d);return p!==void 0?Promise.resolve(p):c(f,d)}}},V6=n=>(e,t,s,a)=>n(e[a],o=>o[0]===t&&o[1]===s),F6=n=>(e,t)=>{n(e).delete(t)},B6=n=>"delayTime"in n,z6=(n,e,t)=>function s(a,o){const u=np(o)?o:t(n,o);if(B6(u))return[];if(a[0]===u)return[a];if(a.includes(u))return[];const{outputs:c}=e(u);return Array.from(c).map(f=>s([...a,u],f[0])).reduce((f,d)=>f.concat(d),[])},A1=(n,e,t)=>{const s=e[t];if(s===void 0)throw n();return s},P6=n=>(e,t=void 0,s=void 0,a=0)=>t===void 0?e.forEach(o=>o.disconnect()):typeof t=="number"?A1(n,e,t).disconnect():ip(t)?s===void 0?e.forEach(o=>o.disconnect(t)):a===void 0?A1(n,e,s).disconnect(t,0):A1(n,e,s).disconnect(t,0,a):s===void 0?e.forEach(o=>o.disconnect(t)):A1(n,e,s).disconnect(t,0),q6={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},U6=(n,e,t,s,a,o,u,c)=>class extends n{constructor(d,p){const y=o(d),_={...q6,...p},b=s(y,_),A=u(y),N=A?t():null;super(d,!1,b,N),this._attack=e(this,A,b.attack),this._knee=e(this,A,b.knee),this._nativeDynamicsCompressorNode=b,this._ratio=e(this,A,b.ratio),this._release=e(this,A,b.release),this._threshold=e(this,A,b.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const p=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=p,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const p=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=p,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},H6=(n,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const p=ui(d,f);if(!p){const y={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=e(f,y)}return o.set(f,d),p?(await n(f,c.attack,d.attack),await n(f,c.knee,d.knee),await n(f,c.ratio,d.ratio),await n(f,c.release,d.release),await n(f,c.threshold,d.threshold)):(await s(f,c.attack,d.attack),await s(f,c.knee,d.knee),await s(f,c.ratio,d.ratio),await s(f,c.release,d.release),await s(f,c.threshold,d.threshold)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},W6=()=>new DOMException("","EncodingError"),G6=n=>e=>new Promise((t,s)=>{if(n===null){s(new SyntaxError);return}const a=n.document.head;if(a===null)s(new SyntaxError);else{const o=n.document.createElement("script"),u=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(u),f=n.onerror,d=()=>{n.onerror=f,URL.revokeObjectURL(c)};n.onerror=(p,y,_,b,A)=>{if(y===c||y===n.location.href&&_===1&&b===1)return d(),s(A),!1;if(f!==null)return f(p,y,_,b,A)},o.onerror=()=>{d(),s(new SyntaxError)},o.onload=()=>{d(),t()},o.src=c,o.type="module",a.appendChild(o)}}),Y6=n=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,s,a){if(s!==null){let o=this._listeners.get(s);o===void 0&&(o=n(this,s),typeof s=="function"&&this._listeners.set(s,o)),this._nativeEventTarget.addEventListener(t,o,a)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,s,a){const o=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,a)}},$6=n=>(e,t,s)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{n!==null&&(delete n.currentFrame,delete n.currentTime)}},X6=n=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw n()},Z6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Q6=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=a(c),p={...Z6,...f},y=s(d,p),_=o(d),b=_?t():null;super(c,!1,y,b),this._gain=e(this,_,y.gain,vi,Pi)}get gain(){return this._gain}},K6=(n,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const p=ui(d,f);if(!p){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=e(f,y)}return o.set(f,d),p?await n(f,c.gain,d.gain):await s(f,c.gain,d.gain),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},J6=(n,e)=>t=>e(n,t),eN=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},tN=n=>e=>{var t;return(t=n.get(e))!==null&&t!==void 0?t:0},nN=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},rN=n=>e=>n.get(e),Us=()=>new DOMException("","InvalidStateError"),sN=n=>e=>{const t=n.get(e);if(t===void 0)throw Us();return t},iN=(n,e)=>t=>{let s=n.get(t);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),n.set(t,s),s},aN=n=>e=>{const t=n.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},Ep=()=>new DOMException("","InvalidAccessError"),oN=n=>{n.getFrequencyResponse=(e=>(t,s,a)=>{if(t.length!==s.length||s.length!==a.length)throw Ep();return e.call(n,t,s,a)})(n.getFrequencyResponse)},lN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},cN=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=s(c),p=a(d),y={...lN,...f},_=e(d,p?null:c.baseLatency,y),b=p?t(y.feedback,y.feedforward):null;super(c,!1,_,b),oN(_),this._nativeIIRFilterNode=_,o(this,1)}getFrequencyResponse(c,f,d){return this._nativeIIRFilterNode.getFrequencyResponse(c,f,d)}},Ux=(n,e,t,s,a,o,u,c,f,d,p)=>{const y=d.length;let _=c;for(let b=0;b<y;b+=1){let A=t[0]*d[b];for(let N=1;N<a;N+=1){const k=_-N&f-1;A+=t[N]*o[k],A-=n[N]*u[k]}for(let N=a;N<s;N+=1)A+=t[N]*o[_-N&f-1];for(let N=a;N<e;N+=1)A-=n[N]*u[_-N&f-1];o[_]=d[b],u[_]=A,_=_+1&f-1,p[b]=A}return _},uN=(n,e,t,s)=>{const a=t instanceof Float64Array?t:new Float64Array(t),o=s instanceof Float64Array?s:new Float64Array(s),u=a.length,c=o.length,f=Math.min(u,c);if(a[0]!==1){for(let A=0;A<u;A+=1)o[A]/=a[0];for(let A=1;A<c;A+=1)a[A]/=a[0]}const d=32,p=new Float32Array(d),y=new Float32Array(d),_=e.createBuffer(n.numberOfChannels,n.length,n.sampleRate),b=n.numberOfChannels;for(let A=0;A<b;A+=1){const N=n.getChannelData(A),k=_.getChannelData(A);p.fill(0),y.fill(0),Ux(a,u,o,c,f,p,y,0,d,N,k)}return _},hN=(n,e,t,s,a)=>(o,u)=>{const c=new WeakMap;let f=null;const d=async(p,y)=>{let _=null,b=e(p);const A=ui(b,y);if(y.createIIRFilter===void 0?_=n(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):A||(b=y.createIIRFilter(u,o)),c.set(y,_===null?b:_),_!==null){if(f===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const k=new t(p.context.destination.channelCount,p.context.length,y.sampleRate);f=(async()=>{await s(p,k,k.destination);const C=await a(k);return uN(C,y,o,u)})()}const N=await f;return _.buffer=N,_.start(0),_}return await s(p,y,b),b};return{render(p,y){const _=c.get(y);return _!==void 0?Promise.resolve(_):d(p,y)}}},fN=(n,e,t,s,a,o)=>u=>(c,f)=>{const d=n.get(c);if(d===void 0){if(!u&&o(c)){const p=s(c),{outputs:y}=t(c);for(const _ of y)if(vd(_)){const b=s(_[0]);e(p,b,_[1],_[2])}else{const b=a(_[0]);p.disconnect(b,_[1])}}n.set(c,f)}else n.set(c,d+f)},dN=(n,e)=>t=>{const s=n.get(t);return e(s)||e(t)},pN=(n,e)=>t=>n.has(t)||e(t),mN=(n,e)=>t=>n.has(t)||e(t),gN=(n,e)=>t=>{const s=n.get(t);return e(s)||e(t)},bN=n=>e=>n!==null&&e instanceof n,vN=n=>e=>n!==null&&typeof n.AudioNode=="function"&&e instanceof n.AudioNode,yN=n=>e=>n!==null&&typeof n.AudioParam=="function"&&e instanceof n.AudioParam,xN=(n,e)=>t=>n(t)||e(t),wN=n=>e=>n!==null&&e instanceof n,_N=n=>n!==null&&n.isSecureContext,SN=(n,e,t,s)=>class extends n{constructor(o,u){const c=t(o),f=e(c,u);if(s(c))throw TypeError();super(o,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},NN={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},AN=(n,e,t,s)=>class extends n{constructor(o,u){const c=t(o);if(s(c))throw new TypeError;const f={...NN,...u},d=e(c,f);super(o,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},TN=(n,e,t,s)=>class extends n{constructor(o,u){const c=t(o),f=e(c,u);if(s(c))throw new TypeError;super(o,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},CN=(n,e,t)=>class extends n{constructor(a,o){const u=t(a),c=e(u,o);super(a,!0,c,null)}},kN=(n,e,t,s,a,o)=>class extends t{constructor(c,f){super(c),this._nativeContext=c,kp.set(this,c),s(c)&&a.set(c,new Set),this._destination=new n(this,f),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const f=typeof c=="function"?o(this,c):null;this._nativeContext.onstatechange=f;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===f?c:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},nd=n=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=n.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},jN=(n,e)=>(t,s,a)=>{const o=new Set;return t.connect=(u=>(c,f=0,d=0)=>{const p=o.size===0;if(e(c))return u.call(t,c,f,d),n(o,[c,f,d],y=>y[0]===c&&y[1]===f&&y[2]===d,!0),p&&s(),c;u.call(t,c,f),n(o,[c,f],y=>y[0]===c&&y[1]===f,!0),p&&s()})(t.connect),t.disconnect=(u=>(c,f,d)=>{const p=o.size>0;if(c===void 0)u.apply(t),o.clear();else if(typeof c=="number"){u.call(t,c);for(const _ of o)_[1]===c&&o.delete(_)}else{e(c)?u.call(t,c,f,d):u.call(t,c,f);for(const _ of o)_[0]===c&&(f===void 0||_[1]===f)&&(d===void 0||_[2]===d)&&o.delete(_)}const y=o.size===0;p&&y&&a()})(t.disconnect),t},Fr=(n,e,t)=>{const s=e[t];s!==void 0&&s!==n[t]&&(n[t]=s)},Ms=(n,e)=>{Fr(n,e,"channelCount"),Fr(n,e,"channelCountMode"),Fr(n,e,"channelInterpretation")},kv=n=>typeof n.getFloatTimeDomainData=="function",EN=n=>{n.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);n.getByteTimeDomainData(t);const s=Math.max(t.length,n.fftSize);for(let a=0;a<s;a+=1)e[a]=(t[a]-128)*.0078125;return e}},MN=(n,e)=>(t,s)=>{const a=t.createAnalyser();if(Ms(a,s),!(s.maxDecibels>s.minDecibels))throw e();return Fr(a,s,"fftSize"),Fr(a,s,"maxDecibels"),Fr(a,s,"minDecibels"),Fr(a,s,"smoothingTimeConstant"),n(kv,()=>kv(a))||EN(a),a},LN=n=>n===null?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null,es=(n,e,t)=>{const s=e[t];s!==void 0&&s!==n[t].value&&(n[t].value=s)},ON=n=>{n.start=(e=>{let t=!1;return(s=0,a=0,o)=>{if(t)throw Us();e.call(n,s,a,o),t=!0}})(n.start)},Ig=n=>{n.start=(e=>(t=0,s=0,a)=>{if(typeof a=="number"&&a<0||s<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(n,t,s,a)})(n.start)},Vg=n=>{n.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(n,t)})(n.stop)},DN=(n,e,t,s,a,o,u,c,f,d,p)=>(y,_)=>{const b=y.createBufferSource();return Ms(b,_),es(b,_,"playbackRate"),Fr(b,_,"buffer"),Fr(b,_,"loop"),Fr(b,_,"loopEnd"),Fr(b,_,"loopStart"),e(t,()=>t(y))||ON(b),e(s,()=>s(y))||f(b),e(a,()=>a(y))||d(b,y),e(o,()=>o(y))||Ig(b),e(u,()=>u(y))||p(b,y),e(c,()=>c(y))||Vg(b),n(y,b),b},RN=n=>n===null?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null,IN=(n,e)=>(t,s,a)=>{const o=t.destination;if(o.channelCount!==s)try{o.channelCount=s}catch{}a&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:s});const u=n(t,{channelCount:s,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(u,"channelCount",c=>()=>c.call(u),c=>f=>{c.call(u,f);try{o.channelCount=f}catch(d){if(f>o.maxChannelCount)throw d}}),e(u,"channelCountMode",c=>()=>c.call(u),c=>f=>{c.call(u,f),o.channelCountMode=f}),e(u,"channelInterpretation",c=>()=>c.call(u),c=>f=>{c.call(u,f),o.channelInterpretation=f}),Object.defineProperty(u,"maxChannelCount",{get:()=>o.maxChannelCount}),u.connect(o),u},VN=n=>n===null?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null,FN=n=>{const{port1:e}=new MessageChannel;try{e.postMessage(n)}finally{e.close()}},BN=(n,e,t,s,a)=>(o,u,c,f,d,p)=>{if(c!==null)try{const y=new c(o,f,p),_=new Map;let b=null;if(Object.defineProperties(y,{channelCount:{get:()=>p.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>b,set:A=>{typeof b=="function"&&y.removeEventListener("processorerror",b),b=typeof A=="function"?A:null,typeof b=="function"&&y.addEventListener("processorerror",b)}}}),y.addEventListener=(A=>(...N)=>{if(N[0]==="processorerror"){const k=typeof N[1]=="function"?N[1]:typeof N[1]=="object"&&N[1]!==null&&typeof N[1].handleEvent=="function"?N[1].handleEvent:null;if(k!==null){const C=_.get(N[1]);C!==void 0?N[1]=C:(N[1]=R=>{R.type==="error"?(Object.defineProperties(R,{type:{value:"processorerror"}}),k(R)):k(new ErrorEvent(N[0],{...R}))},_.set(k,N[1]))}}return A.call(y,"error",N[1],N[2]),A.call(y,...N)})(y.addEventListener),y.removeEventListener=(A=>(...N)=>{if(N[0]==="processorerror"){const k=_.get(N[1]);k!==void 0&&(_.delete(N[1]),N[1]=k)}return A.call(y,"error",N[1],N[2]),A.call(y,N[0],N[1],N[2])})(y.removeEventListener),p.numberOfOutputs!==0){const A=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(A).connect(o.destination),a(y,()=>A.disconnect(),()=>A.connect(o.destination))}return y}catch(y){throw y.code===11?s():y}if(d===void 0)throw s();return FN(p),e(o,u,d,p)},Hx=(n,e)=>n===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*e))))),zN=n=>new Promise((e,t)=>{const{port1:s,port2:a}=new MessageChannel;s.onmessage=({data:o})=>{s.close(),a.close(),e(o)},s.onmessageerror=({data:o})=>{s.close(),a.close(),t(o)},a.postMessage(n)}),PN=async(n,e)=>{const t=await zN(e);return new n(t)},qN=(n,e,t,s)=>{let a=Km.get(n);a===void 0&&(a=new WeakMap,Km.set(n,a));const o=PN(t,s);return a.set(e,o),o},UN=(n,e,t,s,a,o,u,c,f,d,p,y,_)=>(b,A,N,k)=>{if(k.numberOfInputs===0&&k.numberOfOutputs===0)throw f();const C=Array.isArray(k.outputChannelCount)?k.outputChannelCount:Array.from(k.outputChannelCount);if(C.some(z=>z<1))throw f();if(C.length!==k.numberOfOutputs)throw e();if(k.channelCountMode!=="explicit")throw f();const R=k.channelCount*k.numberOfInputs,D=C.reduce((z,Ne)=>z+Ne,0),V=N.parameterDescriptors===void 0?0:N.parameterDescriptors.length;if(R+V>6||D>6)throw f();const F=new MessageChannel,G=[],H=[];for(let z=0;z<k.numberOfInputs;z+=1)G.push(u(b,{channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation,gain:1})),H.push(a(b,{channelCount:k.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:k.channelCount}));const M=[];if(N.parameterDescriptors!==void 0)for(const{defaultValue:z,maxValue:Ne,minValue:rt,name:qe}of N.parameterDescriptors){const Ee=o(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:k.parameterData[qe]!==void 0?k.parameterData[qe]:z===void 0?0:z});Object.defineProperties(Ee.offset,{defaultValue:{get:()=>z===void 0?0:z},maxValue:{get:()=>Ne===void 0?vi:Ne},minValue:{get:()=>rt===void 0?Pi:rt}}),M.push(Ee)}const B=s(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,R+V)}),te=Hx(A,b.sampleRate),E=c(b,te,R+V,Math.max(1,D)),I=a(b,{channelCount:Math.max(1,D),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,D)}),re=[];for(let z=0;z<k.numberOfOutputs;z+=1)re.push(s(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[z]}));for(let z=0;z<k.numberOfInputs;z+=1){G[z].connect(H[z]);for(let Ne=0;Ne<k.channelCount;Ne+=1)H[z].connect(B,Ne,z*k.channelCount+Ne)}const U=new Px(N.parameterDescriptors===void 0?[]:N.parameterDescriptors.map(({name:z},Ne)=>{const rt=M[Ne];return rt.connect(B,0,R+Ne),rt.start(0),[z,rt.offset]}));B.connect(E);let oe=k.channelInterpretation,Y=null;const J=k.numberOfOutputs===0?[E]:re,le={get bufferSize(){return te},get channelCount(){return k.channelCount},set channelCount(z){throw t()},get channelCountMode(){return k.channelCountMode},set channelCountMode(z){throw t()},get channelInterpretation(){return oe},set channelInterpretation(z){for(const Ne of G)Ne.channelInterpretation=z;oe=z},get context(){return E.context},get inputs(){return G},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get onprocessorerror(){return Y},set onprocessorerror(z){typeof Y=="function"&&le.removeEventListener("processorerror",Y),Y=typeof z=="function"?z:null,typeof Y=="function"&&le.addEventListener("processorerror",Y)},get parameters(){return U},get port(){return F.port2},addEventListener(...z){return E.addEventListener(z[0],z[1],z[2])},connect:n.bind(null,J),disconnect:d.bind(null,J),dispatchEvent(...z){return E.dispatchEvent(z[0])},removeEventListener(...z){return E.removeEventListener(z[0],z[1],z[2])}},pe=new Map;F.port1.addEventListener=(z=>(...Ne)=>{if(Ne[0]==="message"){const rt=typeof Ne[1]=="function"?Ne[1]:typeof Ne[1]=="object"&&Ne[1]!==null&&typeof Ne[1].handleEvent=="function"?Ne[1].handleEvent:null;if(rt!==null){const qe=pe.get(Ne[1]);qe!==void 0?Ne[1]=qe:(Ne[1]=Ee=>{p(b.currentTime,b.sampleRate,()=>rt(Ee))},pe.set(rt,Ne[1]))}}return z.call(F.port1,Ne[0],Ne[1],Ne[2])})(F.port1.addEventListener),F.port1.removeEventListener=(z=>(...Ne)=>{if(Ne[0]==="message"){const rt=pe.get(Ne[1]);rt!==void 0&&(pe.delete(Ne[1]),Ne[1]=rt)}return z.call(F.port1,Ne[0],Ne[1],Ne[2])})(F.port1.removeEventListener);let be=null;Object.defineProperty(F.port1,"onmessage",{get:()=>be,set:z=>{typeof be=="function"&&F.port1.removeEventListener("message",be),be=typeof z=="function"?z:null,typeof be=="function"&&(F.port1.addEventListener("message",be),F.port1.start())}}),N.prototype.port=F.port1;let W=null;qN(b,le,N,k).then(z=>W=z);const $=op(k.numberOfInputs,k.channelCount),X=op(k.numberOfOutputs,C),K=N.parameterDescriptors===void 0?[]:N.parameterDescriptors.reduce((z,{name:Ne})=>({...z,[Ne]:new Float32Array(128)}),{});let ae=!0;const de=()=>{k.numberOfOutputs>0&&E.disconnect(I);for(let z=0,Ne=0;z<k.numberOfOutputs;z+=1){const rt=re[z];for(let qe=0;qe<C[z];qe+=1)I.disconnect(rt,Ne+qe,qe);Ne+=C[z]}},fe=new Map;E.onaudioprocess=({inputBuffer:z,outputBuffer:Ne})=>{if(W!==null){const rt=y(le);for(let qe=0;qe<te;qe+=128){for(let Ee=0;Ee<k.numberOfInputs;Ee+=1)for(let Ke=0;Ke<k.channelCount;Ke+=1)ap(z,$[Ee],Ke,Ke,qe);N.parameterDescriptors!==void 0&&N.parameterDescriptors.forEach(({name:Ee},Ke)=>{ap(z,K,Ee,R+Ke,qe)});for(let Ee=0;Ee<k.numberOfInputs;Ee+=1)for(let Ke=0;Ke<C[Ee];Ke+=1)X[Ee][Ke].byteLength===0&&(X[Ee][Ke]=new Float32Array(128));try{const Ee=$.map((We,lt)=>{if(rt[lt].size>0)return fe.set(lt,te/128),We;const ze=fe.get(lt);return ze===void 0?[]:(We.every(st=>st.every(et=>et===0))&&(ze===1?fe.delete(lt):fe.set(lt,ze-1)),We)});ae=p(b.currentTime+qe/b.sampleRate,b.sampleRate,()=>W.process(Ee,X,K));for(let We=0,lt=0;We<k.numberOfOutputs;We+=1){for(let at=0;at<C[We];at+=1)qx(Ne,X[We],at,lt+at,qe);lt+=C[We]}}catch(Ee){ae=!1,le.dispatchEvent(new ErrorEvent("processorerror",{colno:Ee.colno,filename:Ee.filename,lineno:Ee.lineno,message:Ee.message}))}if(!ae){for(let Ee=0;Ee<k.numberOfInputs;Ee+=1){G[Ee].disconnect(H[Ee]);for(let Ke=0;Ke<k.channelCount;Ke+=1)H[qe].disconnect(B,Ke,Ee*k.channelCount+Ke)}if(N.parameterDescriptors!==void 0){const Ee=N.parameterDescriptors.length;for(let Ke=0;Ke<Ee;Ke+=1){const We=M[Ke];We.disconnect(B,0,R+Ke),We.stop()}}B.disconnect(E),E.onaudioprocess=null,xe?de():$e();break}}}};let xe=!1;const we=u(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ie=()=>E.connect(we).connect(b.destination),$e=()=>{E.disconnect(we),we.disconnect()},Je=()=>{if(ae){$e(),k.numberOfOutputs>0&&E.connect(I);for(let z=0,Ne=0;z<k.numberOfOutputs;z+=1){const rt=re[z];for(let qe=0;qe<C[z];qe+=1)I.connect(rt,Ne+qe,qe);Ne+=C[z]}}xe=!0},ct=()=>{ae&&(Ie(),de()),xe=!1};return Ie(),_(le,Je,ct)},Wx=(n,e)=>{const t=n.createBiquadFilter();return Ms(t,e),es(t,e,"Q"),es(t,e,"detune"),es(t,e,"frequency"),es(t,e,"gain"),Fr(t,e,"type"),t},HN=(n,e)=>(t,s)=>{const a=t.createChannelMerger(s.numberOfInputs);return n!==null&&n.name==="webkitAudioContext"&&e(t,a),Ms(a,s),a},WN=n=>{const e=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Us()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw Us()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw Us()}})},yd=(n,e)=>{const t=n.createChannelSplitter(e.numberOfOutputs);return Ms(t,e),WN(t),t},GN=(n,e,t,s,a)=>(o,u)=>{if(o.createConstantSource===void 0)return t(o,u);const c=o.createConstantSource();return Ms(c,u),es(c,u,"offset"),e(s,()=>s(o))||Ig(c),e(a,()=>a(o))||Vg(c),n(o,c),c},Ph=(n,e)=>(n.connect=e.connect.bind(e),n.disconnect=e.disconnect.bind(e),n),YN=(n,e,t,s)=>(a,{offset:o,...u})=>{const c=a.createBuffer(1,2,44100),f=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=t(a,{...u,gain:o}),p=c.getChannelData(0);p[0]=1,p[1]=1,f.buffer=c,f.loop=!0;const y={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(A){d.channelCount=A},get channelCountMode(){return d.channelCountMode},set channelCountMode(A){d.channelCountMode=A},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(A){d.channelInterpretation=A},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return f.onended},set onended(A){f.onended=A},addEventListener(...A){return f.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return f.dispatchEvent(A[0])},removeEventListener(...A){return f.removeEventListener(A[0],A[1],A[2])},start(A=0){f.start.call(f,A)},stop(A=0){f.stop.call(f,A)}},_=()=>f.connect(d),b=()=>f.disconnect(d);return n(a,f),s(Ph(y,d),_,b)},$N=(n,e)=>(t,s)=>{const a=t.createConvolver();if(Ms(a,s),s.disableNormalization===a.normalize&&(a.normalize=!s.disableNormalization),Fr(a,s,"buffer"),s.channelCount>2||(e(a,"channelCount",o=>()=>o.call(a),o=>u=>{if(u>2)throw n();return o.call(a,u)}),s.channelCountMode==="max"))throw n();return e(a,"channelCountMode",o=>()=>o.call(a),o=>u=>{if(u==="max")throw n();return o.call(a,u)}),a},Gx=(n,e)=>{const t=n.createDelay(e.maxDelayTime);return Ms(t,e),es(t,e,"delayTime"),t},XN=n=>(e,t)=>{const s=e.createDynamicsCompressor();if(Ms(s,t),t.channelCount>2||t.channelCountMode==="max")throw n();return es(s,t,"attack"),es(s,t,"knee"),es(s,t,"ratio"),es(s,t,"release"),es(s,t,"threshold"),s},Hi=(n,e)=>{const t=n.createGain();return Ms(t,e),es(t,e,"gain"),t},ZN=n=>(e,t,s)=>{if(e.createIIRFilter===void 0)return n(e,t,s);const a=e.createIIRFilter(s.feedforward,s.feedback);return Ms(a,s),a};function QN(n,e){const t=e[0]*e[0]+e[1]*e[1];return[(n[0]*e[0]+n[1]*e[1])/t,(n[1]*e[0]-n[0]*e[1])/t]}function KN(n,e){return[n[0]*e[0]-n[1]*e[1],n[0]*e[1]+n[1]*e[0]]}function jv(n,e){let t=[0,0];for(let s=n.length-1;s>=0;s-=1)t=KN(t,e),t[0]+=n[s];return t}const JN=(n,e,t,s)=>(a,o,{channelCount:u,channelCountMode:c,channelInterpretation:f,feedback:d,feedforward:p})=>{const y=Hx(o,a.sampleRate),_=d instanceof Float64Array?d:new Float64Array(d),b=p instanceof Float64Array?p:new Float64Array(p),A=_.length,N=b.length,k=Math.min(A,N);if(A===0||A>20)throw s();if(_[0]===0)throw e();if(N===0||N>20)throw s();if(b[0]===0)throw e();if(_[0]!==1){for(let M=0;M<N;M+=1)b[M]/=_[0];for(let M=1;M<A;M+=1)_[M]/=_[0]}const C=t(a,y,u,u);C.channelCount=u,C.channelCountMode=c,C.channelInterpretation=f;const R=32,D=[],V=[],F=[];for(let M=0;M<u;M+=1){D.push(0);const B=new Float32Array(R),te=new Float32Array(R);B.fill(0),te.fill(0),V.push(B),F.push(te)}C.onaudioprocess=M=>{const B=M.inputBuffer,te=M.outputBuffer,E=B.numberOfChannels;for(let I=0;I<E;I+=1){const re=B.getChannelData(I),U=te.getChannelData(I);D[I]=Ux(_,A,b,N,k,V[I],F[I],D[I],R,re,U)}};const G=a.sampleRate/2;return Ph({get bufferSize(){return y},get channelCount(){return C.channelCount},set channelCount(M){C.channelCount=M},get channelCountMode(){return C.channelCountMode},set channelCountMode(M){C.channelCountMode=M},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(M){C.channelInterpretation=M},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...M){return C.addEventListener(M[0],M[1],M[2])},dispatchEvent(...M){return C.dispatchEvent(M[0])},getFrequencyResponse(M,B,te){if(M.length!==B.length||B.length!==te.length)throw n();const E=M.length;for(let I=0;I<E;I+=1){const re=-Math.PI*(M[I]/G),U=[Math.cos(re),Math.sin(re)],oe=jv(b,U),Y=jv(_,U),J=QN(oe,Y);B[I]=Math.sqrt(J[0]*J[0]+J[1]*J[1]),te[I]=Math.atan2(J[1],J[0])}},removeEventListener(...M){return C.removeEventListener(M[0],M[1],M[2])}},C)},eA=(n,e)=>n.createMediaElementSource(e.mediaElement),tA=(n,e)=>{const t=n.createMediaStreamDestination();return Ms(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},nA=(n,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((o,u)=>o.id<u.id?-1:o.id>u.id?1:0);const s=t.slice(0,1),a=n.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(a,"mediaStream",{value:e}),a},rA=(n,e)=>(t,{mediaStreamTrack:s})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(s);const a=new MediaStream([s]),o=t.createMediaStreamSource(a);if(s.kind!=="audio")throw n();if(e(t))throw new TypeError;return o},sA=n=>n===null?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null,iA=(n,e,t,s,a,o)=>(u,c)=>{const f=u.createOscillator();return Ms(f,c),es(f,c,"detune"),es(f,c,"frequency"),c.periodicWave!==void 0?f.setPeriodicWave(c.periodicWave):Fr(f,c,"type"),e(t,()=>t(u))||Ig(f),e(s,()=>s(u))||o(f,u),e(a,()=>a(u))||Vg(f),n(u,f),f},aA=n=>(e,t)=>{const s=e.createPanner();return s.orientationX===void 0?n(e,t):(Ms(s,t),es(s,t,"orientationX"),es(s,t,"orientationY"),es(s,t,"orientationZ"),es(s,t,"positionX"),es(s,t,"positionY"),es(s,t,"positionZ"),Fr(s,t,"coneInnerAngle"),Fr(s,t,"coneOuterAngle"),Fr(s,t,"coneOuterGain"),Fr(s,t,"distanceModel"),Fr(s,t,"maxDistance"),Fr(s,t,"panningModel"),Fr(s,t,"refDistance"),Fr(s,t,"rolloffFactor"),s)},oA=(n,e,t,s,a,o,u,c,f,d)=>(p,{coneInnerAngle:y,coneOuterAngle:_,coneOuterGain:b,distanceModel:A,maxDistance:N,orientationX:k,orientationY:C,orientationZ:R,panningModel:D,positionX:V,positionY:F,positionZ:G,refDistance:H,rolloffFactor:M,...B})=>{const te=p.createPanner();if(B.channelCount>2||B.channelCountMode==="max")throw u();Ms(te,B);const E={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},I=t(p,{...E,channelInterpretation:"speakers",numberOfInputs:6}),re=s(p,{...B,gain:1}),U=s(p,{...E,gain:1}),oe=s(p,{...E,gain:0}),Y=s(p,{...E,gain:0}),J=s(p,{...E,gain:0}),le=s(p,{...E,gain:0}),pe=s(p,{...E,gain:0}),be=a(p,256,6,1),W=o(p,{...E,curve:new Float32Array([1,1]),oversample:"none"});let j=[k,C,R],$=[V,F,G];const X=new Float32Array(1);be.onaudioprocess=({inputBuffer:fe})=>{const xe=[f(fe,X,0),f(fe,X,1),f(fe,X,2)];xe.some((Ie,$e)=>Ie!==j[$e])&&(te.setOrientation(...xe),j=xe);const we=[f(fe,X,3),f(fe,X,4),f(fe,X,5)];we.some((Ie,$e)=>Ie!==$[$e])&&(te.setPosition(...we),$=we)},Object.defineProperty(oe.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(J.gain,"defaultValue",{get:()=>0}),Object.defineProperty(le.gain,"defaultValue",{get:()=>0}),Object.defineProperty(pe.gain,"defaultValue",{get:()=>0});const K={get bufferSize(){},get channelCount(){return te.channelCount},set channelCount(fe){if(fe>2)throw u();re.channelCount=fe,te.channelCount=fe},get channelCountMode(){return te.channelCountMode},set channelCountMode(fe){if(fe==="max")throw u();re.channelCountMode=fe,te.channelCountMode=fe},get channelInterpretation(){return te.channelInterpretation},set channelInterpretation(fe){re.channelInterpretation=fe,te.channelInterpretation=fe},get coneInnerAngle(){return te.coneInnerAngle},set coneInnerAngle(fe){te.coneInnerAngle=fe},get coneOuterAngle(){return te.coneOuterAngle},set coneOuterAngle(fe){te.coneOuterAngle=fe},get coneOuterGain(){return te.coneOuterGain},set coneOuterGain(fe){if(fe<0||fe>1)throw e();te.coneOuterGain=fe},get context(){return te.context},get distanceModel(){return te.distanceModel},set distanceModel(fe){te.distanceModel=fe},get inputs(){return[re]},get maxDistance(){return te.maxDistance},set maxDistance(fe){if(fe<0)throw new RangeError;te.maxDistance=fe},get numberOfInputs(){return te.numberOfInputs},get numberOfOutputs(){return te.numberOfOutputs},get orientationX(){return U.gain},get orientationY(){return oe.gain},get orientationZ(){return Y.gain},get panningModel(){return te.panningModel},set panningModel(fe){te.panningModel=fe},get positionX(){return J.gain},get positionY(){return le.gain},get positionZ(){return pe.gain},get refDistance(){return te.refDistance},set refDistance(fe){if(fe<0)throw new RangeError;te.refDistance=fe},get rolloffFactor(){return te.rolloffFactor},set rolloffFactor(fe){if(fe<0)throw new RangeError;te.rolloffFactor=fe},addEventListener(...fe){return re.addEventListener(fe[0],fe[1],fe[2])},dispatchEvent(...fe){return re.dispatchEvent(fe[0])},removeEventListener(...fe){return re.removeEventListener(fe[0],fe[1],fe[2])}};y!==K.coneInnerAngle&&(K.coneInnerAngle=y),_!==K.coneOuterAngle&&(K.coneOuterAngle=_),b!==K.coneOuterGain&&(K.coneOuterGain=b),A!==K.distanceModel&&(K.distanceModel=A),N!==K.maxDistance&&(K.maxDistance=N),k!==K.orientationX.value&&(K.orientationX.value=k),C!==K.orientationY.value&&(K.orientationY.value=C),R!==K.orientationZ.value&&(K.orientationZ.value=R),D!==K.panningModel&&(K.panningModel=D),V!==K.positionX.value&&(K.positionX.value=V),F!==K.positionY.value&&(K.positionY.value=F),G!==K.positionZ.value&&(K.positionZ.value=G),H!==K.refDistance&&(K.refDistance=H),M!==K.rolloffFactor&&(K.rolloffFactor=M),(j[0]!==1||j[1]!==0||j[2]!==0)&&te.setOrientation(...j),($[0]!==0||$[1]!==0||$[2]!==0)&&te.setPosition(...$);const ae=()=>{re.connect(te),n(re,W,0,0),W.connect(U).connect(I,0,0),W.connect(oe).connect(I,0,1),W.connect(Y).connect(I,0,2),W.connect(J).connect(I,0,3),W.connect(le).connect(I,0,4),W.connect(pe).connect(I,0,5),I.connect(be).connect(p.destination)},de=()=>{re.disconnect(te),c(re,W,0,0),W.disconnect(U),U.disconnect(I),W.disconnect(oe),oe.disconnect(I),W.disconnect(Y),Y.disconnect(I),W.disconnect(J),J.disconnect(I),W.disconnect(le),le.disconnect(I),W.disconnect(pe),pe.disconnect(I),I.disconnect(be),be.disconnect(p.destination)};return d(Ph(K,te),ae,de)},lA=n=>(e,{disableNormalization:t,imag:s,real:a})=>{const o=s instanceof Float32Array?s:new Float32Array(s),u=a instanceof Float32Array?a:new Float32Array(a),c=e.createPeriodicWave(u,o,{disableNormalization:t});if(Array.from(s).length<2)throw n();return c},xd=(n,e,t,s)=>n.createScriptProcessor(e,t,s),cA=(n,e)=>(t,s)=>{const a=s.channelCountMode;if(a==="clamped-max")throw e();if(t.createStereoPanner===void 0)return n(t,s);const o=t.createStereoPanner();return Ms(o,s),es(o,s,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>a,set:u=>{if(u!==a)throw e()}}),o},uA=(n,e,t,s,a,o)=>{const c=new Float32Array([1,1]),f=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},p={...d,oversample:"none"},y=(A,N,k,C)=>{const R=new Float32Array(16385),D=new Float32Array(16385);for(let B=0;B<16385;B+=1){const te=B/16384*f;R[B]=Math.cos(te),D[B]=Math.sin(te)}const V=t(A,{...d,gain:0}),F=s(A,{...p,curve:R}),G=s(A,{...p,curve:c}),H=t(A,{...d,gain:0}),M=s(A,{...p,curve:D});return{connectGraph(){N.connect(V),N.connect(G.inputs===void 0?G:G.inputs[0]),N.connect(H),G.connect(k),k.connect(F.inputs===void 0?F:F.inputs[0]),k.connect(M.inputs===void 0?M:M.inputs[0]),F.connect(V.gain),M.connect(H.gain),V.connect(C,0,0),H.connect(C,0,1)},disconnectGraph(){N.disconnect(V),N.disconnect(G.inputs===void 0?G:G.inputs[0]),N.disconnect(H),G.disconnect(k),k.disconnect(F.inputs===void 0?F:F.inputs[0]),k.disconnect(M.inputs===void 0?M:M.inputs[0]),F.disconnect(V.gain),M.disconnect(H.gain),V.disconnect(C,0,0),H.disconnect(C,0,1)}}},_=(A,N,k,C)=>{const R=new Float32Array(16385),D=new Float32Array(16385),V=new Float32Array(16385),F=new Float32Array(16385),G=Math.floor(16385/2);for(let J=0;J<16385;J+=1)if(J>G){const le=(J-G)/(16384-G)*f;R[J]=Math.cos(le),D[J]=Math.sin(le),V[J]=0,F[J]=1}else{const le=J/(16384-G)*f;R[J]=1,D[J]=0,V[J]=Math.cos(le),F[J]=Math.sin(le)}const H=e(A,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),M=t(A,{...d,gain:0}),B=s(A,{...p,curve:R}),te=t(A,{...d,gain:0}),E=s(A,{...p,curve:D}),I=s(A,{...p,curve:c}),re=t(A,{...d,gain:0}),U=s(A,{...p,curve:V}),oe=t(A,{...d,gain:0}),Y=s(A,{...p,curve:F});return{connectGraph(){N.connect(H),N.connect(I.inputs===void 0?I:I.inputs[0]),H.connect(M,0),H.connect(te,0),H.connect(re,1),H.connect(oe,1),I.connect(k),k.connect(B.inputs===void 0?B:B.inputs[0]),k.connect(E.inputs===void 0?E:E.inputs[0]),k.connect(U.inputs===void 0?U:U.inputs[0]),k.connect(Y.inputs===void 0?Y:Y.inputs[0]),B.connect(M.gain),E.connect(te.gain),U.connect(re.gain),Y.connect(oe.gain),M.connect(C,0,0),re.connect(C,0,0),te.connect(C,0,1),oe.connect(C,0,1)},disconnectGraph(){N.disconnect(H),N.disconnect(I.inputs===void 0?I:I.inputs[0]),H.disconnect(M,0),H.disconnect(te,0),H.disconnect(re,1),H.disconnect(oe,1),I.disconnect(k),k.disconnect(B.inputs===void 0?B:B.inputs[0]),k.disconnect(E.inputs===void 0?E:E.inputs[0]),k.disconnect(U.inputs===void 0?U:U.inputs[0]),k.disconnect(Y.inputs===void 0?Y:Y.inputs[0]),B.disconnect(M.gain),E.disconnect(te.gain),U.disconnect(re.gain),Y.disconnect(oe.gain),M.disconnect(C,0,0),re.disconnect(C,0,0),te.disconnect(C,0,1),oe.disconnect(C,0,1)}}},b=(A,N,k,C,R)=>{if(N===1)return y(A,k,C,R);if(N===2)return _(A,k,C,R);throw a()};return(A,{channelCount:N,channelCountMode:k,pan:C,...R})=>{if(k==="max")throw a();const D=n(A,{...R,channelCount:1,channelCountMode:k,numberOfInputs:2}),V=t(A,{...R,channelCount:N,channelCountMode:k,gain:1}),F=t(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:G,disconnectGraph:H}=b(A,N,V,F,D);Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"maxValue",{get:()=>1}),Object.defineProperty(F.gain,"minValue",{get:()=>-1});const M={get bufferSize(){},get channelCount(){return V.channelCount},set channelCount(I){V.channelCount!==I&&(B&&H(),{connectGraph:G,disconnectGraph:H}=b(A,I,V,F,D),B&&G()),V.channelCount=I},get channelCountMode(){return V.channelCountMode},set channelCountMode(I){if(I==="clamped-max"||I==="max")throw a();V.channelCountMode=I},get channelInterpretation(){return V.channelInterpretation},set channelInterpretation(I){V.channelInterpretation=I},get context(){return V.context},get inputs(){return[V]},get numberOfInputs(){return V.numberOfInputs},get numberOfOutputs(){return V.numberOfOutputs},get pan(){return F.gain},addEventListener(...I){return V.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return V.dispatchEvent(I[0])},removeEventListener(...I){return V.removeEventListener(I[0],I[1],I[2])}};let B=!1;const te=()=>{G(),B=!0},E=()=>{H(),B=!1};return o(Ph(M,D),te,E)}},hA=(n,e,t,s,a,o,u)=>(c,f)=>{const d=c.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,f);Ms(d,f);const p=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(p!==null&&p.length<2)throw e();Fr(d,{curve:p},"curve"),Fr(d,f,"oversample");let y=null,_=!1;return u(d,"curve",N=>()=>N.call(d),N=>k=>(N.call(d,k),_&&(s(k)&&y===null?y=n(c,d):!s(k)&&y!==null&&(y(),y=null)),k)),a(d,()=>{_=!0,s(d.curve)&&(y=n(c,d))},()=>{_=!1,y!==null&&(y(),y=null)})},fA=(n,e,t,s,a)=>(o,{curve:u,oversample:c,...f})=>{const d=o.createWaveShaper(),p=o.createWaveShaper();Ms(d,f),Ms(p,f);const y=t(o,{...f,gain:1}),_=t(o,{...f,gain:-1}),b=t(o,{...f,gain:1}),A=t(o,{...f,gain:-1});let N=null,k=!1,C=null;const R={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(F){y.channelCount=F,_.channelCount=F,d.channelCount=F,b.channelCount=F,p.channelCount=F,A.channelCount=F},get channelCountMode(){return d.channelCountMode},set channelCountMode(F){y.channelCountMode=F,_.channelCountMode=F,d.channelCountMode=F,b.channelCountMode=F,p.channelCountMode=F,A.channelCountMode=F},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(F){y.channelInterpretation=F,_.channelInterpretation=F,d.channelInterpretation=F,b.channelInterpretation=F,p.channelInterpretation=F,A.channelInterpretation=F},get context(){return d.context},get curve(){return C},set curve(F){if(F!==null&&F.length<2)throw e();if(F===null)d.curve=F,p.curve=F;else{const G=F.length,H=new Float32Array(G+2-G%2),M=new Float32Array(G+2-G%2);H[0]=F[0],M[0]=-F[G-1];const B=Math.ceil((G+1)/2),te=(G+1)/2-1;for(let E=1;E<B;E+=1){const I=E/B*te,re=Math.floor(I),U=Math.ceil(I);H[E]=re===U?F[re]:(1-(I-re))*F[re]+(1-(U-I))*F[U],M[E]=re===U?-F[G-1-re]:-((1-(I-re))*F[G-1-re])-(1-(U-I))*F[G-1-U]}H[B]=G%2===1?F[B-1]:(F[B-2]+F[B-1])/2,d.curve=H,p.curve=M}C=F,k&&(s(C)&&N===null?N=n(o,y):N!==null&&(N(),N=null))},get inputs(){return[y]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(F){d.oversample=F,p.oversample=F},addEventListener(...F){return y.addEventListener(F[0],F[1],F[2])},dispatchEvent(...F){return y.dispatchEvent(F[0])},removeEventListener(...F){return y.removeEventListener(F[0],F[1],F[2])}};u!==null&&(R.curve=u instanceof Float32Array?u:new Float32Array(u)),c!==R.oversample&&(R.oversample=c);const D=()=>{y.connect(d).connect(b),y.connect(_).connect(p).connect(A).connect(b),k=!0,s(C)&&(N=n(o,y))},V=()=>{y.disconnect(d),d.disconnect(b),y.disconnect(_),_.disconnect(p),p.disconnect(A),A.disconnect(b),k=!1,N!==null&&(N(),N=null)};return a(Ph(R,b),D,V)},xi=()=>new DOMException("","NotSupportedError"),dA={numberOfChannels:1},pA=(n,e,t,s,a)=>class extends n{constructor(u,c,f){let d;if(typeof u=="number"&&c!==void 0&&f!==void 0)d={length:c,numberOfChannels:u,sampleRate:f};else if(typeof u=="object")d=u;else throw new Error("The given parameters are not valid.");const{length:p,numberOfChannels:y,sampleRate:_}={...dA,...d},b=s(y,p,_);e(nd,()=>nd(b))||b.addEventListener("statechange",(()=>{let A=0;const N=k=>{this._state==="running"&&(A>0?(b.removeEventListener("statechange",N),k.stopImmediatePropagation(),this._waitForThePromiseToSettle(k)):A+=1)};return N})()),super(b,y),this._length=p,this._nativeOfflineAudioContext=b,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Vx(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}},mA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},gA=(n,e,t,s,a,o,u)=>class extends n{constructor(f,d){const p=a(f),y={...mA,...d},_=t(p,y),b=o(p),A=b?s():null,N=f.sampleRate/2;super(f,!1,_,A),this._detune=e(this,b,_.detune,153600,-153600),this._frequency=e(this,b,_.frequency,N,-N),this._nativeOscillatorNode=_,this._onended=null,this._oscillatorNodeRenderer=A,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?u(this,f):null;this._nativeOscillatorNode.onended=d;const p=this._nativeOscillatorNode.onended;this._onended=p!==null&&p===d?f:p}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){Dh(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),kl(this)&&gd(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},bA=(n,e,t,s,a)=>()=>{const o=new WeakMap;let u=null,c=null,f=null;const d=async(p,y)=>{let _=t(p);const b=ui(_,y);if(!b){const A={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,detune:_.detune.value,frequency:_.frequency.value,periodicWave:u===null?void 0:u,type:_.type};_=e(y,A),c!==null&&_.start(c),f!==null&&_.stop(f)}return o.set(y,_),b?(await n(y,p.detune,_.detune),await n(y,p.frequency,_.frequency)):(await s(y,p.detune,_.detune),await s(y,p.frequency,_.frequency)),await a(p,y,_),_};return{set periodicWave(p){u=p},set start(p){c=p},set stop(p){f=p},render(p,y){const _=o.get(y);return _!==void 0?Promise.resolve(_):d(p,y)}}},vA={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},yA=(n,e,t,s,a,o,u)=>class extends n{constructor(f,d){const p=a(f),y={...vA,...d},_=t(p,y),b=o(p),A=b?s():null;super(f,!1,_,A),this._nativePannerNode=_,this._orientationX=e(this,b,_.orientationX,vi,Pi),this._orientationY=e(this,b,_.orientationY,vi,Pi),this._orientationZ=e(this,b,_.orientationZ,vi,Pi),this._positionX=e(this,b,_.positionX,vi,Pi),this._positionY=e(this,b,_.positionY,vi,Pi),this._positionZ=e(this,b,_.positionZ,vi,Pi),u(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},xA=(n,e,t,s,a,o,u,c,f,d)=>()=>{const p=new WeakMap;let y=null;const _=async(b,A)=>{let N=null,k=o(b);const C={channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation},R={...C,coneInnerAngle:k.coneInnerAngle,coneOuterAngle:k.coneOuterAngle,coneOuterGain:k.coneOuterGain,distanceModel:k.distanceModel,maxDistance:k.maxDistance,panningModel:k.panningModel,refDistance:k.refDistance,rolloffFactor:k.rolloffFactor},D=ui(k,A);if("bufferSize"in k)N=s(A,{...C,gain:1});else if(!D){const V={...R,orientationX:k.orientationX.value,orientationY:k.orientationY.value,orientationZ:k.orientationZ.value,positionX:k.positionX.value,positionY:k.positionY.value,positionZ:k.positionZ.value};k=a(A,V)}if(p.set(A,N===null?k:N),N!==null){if(y===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const E=new u(6,b.context.length,A.sampleRate),I=e(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});I.connect(E.destination),y=(async()=>{const re=await Promise.all([b.orientationX,b.orientationY,b.orientationZ,b.positionX,b.positionY,b.positionZ].map(async(U,oe)=>{const Y=t(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:oe===0?1:0});return await c(E,U,Y.offset),Y}));for(let U=0;U<6;U+=1)re[U].connect(I,0,U),re[U].start(0);return d(E)})()}const V=await y,F=s(A,{...C,gain:1});await f(b,A,F);const G=[];for(let E=0;E<V.numberOfChannels;E+=1)G.push(V.getChannelData(E));let H=[G[0][0],G[1][0],G[2][0]],M=[G[3][0],G[4][0],G[5][0]],B=s(A,{...C,gain:1}),te=a(A,{...R,orientationX:H[0],orientationY:H[1],orientationZ:H[2],positionX:M[0],positionY:M[1],positionZ:M[2]});F.connect(B).connect(te.inputs[0]),te.connect(N);for(let E=128;E<V.length;E+=128){const I=[G[0][E],G[1][E],G[2][E]],re=[G[3][E],G[4][E],G[5][E]];if(I.some((U,oe)=>U!==H[oe])||re.some((U,oe)=>U!==M[oe])){H=I,M=re;const U=E/A.sampleRate;B.gain.setValueAtTime(0,U),B=s(A,{...C,gain:0}),te=a(A,{...R,orientationX:H[0],orientationY:H[1],orientationZ:H[2],positionX:M[0],positionY:M[1],positionZ:M[2]}),B.gain.setValueAtTime(1,U),F.connect(B).connect(te.inputs[0]),te.connect(N)}}return N}return D?(await n(A,b.orientationX,k.orientationX),await n(A,b.orientationY,k.orientationY),await n(A,b.orientationZ,k.orientationZ),await n(A,b.positionX,k.positionX),await n(A,b.positionY,k.positionY),await n(A,b.positionZ,k.positionZ)):(await c(A,b.orientationX,k.orientationX),await c(A,b.orientationY,k.orientationY),await c(A,b.orientationZ,k.orientationZ),await c(A,b.positionX,k.positionX),await c(A,b.positionY,k.positionY),await c(A,b.positionZ,k.positionZ)),zh(k)?await f(b,A,k.inputs[0]):await f(b,A,k),k};return{render(b,A){const N=p.get(A);return N!==void 0?Promise.resolve(N):_(b,A)}}},wA={disableNormalization:!1},_A=(n,e,t,s)=>class Yx{constructor(o,u){const c=e(o),f=s({...wA,...u}),d=n(c,f);return t.add(d),d}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===Yx.prototype||t.has(o)}},SA=(n,e)=>(t,s,a)=>(n(s).replay(a),e(s,t,a)),NA=(n,e,t)=>async(s,a,o)=>{const u=n(s);await Promise.all(u.activeInputs.map((c,f)=>Array.from(c).map(async([d,p])=>{const _=await e(d).render(d,a),b=s.context.destination;!t(d)&&(s!==b||!t(s))&&_.connect(o,p,f)})).reduce((c,f)=>[...c,...f],[]))},AA=(n,e,t)=>async(s,a,o)=>{const u=e(s);await Promise.all(Array.from(u.activeInputs).map(async([c,f])=>{const p=await n(c).render(c,a);t(c)||p.connect(o,f)}))},TA=(n,e,t,s)=>a=>n(nd,()=>nd(a))?Promise.resolve(n(s,s)).then(o=>{if(!o){const u=t(a,512,0,1);a.oncomplete=()=>{u.onaudioprocess=null,u.disconnect()},u.onaudioprocess=()=>a.currentTime,u.connect(a.destination)}return a.startRendering()}):new Promise(o=>{const u=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=c=>{u.disconnect(),o(c.renderedBuffer)},u.connect(a.destination),a.startRendering()}),CA=n=>(e,t)=>{n.set(e,t)},kA=n=>(e,t)=>n.set(e,t),jA=(n,e,t,s,a,o,u,c)=>(f,d)=>t(f).render(f,d).then(()=>Promise.all(Array.from(s(d)).map(p=>t(p).render(p,d)))).then(()=>a(d)).then(p=>(typeof p.copyFromChannel!="function"?(u(p),Og(p)):e(o,()=>o(p))||c(p),n.add(p),p)),EA={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},MA=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=a(c),p={...EA,...f},y=t(d,p),_=o(d),b=_?s():null;super(c,!1,y,b),this._pan=e(this,_,y.pan)}get pan(){return this._pan}},LA=(n,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const p=ui(d,f);if(!p){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=e(f,y)}return o.set(f,d),p?await n(f,c.pan,d.pan):await s(f,c.pan,d.pan),zh(d)?await a(c,f,d.inputs[0]):await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},OA=n=>()=>{if(n===null)return!1;try{new n({length:1,sampleRate:44100})}catch{return!1}return!0},DA=(n,e)=>async()=>{if(n===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),a=URL.createObjectURL(t);let o=!1,u=!1;try{await s.audioWorklet.addModule(a);const c=new n(s,"a",{numberOfOutputs:0}),f=s.createOscillator();c.port.onmessage=()=>o=!0,c.onprocessorerror=()=>u=!0,f.connect(c),f.start(0),await s.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(a)}return o&&!u},RA=(n,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),s=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{t.oncomplete=()=>{s.disconnect(),a(t.currentTime!==0)},t.startRendering()})},IA=()=>new DOMException("","UnknownError"),VA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},FA=(n,e,t,s,a,o,u)=>class extends n{constructor(f,d){const p=a(f),y={...VA,...d},_=t(p,y),A=o(p)?s():null;super(f,!0,_,A),this._isCurveNullified=!1,this._nativeWaveShaperNode=_,u(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},BA=(n,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!ui(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=n(u,d)}return s.set(u,c),zh(c)?await t(o,u,c.inputs[0]):await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},zA=()=>typeof window>"u"?null:window,PA=(n,e)=>t=>{t.copyFromChannel=(s,a,o=0)=>{const u=n(o),c=n(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),p=s.length;for(let y=u<0?-u:0;y+u<f&&y<p;y+=1)s[y]=d[y+u]},t.copyToChannel=(s,a,o=0)=>{const u=n(o),c=n(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),p=s.length;for(let y=u<0?-u:0;y+u<f&&y<p;y+=1)d[y+u]=s[y]}},qA=n=>e=>{e.copyFromChannel=(t=>(s,a,o=0)=>{const u=n(o),c=n(a);if(u<e.length)return t.call(e,s,c,u)})(e.copyFromChannel),e.copyToChannel=(t=>(s,a,o=0)=>{const u=n(o),c=n(a);if(u<e.length)return t.call(e,s,c,u)})(e.copyToChannel)},UA=n=>(e,t)=>{const s=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),n(e,"buffer",a=>()=>{const o=a.call(e);return o===s?null:o},a=>o=>a.call(e,o===null?s:o))},HA=(n,e)=>(t,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const a=t.createBufferSource();e(s,()=>{const c=s.numberOfInputs;for(let f=0;f<c;f+=1)a.connect(s,0,f)},()=>a.disconnect(s))},$x=(n,e,t)=>n.copyFromChannel===void 0?n.getChannelData(t)[0]:(n.copyFromChannel(e,t),e[0]),Xx=n=>{if(n===null)return!1;const e=n.length;return e%2!==0?n[Math.floor(e/2)]!==0:n[e/2-1]+n[e/2]!==0},wd=(n,e,t,s)=>{let a=n;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:o,set:u}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(n,e,{get:t(o),set:s(u)})},WA=n=>({...n,outputChannelCount:n.outputChannelCount!==void 0?n.outputChannelCount:n.numberOfInputs===1&&n.numberOfOutputs===1?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}),GA=n=>({...n,channelCount:n.numberOfOutputs}),YA=n=>{const{imag:e,real:t}=n;return e===void 0?t===void 0?{...n,imag:[0,0],real:[0,0]}:{...n,imag:Array.from(t,()=>0),real:t}:t===void 0?{...n,imag:e,real:Array.from(e,()=>0)}:{...n,imag:e,real:t}},Zx=(n,e,t)=>{try{n.setValueAtTime(e,t)}catch(s){if(s.code!==9)throw s;Zx(n,e,t+1e-7)}},$A=n=>{const e=n.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},XA=n=>{const e=n.createBufferSource(),t=n.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},ZA=n=>{const e=n.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Fg=n=>{const e=n.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},Qx=n=>{const e=n.createBuffer(1,1,44100),t=n.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},Bg=n=>{const e=n.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},QA=n=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(n)}finally{e.close(),t.close()}},KA=n=>{n.start=(e=>(t=0,s=0,a)=>{const o=n.buffer,u=o===null?s:Math.min(o.duration,s);o!==null&&u>o.duration-.5/n.context.sampleRate?e.call(n,t,0,0):e.call(n,t,u,a)})(n.start)},Kx=(n,e)=>{const t=e.createGain();n.connect(t);const s=(a=>()=>{a.call(n,t),n.removeEventListener("ended",s)})(n.disconnect);n.addEventListener("ended",s),Ph(n,t),n.stop=(a=>{let o=!1;return(u=0)=>{if(o)try{a.call(n,u)}catch{t.gain.setValueAtTime(0,u)}else a.call(n,u),o=!0}})(n.stop)},qh=(n,e)=>t=>{const s={value:n};return Object.defineProperties(t,{currentTarget:s,target:s}),typeof e=="function"?e.call(n,t):e.handleEvent.call(n,t)},JA=yS(xu),e8=AS(xu),t8=V6(jp),Jx=new WeakMap,n8=tN(Jx),mo=d6(new Map,new WeakMap),Uo=zA(),e3=MN(mo,Wo),zg=eN(yi),ei=NA(yi,zg,mu),r8=ES(e3,jr,ei),yr=sN(kp),Ol=sA(Uo),lr=wN(Ol),t3=new WeakMap,n3=Y6(qh),_d=RN(Uo),Pg=bN(_d),qg=vN(Uo),r3=yN(Uo),rd=VN(Uo),ls=t6(xS(Ex),NS(JA,e8,rp,t8,sp,yi,n8,md,jr,xu,kl,mu,P1),mo,fN(Zm,sp,yi,jr,td,kl),Wo,Ep,xi,O6(rp,Zm,yi,jr,td,yr,kl,lr),z6(t3,yi,uo),n3,yr,Pg,qg,r3,lr,rd),s8=jS(ls,r8,Wo,e3,yr,lr),Ug=new WeakSet,Ev=LN(Uo),s3=T6(new Uint32Array(1)),Hg=PA(s3,Wo),Wg=qA(s3),i3=LS(Ug,mo,xi,Ev,Ol,OA(Ev),Hg,Wg),Mp=TS(Hi),a3=AA(zg,bd,mu),Go=x6(a3),Uh=DN(Mp,mo,$A,XA,ZA,Fg,Qx,Bg,KA,UA(wd),Kx),Yo=SA(nN(bd),a3),i8=RS(Go,Uh,jr,Yo,ei),go=n6(wS(Mx),t3,Lg,r6,dS,pS,mS,gS,bS,Ym,kx,_d,Zx),a8=DS(ls,i8,go,Us,Uh,yr,lr,qh),o8=HS(ls,WS,Wo,Us,IN(Hi,wd),yr,lr,ei),l8=f6(Go,Wx,jr,Yo,ei),wu=kA(Jx),c8=h6(ls,go,l8,Ep,Wx,yr,lr,wu),Ec=jN(xu,qg),u8=HA(Us,Ec),Mc=HN(_d,u8),h8=g6(Mc,jr,ei),f8=m6(ls,h8,Mc,yr,lr),d8=y6(yd,jr,ei),p8=v6(ls,d8,yd,yr,lr,GA),m8=YN(Mp,Uh,Hi,Ec),Hh=GN(Mp,mo,m8,Fg,Bg),g8=A6(Go,Hh,jr,Yo,ei),b8=N6(ls,go,g8,Hh,yr,lr,qh),o3=$N(xi,wd),v8=j6(o3,jr,ei),y8=k6(ls,v8,o3,yr,lr,wu),x8=I6(Go,Gx,jr,Yo,ei),w8=R6(ls,go,x8,Gx,yr,lr,wu),l3=XN(xi),_8=H6(Go,l3,jr,Yo,ei),S8=U6(ls,go,_8,l3,xi,yr,lr,wu),N8=K6(Go,Hi,jr,Yo,ei),A8=Q6(ls,go,N8,Hi,yr,lr),T8=JN(Ep,Us,xd,xi),Lp=TA(mo,Hi,xd,RA(Hi,Ol)),C8=hN(Uh,jr,Ol,ei,Lp),k8=ZN(T8),j8=cN(ls,k8,C8,yr,lr,wu),E8=GS(go,Mc,Hh,xd,xi,$x,lr,wd),c3=new WeakMap,M8=kN(o8,E8,n3,lr,c3,qh),u3=iA(Mp,mo,Fg,Qx,Bg,Kx),L8=bA(Go,u3,jr,Yo,ei),O8=gA(ls,go,u3,L8,yr,lr,qh),h3=_6(Uh),D8=fA(h3,Us,Hi,Xx,Ec),Op=hA(h3,Us,D8,Xx,Ec,_d,wd),R8=oA(rp,Us,Mc,Hi,xd,Op,xi,sp,$x,Ec),f3=aA(R8),I8=xA(Go,Mc,Hh,Hi,f3,jr,Ol,Yo,ei,Lp),V8=yA(ls,go,f3,I8,yr,lr,wu),F8=lA(Wo),B8=_A(F8,yr,new WeakSet,YA),z8=uA(Mc,yd,Hi,Op,xi,Ec),d3=cA(z8,xi),P8=LA(Go,d3,jr,Yo,ei),q8=MA(ls,go,d3,P8,yr,lr),U8=BA(Op,jr,ei),H8=FA(ls,Us,Op,U8,yr,lr,wu),p3=_N(Uo),Gg=$6(Uo),m3=new WeakMap,W8=iN(m3,Ol),G8=p3?SS(mo,xi,G6(Uo),Gg,X6(vS),yr,W8,lr,rd,new WeakMap,new WeakMap,DA(rd,Ol),Uo):void 0,Y8=xN(Pg,lr),$8=L6(Ug,mo,M6,W6,new WeakSet,yr,Y8,tp,nd,Hg,Wg),g3=c6(G8,s8,i3,a8,c8,f8,p8,b8,y8,$8,w8,S8,A8,j8,M8,O8,V8,B8,q8,H8),X8=SN(ls,eA,yr,lr),Z8=AN(ls,tA,yr,lr),Q8=TN(ls,nA,yr,lr),K8=rA(Us,lr),J8=CN(ls,K8,yr),eT=US(g3,Us,xi,IA,X8,Z8,Q8,J8,_d),Yg=aN(c3),tT=CS(Yg),b3=w6(Wo),nT=F6(Yg),v3=P6(Wo),y3=new WeakMap,rT=J6(y3,uo),sT=UN(b3,Wo,Us,Mc,yd,Hh,Hi,xd,xi,v3,Gg,rT,Ec),iT=BN(Us,sT,Hi,xi,Ec),aT=l6(Go,b3,Uh,Mc,yd,Hh,Hi,nT,v3,Gg,jr,rd,Ol,Yo,ei,Lp),oT=rN(m3),lT=CA(y3),Mv=p3?i6(tT,ls,go,aT,iT,yi,oT,yr,lr,rd,WA,lT,QA,qh):void 0,cT=E6(xi,Ol),uT=jA(Ug,mo,zg,Yg,Lp,tp,Hg,Wg),hT=pA(g3,mo,Us,cT,uT),fT=dN(kp,Pg),dT=pN(Mg,qg),pT=mN(Lg,r3),mT=gN(kp,lr);function Ma(n){return n===void 0}function Mn(n){return n!==void 0}function gT(n){return typeof n=="function"}function jl(n){return typeof n=="number"}function fu(n){return Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object}function bT(n){return typeof n=="boolean"}function ca(n){return Array.isArray(n)}function El(n){return typeof n=="string"}function T1(n){return El(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function Kt(n,e){if(!n)throw new Error(e)}function Ml(n,e,t=1/0){if(!(e<=n&&n<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${n}`)}function x3(n){!n.isOffline&&n.state!=="running"&&Dp('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let w3=!1,Lv=!1;function Ov(n){w3=n}function vT(n){Ma(n)&&w3&&!Lv&&(Lv=!0,Dp("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let _3=console;function yT(...n){_3.log(...n)}function Dp(...n){_3.warn(...n)}function xT(n){return new eT(n)}function wT(n,e,t){return new hT(n,e,t)}const aa=typeof self=="object"?self:null,_T=aa&&(aa.hasOwnProperty("AudioContext")||aa.hasOwnProperty("webkitAudioContext"));function ST(n,e,t){return Kt(Mn(Mv),"AudioWorkletNode only works in a secure context (https or localhost)"),new(n instanceof aa?.BaseAudioContext?aa?.AudioWorkletNode:Mv)(n,e,t)}function bo(n,e,t,s){var a=arguments.length,o=a<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,s);else for(var c=n.length-1;c>=0;c--)(u=n[c])&&(o=(a<3?u(o):a>3?u(e,t,o):u(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o}function vs(n,e,t,s){function a(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function c(p){try{d(s.next(p))}catch(y){u(y)}}function f(p){try{d(s.throw(p))}catch(y){u(y)}}function d(p){p.done?o(p.value):a(p.value).then(c,f)}d((s=s.apply(n,e||[])).next())})}class NT{constructor(e,t,s,a){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),s=new Worker(t);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function gu(n){return pT(n)}function Sc(n){return dT(n)}function q1(n){return mT(n)}function bh(n){return fT(n)}function AT(n){return n instanceof i3}function TT(n,e){return n==="value"||gu(e)||Sc(e)||AT(e)}function du(n,...e){if(!e.length)return n;const t=e.shift();if(fu(n)&&fu(t))for(const s in t)TT(s,t[s])?n[s]=t[s]:fu(t[s])?(n[s]||Object.assign(n,{[s]:{}}),du(n[s],t[s])):Object.assign(n,{[s]:t[s]});return du(n,...e)}function CT(n,e){return n.length===e.length&&n.every((t,s)=>e[s]===t)}function Zt(n,e,t=[],s){const a={},o=Array.from(e);if(fu(o[0])&&s&&!Reflect.has(o[0],s)&&(Object.keys(o[0]).some(c=>Reflect.has(n,c))||(du(a,{[s]:o[0]}),t.splice(t.indexOf(s),1),o.shift())),o.length===1&&fu(o[0]))du(a,o[0]);else for(let u=0;u<t.length;u++)Mn(o[u])&&(a[t[u]]=o[u]);return du(n,a)}function kT(n){return n.constructor.getDefaults()}function Ah(n,e){return Ma(n)?e:n}function oo(n,e){return e.forEach(t=>{Reflect.has(n,t)&&delete n[t]}),n}class Dl{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||aa&&this.toString()===aa.TONE_DEBUG_CLASS)&&yT(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Dl.version=Cx;const $g=1e-6;function Rh(n,e){return n>e+$g}function tg(n,e){return Rh(n,e)||ao(n,e)}function lp(n,e){return n+$g<e}function ao(n,e){return Math.abs(n-e)<$g}function jT(n,e,t){return Math.max(Math.min(n,t),e)}class La extends Dl{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Zt(La.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Kt(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];Kt(tg(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const s=this._search(e,t);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const s=this._search(e,t);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(ao(this._timeline[t].time,e)){for(let s=t;s>=0&&ao(this._timeline[s].time,e);s--)t=s;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&tg(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let s=0;const a=this._timeline.length;let o=a;if(a>0&&this._timeline[a-1][t]<=e)return a-1;for(;s<o;){let u=Math.floor(s+(o-s)/2);const c=this._timeline[u],f=this._timeline[u+1];if(ao(c[t],e)){for(let d=u;d<this._timeline.length;d++){const p=this._timeline[d];if(ao(p[t],e))u=d;else break}return u}else{if(lp(c[t],e)&&Rh(f[t],e))return u;Rh(c[t],e)?o=u:s=u+1}}return-1}_iterate(e,t=0,s=this._timeline.length-1){this._timeline.slice(t,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const s=this._search(e);return s!==-1&&this._iterate(t,0,s),this}forEachAfter(e,t){const s=this._search(e);return this._iterate(t,s+1),this}forEachBetween(e,t,s){let a=this._search(e),o=this._search(t);return a!==-1&&o!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[o].time===t&&(o-=1),this._iterate(s,a,o)):a===-1&&this._iterate(s,0,o),this}forEachFrom(e,t){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(t,s+1),this}forEachAtTime(e,t){const s=this._search(e);if(s!==-1&&ao(this._timeline[s].time,e)){let a=s;for(let o=s;o>=0&&ao(this._timeline[o].time,e);o--)a=o;this._iterate(o=>{t(o)},a,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const S3=[];function Rp(n){S3.push(n)}function ET(n){S3.forEach(e=>e(n))}const N3=[];function Ip(n){N3.push(n)}function MT(n){N3.forEach(e=>e(n))}class Sd extends Dl{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(a=>{Ma(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(t)}),this}once(e,t){const s=(...a)=>{t(...a),this.off(e,s)};return this.on(e,s),this}off(e,t){return e.split(/\W+/).forEach(a=>{if(Ma(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(Ma(t))this._events[a]=[];else{const o=this._events[a];for(let u=o.length-1;u>=0;u--)o[u]===t&&o.splice(u,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let a=0,o=s.length;a<o;a++)s[a].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const s=Object.getOwnPropertyDescriptor(Sd.prototype,t);Object.defineProperty(e.prototype,t,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class A3 extends Sd{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}let Xg=class T3 extends A3{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new La,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const s=Zt(T3.getDefaults(),arguments,["context"]);s.context?(this._context=s.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=xT({latencyHint:s.latencyHint}),this._latencyHint=s.latencyHint),this._ticker=new NT(this.emit.bind(this,"tick"),s.clockSource,s.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=s.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(ET(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,s){return this._context.createBuffer(e,t,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,s){return this._context.createPeriodicWave(e,t,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Kt(bh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Kt(bh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Kt(bh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Kt(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Kt(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Kt(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Kt(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return ST(this.rawContext,e,t)}addAudioWorkletModule(e){return vs(this,void 0,void 0,function*(){Kt(Mn(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return vs(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return bh(this._context)?this._context.resume():Promise.resolve()}close(){return vs(this,void 0,void 0,function*(){bh(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&MT(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),s=t.getChannelData(0);for(let o=0;o<s.length;o++)s[o]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=t,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,t=>{t.callback(),this._timeouts.remove(t)})}setTimeout(e,t){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const s=++this._timeoutIds,a=()=>{const o=this.now();this._timeouts.add({callback:()=>{e(),a()},id:s,time:o+t})};return a(),s}};class LT extends A3{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return vs(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Er(n,e){ca(e)?e.forEach(t=>Er(n,t)):Object.defineProperty(n,e,{enumerable:!0,writable:!1})}function Zg(n,e){ca(e)?e.forEach(t=>Zg(n,t)):Object.defineProperty(n,e,{writable:!0})}const or=()=>{};class Cr extends Dl{constructor(){super(),this.name="ToneAudioBuffer",this.onload=or;const e=Zt(Cr.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,El(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:or,onload:or,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:lo().sampleRate}set(e){return e instanceof Cr?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return vs(this,void 0,void 0,function*(){const t=Cr.load(e).then(s=>{this.set(s),this.onload(this)});Cr.downloads.push(t);try{yield t}finally{const s=Cr.downloads.indexOf(t);Cr.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=ca(e)&&e[0].length>0,s=t?e.length:1,a=t?e[0].length:e.length,o=lo(),u=o.createBuffer(s,a,o.sampleRate),c=!t&&s===1?[e]:e;for(let f=0;f<s;f++)u.copyToChannel(c[f],f);return this._buffer=u,this}toMono(e){if(jl(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const s=this.numberOfChannels;for(let a=0;a<s;a++){const o=this.toArray(a);for(let u=0;u<o.length;u++)t[u]+=o[u]}t=t.map(a=>a/s),this.fromArray(t)}return this}toArray(e){if(jl(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let s=0;s<this.numberOfChannels;s++)t[s]=this.getChannelData(s);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){Kt(this.loaded,"Buffer is not loaded");const s=Math.floor(e*this.sampleRate),a=Math.floor(t*this.sampleRate);Kt(s<a,"The start time must be less than the end time");const o=a-s,u=lo().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)u.copyToChannel(this.getChannelData(c).subarray(s,a),c);return new Cr(u)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Cr().fromArray(e)}static fromUrl(e){return vs(this,void 0,void 0,function*(){return yield new Cr().load(e)})}static load(e){return vs(this,void 0,void 0,function*(){const t=Cr.baseUrl===""||Cr.baseUrl.endsWith("/")?Cr.baseUrl:Cr.baseUrl+"/",s=yield fetch(t+e);if(!s.ok)throw new Error(`could not load url: ${e}`);const a=yield s.arrayBuffer();return yield lo().decodeAudioData(a)})}static supportsType(e){const t=e.split("."),s=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return vs(this,void 0,void 0,function*(){for(yield Promise.resolve();Cr.downloads.length;)yield Cr.downloads[0]})}}Cr.baseUrl="";Cr.downloads=[];class Qg extends Xg{constructor(){super({clockSource:"offline",context:q1(arguments[0])?arguments[0]:wT(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:q1(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=q1(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return vs(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const s=Math.floor(this.sampleRate/128);e&&t%s===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return vs(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new Cr(t)})}close(){return Promise.resolve()}}const C3=new LT;let uu=C3;function lo(){return uu===C3&&_T&&OT(new Xg),uu}function OT(n,e=!1){e&&uu.dispose(),bh(n)?uu=new Xg(n):q1(n)?uu=new Qg(n):uu=n}function _u(){return uu.resume()}if(aa&&!aa.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Cx} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function DT(n){return Math.pow(10,n/20)}function RT(n){return 20*(Math.log(n)/Math.LN10)}function k3(n){return Math.pow(2,n/12)}let Vp=440;function IT(){return Vp}function VT(n){Vp=n}function hu(n){return Math.round(j3(n))}function j3(n){return 69+12*Math.log2(n/Vp)}function E3(n){return Vp*Math.pow(2,(n-69)/12)}class Kg extends Dl{constructor(e,t,s){super(),this.defaultUnits="s",this._val=t,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const s=parseInt(e,10),a=t==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/s)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,s)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a+=this._beatsToUnits(parseFloat(t))),s&&s!=="0"&&(a+=this._beatsToUnits(parseFloat(s)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Kg&&this.fromType(this._val),Ma(this._val))return this._noArg();if(El(this._val)&&Ma(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(fu(this._val)){let e=0;for(const t in this._val)if(Mn(this._val[t])){const s=this._val[t],a=new this.constructor(this.context,t).valueOf()*s;e+=a}return e}if(Mn(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return El(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class co extends Kg{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new co(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const s=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),c=Math.round(a/s)*s-a;return a+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let o=1;o<9;o++){const u=Math.pow(2,o);t.push(u+"n."),t.push(u+"n"),t.push(u+"t")}t.push("0");let s=t[0],a=new co(this.context,t[0]).toSeconds();return t.forEach(o=>{const u=new co(this.context,o).toSeconds();Math.abs(u-e)<Math.abs(a-e)&&(s=o,a=u)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const s=Math.floor(t/this._getTimeSignature());let a=t%1*4;t=Math.floor(t)%this._getTimeSignature();const o=a.toString();return o.length>3&&(a=parseFloat(parseFloat(o).toFixed(3))),[s,t,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return hu(this.toFrequency())}_now(){return this.context.now()}}class oa extends co{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return IT()}static set A4(e){VT(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:oa.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const a=FT[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?a:oa.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,s){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a*=this._beatsToUnits(parseFloat(t))),s&&s!=="0"&&(a*=this._beatsToUnits(parseFloat(s)/4)),a}}})}transpose(e){return new oa(this.context,this.valueOf()*k3(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return hu(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/oa.A4);let s=Math.round(12*t)+57;const a=Math.floor(s/12);return a<0&&(s+=-12*a),BT[s%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return E3(e)}static ftom(e){return hu(e)}}const FT={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},BT=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Wf extends co{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Ui extends Dl{constructor(){super();const e=Zt(Ui.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:lo()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return vT(e),new co(this.context,e).toSeconds()}toFrequency(e){return new oa(this.context,e).toFrequency()}toTicks(e){return new Wf(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(s=>{Ma(e[s])&&delete t[s]}),t}get(){const e=kT(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const s=this[t];Mn(s)&&Mn(s.value)&&Mn(s.setValueAtTime)?e[t]=s.value:s instanceof Ui?e[t]=s._getPartialProperties(e[t]):ca(s)||jl(s)||El(s)||bT(s)?e[t]=s:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&Mn(this[t])&&(this[t]&&Mn(this[t].value)&&Mn(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Ui?this[t].set(e[t]):this[t]=e[t])}),this}}class Jg extends La{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,s){return Ml(t,0),this.add(Object.assign({},s,{state:e,time:t})),this}getLastState(e,t){const s=this._search(t);for(let a=s;a>=0;a--){const o=this._timeline[a];if(o.state===e)return o}}getNextState(e,t){const s=this._search(t);if(s!==-1)for(let a=s;a<this._timeline.length;a++){const o=this._timeline[a];if(o.state===e)return o}}}class gr extends Ui{constructor(){const e=Zt(gr.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Kt(Mn(e.param)&&(gu(e.param)||e.param instanceof gr),"param must be an AudioParam");!gu(e.param);)e.param=e.param._param;this._swappable=Mn(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new La(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Mn(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ui.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Mn(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Mn(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return Mn(this.maxValue)&&Mn(this.minValue)&&Ml(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?DT(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?RT(e):e}setValueAtTime(e,t){const s=this.toSeconds(t),a=this._fromType(e);return Kt(isFinite(a)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,s),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),s=this._events.getAfter(t),a=this._events.get(t);let o=this._initialValue;if(a===null)o=this._initialValue;else if(a.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const u=this._events.getBefore(a.time);let c;u===null?c=this._initialValue:c=u.value,a.type==="setTargetAtTime"&&(o=this._exponentialApproach(a.time,c,a.value,a.constant,t))}else if(s===null)o=a.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let u=a.value;if(a.type==="setTargetAtTime"){const c=this._events.getBefore(a.time);c===null?u=this._initialValue:u=c.value}s.type==="linearRampToValueAtTime"?o=this._linearInterpolate(a.time,u,s.time,s.value,t):o=this._exponentialInterpolate(a.time,u,s.time,s.value,t)}else o=a.value;return this._toType(o)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const s=this._fromType(e),a=this.toSeconds(t);return Kt(isFinite(s)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(s),this._events.add({time:a,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(s,a),this}exponentialRampToValueAtTime(e,t){let s=this._fromType(e);s=ao(s,0)?this._minOutput:s,this._assertRange(s);const a=this.toSeconds(t);return Kt(isFinite(s)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(s,a),this}exponentialRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(t)),this}linearRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(t)),this}targetRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,t),this}exponentialApproachValueAtTime(e,t,s){t=this.toSeconds(t),s=this.toSeconds(s);const a=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,t,a),this.cancelAndHoldAtTime(t+s*.9),this.linearRampToValueAtTime(e,t+s),this}setTargetAtTime(e,t,s){const a=this._fromType(e);Kt(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(t);return this._assertRange(a),Kt(isFinite(a)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:s,time:o,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,o,s),this._param.setTargetAtTime(a,o,s),this}setValueCurveAtTime(e,t,s,a=1){s=this.toSeconds(s),t=this.toSeconds(t);const o=this._fromType(e[0])*a;this.setValueAtTime(this._toType(o),t);const u=s/(e.length-1);for(let c=1;c<e.length;c++){const f=this._fromType(e[c])*a;this.linearRampToValueAtTime(this._toType(f),t+c*u)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return Kt(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),s=this._fromType(this.getValueAtTime(t));Kt(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+s);const a=this._events.get(t),o=this._events.getAfter(t);return a&&ao(a.time,t)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),t):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),t)),this._events.add({time:t,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,t),this}rampTo(e,t=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,s):this.linearRampTo(e,t,s),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const s=this._events.get(t);if(s&&s.type==="setTargetAtTime"){const a=this._events.getAfter(s.time),o=a?a.time:t+2,u=(o-t)/10;for(let c=t;c<o;c+=u)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){Kt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,s,a,o){return s+(t-s)*Math.exp(-(o-e)/a)}_linearInterpolate(e,t,s,a,o){return t+(a-t)*((o-e)/(s-e))}_exponentialInterpolate(e,t,s,a,o){return t*Math.pow(a/t,(o-e)/(s-e))}}class rn extends Ui{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Mn(this.input)?gu(this.input)||this.input instanceof gr?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Mn(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Mn(e)&&(e instanceof rn||Sc(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Kt(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,s=0){return Wh(this,e,t,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Dp("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,s=0){return zT(this,e,t,s),this}chain(...e){return sd(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),Mn(this.input)&&(this.input instanceof rn?this.input.dispose():Sc(this.input)&&this.input.disconnect()),Mn(this.output)&&(this.output instanceof rn?this.output.dispose():Sc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function sd(...n){const e=n.shift();n.reduce((t,s)=>(t instanceof rn?t.connect(s):Sc(t)&&Wh(t,s),s),e)}function Wh(n,e,t=0,s=0){for(Kt(Mn(n),"Cannot connect from undefined node"),Kt(Mn(e),"Cannot connect to undefined node"),(e instanceof rn||Sc(e))&&Kt(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Kt(n.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof rn||e instanceof gr;)Mn(e.input)&&(e=e.input);for(;n instanceof rn;)Mn(n.output)&&(n=n.output);gu(e)?n.connect(e,t):n.connect(e,t,s)}function zT(n,e,t=0,s=0){if(Mn(e))for(;e instanceof rn;)e=e.input;for(;!Sc(n);)Mn(n.output)&&(n=n.output);gu(e)?n.disconnect(e,t):Sc(e)?n.disconnect(e,t,s):n.disconnect()}class xs extends rn{constructor(){const e=Zt(xs.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new gr({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Er(this,"gain")}static getDefaults(){return Object.assign(rn.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ih extends rn{constructor(e){super(e),this.onended=or,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new xs({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const s=this.toSeconds(t);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(rn.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:or})}_startGain(e,t=1){Kt(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+s):this._gainNode.gain.exponentialApproachValueAtTime(t,e,s)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Kt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==or&&(this.onended(this),this.onended=or,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Kt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=or,this}}class e2 extends Ih{constructor(){const e=Zt(e2.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Wh(this._source,this._gainNode),this.offset=new gr({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Ih.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class vr extends rn{constructor(){const e=Zt(vr.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new e2({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(rn.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,s=0){return t2(this,e,t,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,s){return this._param.exponentialRampTo(e,t,s),this}linearRampTo(e,t,s){return this._param.linearRampTo(e,t,s),this}targetRampTo(e,t,s){return this._param.targetRampTo(e,t,s),this}exponentialApproachValueAtTime(e,t,s){return this._param.exponentialApproachValueAtTime(e,t,s),this}setTargetAtTime(e,t,s){return this._param.setTargetAtTime(e,t,s),this}setValueCurveAtTime(e,t,s,a){return this._param.setValueCurveAtTime(e,t,s,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,s){return this._param.rampTo(e,t,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function t2(n,e,t,s){(e instanceof gr||gu(e)||e instanceof vr&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof vr&&(e.overridden=!0)),Wh(n,e,t,s)}class n2 extends gr{constructor(){const e=Zt(n2.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new La(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(gr.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,s){t=this.toSeconds(t),this.setRampPoint(t);const a=this._fromType(e),o=this._events.get(t),u=Math.round(Math.max(1/s,1));for(let c=0;c<=u;c++){const f=s*c+t,d=this._exponentialApproach(o.time,o.value,a,s,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}setValueAtTime(e,t){const s=this.toSeconds(t);super.setValueAtTime(e,t);const a=this._events.get(s),o=this._events.previousEvent(a),u=this._getTicksUntilEvent(o,s);return a.ticks=Math.max(u,0),this}linearRampToValueAtTime(e,t){const s=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const a=this._events.get(s),o=this._events.previousEvent(a),u=this._getTicksUntilEvent(o,s);return a.ticks=Math.max(u,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const s=this._fromType(e),a=this._events.get(t),o=Math.round(Math.max((t-a.time)*10,1)),u=(t-a.time)/o;for(let c=0;c<=o;c++){const f=u*c+a.time,d=this._exponentialInterpolate(a.time,a.value,t,s,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Ma(e.ticks)){const u=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(u,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(t));const o=this._events.get(t);return o&&o.time===t&&o.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(s+a)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),s=this._events.get(t);return Math.max(this._getTicksUntilEvent(s,t),0)}getDurationOfTicks(e,t){const s=this.toSeconds(t),a=this.getTicksAtTime(t);return this.getTimeOfTick(a+e)-s}getTimeOfTick(e){const t=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&s&&s.type==="linearRampToValueAtTime"&&t.value!==s.value){const a=this._fromType(this.getValueAtTime(t.time)),u=(this._fromType(this.getValueAtTime(s.time))-a)/(s.time-t.time),c=Math.sqrt(Math.pow(a,2)-2*u*(t.ticks-e)),f=(-a+c)/u,d=(-a-c)/u;return(f>0?f:d)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const s=this.toSeconds(t),a=this.toSeconds(e),o=this.getTicksAtTime(s);return this.getTicksAtTime(s+a)-o}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class r2 extends vr{constructor(){const e=Zt(r2.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new n2({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(vr.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class s2 extends Ui{constructor(){const e=Zt(s2.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Jg,this._tickOffset=new La,this._ticksAtTime=new La,this._secondsAtTime=new La,this.frequency=new r2({context:this.context,units:e.units,value:e.frequency}),Er(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ui.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),Mn(t)&&this.setTicksAtTime(t,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const s=this._state.get(t);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),s=this._state.getLastState("stopped",t),a=this._ticksAtTime.get(t),o={state:"paused",time:t};this._state.add(o);let u=a||s,c=a?a.ticks:0,f=null;return this._state.forEachBetween(u.time,t+this.sampleTime,d=>{let p=u.time;const y=this._tickOffset.get(d.time);y&&y.time>=u.time&&(c=y.ticks,p=y.time),u.state==="started"&&d.state!=="started"&&(c+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(p),d.time!==o.time&&(f={state:d.state,time:d.time,ticks:c})),u=d}),this._state.remove(o),f&&this._ticksAtTime.add(f),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),s=this.frequency.timeToTicks(e,t);this.setTicksAtTime(s,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);const a=this._secondsAtTime.get(e);let o=a||t,u=a?a.seconds:0,c=null;return this._state.forEachBetween(o.time,e+this.sampleTime,f=>{let d=o.time;const p=this._tickOffset.get(f.time);p&&p.time>=o.time&&(u=p.seconds,d=p.time),o.state==="started"&&f.state!=="started"&&(u+=f.time-d,f.time!==s.time&&(c={state:f.state,time:f.time,seconds:u})),o=f}),this._state.remove(s),c&&this._secondsAtTime.add(c),u}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const s=this._tickOffset.get(t),a=this._state.get(t),o=Math.max(s.time,a.time),u=this.frequency.getTicksAtTime(o)+e-s.ticks;return this.frequency.getTimeOfTick(u)}forEachTickBetween(e,t,s){let a=this._state.get(e);this._state.forEachBetween(e,t,u=>{a&&a.state==="started"&&u.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),u.time-this.sampleTime,s),a=u});let o=null;if(a&&a.state==="started"){const u=Math.max(a.time,e),c=this.frequency.getTicksAtTime(u),f=this.frequency.getTicksAtTime(a.time),d=c-f;let p=Math.ceil(d)-d;p=ao(p,1)?0:p;let y=this.frequency.getTimeOfTick(c+p);for(;y<t;){try{s(y,Math.round(this.getTicksAtTime(y)))}catch(_){o=_;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}let M3=class L3 extends Ui{constructor(){const e=Zt(L3.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=or,this._lastUpdate=0,this._state=new Jg("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new s2({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Er(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ui.getDefaults(),{callback:or,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){x3(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,t),s<this._lastUpdate&&this.emit("start",s,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const s=this.toSeconds(t),a=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(a+e,s)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,s=>{switch(s.state){case"started":const a=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,a);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,t,(s,a)=>{this.callback(s,a)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};Sd.mixin(M3);class Gh extends rn{constructor(){const e=Zt(Gh.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new xs({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Er(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(rn.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class i2 extends rn{constructor(){const e=Zt(i2.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Gh({context:this.context}),this.output=new xs({context:this.context}),this.volume=this.input.volume,sd(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(rn.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),sd(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Rp(n=>{n.destination=new i2({context:n})});Ip(n=>{n.destination.dispose()});class PT extends rn{constructor(){super(...arguments),this.name="Listener",this.positionX=new gr({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new gr({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new gr({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new gr({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new gr({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new gr({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new gr({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new gr({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new gr({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(rn.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Rp(n=>{n.listener=new PT({context:n})});Ip(n=>{n.listener.dispose()});class a2 extends Dl{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Zt(a2.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const s=e.urls[t];this.add(t,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:or,onload:or,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Kt(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,s=or,a=or){return El(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Cr(this.baseUrl+t,s,a))):this._buffers.set(e.toString(),new Cr(t,s,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class cp extends oa{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return hu(super._frequencyToUnits(e))}_ticksToUnits(e){return hu(super._ticksToUnits(e))}_beatsToUnits(e){return hu(super._beatsToUnits(e))}_secondsToUnits(e){return hu(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return E3(this.toMidi())}transpose(e){return new cp(this.context,this.toMidi()+e)}}class wh extends Wf{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class qT extends Ui{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new La,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,t=>{e-t.time<=this.expiration&&t.callback(),this._events.remove(t)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Rp(n=>{n.draw=new qT({context:n})});Ip(n=>{n.draw.dispose()});class UT extends Dl{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Kt(Mn(e.time),"Events must have a time property"),Kt(Mn(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new HT(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const s of t)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let s,a=null;if(t>0)if(e.left.right===null)s=e.left,s.right=e.right,a=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,a=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,a=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,a=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const t=e.parent,s=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),t!==null?s?t.left=a:t.right=a:this._setRoot(a)}_rotateRight(e){const t=e.parent,s=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),t!==null?s?t.left=a:t.right=a:this._setRoot(a)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let s=t[0];for(let a=1;a<t.length;a++)t[a].low>s.low&&(s=t[a]);return s.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(s=>t.push(s)),t.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(a=>{a.event&&t(a.event)})}return this}forEachFrom(e,t){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(a=>{a.event&&t(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class HT{constructor(e,t,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class WT extends Dl{constructor(e){super(),this.name="TimelineValue",this._timeline=new La({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class Nc extends rn{constructor(){super(Zt(Nc.getDefaults(),arguments,["context"]))}connect(e,t=0,s=0){return t2(this,e,t,s),this}}class Nd extends Nc{constructor(){const e=Zt(Nd.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,ca(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):gT(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(vr.getDefaults(),{length:1024})}setMap(e,t=1024){const s=new Float32Array(t);for(let a=0,o=t;a<o;a++){const u=a/(o-1)*2-1;s[a]=e(u,a)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(s=>s.includes(e));Kt(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Fp extends Nc{constructor(){const e=Zt(Fp.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Nd({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Nc.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Ac{constructor(e,t){this.id=Ac._eventId++,this._remainderTime=0;const s=Object.assign(Ac.getDefaults(),t);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:or,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Ac._eventId=0;class o2 extends Ac{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(o2.getDefaults(),t);this.duration=s.duration,this._interval=s.interval,this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Ac.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return lp(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new wh(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){lp(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new wh(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Rh(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Bp extends Ui{constructor(){const e=Zt(Bp.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new WT(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new La,this._repeatedEvents=new UT,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new M3({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Er(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Ui.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const s=t%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(s*Math.PI)*this._swingAmount;e+=new wh(this.context,this._swingTicks*2/3).toSeconds()*a}Ov(!0),this._timeline.forEachAtTime(t,s=>s.invoke(e)),Ov(!1)}schedule(e,t){const s=new Ac(this,{callback:e,time:new Wf(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,t,s,a=1/0){const o=new o2(this,{callback:e,duration:new co(this.context,a).toTicks(),interval:new co(this.context,t).toTicks(),time:new Wf(this.context,s).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(e,t){const s=new Ac(this,{callback:e,once:!0,time:new Wf(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(t,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new wh(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let s;return Mn(t)&&(s=this.toTicks(t)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){ca(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new co(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new co(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new wh(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new wh(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),s=this._clock.frequency.timeToTicks(e,t);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(t),a=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,t),o=t+a;this.emit("stop",o),this._clock.setTicksAtTime(e,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),s=this.getTicksAtTime(t),a=e-s%e;return this._clock.nextTickTime(a,t)}}syncSignal(e,t){const s=this.now();let a=this.bpm,o=1/(60/a.getValueAtTime(s)/this.PPQ),u=[];if(e.units==="time"){const f=.015625/o,d=new xs(f),p=new Fp(-1),y=new xs(f);a.chain(d,p,y),a=y,o=1/o,u=[d,p,y]}t||(e.getValueAtTime(s)!==0?t=e.getValueAtTime(s)/o:t=0);const c=new xs(t);return a.connect(c),c.connect(e._param),u.push(c),this._syncedSignals.push({initial:e.value,nodes:u,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const s=this._syncedSignals[t];s.signal===e&&(s.nodes.forEach(a=>a.dispose()),s.signal.value=s.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Zg(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Sd.mixin(Bp);Rp(n=>{n.transport=new Bp({context:n})});Ip(n=>{n.transport.dispose()});class ci extends rn{constructor(e){super(e),this.input=void 0,this._state=new Jg("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=or,this._syncedStop=or,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Gh({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Er(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(rn.getDefaults(),{mute:!1,onstop:or,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,s){let a=Ma(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")Kt(Rh(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,t,s);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const o=this._state.get(a);o&&(o.offset=this.toSeconds(Ah(t,0)),o.duration=s?this.toSeconds(s):void 0);const u=this.context.transport.schedule(c=>{this._start(c,t,s)},a);this._scheduled.push(u),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else x3(this.context),this._start(a,t,s);return this}stop(e){let t=Ma(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||Mn(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const s=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(s)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Rh(t,0)){const s=this._state.get(t);if(s&&s.state==="started"&&s.time!==t){const a=t-this.toSeconds(s.time);let o;s.duration&&(o=this.toSeconds(s.duration)-a),this._start(e,this.toSeconds(s.offset)+a,o)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=or,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class zp extends Ih{constructor(){const e=Zt(zp.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Wh(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new gr({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Cr(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ih.getDefaults(),{url:new Cr,loop:!1,loopEnd:0,loopStart:0,onload:or,onerror:or,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,s,a=1){Kt(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(e);this._startGain(o,a),this.loop?t=Ah(t,this.loopStart):t=Ah(t,0);let u=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),d=c-f;tg(u,c)&&(u=(u-f)%d+f),ao(u,this.buffer.duration)&&(u=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,lp(u,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,u)),Mn(s)){let c=this.toSeconds(s);c=Math.max(c,0),this.stop(o+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Su(n,e){return vs(this,void 0,void 0,function*(){const t=e/n.context.sampleRate,s=new Qg(1,t,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/t,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class l2 extends Ih{constructor(){const e=Zt(l2.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Wh(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new gr({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new gr({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Er(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ih.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class bs extends ci{constructor(){const e=Zt(bs.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new vr({context:this.context,units:"frequency",value:e.frequency}),Er(this,"frequency"),this.detune=new vr({context:this.context,units:"cents",value:e.detune}),Er(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(ci.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),s=new l2({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return bs._periodicWaveCache.find(t=>t.phase===this._phase&&CT(t.partials,this._partials));{const e=bs._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(Mn(s)){const{partials:a,wave:o}=s;this._wave=o,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,o]=this._getRealImaginary(e,this._phase),u=this.context.createPeriodicWave(a,o);this._wave=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),bs._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),bs._periodicWaveCache.length>100&&bs._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Ml(e,0);let t=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(t=s[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const a=new Float32Array(e);this._partials.forEach((o,u)=>a[u]=o),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,t){let a=2048;const o=new Float32Array(a),u=new Float32Array(a);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,a=c,this._partials.length===0)return[o,u]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);f?(c=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),e=f[1],c=Math.max(c,2),a=c):this._partialCount=0,this._partials=[]}for(let f=1;f<a;++f){const d=2/(f*Math.PI);let p;switch(e){case"sine":p=f<=c?1:0,this._partials[f-1]=p;break;case"square":p=f&1?2*d:0,this._partials[f-1]=p;break;case"sawtooth":p=d*(f&1?1:-1),this._partials[f-1]=p;break;case"triangle":f&1?p=2*(d*d)*(f-1>>1&1?-1:1):p=0,this._partials[f-1]=p;break;case"custom":p=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}p!==0?(o[f]=-p*Math.sin(t*f),u[f]=p*Math.cos(t*f)):(o[f]=0,u[f]=0)}return[o,u]}_inverseFFT(e,t,s){let a=0;const o=e.length;for(let u=0;u<o;u++)a+=e[u]*Math.cos(u*s)+t[u]*Math.sin(u*s);return a}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let s=0;const a=Math.PI*2,o=32;for(let u=0;u<o;u++)s=Math.max(this._inverseFFT(e,t,u/o*a),s);return jT(-this._inverseFFT(e,t,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return vs(this,arguments,void 0,function*(e=1024){return Su(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}bs._periodicWaveCache=[];class O3 extends Nc{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Nd({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ll extends vr{constructor(){const e=Zt(Ll.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new xs({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(vr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Pp extends ci{constructor(){const e=Zt(Pp.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new O3({context:this.context}),this._modulationNode=new xs({context:this.context}),this._carrier=new bs({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new bs({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ll({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Er(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(bs.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return vs(this,arguments,void 0,function*(e=1024){return Su(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class qp extends ci{constructor(){const e=Zt(qp.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new xs({context:this.context,gain:0}),this._carrier=new bs({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new vr({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new bs({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ll({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Ll({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Er(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(bs.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return vs(this,arguments,void 0,function*(e=1024){return Su(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Ad extends ci{constructor(){const e=Zt(Ad.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new xs({context:this.context,gain:0}),this._thresh=new Nd({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new vr({context:this.context,units:"audioRange",value:e.width}),this._triangle=new bs({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Er(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(ci.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return vs(this,arguments,void 0,function*(e=1024){return Su(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Up extends ci{constructor(){const e=Zt(Up.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new vr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new vr({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Er(this,["frequency","detune"])}static getDefaults(){return Object.assign(bs.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,s=e/(this._oscillators.length-1);this._forEach((a,o)=>a.detune.value=t+s*o)}}get count(){return this._oscillators.length}set count(e){if(Ml(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const s=new bs({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):or});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[t]=s}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,s)=>t.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return vs(this,arguments,void 0,function*(e=1024){return Su(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Hp extends ci{constructor(){const e=Zt(Hp.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Ll({context:this.context,value:2}),this._pulse=new Ad({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new bs({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Er(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(ci.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return vs(this,arguments,void 0,function*(e=1024){return Su(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Dv={am:Pp,fat:Up,fm:qp,oscillator:bs,pulse:Ad,pwm:Hp};class Tc extends ci{constructor(){const e=Zt(Tc.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new vr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new vr({context:this.context,units:"cents",value:e.detune}),Er(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(bs.getDefaults(),qp.getDefaults(),Pp.getDefaults(),Up.getDefaults(),Ad.getDefaults(),Hp.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=Dv[e],s=this.now();if(this._oscillator){const a=this._oscillator;a.stop(s),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof Dv[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&jl(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&jl(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&El(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return vs(this,arguments,void 0,function*(e=1024){return Su(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class c2 extends vr{constructor(){super(Zt(c2.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new xs({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,sd(this._constantSource,this._sum)}static getDefaults(){return Object.assign(vr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class u2 extends Nc{constructor(){const e=Zt(u2.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new Ll({context:this.context,value:e.max-e.min}),this._add=this.output=new c2({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Nc.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function D3(n,e=1/0){const t=new WeakMap;return function(s,a){Reflect.defineProperty(s,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){Ml(o,n,e),t.set(this,o)}})}}function Rl(n,e=1/0){const t=new WeakMap;return function(s,a){Reflect.defineProperty(s,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){Ml(this.toSeconds(o),n,e),t.set(this,o)}})}}class Wp extends ci{constructor(){const e=Zt(Wp.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new Cr({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(ci.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:or,onerror:or,playbackRate:1,reverse:!1})}load(e){return vs(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=or){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,s){return super.start(e,t,s),this}_start(e,t,s){this._loop?t=Ah(t,this._loopStart):t=Ah(t,0);const a=this.toSeconds(t),o=s;s=Ah(s,Math.max(this._buffer.duration-a,0));let u=this.toSeconds(s);u=u/this._playbackRate,e=this.toSeconds(e);const c=new zp({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+u),this._state.setStateAtTime("stopped",e+u,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&Ma(o)?c.start(e,a):c.start(e,a,u-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(t))}restart(e,t,s){return super.restart(e,t,s),this}_restart(e,t,s){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,t,s)}seek(e,t){const s=this.toSeconds(t);if(this._state.getValueAtTime(s)==="started"){const a=this.toSeconds(e);this._stop(s),this._start(s,a)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Ml(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Ml(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),s=this._state.getNextState("stopped",t);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}bo([Rl(0)],Wp.prototype,"fadeIn",void 0);bo([Rl(0)],Wp.prototype,"fadeOut",void 0);class ua extends rn{constructor(){const e=Zt(ua.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new vr({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(rn.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(El(e))return e;{let s;for(s in C1)if(C1[s][t]===e)return s;return e}}_setCurve(e,t,s){if(El(s)&&Reflect.has(C1,s)){const a=C1[s];fu(a)?e!=="_decayCurve"&&(this[e]=a[t]):this[e]=a}else if(ca(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),u=this.getValueAtTime(e);if(u>0){const c=1/a;a=(1-u)/c}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,a,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let f=1;f<c.length;f++)if(c[f-1]<=u&&u<=c[f]){c=this._attackCurve.slice(f),c[0]=u;break}this._sig.setValueCurveAtTime(c,e,a,t)}if(o&&this.sustain<1){const c=t*this.sustain,f=e+a;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,o+f):this._sig.exponentialApproachValueAtTime(c,f,o)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(Kt(ca(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,s=1){return t=this.toSeconds(t),this.triggerAttack(t,s),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,s=0){return t2(this,e,t,s),this}asArray(){return vs(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,s=new Qg(1,t,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=a+this.toSeconds(this.release),u=o*.1,c=o+u,f=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:s}));return f._sig.toDestination(),f.triggerAttackRelease(t*(a+u)/c,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}bo([Rl(0)],ua.prototype,"attack",void 0);bo([Rl(0)],ua.prototype,"decay",void 0);bo([D3(0,1)],ua.prototype,"sustain",void 0);bo([Rl(0)],ua.prototype,"release",void 0);const C1=(()=>{let e,t;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/127*(Math.PI/2));const a=[],o=6.4;for(e=0;e<127;e++){t=e/127;const _=Math.sin(t*(Math.PI*2)*o-Math.PI/2)+1;a[e]=_/10+t*.83}a[127]=1;const u=[],c=5;for(e=0;e<128;e++)u[e]=Math.ceil(e/127*c)/c;const f=[];for(e=0;e<128;e++)t=e/127,f[e]=.5*(1-Math.cos(Math.PI*t));const d=[];for(e=0;e<128;e++){t=e/127;const _=Math.pow(t,3)*4+.2,b=Math.cos(_*Math.PI*2*t);d[e]=Math.abs(b*(1-t))}function p(_){const b=new Array(_.length);for(let A=0;A<_.length;A++)b[A]=1-_[A];return b}function y(_){return _.slice(0).reverse()}return{bounce:{In:p(d),Out:d},cosine:{In:s,Out:y(s)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:p(a)},sine:{In:f,Out:p(f)},step:{In:u,Out:p(u)}}})();class Cc extends rn{constructor(){const e=Zt(Cc.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new Gh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Er(this,"volume")}static getDefaults(){return Object.assign(rn.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const s=this["_original_"+e]=this[e];this[e]=(...a)=>{const o=a[t],u=this.context.transport.schedule(c=>{a[t]=c,s.apply(this,a)},o);this._scheduledEvents.push(u)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,s,a){const o=this.toSeconds(s),u=this.toSeconds(t);return this.triggerAttack(e,o,a),this.triggerRelease(o+u),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class ho extends Cc{constructor(){const e=Zt(ho.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Cc.getDefaults(),{detune:0,onsilence:or,portamento:0})}triggerAttack(e,t,s=1){this.log("triggerAttack",e,t,s);const a=this.toSeconds(t);return this._triggerEnvelopeAttack(a,s),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const s=this.toSeconds(t),a=e instanceof oa?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,o,s)}else this.frequency.setValueAtTime(a,s);return this}}bo([Rl(0)],ho.prototype,"portamento",void 0);class Gp extends ua{constructor(){super(Zt(Gp.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new xs({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ea extends ho{constructor(){const e=Zt(Ea.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new Tc(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Gp(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Er(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(ho.getDefaults(),{envelope:Object.assign(oo(ua.getDefaults(),Object.keys(rn.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(oo(Tc.getDefaults(),[...Object.keys(ci.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class id extends ho{constructor(){const e=Zt(id.getDefaults(),arguments);super(e),this.name="ModulationSynth",this._carrier=new Ea({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new Ea({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new vr({context:this.context,units:"frequency"}),this.detune=new vr({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new Ll({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new xs({context:this.context,gain:0}),Er(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(ho.getDefaults(),{harmonicity:3,oscillator:Object.assign(oo(Tc.getDefaults(),[...Object.keys(ci.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(oo(ua.getDefaults(),Object.keys(rn.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(oo(Tc.getDefaults(),[...Object.keys(ci.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(oo(ua.getDefaults(),Object.keys(rn.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class up extends id{constructor(){super(Zt(up.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new O3({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class hp extends rn{constructor(){const e=Zt(hp.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new gr({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new gr({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new gr({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new gr({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(rn.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){Kt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let u=0;u<e;u++){const f=Math.pow(u/e,2)*19980+20;t[u]=f}const s=new Float32Array(e),a=new Float32Array(e),o=this.context.createBiquadFilter();return o.type=this.type,o.Q.value=this.Q.value,o.frequency.value=this.frequency.value,o.gain.value=this.gain.value,o.getFrequencyResponse(t,s,a),s}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class fp extends rn{constructor(){const e=Zt(fp.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new xs({context:this.context}),this.output=new xs({context:this.context}),this._filters=[],this._filters=[],this.Q=new vr({context:this.context,units:"positive",value:e.Q}),this.frequency=new vr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new vr({context:this.context,units:"cents",value:e.detune}),this.gain=new vr({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Er(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(rn.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){Kt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(s=>s.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const t=jl(e)?e:parseInt(e,10),s=[-12,-24,-48,-96];let a=s.indexOf(t);Kt(a!==-1,`rolloff can only be ${s.join(", ")}`),a+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach(o=>o.disconnect()),this._filters=new Array(a);for(let o=0;o<a;o++){const u=new hp({context:this.context});u.type=this._type,this.frequency.connect(u.frequency),this.detune.connect(u.detune),this.Q.connect(u.Q),this.gain.connect(u.gain),this._filters[o]=u}this._internalChannels=this._filters,sd(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new hp({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),s=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{t.getFrequencyResponse(e).forEach((o,u)=>s[u]*=o)}),t.dispose(),s}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Zg(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class dp extends ua{constructor(){const e=Zt(dp.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="FrequencyEnvelope",this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new Fp({context:this.context,value:e.exponent}),this._scale=this.output=new u2({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(ua.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);Ml(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class pp extends ho{constructor(){const e=Zt(pp.getDefaults(),arguments);super(e),this.name="MonoSynth",this.oscillator=new Tc(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new fp(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new dp(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new Gp(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Er(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(ho.getDefaults(),{envelope:Object.assign(oo(ua.getDefaults(),Object.keys(rn.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(oo(fp.getDefaults(),Object.keys(rn.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(oo(dp.getDefaults(),Object.keys(rn.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(oo(Tc.getDefaults(),Object.keys(ci.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Gf extends id{constructor(){const e=Zt(Gf.getDefaults(),arguments);super(e),this.name="FMSynth",this.modulationIndex=new Ll({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(id.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class Yp extends Ea{constructor(){const e=Zt(Yp.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Er(this,["oscillator","envelope"])}static getDefaults(){return du(ho.getDefaults(),Ea.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const s=this.toSeconds(t),a=this.toFrequency(e instanceof oa?e.toFrequency():e),o=a*this.octaves;return this.oscillator.frequency.setValueAtTime(o,s),this.oscillator.frequency.exponentialRampToValueAtTime(a,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}bo([D3(0)],Yp.prototype,"octaves",void 0);bo([Rl(0)],Yp.prototype,"pitchDecay",void 0);const R3=new Set;function h2(n){R3.add(n)}function I3(n,e){const t=`registerProcessor("${n}", ${e})`;R3.add(t)}const GT=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;h2(GT);const YT=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;h2(YT);const $T=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;h2($T);const XT="feedback-comb-filter",ZT=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;I3(XT,ZT);class Bi extends Cc{constructor(){const e=Zt(Bi.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),Kt(!jl(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const s=this._voices.indexOf(this._dummyVoice);this._voices.splice(s,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Cc.getDefaults(),{maxPolyphony:32,options:{},voice:Ea})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex(s=>s.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Kt(e instanceof ho,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Dp("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,s){e.forEach(a=>{const o=new cp(this.context,a).toMidi(),u=this._getNextAvailableVoice();u&&(u.triggerAttack(a,t,s),this._activeVoices.push({midi:o,voice:u,released:!1}),this.log("triggerAttack",a,t))})}_triggerRelease(e,t){e.forEach(s=>{const a=new cp(this.context,s).toMidi(),o=this._activeVoices.find(({midi:u,released:c})=>u===a&&!c);o&&(o.voice.triggerRelease(t),o.released=!0,this.log("triggerRelease",s,t))})}_scheduleEvent(e,t,s,a){Kt(!this.disposed,"Synth was already disposed"),s<=this.now()?e==="attack"?this._triggerAttack(t,s,a):this._triggerRelease(t,s):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,t,s,a)},s-this.now())}triggerAttack(e,t,s){Array.isArray(e)||(e=[e]);const a=this.toSeconds(t);return this._scheduleEvent("attack",e,a,s),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const s=this.toSeconds(t);return this._scheduleEvent("release",e,s),this}triggerAttackRelease(e,t,s,a){const o=this.toSeconds(s);if(this.triggerAttack(e,o,a),ca(t)){Kt(ca(e),"If the duration is an array, the notes must also be an array"),e=e;for(let u=0;u<e.length;u++){const c=t[Math.min(u,t.length-1)],f=this.toSeconds(c);Kt(f>0,"The duration must be greater than 0"),this.triggerRelease(e[u],o+f)}}else{const u=this.toSeconds(t);Kt(u>0,"The duration must be greater than 0"),this.triggerRelease(e,o+u)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const t=oo(e,["onsilence","context"]);return this.options=du(this.options,t),this._voices.forEach(s=>s.set(t)),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach(({voice:s})=>{s.triggerRelease(t)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Td extends Cc{constructor(){const e=Zt(Td.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(s=>{const a=parseInt(s,10);if(Kt(T1(s)||jl(a)&&isFinite(a),`url key is neither a note or midi pitch: ${s}`),T1(s)){const o=new oa(this.context,s).toMidi();t[o]=e.urls[s]}else jl(a)&&isFinite(a)&&(t[a]=e.urls[a])}),this._buffers=new a2({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Cc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:or,onerror:or,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,s=1){return this.log("triggerAttack",e,t,s),Array.isArray(e)||(e=[e]),e.forEach(a=>{const o=j3(new oa(this.context,a).toFrequency()),u=Math.round(o),c=o-u,f=this._findClosest(u),d=u-f,p=this._buffers.get(d),y=k3(f+c),_=new zp({url:p,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);_.start(t,0,p.duration/y,s),ca(this._activeSources.get(u))||this._activeSources.set(u,[]),this._activeSources.get(u).push(_),_.onended=()=>{if(this._activeSources&&this._activeSources.has(u)){const b=this._activeSources.get(u),A=b.indexOf(_);A!==-1&&b.splice(A,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(s=>{const a=new oa(this.context,s).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const o=this._activeSources.get(a);t=this.toSeconds(t),o.forEach(u=>{u.stop(t)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,s,a=1){const o=this.toSeconds(s);return this.triggerAttack(e,o,a),ca(t)?(Kt(ca(e),"notes must be an array when duration is array"),e.forEach((u,c)=>{const f=t[Math.min(c,t.length-1)];this.triggerRelease(u,o+this.toSeconds(f))})):this.triggerRelease(e,o+this.toSeconds(t)),this}add(e,t,s){if(Kt(T1(e)||isFinite(e),`note must be a pitch or midi: ${e}`),T1(e)){const a=new oa(this.context,e).toMidi();this._buffers.add(a,t,s)}else this._buffers.add(e,t,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}bo([Rl(0)],Td.prototype,"attack",void 0);bo([Rl(0)],Td.prototype,"release",void 0);class f2 extends rn{constructor(){const e=Zt(f2.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new gr({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Er(this,"pan")}static getDefaults(){return Object.assign(rn.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const QT="bit-crusher",KT=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;I3(QT,KT);class gs extends rn{constructor(){const e=Zt(gs.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new xs({context:this.context}),gs._allSolos.has(this.context)||gs._allSolos.set(this.context,new Set),gs._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(rn.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),gs._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){gs._soloed.has(this.context)||gs._soloed.set(this.context,new Set),gs._soloed.get(this.context).add(this)}_removeSolo(){gs._soloed.has(this.context)&&gs._soloed.get(this.context).delete(this)}_isSoloed(){return gs._soloed.has(this.context)&&gs._soloed.get(this.context).has(this)}_noSolos(){return!gs._soloed.has(this.context)||gs._soloed.has(this.context)&&gs._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),gs._allSolos.get(this.context).delete(this),this._removeSolo(),this}}gs._allSolos=new Map;gs._soloed=new Map;class d2 extends rn{constructor(){const e=Zt(d2.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new f2({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Gh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Er(this,["pan","volume"])}static getDefaults(){return Object.assign(rn.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class _h extends rn{constructor(){const e=Zt(_h.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new gs({solo:e.solo,context:this.context}),this._panVol=this.output=new d2({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Er(this,["pan","volume"])}static getDefaults(){return Object.assign(rn.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return _h.buses.has(e)||_h.buses.set(e,new xs({context:this.context})),_h.buses.get(e)}send(e,t=0){const s=this._getBus(e),a=new xs({context:this.context,units:"decibels",gain:t});return this.connect(a),a.connect(s),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}_h.buses=new Map;const qi=lo().transport,V3=lo().destination;lo().destination;lo().listener;lo().draw;const ys=lo();function JT(){return Cr.loaded()}const k1=({cx:n,cy:e,innerRadius:t,outerRadius:s,startAngle:a,endAngle:o,color:u,label:c,chord:f,isSelected:d,isDiatonic:p,isSecondary:y=!1,onClick:_,onDoubleClick:b,ringType:A="major",wheelRotation:N=0,romanNumeral:k,voicingSuggestion:C,segmentId:R="seg",onHover:D})=>{const V=cS(n,e,t,s,a,o),F=(a+o)/2,G=Xn.useRef(0),H=Xn.useRef(null),[M,B]=Xn.useState(!1),te=Xn.useRef(null),E=Xn.useRef(!1),I=Xn.useRef(!1),re=-N,U=s-t,oe=t+U*.5,Y=t+U*.18,J=wc(n,e,oe,F),le=wc(n,e,Y,F),pe=s-6,be=lS(n,e,pe,a+1,o-1),W=`voicing-arc-${R}`,j=`clip-${R}`,X=(()=>{let We=.35,lt=.5;p?(We=1,lt=1):y&&(We=.7,lt=.65);const at=u.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(at){const ze=parseInt(at[1]),st=Math.round(parseInt(at[2])*lt),et=parseInt(at[3]);let ut=et;return A==="minor"?ut=Math.max(et-8,30):A==="diminished"&&(ut=Math.max(et-15,25)),{fill:`hsl(${ze}, ${st}%, ${ut}%)`,opacity:We}}return{fill:u,opacity:We}})(),K=()=>A==="diminished"?"10px":A==="minor"?"12px":"14px",ae=p||y,de=ae?"#000000":"rgba(255,255,255,0.7)",fe=p?"bold":y?"600":"normal",xe=A==="diminished"||A==="minor"?"6px":"8px",we=A==="major"?ae?6:5:A==="minor"?ae?4:3.25:ae?3.5:3,Ie=ae?1:.95,$e=We=>{if(B(!0),We.touches.length>=2){I.current=!0,te.current=null;return}We.touches.length===1&&!I.current&&(te.current={x:We.touches[0].clientX,y:We.touches[0].clientY},E.current=!1)},Je=We=>{if(We.touches.length>=2){I.current=!0,E.current=!0;return}if(te.current&&We.touches.length===1&&!I.current){const lt=We.touches[0],at=lt.clientX-te.current.x,ze=lt.clientY-te.current.y;Math.sqrt(at*at+ze*ze)>15&&(E.current=!0)}},ct=async We=>{We.preventDefault(),We.stopPropagation(),B(!1);const lt=I.current,at=E.current;if(te.current=null,E.current=!1,We.touches.length===0&&(I.current=!1),lt||at)return;ys.state!=="running"&&await _u();const ze=Date.now(),st=ze-G.current;H.current&&(clearTimeout(H.current),H.current=null),st<300&&st>0?(G.current=0,b&&b(f)):(G.current=ze,H.current=setTimeout(()=>{_(f),H.current=null},300))},z=()=>{B(!1),te.current=null,E.current=!1,I.current=!1,H.current&&(clearTimeout(H.current),H.current=null)},Ne=We=>{We.stopPropagation(),qe.current&&(clearTimeout(qe.current),qe.current=null),D&&D(null,0,0),_(f)},rt=We=>{We.stopPropagation(),qe.current&&(clearTimeout(qe.current),qe.current=null),D&&D(null,0,0),b&&b(f)},qe=Xn.useRef(null),Ee=We=>{if(!D)return;const lt=We.clientX,at=We.clientY;qe.current=setTimeout(()=>{D("Select a chord slot in the timeline, then double-click a chord or chord voicing to add to the timeline.",lt,at)},3e3)},Ke=()=>{qe.current&&(clearTimeout(qe.current),qe.current=null),D&&D(null,0,0)};return v.jsxs("g",{className:Ut("cursor-pointer transition-all duration-200",!ae&&"hover:opacity-70",M&&"opacity-80"),onClick:Ne,onDoubleClick:rt,onTouchStart:$e,onTouchMove:Je,onTouchEnd:ct,onTouchCancel:z,onMouseEnter:Ee,onMouseLeave:Ke,style:{pointerEvents:"all",WebkitTapHighlightColor:"transparent"},children:[(p||y)&&C&&v.jsx("defs",{children:v.jsx("path",{id:W,d:be,fill:"none"})}),v.jsx("defs",{children:v.jsx("clipPath",{id:j,children:v.jsx("path",{d:V})})}),v.jsx("path",{d:V,fill:X.fill,opacity:X.opacity,stroke:k==="I"?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",strokeWidth:k==="I"?2.5:1,className:Ut("transition-all duration-200 hover:brightness-110",d&&"brightness-125 stroke-white stroke-2",ae&&"hover:brightness-105"),style:{pointerEvents:"all"}}),d&&v.jsx("path",{d:V,fill:"none",stroke:"white",strokeWidth:we,opacity:Ie,filter:"url(#segment-glow)",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none",clipPath:`url(#${j})`}),(p||y)&&C&&A==="major"&&v.jsx("text",{fill:"rgba(0,0,0,0.6)",fontSize:"6px",className:"pointer-events-none select-none",children:v.jsx("textPath",{href:`#${W}`,startOffset:"50%",textAnchor:"middle",children:C})}),p&&C&&A==="minor"&&v.jsx("text",{fill:"rgba(0,0,0,0.55)",fontSize:"5px",className:"pointer-events-none select-none",children:v.jsx("textPath",{href:`#${W}`,startOffset:"50%",textAnchor:"middle",children:C})}),p&&C&&A==="diminished"&&v.jsx("text",{fill:"rgba(0,0,0,0.5)",fontSize:"5px",className:"pointer-events-none select-none",children:v.jsx("textPath",{href:`#${W}`,startOffset:"50%",textAnchor:"middle",children:C})}),v.jsx("text",{x:J.x,y:J.y,textAnchor:"middle",dominantBaseline:"middle",fill:de,fontWeight:fe,fontSize:K(),className:"pointer-events-none select-none",transform:`rotate(${re}, ${J.x}, ${J.y})`,children:ar(c)}),(p||y)&&k&&v.jsx("text",{x:le.x,y:le.y,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(0,0,0,0.6)",fontSize:xe,fontStyle:"italic",className:"pointer-events-none select-none",transform:`rotate(${re}, ${le.x}, ${le.y})`,children:k})]})};const eC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tC=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Rv=n=>{const e=tC(n);return e.charAt(0).toUpperCase()+e.slice(1)},F3=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),nC=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var rC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sC=ne.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:u,...c},f)=>ne.createElement("svg",{ref:f,...rC,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:F3("lucide",a),...!o&&!nC(c)&&{"aria-hidden":"true"},...c},[...u.map(([d,p])=>ne.createElement(d,p)),...Array.isArray(o)?o:[o]]));const an=(n,e)=>{const t=ne.forwardRef(({className:s,...a},o)=>ne.createElement(sC,{ref:o,iconNode:e,className:F3(`lucide-${eC(Rv(n))}`,`lucide-${n}`,s),...a}));return t.displayName=Rv(n),t};const iC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Yf=an("chevron-down",iC);const aC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vh=an("chevron-right",aC);const oC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Fh=an("chevron-left",oC);const lC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],B3=an("chevron-up",lC);const cC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ad=an("circle-question-mark",cC);const uC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hC=an("circle",uC);const fC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dC=an("clock",fC);const pC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],mC=an("copy",pC);const gC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],p2=an("download",gC);const bC=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],vC=an("eraser",bC);const yC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],xC=an("file-plus",yC);const wC=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],_C=an("folder-open",wC);const SC=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],z3=an("grip-vertical",SC);const NC=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],P3=an("hand",NC);const AC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],TC=an("hash",AC);const CC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kC=an("info",CC);const jC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],EC=an("layers",jC);const MC=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],q3=an("list-music",MC);const LC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],OC=an("loader-circle",LC);const DC=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],mp=an("map",DC);const RC=[["path",{d:"M5 12h14",key:"1ays0h"}]],IC=an("minus",RC);const VC=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],FC=an("mouse-pointer-2",VC);const BC=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],U3=an("music",BC);const zC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],H3=an("panel-right-close",zC);const PC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],qC=an("panel-right",PC);const UC=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],W3=an("pause",UC);const HC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Yh=an("play",HC);const WC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$h=an("plus",WC);const GC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],YC=an("refresh-cw",GC);const $C=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Iv=an("repeat",$C);const XC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],gp=an("rotate-ccw",XC);const ZC=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Bh=an("rotate-cw",ZC);const QC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Vv=an("save",QC);const KC=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Fv=an("settings-2",KC);const JC=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],G3=an("skip-back",JC);const ek=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Y3=an("skip-forward",ek);const tk=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],nk=an("sparkles",tk);const rk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],$3=an("square",rk);const sk=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ik=an("tag",sk);const ak=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ng=an("trash-2",ak);const ok=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],rg=an("volume-2",ok);const lk=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],ck=an("volume-x",lk);const uk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bu=an("x",uk);const hk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],fk=an("zoom-in",hk);const dk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],pk=an("zoom-out",dk);let kc={piano:null,epiano:null,guitar:null,organ:null,synth:null,strings:null,pad:null,brass:null,marimba:null,bell:null,lead:null,bass:null,choir:null},m2="piano",Bf=null,U1=[],bp={},Bv=!1,zi=null;const g2=()=>{if(zi)return;if("audioSession"in navigator)try{navigator.audioSession.type="playback",console.log("[iOS Audio] Set audioSession.type to playback")}catch(t){console.warn("[iOS Audio] Could not set audioSession type:",t)}const n=["/+NIxAAAAAANIAAAAAExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/","40jEAA8AAAANIAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU"].join("");zi=document.createElement("audio"),zi.src="data:audio/mpeg;base64,"+n,zi.loop=!0,zi.volume=.001,zi.muted=!1,zi.setAttribute("playsinline","true"),zi.setAttribute("x-webkit-airplay","deny"),zi.preload="auto",document.body.appendChild(zi);const e=zi.play();e!==void 0&&e.then(()=>{console.log("[iOS Audio] Silent media started - ringer switch workaround active")}).catch(t=>{console.log("[iOS Audio] Silent audio deferred until user gesture:",t.message)})},b2=async()=>{if(!Bv){if(console.log("[iOS Audio] Starting unlock sequence..."),g2(),zi&&zi.paused)try{await zi.play(),console.log("[iOS Audio] Silent audio now playing")}catch(n){console.warn("[iOS Audio] Silent audio play failed:",n)}try{await _u(),console.log("[iOS Audio] Tone.start() completed, state:",ys.state)}catch(n){console.warn("[iOS Audio] Tone.start() failed:",n)}if(ys.state!=="running")try{await ys.resume(),console.log("[iOS Audio] Context resumed, state:",ys.state)}catch(n){console.warn("[iOS Audio] Context resume failed:",n)}Bv=!0,console.log("[iOS Audio] Unlock sequence complete")}},v2=n=>{n in kc&&(m2=n)},X3=n=>{const e=n<=0?-1/0:20*Math.log10(n);try{V3.volume.rampTo(e,.1)}catch(t){console.error("Error setting volume:",t)}},Z3=n=>{V3.mute=n},Lc=async()=>{if(Bf)return Bf;Bf=(async()=>{const n="https://tonejs.github.io/audio/salamander/",e=(t,s)=>{if(!kc[t])try{const a=s();a&&(kc[t]=a)}catch(a){console.error(`Failed to init instrument "${t}"`,a)}};e("piano",()=>new Td({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:n}).toDestination()),e("guitar",()=>new Bi(Ea,{oscillator:{type:"triangle"},envelope:{attack:.002,decay:.25,sustain:.3,release:1.2},filter:{type:"lowpass",frequency:2400,rolloff:-12,Q:1.2},filterEnvelope:{attack:.002,decay:.25,sustain:.2,release:.8,baseFrequency:800,octaves:2.5}}).toDestination()),e("organ",()=>new Bi(up,{harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("synth",()=>new Bi(Gf,{harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("epiano",()=>new Bi(up,{harmonicity:2,oscillator:{type:"triangle"},envelope:{attack:.01,decay:.2,sustain:.7,release:.8},modulation:{type:"sine"},modulationEnvelope:{attack:.2,decay:.1,sustain:.6,release:.6}}).toDestination()),e("strings",()=>new Bi(Ea,{oscillator:{type:"sawtooth"},envelope:{attack:.2,decay:.2,sustain:.8,release:1.2}}).toDestination()),e("pad",()=>new Bi(Gf,{harmonicity:1.5,modulationIndex:8,oscillator:{type:"sine"},envelope:{attack:.5,decay:.3,sustain:.9,release:1.5},modulation:{type:"triangle"},modulationEnvelope:{attack:.8,decay:.3,sustain:.8,release:1.2}}).toDestination()),e("brass",()=>new Bi(pp,{oscillator:{type:"square"},filter:{Q:2,type:"lowpass",rolloff:-12},envelope:{attack:.02,decay:.25,sustain:.6,release:.7},filterEnvelope:{attack:.01,decay:.2,sustain:.8,release:.4,baseFrequency:200,octaves:2.5}}).toDestination()),e("marimba",()=>new Bi(Ea,{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.35,sustain:0,release:.6}}).toDestination()),e("bell",()=>new Bi(Gf,{harmonicity:8,modulationIndex:2,oscillator:{type:"sine"},envelope:{attack:.01,decay:1.2,sustain:0,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.01,decay:.5,sustain:0,release:1.2}}).toDestination()),e("lead",()=>new Bi(Ea,{oscillator:{type:"sawtooth"},envelope:{attack:.005,decay:.15,sustain:.6,release:.35}}).toDestination()),e("bass",()=>new Bi(pp,{oscillator:{type:"square"},filter:{type:"lowpass",rolloff:-24,Q:2},envelope:{attack:.01,decay:.2,sustain:.6,release:.4},filterEnvelope:{attack:.001,decay:.15,sustain:.4,release:.2,baseFrequency:80,octaves:3}}).toDestination()),e("choir",()=>new Bi(Ea,{oscillator:{type:"sine"},envelope:{attack:.8,decay:.3,sustain:.9,release:1.8}}).toDestination()),await JT()})();try{await Bf}catch(n){Bf=null,console.error("Failed to initialize audio",n)}},zv=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Wr=async(n,e="1n",t)=>{if(ys.state!=="running"&&await _u(),ys.state==="suspended"&&await ys.resume(),await Lc(),!n||n.length===0)return;const s=n[0],a=zv.indexOf(s.replace(/\d/,"")),o=n.map((c,f)=>{if(c.match(/\d/))return c;const d=c,p=zv.indexOf(d);if(f===0)return`${d}3`;let y=3;return(p<a||p-a>6)&&(y=4),f>=4&&(y=4),f>=5&&(y=5),`${d}${y}`});let u=kc[m2];if(u||(u=kc.piano),!u){console.error("No instrument available to play!");return}try{u.triggerAttackRelease(o,e,t)}catch(c){console.error("Failed to play chord",c)}},Q3=async(n,e=4,t="8n")=>{ys.state!=="running"&&await _u(),ys.state==="suspended"&&await ys.resume(),await Lc();let s=kc[m2];if(s||(s=kc.piano),!s){console.error("No instrument available to play!");return}const a=`${n}${e}`;try{s.triggerAttackRelease(a,t)}catch(o){console.error(`Failed to play note ${a}`,o)}},K3=()=>{Object.values(kc).forEach(t=>t?.releaseAll()),qi.stop();const{setPlayingSlot:n,setIsPlaying:e}=sn.getState();n(null,null),e(!1)},od=n=>{const e=Math.floor(n/4),t=Math.floor(n%4),s=Math.floor(n%1*4);return`${e}:${t}:${s}`},y2=n=>{qi.cancel(0),U1=[],bp={},qi.timeSignature=4;let e=0;n.sections.forEach(s=>{bp[s.id]=e,s.measures.forEach(a=>{a.beats.forEach(o=>{const u=od(e),c=o.duration,f=c*4,d=`${Math.floor(f/16)}:${Math.floor(f%16/4)}:${f%4}`,p=qi.schedule(y=>{const b=Math.max(0,y-ys.currentTime)*1e3;setTimeout(()=>{sn.getState().setPlayingSlot(s.id,o.id)},b),o.chord&&Wr(o.chord.notes,d,y)},u);U1.push(p),e+=c})})});const t=qi.schedule(()=>{sn.getState().isLooping||K3()},od(e));U1.push(t)},mk=async()=>{await Lc()},J3=async()=>{await Lc(),ys.state!=="running"&&await ys.resume();const{tempo:n,currentSong:e}=sn.getState();qi.bpm.value=n,U1.length===0&&y2(e),qi.start()},ew=()=>{qi.pause()},tw=n=>{qi.bpm.value=n},nw=n=>{const{currentSong:e,playingSectionId:t}=sn.getState(),s=e.sections.map(p=>p.id);let a=t?s.indexOf(t):-1;a===-1&&(a=0);let o=n==="next"?a+1:a-1;o>=s.length&&(o=0),o<0&&(o=0);const u=s[o],c=bp[u]||0,f=od(c);qi.position=f;const d=e.sections[o].measures[0]?.beats[0];d&&sn.getState().setPlayingSlot(u,d.id)},rw=()=>{const{isLooping:n,playingSectionId:e,selectedSectionId:t,currentSong:s}=sn.getState();if(n){const a=e||t,o=s.sections.find(u=>u.id===a);if(o){const u=bp[o.id]??0;let c=0;o.measures.forEach(d=>d.beats.forEach(p=>c+=p.duration));const f=u+c;qi.loopStart=od(u),qi.loopEnd=od(f),qi.loop=!0;return}}qi.loop=!1},sg=Object.freeze(Object.defineProperty({__proto__:null,initAudio:Lc,pauseSong:ew,playChord:Wr,playNote:Q3,playSong:J3,preloadAudio:mk,scheduleSong:y2,setInstrument:v2,setMute:Z3,setTempo:tw,setVolume:X3,skipToSection:nw,startSilentAudioForIOS:g2,stopAudio:K3,toggleLoopMode:rw,unlockAudioForIOS:b2},Symbol.toStringTag,{value:"Module"})),vp=768;function x2(){const[n,e]=ne.useState(()=>typeof window<"u"?window.innerWidth<vp:!1);return ne.useEffect(()=>{const t=()=>e(window.innerWidth<vp);return window.addEventListener("resize",t),window.addEventListener("orientationchange",t),()=>{window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]),n}function Xh(){const[n,e]=ne.useState(()=>typeof window<"u"?window.innerWidth<vp||window.innerHeight<500&&window.innerHeight<window.innerWidth:!1),[t,s]=ne.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerHeight<500:!1);return ne.useEffect(()=>{const a=()=>{const o=window.innerWidth,u=window.innerHeight,c=o<vp||u<500&&u<o,f=u<o&&u<500;e(c),s(f)};return window.addEventListener("resize",a),window.addEventListener("orientationchange",a),()=>{window.removeEventListener("resize",a),window.removeEventListener("orientationchange",a)}},[]),{isMobile:n,isLandscape:t}}var Cl=Ax();const gk=7e3,bk=({isOpen:n,onClose:e,onSelect:t,onAddToTimeline:s,onOpenDetails:a,chordRoot:o,voicings:u,selectedQuality:c,portraitWithPanel:f=!1})=>{const d=ne.useRef(null),{isMobile:p,isLandscape:y}=Xh(),_=p&&y,[b,A]=ne.useState(c),N=ne.useRef(null),k=ne.useRef(null);ne.useEffect(()=>{n&&A(c)},[n,c]);const C=ne.useCallback(()=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{e()},gk)},[e]);if(ne.useEffect(()=>(n&&C(),()=>{k.current&&clearTimeout(k.current)}),[n,C]),ne.useEffect(()=>{if(!n)return;const D=F=>{d.current&&!d.current.contains(F.target)&&e()},V=setTimeout(()=>{document.addEventListener("mousedown",D),document.addEventListener("touchstart",D)},100);return()=>{clearTimeout(V),document.removeEventListener("mousedown",D),document.removeEventListener("touchstart",D)}},[n,e]),ne.useEffect(()=>{if(!n)return;const D=V=>{V.key==="Escape"&&e()};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[n,e]),!n)return null;const R=D=>{const V=Date.now();if(C(),N.current&&N.current.quality===D&&V-N.current.time<400){s&&s(D),e(),N.current=null;return}const F=ja(o,D);Wr(F),A(D),t(D),N.current={quality:D,time:V}};return Cl.createPortal(v.jsxs("div",{ref:d,className:Ut("fixed bg-bg-elevated border border-border-medium rounded-xl shadow-xl","flex flex-row flex-nowrap items-center justify-center","animate-in fade-in zoom-in-95 duration-150",u.length>5||_?"p-1 gap-1":"p-2 gap-2"),style:{bottom:_?"56px":f?"6%":p?"13%":"220px",top:"auto",..._?{left:"24%",transform:"translateX(-50%)",maxWidth:"min(55vw, fit-content)"}:p?{left:"50%",transform:"translateX(-50%)",maxWidth:"calc(100vw - 32px)"}:{right:"340px",left:"auto",transform:"none",maxWidth:"calc(100vw - 400px)"},zIndex:99999},children:[u.map(D=>{const V=D.quality===b,F=u.length>4||_,G=u.length>=6;return v.jsx("button",{onClick:H=>{H.stopPropagation(),R(D.quality)},onTouchEnd:H=>{H.stopPropagation()},className:Ut("flex items-center justify-center rounded-lg transition-all shrink-0",G?"min-w-[32px] h-9 px-0.5":F?"min-w-[40px] h-10 px-1.5":"min-w-[48px] h-12 px-2",V?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-text-primary hover:bg-bg-tertiary"),title:`Tap to preview, double-tap to add ${o}${D.label}`,children:v.jsx("span",{className:Ut("font-semibold",G?"text-[10px]":F?"text-xs":V?"text-sm":"text-xs"),children:D.label||"maj"})},D.quality)}),u.length>0&&v.jsx("div",{className:"w-px bg-border-subtle self-stretch my-1 shrink-0"}),a&&v.jsx("button",{onClick:D=>{D.stopPropagation(),a(),e()},onTouchEnd:D=>{D.preventDefault(),D.stopPropagation(),a(),e()},className:Ut("flex items-center justify-center rounded-lg transition-all shrink-0","text-text-tertiary hover:text-text-secondary hover:bg-bg-tertiary",u.length>=6?"w-7 h-9":u.length>4||_?"w-8 h-10":"w-10 h-12"),title:"Open chord details",children:v.jsx(kC,{size:u.length>=6?12:u.length>4||_?14:16})}),s&&v.jsx("button",{onClick:D=>{D.stopPropagation();const V=b||c||u[0]?.quality;V&&(s(V),e())},onTouchEnd:D=>{D.preventDefault(),D.stopPropagation();const V=b||c||u[0]?.quality;V&&(s(V),e())},className:Ut("flex items-center justify-center rounded-lg transition-all shrink-0","text-accent-primary hover:text-white hover:bg-accent-primary/20",u.length>=6?"w-7 h-9":u.length>4||_?"w-8 h-10":"w-10 h-12"),title:"Add to timeline",children:v.jsx($h,{size:u.length>=6?14:u.length>4||_?16:18})})]}),document.body)};function vk(n,e){if(!n)return[];const t=n.split(/,\s*|\s+or\s+/).map(a=>a.trim()).filter(Boolean),s=[];e==="major"?s.push({quality:"major",label:""}):e==="minor"?s.push({quality:"minor",label:"m"}):e==="diminished"&&s.push({quality:"diminished",label:""});for(const a of t){let o=a,u=a;a==="6"?(o="major6",u="6"):a==="m6"?(o="minor6",u="m6"):a==="m75 (7)"?(o="halfDiminished7",u="7"):a==="m7"?(o="minor7",u="m7"):a==="m9"?(o="minor9",u="m9"):a==="m11"?(o="minor11",u="m11"):a==="sus4"?(o="sus4",u="sus4"):a==="7"?(o="dominant7",u="7"):a==="9"?(o="dominant9",u="9"):a==="11"?(o="dominant11",u="11"):a==="13"?(o="dominant13",u="13"):a==="maj7"?(o="major7",u="maj7"):a==="maj9"?(o="major9",u="maj9"):a==="maj13"&&(o="major13",u="maj13"),s.push({quality:o,label:u})}return s}const yk=({zoomScale:n,zoomOriginY:e,onZoomChange:t,panOffset:s,onPanChange:a,rotationOffset:o=0,disableModeToggle:u=!1,footerVisible:c=!0})=>{const{selectedKey:f,setKey:d,wheelRotation:p,wheelMode:y,rotateWheel:_,toggleWheelMode:b,addChordToSlot:A,selectedSectionId:N,selectedSlotId:k,setSelectedChord:C,selectedChord:R,selectNextSlotAfter:D,setSelectedSlot:V,timelineVisible:F,openTimeline:G,chordPanelVisible:H,toggleChordPanel:M,pulseChordPanel:B,chordPanelGuitarExpanded:te,chordPanelVoicingsExpanded:E}=sn(),I=Hf.indexOf(f),re=-(I*30);let U;o!==0?U=re+o:y==="rotating"?U=p:U=0;const oe=ne.useRef(null),Y=ne.useRef(null),[J,le]=ne.useState(null),[pe,be]=ne.useState({x:0,y:0}),[W,j]=ne.useState({isOpen:!1,chord:null,voicingSuggestion:"",baseQuality:""}),$=s??pe,X=ne.useCallback(ke=>{a?a(ke):be(ke)},[a]),K=x2(),{isLandscape:ae}=Xh();ne.useEffect(()=>{const ke=R?.segmentId??null;le(ke)},[R]);const de=ne.useRef(null),fe=ne.useRef(null),[xe,we]=ne.useState(!1),Ie=ne.useRef(0),$e=ne.useRef(0),[Je,ct]=ne.useState(!1),z=ne.useRef(null),Ne=ne.useCallback((ke,Ve)=>{if(!fe.current)return 0;const Fe=fe.current.getBoundingClientRect(),gt=Fe.left+Fe.width/2,Gt=Fe.top+Fe.height/2,Ct=ke-gt,cn=Ve-Gt;return Math.atan2(cn,Ct)*(180/Math.PI)},[]),rt=ne.useCallback(ke=>{for(;ke>180;)ke-=360;for(;ke<-180;)ke+=360;return ke},[]),qe=ne.useCallback(ke=>{const Ve=Hf.indexOf(f),Fe=ke==="cw"?(Ve+1)%12:(Ve-1+12)%12;d(Hf[Fe]),_(ke)},[f,d,_]),Ee=ne.useRef(null),Ke=ne.useRef(!1),We=ne.useCallback(ke=>{if(K||!fe.current||!de.current)return;const Ve=fe.current.getBoundingClientRect(),Fe=Ve.width/2,gt=Ve.height/2,Gt=ke.clientX-Ve.left-Fe,Ct=ke.clientY-Ve.top-gt,cn=Math.sqrt(Gt*Gt+Ct*Ct),zt=Ve.width/600*70,Jt=Ve.width/600*250;cn>zt&&cn<=Jt?(we(!0),Ie.current=Ne(ke.clientX,ke.clientY),$e.current=p,ke.preventDefault()):cn>Jt&&n>1&&(ct(!0),z.current={x:ke.clientX,y:ke.clientY},ke.preventDefault())},[Ne,p,K,n]),lt=ne.useCallback(ke=>{if(ke.touches.length!==1)return;const Ve=ke.touches[0];if(Ee.current={x:Ve.clientX,y:Ve.clientY},Ke.current=!1,!fe.current)return;const Fe=fe.current.getBoundingClientRect(),gt=Fe.width/2,Gt=Fe.height/2,Ct=Ve.clientX-Fe.left-gt,cn=Ve.clientY-Fe.top-Gt,zt=Math.sqrt(Ct*Ct+cn*cn),Jt=Fe.width/600*70;zt>Jt&&(Ie.current=Ne(Ve.clientX,Ve.clientY),$e.current=p)},[Ne,p]),at=ne.useCallback(ke=>{if(ke.touches.length!==1||!Ee.current)return;const Ve=ke.touches[0],Fe=Ve.clientX-Ee.current.x,gt=Ve.clientY-Ee.current.y;if(Math.sqrt(Fe*Fe+gt*gt)>10){if(Ke.current=!0,ke.preventDefault(),!fe.current)return;const Ct=fe.current.getBoundingClientRect(),cn=Ct.width/2,zt=Ct.height/2,Jt=Ve.clientX-Ct.left,Vn=Ve.clientY-Ct.top,Wn=Math.sqrt(Math.pow(Jt-cn,2)+Math.pow(Vn-zt,2)),ur=Ct.width/600*70;if(Wn>ur&&Ie.current!==0){const hr=Ne(Ve.clientX,Ve.clientY),ts=rt(hr-Ie.current);if(Math.abs(ts)>=15){const Hs=Math.round(ts/30);if(Hs!==0){const wi=y==="fixed"?Hs>0?"cw":"ccw":Hs>0?"ccw":"cw",Yi=Math.abs(Hs);for(let Mr=0;Mr<Yi;Mr++)qe(wi);Ie.current=hr}}}}},[Ne,qe,y,rt]),ze=ne.useCallback(ke=>{if(!xe)return;const Ve=Ne(ke.clientX,ke.clientY),Fe=rt(Ve-Ie.current);if(Math.abs(Fe)>=15){const gt=Math.round(Fe/30);if(gt!==0){let Gt;y==="fixed"?Gt=gt>0?"cw":"ccw":Gt=gt>0?"ccw":"cw";const Ct=Math.abs(gt);for(let cn=0;cn<Ct;cn++)qe(Gt);Ie.current=Ve}}},[xe,Ne,qe,y,rt]),st=ne.useCallback(()=>{we(!1)},[]);ne.useEffect(()=>{if(xe)return document.addEventListener("mousemove",ze),document.addEventListener("mouseup",st),()=>{document.removeEventListener("mousemove",ze),document.removeEventListener("mouseup",st)}},[xe,ze,st]);const et=ne.useCallback((ke,Ve,Fe)=>{if(!de.current||Fe<=1)return{x:0,y:0};const{clientWidth:gt,clientHeight:Gt}=de.current,Ct=12,cn=gt*(Fe-1)/2+Ct,zt=Gt*(Fe-1)/2+Ct;return{x:Math.max(-cn,Math.min(cn,ke)),y:Math.max(-zt,Math.min(zt,Ve))}},[]);ne.useEffect(()=>{X(et($.x,$.y,n))},[n,et,$.x,$.y,X]);const ut=ne.useCallback(ke=>{if(!Je||!z.current)return;const Ve=ke.clientX-z.current.x,Fe=ke.clientY-z.current.y;X(et($.x+Ve,$.y+Fe,n)),z.current={x:ke.clientX,y:ke.clientY}},[Je,n,et,$,X]),xt=ne.useCallback(()=>{ct(!1),z.current=null},[]);ne.useEffect(()=>{if(Je)return document.addEventListener("mousemove",ut),document.addEventListener("mouseup",xt),()=>{document.removeEventListener("mousemove",ut),document.removeEventListener("mouseup",xt)}},[Je,ut,xt]);const dt=ke=>({x:(ke[0].clientX+ke[1].clientX)/2,y:(ke[0].clientY+ke[1].clientY)/2}),yt=ne.useCallback(ke=>{if(ke.touches.length===2){ke.preventDefault();const Ve=ke.touches[0].clientX-ke.touches[1].clientX,Fe=ke.touches[0].clientY-ke.touches[1].clientY;oe.current=Math.sqrt(Ve*Ve+Fe*Fe),Y.current=dt(ke.touches)}},[]),ht=ne.useCallback(ke=>{if(ke.touches.length===2&&oe.current!==null){ke.preventDefault(),ke.stopPropagation();const Ve=ke.touches[0].clientX-ke.touches[1].clientX,Fe=ke.touches[0].clientY-ke.touches[1].clientY,gt=Math.sqrt(Ve*Ve+Fe*Fe),Gt=gt/oe.current,Ct=Math.max(1,Math.min(2.5,n*Gt)),cn=Ct>1.3?38:50,zt=dt(ke.touches);if(Y.current){const Jt=zt.x-Y.current.x,Vn=zt.y-Y.current.y;X(et($.x+Jt,$.y+Vn,Ct))}oe.current=gt,Y.current=zt,t(Ct,cn)}},[n,t,et,$,X]),bn=ne.useCallback(ke=>{oe.current=null,Y.current=null,ke.touches.length===0&&ke.preventDefault()},[]),Ht=ne.useCallback(ke=>{if(ke.ctrlKey||ke.metaKey){ke.preventDefault();const Ve=ke.deltaY>0?.9:1.1,Fe=Math.max(1,Math.min(2.5,n*Ve)),gt=Fe>1.3?38:50;t(Fe,gt)}},[n,t]),Tt=pd(),St=600,At=St/2,bt=St/2,on=60,Mt=on+8,Dt=145,xn=Dt,vt=210,_e=vt,it=250,Vt=ne.useMemo(()=>J_(f),[f]),Ae=ne.useMemo(()=>Vt.sharps>0?`${Vt.sharps}`:Vt.flats>0?`${Vt.flats}`:"",[Vt]),ft=ne.useRef(0),pt=ke=>{const Ve=ke,Fe=Date.now();if(Fe-ft.current<300)return;ft.current=Fe,Wr(ke.notes),le(Ve.segmentId??null),C(ke);let gt="";Ve.positionIndex!==void 0&&Ve.ringType&&(gt=nn(Ve.positionIndex,Ve.ringType==="major"?"major":Ve.ringType==="minor"?Ve.numeral==="ii"||Ve.numeral==="vi"?"ii":"iii":"dim")),(!(K&&!ae)||!H||!te&&!E)&&j({isOpen:!0,chord:Ve,voicingSuggestion:gt,baseQuality:Ve.quality})},nt=ke=>{const Ve=ke;let Fe=N,gt=k;if(!Fe||!gt){G();const Ct=sn.getState();if(Fe=Ct.selectedSectionId,gt=Ct.selectedSlotId,!Fe||!gt)return}A(ke,Fe,gt),D(Fe,gt)||(V(Fe,gt),le(Ve.segmentId??null),C(ke)),F||G()},Nt=ke=>(ke-I+12)%12,ln=(ke,Ve)=>{const Fe=Nt(ke);return Ve==="major"?Fe===0||Fe===1||Fe===11:Ve==="ii"||Ve==="iii"||Ve==="dim"?Fe===0:!1},vn=ke=>Nt(ke)===1,Nn=ke=>{const Ve=Nt(ke);return Ve===2||Ve===4},Wt=(ke,Ve)=>{const Fe=Nt(ke);if(Ve==="major"){if(Fe===0)return"I";if(Fe===1)return"V";if(Fe===11)return"IV";if(Fe===2)return"II";if(Fe===4)return"III"}if(Ve==="ii"){if(Fe===0)return"ii";if(Fe===1)return"vi"}return Ve==="iii"&&Fe===0?"iii":Ve==="dim"&&Fe===0?"vii":""},nn=(ke,Ve)=>{const Fe=Nt(ke);if(Ve==="major"){if(Fe===0)return"maj7, maj9, maj13 or 6";if(Fe===1)return"7, 9, 11, sus4, 13";if(Fe===11)return"maj7, maj9, maj13 or 6";if(Fe===2||Fe===4)return"7, sus4"}if(Ve==="ii"){if(Fe===0)return"m7, m9, m11, m6";if(Fe===1)return"m7, m9, m11"}return Ve==="iii"&&Fe===0?"m7":Ve==="dim"&&Fe===0?"m75 (7)":""},pn=ke=>{if(J)return J===ke.segmentId;const Ve=R?.segmentId;return Ve?Ve===ke.segmentId:R&&!Ve?R.root===ke.root&&R.quality===ke.quality:!1},cr=ne.useCallback(ke=>{ke.touches.length===2?yt(ke):ke.touches.length===1&&lt(ke)},[yt,lt]),_n=ne.useCallback(ke=>{ke.touches.length===2?ht(ke):ke.touches.length===1&&at(ke)},[ht,at]),gn=ne.useCallback(ke=>{Ee.current=null,Ke.current=!1,bn(ke)},[bn]),[Ln,xr]=ne.useState(null),br=ne.useCallback((ke,Ve,Fe)=>{xr(ke?{text:ke,x:Ve,y:Fe}:null)},[]),cs=Ln?{position:"fixed",left:Ln.x,top:Ln.y,transform:"translate(-50%, -100%) translateY(-12px)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"11px",pointerEvents:"none",zIndex:9999,whiteSpace:"normal",textAlign:"center",maxWidth:"220px",lineHeight:"1.4",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"}:{};return v.jsxs("div",{ref:de,"data-chord-wheel":!0,className:`relative flex flex-col items-center justify-center w-full h-full p-1 sm:p-2 select-none ${Je?"cursor-grabbing":n>1&&!K?"cursor-grab":""}`,onTouchStart:cr,onTouchMove:_n,onTouchEnd:gn,onWheel:Ht,onMouseDown:We,style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",touchAction:"none"},children:[Ln&&v.jsx("div",{style:cs,children:Ln.text}),v.jsx("div",{className:"w-full h-full transition-transform duration-150 ease-out overflow-hidden",style:{transform:`translate(${$.x}px, ${$.y}px) scale(${n})`,transformOrigin:`center ${e}%`},children:v.jsxs("svg",{ref:fe,width:"100%",height:"100%",viewBox:`0 0 ${St} ${St}`,className:`w-full h-full select-none ${xe?"cursor-grabbing":"cursor-grab"}`,onMouseDown:We,style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},children:[v.jsxs("defs",{children:[v.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[v.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),v.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),v.jsx("filter",{id:"segment-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:v.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#ffffff",floodOpacity:"0.9"})})]}),v.jsx("g",{style:{transform:`rotate(${U}deg)`,transformOrigin:`${At}px ${bt}px`,transition:"transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:Y_.map((ke,Ve)=>{const gt=Ve*30-15,Gt=gt+30,Ct=Tt[ke.major]||Tt.C,cn=ke.ii.replace("m",""),zt=ke.iii.replace("m",""),Jt=ke.diminished.replace("",""),Vn=ln(Ve,"major"),Wn=Nn(Ve),ur=ln(Ve,"ii")||vn(Ve),hr=ln(Ve,"iii"),ts=ln(Ve,"dim"),Hs={root:ke.major,quality:"major",numeral:Wt(Ve,"major"),notes:ja(ke.major,"major"),symbol:ke.major,segmentId:`major-${Ve}`,ringType:"major",positionIndex:Ve},wi={root:cn,quality:"minor",numeral:Wt(Ve,"ii"),notes:ja(cn,"minor"),symbol:ke.ii,segmentId:`ii-${Ve}`,ringType:"minor",positionIndex:Ve},Yi={root:zt,quality:"minor",numeral:Wt(Ve,"iii"),notes:ja(zt,"minor"),symbol:ke.iii,segmentId:`iii-${Ve}`,ringType:"minor",positionIndex:Ve},Mr={root:Jt,quality:"diminished",numeral:Wt(Ve,"dim"),notes:ja(Jt,"diminished"),symbol:ke.diminished,segmentId:`dim-${Ve}`,ringType:"diminished",positionIndex:Ve},Ls=15,Sn=gt+-7.5,ha=Sn+Ls,hi=ha,fa=hi+Ls,xo=15,us=gt+(30-xo)/2,Br=us+xo,Lr=ke.major,wo=ke.ii,Il=ke.iii,Xo=ke.diminished;return v.jsxs("g",{children:[v.jsx(k1,{cx:At,cy:bt,innerRadius:Mt,outerRadius:Dt,startAngle:gt,endAngle:Gt,color:Ct,label:Lr,chord:Hs,isSelected:pn(Hs),isDiatonic:Vn,isSecondary:Wn,onClick:pt,onDoubleClick:nt,ringType:"major",wheelRotation:U,romanNumeral:Vn||Wn?Wt(Ve,"major"):void 0,voicingSuggestion:Vn||Wn?nn(Ve,"major"):void 0,segmentId:`major-${Ve}`,onHover:br}),v.jsx(k1,{cx:At,cy:bt,innerRadius:xn,outerRadius:vt,startAngle:Sn,endAngle:ha,color:Ct,label:wo,chord:wi,isSelected:pn(wi),isDiatonic:ur,onClick:pt,onDoubleClick:nt,ringType:"minor",wheelRotation:U,romanNumeral:ur?Wt(Ve,"ii"):void 0,voicingSuggestion:ur?nn(Ve,"ii"):void 0,segmentId:`ii-${Ve}`,onHover:br}),v.jsx(k1,{cx:At,cy:bt,innerRadius:xn,outerRadius:vt,startAngle:hi,endAngle:fa,color:Ct,label:Il,chord:Yi,isSelected:pn(Yi),isDiatonic:hr,onClick:pt,onDoubleClick:nt,ringType:"minor",wheelRotation:U,romanNumeral:hr?Wt(Ve,"iii"):void 0,voicingSuggestion:hr?nn(Ve,"iii"):void 0,segmentId:`iii-${Ve}`,onHover:br}),v.jsx(k1,{cx:At,cy:bt,innerRadius:_e,outerRadius:it,startAngle:us,endAngle:Br,color:Ct,label:Xo,chord:Mr,isSelected:pn(Mr),isDiatonic:ts,onClick:pt,onDoubleClick:nt,ringType:"diminished",wheelRotation:U,romanNumeral:ts?Wt(Ve,"dim"):void 0,voicingSuggestion:ts?nn(Ve,"dim"):void 0,segmentId:`dim-${Ve}`,onHover:br})]},ke.major)})}),v.jsx("circle",{cx:At,cy:bt,r:on,fill:"#1a1a24",stroke:"#3a3a4a",strokeWidth:"2",style:{pointerEvents:"none"}}),v.jsx("text",{x:At,y:bt-25,textAnchor:"middle",fill:"#6366f1",fontSize:"9",fontWeight:"bold",letterSpacing:"2",children:"KEY"}),v.jsx("text",{x:At,y:bt+3,textAnchor:"middle",fill:"white",fontSize:"26",fontWeight:"bold",children:ar(f)}),v.jsx("text",{x:At,y:bt+21,textAnchor:"middle",fill:"#9898a6",fontSize:"11",children:Ae||"No /"}),v.jsxs("g",{transform:`translate(${At-22}, ${bt+40})`,onClick:()=>qe("ccw"),onTouchEnd:ke=>{ke.preventDefault(),ke.stopPropagation(),qe("ccw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[v.jsx("circle",{r:K?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),v.jsx("g",{transform:K?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:v.jsx(gp,{size:K?12:9,color:"#9898a6"})})]}),v.jsxs("g",{transform:`translate(${At+22}, ${bt+40})`,onClick:()=>qe("cw"),onTouchEnd:ke=>{ke.preventDefault(),ke.stopPropagation(),qe("cw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[v.jsx("circle",{r:K?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),v.jsx("g",{transform:K?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:v.jsx(Bh,{size:K?12:9,color:"#9898a6"})})]}),v.jsxs("g",{transform:`translate(${At}, ${bt+40})`,onClick:u?void 0:b,onTouchEnd:u?void 0:ke=>{ke.preventDefault(),ke.stopPropagation(),b()},className:u?"":"cursor-pointer",style:{pointerEvents:u?"none":"all",cursor:u?"default":"pointer",opacity:u?.5:1},children:[v.jsx("circle",{r:K?16:11,fill:u||y==="rotating"?"#252535":"#3f2e2e",className:"transition-colors",style:{pointerEvents:u?"none":"all",transition:"fill 0.3s ease"},children:v.jsx("title",{children:u?"Mode locked in this view":y==="rotating"?"Lock wheel (C at top)":"Pin current key to top"})}),v.jsxs("g",{style:{pointerEvents:"none",transition:"transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",transform:o!==0?`rotate(${o}deg)`:y==="rotating"?"rotate(0deg)":`rotate(${I*30}deg)`,transformOrigin:"0px 0px"},children:[v.jsx("polygon",{points:K?"0,-10 4,0 0,1.5 -4,0":"0,-7 2.5,0 0,1 -2.5,0",fill:"#ef4444",stroke:"#b91c1c",strokeWidth:"0.5"}),v.jsx("polygon",{points:K?"0,10 4,0 0,-1.5 -4,0":"0,7 2.5,0 0,-1 -2.5,0",fill:"#f1f5f9",stroke:"#94a3b8",strokeWidth:"0.5"}),v.jsx("circle",{cx:0,cy:0,r:K?2:1.5,fill:y==="rotating"?"#fef2f2":"#6b7280"})]})]})]})}),v.jsx(bk,{isOpen:W.isOpen,onClose:()=>j({...W,isOpen:!1}),onSelect:ke=>{if(W.chord){const Ve=ja(W.chord.root,ke),Fe={...W.chord,quality:ke,notes:Ve,symbol:`${W.chord.root}${Nh(ke)}`};C(Fe)}},onAddToTimeline:ke=>{if(W.chord){const Ve=ja(W.chord.root,ke),Fe={...W.chord,quality:ke,notes:Ve,symbol:`${W.chord.root}${Nh(ke)}`};let gt=N,Gt=k;if(!gt||!Gt){G();const Ct=sn.getState();if(gt=Ct.selectedSectionId,Gt=Ct.selectedSlotId,!gt||!Gt)return}A(Fe,gt,Gt),V(gt,Gt),C(Fe),F||G()}},onOpenDetails:()=>{H?B():M()},chordRoot:W.chord?.root||"C",voicings:vk(W.voicingSuggestion,W.baseQuality),selectedQuality:W.chord?.quality,portraitWithPanel:K&&!ae&&H&&!te&&!E}),K&&!ae&&!H&&R&&(()=>{const ke=Tt[R.root]||"#6366f1",Ve=R.quality;let Fe;return Ve==="major"||Ve==="maj"?Fe=ar(R.root):Ve==="minor"||Ve==="m"?Fe=ar(`${R.root}m`):Ve==="diminished"||Ve==="dim"?Fe=ar(`${R.root}`):Fe=ar(`${R.root}${Nh(Ve)}`),v.jsxs("div",{className:"fixed flex items-center gap-1 z-10 cursor-pointer touch-feedback active:scale-95",style:{bottom:F?c?"260px":"204px":c?"175px":"119px",right:"12px",backgroundColor:"transparent",color:ke,padding:"4px 10px",borderRadius:"8px",border:`2px solid ${ke}`,backdropFilter:"blur(8px)",background:"rgba(0, 0, 0, 0.4)",transition:"bottom 0.25s ease-out"},onClick:gt=>{gt.stopPropagation(),gt.preventDefault(),Wr(R.notes)},onTouchStart:gt=>{gt.stopPropagation()},onTouchEnd:gt=>{gt.stopPropagation(),gt.preventDefault(),Wr(R.notes)},children:[v.jsx("span",{className:"text-sm font-bold leading-none",children:Fe}),R.numeral&&v.jsx("span",{className:"text-xs font-serif italic opacity-70",children:ar(R.numeral)})]})})()]})},ig=({type:n,size:e=20,className:t})=>{const s=e>16?1.5:1;switch(n){case"whole":return v.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:v.jsx("ellipse",{cx:"12",cy:"12",rx:"6",ry:"4",fill:"none",stroke:"currentColor",strokeWidth:s*1.5})});case"half":return v.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[v.jsx("ellipse",{cx:"10",cy:"16",rx:"5",ry:"3.5",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,transform:"rotate(-20, 10, 16)"}),v.jsx("line",{x1:"14.5",y1:"14",x2:"14.5",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]});case"dotted-half":return v.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[v.jsx("ellipse",{cx:"8",cy:"16",rx:"4.5",ry:"3",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,transform:"rotate(-20, 8, 16)"}),v.jsx("line",{x1:"12",y1:"14",x2:"12",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),v.jsx("circle",{cx:"17",cy:"16",r:"1.5",fill:"currentColor"})]});case"quarter":return v.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[v.jsx("ellipse",{cx:"10",cy:"16",rx:"5",ry:"3.5",fill:"currentColor",transform:"rotate(-20, 10, 16)"}),v.jsx("line",{x1:"14.5",y1:"14",x2:"14.5",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]});case"dotted-quarter":return v.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[v.jsx("ellipse",{cx:"8",cy:"16",rx:"4.5",ry:"3",fill:"currentColor",transform:"rotate(-20, 8, 16)"}),v.jsx("line",{x1:"12",y1:"14",x2:"12",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),v.jsx("circle",{cx:"17",cy:"16",r:"1.5",fill:"currentColor"})]});case"eighth":return v.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[v.jsx("ellipse",{cx:"9",cy:"17",rx:"4.5",ry:"3",fill:"currentColor",transform:"rotate(-20, 9, 17)"}),v.jsx("line",{x1:"13",y1:"15",x2:"13",y2:"4",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),v.jsx("path",{d:"M13 4 Q18 6 16 11",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]});case"sixteenth":return v.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[v.jsx("ellipse",{cx:"9",cy:"17",rx:"4.5",ry:"3",fill:"currentColor",transform:"rotate(-20, 9, 17)"}),v.jsx("line",{x1:"13",y1:"15",x2:"13",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),v.jsx("path",{d:"M13 3 Q18 5 16 9",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),v.jsx("path",{d:"M13 7 Q18 9 16 13",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]})}};function ag(n,e){const[t]=e;if(t%3===0&&t>3){if(n===1)return"dotted-half";if(n===2)return"dotted-quarter";if(n===3)return"quarter";if(n===6)return"eighth";if(n===12)return"sixteenth"}if(t===3){if(n===1)return"dotted-half";if(n===3)return"quarter";if(n===6)return"eighth";if(n===12)return"sixteenth"}return n===1?"whole":n===2?"half":n===4?"quarter":n===8?"eighth":n===16?"sixteenth":n<=1?"whole":n<=2?"half":n<=4?"quarter":n<=8?"eighth":"sixteenth"}function sw(n){const[e]=n;return e%3===0?[1,3,6].filter(t=>t<=8):[1,2,4,8]}const xk=({value:n,onChange:e,timeSignature:t,isCompact:s=!1})=>{const[a,o]=ne.useState(!1),u=ne.useRef(null),c=ne.useRef(null),f=sw(t);ne.useEffect(()=>{const y=_=>{u.current&&!u.current.contains(_.target)&&c.current&&!c.current.contains(_.target)&&o(!1)};if(a)return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[a]),ne.useEffect(()=>{if(a){const y=()=>o(!1);return window.addEventListener("scroll",y,!0),()=>window.removeEventListener("scroll",y,!0)}},[a]);const d=ag(n,t),p=s?12:16;return v.jsxs("div",{className:"relative",children:[v.jsx("button",{ref:u,onClick:()=>o(!a),className:Ut("flex items-center justify-center rounded transition-all","hover:bg-accent-primary/20 active:scale-95","text-text-muted hover:text-accent-primary",s?"w-4 h-5":"w-5 h-6",a&&"bg-accent-primary/20 text-accent-primary"),title:`${n} step${n>1?"s":""} per measure`,children:v.jsx(ig,{type:d,size:p})}),a&&Cl.createPortal(v.jsx("div",{ref:c,className:Ut("fixed bg-bg-elevated border border-border-medium rounded-xl shadow-xl","flex flex-row gap-2 p-2","animate-in fade-in zoom-in-95 duration-150"),style:{top:"60%",left:"50%",transform:"translate(-50%, -50%)",zIndex:99999},children:f.map(y=>{const _=ag(y,t),b=y===n;return v.jsx("button",{onClick:()=>{e(y),o(!1)},className:Ut("flex items-center justify-center rounded-lg transition-all","w-12 h-12",b?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-text-primary hover:bg-bg-tertiary"),title:`${y} step${y>1?"s":""}`,children:v.jsx(ig,{type:_,size:26})},y)})}),document.body)]})},Pv={intro:{bg:"bg-purple-500/15",border:"border-purple-500/40",accent:"bg-purple-500"},verse:{bg:"bg-blue-500/15",border:"border-blue-500/40",accent:"bg-blue-500"},"pre-chorus":{bg:"bg-cyan-500/15",border:"border-cyan-500/40",accent:"bg-cyan-500"},chorus:{bg:"bg-amber-500/15",border:"border-amber-500/40",accent:"bg-amber-500"},bridge:{bg:"bg-emerald-500/15",border:"border-emerald-500/40",accent:"bg-emerald-500"},outro:{bg:"bg-rose-500/15",border:"border-rose-500/40",accent:"bg-rose-500"},custom:{bg:"bg-slate-500/15",border:"border-slate-500/40",accent:"bg-slate-500"}},wk=({section:n,songTimeSignature:e,className:t,onSlotClick:s})=>{const{tempo:a}=sn(),o=pd(),u=Pv[n.type]||Pv.custom,c=n.timeSignature||e,f=c[0],d=n.measures.length,[p,y]=ne.useState(!1),[_,b]=ne.useState(null),A=ne.useRef([]),N=252,k=15,C=52,R=Math.floor(N/d),D=Math.max(k,Math.min(C,R)),V=d>8,F=d>12,G=()=>{A.current.forEach(M=>clearTimeout(M)),A.current=[],y(!1),b(null)};ne.useEffect(()=>(G(),()=>{A.current.forEach(M=>clearTimeout(M)),A.current=[]}),[n.id]);const H=async()=>{if(p){G();return}ys.state!=="running"&&await _u(),ys.state==="suspended"&&await ys.resume(),await Lc(),y(!0);const M=60/a*1e3,B=n.measures[0]?.beats.length||f,te=f/B,E=te*M;let I=0;n.measures.forEach(oe=>{oe.beats.forEach(Y=>{const J=I*E,le=window.setTimeout(()=>{b(Y.id)},J);if(A.current.push(le),Y.chord&&Y.chord.notes&&Y.chord.notes.length>0){const pe=window.setTimeout(()=>{const j=`${4/Math.min(te,f)}n`;Wr(Y.chord.notes,j)},J);A.current.push(pe)}I++})});const re=n.measures.reduce((oe,Y)=>oe+Y.beats.length,0),U=window.setTimeout(()=>{y(!1),b(null),A.current=[]},re*E);A.current.push(U)};return v.jsx("div",{className:Ut("w-full",t),children:v.jsxs("div",{className:Ut("rounded-lg border overflow-hidden transition-all",u.bg,u.border),children:[v.jsx("div",{className:Ut("h-1 w-full",u.accent)}),v.jsx("div",{className:"pl-2 pr-3 py-2 overflow-hidden",style:{maxHeight:F?"80px":V?"100px":"120px"},children:v.jsx("div",{className:"flex gap-0.5",style:{minWidth:"min-content",width:"100%"},children:n.measures.map((M,B)=>{const te=M.beats.length;return v.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-0.5",style:{minWidth:`${D}px`,maxWidth:`${D}px`},children:[!F&&v.jsxs("div",{className:"h-3 flex items-center justify-between px-0.5",children:[v.jsx("span",{className:Ut("font-mono text-white/30",V?"text-[6px]":"text-[8px]"),children:B+1}),!V&&v.jsx("div",{className:"flex gap-px",children:Array.from({length:Math.min(te,f)}).map((E,I)=>v.jsx("div",{className:"w-0.5 h-1 bg-white/15 rounded-full"},I))})]}),v.jsx("div",{className:"flex-1 rounded overflow-hidden flex gap-px",style:{minHeight:F?"28px":V?"36px":"48px"},children:M.beats.map(E=>{const I=E.chord&&E.chord.notes&&E.chord.notes.length>0,re=E.chord,U=I&&o[re.root]||"#666",oe=_===E.id,Y=M.beats.length;let J="9px";return F?J=Y>2?"5px":"6px":V?J=Y>2?"6px":"7px":J=Y>2?"7px":Y>1?"8px":"9px",I?v.jsx("div",{onClick:()=>s?.(E.id),className:Ut("flex-1 min-w-0 rounded-sm flex items-center justify-center font-bold truncate transition-all duration-150",oe&&"scale-105 z-10",s&&"cursor-pointer hover:scale-105 hover:brightness-110 active:scale-95"),style:{backgroundColor:oe?U:"rgba(0, 0, 0, 0.35)",border:`1.5px solid ${U}`,color:oe?"#fff":U,fontSize:J,padding:"0 2px",textShadow:oe?"0 1px 3px rgba(0,0,0,0.7)":"0 1px 2px rgba(0,0,0,0.5)",boxShadow:oe?`0 0 12px ${U}, 0 0 4px ${U}`:"none"},title:re.symbol,children:ar(re.symbol)},E.id):v.jsx("div",{onClick:()=>s?.(E.id),className:Ut("flex-1 min-w-0 rounded-sm flex items-center justify-center transition-all duration-150",oe&&"scale-105 z-10",s&&"cursor-pointer hover:scale-105 hover:bg-white/10 active:scale-95"),style:{backgroundColor:oe?"rgba(99, 102, 241, 0.5)":"rgba(255, 255, 255, 0.03)",border:oe?"1.5px solid rgba(99, 102, 241, 0.8)":"1px dashed rgba(255, 255, 255, 0.1)",boxShadow:oe?"0 0 8px rgba(99, 102, 241, 0.5)":"none"},children:v.jsx("span",{className:Ut("transition-colors duration-150",oe?"text-white/60":"text-white/10",V?"text-[6px]":"text-[8px]"),children:""})},E.id)})})]},M.id)})})}),v.jsxs("div",{className:"px-2 py-1.5 bg-black/20 border-t border-white/5 flex items-center gap-2",children:[v.jsx("button",{onClick:H,className:Ut("w-5 h-5 rounded-full flex items-center justify-center transition-all","hover:scale-110 active:scale-95",p?"bg-red-500/80 text-white":"bg-accent-primary/20 text-accent-primary hover:bg-accent-primary/30"),title:p?"Stop":"Play section once",children:p?v.jsx($3,{size:8}):v.jsx(Yh,{size:10,className:"ml-0.5"})}),v.jsxs("div",{className:"flex-1 flex items-center justify-center gap-3",children:[v.jsxs("span",{className:"text-[9px] font-mono text-white/40",children:[c[0],"/",c[1]]}),v.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-white/20"}),v.jsxs("span",{className:"text-[9px] font-mono text-white/40",children:[d," bar",d!==1?"s":""]})]})]})]})})},_k=[[4,4],[3,4],[5,4],[2,4],[6,8]],qv=[{name:"Intro",type:"intro"},{name:"Verse",type:"verse"},{name:"Pre-Chorus",type:"pre-chorus"},{name:"Chorus",type:"chorus"},{name:"Bridge",type:"bridge"},{name:"Interlude",type:"interlude"},{name:"Solo",type:"solo"},{name:"Breakdown",type:"breakdown"},{name:"Tag",type:"tag"},{name:"Hook",type:"hook"},{name:"Outro",type:"outro"}],Sk=({section:n,isOpen:e,onClose:t,onTimeSignatureChange:s,onBarsChange:a,onStepCountChange:o,onNameChange:u,onCopy:c,onClear:f,onDelete:d,songTimeSignature:p,onNavigatePrev:y,onNavigateNext:_,hasPrev:b=!1,hasNext:A=!1,sectionIndex:N,totalSections:k,onSlotClick:C})=>{const R=ne.useRef(null),D=n.timeSignature||p,V=`${D[0]}/${D[1]}`,F=n.measures.length,G=n.measures[0]?.beats.length??1,H=sw(D);return ne.useEffect(()=>{if(!e)return;const M=B=>{B.key==="Escape"&&t()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[e,t]),e?Cl.createPortal(v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-[99998] bg-black/40 backdrop-blur-[2px] animate-in fade-in duration-200",onClick:t}),y&&v.jsx("button",{onClick:y,disabled:!b,className:Ut("fixed top-1/2 -translate-y-1/2 z-[100000]","w-10 h-10 rounded-full flex items-center justify-center","transition-all duration-200",b?"bg-accent-primary/20 text-accent-primary hover:bg-accent-primary/30 hover:scale-110 active:scale-95":"bg-white/5 text-white/20 cursor-not-allowed"),style:{left:"calc(50% - min(150px, 45vw) - 52px)"},title:"Previous Section",children:v.jsx(Fh,{size:24})}),_&&v.jsx("button",{onClick:_,disabled:!A,className:Ut("fixed top-1/2 -translate-y-1/2 z-[100000]","w-10 h-10 rounded-full flex items-center justify-center","transition-all duration-200",A?"bg-accent-primary/20 text-accent-primary hover:bg-accent-primary/30 hover:scale-110 active:scale-95":"bg-white/5 text-white/20 cursor-not-allowed"),style:{right:"calc(50% - min(150px, 45vw) - 52px)"},title:"Next Section",children:v.jsx(Vh,{size:24})}),v.jsxs("div",{ref:R,className:`fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[99999]
                           bg-bg-elevated border border-border-medium rounded-xl 
                           shadow-2xl shadow-black/50
                           animate-in fade-in zoom-in-95 duration-200`,style:{minWidth:"260px",maxWidth:"300px",width:"90vw"},children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-bg-secondary/50 rounded-t-xl",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[N!==void 0&&k!==void 0&&v.jsxs("div",{className:"h-5 px-2 rounded-full flex items-center justify-center gap-0.5 font-bold text-white shrink-0",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)",boxShadow:"0 0 8px rgba(99,102,241,0.4)"},title:`Section ${N+1} of ${k}`,children:[v.jsx("span",{className:"text-[10px]",children:N+1}),v.jsx("span",{className:"text-[6px] opacity-60 font-medium",children:"of"}),v.jsx("span",{className:"text-[10px]",children:k})]}),(N===void 0||k===void 0)&&v.jsx("div",{className:"w-2 h-2 rounded-full shadow-[0_0_8px_rgba(99,102,241,0.5)] shrink-0",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)"}}),u?v.jsx("select",{value:n.name,onChange:M=>{const B=qv.find(te=>te.name===M.target.value);B&&u(B.name,B.type)},className:`bg-transparent text-sm font-bold text-text-primary 
                                           focus:outline-none focus:ring-1 focus:ring-accent-primary/50
                                           appearance-none cursor-pointer pr-5`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0 center"},children:qv.map(M=>v.jsx("option",{value:M.name,className:"bg-bg-secondary",children:M.name},M.type))}):v.jsx("span",{className:"text-sm font-bold text-text-primary",children:n.name})]}),v.jsx("button",{onClick:t,className:"p-1.5 rounded-full hover:bg-bg-tertiary text-text-muted hover:text-text-primary transition-colors shrink-0",children:v.jsx(bu,{size:14})})]}),v.jsxs("div",{className:"p-4 space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Time Sig"}),v.jsx("div",{className:"relative",children:v.jsx("select",{value:V,onChange:M=>s(M.target.value),className:`w-full h-8 bg-bg-tertiary text-text-primary text-xs font-bold rounded-lg 
                                               px-3 border border-border-subtle 
                                               focus:outline-none focus:ring-1 focus:ring-accent-primary/50
                                               appearance-none cursor-pointer`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 8px center",paddingRight:"24px"},children:_k.map(([M,B])=>v.jsxs("option",{value:`${M}/${B}`,className:"bg-bg-secondary",children:[M,"/",B]},`${M}/${B}`))})})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Length"}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:()=>a(Math.max(1,F-1)),disabled:F<=1,className:`h-8 w-8 flex items-center justify-center rounded-lg
                                               bg-bg-tertiary border border-border-subtle
                                               text-text-muted hover:text-text-primary hover:bg-bg-secondary
                                               disabled:opacity-30 disabled:cursor-not-allowed
                                               transition-all text-base font-bold active:scale-95`,children:""}),v.jsx("span",{className:"flex-1 text-center text-sm font-bold text-text-primary tabular-nums",children:F}),v.jsx("button",{onClick:()=>a(Math.min(32,F+1)),disabled:F>=32,className:`h-8 w-8 flex items-center justify-center rounded-lg
                                               bg-bg-tertiary border border-border-subtle
                                               text-text-muted hover:text-text-primary hover:bg-bg-secondary
                                               disabled:opacity-30 disabled:cursor-not-allowed
                                               transition-all text-base font-bold active:scale-95`,children:"+"})]})]})]}),o&&v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"block text-center text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Steps Per Bar"}),v.jsx("div",{className:"flex items-center gap-1.5 justify-center",children:H.map(M=>{const B=ag(M,D),te=M===G;return v.jsx("button",{onClick:()=>o(M),className:Ut("flex items-center justify-center rounded-lg transition-all","w-11 h-11 active:scale-95",te?"bg-accent-primary text-white shadow-lg border-2 border-accent-primary":"bg-bg-tertiary border border-border-subtle text-text-muted hover:text-text-primary hover:bg-bg-secondary"),title:`${M} step${M>1?"s":""} per measure`,children:v.jsx(ig,{type:B,size:24})},M)})})]}),v.jsx(wk,{section:n,songTimeSignature:p,className:"pt-1",onSlotClick:C}),v.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[v.jsxs("button",{onClick:()=>{c(),t()},className:`flex items-center justify-center gap-1.5
                                       px-2 py-2.5 rounded-lg
                                       bg-accent-primary/10 border border-accent-primary/30
                                       text-accent-primary hover:bg-accent-primary/20
                                       transition-all text-xs font-bold active:scale-95`,children:[v.jsx(mC,{size:14}),"Duplicate"]}),v.jsxs("button",{onClick:()=>{f(),t()},className:`flex items-center justify-center gap-1.5
                                       px-2 py-2.5 rounded-lg
                                       bg-yellow-500/10 border border-yellow-500/30
                                       text-yellow-400 hover:bg-yellow-500/20
                                       transition-all text-xs font-bold active:scale-95`,children:[v.jsx(vC,{size:14}),"Clear"]}),v.jsxs("button",{onClick:()=>{d(),t()},className:`flex items-center justify-center gap-1.5
                                       px-2 py-2.5 rounded-lg
                                       bg-red-500/10 border border-red-500/30
                                       text-red-400 hover:bg-red-500/20
                                       transition-all text-xs font-bold active:scale-95`,children:[v.jsx(ng,{size:14}),"Remove"]})]})]})]})]}),document.body):null},Nk={intro:"Intro",verse:"Verse","pre-chorus":"Pre-Chorus",chorus:"Chorus",bridge:"Bridge",interlude:"Interlude",solo:"Solo",breakdown:"Breakdown",tag:"Tag",hook:"Hook",outro:"Outro"};function $f(n,e){const t=Nk[n.type],s=e.filter(o=>o.type===n.type);if(s.length<=1)return t;const a=s.findIndex(o=>o.id===n.id);return`${t} ${a+1}`}const og=({isOpen:n,onToggle:e,hideCloseButton:t=!1,isCompact:s=!1,isLandscape:a=!1})=>{const{currentSong:o,selectedSectionId:u,selectedSlotId:c,setSelectedSlot:f,selectSlotOnly:d,setSelectedChord:p,playingSectionId:y,playingSlotId:_,isPlaying:b,addSuggestedSection:A,setSectionTimeSignature:N,setSectionMeasures:k,setSectionSubdivision:C,removeSection:R,duplicateSection:D,clearSection:V,setMeasureSubdivision:F,selectedChord:G,addChordToSlot:H,toggleSongMap:M,updateSection:B,undo:te,redo:E,canUndo:I,canRedo:re,clearSlot:U}=sn(),oe=o.timeSignature,Y=pd(),J=ne.useRef(null),le=ne.useRef(null),{isMobile:pe}=Xh(),be=!pe,[W,j]=Xn.useState(0),$=ne.useRef(0),[X,K]=Xn.useState(0),ae=ne.useRef(0),[de,fe]=Xn.useState(0),xe=ne.useRef(!1),[we,Ie]=Xn.useState(null),$e=ne.useRef(null);ne.useEffect(()=>{if(!b&&u&&le.current){const ze=o.sections.findIndex(st=>st.id===u);ze!==-1&&(j(ze),setTimeout(()=>{if(le.current){const st=le.current.querySelector(`[data-section-id="${u}"]`);st&&st.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},100))}},[u,o.sections,b]),ne.useEffect(()=>{if(b&&y){const ze=o.sections.findIndex(st=>st.id===y);ze!==-1&&ze!==W&&j(ze)}},[b,y,o.sections,W]),ne.useEffect(()=>{if(_&&J.current){const ze=J.current.querySelector(`[data-slot-id="${_}"]`);ze&&ze.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[_]),ne.useEffect(()=>{if(!n||!c||b)return;const ze=setTimeout(()=>{if(J.current){const st=J.current.querySelector(`[data-slot-id="${c}"]`);st&&st.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},250);return()=>clearTimeout(ze)},[c,b,n]);const Je=ze=>{$.current=ze.touches[0].clientY},ct=ze=>{const st=ze.touches[0].clientY-$.current;st>0&&K(Math.min(st,100))},z=()=>{X>50&&e(),K(0)},Ne=ze=>{ae.current=ze.touches[0].clientY},rt=ze=>{const st=ae.current-ze.touches[0].clientY;st>0&&fe(Math.min(st,60))},qe=()=>{de>30&&e(),fe(0)},Ee=ze=>{xe.current=!0,ae.current=ze.clientY,ze.preventDefault()};ne.useEffect(()=>{const ze=et=>{if(!xe.current)return;const ut=ae.current-et.clientY;ut>0&&fe(Math.min(ut,60))},st=()=>{xe.current&&(de>30&&e(),fe(0),xe.current=!1)};return document.addEventListener("mousemove",ze),document.addEventListener("mouseup",st),()=>{document.removeEventListener("mousemove",ze),document.removeEventListener("mouseup",st)}},[de,e]);const Ke=ze=>{if(Y[ze])return Y[ze];const st=Lh(ze);for(const et of Object.keys(Y))if(Lh(et)===st)return Y[et];return"hsl(230, 60%, 50%)"},We=(ze,st,et)=>{const ut=u===ze&&c===st,xt=Date.now();if(et&&$e.current&&$e.current.slotId===st&&xt-$e.current.time<400){G&&(H(G,ze,st),d(ze,st)),$e.current=null;return}et?(et.notes&&et.notes.length>0&&Wr(et.notes),ut?p(et):d(ze,st),$e.current={slotId:st,time:xt}):(ut&&G?H(G,ze,st):d(ze,st),$e.current=null)},lt=ze=>{const st=ze==="prev"?Math.max(0,W-1):Math.min(o.sections.length-1,W+1);j(st);const et=o.sections[st];et&&et.measures[0]?.beats[0]&&f(et.id,et.measures[0].beats[0].id)},at=o.sections[W];return n?v.jsxs("div",{"data-mobile-timeline":!0,className:Ut("relative w-full bg-bg-secondary border-t-2 border-border-subtle overflow-hidden flex flex-col mobile-timeline-drawer",a&&"h-full",t&&"h-full border-t-0"),style:{maxHeight:a||t?void 0:"140px",transform:X>0?`translateY(${X}px)`:void 0,opacity:X>0?Math.max(.5,1-X/150):1,transition:X===0?"all 0.2s ease-out":"none"},children:[!t&&v.jsx("div",{className:"flex flex-col items-center pt-2 pb-2.5 cursor-grab active:cursor-grabbing shrink-0",onTouchStart:Je,onTouchMove:ct,onTouchEnd:z,children:v.jsx("div",{className:"w-12 h-1.5 rounded-full bg-text-muted/40"})}),s?v.jsxs("div",{className:"relative flex items-center justify-center shrink-0 px-1 py-1",children:[v.jsx("button",{onClick:()=>M(!0),className:"absolute left-1 rounded text-text-muted hover:text-accent-primary touch-feedback flex items-center justify-center w-5 h-5",title:"Song Overview",children:v.jsx(mp,{size:12})}),v.jsxs("div",{className:"flex items-center justify-center gap-1",children:[v.jsx("button",{onClick:()=>lt("prev"),disabled:W===0,className:"rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback p-1",children:v.jsx(Fh,{size:14})}),v.jsxs("button",{onClick:()=>at&&Ie(at.id),className:"flex items-center justify-center gap-0.5 px-2 py-1 rounded-full text-white font-semibold text-[10px]",style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #6366f1 100%)",boxShadow:"0 0 8px rgba(99, 102, 241, 0.4)",border:"1px solid rgba(255,255,255,0.2)"},title:at?$f(at,o.sections):"Section",children:[v.jsxs("span",{className:"flex items-baseline",children:[v.jsx("span",{children:at?$f(at,o.sections).charAt(0).toUpperCase():"S"}),v.jsx("span",{className:"text-[7px] opacity-60 ml-0.5",children:W+1})]}),v.jsx(Fv,{size:10,className:"opacity-70 shrink-0"})]}),v.jsx("button",{onClick:()=>lt("next"),disabled:W===o.sections.length-1,className:"rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback p-1",children:v.jsx(Vh,{size:14})})]}),v.jsxs("div",{className:"absolute right-1 flex items-center gap-0.5",children:[v.jsx("button",{onClick:te,disabled:!I,className:"no-touch-enlarge w-6 h-6 flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Undo",children:v.jsx(gp,{size:10})}),v.jsx("button",{onClick:E,disabled:!re,className:"no-touch-enlarge w-6 h-6 flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Redo",children:v.jsx(Bh,{size:10})})]})]}):v.jsxs("div",{className:Ut("flex items-center justify-between shrink-0",be?"px-3 py-1":"px-2 pb-1.5"),children:[v.jsxs("div",{className:"flex items-center shrink-0",children:[v.jsx("button",{onClick:()=>M(!0),className:Ut("no-touch-enlarge rounded text-text-muted hover:text-accent-primary touch-feedback shrink-0 mr-0.5",be?"p-2":"p-1.5"),title:"Song Overview",children:v.jsx(mp,{size:be?18:16})}),v.jsxs("div",{className:"flex items-center gap-0.5 ml-1",children:[v.jsx("button",{onClick:te,disabled:!I,className:Ut("no-touch-enlarge flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",be?"w-8 h-8":"w-7 h-7"),title:"Undo",children:v.jsx(gp,{size:be?14:12})}),v.jsx("button",{onClick:E,disabled:!re,className:Ut("no-touch-enlarge flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",be?"w-8 h-8":"w-7 h-7"),title:"Redo",children:v.jsx(Bh,{size:be?14:12})})]})]}),v.jsx("button",{onClick:()=>lt("prev"),disabled:W===0,className:Ut("no-touch-enlarge rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback",be?"p-2":"p-1.5"),children:v.jsx(Fh,{size:be?18:16})}),v.jsxs("div",{ref:le,className:Ut("flex-1 flex items-center overflow-x-auto scrollbar-hide px-1 mx-1",be?"gap-2":"gap-1.5"),children:[o.sections.map((ze,st)=>{const et=st===W,ut=$f(ze,o.sections),xt=ut.charAt(0).toUpperCase();return v.jsx("button",{"data-section-id":ze.id,onClick:()=>{if(et){Ie(ze.id);return}j(st),ze.measures[0]?.beats[0]&&f(ze.id,ze.measures[0].beats[0].id)},className:Ut("no-touch-enlarge relative font-semibold transition-all touch-feedback shrink-0","flex items-center justify-center",et?Ut("rounded-full text-white shadow-lg whitespace-nowrap overflow-hidden",be?"w-32 h-9 text-xs":"w-24 h-8 text-[11px]"):Ut("rounded-full text-text-secondary hover:text-text-primary border border-border-medium hover:border-border-subtle hover:bg-bg-tertiary",be?"w-9 h-9 text-sm":"w-8 h-8 text-xs")),style:et?{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #6366f1 100%)",boxShadow:"0 0 16px rgba(99, 102, 241, 0.5), inset 0 1px 0 rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.2)"}:void 0,title:ut,children:et?v.jsxs("span",{className:"flex items-center gap-1 px-2 truncate",children:[v.jsx("span",{className:"truncate",children:ut}),v.jsx(Fv,{size:be?14:12,className:"opacity-70 shrink-0"})]}):xt},ze.id)}),v.jsx("button",{onClick:()=>A(),className:Ut("no-touch-enlarge rounded-full text-text-muted hover:text-accent-primary touch-feedback shrink-0 border border-dashed border-border-medium hover:border-accent-primary/50 transition-all hover:bg-accent-primary/10 flex items-center justify-center",be?"w-9 h-9":"w-8 h-8"),title:"Add section",children:v.jsx($h,{size:be?14:12})})]}),v.jsx("button",{onClick:()=>lt("next"),disabled:W===o.sections.length-1,className:Ut("no-touch-enlarge rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback",be?"p-2":"p-1.5"),children:v.jsx(Vh,{size:be?18:16})}),!t&&v.jsx("button",{onClick:e,className:"p-2 min-w-[40px] min-h-[40px] hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center ml-1",title:"Close timeline",children:v.jsx(H3,{size:18,className:"text-text-muted rotate-90"})})]}),v.jsx("div",{ref:J,className:Ut("flex-1",be?"px-3 pb-2 pt-3":"px-1 pb-1 pt-3",a?"overflow-y-auto overflow-x-hidden":"overflow-x-auto overflow-y-hidden"),children:at&&v.jsx("div",{className:Ut(a?s?"flex flex-col gap-0":"grid grid-cols-4 gap-0.5":Ut("flex flex-row items-center",be?"gap-1.5":"gap-0.5")),children:at.measures.map((ze,st)=>v.jsxs(Xn.Fragment,{children:[v.jsxs("div",{className:Ut("flex items-center",a?s?"gap-0.5 w-full min-w-0":"gap-0.5":be?"gap-1 shrink-0":"gap-0.5 shrink-0"),children:[v.jsxs("div",{className:Ut("flex flex-col items-center justify-center shrink-0",a?"gap-0 w-4":be?"gap-0 w-6":"gap-0 w-5"),children:[v.jsx("span",{className:Ut("font-mono text-text-muted text-center leading-none",be?"text-[9px]":a?"text-[7px]":"text-[8px]"),children:st+1}),v.jsx(xk,{value:ze.beats.length,onChange:et=>F(at.id,ze.id,et),timeSignature:at.timeSignature||[4,4],isCompact:a})]}),v.jsx("div",{className:Ut("flex items-center",a?s?`flex-1 gap-0.5 min-w-0 ${ze.beats.length>4?"overflow-x-auto scrollbar-hide":"overflow-hidden"}`:`flex-1 gap-0.5 min-w-0 ${ze.beats.length>4?"overflow-x-auto scrollbar-hide":"overflow-hidden"}`:"gap-0.5"),children:ze.beats.map(et=>{const ut=u===at.id&&c===et.id,xt=b&&y===at.id&&_===et.id,dt=et.chord?Ke(et.chord.root):void 0,yt=ze.beats.length;let ht,bn;a&&yt>4&&(ht=Math.max(22,Math.floor(160/yt)),bn=Math.max(18,Math.floor(120/yt)));const Ht=be?48:36,Tt=4/yt,St=Math.round(Ht*Tt),At=Math.max(be?36:28,Math.min(be?192:144,St)),bt=be?40:a&&s?yt<=4?26:24:32;return v.jsxs("button",{"data-slot-id":et.id,onClick:()=>We(at.id,et.id,et.chord),className:Ut("no-touch-enlarge relative flex items-center justify-center rounded-md transition-all touch-feedback group",a&&yt<=4?"flex-1 min-w-0":"shrink-0",xt&&"ring-2 ring-green-500 ring-offset-1 ring-offset-bg-primary shadow-[0_0_12px_rgba(34,197,94,0.5)] scale-105 z-10",ut&&!xt&&"ring-2 ring-accent-primary ring-offset-1 ring-offset-bg-primary",!et.chord&&"border-2 border-dashed border-border-medium bg-bg-elevated hover:border-text-muted"),style:{height:`${bt}px`,...a&&ht?{width:`${ht}px`,minWidth:`${bn}px`}:{},...a?{}:{width:`${At}px`,minWidth:`${At}px`},...et.chord?{backgroundColor:"rgba(0, 0, 0, 0.3)",border:`2px solid ${dt}`}:{}},children:[et.chord?v.jsx("span",{className:Ut("font-bold px-0.5 truncate",be?"text-xs":a?yt>=8?"text-[7px]":yt>=4?"text-[8px]":"text-[9px]":"text-[10px]"),style:{color:dt},children:ar(et.chord.symbol)}):v.jsx("span",{className:Ut("text-text-muted font-light",a?yt>=8?"text-xs":"text-sm":"text-base"),children:"+"}),xt&&v.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full bg-green-500 flex items-center justify-center",children:v.jsx(Yh,{size:6,fill:"white",className:"text-white"})}),et.chord&&!xt&&(ut||be)&&v.jsx("div",{onClick:on=>{on.stopPropagation(),U(at.id,et.id)},className:Ut("absolute rounded-full bg-black/70 backdrop-blur-sm flex items-center justify-center cursor-pointer border border-white/30 active:bg-white/30",be?"w-4 h-4 -top-2 -right-2 opacity-0 group-hover:opacity-100 hover:bg-white/20 hover:border-white/50 transition-all z-30":"w-5 h-5 -top-2.5 -right-2.5 opacity-100 z-30"),title:"Remove chord",children:v.jsx("span",{className:Ut("text-white/90 font-bold leading-none",be?"text-[10px]":"text-xs"),children:""})})]},et.id)})})]}),!s&&!a&&st<at.measures.length-1&&v.jsx("div",{className:"w-px h-5 bg-border-medium shrink-0"})]},ze.id))})}),we&&(()=>{const ze=o.sections.findIndex(ut=>ut.id===we),st=ze>0,et=ze<o.sections.length-1;return v.jsx(Sk,{section:o.sections.find(ut=>ut.id===we),isOpen:!0,onClose:()=>Ie(null),onTimeSignatureChange:ut=>{const[xt,dt]=ut.split("/").map(yt=>parseInt(yt,10));xt&&dt&&we&&N(we,[xt,dt])},onBarsChange:ut=>{we&&k(we,ut)},onStepCountChange:ut=>{we&&C(we,ut)},onNameChange:(ut,xt)=>{we&&B(we,{name:ut,type:xt})},onCopy:()=>{we&&D(we)},onClear:()=>{we&&V(we)},onDelete:()=>{we&&R(we)},songTimeSignature:oe||[4,4],onNavigatePrev:()=>{if(st){const ut=o.sections[ze-1];Ie(ut.id),j(ze-1)}},onNavigateNext:()=>{if(et){const ut=o.sections[ze+1];Ie(ut.id),j(ze+1)}},hasPrev:st,hasNext:et,sectionIndex:ze,totalSections:o.sections.length,onSlotClick:ut=>{Ie(null),j(ze),d(we,ut)}})})()]}):v.jsxs("div",{"data-mobile-timeline":!0,className:"w-full h-12 flex flex-col items-center justify-center bg-bg-secondary border-t border-border-subtle cursor-grab active:cursor-grabbing touch-feedback select-none",onClick:()=>{!xe.current&&de===0&&e()},onTouchStart:Ne,onTouchMove:rt,onTouchEnd:qe,onMouseDown:Ee,style:{transform:de>0?`translateY(-${de}px)`:void 0,opacity:de>0?Math.min(1,.7+de/100):1,transition:de===0?"all 0.2s ease-out":"none"},children:[v.jsx("div",{className:"w-12 h-1.5 rounded-full bg-text-muted/40 mb-1.5"}),v.jsx("span",{className:"text-[10px] font-medium text-text-muted uppercase tracking-wider",children:"Timeline"})]})},lg=({highlightedNotes:n,rootNote:e,bassNote:t,color:s="#6366f1",octave:a=4,onNotePlay:o})=>{const u=["C","D","E","F","G","A","B"],c=C=>{const R={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},D=C.replace(/\d+/g,"");return R[D]??-1},f=n.map(C=>c(C)),d=e?c(e):-1,p=t?c(t):-1,y=C=>{const R=c(C);return R!==-1&&f.includes(R)},_=C=>d===-1?!1:c(C)===d,b=C=>p===-1?!1:c(C)===p,A=(C,R)=>{o&&o(C,R)},N=()=>{const C=[];for(let D=0;D<2;D++){const V=a+D;u.forEach(F=>{const G=y(F),H=_(F),M=b(F);C.push(v.jsx("div",{className:"h-full rounded-b-md relative border-x border-b border-gray-400 cursor-pointer hover:brightness-95 active:brightness-90 transition-all",style:{width:`${100/14}%`,background:"linear-gradient(180deg, #fafafa 0%, #e8e8e8 70%, #d0d0d0 100%)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.9), inset 0 -2px 4px rgba(0,0,0,0.08)"},onClick:()=>A(F,V),children:G&&v.jsxs(v.Fragment,{children:[H&&v.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none animate-pulse",style:{bottom:"3px",transform:"translateX(-50%)",width:"18px",height:"18px",background:"transparent",border:`2px solid ${s}`,boxShadow:`0 0 8px ${s}, 0 0 12px ${s}60`,opacity:.9}}),v.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"6px",transform:"translateX(-50%)",width:M?"14px":H?"12px":"9px",height:M?"14px":H?"12px":"9px",background:s,border:M?"3px solid #000":"2px solid #000",boxShadow:M?`0 0 10px ${s}, 0 0 4px ${s}`:`0 0 6px ${s}80`}})]})},`white-${D}-${F}`))})}return C},k=()=>{const C=[],R=[{note:"C#",offset:7.14},{note:"D#",offset:14.28},{note:"F#",offset:28.57},{note:"G#",offset:35.71},{note:"A#",offset:42.85}];for(let D=0;D<2;D++){const V=D*50,F=a+D;R.forEach(({note:G,offset:H})=>{const M=y(G),B=_(G),te=b(G),E=V+H;C.push(v.jsx("div",{className:"absolute top-0 rounded-b-md cursor-pointer hover:brightness-125 active:brightness-150 transition-all",style:{left:`${E}%`,width:"5.5%",height:"58%",transform:"translateX(-50%)",background:"linear-gradient(180deg, #333 0%, #1a1a1a 70%, #0a0a0a 100%)",boxShadow:"0 3px 6px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.08)",pointerEvents:"auto"},onClick:()=>A(G,F),children:M&&v.jsxs(v.Fragment,{children:[B&&v.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none animate-pulse",style:{bottom:"1px",transform:"translateX(-50%)",width:"16px",height:"16px",background:"transparent",border:`2px solid ${s}`,boxShadow:`0 0 8px ${s}, 0 0 12px ${s}60`,opacity:.9}}),v.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"4px",transform:"translateX(-50%)",width:te?"12px":B?"10px":"8px",height:te?"12px":B?"10px":"8px",background:s,border:te?"3px solid #fff":"2px solid #fff",boxShadow:te?`0 0 10px ${s}, 0 0 4px ${s}`:`0 0 6px ${s}80`}})]})},`black-${D}-${G}`))})}return C};return v.jsx("div",{className:"relative w-full rounded-lg select-none overflow-hidden",style:{height:"80px",minHeight:"80px",background:"#1a1a22",boxShadow:"inset 0 2px 8px rgba(0,0,0,0.6)",padding:"3px 2px 2px 2px"},children:v.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[v.jsx("div",{className:"flex w-full h-full gap-[1px]",style:{position:"relative",zIndex:0},children:N()}),v.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,pointerEvents:"none"},children:k()})]})})},Ak={C:{maj:[{frets:[-1,3,2,0,1,0],fingers:[0,3,2,0,1,0],barres:[],baseFret:1}],m:[{frets:[-1,3,1,0,1,3],fingers:[0,3,1,0,2,4],barres:[],baseFret:1}],7:[{frets:[-1,3,2,3,1,0],fingers:[0,3,2,4,1,0],barres:[],baseFret:1}],maj7:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj9:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,3,2,2,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],m7:[{frets:[-1,3,1,3,1,3],fingers:[0,2,1,3,1,4],barres:[1],baseFret:3}],m9:[{frets:[-1,3,1,3,3,3],fingers:[0,2,1,3,4,4],barres:[],baseFret:3}],m11:[{frets:[-1,3,1,3,3,1],fingers:[0,2,1,3,4,1],barres:[1],baseFret:3}],m6:[{frets:[-1,3,1,2,1,3],fingers:[0,3,1,2,1,4],barres:[1],baseFret:1}],sus2:[{frets:[-1,3,0,0,1,3],fingers:[0,2,0,0,1,3],barres:[],baseFret:1}],sus4:[{frets:[-1,3,3,0,1,1],fingers:[0,3,4,0,1,1],barres:[1],baseFret:1}],dim:[{frets:[-1,3,1,-1,1,2],fingers:[0,4,1,0,2,3],barres:[],baseFret:1}],6:[{frets:[-1,3,2,2,1,0],fingers:[0,4,2,3,1,0],barres:[],baseFret:1}],add9:[{frets:[-1,3,2,0,3,0],fingers:[0,2,1,0,3,0],barres:[],baseFret:1}],9:[{frets:[-1,3,2,3,3,0],fingers:[0,2,1,3,4,0],barres:[],baseFret:1}],11:[{frets:[-1,3,2,3,3,3],fingers:[0,2,1,3,3,3],barres:[],baseFret:1}],13:[{frets:[-1,3,2,3,3,5],fingers:[0,2,1,3,3,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,3,4,3,4,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},"C#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},Db:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},D:{maj:[{frets:[-1,-1,0,2,3,2],fingers:[0,0,0,1,3,2],barres:[],baseFret:1}],m:[{frets:[-1,-1,0,2,3,1],fingers:[0,0,0,2,3,1],barres:[],baseFret:1}],7:[{frets:[-1,-1,0,2,1,2],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],maj7:[{frets:[-1,-1,0,2,2,2],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],maj9:[{frets:[-1,-1,0,2,2,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],maj13:[{frets:[-1,-1,0,2,2,4],fingers:[0,0,0,1,1,3],barres:[2],baseFret:1}],m7:[{frets:[-1,-1,0,2,1,1],fingers:[0,0,0,2,1,1],barres:[1],baseFret:1}],m9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],m11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m6:[{frets:[-1,-1,0,2,0,1],fingers:[0,0,0,2,0,1],barres:[],baseFret:1}],sus2:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],sus4:[{frets:[-1,-1,0,2,3,3],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,1,3,1],fingers:[0,0,0,1,4,2],barres:[],baseFret:1}],6:[{frets:[-1,-1,0,2,0,2],fingers:[0,0,0,1,0,2],barres:[],baseFret:1}],add9:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],13:[{frets:[-1,-1,0,2,1,4],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,1,1,1],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}]},"D#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},Eb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},E:{maj:[{frets:[0,2,2,1,0,0],fingers:[0,2,3,1,0,0],barres:[],baseFret:1}],m:[{frets:[0,2,2,0,0,0],fingers:[0,2,3,0,0,0],barres:[],baseFret:1}],7:[{frets:[0,2,0,1,0,0],fingers:[0,2,0,1,0,0],barres:[],baseFret:1}],maj7:[{frets:[0,2,1,1,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],maj9:[{frets:[0,2,1,1,0,2],fingers:[0,2,1,1,0,3],barres:[1],baseFret:1}],maj13:[{frets:[0,2,1,1,2,2],fingers:[0,2,1,1,3,3],barres:[],baseFret:1}],m7:[{frets:[0,2,0,0,0,0],fingers:[0,1,0,0,0,0],barres:[],baseFret:1}],m9:[{frets:[0,2,0,0,0,2],fingers:[0,2,0,0,0,3],barres:[],baseFret:1}],m11:[{frets:[0,2,0,0,3,0],fingers:[0,2,0,0,4,0],barres:[],baseFret:1}],m6:[{frets:[0,2,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],sus2:[{frets:[0,2,4,4,0,0],fingers:[0,1,3,4,0,0],barres:[],baseFret:1}],sus4:[{frets:[0,2,2,2,0,0],fingers:[0,2,3,4,0,0],barres:[],baseFret:1}],dim:[{frets:[0,1,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],6:[{frets:[0,2,2,1,2,0],fingers:[0,2,3,1,4,0],barres:[],baseFret:1}],add9:[{frets:[0,2,2,1,0,2],fingers:[0,2,3,1,0,4],barres:[],baseFret:1}],9:[{frets:[0,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],11:[{frets:[0,2,0,1,3,0],fingers:[0,2,0,1,4,0],barres:[],baseFret:1}],13:[{frets:[0,2,0,1,2,2],fingers:[0,2,0,1,3,4],barres:[],baseFret:1}],m7b5:[{frets:[0,1,0,0,2,0],fingers:[0,1,0,0,2,0],barres:[],baseFret:1}]},F:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:1}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:1}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,-1,3,2,1,0],fingers:[0,0,3,2,1,0],barres:[],baseFret:1}],maj9:[{frets:[1,0,3,0,1,0],fingers:[1,0,3,0,2,0],barres:[],baseFret:1}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:1}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:1}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:1}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,-1,3,0,1,1],fingers:[0,0,3,0,1,1],barres:[1],baseFret:1}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:1}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:1}],6:[{frets:[1,-1,0,2,1,1],fingers:[1,0,0,3,1,1],barres:[1],baseFret:1}],add9:[{frets:[-1,-1,3,2,1,3],fingers:[0,0,3,2,1,4],barres:[],baseFret:1}],9:[{frets:[1,3,1,2,1,3],fingers:[1,3,1,2,1,4],barres:[1],baseFret:1}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:1}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:1}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}]},"F#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},Gb:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},G:{maj:[{frets:[3,2,0,0,0,3],fingers:[2,1,0,0,0,3],barres:[],baseFret:1}],m:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],7:[{frets:[3,2,0,0,0,1],fingers:[3,2,0,0,0,1],barres:[],baseFret:1}],maj7:[{frets:[3,2,0,0,0,2],fingers:[3,1,0,0,0,2],barres:[],baseFret:1}],maj9:[{frets:[3,0,0,0,0,2],fingers:[2,0,0,0,0,1],barres:[],baseFret:1}],maj13:[{frets:[3,2,0,0,2,2],fingers:[3,1,0,0,2,2],barres:[2],baseFret:1}],m7:[{frets:[3,1,0,0,3,0],fingers:[2,1,0,0,3,0],barres:[],baseFret:1}],m9:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],m11:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],m6:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],sus2:[{frets:[3,0,0,0,3,3],fingers:[1,0,0,0,2,3],barres:[],baseFret:1}],sus4:[{frets:[3,3,0,0,1,3],fingers:[2,3,0,0,1,4],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],6:[{frets:[3,2,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],add9:[{frets:[3,0,0,0,0,3],fingers:[2,0,0,0,0,3],barres:[],baseFret:1}],9:[{frets:[3,2,0,1,0,1],fingers:[3,2,0,1,0,1],barres:[1],baseFret:1}],11:[{frets:[3,2,0,1,3,1],fingers:[3,2,0,1,4,1],barres:[1],baseFret:1}],13:[{frets:[3,2,0,1,0,5],fingers:[2,1,0,1,0,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}]},"G#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},Ab:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},A:{maj:[{frets:[-1,0,2,2,2,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],m:[{frets:[-1,0,2,2,1,0],fingers:[0,0,2,3,1,0],barres:[],baseFret:1}],7:[{frets:[-1,0,2,0,2,0],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}],maj7:[{frets:[-1,0,2,1,2,0],fingers:[0,0,2,1,3,0],barres:[],baseFret:1}],maj9:[{frets:[-1,0,2,1,0,0],fingers:[0,0,2,1,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,0,2,1,2,4],fingers:[0,0,2,1,3,4],barres:[],baseFret:1}],m7:[{frets:[-1,0,2,0,1,0],fingers:[0,0,2,0,1,0],barres:[],baseFret:1}],m9:[{frets:[-1,0,2,0,1,3],fingers:[0,0,2,0,1,4],barres:[],baseFret:1}],m11:[{frets:[-1,0,0,0,1,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],m6:[{frets:[-1,0,2,2,1,2],fingers:[0,0,2,3,1,4],barres:[],baseFret:1}],sus2:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],sus4:[{frets:[-1,0,2,2,3,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],dim:[{frets:[-1,0,1,2,1,-1],fingers:[0,0,1,3,2,0],barres:[],baseFret:1}],6:[{frets:[-1,0,2,2,2,2],fingers:[0,0,1,1,1,1],barres:[2],baseFret:1}],add9:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],9:[{frets:[-1,0,2,4,2,3],fingers:[0,0,1,3,1,2],barres:[2],baseFret:1}],11:[{frets:[-1,0,0,0,2,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],13:[{frets:[-1,0,2,0,2,4],fingers:[0,0,1,0,2,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,0,1,0,1,-1],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}]},"A#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},Bb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},B:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:2}],7:[{frets:[-1,2,1,2,0,2],fingers:[0,2,1,3,0,4],barres:[],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:2}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:2}],m7:[{frets:[-1,2,0,2,0,2],fingers:[0,1,0,2,0,3],barres:[],baseFret:1}],m9:[{frets:[-1,2,0,2,2,2],fingers:[0,1,0,2,3,4],barres:[],baseFret:1}],m11:[{frets:[-1,2,0,2,0,0],fingers:[0,1,0,2,0,0],barres:[],baseFret:1}],m6:[{frets:[-1,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:2}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:2}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,2,1,2,2,2],fingers:[0,2,1,3,3,3],barres:[],baseFret:1}],11:[{frets:[-1,2,1,2,0,0],fingers:[0,2,1,3,0,0],barres:[],baseFret:1}],13:[{frets:[-1,2,1,2,2,4],fingers:[0,2,1,3,3,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:2}]}};function Tk(n){return{"C":"C#","D":"Db","D":"D#","E":"Eb","F":"F#","G":"Gb","G":"G#","A":"Ab","A":"A#","B":"Bb"}[n]||n.replace("","#").replace("","b")}function Ck(n){return{major:"maj",major7:"maj7",major9:"maj9",major11:"maj11",major13:"maj13",major6:"6",minor:"m",min:"m",minor7:"m7",min7:"m7",minor9:"m9",min9:"m9",minor11:"m11",min11:"m11",minor13:"m13",min13:"m13",minor6:"m6",min6:"m6",dom7:"7",dominant7:"7",dom9:"9",dominant9:"9",dom11:"11",dominant11:"11",dom13:"13",dominant13:"13",suspended2:"sus2",suspended4:"sus4",diminished:"dim","half-diminished":"m7b5",halfDiminished7:"m7b5","m75":"m7b5",sixth:"6",ninth:"9",added9:"add9"}[n]||n}function iw(n,e){const t=Tk(n),s=Ck(e),a=Ak[t];if(!a)return null;const o=a[s];return!o||o.length===0?null:o[0]}const cg=({root:n,quality:e,color:t="#6366f1",onClick:s,onDoubleClick:a})=>{const o=x2(),u=iw(n,e),c=ne.useRef(0),f=ne.useRef(null),d=ar(`${n}${Nh(e)}`),p=()=>{const N=Date.now(),k=N-c.current;f.current&&(clearTimeout(f.current),f.current=null),k<300&&k>0?(c.current=0,a&&a()):(c.current=N,f.current=setTimeout(()=>{s&&s(),f.current=null},300))},y=ne.useRef(0),_=ne.useRef(null),b=N=>{N.preventDefault(),N.stopPropagation();const k=Date.now(),C=k-y.current;_.current&&(clearTimeout(_.current),_.current=null),C<300&&C>0?(y.current=0,a&&a()):(y.current=k,_.current=setTimeout(()=>{s&&s(),_.current=null},300))};if(!u)return v.jsxs("div",{className:"flex items-center justify-center text-text-muted text-xs py-4",children:["No guitar diagram available for ",n,e]});const A=s||a;return v.jsxs("div",{className:`flex flex-col items-center ${A?"cursor-pointer touch-feedback hover:opacity-80 active:scale-95 transition-all":""}`,onClick:A?p:void 0,onTouchEnd:A?b:void 0,onTouchStart:A?N=>N.stopPropagation():void 0,children:[v.jsx("span",{className:`${o?"text-xs":"text-[11px]"} font-bold mb-1 text-center`,style:{backgroundColor:"transparent",color:t,padding:"4px 12px",borderRadius:"10px",border:`2px solid ${t}`},children:d}),v.jsx("svg",{viewBox:"0 0 100 120",className:`w-full ${o?"max-w-[110px]":"max-w-[120px]"}`,style:{minHeight:o?110:120,pointerEvents:"none"},children:v.jsx(kk,{chord:u,color:t})})]})},kk=({chord:n,color:e})=>{const{frets:t,fingers:s,barres:a,baseFret:o}=n,u=20,c=25,f=12,d=18,p=4,y=6,_=4.5,b=Array.from({length:y},(R,D)=>u+D*f),A=Array.from({length:p+1},(R,D)=>c+D*d),N=o===1,k=f*(y-1)+16,C=d*p+8;return v.jsxs(v.Fragment,{children:[v.jsx("rect",{x:u-8,y:c-4,width:k,height:C,fill:"#3d2817",rx:3}),N?v.jsx("rect",{x:u-2,y:c-3,width:f*(y-1)+4,height:4,fill:"#f5f5f5",rx:1}):v.jsx("text",{x:u-14,y:c+d/2+4,fontSize:"12",fill:"#e0e0e0",textAnchor:"middle",fontWeight:"700",children:o}),A.map((R,D)=>v.jsx("line",{x1:u,y1:R,x2:u+f*(y-1),y2:R,stroke:"#b8b8b8",strokeWidth:D===0&&!N?2:1},`fret-${D}`)),b.map((R,D)=>v.jsx("line",{x1:R,y1:c,x2:R,y2:c+d*p,stroke:"#d4d4d4",strokeWidth:1.2+(5-D)*.25},`string-${D}`)),a.map((R,D)=>{const V=t.map((M,B)=>({fret:M,idx:B})).filter(({fret:M})=>M===R);if(V.length<2)return null;const F=Math.min(...V.map(M=>M.idx)),G=Math.max(...V.map(M=>M.idx)),H=c+(R-.5)*d;return v.jsx("rect",{x:b[F]-_,y:H-_,width:b[G]-b[F]+_*2,height:_*2,fill:"white",stroke:e,strokeWidth:2,rx:_},`barre-${D}`)}),t.map((R,D)=>{const V=b[D];if(R===-1)return v.jsx("text",{x:V,y:c-10,fontSize:"14",fill:"#ff6b6b",textAnchor:"middle",fontWeight:"bold",children:""},`mute-${D}`);if(R===0)return v.jsx("circle",{cx:V,cy:c-8,r:4,fill:"none",stroke:"var(--color-text-secondary)",strokeWidth:1.5},`open-${D}`);const F=a.includes(R),G=s[D];if(F){const M=t.findIndex(B=>B===R);if(D!==M)return null}const H=c+(R-.5)*d;return v.jsxs("g",{children:[v.jsx("circle",{cx:V,cy:H,r:_,fill:"white",stroke:e,strokeWidth:2}),G>0&&!F&&v.jsx("text",{x:V,y:H+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:G})]},`finger-${D}`)}),a.map((R,D)=>{const V=t.map((M,B)=>({fret:M,idx:B})).filter(({fret:M})=>M===R);if(V.length<2)return null;const F=Math.min(...V.map(M=>M.idx)),G=c+(R-.5)*d,H=s[F];return H>0?v.jsx("text",{x:b[F],y:G+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:H},`barre-finger-${D}`):null})]})},Uv=({notes:n,rootNote:e,color:t="#6366f1",width:s,numerals:a,onNotePlay:o,compact:u=!1})=>{const c=x2(),f=G=>{const H=G.replace(/[0-9]/g,"");let M=H[0],B="";H.includes("")||H.includes("#")?B="":(H.includes("")||H.includes("b"))&&(B="");let E={C:-6,D:-5,E:-4,F:-3,G:-2,A:-1,B:0}[M]??0;const I="CDEFGAB".indexOf(M),re="CDEFGAB".indexOf(e[0]);return I<re&&re-I>3&&(E+=7),{line:E,accidental:B}},d=G=>{o&&o(G,4)},y=s||(u?180:c?280:340),_=u?70:c?110:115,b=u?6:12,A=b,N=_*(u?.28:.22),k=u?7:10,C=Math.max(80,y-b*2),R=N+(u?32:50),D=N+(u?42:62),V=n.map((G,H)=>{const{line:M,accidental:B}=f(G),te=u?40:60,E=C-te-15,I=u?18:25,re=E/Math.max(n.length-1,1),U=Math.max(re,I),oe=U*Math.max(n.length-1,0),Y=(E-oe)/2,J=A+te+Y+H*U,le=N-M*k/2;return{note:G,x:J,y:le,line:M,accidental:B,needsLedgerLines:M<-4||M>4}}),F=G=>{const H=[];if(G.line<-4)for(let B=-6;B>=G.line;B-=2)B<-4&&H.push(v.jsx("line",{x1:G.x-28/2,y1:N-B*k/2,x2:G.x+28/2,y2:N-B*k/2,stroke:"#888",strokeWidth:"1.5"},`ledger-below-${B}`));else if(G.line>4)for(let B=6;B<=G.line;B+=2)B>4&&H.push(v.jsx("line",{x1:G.x-28/2,y1:N-B*k/2,x2:G.x+28/2,y2:N-B*k/2,stroke:"#888",strokeWidth:"1.5"},`ledger-above-${B}`));return H};return v.jsx("div",{className:`flex justify-center items-center ${u?"":"w-full"}`,children:v.jsxs("svg",{viewBox:`0 0 ${y} ${_}`,className:u?"":"w-full",style:{minHeight:u?60:c?95:100,width:u?y:void 0},children:[[-2,-1,0,1,2].map(G=>v.jsx("line",{x1:A,y1:N-G*k,x2:A+C,y2:N-G*k,stroke:"#777",strokeWidth:u?1.5:2},`staff-${G}`)),v.jsx("text",{x:A-(u?2:3),y:N+(u?14:20),fontSize:u?"38":c?"56":"62",fill:t,fontFamily:"serif",fontWeight:"bold",children:""}),V.map(G=>F(G)),V.map((G,H)=>v.jsxs("g",{children:[G.accidental&&v.jsx("text",{x:G.x-(u?12:20),y:G.y+(u?3:5),fontSize:u?"12":c?"18":"20",fill:"#ccc",fontFamily:"serif",fontWeight:"bold",children:G.accidental}),o&&v.jsx("circle",{cx:G.x,cy:G.y,r:16,fill:"transparent",style:{cursor:"pointer"},onClick:()=>d(G.note),onTouchEnd:M=>{M.preventDefault(),d(G.note)}}),v.jsx("ellipse",{cx:G.x,cy:G.y,rx:u?5:7,ry:u?4:5.5,fill:H===0?t:"#ddd",stroke:H===0?t:"#ddd",strokeWidth:1,style:o?{cursor:"pointer"}:void 0,className:o?"hover:opacity-80 active:scale-110 transition-transform":""}),v.jsx("text",{x:G.x,y:R,fontSize:u?"7":c?"10":"11",fill:"#999",textAnchor:"middle",fontWeight:"600",children:G.note}),a&&a[H]&&v.jsx("text",{x:G.x,y:D,fontSize:u?"7":c?"9":"10",fill:H===0?t:"#777",textAnchor:"middle",fontWeight:"700",children:a[H]})]},`note-${H}`))]})})},ug=({variant:n="sidebar",onScrollChange:e,forceVisible:t=!1})=>{const{selectedChord:s,selectedKey:a,chordPanelVisible:o,toggleChordPanel:u,selectedSectionId:c,selectedSlotId:f,addChordToSlot:d,setSelectedChord:p,setSelectedSlot:y,timelineVisible:_,openTimeline:b,setChordPanelGuitarExpanded:A,setChordPanelVoicingsExpanded:N,chordPanelAttention:k}=sn(),C=pd(),[R,D]=ne.useState(null),[V,F]=ne.useState([]),[G,H]=ne.useState(320),[M,B]=ne.useState(!1),te=ne.useRef(0),E=n==="drawer",[I,re]=ne.useState(s),U=s??I,{isMobile:oe}=Xh(),Y=n==="landscape-panel"||n==="landscape-expanded",J=n==="landscape-panel",le=!E&&!Y&&G<360,pe=!E&&!Y&&G<290,[be,W]=ne.useState(!1),[j,$]=ne.useState(!1),[X,K]=ne.useState(!oe||Y),[ae,de]=ne.useState(0),fe=4,xe=_e=>{W(_e),N(_e)},we=_e=>{K(_e),A(_e)};ne.useEffect(()=>{A(X),N(be)},[]);const Ie=ne.useRef(0),$e=ne.useRef(0),[Je,ct]=ne.useState(0),z=ne.useRef(null),Ne=ne.useRef(null),rt=ne.useRef(null),qe=ne.useRef(null),Ee=_e=>{if(_e.current&&qe.current){const it=qe.current,Ae=_e.current.offsetTop-it.offsetTop;it.scrollTo({top:Ae,behavior:"smooth"})}},Ke=ne.useCallback(_e=>{!E||!oe||(Ie.current=_e.touches[0].clientY,$e.current=_e.touches[0].clientY)},[E,oe]),We=ne.useCallback(_e=>{if(!E||!oe)return;$e.current=_e.touches[0].clientY;const it=$e.current-Ie.current;it>0&&ct(Math.min(it,150))},[E,oe]),lt=ne.useCallback(()=>{!E||!oe||(Je>80?(ct(300),setTimeout(()=>{u(),ct(0)},200)):ct(0))},[E,oe,Je,u]),at=()=>{if(!U)return"Chord Details";const _e=R||U.quality;return ar(_e==="major"||_e==="maj"?U.root:_e==="minor"||_e==="m"?`${U.root}m`:_e==="diminished"||_e==="dim"?`${U.root}dim`:`${U.root}${Nh(_e)}`)},ze=ne.useCallback((_e,it)=>{Q3(_e,it)},[]),st={maj:'The classic major triad: bright, stable, and universally resolved. The foundation of Western harmony and the sound of "home."',major:'The classic major triad: bright, stable, and universally resolved. The foundation of Western harmony and the sound of "home."',maj7:"Smooth and sophisticated, the major 7th adds a dreamy, floating quality. Think Burt Bacharach, neo-soul, and late-night jazz.",maj9:"Builds on maj7 with a crystalline 9th. Modern, airy, and introspective  perfect for R&B ballads and ambient textures.",maj13:"The full major palette: lush, orchestral, and complex. Great for endings or when you want maximum harmonic richness.",6:"Warm and vintage  the major 6th has an old-Hollywood or country sweetness. Softer resolution than maj7.",add9:"A major triad with added sparkle from the 9th, but no 7th. Clean, modern, and ubiquitous in pop and worship music.",7:"The dominant 7th creates bluesy tension begging for resolution. The engine behind the ii-V-I and the soul of rock & blues.",9:"Dominant 7 with a colorful 9th. Funky, jazzy, and sophisticated  think Stevie Wonder, Earth Wind & Fire, and neo-soul.",11:"Suspended, modal quality over dominant function. Creates an open, unresolved tension that floats before landing.",13:"The dominant chord at its richest: soulful 13th on top of bluesy 7th. Perfect for jazz turnarounds and R&B grooves.",m7:"The workhorse minor chord: soulful, laid-back, and endlessly versatile. The default for jazz ii chords and R&B grooves.",minor:"The basic minor triad: melancholic, introspective, and emotionally direct. Minor keys are built on this sound.",m9:"Lush and cinematic  adds depth and width to the minor sound. Evokes late-night cityscapes and emotional introspection.",m11:"Spacious and modal, with an open 11th suspension. Great for grooves, vamps, and creating atmospheric tension.",m6:"Bittersweet with a film-noir quality. The 6th adds sophistication to minor  a nice alternative to m7 for tonic chords.",sus2:"Neither major nor minor  the open 2nd creates an ambient, neutral quality. Ubiquitous in pop, rock, and modern worship.",sus4:"Suspended tension from the 4th wants to fall to the 3rd. Creates expectation and movement  classic resolution technique.",dim:"Highly unstable and tense  every note pushes somewhere else. Perfect as a passing chord or chromatic approach.",diminished:"Highly unstable and tense  every note pushes somewhere else. Perfect as a passing chord or chromatic approach.",m7b5:"Half-diminished: dark and sophisticated. The natural ii chord in minor keys, essential for minor ii-V-i progressions."},et=["maj","7","maj7","maj9","maj13","6","13","m7","m9","m11","m6","sus2","sus4","dim","m7b5","add9","9","11"],ut=_e=>{if(!U?.root)return"-";const it=Nt=>Nt.replace(/[\d]/g,"").replace(//,"b").replace(//,"#"),Vt={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},Ae=Vt[it(U.root)],ft=Vt[it(_e)];if(Ae===void 0||ft===void 0)return"-";const pt=(ft-Ae+12)%12;return{0:"R",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[pt]??"-"},xt=ne.useCallback(_e=>{E||(_e.preventDefault(),B(!0))},[E]);ne.useEffect(()=>{if(!M||E)return;const _e=Ae=>{const ft=window.innerWidth-Ae.clientX;H(Math.max(280,Math.min(500,ft)))},it=Ae=>{if(Ae.touches.length===1){const ft=window.innerWidth-Ae.touches[0].clientX;H(Math.max(280,Math.min(500,ft)))}},Vt=()=>{B(!1)};return document.addEventListener("mousemove",_e),document.addEventListener("mouseup",Vt),document.addEventListener("touchmove",it),document.addEventListener("touchend",Vt),()=>{document.removeEventListener("mousemove",_e),document.removeEventListener("mouseup",Vt),document.removeEventListener("touchmove",it),document.removeEventListener("touchend",Vt)}},[M,E]),ne.useEffect(()=>{s&&re(s)},[s]),ne.useEffect(()=>{D(null),F([]),de(0)},[U?.root,U?.quality]),ne.useEffect(()=>{Y&&X&&z.current&&qe.current&&setTimeout(()=>{if(z.current&&qe.current){const _e=z.current,it=qe.current,Vt=_e.offsetTop-it.offsetTop;it.scrollTo({top:Vt+35,behavior:"smooth"})}},100)},[Y,X]),ne.useEffect(()=>{if(!E||!e)return;const _e=qe.current;if(!_e)return;const it=()=>{const Vt=_e.scrollHeight-_e.scrollTop-_e.clientHeight<20;e(Vt)};return _e.addEventListener("scroll",it),it(),()=>_e.removeEventListener("scroll",it)},[E,e]);const dt=U&&C[U.root]||"#6366f1",yt=V.length>0?V:U?.notes||[],ht=su(yt,ae),bn=Q_(yt),Ht=_e=>{const it=Date.now();if(it-te.current<300||(te.current=it,!U))return;const Vt=ja(U.root,_e),Ae=su(Vt,ae);Wr(Ae),D(_e),F(Vt)},Tt=_e=>{if(te.current=0,!_){b();return}if(!U||!c||!f)return;const it=ja(U.root,_e),Vt=uv(U.root,_e,it,ae),Ae={...U,quality:_e,symbol:Vt,notes:it,inversion:ae};d(Ae,c,f),y(c,f),p(Ae)},St=ne.useCallback(()=>{if(!U)return;const _e=R||U.quality,it=ja(U.root,_e),Vt=su(it,ae);Wr(Vt)},[U,R,ae]),At=ne.useCallback(()=>{if(!_){b();return}if(!U||!c||!f)return;const _e=R||U.quality,it=ja(U.root,_e),Vt=uv(U.root,_e,it,ae),Ae={...U,quality:_e,symbol:Vt,notes:it,inversion:ae};d(Ae,c,f),y(c,f),p(Ae)},[U,R,ae,c,f,d,y,p,_,b]),bt=ne.useRef(0),on=ne.useRef(null),Mt=ne.useCallback(_e=>{if(!U)return;_e.preventDefault(),_e.stopPropagation();const it=Date.now(),Vt=it-bt.current;on.current&&(clearTimeout(on.current),on.current=null),Vt<300&&Vt>0?(bt.current=0,At()):(bt.current=it,on.current=setTimeout(()=>{St(),on.current=null},300))},[U,St,At]),Dt=()=>{if(!U)return{extensions:[],description:""};let _e=U.numeral;if(_e&&_e.includes("(")){const Vt=_e.match(/^(.+?)\s*\(/);Vt&&(_e=Vt[1].trim())}return{I:{extensions:["maj","maj7","maj9","maj13","6"],description:"The tonic  your home base and resting point. This is where phrases resolve and songs often begin and end. Its stability makes it perfect for choruses and moments of arrival."},IV:{extensions:["maj","maj7","maj9","maj13","6"],description:'The subdominant  warm, hopeful, and slightly floating. It gently pulls away from home without creating urgency. Great for pre-choruses and that "lifting" feeling before a chorus.'},V:{extensions:["maj","7","9","11","sus4","13"],description:`The dominant  maximum tension wanting to resolve back to I. This chord creates expectation and forward motion. It's the "question" that begs for an "answer."`},ii:{extensions:["m","m7","m9","m11","m6"],description:"The supertonic  a natural setup chord that leads smoothly to V or IV. It's the workhorse of the ii-V-I progression and adds sophistication to any verse."},iii:{extensions:["m","m7"],description:"The mediant  mysterious and chameleon-like. It can substitute for I (they share two notes) or lead to vi. Use it for unexpected color and emotional complexity."},vi:{extensions:["m","m7","m9","m11"],description:'The relative minor  emotional depth and melancholy without leaving the key. This is the "sad" chord in major keys and the foundation of countless pop progressions (vi-IV-I-V).'},"vii":{extensions:["dim","m75"],description:"The leading tone chord  highly unstable and restless. Every note wants to move somewhere, making it a powerful passing chord that pulls strongly toward I."},II:{extensions:["maj","7","sus4"],description:"A secondary dominant (V of V)  borrowed tension that points toward V. Use it to create a dramatic runway before landing on V."},III:{extensions:["maj","7","sus4"],description:"A secondary dominant (V of vi)  creates an unexpected dramatic pull toward vi. Perfect for adding tension before a minor chord moment."}}[_e||""]||{extensions:[],description:`This chord doesn't fit in the key of ${a}, but it may add color and interest to your progression.`}};if(!o&&!t)return E?v.jsxs("div",{className:"w-full h-12 flex flex-col items-center justify-center bg-bg-secondary border-t border-border-subtle cursor-pointer touch-feedback active:bg-bg-tertiary",onClick:u,onTouchStart:_e=>{Ie.current=_e.touches[0].clientY,$e.current=_e.touches[0].clientY},onTouchMove:_e=>{$e.current=_e.touches[0].clientY},onTouchEnd:()=>{Ie.current-$e.current>30&&u()},title:"Swipe up or tap to open",children:[v.jsx("div",{className:"w-12 h-1.5 rounded-full bg-text-muted/40 mb-1.5"}),v.jsx("span",{className:"text-[10px] font-medium text-text-muted uppercase tracking-wider",children:"Chord Details"})]}):v.jsx("button",{onClick:u,className:"h-full px-2 flex items-center justify-center bg-bg-secondary border-l border-border-subtle hover:bg-bg-tertiary transition-colors shrink-0",title:"Show chord details",children:v.jsx(qC,{size:18,className:"text-text-muted"})});const xn=n==="landscape-panel",vt=n==="landscape-expanded";return v.jsxs("div",{className:`${vt||xn?"h-full w-full flex flex-col bg-bg-secondary overflow-hidden":E?`${oe?"relative w-full":"fixed inset-x-3 bottom-[88px]"} ${oe?"max-h-[60vh]":"max-h-[70vh]"} bg-bg-secondary ${oe?"border-t-2 border-border-subtle":"border-2 border-border-subtle rounded-2xl"} shadow-2xl overflow-hidden ${oe?"":"z-40"} flex`:"h-full flex bg-bg-secondary border-l border-border-subtle overflow-x-hidden"}${k?" chord-panel-attention":""}`,style:{...!E&&!xn&&!vt?{width:G,minWidth:0,maxWidth:"100%"}:{},...E?{transform:Je>0?`translateY(${Je}px)`:void 0,opacity:Je>0?Math.max(0,1-Je/300):1,transition:Je===0||Je>=150?"all 0.2s ease-out":"none"}:{},...k?{boxShadow:"0 0 20px 4px rgba(99, 102, 241, 0.4), inset 0 0 10px rgba(99, 102, 241, 0.1)",borderColor:"rgba(99, 102, 241, 0.6)",transition:"box-shadow 0.3s ease-out, border-color 0.3s ease-out"}:{}},children:[!E&&!xn&&v.jsx("div",{className:`w-3 flex items-center justify-center cursor-ew-resize hover:bg-bg-tertiary active:bg-accent-primary/20 transition-colors ${M?"bg-accent-primary/20":""} relative z-[60] touch-none`,onMouseDown:xt,onTouchStart:xt,children:v.jsx(z3,{size:12,className:"text-text-muted"})}),v.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0 relative",children:[E&&oe&&v.jsx("div",{className:"flex flex-col items-center shrink-0 cursor-grab active:cursor-grabbing",onTouchStart:Ke,onTouchMove:We,onTouchEnd:lt,children:v.jsx("div",{className:"pt-2.5 pb-1 flex flex-col items-center",children:v.jsx("div",{className:"w-12 h-1.5 rounded-full bg-text-muted/40"})})}),v.jsxs("div",{className:`${Y?"px-3 py-2":oe&&E?"px-2 py-2":"px-4 py-3"} border-b border-border-subtle ${pe?"flex flex-col gap-2":"grid grid-cols-[1fr_auto_1fr] items-center gap-2"} shrink-0 ${E?"bg-bg-secondary/80 backdrop-blur-md":""}`,children:[v.jsx("div",{className:`flex items-center min-w-0 ${pe?"justify-center":""}`,style:{gap:"8px"},children:J&&U?v.jsx(v.Fragment,{children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xs font-bold cursor-pointer touch-feedback hover:opacity-80 active:scale-95 transition-all",style:{backgroundColor:"transparent",color:dt,padding:"4px 10px",borderRadius:"8px",border:`2px solid ${dt}`},onClick:St,onDoubleClick:At,children:at()}),U.numeral&&v.jsx("span",{className:"text-sm font-serif italic text-text-muted shrink-0",children:ar(U.numeral)}),v.jsxs("div",{className:"flex items-center shrink-0",title:"Chord inversion",children:[v.jsx("button",{onClick:()=>{const _e=Math.max(0,ae-1);de(_e);const it=su(yt,_e);Wr(it)},disabled:ae<=0,className:"w-3 h-3 flex items-center justify-center text-text-muted hover:text-accent-primary transition-colors disabled:opacity-20",children:v.jsx(Fh,{size:10})}),v.jsx("span",{className:"text-[9px] font-bold text-text-secondary w-3 text-center",children:ae}),v.jsx("button",{onClick:()=>{const _e=Math.min(bn,ae+1);de(_e);const it=su(yt,_e);Wr(it)},disabled:ae>=bn,className:"w-3 h-3 flex items-center justify-center text-text-muted hover:text-accent-primary transition-colors disabled:opacity-20",children:v.jsx(Vh,{size:10})})]})]})}):v.jsx(v.Fragment,{children:v.jsxs("span",{className:`flex items-center shrink-0 min-w-0 ${U?"cursor-pointer touch-feedback hover:opacity-80 active:scale-95 transition-all":""}`,style:U?{gap:"4px",backgroundColor:"transparent",color:dt,padding:"3px 8px",borderRadius:"6px",border:`1.5px solid ${dt}`}:{gap:"4px"},onClick:U?St:void 0,onDoubleClick:U?At:void 0,onTouchEnd:U?Mt:void 0,onTouchStart:U?_e=>_e.stopPropagation():void 0,children:[v.jsx("span",{className:`${Y?"text-lg":oe?"text-sm":"text-xs sm:text-sm"} font-bold leading-none truncate`,children:oe&&E?at():U?ar(`${U.root}${Nh(R||U.quality)}`):"Chord Details"}),U?.numeral&&v.jsx("span",{className:`${Y?"text-sm":"text-[10px]"} font-serif italic opacity-70 shrink-0`,children:ar(U.numeral)})]})})}),!pe&&v.jsx("div",{className:"flex items-center justify-center",children:U&&!J&&v.jsxs("div",{className:"flex items-center bg-bg-tertiary/40 rounded-full px-0.5 ml-3",title:"Chord inversion - which note is in the bass",children:[v.jsx("button",{onClick:()=>{const _e=Math.max(0,ae-1);de(_e);const it=su(yt,_e);Wr(it)},disabled:ae<=0,className:"w-4 h-4 flex items-center justify-center hover:bg-accent-primary/20 rounded-full text-text-muted hover:text-accent-primary transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Previous inversion",children:v.jsx(Fh,{size:8})}),v.jsx("span",{className:"text-[11px] font-semibold text-text-secondary min-w-[20px] text-center",children:K_(ae)}),v.jsx("button",{onClick:()=>{const _e=Math.min(bn,ae+1);de(_e);const it=su(yt,_e);Wr(it)},disabled:ae>=bn,className:"w-4 h-4 flex items-center justify-center hover:bg-accent-primary/20 rounded-full text-text-muted hover:text-accent-primary transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Next inversion",children:v.jsx(Vh,{size:8})})]})}),v.jsxs("div",{className:`flex items-center gap-2 shrink-0 ${pe?"justify-center w-full":"justify-end"}`,children:[U&&v.jsxs("button",{onClick:At,className:`${pe?"flex-1 py-2":oe?"px-3 py-1.5":"px-2.5 py-1"} bg-gradient-to-r from-accent-primary to-purple-600 hover:opacity-90 rounded-lg transition-all touch-feedback flex items-center justify-center gap-1.5 shadow-md shadow-accent-primary/20 active:scale-95`,title:"Add chord to timeline",children:[v.jsx($h,{size:pe?16:oe?14:12,className:"text-white"}),v.jsx("span",{className:`${pe?"text-sm":oe?"text-xs":"text-[11px]"} font-semibold text-white`,children:"Add"})]}),!Y&&v.jsx("button",{onClick:u,className:`${pe?"p-2 bg-bg-tertiary/60 rounded-lg":oe?"p-2 min-w-[40px] min-h-[40px]":"p-1"} hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center`,title:"Hide panel",children:v.jsx(H3,{size:pe||oe?18:16,className:`text-text-muted ${oe&&E?"rotate-90":""}`})})]})]}),U?v.jsxs("div",{ref:qe,className:`flex-1 ${vt?"flex flex-row overflow-hidden":"overflow-y-auto overflow-x-hidden"} min-h-0 overscroll-contain`,children:[!vt&&v.jsxs("div",{className:`${oe?"px-5 pt-4 pb-4":"px-5 py-4"} border-b border-border-subtle`,children:[v.jsx(lg,{highlightedNotes:ht,rootNote:U.root,bassNote:ht[0],color:dt,octave:fe,onNotePlay:ze}),v.jsx("div",{className:`${oe?"mt-4":"mt-5"} w-full`,children:v.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:`${oe?"56px":"72px"} repeat(${ht.length}, minmax(0, 1fr))`},children:[v.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Notes"}),ht.map((_e,it)=>v.jsx("div",{className:`text-center ${oe?"text-xs":"text-sm"} font-bold text-text-primary flex items-center justify-center`,style:{height:"16px"},children:_e},`note-${it}`)),v.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Absolute"}),ht.map((_e,it)=>v.jsx("div",{className:`text-center ${oe?"text-[11px]":"text-xs"} text-text-primary font-semibold flex items-center justify-center`,style:{height:"16px"},children:ut(_e)},`abs-${it}`)),v.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Relative"}),ht.map((_e,it)=>v.jsx("div",{className:`text-center ${oe?"text-[11px]":"text-xs"} text-text-secondary flex items-center justify-center`,style:{height:"16px"},children:eS(a,_e).replace(/^1/,"R")},`rel-${it}`))]})})]}),v.jsxs("div",{className:`flex flex-col ${vt?"flex-1 overflow-y-auto":""}`,children:[v.jsxs("div",{ref:z,className:`${Y?"px-2 py-1":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[v.jsxs("button",{onClick:()=>{const _e=!X;we(_e),_e&&setTimeout(()=>Ee(z),50)},className:`w-full flex items-center justify-between ${X?"mb-2":"mb-0"} cursor-pointer rounded-none`,style:{backgroundColor:"transparent"},children:[v.jsx("h3",{className:`${J?"text-[9px]":oe?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide whitespace-nowrap`,children:J?"Guitar & Suggested":`Guitar & Suggested Voicings for ${ar(U.numeral||U.symbol)}`}),v.jsx(Yf,{size:J?8:oe?14:12,className:`text-text-secondary transition-transform ${X?"rotate-180":""}`})]}),X&&v.jsx(v.Fragment,{children:v.jsxs("div",{className:`flex items-start ${J?"gap-1":"gap-2"} px-3`,style:{marginTop:J?"4px":"8px"},children:[v.jsxs("div",{className:"flex flex-col items-center shrink-0",style:{minWidth:J?"70px":"100px"},children:[v.jsx(cg,{root:U.root,quality:R||U.quality,color:dt,onClick:St,onDoubleClick:At}),!J&&v.jsx("p",{className:`${oe?"text-[10px]":"text-[9px]"} text-text-muted leading-relaxed text-center ${oe?"mb-1 px-1":"mb-1 px-0.5"}`,style:{maxWidth:J?"70px":"100px"},children:st[R||U.quality]||"Select a voicing to see its description."})]}),v.jsx("div",{className:"w-px bg-border-subtle self-stretch"}),v.jsx("div",{className:"flex-1 flex flex-col justify-start pl-1",children:Dt().extensions.length>0?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:`grid ${J||le?"grid-cols-1":"grid-cols-2"}`,style:{gap:J?"3px":le?"4px":oe?"6px":"5px",marginBottom:J?"2px":"4px",marginRight:le?"12px":void 0},children:Dt().extensions.map(_e=>v.jsxs("button",{className:`relative group ${J?"px-1 py-0.5 text-[8px] min-h-[20px]":le?"px-2 py-1.5 text-[9px] min-h-[26px]":oe?"px-2 py-2 text-xs min-h-[36px]":"px-1.5 py-1 text-[10px]"} rounded font-semibold transition-colors touch-feedback text-center`,style:{width:J?"60px":le?"70px":oe?"80px":"70px",...R===_e?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#f0f0f5",border:"1px solid rgba(255,255,255,0.08)"}},onClick:()=>Ht(_e),onDoubleClick:()=>Tt(_e),children:[ar(`${U.root}${_e}`),!oe&&st[_e]&&v.jsxs("span",{className:"pointer-events-none absolute -top-6 -translate-y-full left-1/2 -translate-x-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-1000 z-50 w-44 text-left",style:{backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[st[_e]?v.jsxs(v.Fragment,{children:[st[_e],v.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},_e))}),!le&&v.jsx("div",{style:{marginTop:J?"2px":"6px"},children:v.jsx(Uv,{notes:ht,rootNote:U.root,color:dt,numerals:ht.map(_e=>ut(_e)),onNotePlay:ze,compact:!0})})]}):v.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[v.jsx(Uv,{notes:ht,rootNote:U.root,color:dt,numerals:ht.map(_e=>ut(_e)),onNotePlay:ze,compact:!1}),v.jsxs("p",{className:`${J?"text-[8px]":oe?"text-[10px]":"text-[9px]"} text-text-muted italic text-center mt-1`,children:["Out of key  see ",v.jsx("span",{className:"font-semibold text-text-secondary",children:"Voicings"})," below"]})]})})]})})]}),v.jsxs("div",{ref:Ne,className:`${vt?"px-3 py-1":oe?"px-5 py-1 mt-2":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[v.jsxs("button",{onClick:()=>{const _e=!be;xe(_e),_e&&setTimeout(()=>Ee(Ne),50)},className:`w-full flex items-center justify-between ${be?"mb-2":"mb-0"} cursor-pointer rounded-none`,style:{backgroundColor:"transparent"},children:[v.jsx("h3",{className:`${J?"text-[9px]":oe?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide`,children:"Voicings"}),v.jsx(Yf,{size:J?8:oe?14:12,className:`text-text-secondary transition-transform ${be?"rotate-180":""}`})]}),be&&v.jsx("div",{className:`grid ${J?"grid-cols-4":oe?"grid-cols-3":"grid-cols-2 sm:grid-cols-3"} ${J?"gap-2":oe?"gap-3":"gap-2.5"}`,children:et.map((_e,it)=>{const Ae=it%2===0?{left:"calc(100% + 10px)"}:{right:"calc(100% + 10px)"};return v.jsxs("button",{className:`relative group ${J?"px-1.5 py-1 min-h-[22px] text-[8px]":oe?"px-3 py-3 min-h-[48px] text-xs":"px-2 py-1.5 text-[10px]"} rounded font-medium transition-colors touch-feedback`,style:R===_e?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#9898a6",border:"1px solid rgba(255,255,255,0.08)"},onClick:()=>Ht(_e),onDoubleClick:()=>Tt(_e),children:[_e,!oe&&st[_e]&&v.jsxs("span",{className:"pointer-events-none absolute top-1/2 -translate-y-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-1000 z-50 w-44 text-left",style:{...Ae,backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[st[_e]?v.jsxs(v.Fragment,{children:[st[_e],v.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},_e)})})]}),v.jsxs("div",{ref:rt,className:`${vt?"px-3 py-1":oe?"px-5 py-1 mt-2":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[v.jsxs("button",{onClick:()=>{const _e=!j;$(_e),_e&&setTimeout(()=>Ee(rt),50)},className:`w-full flex items-center justify-between cursor-pointer ${j?"mb-3":"mb-0"} rounded-none`,style:{backgroundColor:"transparent"},children:[v.jsx("h3",{className:`${J?"text-[9px]":oe?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide`,children:"Theory"}),v.jsx(Yf,{size:J?8:oe?14:12,className:`text-text-secondary transition-transform ${j?"rotate-180":""}`})]}),j&&v.jsx("div",{className:`${oe?"p-3":"p-4"} bg-bg-elevated rounded-none`,children:v.jsx("p",{className:`${oe?"text-sm":"text-xs"} text-text-secondary leading-relaxed`,children:Dt().description})})]})]}),oe&&v.jsx("div",{className:"h-12 shrink-0"})]}):v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 gap-4",children:[v.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-accent-primary/20 to-purple-600/20 flex items-center justify-center border border-accent-primary/30",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-accent-primary",children:[v.jsx("circle",{cx:"8",cy:"18",r:"4"}),v.jsx("path",{d:"M12 18V2l7 4"})]})}),v.jsxs("div",{className:"text-center space-y-2",children:[v.jsx("p",{className:`${oe?"text-base":"text-sm"} font-semibold text-text-primary`,children:"No chord selected"}),v.jsx("p",{className:`${oe?"text-sm":"text-xs"} text-text-muted max-w-[200px]`,children:"Tap a chord on the wheel or select one from the timeline"})]})]})]})]})},jk="modulepreload",Ek=function(n){return"/chord-wheel-writer/"+n},Hv={},Th=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");a=f(t.map(d=>{if(d=Ek(d),d in Hv)return;Hv[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":jk,p||(_.as="script"),_.crossOrigin="",_.href=d,c&&_.setAttribute("nonce",c),document.head.appendChild(_),p)return new Promise((b,A)=>{_.addEventListener("load",b),_.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},Mk=()=>{const{currentSong:n,isPlaying:e,tempo:t,volume:s,setTempo:a,setVolume:o,instrument:u,setInstrument:c,isMuted:f,toggleMute:d,toggleLoop:p,isLooping:y,playingSectionId:_,selectedSectionId:b,setSelectedSlot:A}=sn(),{isMobile:N,isLandscape:k}=Xh(),[C,R]=ne.useState(!1),[D,V]=ne.useState(!1),[F,G]=ne.useState(t.toString()),H=ne.useRef(null),[M,B]=ne.useState(!1),te=ne.useRef(null),E=ne.useRef(t),I=ne.useRef(null);ne.useEffect(()=>{y2(n)},[n]),ne.useEffect(()=>{tw(t)},[t]),ne.useEffect(()=>{v2(u)},[u]),ne.useEffect(()=>{rw()},[y,n,_,b]),ne.useEffect(()=>{Th(()=>Promise.resolve().then(()=>sg),void 0).then(K=>{R(!0),K.preloadAudio().finally(()=>R(!1))})},[]);const re=async()=>{try{await b2(),e?(ew(),sn.getState().setIsPlaying(!1)):(R(!0),await J3(),sn.getState().setIsPlaying(!0))}catch(K){console.error("Playback error:",K)}finally{R(!1)}},U=K=>{nw(K)},oe=()=>{p()},Y=()=>{const K=n.sections;if(K.length===0)return;const ae=b?K.findIndex(xe=>xe.id===b):-1,de=ae>=0?(ae+1)%K.length:0,fe=K[de];fe&&fe.measures[0]?.beats[0]&&A(fe.id,fe.measures[0].beats[0].id)},J=[{value:"piano",label:"Piano"},{value:"epiano",label:"Electric Piano"},{value:"organ",label:"Organ"},{value:"pad",label:"Pad"},{value:"guitar",label:"Guitar"}];J.find(K=>K.value===u)||c("piano");const le=K=>{const ae=J.findIndex(fe=>fe.value===u);if(ae===-1){c("piano");return}const de=K==="next"?(ae+1)%J.length:(ae-1+J.length)%J.length;c(J[de].value)},pe=()=>{G(t.toString()),V(!0),setTimeout(()=>H.current?.focus(),0)},be=()=>{const K=parseInt(F,10);!isNaN(K)&&K>=40&&K<=240?a(K):G(t.toString()),V(!1)},W=K=>{K.key==="Enter"?be():K.key==="Escape"&&(G(t.toString()),V(!1))},j=K=>{te.current=K.touches[0].clientX,E.current=t,B(!1),I.current=setTimeout(()=>{I.current=null},150)},$=K=>{if(te.current===null)return;const de=K.touches[0].clientX-te.current;if(Math.abs(de)>10){B(!0),I.current&&(clearTimeout(I.current),I.current=null);const fe=Math.round(de/3),xe=Math.min(240,Math.max(40,E.current+fe));a(xe)}},X=()=>{!M&&I.current&&(clearTimeout(I.current),pe()),te.current=null,B(!1),I.current=null};return v.jsxs("div",{"data-playback-controls":!0,className:`${N&&k?"h-8":N?"h-11":"h-12"} bg-bg-elevated border-t border-border-subtle flex items-center justify-between ${N?"px-2 gap-1":"px-6"}`,children:[v.jsxs("div",{className:"flex items-center gap-0.5",children:[v.jsx("button",{onClick:()=>U("prev"),className:`${N&&k?"p-1":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:v.jsx(G3,{size:N&&k?12:16})}),v.jsx("button",{onClick:re,disabled:C,className:`${N&&k?"w-6 h-6":N?"w-8 h-8":"w-9 h-9"} rounded-full bg-accent-primary hover:bg-indigo-500 disabled:bg-accent-primary/50 flex items-center justify-center text-white shadow-md transition-all hover:scale-105 active:scale-95 touch-feedback`,children:C?v.jsx(OC,{size:N&&k?12:N?16:18,className:"animate-spin"}):e?v.jsx(W3,{size:N&&k?12:N?16:18,fill:"currentColor"}):v.jsx(Yh,{size:N&&k?12:N?16:18,fill:"currentColor",className:"ml-0.5"})}),v.jsx("button",{onClick:()=>U("next"),className:`${N&&k?"p-1":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:v.jsx(Y3,{size:N&&k?12:16})}),N?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:Y,className:`${k?"p-1":"p-1.5"} transition-colors text-text-secondary hover:text-text-primary touch-feedback`,title:"Cycle to Next Section",children:v.jsx(YC,{size:k?12:14})}),v.jsx("button",{onClick:oe,className:`${k?"p-1":"p-1.5"} transition-colors touch-feedback ${y?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,title:"Loop Section",children:v.jsx(Iv,{size:k?12:14})})]}):v.jsx("button",{onClick:oe,className:`p-1.5 transition-colors ml-1 ${y?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,title:"Loop Section",children:v.jsx(Iv,{size:14})})]}),v.jsx("div",{className:"flex items-center",children:N?D?v.jsx("input",{ref:H,type:"number",inputMode:"numeric",value:F,onChange:K=>G(K.target.value),onBlur:be,onKeyDown:W,className:`${k?"w-10 text-[9px] h-4":"w-12 text-[11px] h-5"} bg-bg-tertiary border border-accent-primary rounded-sm px-1 text-center text-text-primary font-medium focus:outline-none`,min:40,max:240}):v.jsxs("div",{onTouchStart:j,onTouchMove:$,onTouchEnd:X,onClick:pe,className:`${k?"text-[9px] px-1.5 h-4":"text-[11px] px-2 h-5"} font-medium ${M?"text-accent-primary":"text-text-secondary"} hover:text-text-primary transition-colors touch-feedback whitespace-nowrap flex items-center cursor-ew-resize select-none`,children:[t," ",v.jsx("span",{className:`${M?"text-accent-primary/70":"text-text-muted"} ml-0.5`,children:"BPM"})]}):v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-text-secondary font-medium",children:"Tempo"}),v.jsx("input",{type:"number",value:t,onChange:K=>a(Number(K.target.value)),className:"w-14 bg-bg-tertiary border border-border-subtle rounded px-2 py-1 text-center text-text-primary text-[11px] font-medium",min:40,max:240}),v.jsx("span",{className:"text-text-muted",children:"BPM"})]})}),v.jsxs("div",{className:`flex items-center ${N?"gap-1.5":"gap-4"}`,children:[v.jsxs("div",{className:"flex items-center gap-1",children:[!N&&v.jsxs("div",{className:"flex items-center rounded bg-bg-tertiary/60 border border-border-subtle/70 h-7",children:[v.jsx("button",{onClick:()=>le("prev"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-l transition-colors flex items-center",title:"Previous instrument",children:v.jsx(Fh,{size:12})}),v.jsx("button",{onClick:()=>le("next"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-r transition-colors flex items-center",title:"Next instrument",children:v.jsx(Vh,{size:12})})]}),N&&!k&&v.jsx(U3,{size:14,className:"text-text-muted"}),v.jsx("select",{value:u,onChange:K=>c(K.target.value),className:`bg-bg-tertiary border border-border-subtle rounded ${N&&k?"px-3 py-1 h-6 text-[7px] min-w-[60px]":N?"px-1.5 h-7 text-[11px] min-w-[70px]":"px-2 h-7 text-[10px] min-w-[130px]"} text-text-secondary focus:outline-none focus:border-accent-primary cursor-pointer`,children:J.map(K=>v.jsx("option",{value:K.value,children:K.label},K.value))})]}),v.jsxs("div",{className:`flex items-center ${N?"":"gap-2 w-28"}`,children:[v.jsx("button",{onClick:d,className:`${N?"p-1.5":"p-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center rounded`,title:f?"Unmute":"Mute",children:f||s===0?v.jsx(ck,{size:N?16:14}):v.jsx(rg,{size:N?16:14})}),!N&&v.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f?0:s,onChange:K=>{f&&d(),o(Number(K.target.value))},className:`w-full h-1 bg-bg-tertiary rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2.5 [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:bg-accent-primary [&::-webkit-slider-thumb]:rounded-full ${f?"opacity-50":""}`})]})]})]})};function Lk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return ne.useMemo(()=>s=>{e.forEach(a=>a(s))},e)}const $p=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zh(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function w2(n){return"nodeType"in n}function Wi(n){var e,t;return n?Zh(n)?n:w2(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function _2(n){const{Document:e}=Wi(n);return n instanceof e}function Cd(n){return Zh(n)?!1:n instanceof Wi(n).HTMLElement}function aw(n){return n instanceof Wi(n).SVGElement}function Qh(n){return n?Zh(n)?n.document:w2(n)?_2(n)?n:Cd(n)||aw(n)?n.ownerDocument:document:document:document}const Ho=$p?ne.useLayoutEffect:ne.useEffect;function S2(n){const e=ne.useRef(n);return Ho(()=>{e.current=n}),ne.useCallback(function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e.current==null?void 0:e.current(...s)},[])}function Ok(){const n=ne.useRef(null),e=ne.useCallback((s,a)=>{n.current=setInterval(s,a)},[]),t=ne.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function ld(n,e){e===void 0&&(e=[n]);const t=ne.useRef(n);return Ho(()=>{t.current!==n&&(t.current=n)},e),t}function kd(n,e){const t=ne.useRef();return ne.useMemo(()=>{const s=n(t.current);return t.current=s,s},[...e])}function yp(n){const e=S2(n),t=ne.useRef(null),s=ne.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,s]}function hg(n){const e=ne.useRef();return ne.useEffect(()=>{e.current=n},[n]),e.current}let xm={};function jd(n,e){return ne.useMemo(()=>{if(e)return e;const t=xm[n]==null?0:xm[n]+1;return xm[n]=t,n+"-"+t},[n,e])}function ow(n){return function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return s.reduce((o,u)=>{const c=Object.entries(u);for(const[f,d]of c){const p=o[f];p!=null&&(o[f]=p+n*d)}return o},{...e})}}const Ch=ow(1),cd=ow(-1);function Dk(n){return"clientX"in n&&"clientY"in n}function N2(n){if(!n)return!1;const{KeyboardEvent:e}=Wi(n.target);return e&&n instanceof e}function Rk(n){if(!n)return!1;const{TouchEvent:e}=Wi(n.target);return e&&n instanceof e}function fg(n){if(Rk(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return Dk(n)?{x:n.clientX,y:n.clientY}:null}const ud=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[ud.Translate.toString(n),ud.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:s}=n;return e+" "+t+"ms "+s}}}),Wv="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ik(n){return n.matches(Wv)?n:n.querySelector(Wv)}const Vk={display:"none"};function Fk(n){let{id:e,value:t}=n;return Xn.createElement("div",{id:e,style:Vk},t)}function Bk(n){let{id:e,announcement:t,ariaLiveType:s="assertive"}=n;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Xn.createElement("div",{id:e,style:a,role:"status","aria-live":s,"aria-atomic":!0},t)}function zk(){const[n,e]=ne.useState("");return{announce:ne.useCallback(s=>{s!=null&&e(s)},[]),announcement:n}}const lw=ne.createContext(null);function Pk(n){const e=ne.useContext(lw);ne.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function qk(){const[n]=ne.useState(()=>new Set),e=ne.useCallback(s=>(n.add(s),()=>n.delete(s)),[n]);return[ne.useCallback(s=>{let{type:a,event:o}=s;n.forEach(u=>{var c;return(c=u[a])==null?void 0:c.call(u,o)})},[n]),e]}const Uk={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Hk={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Wk(n){let{announcements:e=Hk,container:t,hiddenTextDescribedById:s,screenReaderInstructions:a=Uk}=n;const{announce:o,announcement:u}=zk(),c=jd("DndLiveRegion"),[f,d]=ne.useState(!1);if(ne.useEffect(()=>{d(!0)},[]),Pk(ne.useMemo(()=>({onDragStart(y){let{active:_}=y;o(e.onDragStart({active:_}))},onDragMove(y){let{active:_,over:b}=y;e.onDragMove&&o(e.onDragMove({active:_,over:b}))},onDragOver(y){let{active:_,over:b}=y;o(e.onDragOver({active:_,over:b}))},onDragEnd(y){let{active:_,over:b}=y;o(e.onDragEnd({active:_,over:b}))},onDragCancel(y){let{active:_,over:b}=y;o(e.onDragCancel({active:_,over:b}))}}),[o,e])),!f)return null;const p=Xn.createElement(Xn.Fragment,null,Xn.createElement(Fk,{id:s,value:a.draggable}),Xn.createElement(Bk,{id:c,announcement:u}));return t?Cl.createPortal(p,t):p}var Es;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(Es||(Es={}));function xp(){}function Gv(n,e){return ne.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function Gk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return ne.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const fo=Object.freeze({x:0,y:0});function cw(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function uw(n,e){let{data:{value:t}}=n,{data:{value:s}}=e;return t-s}function Yk(n,e){let{data:{value:t}}=n,{data:{value:s}}=e;return s-t}function Yv(n){let{left:e,top:t,height:s,width:a}=n;return[{x:e,y:t},{x:e+a,y:t},{x:e,y:t+s},{x:e+a,y:t+s}]}function hw(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function $v(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const $k=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const a=$v(e,e.left,e.top),o=[];for(const u of s){const{id:c}=u,f=t.get(c);if(f){const d=cw($v(f),a);o.push({id:c,data:{droppableContainer:u,value:d}})}}return o.sort(uw)},Xk=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const a=Yv(e),o=[];for(const u of s){const{id:c}=u,f=t.get(c);if(f){const d=Yv(f),p=a.reduce((_,b,A)=>_+cw(d[A],b),0),y=Number((p/4).toFixed(4));o.push({id:c,data:{droppableContainer:u,value:y}})}}return o.sort(uw)};function Zk(n,e){const t=Math.max(e.top,n.top),s=Math.max(e.left,n.left),a=Math.min(e.left+e.width,n.left+n.width),o=Math.min(e.top+e.height,n.top+n.height),u=a-s,c=o-t;if(s<a&&t<o){const f=e.width*e.height,d=n.width*n.height,p=u*c,y=p/(f+d-p);return Number(y.toFixed(4))}return 0}const Qk=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const a=[];for(const o of s){const{id:u}=o,c=t.get(u);if(c){const f=Zk(c,e);f>0&&a.push({id:u,data:{droppableContainer:o,value:f}})}}return a.sort(Yk)};function Kk(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function fw(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:fo}function Jk(n){return function(t){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];return a.reduce((u,c)=>({...u,top:u.top+n*c.y,bottom:u.bottom+n*c.y,left:u.left+n*c.x,right:u.right+n*c.x}),{...t})}}const e7=Jk(1);function t7(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function n7(n,e,t){const s=t7(e);if(!s)return n;const{scaleX:a,scaleY:o,x:u,y:c}=s,f=n.left-u-(1-a)*parseFloat(t),d=n.top-c-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),p=a?n.width/a:n.width,y=o?n.height/o:n.height;return{width:p,height:y,top:d,right:f+p,bottom:d+y,left:f}}const r7={ignoreTransform:!1};function Kh(n,e){e===void 0&&(e=r7);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:p}=Wi(n).getComputedStyle(n);d&&(t=n7(t,d,p))}const{top:s,left:a,width:o,height:u,bottom:c,right:f}=t;return{top:s,left:a,width:o,height:u,bottom:c,right:f}}function Xv(n){return Kh(n,{ignoreTransform:!0})}function s7(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function i7(n,e){return e===void 0&&(e=Wi(n).getComputedStyle(n)),e.position==="fixed"}function a7(n,e){e===void 0&&(e=Wi(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?t.test(o):!1})}function Xp(n,e){const t=[];function s(a){if(e!=null&&t.length>=e||!a)return t;if(_2(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!Cd(a)||aw(a)||t.includes(a))return t;const o=Wi(n).getComputedStyle(a);return a!==n&&a7(a,o)&&t.push(a),i7(a,o)?t:s(a.parentNode)}return n?s(n):t}function dw(n){const[e]=Xp(n,1);return e??null}function wm(n){return!$p||!n?null:Zh(n)?n:w2(n)?_2(n)||n===Qh(n).scrollingElement?window:Cd(n)?n:null:null}function pw(n){return Zh(n)?n.scrollX:n.scrollLeft}function mw(n){return Zh(n)?n.scrollY:n.scrollTop}function dg(n){return{x:pw(n),y:mw(n)}}var Ps;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Ps||(Ps={}));function gw(n){return!$p||!n?!1:n===document.scrollingElement}function bw(n){const e={x:0,y:0},t=gw(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},s={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},a=n.scrollTop<=e.y,o=n.scrollLeft<=e.x,u=n.scrollTop>=s.y,c=n.scrollLeft>=s.x;return{isTop:a,isLeft:o,isBottom:u,isRight:c,maxScroll:s,minScroll:e}}const o7={x:.2,y:.2};function l7(n,e,t,s,a){let{top:o,left:u,right:c,bottom:f}=t;s===void 0&&(s=10),a===void 0&&(a=o7);const{isTop:d,isBottom:p,isLeft:y,isRight:_}=bw(n),b={x:0,y:0},A={x:0,y:0},N={height:e.height*a.y,width:e.width*a.x};return!d&&o<=e.top+N.height?(b.y=Ps.Backward,A.y=s*Math.abs((e.top+N.height-o)/N.height)):!p&&f>=e.bottom-N.height&&(b.y=Ps.Forward,A.y=s*Math.abs((e.bottom-N.height-f)/N.height)),!_&&c>=e.right-N.width?(b.x=Ps.Forward,A.x=s*Math.abs((e.right-N.width-c)/N.width)):!y&&u<=e.left+N.width&&(b.x=Ps.Backward,A.x=s*Math.abs((e.left+N.width-u)/N.width)),{direction:b,speed:A}}function c7(n){if(n===document.scrollingElement){const{innerWidth:o,innerHeight:u}=window;return{top:0,left:0,right:o,bottom:u,width:o,height:u}}const{top:e,left:t,right:s,bottom:a}=n.getBoundingClientRect();return{top:e,left:t,right:s,bottom:a,width:n.clientWidth,height:n.clientHeight}}function vw(n){return n.reduce((e,t)=>Ch(e,dg(t)),fo)}function u7(n){return n.reduce((e,t)=>e+pw(t),0)}function h7(n){return n.reduce((e,t)=>e+mw(t),0)}function f7(n,e){if(e===void 0&&(e=Kh),!n)return;const{top:t,left:s,bottom:a,right:o}=e(n);dw(n)&&(a<=0||o<=0||t>=window.innerHeight||s>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const d7=[["x",["left","right"],u7],["y",["top","bottom"],h7]];class A2{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Xp(t),a=vw(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,u,c]of d7)for(const f of u)Object.defineProperty(this,f,{get:()=>{const d=c(s),p=a[o]-d;return this.rect[f]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Xf{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...t)})},this.target=e}add(e,t,s){var a;(a=this.target)==null||a.addEventListener(e,t,s),this.listeners.push([e,t,s])}}function p7(n){const{EventTarget:e}=Wi(n);return n instanceof e?n:Qh(n)}function _m(n,e){const t=Math.abs(n.x),s=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+s**2)>e:"x"in e&&"y"in e?t>e.x&&s>e.y:"x"in e?t>e.x:"y"in e?s>e.y:!1}var ka;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(ka||(ka={}));function Zv(n){n.preventDefault()}function m7(n){n.stopPropagation()}var In;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(In||(In={}));const yw={start:[In.Space,In.Enter],cancel:[In.Esc],end:[In.Space,In.Enter,In.Tab]},g7=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case In.Right:return{...t,x:t.x+25};case In.Left:return{...t,x:t.x-25};case In.Down:return{...t,y:t.y+25};case In.Up:return{...t,y:t.y-25}}};class T2{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Xf(Qh(t)),this.windowListeners=new Xf(Wi(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ka.Resize,this.handleCancel),this.windowListeners.add(ka.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ka.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,s=e.node.current;s&&f7(s),t(fo)}handleKeyDown(e){if(N2(e)){const{active:t,context:s,options:a}=this.props,{keyboardCodes:o=yw,coordinateGetter:u=g7,scrollBehavior:c="smooth"}=a,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:d}=s.current,p=d?{x:d.left,y:d.top}:fo;this.referenceCoordinates||(this.referenceCoordinates=p);const y=u(e,{active:t,context:s.current,currentCoordinates:p});if(y){const _=cd(y,p),b={x:0,y:0},{scrollableAncestors:A}=s.current;for(const N of A){const k=e.code,{isTop:C,isRight:R,isLeft:D,isBottom:V,maxScroll:F,minScroll:G}=bw(N),H=c7(N),M={x:Math.min(k===In.Right?H.right-H.width/2:H.right,Math.max(k===In.Right?H.left:H.left+H.width/2,y.x)),y:Math.min(k===In.Down?H.bottom-H.height/2:H.bottom,Math.max(k===In.Down?H.top:H.top+H.height/2,y.y))},B=k===In.Right&&!R||k===In.Left&&!D,te=k===In.Down&&!V||k===In.Up&&!C;if(B&&M.x!==y.x){const E=N.scrollLeft+_.x,I=k===In.Right&&E<=F.x||k===In.Left&&E>=G.x;if(I&&!_.y){N.scrollTo({left:E,behavior:c});return}I?b.x=N.scrollLeft-E:b.x=k===In.Right?N.scrollLeft-F.x:N.scrollLeft-G.x,b.x&&N.scrollBy({left:-b.x,behavior:c});break}else if(te&&M.y!==y.y){const E=N.scrollTop+_.y,I=k===In.Down&&E<=F.y||k===In.Up&&E>=G.y;if(I&&!_.x){N.scrollTo({top:E,behavior:c});return}I?b.y=N.scrollTop-E:b.y=k===In.Down?N.scrollTop-F.y:N.scrollTop-G.y,b.y&&N.scrollBy({top:-b.y,behavior:c});break}}this.handleMove(e,Ch(cd(y,this.referenceCoordinates),b))}}}handleMove(e,t){const{onMove:s}=this.props;e.preventDefault(),s(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}T2.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:s=yw,onActivation:a}=e,{active:o}=t;const{code:u}=n.nativeEvent;if(s.start.includes(u)){const c=o.activatorNode.current;return c&&n.target!==c?!1:(n.preventDefault(),a?.({event:n.nativeEvent}),!0)}return!1}}];function Qv(n){return!!(n&&"distance"in n)}function Kv(n){return!!(n&&"delay"in n)}class C2{constructor(e,t,s){var a;s===void 0&&(s=p7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:u}=o;this.props=e,this.events=t,this.document=Qh(u),this.documentListeners=new Xf(this.document),this.listeners=new Xf(s),this.windowListeners=new Xf(Wi(u)),this.initialCoordinates=(a=fg(o))!=null?a:fo,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ka.Resize,this.handleCancel),this.windowListeners.add(ka.DragStart,Zv),this.windowListeners.add(ka.VisibilityChange,this.handleCancel),this.windowListeners.add(ka.ContextMenu,Zv),this.documentListeners.add(ka.Keydown,this.handleKeydown),t){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Kv(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Qv(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:s,onPending:a}=this.props;a(s,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ka.Click,m7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ka.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:s,initialCoordinates:a,props:o}=this,{onMove:u,options:{activationConstraint:c}}=o;if(!a)return;const f=(t=fg(e))!=null?t:fo,d=cd(a,f);if(!s&&c){if(Qv(c)){if(c.tolerance!=null&&_m(d,c.tolerance))return this.handleCancel();if(_m(d,c.distance))return this.handleStart()}if(Kv(c)&&_m(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),u(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===In.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const b7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class k2 extends C2{constructor(e){const{event:t}=e,s=Qh(t.target);super(e,b7,s)}}k2.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;return!t.isPrimary||t.button!==0?!1:(s?.({event:t}),!0)}}];const v7={move:{name:"mousemove"},end:{name:"mouseup"}};var pg;(function(n){n[n.RightClick=2]="RightClick"})(pg||(pg={}));class y7 extends C2{constructor(e){super(e,v7,Qh(e.event.target))}}y7.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;return t.button===pg.RightClick?!1:(s?.({event:t}),!0)}}];const Sm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class x7 extends C2{constructor(e){super(e,Sm)}static setup(){return window.addEventListener(Sm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Sm.move.name,e)};function e(){}}}x7.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;const{touches:a}=t;return a.length>1?!1:(s?.({event:t}),!0)}}];var Zf;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Zf||(Zf={}));var wp;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(wp||(wp={}));function w7(n){let{acceleration:e,activator:t=Zf.Pointer,canScroll:s,draggingRect:a,enabled:o,interval:u=5,order:c=wp.TreeOrder,pointerCoordinates:f,scrollableAncestors:d,scrollableAncestorRects:p,delta:y,threshold:_}=n;const b=S7({delta:y,disabled:!o}),[A,N]=Ok(),k=ne.useRef({x:0,y:0}),C=ne.useRef({x:0,y:0}),R=ne.useMemo(()=>{switch(t){case Zf.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Zf.DraggableRect:return a}},[t,a,f]),D=ne.useRef(null),V=ne.useCallback(()=>{const G=D.current;if(!G)return;const H=k.current.x*C.current.x,M=k.current.y*C.current.y;G.scrollBy(H,M)},[]),F=ne.useMemo(()=>c===wp.TreeOrder?[...d].reverse():d,[c,d]);ne.useEffect(()=>{if(!o||!d.length||!R){N();return}for(const G of F){if(s?.(G)===!1)continue;const H=d.indexOf(G),M=p[H];if(!M)continue;const{direction:B,speed:te}=l7(G,M,R,e,_);for(const E of["x","y"])b[E][B[E]]||(te[E]=0,B[E]=0);if(te.x>0||te.y>0){N(),D.current=G,A(V,u),k.current=te,C.current=B;return}}k.current={x:0,y:0},C.current={x:0,y:0},N()},[e,V,s,N,o,u,JSON.stringify(R),JSON.stringify(b),A,d,F,p,JSON.stringify(_)])}const _7={x:{[Ps.Backward]:!1,[Ps.Forward]:!1},y:{[Ps.Backward]:!1,[Ps.Forward]:!1}};function S7(n){let{delta:e,disabled:t}=n;const s=hg(e);return kd(a=>{if(t||!s||!a)return _7;const o={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Ps.Backward]:a.x[Ps.Backward]||o.x===-1,[Ps.Forward]:a.x[Ps.Forward]||o.x===1},y:{[Ps.Backward]:a.y[Ps.Backward]||o.y===-1,[Ps.Forward]:a.y[Ps.Forward]||o.y===1}}},[t,e,s])}function N7(n,e){const t=e!=null?n.get(e):void 0,s=t?t.node.current:null;return kd(a=>{var o;return e==null?null:(o=s??a)!=null?o:null},[s,e])}function A7(n,e){return ne.useMemo(()=>n.reduce((t,s)=>{const{sensor:a}=s,o=a.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,s)}));return[...t,...o]},[]),[n,e])}var hd;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(hd||(hd={}));var mg;(function(n){n.Optimized="optimized"})(mg||(mg={}));const Jv=new Map;function T7(n,e){let{dragging:t,dependencies:s,config:a}=e;const[o,u]=ne.useState(null),{frequency:c,measure:f,strategy:d}=a,p=ne.useRef(n),y=k(),_=ld(y),b=ne.useCallback(function(C){C===void 0&&(C=[]),!_.current&&u(R=>R===null?C:R.concat(C.filter(D=>!R.includes(D))))},[_]),A=ne.useRef(null),N=kd(C=>{if(y&&!t)return Jv;if(!C||C===Jv||p.current!==n||o!=null){const R=new Map;for(let D of n){if(!D)continue;if(o&&o.length>0&&!o.includes(D.id)&&D.rect.current){R.set(D.id,D.rect.current);continue}const V=D.node.current,F=V?new A2(f(V),V):null;D.rect.current=F,F&&R.set(D.id,F)}return R}return C},[n,o,t,y,f]);return ne.useEffect(()=>{p.current=n},[n]),ne.useEffect(()=>{y||b()},[t,y]),ne.useEffect(()=>{o&&o.length>0&&u(null)},[JSON.stringify(o)]),ne.useEffect(()=>{y||typeof c!="number"||A.current!==null||(A.current=setTimeout(()=>{b(),A.current=null},c))},[c,y,b,...s]),{droppableRects:N,measureDroppableContainers:b,measuringScheduled:o!=null};function k(){switch(d){case hd.Always:return!1;case hd.BeforeDragging:return t;default:return!t}}}function xw(n,e){return kd(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function C7(n,e){return xw(n,e)}function k7(n){let{callback:e,disabled:t}=n;const s=S2(e),a=ne.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(s)},[s,t]);return ne.useEffect(()=>()=>a?.disconnect(),[a]),a}function Zp(n){let{callback:e,disabled:t}=n;const s=S2(e),a=ne.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(s)},[t]);return ne.useEffect(()=>()=>a?.disconnect(),[a]),a}function j7(n){return new A2(Kh(n),n)}function ey(n,e,t){e===void 0&&(e=j7);const[s,a]=ne.useState(null);function o(){a(f=>{if(!n)return null;if(n.isConnected===!1){var d;return(d=f??t)!=null?d:null}const p=e(n);return JSON.stringify(f)===JSON.stringify(p)?f:p})}const u=k7({callback(f){if(n)for(const d of f){const{type:p,target:y}=d;if(p==="childList"&&y instanceof HTMLElement&&y.contains(n)){o();break}}}}),c=Zp({callback:o});return Ho(()=>{o(),n?(c?.observe(n),u?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),u?.disconnect())},[n]),s}function E7(n){const e=xw(n);return fw(n,e)}const ty=[];function M7(n){const e=ne.useRef(n),t=kd(s=>n?s&&s!==ty&&n&&e.current&&n.parentNode===e.current.parentNode?s:Xp(n):ty,[n]);return ne.useEffect(()=>{e.current=n},[n]),t}function L7(n){const[e,t]=ne.useState(null),s=ne.useRef(n),a=ne.useCallback(o=>{const u=wm(o.target);u&&t(c=>c?(c.set(u,dg(u)),new Map(c)):null)},[]);return ne.useEffect(()=>{const o=s.current;if(n!==o){u(o);const c=n.map(f=>{const d=wm(f);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,dg(d)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),s.current=n}return()=>{u(n),u(o)};function u(c){c.forEach(f=>{const d=wm(f);d?.removeEventListener("scroll",a)})}},[a,n]),ne.useMemo(()=>n.length?e?Array.from(e.values()).reduce((o,u)=>Ch(o,u),fo):vw(n):fo,[n,e])}function ny(n,e){e===void 0&&(e=[]);const t=ne.useRef(null);return ne.useEffect(()=>{t.current=null},e),ne.useEffect(()=>{const s=n!==fo;s&&!t.current&&(t.current=n),!s&&t.current&&(t.current=null)},[n]),t.current?cd(n,t.current):fo}function O7(n){ne.useEffect(()=>{if(!$p)return;const e=n.map(t=>{let{sensor:s}=t;return s.setup==null?void 0:s.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function D7(n,e){return ne.useMemo(()=>n.reduce((t,s)=>{let{eventName:a,handler:o}=s;return t[a]=u=>{o(u,e)},t},{}),[n,e])}function ww(n){return ne.useMemo(()=>n?s7(n):null,[n])}const ry=[];function R7(n,e){e===void 0&&(e=Kh);const[t]=n,s=ww(t?Wi(t):null),[a,o]=ne.useState(ry);function u(){o(()=>n.length?n.map(f=>gw(f)?s:new A2(e(f),f)):ry)}const c=Zp({callback:u});return Ho(()=>{c?.disconnect(),u(),n.forEach(f=>c?.observe(f))},[n]),a}function I7(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Cd(e)?e:n}function V7(n){let{measure:e}=n;const[t,s]=ne.useState(null),a=ne.useCallback(d=>{for(const{target:p}of d)if(Cd(p)){s(y=>{const _=e(p);return y?{...y,width:_.width,height:_.height}:_});break}},[e]),o=Zp({callback:a}),u=ne.useCallback(d=>{const p=I7(d);o?.disconnect(),p&&o?.observe(p),s(p?e(p):null)},[e,o]),[c,f]=yp(u);return ne.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const F7=[{sensor:k2,options:{}},{sensor:T2,options:{}}],B7={current:{}},H1={draggable:{measure:Xv},droppable:{measure:Xv,strategy:hd.WhileDragging,frequency:mg.Optimized},dragOverlay:{measure:Kh}};class Qf extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,s;return(t=(s=this.get(e))==null?void 0:s.node.current)!=null?t:void 0}}const z7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Qf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:xp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:H1,measureDroppableContainers:xp,windowRect:null,measuringScheduled:!1},P7={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:xp,draggableNodes:new Map,over:null,measureDroppableContainers:xp},Qp=ne.createContext(P7),_w=ne.createContext(z7);function q7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Qf}}}function U7(n,e){switch(e.type){case Es.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Es.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case Es.DragEnd:case Es.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Es.RegisterDroppable:{const{element:t}=e,{id:s}=t,a=new Qf(n.droppable.containers);return a.set(s,t),{...n,droppable:{...n.droppable,containers:a}}}case Es.SetDroppableDisabled:{const{id:t,key:s,disabled:a}=e,o=n.droppable.containers.get(t);if(!o||s!==o.key)return n;const u=new Qf(n.droppable.containers);return u.set(t,{...o,disabled:a}),{...n,droppable:{...n.droppable,containers:u}}}case Es.UnregisterDroppable:{const{id:t,key:s}=e,a=n.droppable.containers.get(t);if(!a||s!==a.key)return n;const o=new Qf(n.droppable.containers);return o.delete(t),{...n,droppable:{...n.droppable,containers:o}}}default:return n}}function H7(n){let{disabled:e}=n;const{active:t,activatorEvent:s,draggableNodes:a}=ne.useContext(Qp),o=hg(s),u=hg(t?.id);return ne.useEffect(()=>{if(!e&&!s&&o&&u!=null){if(!N2(o)||document.activeElement===o.target)return;const c=a.get(u);if(!c)return;const{activatorNode:f,node:d}=c;if(!f.current&&!d.current)return;requestAnimationFrame(()=>{for(const p of[f.current,d.current]){if(!p)continue;const y=Ik(p);if(y){y.focus();break}}})}},[s,e,a,u,o]),null}function W7(n,e){let{transform:t,...s}=e;return n!=null&&n.length?n.reduce((a,o)=>o({transform:a,...s}),t):t}function G7(n){return ne.useMemo(()=>({draggable:{...H1.draggable,...n?.draggable},droppable:{...H1.droppable,...n?.droppable},dragOverlay:{...H1.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function Y7(n){let{activeNode:e,measure:t,initialRect:s,config:a=!0}=n;const o=ne.useRef(!1),{x:u,y:c}=typeof a=="boolean"?{x:a,y:a}:a;Ho(()=>{if(!u&&!c||!e){o.current=!1;return}if(o.current||!s)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const p=t(d),y=fw(p,s);if(u||(y.x=0),c||(y.y=0),o.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const _=dw(d);_&&_.scrollBy({top:y.y,left:y.x})}},[e,u,c,s,t])}const Sw=ne.createContext({...fo,scaleX:1,scaleY:1});var xc;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(xc||(xc={}));const $7=ne.memo(function(e){var t,s,a,o;let{id:u,accessibility:c,autoScroll:f=!0,children:d,sensors:p=F7,collisionDetection:y=Qk,measuring:_,modifiers:b,...A}=e;const N=ne.useReducer(U7,void 0,q7),[k,C]=N,[R,D]=qk(),[V,F]=ne.useState(xc.Uninitialized),G=V===xc.Initialized,{draggable:{active:H,nodes:M,translate:B},droppable:{containers:te}}=k,E=H!=null?M.get(H):null,I=ne.useRef({initial:null,translated:null}),re=ne.useMemo(()=>{var vt;return H!=null?{id:H,data:(vt=E?.data)!=null?vt:B7,rect:I}:null},[H,E]),U=ne.useRef(null),[oe,Y]=ne.useState(null),[J,le]=ne.useState(null),pe=ld(A,Object.values(A)),be=jd("DndDescribedBy",u),W=ne.useMemo(()=>te.getEnabled(),[te]),j=G7(_),{droppableRects:$,measureDroppableContainers:X,measuringScheduled:K}=T7(W,{dragging:G,dependencies:[B.x,B.y],config:j.droppable}),ae=N7(M,H),de=ne.useMemo(()=>J?fg(J):null,[J]),fe=xn(),xe=C7(ae,j.draggable.measure);Y7({activeNode:H!=null?M.get(H):null,config:fe.layoutShiftCompensation,initialRect:xe,measure:j.draggable.measure});const we=ey(ae,j.draggable.measure,xe),Ie=ey(ae?ae.parentElement:null),$e=ne.useRef({activatorEvent:null,active:null,activeNode:ae,collisionRect:null,collisions:null,droppableRects:$,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:te,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Je=te.getNodeFor((t=$e.current.over)==null?void 0:t.id),ct=V7({measure:j.dragOverlay.measure}),z=(s=ct.nodeRef.current)!=null?s:ae,Ne=G?(a=ct.rect)!=null?a:we:null,rt=!!(ct.nodeRef.current&&ct.rect),qe=E7(rt?null:we),Ee=ww(z?Wi(z):null),Ke=M7(G?Je??ae:null),We=R7(Ke),lt=W7(b,{transform:{x:B.x-qe.x,y:B.y-qe.y,scaleX:1,scaleY:1},activatorEvent:J,active:re,activeNodeRect:we,containerNodeRect:Ie,draggingNodeRect:Ne,over:$e.current.over,overlayNodeRect:ct.rect,scrollableAncestors:Ke,scrollableAncestorRects:We,windowRect:Ee}),at=de?Ch(de,B):null,ze=L7(Ke),st=ny(ze),et=ny(ze,[we]),ut=Ch(lt,st),xt=Ne?e7(Ne,lt):null,dt=re&&xt?y({active:re,collisionRect:xt,droppableRects:$,droppableContainers:W,pointerCoordinates:at}):null,yt=hw(dt,"id"),[ht,bn]=ne.useState(null),Ht=rt?lt:Ch(lt,et),Tt=Kk(Ht,(o=ht?.rect)!=null?o:null,we),St=ne.useRef(null),At=ne.useCallback((vt,_e)=>{let{sensor:it,options:Vt}=_e;if(U.current==null)return;const Ae=M.get(U.current);if(!Ae)return;const ft=vt.nativeEvent,pt=new it({active:U.current,activeNode:Ae,event:ft,options:Vt,context:$e,onAbort(Nt){if(!M.get(Nt))return;const{onDragAbort:vn}=pe.current,Nn={id:Nt};vn?.(Nn),R({type:"onDragAbort",event:Nn})},onPending(Nt,ln,vn,Nn){if(!M.get(Nt))return;const{onDragPending:nn}=pe.current,pn={id:Nt,constraint:ln,initialCoordinates:vn,offset:Nn};nn?.(pn),R({type:"onDragPending",event:pn})},onStart(Nt){const ln=U.current;if(ln==null)return;const vn=M.get(ln);if(!vn)return;const{onDragStart:Nn}=pe.current,Wt={activatorEvent:ft,active:{id:ln,data:vn.data,rect:I}};Cl.unstable_batchedUpdates(()=>{Nn?.(Wt),F(xc.Initializing),C({type:Es.DragStart,initialCoordinates:Nt,active:ln}),R({type:"onDragStart",event:Wt}),Y(St.current),le(ft)})},onMove(Nt){C({type:Es.DragMove,coordinates:Nt})},onEnd:nt(Es.DragEnd),onCancel:nt(Es.DragCancel)});St.current=pt;function nt(Nt){return async function(){const{active:vn,collisions:Nn,over:Wt,scrollAdjustedTranslate:nn}=$e.current;let pn=null;if(vn&&nn){const{cancelDrop:cr}=pe.current;pn={activatorEvent:ft,active:vn,collisions:Nn,delta:nn,over:Wt},Nt===Es.DragEnd&&typeof cr=="function"&&await Promise.resolve(cr(pn))&&(Nt=Es.DragCancel)}U.current=null,Cl.unstable_batchedUpdates(()=>{C({type:Nt}),F(xc.Uninitialized),bn(null),Y(null),le(null),St.current=null;const cr=Nt===Es.DragEnd?"onDragEnd":"onDragCancel";if(pn){const _n=pe.current[cr];_n?.(pn),R({type:cr,event:pn})}})}}},[M]),bt=ne.useCallback((vt,_e)=>(it,Vt)=>{const Ae=it.nativeEvent,ft=M.get(Vt);if(U.current!==null||!ft||Ae.dndKit||Ae.defaultPrevented)return;const pt={active:ft};vt(it,_e.options,pt)===!0&&(Ae.dndKit={capturedBy:_e.sensor},U.current=Vt,At(it,_e))},[M,At]),on=A7(p,bt);O7(p),Ho(()=>{we&&V===xc.Initializing&&F(xc.Initialized)},[we,V]),ne.useEffect(()=>{const{onDragMove:vt}=pe.current,{active:_e,activatorEvent:it,collisions:Vt,over:Ae}=$e.current;if(!_e||!it)return;const ft={active:_e,activatorEvent:it,collisions:Vt,delta:{x:ut.x,y:ut.y},over:Ae};Cl.unstable_batchedUpdates(()=>{vt?.(ft),R({type:"onDragMove",event:ft})})},[ut.x,ut.y]),ne.useEffect(()=>{const{active:vt,activatorEvent:_e,collisions:it,droppableContainers:Vt,scrollAdjustedTranslate:Ae}=$e.current;if(!vt||U.current==null||!_e||!Ae)return;const{onDragOver:ft}=pe.current,pt=Vt.get(yt),nt=pt&&pt.rect.current?{id:pt.id,rect:pt.rect.current,data:pt.data,disabled:pt.disabled}:null,Nt={active:vt,activatorEvent:_e,collisions:it,delta:{x:Ae.x,y:Ae.y},over:nt};Cl.unstable_batchedUpdates(()=>{bn(nt),ft?.(Nt),R({type:"onDragOver",event:Nt})})},[yt]),Ho(()=>{$e.current={activatorEvent:J,active:re,activeNode:ae,collisionRect:xt,collisions:dt,droppableRects:$,draggableNodes:M,draggingNode:z,draggingNodeRect:Ne,droppableContainers:te,over:ht,scrollableAncestors:Ke,scrollAdjustedTranslate:ut},I.current={initial:Ne,translated:xt}},[re,ae,dt,xt,M,z,Ne,$,te,ht,Ke,ut]),w7({...fe,delta:B,draggingRect:xt,pointerCoordinates:at,scrollableAncestors:Ke,scrollableAncestorRects:We});const Mt=ne.useMemo(()=>({active:re,activeNode:ae,activeNodeRect:we,activatorEvent:J,collisions:dt,containerNodeRect:Ie,dragOverlay:ct,draggableNodes:M,droppableContainers:te,droppableRects:$,over:ht,measureDroppableContainers:X,scrollableAncestors:Ke,scrollableAncestorRects:We,measuringConfiguration:j,measuringScheduled:K,windowRect:Ee}),[re,ae,we,J,dt,Ie,ct,M,te,$,ht,X,Ke,We,j,K,Ee]),Dt=ne.useMemo(()=>({activatorEvent:J,activators:on,active:re,activeNodeRect:we,ariaDescribedById:{draggable:be},dispatch:C,draggableNodes:M,over:ht,measureDroppableContainers:X}),[J,on,re,we,C,be,M,ht,X]);return Xn.createElement(lw.Provider,{value:D},Xn.createElement(Qp.Provider,{value:Dt},Xn.createElement(_w.Provider,{value:Mt},Xn.createElement(Sw.Provider,{value:Tt},d)),Xn.createElement(H7,{disabled:c?.restoreFocus===!1})),Xn.createElement(Wk,{...c,hiddenTextDescribedById:be}));function xn(){const vt=oe?.autoScrollEnabled===!1,_e=typeof f=="object"?f.enabled===!1:f===!1,it=G&&!vt&&!_e;return typeof f=="object"?{...f,enabled:it}:{enabled:it}}}),X7=ne.createContext(null),sy="button",Z7="Draggable";function Q7(n){let{id:e,data:t,disabled:s=!1,attributes:a}=n;const o=jd(Z7),{activators:u,activatorEvent:c,active:f,activeNodeRect:d,ariaDescribedById:p,draggableNodes:y,over:_}=ne.useContext(Qp),{role:b=sy,roleDescription:A="draggable",tabIndex:N=0}=a??{},k=f?.id===e,C=ne.useContext(k?Sw:X7),[R,D]=yp(),[V,F]=yp(),G=D7(u,e),H=ld(t);Ho(()=>(y.set(e,{id:e,key:o,node:R,activatorNode:V,data:H}),()=>{const B=y.get(e);B&&B.key===o&&y.delete(e)}),[y,e]);const M=ne.useMemo(()=>({role:b,tabIndex:N,"aria-disabled":s,"aria-pressed":k&&b===sy?!0:void 0,"aria-roledescription":A,"aria-describedby":p.draggable}),[s,b,N,k,A,p.draggable]);return{active:f,activatorEvent:c,activeNodeRect:d,attributes:M,isDragging:k,listeners:s?void 0:G,node:R,over:_,setNodeRef:D,setActivatorNodeRef:F,transform:C}}function K7(){return ne.useContext(_w)}const J7="Droppable",ej={timeout:25};function tj(n){let{data:e,disabled:t=!1,id:s,resizeObserverConfig:a}=n;const o=jd(J7),{active:u,dispatch:c,over:f,measureDroppableContainers:d}=ne.useContext(Qp),p=ne.useRef({disabled:t}),y=ne.useRef(!1),_=ne.useRef(null),b=ne.useRef(null),{disabled:A,updateMeasurementsFor:N,timeout:k}={...ej,...a},C=ld(N??s),R=ne.useCallback(()=>{if(!y.current){y.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{d(Array.isArray(C.current)?C.current:[C.current]),b.current=null},k)},[k]),D=Zp({callback:R,disabled:A||!u}),V=ne.useCallback((M,B)=>{D&&(B&&(D.unobserve(B),y.current=!1),M&&D.observe(M))},[D]),[F,G]=yp(V),H=ld(e);return ne.useEffect(()=>{!D||!F.current||(D.disconnect(),y.current=!1,D.observe(F.current))},[F,D]),ne.useEffect(()=>(c({type:Es.RegisterDroppable,element:{id:s,key:o,disabled:t,node:F,rect:_,data:H}}),()=>c({type:Es.UnregisterDroppable,key:o,id:s})),[s]),ne.useEffect(()=>{t!==p.current.disabled&&(c({type:Es.SetDroppableDisabled,id:s,key:o,disabled:t}),p.current.disabled=t)},[s,o,t,c]),{active:u,rect:_,isOver:f?.id===s,node:F,over:f,setNodeRef:G}}function j2(n,e,t){const s=n.slice();return s.splice(t<0?s.length+t:t,0,s.splice(e,1)[0]),s}function nj(n,e){return n.reduce((t,s,a)=>{const o=e.get(s);return o&&(t[a]=o),t},Array(n.length))}function j1(n){return n!==null&&n>=0}function rj(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function sj(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const E1={scaleX:1,scaleY:1},ij=n=>{var e;let{rects:t,activeNodeRect:s,activeIndex:a,overIndex:o,index:u}=n;const c=(e=t[a])!=null?e:s;if(!c)return null;const f=aj(t,u,a);if(u===a){const d=t[o];return d?{x:a<o?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...E1}:null}return u>a&&u<=o?{x:-c.width-f,y:0,...E1}:u<a&&u>=o?{x:c.width+f,y:0,...E1}:{x:0,y:0,...E1}};function aj(n,e,t){const s=n[e],a=n[e-1],o=n[e+1];return!s||!a&&!o?0:t<e?a?s.left-(a.left+a.width):o.left-(s.left+s.width):o?o.left-(s.left+s.width):s.left-(a.left+a.width)}const Nw=n=>{let{rects:e,activeIndex:t,overIndex:s,index:a}=n;const o=j2(e,s,t),u=e[a],c=o[a];return!c||!u?null:{x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height}},Aw="Sortable",Tw=Xn.createContext({activeIndex:-1,containerId:Aw,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Nw,disabled:{draggable:!1,droppable:!1}});function oj(n){let{children:e,id:t,items:s,strategy:a=Nw,disabled:o=!1}=n;const{active:u,dragOverlay:c,droppableRects:f,over:d,measureDroppableContainers:p}=K7(),y=jd(Aw,t),_=c.rect!==null,b=ne.useMemo(()=>s.map(G=>typeof G=="object"&&"id"in G?G.id:G),[s]),A=u!=null,N=u?b.indexOf(u.id):-1,k=d?b.indexOf(d.id):-1,C=ne.useRef(b),R=!rj(b,C.current),D=k!==-1&&N===-1||R,V=sj(o);Ho(()=>{R&&A&&p(b)},[R,b,A,p]),ne.useEffect(()=>{C.current=b},[b]);const F=ne.useMemo(()=>({activeIndex:N,containerId:y,disabled:V,disableTransforms:D,items:b,overIndex:k,useDragOverlay:_,sortedRects:nj(b,f),strategy:a}),[N,y,V.draggable,V.droppable,D,b,k,f,_,a]);return Xn.createElement(Tw.Provider,{value:F},e)}const lj=n=>{let{id:e,items:t,activeIndex:s,overIndex:a}=n;return j2(t,s,a).indexOf(e)},cj=n=>{let{containerId:e,isSorting:t,wasDragging:s,index:a,items:o,newIndex:u,previousItems:c,previousContainerId:f,transition:d}=n;return!d||!s||c!==o&&a===u?!1:t?!0:u!==a&&e===f},uj={duration:200,easing:"ease"},Cw="transform",hj=ud.Transition.toString({property:Cw,duration:0,easing:"linear"}),fj={roleDescription:"sortable"};function dj(n){let{disabled:e,index:t,node:s,rect:a}=n;const[o,u]=ne.useState(null),c=ne.useRef(t);return Ho(()=>{if(!e&&t!==c.current&&s.current){const f=a.current;if(f){const d=Kh(s.current,{ignoreTransform:!0}),p={x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height};(p.x||p.y)&&u(p)}}t!==c.current&&(c.current=t)},[e,t,s,a]),ne.useEffect(()=>{o&&u(null)},[o]),o}function pj(n){let{animateLayoutChanges:e=cj,attributes:t,disabled:s,data:a,getNewIndex:o=lj,id:u,strategy:c,resizeObserverConfig:f,transition:d=uj}=n;const{items:p,containerId:y,activeIndex:_,disabled:b,disableTransforms:A,sortedRects:N,overIndex:k,useDragOverlay:C,strategy:R}=ne.useContext(Tw),D=mj(s,b),V=p.indexOf(u),F=ne.useMemo(()=>({sortable:{containerId:y,index:V,items:p},...a}),[y,a,V,p]),G=ne.useMemo(()=>p.slice(p.indexOf(u)),[p,u]),{rect:H,node:M,isOver:B,setNodeRef:te}=tj({id:u,data:F,disabled:D.droppable,resizeObserverConfig:{updateMeasurementsFor:G,...f}}),{active:E,activatorEvent:I,activeNodeRect:re,attributes:U,setNodeRef:oe,listeners:Y,isDragging:J,over:le,setActivatorNodeRef:pe,transform:be}=Q7({id:u,data:F,attributes:{...fj,...t},disabled:D.draggable}),W=Lk(te,oe),j=!!E,$=j&&!A&&j1(_)&&j1(k),X=!C&&J,K=X&&$?be:null,de=$?K??(c??R)({rects:N,activeNodeRect:re,activeIndex:_,overIndex:k,index:V}):null,fe=j1(_)&&j1(k)?o({id:u,items:p,activeIndex:_,overIndex:k}):V,xe=E?.id,we=ne.useRef({activeId:xe,items:p,newIndex:fe,containerId:y}),Ie=p!==we.current.items,$e=e({active:E,containerId:y,isDragging:J,isSorting:j,id:u,index:V,items:p,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:d,wasDragging:we.current.activeId!=null}),Je=dj({disabled:!$e,index:V,node:M,rect:H});return ne.useEffect(()=>{j&&we.current.newIndex!==fe&&(we.current.newIndex=fe),y!==we.current.containerId&&(we.current.containerId=y),p!==we.current.items&&(we.current.items=p)},[j,fe,y,p]),ne.useEffect(()=>{if(xe===we.current.activeId)return;if(xe!=null&&we.current.activeId==null){we.current.activeId=xe;return}const z=setTimeout(()=>{we.current.activeId=xe},50);return()=>clearTimeout(z)},[xe]),{active:E,activeIndex:_,attributes:U,data:F,rect:H,index:V,newIndex:fe,items:p,isOver:B,isSorting:j,isDragging:J,listeners:Y,node:M,overIndex:k,over:le,setNodeRef:W,setActivatorNodeRef:pe,setDroppableNodeRef:te,setDraggableNodeRef:oe,transform:Je??de,transition:ct()};function ct(){if(Je||Ie&&we.current.newIndex===V)return hj;if(!(X&&!N2(I)||!d)&&(j||$e))return ud.Transition.toString({...d,property:Cw})}}function mj(n,e){var t,s;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(s=n?.droppable)!=null?s:e.droppable}}function _p(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const gj=[In.Down,In.Right,In.Up,In.Left],bj=(n,e)=>{let{context:{active:t,collisionRect:s,droppableRects:a,droppableContainers:o,over:u,scrollableAncestors:c}}=e;if(gj.includes(n.code)){if(n.preventDefault(),!t||!s)return;const f=[];o.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const _=a.get(y.id);if(_)switch(n.code){case In.Down:s.top<_.top&&f.push(y);break;case In.Up:s.top>_.top&&f.push(y);break;case In.Left:s.left>_.left&&f.push(y);break;case In.Right:s.left<_.left&&f.push(y);break}});const d=Xk({collisionRect:s,droppableRects:a,droppableContainers:f});let p=hw(d,"id");if(p===u?.id&&d.length>1&&(p=d[1].id),p!=null){const y=o.get(t.id),_=o.get(p),b=_?a.get(_.id):null,A=_?.node.current;if(A&&b&&y&&_){const k=Xp(A).some((G,H)=>c[H]!==G),C=kw(y,_),R=vj(y,_),D=k||!C?{x:0,y:0}:{x:R?s.width-b.width:0,y:R?s.height-b.height:0},V={x:b.left,y:b.top};return D.x&&D.y?V:cd(V,D)}}}};function kw(n,e){return!_p(n)||!_p(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function vj(n,e){return!_p(n)||!_p(e)||!kw(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}const yj={intro:{bg:"bg-purple-500/10",headers:"bg-purple-500/30 text-purple-100",border:"border-purple-500/30",accent:"bg-purple-500"},verse:{bg:"bg-blue-500/10",headers:"bg-blue-500/30 text-blue-100",border:"border-blue-500/30",accent:"bg-blue-500"},"pre-chorus":{bg:"bg-cyan-500/10",headers:"bg-cyan-500/30 text-cyan-100",border:"border-cyan-500/30",accent:"bg-cyan-500"},chorus:{bg:"bg-amber-500/10",headers:"bg-amber-500/30 text-amber-100",border:"border-amber-500/30",accent:"bg-amber-500"},bridge:{bg:"bg-emerald-500/10",headers:"bg-emerald-500/30 text-emerald-100",border:"border-emerald-500/30",accent:"bg-emerald-500"},interlude:{bg:"bg-teal-500/10",headers:"bg-teal-500/30 text-teal-100",border:"border-teal-500/30",accent:"bg-teal-500"},solo:{bg:"bg-orange-500/10",headers:"bg-orange-500/30 text-orange-100",border:"border-orange-500/30",accent:"bg-orange-500"},breakdown:{bg:"bg-red-500/10",headers:"bg-red-500/30 text-red-100",border:"border-red-500/30",accent:"bg-red-500"},tag:{bg:"bg-pink-500/10",headers:"bg-pink-500/30 text-pink-100",border:"border-pink-500/30",accent:"bg-pink-500"},hook:{bg:"bg-yellow-500/10",headers:"bg-yellow-500/30 text-yellow-100",border:"border-yellow-500/30",accent:"bg-yellow-500"},outro:{bg:"bg-rose-500/10",headers:"bg-rose-500/30 text-rose-100",border:"border-rose-500/30",accent:"bg-rose-500"}},xj=60,iy=.35,wj={bg:"bg-slate-500/10",headers:"bg-slate-500/30 text-slate-100",border:"border-slate-500/30",accent:"bg-slate-500"},_j=({section:n,allSections:e,onSelectBeat:t,onBeatTap:s,onEmptySlotTap:a,isActive:o,playingSlotId:u,selectedBeatId:c,chordColors:f,measureWidth:d,isCompact:p})=>{const{attributes:y,listeners:_,setNodeRef:b,transform:A,transition:N,isDragging:k}=pj({id:n.id}),C={transform:ud.Transform.toString(A),transition:N},R=yj[n.type]||wj,D=n.measures,V=$f(n,e),G=Math.max(p?40:100,D.length*d),H=p?60:140;return p?v.jsxs("div",{ref:b,"data-section-id":n.id,style:{...C,width:G,height:H},className:Ut("relative flex flex-col rounded-lg overflow-hidden shrink-0 transition-all border cursor-pointer",R.bg,R.border,k?"opacity-50 z-50 ring-2 ring-accent-primary":"hover:border-opacity-70 hover:scale-[1.02]",o?"ring-2 ring-white/30":""),onClick:()=>t(n.id,n.measures[0]?.beats[0]?.id),...y,..._,children:[v.jsx("div",{className:Ut("h-1.5 w-full",R.accent)}),v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-1 py-1",children:[v.jsx("span",{className:"font-bold uppercase tracking-wide text-center leading-tight text-sm",children:n.type.charAt(0).toUpperCase()}),v.jsxs("span",{className:"text-[8px] font-mono text-white/40 mt-0.5",children:[D.length,"b"]})]})]}):v.jsxs("div",{ref:b,"data-section-id":n.id,style:{...C,width:G,height:H},className:Ut("relative flex flex-col pt-8 pb-2 rounded-xl overflow-hidden shrink-0 transition-all border group",R.bg,R.border,k?"opacity-50 z-50 ring-2 ring-accent-primary":"hover:border-opacity-50",o?"ring-2 ring-white/20":""),children:[v.jsxs("div",{className:Ut("absolute top-0 left-0 right-0 h-8 flex items-center justify-between px-3 select-none border-b border-white/5",R.headers,"cursor-grab active:cursor-grabbing"),...y,..._,children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(z3,{size:14,className:"opacity-50"}),v.jsx("span",{className:"font-bold text-xs uppercase tracking-wider truncate max-w-[100px]",children:V})]}),d>=70&&v.jsx("div",{className:"flex items-center gap-2 text-[10px] font-mono opacity-80",children:v.jsxs("span",{children:[D.length," bars"]})})]}),v.jsx("div",{className:"flex-1 flex px-2 pt-2 gap-1 overflow-hidden",children:D.map((M,B)=>v.jsxs("div",{className:"flex-1 min-w-[32px] h-full flex flex-col gap-1",children:[v.jsxs("div",{className:"h-4 flex items-end justify-between px-0.5 border-b border-white/10 pb-0.5",children:[v.jsx("span",{className:"text-[9px] font-mono text-white/30",children:B+1}),v.jsx("div",{className:"flex gap-0.5",children:M.beats.map((te,E)=>v.jsx("div",{className:"w-0.5 h-1.5 bg-white/20 rounded-full"},E))})]}),(()=>{const te=M.beats.filter(I=>I.chord),E=te.length;if(E===0){const I=M.beats[0];return v.jsx("div",{className:"flex-1 rounded-sm bg-white/5 border border-dashed border-white/10 flex items-center justify-center cursor-pointer hover:bg-white/10 hover:border-white/20 transition-colors",onClick:re=>{re.stopPropagation(),I&&a(n.id,I.id)},title:"Tap to select this slot",children:v.jsx("span",{className:"text-[10px] text-white/20",children:"+"})})}return v.jsx("div",{className:"flex gap-0.5 flex-1 items-stretch",children:te.map(I=>{const re=f[I.chord.root]||"#666",U=E<=2?"10px":E<=4?"8px":"7px",oe=E<=2?"0 4px":"0 2px",Y=c===I.id,J=u===I.id;return v.jsx("div",{onClick:le=>{le.stopPropagation(),s(n.id,I.id,I.chord)},className:Ut("flex-1 min-w-0 rounded-sm flex items-center justify-center font-bold shadow-sm truncate transition-all cursor-pointer",J?"ring-2 ring-green-500 shadow-[0_0_12px_rgba(34,197,94,0.6)] scale-110 z-10":Y?"ring-2 ring-accent-primary shadow-[0_0_12px_rgba(99,102,241,0.5)] scale-105 z-10":"hover:ring-1 hover:ring-white/30 hover:scale-105"),style:{backgroundColor:J?"rgba(34, 197, 94, 0.15)":Y?"rgba(99, 102, 241, 0.15)":"rgba(0, 0, 0, 0.3)",border:`2px solid ${J?"#22c55e":Y?"#6366f1":re}`,color:J?"#4ade80":Y?"#a5b4fc":re,fontSize:U,padding:oe,minHeight:"24px"},title:Y?`Tap again to go to ${I.chord.symbol}`:`Tap to select ${I.chord.symbol}`,children:ar(I.chord.symbol)},I.id)})})})()]},M.id))}),v.jsx("div",{className:"absolute inset-0 top-8 bg-black/0 hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 hover:opacity-100 pointer-events-none",children:v.jsx("span",{className:"text-[10px] uppercase font-bold tracking-widest text-white/80 bg-black/50 px-2 py-1 rounded backdrop-blur-sm",children:"Go to Section"})})]})},Sj=({displayChord:n,chordColors:e,isPlaying:t,selectedMapBeatId:s})=>{const{isMobile:a,isLandscape:o}=Xh();if(!n)return null;const u=e[n.root]||"#6366f1";return a&&o?v.jsx("div",{className:"absolute top-2 right-2 z-20",onClick:c=>c.stopPropagation(),children:v.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg backdrop-blur-md cursor-pointer group",style:{background:"rgba(17,17,22,0.95)",border:`1.5px solid ${u}`,boxShadow:`0 2px 12px ${u}40`},onClick:()=>{n.notes&&Wr(n.notes)},children:[v.jsx("span",{className:"text-sm font-bold",style:{color:u},children:ar(n.symbol||`${n.root}${n.quality==="maj"?"":n.quality}`)}),n.numeral&&v.jsx("span",{className:"text-[10px] font-serif italic text-white/40",children:ar(n.numeral)}),t&&s&&v.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-ping"})]})}):a?v.jsx("div",{className:"shrink-0 px-3 py-2",style:{background:"linear-gradient(180deg, rgba(26,26,36,0.98) 0%, rgba(17,17,22,0.98) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 -4px 20px rgba(0,0,0,0.3)"},onClick:c=>c.stopPropagation(),children:v.jsxs("div",{className:"flex items-center justify-center gap-3 max-w-sm mx-auto",children:[v.jsxs("div",{className:"flex flex-col items-center cursor-pointer group shrink-0",onClick:()=>{n.notes&&Wr(n.notes)},children:[v.jsx("div",{className:"relative px-3 py-1.5 rounded-lg transition-all group-hover:scale-105 group-active:scale-95",style:{background:`linear-gradient(135deg, ${u}15, ${u}05)`,border:`1.5px solid ${u}`,boxShadow:`0 0 12px ${u}30`},children:v.jsx("span",{className:"text-base font-bold",style:{color:u},children:ar(n.symbol||`${n.root}${n.quality==="maj"?"":n.quality}`)})}),n.numeral&&v.jsx("span",{className:"text-[10px] font-serif italic text-white/40 mt-1",children:ar(n.numeral)}),t&&s&&v.jsxs("span",{className:"text-[8px] text-green-400 mt-0.5 animate-pulse flex items-center gap-1",children:[v.jsx("span",{className:"w-1 h-1 rounded-full bg-green-400 animate-ping"}),"Playing"]})]}),v.jsx("div",{className:"w-px h-10 bg-gradient-to-b from-transparent via-white/10 to-transparent"}),v.jsx("div",{className:"flex-shrink-0 overflow-hidden",style:{width:"140px",transform:"scale(0.85)",transformOrigin:"center"},children:v.jsx(lg,{highlightedNotes:n.notes||[],rootNote:n.root,color:u,octave:4})}),v.jsx("div",{className:"w-px h-10 bg-gradient-to-b from-transparent via-white/10 to-transparent"}),v.jsx("div",{className:"flex flex-col items-center cursor-pointer group shrink-0",onClick:()=>{n.notes&&Wr(n.notes)},children:v.jsx("div",{className:"transform scale-50 origin-top group-hover:scale-55 transition-transform",style:{marginTop:"-8px",marginBottom:"-50px"},children:v.jsx(cg,{root:n.root,quality:n.quality,color:u})})})]})}):v.jsx("div",{className:"shrink-0 px-4 py-3",style:{background:"linear-gradient(180deg, rgba(26,26,36,0.98) 0%, rgba(17,17,22,0.98) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 -4px 20px rgba(0,0,0,0.3)"},onClick:c=>c.stopPropagation(),children:v.jsxs("div",{className:"flex items-center justify-center gap-6 max-w-xl mx-auto",children:[v.jsxs("div",{className:"flex flex-col items-center cursor-pointer group",onClick:()=>{n.notes&&Wr(n.notes)},children:[v.jsx("div",{className:"relative px-4 py-2 rounded-xl transition-all group-hover:scale-105 group-active:scale-95",style:{background:`linear-gradient(135deg, ${u}15, ${u}05)`,border:`2px solid ${u}`,boxShadow:`0 0 20px ${u}30`},children:v.jsx("span",{className:"text-xl font-bold",style:{color:u},children:ar(n.symbol||`${n.root}${n.quality==="maj"?"":n.quality}`)})}),n.numeral&&v.jsx("span",{className:"text-xs font-serif italic text-white/40 mt-1.5",children:ar(n.numeral)}),t&&s&&v.jsxs("span",{className:"text-[9px] text-green-400 mt-1 animate-pulse flex items-center gap-1",children:[v.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-ping"}),"Now Playing"]})]}),v.jsx("div",{className:"w-px h-16 bg-gradient-to-b from-transparent via-white/10 to-transparent"}),v.jsx("div",{className:"flex-shrink-0",style:{width:"200px"},children:v.jsx(lg,{highlightedNotes:n.notes||[],rootNote:n.root,color:u,octave:4})}),v.jsx("div",{className:"w-px h-16 bg-gradient-to-b from-transparent via-white/10 to-transparent"}),v.jsx("div",{className:"flex flex-col items-center cursor-pointer group shrink-0",onClick:()=>{n.notes&&Wr(n.notes)},children:v.jsx("div",{className:"transform scale-75 origin-top group-hover:scale-80 transition-transform",style:{marginTop:"-8px",marginBottom:"-20px"},children:v.jsx(cg,{root:n.root,quality:n.quality,color:u})})})]})})},Nj=()=>{const{currentSong:n,songMapVisible:e,toggleSongMap:t,toggleSongInfoModal:s,setSelectedSlot:a,reorderSections:o,isPlaying:u,tempo:c,setTempo:f,playingSectionId:d,openTimeline:p}=sn(),[y,_]=ne.useState(!1),[b,A]=ne.useState(c.toString()),N=ne.useRef(null),[k,C]=ne.useState(!1),R=ne.useRef(null),D=ne.useRef(c),V=ne.useRef(null),F=()=>{A(c.toString()),_(!0),setTimeout(()=>N.current?.focus(),0)},G=()=>{const z=parseInt(b,10);!isNaN(z)&&z>=40&&z<=240?f(z):A(c.toString()),_(!1)},H=z=>{z.key==="Enter"?G():z.key==="Escape"&&(A(c.toString()),_(!1))},M=z=>{R.current=z.touches[0].clientX,D.current=c,C(!1),V.current=setTimeout(()=>{V.current=null},150)},B=z=>{if(R.current===null)return;const rt=z.touches[0].clientX-R.current;if(Math.abs(rt)>10){C(!0),V.current&&(clearTimeout(V.current),V.current=null);const qe=Math.round(rt/3),Ee=Math.min(240,Math.max(40,D.current+qe));f(Ee)}},te=()=>{!k&&V.current&&(clearTimeout(V.current),F()),R.current=null,C(!1),V.current=null},[E,I]=ne.useState(1),re=ne.useRef(null),[U,oe]=ne.useState(null),[Y,J]=ne.useState(null),[le,pe]=ne.useState(null),[be,W]=ne.useState(null);ne.useEffect(()=>{if(!u)return;const z=()=>{const{playingSectionId:rt,playingSlotId:qe}=sn.getState();if(rt&&qe){const Ee=n.sections.find(Ke=>Ke.id===rt);if(Ee)for(const Ke of Ee.measures){const We=Ke.beats.find(lt=>lt.id===qe);if(We?.chord){W(We.chord),oe(We.chord),J(qe),pe(rt);return}}}};z();const Ne=setInterval(z,100);return()=>clearInterval(Ne)},[u,n.sections]),ne.useEffect(()=>{!u&&U&&W(U)},[u,U]);const j=pd(),$=n.sections.reduce((z,Ne)=>z+Ne.measures.length,0),K=n.sections.reduce((z,Ne)=>{const qe=(Ne.timeSignature||n.timeSignature)[0];return z+Ne.measures.length*qe},0)/c*60,ae=Math.floor(K/60),de=Math.floor(K%60),fe=`${ae}:${de.toString().padStart(2,"0")}`,xe=xj*E,we=z=>{I(Number(z.target.value))},Ie=Gk(Gv(k2,{activationConstraint:{distance:8}}),Gv(T2,{coordinateGetter:bj})),$e=z=>{const{active:Ne,over:rt}=z;if(rt&&Ne.id!==rt.id){const qe=n.sections.findIndex(Ke=>Ke.id===Ne.id),Ee=n.sections.findIndex(Ke=>Ke.id===rt.id);o(j2(n.sections,qe,Ee))}};if(ne.useEffect(()=>{const z=Ne=>{Ne.key==="Escape"&&t(!1)};return e&&window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[e,t]),ne.useEffect(()=>{if(!e||!u||!d||!re.current)return;const z=re.current.querySelector(`[data-section-id="${d}"]`);z&&z.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},[e,u,d]),!e)return null;const Je=async()=>{const{unlockAudioForIOS:z,playSong:Ne,pauseSong:rt}=await Th(async()=>{const{unlockAudioForIOS:qe,playSong:Ee,pauseSong:Ke}=await Promise.resolve().then(()=>sg);return{unlockAudioForIOS:qe,playSong:Ee,pauseSong:Ke}},void 0);u?(rt(),sn.getState().setIsPlaying(!1)):(await z(),await Ne(),sn.getState().setIsPlaying(!0))},ct=async z=>{const{skipToSection:Ne}=await Th(async()=>{const{skipToSection:rt}=await Promise.resolve().then(()=>sg);return{skipToSection:rt}},void 0);Ne(z)};return e?v.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col bg-[#111116] animate-in fade-in duration-200",onClick:()=>t(!1),children:[v.jsxs("div",{className:"shrink-0 relative z-20",style:{paddingTop:"max(16px, env(safe-area-inset-top))"},onClick:z=>z.stopPropagation(),children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-transparent pointer-events-none"}),v.jsxs("div",{className:"relative flex items-center justify-between px-4 py-3 mt-2",children:[v.jsx("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:z=>{z.stopPropagation(),s(!0)},children:v.jsxs("div",{children:[v.jsx("h2",{className:"font-bold text-white text-base leading-tight",children:n.title}),n.artist&&n.artist.trim()&&v.jsxs("p",{className:"text-white/40 text-[11px] italic",children:["by ",n.artist]})]})}),v.jsx("button",{onClick:()=>t(!1),className:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 active:bg-white/20 flex items-center justify-center text-white/70 transition-colors",children:v.jsx(bu,{size:16})})]}),v.jsxs("div",{className:"flex items-center gap-4 px-4 pb-4 text-[10px] font-medium text-white/40 overflow-x-auto no-scrollbar",children:[v.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[v.jsx("span",{className:"text-accent-primary",children:n.sections.length}),v.jsx("span",{children:"Sections"})]}),v.jsx("div",{className:"w-px h-2 bg-white/10 shrink-0"}),v.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[v.jsx("span",{className:"text-accent-primary",children:$}),v.jsx("span",{children:"Bars"})]}),v.jsx("div",{className:"w-px h-2 bg-white/10 shrink-0"}),v.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[v.jsx("span",{className:"text-accent-primary",children:fe}),v.jsx("span",{children:"Duration"})]})]})]}),v.jsxs("div",{ref:re,className:"flex-1 overflow-x-auto overflow-y-hidden flex items-center relative scrollbar-hide bg-[#0b0b0f]",onClick:z=>z.stopPropagation(),children:[v.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"20px 20px"}}),v.jsx("div",{className:Ut("flex relative h-full items-center px-4 transition-all min-w-full",E<iy?"gap-2":"gap-4"),style:{paddingLeft:"max(16px, env(safe-area-inset-left))",paddingRight:"max(16px, env(safe-area-inset-right))"},children:v.jsx($7,{sensors:Ie,collisionDetection:$k,onDragEnd:$e,children:v.jsx(oj,{items:n.sections.map(z=>z.id),strategy:ij,children:n.sections.map(z=>v.jsx(_j,{section:z,allSections:n.sections,onSelectBeat:(Ne,rt)=>{rt&&a(Ne,rt),oe(null),J(null),pe(null),t(!1)},onBeatTap:(Ne,rt,qe)=>{Y===rt&&le===Ne?(rt&&a(Ne,rt),oe(null),J(null),pe(null),t(!1)):(oe(qe),J(rt),pe(Ne),W(qe),qe?.notes&&Wr(qe.notes))},onEmptySlotTap:(Ne,rt)=>{a(Ne,rt),t(!1),p()},isActive:u&&n.sections.findIndex(Ne=>Ne.id===z.id)===n.sections.findIndex(Ne=>Ne.id===d),playingSlotId:sn.getState().isPlaying?sn.getState().playingSlotId:null,selectedBeatId:Y,chordColors:j,measureWidth:xe,isCompact:E<iy},z.id))})})})]}),v.jsx(Sj,{displayChord:be,chordColors:j,isPlaying:u,selectedMapBeatId:Y}),v.jsxs("div",{className:"shrink-0 bg-[#1a1a24] border-t border-white/5 z-[110]",style:{paddingBottom:"env(safe-area-inset-bottom)"},onClick:z=>z.stopPropagation(),children:[v.jsx("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/5",children:v.jsxs("div",{className:"flex items-center gap-4 w-full",children:[v.jsx("button",{onClick:()=>I(Math.max(.15,E-.1)),className:"p-2 -m-2 text-text-secondary active:text-white transition-colors",children:v.jsx(pk,{size:18})}),v.jsx("input",{type:"range",min:"0.15",max:"2",step:"0.05",value:E,onChange:we,onTouchStart:z=>z.stopPropagation(),onTouchMove:z=>z.stopPropagation(),className:"flex-1 h-2 bg-white/10 rounded-full appearance-none cursor-pointer touch-none [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-6 [&::-webkit-slider-thumb]:h-6 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-accent-primary",style:{WebkitAppearance:"none"}}),v.jsx("button",{onClick:()=>I(Math.min(2,E+.1)),className:"p-2 -m-2 text-text-secondary active:text-white transition-colors",children:v.jsx(fk,{size:18})})]})}),v.jsxs("div",{className:"flex items-center justify-center gap-8 px-6 py-4",children:[v.jsxs("div",{className:"flex flex-col items-center gap-1",children:[v.jsx("span",{className:"text-[10px] uppercase tracking-wider text-white/30 font-bold",children:"BPM"}),y?v.jsx("input",{ref:N,type:"number",inputMode:"numeric",value:b,onChange:z=>A(z.target.value),onBlur:G,onKeyDown:H,className:"w-16 text-lg bg-bg-tertiary border border-accent-primary rounded px-2 py-1 text-center text-white font-mono font-medium focus:outline-none",min:40,max:240}):v.jsx("div",{onTouchStart:M,onTouchMove:B,onTouchEnd:te,onClick:F,className:Ut("text-lg font-mono font-medium cursor-ew-resize select-none px-3 py-1 rounded transition-colors",k?"text-accent-primary bg-accent-primary/10":"text-accent-primary hover:bg-white/5"),children:c})]}),v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx("button",{onClick:()=>ct("prev"),className:"text-accent-primary/80 hover:text-accent-primary transition-colors p-2 active:scale-95",children:v.jsx(G3,{size:22,fill:"currentColor"})}),v.jsx("button",{onClick:Je,className:Ut("w-14 h-14 rounded-full flex items-center justify-center shadow-xl transition-all active:scale-95",u?"bg-accent-primary text-white shadow-accent-primary/30":"bg-accent-primary/20 text-accent-primary border-2 border-accent-primary"),children:u?v.jsx(W3,{size:24,fill:"currentColor"}):v.jsx(Yh,{size:24,fill:"currentColor",className:"ml-1"})}),v.jsx("button",{onClick:()=>ct("next"),className:"text-accent-primary/80 hover:text-accent-primary transition-colors p-2 active:scale-95",children:v.jsx(Y3,{size:22,fill:"currentColor"})})]})]})]})]}):null},Aj=({className:n="",size:e=24})=>v.jsx("div",{className:`relative flex items-center justify-center ${n}`,style:{width:e,height:e},children:v.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[[...Array(12)].map((t,s)=>{const a=s*30,o=(a-15-90)*Math.PI/180,u=(a+15-90)*Math.PI/180,c=20,f=48,d=s<=4||s>=10;let p;d?s===0?p="rgba(234, 179, 8, 0.95)":s===1?p="rgba(163, 190, 60, 0.9)":s===2?p="rgba(132, 204, 22, 0.85)":s===3?p="rgba(74, 222, 128, 0.75)":s===4?p="rgba(45, 212, 191, 0.65)":s===11?p="rgba(251, 146, 60, 0.9)":s===10?p="rgba(168, 162, 158, 0.65)":p="rgba(200, 180, 100, 0.7)":p=["rgba(100, 80, 120, 0.5)","rgba(80, 70, 90, 0.5)","rgba(60, 55, 70, 0.5)"][s%3];const y=50+c*Math.cos(o),_=50+c*Math.sin(o),b=50+f*Math.cos(o),A=50+f*Math.sin(o),N=50+f*Math.cos(u),k=50+f*Math.sin(u),C=50+c*Math.cos(u),R=50+c*Math.sin(u);return v.jsx("path",{d:`M ${y} ${_} L ${b} ${A} A ${f} ${f} 0 0 1 ${N} ${k} L ${C} ${R} A ${c} ${c} 0 0 0 ${y} ${_}`,fill:p,stroke:"rgba(0, 0, 0, 0.3)",strokeWidth:"0.5"},s)}),v.jsx("circle",{cx:"50",cy:"50",r:"18",fill:"rgba(20, 20, 30, 0.95)",stroke:"rgba(255, 255, 255, 0.15)",strokeWidth:"1"})]})});function Jn(n){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(n)}var po=Uint8Array,la=Uint16Array,E2=Int32Array,M2=new po([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),L2=new po([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ay=new po([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jw=function(n,e){for(var t=new la(31),s=0;s<31;++s)t[s]=e+=1<<n[s-1];for(var a=new E2(t[30]),s=1;s<30;++s)for(var o=t[s];o<t[s+1];++o)a[o]=o-t[s]<<5|s;return{b:t,r:a}},Ew=jw(M2,2),Tj=Ew.b,gg=Ew.r;Tj[28]=258,gg[258]=28;var Cj=jw(L2,0),oy=Cj.r,bg=new la(32768);for(var kr=0;kr<32768;++kr){var bc=(kr&43690)>>1|(kr&21845)<<1;bc=(bc&52428)>>2|(bc&13107)<<2,bc=(bc&61680)>>4|(bc&3855)<<4,bg[kr]=((bc&65280)>>8|(bc&255)<<8)>>1}var Kf=(function(n,e,t){for(var s=n.length,a=0,o=new la(e);a<s;++a)n[a]&&++o[n[a]-1];var u=new la(e);for(a=1;a<e;++a)u[a]=u[a-1]+o[a-1]<<1;var c;if(t){c=new la(1<<e);var f=15-e;for(a=0;a<s;++a)if(n[a])for(var d=a<<4|n[a],p=e-n[a],y=u[n[a]-1]++<<p,_=y|(1<<p)-1;y<=_;++y)c[bg[y]>>f]=d}else for(c=new la(s),a=0;a<s;++a)n[a]&&(c[a]=bg[u[n[a]-1]++]>>15-n[a]);return c}),vu=new po(288);for(var kr=0;kr<144;++kr)vu[kr]=8;for(var kr=144;kr<256;++kr)vu[kr]=9;for(var kr=256;kr<280;++kr)vu[kr]=7;for(var kr=280;kr<288;++kr)vu[kr]=8;var Sp=new po(32);for(var kr=0;kr<32;++kr)Sp[kr]=5;var kj=Kf(vu,9,0),jj=Kf(Sp,5,0),Mw=function(n){return(n+7)/8|0},Ej=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new po(n.subarray(e,t))},_l=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8},zf=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8,n[s+2]|=t>>16},Nm=function(n,e){for(var t=[],s=0;s<n.length;++s)n[s]&&t.push({s,f:n[s]});var a=t.length,o=t.slice();if(!a)return{t:Ow,l:0};if(a==1){var u=new po(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(F,G){return F.f-G.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,p=1,y=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};p!=a-1;)c=t[t[d].f<t[y].f?d++:y++],f=t[d!=p&&t[d].f<t[y].f?d++:y++],t[p++]={s:-1,f:c.f+f.f,l:c,r:f};for(var _=o[0].s,s=1;s<a;++s)o[s].s>_&&(_=o[s].s);var b=new la(_+1),A=vg(t[p-1],b,0);if(A>e){var s=0,N=0,k=A-e,C=1<<k;for(o.sort(function(G,H){return b[H.s]-b[G.s]||G.f-H.f});s<a;++s){var R=o[s].s;if(b[R]>e)N+=C-(1<<A-b[R]),b[R]=e;else break}for(N>>=k;N>0;){var D=o[s].s;b[D]<e?N-=1<<e-b[D]++-1:++s}for(;s>=0&&N;--s){var V=o[s].s;b[V]==e&&(--b[V],++N)}A=e}return{t:new po(b),l:A}},vg=function(n,e,t){return n.s==-1?Math.max(vg(n.l,e,t+1),vg(n.r,e,t+1)):e[n.s]=t},ly=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new la(++e),s=0,a=n[0],o=1,u=function(f){t[s++]=f},c=1;c<=e;++c)if(n[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(a),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(a);o=1,a=n[c]}return{c:t.subarray(0,s),n:e}},Pf=function(n,e){for(var t=0,s=0;s<e.length;++s)t+=n[s]*e[s];return t},Lw=function(n,e,t){var s=t.length,a=Mw(e+2);n[a]=s&255,n[a+1]=s>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<s;++o)n[a+o+4]=t[o];return(a+4+s)*8},cy=function(n,e,t,s,a,o,u,c,f,d,p){_l(e,p++,t),++a[256];for(var y=Nm(a,15),_=y.t,b=y.l,A=Nm(o,15),N=A.t,k=A.l,C=ly(_),R=C.c,D=C.n,V=ly(N),F=V.c,G=V.n,H=new la(19),M=0;M<R.length;++M)++H[R[M]&31];for(var M=0;M<F.length;++M)++H[F[M]&31];for(var B=Nm(H,7),te=B.t,E=B.l,I=19;I>4&&!te[ay[I-1]];--I);var re=d+5<<3,U=Pf(a,vu)+Pf(o,Sp)+u,oe=Pf(a,_)+Pf(o,N)+u+14+3*I+Pf(H,te)+2*H[16]+3*H[17]+7*H[18];if(f>=0&&re<=U&&re<=oe)return Lw(e,p,n.subarray(f,f+d));var Y,J,le,pe;if(_l(e,p,1+(oe<U)),p+=2,oe<U){Y=Kf(_,b,0),J=_,le=Kf(N,k,0),pe=N;var be=Kf(te,E,0);_l(e,p,D-257),_l(e,p+5,G-1),_l(e,p+10,I-4),p+=14;for(var M=0;M<I;++M)_l(e,p+3*M,te[ay[M]]);p+=3*I;for(var W=[R,F],j=0;j<2;++j)for(var $=W[j],M=0;M<$.length;++M){var X=$[M]&31;_l(e,p,be[X]),p+=te[X],X>15&&(_l(e,p,$[M]>>5&127),p+=$[M]>>12)}}else Y=kj,J=vu,le=jj,pe=Sp;for(var M=0;M<c;++M){var K=s[M];if(K>255){var X=K>>18&31;zf(e,p,Y[X+257]),p+=J[X+257],X>7&&(_l(e,p,K>>23&31),p+=M2[X]);var ae=K&31;zf(e,p,le[ae]),p+=pe[ae],ae>3&&(zf(e,p,K>>5&8191),p+=L2[ae])}else zf(e,p,Y[K]),p+=J[K]}return zf(e,p,Y[256]),p+J[256]},Mj=new E2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ow=new po(0),Lj=function(n,e,t,s,a,o){var u=o.z||n.length,c=new po(s+u+5*(1+Math.ceil(u/7e3))+a),f=c.subarray(s,c.length-a),d=o.l,p=(o.r||0)&7;if(e){p&&(f[0]=o.r>>3);for(var y=Mj[e-1],_=y>>13,b=y&8191,A=(1<<t)-1,N=o.p||new la(32768),k=o.h||new la(A+1),C=Math.ceil(t/3),R=2*C,D=function(ct){return(n[ct]^n[ct+1]<<C^n[ct+2]<<R)&A},V=new E2(25e3),F=new la(288),G=new la(32),H=0,M=0,B=o.i||0,te=0,E=o.w||0,I=0;B+2<u;++B){var re=D(B),U=B&32767,oe=k[re];if(N[U]=oe,k[re]=U,E<=B){var Y=u-B;if((H>7e3||te>24576)&&(Y>423||!d)){p=cy(n,f,0,V,F,G,M,te,I,B-I,p),te=H=M=0,I=B;for(var J=0;J<286;++J)F[J]=0;for(var J=0;J<30;++J)G[J]=0}var le=2,pe=0,be=b,W=U-oe&32767;if(Y>2&&re==D(B-W))for(var j=Math.min(_,Y)-1,$=Math.min(32767,B),X=Math.min(258,Y);W<=$&&--be&&U!=oe;){if(n[B+le]==n[B+le-W]){for(var K=0;K<X&&n[B+K]==n[B+K-W];++K);if(K>le){if(le=K,pe=W,K>j)break;for(var ae=Math.min(W,K-2),de=0,J=0;J<ae;++J){var fe=B-W+J&32767,xe=N[fe],we=fe-xe&32767;we>de&&(de=we,oe=fe)}}}U=oe,oe=N[U],W+=U-oe&32767}if(pe){V[te++]=268435456|gg[le]<<18|oy[pe];var Ie=gg[le]&31,$e=oy[pe]&31;M+=M2[Ie]+L2[$e],++F[257+Ie],++G[$e],E=B+le,++H}else V[te++]=n[B],++F[n[B]]}}for(B=Math.max(B,E);B<u;++B)V[te++]=n[B],++F[n[B]];p=cy(n,f,d,V,F,G,M,te,I,B-I,p),d||(o.r=p&7|f[p/8|0]<<3,p-=7,o.h=k,o.p=N,o.i=B,o.w=E)}else{for(var B=o.w||0;B<u+d;B+=65535){var Je=B+65535;Je>=u&&(f[p/8|0]=d,Je=u),p=Lw(f,p+1,n.subarray(B,Je))}o.i=u}return Ej(c,0,s+Mw(p)+a)},Dw=function(){var n=1,e=0;return{p:function(t){for(var s=n,a=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)a+=s+=t[u];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}n=s,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Oj=function(n,e,t,s,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new po(o.length+n.length);u.set(o),u.set(n,o.length),n=u,a.w=o.length}return Lj(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,s,a)},Rw=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Dj=function(n,e){var t=e.level,s=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=s<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=Dw();a.p(e.dictionary),Rw(n,2,a.d())}};function yg(n,e){e||(e={});var t=Dw();t.p(n);var s=Oj(n,e,e.dictionary?6:2,4);return Dj(s,e),Rw(s,s.length-4,t.d()),s}var Rj=typeof TextDecoder<"u"&&new TextDecoder,Ij=0;try{Rj.decode(Ow,{stream:!0}),Ij=1}catch{}function Vj(n){if(Array.isArray(n))return n}function Fj(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var s,a,o,u,c=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(s=o.call(t)).done)&&(c.push(s.value),c.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw a}}return c}}function uy(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=Array(e);t<e;t++)s[t]=n[t];return s}function Bj(n,e){if(n){if(typeof n=="string")return uy(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?uy(n,e):void 0}}function zj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hy(n,e){return Vj(n)||Fj(n,e)||Bj(n,e)||zj()}function fy(n,e="utf8"){return new TextDecoder(e).decode(n)}const Pj=new TextEncoder;function qj(n){return Pj.encode(n)}const Uj=1024*8,Hj=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Am={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class O2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Uj,t={}){let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let u=a;(ArrayBuffer.isView(e)||e instanceof O2)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+a),e=e.buffer),s?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const s=Am[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+s);if(this.littleEndian===Hj&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+s));c.reverse();const f=new Am[t](c.buffer);return this.offset+=s,f.reverse(),f}const u=new Am[t](o);return this.offset+=s,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let s=0;s<e;s++)t+=this.readChar();return t}readUtf8(e=1){return fy(this.readBytes(e))}decodeText(e=1,t="utf8"){return fy(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(qj(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Jh(n){let e=n.length;for(;--e>=0;)n[e]=0}const Wj=3,Gj=258,Iw=29,Yj=256,$j=Yj+1+Iw,Vw=30,Xj=512,Zj=new Array(($j+2)*2);Jh(Zj);const Qj=new Array(Vw*2);Jh(Qj);const Kj=new Array(Xj);Jh(Kj);const Jj=new Array(Gj-Wj+1);Jh(Jj);const eE=new Array(Iw);Jh(eE);const tE=new Array(Vw);Jh(tE);const nE=(n,e,t,s)=>{let a=n&65535|0,o=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do a=a+e[s++]|0,o=o+a|0;while(--u);a%=65521,o%=65521}return a|o<<16|0};var xg=nE;const rE=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},sE=new Uint32Array(rE()),iE=(n,e,t,s)=>{const a=sE,o=s+t;n^=-1;for(let u=s;u<o;u++)n=n>>>8^a[(n^e[u])&255];return n^-1};var zo=iE,wg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Fw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const aE=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var oE=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const s in t)aE(t,s)&&(n[s]=t[s])}}return n},lE=n=>{let e=0;for(let s=0,a=n.length;s<a;s++)e+=n[s].length;const t=new Uint8Array(e);for(let s=0,a=0,o=n.length;s<o;s++){let u=n[s];t.set(u,a),a+=u.length}return t},Bw={assign:oE,flattenChunks:lE};let zw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{zw=!1}const fd=new Uint8Array(256);for(let n=0;n<256;n++)fd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;fd[254]=fd[254]=1;var cE=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,s,a,o,u=n.length,c=0;for(a=0;a<u;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<u&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<u&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const uE=(n,e)=>{if(e<65534&&n.subarray&&zw)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let s=0;s<e;s++)t+=String.fromCharCode(n[s]);return t};var hE=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let s,a;const o=new Array(t*2);for(a=0,s=0;s<t;){let u=n[s++];if(u<128){o[a++]=u;continue}let c=fd[u];if(c>4){o[a++]=65533,s+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&s<t;)u=u<<6|n[s++]&63,c--;if(c>1){o[a++]=65533;continue}u<65536?o[a++]=u:(u-=65536,o[a++]=55296|u>>10&1023,o[a++]=56320|u&1023)}return uE(o,a)},fE=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+fd[n[t]]>e?t:e},_g={string2buf:cE,buf2string:hE,utf8border:fE};function dE(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var pE=dE;const M1=16209,mE=16191;var gE=function(e,t){let s,a,o,u,c,f,d,p,y,_,b,A,N,k,C,R,D,V,F,G,H,M,B,te;const E=e.state;s=e.next_in,B=e.input,a=s+(e.avail_in-5),o=e.next_out,te=e.output,u=o-(t-e.avail_out),c=o+(e.avail_out-257),f=E.dmax,d=E.wsize,p=E.whave,y=E.wnext,_=E.window,b=E.hold,A=E.bits,N=E.lencode,k=E.distcode,C=(1<<E.lenbits)-1,R=(1<<E.distbits)-1;e:do{A<15&&(b+=B[s++]<<A,A+=8,b+=B[s++]<<A,A+=8),D=N[b&C];t:for(;;){if(V=D>>>24,b>>>=V,A-=V,V=D>>>16&255,V===0)te[o++]=D&65535;else if(V&16){F=D&65535,V&=15,V&&(A<V&&(b+=B[s++]<<A,A+=8),F+=b&(1<<V)-1,b>>>=V,A-=V),A<15&&(b+=B[s++]<<A,A+=8,b+=B[s++]<<A,A+=8),D=k[b&R];n:for(;;){if(V=D>>>24,b>>>=V,A-=V,V=D>>>16&255,V&16){if(G=D&65535,V&=15,A<V&&(b+=B[s++]<<A,A+=8,A<V&&(b+=B[s++]<<A,A+=8)),G+=b&(1<<V)-1,G>f){e.msg="invalid distance too far back",E.mode=M1;break e}if(b>>>=V,A-=V,V=o-u,G>V){if(V=G-V,V>p&&E.sane){e.msg="invalid distance too far back",E.mode=M1;break e}if(H=0,M=_,y===0){if(H+=d-V,V<F){F-=V;do te[o++]=_[H++];while(--V);H=o-G,M=te}}else if(y<V){if(H+=d+y-V,V-=y,V<F){F-=V;do te[o++]=_[H++];while(--V);if(H=0,y<F){V=y,F-=V;do te[o++]=_[H++];while(--V);H=o-G,M=te}}}else if(H+=y-V,V<F){F-=V;do te[o++]=_[H++];while(--V);H=o-G,M=te}for(;F>2;)te[o++]=M[H++],te[o++]=M[H++],te[o++]=M[H++],F-=3;F&&(te[o++]=M[H++],F>1&&(te[o++]=M[H++]))}else{H=o-G;do te[o++]=te[H++],te[o++]=te[H++],te[o++]=te[H++],F-=3;while(F>2);F&&(te[o++]=te[H++],F>1&&(te[o++]=te[H++]))}}else if((V&64)===0){D=k[(D&65535)+(b&(1<<V)-1)];continue n}else{e.msg="invalid distance code",E.mode=M1;break e}break}}else if((V&64)===0){D=N[(D&65535)+(b&(1<<V)-1)];continue t}else if(V&32){E.mode=mE;break e}else{e.msg="invalid literal/length code",E.mode=M1;break e}break}}while(s<a&&o<c);F=A>>3,s-=F,A-=F<<3,b&=(1<<A)-1,e.next_in=s,e.next_out=o,e.avail_in=s<a?5+(a-s):5-(s-a),e.avail_out=o<c?257+(c-o):257-(o-c),E.hold=b,E.bits=A};const ph=15,dy=852,py=592,my=0,Tm=1,gy=2,bE=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),vE=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yE=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xE=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),wE=(n,e,t,s,a,o,u,c)=>{const f=c.bits;let d=0,p=0,y=0,_=0,b=0,A=0,N=0,k=0,C=0,R=0,D,V,F,G,H,M=null,B;const te=new Uint16Array(ph+1),E=new Uint16Array(ph+1);let I=null,re,U,oe;for(d=0;d<=ph;d++)te[d]=0;for(p=0;p<s;p++)te[e[t+p]]++;for(b=f,_=ph;_>=1&&te[_]===0;_--);if(b>_&&(b=_),_===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(y=1;y<_&&te[y]===0;y++);for(b<y&&(b=y),k=1,d=1;d<=ph;d++)if(k<<=1,k-=te[d],k<0)return-1;if(k>0&&(n===my||_!==1))return-1;for(E[1]=0,d=1;d<ph;d++)E[d+1]=E[d]+te[d];for(p=0;p<s;p++)e[t+p]!==0&&(u[E[e[t+p]]++]=p);if(n===my?(M=I=u,B=20):n===Tm?(M=bE,I=vE,B=257):(M=yE,I=xE,B=0),R=0,p=0,d=y,H=o,A=b,N=0,F=-1,C=1<<b,G=C-1,n===Tm&&C>dy||n===gy&&C>py)return 1;for(;;){re=d-N,u[p]+1<B?(U=0,oe=u[p]):u[p]>=B?(U=I[u[p]-B],oe=M[u[p]-B]):(U=96,oe=0),D=1<<d-N,V=1<<A,y=V;do V-=D,a[H+(R>>N)+V]=re<<24|U<<16|oe|0;while(V!==0);for(D=1<<d-1;R&D;)D>>=1;if(D!==0?(R&=D-1,R+=D):R=0,p++,--te[d]===0){if(d===_)break;d=e[t+u[p]]}if(d>b&&(R&G)!==F){for(N===0&&(N=b),H+=y,A=d-N,k=1<<A;A+N<_&&(k-=te[A+N],!(k<=0));)A++,k<<=1;if(C+=1<<A,n===Tm&&C>dy||n===gy&&C>py)return 1;F=R&G,a[F]=b<<24|A<<16|H-o|0}}return R!==0&&(a[H+R]=d-N<<24|64<<16|0),c.bits=b,0};var Jf=wE;const _E=0,Pw=1,qw=2,{Z_FINISH:by,Z_BLOCK:SE,Z_TREES:L1,Z_OK:yu,Z_STREAM_END:NE,Z_NEED_DICT:AE,Z_STREAM_ERROR:Oa,Z_DATA_ERROR:Uw,Z_MEM_ERROR:Hw,Z_BUF_ERROR:TE,Z_DEFLATED:vy}=Fw,Kp=16180,yy=16181,xy=16182,wy=16183,_y=16184,Sy=16185,Ny=16186,Ay=16187,Ty=16188,Cy=16189,Np=16190,Sl=16191,Cm=16192,ky=16193,km=16194,jy=16195,Ey=16196,My=16197,Ly=16198,O1=16199,D1=16200,Oy=16201,Dy=16202,Ry=16203,Iy=16204,Vy=16205,jm=16206,Fy=16207,By=16208,Vr=16209,Ww=16210,Gw=16211,CE=852,kE=592,jE=15,EE=jE,zy=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function ME(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Nu=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Kp||e.mode>Gw?1:0},Yw=n=>{if(Nu(n))return Oa;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Kp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(CE),e.distcode=e.distdyn=new Int32Array(kE),e.sane=1,e.back=-1,yu},$w=n=>{if(Nu(n))return Oa;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,Yw(n)},Xw=(n,e)=>{let t;if(Nu(n))return Oa;const s=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Oa:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=t,s.wbits=e,$w(n))},Zw=(n,e)=>{if(!n)return Oa;const t=new ME;n.state=t,t.strm=n,t.window=null,t.mode=Kp;const s=Xw(n,e);return s!==yu&&(n.state=null),s},LE=n=>Zw(n,EE);let Py=!0,Em,Mm;const OE=n=>{if(Py){Em=new Int32Array(512),Mm=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Jf(Pw,n.lens,0,288,Em,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Jf(qw,n.lens,0,32,Mm,0,n.work,{bits:5}),Py=!1}n.lencode=Em,n.lenbits=9,n.distcode=Mm,n.distbits=5},Qw=(n,e,t,s)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),s>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>s&&(a=s),o.window.set(e.subarray(t-s,t-s+a),o.wnext),s-=a,s?(o.window.set(e.subarray(t-s,t),0),o.wnext=s,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},DE=(n,e)=>{let t,s,a,o,u,c,f,d,p,y,_,b,A,N,k=0,C,R,D,V,F,G,H,M;const B=new Uint8Array(4);let te,E;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Nu(n)||!n.output||!n.input&&n.avail_in!==0)return Oa;t=n.state,t.mode===Sl&&(t.mode=Cm),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,s=n.input,c=n.avail_in,d=t.hold,p=t.bits,y=c,_=f,M=yu;e:for(;;)switch(t.mode){case Kp:if(t.wrap===0){t.mode=Cm;break}for(;p<16;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,B[0]=d&255,B[1]=d>>>8&255,t.check=zo(t.check,B,2,0),d=0,p=0,t.mode=yy;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Vr;break}if((d&15)!==vy){n.msg="unknown compression method",t.mode=Vr;break}if(d>>>=4,p-=4,H=(d&15)+8,t.wbits===0&&(t.wbits=H),H>15||H>t.wbits){n.msg="invalid window size",t.mode=Vr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?Cy:Sl,d=0,p=0;break;case yy:for(;p<16;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(t.flags=d,(t.flags&255)!==vy){n.msg="unknown compression method",t.mode=Vr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Vr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,t.check=zo(t.check,B,2,0)),d=0,p=0,t.mode=xy;case xy:for(;p<32;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,B[2]=d>>>16&255,B[3]=d>>>24&255,t.check=zo(t.check,B,4,0)),d=0,p=0,t.mode=wy;case wy:for(;p<16;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,t.check=zo(t.check,B,2,0)),d=0,p=0,t.mode=_y;case _y:if(t.flags&1024){for(;p<16;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,t.check=zo(t.check,B,2,0)),d=0,p=0}else t.head&&(t.head.extra=null);t.mode=Sy;case Sy:if(t.flags&1024&&(b=t.length,b>c&&(b=c),b&&(t.head&&(H=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(s.subarray(o,o+b),H)),t.flags&512&&t.wrap&4&&(t.check=zo(t.check,s,b,o)),c-=b,o+=b,t.length-=b),t.length))break e;t.length=0,t.mode=Ny;case Ny:if(t.flags&2048){if(c===0)break e;b=0;do H=s[o+b++],t.head&&H&&t.length<65536&&(t.head.name+=String.fromCharCode(H));while(H&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=zo(t.check,s,b,o)),c-=b,o+=b,H)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ay;case Ay:if(t.flags&4096){if(c===0)break e;b=0;do H=s[o+b++],t.head&&H&&t.length<65536&&(t.head.comment+=String.fromCharCode(H));while(H&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=zo(t.check,s,b,o)),c-=b,o+=b,H)break e}else t.head&&(t.head.comment=null);t.mode=Ty;case Ty:if(t.flags&512){for(;p<16;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Vr;break}d=0,p=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Sl;break;case Cy:for(;p<32;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}n.adler=t.check=zy(d),d=0,p=0,t.mode=Np;case Np:if(t.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=p,AE;n.adler=t.check=1,t.mode=Sl;case Sl:if(e===SE||e===L1)break e;case Cm:if(t.last){d>>>=p&7,p-=p&7,t.mode=jm;break}for(;p<3;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}switch(t.last=d&1,d>>>=1,p-=1,d&3){case 0:t.mode=ky;break;case 1:if(OE(t),t.mode=O1,e===L1){d>>>=2,p-=2;break e}break;case 2:t.mode=Ey;break;case 3:n.msg="invalid block type",t.mode=Vr}d>>>=2,p-=2;break;case ky:for(d>>>=p&7,p-=p&7;p<32;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Vr;break}if(t.length=d&65535,d=0,p=0,t.mode=km,e===L1)break e;case km:t.mode=jy;case jy:if(b=t.length,b){if(b>c&&(b=c),b>f&&(b=f),b===0)break e;a.set(s.subarray(o,o+b),u),c-=b,o+=b,f-=b,u+=b,t.length-=b;break}t.mode=Sl;break;case Ey:for(;p<14;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(t.nlen=(d&31)+257,d>>>=5,p-=5,t.ndist=(d&31)+1,d>>>=5,p-=5,t.ncode=(d&15)+4,d>>>=4,p-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Vr;break}t.have=0,t.mode=My;case My:for(;t.have<t.ncode;){for(;p<3;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.lens[I[t.have++]]=d&7,d>>>=3,p-=3}for(;t.have<19;)t.lens[I[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,te={bits:t.lenbits},M=Jf(_E,t.lens,0,19,t.lencode,0,t.work,te),t.lenbits=te.bits,M){n.msg="invalid code lengths set",t.mode=Vr;break}t.have=0,t.mode=Ly;case Ly:for(;t.have<t.nlen+t.ndist;){for(;k=t.lencode[d&(1<<t.lenbits)-1],C=k>>>24,R=k>>>16&255,D=k&65535,!(C<=p);){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(D<16)d>>>=C,p-=C,t.lens[t.have++]=D;else{if(D===16){for(E=C+2;p<E;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(d>>>=C,p-=C,t.have===0){n.msg="invalid bit length repeat",t.mode=Vr;break}H=t.lens[t.have-1],b=3+(d&3),d>>>=2,p-=2}else if(D===17){for(E=C+3;p<E;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}d>>>=C,p-=C,H=0,b=3+(d&7),d>>>=3,p-=3}else{for(E=C+7;p<E;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}d>>>=C,p-=C,H=0,b=11+(d&127),d>>>=7,p-=7}if(t.have+b>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Vr;break}for(;b--;)t.lens[t.have++]=H}}if(t.mode===Vr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Vr;break}if(t.lenbits=9,te={bits:t.lenbits},M=Jf(Pw,t.lens,0,t.nlen,t.lencode,0,t.work,te),t.lenbits=te.bits,M){n.msg="invalid literal/lengths set",t.mode=Vr;break}if(t.distbits=6,t.distcode=t.distdyn,te={bits:t.distbits},M=Jf(qw,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,te),t.distbits=te.bits,M){n.msg="invalid distances set",t.mode=Vr;break}if(t.mode=O1,e===L1)break e;case O1:t.mode=D1;case D1:if(c>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=p,gE(n,_),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,s=n.input,c=n.avail_in,d=t.hold,p=t.bits,t.mode===Sl&&(t.back=-1);break}for(t.back=0;k=t.lencode[d&(1<<t.lenbits)-1],C=k>>>24,R=k>>>16&255,D=k&65535,!(C<=p);){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(R&&(R&240)===0){for(V=C,F=R,G=D;k=t.lencode[G+((d&(1<<V+F)-1)>>V)],C=k>>>24,R=k>>>16&255,D=k&65535,!(V+C<=p);){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}d>>>=V,p-=V,t.back+=V}if(d>>>=C,p-=C,t.back+=C,t.length=D,R===0){t.mode=Vy;break}if(R&32){t.back=-1,t.mode=Sl;break}if(R&64){n.msg="invalid literal/length code",t.mode=Vr;break}t.extra=R&15,t.mode=Oy;case Oy:if(t.extra){for(E=t.extra;p<E;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,p-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Dy;case Dy:for(;k=t.distcode[d&(1<<t.distbits)-1],C=k>>>24,R=k>>>16&255,D=k&65535,!(C<=p);){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if((R&240)===0){for(V=C,F=R,G=D;k=t.distcode[G+((d&(1<<V+F)-1)>>V)],C=k>>>24,R=k>>>16&255,D=k&65535,!(V+C<=p);){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}d>>>=V,p-=V,t.back+=V}if(d>>>=C,p-=C,t.back+=C,R&64){n.msg="invalid distance code",t.mode=Vr;break}t.offset=D,t.extra=R&15,t.mode=Ry;case Ry:if(t.extra){for(E=t.extra;p<E;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,p-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Vr;break}t.mode=Iy;case Iy:if(f===0)break e;if(b=_-f,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Vr;break}b>t.wnext?(b-=t.wnext,A=t.wsize-b):A=t.wnext-b,b>t.length&&(b=t.length),N=t.window}else N=a,A=u-t.offset,b=t.length;b>f&&(b=f),f-=b,t.length-=b;do a[u++]=N[A++];while(--b);t.length===0&&(t.mode=D1);break;case Vy:if(f===0)break e;a[u++]=t.length,f--,t.mode=D1;break;case jm:if(t.wrap){for(;p<32;){if(c===0)break e;c--,d|=s[o++]<<p,p+=8}if(_-=f,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?zo(t.check,a,_,u-_):xg(t.check,a,_,u-_)),_=f,t.wrap&4&&(t.flags?d:zy(d))!==t.check){n.msg="incorrect data check",t.mode=Vr;break}d=0,p=0}t.mode=Fy;case Fy:if(t.wrap&&t.flags){for(;p<32;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Vr;break}d=0,p=0}t.mode=By;case By:M=NE;break e;case Vr:M=Uw;break e;case Ww:return Hw;case Gw:default:return Oa}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=p,(t.wsize||_!==n.avail_out&&t.mode<Vr&&(t.mode<jm||e!==by))&&Qw(n,n.output,n.next_out,_-n.avail_out),y-=n.avail_in,_-=n.avail_out,n.total_in+=y,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?zo(t.check,a,_,n.next_out-_):xg(t.check,a,_,n.next_out-_)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Sl?128:0)+(t.mode===O1||t.mode===km?256:0),(y===0&&_===0||e===by)&&M===yu&&(M=TE),M},RE=n=>{if(Nu(n))return Oa;let e=n.state;return e.window&&(e.window=null),n.state=null,yu},IE=(n,e)=>{if(Nu(n))return Oa;const t=n.state;return(t.wrap&2)===0?Oa:(t.head=e,e.done=!1,yu)},VE=(n,e)=>{const t=e.length;let s,a,o;return Nu(n)||(s=n.state,s.wrap!==0&&s.mode!==Np)?Oa:s.mode===Np&&(a=1,a=xg(a,e,t,0),a!==s.check)?Uw:(o=Qw(n,e,t,t),o?(s.mode=Ww,Hw):(s.havedict=1,yu))};var FE=$w,BE=Xw,zE=Yw,PE=LE,qE=Zw,UE=DE,HE=RE,WE=IE,GE=VE,YE="pako inflate (from Nodeca project)",Al={inflateReset:FE,inflateReset2:BE,inflateResetKeep:zE,inflateInit:PE,inflateInit2:qE,inflate:UE,inflateEnd:HE,inflateGetHeader:WE,inflateSetDictionary:GE,inflateInfo:YE};function $E(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var XE=$E;const Kw=Object.prototype.toString,{Z_NO_FLUSH:ZE,Z_FINISH:QE,Z_OK:dd,Z_STREAM_END:Lm,Z_NEED_DICT:Om,Z_STREAM_ERROR:KE,Z_DATA_ERROR:qy,Z_MEM_ERROR:JE}=Fw;function Ed(n){this.options=Bw.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pE,this.strm.avail_out=0;let t=Al.inflateInit2(this.strm,e.windowBits);if(t!==dd)throw new Error(wg[t]);if(this.header=new XE,Al.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=_g.string2buf(e.dictionary):Kw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Al.inflateSetDictionary(this.strm,e.dictionary),t!==dd)))throw new Error(wg[t])}Ed.prototype.push=function(n,e){const t=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?QE:ZE,Kw.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(s),t.next_out=0,t.avail_out=s),o=Al.inflate(t,u),o===Om&&a&&(o=Al.inflateSetDictionary(t,a),o===dd?o=Al.inflate(t,u):o===qy&&(o=Om));t.avail_in>0&&o===Lm&&t.state.wrap>0&&n[t.next_in]!==0;)Al.inflateReset(t),o=Al.inflate(t,u);switch(o){case KE:case qy:case Om:case JE:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===Lm))if(this.options.to==="string"){let f=_g.utf8border(t.output,t.next_out),d=t.next_out-f,p=_g.buf2string(t.output,f);t.next_out=d,t.avail_out=s-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(p)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===dd&&c===0)){if(o===Lm)return o=Al.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Ed.prototype.onData=function(n){this.chunks.push(n)};Ed.prototype.onEnd=function(n){n===dd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Bw.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function eM(n,e){const t=new Ed(e);if(t.push(n),t.err)throw t.msg||wg[t.err];return t.result}var tM=Ed,nM=eM,rM={Inflate:tM,inflate:nM};const{Inflate:sM,inflate:iM}=rM;var Uy=sM,aM=iM;const Jw=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Jw[n]=e}const Hy=4294967295;function oM(n,e,t){let s=n;for(let a=0;a<t;a++)s=Jw[(s^e[a])&255]^s>>>8;return s}function lM(n,e){return(oM(Hy,n,e)^Hy)>>>0}function Wy(n,e,t){const s=n.readUint32(),a=lM(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==s)throw new Error(`CRC mismatch for chunk ${t}. Expected ${s}, found ${a}`)}function e4(n,e,t){for(let s=0;s<t;s++)e[s]=n[s]}function t4(n,e,t,s){let a=0;for(;a<s;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-s]&255}function n4(n,e,t,s){let a=0;if(t.length===0)for(;a<s;a++)e[a]=n[a];else for(;a<s;a++)e[a]=n[a]+t[a]&255}function r4(n,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<s;o++)e[o]=n[o]+(e[o-a]+t[o]>>1)&255}}function s4(n,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+t[o]&255;for(;o<s;o++)e[o]=n[o]+cM(e[o-a],t[o],t[o-a])&255}}function cM(n,e,t){const s=n+e-t,a=Math.abs(s-n),o=Math.abs(s-e),u=Math.abs(s-t);return a<=o&&a<=u?n:o<=u?e:t}function uM(n,e,t,s,a,o){switch(n){case 0:e4(e,t,a);break;case 1:t4(e,t,a,o);break;case 2:n4(e,t,s,a);break;case 3:r4(e,t,s,a,o);break;case 4:s4(e,t,s,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const hM=new Uint16Array([255]),fM=new Uint8Array(hM.buffer),dM=fM[0]===255;function pM(n){const{data:e,width:t,height:s,channels:a,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(s*t*c);let d=0;for(let p=0;p<7;p++){const y=u[p],_=Math.ceil((t-y.x)/y.xStep),b=Math.ceil((s-y.y)/y.yStep);if(_<=0||b<=0)continue;const A=_*c,N=new Uint8Array(A);for(let k=0;k<b;k++){const C=e[d++],R=e.subarray(d,d+A);d+=A;const D=new Uint8Array(A);uM(C,R,D,N,A,c),N.set(D);for(let V=0;V<_;V++){const F=y.x+V*y.xStep,G=y.y+k*y.yStep;if(!(F>=t||G>=s))for(let H=0;H<c;H++)f[(G*t+F)*c+H]=D[V*c+H]}}}if(o===16){const p=new Uint16Array(f.buffer);if(dM)for(let y=0;y<p.length;y++)p[y]=mM(p[y]);return p}else return f}function mM(n){return(n&255)<<8|n>>8&255}const gM=new Uint16Array([255]),bM=new Uint8Array(gM.buffer),vM=bM[0]===255,yM=new Uint8Array(0);function Gy(n){const{data:e,width:t,height:s,channels:a,depth:o}=n,u=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*t),f=new Uint8Array(s*c);let d=yM,p=0,y,_;for(let b=0;b<s;b++){switch(y=e.subarray(p+1,p+1+c),_=f.subarray(b*c,(b+1)*c),e[p]){case 0:e4(y,_,c);break;case 1:t4(y,_,c,u);break;case 2:n4(y,_,d,c);break;case 3:r4(y,_,d,c,u);break;case 4:s4(y,_,d,c,u);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}d=_,p+=c+1}if(o===16){const b=new Uint16Array(f.buffer);if(vM)for(let A=0;A<b.length;A++)b[A]=xM(b[A]);return b}else return f}function xM(n){return(n&255)<<8|n>>8&255}const W1=Uint8Array.of(137,80,78,71,13,10,26,10);function Yy(n){if(!wM(n.readBytes(W1.length)))throw new Error("wrong PNG signature")}function wM(n){if(n.length<W1.length)return!1;for(let e=0;e<W1.length;e++)if(n[e]!==W1[e])return!1;return!0}const _M="tEXt",SM=0,i4=new TextDecoder("latin1");function NM(n){if(TM(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const AM=/^[\u0000-\u00FF]*$/;function TM(n){if(!AM.test(n))throw new Error("invalid latin1 text")}function CM(n,e,t){const s=a4(e);n[s]=kM(e,t-s.length-1)}function a4(n){for(n.mark();n.readByte()!==SM;);const e=n.offset;n.reset();const t=i4.decode(n.readBytes(e-n.offset-1));return n.skip(1),NM(t),t}function kM(n,e){return i4.decode(n.readBytes(e))}const ia={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Dm={UNKNOWN:-1,DEFLATE:0},$y={UNKNOWN:-1,ADAPTIVE:0},Rm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},R1={NONE:0,BACKGROUND:1,PREVIOUS:2},Im={SOURCE:0,OVER:1};class jM extends O2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:s=!1}=t;this._checkCrc=s,this._inflator=new Uy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Dm.UNKNOWN,this._filterMethod=$y.UNKNOWN,this._interlaceMethod=Rm.UNKNOWN,this._colorType=ia.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Yy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Yy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const s=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case _M:CM(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Wy(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const s=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=s+e;break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Wy(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=EM(this.readUint8());const t=this.readUint8();this._colorType=t;let s;switch(t){case ia.GREYSCALE:s=1;break;case ia.TRUECOLOUR:s=3;break;case ia.INDEXED_COLOUR:s=1;break;case ia.GREYSCALE_ALPHA:s=2;break;case ia.TRUECOLOUR_ALPHA:s=4;break;case ia.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Dm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const s=[];this._palette=s;for(let a=0;a<t;a++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,s=this.offset+this.byteOffset;if(s+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,s,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ia.GREYSCALE:case ia.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case ia.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const s=this.readByte();this._palette[t].push(s)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case ia.UNKNOWN:case ia.GREYSCALE_ALPHA:case ia.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=a4(this),s=this.readUint8();if(s!==Dm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:aM(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),s=this.readByte();this._png.resolution={x:e,y:t,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(e);if(s){if(s.data=Gy({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)t.data=s.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(s,a,t),this.addFrameDataToCanvas(t,s)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,s){switch(e.disposeOp){case R1.NONE:break;case R1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const u=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[u+c]=0}break;case R1.PREVIOUS:s.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const s=1<<this._png.depth,a=(o,u)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+u)*this._png.channels,f=(o*t.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case Im.SOURCE:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case Im.OVER:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++){const p=t.data[f+this._png.channels-1]/s,y=d%(this._png.channels-1)===0?1:t.data[f+d],_=Math.floor(p*y+(1-p)*e.data[c+d]);e.data[c+d]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==$y.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Rm.NO_INTERLACE)this._png.data=Gy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Rm.ADAM7)this._png.data=pM({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:R1.NONE,blendOp:Im.SOURCE,data:e}),this._inflator=new Uy,this._writingDataChunks=!1}}function EM(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Xy;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Xy||(Xy={}));function MM(n,e){return new jM(n,e).decode()}var tn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Vm(){tn.console&&typeof tn.console.log=="function"&&tn.console.log.apply(tn.console,arguments)}var mr={log:Vm,warn:function(n){tn.console&&(typeof tn.console.warn=="function"?tn.console.warn.apply(tn.console,arguments):Vm.call(null,arguments))},error:function(n){tn.console&&(typeof tn.console.error=="function"?tn.console.error.apply(tn.console,arguments):Vm(n))}};function Fm(n,e,t){var s=new XMLHttpRequest;s.open("GET",n),s.responseType="blob",s.onload=function(){ou(s.response,e,t)},s.onerror=function(){mr.error("could not download file")},s.send()}function Zy(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function I1(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var ou=tn.saveAs||((typeof window>"u"?"undefined":Jn(window))!=="object"||window!==tn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var s=tn.URL||tn.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?Zy(a.href)?Fm(n,e,t):I1(a,a.target="_blank"):I1(a)):(a.href=s.createObjectURL(n),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){I1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Zy(n))Fm(n,e,t);else{var s=document.createElement("a");s.href=n,s.target="_blank",setTimeout(function(){I1(s)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Jn(o)!=="object"&&(mr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof n=="string")return Fm(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test(tn.HTMLElement)||tn.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&o)&&(typeof FileReader>"u"?"undefined":Jn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=u?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=p:location=p,s=null},c.readAsDataURL(n)}else{var f=tn.URL||tn.webkitURL,d=f.createObjectURL(n);s?s.location=d:location.href=d,s=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function o4(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],s=0;s<t.length;s++){var a=t[s].re,o=t[s].process,u=a.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var G1=tn.atob.bind(tn),Qy=tn.btoa.bind(tn);function Bm(n,e){var t=n[0],s=n[1],a=n[2],o=n[3];t=ii(t,s,a,o,e[0],7,-680876936),o=ii(o,t,s,a,e[1],12,-389564586),a=ii(a,o,t,s,e[2],17,606105819),s=ii(s,a,o,t,e[3],22,-1044525330),t=ii(t,s,a,o,e[4],7,-176418897),o=ii(o,t,s,a,e[5],12,1200080426),a=ii(a,o,t,s,e[6],17,-1473231341),s=ii(s,a,o,t,e[7],22,-45705983),t=ii(t,s,a,o,e[8],7,1770035416),o=ii(o,t,s,a,e[9],12,-1958414417),a=ii(a,o,t,s,e[10],17,-42063),s=ii(s,a,o,t,e[11],22,-1990404162),t=ii(t,s,a,o,e[12],7,1804603682),o=ii(o,t,s,a,e[13],12,-40341101),a=ii(a,o,t,s,e[14],17,-1502002290),t=ai(t,s=ii(s,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=ai(o,t,s,a,e[6],9,-1069501632),a=ai(a,o,t,s,e[11],14,643717713),s=ai(s,a,o,t,e[0],20,-373897302),t=ai(t,s,a,o,e[5],5,-701558691),o=ai(o,t,s,a,e[10],9,38016083),a=ai(a,o,t,s,e[15],14,-660478335),s=ai(s,a,o,t,e[4],20,-405537848),t=ai(t,s,a,o,e[9],5,568446438),o=ai(o,t,s,a,e[14],9,-1019803690),a=ai(a,o,t,s,e[3],14,-187363961),s=ai(s,a,o,t,e[8],20,1163531501),t=ai(t,s,a,o,e[13],5,-1444681467),o=ai(o,t,s,a,e[2],9,-51403784),a=ai(a,o,t,s,e[7],14,1735328473),t=oi(t,s=ai(s,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=oi(o,t,s,a,e[8],11,-2022574463),a=oi(a,o,t,s,e[11],16,1839030562),s=oi(s,a,o,t,e[14],23,-35309556),t=oi(t,s,a,o,e[1],4,-1530992060),o=oi(o,t,s,a,e[4],11,1272893353),a=oi(a,o,t,s,e[7],16,-155497632),s=oi(s,a,o,t,e[10],23,-1094730640),t=oi(t,s,a,o,e[13],4,681279174),o=oi(o,t,s,a,e[0],11,-358537222),a=oi(a,o,t,s,e[3],16,-722521979),s=oi(s,a,o,t,e[6],23,76029189),t=oi(t,s,a,o,e[9],4,-640364487),o=oi(o,t,s,a,e[12],11,-421815835),a=oi(a,o,t,s,e[15],16,530742520),t=li(t,s=oi(s,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=li(o,t,s,a,e[7],10,1126891415),a=li(a,o,t,s,e[14],15,-1416354905),s=li(s,a,o,t,e[5],21,-57434055),t=li(t,s,a,o,e[12],6,1700485571),o=li(o,t,s,a,e[3],10,-1894986606),a=li(a,o,t,s,e[10],15,-1051523),s=li(s,a,o,t,e[1],21,-2054922799),t=li(t,s,a,o,e[8],6,1873313359),o=li(o,t,s,a,e[15],10,-30611744),a=li(a,o,t,s,e[6],15,-1560198380),s=li(s,a,o,t,e[13],21,1309151649),t=li(t,s,a,o,e[4],6,-145523070),o=li(o,t,s,a,e[11],10,-1120210379),a=li(a,o,t,s,e[2],15,718787259),s=li(s,a,o,t,e[9],21,-343485551),n[0]=_c(t,n[0]),n[1]=_c(s,n[1]),n[2]=_c(a,n[2]),n[3]=_c(o,n[3])}function Jp(n,e,t,s,a,o){return e=_c(_c(e,n),_c(s,o)),_c(e<<a|e>>>32-a,t)}function ii(n,e,t,s,a,o,u){return Jp(e&t|~e&s,n,e,a,o,u)}function ai(n,e,t,s,a,o,u){return Jp(e&s|t&~s,n,e,a,o,u)}function oi(n,e,t,s,a,o,u){return Jp(e^t^s,n,e,a,o,u)}function li(n,e,t,s,a,o,u){return Jp(t^(e|~s),n,e,a,o,u)}function l4(n){var e,t=n.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Bm(s,LM(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Bm(s,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,Bm(s,a),s}function LM(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Ky="0123456789abcdef".split("");function OM(n){for(var e="",t=0;t<4;t++)e+=Ky[n>>8*t+4&15]+Ky[n>>8*t&15];return e}function DM(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Sg(n){return l4(n).map(DM).join("")}var RM=(function(n){for(var e=0;e<n.length;e++)n[e]=OM(n[e]);return n.join("")})(l4("hello"))!="5d41402abc4b2a76b9719d911017c592";function _c(n,e){if(RM){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function Ng(n,e){var t,s,a,o;if(n!==t){for(var u=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var p=c[f];d=(d+p+u.charCodeAt(f))%256,c[f]=c[d],c[d]=p}t=n,s=c}else c=s;var y=e.length,_=0,b=0,A="";for(f=0;f<y;f++)b=(b+(p=c[_=(_+1)%256]))%256,c[_]=c[b],c[b]=p,u=c[(c[_]+c[b])%256],A+=String.fromCharCode(e.charCodeAt(f)^u);return A}var Jy={print:4,modify:8,copy:16,"annot-forms":32};function vh(n,e,t,s){this.v=1,this.r=2;var a=192;n.forEach(function(c){if(Jy.perm!==void 0)throw new Error("Invalid permission: "+c);a+=Jy[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^a)),this.encryptionKey=Sg(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=Ng(this.encryptionKey,this.padding)}function yh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,s=0;s<t;s++){var a=n.charCodeAt(s);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[s]}return e}function ex(n){if(Jn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,s,a){if(a=a||!1,typeof t!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[s,!!a],o},this.unsubscribe=function(t){for(var s in e)if(e[s][t])return delete e[s][t],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,s)}catch(c){tn.console&&mr.error("jsPDF PubSub Error",c.message,c)}u[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ap(n){if(!(this instanceof Ap))return new Ap(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function c4(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function cu(n,e,t,s,a){if(!(this instanceof cu))return new cu(n,e,t,s,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,c4.call(this,s,a)}function Sh(n,e,t,s,a){if(!(this instanceof Sh))return new Sh(n,e,t,s,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,c4.call(this,s,a)}function Ft(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",p=null;Jn(n=n||{})==="object"&&(t=n.orientation,s=n.unit||s,a=n.format||a,o=n.compress||n.compressPdf||o,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),s=s||"mm",t=(""+(t||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,_={},b={internal:{},__private__:{}};b.__private__.PubSub=ex;var A="1.3",N=b.__private__.getPdfVersion=function(){return A};b.__private__.setPdfVersion=function(S){A=S};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return k};var C=b.__private__.getPageFormat=function(S){return k[S]};a=a||"a4";var R="compat",D="advanced",V=R;function F(){this.saveGraphicsState(),z(new nt(yt,0,0,-yt,0,za()*yt).toString()+" cm"),this.setFontSize(this.getFontSize()/yt),d="n",V=D}function G(){this.restoreGraphicsState(),d="S",V=R}var H=b.__private__.combineFontStyleAndFontWeight=function(S,P){if(S=="bold"&&P=="normal"||S=="bold"&&P==400||S=="normal"&&P=="italic"||S=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(S=P==400||P==="normal"?S==="italic"?"italic":"normal":P!=700&&P!=="bold"||S!=="normal"?(P==700?"bold":P)+""+S:"bold"),S};b.advancedAPI=function(S){var P=V===R;return P&&F.call(this),typeof S!="function"||(S(this),P&&G.call(this)),this},b.compatAPI=function(S){var P=V===D;return P&&G.call(this),typeof S!="function"||(S(this),P&&F.call(this)),this},b.isAdvancedAPI=function(){return V===D};var M,B=function(S){if(V!==D)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},te=b.roundToPrecision=b.__private__.roundToPrecision=function(S,P){var he=e||P;if(isNaN(S)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(he).replace(/0+$/,"")};M=b.hpf=b.__private__.hpf=typeof f=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return te(S,f)}:f==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return te(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return te(S,16)};var E=b.f2=b.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return te(S,2)},I=b.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return te(S,3)},re=b.scale=b.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return V===R?S*yt:V===D?S:void 0},U=function(S){return re((function(P){return V===R?za()-P:V===D?P:void 0})(S))};b.__private__.setPrecision=b.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var oe,Y="00000000000000000000000000000000",J=b.__private__.getFileId=function(){return Y},le=b.__private__.setFileId=function(S){return Y=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Br=new vh(p.userPermissions,p.userPassword,p.ownerPassword,Y)),Y};b.setFileId=function(S){return le(S),this},b.getFileId=function(){return J()};var pe=b.__private__.convertDateToPDFDate=function(S){var P=S.getTimezoneOffset(),he=P<0?"+":"-",ge=Math.floor(Math.abs(P/60)),Te=Math.abs(P%60),Ge=[he,X(ge),"'",X(Te),"'"].join("");return["D:",S.getFullYear(),X(S.getMonth()+1),X(S.getDate()),X(S.getHours()),X(S.getMinutes()),X(S.getSeconds()),Ge].join("")},be=b.__private__.convertPDFDateToDate=function(S){var P=parseInt(S.substr(2,4),10),he=parseInt(S.substr(6,2),10)-1,ge=parseInt(S.substr(8,2),10),Te=parseInt(S.substr(10,2),10),Ge=parseInt(S.substr(12,2),10),tt=parseInt(S.substr(14,2),10);return new Date(P,he,ge,Te,Ge,tt,0)},W=b.__private__.setCreationDate=function(S){var P;if(S===void 0&&(S=new Date),S instanceof Date)P=pe(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=S}return oe=P},j=b.__private__.getCreationDate=function(S){var P=oe;return S==="jsDate"&&(P=be(oe)),P};b.setCreationDate=function(S){return W(S),this},b.getCreationDate=function(S){return j(S)};var $,X=b.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},K=b.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ae=0,de=[],fe=[],xe=0,we=[],Ie=[],$e=!1,Je=fe;b.__private__.setCustomOutputDestination=function(S){$e=!0,Je=S};var ct=function(S){$e||(Je=S)};b.__private__.resetCustomOutputDestination=function(){$e=!1,Je=fe};var z=b.__private__.out=function(S){return S=S.toString(),xe+=S.length+1,Je.push(S),Je},Ne=b.__private__.write=function(S){return z(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},rt=b.__private__.getArrayBuffer=function(S){for(var P=S.length,he=new ArrayBuffer(P),ge=new Uint8Array(he);P--;)ge[P]=S.charCodeAt(P);return he},qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return qe};var Ee=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(S){return Ee=V===D?S/yt:S,this};var Ke,We=b.__private__.getFontSize=b.getFontSize=function(){return V===R?Ee:Ee*yt},lt=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(S){return lt=S,this},b.__private__.getR2L=b.getR2L=function(){return lt};var at,ze=b.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))Ke=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');Ke=S}else Ke=parseInt(S,10)};b.__private__.getZoomMode=function(){return Ke};var st,et=b.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');at=S};b.__private__.getPageMode=function(){return at};var ut=b.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');st=S};b.__private__.getLayoutMode=function(){return st},b.__private__.setDisplayMode=b.setDisplayMode=function(S,P,he){return ze(S),ut(P),et(he),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(S){if(Object.keys(xt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[S]},b.__private__.getDocumentProperties=function(){return xt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(S){for(var P in xt)xt.hasOwnProperty(P)&&S[P]&&(xt[P]=S[P]);return this},b.__private__.setDocumentProperty=function(S,P){if(Object.keys(xt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[S]=P};var dt,yt,ht,bn,Ht,Tt={},St={},At=[],bt={},on={},Mt={},Dt={},xn=null,vt=0,_e=[],it=new ex(b),Vt=n.hotfixes||[],Ae={},ft={},pt=[],nt=function S(P,he,ge,Te,Ge,tt){if(!(this instanceof S))return new S(P,he,ge,Te,Ge,tt);isNaN(P)&&(P=1),isNaN(he)&&(he=0),isNaN(ge)&&(ge=0),isNaN(Te)&&(Te=1),isNaN(Ge)&&(Ge=0),isNaN(tt)&&(tt=0),this._matrix=[P,he,ge,Te,Ge,tt]};Object.defineProperty(nt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(nt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(nt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(nt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(nt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(nt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(nt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(nt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(nt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(nt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(nt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(nt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(nt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(S)},nt.prototype.multiply=function(S){var P=S.sx*this.sx+S.shy*this.shx,he=S.sx*this.shy+S.shy*this.sy,ge=S.shx*this.sx+S.sy*this.shx,Te=S.shx*this.shy+S.sy*this.sy,Ge=S.tx*this.sx+S.ty*this.shx+this.tx,tt=S.tx*this.shy+S.ty*this.sy+this.ty;return new nt(P,he,ge,Te,Ge,tt)},nt.prototype.decompose=function(){var S=this.sx,P=this.shy,he=this.shx,ge=this.sy,Te=this.tx,Ge=this.ty,tt=Math.sqrt(S*S+P*P),jt=(S/=tt)*he+(P/=tt)*ge;he-=S*jt,ge-=P*jt;var Rt=Math.sqrt(he*he+ge*ge);return jt/=Rt,S*(ge/=Rt)<P*(he/=Rt)&&(S=-S,P=-P,jt=-jt,tt=-tt),{scale:new nt(tt,0,0,Rt,0,0),translate:new nt(1,0,0,1,Te,Ge),rotate:new nt(S,P,-P,S,0,0),skew:new nt(1,0,jt,1,0,0)}},nt.prototype.toString=function(S){return this.join(" ")},nt.prototype.inversed=function(){var S=this.sx,P=this.shy,he=this.shx,ge=this.sy,Te=this.tx,Ge=this.ty,tt=1/(S*ge-P*he),jt=ge*tt,Rt=-P*tt,Qt=-he*tt,un=S*tt;return new nt(jt,Rt,Qt,un,-jt*Te-Qt*Ge,-Rt*Te-un*Ge)},nt.prototype.applyToPoint=function(S){var P=S.x*this.sx+S.y*this.shx+this.tx,he=S.x*this.shy+S.y*this.sy+this.ty;return new Si(P,he)},nt.prototype.applyToRectangle=function(S){var P=this.applyToPoint(S),he=this.applyToPoint(new Si(S.x+S.w,S.y+S.h));return new Ra(P.x,P.y,he.x-P.x,he.y-P.y)},nt.prototype.clone=function(){var S=this.sx,P=this.shy,he=this.shx,ge=this.sy,Te=this.tx,Ge=this.ty;return new nt(S,P,he,ge,Te,Ge)},b.Matrix=nt;var Nt=b.matrixMult=function(S,P){return P.multiply(S)},ln=new nt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=ln;var vn=function(S,P){if(!on[S]){var he=(P instanceof cu?"Sh":"P")+(Object.keys(bt).length+1).toString(10);P.id=he,on[S]=he,bt[he]=P,it.publish("addPattern",P)}};b.ShadingPattern=cu,b.TilingPattern=Sh,b.addShadingPattern=function(S,P){return B("addShadingPattern()"),vn(S,P),this},b.beginTilingPattern=function(S){B("beginTilingPattern()"),el(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},b.endTilingPattern=function(S,P){B("endTilingPattern()"),P.stream=Ie[$].join(`
`),vn(S,P),it.publish("endTilingPattern",P),pt.pop().restore()};var Nn,Wt=b.__private__.newObject=function(){var S=nn();return pn(S,!0),S},nn=b.__private__.newObjectDeferred=function(){return ae++,de[ae]=function(){return xe},ae},pn=function(S,P){return P=typeof P=="boolean"&&P,de[S]=xe,P&&z(S+" 0 obj"),S},cr=b.__private__.newAdditionalObject=function(){var S={objId:nn(),content:""};return we.push(S),S},_n=nn(),gn=nn(),Ln=b.__private__.decodeColorString=function(S){var P=S.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var he=parseFloat(P[0]);P=[he,he,he,"r"]}for(var ge="#",Te=0;Te<3;Te++)ge+=("0"+Math.floor(255*parseFloat(P[Te])).toString(16)).slice(-2);return ge},xr=b.__private__.encodeColorString=function(S){var P;typeof S=="string"&&(S={ch1:S});var he=S.ch1,ge=S.ch2,Te=S.ch3,Ge=S.ch4,tt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var jt=new o4(he);if(jt.ok)he=jt.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var Rt=parseInt(he.substr(1),16);he=Rt>>16&255,ge=Rt>>8&255,Te=255&Rt}if(ge===void 0||Ge===void 0&&he===ge&&ge===Te)P=typeof he=="string"?he+" "+tt[0]:S.precision===2?E(he/255)+" "+tt[0]:I(he/255)+" "+tt[0];else if(Ge===void 0||Jn(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return["1.","1.","1.",tt[1]].join(" ");P=typeof he=="string"?[he,ge,Te,tt[1]].join(" "):S.precision===2?[E(he/255),E(ge/255),E(Te/255),tt[1]].join(" "):[I(he/255),I(ge/255),I(Te/255),tt[1]].join(" ")}else P=typeof he=="string"?[he,ge,Te,Ge,tt[2]].join(" "):S.precision===2?[E(he),E(ge),E(Te),E(Ge),tt[2]].join(" "):[I(he),I(ge),I(Te),I(Ge),tt[2]].join(" ");return P},br=b.__private__.getFilters=function(){return u},cs=b.__private__.putStream=function(S){var P=(S=S||{}).data||"",he=S.filters||br(),ge=S.alreadyAppliedFilters||[],Te=S.addLength1||!1,Ge=P.length,tt=S.objectId,jt=function(ns){return ns};if(p!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(jt=Br.encryptor(tt,0));var Rt={};he===!0&&(he=["FlateEncode"]);var Qt=S.additionalKeyValues||[],un=(Rt=Ft.API.processDataByFilters!==void 0?Ft.API.processDataByFilters(P,he):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Rt.data.length!==0&&(Qt.push({key:"Length",value:Rt.data.length}),Te===!0&&Qt.push({key:"Length1",value:Ge})),un.length!=0)if(un.split("/").length-1==1)Qt.push({key:"Filter",value:un});else{Qt.push({key:"Filter",value:"["+un+"]"});for(var On=0;On<Qt.length;On+=1)if(Qt[On].key==="DecodeParms"){for(var wr=[],zr=0;zr<Rt.reverseChain.split("/").length-1;zr+=1)wr.push("null");wr.push(Qt[On].value),Qt[On].value="["+wr.join(" ")+"]"}}z("<<");for(var er=0;er<Qt.length;er++)z("/"+Qt[er].key+" "+Qt[er].value);z(">>"),Rt.data.length!==0&&(z("stream"),z(jt(Rt.data)),z("endstream"))},ke=b.__private__.putPage=function(S){var P=S.number,he=S.data,ge=S.objId,Te=S.contentsObjId;pn(ge,!0),z("<</Type /Page"),z("/Parent "+S.rootDictionaryObjId+" 0 R"),z("/Resources "+S.resourceDictionaryObjId+" 0 R"),z("/MediaBox ["+parseFloat(M(S.mediaBox.bottomLeftX))+" "+parseFloat(M(S.mediaBox.bottomLeftY))+" "+M(S.mediaBox.topRightX)+" "+M(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&z("/CropBox ["+M(S.cropBox.bottomLeftX)+" "+M(S.cropBox.bottomLeftY)+" "+M(S.cropBox.topRightX)+" "+M(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&z("/BleedBox ["+M(S.bleedBox.bottomLeftX)+" "+M(S.bleedBox.bottomLeftY)+" "+M(S.bleedBox.topRightX)+" "+M(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&z("/TrimBox ["+M(S.trimBox.bottomLeftX)+" "+M(S.trimBox.bottomLeftY)+" "+M(S.trimBox.topRightX)+" "+M(S.trimBox.topRightY)+"]"),S.artBox!==null&&z("/ArtBox ["+M(S.artBox.bottomLeftX)+" "+M(S.artBox.bottomLeftY)+" "+M(S.artBox.topRightX)+" "+M(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&z("/UserUnit "+S.userUnit),it.publish("putPage",{objId:ge,pageContext:_e[P],pageNumber:P,page:he}),z("/Contents "+Te+" 0 R"),z(">>"),z("endobj");var Ge=he.join(`
`);return V===D&&(Ge+=`
Q`),pn(Te,!0),cs({data:Ge,filters:br(),objectId:Te}),z("endobj"),ge},Ve=b.__private__.putPages=function(){var S,P,he=[];for(S=1;S<=vt;S++)_e[S].objId=nn(),_e[S].contentsObjId=nn();for(S=1;S<=vt;S++)he.push(ke({number:S,data:Ie[S],objId:_e[S].objId,contentsObjId:_e[S].contentsObjId,mediaBox:_e[S].mediaBox,cropBox:_e[S].cropBox,bleedBox:_e[S].bleedBox,trimBox:_e[S].trimBox,artBox:_e[S].artBox,userUnit:_e[S].userUnit,rootDictionaryObjId:_n,resourceDictionaryObjId:gn}));pn(_n,!0),z("<</Type /Pages");var ge="/Kids [";for(P=0;P<vt;P++)ge+=he[P]+" 0 R ";z(ge+"]"),z("/Count "+vt),z(">>"),z("endobj"),it.publish("postPutPages")},Fe=function(S){it.publish("putFont",{font:S,out:z,newObject:Wt,putStream:cs}),S.isAlreadyPutted!==!0&&(S.objectNumber=Wt(),z("<<"),z("/Type /Font"),z("/BaseFont /"+yh(S.postScriptName)),z("/Subtype /Type1"),typeof S.encoding=="string"&&z("/Encoding /"+S.encoding),z("/FirstChar 32"),z("/LastChar 255"),z(">>"),z("endobj"))},gt=function(S){S.objectNumber=Wt();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[M(S.x),M(S.y),M(S.x+S.width),M(S.y+S.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var he=S.pages[1].join(`
`);cs({data:he,additionalKeyValues:P,objectId:S.objectNumber}),z("endobj")},Gt=function(S,P){P||(P=21);var he=Wt(),ge=(function(tt,jt){var Rt,Qt=[],un=1/(jt-1);for(Rt=0;Rt<1;Rt+=un)Qt.push(Rt);if(Qt.push(1),tt[0].offset!=0){var On={offset:0,color:tt[0].color};tt.unshift(On)}if(tt[tt.length-1].offset!=1){var wr={offset:1,color:tt[tt.length-1].color};tt.push(wr)}for(var zr="",er=0,ns=0;ns<Qt.length;ns++){for(Rt=Qt[ns];Rt>tt[er+1].offset;)er++;var Gr=tt[er].offset,_s=(Rt-Gr)/(tt[er+1].offset-Gr),Pa=tt[er].color,Zi=tt[er+1].color;zr+=K(Math.round((1-_s)*Pa[0]+_s*Zi[0]).toString(16))+K(Math.round((1-_s)*Pa[1]+_s*Zi[1]).toString(16))+K(Math.round((1-_s)*Pa[2]+_s*Zi[2]).toString(16))}return zr.trim()})(S.colors,P),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+P+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),cs({data:ge,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),z("endobj"),S.objectNumber=Wt(),z("<< /ShadingType "+S.type),z("/ColorSpace /DeviceRGB");var Ge="/Coords ["+M(parseFloat(S.coords[0]))+" "+M(parseFloat(S.coords[1]))+" ";S.type===2?Ge+=M(parseFloat(S.coords[2]))+" "+M(parseFloat(S.coords[3])):Ge+=M(parseFloat(S.coords[2]))+" "+M(parseFloat(S.coords[3]))+" "+M(parseFloat(S.coords[4]))+" "+M(parseFloat(S.coords[5])),z(Ge+="]"),S.matrix&&z("/Matrix ["+S.matrix.toString()+"]"),z("/Function "+he+" 0 R"),z("/Extend [true true]"),z(">>"),z("endobj")},Ct=function(S,P){var he=nn(),ge=Wt();P.push({resourcesOid:he,objectOid:ge}),S.objectNumber=ge;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+S.boundingBox.map(M).join(" ")+"]"}),Te.push({key:"XStep",value:M(S.xStep)}),Te.push({key:"YStep",value:M(S.yStep)}),Te.push({key:"Resources",value:he+" 0 R"}),S.matrix&&Te.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),cs({data:S.stream,additionalKeyValues:Te,objectId:S.objectNumber}),z("endobj")},cn=function(S){for(var P in S.objectNumber=Wt(),z("<<"),S)switch(P){case"opacity":z("/ca "+E(S[P]));break;case"stroke-opacity":z("/CA "+E(S[P]))}z(">>"),z("endobj")},zt=function(S){pn(S.resourcesOid,!0),z("<<"),z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var P in z("/Font <<"),Tt)Tt.hasOwnProperty(P)&&(y===!1||y===!0&&_.hasOwnProperty(P))&&z("/"+P+" "+Tt[P].objectNumber+" 0 R");z(">>")})(),(function(){if(Object.keys(bt).length>0){for(var P in z("/Shading <<"),bt)bt.hasOwnProperty(P)&&bt[P]instanceof cu&&bt[P].objectNumber>=0&&z("/"+P+" "+bt[P].objectNumber+" 0 R");it.publish("putShadingPatternDict"),z(">>")}})(),(function(P){if(Object.keys(bt).length>0){for(var he in z("/Pattern <<"),bt)bt.hasOwnProperty(he)&&bt[he]instanceof b.TilingPattern&&bt[he].objectNumber>=0&&bt[he].objectNumber<P&&z("/"+he+" "+bt[he].objectNumber+" 0 R");it.publish("putTilingPatternDict"),z(">>")}})(S.objectOid),(function(){if(Object.keys(Mt).length>0){var P;for(P in z("/ExtGState <<"),Mt)Mt.hasOwnProperty(P)&&Mt[P].objectNumber>=0&&z("/"+P+" "+Mt[P].objectNumber+" 0 R");it.publish("putGStateDict"),z(">>")}})(),(function(){for(var P in z("/XObject <<"),Ae)Ae.hasOwnProperty(P)&&Ae[P].objectNumber>=0&&z("/"+P+" "+Ae[P].objectNumber+" 0 R");it.publish("putXobjectDict"),z(">>")})(),z(">>"),z("endobj")},Jt=function(S){St[S.fontName]=St[S.fontName]||{},St[S.fontName][S.fontStyle]=S.id},Vn=function(S,P,he,ge,Te){var Ge={id:"F"+(Object.keys(Tt).length+1).toString(10),postScriptName:S,fontName:P,fontStyle:he,encoding:ge,isStandardFont:Te||!1,metadata:{}};return it.publish("addFont",{font:Ge,instance:this}),Tt[Ge.id]=Ge,Jt(Ge),Ge.id},Wn=b.__private__.pdfEscape=b.pdfEscape=function(S,P){return(function(he,ge){var Te,Ge,tt,jt,Rt,Qt,un,On,wr;if(tt=(ge=ge||{}).sourceEncoding||"Unicode",Rt=ge.outputEncoding,(ge.autoencode||Rt)&&Tt[dt].metadata&&Tt[dt].metadata[tt]&&Tt[dt].metadata[tt].encoding&&(jt=Tt[dt].metadata[tt].encoding,!Rt&&Tt[dt].encoding&&(Rt=Tt[dt].encoding),!Rt&&jt.codePages&&(Rt=jt.codePages[0]),typeof Rt=="string"&&(Rt=jt[Rt]),Rt)){for(un=!1,Qt=[],Te=0,Ge=he.length;Te<Ge;Te++)(On=Rt[he.charCodeAt(Te)])?Qt.push(String.fromCharCode(On)):Qt.push(he[Te]),Qt[Te].charCodeAt(0)>>8&&(un=!0);he=Qt.join("")}for(Te=he.length;un===void 0&&Te!==0;)he.charCodeAt(Te-1)>>8&&(un=!0),Te--;if(!un)return he;for(Qt=ge.noBOM?[]:[254,255],Te=0,Ge=he.length;Te<Ge;Te++){if((wr=(On=he.charCodeAt(Te))>>8)>>8)throw new Error("Character at position "+Te+" of string '"+he+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qt.push(wr),Qt.push(On-(wr<<8))}return String.fromCharCode.apply(void 0,Qt)})(S,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ur=b.__private__.beginPage=function(S){Ie[++vt]=[],_e[vt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Hs(vt),ct(Ie[$])},hr=function(S,P){var he,ge,Te;switch(t=P||t,typeof S=="string"&&(he=C(S.toLowerCase()),Array.isArray(he)&&(ge=he[0],Te=he[1])),Array.isArray(S)&&(ge=S[0]*yt,Te=S[1]*yt),isNaN(ge)&&(ge=a[0],Te=a[1]),(ge>14400||Te>14400)&&(mr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Te=Math.min(14400,Te)),a=[ge,Te],t.substr(0,1)){case"l":Te>ge&&(a=[Te,ge]);break;case"p":ge>Te&&(a=[Te,ge])}ur(a),Yt(Qo),z(di),Fl!==0&&z(Fl+" J"),hs!==0&&z(hs+" j"),it.publish("addPage",{pageNumber:vt})},ts=function(S){S>0&&S<=vt&&(Ie.splice(S,1),_e.splice(S,1),vt--,$>vt&&($=vt),this.setPage($))},Hs=function(S){S>0&&S<=vt&&($=S)},wi=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Ie.length-1},Yi=function(S,P,he){var ge,Te=void 0;return he=he||{},S=S!==void 0?S:Tt[dt].fontName,P=P!==void 0?P:Tt[dt].fontStyle,ge=S.toLowerCase(),St[ge]!==void 0&&St[ge][P]!==void 0?Te=St[ge][P]:St[S]!==void 0&&St[S][P]!==void 0?Te=St[S][P]:he.disableWarning===!1&&mr.warn("Unable to look up font label for font '"+S+"', '"+P+"'. Refer to getFontList() for available fonts."),Te||he.noFallback||(Te=St.times[P])==null&&(Te=St.times.normal),Te},Mr=b.__private__.putInfo=function(){var S=Wt(),P=function(ge){return ge};for(var he in p!==null&&(P=Br.encryptor(S,0)),z("<<"),z("/Producer ("+Wn(P("jsPDF "+Ft.version))+")"),xt)xt.hasOwnProperty(he)&&xt[he]&&z("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+Wn(P(xt[he]))+")");z("/CreationDate ("+Wn(P(oe))+")"),z(">>"),z("endobj")},Ls=b.__private__.putCatalog=function(S){var P=(S=S||{}).rootDictionaryObjId||_n;switch(Wt(),z("<<"),z("/Type /Catalog"),z("/Pages "+P+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":z("/OpenAction [3 0 R /Fit]");break;case"original":z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+Ke;he.substr(he.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&z("/OpenAction [3 0 R /XYZ null null "+E(Ke)+"]")}switch(st||(st="continuous"),st){case"continuous":z("/PageLayout /OneColumn");break;case"single":z("/PageLayout /SinglePage");break;case"two":case"twoleft":z("/PageLayout /TwoColumnLeft");break;case"tworight":z("/PageLayout /TwoColumnRight")}at&&z("/PageMode /"+at),it.publish("putCatalog"),z(">>"),z("endobj")},Ws=b.__private__.putTrailer=function(){z("trailer"),z("<<"),z("/Size "+(ae+1)),z("/Root "+ae+" 0 R"),z("/Info "+(ae-1)+" 0 R"),p!==null&&z("/Encrypt "+Br.oid+" 0 R"),z("/ID [ <"+Y+"> <"+Y+"> ]"),z(">>")},Sn=b.__private__.putHeader=function(){z("%PDF-"+A),z("%")},ha=b.__private__.putXRef=function(){var S="0000000000";z("xref"),z("0 "+(ae+1)),z("0000000000 65535 f ");for(var P=1;P<=ae;P++)typeof de[P]=="function"?z((S+de[P]()).slice(-10)+" 00000 n "):de[P]!==void 0?z((S+de[P]).slice(-10)+" 00000 n "):z("0000000000 00000 n ")},hi=b.__private__.buildDocument=function(){var S;ae=0,xe=0,fe=[],de=[],we=[],_n=nn(),gn=nn(),ct(fe),it.publish("buildDocument"),Sn(),Ve(),(function(){it.publish("putAdditionalObjects");for(var he=0;he<we.length;he++){var ge=we[he];pn(ge.objId,!0),z(ge.content),z("endobj")}it.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var he in Tt)Tt.hasOwnProperty(he)&&(y===!1||y===!0&&_.hasOwnProperty(he))&&Fe(Tt[he])})(),(function(){var he;for(he in Mt)Mt.hasOwnProperty(he)&&cn(Mt[he])})(),(function(){for(var he in Ae)Ae.hasOwnProperty(he)&&gt(Ae[he])})(),(function(he){var ge;for(ge in bt)bt.hasOwnProperty(ge)&&(bt[ge]instanceof cu?Gt(bt[ge]):bt[ge]instanceof Sh&&Ct(bt[ge],he))})(S),it.publish("putResources"),S.forEach(zt),zt({resourcesOid:gn,objectOid:Number.MAX_SAFE_INTEGER}),it.publish("postPutResources"),p!==null&&(Br.oid=Wt(),z("<<"),z("/Filter /Standard"),z("/V "+Br.v),z("/R "+Br.r),z("/U <"+Br.toHexString(Br.U)+">"),z("/O <"+Br.toHexString(Br.O)+">"),z("/P "+Br.P),z(">>"),z("endobj")),Mr(),Ls();var P=xe;return ha(),Ws(),z("startxref"),z(""+P),z("%%EOF"),ct(Ie[$]),fe.join(`
`)},fa=b.__private__.getBlob=function(S){return new Blob([rt(S)],{type:"application/pdf"})},xo=b.output=b.__private__.output=(Nn=function(S,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",S){case void 0:return hi();case"save":b.save(P.filename);break;case"arraybuffer":return rt(hi());case"blob":return fa(hi());case"bloburi":case"bloburl":if(tn.URL!==void 0&&typeof tn.URL.createObjectURL=="function")return tn.URL&&tn.URL.createObjectURL(fa(hi()))||void 0;mr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",ge=hi();try{he=Qy(ge)}catch{he=Qy(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+P.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(tn)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(Te=P.pdfObjectUrl,Ge="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",jt=tn.open();return jt!==null&&jt.document.write(tt),jt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(tn)==="[object Window]"){var Rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Qt=tn.open();if(Qt!==null){Qt.document.write(Rt);var un=this;Qt.document.documentElement.querySelector("#pdfViewer").onload=function(){Qt.document.title=P.filename,Qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(un.output("bloburl"))}}return Qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(tn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var On='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',wr=tn.open();if(wr!==null&&(wr.document.write(On),wr.document.title=P.filename),wr||typeof safari>"u")return wr;break;case"datauri":case"dataurl":return tn.document.location.href=this.output("datauristring",P);default:return null}},Nn.foo=function(){try{return Nn.apply(this,arguments)}catch(he){var S=he.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var P="Error in function "+S.split(`
`)[0].split("<")[0]+": "+he.message;if(!tn.console)throw new Error(P);tn.console.error(P,he),tn.alert&&alert(P)}},Nn.foo.bar=Nn,Nn.foo),us=function(S){return Array.isArray(Vt)===!0&&Vt.indexOf(S)>-1};switch(s){case"pt":yt=1;break;case"mm":yt=72/25.4;break;case"cm":yt=72/2.54;break;case"in":yt=72;break;case"px":yt=us("px_scaling")==1?.75:96/72;break;case"pc":case"em":yt=12;break;case"ex":yt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);yt=s}var Br=null;W(),le();var Lr=b.__private__.getPageInfo=b.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_e[S].objId,pageNumber:S,pageContext:_e[S]}},wo=b.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in _e)if(_e[P].objId===S)break;return Lr(P)},Il=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:_e[$].objId,pageNumber:$,pageContext:_e[$]}};b.addPage=function(){return hr.apply(this,arguments),this},b.setPage=function(){return Hs.apply(this,arguments),ct.call(this,Ie[$]),this},b.insertPage=function(S){return this.addPage(),this.movePage($,S),this},b.movePage=function(S,P){var he,ge;if(S>P){he=Ie[S],ge=_e[S];for(var Te=S;Te>P;Te--)Ie[Te]=Ie[Te-1],_e[Te]=_e[Te-1];Ie[P]=he,_e[P]=ge,this.setPage(P)}else if(S<P){he=Ie[S],ge=_e[S];for(var Ge=S;Ge<P;Ge++)Ie[Ge]=Ie[Ge+1],_e[Ge]=_e[Ge+1];Ie[P]=he,_e[P]=ge,this.setPage(P)}return this},b.deletePage=function(){return ts.apply(this,arguments),this},b.__private__.text=b.text=function(S,P,he,ge,Te){var Ge,tt,jt,Rt,Qt,un,On,wr,zr,er=(ge=ge||{}).scope||this;if(typeof S=="number"&&typeof P=="number"&&(typeof he=="string"||Array.isArray(he))){var ns=he;he=P,P=S,S=ns}if(arguments[3]instanceof nt==0?(jt=arguments[4],Rt=arguments[5],Jn(On=arguments[3])==="object"&&On!==null||(typeof jt=="string"&&(Rt=jt,jt=null),typeof On=="string"&&(Rt=On,On=null),typeof On=="number"&&(jt=On,On=null),ge={flags:On,angle:jt,align:Rt})):(B("The transform parameter of text() with a Matrix value"),zr=Te),isNaN(P)||isNaN(he)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return er;var Gr,_s="",Pa=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:Da,Zi=er.internal.scaleFactor;function qa(Pn){return Pn=Pn.split("	").join(Array(ge.TabLen||9).join(" ")),Wn(Pn,On)}function zc(Pn){for(var Dn,tr=Pn.concat(),qr=[],_a=tr.length;_a--;)typeof(Dn=tr.shift())=="string"?qr.push(Dn):Array.isArray(Pn)&&(Dn.length===1||Dn[1]===void 0&&Dn[2]===void 0)?qr.push(Dn[0]):qr.push([Dn[0],Dn[1],Dn[2]]);return qr}function zl(Pn,Dn){var tr;if(typeof Pn=="string")tr=Dn(Pn)[0];else if(Array.isArray(Pn)){for(var qr,_a,ea=Pn.concat(),sl=[],Uc=ea.length;Uc--;)typeof(qr=ea.shift())=="string"?sl.push(Dn(qr)[0]):Array.isArray(qr)&&typeof qr[0]=="string"&&(_a=Dn(qr[0],qr[1],qr[2]),sl.push([_a[0],_a[1],_a[2]]));tr=sl}return tr}var ma=!1,Qi=!0;if(typeof S=="string")ma=!0;else if(Array.isArray(S)){var nl=S.concat();tt=[];for(var Ua,fs=nl.length;fs--;)(typeof(Ua=nl.shift())!="string"||Array.isArray(Ua)&&typeof Ua[0]!="string")&&(Qi=!1);ma=Qi}if(ma===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var So=Ee/er.internal.scaleFactor,No=So*(Pa-1);switch(ge.baseline){case"bottom":he-=No;break;case"top":he+=So-No;break;case"hanging":he+=So-2*No;break;case"middle":he+=So/2-No}if((un=ge.maxWidth||0)>0&&(typeof S=="string"?S=er.splitTextToSize(S,un):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Pn,Dn){return Pn.concat(er.splitTextToSize(Dn,un))},[]))),Ge={text:S,x:P,y:he,options:ge,mutex:{pdfEscape:Wn,activeFontKey:dt,fonts:Tt,activeFontSize:Ee}},it.publish("preProcessText",Ge),S=Ge.text,jt=(ge=Ge.options).angle,zr instanceof nt==0&&jt&&typeof jt=="number"){jt*=Math.PI/180,ge.rotationDirection===0&&(jt=-jt),V===D&&(jt=-jt);var Pl=Math.cos(jt),ga=Math.sin(jt);zr=new nt(Pl,ga,-ga,Pl,0,0)}else jt&&jt instanceof nt&&(zr=jt);V!==D||zr||(zr=ln),(Qt=ge.charSpace||_i)!==void 0&&(_s+=M(re(Qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wr=ge.horizontalScale)!==void 0&&(_s+=M(100*wr)+` Tz
`),ge.lang;var Ys=-1,Ha=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,ql=er.internal.getCurrentPageInfo().pageContext;switch(Ha){case 0:case!1:case"fill":Ys=0;break;case 1:case!0:case"stroke":Ys=1;break;case 2:case"fillThenStroke":Ys=2;break;case 3:case"invisible":Ys=3;break;case 4:case"fillAndAddForClipping":Ys=4;break;case 5:case"strokeAndAddPathForClipping":Ys=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ys=6;break;case 7:case"addToPathForClipping":Ys=7}var Pc=ql.usedRenderingMode!==void 0?ql.usedRenderingMode:-1;Ys!==-1?_s+=Ys+` Tr
`:Pc!==-1&&(_s+=`0 Tr
`),Ys!==-1&&(ql.usedRenderingMode=Ys),Rt=ge.align||"left";var pi,Ki=Ee*Pa,Wa=er.internal.pageSize.getWidth(),qc=Tt[dt];Qt=ge.charSpace||_i,un=ge.maxWidth||0,On=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var Ji=[],Ao=function(Pn){return er.getStringUnitWidth(Pn,{font:qc,charSpace:Qt,fontSize:Ee,doKerning:!1})*Ee/Zi};if(Object.prototype.toString.call(S)==="[object Array]"){var ni;tt=zc(S),Rt!=="left"&&(pi=tt.map(Ao));var $s,ba=0;if(Rt==="right"){P-=pi[0],S=[],fs=tt.length;for(var va=0;va<fs;va++)va===0?($s=fi(P),ni=ws(he)):($s=re(ba-pi[va]),ni=-Ki),S.push([tt[va],$s,ni]),ba=pi[va]}else if(Rt==="center"){P-=pi[0]/2,S=[],fs=tt.length;for(var Ga=0;Ga<fs;Ga++)Ga===0?($s=fi(P),ni=ws(he)):($s=re((ba-pi[Ga])/2),ni=-Ki),S.push([tt[Ga],$s,ni]),ba=pi[Ga]}else if(Rt==="left"){S=[],fs=tt.length;for(var Ul=0;Ul<fs;Ul++)S.push(tt[Ul])}else if(Rt==="justify"&&qc.encoding==="Identity-H"){S=[],fs=tt.length,un=un!==0?un:Wa;for(var Hl=0,Pr=0;Pr<fs;Pr++)if(ni=Pr===0?ws(he):-Ki,$s=Pr===0?fi(P):Hl,Pr<fs-1){var Du=re((un-pi[Pr])/(tt[Pr].split(" ").length-1)),ya=tt[Pr].split(" ");S.push([ya[0]+" ",$s,ni]),Hl=0;for(var xa=1;xa<ya.length;xa++){var Ss=(Ao(ya[xa-1]+" "+ya[xa])-Ao(ya[xa]))*Zi+Du;xa==ya.length-1?S.push([ya[xa],Ss,0]):S.push([ya[xa]+" ",Ss,0]),Hl-=Ss}}else S.push([tt[Pr],$s,ni]);S.push(["",Hl,0])}else{if(Rt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],fs=tt.length,un=un!==0?un:Wa,Pr=0;Pr<fs;Pr++){ni=Pr===0?ws(he):-Ki,$s=Pr===0?fi(P):0;var Ya=tt[Pr].split(" ").length-1,Wl=Ya>0?(un-pi[Pr])/Ya:0;Pr<fs-1?Ji.push(M(re(Wl))):Ji.push(0),S.push([tt[Pr],$s,ni])}}}(typeof ge.R2L=="boolean"?ge.R2L:lt)===!0&&(S=zl(S,function(Pn,Dn,tr){return[Pn.split("").reverse().join(""),Dn,tr]})),Ge={text:S,x:P,y:he,options:ge,mutex:{pdfEscape:Wn,activeFontKey:dt,fonts:Tt,activeFontSize:Ee}},it.publish("postProcessText",Ge),S=Ge.text,Gr=Ge.mutex.isHex||!1;var Gl=Tt[dt].encoding;Gl!=="WinAnsiEncoding"&&Gl!=="StandardEncoding"||(S=zl(S,function(Pn,Dn,tr){return[qa(Pn),Dn,tr]})),tt=zc(S),S=[];for(var $a,Xa,wa,rl=Array.isArray(tt[0])?1:0,mi="",Za=function(Pn,Dn,tr){var qr="";return tr instanceof nt?(tr=typeof ge.angle=="number"?Nt(tr,new nt(1,0,0,1,Pn,Dn)):Nt(new nt(1,0,0,1,Pn,Dn),tr),V===D&&(tr=Nt(new nt(1,0,0,-1,0,0),tr)),qr=tr.join(" ")+` Tm
`):qr=M(Pn)+" "+M(Dn)+` Td
`,qr},Os=0;Os<tt.length;Os++){switch(mi="",rl){case 1:wa=(Gr?"<":"(")+tt[Os][0]+(Gr?">":")"),$a=parseFloat(tt[Os][1]),Xa=parseFloat(tt[Os][2]);break;case 0:wa=(Gr?"<":"(")+tt[Os]+(Gr?">":")"),$a=fi(P),Xa=ws(he)}Ji!==void 0&&Ji[Os]!==void 0&&(mi=Ji[Os]+` Tw
`),Os===0?S.push(mi+Za($a,Xa,zr)+wa):rl===0?S.push(mi+wa):rl===1&&S.push(mi+Za($a,Xa,zr)+wa)}S=rl===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Ni=`BT
/`;return Ni+=dt+" "+Ee+` Tf
`,Ni+=M(Ee*Pa)+` TL
`,Ni+=da+`
`,Ni+=_s,Ni+=S,z(Ni+="ET"),_[dt]=!0,er};var Xo=b.__private__.clip=b.clip=function(S){return z(S==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Xo("evenodd")},b.__private__.discardPath=b.discardPath=function(){return z("n"),this};var Gs=b.__private__.isValidStyle=function(S){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(P=!0),P};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(S){return Gs(S)&&(d=S),this};var Oc=b.__private__.getStyle=b.getStyle=function(S){var P=d;switch(S){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=S}return P},Dc=b.close=function(){return z("h"),this};b.stroke=function(){return z("S"),this},b.fill=function(S){return $i("f",S),this},b.fillEvenOdd=function(S){return $i("f*",S),this},b.fillStroke=function(S){return $i("B",S),this},b.fillStrokeEvenOdd=function(S){return $i("B*",S),this};var $i=function(S,P){Jn(P)==="object"?Cu(P,S):z(S)},Zo=function(S){S===null||V===D&&S===void 0||(S=Oc(S),z(S))};function Tu(S,P,he,ge,Te){var Ge=new Sh(P||this.boundingBox,he||this.xStep,ge||this.yStep,this.gState,Te||this.matrix);Ge.stream=this.stream;var tt=S+"$$"+this.cloneIndex+++"$$";return vn(tt,Ge),Ge}var Cu=function(S,P){var he=on[S.key],ge=bt[he];if(ge instanceof cu)z("q"),z(Rc(P)),ge.gState&&b.setGState(ge.gState),z(S.matrix.toString()+" cm"),z("/"+he+" sh"),z("Q");else if(ge instanceof Sh){var Te=new nt(1,0,0,-1,0,za());S.matrix&&(Te=Te.multiply(S.matrix||ln),he=Tu.call(ge,S.key,S.boundingBox,S.xStep,S.yStep,Te).id),z("q"),z("/Pattern cs"),z("/"+he+" scn"),ge.gState&&b.setGState(ge.gState),z(P),z("Q")}},Rc=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ic=b.moveTo=function(S,P){return z(M(re(S))+" "+M(U(P))+" m"),this},ku=b.lineTo=function(S,P){return z(M(re(S))+" "+M(U(P))+" l"),this},ti=b.curveTo=function(S,P,he,ge,Te,Ge){return z([M(re(S)),M(U(P)),M(re(he)),M(U(ge)),M(re(Te)),M(U(Ge)),"c"].join(" ")),this};b.__private__.line=b.line=function(S,P,he,ge,Te){if(isNaN(S)||isNaN(P)||isNaN(he)||isNaN(ge)||!Gs(Te))throw new Error("Invalid arguments passed to jsPDF.line");return V===R?this.lines([[he-S,ge-P]],S,P,[1,1],Te||"S"):this.lines([[he-S,ge-P]],S,P,[1,1]).stroke()},b.__private__.lines=b.lines=function(S,P,he,ge,Te,Ge){var tt,jt,Rt,Qt,un,On,wr,zr,er,ns,Gr,_s;if(typeof S=="number"&&(_s=he,he=P,P=S,S=_s),ge=ge||[1,1],Ge=Ge||!1,isNaN(P)||isNaN(he)||!Array.isArray(S)||!Array.isArray(ge)||!Gs(Te)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ic(P,he),tt=ge[0],jt=ge[1],Qt=S.length,ns=P,Gr=he,Rt=0;Rt<Qt;Rt++)(un=S[Rt]).length===2?(ns=un[0]*tt+ns,Gr=un[1]*jt+Gr,ku(ns,Gr)):(On=un[0]*tt+ns,wr=un[1]*jt+Gr,zr=un[2]*tt+ns,er=un[3]*jt+Gr,ns=un[4]*tt+ns,Gr=un[5]*jt+Gr,ti(On,wr,zr,er,ns,Gr));return Ge&&Dc(),Zo(Te),this},b.path=function(S){for(var P=0;P<S.length;P++){var he=S[P],ge=he.c;switch(he.op){case"m":Ic(ge[0],ge[1]);break;case"l":ku(ge[0],ge[1]);break;case"c":ti.apply(this,ge);break;case"h":Dc()}}return this},b.__private__.rect=b.rect=function(S,P,he,ge,Te){if(isNaN(S)||isNaN(P)||isNaN(he)||isNaN(ge)||!Gs(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return V===R&&(ge=-ge),z([M(re(S)),M(U(P)),M(re(he)),M(re(ge)),"re"].join(" ")),Zo(Te),this},b.__private__.triangle=b.triangle=function(S,P,he,ge,Te,Ge,tt){if(isNaN(S)||isNaN(P)||isNaN(he)||isNaN(ge)||isNaN(Te)||isNaN(Ge)||!Gs(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-S,ge-P],[Te-he,Ge-ge],[S-Te,P-Ge]],S,P,[1,1],tt,!0),this},b.__private__.roundedRect=b.roundedRect=function(S,P,he,ge,Te,Ge,tt){if(isNaN(S)||isNaN(P)||isNaN(he)||isNaN(ge)||isNaN(Te)||isNaN(Ge)||!Gs(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var jt=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*he),Ge=Math.min(Ge,.5*ge),this.lines([[he-2*Te,0],[Te*jt,0,Te,Ge-Ge*jt,Te,Ge],[0,ge-2*Ge],[0,Ge*jt,-Te*jt,Ge,-Te,Ge],[2*Te-he,0],[-Te*jt,0,-Te,-Ge*jt,-Te,-Ge],[0,2*Ge-ge],[0,-Ge*jt,Te*jt,-Ge,Te,-Ge]],S+Te,P,[1,1],tt,!0),this},b.__private__.ellipse=b.ellipse=function(S,P,he,ge,Te){if(isNaN(S)||isNaN(P)||isNaN(he)||isNaN(ge)||!Gs(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*he,tt=4/3*(Math.SQRT2-1)*ge;return Ic(S+he,P),ti(S+he,P-tt,S+Ge,P-ge,S,P-ge),ti(S-Ge,P-ge,S-he,P-tt,S-he,P),ti(S-he,P+tt,S-Ge,P+ge,S,P+ge),ti(S+Ge,P+ge,S+he,P+tt,S+he,P),Zo(Te),this},b.__private__.circle=b.circle=function(S,P,he,ge){if(isNaN(S)||isNaN(P)||isNaN(he)||!Gs(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,P,he,he,ge)},b.setFont=function(S,P,he){return he&&(P=H(P,he)),dt=Yi(S,P,{disableWarning:!1}),this};var Xi=b.__private__.getFont=b.getFont=function(){return Tt[Yi.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var S,P,he={};for(S in St)if(St.hasOwnProperty(S))for(P in he[S]=[],St[S])St[S].hasOwnProperty(P)&&he[S].push(P);return he},b.addFont=function(S,P,he,ge,Te){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(he=H(he,ge)),Vn.call(this,S,P,he,Te=Te||"Identity-H")};var Da,Qo=n.lineWidth||.200025,_o=b.__private__.getLineWidth=b.getLineWidth=function(){return Qo},Yt=b.__private__.setLineWidth=b.setLineWidth=function(S){return Qo=S,z(M(re(S))+" w"),this};b.__private__.setLineDash=Ft.API.setLineDash=Ft.API.setLineDashPattern=function(S,P){if(S=S||[],P=P||0,isNaN(P)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(he){return M(re(he))}).join(" "),P=M(re(P)),z("["+S+"] "+P+" d"),this};var ju=b.__private__.getLineHeight=b.getLineHeight=function(){return Ee*Da};b.__private__.getLineHeight=b.getLineHeight=function(){return Ee*Da};var Vc=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Da=S),this},Eu=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Da};Vc(n.lineHeight);var fi=b.__private__.getHorizontalCoordinate=function(S){return re(S)},ws=b.__private__.getVerticalCoordinate=function(S){return V===D?S:_e[$].mediaBox.topRightY-_e[$].mediaBox.bottomLeftY-re(S)},Fc=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(S){return M(fi(S))},Ko=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(S){return M(ws(S))},di=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Ln(di)},b.__private__.setStrokeColor=b.setDrawColor=function(S,P,he,ge){return di=xr({ch1:S,ch2:P,ch3:he,ch4:ge,pdfColorType:"draw",precision:2}),z(di),this};var Jo=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Ln(Jo)},b.__private__.setFillColor=b.setFillColor=function(S,P,he,ge){return Jo=xr({ch1:S,ch2:P,ch3:he,ch4:ge,pdfColorType:"fill",precision:2}),z(Jo),this};var da=n.textColor||"0 g",Mu=b.__private__.getTextColor=b.getTextColor=function(){return Ln(da)};b.__private__.setTextColor=b.setTextColor=function(S,P,he,ge){return da=xr({ch1:S,ch2:P,ch3:he,ch4:ge,pdfColorType:"text",precision:3}),this};var _i=n.charSpace,Vl=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(_i||0)};b.__private__.setCharSpace=b.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _i=S,this};var Fl=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(S){var P=b.CapJoinStyles[S];if(P===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fl=P,z(P+" J"),this};var hs=0;b.__private__.setLineJoin=b.setLineJoin=function(S){var P=b.CapJoinStyles[S];if(P===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hs=P,z(P+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return z(M(re(S))+" M"),this},b.GState=Ap,b.setGState=function(S){(S=typeof S=="string"?Mt[Dt[S]]:pa(null,S)).equals(xn)||(z("/"+S.id+" gs"),xn=S)};var pa=function(S,P){if(!S||!Dt[S]){var he=!1;for(var ge in Mt)if(Mt.hasOwnProperty(ge)&&Mt[ge].equals(P)){he=!0;break}if(he)P=Mt[ge];else{var Te="GS"+(Object.keys(Mt).length+1).toString(10);Mt[Te]=P,P.id=Te}return S&&(Dt[S]=P.id),it.publish("addGState",P),P}};b.addGState=function(S,P){return pa(S,P),this},b.saveGraphicsState=function(){return z("q"),At.push({key:dt,size:Ee,color:da}),this},b.restoreGraphicsState=function(){z("Q");var S=At.pop();return dt=S.key,Ee=S.size,da=S.color,xn=null,this},b.setCurrentTransformationMatrix=function(S){return z(S.toString()+" cm"),this},b.comment=function(S){return z("#"+S),this};var Si=function(S,P){var he=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(Ge){isNaN(Ge)||(he=parseFloat(Ge))}});var ge=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(Ge){isNaN(Ge)||(ge=parseFloat(Ge))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Ge){Te=Ge.toString()}}),this},Ra=function(S,P,he,ge){Si.call(this,S,P),this.type="rect";var Te=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(tt){isNaN(tt)||(Te=parseFloat(tt))}});var Ge=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(tt){isNaN(tt)||(Ge=parseFloat(tt))}}),this},Bl=function(){this.page=vt,this.currentPage=$,this.pages=Ie.slice(0),this.pagesContext=_e.slice(0),this.x=ht,this.y=bn,this.matrix=Ht,this.width=Va($),this.height=Bc($),this.outputDestination=Je,this.id="",this.objectNumber=-1};Bl.prototype.restore=function(){vt=this.page,$=this.currentPage,_e=this.pagesContext,Ie=this.pages,ht=this.x,bn=this.y,Ht=this.matrix,tl($,this.width),Fa($,this.height),Je=this.outputDestination};var el=function(S,P,he,ge,Te){pt.push(new Bl),vt=$=0,Ie=[],ht=S,bn=P,Ht=Te,ur([he,ge])};for(var Ia in b.beginFormObject=function(S,P,he,ge,Te){return el(S,P,he,ge,Te),this},b.endFormObject=function(S){return(function(P){if(ft[P])pt.pop().restore();else{var he=new Bl,ge="Xo"+(Object.keys(Ae).length+1).toString(10);he.id=ge,ft[P]=ge,Ae[ge]=he,it.publish("addFormObject",he),pt.pop().restore()}})(S),this},b.doFormObject=function(S,P){var he=Ae[ft[S]];return z("q"),z(P.toString()+" cm"),z("/"+he.id+" Do"),z("Q"),this},b.getFormObject=function(S){var P=Ae[ft[S]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},b.save=function(S,P){return S=S||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(ou(fa(hi()),S),typeof ou.unload=="function"&&tn.setTimeout&&setTimeout(ou.unload,911),this):new Promise(function(he,ge){try{var Te=ou(fa(hi()),S);typeof ou.unload=="function"&&tn.setTimeout&&setTimeout(ou.unload,911),he(Te)}catch(Ge){ge(Ge.message)}})},Ft.API)Ft.API.hasOwnProperty(Ia)&&(Ia==="events"&&Ft.API.events.length?(function(S,P){var he,ge,Te;for(Te=P.length-1;Te!==-1;Te--)he=P[Te][0],ge=P[Te][1],S.subscribe.apply(S,[he].concat(typeof ge=="function"?[ge]:ge))})(it,Ft.API.events):b[Ia]=Ft.API[Ia]);function Va(S){return _e[S].mediaBox.topRightX-_e[S].mediaBox.bottomLeftX}function tl(S,P){_e[S].mediaBox.topRightX=P+_e[S].mediaBox.bottomLeftX}function Bc(S){return _e[S].mediaBox.topRightY-_e[S].mediaBox.bottomLeftY}function Fa(S,P){_e[S].mediaBox.topRightY=P+_e[S].mediaBox.bottomLeftY}var Ba=b.getPageWidth=function(S){return Va(S=S||$)/yt},Lu=b.setPageWidth=function(S,P){tl(S,P*yt)},za=b.getPageHeight=function(S){return Bc(S=S||$)/yt},Ou=b.setPageHeight=function(S,P){Fa(S,P*yt)};return b.internal={pdfEscape:Wn,getStyle:Oc,getFont:Xi,getFontSize:We,getCharSpace:Vl,getTextColor:Mu,getLineHeight:ju,getLineHeightFactor:Eu,getLineWidth:_o,write:Ne,getHorizontalCoordinate:fi,getVerticalCoordinate:ws,getCoordinateString:Fc,getVerticalCoordinateString:Ko,collections:{},newObject:Wt,newAdditionalObject:cr,newObjectDeferred:nn,newObjectDeferredBegin:pn,getFilters:br,putStream:cs,events:it,scaleFactor:yt,pageSize:{getWidth:function(){return Ba($)},setWidth:function(S){Lu($,S)},getHeight:function(){return za($)},setHeight:function(S){Ou($,S)}},encryptionOptions:p,encryption:Br,getEncryptor:function(S){return p!==null?Br.encryptor(S,0):function(P){return P}},output:xo,getNumberOfPages:wi,get pages(){return Ie},out:z,f2:E,f3:I,getPageInfo:Lr,getPageInfoByObjId:wo,getCurrentPageInfo:Il,getPDFVersion:N,Point:Si,Rectangle:Ra,Matrix:nt,hasHotfix:us},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ba($)},set:function(S){Lu($,S)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return za($)},set:function(S){Ou($,S)},enumerable:!0,configurable:!0}),(function(S){for(var P=0,he=qe.length;P<he;P++){var ge=Vn.call(this,S[P][0],S[P][1],S[P][2],qe[P][3],!0);y===!1&&(_[ge]=!0);var Te=S[P][0].split("-");Jt({id:ge,fontName:Te[0],fontStyle:Te[1]||""})}it.publish("addFonts",{fonts:Tt,dictionary:St})}).call(b,qe),dt="F1",hr(a,t),it.publish("initialized"),b}vh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},vh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},vh.prototype.processOwnerPassword=function(n,e){return Ng(Sg(e).substr(0,5),n)},vh.prototype.encryptor=function(n,e){var t=Sg(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return Ng(t,s)}},Ap.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Jn(n)!==Jn(this))return!1;var s=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;s++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&s--;return s===0},Ft.API={events:[]},Ft.version="3.0.4";var Jr=Ft.API,D2=1,Au=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dn=function(n){return n.toFixed(2)},vc=function(n){return n.toFixed(5)};Jr.__acroform__={};var Gi=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},tx=function(n){return n*D2},Po=function(n){var e=new h4,t=Ot.internal.getHeight(n)||0,s=Ot.internal.getWidth(n)||0;return e.BBox=[0,0,Number(dn(s)),Number(dn(t))],e},IM=Jr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},VM=Jr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},FM=Jr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},is=Jr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return FM(n,e-1)},as=Jr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return IM(n,e-1)},os=Jr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return VM(n,e-1)},BM=Jr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,a=n[0],o=n[1],u=n[2],c=n[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=s(o+c)||0,f.upperRight_X=t(a+u)||0,f.upperRight_Y=s(o)||0,[Number(dn(f.lowerLeft_X)),Number(dn(f.lowerLeft_Y)),Number(dn(f.upperRight_X)),Number(dn(f.upperRight_Y))]},zM=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,s=Ag(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+dn(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Po(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},Ag=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,s={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var o=t,u=Ot.internal.getHeight(n)||0;u=u<0?-u:u;var c=Ot.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(E,I,re){if(E+1<a.length){var U=I+" "+a[E+1][0];return V1(U,n,re).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,p,y=V1("3",n,o).height,_=n.multiline?u-o:(u-y)/2,b=_+=2,A=0,N=0,k=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+V1(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var C="",R=0,D=0;D<a.length;D++)if(a.hasOwnProperty(D)){var V=!1;if(a[D].length!==1&&k!==a[D].length-1){if((y+2)*(R+2)+2>u)continue e;C+=a[D][k],V=!0,N=D,D--}else{C=(C+=a[D][k]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var F=parseInt(D),G=f(F,C,o),H=D>=a.length-1;if(G&&!H){C+=" ",k=0;continue}if(G||H){if(H)N=F;else if(n.multiline&&(y+2)*(R+2)+2>u)continue e}else{if(!n.multiline||(y+2)*(R+2)+2>u)continue e;N=F}}for(var M="",B=A;B<=N;B++){var te=a[B];if(n.multiline){if(B===N){M+=te[k]+" ",k=(k+1)%te.length;continue}if(B===A){M+=te[te.length-1]+" ";continue}}M+=te[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,p=V1(M,n,o).width,n.textAlign){case"right":d=c-p-2;break;case"center":d=(c-p)/2;break;default:d=2}e+=dn(d)+" "+dn(b)+` Td
`,e+="("+Au(M)+`) Tj
`,e+=-dn(d)+` 0 Td
`,b=-(o+2),p=0,A=V?N:N+1,R++,C=""}break}return s.text=e,s.fontSize=o,s},V1=function(n,e,t){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},PM={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qM=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(s){return s.type===t.type&&s.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},UM=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(vo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(PM)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new f4,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];o.objId=void 0,o.hasAnnotation&&qM(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(s,a){var o=!s;for(var u in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(u)){var c=s[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=BM(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Ot.createDefaultAppearanceStream(c),Jn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=zM(c);f.push({key:"AP",value:"<</N "+p+">>"}),a.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var y="";for(var _ in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(_)){var b=c.appearanceStreamContent[_];if(y+="/"+_+" ",y+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var u in b)if(b.hasOwnProperty(u)){var A=b[u];typeof A=="function"&&(A=A.call(a,c)),y+="/"+u+" "+A+" ",a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A)}}else typeof(A=b)=="function"&&(A=A.call(a,c)),y+="/"+u+" "+A,a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A);y+=">>"}f.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(N,k){for(var C in N)if(N.hasOwnProperty(C)){var R=C,D=N[C];k.internal.newObjectDeferredBegin(D.objId,!0),Jn(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete N[R]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},u4=Jr.__acroform__.arrayToPdfArray=function(n,e,t){var s=function(u){return u};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Jn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(s=t.internal.getEncryptor(e)),a+="("+Au(s(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zm=function(n,e,t){var s=function(a){return a};return e!==void 0&&t&&(s=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Au(s(n))+")"},qo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qo.prototype.toString=function(){return this.objId+" 0 R"},qo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},qo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var s=e[t],a=this[s];a&&(Array.isArray(a)?n.push({key:s,value:u4(a,this.objId,this.scope)}):a instanceof qo?(a.scope=this.scope,n.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:s,value:a}))}return n};var h4=function(){qo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Gi(h4,qo);var f4=function(){qo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(s){return s};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Au(t(n))+")"}},set:function(t){n=t}})};Gi(f4,qo);var vo=function n(){qo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!is(e,3)},set:function(C){C?this.F=as(e,3):this.F=os(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(C){s=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(C){s[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(C){s[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(C){s[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(C){s[3]=C}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Tp)return;o="FieldObject"+n.FieldNum++}var C=function(R){return R};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+Au(C(o))+")"},set:function(C){o=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(C){o=C}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(C){f=C}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/D2:d},set:function(C){d=C}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(C){p=C}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Tp||this instanceof pu))return zm(y,this.objId,this.scope)},set:function(C){C=C.toString(),y=C}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof qs==0?zm(_,this.objId,this.scope):_},set:function(C){C=C.toString(),_=this instanceof qs==0?C.substr(0,1)==="("?mh(C.substr(1,C.length-2)):mh(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof qs==1?mh(_.substr(1,_.length-1)):_},set:function(C){C=C.toString(),_=this instanceof qs==1?"/"+C:C}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof qs==0?zm(b,this.objId,this.scope):b},set:function(C){C=C.toString(),b=this instanceof qs==0?C.substr(0,1)==="("?mh(C.substr(1,C.length-2)):mh(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof qs==1?mh(b.substr(1,b.length-1)):b},set:function(C){C=C.toString(),b=this instanceof qs==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(C){C=!!C,N=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(C){A=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,1)},set:function(C){C?this.Ff=as(this.Ff,1):this.Ff=os(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,2)},set:function(C){C?this.Ff=as(this.Ff,2):this.Ff=os(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,3)},set:function(C){C?this.Ff=as(this.Ff,3):this.Ff=os(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');k=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(k){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};Gi(vo,qo);var kh=function(){vo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return u4(e,this.objId,this.scope)},set:function(t){var s,a;a=[],typeof(s=t)=="string"&&(a=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(s,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,s){for(s=s||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,18)},set:function(t){t?this.Ff=as(this.Ff,18):this.Ff=os(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=as(this.Ff,19):this.Ff=os(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,20)},set:function(t){t?(this.Ff=as(this.Ff,20),e.sort()):this.Ff=os(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,22)},set:function(t){t?this.Ff=as(this.Ff,22):this.Ff=os(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,23)},set:function(t){t?this.Ff=as(this.Ff,23):this.Ff=os(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,27)},set:function(t){t?this.Ff=as(this.Ff,27):this.Ff=os(this.Ff,27)}}),this.hasAppearanceStream=!1};Gi(kh,vo);var jh=function(){kh.call(this),this.fontName="helvetica",this.combo=!1};Gi(jh,kh);var Eh=function(){jh.call(this),this.combo=!0};Gi(Eh,jh);var Y1=function(){Eh.call(this),this.edit=!0};Gi(Y1,Eh);var qs=function(){vo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,15)},set:function(t){t?this.Ff=as(this.Ff,15):this.Ff=os(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,16)},set:function(t){t?this.Ff=as(this.Ff,16):this.Ff=os(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,17)},set:function(t){t?this.Ff=as(this.Ff,17):this.Ff=os(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,26)},set:function(t){t?this.Ff=as(this.Ff,26):this.Ff=os(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,a=[];for(s in a.push("<<"),e)a.push("/"+s+" ("+Au(t(e[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Jn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Gi(qs,vo);var $1=function(){qs.call(this),this.pushButton=!0};Gi($1,qs);var Mh=function(){qs.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Gi(Mh,qs);var Tp=function(){var n,e;vo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),s)u.push("/"+o+" ("+Au(a(s[o]))+")");return u.push(">>"),u.join(`
`)},set:function(a){Jn(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gi(Tp,vo),Mh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Mh.prototype.createOption=function(n){var e=new Tp;return e.Parent=this,e.optionName=n,this.Kids.push(e),HM.call(this.scope,e),e};var X1=function(){qs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ot.CheckBox.createAppearanceStream()};Gi(X1,qs);var pu=function(){vo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,13)},set:function(e){e?this.Ff=as(this.Ff,13):this.Ff=os(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,21)},set:function(e){e?this.Ff=as(this.Ff,21):this.Ff=os(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,23)},set:function(e){e?this.Ff=as(this.Ff,23):this.Ff=os(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,24)},set:function(e){e?this.Ff=as(this.Ff,24):this.Ff=os(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,25)},set:function(e){e?this.Ff=as(this.Ff,25):this.Ff=os(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,26)},set:function(e){e?this.Ff=as(this.Ff,26):this.Ff=os(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gi(pu,vo);var Z1=function(){pu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,14)},set:function(n){n?this.Ff=as(this.Ff,14):this.Ff=os(this.Ff,14)}}),this.password=!0};Gi(Z1,pu);var Ot={CheckBox:{createAppearanceStream:function(){return{N:{On:Ot.CheckBox.YesNormal},D:{On:Ot.CheckBox.YesPushDown,Off:Ot.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[],s=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=Ag(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+dn(Ot.internal.getWidth(n))+" "+dn(Ot.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+s+" "+dn(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Po(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),a=[],o=Ot.internal.getHeight(n),u=Ot.internal.getWidth(n),c=Ag(n,n.caption);return a.push("1 g"),a.push("0 0 "+dn(u)+" "+dn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+dn(u-1)+" "+dn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+dn(c.fontSize)+" Tf "+s),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+dn(Ot.internal.getWidth(n))+" "+dn(Ot.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Ot.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Ot.RadioButton.Circle.YesNormal,e.D[n]=Ot.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Po(n);e.scope=n.scope;var t=[],s=Ot.internal.getWidth(n)<=Ot.internal.getHeight(n)?Ot.internal.getWidth(n)/4:Ot.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Ot.internal.Bezier_C,o=Number((s*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+vc(Ot.internal.getWidth(n)/2)+" "+vc(Ot.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[],s=Ot.internal.getWidth(n)<=Ot.internal.getHeight(n)?Ot.internal.getWidth(n)/4:Ot.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*Ot.internal.Bezier_C).toFixed(5)),u=Number((s*Ot.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+vc(Ot.internal.getWidth(n)/2)+" "+vc(Ot.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+vc(Ot.internal.getWidth(n)/2)+" "+vc(Ot.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+u+" "+u+" "+s+" 0 "+s+" c"),t.push("-"+u+" "+s+" -"+s+" "+u+" -"+s+" 0 c"),t.push("-"+s+" -"+u+" -"+u+" -"+s+" 0 -"+s+" c"),t.push(u+" -"+s+" "+s+" -"+u+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[],s=Ot.internal.getWidth(n)<=Ot.internal.getHeight(n)?Ot.internal.getWidth(n)/4:Ot.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*Ot.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+vc(Ot.internal.getWidth(n)/2)+" "+vc(Ot.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Ot.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Ot.RadioButton.Cross.YesNormal,e.D[n]=Ot.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Po(n);e.scope=n.scope;var t=[],s=Ot.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+dn(Ot.internal.getWidth(n)-2)+" "+dn(Ot.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(dn(s.x1.x)+" "+dn(s.x1.y)+" m"),t.push(dn(s.x2.x)+" "+dn(s.x2.y)+" l"),t.push(dn(s.x4.x)+" "+dn(s.x4.y)+" m"),t.push(dn(s.x3.x)+" "+dn(s.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=Ot.internal.calculateCross(n),s=[];return s.push("0.749023 g"),s.push("0 0 "+dn(Ot.internal.getWidth(n))+" "+dn(Ot.internal.getHeight(n))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+dn(Ot.internal.getWidth(n)-2)+" "+dn(Ot.internal.getHeight(n)-2)+" re"),s.push("W"),s.push("n"),s.push(dn(t.x1.x)+" "+dn(t.x1.y)+" m"),s.push(dn(t.x2.x)+" "+dn(t.x2.y)+" l"),s.push(dn(t.x4.x)+" "+dn(t.x4.y)+" m"),s.push(dn(t.x3.x)+" "+dn(t.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+dn(Ot.internal.getWidth(n))+" "+dn(Ot.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Ot.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Ot.internal.getWidth(n),t=Ot.internal.getHeight(n),s=Math.min(e,t);return{x1:{x:(e-s)/2,y:(t-s)/2+s},x2:{x:(e-s)/2+s,y:(t-s)/2},x3:{x:(e-s)/2,y:(t-s)/2},x4:{x:(e-s)/2+s,y:(t-s)/2+s}}}},Ot.internal.getWidth=function(n){var e=0;return Jn(n)==="object"&&(e=tx(n.Rect[2])),e},Ot.internal.getHeight=function(n){var e=0;return Jn(n)==="object"&&(e=tx(n.Rect[3])),e};var HM=Jr.addField=function(n){if(UM(this,n),!(n instanceof vo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Jr.AcroFormChoiceField=kh,Jr.AcroFormListBox=jh,Jr.AcroFormComboBox=Eh,Jr.AcroFormEditBox=Y1,Jr.AcroFormButton=qs,Jr.AcroFormPushButton=$1,Jr.AcroFormRadioButton=Mh,Jr.AcroFormCheckBox=X1,Jr.AcroFormTextField=pu,Jr.AcroFormPasswordField=Z1,Jr.AcroFormAppearance=Ot,Jr.AcroForm={ChoiceField:kh,ListBox:jh,ComboBox:Eh,EditBox:Y1,Button:qs,PushButton:$1,RadioButton:Mh,CheckBox:X1,TextField:pu,PasswordField:Z1,Appearance:Ot},Ft.AcroForm={ChoiceField:kh,ListBox:jh,ComboBox:Eh,EditBox:Y1,Button:qs,PushButton:$1,RadioButton:Mh,CheckBox:X1,TextField:pu,PasswordField:Z1,Appearance:Ot};Ft.AcroForm;function d4(n){return n.reduce(function(e,t,s){return e[t]=s,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(E,I){var re,U,oe,Y,J,le=t;if((I=I||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(G(E))for(J in s)for(oe=s[J],re=0;re<oe.length;re+=1){for(Y=!0,U=0;U<oe[re].length;U+=1)if(oe[re][U]!==void 0&&oe[re][U]!==E[U]){Y=!1;break}if(Y===!0){le=J;break}}else for(J in s)for(oe=s[J],re=0;re<oe.length;re+=1){for(Y=!0,U=0;U<oe[re].length;U+=1)if(oe[re][U]!==void 0&&oe[re][U]!==E.charCodeAt(U)){Y=!1;break}if(Y===!0){le=J;break}}return le===t&&I!==t&&(le=I),le},o=function E(I){for(var re=this.internal.write,U=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:I.width}),Y.push({key:"Height",value:I.height}),I.colorSpace===C.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===C.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var J="",le=0,pe=I.transparency.length;le<pe;le++)J+=I.transparency[le]+" "+I.transparency[le]+" ";Y.push({key:"Mask",value:"["+J+"]"})}I.sMask!==void 0&&Y.push({key:"SMask",value:I.objectId+1+" 0 R"});var be=I.filter!==void 0?["/"+I.filter]:void 0;if(U({data:I.data,additionalKeyValues:Y,alreadyAppliedFilters:be,objectId:I.objectId}),re("endobj"),"sMask"in I&&I.sMask!==void 0){var W,j=(W=I.sMaskBitsPerComponent)!==null&&W!==void 0?W:I.bitsPerComponent,$={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:I.sMask};"filter"in I&&($.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(I.width),$.filter=I.filter),E.call(this,$)}if(I.colorSpace===C.INDEXED){var X=this.internal.newObject();U({data:M(new Uint8Array(I.palette)),objectId:X}),re("endobj")}},u=function(){var E=this.internal.collections[e+"images"];for(var I in E)o.call(this,E[I])},c=function(){var E,I=this.internal.collections[e+"images"],re=this.internal.write;for(var U in I)re("/I"+(E=I[U]).index,E.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var E=this.internal.collections[e+"images"];return f.call(this),E},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(E){return typeof n["process"+E.toUpperCase()]=="function"},_=function(E){return Jn(E)==="object"&&E.nodeType===1},b=function(E,I){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var re=""+E.getAttribute("src");if(re.indexOf("data:image/")===0)return G1(unescape(re).split("base64,").pop());var U=n.loadFile(re,!0);if(U!==void 0)return U}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var oe;switch(I){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;default:oe="image/jpeg"}return G1(E.toDataURL(oe,1).split("base64,").pop())}},A=function(E){var I=this.internal.collections[e+"images"];if(I){for(var re in I)if(E===I[re].alias)return I[re]}},N=function(E,I,re){return E||I||(E=-96,I=-96),E<0&&(E=-1*re.width*72/E/this.internal.scaleFactor),I<0&&(I=-1*re.height*72/I/this.internal.scaleFactor),E===0&&(E=I*re.width/re.height),I===0&&(I=E*re.height/re.width),[E,I]},k=function(E,I,re,U,oe,Y){var J=N.call(this,re,U,oe),le=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,be=d.call(this);if(re=J[0],U=J[1],be[oe.index]=oe,Y){Y*=Math.PI/180;var W=Math.cos(Y),j=Math.sin(Y),$=function(K){return K.toFixed(4)},X=[$(W),$(j),$(-1*j),$(W),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,le(E),pe(I+U),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([le(re),"0","0",le(U),"0","0","cm"].join(" "))):this.internal.write([le(re),"0","0",le(U),le(E),pe(I+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=n.__addimage__.sHashCode=function(E){var I,re,U=0;if(typeof E=="string")for(re=E.length,I=0;I<re;I++)U=(U<<5)-U+E.charCodeAt(I),U|=0;else if(G(E))for(re=E.byteLength/2,I=0;I<re;I++)U=(U<<5)-U+E[I],U|=0;return U},V=n.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var I=!0;return E.length===0&&(I=!1),E.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(I=!1),I},F=n.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var I=E.indexOf(",");return I<0?null:E.substring(0,I).trim().endsWith("base64")?E.substring(I+1):null};n.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var G=n.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},H=n.__addimage__.binaryStringToUint8Array=function(E){for(var I=E.length,re=new Uint8Array(I),U=0;U<I;U++)re[U]=E.charCodeAt(U);return re},M=n.__addimage__.arrayBufferToBinaryString=function(E){for(var I="",re=G(E)?E:new Uint8Array(E),U=0;U<re.length;U+=8192)I+=String.fromCharCode.apply(null,re.subarray(U,U+8192));return I};n.addImage=function(){var E,I,re,U,oe,Y,J,le,pe;if(typeof arguments[1]=="number"?(I=t,re=arguments[1],U=arguments[2],oe=arguments[3],Y=arguments[4],J=arguments[5],le=arguments[6],pe=arguments[7]):(I=arguments[1],re=arguments[2],U=arguments[3],oe=arguments[4],Y=arguments[5],J=arguments[6],le=arguments[7],pe=arguments[8]),Jn(E=arguments[0])==="object"&&!_(E)&&"imageData"in E){var be=E;E=be.imageData,I=be.format||I||t,re=be.x||re||0,U=be.y||U||0,oe=be.w||be.width||oe,Y=be.h||be.height||Y,J=be.alias||J,le=be.compression||le,pe=be.rotation||be.angle||pe}var W=this.internal.getFilters();if(le===void 0&&W.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(re)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var j=B.call(this,E,I,J,le);return k.call(this,re,U,oe,Y,j,pe),this};var B=function(E,I,re,U){var oe,Y,J;if(typeof E=="string"&&a(E)===t){E=unescape(E);var le=te(E,!1);(le!==""||(le=n.loadFile(E,!0))!==void 0)&&(E=le)}if(_(E)&&(E=b(E,I)),I=a(E,I),!y(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((J=re)==null||J.length===0)&&(re=(function(pe){return typeof pe=="string"||G(pe)?D(pe):G(pe.data)?D(pe.data):null})(E)),(oe=A.call(this,re))||(E instanceof Uint8Array||I==="RGBA"||(Y=E,E=H(E)),oe=this["process"+I.toUpperCase()](E,p.call(this),re,(function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in n.image_compression?pe:R.NONE})(U),Y)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},te=n.__addimage__.convertBase64ToBinaryString=function(E,I){I=typeof I!="boolean"||I;var re,U="";if(typeof E=="string"){var oe;re=(oe=F(E))!==null&&oe!==void 0?oe:E;try{U=G1(re)}catch(Y){if(I)throw V(re)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};n.getImageProperties=function(E){var I,re,U="";if(_(E)&&(E=b(E)),typeof E=="string"&&a(E)===t&&((U=te(E,!1))===""&&(U=n.loadFile(E)||""),E=U),re=a(E),!y(re))throw new Error("addImage does not support files of type '"+re+"', please ensure that a plugin for '"+re+"' support is added.");if(E instanceof Uint8Array||(E=H(E)),!(I=this["process"+re.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=re,I}})(Ft.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Ft.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var s,a,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,p=!1,y=0;y<d.length&&!p;y++)switch((s=d[y]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var _=0;_<d.length;_++){s=d[_];var b=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(N.objId),R=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(s.bounds.x)+" "+c(s.bounds.y+s.bounds.h)+" "+u(s.bounds.x+s.bounds.w)+" "+c(s.bounds.y)+"] ")+"/Contents ("+b(C(s.contents))+")",o+=" /Popup "+k.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(C(R))+") >>",N.content=o;var D=N.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(s.bounds.x+30)+" "+c(s.bounds.y+s.bounds.h)+" "+u(s.bounds.x+s.bounds.w+30)+" "+c(s.bounds.y)+"] ")+" /Parent "+D,s.open&&(o+=" /Open true"),o+=" >>",k.content=o,this.internal.write(N.objId,"0 R",k.objId,"0 R");break;case"freetext":a="/Rect ["+u(s.bounds.x)+" "+c(s.bounds.y)+" "+u(s.bounds.x+s.bounds.w)+" "+c(s.bounds.y+s.bounds.h)+"] ";var V=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(A(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+V+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var F=this.annotations._nameMap[s.options.name];s.options.pageNumber=F.page,s.options.top=F.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(A(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;default:var G=c(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+G+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var s=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":s.pageContext.annotations.push(t)}},n.link=function(t,s,a,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(s),w:f(t+a),h:d(s+o)},options:u,type:"link"})},n.textWithLink=function(t,s,a,o){var u,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var p=this.splitTextToSize(t,c).length;u=Math.ceil(d*p)}else c=f,u=d;return this.text(t,s,a,o),a+=.2*d,o.align==="center"&&(s-=f/2),o.align==="right"&&(s-=f),this.link(s,a-d,c,u,o),f},n.getTextWidth=function(t){var s=this.internal.getFontSize();return this.getStringUnitWidth(t)*s/this.internal.scaleFactor}})(Ft.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},c=n.__arabicParser__.isArabicEndLetter=function(N){return u(N)&&o(N)&&e[N.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(N){return u(N)&&a.indexOf(N.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return u(N)&&o(N)&&e[N.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(N){return u(N)&&o(N)&&e[N.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(N){return u(N)&&o(N)&&e[N.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(N){return u(N)&&o(N)&&e[N.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(N){var k=0,C=t,R="",D=0;for(k=0;k<N.length;k+=1)C[N.charCodeAt(k)]!==void 0?(D++,typeof(C=C[N.charCodeAt(k)])=="number"&&(R+=String.fromCharCode(C),C=t,D=0),k===N.length-1&&(C=t,R+=N.charAt(k-(D-1)),k-=D-1,D=0)):(C=t,R+=N.charAt(k-D),k-=D,D=0);return R};n.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&s[N.charCodeAt(0)]!==void 0};var _=n.__arabicParser__.getCorrectForm=function(N,k,C){return u(N)?o(N)===!1?-1:!d(N)||!u(k)&&!u(C)||!u(C)&&c(k)||c(N)&&!u(k)||c(N)&&f(k)||c(N)&&c(k)?0:p(N)&&u(k)&&!c(k)&&u(C)&&d(C)?3:c(N)||!u(C)?1:2:-1},b=function(N){var k=0,C=0,R=0,D="",V="",F="",G=(N=N||"").split("\\s+"),H=[];for(k=0;k<G.length;k+=1){for(H.push(""),C=0;C<G[k].length;C+=1)D=G[k][C],V=G[k][C-1],F=G[k][C+1],u(D)?(R=_(D,V,F),H[k]+=R!==-1?String.fromCharCode(e[D.charCodeAt(0)][R]):D):H[k]+=D;H[k]=y(H[k])}return H.join(" ")},A=n.__arabicParser__.processArabic=n.processArabic=function(){var N,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(k)){var R=0;for(C=[],R=0;R<k.length;R+=1)Array.isArray(k[R])?C.push([b(k[R][0]),k[R][1],k[R][2]]):C.push([b(k[R])]);N=C}else N=b(k);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};n.events.push(["preProcessText",A])})(Ft.API),Ft.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,s){var a;if((t=t||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ft.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(N){_=N}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(N){b=N}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(N){A=N}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return s.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){s.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),_=d.scaleFactor||this.internal.scaleFactor,b=0,A=0,N=0,k=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var C=d.maxWidth;C>0?typeof f=="string"?f=this.splitTextToSize(f,C):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(D,V){return D.concat(k.splitTextToSize(V,C))},[])):f=Array.isArray(f)?f:[f];for(var R=0;R<f.length;R++)b<(N=this.getStringUnitWidth(f[R],{font:y})*p)&&(b=N);return b!==0&&(A=f.length),{w:b/=_,h:Math.max((A*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/_,0)}},n.cellAddPage=function(){s.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=y.top,b&&_&&(this.printHeaderRow(f.lineNumber,!0),f.y+=_[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-p,f.y+p,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+p,{align:"center",baseline:"top",maxWidth:f.width-p-p}):this.text(f.text,f.x+p,f.y+p,{align:"left",baseline:"top",maxWidth:f.width-p-p})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,p,y,_){if(s.call(this),!p)throw new Error("No data for PDF table.");var b,A,N,k,C=[],R=[],D=[],V={},F={},G=[],H=[],M=(_=_||{}).autoSize||!1,B=_.printHeaders!==!1,te=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,E=_.margins||Object.assign({width:this.getPageWidth()},e),I=typeof _.padding=="number"?_.padding:3,re=_.headerBackgroundColor||"#c8c8c8",U=_.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=te,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=re,this.internal.__cell__.headerTextColor=U,this.setFontSize(te),y==null)R=C=Object.keys(p[0]),D=C.map(function(){return"left"});else if(Array.isArray(y)&&Jn(y[0])==="object")for(C=y.map(function(be){return be.name}),R=y.map(function(be){return be.prompt||be.name||""}),D=y.map(function(be){return be.align||"left"}),b=0;b<y.length;b+=1)F[y[b].name]=.7499990551181103*y[b].width;else Array.isArray(y)&&typeof y[0]=="string"&&(R=C=y,D=C.map(function(){return"left"}));if(M||Array.isArray(y)&&typeof y[0]=="string")for(b=0;b<C.length;b+=1){for(V[k=C[b]]=p.map(function(be){return be[k]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(R[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=V[k],this.setFont(void 0,"normal"),N=0;N<A.length;N+=1)G.push(this.getTextDimensions(A[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[k]=Math.max.apply(null,G)+I+I,G=[]}if(B){var oe={};for(b=0;b<C.length;b+=1)oe[C[b]]={},oe[C[b]].text=R[b],oe[C[b]].align=D[b];var Y=c.call(this,oe,F);H=C.map(function(be){return new o(f,d,F[be],Y,oe[be].text,void 0,oe[be].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var J=y.reduce(function(be,W){return be[W.name]=W.align,be},{});for(b=0;b<p.length;b+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:b,data:p[b]},this);var le=c.call(this,p[b],F);for(N=0;N<C.length;N+=1){var pe=p[b][C[N]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:b,col:N,data:pe},this),u.call(this,new o(f,d,F[C[N]],le,pe,b+2,J[C[N]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var p=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(f).map(function(b){var A=f[b];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,d[b]-p-p)},this).map(function(b){return this.getLineHeightFactor()*b.length*y/_+p+p},this).reduce(function(b,A){return Math.max(b,A)},0)};n.setTableHeaderRow=function(f){s.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){p=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,_.push(p)),p.lineNumber=f;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,p),this.setTextColor(A)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}})(Ft.API);var p4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},m4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Tg=d4(m4),g4=[100,200,300,400,500,600,700,800,900],WM=d4(g4);function Pm(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return p4[o=o||"normal"]?o:"normal"})(n.style),s=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof Tg[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:s,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,s].join(" ")}}}function nx(n,e,t,s){var a;for(a=t;a>=0&&a<e.length;a+=s)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=s)if(n[e[a]])return n[e[a]]}var GM={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},rx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function sx(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function ix(n){return n.trimLeft()}function YM(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function $M(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var F1,ax,ox,gh,B1,lx,cx,ux,qm=["times"];function hx(n,e,t,s,a){var o=4,u=dx;switch(a){case Ft.API.image_compression.FAST:o=1,u=fx;break;case Ft.API.image_compression.MEDIUM:o=6,u=px;break;case Ft.API.image_compression.SLOW:o=9,u=mx}n=(function(f,d,p,y){for(var _,b=f.length/d,A=new Uint8Array(f.length+b),N=[XM,fx,dx,px,mx],k=0;k<b;k+=1){var C=k*d,R=f.subarray(C,C+d);if(y)A.set(y(R,p,_),C+k);else{for(var D=N.length,V=[],F=0;F<D;F+=1)V[F]=N[F](R,p,_);var G=QM(V.concat());A.set(V[G],C+k)}_=R}return A})(n,e,Math.ceil(t*s/8),u);var c=yg(n,{level:o});return Ft.API.__addimage__.arrayBufferToBinaryString(c)}function XM(n){var e=Array.apply([],n);return e.unshift(0),e}function fx(n,e){var t=n.length,s=[];s[0]=1;for(var a=0;a<t;a+=1){var o=n[a-e]||0;s[a+1]=n[a]-o+256&255}return s}function dx(n,e,t){var s=n.length,a=[];a[0]=2;for(var o=0;o<s;o+=1){var u=t&&t[o]||0;a[o+1]=n[o]-u+256&255}return a}function px(n,e,t){var s=n.length,a=[];a[0]=3;for(var o=0;o<s;o+=1){var u=n[o-e]||0,c=t&&t[o]||0;a[o+1]=n[o]+256-(u+c>>>1)&255}return a}function mx(n,e,t){var s=n.length,a=[];a[0]=4;for(var o=0;o<s;o+=1){var u=ZM(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=n[o]-u+256&255}return a}function ZM(n,e,t){if(n===e&&e===t)return n;var s=Math.abs(e-t),a=Math.abs(n-t),o=Math.abs(n+e-t-t);return s<=a&&s<=o?n:a<=o?e:t}function QM(n){var e=n.map(function(t){return t.reduce(function(s,a){return s+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Um(n,e,t){var s=e*t,a=Math.floor(s/8),o=16-(s-8*a+t),u=(1<<t)-1;return b4(n,a)>>o&u}function gx(n,e,t,s){var a=t*s,o=Math.floor(a/8),u=16-(a-8*o+s),c=(1<<s)-1,f=(e&c)<<u;(function(d,p,y){if(p+1<d.byteLength)d.setUint16(p,y,!1);else{var _=y>>8&255;d.setUint8(p,_)}})(n,o,b4(n,o)&~(c<<u)&65535|f)}function b4(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function KM(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,s=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,u=1<<1+(7&a);n[e++],n[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var d=!0,p=[],y=0,_=null,b=0,A=null;for(this.width=t,this.height=s;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,A=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((E=n[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=n[e++];y=n[e++]|n[e++]<<8,_=n[e++],1&N||(_=null),b=N>>2&7,e++;break;case 254:for(;;){if(!((E=n[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var k=n[e++]|n[e++]<<8,C=n[e++]|n[e++]<<8,R=n[e++]|n[e++]<<8,D=n[e++]|n[e++]<<8,V=n[e++],F=V>>6&1,G=1<<1+(7&V),H=c,M=f,B=!1;V>>7&&(B=!0,H=e,M=G,e+=3*G);var te=e;for(e++;;){var E;if(!((E=n[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}p.push({x:k,y:C,width:R,height:D,has_local_palette:B,palette_offset:H,palette_size:M,data_offset:te,data_length:e-te,transparent_index:_,interlaced:!!F,delay:y,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return A},this.frameInfo=function(I){if(I<0||I>=p.length)throw new Error("Frame index out of range.");return p[I]},this.decodeAndBlitFrameBGRA=function(I,re){var U=this.frameInfo(I),oe=U.width*U.height,Y=new Uint8Array(oe);bx(n,U.data_offset,Y,oe);var J=U.palette_offset,le=U.transparent_index;le===null&&(le=256);var pe=U.width,be=t-pe,W=pe,j=4*(U.y*t+U.x),$=4*((U.y+U.height)*t+U.x),X=j,K=4*be;U.interlaced===!0&&(K+=4*t*7);for(var ae=8,de=0,fe=Y.length;de<fe;++de){var xe=Y[de];if(W===0&&(W=pe,(X+=K)>=$&&(K=4*be+4*t*(ae-1),X=j+(pe+be)*(ae<<1),ae>>=1)),xe===le)X+=4;else{var we=n[J+3*xe],Ie=n[J+3*xe+1],$e=n[J+3*xe+2];re[X++]=$e,re[X++]=Ie,re[X++]=we,re[X++]=255}--W}},this.decodeAndBlitFrameRGBA=function(I,re){var U=this.frameInfo(I),oe=U.width*U.height,Y=new Uint8Array(oe);bx(n,U.data_offset,Y,oe);var J=U.palette_offset,le=U.transparent_index;le===null&&(le=256);var pe=U.width,be=t-pe,W=pe,j=4*(U.y*t+U.x),$=4*((U.y+U.height)*t+U.x),X=j,K=4*be;U.interlaced===!0&&(K+=4*t*7);for(var ae=8,de=0,fe=Y.length;de<fe;++de){var xe=Y[de];if(W===0&&(W=pe,(X+=K)>=$&&(K=4*be+4*t*(ae-1),X=j+(pe+be)*(ae<<1),ae>>=1)),xe===le)X+=4;else{var we=n[J+3*xe],Ie=n[J+3*xe+1],$e=n[J+3*xe+2];re[X++]=we,re[X++]=Ie,re[X++]=$e,re[X++]=255}--W}}}function bx(n,e,t,s){for(var a=n[e++],o=1<<a,u=o+1,c=u+1,f=a+1,d=(1<<f)-1,p=0,y=0,_=0,b=n[e++],A=new Int32Array(4096),N=null;;){for(;p<16&&b!==0;)y|=n[e++]<<p,p+=8,b===1?b=n[e++]:--b;if(p<f)break;var k=y&d;if(y>>=f,p-=f,k!==o){if(k===u)break;for(var C=k<c?k:N,R=0,D=C;D>o;)D=A[D]>>8,++R;var V=D;if(_+R+(C!==k?1:0)>s)return void mr.log("Warning, gif stream longer than expected.");t[_++]=V;var F=_+=R;for(C!==k&&(t[_++]=V),D=C;R--;)D=A[D],t[--F]=255&D,D>>=8;N!==null&&c<4096&&(A[c++]=N<<8|V,c>=d+1&&f<12&&(++f,d=d<<1|1)),N=k}else c=u+1,d=(1<<(f=a+1))-1,N=null}return _!==s&&mr.log("Warning, gif stream shorter than expected."),t}function Hm(n){var e,t,s,a,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),p=new Array(64),y=new Array(65535),_=new Array(65535),b=new Array(64),A=new Array(64),N=[],k=0,C=7,R=new Array(64),D=new Array(64),V=new Array(64),F=new Array(256),G=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(j,$){for(var X=0,K=0,ae=new Array,de=1;de<=16;de++){for(var fe=1;fe<=j[de];fe++)ae[$[K]]=[],ae[$[K]][0]=X,ae[$[K]][1]=de,K++,X++;X*=2}return ae}function J(j){for(var $=j[0],X=j[1]-1;X>=0;)$&1<<X&&(k|=1<<C),X--,--C<0&&(k==255?(le(255),le(0)):le(k),C=7,k=0)}function le(j){N.push(j)}function pe(j){le(j>>8&255),le(255&j)}function be(j,$,X,K,ae){for(var de,fe=ae[0],xe=ae[240],we=(function(Ee,Ke){var We,lt,at,ze,st,et,ut,xt,dt,yt,ht=0;for(dt=0;dt<8;++dt){We=Ee[ht],lt=Ee[ht+1],at=Ee[ht+2],ze=Ee[ht+3],st=Ee[ht+4],et=Ee[ht+5],ut=Ee[ht+6];var bn=We+(xt=Ee[ht+7]),Ht=We-xt,Tt=lt+ut,St=lt-ut,At=at+et,bt=at-et,on=ze+st,Mt=ze-st,Dt=bn+on,xn=bn-on,vt=Tt+At,_e=Tt-At;Ee[ht]=Dt+vt,Ee[ht+4]=Dt-vt;var it=.707106781*(_e+xn);Ee[ht+2]=xn+it,Ee[ht+6]=xn-it;var Vt=.382683433*((Dt=Mt+bt)-(_e=St+Ht)),Ae=.5411961*Dt+Vt,ft=1.306562965*_e+Vt,pt=.707106781*(vt=bt+St),nt=Ht+pt,Nt=Ht-pt;Ee[ht+5]=Nt+Ae,Ee[ht+3]=Nt-Ae,Ee[ht+1]=nt+ft,Ee[ht+7]=nt-ft,ht+=8}for(ht=0,dt=0;dt<8;++dt){We=Ee[ht],lt=Ee[ht+8],at=Ee[ht+16],ze=Ee[ht+24],st=Ee[ht+32],et=Ee[ht+40],ut=Ee[ht+48];var ln=We+(xt=Ee[ht+56]),vn=We-xt,Nn=lt+ut,Wt=lt-ut,nn=at+et,pn=at-et,cr=ze+st,_n=ze-st,gn=ln+cr,Ln=ln-cr,xr=Nn+nn,br=Nn-nn;Ee[ht]=gn+xr,Ee[ht+32]=gn-xr;var cs=.707106781*(br+Ln);Ee[ht+16]=Ln+cs,Ee[ht+48]=Ln-cs;var ke=.382683433*((gn=_n+pn)-(br=Wt+vn)),Ve=.5411961*gn+ke,Fe=1.306562965*br+ke,gt=.707106781*(xr=pn+Wt),Gt=vn+gt,Ct=vn-gt;Ee[ht+40]=Ct+Ve,Ee[ht+24]=Ct-Ve,Ee[ht+8]=Gt+Fe,Ee[ht+56]=Gt-Fe,ht++}for(dt=0;dt<64;++dt)yt=Ee[dt]*Ke[dt],b[dt]=yt>0?yt+.5|0:yt-.5|0;return b})(j,$),Ie=0;Ie<64;++Ie)A[H[Ie]]=we[Ie];var $e=A[0]-X;X=A[0],$e==0?J(K[0]):(J(K[_[de=32767+$e]]),J(y[de]));for(var Je=63;Je>0&&A[Je]==0;)Je--;if(Je==0)return J(fe),X;for(var ct,z=1;z<=Je;){for(var Ne=z;A[z]==0&&z<=Je;)++z;var rt=z-Ne;if(rt>=16){ct=rt>>4;for(var qe=1;qe<=ct;++qe)J(xe);rt&=15}de=32767+A[z],J(ae[(rt<<4)+_[de]]),J(y[de]),z++}return Je!=63&&J(fe),X}function W(j){j=Math.min(Math.max(j,1),100),o!=j&&((function($){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var ae=u((X[K]*$+50)/100);ae=Math.min(Math.max(ae,1),255),c[H[K]]=ae}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var xe=u((de[fe]*$+50)/100);xe=Math.min(Math.max(xe,1),255),f[H[fe]]=xe}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ie=0,$e=0;$e<8;$e++)for(var Je=0;Je<8;Je++)d[Ie]=1/(c[H[Ie]]*we[$e]*we[Je]*8),p[Ie]=1/(f[H[Ie]]*we[$e]*we[Je]*8),Ie++})(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),o=j)}this.encode=function(j,$){$&&W($),N=new Array,k=0,C=7,pe(65496),pe(65504),pe(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),pe(1),pe(1),le(0),le(0),(function(){pe(65499),pe(132),le(0);for(var lt=0;lt<64;lt++)le(c[lt]);le(1);for(var at=0;at<64;at++)le(f[at])})(),(function(lt,at){pe(65472),pe(17),le(8),pe(at),pe(lt),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)})(j.width,j.height),(function(){pe(65476),pe(418),le(0);for(var lt=0;lt<16;lt++)le(M[lt+1]);for(var at=0;at<=11;at++)le(B[at]);le(16);for(var ze=0;ze<16;ze++)le(te[ze+1]);for(var st=0;st<=161;st++)le(E[st]);le(1);for(var et=0;et<16;et++)le(I[et+1]);for(var ut=0;ut<=11;ut++)le(re[ut]);le(17);for(var xt=0;xt<16;xt++)le(U[xt+1]);for(var dt=0;dt<=161;dt++)le(oe[dt])})(),pe(65498),pe(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var X=0,K=0,ae=0;k=0,C=7,this.encode.displayName="_encode_";for(var de,fe,xe,we,Ie,$e,Je,ct,z,Ne=j.data,rt=j.width,qe=j.height,Ee=4*rt,Ke=0;Ke<qe;){for(de=0;de<Ee;){for(Ie=Ee*Ke+de,Je=-1,ct=0,z=0;z<64;z++)$e=Ie+(ct=z>>3)*Ee+(Je=4*(7&z)),Ke+ct>=qe&&($e-=Ee*(Ke+1+ct-qe)),de+Je>=Ee&&($e-=de+Je-Ee+4),fe=Ne[$e++],xe=Ne[$e++],we=Ne[$e++],R[z]=(G[fe]+G[xe+256|0]+G[we+512|0]>>16)-128,D[z]=(G[fe+768|0]+G[xe+1024|0]+G[we+1280|0]>>16)-128,V[z]=(G[fe+1280|0]+G[xe+1536|0]+G[we+1792|0]>>16)-128;X=be(R,d,X,e,s),K=be(D,p,K,t,a),ae=be(V,p,ae,t,a),de+=32}Ke+=8}if(C>=0){var We=[];We[1]=C+1,We[0]=(1<<C+1)-1,J(We)}return pe(65497),new Uint8Array(N)},n=n||50,(function(){for(var j=String.fromCharCode,$=0;$<256;$++)F[$]=j($)})(),e=Y(M,B),t=Y(I,re),s=Y(te,E),a=Y(U,oe),(function(){for(var j=1,$=2,X=1;X<=15;X++){for(var K=j;K<$;K++)_[32767+K]=X,y[32767+K]=[],y[32767+K][1]=X,y[32767+K][0]=K;for(var ae=-($-1);ae<=-j;ae++)_[32767+ae]=X,y[32767+ae]=[],y[32767+ae][1]=X,y[32767+ae][0]=$-1+ae;j<<=1,$<<=1}})(),(function(){for(var j=0;j<256;j++)G[j]=19595*j,G[j+256|0]=38470*j,G[j+512|0]=7471*j+32768,G[j+768|0]=-11059*j,G[j+1024|0]=-21709*j,G[j+1280|0]=32768*j+8421375,G[j+1536|0]=-27439*j,G[j+1792|0]=-5329*j})(),W(n)}function io(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vx(n){function e(B){if(!B)throw Error("assert :P")}function t(B,te,E){for(var I=0;4>I;I++)if(B[te+I]!=E.charCodeAt(I))return!0;return!1}function s(B,te,E,I,re){for(var U=0;U<re;U++)B[te+U]=E[I+U]}function a(B,te,E,I){for(var re=0;re<I;re++)B[te+re]=E}function o(B){return new Int32Array(B)}function u(B,te){for(var E=[],I=0;I<B;I++)E.push(new te);return E}function c(B,te){var E=[];return(function I(re,U,oe){for(var Y=oe[U],J=0;J<Y&&(re.push(oe.length>U+1?[]:new te),!(oe.length<U+1));J++)I(re[J],U+1,oe)})(E,0,B),E}var f=function(){var B=this;function te(m,x){for(var T=1<<x-1>>>0;m&T;)T>>>=1;return T?(m&T-1)+T:m}function E(m,x,T,L,q){e(!(L%T));do m[x+(L-=T)]=q;while(0<L)}function I(m,x,T,L,q){if(e(2328>=q),512>=q)var Z=o(512);else if((Z=o(q))==null)return 0;return(function(Q,se,ie,ue,ve,Le){var ce,Se,je=se,Ue=1<<ie,Me=o(16),Pe=o(16);for(e(ve!=0),e(ue!=null),e(Q!=null),e(0<ie),Se=0;Se<ve;++Se){if(15<ue[Se])return 0;++Me[ue[Se]]}if(Me[0]==ve)return 0;for(Pe[1]=0,ce=1;15>ce;++ce){if(Me[ce]>1<<ce)return 0;Pe[ce+1]=Pe[ce]+Me[ce]}for(Se=0;Se<ve;++Se)ce=ue[Se],0<ue[Se]&&(Le[Pe[ce]++]=Se);if(Pe[15]==1)return(ue=new re).g=0,ue.value=Le[0],E(Q,je,1,Ue,ue),Ue;var Ye,ot=-1,Qe=Ue-1,Lt=0,wt=1,en=1,kt=1<<ie;for(Se=0,ce=1,ve=2;ce<=ie;++ce,ve<<=1){if(wt+=en<<=1,0>(en-=Me[ce]))return 0;for(;0<Me[ce];--Me[ce])(ue=new re).g=ce,ue.value=Le[Se++],E(Q,je+Lt,ve,kt,ue),Lt=te(Lt,ce)}for(ce=ie+1,ve=2;15>=ce;++ce,ve<<=1){if(wt+=en<<=1,0>(en-=Me[ce]))return 0;for(;0<Me[ce];--Me[ce]){if(ue=new re,(Lt&Qe)!=ot){for(je+=kt,Ye=1<<(ot=ce)-ie;15>ot&&!(0>=(Ye-=Me[ot]));)++ot,Ye<<=1;Ue+=kt=1<<(Ye=ot-ie),Q[se+(ot=Lt&Qe)].g=Ye+ie,Q[se+ot].value=je-se-ot}ue.g=ce-ie,ue.value=Le[Se++],E(Q,je+(Lt>>ie),ve,kt,ue),Lt=te(Lt,ce)}}return wt!=2*Pe[15]-1?0:Ue})(m,x,T,L,q,Z)}function re(){this.value=this.g=0}function U(){this.value=this.g=0}function oe(){this.G=u(5,re),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Ao,U)}function Y(m,x,T,L){e(m!=null),e(x!=null),e(2147483648>L),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=T,m.Jd=x,m.Yc=T+L,m.Zc=4<=L?T+L-4+1:T,fe(m)}function J(m,x){for(var T=0;0<x--;)T|=we(m,128)<<x;return T}function le(m,x){var T=J(m,x);return xe(m)?-T:T}function pe(m,x,T,L){var q,Z=0;for(e(m!=null),e(x!=null),e(4294967288>L),m.Sb=L,m.Ra=0,m.u=0,m.h=0,4<L&&(L=4),q=0;q<L;++q)Z+=x[T+q]<<8*q;m.Ra=Z,m.bb=L,m.oa=x,m.pa=T}function be(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<ba-8>>>0,++m.bb,m.u-=8;K(m)&&(m.h=1,m.u=0)}function W(m,x){if(e(0<=x),!m.h&&x<=$s){var T=X(m)&ni[x];return m.u+=x,be(m),T}return m.h=1,m.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(m){return m.Ra>>>(m.u&ba-1)>>>0}function K(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>ba}function ae(m,x){m.u=x,m.h=K(m)}function de(m){m.u>=va&&(e(m.u>=va),be(m))}function fe(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function xe(m){return J(m,1)}function we(m,x){var T=m.Ca;0>m.b&&fe(m);var L=m.b,q=T*x>>>8,Z=(m.I>>>L>q)+0;for(Z?(T-=q,m.I-=q+1<<L>>>0):T=q+1,L=T,q=0;256<=L;)q+=8,L>>=8;return L=7^q+Ga[L],m.b-=L,m.Ca=(T<<L)-1,Z}function Ie(m,x,T){m[x+0]=T>>24&255,m[x+1]=T>>16&255,m[x+2]=T>>8&255,m[x+3]=255&T}function $e(m,x){return m[x+0]|m[x+1]<<8}function Je(m,x){return $e(m,x)|m[x+2]<<16}function ct(m,x){return $e(m,x)|$e(m,x+2)<<16}function z(m,x){var T=1<<x;return e(m!=null),e(0<x),m.X=o(T),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function Ne(m,x){e(m!=null),e(x!=null),e(m.Xa==x.Xa),s(x.X,0,m.X,0,1<<x.Xa)}function rt(){this.X=[],this.Xa=this.Mb=0}function qe(m,x,T,L){e(T!=null),e(L!=null);var q=T[0],Z=L[0];return q==0&&(q=(m*Z+x/2)/x),Z==0&&(Z=(x*q+m/2)/m),0>=q||0>=Z?0:(T[0]=q,L[0]=Z,1)}function Ee(m,x){return m+(1<<x)-1>>>x}function Ke(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function We(m,x){B[x]=function(T,L,q,Z,Q,se,ie){var ue;for(ue=0;ue<Q;++ue){var ve=B[m](se[ie+ue-1],q,Z+ue);se[ie+ue]=Ke(T[L+ue],ve)}}}function lt(){this.ud=this.hd=this.jd=0}function at(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function ze(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function st(m,x){return ze(m+(m-x+.5>>1))}function et(m,x,T){return Math.abs(x-T)-Math.abs(m-T)}function ut(m,x,T,L,q,Z,Q){for(L=Z[Q-1],T=0;T<q;++T)Z[Q+T]=L=Ke(m[x+T],L)}function xt(m,x,T,L,q){var Z;for(Z=0;Z<T;++Z){var Q=m[x+Z],se=Q>>8&255,ie=16711935&(ie=(ie=16711935&Q)+((se<<16)+se));L[q+Z]=(4278255360&Q)+ie>>>0}}function dt(m,x){x.jd=255&m,x.hd=m>>8&255,x.ud=m>>16&255}function yt(m,x,T,L,q,Z){var Q;for(Q=0;Q<L;++Q){var se=x[T+Q],ie=se>>>8,ue=se,ve=255&(ve=(ve=se>>>16)+((m.jd<<24>>24)*(ie<<24>>24)>>>5));ue=255&(ue=(ue+=(m.hd<<24>>24)*(ie<<24>>24)>>>5)+((m.ud<<24>>24)*(ve<<24>>24)>>>5)),q[Z+Q]=(4278255360&se)+(ve<<16)+ue}}function ht(m,x,T,L,q){B[x]=function(Z,Q,se,ie,ue,ve,Le,ce,Se){for(ie=Le;ie<ce;++ie)for(Le=0;Le<Se;++Le)ue[ve++]=q(se[L(Z[Q++])])},B[m]=function(Z,Q,se,ie,ue,ve,Le){var ce=8>>Z.b,Se=Z.Ea,je=Z.K[0],Ue=Z.w;if(8>ce)for(Z=(1<<Z.b)-1,Ue=(1<<ce)-1;Q<se;++Q){var Me,Pe=0;for(Me=0;Me<Se;++Me)Me&Z||(Pe=L(ie[ue++])),ve[Le++]=q(je[Pe&Ue]),Pe>>=ce}else B["VP8LMapColor"+T](ie,ue,je,Ue,ve,Le,Q,se,Se)}}function bn(m,x,T,L,q){for(T=x+T;x<T;){var Z=m[x++];L[q++]=Z>>16&255,L[q++]=Z>>8&255,L[q++]=255&Z}}function Ht(m,x,T,L,q){for(T=x+T;x<T;){var Z=m[x++];L[q++]=Z>>16&255,L[q++]=Z>>8&255,L[q++]=255&Z,L[q++]=Z>>24&255}}function Tt(m,x,T,L,q){for(T=x+T;x<T;){var Z=(Q=m[x++])>>16&240|Q>>12&15,Q=240&Q|Q>>28&15;L[q++]=Z,L[q++]=Q}}function St(m,x,T,L,q){for(T=x+T;x<T;){var Z=(Q=m[x++])>>16&248|Q>>13&7,Q=Q>>5&224|Q>>3&31;L[q++]=Z,L[q++]=Q}}function At(m,x,T,L,q){for(T=x+T;x<T;){var Z=m[x++];L[q++]=255&Z,L[q++]=Z>>8&255,L[q++]=Z>>16&255}}function bt(m,x,T,L,q,Z){if(Z==0)for(T=x+T;x<T;)Ie(L,((Z=m[x++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),q+=32;else s(L,q,m,x,T)}function on(m,x){B[x][0]=B[m+"0"],B[x][1]=B[m+"1"],B[x][2]=B[m+"2"],B[x][3]=B[m+"3"],B[x][4]=B[m+"4"],B[x][5]=B[m+"5"],B[x][6]=B[m+"6"],B[x][7]=B[m+"7"],B[x][8]=B[m+"8"],B[x][9]=B[m+"9"],B[x][10]=B[m+"10"],B[x][11]=B[m+"11"],B[x][12]=B[m+"12"],B[x][13]=B[m+"13"],B[x][14]=B[m+"0"],B[x][15]=B[m+"0"]}function Mt(m){return m==Xc||m==Bu||m==$l||m==zu}function Dt(){this.eb=[],this.size=this.A=this.fb=0}function xn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Dt,this.f.kb=new xn,this.sd=null}function _e(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function it(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Vt(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Ae(m,x){var T=m.T,L=x.ba.f.RGBA,q=L.eb,Z=L.fb+m.ka*L.A,Q=Ts[x.ba.S],se=m.y,ie=m.O,ue=m.f,ve=m.N,Le=m.ea,ce=m.W,Se=x.cc,je=x.dc,Ue=x.Mc,Me=x.Nc,Pe=m.ka,Ye=m.ka+m.T,ot=m.U,Qe=ot+1>>1;for(Pe==0?Q(se,ie,null,null,ue,ve,Le,ce,ue,ve,Le,ce,q,Z,null,null,ot):(Q(x.ec,x.fc,se,ie,Se,je,Ue,Me,ue,ve,Le,ce,q,Z-L.A,q,Z,ot),++T);Pe+2<Ye;Pe+=2)Se=ue,je=ve,Ue=Le,Me=ce,ve+=m.Rc,ce+=m.Rc,Z+=2*L.A,Q(se,(ie+=2*m.fa)-m.fa,se,ie,Se,je,Ue,Me,ue,ve,Le,ce,q,Z-L.A,q,Z,ot);return ie+=m.fa,m.j+Ye<m.o?(s(x.ec,x.fc,se,ie,ot),s(x.cc,x.dc,ue,ve,Qe),s(x.Mc,x.Nc,Le,ce,Qe),T--):1&Ye||Q(se,ie,null,null,ue,ve,Le,ce,ue,ve,Le,ce,q,Z+L.A,null,null,ot),T}function ft(m,x,T){var L=m.F,q=[m.J];if(L!=null){var Z=m.U,Q=x.ba.S,se=Q==$c||Q==$l;x=x.ba.f.RGBA;var ie=[0],ue=m.ka;ie[0]=m.T,m.Kb&&(ue==0?--ie[0]:(--ue,q[0]-=m.width),m.j+m.ka+m.T==m.o&&(ie[0]=m.o-m.j-ue));var ve=x.eb;ue=x.fb+ue*x.A,m=Hc(L,q[0],m.width,Z,ie,ve,ue+(se?0:3),x.A),e(T==ie),m&&Mt(Q)&&il(ve,ue,se,Z,ie,x.A)}return 0}function pt(m){var x=m.ma,T=x.ba.S,L=11>T,q=T==Rs||T==Ti||T==$c||T==Yl||T==12||Mt(T);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!Wa(x.Oa,m,q?11:12))return 0;if(q&&Mt(T)&&zc(),m.da)alert("todo:use_scaling");else{if(L){if(x.Ib=Vt,m.Kb){if(T=m.U+1>>1,x.memory=o(m.U+2*T),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+T,x.Ib=Ae,zc()}}else alert("todo:EmitYUV");q&&(x.Jb=ft,L&&Zi())}if(L&&!Lo){for(m=0;256>m;++m)Cs[m]=89858*(m-128)+Ql>>Li,e0[m]=-22014*(m-128)+Ql,Id[m]=-45773*(m-128),Wu[m]=113618*(m-128)+Ql>>Li;for(m=cl;m<Mo;++m)x=76283*(m-16)+Ql>>Li,t0[m-cl]=Mr(x,255),n0[m-cl]=Mr(x+8>>4,15);Lo=1}return 1}function nt(m){var x=m.ma,T=m.U,L=m.T;return e(!(1&m.ka)),0>=T||0>=L?0:(T=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,T),x.Dc+=T,1)}function Nt(m){m.ma.memory=null}function ln(m,x,T,L){return W(m,8)!=47?0:(x[0]=W(m,14)+1,T[0]=W(m,14)+1,L[0]=W(m,1),W(m,3)!=0?0:!m.h)}function vn(m,x){if(4>m)return m+1;var T=m-2>>1;return(2+(1&m)<<T)+W(x,T)+1}function Nn(m,x){return 120<x?x-120:1<=(T=((T=ki[x-1])>>4)*m+(8-(15&T)))?T:1;var T}function Wt(m,x,T){var L=X(T),q=m[x+=255&L].g-8;return 0<q&&(ae(T,T.u+8),L=X(T),x+=m[x].value,x+=L&(1<<q)-1),ae(T,T.u+m[x].g),m[x].value}function nn(m,x,T){return T.g+=m.g,T.value+=m.value<<x>>>0,e(8>=T.g),m.g}function pn(m,x,T){var L=m.xc;return e((x=L==0?0:m.vc[m.md*(T>>L)+(x>>L)])<m.Wb),m.Ya[x]}function cr(m,x,T,L){var q=m.ab,Z=m.c*x,Q=m.C;x=Q+x;var se=T,ie=L;for(L=m.Ta,T=m.Ua;0<q--;){var ue=m.gc[q],ve=Q,Le=x,ce=se,Se=ie,je=(ie=L,se=T,ue.Ea);switch(e(ve<Le),e(Le<=ue.nc),ue.hc){case 2:Pr(ce,Se,(Le-ve)*je,ie,se);break;case 0:var Ue=ve,Me=Le,Pe=ie,Ye=se,ot=(kt=ue).Ea;Ue==0&&(Ul(ce,Se,null,null,1,Pe,Ye),ut(ce,Se+1,0,0,ot-1,Pe,Ye+1),Se+=ot,Ye+=ot,++Ue);for(var Qe=1<<kt.b,Lt=Qe-1,wt=Ee(ot,kt.b),en=kt.K,kt=kt.w+(Ue>>kt.b)*wt;Ue<Me;){var An=en,dr=kt,hn=1;for(Hl(ce,Se,Pe,Ye-ot,1,Pe,Ye);hn<ot;){var _t=(hn&~Lt)+Qe;_t>ot&&(_t=ot),(0,Ya[An[dr++]>>8&15])(ce,Se+ +hn,Pe,Ye+hn-ot,_t-hn,Pe,Ye+hn),hn=_t}Se+=ot,Ye+=ot,++Ue&Lt||(kt+=wt)}Le!=ue.nc&&s(ie,se-je,ie,se+(Le-ve-1)*je,je);break;case 1:for(je=ce,Me=Se,ot=(ce=ue.Ea)-(Ye=ce&~(Pe=(Se=1<<ue.b)-1)),Ue=Ee(ce,ue.b),Qe=ue.K,ue=ue.w+(ve>>ue.b)*Ue;ve<Le;){for(Lt=Qe,wt=ue,en=new lt,kt=Me+Ye,An=Me+ce;Me<kt;)dt(Lt[wt++],en),Wl(en,je,Me,Se,ie,se),Me+=Se,se+=Se;Me<An&&(dt(Lt[wt++],en),Wl(en,je,Me,ot,ie,se),Me+=ot,se+=ot),++ve&Pe||(ue+=Ue)}break;case 3:if(ce==ie&&Se==se&&0<ue.b){for(Me=ie,ce=je=se+(Le-ve)*je-(Ye=(Le-ve)*Ee(ue.Ea,ue.b)),Se=ie,Pe=se,Ue=[],Ye=(ot=Ye)-1;0<=Ye;--Ye)Ue[Ye]=Se[Pe+Ye];for(Ye=ot-1;0<=Ye;--Ye)Me[ce+Ye]=Ue[Ye];Du(ue,ve,Le,ie,je,ie,se)}else Du(ue,ve,Le,ce,Se,ie,se)}se=L,ie=T}ie!=T&&s(L,T,se,ie,Z)}function _n(m,x){var T=m.V,L=m.Ba+m.c*m.C,q=x-m.C;if(e(x<=m.l.o),e(16>=q),0<q){var Z=m.l,Q=m.Ta,se=m.Ua,ie=Z.width;if(cr(m,q,T,L),q=se=[se],e((T=m.C)<(L=x)),e(Z.v<Z.va),L>Z.o&&(L=Z.o),T<Z.j){var ue=Z.j-T;T=Z.j,q[0]+=ue*ie}if(T>=L?T=0:(q[0]+=4*Z.v,Z.ka=T-Z.j,Z.U=Z.va-Z.v,Z.T=L-T,T=1),T){if(se=se[0],11>(T=m.ca).S){var ve=T.f.RGBA,Le=(L=T.S,q=Z.U,Z=Z.T,ue=ve.eb,ve.A),ce=Z;for(ve=ve.fb+m.Ma*ve.A;0<ce--;){var Se=Q,je=se,Ue=q,Me=ue,Pe=ve;switch(L){case Vu:Gl(Se,je,Ue,Me,Pe);break;case Rs:$a(Se,je,Ue,Me,Pe);break;case Xc:$a(Se,je,Ue,Me,Pe),il(Me,Pe,0,Ue,1,0);break;case Fu:rl(Se,je,Ue,Me,Pe);break;case Ti:bt(Se,je,Ue,Me,Pe,1);break;case Bu:bt(Se,je,Ue,Me,Pe,1),il(Me,Pe,0,Ue,1,0);break;case $c:bt(Se,je,Ue,Me,Pe,0);break;case $l:bt(Se,je,Ue,Me,Pe,0),il(Me,Pe,1,Ue,1,0);break;case Yl:Xa(Se,je,Ue,Me,Pe);break;case zu:Xa(Se,je,Ue,Me,Pe),Ai(Me,Pe,Ue,1,0);break;case To:wa(Se,je,Ue,Me,Pe);break;default:e(0)}se+=ie,ve+=Le}m.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=T.height)}}m.C=x,e(m.C<=m.i)}function gn(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var T=m.Ya[x].G,L=m.Ya[x].H;if(0<T[1][L[1]+0].g||0<T[2][L[2]+0].g||0<T[3][L[3]+0].g)return 0}return 1}function Ln(m,x,T,L,q,Z){if(m.Z!=0){var Q=m.qd,se=m.rd;for(e(Ka[m.Z]!=null);x<T;++x)Ka[m.Z](Q,se,L,q,L,q,Z),Q=L,se=q,q+=Z;m.qd=Q,m.rd=se}}function xr(m,x){var T=m.l.ma,L=T.Z==0||T.Z==1?m.l.j:m.C;if(L=m.C<L?L:m.C,e(x<=m.l.o),x>L){var q=m.l.width,Z=T.ca,Q=T.tb+q*L,se=m.V,ie=m.Ba+m.c*L,ue=m.gc;e(m.ab==1),e(ue[0].hc==3),xa(ue[0],L,x,se,ie,Z,Q),Ln(T,L,x,Z,Q,q)}m.C=m.Ma=x}function br(m,x,T,L,q,Z,Q){var se=m.$/L,ie=m.$%L,ue=m.m,ve=m.s,Le=T+m.$,ce=Le;q=T+L*q;var Se=T+L*Z,je=280+ve.ua,Ue=m.Pb?se:16777216,Me=0<ve.ua?ve.Wa:null,Pe=ve.wc,Ye=Le<Se?pn(ve,ie,se):null;e(m.C<Z),e(Se<=q);var ot=!1;e:for(;;){for(;ot||Le<Se;){var Qe=0;if(se>=Ue){var Lt=Le-T;e((Ue=m).Pb),Ue.wd=Ue.m,Ue.xd=Lt,0<Ue.s.ua&&Ne(Ue.s.Wa,Ue.s.vb),Ue=se+Co}if(ie&Pe||(Ye=pn(ve,ie,se)),e(Ye!=null),Ye.Qb&&(x[Le]=Ye.qb,ot=!0),!ot)if(de(ue),Ye.jc){Qe=ue,Lt=x;var wt=Le,en=Ye.pd[X(Qe)&Ao-1];e(Ye.jc),256>en.g?(ae(Qe,Qe.u+en.g),Lt[wt]=en.value,Qe=0):(ae(Qe,Qe.u+en.g-256),e(256<=en.value),Qe=en.value),Qe==0&&(ot=!0)}else Qe=Wt(Ye.G[0],Ye.H[0],ue);if(ue.h)break;if(ot||256>Qe){if(!ot)if(Ye.nd)x[Le]=(Ye.qb|Qe<<8)>>>0;else{if(de(ue),ot=Wt(Ye.G[1],Ye.H[1],ue),de(ue),Lt=Wt(Ye.G[2],Ye.H[2],ue),wt=Wt(Ye.G[3],Ye.H[3],ue),ue.h)break;x[Le]=(wt<<24|ot<<16|Qe<<8|Lt)>>>0}if(ot=!1,++Le,++ie>=L&&(ie=0,++se,Q!=null&&se<=Z&&!(se%16)&&Q(m,se),Me!=null))for(;ce<Le;)Qe=x[ce++],Me.X[(506832829*Qe&4294967295)>>>Me.Mb]=Qe}else if(280>Qe){if(Qe=vn(Qe-256,ue),Lt=Wt(Ye.G[4],Ye.H[4],ue),de(ue),Lt=Nn(L,Lt=vn(Lt,ue)),ue.h)break;if(Le-T<Lt||q-Le<Qe)break e;for(wt=0;wt<Qe;++wt)x[Le+wt]=x[Le+wt-Lt];for(Le+=Qe,ie+=Qe;ie>=L;)ie-=L,++se,Q!=null&&se<=Z&&!(se%16)&&Q(m,se);if(e(Le<=q),ie&Pe&&(Ye=pn(ve,ie,se)),Me!=null)for(;ce<Le;)Qe=x[ce++],Me.X[(506832829*Qe&4294967295)>>>Me.Mb]=Qe}else{if(!(Qe<je))break e;for(ot=Qe-280,e(Me!=null);ce<Le;)Qe=x[ce++],Me.X[(506832829*Qe&4294967295)>>>Me.Mb]=Qe;Qe=Le,e(!(ot>>>(Lt=Me).Xa)),x[Qe]=Lt.X[ot],ot=!0}ot||e(ue.h==K(ue))}if(m.Pb&&ue.h&&Le<q)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Ne(m.s.vb,m.s.Wa);else{if(ue.h)break e;Q?.(m,se>Z?Z:se),m.a=0,m.$=Le-T}return 1}return m.a=3,0}function cs(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,e(m!=null)}function ke(){var m=new Qt;return m==null?null:(m.a=0,m.xb=sf,on("Predictor","VP8LPredictors"),on("Predictor","VP8LPredictors_C"),on("PredictorAdd","VP8LPredictorsAdd"),on("PredictorAdd","VP8LPredictorsAdd_C"),Pr=xt,Wl=yt,Gl=bn,$a=Ht,Xa=Tt,wa=St,rl=At,B.VP8LMapColor32b=ya,B.VP8LMapColor8b=Ss,m)}function Ve(m,x,T,L,q){var Z=1,Q=[m],se=[x],ie=L.m,ue=L.s,ve=null,Le=0;e:for(;;){if(T)for(;Z&&W(ie,1);){var ce=Q,Se=se,je=L,Ue=1,Me=je.m,Pe=je.gc[je.ab],Ye=W(Me,2);if(je.Oc&1<<Ye)Z=0;else{switch(je.Oc|=1<<Ye,Pe.hc=Ye,Pe.Ea=ce[0],Pe.nc=Se[0],Pe.K=[null],++je.ab,e(4>=je.ab),Ye){case 0:case 1:Pe.b=W(Me,3)+2,Ue=Ve(Ee(Pe.Ea,Pe.b),Ee(Pe.nc,Pe.b),0,je,Pe.K),Pe.K=Pe.K[0];break;case 3:var ot,Qe=W(Me,8)+1,Lt=16<Qe?0:4<Qe?1:2<Qe?2:3;if(ce[0]=Ee(Pe.Ea,Lt),Pe.b=Lt,ot=Ue=Ve(Qe,1,0,je,Pe.K)){var wt,en=Qe,kt=Pe,An=1<<(8>>kt.b),dr=o(An);if(dr==null)ot=0;else{var hn=kt.K[0],_t=kt.w;for(dr[0]=kt.K[0][0],wt=1;wt<1*en;++wt)dr[wt]=Ke(hn[_t+wt],dr[wt-1]);for(;wt<4*An;++wt)dr[wt]=0;kt.K[0]=null,kt.K[0]=dr,ot=1}}Ue=ot;break;case 2:break;default:e(0)}Z=Ue}}if(Q=Q[0],se=se[0],Z&&W(ie,1)&&!(Z=1<=(Le=W(ie,4))&&11>=Le)){L.a=3;break e}var mt;if(mt=Z)t:{var _r,$t,mn,Gn=L,rs=Q,ks=se,nr=Le,Yr=T,Is=Gn.m,$r=Gn.s,wn=[null],Fn=1,Sr=0,qn=ji[nr];n:for(;;){if(Yr&&W(Is,1)){var ss=W(Is,3)+2,Nr=Ee(rs,ss),Bn=Ee(ks,ss),Hr=Nr*Bn;if(!Ve(Nr,Bn,0,Gn,wn))break n;for(wn=wn[0],$r.xc=ss,_r=0;_r<Hr;++_r){var Yn=wn[_r]>>8&65535;wn[_r]=Yn,Yn>=Fn&&(Fn=Yn+1)}}if(Is.h)break n;for($t=0;5>$t;++$t){var Xr=ol[$t];!$t&&0<nr&&(Xr+=1<<nr),Sr<Xr&&(Sr=Xr)}var Zr=u(Fn*qn,re),Zn=Fn,Rn=u(Zn,oe);if(Rn==null)var Vs=null;else e(65536>=Zn),Vs=Rn;var Dr=o(Sr);if(Vs==null||Dr==null||Zr==null){Gn.a=1;break n}var Bt=Zr;for(_r=mn=0;_r<Fn;++_r){var Pt=Vs[_r],zn=Pt.G,ri=Pt.H,Oi=0,Zs=1,Qr=0;for($t=0;5>$t;++$t){Xr=ol[$t],zn[$t]=Bt,ri[$t]=mn,!$t&&0<nr&&(Xr+=1<<nr);s:{var Oo,Do=Xr,Yu=Gn,rr=Dr,of=Bt,lf=mn,$u=0,Ja=Yu.m,r0=W(Ja,1);if(a(rr,0,0,Do),r0){var cf=W(Ja,1)+1,uf=W(Ja,1),Xu=W(Ja,uf==0?1:8);rr[Xu]=1,cf==2&&(rr[Xu=W(Ja,8)]=1);var ds=1}else{var Rr=o(19),Jc=W(Ja,4)+4;if(19<Jc){Yu.a=3;var Ro=0;break s}for(Oo=0;Oo<Jc;++Oo)Rr[Zc[Oo]]=W(Ja,3);var Jl=void 0,ul=void 0,Na=Yu,Zu=Rr,ec=Do,Qu=rr,Ku=0,eo=Na.m,hf=8,ff=u(128,re);r:for(;I(ff,0,7,Zu,19);){if(W(eo,1)){var Vd=2+2*W(eo,3);if((Jl=2+W(eo,Vd))>ec)break r}else Jl=ec;for(ul=0;ul<ec&&Jl--;){de(eo);var df=ff[0+(127&X(eo))];ae(eo,eo.u+df.g);var Io=df.value;if(16>Io)Qu[ul++]=Io,Io!=0&&(hf=Io);else{var Fd=Io==16,Bd=Io-16,zd=Xl[Bd],pf=W(eo,Ci[Bd])+zd;if(ul+pf>ec)break r;for(var Pd=Fd?hf:0;0<pf--;)Qu[ul++]=Pd}}Ku=1;break r}Ku||(Na.a=3),ds=Ku}(ds=ds&&!Ja.h)&&($u=I(of,lf,8,rr,Do)),ds&&$u!=0?Ro=$u:(Yu.a=3,Ro=0)}if(Ro==0)break n;if(Zs&&Pu[$t]==1&&(Zs=Bt[mn].g==0),Oi+=Bt[mn].g,mn+=Ro,3>=$t){var hl,Ju=Dr[0];for(hl=1;hl<Xr;++hl)Dr[hl]>Ju&&(Ju=Dr[hl]);Qr+=Ju}}if(Pt.nd=Zs,Pt.Qb=0,Zs&&(Pt.qb=(zn[3][ri[3]+0].value<<24|zn[1][ri[1]+0].value<<16|zn[2][ri[2]+0].value)>>>0,Oi==0&&256>zn[0][ri[0]+0].value&&(Pt.Qb=1,Pt.qb+=zn[0][ri[0]+0].value<<8)),Pt.jc=!Pt.Qb&&6>Qr,Pt.jc){var eu,Aa=Pt;for(eu=0;eu<Ao;++eu){var to=eu,no=Aa.pd[to],eh=Aa.G[0][Aa.H[0]+to];256<=eh.value?(no.g=eh.g+256,no.value=eh.value):(no.g=0,no.value=0,to>>=nn(eh,8,no),to>>=nn(Aa.G[1][Aa.H[1]+to],16,no),to>>=nn(Aa.G[2][Aa.H[2]+to],0,no),nn(Aa.G[3][Aa.H[3]+to],24,no))}}}$r.vc=wn,$r.Wb=Fn,$r.Ya=Vs,$r.yc=Zr,mt=1;break t}mt=0}if(!(Z=mt)){L.a=3;break e}if(0<Le){if(ue.ua=1<<Le,!z(ue.Wa,Le)){L.a=1,Z=0;break e}}else ue.ua=0;var th=L,fl=Q,qd=se,tc=th.s,nc=tc.xc;if(th.c=fl,th.i=qd,tc.md=Ee(fl,nc),tc.wc=nc==0?-1:(1<<nc)-1,T){L.xb=ko;break e}if((ve=o(Q*se))==null){L.a=1,Z=0;break e}Z=(Z=br(L,ve,0,Q,se,se,null))&&!ie.h;break e}return Z?(q!=null?q[0]=ve:(e(ve==null),e(T)),L.$=0,T||cs(ue)):cs(ue),Z}function Fe(m,x){var T=m.c*m.i,L=T+x+16*x;return e(m.c<=x),m.V=o(L),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+T+x,1)}function gt(m,x){var T=m.C,L=x-T,q=m.V,Z=m.Ba+m.c*T;for(e(x<=m.l.o);0<L;){var Q=16<L?16:L,se=m.l.ma,ie=m.l.width,ue=ie*Q,ve=se.ca,Le=se.tb+ie*T,ce=m.Ta,Se=m.Ua;cr(m,Q,q,Z),gi(ce,Se,ve,Le,ue),Ln(se,T,T+Q,ve,Le,ie),L-=Q,q+=Q*m.c,T+=Q}e(T==x),m.C=m.Ma=x}function Gt(){this.ub=this.yd=this.td=this.Rb=0}function Ct(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function cn(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function zt(){this.Yb=(function(){var m=[];return(function x(T,L,q){for(var Z=q[L],Q=0;Q<Z&&(T.push(q.length>L+1?[]:0),!(q.length<L+1));Q++)x(T[Q],L+1,q)})(m,0,[3,11]),m})()}function Jt(){this.jb=o(3),this.Wc=c([4,8],zt),this.Xc=c([4,17],zt)}function Vn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Wn(){this.ld=this.La=this.dd=this.tc=0}function ur(){this.Na=this.la=0}function hr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ts(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Hs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Wn),this.Y=0,this.ya=Array(new ts),this.aa=0,this.l=new Ls}function wi(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Yi(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new Gt,this.Kc=new Ct,this.ed=new Vn,this.Qa=new cn,this.Ic=this.$c=this.Aa=0,this.D=new Hs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,j),this.ia=0,this.pb=u(4,hr),this.Pa=new Jt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wi),this.Hd=0,this.rb=Array(new ur),this.sb=0,this.wa=Array(new Wn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ts),this.L=this.aa=0,this.gd=c([4,2],Wn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mr(m,x){return 0>m?0:m>x?x:m}function Ls(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ws(){var m=new Yi;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,bi||(bi=fa)),m}function Sn(m,x,T){return m.a==0&&(m.a=x,m.sc=T,m.cb=0),0}function ha(m,x,T){return 3<=T&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function hi(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return Sn(m,2,"null VP8Io passed to VP8GetHeaders()");var T=x.data,L=x.w,q=x.ha;if(4>q)return Sn(m,7,"Truncated header.");var Z=T[L+0]|T[L+1]<<8|T[L+2]<<16,Q=m.Od;if(Q.Rb=!(1&Z),Q.td=Z>>1&7,Q.yd=Z>>4&1,Q.ub=Z>>5,3<Q.td)return Sn(m,3,"Incorrect keyframe parameters.");if(!Q.yd)return Sn(m,4,"Frame not displayable.");L+=3,q-=3;var se=m.Kc;if(Q.Rb){if(7>q)return Sn(m,7,"cannot parse picture header");if(!ha(T,L,q))return Sn(m,3,"Bad code word");se.c=16383&(T[L+4]<<8|T[L+3]),se.Td=T[L+4]>>6,se.i=16383&(T[L+6]<<8|T[L+5]),se.Ud=T[L+6]>>6,L+=7,q-=7,m.za=se.c+15>>4,m.Ub=se.i+15>>4,x.width=se.c,x.height=se.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,a((Z=m.Pa).jb,0,255,Z.jb.length),e((Z=m.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,a(Z.Zb,0,0,Z.Zb.length),a(Z.Lb,0,0,Z.Lb)}if(Q.ub>q)return Sn(m,7,"bad partition length");Y(Z=m.m,T,L,Q.ub),L+=Q.ub,q-=Q.ub,Q.Rb&&(se.Ld=xe(Z),se.Kd=xe(Z)),se=m.Qa;var ie,ue=m.Pa;if(e(Z!=null),e(se!=null),se.Cb=xe(Z),se.Cb){if(se.Bb=xe(Z),xe(Z)){for(se.Fb=xe(Z),ie=0;4>ie;++ie)se.Zb[ie]=xe(Z)?le(Z,7):0;for(ie=0;4>ie;++ie)se.Lb[ie]=xe(Z)?le(Z,6):0}if(se.Bb)for(ie=0;3>ie;++ie)ue.jb[ie]=xe(Z)?J(Z,8):255}else se.Bb=0;if(Z.Ka)return Sn(m,3,"cannot parse segment header");if((se=m.ed).zd=xe(Z),se.Tb=J(Z,6),se.wb=J(Z,3),se.Pc=xe(Z),se.Pc&&xe(Z)){for(ue=0;4>ue;++ue)xe(Z)&&(se.vd[ue]=le(Z,6));for(ue=0;4>ue;++ue)xe(Z)&&(se.od[ue]=le(Z,6))}if(m.L=se.Tb==0?0:se.zd?1:2,Z.Ka)return Sn(m,3,"cannot parse filter header");var ve=q;if(q=ie=L,L=ie+ve,se=ve,m.Xb=(1<<J(m.m,2))-1,ve<3*(ue=m.Xb))T=7;else{for(ie+=3*ue,se-=3*ue,ve=0;ve<ue;++ve){var Le=T[q+0]|T[q+1]<<8|T[q+2]<<16;Le>se&&(Le=se),Y(m.Jc[+ve],T,ie,Le),ie+=Le,se-=Le,q+=3}Y(m.Jc[+ue],T,ie,se),T=ie<L?0:5}if(T!=0)return Sn(m,T,"cannot parse partitions");for(T=J(ie=m.m,7),q=xe(ie)?le(ie,4):0,L=xe(ie)?le(ie,4):0,se=xe(ie)?le(ie,4):0,ue=xe(ie)?le(ie,4):0,ie=xe(ie)?le(ie,4):0,ve=m.Qa,Le=0;4>Le;++Le){if(ve.Cb){var ce=ve.Zb[Le];ve.Fb||(ce+=T)}else{if(0<Le){m.pb[Le]=m.pb[0];continue}ce=T}var Se=m.pb[Le];Se.Sc[0]=Ei[Mr(ce+q,127)],Se.Sc[1]=Mi[Mr(ce+0,127)],Se.Eb[0]=2*Ei[Mr(ce+L,127)],Se.Eb[1]=101581*Mi[Mr(ce+se,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=Ei[Mr(ce+ue,117)],Se.Qc[1]=Mi[Mr(ce+ie,127)],Se.lc=ce+ie}if(!Q.Rb)return Sn(m,4,"Not a key frame.");for(xe(Z),Q=m.Pa,T=0;4>T;++T){for(q=0;8>q;++q)for(L=0;3>L;++L)for(se=0;11>se;++se)ue=we(Z,fr[T][q][L][se])?J(Z,8):Rd[T][q][L][se],Q.Wc[T][q].Yb[L][se]=ue;for(q=0;17>q;++q)Q.Xc[T][q]=Q.Wc[T][Tn[q]]}return m.kc=xe(Z),m.kc&&(m.Bd=J(Z,8)),m.cb=1}function fa(m,x,T,L,q,Z,Q){var se=x[q].Yb[T];for(T=0;16>q;++q){if(!we(m,se[T+0]))return q;for(;!we(m,se[T+1]);)if(se=x[++q].Yb[0],T=0,q==16)return 16;var ie=x[q+1].Yb;if(we(m,se[T+2])){var ue=m,ve=0;if(we(ue,(ce=se)[(Le=T)+3]))if(we(ue,ce[Le+6])){for(se=0,Le=2*(ve=we(ue,ce[Le+8]))+(ce=we(ue,ce[Le+9+ve])),ve=0,ce=Dd[Le];ce[se];++se)ve+=ve+we(ue,ce[se]);ve+=3+(8<<Le)}else we(ue,ce[Le+7])?(ve=7+2*we(ue,165),ve+=we(ue,145)):ve=5+we(ue,159);else ve=we(ue,ce[Le+4])?3+we(ue,ce[Le+5]):2;se=ie[2]}else ve=1,se=ie[1];ie=Q+rf[q],0>(ue=m).b&&fe(ue);var Le,ce=ue.b,Se=(Le=ue.Ca>>1)-(ue.I>>ce)>>31;--ue.b,ue.Ca+=Se,ue.Ca|=1,ue.I-=(Le+1&Se)<<ce,Z[ie]=((ve^Se)-Se)*L[(0<q)+0]}return 16}function xo(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function us(m,x,T,L,q){q=m[x+T+32*L]+(q>>3),m[x+T+32*L]=-256&q?0>q?0:255:q}function Br(m,x,T,L,q,Z){us(m,x,0,T,L+q),us(m,x,1,T,L+Z),us(m,x,2,T,L-Z),us(m,x,3,T,L-q)}function Lr(m){return(20091*m>>16)+m}function wo(m,x,T,L){var q,Z=0,Q=o(16);for(q=0;4>q;++q){var se=m[x+0]+m[x+8],ie=m[x+0]-m[x+8],ue=(35468*m[x+4]>>16)-Lr(m[x+12]),ve=Lr(m[x+4])+(35468*m[x+12]>>16);Q[Z+0]=se+ve,Q[Z+1]=ie+ue,Q[Z+2]=ie-ue,Q[Z+3]=se-ve,Z+=4,x++}for(q=Z=0;4>q;++q)se=(m=Q[Z+0]+4)+Q[Z+8],ie=m-Q[Z+8],ue=(35468*Q[Z+4]>>16)-Lr(Q[Z+12]),us(T,L,0,0,se+(ve=Lr(Q[Z+4])+(35468*Q[Z+12]>>16))),us(T,L,1,0,ie+ue),us(T,L,2,0,ie-ue),us(T,L,3,0,se-ve),Z++,L+=32}function Il(m,x,T,L){var q=m[x+0]+4,Z=35468*m[x+4]>>16,Q=Lr(m[x+4]),se=35468*m[x+1]>>16;Br(T,L,0,q+Q,m=Lr(m[x+1]),se),Br(T,L,1,q+Z,m,se),Br(T,L,2,q-Z,m,se),Br(T,L,3,q-Q,m,se)}function Xo(m,x,T,L,q){wo(m,x,T,L),q&&wo(m,x+16,T,L+4)}function Gs(m,x,T,L){Za(m,x+0,T,L,1),Za(m,x+32,T,L+128,1)}function Oc(m,x,T,L){var q;for(m=m[x+0]+4,q=0;4>q;++q)for(x=0;4>x;++x)us(T,L,x,q,m)}function Dc(m,x,T,L){m[x+0]&&Pn(m,x+0,T,L),m[x+16]&&Pn(m,x+16,T,L+4),m[x+32]&&Pn(m,x+32,T,L+128),m[x+48]&&Pn(m,x+48,T,L+128+4)}function $i(m,x,T,L){var q,Z=o(16);for(q=0;4>q;++q){var Q=m[x+0+q]+m[x+12+q],se=m[x+4+q]+m[x+8+q],ie=m[x+4+q]-m[x+8+q],ue=m[x+0+q]-m[x+12+q];Z[0+q]=Q+se,Z[8+q]=Q-se,Z[4+q]=ue+ie,Z[12+q]=ue-ie}for(q=0;4>q;++q)Q=(m=Z[0+4*q]+3)+Z[3+4*q],se=Z[1+4*q]+Z[2+4*q],ie=Z[1+4*q]-Z[2+4*q],ue=m-Z[3+4*q],T[L+0]=Q+se>>3,T[L+16]=ue+ie>>3,T[L+32]=Q-se>>3,T[L+48]=ue-ie>>3,L+=64}function Zo(m,x,T){var L,q=x-32,Z=Ds,Q=255-m[q-1];for(L=0;L<T;++L){var se,ie=Z,ue=Q+m[x-1];for(se=0;se<T;++se)m[x+se]=ie[ue+m[q+se]];x+=32}}function Tu(m,x){Zo(m,x,4)}function Cu(m,x){Zo(m,x,8)}function Rc(m,x){Zo(m,x,16)}function Ic(m,x){var T;for(T=0;16>T;++T)s(m,x+32*T,m,x-32,16)}function ku(m,x){var T;for(T=16;0<T;--T)a(m,x,m[x-1],16),x+=32}function ti(m,x,T){var L;for(L=0;16>L;++L)a(x,T+32*L,m,16)}function Xi(m,x){var T,L=16;for(T=0;16>T;++T)L+=m[x-1+32*T]+m[x+T-32];ti(L>>5,m,x)}function Da(m,x){var T,L=8;for(T=0;16>T;++T)L+=m[x-1+32*T];ti(L>>4,m,x)}function Qo(m,x){var T,L=8;for(T=0;16>T;++T)L+=m[x+T-32];ti(L>>4,m,x)}function _o(m,x){ti(128,m,x)}function Yt(m,x,T){return m+2*x+T+2>>2}function ju(m,x){var T,L=x-32;for(L=new Uint8Array([Yt(m[L-1],m[L+0],m[L+1]),Yt(m[L+0],m[L+1],m[L+2]),Yt(m[L+1],m[L+2],m[L+3]),Yt(m[L+2],m[L+3],m[L+4])]),T=0;4>T;++T)s(m,x+32*T,L,0,L.length)}function Vc(m,x){var T=m[x-1],L=m[x-1+32],q=m[x-1+64],Z=m[x-1+96];Ie(m,x+0,16843009*Yt(m[x-1-32],T,L)),Ie(m,x+32,16843009*Yt(T,L,q)),Ie(m,x+64,16843009*Yt(L,q,Z)),Ie(m,x+96,16843009*Yt(q,Z,Z))}function Eu(m,x){var T,L=4;for(T=0;4>T;++T)L+=m[x+T-32]+m[x-1+32*T];for(L>>=3,T=0;4>T;++T)a(m,x+32*T,L,4)}function fi(m,x){var T=m[x-1+0],L=m[x-1+32],q=m[x-1+64],Z=m[x-1-32],Q=m[x+0-32],se=m[x+1-32],ie=m[x+2-32],ue=m[x+3-32];m[x+0+96]=Yt(L,q,m[x-1+96]),m[x+1+96]=m[x+0+64]=Yt(T,L,q),m[x+2+96]=m[x+1+64]=m[x+0+32]=Yt(Z,T,L),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=Yt(Q,Z,T),m[x+3+64]=m[x+2+32]=m[x+1+0]=Yt(se,Q,Z),m[x+3+32]=m[x+2+0]=Yt(ie,se,Q),m[x+3+0]=Yt(ue,ie,se)}function ws(m,x){var T=m[x+1-32],L=m[x+2-32],q=m[x+3-32],Z=m[x+4-32],Q=m[x+5-32],se=m[x+6-32],ie=m[x+7-32];m[x+0+0]=Yt(m[x+0-32],T,L),m[x+1+0]=m[x+0+32]=Yt(T,L,q),m[x+2+0]=m[x+1+32]=m[x+0+64]=Yt(L,q,Z),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=Yt(q,Z,Q),m[x+3+32]=m[x+2+64]=m[x+1+96]=Yt(Z,Q,se),m[x+3+64]=m[x+2+96]=Yt(Q,se,ie),m[x+3+96]=Yt(se,ie,ie)}function Fc(m,x){var T=m[x-1+0],L=m[x-1+32],q=m[x-1+64],Z=m[x-1-32],Q=m[x+0-32],se=m[x+1-32],ie=m[x+2-32],ue=m[x+3-32];m[x+0+0]=m[x+1+64]=Z+Q+1>>1,m[x+1+0]=m[x+2+64]=Q+se+1>>1,m[x+2+0]=m[x+3+64]=se+ie+1>>1,m[x+3+0]=ie+ue+1>>1,m[x+0+96]=Yt(q,L,T),m[x+0+64]=Yt(L,T,Z),m[x+0+32]=m[x+1+96]=Yt(T,Z,Q),m[x+1+32]=m[x+2+96]=Yt(Z,Q,se),m[x+2+32]=m[x+3+96]=Yt(Q,se,ie),m[x+3+32]=Yt(se,ie,ue)}function Ko(m,x){var T=m[x+0-32],L=m[x+1-32],q=m[x+2-32],Z=m[x+3-32],Q=m[x+4-32],se=m[x+5-32],ie=m[x+6-32],ue=m[x+7-32];m[x+0+0]=T+L+1>>1,m[x+1+0]=m[x+0+64]=L+q+1>>1,m[x+2+0]=m[x+1+64]=q+Z+1>>1,m[x+3+0]=m[x+2+64]=Z+Q+1>>1,m[x+0+32]=Yt(T,L,q),m[x+1+32]=m[x+0+96]=Yt(L,q,Z),m[x+2+32]=m[x+1+96]=Yt(q,Z,Q),m[x+3+32]=m[x+2+96]=Yt(Z,Q,se),m[x+3+64]=Yt(Q,se,ie),m[x+3+96]=Yt(se,ie,ue)}function di(m,x){var T=m[x-1+0],L=m[x-1+32],q=m[x-1+64],Z=m[x-1+96];m[x+0+0]=T+L+1>>1,m[x+2+0]=m[x+0+32]=L+q+1>>1,m[x+2+32]=m[x+0+64]=q+Z+1>>1,m[x+1+0]=Yt(T,L,q),m[x+3+0]=m[x+1+32]=Yt(L,q,Z),m[x+3+32]=m[x+1+64]=Yt(q,Z,Z),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=Z}function Jo(m,x){var T=m[x-1+0],L=m[x-1+32],q=m[x-1+64],Z=m[x-1+96],Q=m[x-1-32],se=m[x+0-32],ie=m[x+1-32],ue=m[x+2-32];m[x+0+0]=m[x+2+32]=T+Q+1>>1,m[x+0+32]=m[x+2+64]=L+T+1>>1,m[x+0+64]=m[x+2+96]=q+L+1>>1,m[x+0+96]=Z+q+1>>1,m[x+3+0]=Yt(se,ie,ue),m[x+2+0]=Yt(Q,se,ie),m[x+1+0]=m[x+3+32]=Yt(T,Q,se),m[x+1+32]=m[x+3+64]=Yt(L,T,Q),m[x+1+64]=m[x+3+96]=Yt(q,L,T),m[x+1+96]=Yt(Z,q,L)}function da(m,x){var T;for(T=0;8>T;++T)s(m,x+32*T,m,x-32,8)}function Mu(m,x){var T;for(T=0;8>T;++T)a(m,x,m[x-1],8),x+=32}function _i(m,x,T){var L;for(L=0;8>L;++L)a(x,T+32*L,m,8)}function Vl(m,x){var T,L=8;for(T=0;8>T;++T)L+=m[x+T-32]+m[x-1+32*T];_i(L>>4,m,x)}function Fl(m,x){var T,L=4;for(T=0;8>T;++T)L+=m[x+T-32];_i(L>>3,m,x)}function hs(m,x){var T,L=4;for(T=0;8>T;++T)L+=m[x-1+32*T];_i(L>>3,m,x)}function pa(m,x){_i(128,m,x)}function Si(m,x,T){var L=m[x-T],q=m[x+0],Z=3*(q-L)+Qa[1020+m[x-2*T]-m[x+T]],Q=Yc[112+(Z+4>>3)];m[x-T]=Ds[255+L+Yc[112+(Z+3>>3)]],m[x+0]=Ds[255+q-Q]}function Ra(m,x,T,L){var q=m[x+0],Z=m[x+T];return Ns[255+m[x-2*T]-m[x-T]]>L||Ns[255+Z-q]>L}function Bl(m,x,T,L){return 4*Ns[255+m[x-T]-m[x+0]]+Ns[255+m[x-2*T]-m[x+T]]<=L}function el(m,x,T,L,q){var Z=m[x-3*T],Q=m[x-2*T],se=m[x-T],ie=m[x+0],ue=m[x+T],ve=m[x+2*T],Le=m[x+3*T];return 4*Ns[255+se-ie]+Ns[255+Q-ue]>L?0:Ns[255+m[x-4*T]-Z]<=q&&Ns[255+Z-Q]<=q&&Ns[255+Q-se]<=q&&Ns[255+Le-ve]<=q&&Ns[255+ve-ue]<=q&&Ns[255+ue-ie]<=q}function Ia(m,x,T,L){var q=2*L+1;for(L=0;16>L;++L)Bl(m,x+L,T,q)&&Si(m,x+L,T)}function Va(m,x,T,L){var q=2*L+1;for(L=0;16>L;++L)Bl(m,x+L*T,1,q)&&Si(m,x+L*T,1)}function tl(m,x,T,L){var q;for(q=3;0<q;--q)Ia(m,x+=4*T,T,L)}function Bc(m,x,T,L){var q;for(q=3;0<q;--q)Va(m,x+=4,T,L)}function Fa(m,x,T,L,q,Z,Q,se){for(Z=2*Z+1;0<q--;){if(el(m,x,T,Z,Q))if(Ra(m,x,T,se))Si(m,x,T);else{var ie=m,ue=x,ve=T,Le=ie[ue-2*ve],ce=ie[ue-ve],Se=ie[ue+0],je=ie[ue+ve],Ue=ie[ue+2*ve],Me=27*(Ye=Qa[1020+3*(Se-ce)+Qa[1020+Le-je]])+63>>7,Pe=18*Ye+63>>7,Ye=9*Ye+63>>7;ie[ue-3*ve]=Ds[255+ie[ue-3*ve]+Ye],ie[ue-2*ve]=Ds[255+Le+Pe],ie[ue-ve]=Ds[255+ce+Me],ie[ue+0]=Ds[255+Se-Me],ie[ue+ve]=Ds[255+je-Pe],ie[ue+2*ve]=Ds[255+Ue-Ye]}x+=L}}function Ba(m,x,T,L,q,Z,Q,se){for(Z=2*Z+1;0<q--;){if(el(m,x,T,Z,Q))if(Ra(m,x,T,se))Si(m,x,T);else{var ie=m,ue=x,ve=T,Le=ie[ue-ve],ce=ie[ue+0],Se=ie[ue+ve],je=Yc[112+(4+(Ue=3*(ce-Le))>>3)],Ue=Yc[112+(Ue+3>>3)],Me=je+1>>1;ie[ue-2*ve]=Ds[255+ie[ue-2*ve]+Me],ie[ue-ve]=Ds[255+Le+Ue],ie[ue+0]=Ds[255+ce-je],ie[ue+ve]=Ds[255+Se-Me]}x+=L}}function Lu(m,x,T,L,q,Z){Fa(m,x,T,1,16,L,q,Z)}function za(m,x,T,L,q,Z){Fa(m,x,1,T,16,L,q,Z)}function Ou(m,x,T,L,q,Z){var Q;for(Q=3;0<Q;--Q)Ba(m,x+=4*T,T,1,16,L,q,Z)}function S(m,x,T,L,q,Z){var Q;for(Q=3;0<Q;--Q)Ba(m,x+=4,1,T,16,L,q,Z)}function P(m,x,T,L,q,Z,Q,se){Fa(m,x,q,1,8,Z,Q,se),Fa(T,L,q,1,8,Z,Q,se)}function he(m,x,T,L,q,Z,Q,se){Fa(m,x,1,q,8,Z,Q,se),Fa(T,L,1,q,8,Z,Q,se)}function ge(m,x,T,L,q,Z,Q,se){Ba(m,x+4*q,q,1,8,Z,Q,se),Ba(T,L+4*q,q,1,8,Z,Q,se)}function Te(m,x,T,L,q,Z,Q,se){Ba(m,x+4,1,q,8,Z,Q,se),Ba(T,L+4,1,q,8,Z,Q,se)}function Ge(){this.ba=new vt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new it,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function jt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Rt(){this.ua=0,this.Wa=new rt,this.vb=new rt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new re}function Qt(){this.xb=this.a=0,this.l=new Ls,this.ca=new vt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Rt,this.ab=0,this.gc=u(4,jt),this.Oc=0}function un(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ls,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function On(m,x,T,L,q,Z,Q){for(m=m==null?0:m[x+0],x=0;x<Q;++x)q[Z+x]=m+T[L+x]&255,m=q[Z+x]}function wr(m,x,T,L,q,Z,Q){var se;if(m==null)On(null,null,T,L,q,Z,Q);else for(se=0;se<Q;++se)q[Z+se]=m[x+se]+T[L+se]&255}function zr(m,x,T,L,q,Z,Q){if(m==null)On(null,null,T,L,q,Z,Q);else{var se,ie=m[x+0],ue=ie,ve=ie;for(se=0;se<Q;++se)ue=ve+(ie=m[x+se])-ue,ve=T[L+se]+(-256&ue?0>ue?0:255:ue)&255,ue=ie,q[Z+se]=ve}}function er(m,x,T,L){var q=x.width,Z=x.o;if(e(m!=null&&x!=null),0>T||0>=L||T+L>Z)return null;if(!m.Cc){if(m.ga==null){var Q;if(m.ga=new un,(Q=m.ga==null)||(Q=x.width*x.o,e(m.Gb.length==0),m.Gb=o(Q),m.Uc=0,m.Gb==null?Q=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,Q=1),Q=!Q),!Q){Q=m.ga;var se=m.Fa,ie=m.P,ue=m.qc,ve=m.mb,Le=m.nb,ce=ie+1,Se=ue-1,je=Q.l;if(e(se!=null&&ve!=null&&x!=null),Ka[0]=null,Ka[1]=On,Ka[2]=wr,Ka[3]=zr,Q.ca=ve,Q.tb=Le,Q.c=x.width,Q.i=x.height,e(0<Q.c&&0<Q.i),1>=ue)x=0;else if(Q.$a=3&se[ie+0],Q.Z=se[ie+0]>>2&3,Q.Lc=se[ie+0]>>4&3,ie=se[ie+0]>>6&3,0>Q.$a||1<Q.$a||4<=Q.Z||1<Q.Lc||ie)x=0;else if(je.put=nt,je.ac=pt,je.bc=Nt,je.ma=Q,je.width=x.width,je.height=x.height,je.Da=x.Da,je.v=x.v,je.va=x.va,je.j=x.j,je.o=x.o,Q.$a)e:{e(Q.$a==1),x=ke();t:for(;;){if(x==null){x=0;break e}if(e(Q!=null),Q.mc=x,x.c=Q.c,x.i=Q.i,x.l=Q.l,x.l.ma=Q,x.l.width=Q.c,x.l.height=Q.i,x.a=0,pe(x.m,se,ce,Se),!Ve(Q.c,Q.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&gn(x.s)?(Q.ic=1,se=x.c*x.i,x.Ta=null,x.Ua=0,x.V=o(se),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(Q.ic=0,x=Fe(x,Q.c)),!x))break t;x=1;break e}Q.mc=null,x=0}else x=Se>=Q.c*Q.i;Q=!x}if(Q)return null;m.ga.Lc!=1?m.Ga=0:L=Z-T}e(m.ga!=null),e(T+L<=Z);e:{if(x=(se=m.ga).c,Z=se.l.o,se.$a==0){if(ce=m.rc,Se=m.Vc,je=m.Fa,ie=m.P+1+T*x,ue=m.mb,ve=m.nb+T*x,e(ie<=m.P+m.qc),se.Z!=0)for(e(Ka[se.Z]!=null),Q=0;Q<L;++Q)Ka[se.Z](ce,Se,je,ie,ue,ve,x),ce=ue,Se=ve,ve+=x,ie+=x;else for(Q=0;Q<L;++Q)s(ue,ve,je,ie,x),ce=ue,Se=ve,ve+=x,ie+=x;m.rc=ce,m.Vc=Se}else{if(e(se.mc!=null),x=T+L,e((Q=se.mc)!=null),e(x<=Q.i),Q.C>=x)x=1;else if(se.ic||Zi(),se.ic){se=Q.V,ce=Q.Ba,Se=Q.c;var Ue=Q.i,Me=(je=1,ie=Q.$/Se,ue=Q.$%Se,ve=Q.m,Le=Q.s,Q.$),Pe=Se*Ue,Ye=Se*x,ot=Le.wc,Qe=Me<Ye?pn(Le,ue,ie):null;e(Me<=Pe),e(x<=Ue),e(gn(Le));t:for(;;){for(;!ve.h&&Me<Ye;){if(ue&ot||(Qe=pn(Le,ue,ie)),e(Qe!=null),de(ve),256>(Ue=Wt(Qe.G[0],Qe.H[0],ve)))se[ce+Me]=Ue,++Me,++ue>=Se&&(ue=0,++ie<=x&&!(ie%16)&&xr(Q,ie));else{if(!(280>Ue)){je=0;break t}Ue=vn(Ue-256,ve);var Lt,wt=Wt(Qe.G[4],Qe.H[4],ve);if(de(ve),!(Me>=(wt=Nn(Se,wt=vn(wt,ve)))&&Pe-Me>=Ue)){je=0;break t}for(Lt=0;Lt<Ue;++Lt)se[ce+Me+Lt]=se[ce+Me+Lt-wt];for(Me+=Ue,ue+=Ue;ue>=Se;)ue-=Se,++ie<=x&&!(ie%16)&&xr(Q,ie);Me<Ye&&ue&ot&&(Qe=pn(Le,ue,ie))}e(ve.h==K(ve))}xr(Q,ie>x?x:ie);break t}!je||ve.h&&Me<Pe?(je=0,Q.a=ve.h?5:3):Q.$=Me,x=je}else x=br(Q,Q.V,Q.Ba,Q.c,Q.i,x,gt);if(!x){L=0;break e}}T+L>=Z&&(m.Cc=1),L=1}if(!L)return null;if(m.Cc&&((L=m.ga)!=null&&(L.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+T*q}function ns(m,x,T,L,q,Z){for(;0<q--;){var Q,se=m,ie=x+(T?1:0),ue=m,ve=x+(T?0:3);for(Q=0;Q<L;++Q){var Le=ue[ve+4*Q];Le!=255&&(Le*=32897,se[ie+4*Q+0]=se[ie+4*Q+0]*Le>>23,se[ie+4*Q+1]=se[ie+4*Q+1]*Le>>23,se[ie+4*Q+2]=se[ie+4*Q+2]*Le>>23)}x+=Z}}function Gr(m,x,T,L,q){for(;0<L--;){var Z;for(Z=0;Z<T;++Z){var Q=m[x+2*Z+0],se=15&(ue=m[x+2*Z+1]),ie=4369*se,ue=(240&ue|ue>>4)*ie>>16;m[x+2*Z+0]=(240&Q|Q>>4)*ie>>16&240|(15&Q|Q<<4)*ie>>16>>4&15,m[x+2*Z+1]=240&ue|se}x+=q}}function _s(m,x,T,L,q,Z,Q,se){var ie,ue,ve=255;for(ue=0;ue<q;++ue){for(ie=0;ie<L;++ie){var Le=m[x+ie];Z[Q+4*ie]=Le,ve&=Le}x+=T,Q+=se}return ve!=255}function Pa(m,x,T,L,q){var Z;for(Z=0;Z<q;++Z)T[L+Z]=m[x+Z]>>8}function Zi(){il=ns,Ai=Gr,Hc=_s,gi=Pa}function qa(m,x,T){B[m]=function(L,q,Z,Q,se,ie,ue,ve,Le,ce,Se,je,Ue,Me,Pe,Ye,ot){var Qe,Lt=ot-1>>1,wt=se[ie+0]|ue[ve+0]<<16,en=Le[ce+0]|Se[je+0]<<16;e(L!=null);var kt=3*wt+en+131074>>2;for(x(L[q+0],255&kt,kt>>16,Ue,Me),Z!=null&&(kt=3*en+wt+131074>>2,x(Z[Q+0],255&kt,kt>>16,Pe,Ye)),Qe=1;Qe<=Lt;++Qe){var An=se[ie+Qe]|ue[ve+Qe]<<16,dr=Le[ce+Qe]|Se[je+Qe]<<16,hn=wt+An+en+dr+524296,_t=hn+2*(An+en)>>3;kt=_t+wt>>1,wt=(hn=hn+2*(wt+dr)>>3)+An>>1,x(L[q+2*Qe-1],255&kt,kt>>16,Ue,Me+(2*Qe-1)*T),x(L[q+2*Qe-0],255&wt,wt>>16,Ue,Me+(2*Qe-0)*T),Z!=null&&(kt=hn+en>>1,wt=_t+dr>>1,x(Z[Q+2*Qe-1],255&kt,kt>>16,Pe,Ye+(2*Qe-1)*T),x(Z[Q+2*Qe+0],255&wt,wt>>16,Pe,Ye+(2*Qe+0)*T)),wt=An,en=dr}1&ot||(kt=3*wt+en+131074>>2,x(L[q+ot-1],255&kt,kt>>16,Ue,Me+(ot-1)*T),Z!=null&&(kt=3*en+wt+131074>>2,x(Z[Q+ot-1],255&kt,kt>>16,Pe,Ye+(ot-1)*T)))}}function zc(){Ts[Vu]=ll,Ts[Rs]=Zl,Ts[Fu]=af,Ts[Ti]=Uu,Ts[$c]=jo,Ts[Yl]=Sa,Ts[To]=Eo,Ts[Xc]=Zl,Ts[Bu]=Uu,Ts[$l]=jo,Ts[zu]=Sa}function zl(m){return m&-16384?0>m?0:255:m>>Hu}function ma(m,x){return zl((19077*m>>8)+(26149*x>>8)-14234)}function Qi(m,x,T){return zl((19077*m>>8)-(6419*x>>8)-(13320*T>>8)+8708)}function nl(m,x){return zl((19077*m>>8)+(33050*x>>8)-17685)}function Ua(m,x,T,L,q){L[q+0]=ma(m,T),L[q+1]=Qi(m,x,T),L[q+2]=nl(m,x)}function fs(m,x,T,L,q){L[q+0]=nl(m,x),L[q+1]=Qi(m,x,T),L[q+2]=ma(m,T)}function So(m,x,T,L,q){var Z=Qi(m,x,T);x=Z<<3&224|nl(m,x)>>3,L[q+0]=248&ma(m,T)|Z>>5,L[q+1]=x}function No(m,x,T,L,q){var Z=240&nl(m,x)|15;L[q+0]=240&ma(m,T)|Qi(m,x,T)>>4,L[q+1]=Z}function Pl(m,x,T,L,q){L[q+0]=255,Ua(m,x,T,L,q+1)}function ga(m,x,T,L,q){fs(m,x,T,L,q),L[q+3]=255}function Ys(m,x,T,L,q){Ua(m,x,T,L,q),L[q+3]=255}function Ha(m,x,T){B[m]=function(L,q,Z,Q,se,ie,ue,ve,Le){for(var ce=ve+(-2&Le)*T;ve!=ce;)x(L[q+0],Z[Q+0],se[ie+0],ue,ve),x(L[q+1],Z[Q+0],se[ie+0],ue,ve+T),q+=2,++Q,++ie,ve+=2*T;1&Le&&x(L[q+0],Z[Q+0],se[ie+0],ue,ve)}}function ql(m,x,T){return T==0?m==0?x==0?6:5:x==0?4:0:T}function Pc(m,x,T,L,q){switch(m>>>30){case 3:Za(x,T,L,q,0);break;case 2:Os(x,T,L,q);break;case 1:Pn(x,T,L,q)}}function pi(m,x){var T,L,q=x.M,Z=x.Nb,Q=m.oc,se=m.pc+40,ie=m.oc,ue=m.pc+584,ve=m.oc,Le=m.pc+600;for(T=0;16>T;++T)Q[se+32*T-1]=129;for(T=0;8>T;++T)ie[ue+32*T-1]=129,ve[Le+32*T-1]=129;for(0<q?Q[se-1-32]=ie[ue-1-32]=ve[Le-1-32]=129:(a(Q,se-32-1,127,21),a(ie,ue-32-1,127,9),a(ve,Le-32-1,127,9)),L=0;L<m.za;++L){var ce=x.ya[x.aa+L];if(0<L){for(T=-1;16>T;++T)s(Q,se+32*T-4,Q,se+32*T+12,4);for(T=-1;8>T;++T)s(ie,ue+32*T-4,ie,ue+32*T+4,4),s(ve,Le+32*T-4,ve,Le+32*T+4,4)}var Se=m.Gd,je=m.Hd+L,Ue=ce.ad,Me=ce.Hc;if(0<q&&(s(Q,se-32,Se[je].y,0,16),s(ie,ue-32,Se[je].f,0,8),s(ve,Le-32,Se[je].ea,0,8)),ce.Za){var Pe=Q,Ye=se-32+16;for(0<q&&(L>=m.za-1?a(Pe,Ye,Se[je].y[15],4):s(Pe,Ye,Se[je+1].y,0,4)),T=0;4>T;T++)Pe[Ye+128+T]=Pe[Ye+256+T]=Pe[Ye+384+T]=Pe[Ye+0+T];for(T=0;16>T;++T,Me<<=2)Pe=Q,Ye=se+Ur[T],Or[ce.Ob[T]](Pe,Ye),Pc(Me,Ue,16*+T,Pe,Ye)}else if(Pe=ql(L,q,ce.Ob[0]),Xs[Pe](Q,se),Me!=0)for(T=0;16>T;++T,Me<<=2)Pc(Me,Ue,16*+T,Q,se+Ur[T]);for(T=ce.Gc,Pe=ql(L,q,ce.Dd),ta[Pe](ie,ue),ta[Pe](ve,Le),Me=Ue,Pe=ie,Ye=ue,255&(ce=0|T)&&(170&ce?Ni(Me,256,Pe,Ye):Dn(Me,256,Pe,Ye)),ce=ve,Me=Le,255&(T>>=8)&&(170&T?Ni(Ue,320,ce,Me):Dn(Ue,320,ce,Me)),q<m.Ub-1&&(s(Se[je].y,0,Q,se+480,16),s(Se[je].f,0,ie,ue+224,8),s(Se[je].ea,0,ve,Le+224,8)),T=8*Z*m.B,Se=m.sa,je=m.ta+16*L+16*Z*m.R,Ue=m.qa,ce=m.ra+8*L+T,Me=m.Ha,Pe=m.Ia+8*L+T,T=0;16>T;++T)s(Se,je+T*m.R,Q,se+32*T,16);for(T=0;8>T;++T)s(Ue,ce+T*m.B,ie,ue+32*T,8),s(Me,Pe+T*m.B,ve,Le+32*T,8)}}function Ki(m,x,T,L,q,Z,Q,se,ie){var ue=[0],ve=[0],Le=0,ce=ie!=null?ie.kd:0,Se=ie??new tt;if(m==null||12>T)return 7;Se.data=m,Se.w=x,Se.ha=T,x=[x],T=[T],Se.gb=[Se.gb];e:{var je=x,Ue=T,Me=Se.gb;if(e(m!=null),e(Ue!=null),e(Me!=null),Me[0]=0,12<=Ue[0]&&!t(m,je[0],"RIFF")){if(t(m,je[0]+8,"WEBP")){Me=3;break e}var Pe=ct(m,je[0]+4);if(12>Pe||4294967286<Pe){Me=3;break e}if(ce&&Pe>Ue[0]-8){Me=7;break e}Me[0]=Pe,je[0]+=12,Ue[0]-=12}Me=0}if(Me!=0)return Me;for(Pe=0<Se.gb[0],T=T[0];;){e:{var Ye=m;Ue=x,Me=T;var ot=ue,Qe=ve,Lt=je=[0];if((kt=Le=[Le])[0]=0,8>Me[0])Me=7;else{if(!t(Ye,Ue[0],"VP8X")){if(ct(Ye,Ue[0]+4)!=10){Me=3;break e}if(18>Me[0]){Me=7;break e}var wt=ct(Ye,Ue[0]+8),en=1+Je(Ye,Ue[0]+12);if(2147483648<=en*(Ye=1+Je(Ye,Ue[0]+15))){Me=3;break e}Lt!=null&&(Lt[0]=wt),ot!=null&&(ot[0]=en),Qe!=null&&(Qe[0]=Ye),Ue[0]+=18,Me[0]-=18,kt[0]=1}Me=0}}if(Le=Le[0],je=je[0],Me!=0)return Me;if(Ue=!!(2&je),!Pe&&Le)return 3;if(Z!=null&&(Z[0]=!!(16&je)),Q!=null&&(Q[0]=Ue),se!=null&&(se[0]=0),Q=ue[0],je=ve[0],Le&&Ue&&ie==null){Me=0;break}if(4>T){Me=7;break}if(Pe&&Le||!Pe&&!Le&&!t(m,x[0],"ALPH")){T=[T],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{wt=m,Me=x,Pe=T;var kt=Se.gb;ot=Se.na,Qe=Se.P,Lt=Se.Sa,en=22,e(wt!=null),e(Pe!=null),Ye=Me[0];var An=Pe[0];for(e(ot!=null),e(Lt!=null),ot[0]=null,Qe[0]=null,Lt[0]=0;;){if(Me[0]=Ye,Pe[0]=An,8>An){Me=7;break e}var dr=ct(wt,Ye+4);if(4294967286<dr){Me=3;break e}var hn=8+dr+1&-2;if(en+=hn,0<kt&&en>kt){Me=3;break e}if(!t(wt,Ye,"VP8 ")||!t(wt,Ye,"VP8L")){Me=0;break e}if(An[0]<hn){Me=7;break e}t(wt,Ye,"ALPH")||(ot[0]=wt,Qe[0]=Ye+8,Lt[0]=dr),Ye+=hn,An-=hn}}if(T=T[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],Me!=0)break}T=[T],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(kt=m,Me=x,Pe=T,ot=Se.gb[0],Qe=Se.Ja,Lt=Se.xa,wt=Me[0],Ye=!t(kt,wt,"VP8 "),en=!t(kt,wt,"VP8L"),e(kt!=null),e(Pe!=null),e(Qe!=null),e(Lt!=null),8>Pe[0])Me=7;else{if(Ye||en){if(kt=ct(kt,wt+4),12<=ot&&kt>ot-12){Me=3;break e}if(ce&&kt>Pe[0]-8){Me=7;break e}Qe[0]=kt,Me[0]+=8,Pe[0]-=8,Lt[0]=en}else Lt[0]=5<=Pe[0]&&kt[wt+0]==47&&!(kt[wt+4]>>5),Qe[0]=Pe[0];Me=0}if(T=T[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],x=x[0],Me!=0)break;if(4294967286<Se.Ja)return 3;if(se==null||Ue||(se[0]=Se.xa?2:1),Q=[Q],je=[je],Se.xa){if(5>T){Me=7;break}se=Q,ce=je,Ue=Z,m==null||5>T?m=0:5<=T&&m[x+0]==47&&!(m[x+4]>>5)?(Pe=[0],kt=[0],ot=[0],pe(Qe=new $,m,x,T),ln(Qe,Pe,kt,ot)?(se!=null&&(se[0]=Pe[0]),ce!=null&&(ce[0]=kt[0]),Ue!=null&&(Ue[0]=ot[0]),m=1):m=0):m=0}else{if(10>T){Me=7;break}se=je,m==null||10>T||!ha(m,x+3,T-3)?m=0:(ce=m[x+0]|m[x+1]<<8|m[x+2]<<16,Ue=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&ce||3<(ce>>1&7)||!(ce>>4&1)||ce>>5>=Se.Ja||!Ue||!m?m=0:(Q&&(Q[0]=Ue),se&&(se[0]=m),m=1))}if(!m||(Q=Q[0],je=je[0],Le&&(ue[0]!=Q||ve[0]!=je)))return 3;ie!=null&&(ie[0]=Se,ie.offset=x-ie.w,e(4294967286>x-ie.w),e(ie.offset==ie.ha-T));break}return Me==0||Me==7&&Le&&ie==null?(Z!=null&&(Z[0]|=Se.na!=null&&0<Se.na.length),L!=null&&(L[0]=Q),q!=null&&(q[0]=je),0):Me}function Wa(m,x,T){var L=x.width,q=x.height,Z=0,Q=0,se=L,ie=q;if(x.Da=m!=null&&0<m.Da,x.Da&&(se=m.cd,ie=m.bd,Z=m.v,Q=m.j,11>T||(Z&=-2,Q&=-2),0>Z||0>Q||0>=se||0>=ie||Z+se>L||Q+ie>q))return 0;if(x.v=Z,x.j=Q,x.va=Z+se,x.o=Q+ie,x.U=se,x.T=ie,x.da=m!=null&&0<m.da,x.da){if(!qe(se,ie,T=[m.ib],Z=[m.hb]))return 0;x.ib=T[0],x.hb=Z[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*L/4&&x.hb<3*q/4,x.Kb=0),1}function qc(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function Ji(m,x,T,L){if(L==null||0>=m||0>=x)return 2;if(T!=null){if(T.Da){var q=T.cd,Z=T.bd,Q=-2&T.v,se=-2&T.j;if(0>Q||0>se||0>=q||0>=Z||Q+q>m||se+Z>x)return 2;m=q,x=Z}if(T.da){if(!qe(m,x,q=[T.ib],Z=[T.hb]))return 2;m=q[0],x=Z[0]}}L.width=m,L.height=x;e:{var ie=L.width,ue=L.height;if(m=L.S,0>=ie||0>=ue||!(m>=Vu&&13>m))m=2;else{if(0>=L.Rd&&L.sd==null){Q=Z=q=x=0;var ve=(se=ie*Gu[m])*ue;if(11>m||(Z=(ue+1)/2*(x=(ie+1)/2),m==12&&(Q=(q=ie)*ue)),(ue=o(ve+2*Z+Q))==null){m=1;break e}L.sd=ue,11>m?((ie=L.f.RGBA).eb=ue,ie.fb=0,ie.A=se,ie.size=ve):((ie=L.f.kb).y=ue,ie.O=0,ie.fa=se,ie.Fd=ve,ie.f=ue,ie.N=0+ve,ie.Ab=x,ie.Cd=Z,ie.ea=ue,ie.W=0+ve+Z,ie.Db=x,ie.Ed=Z,m==12&&(ie.F=ue,ie.J=0+ve+2*Z),ie.Tc=Q,ie.lb=q)}if(x=1,q=L.S,Z=L.width,Q=L.height,q>=Vu&&13>q)if(11>q)m=L.f.RGBA,x&=(se=Math.abs(m.A))*(Q-1)+Z<=m.size,x&=se>=Z*Gu[q],x&=m.eb!=null;else{m=L.f.kb,se=(Z+1)/2,ve=(Q+1)/2,ie=Math.abs(m.fa),ue=Math.abs(m.Ab);var Le=Math.abs(m.Db),ce=Math.abs(m.lb),Se=ce*(Q-1)+Z;x&=ie*(Q-1)+Z<=m.Fd,x&=ue*(ve-1)+se<=m.Cd,x=(x&=Le*(ve-1)+se<=m.Ed)&ie>=Z&ue>=se&Le>=se,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,q==12&&(x&=ce>=Z,x&=Se<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||T!=null&&T.fd&&(m=qc(L)),m}var Ao=64,ni=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$s=24,ba=32,va=8,Ga=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(m){return m},B.Predictor2=function(m,x,T){return x[T+0]},B.Predictor3=function(m,x,T){return x[T+1]},B.Predictor4=function(m,x,T){return x[T-1]},B.Predictor5=function(m,x,T){return at(at(m,x[T+1]),x[T+0])},B.Predictor6=function(m,x,T){return at(m,x[T-1])},B.Predictor7=function(m,x,T){return at(m,x[T+0])},B.Predictor8=function(m,x,T){return at(x[T-1],x[T+0])},B.Predictor9=function(m,x,T){return at(x[T+0],x[T+1])},B.Predictor10=function(m,x,T){return at(at(m,x[T-1]),at(x[T+0],x[T+1]))},B.Predictor11=function(m,x,T){var L=x[T+0];return 0>=et(L>>24&255,m>>24&255,(x=x[T-1])>>24&255)+et(L>>16&255,m>>16&255,x>>16&255)+et(L>>8&255,m>>8&255,x>>8&255)+et(255&L,255&m,255&x)?L:m},B.Predictor12=function(m,x,T){var L=x[T+0];return(ze((m>>24&255)+(L>>24&255)-((x=x[T-1])>>24&255))<<24|ze((m>>16&255)+(L>>16&255)-(x>>16&255))<<16|ze((m>>8&255)+(L>>8&255)-(x>>8&255))<<8|ze((255&m)+(255&L)-(255&x)))>>>0},B.Predictor13=function(m,x,T){var L=x[T-1];return(st((m=at(m,x[T+0]))>>24&255,L>>24&255)<<24|st(m>>16&255,L>>16&255)<<16|st(m>>8&255,L>>8&255)<<8|st(255&m,255&L))>>>0};var Ul=B.PredictorAdd0;B.PredictorAdd1=ut,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var Hl=B.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Pr,Du=B.ColorIndexInverseTransform,ya=B.MapARGB,xa=B.VP8LColorIndexInverseTransformAlpha,Ss=B.MapAlpha,Ya=B.VP8LPredictorsAdd=[];Ya.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Wl,Gl,$a,Xa,wa,rl,mi,Za,Os,Ni,Pn,Dn,tr,qr,_a,ea,sl,Uc,ef,Md,Ld,Od,tf,nf,il,Ai,Hc,gi,al=o(511),Ru=o(2041),Wc=o(225),Gc=o(767),Iu=0,Qa=Ru,Yc=Wc,Ds=Gc,Ns=al,Vu=0,Rs=1,Fu=2,Ti=3,$c=4,Yl=5,To=6,Xc=7,Bu=8,$l=9,zu=10,Ci=[2,3,7],Xl=[3,3,11],ol=[280,256,256,256,40],Pu=[0,1,1,1,0],Zc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ki=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ji=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Co=8,Ei=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Mi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],bi=null,Dd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Rd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],As=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Tn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xs=[],Or=[],ta=[],ko=1,sf=2,Ka=[],Ts=[];qa("UpsampleRgbLinePair",Ua,3),qa("UpsampleBgrLinePair",fs,3),qa("UpsampleRgbaLinePair",Ys,4),qa("UpsampleBgraLinePair",ga,4),qa("UpsampleArgbLinePair",Pl,4),qa("UpsampleRgba4444LinePair",No,2),qa("UpsampleRgb565LinePair",So,2);var ll=B.UpsampleRgbLinePair,af=B.UpsampleBgrLinePair,Zl=B.UpsampleRgbaLinePair,Uu=B.UpsampleBgraLinePair,jo=B.UpsampleArgbLinePair,Sa=B.UpsampleRgba4444LinePair,Eo=B.UpsampleRgb565LinePair,Li=16,Ql=1<<Li-1,cl=-227,Mo=482,Hu=6,Lo=0,Cs=o(256),Wu=o(256),Id=o(256),e0=o(256),t0=o(Mo-cl),n0=o(Mo-cl);Ha("YuvToRgbRow",Ua,3),Ha("YuvToBgrRow",fs,3),Ha("YuvToRgbaRow",Ys,4),Ha("YuvToBgraRow",ga,4),Ha("YuvToArgbRow",Pl,4),Ha("YuvToRgba4444Row",No,2),Ha("YuvToRgb565Row",So,2);var Ur=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Kl=[0,2,8],Qc=[8,7,6,4,4,2,2,2,1,1,1,1],Kc=1;this.WebPDecodeRGBA=function(m,x,T,L,q){var Z=Rs,Q=new Ge,se=new vt;Q.ba=se,se.S=Z,se.width=[se.width],se.height=[se.height];var ie=se.width,ue=se.height,ve=new _e;if(ve==null||m==null)var Le=2;else e(ve!=null),Le=Ki(m,x,T,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Le!=0?ie=0:(ie!=null&&(ie[0]=ve.width[0]),ue!=null&&(ue[0]=ve.height[0]),ie=1),ie){se.width=se.width[0],se.height=se.height[0],L!=null&&(L[0]=se.width),q!=null&&(q[0]=se.height);e:{if(L=new Ls,(q=new tt).data=m,q.w=x,q.ha=T,q.kd=1,x=[0],e(q!=null),((m=Ki(q.data,q.w,q.ha,null,null,null,x,null,q))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(e(Q!=null),L.data=q.data,L.w=q.w+q.offset,L.ha=q.ha-q.offset,L.put=nt,L.ac=pt,L.bc=Nt,L.ma=Q,q.xa){if((m=ke())==null){Q=1;break e}if((function(ce,Se){var je=[0],Ue=[0],Me=[0];t:for(;;){if(ce==null)return 0;if(Se==null)return ce.a=2,0;if(ce.l=Se,ce.a=0,pe(ce.m,Se.data,Se.w,Se.ha),!ln(ce.m,je,Ue,Me)){ce.a=3;break t}if(ce.xb=sf,Se.width=je[0],Se.height=Ue[0],!Ve(je[0],Ue[0],1,ce,null))break t;return 1}return e(ce.a!=0),0})(m,L)){if(L=(x=Ji(L.width,L.height,Q.Oa,Q.ba))==0){t:{L=m;n:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((T=L.l)!=null),e((q=T.ma)!=null),L.xb!=0){if(L.ca=q.ba,L.tb=q.tb,e(L.ca!=null),!Wa(q.Oa,T,Ti)){L.a=2;break n}if(!Fe(L,T.width)||T.da)break n;if((T.da||Mt(L.ca.S))&&Zi(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&Zi()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!z(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!br(L,L.V,L.Ba,L.c,L.i,T.o,_n))break n;q.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(x=m.a)}else x=m.a}else{if((m=new Ws)==null){Q=1;break e}if(m.Fa=q.na,m.P=q.P,m.qc=q.Sa,hi(m,L)){if((x=Ji(L.width,L.height,Q.Oa,Q.ba))==0){if(m.Aa=0,T=Q.Oa,e((q=m)!=null),T!=null){if(0<(ie=0>(ie=T.Md)?0:100<ie?255:255*ie/100)){for(ue=ve=0;4>ue;++ue)12>(Le=q.pb[ue]).lc&&(Le.ia=ie*Qc[0>Le.lc?0:Le.lc]>>3),ve|=Le.ia;ve&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=T.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(ce,Se){if(ce==null)return 0;if(Se==null)return Sn(ce,2,"NULL VP8Io parameter in VP8Decode().");if(!ce.cb&&!hi(ce,Se))return 0;if(e(ce.cb),Se.ac==null||Se.ac(Se)){Se.ob&&(ce.L=0);var je=Kl[ce.L];if(ce.L==2?(ce.yb=0,ce.zb=0):(ce.yb=Se.v-je>>4,ce.zb=Se.j-je>>4,0>ce.yb&&(ce.yb=0),0>ce.zb&&(ce.zb=0)),ce.Va=Se.o+15+je>>4,ce.Hb=Se.va+15+je>>4,ce.Hb>ce.za&&(ce.Hb=ce.za),ce.Va>ce.Ub&&(ce.Va=ce.Ub),0<ce.L){var Ue=ce.ed;for(je=0;4>je;++je){var Me;if(ce.Qa.Cb){var Pe=ce.Qa.Lb[je];ce.Qa.Fb||(Pe+=Ue.Tb)}else Pe=Ue.Tb;for(Me=0;1>=Me;++Me){var Ye=ce.gd[je][Me],ot=Pe;if(Ue.Pc&&(ot+=Ue.vd[0],Me&&(ot+=Ue.od[0])),0<(ot=0>ot?0:63<ot?63:ot)){var Qe=ot;0<Ue.wb&&(Qe=4<Ue.wb?Qe>>2:Qe>>1)>9-Ue.wb&&(Qe=9-Ue.wb),1>Qe&&(Qe=1),Ye.dd=Qe,Ye.tc=2*ot+Qe,Ye.ld=40<=ot?2:15<=ot?1:0}else Ye.tc=0;Ye.La=Me}}}je=0}else Sn(ce,6,"Frame setup failed"),je=ce.a;if(je=je==0){if(je){ce.$c=0,0<ce.Aa||(ce.Ic=Kc);t:{je=ce.Ic,Ue=4*(Qe=ce.za);var Lt=32*Qe,wt=Qe+1,en=0<ce.L?Qe*(0<ce.Aa?2:1):0,kt=(ce.Aa==2?2:1)*Qe;if((Ye=Ue+832+(Me=3*(16*je+Kl[ce.L])/2*Lt)+(Pe=ce.Fa!=null&&0<ce.Fa.length?ce.Kc.c*ce.Kc.i:0))!=Ye)je=0;else{if(Ye>ce.Vb){if(ce.Vb=0,ce.Ec=o(Ye),ce.Fc=0,ce.Ec==null){je=Sn(ce,1,"no memory during frame initialization.");break t}ce.Vb=Ye}Ye=ce.Ec,ot=ce.Fc,ce.Ac=Ye,ce.Bc=ot,ot+=Ue,ce.Gd=u(Lt,wi),ce.Hd=0,ce.rb=u(wt+1,ur),ce.sb=1,ce.wa=en?u(en,Wn):null,ce.Y=0,ce.D.Nb=0,ce.D.wa=ce.wa,ce.D.Y=ce.Y,0<ce.Aa&&(ce.D.Y+=Qe),e(!0),ce.oc=Ye,ce.pc=ot,ot+=832,ce.ya=u(kt,ts),ce.aa=0,ce.D.ya=ce.ya,ce.D.aa=ce.aa,ce.Aa==2&&(ce.D.aa+=Qe),ce.R=16*Qe,ce.B=8*Qe,Qe=(Lt=Kl[ce.L])*ce.R,Lt=Lt/2*ce.B,ce.sa=Ye,ce.ta=ot+Qe,ce.qa=ce.sa,ce.ra=ce.ta+16*je*ce.R+Lt,ce.Ha=ce.qa,ce.Ia=ce.ra+8*je*ce.B+Lt,ce.$c=0,ot+=Me,ce.mb=Pe?Ye:null,ce.nb=Pe?ot:null,e(ot+Pe<=ce.Fc+ce.Vb),xo(ce),a(ce.Ac,ce.Bc,0,Ue),je=1}}if(je){if(Se.ka=0,Se.y=ce.sa,Se.O=ce.ta,Se.f=ce.qa,Se.N=ce.ra,Se.ea=ce.Ha,Se.Vd=ce.Ia,Se.fa=ce.R,Se.Rc=ce.B,Se.F=null,Se.J=0,!Iu){for(je=-255;255>=je;++je)al[255+je]=0>je?-je:je;for(je=-1020;1020>=je;++je)Ru[1020+je]=-128>je?-128:127<je?127:je;for(je=-112;112>=je;++je)Wc[112+je]=-16>je?-16:15<je?15:je;for(je=-255;510>=je;++je)Gc[255+je]=0>je?0:255<je?255:je;Iu=1}mi=$i,Za=Xo,Ni=Gs,Pn=Oc,Dn=Dc,Os=Il,tr=Lu,qr=za,_a=P,ea=he,sl=Ou,Uc=S,ef=ge,Md=Te,Ld=Ia,Od=Va,tf=tl,nf=Bc,Or[0]=Eu,Or[1]=Tu,Or[2]=ju,Or[3]=Vc,Or[4]=fi,Or[5]=Fc,Or[6]=ws,Or[7]=Ko,Or[8]=Jo,Or[9]=di,Xs[0]=Xi,Xs[1]=Rc,Xs[2]=Ic,Xs[3]=ku,Xs[4]=Da,Xs[5]=Qo,Xs[6]=_o,ta[0]=Vl,ta[1]=Cu,ta[2]=da,ta[3]=Mu,ta[4]=hs,ta[5]=Fl,ta[6]=pa,je=1}else je=0}je&&(je=(function(An,dr){for(An.M=0;An.M<An.Va;++An.M){var hn,_t=An.Jc[An.M&An.Xb],mt=An.m,_r=An;for(hn=0;hn<_r.za;++hn){var $t=mt,mn=_r,Gn=mn.Ac,rs=mn.Bc+4*hn,ks=mn.zc,nr=mn.ya[mn.aa+hn];if(mn.Qa.Bb?nr.$b=we($t,mn.Pa.jb[0])?2+we($t,mn.Pa.jb[2]):we($t,mn.Pa.jb[1]):nr.$b=0,mn.kc&&(nr.Ad=we($t,mn.Bd)),nr.Za=!we($t,145)+0,nr.Za){var Yr=nr.Ob,Is=0;for(mn=0;4>mn;++mn){var $r,wn=ks[0+mn];for($r=0;4>$r;++$r){wn=As[Gn[rs+$r]][wn];for(var Fn=qu[we($t,wn[0])];0<Fn;)Fn=qu[2*Fn+we($t,wn[Fn])];wn=-Fn,Gn[rs+$r]=wn}s(Yr,Is,Gn,rs,4),Is+=4,ks[0+mn]=wn}}else wn=we($t,156)?we($t,128)?1:3:we($t,163)?2:0,nr.Ob[0]=wn,a(Gn,rs,wn,4),a(ks,0,wn,4);nr.Dd=we($t,142)?we($t,114)?we($t,183)?1:3:2:0}if(_r.m.Ka)return Sn(An,7,"Premature end-of-partition0 encountered.");for(;An.ja<An.za;++An.ja){if(_r=_t,$t=(mt=An).rb[mt.sb-1],Gn=mt.rb[mt.sb+mt.ja],hn=mt.ya[mt.aa+mt.ja],rs=mt.kc?hn.Ad:0)$t.la=Gn.la=0,hn.Za||($t.Na=Gn.Na=0),hn.Hc=0,hn.Gc=0,hn.ia=0;else{var Sr,qn;if($t=Gn,Gn=_r,rs=mt.Pa.Xc,ks=mt.ya[mt.aa+mt.ja],nr=mt.pb[ks.$b],mn=ks.ad,Yr=0,Is=mt.rb[mt.sb-1],wn=$r=0,a(mn,Yr,0,384),ks.Za)var ss=0,Nr=rs[3];else{Fn=o(16);var Bn=$t.Na+Is.Na;if(Bn=bi(Gn,rs[1],Bn,nr.Eb,0,Fn,0),$t.Na=Is.Na=(0<Bn)+0,1<Bn)mi(Fn,0,mn,Yr);else{var Hr=Fn[0]+3>>3;for(Fn=0;256>Fn;Fn+=16)mn[Yr+Fn]=Hr}ss=1,Nr=rs[0]}var Yn=15&$t.la,Xr=15&Is.la;for(Fn=0;4>Fn;++Fn){var Zr=1&Xr;for(Hr=qn=0;4>Hr;++Hr)Yn=Yn>>1|(Zr=(Bn=bi(Gn,Nr,Bn=Zr+(1&Yn),nr.Sc,ss,mn,Yr))>ss)<<7,qn=qn<<2|(3<Bn?3:1<Bn?2:mn[Yr+0]!=0),Yr+=16;Yn>>=4,Xr=Xr>>1|Zr<<7,$r=($r<<8|qn)>>>0}for(Nr=Yn,ss=Xr>>4,Sr=0;4>Sr;Sr+=2){for(qn=0,Yn=$t.la>>4+Sr,Xr=Is.la>>4+Sr,Fn=0;2>Fn;++Fn){for(Zr=1&Xr,Hr=0;2>Hr;++Hr)Bn=Zr+(1&Yn),Yn=Yn>>1|(Zr=0<(Bn=bi(Gn,rs[2],Bn,nr.Qc,0,mn,Yr)))<<3,qn=qn<<2|(3<Bn?3:1<Bn?2:mn[Yr+0]!=0),Yr+=16;Yn>>=2,Xr=Xr>>1|Zr<<5}wn|=qn<<4*Sr,Nr|=Yn<<4<<Sr,ss|=(240&Xr)<<Sr}$t.la=Nr,Is.la=ss,ks.Hc=$r,ks.Gc=wn,ks.ia=43690&wn?0:nr.ia,rs=!($r|wn)}if(0<mt.L&&(mt.wa[mt.Y+mt.ja]=mt.gd[hn.$b][hn.Za],mt.wa[mt.Y+mt.ja].La|=!rs),_r.Ka)return Sn(An,7,"Premature end-of-file encountered.")}if(xo(An),mt=dr,_r=1,hn=(_t=An).D,$t=0<_t.L&&_t.M>=_t.zb&&_t.M<=_t.Va,_t.Aa==0)t:{if(hn.M=_t.M,hn.uc=$t,pi(_t,hn),_r=1,hn=(qn=_t.D).Nb,$t=(wn=Kl[_t.L])*_t.R,Gn=wn/2*_t.B,Fn=16*hn*_t.R,Hr=8*hn*_t.B,rs=_t.sa,ks=_t.ta-$t+Fn,nr=_t.qa,mn=_t.ra-Gn+Hr,Yr=_t.Ha,Is=_t.Ia-Gn+Hr,Xr=(Yn=qn.M)==0,$r=Yn>=_t.Va-1,_t.Aa==2&&pi(_t,qn),qn.uc)for(Zr=(Bn=_t).D.M,e(Bn.D.uc),qn=Bn.yb;qn<Bn.Hb;++qn){ss=qn,Nr=Zr;var Zn=(Rn=(Qr=Bn).D).Nb;Sr=Qr.R;var Rn=Rn.wa[Rn.Y+ss],Vs=Qr.sa,Dr=Qr.ta+16*Zn*Sr+16*ss,Bt=Rn.dd,Pt=Rn.tc;if(Pt!=0)if(e(3<=Pt),Qr.L==1)0<ss&&Od(Vs,Dr,Sr,Pt+4),Rn.La&&nf(Vs,Dr,Sr,Pt),0<Nr&&Ld(Vs,Dr,Sr,Pt+4),Rn.La&&tf(Vs,Dr,Sr,Pt);else{var zn=Qr.B,ri=Qr.qa,Oi=Qr.ra+8*Zn*zn+8*ss,Zs=Qr.Ha,Qr=Qr.Ia+8*Zn*zn+8*ss;Zn=Rn.ld,0<ss&&(qr(Vs,Dr,Sr,Pt+4,Bt,Zn),ea(ri,Oi,Zs,Qr,zn,Pt+4,Bt,Zn)),Rn.La&&(Uc(Vs,Dr,Sr,Pt,Bt,Zn),Md(ri,Oi,Zs,Qr,zn,Pt,Bt,Zn)),0<Nr&&(tr(Vs,Dr,Sr,Pt+4,Bt,Zn),_a(ri,Oi,Zs,Qr,zn,Pt+4,Bt,Zn)),Rn.La&&(sl(Vs,Dr,Sr,Pt,Bt,Zn),ef(ri,Oi,Zs,Qr,zn,Pt,Bt,Zn))}}if(_t.ia&&alert("todo:DitherRow"),mt.put!=null){if(qn=16*Yn,Yn=16*(Yn+1),Xr?(mt.y=_t.sa,mt.O=_t.ta+Fn,mt.f=_t.qa,mt.N=_t.ra+Hr,mt.ea=_t.Ha,mt.W=_t.Ia+Hr):(qn-=wn,mt.y=rs,mt.O=ks,mt.f=nr,mt.N=mn,mt.ea=Yr,mt.W=Is),$r||(Yn-=wn),Yn>mt.o&&(Yn=mt.o),mt.F=null,mt.J=null,_t.Fa!=null&&0<_t.Fa.length&&qn<Yn&&(mt.J=er(_t,mt,qn,Yn-qn),mt.F=_t.mb,mt.F==null&&mt.F.length==0)){_r=Sn(_t,3,"Could not decode alpha data.");break t}qn<mt.j&&(wn=mt.j-qn,qn=mt.j,e(!(1&wn)),mt.O+=_t.R*wn,mt.N+=_t.B*(wn>>1),mt.W+=_t.B*(wn>>1),mt.F!=null&&(mt.J+=mt.width*wn)),qn<Yn&&(mt.O+=mt.v,mt.N+=mt.v>>1,mt.W+=mt.v>>1,mt.F!=null&&(mt.J+=mt.v),mt.ka=qn-mt.j,mt.U=mt.va-mt.v,mt.T=Yn-qn,_r=mt.put(mt))}hn+1!=_t.Ic||$r||(s(_t.sa,_t.ta-$t,rs,ks+16*_t.R,$t),s(_t.qa,_t.ra-Gn,nr,mn+8*_t.B,Gn),s(_t.Ha,_t.Ia-Gn,Yr,Is+8*_t.B,Gn))}if(!_r)return Sn(An,6,"Output aborted.")}return 1})(ce,Se)),Se.bc!=null&&Se.bc(Se),je&=1}return je?(ce.cb=0,je):0})(m,L)||(x=m.a)}}else x=m.a}x==0&&Q.Oa!=null&&Q.Oa.fd&&(x=qc(Q.ba))}Q=x}Z=Q!=0?null:11>Z?se.f.RGBA.eb:se.f.kb.y}else Z=null;return Z};var Gu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(B,te){for(var E="",I=0;I<4;I++)E+=String.fromCharCode(B[te++]);return E}function p(B,te){return B[te+0]|B[te+1]<<8}function y(B,te){return(B[te+0]|B[te+1]<<8|B[te+2]<<16)>>>0}function _(B,te){return(B[te+0]|B[te+1]<<8|B[te+2]<<16|B[te+3]<<24)>>>0}new f;var b=[0],A=[0],N=[],k=new f,C=n,R=(function(B,te){var E={},I=0,re=!1,U=0,oe=0;if(E.frames=[],!(function(j,$){for(var X=0;X<4;X++)if(j[$+X]!="RIFF".charCodeAt(X))return!0;return!1})(B,te)){for(_(B,te+=4),te+=8;te<B.length;){var Y=d(B,te),J=_(B,te+=4);te+=4;var le=J+(1&J);switch(Y){case"VP8 ":case"VP8L":E.frames[I]===void 0&&(E.frames[I]={}),(W=E.frames[I]).src_off=re?oe:te-8,W.src_size=U+J+8,I++,re&&(re=!1,U=0,oe=0);break;case"VP8X":(W=E.header={}).feature_flags=B[te];var pe=te+4;W.canvas_width=1+y(B,pe),pe+=3,W.canvas_height=1+y(B,pe),pe+=3;break;case"ALPH":re=!0,U=le+8,oe=te-8;break;case"ANIM":(W=E.header).bgcolor=_(B,te),pe=te+4,W.loop_count=p(B,pe),pe+=2;break;case"ANMF":var be,W;(W=E.frames[I]={}).offset_x=2*y(B,te),te+=3,W.offset_y=2*y(B,te),te+=3,W.width=1+y(B,te),te+=3,W.height=1+y(B,te),te+=3,W.duration=y(B,te),te+=3,be=B[te++],W.dispose=1&be,W.blend=be>>1&1}Y!="ANMF"&&(te+=le)}return E}})(C,0);R.response=C,R.rgbaoutput=!0,R.dataurl=!1;var D=R.header?R.header:null,V=R.frames?R.frames:null;if(D){D.loop_counter=D.loop_count,b=[D.canvas_height],A=[D.canvas_width];for(var F=0;F<V.length&&V[F].blend!=0;F++);}var G=V[0],H=k.WebPDecodeRGBA(C,G.src_off,G.src_size,A,b);G.rgba=H,G.imgwidth=A[0],G.imgheight=b[0];for(var M=0;M<A[0]*b[0]*4;M++)N[M]=H[M];return this.width=A,this.height=b,this.data=N,this}(function(n){var e,t,s,a,o,u,c,f,d,p=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new f,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new u,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new u,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new p}]);var y=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=j;Object.defineProperty(this,"pdf",{get:function(){return $}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(z){X=!!z}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(z){K=!!z}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(z){isNaN(z)||(ae=z)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(z){isNaN(z)||(de=z)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(z){var Ne;typeof z=="number"?Ne=[z,z,z,z]:((Ne=new Array(4))[0]=z[0],Ne[1]=z.length>=2?z[1]:Ne[0],Ne[2]=z.length>=3?z[2]:Ne[0],Ne[3]=z.length>=4?z[3]:Ne[1]),d.margin=Ne}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(z){fe=z}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(z){xe=z}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(z){we=z}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(z){z instanceof p&&(d=z)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(z){d.path=z}});var Ie=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ie},set:function(z){Ie=z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(z){var Ne;Ne=_(z),this.ctx.fillStyle=Ne.style,this.ctx.isFillTransparent=Ne.a===0,this.ctx.fillOpacity=Ne.a,this.pdf.setFillColor(Ne.r,Ne.g,Ne.b,{a:Ne.a}),this.pdf.setTextColor(Ne.r,Ne.g,Ne.b,{a:Ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(z){var Ne=_(z);this.ctx.strokeStyle=Ne.style,this.ctx.isStrokeTransparent=Ne.a===0,this.ctx.strokeOpacity=Ne.a,Ne.a===0?this.pdf.setDrawColor(255,255,255):(Ne.a,this.pdf.setDrawColor(Ne.r,Ne.g,Ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(z){["butt","round","square"].indexOf(z)!==-1&&(this.ctx.lineCap=z,this.pdf.setLineCap(z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(z){isNaN(z)||(this.ctx.lineWidth=z,this.pdf.setLineWidth(z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(z){["bevel","round","miter"].indexOf(z)!==-1&&(this.ctx.lineJoin=z,this.pdf.setLineJoin(z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(z){isNaN(z)||(this.ctx.miterLimit=z,this.pdf.setMiterLimit(z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(z){this.ctx.textBaseline=z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(z){["right","end","center","left","start"].indexOf(z)!==-1&&(this.ctx.textAlign=z)}});var $e=null,Je=null,ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return ct},set:function(z){$e=null,Je=null,ct=z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(z){var Ne;if(this.ctx.font=z,(Ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(z))!==null){var rt=Ne[1];Ne[2];var qe=Ne[3],Ee=Ne[4];Ne[5];var Ke=Ne[6],We=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(We==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:We==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var lt=(function(ht){var bn,Ht,Tt=[],St=ht.trim();if(St==="")return qm;if(St in rx)return[rx[St]];for(;St!=="";){switch(Ht=null,bn=(St=ix(St)).charAt(0)){case'"':case"'":Ht=YM(St.substring(1),bn);break;default:Ht=$M(St)}if(Ht===null||(Tt.push(Ht[0]),(St=ix(Ht[1]))!==""&&St.charAt(0)!==","))return qm;St=St.replace(/^,/,"")}return Tt})(Ke);if(this.fontFaces){var at=(function(ht,bn){var Ht=ht.getFontList(),Tt=JSON.stringify(Ht);if($e===null||Je!==Tt){var St=(function(At){var bt=[];return Object.keys(At).forEach(function(on){At[on].forEach(function(Mt){var Dt=null;switch(Mt){case"bold":Dt={family:on,weight:"bold"};break;case"italic":Dt={family:on,style:"italic"};break;case"bolditalic":Dt={family:on,weight:"bold",style:"italic"};break;case"":case"normal":Dt={family:on}}Dt!==null&&(Dt.ref={name:on,style:Mt},bt.push(Dt))})}),bt})(Ht);$e=(function(At){for(var bt={},on=0;on<At.length;++on){var Mt=Pm(At[on]),Dt=Mt.family,xn=Mt.stretch,vt=Mt.style,_e=Mt.weight;bt[Dt]=bt[Dt]||{},bt[Dt][xn]=bt[Dt][xn]||{},bt[Dt][xn][vt]=bt[Dt][xn][vt]||{},bt[Dt][xn][vt][_e]=Mt}return bt})(St.concat(bn)),Je=Tt}return $e})(this.pdf,this.fontFaces),ze=lt.map(function(ht){return{family:ht,stretch:"normal",weight:qe,style:rt}}),st=(function(ht,bn,Ht){for(var Tt=(Ht=Ht||{}).defaultFontFamily||"times",St=Object.assign({},GM,Ht.genericFontFamilies||{}),At=null,bt=null,on=0;on<bn.length;++on)if(St[(At=Pm(bn[on])).family]&&(At.family=St[At.family]),ht.hasOwnProperty(At.family)){bt=ht[At.family];break}if(!(bt=bt||ht[Tt]))throw new Error("Could not find a font-family for the rule '"+sx(At)+"' and default family '"+Tt+"'.");if(bt=(function(Mt,Dt){if(Dt[Mt])return Dt[Mt];var xn=Tg[Mt],vt=xn<=Tg.normal?-1:1,_e=nx(Dt,m4,xn,vt);if(!_e)throw new Error("Could not find a matching font-stretch value for "+Mt);return _e})(At.stretch,bt),bt=(function(Mt,Dt){if(Dt[Mt])return Dt[Mt];for(var xn=p4[Mt],vt=0;vt<xn.length;++vt)if(Dt[xn[vt]])return Dt[xn[vt]];throw new Error("Could not find a matching font-style for "+Mt)})(At.style,bt),!(bt=(function(Mt,Dt){if(Dt[Mt])return Dt[Mt];if(Mt===400&&Dt[500])return Dt[500];if(Mt===500&&Dt[400])return Dt[400];var xn=WM[Mt],vt=nx(Dt,g4,xn,Mt<400?-1:1);if(!vt)throw new Error("Could not find a matching font-weight for value "+Mt);return vt})(At.weight,bt)))throw new Error("Failed to resolve a font for the rule '"+sx(At)+"'.");return bt})(at,ze);this.pdf.setFont(st.ref.name,st.ref.style)}else{var et="";(qe==="bold"||parseInt(qe,10)>=700||rt==="bold")&&(et="bold"),rt==="italic"&&(et+="italic"),et.length===0&&(et="normal");for(var ut="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<lt.length;dt++){if(this.pdf.internal.getFont(lt[dt],et,{noFallback:!0,disableWarning:!0})!==void 0){ut=lt[dt];break}if(et==="bolditalic"&&this.pdf.internal.getFont(lt[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=lt[dt],et="bold";else if(this.pdf.internal.getFont(lt[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=lt[dt],et="normal";break}}if(ut===""){for(var yt=0;yt<lt.length;yt++)if(xt[lt[yt]]){ut=xt[lt[yt]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(z){this.ctx.globalCompositeOperation=z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(z){this.ctx.globalAlpha=z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(z){this.ctx.lineDashOffset=z,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(z){this.ctx.lineDash=z,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(z){this.ctx.ignoreClearRect=!!z}})};y.prototype.setLineDash=function(j){this.lineDash=j},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){V.call(this,"fill",!1)},y.prototype.stroke=function(){V.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(j,$){if(isNaN(j)||isNaN($))throw mr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new u(j,$));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(j,$)},y.prototype.closePath=function(){var j=new u(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Jn(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){j=new u(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(j.x,j.y)},y.prototype.lineTo=function(j,$){if(isNaN(j)||isNaN($))throw mr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new u(j,$));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(X.x,X.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),V.call(this,null,!0)},y.prototype.quadraticCurveTo=function(j,$,X,K){if(isNaN(X)||isNaN(K)||isNaN(j)||isNaN($))throw mr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new u(X,K)),de=this.ctx.transform.applyToPoint(new u(j,$));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new u(ae.x,ae.y)},y.prototype.bezierCurveTo=function(j,$,X,K,ae,de){if(isNaN(ae)||isNaN(de)||isNaN(j)||isNaN($)||isNaN(X)||isNaN(K))throw mr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new u(ae,de)),xe=this.ctx.transform.applyToPoint(new u(j,$)),we=this.ctx.transform.applyToPoint(new u(X,K));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:we.x,y2:we.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new u(fe.x,fe.y)},y.prototype.arc=function(j,$,X,K,ae,de){if(isNaN(j)||isNaN($)||isNaN(X)||isNaN(K)||isNaN(ae))throw mr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new u(j,$));j=fe.x,$=fe.y;var xe=this.ctx.transform.applyToPoint(new u(0,X)),we=this.ctx.transform.applyToPoint(new u(0,0));X=Math.sqrt(Math.pow(xe.x-we.x,2)+Math.pow(xe.y-we.y,2))}Math.abs(ae-K)>=2*Math.PI&&(K=0,ae=2*Math.PI),this.path.push({type:"arc",x:j,y:$,radius:X,startAngle:K,endAngle:ae,counterclockwise:de})},y.prototype.arcTo=function(j,$,X,K,ae){throw new Error("arcTo not implemented.")},y.prototype.rect=function(j,$,X,K){if(isNaN(j)||isNaN($)||isNaN(X)||isNaN(K))throw mr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,$),this.lineTo(j+X,$),this.lineTo(j+X,$+K),this.lineTo(j,$+K),this.lineTo(j,$),this.lineTo(j+X,$),this.lineTo(j,$)},y.prototype.fillRect=function(j,$,X,K){if(isNaN(j)||isNaN($)||isNaN(X)||isNaN(K))throw mr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,$,X,K),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},y.prototype.strokeRect=function(j,$,X,K){if(isNaN(j)||isNaN($)||isNaN(X)||isNaN(K))throw mr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(j,$,X,K),this.stroke())},y.prototype.clearRect=function(j,$,X,K){if(isNaN(j)||isNaN($)||isNaN(X)||isNaN(K))throw mr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,$,X,K))},y.prototype.save=function(j){j=typeof j!="boolean"||j;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage($),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},y.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage($),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(j){var $,X,K,ae;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))$=0,X=0,K=0,ae=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(de!==null)$=parseInt(de[1]),X=parseInt(de[2]),K=parseInt(de[3]),ae=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)$=parseInt(de[1]),X=parseInt(de[2]),K=parseInt(de[3]),ae=parseFloat(de[4]);else{if(ae=1,typeof j=="string"&&j.charAt(0)!=="#"){var fe=new o4(j);j=fe.ok?fe.toHex():"#000000"}j.length===4?($=j.substring(1,2),$+=$,X=j.substring(2,3),X+=X,K=j.substring(3,4),K+=K):($=j.substring(1,3),X=j.substring(3,5),K=j.substring(5,7)),$=parseInt($,16),X=parseInt(X,16),K=parseInt(K,16)}}return{r:$,g:X,b:K,a:ae,style:j}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(j,$,X,K){if(isNaN($)||isNaN(X)||typeof j!="string")throw mr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!b.call(this)){var ae=le(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;I.call(this,{text:j,x:$,y:X,scale:de,angle:ae,align:this.textAlign,maxWidth:K})}},y.prototype.strokeText=function(j,$,X,K){if(isNaN($)||isNaN(X)||typeof j!="string")throw mr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){K=isNaN(K)?void 0:K;var ae=le(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;I.call(this,{text:j,x:$,y:X,scale:de,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:K})}},y.prototype.measureText=function(j){if(typeof j!="string")throw mr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,X=this.pdf.internal.scaleFactor,K=$.internal.getFontSize(),ae=$.getStringUnitWidth(j)*K/$.internal.scaleFactor;return new function(de){var fe=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this}({width:ae*=Math.round(96*X/72*1e4)/1e4})},y.prototype.scale=function(j,$){if(isNaN(j)||isNaN($))throw mr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new f(j,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},y.prototype.rotate=function(j){if(isNaN(j))throw mr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new f(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply($)},y.prototype.translate=function(j,$){if(isNaN(j)||isNaN($))throw mr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new f(1,0,0,1,j,$);this.ctx.transform=this.ctx.transform.multiply(X)},y.prototype.transform=function(j,$,X,K,ae,de){if(isNaN(j)||isNaN($)||isNaN(X)||isNaN(K)||isNaN(ae)||isNaN(de))throw mr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new f(j,$,X,K,ae,de);this.ctx.transform=this.ctx.transform.multiply(fe)},y.prototype.setTransform=function(j,$,X,K,ae,de){j=isNaN(j)?1:j,$=isNaN($)?0:$,X=isNaN(X)?0:X,K=isNaN(K)?1:K,ae=isNaN(ae)?0:ae,de=isNaN(de)?0:de,this.ctx.transform=new f(j,$,X,K,ae,de)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(j,$,X,K,ae,de,fe,xe,we){var Ie=this.pdf.getImageProperties(j),$e=1,Je=1,ct=1,z=1;K!==void 0&&xe!==void 0&&(ct=xe/K,z=we/ae,$e=Ie.width/K*xe/K,Je=Ie.height/ae*we/ae),de===void 0&&(de=$,fe=X,$=0,X=0),K!==void 0&&xe===void 0&&(xe=K,we=ae),K===void 0&&xe===void 0&&(xe=Ie.width,we=Ie.height);var Ne=this.ctx.transform.decompose(),rt=le(Ne.rotate.shx),qe=new f,Ee=(qe=(qe=(qe=qe.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale)).applyToRectangle(new c(de-$*ct,fe-X*z,K*$e,ae*Je));if(this.autoPaging){for(var Ke,We=k.call(this,Ee),lt=[],at=0;at<We.length;at+=1)lt.indexOf(We[at])===-1&&lt.push(We[at]);D(lt);for(var ze=lt[0],st=lt[lt.length-1],et=ze;et<st+1;et++){this.pdf.setPage(et);var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=et===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=et===1?0:dt+(et-2)*yt;if(this.ctx.clip_path.length!==0){var bn=this.path;Ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Ke,this.posX+this.margin[3],-ht+xt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=bn}var Ht=JSON.parse(JSON.stringify(Ee));Ht=R([Ht],this.posX+this.margin[3],-ht+xt+this.ctx.prevPageLastElemOffset)[0];var Tt=(et>ze||et<st)&&N.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,yt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Ht.x,Ht.y,Ht.w,Ht.h,null,null,rt),Tt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(j,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,rt)};var k=function(j,$,X){var K=[];$=$||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":K.push(Math.floor((j.y+ae)/X)+1);break;case"arc":K.push(Math.floor((j.y+ae-j.radius)/X)+1),K.push(Math.floor((j.y+ae+j.radius)/X)+1);break;case"qct":var de=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);K.push(Math.floor((de.y+ae)/X)+1),K.push(Math.floor((de.y+de.h+ae)/X)+1);break;case"bct":var fe=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);K.push(Math.floor((fe.y+ae)/X)+1),K.push(Math.floor((fe.y+fe.h+ae)/X)+1);break;case"rect":K.push(Math.floor((j.y+ae)/X)+1),K.push(Math.floor((j.y+j.h+ae)/X)+1)}for(var xe=0;xe<K.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<K[xe];)C.call(this);return K},C=function(){var j=this.fillStyle,$=this.strokeStyle,X=this.font,K=this.lineCap,ae=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=$,this.font=X,this.lineCap=K,this.lineWidth=ae,this.lineJoin=de},R=function(j,$,X){for(var K=0;K<j.length;K++)switch(j[K].type){case"bct":j[K].x2+=$,j[K].y2+=X;case"qct":j[K].x1+=$,j[K].y1+=X;default:j[K].x+=$,j[K].y+=X}return j},D=function(j){return j.sort(function($,X){return $-X})},V=function(j,$){var X=this.fillStyle,K=this.strokeStyle,ae=this.lineCap,de=this.lineWidth,fe=Math.abs(de*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var we,Ie,$e=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),ct=[],z=0;z<Je.length;z++)if(Je[z].x!==void 0)for(var Ne=k.call(this,Je[z]),rt=0;rt<Ne.length;rt+=1)ct.indexOf(Ne[rt])===-1&&ct.push(Ne[rt]);for(var qe=0;qe<ct.length;qe++)for(;this.pdf.internal.getNumberOfPages()<ct[qe];)C.call(this);D(ct);for(var Ee=ct[0],Ke=ct[ct.length-1],We=Ee;We<Ke+1;We++){this.pdf.setPage(We),this.fillStyle=X,this.strokeStyle=K,this.lineCap=ae,this.lineWidth=fe,this.lineJoin=xe;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=We===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=We===1?0:ze+(We-2)*st;if(this.ctx.clip_path.length!==0){var ut=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(we,this.posX+this.margin[3],-et+at+this.ctx.prevPageLastElemOffset),F.call(this,j,!0),this.path=ut}if(Ie=JSON.parse(JSON.stringify($e)),this.path=R(Ie,this.posX+this.margin[3],-et+at+this.ctx.prevPageLastElemOffset),$===!1||We===0){var xt=(We>Ee||We<Ke)&&N.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,st,null).clip().discardPath()),F.call(this,j,$),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}this.path=$e}else this.lineWidth=fe,F.call(this,j,$),this.lineWidth=de},F=function(j,$){if((j!=="stroke"||$||!A.call(this))&&(j==="stroke"||$||!b.call(this))){for(var X,K,ae=[],de=this.path,fe=0;fe<de.length;fe++){var xe=de[fe];switch(xe.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:xe,deltas:[],abs:[]});break;case"lt":var we=ae.length;if(de[fe-1]&&!isNaN(de[fe-1].x)&&(X=[xe.x-de[fe-1].x,xe.y-de[fe-1].y],we>0)){for(;we>=0;we--)if(ae[we-1].close!==!0&&ae[we-1].begin!==!0){ae[we-1].deltas.push(X),ae[we-1].abs.push(xe);break}}break;case"bct":X=[xe.x1-de[fe-1].x,xe.y1-de[fe-1].y,xe.x2-de[fe-1].x,xe.y2-de[fe-1].y,xe.x-de[fe-1].x,xe.y-de[fe-1].y],ae[ae.length-1].deltas.push(X);break;case"qct":var Ie=de[fe-1].x+2/3*(xe.x1-de[fe-1].x),$e=de[fe-1].y+2/3*(xe.y1-de[fe-1].y),Je=xe.x+2/3*(xe.x1-xe.x),ct=xe.y+2/3*(xe.y1-xe.y),z=xe.x,Ne=xe.y;X=[Ie-de[fe-1].x,$e-de[fe-1].y,Je-de[fe-1].x,ct-de[fe-1].y,z-de[fe-1].x,Ne-de[fe-1].y],ae[ae.length-1].deltas.push(X);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(xe)}}K=$?null:j==="stroke"?"stroke":"fill";for(var rt=!1,qe=0;qe<ae.length;qe++)if(ae[qe].arc)for(var Ee=ae[qe].abs,Ke=0;Ke<Ee.length;Ke++){var We=Ee[Ke];We.type==="arc"?M.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,$,!rt):re.call(this,We.x,We.y),rt=!0}else if(ae[qe].close===!0)this.pdf.internal.out("h"),rt=!1;else if(ae[qe].begin!==!0){var lt=ae[qe].start.x,at=ae[qe].start.y;U.call(this,ae[qe].deltas,lt,at),rt=!0}K&&B.call(this,K),$&&te.call(this)}},G=function(j){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-X;case"top":return j+$-X;case"hanging":return j+$-2*X;case"middle":return j+$/2-X;default:return j}},H=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function($,X){this.colorStops.push([$,X])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(j,$,X,K,ae,de,fe,xe,we){for(var Ie=Y.call(this,X,K,ae,de),$e=0;$e<Ie.length;$e++){var Je=Ie[$e];$e===0&&(we?E.call(this,Je.x1+j,Je.y1+$):re.call(this,Je.x1+j,Je.y1+$)),oe.call(this,j,$,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}xe?te.call(this):B.call(this,fe)},B=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},te=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(j,$){this.pdf.internal.out(t(j)+" "+s($)+" m")},I=function(j){var $;switch(j.align){case"right":case"end":$="right";break;case"center":$="center";break;default:$="left"}var X,K,ae,de=this.pdf.getTextDimensions(j.text),fe=G.call(this,j.y),xe=H.call(this,fe)-de.h,we=this.ctx.transform.applyToPoint(new u(j.x,fe));if(this.autoPaging){var Ie=this.ctx.transform.decompose(),$e=new f;$e=($e=($e=$e.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale);for(var Je=this.ctx.transform.applyToRectangle(new c(j.x,fe,de.w,de.h)),ct=$e.applyToRectangle(new c(j.x,xe,de.w,de.h)),z=k.call(this,ct),Ne=[],rt=0;rt<z.length;rt+=1)Ne.indexOf(z[rt])===-1&&Ne.push(z[rt]);D(Ne);for(var qe=Ne[0],Ee=Ne[Ne.length-1],Ke=qe;Ke<Ee+1;Ke++){this.pdf.setPage(Ke);var We=Ke===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[2],ze=at-this.margin[0],st=this.pdf.internal.pageSize.width-this.margin[1],et=st-this.margin[3],ut=Ke===1?0:lt+(Ke-2)*ze;if(this.ctx.clip_path.length!==0){var xt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(X,this.posX+this.margin[3],-1*ut+We),F.call(this,"fill",!0),this.path=xt}var dt=R([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-ut+We+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*j.scale),ae=this.lineWidth,this.lineWidth=ae*j.scale);var yt=this.autoPaging!=="text";if(yt||dt.y+dt.h<=at){if(yt||dt.y>=We&&dt.x<=st){var ht=yt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||st-dt.x)[0],bn=R([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-ut+We+this.ctx.prevPageLastElemOffset)[0],Ht=yt&&(Ke>qe||Ke<Ee)&&N.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,ze,null).clip().discardPath()),this.pdf.text(ht,bn.x,bn.y,{angle:j.angle,align:$,renderingMode:j.renderingMode}),Ht&&this.pdf.restoreGraphicsState()}}else dt.y<at&&(this.ctx.prevPageLastElemOffset+=at-dt.y);j.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=ae)}}else j.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*j.scale),ae=this.lineWidth,this.lineWidth=ae*j.scale),this.pdf.text(j.text,we.x+this.posX,we.y+this.posY,{angle:j.angle,align:$,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=ae)},re=function(j,$,X,K){X=X||0,K=K||0,this.pdf.internal.out(t(j+X)+" "+s($+K)+" l")},U=function(j,$,X){return this.pdf.lines(j,$,X,null,null)},oe=function(j,$,X,K,ae,de,fe,xe){this.pdf.internal.out([e(a(X+j)),e(o(K+$)),e(a(ae+j)),e(o(de+$)),e(a(fe+j)),e(o(xe+$)),"c"].join(" "))},Y=function(j,$,X,K){for(var ae=2*Math.PI,de=Math.PI/2;$>X;)$-=ae;var fe=Math.abs(X-$);fe<ae&&K&&(fe=ae-fe);for(var xe=[],we=K?-1:1,Ie=$;fe>1e-5;){var $e=Ie+we*Math.min(fe,de);xe.push(J.call(this,j,Ie,$e)),fe-=Math.abs($e-Ie),Ie=$e}return xe},J=function(j,$,X){var K=(X-$)/2,ae=j*Math.cos(K),de=j*Math.sin(K),fe=ae,xe=-de,we=fe*fe+xe*xe,Ie=we+fe*ae+xe*de,$e=4/3*(Math.sqrt(2*we*Ie)-Ie)/(fe*de-xe*ae),Je=fe-$e*xe,ct=xe+$e*fe,z=Je,Ne=-ct,rt=K+$,qe=Math.cos(rt),Ee=Math.sin(rt);return{x1:j*Math.cos($),y1:j*Math.sin($),x2:Je*qe-ct*Ee,y2:Je*Ee+ct*qe,x3:z*qe-Ne*Ee,y3:z*Ee+Ne*qe,x4:j*Math.cos(X),y4:j*Math.sin(X)}},le=function(j){return 180*j/Math.PI},pe=function(j,$,X,K,ae,de){var fe=j+.5*(X-j),xe=$+.5*(K-$),we=ae+.5*(X-ae),Ie=de+.5*(K-de),$e=Math.min(j,ae,fe,we),Je=Math.max(j,ae,fe,we),ct=Math.min($,de,xe,Ie),z=Math.max($,de,xe,Ie);return new c($e,ct,Je-$e,z-ct)},be=function(j,$,X,K,ae,de,fe,xe){var we,Ie,$e,Je,ct,z,Ne,rt,qe,Ee,Ke,We,lt,at,ze=X-j,st=K-$,et=ae-X,ut=de-K,xt=fe-ae,dt=xe-de;for(Ie=0;Ie<41;Ie++)qe=(Ne=($e=j+(we=Ie/40)*ze)+we*((ct=X+we*et)-$e))+we*(ct+we*(ae+we*xt-ct)-Ne),Ee=(rt=(Je=$+we*st)+we*((z=K+we*ut)-Je))+we*(z+we*(de+we*dt-z)-rt),Ie==0?(Ke=qe,We=Ee,lt=qe,at=Ee):(Ke=Math.min(Ke,qe),We=Math.min(We,Ee),lt=Math.max(lt,qe),at=Math.max(at,Ee));return new c(Math.round(Ke),Math.round(We),Math.round(lt-Ke),Math.round(at-We))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,$,X=(j=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:$}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Ft.API),(function(n){var e=function(u){var c,f,d,p,y,_,b,A,N,k;for(f=[],d=0,p=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;p>d;d+=4)(y=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(_=(y=((y=((y=((y=(y-(k=y%85))/85)-(N=y%85))/85)-(A=y%85))/85)-(b=y%85))/85)%85,f.push(_+33,b+33,A+33,N+33,k+33)):f.push(122);return(function(C,R){for(var D=R;D>0;D--)C.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var c,f,d,p,y,_=String,b="length",A=255,N="charCodeAt",k="slice",C="replace";for(u[k](-2),u=u[k](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),d=[],p=0,y=(u+=c="uuuuu"[k](u[b]%5||5))[b];y>p;p+=5)f=52200625*(u[N](p)-33)+614125*(u[N](p+1)-33)+7225*(u[N](p+2)-33)+85*(u[N](p+3)-33)+(u[N](p+4)-33),d.push(A&f>>24,A&f>>16,A&f>>8,A&f);return(function(R,D){for(var V=D;V>0;V--)R.pop()})(d,c[b]),_.fromCharCode.apply(_,d)},s=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=yg(c)).reduce(function(d,p){return d+String.fromCharCode(p)},"")};n.processDataByFilters=function(u,c){var f=0,d=u||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=s(d),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:p.reverse().join(" ")}}})(Ft.API),(function(n){n.loadFile=function(e,t,s){return(function(a,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,p){var y=new XMLHttpRequest,_=0,b=function(A){var N=A.length,k=[],C=String.fromCharCode;for(_=0;_<N;_+=1)k.push(C(255&A.charCodeAt(_)));return k.join("")};if(y.open("GET",f,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?p(b(this.responseText)):p(void 0)}),y.send(null),d&&y.status===200)return b(y.responseText)})(a,o,u)}catch{}return c})(e,t,s)},n.loadImageFile=n.loadFile})(Ft.API),(function(n){function e(){return(tn.html2canvas?Promise.resolve(tn.html2canvas):Th(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(tn.DOMPurify?Promise.resolve(tn.DOMPurify):Th(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var s=function(c){var f=Jn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var p in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[p]=f.style[p];return d},o=function c(f,d){for(var p=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),y=f.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||p.appendChild(c(y,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(p.width=f.width,p.height=f.height,p.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(p.value=f.value),p.addEventListener("load",function(){p.scrollTop=f.scrollTop,p.scrollLeft=f.scrollLeft},!0)),p},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),d);return(p=p.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(s(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,p=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=p,p)for(var b=0;b<p.length;++b){var A=p[b],N=A.src.find(function(k){return k.format==="truetype"});N&&d.addFont(N.url,A.ref.name,A.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,d.context2d.save(!0),f(this.prop.container,_)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(s(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(s(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,p){return Math.floor(d*p/72*96)}return this.then(function(){(c=c||Ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,p){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,p){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,p?this.progress.stack.concat(p):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(p,y){return d.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(_){return d.updateProgress(null,p),_}).then(p,y).then(function(_){return d.updateProgress(1),_})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var p=this;c&&(c=c.bind(p)),f&&(f=f.bind(p));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:u.convert(Object.assign({},p),Promise.prototype),_=d.call(y,c,f);return u.convert(_,p.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Ft.getPageSize=function(c,f,d){if(Jn(c)==="object"){var p=c;c=p.orientation,f=p.unit||f,d=p.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var y,_=(""+d).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+f}var A,N=0,k=0;if(b.hasOwnProperty(_))N=b[_][1]/y,k=b[_][0]/y;else try{N=d[1],k=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",k>N&&(A=k,k=N,N=A);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",N>k&&(A=k,k=N,N=A)}return{width:k,height:N,unit:f,k:y,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Pm):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(Ft.API),Ft.API.addJS=function(n){return ox=n,this.internal.events.subscribe("postPutResources",function(){F1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(F1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ax=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ox+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){F1!==void 0&&ax!==void 0&&this.internal.out("/Names <</JavaScript "+F1+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var u=a[o],c=s.exec(u);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(o=0;o<d;o++){var y=t.internal.newObject();p.push(y);var _=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<p.length;o++)t.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(s,a,o){var u={title:a,options:o,children:[]};return s==null&&(s=this.root),s.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(s){s.id=t.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},t.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},t.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var u=s.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},t.outline.line=function(s){this.ctx.val+=s+`\r
`},t.outline.makeRef=function(s){return s.id+" 0 R"},t.outline.makeString=function(s){return"("+t.internal.pdfEscape(s)+")"},t.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(s,a){for(var o=0;o<a.children.length;o++)s.count++,this.count_r(s,a.children[o]);return s.count}}])})(Ft.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,s,a,o,u,c){var f,d=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(y){for(var _,b=256*y.charCodeAt(4)+y.charCodeAt(5),A=y.length,N={width:0,height:0,numcomponents:1},k=4;k<A;k+=2){if(k+=b,e.indexOf(y.charCodeAt(k+1))!==-1){_=256*y.charCodeAt(k+5)+y.charCodeAt(k+6),N={width:256*y.charCodeAt(k+7)+y.charCodeAt(k+8),height:_,numcomponents:y.charCodeAt(k+9)};break}b=256*y.charCodeAt(k+2)+y.charCodeAt(k+3)}return N})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:s,alias:a}}return p}})(Ft.API),Ft.API.processPNG=function(n,e,t,s){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=MM(n,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,p=o.depth;a=d&&f===1?(function(M){for(var B=M.width,te=M.height,E=M.data,I=M.palette,re=M.depth,U=!1,oe=[],Y=[],J=void 0,le=!1,pe=0,be=0;be<I.length;be++){var W=hy(I[be],4),j=W[0],$=W[1],X=W[2],K=W[3];oe.push(j,$,X),K!=null&&(K===0?(pe++,Y.length<1&&Y.push(be)):K<255&&(le=!0))}if(le||pe>1){U=!0,Y=void 0;var ae=B*te;J=new Uint8Array(ae);for(var de=new DataView(E.buffer),fe=0;fe<ae;fe++){var xe=Um(de,fe,re),we=hy(I[xe],4)[3];J[fe]=we}}else pe===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:E,alphaBytes:J,needSMask:U,palette:oe,mask:Y}})(o):f===2||f===4?(function(M){for(var B=M.data,te=M.width,E=M.height,I=M.channels,re=M.depth,U=I===2?"DeviceGray":"DeviceRGB",oe=I-1,Y=te*E,J=oe,le=Y*J,pe=1*Y,be=Math.ceil(le*re/8),W=Math.ceil(pe*re/8),j=new Uint8Array(be),$=new Uint8Array(W),X=new DataView(B.buffer),K=new DataView(j.buffer),ae=new DataView($.buffer),de=!1,fe=0;fe<Y;fe++){for(var xe=fe*I,we=0;we<J;we++)gx(K,Um(X,xe+we,re),fe*J+we,re);var Ie=Um(X,xe+J,re);Ie<(1<<re)-1&&(de=!0),gx(ae,Ie,1*fe,re)}return{colorSpace:U,colorsPerPixel:oe,sMaskBitsPerComponent:de?re:void 0,colorBytes:j,alphaBytes:$,needSMask:de}})(o):(function(M){var B=M.data,te=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:te,colorsPerPixel:te==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(E){for(var I=E.length,re=new Uint8Array(2*I),U=new DataView(re.buffer,re.byteOffset,re.byteLength),oe=0;oe<I;oe++)U.setUint16(2*oe,E[oe],!1);return re})(B):B,needSMask:!1}})(o);var y,_,b,A=a,N=A.colorSpace,k=A.colorsPerPixel,C=A.sMaskBitsPerComponent,R=A.colorBytes,D=A.alphaBytes,V=A.needSMask,F=A.palette,G=A.mask,H=null;return s!==Ft.API.image_compression.NONE&&typeof yg=="function"?(H=(function(M){var B;switch(M){case Ft.API.image_compression.FAST:B=11;break;case Ft.API.image_compression.MEDIUM:B=13;break;case Ft.API.image_compression.SLOW:B=14;break;default:B=12}return B})(s),y=this.decode.FLATE_DECODE,_="/Predictor ".concat(H," /Colors ").concat(k," /BitsPerComponent ").concat(p," /Columns ").concat(u),n=hx(R,Math.ceil(u*k*p/8),k,p,s),V&&(b=hx(D,Math.ceil(u*C/8),1,C,s))):(y=void 0,_=void 0,n=R,V&&(b=D)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:n,index:e,filter:y,decodeParameters:_,transparency:G,palette:F,sMask:b,predictor:H,width:u,height:c,bitsPerComponent:p,sMaskBitsPerComponent:C,colorSpace:N}}},(function(n){n.processGIF89A=function(e,t,s,a){var o=new KM(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},p=new Hm(100).encode(d,100);return n.processJPEG.call(this,p,t,s,a)},n.processGIF87A=n.processGIF89A})(Ft.API),io.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:s,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},io.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){mr.log("bit decode error:"+t)}},io.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),u=s*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},io.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),u=s*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},io.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;if(a<this.palette.length){var u=this.palette[a];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},io.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,p=s*this.width*4+4*a;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=u,this.data[p+3]=d}this.pos+=n}},io.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,p=a*this.width*4+4*o;this.data[p]=d,this.data[p+1]=f,this.data[p+2]=c,this.data[p+3]=255}this.pos+=n}},io.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=s,this.data[u+3]=255}this.pos+=this.width%4}},io.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=u}},io.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,s,a){var o=new io(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new Hm(100).encode(f,100);return n.processJPEG.call(this,d,t,s,a)}})(Ft.API),vx.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,s,a){var o=new vx(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new Hm(100).encode(f,100);return n.processJPEG.call(this,d,t,s,a)}})(Ft.API),Ft.API.processRGBA=function(n,e,t){for(var s=n.data,a=s.length,o=new Uint8Array(a/4*3),u=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var p=s[d],y=s[d+1],_=s[d+2],b=s[d+3];o[c++]=p,o[c++]=y,o[c++]=_,u[f++]=b}var A=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ft.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},gh=Ft.API,B1=gh.getCharWidthsArray=function(n,e){var t,s,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,p=d.fof?d.fof:1,y=e.doKerning!==!1,_=0,b=n.length,A=0,N=c[0]||f,k=[];for(t=0;t<b;t++)s=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?k.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+u*(1e3/o)||0)/1e3):(_=y&&Jn(d[s])==="object"&&!isNaN(parseInt(d[s][A],10))?d[s][A]/p:0,k.push((c[s]||N)/f+_)),A=s;return k},lx=gh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return gh.processArabic&&(n=gh.processArabic(n)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(n,t,a)/t:B1.apply(this,arguments).reduce(function(o,u){return o+u},0)},cx=function(n,e,t,s){for(var a=[],o=0,u=n.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;a.push(n.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>s&&(a.push(n.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(n.slice(f,o)),a},ux=function(n,e,t){t||(t={});var s,a,o,u,c,f,d,p=[],y=[p],_=t.textIndent||0,b=0,A=0,N=n.split(" "),k=B1.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?N[0].length+2:t.lineIndent||0){var C=Array(f).join(" "),R=[];N.map(function(V){(V=V.split(/\s*\n/)).length>1?R=R.concat(V.map(function(F,G){return(G&&F.length?`
`:"")+F})):R.push(V[0])}),N=R,f=lx.apply(this,[C,t])}for(o=0,u=N.length;o<u;o++){var D=0;if(s=N[o],f&&s[0]==`
`&&(s=s.substr(1),D=1),_+b+(A=(a=B1.apply(this,[s,t])).reduce(function(V,F){return V+F},0))>e||D){if(A>e){for(c=cx.apply(this,[s,a,e-(_+b),e]),p.push(c.shift()),p=[c.pop()];c.length;)y.push([c.shift()]);A=a.slice(s.length-(p[0]?p[0].length:0)).reduce(function(V,F){return V+F},0)}else p=[s];y.push(p),_=A+f,b=k}else p.push(s),_+=b+A,b=k}return d=f?function(V,F){return(F?C:"")+V.join(" ")}:function(V){return V.join(" ")},y.map(d)},gh.splitTextToSize=function(n,e,t){var s,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var y=this.internal.getFont(p.fontName,p.fontStyle),_="Unicode";return y.metadata[_]?{widths:y.metadata[_].widths||{0:1},kerning:y.metadata[_].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);s=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=s.length;c<f;c++)d=d.concat(ux.apply(this,[s[c],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",s={},a={},o=0;o<16;o++)s[t[o]]=e[o],a[e[o]]=t[o];var u=function(_){return"0x"+parseInt(_,10).toString(16)},c=n.__fontmetrics__.compress=function(_){var b,A,N,k,C=["{"];for(var R in _){if(b=_[R],isNaN(parseInt(R,10))?A="'"+R+"'":(R=parseInt(R,10),A=(A=u(R).slice(2)).slice(0,-1)+a[A.slice(-1)]),typeof b=="number")b<0?(N=u(b).slice(3),k="-"):(N=u(b).slice(2),k=""),N=k+N.slice(0,-1)+a[N.slice(-1)];else{if(Jn(b)!=="object")throw new Error("Don't know what to do with value type "+Jn(b)+".");N=c(b)}C.push(A+N)}return C.push("}"),C.join("")},f=n.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,A,N,k,C={},R=1,D=C,V=[],F="",G="",H=_.length-1,M=1;M<H;M+=1)(k=_[M])=="'"?b?(N=b.join(""),b=void 0):b=[]:b?b.push(k):k=="{"?(V.push([D,N]),D={},N=void 0):k=="}"?((A=V.pop())[0][A[1]]=D,N=void 0,D=A[0]):k=="-"?R=-1:N===void 0?s.hasOwnProperty(k)?(F+=s[k],N=parseInt(F,16)*R,R=1,F=""):F+=k:s.hasOwnProperty(k)?(G+=s[k],D[N]=parseInt(G,16)*R,R=1,N=void 0,G=""):G+=k;return C},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},y={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var b=_.font,A=y.Unicode[b.postScriptName];A&&(b.metadata.Unicode={},b.metadata.Unicode.widths=A.widths,b.metadata.Unicode.kerning=A.kerning);var N=p.Unicode[b.postScriptName];N&&(b.metadata.Unicode.encoding=N,b.encoding=N.codePages[0])}])})(Ft.API),(function(n){var e=function(t){for(var s=t.length,a=new Uint8Array(s),o=0;o<s;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var s=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(G1(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,s)}}])})(Ft),Ft.API.addSvgAsImage=function(n,e,t,s,a,o,u,c){if(isNaN(e)||isNaN(t))throw mr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw mr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(tn.canvg?Promise.resolve(tn.canvg):Th(()=>import("./index.es-DC8ozsYf.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(d,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(p)}).then(function(){y.addImage(f.toDataURL("image/jpeg",1),e,t,s,a,u,c)})},Ft.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(e,t);return this},Ft.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var s,a,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,p=0,y=0;function _(A,N){var k,C=!1;for(k=0;k<A.length;k+=1)A[k]===N&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=c.length;for(y=0;y<b;y+=1)t[c[y]].value=t[c[y]].defaultValue,t[c[y]].explicitSet=!1}if(Jn(n)==="object"){for(a in n)if(o=n[a],_(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&_(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(s=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(p=0;p<o[d].length;p+=1)typeof o[d][p]!="number"&&(s=!1);s===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,N=[];for(A in t)t[A].explicitSet===!0&&(t[A].type==="name"?N.push("/"+A+" /"+t[A].value):N.push("/"+A+" "+t[A].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+u+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Ft.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],y=0,_=o.length;y<_;++y){if(c=u.metadata.characterToGlyph(o.charCodeAt(y)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(y),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(d[4-c.length],c)}return p.join("")},s=function(o){var u,c,f,d,p,y,_;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],y=0,_=(c=Object.keys(o).sort(function(b,A){return b-A})).length;y<_;y++)u=c[y],f.length>=100&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,p=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,_=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",A=0;A<_.length;A++)b+=String.fromCharCode(_[A]);var N=d();p({data:b,addLength1:!0,objectId:N}),f("endobj");var k=d();p({data:s(c.metadata.toUnicode),addLength1:!0,objectId:k}),f("endobj");var C=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+yh(c.fontName)),f("/FontFile2 "+N+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var R=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+yh(c.fontName)),f("/FontDescriptor "+C+" 0 R"),f("/W "+n.API.PDFObject.convert(y)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+k+" 0 R"),f("/BaseFont /"+yh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+R+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,p=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,_="",b=0;b<y.length;b++)_+=String.fromCharCode(y[b]);var A=d();p({data:_,addLength1:!0,objectId:A}),f("endobj");var N=d();p({data:s(c.metadata.toUnicode),addLength1:!0,objectId:N}),f("endobj");var k=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+A+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+yh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var C=0;C<c.metadata.hmtx.widths.length;C++)c.metadata.hmtx.widths[C]=parseInt(c.metadata.hmtx.widths[C]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+yh(c.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var u,c=o.text||"",f=o.x,d=o.y,p=o.options||{},y=o.mutex||{},_=y.pdfEscape,b=y.activeFontKey,A=y.fonts,N=b,k="",C=0,R="",D=A[N].encoding;if(A[N].encoding!=="Identity-H")return{text:c,x:f,y:d,options:p,mutex:y};for(R=c,N=b,Array.isArray(c)&&(R=c[0]),C=0;C<R.length;C+=1)A[N].metadata.hasOwnProperty("cmap")&&(u=A[N].metadata.cmap.unicode.codeMap[R[C].charCodeAt(0)]),u||R[C].charCodeAt(0)<256&&A[N].metadata.hasOwnProperty("Unicode")?k+=R[C]:k+="";var V="";return parseInt(N.slice(1))<14||D==="WinAnsiEncoding"?V=_(k,N).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(V=t(k,A[N])),y.isHex=!0,{text:V,x:f,y:d,options:p,mutex:y}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([a(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(a(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:u})).text}])})(Ft),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,s){return e.call(this),this.internal.vFS[t]=s,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Ft.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(s){var a,o,u,c,f,d,p,y=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,D=0;this.__bidiEngine__={};var V=function(E){var I=E.charCodeAt(),re=I>>8,U=N[re];return U!==void 0?y[256*U+(255&I)]:re===252||re===253?"AL":C.test(re)?"L":re===8?"R":"N"},F=function(E){for(var I,re=0;re<E.length;re++){if((I=V(E.charAt(re)))==="L")return!1;if(I==="R")return!0}return!1},G=function(E,I,re,U){var oe,Y,J,le,pe=I[U];switch(pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(pe="AN");break;case"AL":R=!0,pe="R";break;case"WS":case"BN":pe="N";break;case"CS":U<1||U+1>=I.length||(oe=re[U-1])!=="EN"&&oe!=="AN"||(Y=I[U+1])!=="EN"&&Y!=="AN"?pe="N":R&&(Y="AN"),pe=Y===oe?Y:"N";break;case"ES":pe=(oe=U>0?re[U-1]:"B")==="EN"&&U+1<I.length&&I[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&re[U-1]==="EN"){pe="EN";break}if(R){pe="N";break}for(J=U+1,le=I.length;J<le&&I[J]==="ET";)J++;pe=J<le&&I[J]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(le=I.length,J=U+1;J<le&&I[J]==="NSM";)J++;if(J<le){var be=E[U],W=be>=1425&&be<=2303||be===64286;if(oe=I[J],W&&(oe==="R"||oe==="AL")){pe="R";break}}}pe=U<1||(oe=I[U-1])==="B"?"N":re[U-1];break;case"B":R=!1,a=!0,pe=D;break;case"S":o=!0,pe="N"}return pe},H=function(E,I,re){var U=E.split("");return re&&M(U,re,{hiLevel:D}),U.reverse(),I&&I.reverse(),U.join("")},M=function(E,I,re){var U,oe,Y,J,le,pe=-1,be=E.length,W=0,j=[],$=D?b:_,X=[];for(R=!1,a=!1,o=!1,oe=0;oe<be;oe++)X[oe]=V(E[oe]);for(Y=0;Y<be;Y++){if(le=W,j[Y]=G(E,X,j,Y),U=240&(W=$[le][A[j[Y]]]),W&=15,I[Y]=J=$[W][5],U>0)if(U===16){for(oe=pe;oe<Y;oe++)I[oe]=1;pe=-1}else pe=-1;if($[W][6])pe===-1&&(pe=Y);else if(pe>-1){for(oe=pe;oe<Y;oe++)I[oe]=J;pe=-1}X[Y]==="B"&&(I[Y]=0),re.hiLevel|=J}o&&(function(K,ae,de){for(var fe=0;fe<de;fe++)if(K[fe]==="S"){ae[fe]=D;for(var xe=fe-1;xe>=0&&K[xe]==="WS";xe--)ae[xe]=D}})(X,I,be)},B=function(E,I,re,U,oe){if(!(oe.hiLevel<E)){if(E===1&&D===1&&!a)return I.reverse(),void(re&&re.reverse());for(var Y,J,le,pe,be=I.length,W=0;W<be;){if(U[W]>=E){for(le=W+1;le<be&&U[le]>=E;)le++;for(pe=W,J=le-1;pe<J;pe++,J--)Y=I[pe],I[pe]=I[J],I[J]=Y,re&&(Y=re[pe],re[pe]=re[J],re[J]=Y);W=le}W++}}},te=function(E,I,re){var U=E.split(""),oe={hiLevel:D};return re||(re=[]),M(U,re,oe),(function(Y,J,le){if(le.hiLevel!==0&&p)for(var pe,be=0;be<Y.length;be++)J[be]===1&&(pe=k.indexOf(Y[be]))>=0&&(Y[be]=k[pe+1])})(U,re,oe),B(2,U,I,re,oe),B(1,U,I,re,oe),U.join("")};return this.__bidiEngine__.doBidiReorder=function(E,I,re){if((function(oe,Y){if(Y)for(var J=0;J<oe.length;J++)Y[J]=J;c===void 0&&(c=F(oe)),d===void 0&&(d=F(oe))})(E,I),u||!f||d)if(u&&f&&c^d)D=c?1:0,E=H(E,I,re);else if(!u&&f&&d)D=c?1:0,E=te(E,I,re),E=H(E,I);else if(!u||c||f||d){if(u&&!f&&c^d)E=H(E,I),c?(D=0,E=te(E,I,re)):(D=1,E=te(E,I,re),E=H(E,I));else if(u&&c&&!f&&d)D=1,E=te(E,I,re),E=H(E,I);else if(!u&&!f&&c^d){var U=p;c?(D=1,E=te(E,I,re),D=0,p=!1,E=te(E,I,re),p=U):(D=0,E=te(E,I,re),E=H(E,I),D=1,p=!1,E=te(E,I,re),p=U,E=H(E,I))}}else D=0,E=te(E,I,re);else D=c?1:0,E=te(E,I,re);return E},this.__bidiEngine__.setOptions=function(E){E&&(u=E.isInputVisual,f=E.isOutputVisual,c=E.isInputRtl,d=E.isOutputRtl,p=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(u=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?u.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):u.push([t.doBidiReorder(a[c])]);s.text=u}else s.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Ft),Ft.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new jc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new dL(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new JM(this.contents),this.head=new tL(this),this.name=new aL(this),this.cmap=new v4(this),this.toUnicode={},this.hhea=new nL(this),this.maxp=new oL(this),this.hmtx=new lL(this),this.post=new sL(this),this.os2=new rL(this),this.loca=new fL(this),this.glyf=new cL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,s,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,s){var a,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var s;return t==null&&(t=!1),s=t?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},n})();var yo,jc=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,s;for(s=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)s[t]=String.fromCharCode(this.readByte());return s.join("")},n.prototype.writeString=function(e){var t,s,a;for(a=[],t=0,s=e.length;0<=s?t<s:t>s;t=0<=s?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,s,a,o,u,c,f;return e=this.readByte(),t=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*s+4294967296*a+16777216*o+65536*u+256*c+f},n.prototype.writeLongLong=function(e){var t,s;return t=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,s;for(t=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)t.push(this.readByte());return t},n.prototype.write=function(e){var t,s,a,o;for(o=[],s=0,a=e.length;s<a;s++)t=e[s],o.push(this.writeByte(t));return o},n})(),JM=(function(){var n;function e(t){var s,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)s={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(t){var s,a,o,u,c,f,d,p,y,_,b,A,N;for(N in b=Object.keys(t).length,f=Math.log(2),y=16*Math.floor(Math.log(b)/f),u=Math.floor(y/f),p=16*b-y,(a=new jc).writeInt(this.scalarType),a.writeShort(b),a.writeShort(y),a.writeShort(u),a.writeShort(p),o=16*b,d=a.pos+o,c=null,A=[],t)for(_=t[N],a.writeString(N),a.writeInt(n(_)),a.writeInt(d),a.writeInt(_.length),A=A.concat(_),N==="head"&&(c=d),d+=_.length;d%4;)A.push(0),d++;return a.write(A),s=2981146554-n(a.data),a.pos=c+8,a.writeUInt32(s),a.data},n=function(t){var s,a,o,u;for(t=y4.call(t);t.length%4;)t.push(0);for(o=new jc(t),a=0,s=0,u=t.length;s<u;s=s+=4)a+=o.readUInt32();return 4294967295&a},e})(),eL={}.hasOwnProperty,$o=function(n,e){for(var t in e)eL.call(e,t)&&(n[t]=e[t]);function s(){this.constructor=n}return s.prototype=e.prototype,n.prototype=new s,n.__super__=e.prototype,n};yo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var tL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,yo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new jc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),yx=(function(){function n(e,t){var s,a,o,u,c,f,d,p,y,_,b,A,N,k,C,R,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(b=e.readUInt16(),_=b/2,e.pos+=6,o=(function(){var V,F;for(F=[],f=V=0;0<=_?V<_:V>_;f=0<=_?++V:--V)F.push(e.readUInt16());return F})(),e.pos+=2,N=(function(){var V,F;for(F=[],f=V=0;0<=_?V<_:V>_;f=0<=_?++V:--V)F.push(e.readUInt16());return F})(),d=(function(){var V,F;for(F=[],f=V=0;0<=_?V<_:V>_;f=0<=_?++V:--V)F.push(e.readUInt16());return F})(),p=(function(){var V,F;for(F=[],f=V=0;0<=_?V<_:V>_;f=0<=_?++V:--V)F.push(e.readUInt16());return F})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var V,F;for(F=[],f=V=0;0<=a?V<a:V>a;f=0<=a?++V:--V)F.push(e.readUInt16());return F})(),f=C=0,D=o.length;C<D;f=++C)for(k=o[f],s=R=A=N[f];A<=k?R<=k:R>=k;s=A<=k?++R:--R)p[f]===0?u=s+d[f]:(u=c[p[f]/2+(s-A)-(_-f)]||0)!==0&&(u+=d[f]),this.codeMap[s]=65535&u}e.pos=y}return n.encode=function(e,t){var s,a,o,u,c,f,d,p,y,_,b,A,N,k,C,R,D,V,F,G,H,M,B,te,E,I,re,U,oe,Y,J,le,pe,be,W,j,$,X,K,ae,de,fe,xe,we,Ie,$e;switch(U=new jc,u=Object.keys(e).sort(function(Je,ct){return Je-ct}),t){case"macroman":for(N=0,k=(function(){var Je=[];for(A=0;A<256;++A)Je.push(0);return Je})(),R={0:0},o={},oe=0,pe=u.length;oe<pe;oe++)R[xe=e[a=u[oe]]]==null&&(R[xe]=++N),o[a]={old:e[a],new:R[e[a]]},k[a]=R[e[a]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(k),{charMap:o,subtable:U.data,maxGlyphID:N+1};case"unicode":for(I=[],y=[],D=0,R={},s={},C=d=null,Y=0,be=u.length;Y<be;Y++)R[F=e[a=u[Y]]]==null&&(R[F]=++D),s[a]={old:F,new:R[F]},c=R[F]-a,C!=null&&c===d||(C&&y.push(C),I.push(a),d=c),C=a;for(C&&y.push(C),y.push(65535),I.push(65535),te=2*(B=I.length),M=2*Math.pow(Math.log(B)/Math.LN2,2),_=Math.log(M/2)/Math.LN2,H=2*B-M,f=[],G=[],b=[],A=J=0,W=I.length;J<W;A=++J){if(E=I[A],p=y[A],E===65535){f.push(0),G.push(0);break}if(E-(re=s[E].new)>=32768)for(f.push(0),G.push(2*(b.length+B-A)),a=le=E;E<=p?le<=p:le>=p;a=E<=p?++le:--le)b.push(s[a].new);else f.push(re-E),G.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*B+2*b.length),U.writeUInt16(0),U.writeUInt16(te),U.writeUInt16(M),U.writeUInt16(_),U.writeUInt16(H),de=0,j=y.length;de<j;de++)a=y[de],U.writeUInt16(a);for(U.writeUInt16(0),fe=0,$=I.length;fe<$;fe++)a=I[fe],U.writeUInt16(a);for(we=0,X=f.length;we<X;we++)c=f[we],U.writeUInt16(c);for(Ie=0,K=G.length;Ie<K;Ie++)V=G[Ie],U.writeUInt16(V);for($e=0,ae=b.length;$e<ae;$e++)N=b[$e],U.writeUInt16(N);return{charMap:s,subtable:U.data,maxGlyphID:D+1}}},n})(),v4=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,yo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,s,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)t=new yx(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var s,a;return t==null&&(t="macroman"),s=yx.encode(e,t),(a=new jc).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},n})(),nL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,yo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),rL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,yo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,s;for(s=[],t=0;t<10;++t)s.push(e.readByte());return s})(),this.charRange=(function(){var t,s;for(s=[],t=0;t<4;++t)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,s;for(s=[],t=0;t<2;t=++t)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),sL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,yo),n.prototype.tag="post",n.prototype.parse=function(e){var t,s,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(s=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},n})(),iL=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},aL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,yo),n.prototype.tag="name",n.prototype.parse=function(e){var t,s,a,o,u,c,f,d,p,y,_;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),s=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=p=0,y=s.length;p<y;o=++p)a=s[o],e.pos=a.offset,d=e.readString(a.length),u=new iL(d,a),f[_=a.nameID]==null&&(f[_]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),oL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,yo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),lL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,yo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,s,a,o,u,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,p;for(p=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)p.push(e.readInt16());return p})(),this.widths=(function(){var d,p,y,_;for(_=[],d=0,p=(y=this.metrics).length;d<p;d++)o=y[d],_.push(o.advance);return _}).call(this),s=this.widths[this.widths.length-1],f=[],t=u=0;0<=a?u<a:u>a;t=0<=a?++u:--u)f.push(this.widths.push(s));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),y4=[].slice,cL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,yo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,s,a,o,u,c,f,d,p,y;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,s=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+s,u=(c=new jc(t.read(a))).readShort(),d=c.readShort(),y=c.readShort(),f=c.readShort(),p=c.readShort(),this.cache[e]=u===-1?new hL(c,d,y,f,p):new uL(c,u,d,y,f,p),this.cache[e]))},n.prototype.encode=function(e,t,s){var a,o,u,c,f;for(u=[],o=[],c=0,f=t.length;c<f;c++)a=e[t[c]],o.push(u.length),a&&(u=u.concat(a.encode(s)));return o.push(u.length),{table:u,offsets:o}},n})(),uL=(function(){function n(e,t,s,a,o,u){this.raw=e,this.numberOfContours=t,this.xMin=s,this.yMin=a,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),hL=(function(){function n(e,t,s,a,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,s;for(t=new jc(y4.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),fL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,yo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,s;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var s=new Uint32Array(this.offsets.length),a=0,o=0,u=0;u<s.length;++u)if(s[u]=a,o<t.length&&t[o]==u){++o,s[u]=a;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(a+=f)}for(var d=new Array(4*s.length),p=0;p<s.length;++p)d[4*p+3]=255&s[p],d[4*p+2]=(65280&s[p])>>8,d[4*p+1]=(16711680&s[p])>>16,d[4*p]=(4278190080&s[p])>>24;return d},n})(),dL=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,s,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)s=o[t],e[t]=a[s];return e},n.prototype.glyphsFor=function(e){var t,s,a,o,u,c,f;for(a={},u=0,c=e.length;u<c;u++)a[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(s=a[o])!=null&&s.compound&&t.push.apply(t,s.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))s=f[o],a[o]=s;return a},n.prototype.encode=function(e,t){var s,a,o,u,c,f,d,p,y,_,b,A,N,k,C;for(a in s=v4.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),b={0:0},C=s.charMap)b[(f=C[a]).old]=f.new;for(A in _=s.maxGlyphID,u)A in b||(b[A]=_++);return p=(function(R){var D,V;for(D in V={},R)V[R[D]]=D;return V})(b),y=Object.keys(p).sort(function(R,D){return R-D}),N=(function(){var R,D,V;for(V=[],R=0,D=y.length;R<D;R++)c=y[R],V.push(p[c]);return V})(),o=this.font.glyf.encode(u,N,b),d=this.font.loca.encode(o.offsets,N),k={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},n})();Ft.API.PDFObject=(function(){var n;function e(){}return n=function(t,s){return(Array(s+1).join("0")+t).slice(-s)},e.convert=function(t){var s,a,o,u;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)s=t[c],d.push(e.convert(s));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)u=t[a],o.push("/"+a+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();var Q1={exports:{}},pL=Q1.exports,xx;function mL(){return xx||(xx=1,(function(n,e){(function(t,s){s()})(pL,function(){function t(d,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function s(d,p,y){var _=new XMLHttpRequest;_.open("GET",d),_.responseType="blob",_.onload=function(){f(_.response,p,y)},_.onerror=function(){console.error("could not download file")},_.send()}function a(d){var p=new XMLHttpRequest;p.open("HEAD",d,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function o(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(p)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof S1=="object"&&S1.global===S1?S1:void 0,c=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(d,p,y){var _=u.URL||u.webkitURL,b=document.createElement("a");p=p||d.name||"download",b.download=p,b.rel="noopener",typeof d=="string"?(b.href=d,b.origin===location.origin?o(b):a(b.href)?s(d,p,y):o(b,b.target="_blank")):(b.href=_.createObjectURL(d),setTimeout(function(){_.revokeObjectURL(b.href)},4e4),setTimeout(function(){o(b)},0))}:"msSaveOrOpenBlob"in navigator?function(d,p,y){if(p=p||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(t(d,y),p);else if(a(d))s(d,p,y);else{var _=document.createElement("a");_.href=d,_.target="_blank",setTimeout(function(){o(_)})}}:function(d,p,y,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof d=="string")return s(d,p,y);var b=d.type==="application/octet-stream",A=/constructor/i.test(u.HTMLElement)||u.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||b&&A||c)&&typeof FileReader<"u"){var k=new FileReader;k.onloadend=function(){var D=k.result;D=N?D:D.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=D:location=D,_=null},k.readAsDataURL(d)}else{var C=u.URL||u.webkitURL,R=C.createObjectURL(d);_?_.location=R:location.href=R,_=null,setTimeout(function(){C.revokeObjectURL(R)},4e4)}});u.saveAs=f.saveAs=f,n.exports=f})})(Q1)),Q1.exports}var gL=mL();const R2="chordWheelSongs",Cg="chordWheelCurrentSongId",ed=()=>{try{const n=localStorage.getItem(R2);return n?JSON.parse(n).map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})):[]}catch(n){return console.error("Error loading saved songs:",n),[]}},wx=n=>{try{const e=ed(),t=e.findIndex(a=>a.id===n.id),s={...n,updatedAt:new Date().toISOString(),createdAt:n.createdAt instanceof Date?n.createdAt.toISOString():n.createdAt};t>=0?e[t]=s:e.push({...s,createdAt:new Date().toISOString()}),localStorage.setItem(R2,JSON.stringify(e)),localStorage.setItem(Cg,n.id)}catch(e){console.error("Error saving song:",e)}},bL=n=>{try{const t=ed().filter(s=>s.id!==n);localStorage.setItem(R2,JSON.stringify(t)),localStorage.getItem(Cg)===n&&localStorage.removeItem(Cg)}catch(e){console.error("Error deleting song:",e)}},vL=({isOpen:n,onClose:e,onConfirm:t,title:s,message:a,confirmLabel:o="Confirm",cancelLabel:u="Cancel",isDestructive:c=!1})=>(ne.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),ne.useEffect(()=>{const f=d=>{d.key==="Escape"&&n&&e()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[n,e]),n?v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:e}),v.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-sm w-full overflow-hidden flex flex-col scale-100 opacity-100 transition-all",children:[v.jsxs("div",{className:"p-6",children:[v.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:s}),v.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:a})]}),v.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 bg-[#22222e] border-t border-border-subtle",children:[v.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:u}),v.jsx("button",{onClick:()=>{t(),e()},className:`px-4 py-2 text-sm font-bold text-white rounded-lg shadow-lg transition-transform active:scale-95 ${c?"bg-red-500 hover:bg-red-600":"bg-accent-primary hover:bg-accent-secondary"}`,children:o})]})]})]}):null),x4={I:{degree:0,quality:"major"},ii:{degree:1,quality:"minor"},iii:{degree:2,quality:"minor"},IV:{degree:3,quality:"major"},V:{degree:4,quality:"major"},vi:{degree:5,quality:"minor"},"vii":{degree:6,quality:"diminished"},iv:{degree:3,quality:"minor"},"VI":{degree:8,quality:"major"},bVI:{degree:8,quality:"major"},"VII":{degree:10,quality:"major"},bVII:{degree:10,quality:"major"}},yL=[0,2,4,5,7,9,11];function xL(n,e){const t=Lh(e),s=Tl.indexOf(t);if(s===-1)return e;const a=x4[n];if(!a)return console.warn(`Unknown roman numeral: ${n}`),e;let o;a.degree<7?o=yL[a.degree]:o=a.degree;const u=(s+o)%12;return Tl[u]}function wL(n,e){const t=x4[n]||{quality:"major"},s=xL(n,e),a=ja(s,t.quality);return{root:s,quality:t.quality,numeral:n,notes:a,symbol:`${s}${t.quality==="major"?"":t.quality==="minor"?"m":""}`}}function I2(n,e){return n.map(t=>wL(t,e))}let K1=!1,Cp=[];function V2(){K1=!1,Cp.forEach(n=>clearTimeout(n)),Cp=[]}async function w4(n,e,t=120,s=2,a){V2(),K1=!0,ys.state!=="running"&&await _u(),ys.state==="suspended"&&await ys.resume(),await Lc();const o=I2(n,e),c=60/t*1e3*s,d=`${4/s}n`;return new Promise(p=>{o.forEach((y,_)=>{const b=window.setTimeout(()=>{if(K1&&(a?.(_,y),Wr(y.notes,d),_===o.length-1)){const A=window.setTimeout(()=>{K1=!1,p()},c);Cp.push(A)}},_*c);Cp.push(b)})})}const _L=[{id:"pop-anthem",name:"Pop/Rock Anthem",description:"The most popular progression in modern music. Uplifting and anthemic.",numerals:["I","V","vi","IV"],genre:"Pop/Rock",artists:"U2, The Beatles, Blink-182",color:"accent-primary",sectionType:"chorus",sectionName:"Anthem",beatsPerChord:4},{id:"emotional-ballad",name:"Emotional Ballad",description:"Starts on the minor chord for a melancholic, emotional feel.",numerals:["vi","IV","I","V"],genre:"Ballad",artists:"Adele, John Legend",color:"purple-400",sectionType:"verse",sectionName:"Ballad",beatsPerChord:4},{id:"jazz-ii-v-i",name:"Jazz / R&B",description:"The foundation of jazz harmony. Smooth and sophisticated.",numerals:["ii","V","I"],genre:"Jazz/R&B",artists:"Maroon 5, Jazz Standards",color:"blue-400",sectionType:"verse",sectionName:"ii-V-I",beatsPerChord:4,totalBars:4},{id:"50s-progression",name:"50s Doo-Wop",description:"Classic rock and roll. Nostalgic and feel-good.",numerals:["I","vi","IV","V"],genre:"Oldies",artists:"Stand By Me, Earth Angel",color:"yellow-400",sectionType:"verse",sectionName:"Doo-Wop",beatsPerChord:4},{id:"andalusian",name:"Andalusian Cadence",description:"Dramatic descending progression. Spanish/Flamenco influenced.",numerals:["vi","V","IV","III"],genre:"Dramatic",artists:"Hit the Road Jack, Sultans of Swing",color:"red-400",sectionType:"verse",sectionName:"Andal.",beatsPerChord:4},{id:"pachelbel",name:"Pachelbel Canon",description:"The classical progression that influenced centuries of music.",numerals:["I","V","vi","iii","IV","I","IV","V"],genre:"Classical/Pop",artists:"Canon in D, Basket Case",color:"green-400",sectionType:"verse",sectionName:"Canon",beatsPerChord:2}],SL=[{id:"perfect",name:"Perfect Cadence",description:'The "Full Stop". Strongest resolution.',numerals:["V","I"],color:"green-500",emotion:"Conclusive"},{id:"plagal",name:"Plagal Cadence",description:'The "Amen". Softer, church-like resolution.',numerals:["IV","I"],color:"blue-500",emotion:"Peaceful"},{id:"half",name:"Half Cadence",description:'The "Comma". Leaves listeners wanting more.',numerals:["I","V"],color:"yellow-500",emotion:"Suspenseful"},{id:"deceptive",name:"Deceptive Cadence",description:'The "Surprise". Expecting I, getting vi.',numerals:["V","vi"],color:"purple-500",emotion:"Unexpected"}],NL=({preset:n,showAddButton:e=!0,compact:t=!1,onAddToTimeline:s})=>{const{selectedKey:a,currentSong:o,openTimeline:u}=sn(),c=sn(R=>R.addCustomSection),[f,d]=ne.useState(!1),[p,y]=ne.useState(null),[_,b]=ne.useState(!1),A=I2(n.numerals,a),N=async()=>{if(f){V2(),d(!1),y(null);return}d(!0),y(0);try{await w4(n.numerals,a,o.tempo,n.beatsPerChord,R=>{y(R)})}finally{d(!1),y(null)}},k=async(R,D)=>{if(f)return;y(D);const V=n.beatsPerChord>=4?"1n":"2n";await Wr(R.notes,V),setTimeout(()=>y(null),400)},C=()=>{c&&(c(n.sectionName,n.sectionType,A,{beatsPerChord:n.beatsPerChord,totalBars:n.totalBars}),u(),b(!0),setTimeout(()=>b(!1),1500),s?.())};return v.jsxs("div",{className:`
                p-2.5 rounded bg-bg-tertiary transition-all duration-300 overflow-hidden
                ${t?"text-xs":"text-sm"}
                ${_?"ring-2 ring-green-500 bg-green-500/10":""}
            `,children:[v.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[v.jsxs("div",{className:"min-w-0",children:[v.jsx("span",{className:"font-bold text-white",children:n.name}),n.artists&&v.jsx("span",{className:"block text-xs text-gray-500 truncate",children:n.artists})]}),e&&v.jsxs("button",{onClick:C,className:`
                            flex items-center gap-1 px-2 py-1 rounded text-xs font-medium shrink-0
                            transition-all duration-200
                            ${_?"bg-green-500 text-white":"bg-bg-elevated hover:bg-accent-primary/20 text-gray-400 hover:text-accent-primary"}
                        `,title:"Add to timeline",children:[v.jsx($h,{size:12}),v.jsx("span",{className:"hidden sm:inline",children:_?"Added!":"Add"})]})]}),v.jsxs("div",{className:"grid gap-1.5",style:{gridTemplateColumns:"auto repeat(4, minmax(0, max-content))",justifyContent:"start"},children:[v.jsx("button",{onClick:N,className:`
                        flex items-center justify-center w-7 h-7 rounded-full shrink-0
                        transition-all duration-200
                        ${f?"bg-red-500 hover:bg-red-600 text-white":"bg-accent-primary/20 hover:bg-accent-primary/40 text-accent-primary"}
                    `,title:f?"Stop":"Play progression",children:f?v.jsx($3,{size:12}):v.jsx(Yh,{size:12,className:"ml-0.5"})}),n.numerals.map((R,D)=>{const V=A[D],F=p===D,G=D<4?void 0:D%4+2;return v.jsx("button",{onClick:()=>k(V,D),disabled:f,className:`
                                text-xs px-2 py-1 rounded font-medium
                                transition-all duration-150
                                ${F?`bg-${n.color} text-white scale-110 shadow-lg shadow-${n.color}/30`:`bg-black/40 text-${n.color} hover:bg-black/60 hover:scale-105`}
                                ${f&&!F?"opacity-50":""}
                                disabled:cursor-not-allowed
                            `,style:{...F?{backgroundColor:`var(--color-${n.color})`}:{},...G?{gridColumn:G}:{}},title:`Play ${V.symbol}`,children:R},`${R}-${D}`)})]})]})},AL=({preset:n})=>{const{selectedKey:e,currentSong:t}=sn(),[s,a]=ne.useState(!1),[o,u]=ne.useState(null),c=I2(n.numerals,e),f=async()=>{if(s){V2(),a(!1),u(null);return}a(!0),u(0);try{await w4(n.numerals,e,t.tempo,2,y=>{u(y)})}finally{a(!1),u(null)}},d=async(y,_)=>{s||(u(_),await Wr(y.notes,"2n"),setTimeout(()=>u(null),400))},p=`text-${n.color.replace("-500","-400")}`;return v.jsxs("div",{className:`
                group p-3 rounded bg-bg-tertiary hover:bg-bg-tertiary/80 
                transition-all duration-200 border-l-2
            `,style:{borderColor:`var(--color-${n.color}, currentColor)`},children:[v.jsxs("div",{className:"flex justify-between items-center mb-1 gap-2",children:[v.jsx("span",{className:"font-bold text-white",children:n.name}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:f,className:`
                            w-6 h-6 rounded-full flex items-center justify-center
                            transition-all duration-200
                            ${s?"bg-red-500 text-white":"bg-white/10 hover:bg-white/20 text-white/70 hover:text-white"}
                        `,title:s?"Stop":"Play cadence",children:s?v.jsx("div",{className:"w-2 h-2 bg-white rounded-sm"}):v.jsx(Yh,{size:10,className:"ml-0.5"})}),v.jsx("div",{className:"flex gap-0.5",children:n.numerals.map((y,_)=>{const b=c[_],A=o===_;return v.jsxs(Xn.Fragment,{children:[v.jsx("button",{onClick:()=>d(b,_),disabled:s,className:`
                                            text-xs px-1.5 py-0.5 rounded
                                            transition-all duration-150
                                            ${A?"bg-white text-black scale-110":`bg-black/30 ${p} hover:bg-black/50 hover:scale-105`}
                                        `,style:A?{backgroundColor:`var(--color-${n.color})`,color:"white"}:void 0,title:`Play ${b.symbol}`,children:y}),_<n.numerals.length-1&&v.jsx("span",{className:"text-gray-500 text-xs flex items-center",children:""})]},`${y}-${_}`)})})]})]}),v.jsx("p",{className:"text-gray-400 text-xs",children:n.description})]})},_x=({size:n=32})=>v.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",style:{width:n,height:n},children:[[...Array(12)].map((e,t)=>{const s=t*30,a=(s-15-90)*Math.PI/180,o=(s+15-90)*Math.PI/180,u=18,c=46,f=t<=4||t>=10;let d;f?t===0?d="rgba(234, 179, 8, 0.9)":t===1?d="rgba(163, 190, 60, 0.85)":t===2?d="rgba(132, 204, 22, 0.8)":t===3?d="rgba(74, 222, 128, 0.7)":t===4?d="rgba(45, 212, 191, 0.6)":t===11?d="rgba(251, 146, 60, 0.85)":t===10?d="rgba(168, 162, 158, 0.6)":d="rgba(200, 180, 100, 0.7)":d=["rgba(100, 80, 120, 0.5)","rgba(80, 70, 90, 0.5)","rgba(60, 55, 70, 0.5)"][t%3];const p=50+u*Math.cos(a),y=50+u*Math.sin(a),_=50+c*Math.cos(a),b=50+c*Math.sin(a),A=50+c*Math.cos(o),N=50+c*Math.sin(o),k=50+u*Math.cos(o),C=50+u*Math.sin(o);return v.jsx("path",{d:`M ${p} ${y} L ${_} ${b} A ${c} ${c} 0 0 1 ${A} ${N} L ${k} ${C} A ${u} ${u} 0 0 0 ${p} ${y}`,fill:d,stroke:"rgba(0, 0, 0, 0.3)",strokeWidth:"0.5"},t)}),v.jsx("circle",{cx:"50",cy:"50",r:"16",fill:"rgba(20, 20, 30, 0.95)",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"1"})]}),Sx=({onClose:n})=>{const{selectedKey:e}=sn();return v.jsxs(v.Fragment,{children:[v.jsxs("section",{className:"relative",children:[v.jsx("div",{className:"absolute -top-10 -left-10 w-32 h-32 bg-accent-primary/20 rounded-full blur-3xl pointer-events-none"}),v.jsx("div",{className:"absolute -bottom-5 -right-5 w-24 h-24 bg-purple-500/15 rounded-full blur-3xl pointer-events-none"}),v.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-4 flex items-center gap-2 relative",children:[v.jsx(hC,{size:12,className:"fill-accent-primary"}),"Quick Start"]}),v.jsxs("div",{className:"relative bg-gradient-to-b from-bg-elevated/60 to-bg-elevated/40 rounded-xl p-5 border border-white/5 space-y-4",children:[v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-accent-primary/10 border border-accent-primary/20 flex items-center justify-center group-hover:bg-accent-primary/20 transition-colors",children:v.jsx(P3,{size:18,className:"text-accent-primary"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Tap any chord"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Tap a chord on the wheel to hear it and see voicings, or ",v.jsx("strong",{className:"text-gray-300",children:"double-tap"})," to add it to your timeline."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-purple-500/10 border border-purple-500/20 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors",children:v.jsx(Bh,{size:18,className:"text-purple-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Change the key"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[v.jsx("strong",{className:"text-gray-300",children:"Drag the wheel"})," to rotate and change keys. Highlighted chords always sound good together."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center group-hover:bg-emerald-500/20 transition-colors",children:v.jsx(q3,{size:18,className:"text-emerald-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Add to your timeline"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Tap the ",v.jsx("strong",{className:"text-emerald-400",children:"+ Add"})," button, or ",v.jsx("strong",{className:"text-gray-300",children:"double-tap"})," any chord preview to place it on your timeline."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-amber-500/10 border border-amber-500/20 flex items-center justify-center group-hover:bg-amber-500/20 transition-colors",children:v.jsx(mp,{size:18,className:"text-amber-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Arrange your song"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Open the ",v.jsx("strong",{className:"text-gray-300",children:"Song Map"})," to see your full arrangement, reorder sections, and play back your progression."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-sky-500/10 border border-sky-500/20 flex items-center justify-center group-hover:bg-sky-500/20 transition-colors",children:v.jsx(p2,{size:18,className:"text-sky-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Export your chord sheet"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[v.jsx("strong",{className:"text-gray-300",children:"Tap the download icon"})," in the header to export a printable PDF with chords and guitar diagrams."]})]})]}),v.jsx("div",{className:"mt-5 p-3 rounded-xl bg-white/5 border border-white/10",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"shrink-0 w-14 h-14 relative",children:v.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[[...Array(12)].map((t,s)=>{const a=s*30,o=(a-15-90)*Math.PI/180,u=(a+15-90)*Math.PI/180,c=18,f=46,d=s<=4||s>=10;let p;d?s===0?p="rgba(234, 179, 8, 0.9)":s===1?p="rgba(163, 190, 60, 0.85)":s===2?p="rgba(132, 204, 22, 0.8)":s===3?p="rgba(74, 222, 128, 0.7)":s===4?p="rgba(45, 212, 191, 0.6)":s===11?p="rgba(251, 146, 60, 0.85)":s===10?p="rgba(168, 162, 158, 0.6)":p="rgba(200, 180, 100, 0.7)":p=["rgba(100, 80, 120, 0.5)","rgba(80, 70, 90, 0.5)","rgba(60, 55, 70, 0.5)"][s%3];const y=50+c*Math.cos(o),_=50+c*Math.sin(o),b=50+f*Math.cos(o),A=50+f*Math.sin(o),N=50+f*Math.cos(u),k=50+f*Math.sin(u),C=50+c*Math.cos(u),R=50+c*Math.sin(u);return v.jsx("path",{d:`M ${y} ${_} L ${b} ${A} A ${f} ${f} 0 0 1 ${N} ${k} L ${C} ${R} A ${c} ${c} 0 0 0 ${y} ${_}`,fill:p,stroke:"rgba(0, 0, 0, 0.3)",strokeWidth:"0.5"},s)}),v.jsx("circle",{cx:"50",cy:"50",r:"16",fill:"rgba(20, 20, 30, 0.95)",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"1"})]})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("strong",{className:"text-xs text-white block mb-1",children:"Understanding the Wheel"}),v.jsxs("div",{className:"text-[11px] text-gray-400 leading-snug space-y-0.5",children:[v.jsxs("div",{children:[v.jsx("strong",{className:"text-gray-300",children:"Highlighted"})," = in key"]}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-gray-300",children:"Inner"})," = Major (I, IV, V)"]}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-gray-300",children:"Middle"})," = Minor (ii, iii, vi)"]}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-gray-300",children:"Outer"})," = Dim (vii)"]})]})]})]})}),v.jsx("div",{className:"p-3 rounded-xl bg-accent-primary/5 border border-accent-primary/20",children:v.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[v.jsx(ad,{size:14,className:"text-accent-primary shrink-0"}),v.jsxs("span",{className:"flex items-center gap-1.5 flex-wrap",children:[v.jsx("strong",{className:"text-accent-primary",children:"Tip:"})," Tap the",v.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-bg-secondary/80 rounded-full text-text-muted border border-border-subtle/60",children:v.jsx(ad,{size:10})}),"button anytime to reopen this guide."]})]})})]})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[v.jsx(TC,{size:12}),"The Language of Music (Roman Numerals)"]}),v.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-4",children:[v.jsx("p",{className:"text-sm text-gray-300",children:'Musicians use roman numerals to talk about chords regardless of the specific key. This reveals the "DNA" of a song.'}),v.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:["I","ii","iii","IV","V","vi","vii"].map((t,s)=>v.jsxs("div",{className:`rounded p-2 flex flex-col items-center justify-between h-20 ${["I","IV","V"].includes(t)?"bg-accent-primary/20 border border-accent-primary/30":t==="vii"?"bg-red-500/10 border border-red-500/20":"bg-violet-500/15 border border-violet-500/25"}`,children:[v.jsx("span",{className:"font-bold text-white mb-1",children:t}),v.jsx("span",{className:"text-[10px] text-gray-400 leading-tight",children:s===0?"Tonic (Home)":s===3?"Subdom. (Away)":s===4?"Dominant (Tension)":s===5?"Rel. Minor":s===6?"Leading Tone":"Mediant"})]},t))}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs text-gray-400",children:[v.jsxs("div",{className:"p-2 rounded bg-bg-tertiary/50",children:[v.jsx("strong",{className:"text-accent-primary block mb-1",children:"Tonic (I, vi, iii)"}),"Stable, home base. Where songs usually start and end."]}),v.jsxs("div",{className:"p-2 rounded bg-bg-tertiary/50",children:[v.jsx("strong",{className:"text-accent-primary block mb-1",children:"Subdominant (IV, ii)"}),"Movement, drifting away from home. Creates interest."]}),v.jsxs("div",{className:"p-2 rounded bg-bg-tertiary/50",children:[v.jsx("strong",{className:"text-accent-primary block mb-1",children:"Dominant (V, vii)"}),"Tension, needing resolution. Pulls strongly back to I."]})]})]})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[v.jsx(EC,{size:12}),"Songwriting Toolkit"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[v.jsxs("h4",{className:"font-bold text-white mb-3 text-sm flex items-center gap-2",children:["Emotional Cadences (How Phrases End)",v.jsx(rg,{size:12,className:"text-accent-primary/50"}),v.jsxs("span",{className:"text-xs font-normal text-gray-500",children:["in ",e]})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:SL.map(t=>v.jsx(AL,{preset:t},t.id))})]}),v.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[v.jsxs("h4",{className:"font-bold text-white mb-3 text-sm flex items-center gap-2",children:["Famous Progressions",v.jsx(rg,{size:12,className:"text-accent-primary/50"}),v.jsxs("span",{className:"text-xs font-normal text-gray-500",children:["in ",e,"  tap to play  click + to add"]})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:_L.map(t=>v.jsx(NL,{preset:t,onAddToTimeline:n},t.id))})]})]})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[v.jsx(U3,{size:12}),"Adding Spice (Advanced)"]}),v.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-6",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-white mb-2 text-sm flex items-center gap-2",children:"1. Modal Interchange (Borrowed Chords)"}),v.jsx("p",{className:"text-sm text-gray-400 mb-3",children:'Steal chords from the parallel minor key to add "cinematic" emotion.'}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-xs",children:[v.jsxs("div",{className:"bg-bg-tertiary p-2 rounded border-l-2 border-indigo-500",children:[v.jsx("strong",{className:"text-white block",children:"Minor IV (iv)"}),v.jsx("span",{className:"text-gray-500",children:'"The Beatles Cadence". Gives a nostalgic, bittersweet ending. (Fm in key of C).'})]}),v.jsxs("div",{className:"bg-bg-tertiary p-2 rounded border-l-2 border-indigo-500",children:[v.jsx("strong",{className:"text-white block",children:"Flat VI (VI)"}),v.jsx("span",{className:"text-gray-500",children:'Epic, heroic, fantasy feeling. "Lord of the Rings" sound. (Ab in key of C).'})]}),v.jsxs("div",{className:"bg-bg-tertiary p-2 rounded border-l-2 border-indigo-500",children:[v.jsx("strong",{className:"text-white block",children:"Picardy Third"}),v.jsx("span",{className:"text-gray-500",children:"Ending a sad, minor song on a happy Major I chord. Pure sunshine."})]})]})]}),v.jsx("div",{className:"w-full h-px bg-white/5"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-white mb-2 text-sm",children:"2. Secondary Dominants"}),v.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Make a minor chord Major to create a magnetic pull to another chord."}),v.jsxs("div",{className:"bg-bg-tertiary p-3 rounded text-xs text-gray-300 italic",children:['"In C Major, play ',v.jsx("strong",{className:"text-white",children:"E Major (III)"}),". It pulls hard to ",v.jsx("strong",{className:"text-white",children:"Am"}),'. (Radiohead - Creep)"']})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-white mb-2 text-sm",children:"3. Tritone Substitution"}),v.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Jazz trick: Replace the V chord with a dominant chord exactly halfway around the circle (a tritone away)."}),v.jsxs("div",{className:"bg-bg-tertiary p-3 rounded text-xs text-gray-300 italic",children:['"Instead of G7  C, try ',v.jsx("strong",{className:"text-white",children:"Db7  C"}),'. Smooth chromatic slide."']})]})]}),v.jsx("div",{className:"w-full h-px bg-white/5"}),v.jsxs("div",{children:[v.jsxs("h4",{className:"font-bold text-white mb-3 text-sm flex items-center gap-2",children:["4. Secrets of the Pros",v.jsx("span",{className:"text-[10px] bg-purple-500/20 text-purple-400 px-1.5 py-0.5 rounded uppercase font-bold",children:"Expert"})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"p-3 rounded bg-bg-tertiary flex gap-3",children:[v.jsx("div",{className:"shrink-0 w-8 h-8 rounded bg-bg-elevated flex items-center justify-center font-bold text-accent-primary",children:"A"}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-white text-sm block",children:"Pedal Point"}),v.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Keep the bass note the same while changing chords on top. Creates massive tension and "floaty" feelings. (e.g., C/C  F/C  G/C).'})]})]}),v.jsxs("div",{className:"p-3 rounded bg-bg-tertiary flex gap-3",children:[v.jsx("div",{className:"shrink-0 w-8 h-8 rounded bg-bg-elevated flex items-center justify-center font-bold text-accent-primary",children:"B"}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-white text-sm block",children:"Line Clich"}),v.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'A single note moving down chromatically inside a static chord. think "Stairway to Heaven" or James Bond theme (Am  Am(maj7)  Am7  Am6).'})]})]}),v.jsxs("div",{className:"p-3 rounded bg-bg-tertiary flex gap-3",children:[v.jsx("div",{className:"shrink-0 w-8 h-8 rounded bg-bg-elevated flex items-center justify-center font-bold text-accent-primary",children:"C"}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-white text-sm block",children:"Relative Major/Minor Modulation"}),v.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Switching focus between I and vi. Use the exact same notes, but center your melody around Am instead of C to instantly change the mood from happy to sad."})]})]})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-white mb-2 text-sm",children:"5. Building Better Chords (Extensions)"}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs text-center",children:[v.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[v.jsx("strong",{className:"text-white block",children:"maj7"}),v.jsx("span",{className:"text-gray-500",children:"Dreamy, Jazz, Lo-fi"})]}),v.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[v.jsx("strong",{className:"text-white block",children:"dom7"}),v.jsx("span",{className:"text-gray-500",children:"Blues, Funk, Tension"})]}),v.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[v.jsx("strong",{className:"text-white block",children:"sus4"}),v.jsx("span",{className:"text-gray-500",children:"Open, airy, delayed"})]}),v.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[v.jsx("strong",{className:"text-white block",children:"add9"}),v.jsx("span",{className:"text-gray-500",children:"Rich, cinematic pop"})]})]})]})]})]})]})},TL=({isOpen:n,onClose:e,isEmbedded:t=!1})=>n?t?v.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col bg-[#1a1a24]",children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-[#22222e] shrink-0",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-6 h-6",children:v.jsx(_x,{size:24})}),v.jsx("h2",{className:"text-sm font-bold text-white",children:"Guide"})]}),v.jsx("button",{onClick:e,className:"p-1 hover:bg-bg-tertiary rounded transition-colors text-text-muted hover:text-white",children:v.jsx(bu,{size:16})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-6 sm:py-6 space-y-8",children:v.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:v.jsx(Sx,{onClose:e})})})]}):v.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center pointer-events-none",style:{paddingTop:"max(16px, env(safe-area-inset-top))",paddingBottom:"max(16px, env(safe-area-inset-bottom))",paddingLeft:"max(16px, env(safe-area-inset-left))",paddingRight:"max(16px, env(safe-area-inset-right))"},children:[v.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm cursor-pointer pointer-events-auto",onClick:e}),v.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-4xl w-full max-h-full overflow-hidden flex flex-col pointer-events-auto",children:[v.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-subtle bg-[#22222e]",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8",children:v.jsx(_x,{size:32})}),v.jsx("h2",{className:"text-lg font-bold text-white",children:"Chord Wheel Guide"})]}),v.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-tertiary rounded-lg transition-colors text-text-muted hover:text-white",children:v.jsx(bu,{size:20})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-8 sm:py-8 space-y-8",children:v.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:v.jsx(Sx,{onClose:e})})})]})]}):null,Nx="chordwheel_onboarding_seen",CL=({onDismiss:n,onOpenHelp:e})=>{const[t,s]=ne.useState(!1),[a,o]=ne.useState(!1);ne.useEffect(()=>{if(!localStorage.getItem(Nx)){const f=setTimeout(()=>s(!0),800);return()=>clearTimeout(f)}},[]);const u=()=>{o(!0),localStorage.setItem(Nx,"true"),setTimeout(()=>{s(!1),n?.()},300)};return t?v.jsxs("div",{className:`fixed inset-0 z-[100] flex items-center justify-center p-4 transition-all duration-300 ${a?"opacity-0":"opacity-100"}`,style:{paddingTop:"max(16px, env(safe-area-inset-top))",paddingBottom:"max(16px, env(safe-area-inset-bottom))",paddingLeft:"max(16px, env(safe-area-inset-left))",paddingRight:"max(16px, env(safe-area-inset-right))"},children:[v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md cursor-pointer",onClick:u}),v.jsxs("div",{className:`relative max-w-md w-full bg-gradient-to-b from-[#1e1e2a] to-[#151520] border border-white/10 rounded-2xl shadow-2xl overflow-hidden transition-all duration-300 ${a?"scale-95 opacity-0":"scale-100 opacity-100"}`,children:[v.jsx("div",{className:"absolute -top-20 -left-20 w-40 h-40 bg-accent-primary/30 rounded-full blur-3xl pointer-events-none"}),v.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl pointer-events-none"}),v.jsxs("div",{className:"relative px-6 pt-6 pb-4 flex items-center justify-between border-b border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center shadow-lg shadow-accent-primary/25",children:v.jsx(nk,{size:20,className:"text-white"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-bold text-white",children:"Welcome!"}),v.jsx("p",{className:"text-xs text-gray-400",children:"Quick start guide"})]})]}),v.jsx("button",{onClick:u,className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white",children:v.jsx(bu,{size:20})})]}),v.jsxs("div",{className:"relative px-6 py-5 space-y-4",children:[v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-accent-primary/10 border border-accent-primary/20 flex items-center justify-center group-hover:bg-accent-primary/20 transition-colors",children:v.jsx(P3,{size:18,className:"text-accent-primary"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Tap any chord"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Tap a chord on the wheel to hear it and see voicings, or ",v.jsx("strong",{className:"text-gray-300",children:"double-tap"})," to add it to your timeline."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-purple-500/10 border border-purple-500/20 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors",children:v.jsx(Bh,{size:18,className:"text-purple-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Change the key"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[v.jsx("strong",{className:"text-gray-300",children:"Drag the wheel"})," to rotate and change keys. Highlighted chords always sound good together."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center group-hover:bg-emerald-500/20 transition-colors",children:v.jsx(q3,{size:18,className:"text-emerald-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Add to your timeline"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Tap the ",v.jsx("strong",{className:"text-emerald-400",children:"+ Add"})," button, or ",v.jsx("strong",{className:"text-gray-300",children:"double-tap"})," any chord preview to place it on your timeline."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-amber-500/10 border border-amber-500/20 flex items-center justify-center group-hover:bg-amber-500/20 transition-colors",children:v.jsx(mp,{size:18,className:"text-amber-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Arrange your song"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Open the ",v.jsx("strong",{className:"text-gray-300",children:"Song Map"})," to see your full arrangement, reorder sections, and play back your progression."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-sky-500/10 border border-sky-500/20 flex items-center justify-center group-hover:bg-sky-500/20 transition-colors",children:v.jsx(p2,{size:18,className:"text-sky-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Export your chord sheet"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[v.jsx("strong",{className:"text-gray-300",children:"Tap the download icon"})," in the header to export a printable PDF with chords and guitar diagrams."]})]})]}),v.jsx("div",{className:"mt-5 p-3 rounded-xl bg-white/5 border border-white/10",children:v.jsxs("div",{className:"flex items-center justify-between gap-3",children:[v.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[v.jsx(FC,{size:14,className:"text-accent-primary shrink-0",style:{transform:"scaleX(-1)"}}),v.jsxs("span",{className:"flex items-center gap-1.5 flex-wrap",children:[v.jsx("strong",{className:"text-gray-300",children:"Tip:"})," Tap the",v.jsx("button",{onClick:()=>{u(),setTimeout(()=>e?.(),350)},className:"inline-flex items-center justify-center w-5 h-5 bg-bg-secondary/80 hover:bg-bg-tertiary rounded-full text-text-muted hover:text-accent-primary transition-colors border border-border-subtle/60",title:"Open full guide",children:v.jsx(ad,{size:12})}),"button anytime for the full guide."]})]}),v.jsx("div",{className:"shrink-0 w-16 h-16 relative",children:v.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[[...Array(12)].map((c,f)=>{const d=f*30,p=(d-15-90)*Math.PI/180,y=(d+15-90)*Math.PI/180,_=18,b=46,A=f<=4||f>=10;let N;A?f===0?N="rgba(234, 179, 8, 0.9)":f===1?N="rgba(163, 190, 60, 0.85)":f===2?N="rgba(132, 204, 22, 0.8)":f===3?N="rgba(74, 222, 128, 0.7)":f===4?N="rgba(45, 212, 191, 0.6)":f===11?N="rgba(251, 146, 60, 0.85)":f===10?N="rgba(168, 162, 158, 0.6)":N="rgba(200, 180, 100, 0.7)":N=["rgba(100, 80, 120, 0.5)","rgba(80, 70, 90, 0.5)","rgba(60, 55, 70, 0.5)"][f%3];const k=50+_*Math.cos(p),C=50+_*Math.sin(p),R=50+b*Math.cos(p),D=50+b*Math.sin(p),V=50+b*Math.cos(y),F=50+b*Math.sin(y),G=50+_*Math.cos(y),H=50+_*Math.sin(y);return v.jsx("path",{d:`M ${k} ${C} L ${R} ${D} A ${b} ${b} 0 0 1 ${V} ${F} L ${G} ${H} A ${_} ${_} 0 0 0 ${k} ${C}`,fill:N,stroke:"rgba(0, 0, 0, 0.3)",strokeWidth:"0.5"},f)}),v.jsx("circle",{cx:"50",cy:"50",r:"16",fill:"rgba(20, 20, 30, 0.95)",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"1"})]})})]})})]}),v.jsx("div",{className:"relative px-6 pb-6",children:v.jsx("button",{onClick:u,className:"w-full py-3 px-4 rounded-xl bg-gradient-to-r from-accent-primary to-purple-600 text-white font-semibold text-sm hover:opacity-90 transition-opacity shadow-lg shadow-accent-primary/25 active:scale-[0.98]",children:"Got it, let's go!"})})]})]}):null},kL=({isOpen:n,onClose:e,title:t,artist:s,tags:a,timeSignature:o,onSave:u})=>{const c=ne.useRef(null),f=ne.useRef(null),[d,p]=ne.useState(t),[y,_]=ne.useState(s),[b,A]=ne.useState(a),[N,k]=ne.useState(o),[C,R]=ne.useState("");if(ne.useEffect(()=>{n&&(p(t),_(s),A(a),k(o),R(""),setTimeout(()=>{f.current?.focus(),f.current?.select()},100))},[n,t,s,a,o]),ne.useEffect(()=>{if(!n)return;const M=B=>{B.key==="Escape"&&e()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[n,e]),!n)return null;const D=()=>{const M=d.trim()||"Untitled Song";u(M,y.trim(),b,N),e()},V=()=>{const M=C.trim();M&&!b.includes(M)&&(A([...b,M]),R(""))},F=M=>{A(b.filter(B=>B!==M))},G=M=>{M.key==="Enter"&&(M.preventDefault(),V())},H=M=>{M.key==="Enter"&&(M.preventDefault(),D())};return Cl.createPortal(v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-[99998] bg-black/40 backdrop-blur-[2px] animate-in fade-in duration-200",onClick:e}),v.jsxs("div",{ref:c,className:`fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[99999]
                           bg-bg-elevated border border-border-medium rounded-xl 
                           shadow-2xl shadow-black/50
                           animate-in fade-in zoom-in-95 duration-200`,style:{minWidth:"280px",maxWidth:"340px",width:"90vw"},children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-bg-secondary/50 rounded-t-xl",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[v.jsx("div",{className:"w-2 h-2 rounded-full shadow-[0_0_8px_rgba(99,102,241,0.5)] shrink-0",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)"}}),v.jsx("span",{className:"text-sm font-bold text-text-primary",children:"Song Info"})]}),v.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-bg-tertiary text-text-muted hover:text-text-primary transition-colors shrink-0",children:v.jsx(bu,{size:14})})]}),v.jsxs("div",{className:"p-4 space-y-4",children:[v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Song Title"}),v.jsx("input",{ref:f,type:"text",value:d,onChange:M=>p(M.target.value),onKeyDown:H,placeholder:"Untitled Song",maxLength:100,className:`w-full h-9 bg-bg-tertiary text-text-primary text-sm font-medium rounded-lg 
                                       px-3 border border-border-subtle 
                                       focus:outline-none focus:ring-1 focus:ring-accent-primary/50 focus:border-accent-primary`})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"By (Optional)"}),v.jsx("input",{type:"text",value:y,onChange:M=>_(M.target.value),onKeyDown:H,placeholder:"Artist or songwriter name",maxLength:100,className:`w-full h-9 bg-bg-tertiary text-text-primary text-sm font-medium rounded-lg 
                                       px-3 border border-border-subtle 
                                       focus:outline-none focus:ring-1 focus:ring-accent-primary/50 focus:border-accent-primary`})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Time Signature"}),v.jsxs("select",{value:`${N[0]}/${N[1]}`,onChange:M=>{const[B,te]=M.target.value.split("/").map(E=>parseInt(E,10));k([B,te])},className:`w-full h-9 bg-bg-tertiary text-text-primary text-sm font-medium rounded-lg 
                                       px-3 border border-border-subtle 
                                       focus:outline-none focus:ring-1 focus:ring-accent-primary/50 focus:border-accent-primary`,children:[v.jsx("option",{value:"4/4",children:"4/4 (Common Time)"}),v.jsx("option",{value:"3/4",children:"3/4 (Waltz)"}),v.jsx("option",{value:"2/4",children:"2/4 (March)"}),v.jsx("option",{value:"5/4",children:"5/4"}),v.jsx("option",{value:"6/8",children:"6/8 (Compound)"}),v.jsx("option",{value:"7/8",children:"7/8"}),v.jsx("option",{value:"12/8",children:"12/8"})]}),v.jsx("p",{className:"text-[10px] text-text-muted",children:"Default for new sections. Sections can override this."})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsxs("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider flex items-center gap-1.5",children:[v.jsx(ik,{size:10}),"Tags (Optional)"]}),b.length>0&&v.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2",children:b.map(M=>v.jsxs("span",{className:Ut("inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium","bg-accent-primary/15 text-accent-primary border border-accent-primary/30"),children:[M,v.jsx("button",{onClick:()=>F(M),className:"hover:text-red-400 transition-colors",title:`Remove "${M}"`,children:v.jsx(bu,{size:12})})]},M))}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"text",value:C,onChange:M=>R(M.target.value),onKeyDown:G,placeholder:"Add a tag...",maxLength:30,className:`flex-1 h-8 bg-bg-tertiary text-text-primary text-xs rounded-lg 
                                           px-3 border border-border-subtle 
                                           focus:outline-none focus:ring-1 focus:ring-accent-primary/50 focus:border-accent-primary`}),v.jsxs("button",{onClick:V,disabled:!C.trim(),className:Ut("h-8 px-3 rounded-lg text-xs font-medium transition-all","flex items-center gap-1",C.trim()?"bg-accent-primary/10 border border-accent-primary/30 text-accent-primary hover:bg-accent-primary/20 active:scale-95":"bg-bg-tertiary border border-border-subtle text-text-muted cursor-not-allowed"),children:[v.jsx($h,{size:12}),"Add"]})]}),v.jsx("p",{className:"text-[10px] text-text-muted",children:"Tags help you organize and filter your songs"})]}),v.jsx("button",{onClick:D,className:`w-full py-2.5 rounded-lg
                                   bg-accent-primary text-white font-bold text-sm
                                   hover:bg-accent-primary/90 active:scale-[0.98]
                                   transition-all shadow-lg shadow-accent-primary/25`,children:"Save"})]})]})]}),document.body)},jL=({mobileTimelineOpen:n,setMobileTimelineOpen:e,chordPanelVisible:t,setChordPanelScrolledToBottom:s})=>{const a=ne.useRef(0),[o,u]=ne.useState(0),c=ne.useRef(!1),f=t,d=!t,p=450,y=V=>{a.current=V.touches[0].clientY,c.current=!0,u(0)},_=V=>{if(!c.current)return;const F=a.current-V.touches[0].clientY;u(F)},b=()=>{if(!c.current)return;c.current=!1;const V=40;f&&o<-V&&(t&&sn.getState().toggleChordPanel(),n&&e(!1)),d&&o>V&&(n||e(!0),t||sn.getState().toggleChordPanel()),u(0)},A=()=>{Math.abs(o)<15&&(f?(t&&sn.getState().toggleChordPanel(),n&&e(!1)):(n||e(!0),t||sn.getState().toggleChordPanel()))},N=o!==0,k=f&&o<0?Math.min(400,-o*1.5):0,C=d&&o>0?Math.min(p,o*2):0,R=C>0,D=k>0;return v.jsxs("div",{className:"shrink-0 flex flex-col overflow-hidden",style:{maxHeight:D?`calc(65vh - ${k}px)`:"65vh",opacity:D?Math.max(.3,1-k/500):1,transition:N?"none":"all 0.25s ease-out"},children:[v.jsx("div",{className:"h-6 flex items-center justify-center bg-bg-secondary border-t border-border-subtle cursor-grab active:cursor-grabbing select-none",onTouchStart:y,onTouchMove:_,onTouchEnd:b,onClick:A,children:v.jsx(B3,{size:16,className:`text-text-muted transition-transform duration-200 ${f?"rotate-180":""}`})}),v.jsxs("div",{className:"flex-1 overflow-hidden",style:{maxHeight:R?`${C}px`:void 0,transition:N?"none":"max-height 0.25s ease-out"},children:[v.jsx(og,{isOpen:n||R,onToggle:()=>e(!n)}),v.jsx("div",{"data-chord-details":!0,className:"shrink-0 bg-bg-primary overflow-hidden",style:{maxHeight:n||R?"45vh":"55vh"},children:v.jsx(ug,{variant:"drawer",onScrollChange:s,forceVisible:R})})]})]})};function EL(){const{currentSong:n,selectedKey:e,timelineVisible:t,toggleTimeline:s,selectedSectionId:a,selectedSlotId:o,clearSlot:u,clearTimeline:c,setTitle:f,setArtist:d,setTags:p,setSongTimeSignature:y,loadSong:_,newSong:b,instrument:A,volume:N,isMuted:k,undo:C,redo:R,canUndo:D,canRedo:V,chordPanelVisible:F,isPlaying:G,songInfoModalVisible:H,toggleSongInfoModal:M}=sn();ne.useEffect(()=>{v2(A)},[A]),ne.useEffect(()=>{X3(N)},[N]),ne.useEffect(()=>{Z3(k)},[k]);const[B,te]=ne.useState(!1),[E,I]=ne.useState(()=>{if(typeof window>"u")return 1;const Ae=window.innerWidth,ft=window.innerHeight;return Ae<768||ft<500&&ft<Ae?1.25:1}),[re,U]=ne.useState(50),[oe,Y]=ne.useState({x:0,y:0}),J=ne.useRef(null),[le,pe]=ne.useState(()=>typeof window>"u"?200:Math.max(200,Math.floor(window.innerWidth*.33))),[be,W]=ne.useState(()=>{if(typeof window>"u")return 500;const Ae=window.innerWidth,pt=window.innerHeight-48-56-152-32,nt=Ae-380-40;return Math.max(300,Math.min(nt,pt))}),[j,$]=ne.useState(()=>typeof window<"u"?window.innerWidth<768||window.innerHeight<500&&window.innerHeight<window.innerWidth:!1),[X,K]=ne.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerHeight<500:!1),ae=ne.useRef(!1),de=ne.useRef(!1),[fe,xe]=ne.useState(!1),we=ne.useRef(null),[Ie,$e]=ne.useState(!1),[Je,ct]=ne.useState(!1),z=ne.useRef(null),Ne=ne.useRef(!1);ne.useEffect(()=>{if(!j)return;if(X&&!Ne.current)Ne.current=!0,z.current=sn.getState().chordPanelVisible,xe(!0),$e(!0),sn.getState().chordPanelVisible||sn.getState().toggleChordPanel();else if(!X&&Ne.current){Ne.current=!1;const nt=sn.getState().chordPanelVisible,Nt=z.current;Nt!==null&&nt!==Nt&&sn.getState().toggleChordPanel(),$e(!1),z.current=null}const Ae=()=>{xe(!0)},ft=()=>{we.current&&clearTimeout(we.current),we.current=setTimeout(Ae,1e4)},pt=nt=>{const Nt=nt.target,ln=Nt.closest("[data-chord-details]"),vn=Nt.closest("[data-playback-controls]"),Nn=Nt.closest("[data-mobile-timeline]"),Wt=Nt.closest("header"),nn=Nt.closest("[data-wheel-background]"),pn=Nt.closest("button"),cr=Nt.tagName==="path"||Nt.tagName==="circle"||Nt.tagName==="text"||Nt.tagName==="polygon"||Nt.tagName==="g"&&Nt.style.cursor==="pointer"||Nt.closest('g[style*="cursor: pointer"]')||Nt.closest('g[class*="cursor-pointer"]'),_n=!X&&sn.getState().chordPanelVisible;nn&&!ln&&!vn&&!Nn&&!Wt&&!pn&&!cr&&!_n&&(xe(gn=>!gn),we.current&&clearTimeout(we.current),ft())};return document.addEventListener("touchstart",pt),ft(),()=>{document.removeEventListener("touchstart",pt),we.current&&clearTimeout(we.current)}},[j,X]);const[rt,qe]=ne.useState(!1),Ee=ne.useRef(null),Ke=ne.useCallback(()=>{!j||!X||(qe(!0),Ee.current&&clearTimeout(Ee.current),Ee.current=setTimeout(()=>{qe(!1)},3e3))},[j,X]);ne.useEffect(()=>()=>{Ee.current&&clearTimeout(Ee.current)},[]),ne.useEffect(()=>{if(!j)return;const Ae=()=>{$e(!0)};return window.addEventListener("openMobileTimeline",Ae),()=>window.removeEventListener("openMobileTimeline",Ae)},[j]),ne.useEffect(()=>{if(!j)return;const Ae=sn.getState();Ie&&!Ae.timelineVisible?sn.setState({timelineVisible:!0}):!Ie&&Ae.timelineVisible&&sn.setState({timelineVisible:!1})},[j,Ie]),ne.useEffect(()=>{const Ae=()=>{const ft=window.innerWidth,pt=window.innerHeight,nt=ft<768||pt<500&&pt<ft,Nt=pt<ft&&pt<500;if($(nt),K(Nt),nt&&Nt){const vn=Math.max(200,Math.floor(ft*.33));pe(vn)}if(!nt){const vn=sn.getState().timelineVisible?152:24,Nn=pt-48-56-vn-32,Wt=ft-380-40;W(Math.max(300,Math.min(Wt,Nn)))}const ln=sn.getState();nt&&!de.current&&(ln.timelineVisible&&ln.toggleTimeline(),ln.chordPanelVisible&&ln.toggleChordPanel(),de.current=!0),!nt&&ae.current&&!ln.chordPanelVisible&&(ln.toggleChordPanel(),ae.current=!1)};return Ae(),window.addEventListener("resize",Ae),window.addEventListener("orientationchange",Ae),()=>{window.removeEventListener("resize",Ae),window.removeEventListener("orientationchange",Ae)}},[]),ne.useEffect(()=>{if(j)return;const Ae=window.innerWidth,ft=window.innerHeight,pt=t?152:24,nt=ft-48-56-pt-32,Nt=Ae-380-40;W(Math.max(300,Math.min(Nt,nt)))},[t,j]);const We=ne.useCallback((Ae,ft)=>{I(Ae),U(ft)},[]),lt=ne.useCallback(()=>{const Ae=Math.min(2.5,E+.2);I(Ae),U(Ae>1.3?38:50)},[E]),at=ne.useCallback(()=>{const Ae=Math.max(.2,E-.2);I(Ae),U(Ae>1.3?38:50)},[E]),ze=ne.useCallback(Ae=>{Y(Ae)},[]),st=ne.useMemo(()=>j&&(X||F)?90:0,[j,X,F]),et=j&&(X||F);ne.useEffect(()=>{if(j)if(et)if(J.current||(J.current={zoom:E,origin:re,pan:{...oe}}),X){const Ae=window.innerHeight,ft=1.65,pt=Math.max(.9,Math.min(1.1,Ae/400)),nt=ft*pt;I(nt),U(48),Y({x:-35,y:0})}else I(1.42),U(42),Y({x:-35,y:-30});else J.current&&(I(J.current.zoom),U(J.current.origin),Y(J.current.pan),J.current=null)},[et,X,j]);const ut=()=>{M(!0)},xt=(Ae,ft,pt,nt)=>{f(Ae),d(ft),p(pt),y(nt)},dt=ne.useMemo(()=>{const Ae=n.sections.reduce((ln,vn)=>{const Nn=vn.measures.reduce((Wt,nn)=>Wt+nn.beats.reduce((pn,cr)=>pn+cr.duration,0),0);return ln+Nn},0),ft=n.tempo/60,pt=Ae/ft,nt=Math.floor(pt/60),Nt=Math.floor(pt%60);return`${nt}:${Nt.toString().padStart(2,"0")}`},[n.sections,n.tempo]),[yt,ht]=ne.useState(!1);ne.useEffect(()=>{const Ae=async()=>{try{g2(),await _u(),await Lc(),ht(!0)}catch(pt){console.error("Audio initialization failed:",pt)}},ft=async()=>{yt||(await b2(),Ae())};return document.addEventListener("touchstart",ft,{once:!0}),document.addEventListener("click",ft,{once:!0}),()=>{document.removeEventListener("touchstart",ft),document.removeEventListener("click",ft)}},[yt]),ne.useEffect(()=>{const Ae=ft=>{if((ft.key==="Delete"||ft.key==="Backspace")&&a&&o){if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;ft.preventDefault(),u(a,o)}};return window.addEventListener("keydown",Ae),()=>window.removeEventListener("keydown",Ae)},[a,o,u]),ne.useEffect(()=>{const Ae=ft=>{const pt=ft.target;pt?.tagName==="INPUT"||pt?.tagName==="TEXTAREA"||pt?.isContentEditable||ft.metaKey&&ft.key.toLowerCase()==="z"&&(ft.preventDefault(),ft.shiftKey?V&&R():D&&C())};return window.addEventListener("keydown",Ae),()=>window.removeEventListener("keydown",Ae)},[C,R,D,V]);const[bn,Ht]=ne.useState(!1),[Tt,St]=ne.useState([]),At=ne.useRef(null);ne.useEffect(()=>{St(ed())},[]),ne.useEffect(()=>{const Ae=ft=>{At.current&&!At.current.contains(ft.target)&&Ht(!1)};return document.addEventListener("mousedown",Ae),()=>document.removeEventListener("mousedown",Ae)},[]);const bt=()=>{if(n.title==="Untitled Song"||!n.title.trim()){const Ae=prompt("Please name your song:",n.title);if(Ae===null)return;const ft=Ae.trim()||"Untitled Song";f(ft);const pt={...n,title:ft};wx(pt)}else wx(n);St(ed()),Ht(!1)},on=Ae=>{_(Ae),Ht(!1)},[Mt,Dt]=ne.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),xn=()=>{Dt({isOpen:!0,title:"New Song",message:"Start a new song? Unsaved changes will be lost.",confirmLabel:"Start New",isDestructive:!0,onConfirm:()=>{b(),Ht(!1)}})},vt=(Ae,ft,pt)=>{pt.stopPropagation(),Dt({isOpen:!0,title:"Delete Song",message:`Are you sure you want to delete "${ft}"? This cannot be undone.`,confirmLabel:"Delete",isDestructive:!0,onConfirm:()=>{bL(Ae),St(ed())}})},_e=152,it=()=>{const Ae=new Ft,ft=Ae.internal.pageSize.getWidth(),pt=20,nt=4,ln=n.sections.reduce((Fe,gt)=>{const Ct=(gt.timeSignature||n.timeSignature)[0];return Fe+gt.measures.length*Ct},0)/n.tempo*60,vn=Math.floor(ln/60),Nn=Math.floor(ln%60),Wt=`${vn}:${Nn.toString().padStart(2,"0")}`,nn=n.sections.reduce((Fe,gt)=>Fe+gt.measures.length,0),pn=n.sections.length;if(Ae.setFontSize(22),Ae.setFont("helvetica","bold"),Ae.setTextColor(0,0,0),Ae.text(n.title,pt,18),n.artist&&n.artist.trim()){const Fe=Ae.getTextWidth(n.title);Ae.setFontSize(14),Ae.setFont("helvetica","italic"),Ae.setTextColor(100,100,100),Ae.text(`by ${n.artist}`,pt+Fe+6,18),Ae.setTextColor(0,0,0)}Ae.setDrawColor(0,0,0),Ae.setLineWidth(.5),Ae.line(pt,22,ft-pt,22),Ae.setFontSize(10),Ae.setFont("helvetica","normal");const cr=[`Key: ${ar(e)}`,`${n.timeSignature[0]}/${n.timeSignature[1]}`,`Tempo: ${n.tempo} BPM`,`Duration: ${Wt}`,`${pn} sections`,`${nn} bars`];Ae.text(cr.join("      "),pt,30);let _n=48;const gn=new Set;if(n.sections.forEach(Fe=>{const gt=Fe.measures.map(zt=>{const Jt=zt.beats.length;return zt.beats.forEach(Vn=>{if(Vn.chord){const Wn=Vn.chord.root,hr={major:"maj",minor:"m",diminished:"dim",augmented:"aug",major7:"maj7",minor7:"m7",dominant7:"7",halfDiminished7:"m7b5",sus2:"sus2",sus4:"sus4"}[Vn.chord.quality]||Vn.chord.quality||"maj";gn.add(`${Wn}|${hr}`)}}),Jt===1?zt.beats[0]?.chord?.symbol||"":Jt===2?zt.beats.map(Vn=>Vn.chord?.symbol||"").join(" "):zt.beats.map(Vn=>Vn.chord?.symbol||"").join(" ")}),Gt=gt.length===0?1:Math.ceil(gt.length/nt),cn=10+(gt.length===0?12:Gt*10)+6;if(_n>48&&_n+cn>280&&(Ae.addPage(),_n=20),Ae.setFontSize(14),Ae.setFont("helvetica","bold"),Ae.setTextColor(0,0,0),Ae.text(`[${$f(Fe,n.sections)}]`,pt,_n),_n+=10,Ae.setFontSize(14),Ae.setFont("helvetica","normal"),gt.length===0)Ae.text("(No chords)",pt,_n),_n+=12;else for(let zt=0;zt<gt.length;zt+=nt){const Vn=gt.slice(zt,zt+nt).join("  |  ");Ae.text(Vn,pt,_n),_n+=10}_n+=6}),gn.size>0){const Fe=Array.from(gn),gt=245,Gt=5,zt=Fe.length*(22+Gt)>gt,Jt=zt?18:22,Vn=zt?18:20,Wn=zt?22:25,ur=zt?155:170;let hr=0,ts=35;const Hs=zt?Math.ceil(Fe.length/2):Fe.length;Ae.setPage(1),Fe.forEach((wi,Yi)=>{const[Mr,Ls]=wi.split("|"),Ws=iw(Mr,Ls);if(!Ws)return;zt&&Yi===Hs&&(hr=1,ts=35);const Sn=hr*Wn,ha=`${Mr}${Ls==="maj"?"":Ls}`;Ae.setFontSize(zt?6:7),Ae.setFont("helvetica","bold"),Ae.setTextColor(0,0,0),Ae.text(ha,ur+Sn+Vn/2+2,ts,{align:"center"}),Vt(Ae,Ws,ur+Sn,ts+3,zt),ts+=Jt+Gt})}const Ln=(Fe,gt)=>{const Ct={intro:"In",verse:"V","pre-chorus":"PC",chorus:"C",bridge:"Br",interlude:"Int",solo:"So",breakdown:"Bd",tag:"Tg",hook:"Hk",outro:"Out"}[Fe.type]||Fe.type.charAt(0).toUpperCase(),cn=gt.filter(zt=>zt.type===Fe.type);if(cn.length>1){const zt=cn.findIndex(Jt=>Jt.id===Fe.id)+1;return`${Ct}${zt}`}return Ct},xr=Fe=>{const cn=ft-pt*2,zt=n.sections.reduce((Vn,Wn)=>Vn+Wn.measures.length,0);if(zt===0)return;let Jt=pt;Fe.setDrawColor(0,0,0),Fe.setLineWidth(.4),n.sections.forEach(Vn=>{const Wn=Vn.measures.length/zt*cn,ur=Jt+2,hr=Jt+Wn-2;Fe.line(ur,285,hr,285),Fe.line(ur,281,ur,289),Fe.line(hr,281,hr,289);const ts=Ln(Vn,n.sections);Fe.setFontSize(7),Fe.setFont("helvetica","normal"),Fe.setTextColor(0,0,0),Fe.text(ts,Jt+Wn/2,278,{align:"center"}),Jt+=Wn})},br=Ae.getNumberOfPages();for(let Fe=1;Fe<=br;Fe++)Ae.setPage(Fe),xr(Ae);const cs=`${n.title.replace(/\s+/g,"-").toLowerCase()}.pdf`,ke=Ae.output("blob");if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const Fe=URL.createObjectURL(ke);window.open(Fe,"_blank"),setTimeout(()=>URL.revokeObjectURL(Fe),1e4)}else gL.saveAs(ke,cs)},Vt=(Ae,ft,pt,nt,Nt=!1)=>{const{frets:ln,barres:vn,baseFret:Nn}=ft,Wt=Nt?2.5:3,nn=Nt?3:4,pn=4,cr=6,_n=Nt?1:1.2,gn=Array.from({length:cr},(ke,Ve)=>pt+Ve*Wt),Ln=Array.from({length:pn+1},(ke,Ve)=>nt+Ve*nn),xr=Nn===1,br=Wt*(cr-1),cs=nn*pn;Ae.setDrawColor(0,0,0),xr?(Ae.setLineWidth(1),Ae.line(pt,nt,pt+br,nt)):(Ae.setLineWidth(.3),Ae.line(pt,nt,pt+br,nt),Ae.setFontSize(Nt?6:7),Ae.setFont("helvetica","bold"),Ae.text(Nn.toString(),pt-3,nt+nn/2+1)),Ae.setLineWidth(.2),Ln.slice(1).forEach(ke=>{Ae.line(pt,ke,pt+br,ke)}),gn.forEach(ke=>{Ae.line(ke,nt,ke,nt+cs)}),vn.forEach(ke=>{const Ve=ln.map((Ct,cn)=>({fret:Ct,idx:cn})).filter(({fret:Ct})=>Ct===ke);if(Ve.length<2)return;const Fe=Math.min(...Ve.map(Ct=>Ct.idx)),gt=Math.max(...Ve.map(Ct=>Ct.idx)),Gt=nt+(ke-.5)*nn;Ae.setLineWidth(_n*1.4),Ae.line(gn[Fe],Gt,gn[gt],Gt),Ae.setLineWidth(.2)}),ln.forEach((ke,Ve)=>{const Fe=gn[Ve];if(ke===-1){Ae.setFontSize(Nt?6:7),Ae.setFont("helvetica","bold"),Ae.text("x",Fe,nt-1,{align:"center"});return}if(ke===0){Ae.setLineWidth(.3),Ae.circle(Fe,nt-1.5,.8,"S");return}if(vn.includes(ke)){const Ct=ln.findIndex(cn=>cn===ke);if(Ve!==Ct)return}const Gt=nt+(ke-.5)*nn;Ae.setFillColor(0,0,0),Ae.circle(Fe,Gt,_n,"F")})};return v.jsxs("div",{className:"h-full w-full flex flex-col bg-bg-primary text-text-primary overflow-hidden",children:[v.jsxs("header",{className:`${j?"h-14":"h-12"} border-b border-border-subtle grid grid-cols-[1fr_auto_1fr] items-center ${j?"px-4":"px-3"} bg-bg-secondary shrink-0 z-20 transition-all duration-300 ease-out ${j&&!X&&(fe||F)||j&&X&&!rt?"opacity-0 -translate-y-full pointer-events-none absolute top-0 left-0 right-0":"relative"}`,children:[v.jsx("div",{className:"flex items-center gap-2 shrink-0",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"relative",children:v.jsx(Aj,{size:j?32:24})}),v.jsx("span",{className:`font-bold ${j?"text-xs":"text-sm"} tracking-tight hidden sm:block text-text-muted`,children:"Songwriter's Wheel"})]})}),v.jsx("div",{className:"flex items-center justify-center overflow-hidden",children:v.jsx("span",{onClick:ut,className:`${j?"text-xs":"text-sm"} font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors px-2 py-1 rounded text-center truncate max-w-[70vw]`,title:"Click to edit song info",children:n.title})}),v.jsxs("div",{className:`flex items-center ${j?"gap-3":"gap-4"} shrink-0 justify-self-end`,children:[!j&&v.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[v.jsx(dC,{size:11,className:"shrink-0"}),v.jsx("span",{className:"leading-none",children:dt})]}),v.jsxs("div",{className:`flex items-center gap-2 p-[10px] ${j?"text-xs":"text-[10px]"} text-text-muted`,children:[v.jsx("span",{className:"uppercase font-bold",children:"Key"}),v.jsx("span",{className:`font-bold text-accent-primary ${j?"text-base":"text-sm"} min-w-[1.5rem] text-center inline-block`,children:ar(e)})]}),v.jsxs("div",{className:"relative",ref:At,children:[v.jsxs("button",{onClick:()=>Ht(!bn),className:`flex items-center gap-1.5 ${j?"text-xs px-2 py-1.5 min-w-[44px]":"text-[11px] px-2 py-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback`,children:[v.jsx(Vv,{size:j?16:12}),v.jsx("span",{className:"hidden sm:inline",children:"Save"}),v.jsx(Yf,{size:j?12:10,className:`transition-transform ${bn?"rotate-180":""}`})]}),bn&&v.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-[#1a1a24] border border-border-medium rounded-lg shadow-2xl z-50 overflow-hidden",children:[v.jsxs("div",{className:"p-1.5 border-b border-border-subtle bg-[#22222e]",children:[v.jsxs("button",{onClick:bt,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[v.jsx(Vv,{size:14,className:"text-accent-primary"}),"Save Current Song"]}),v.jsxs("button",{onClick:xn,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[v.jsx(xC,{size:14,className:"text-green-400"}),"New Song"]})]}),v.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#1a1a24]",children:Tt.length===0?v.jsx("p",{className:"px-3 py-4 text-[10px] text-gray-500 text-center",children:"No saved songs yet"}):v.jsxs("div",{className:"p-1.5",children:[v.jsx("p",{className:"px-2 py-1 text-[9px] text-gray-500 uppercase tracking-wider",children:"Saved Songs"}),Tt.map(Ae=>v.jsxs("div",{onClick:()=>on(Ae),className:`flex items-center justify-between px-3 py-2 text-xs rounded cursor-pointer transition-colors ${Ae.id===n.id?"bg-accent-primary/20 text-accent-primary":"text-gray-300 hover:bg-[#2a2a3a]"}`,children:[v.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[v.jsx(_C,{size:12,className:"shrink-0"}),v.jsx("span",{className:"truncate",children:Ae.title})]}),v.jsx("button",{onClick:ft=>vt(Ae.id,Ae.title,ft),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400 shrink-0",children:v.jsx(ng,{size:10})})]},Ae.id))]})})]})]}),v.jsxs("button",{onClick:it,className:`flex items-center justify-center ${j?"text-xs px-3 py-1.5 min-w-[44px] min-h-[44px]":"text-[11px] px-2.5 py-1 gap-1.5"} bg-text-primary text-bg-primary rounded font-medium hover:bg-white transition-colors touch-feedback`,children:[v.jsx(p2,{size:j?16:12}),v.jsx("span",{className:"hidden sm:inline sm:ml-1.5",children:"Export"})]})]})]}),v.jsxs("div",{className:`flex-1 flex ${j?X?"flex-row":"flex-col":"flex-row"} overflow-hidden min-h-0`,children:[v.jsxs("div",{"data-wheel-background":!0,className:`flex flex-col min-w-0 min-h-0 bg-gradient-to-b from-bg-primary to-bg-secondary/30 ${j&&X?"shrink-0":"flex-1"} ${j?"overflow-hidden":""} relative`,style:j&&X?{width:`${le}px`,minWidth:"200px",height:"100%"}:void 0,children:[v.jsxs("div",{className:`flex-1 flex flex-col ${j&&!X?"justify-center":j&&X?"justify-center items-center":"justify-center items-center pt-2"} ${j?"overflow-hidden":"overflow-visible"}`,children:[j?null:v.jsxs("div",{className:"flex justify-end gap-2 px-2 shrink-0 w-full",children:[v.jsxs("div",{className:"flex items-center bg-bg-secondary/60 backdrop-blur-sm rounded-full px-0.5 border border-border-subtle/40",children:[v.jsx("button",{onClick:at,disabled:E<=.2,className:"no-touch-enlarge w-4 h-4 flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors",title:"Zoom out",children:v.jsx(IC,{size:8})}),v.jsxs("span",{className:"text-[7px] w-5 text-text-muted text-center font-medium",children:[Math.round(E*100),"%"]}),v.jsx("button",{onClick:lt,disabled:E>=2.5,className:"no-touch-enlarge w-4 h-4 flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors",title:"Zoom in",children:v.jsx($h,{size:8})})]}),v.jsx("button",{onClick:()=>te(!0),className:"no-touch-enlarge w-8 h-8 flex items-center justify-center bg-bg-secondary/60 hover:bg-bg-tertiary backdrop-blur-sm rounded-full text-text-muted hover:text-accent-primary transition-colors border border-border-subtle/40",title:"Chord Wheel Guide",children:v.jsx(ad,{size:16})})]}),v.jsx("div",{className:`flex-1 flex justify-center ${j?"items-center":""} ${j&&X?"p-1 overflow-hidden":j&&!X?"px-0 py-0":"p-2 overflow-visible"}`,onClick:Ke,children:v.jsx("div",{className:"relative flex items-center justify-center",style:j&&X?{width:"calc(100dvh - 60px)",height:"calc(100dvh - 60px)",maxWidth:"100%",maxHeight:"100%",aspectRatio:"1 / 1"}:j&&!X?{width:fe?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",height:fe?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",maxWidth:fe?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",maxHeight:fe?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",aspectRatio:"1 / 1"}:{width:`${be}px`,height:`${be}px`,aspectRatio:"1 / 1"},children:v.jsx(yk,{zoomScale:E,zoomOriginY:re,onZoomChange:We,panOffset:oe,onPanChange:ze,rotationOffset:st,disableModeToggle:st!==0,footerVisible:G||!(j&&!X&&(fe||F&&!Je))})})})]}),j&&v.jsx("button",{onClick:()=>te(!0),onTouchEnd:Ae=>{Ae.preventDefault(),Ae.stopPropagation(),te(!0)},className:`absolute ${X?"top-2 right-2 w-8 h-8":"top-3 right-3 w-11 h-11"} flex items-center justify-center bg-bg-secondary/90 hover:bg-bg-tertiary backdrop-blur-sm rounded-full text-text-muted hover:text-accent-primary transition-colors shadow-lg border border-border-subtle z-50`,style:{touchAction:"auto",pointerEvents:"auto"},title:"Chord Wheel Guide",children:v.jsx(ad,{size:X?14:20})}),j?null:t?v.jsx(v.Fragment,{children:v.jsxs("div",{className:"shrink-0 bg-bg-secondary border-t border-border-subtle overflow-hidden flex flex-col",style:{height:_e},children:[v.jsxs("div",{className:"shrink-0 flex items-center justify-between px-2 py-1 border-b border-border-subtle/50 bg-bg-elevated/80",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsxs("button",{onClick:C,disabled:!D,className:"no-touch-enlarge flex items-center gap-1 px-2 py-1 rounded-md bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Undo (Z)",children:[v.jsx(gp,{size:12}),v.jsx("span",{className:"text-[9px] font-medium uppercase tracking-wide",children:"Undo"})]}),v.jsxs("button",{onClick:R,disabled:!V,className:"no-touch-enlarge flex items-center gap-1 px-2 py-1 rounded-md bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Redo (Z)",children:[v.jsx(Bh,{size:12}),v.jsx("span",{className:"text-[9px] font-medium uppercase tracking-wide",children:"Redo"})]})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsxs("button",{onClick:()=>{Dt({isOpen:!0,title:"Clear Timeline",message:"Are you sure you want to clear all chords from the timeline? This action cannot be undone.",confirmLabel:"Clear",isDestructive:!0,onConfirm:c})},className:"no-touch-enlarge text-[8px] px-1 py-0.5 text-text-muted hover:text-red-400 rounded hover:bg-red-400/10 transition-colors flex items-center gap-0.5",title:"Clear all chords from timeline",children:[v.jsx(ng,{size:8}),v.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Clear"})]}),v.jsxs("button",{onClick:s,className:"no-touch-enlarge text-[8px] px-1 py-0.5 text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors flex items-center gap-0.5",title:"Hide timeline",children:[v.jsx(Yf,{size:8}),v.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Hide"})]})]})]}),v.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:v.jsx(og,{isOpen:!0,onToggle:s,hideCloseButton:!0,isCompact:!1,isLandscape:!1})})]})}):v.jsx("div",{className:"h-6 bg-bg-secondary border-t border-border-subtle flex items-center justify-center shrink-0",children:v.jsxs("button",{onClick:s,className:"px-3 h-full flex items-center gap-1 text-[8px] text-text-muted hover:text-text-primary hover:bg-bg-tertiary transition-colors",title:"Show timeline",children:[v.jsx(B3,{size:10}),v.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Timeline"})]})})]}),j&&X?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:`flex h-full ${Ie?"flex-1":"justify-end"} shrink-0`,style:{minWidth:Ie?"100px":"28px",transition:"all 0.25s ease-out"},children:[v.jsxs("div",{className:`h-full flex flex-col items-center justify-center cursor-pointer touch-feedback active:bg-bg-tertiary border-l border-border-subtle shrink-0 ${Ie?"bg-bg-elevated":"bg-bg-secondary"}`,style:{width:"28px"},onClick:()=>{Ie&&!F&&sn.getState().toggleChordPanel(),$e(!Ie)},children:[v.jsx("div",{className:"h-10 w-1 rounded-full bg-text-muted/50 mb-2"}),v.jsx("span",{className:"text-[9px] font-bold text-text-muted uppercase tracking-wide",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:Ie?"":"Timeline"})]}),Ie&&v.jsx("div",{className:"flex-1 h-full bg-bg-secondary overflow-hidden border-l border-border-subtle",children:v.jsx(og,{isOpen:!0,onToggle:()=>$e(!1),hideCloseButton:!0,isCompact:F,isLandscape:!0})})]}),v.jsxs("div",{className:`flex h-full ${F?"flex-1":""} shrink-0`,style:{minWidth:F?"100px":"28px",transition:"all 0.25s ease-out"},children:[F&&v.jsx("div",{className:"flex-1 h-full bg-bg-secondary overflow-hidden border-l border-border-subtle","data-chord-details":!0,children:v.jsx(ug,{variant:Ie?"landscape-panel":"landscape-expanded"})}),v.jsxs("div",{className:`h-full flex flex-col items-center justify-center cursor-pointer touch-feedback active:bg-bg-tertiary border-l border-border-subtle shrink-0 ${F?"bg-bg-elevated":"bg-bg-secondary"}`,style:{width:"28px"},onClick:()=>{F&&!Ie&&$e(!0),sn.getState().toggleChordPanel()},children:[v.jsx("div",{className:"h-10 w-1 rounded-full bg-text-muted/50 mb-2"}),v.jsx("span",{className:"text-[9px] font-bold text-text-muted uppercase tracking-wide",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:F?"":"Details"})]})]})]}):j?null:v.jsx(ug,{variant:"sidebar"})]}),j&&!X&&v.jsx(jL,{mobileTimelineOpen:Ie,setMobileTimelineOpen:$e,chordPanelVisible:F,setChordPanelScrolledToBottom:ct}),(G||!(j&&!X&&(fe||F&&!Je)))&&v.jsx("div",{className:"shrink-0 z-30 relative",style:{paddingBottom:j?"env(safe-area-inset-bottom)":void 0},children:v.jsx(Mk,{})}),v.jsx(vL,{isOpen:Mt.isOpen,onClose:()=>Dt(Ae=>({...Ae,isOpen:!1})),onConfirm:Mt.onConfirm,title:Mt.title,message:Mt.message,confirmLabel:Mt.confirmLabel,isDestructive:Mt.isDestructive}),v.jsx(Nj,{}),v.jsx(TL,{isOpen:B,onClose:()=>te(!1)}),v.jsx(kL,{isOpen:H,onClose:()=>M(!1),title:n.title,artist:n.artist||"",tags:n.tags||[],timeSignature:n.timeSignature,onSave:xt}),v.jsx(CL,{onOpenHelp:()=>te(!0)})]})}F_.createRoot(document.getElementById("root")).render(v.jsx(ne.StrictMode,{children:v.jsx(EL,{})}));export{Jn as _,S1 as c,j_ as g};
