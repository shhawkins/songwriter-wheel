(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var iM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M3(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Fm={exports:{}},bf={};var gv;function L3(){if(gv)return bf;gv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var h=null;if(o!==void 0&&(h=""+o),a.key!==void 0&&(h=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:i,type:r,key:h,ref:a!==void 0?a:null,props:o}}return bf.Fragment=e,bf.jsx=t,bf.jsxs=t,bf}var vv;function D3(){return vv||(vv=1,Fm.exports=L3()),Fm.exports}var L=D3(),Pm={exports:{}},Yt={};var yv;function j3(){if(yv)return Yt;yv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function y(X){return X===null||typeof X!="object"?null:(X=w&&X[w]||X["@@iterator"],typeof X=="function"?X:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function C(X,T,H){this.props=X,this.context=T,this.refs=k,this.updater=H||N}C.prototype.isReactComponent={},C.prototype.setState=function(X,T){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,T,"setState")},C.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function P(){}P.prototype=C.prototype;function F(X,T,H){this.props=X,this.context=T,this.refs=k,this.updater=H||N}var z=F.prototype=new P;z.constructor=F,A(z,C.prototype),z.isPureReactComponent=!0;var q=Array.isArray;function J(){}var Y={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function R(X,T,H){var ee=H.ref;return{$$typeof:i,type:X,key:T,ref:ee!==void 0?ee:null,props:H}}function Z(X,T){return R(X.type,T,X.props)}function E(X){return typeof X=="object"&&X!==null&&X.$$typeof===i}function j(X){var T={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(H){return T[H]})}var U=/\/+/g;function $(X,T){return typeof X=="object"&&X!==null&&X.key!=null?j(""+X.key):T.toString(36)}function ue(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(J,J):(X.status="pending",X.then(function(T){X.status==="pending"&&(X.status="fulfilled",X.value=T)},function(T){X.status==="pending"&&(X.status="rejected",X.reason=T)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function Q(X,T,H,ee,ie){var oe=typeof X;(oe==="undefined"||oe==="boolean")&&(X=null);var pe=!1;if(X===null)pe=!0;else switch(oe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(X.$$typeof){case i:case e:pe=!0;break;case m:return pe=X._init,Q(pe(X._payload),T,H,ee,ie)}}if(pe)return ie=ie(X),pe=ee===""?"."+$(X,0):ee,q(ie)?(H="",pe!=null&&(H=pe.replace(U,"$&/")+"/"),Q(ie,T,H,"",function(_e){return _e})):ie!=null&&(E(ie)&&(ie=Z(ie,H+(ie.key==null||X&&X.key===ie.key?"":(""+ie.key).replace(U,"$&/")+"/")+pe)),T.push(ie)),1;pe=0;var fe=ee===""?".":ee+":";if(q(X))for(var me=0;me<X.length;me++)ee=X[me],oe=fe+$(ee,me),pe+=Q(ee,T,H,oe,ie);else if(me=y(X),typeof me=="function")for(X=me.call(X),me=0;!(ee=X.next()).done;)ee=ee.value,oe=fe+$(ee,me++),pe+=Q(ee,T,H,oe,ie);else if(oe==="object"){if(typeof X.then=="function")return Q(ue(X),T,H,ee,ie);throw T=String(X),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return pe}function re(X,T,H){if(X==null)return X;var ee=[],ie=0;return Q(X,ee,"","",function(oe){return T.call(H,oe,ie++)}),ee}function ce(X){if(X._status===-1){var T=X._result;T=T(),T.then(function(H){(X._status===0||X._status===-1)&&(X._status=1,X._result=H)},function(H){(X._status===0||X._status===-1)&&(X._status=2,X._result=H)}),X._status===-1&&(X._status=0,X._result=T)}if(X._status===1)return X._result.default;throw X._result}var de=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},Ne={map:re,forEach:function(X,T,H){re(X,function(){T.apply(this,arguments)},H)},count:function(X){var T=0;return re(X,function(){T++}),T},toArray:function(X){return re(X,function(T){return T})||[]},only:function(X){if(!E(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return Yt.Activity=x,Yt.Children=Ne,Yt.Component=C,Yt.Fragment=t,Yt.Profiler=a,Yt.PureComponent=F,Yt.StrictMode=r,Yt.Suspense=f,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return Y.H.useMemoCache(X)}},Yt.cache=function(X){return function(){return X.apply(null,arguments)}},Yt.cacheSignal=function(){return null},Yt.cloneElement=function(X,T,H){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var ee=A({},X.props),ie=X.key;if(T!=null)for(oe in T.key!==void 0&&(ie=""+T.key),T)!D.call(T,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&T.ref===void 0||(ee[oe]=T[oe]);var oe=arguments.length-2;if(oe===1)ee.children=H;else if(1<oe){for(var pe=Array(oe),fe=0;fe<oe;fe++)pe[fe]=arguments[fe+2];ee.children=pe}return R(X.type,ie,ee)},Yt.createContext=function(X){return X={$$typeof:h,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},Yt.createElement=function(X,T,H){var ee,ie={},oe=null;if(T!=null)for(ee in T.key!==void 0&&(oe=""+T.key),T)D.call(T,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ie[ee]=T[ee]);var pe=arguments.length-2;if(pe===1)ie.children=H;else if(1<pe){for(var fe=Array(pe),me=0;me<pe;me++)fe[me]=arguments[me+2];ie.children=fe}if(X&&X.defaultProps)for(ee in pe=X.defaultProps,pe)ie[ee]===void 0&&(ie[ee]=pe[ee]);return R(X,oe,ie)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(X){return{$$typeof:c,render:X}},Yt.isValidElement=E,Yt.lazy=function(X){return{$$typeof:m,_payload:{_status:-1,_result:X},_init:ce}},Yt.memo=function(X,T){return{$$typeof:d,type:X,compare:T===void 0?null:T}},Yt.startTransition=function(X){var T=Y.T,H={};Y.T=H;try{var ee=X(),ie=Y.S;ie!==null&&ie(H,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(J,de)}catch(oe){de(oe)}finally{T!==null&&H.types!==null&&(T.types=H.types),Y.T=T}},Yt.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Yt.use=function(X){return Y.H.use(X)},Yt.useActionState=function(X,T,H){return Y.H.useActionState(X,T,H)},Yt.useCallback=function(X,T){return Y.H.useCallback(X,T)},Yt.useContext=function(X){return Y.H.useContext(X)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(X,T){return Y.H.useDeferredValue(X,T)},Yt.useEffect=function(X,T){return Y.H.useEffect(X,T)},Yt.useEffectEvent=function(X){return Y.H.useEffectEvent(X)},Yt.useId=function(){return Y.H.useId()},Yt.useImperativeHandle=function(X,T,H){return Y.H.useImperativeHandle(X,T,H)},Yt.useInsertionEffect=function(X,T){return Y.H.useInsertionEffect(X,T)},Yt.useLayoutEffect=function(X,T){return Y.H.useLayoutEffect(X,T)},Yt.useMemo=function(X,T){return Y.H.useMemo(X,T)},Yt.useOptimistic=function(X,T){return Y.H.useOptimistic(X,T)},Yt.useReducer=function(X,T,H){return Y.H.useReducer(X,T,H)},Yt.useRef=function(X){return Y.H.useRef(X)},Yt.useState=function(X){return Y.H.useState(X)},Yt.useSyncExternalStore=function(X,T,H){return Y.H.useSyncExternalStore(X,T,H)},Yt.useTransition=function(){return Y.H.useTransition()},Yt.version="19.2.0",Yt}var bv;function K0(){return bv||(bv=1,Pm.exports=j3()),Pm.exports}var ge=K0();const vn=M3(ge);var Um={exports:{}},xf={},Vm={exports:{}},Hm={};var xv;function R3(){return xv||(xv=1,(function(i){function e(Q,re){var ce=Q.length;Q.push(re);e:for(;0<ce;){var de=ce-1>>>1,Ne=Q[de];if(0<a(Ne,re))Q[de]=re,Q[ce]=Ne,ce=de;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var re=Q[0],ce=Q.pop();if(ce!==re){Q[0]=ce;e:for(var de=0,Ne=Q.length,X=Ne>>>1;de<X;){var T=2*(de+1)-1,H=Q[T],ee=T+1,ie=Q[ee];if(0>a(H,ce))ee<Ne&&0>a(ie,H)?(Q[de]=ie,Q[ee]=ce,de=ee):(Q[de]=H,Q[T]=ce,de=T);else if(ee<Ne&&0>a(ie,ce))Q[de]=ie,Q[ee]=ce,de=ee;else break e}}return re}function a(Q,re){var ce=Q.sortIndex-re.sortIndex;return ce!==0?ce:Q.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var h=Date,c=h.now();i.unstable_now=function(){return h.now()-c}}var f=[],d=[],m=1,x=null,w=3,y=!1,N=!1,A=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function z(Q){for(var re=t(d);re!==null;){if(re.callback===null)r(d);else if(re.startTime<=Q)r(d),re.sortIndex=re.expirationTime,e(f,re);else break;re=t(d)}}function q(Q){if(A=!1,z(Q),!N)if(t(f)!==null)N=!0,J||(J=!0,j());else{var re=t(d);re!==null&&ue(q,re.startTime-Q)}}var J=!1,Y=-1,D=5,R=-1;function Z(){return k?!0:!(i.unstable_now()-R<D)}function E(){if(k=!1,J){var Q=i.unstable_now();R=Q;var re=!0;try{e:{N=!1,A&&(A=!1,P(Y),Y=-1),y=!0;var ce=w;try{t:{for(z(Q),x=t(f);x!==null&&!(x.expirationTime>Q&&Z());){var de=x.callback;if(typeof de=="function"){x.callback=null,w=x.priorityLevel;var Ne=de(x.expirationTime<=Q);if(Q=i.unstable_now(),typeof Ne=="function"){x.callback=Ne,z(Q),re=!0;break t}x===t(f)&&r(f),z(Q)}else r(f);x=t(f)}if(x!==null)re=!0;else{var X=t(d);X!==null&&ue(q,X.startTime-Q),re=!1}}break e}finally{x=null,w=ce,y=!1}re=void 0}}finally{re?j():J=!1}}}var j;if(typeof F=="function")j=function(){F(E)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,$=U.port2;U.port1.onmessage=E,j=function(){$.postMessage(null)}}else j=function(){C(E,0)};function ue(Q,re){Y=C(function(){Q(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var ce=w;w=re;try{return Q()}finally{w=ce}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(Q,re){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=w;w=Q;try{return re()}finally{w=ce}},i.unstable_scheduleCallback=function(Q,re,ce){var de=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?de+ce:de):ce=de,Q){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ce+Ne,Q={id:m++,callback:re,priorityLevel:Q,startTime:ce,expirationTime:Ne,sortIndex:-1},ce>de?(Q.sortIndex=ce,e(d,Q),t(f)===null&&Q===t(d)&&(A?(P(Y),Y=-1):A=!0,ue(q,ce-de))):(Q.sortIndex=Ne,e(f,Q),N||y||(N=!0,J||(J=!0,j()))),Q},i.unstable_shouldYield=Z,i.unstable_wrapCallback=function(Q){var re=w;return function(){var ce=w;w=re;try{return Q.apply(this,arguments)}finally{w=ce}}}})(Hm)),Hm}var _v;function I3(){return _v||(_v=1,Vm.exports=R3()),Vm.exports}var Gm={exports:{}},jr={};var wv;function B3(){if(wv)return jr;wv=1;var i=K0();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:f,containerInfo:d,implementation:m}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return jr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jr.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,m)},jr.flushSync=function(f){var d=h.T,m=r.p;try{if(h.T=null,r.p=2,f)return f()}finally{h.T=d,r.p=m,r.d.f()}},jr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},jr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},jr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,x=c(m,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:y}):m==="script"&&r.d.X(f,{crossOrigin:x,integrity:w,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},jr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},jr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,x=c(m,d.crossOrigin);r.d.L(f,m,{crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},jr.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},jr.requestFormReset=function(f){r.d.r(f)},jr.unstable_batchedUpdates=function(f,d){return f(d)},jr.useFormState=function(f,d,m){return h.H.useFormState(f,d,m)},jr.useFormStatus=function(){return h.H.useHostTransitionStatus()},jr.version="19.2.0",jr}var Sv;function Rb(){if(Sv)return Gm.exports;Sv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gm.exports=B3(),Gm.exports}var Av;function q3(){if(Av)return xf;Av=1;var i=I3(),e=K0(),t=Rb();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function c(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(o(n)!==n)throw Error(r(188))}function d(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,u=s;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return f(g),n;if(b===u)return f(g),s;b=b.sibling}throw Error(r(188))}if(l.return!==u.return)l=g,u=b;else{for(var M=!1,K=g.child;K;){if(K===l){M=!0,l=g,u=b;break}if(K===u){M=!0,u=g,l=b;break}K=K.sibling}if(!M){for(K=b.child;K;){if(K===l){M=!0,l=b,u=g;break}if(K===u){M=!0,u=b,l=g;break}K=K.sibling}if(!M)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function m(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=m(n),s!==null)return s;n=n.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=E&&n[E]||n["@@iterator"],typeof n=="function"?n:null)}var U=Symbol.for("react.client.reference");function $(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===U?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case C:return"Profiler";case k:return"StrictMode";case q:return"Suspense";case J:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case F:return n.displayName||"Context";case P:return(n._context.displayName||"Context")+".Consumer";case z:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Y:return s=n.displayName||null,s!==null?s:$(n.type)||"Memo";case D:s=n._payload,n=n._init;try{return $(n(s))}catch{}}return null}var ue=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},de=[],Ne=-1;function X(n){return{current:n}}function T(n){0>Ne||(n.current=de[Ne],de[Ne]=null,Ne--)}function H(n,s){Ne++,de[Ne]=n.current,n.current=s}var ee=X(null),ie=X(null),oe=X(null),pe=X(null);function fe(n,s){switch(H(oe,s),H(ie,n),H(ee,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?z5(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=z5(s),n=F5(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}T(ee),H(ee,n)}function me(){T(ee),T(ie),T(oe)}function _e(n){n.memoizedState!==null&&H(pe,n);var s=ee.current,l=F5(s,n.type);s!==l&&(H(ie,n),H(ee,l))}function Re(n){ie.current===n&&(T(ee),T(ie)),pe.current===n&&(T(pe),mf._currentValue=ce)}var Xe,He;function Qe(n){if(Xe===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Xe=s&&s[1]||"",He=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+n+He}var V=!1;function De(n,s){if(!n||V)return"";V=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(je){var Me=je}Reflect.construct(n,[],Ye)}else{try{Ye.call()}catch(je){Me=je}n.call(Ye.prototype)}}else{try{throw Error()}catch(je){Me=je}(Ye=n())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(je){if(je&&Me&&typeof je.stack=="string")return[je.stack,Me.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=u.DetermineComponentFrameRoot(),M=b[0],K=b[1];if(M&&K){var he=M.split(`
`),Oe=K.split(`
`);for(g=u=0;u<he.length&&!he[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Oe.length&&!Oe[g].includes("DetermineComponentFrameRoot");)g++;if(u===he.length||g===Oe.length)for(u=he.length-1,g=Oe.length-1;1<=u&&0<=g&&he[u]!==Oe[g];)g--;for(;1<=u&&0<=g;u--,g--)if(he[u]!==Oe[g]){if(u!==1||g!==1)do if(u--,g--,0>g||he[u]!==Oe[g]){var Fe=`
`+he[u].replace(" at new "," at ");return n.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",n.displayName)),Fe}while(1<=u&&0<=g);break}}}finally{V=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Qe(l):""}function ut(n,s){switch(n.tag){case 26:case 27:case 5:return Qe(n.type);case 16:return Qe("Lazy");case 13:return n.child!==s&&s!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return De(n.type,!1);case 11:return De(n.type.render,!1);case 1:return De(n.type,!0);case 31:return Qe("Activity");default:return""}}function nt(n){try{var s="",l=null;do s+=ut(n,l),l=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Le=Object.prototype.hasOwnProperty,tt=i.unstable_scheduleCallback,it=i.unstable_cancelCallback,lt=i.unstable_shouldYield,pt=i.unstable_requestPaint,kt=i.unstable_now,Ge=i.unstable_getCurrentPriorityLevel,Ke=i.unstable_ImmediatePriority,ct=i.unstable_UserBlockingPriority,gt=i.unstable_NormalPriority,at=i.unstable_LowPriority,Ct=i.unstable_IdlePriority,ot=i.log,Zt=i.unstable_setDisableYieldValue,Dt=null,wt=null;function St(n){if(typeof ot=="function"&&Zt(n),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Dt,n)}catch{}}var Ft=Math.clz32?Math.clz32:ze,we=Math.log,qe=Math.LN2;function ze(n){return n>>>=0,n===0?32:31-(we(n)/qe|0)|0}var rt=256,Et=262144,et=4194304;function Je(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function vt(n,s,l){var u=n.pendingLanes;if(u===0)return 0;var g=0,b=n.suspendedLanes,M=n.pingedLanes;n=n.warmLanes;var K=u&134217727;return K!==0?(u=K&~b,u!==0?g=Je(u):(M&=K,M!==0?g=Je(M):l||(l=K&~n,l!==0&&(g=Je(l))))):(K=u&~b,K!==0?g=Je(K):M!==0?g=Je(M):l||(l=u&~n,l!==0&&(g=Je(l)))),g===0?0:s!==0&&s!==g&&(s&b)===0&&(b=g&-g,l=s&-s,b>=l||b===32&&(l&4194048)!==0)?s:g}function Nn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function $t(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cn(){var n=et;return et<<=1,(et&62914560)===0&&(et=4194304),n}function Cn(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function ht(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function sn(n,s,l,u,g,b){var M=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var K=n.entanglements,he=n.expirationTimes,Oe=n.hiddenUpdates;for(l=M&~l;0<l;){var Fe=31-Ft(l),Ye=1<<Fe;K[Fe]=0,he[Fe]=-1;var Me=Oe[Fe];if(Me!==null)for(Oe[Fe]=null,Fe=0;Fe<Me.length;Fe++){var je=Me[Fe];je!==null&&(je.lane&=-536870913)}l&=~Ye}u!==0&&jn(n,u,0),b!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=b&~(M&~s))}function jn(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Ft(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function Tn(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var u=31-Ft(l),g=1<<u;g&s|n[u]&s&&(n[u]|=s),l&=~g}}function Ln(n,s){var l=s&-s;return l=(l&42)!==0?1:Jt(l),(l&(n.suspendedLanes|s))!==0?0:l}function Jt(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function En(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Dn(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:cv(n.type))}function Qi(n,s){var l=re.p;try{return re.p=n,s()}finally{re.p=l}}var ui=Math.random().toString(36).slice(2),wn="__reactFiber$"+ui,Wn="__reactProps$"+ui,Di="__reactContainer$"+ui,cr="__reactEvents$"+ui,Or="__reactListeners$"+ui,ma="__reactHandles$"+ui,Pr="__reactResources$"+ui,Ur="__reactMarker$"+ui;function Ys(n){delete n[wn],delete n[Wn],delete n[cr],delete n[Or],delete n[ma]}function As(n){var s=n[wn];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Di]||l[wn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=W5(n);n!==null;){if(l=n[wn])return l;n=W5(n)}return s}n=l,l=n.parentNode}return null}function Ns(n){if(n=n[wn]||n[Di]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function jo(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Ws(n){var s=n[Pr];return s||(s=n[Pr]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function vi(n){n[Ur]=!0}var gc=new Set,Vr={};function Cs(n,s){ga(n,s),ga(n+"Capture",s)}function ga(n,s){for(Vr[n]=s,n=0;n<s.length;n++)gc.add(s[n])}var vc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yc={},bc={};function fu(n){return Le.call(bc,n)?!0:Le.call(yc,n)?!1:vc.test(n)?bc[n]=!0:(yc[n]=!0,!1)}function Hr(n,s,l){if(fu(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function va(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function Ts(n,s,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+u)}}function bn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function xc(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xs(n,s,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,b=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(M){l=""+M,b.call(this,M)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(M){l=""+M},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function so(n){if(!n._valueTracker){var s=xc(n)?"checked":"value";n._valueTracker=Xs(n,s,""+n[s])}}function _c(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return n&&(u=xc(n)?n.checked?"true":"false":n.value),n=u,n!==l?(s.setValue(n),!0):!1}function br(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ji=/[\n"\\]/g;function Si(n){return n.replace(ji,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xl(n,s,l,u,g,b,M,K){n.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.type=M:n.removeAttribute("type"),s!=null?M==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+bn(s)):n.value!==""+bn(s)&&(n.value=""+bn(s)):M!=="submit"&&M!=="reset"||n.removeAttribute("value"),s!=null?wc(n,M,bn(s)):l!=null?wc(n,M,bn(l)):u!=null&&n.removeAttribute("value"),g==null&&b!=null&&(n.defaultChecked=!!b),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?n.name=""+bn(K):n.removeAttribute("name")}function du(n,s,l,u,g,b,M,K){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.type=b),s!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){so(n);return}l=l!=null?""+bn(l):"",s=s!=null?""+bn(s):l,K||s===n.value||(n.value=s),n.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=K?n.checked:!!u,n.defaultChecked=!!u,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(n.name=M),so(n)}function wc(n,s,l){s==="number"&&br(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function xr(n,s,l,u){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&u&&(n[l].defaultSelected=!0)}else{for(l=""+bn(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function Sc(n,s,l){if(s!=null&&(s=""+bn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+bn(l):""}function Ac(n,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(ue(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=bn(s),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),so(n)}function Es(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var Ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(n,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,l):typeof l!="number"||l===0||Ro.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function mu(n,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&pu(n,g,u)}else for(var b in s)s.hasOwnProperty(b)&&pu(n,b,s[b])}function Nc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(n){return gu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ks(){}var ya=null;function Io(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ao=null,jt=null;function vu(n){var s=Ns(n);if(s&&(n=s.stateNode)){var l=n[Wn]||null;e:switch(n=s.stateNode,s.type){case"input":if(xl(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Si(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==n&&u.form===n.form){var g=u[Wn]||null;if(!g)throw Error(r(90));xl(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===n.form&&_c(u)}break e;case"textarea":Sc(n,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&xr(n,!!l.multiple,s,!1)}}}var Tc=!1;function yu(n,s,l){if(Tc)return n(s,l);Tc=!0;try{var u=n(s);return u}finally{if(Tc=!1,(ao!==null||jt!==null)&&(jd(),ao&&(s=ao,n=jt,jt=ao=null,vu(s),n)))for(s=0;s<n.length;s++)vu(n[s])}}function Gr(n,s){var l=n.stateNode;if(l===null)return null;var u=l[Wn]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=!1;if($i)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{Ec=!1}var Yr=null,qo=null,Zs=null;function bu(){if(Zs)return Zs;var n,s=qo,l=s.length,u,g="value"in Yr?Yr.value:Yr.textContent,b=g.length;for(n=0;n<l&&s[n]===g[n];n++);var M=l-n;for(u=1;u<=M&&s[l-u]===g[b-u];u++);return Zs=g.slice(n,1<u?1-u:void 0)}function ts(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function _l(){return!0}function wl(){return!1}function Ui(n){function s(l,u,g,b,M){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var K in n)n.hasOwnProperty(K)&&(l=n[K],this[K]=l?l(b):b[K]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?_l:wl,this.isPropagationStopped=wl,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),s}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=Ui(Ks),ba=x({},Ks,{view:0,detail:0}),Sl=Ui(ba),zo,xa,_a,Fo=x({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qt,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_a&&(_a&&n.type==="mousemove"?(zo=n.screenX-_a.screenX,xa=n.screenY-_a.screenY):xa=zo=0,_a=n),zo)},movementY:function(n){return"movementY"in n?n.movementY:xa}}),kc=Ui(Fo),wa=x({},Fo,{dataTransfer:0}),Sa=Ui(wa),xu=x({},ba,{relatedTarget:0}),Aa=Ui(xu),_u=x({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Ui(_u),I=x({},Ks,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),le=Ui(I),ve=x({},Ks,{data:0}),Se=Ui(ve),Pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ze={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function At(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=yt[n])?!!s[n]:!1}function qt(){return At}var Ht=x({},ba,{key:function(n){if(n.key){var s=Pe[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ts(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ze[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qt,charCode:function(n){return n.type==="keypress"?ts(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ts(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),un=Ui(Ht),ti=x({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yi=Ui(ti),zn=x({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qt}),Ri=Ui(zn),Ai=x({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ji=Ui(Ai),Na=x({},Fo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Os=Ui(Na),Ca=x({},Ks,{newState:0,oldState:0}),Oc=Ui(Ca),Al=[9,13,27,32],Qs=$i&&"CompositionEvent"in window,Ms=null;$i&&"documentMode"in document&&(Ms=document.documentMode);var Po=$i&&"TextEvent"in window&&!Ms,Ta=$i&&(!Qs||Ms&&8<Ms&&11>=Ms),Vi=" ",oo=!1;function lo(n,s){switch(n){case"keyup":return Al.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nl(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $s=!1;function _r(n,s){switch(n){case"compositionend":return Nl(s);case"keypress":return s.which!==32?null:(oo=!0,Vi);case"textInput":return n=s.data,n===Vi&&oo?null:n;default:return null}}function Ea(n,s){if($s)return n==="compositionend"||!Qs&&lo(n,s)?(n=bu(),Zs=qo=Yr=null,$s=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ta&&s.locale!=="ko"?null:s.data;default:return null}}var Cl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Cl[n.type]:s==="textarea"}function Wr(n,s,l,u){ao?jt?jt.push(u):jt=[u]:ao=u,s=Pd(s,"onChange"),0<s.length&&(l=new ns("onChange","change",null,l,u),n.push({event:l,listeners:s}))}var Ls=null,ka=null;function Lc(n){D5(n,0)}function Ds(n){var s=jo(n);if(_c(s))return n}function co(n,s){if(n==="change")return s}var Lr=!1;if($i){var wr;if($i){var Js="oninput"in document;if(!Js){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Js=typeof ea.oninput=="function"}wr=Js}else wr=!1;Lr=wr&&(!document.documentMode||9<document.documentMode)}function Oa(){Ls&&(Ls.detachEvent("onpropertychange",Tl),ka=Ls=null)}function Tl(n){if(n.propertyName==="value"&&Ds(ka)){var s=[];Wr(s,ka,n,Io(n)),yu(Lc,s)}}function El(n,s,l){n==="focusin"?(Oa(),Ls=s,ka=l,Ls.attachEvent("onpropertychange",Tl)):n==="focusout"&&Oa()}function bi(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ds(ka)}function wu(n,s){if(n==="click")return Ds(s)}function ta(n,s){if(n==="input"||n==="change")return Ds(s)}function na(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var er=typeof Object.is=="function"?Object.is:na;function Ma(n,s){if(er(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Le.call(s,g)||!er(n[g],s[g]))return!1}return!0}function kl(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ol(n,s){var l=kl(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=s&&u>=s)return{node:l,offset:s-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=kl(l)}}function La(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?La(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Da(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=br(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=br(n.document)}return s}function ia(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Uo=$i&&"documentMode"in document&&11>=document.documentMode,Xr=null,ja=null,ur=null,is=!1;function xn(n,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;is||Xr==null||Xr!==br(u)||(u=Xr,"selectionStart"in u&&ia(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ur&&Ma(ur,u)||(ur=u,u=Pd(ja,"onSelect"),0<u.length&&(s=new ns("onSelect","select",null,s,l),n.push({event:s,listeners:u}),s.target=Xr)))}function hn(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Fn={animationend:hn("Animation","AnimationEnd"),animationiteration:hn("Animation","AnimationIteration"),animationstart:hn("Animation","AnimationStart"),transitionrun:hn("Transition","TransitionRun"),transitionstart:hn("Transition","TransitionStart"),transitioncancel:hn("Transition","TransitionCancel"),transitionend:hn("Transition","TransitionEnd")},xi={},ra={};$i&&(ra=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function js(n){if(xi[n])return xi[n];if(!Fn[n])return n;var s=Fn[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in ra)return xi[n]=s[l];return n}var Vo=js("animationend"),Dc=js("animationiteration"),Bh=js("animationstart"),ud=js("transitionrun"),hd=js("transitionstart"),fd=js("transitioncancel"),qh=js("transitionend"),zh=new Map,Ho="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ho.push("scrollEnd");function rs(n,s){zh.set(n,s),Cs(s,[n])}var jc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Zr=[],Go=0,Su=0;function Rc(){for(var n=Go,s=Su=Go=0;s<n;){var l=Zr[s];Zr[s++]=null;var u=Zr[s];Zr[s++]=null;var g=Zr[s];Zr[s++]=null;var b=Zr[s];if(Zr[s++]=null,u!==null&&g!==null){var M=u.pending;M===null?g.next=g:(g.next=M.next,M.next=g),u.pending=g}b!==0&&Bc(l,g,b)}}function Ic(n,s,l,u){Zr[Go++]=n,Zr[Go++]=s,Zr[Go++]=l,Zr[Go++]=u,Su|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Au(n,s,l,u){return Ic(n,s,l,u),hr(n)}function Ra(n,s){return Ic(n,null,null,s),hr(n)}function Bc(n,s,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var g=!1,b=n.return;b!==null;)b.childLanes|=l,u=b.alternate,u!==null&&(u.childLanes|=l),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(g=!0)),n=b,b=b.return;return n.tag===3?(b=n.stateNode,g&&s!==null&&(g=31-Ft(l),n=b.hiddenUpdates,u=n[g],u===null?n[g]=[s]:u.push(s),s.lane=l|536870912),b):null}function hr(n){if(50<lf)throw lf=0,um=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var tr={};function Nu(n,s,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(n,s,l,u){return new Nu(n,s,l,u)}function Cu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ss(n,s){var l=n.alternate;return l===null?(l=fr(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function qc(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ml(n,s,l,u,g,b){var M=0;if(u=n,typeof n=="function")Cu(n)&&(M=1);else if(typeof n=="string")M=b3(n,l,ee.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=fr(31,l,s,g),n.elementType=R,n.lanes=b,n;case A:return uo(l.children,g,b,s);case k:M=8,g|=24;break;case C:return n=fr(12,l,s,g|2),n.elementType=C,n.lanes=b,n;case q:return n=fr(13,l,s,g),n.elementType=q,n.lanes=b,n;case J:return n=fr(19,l,s,g),n.elementType=J,n.lanes=b,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:M=10;break e;case P:M=9;break e;case z:M=11;break e;case Y:M=14;break e;case D:M=16,u=null;break e}M=29,l=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=fr(M,l,s,g),s.elementType=n,s.type=u,s.lanes=b,s}function uo(n,s,l,u){return n=fr(7,n,u,s),n.lanes=l,n}function zc(n,s,l){return n=fr(6,n,null,s),n.lanes=l,n}function Tu(n){var s=fr(18,null,null,0);return s.stateNode=n,s}function Ll(n,s,l){return s=fr(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Eu=new WeakMap;function as(n,s){if(typeof n=="object"&&n!==null){var l=Eu.get(n);return l!==void 0?l:(s={value:n,source:s,stack:nt(s)},Eu.set(n,s),s)}return{value:n,source:s,stack:nt(s)}}var Dl=[],Yo=0,ku=null,Fc=0,os=[],ls=0,ho=null,cs=1,us="";function Kr(n,s){Dl[Yo++]=Fc,Dl[Yo++]=ku,ku=n,Fc=s}function dd(n,s,l){os[ls++]=cs,os[ls++]=us,os[ls++]=ho,ho=n;var u=cs;n=us;var g=32-Ft(u)-1;u&=~(1<<g),l+=1;var b=32-Ft(s)+g;if(30<b){var M=g-g%5;b=(u&(1<<M)-1).toString(32),u>>=M,g-=M,cs=1<<32-Ft(s)+g|l<<g|u,us=b+n}else cs=1<<b|l<<g|u,us=n}function Fh(n){n.return!==null&&(Kr(n,1),dd(n,1,0))}function Ou(n){for(;n===ku;)ku=Dl[--Yo],Dl[Yo]=null,Fc=Dl[--Yo],Dl[Yo]=null;for(;n===ho;)ho=os[--ls],os[ls]=null,us=os[--ls],os[ls]=null,cs=os[--ls],os[ls]=null}function pd(n,s){os[ls++]=cs,os[ls++]=us,os[ls++]=ho,cs=s.id,us=s.overflow,ho=n}var nr=null,Xn=null,tn=!1,Sr=null,hi=!1,Rs=Error(r(519));function fo(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(as(s,n)),Rs}function Ph(n){var s=n.stateNode,l=n.type,u=n.memoizedProps;switch(s[wn]=n,s[Wn]=u,l){case"dialog":rn("cancel",s),rn("close",s);break;case"iframe":case"object":case"embed":rn("load",s);break;case"video":case"audio":for(l=0;l<uf.length;l++)rn(uf[l],s);break;case"source":rn("error",s);break;case"img":case"image":case"link":rn("error",s),rn("load",s);break;case"details":rn("toggle",s);break;case"input":rn("invalid",s),du(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":rn("invalid",s);break;case"textarea":rn("invalid",s),Ac(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||B5(s.textContent,l)?(u.popover!=null&&(rn("beforetoggle",s),rn("toggle",s)),u.onScroll!=null&&rn("scroll",s),u.onScrollEnd!=null&&rn("scrollend",s),u.onClick!=null&&(s.onclick=ks),s=!0):s=!1,s||fo(n,!0)}function Ia(n){for(nr=n.return;nr;)switch(nr.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:nr=nr.return}}function ir(n){if(n!==nr)return!1;if(!tn)return Ia(n),tn=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Nm(n.type,n.memoizedProps)),l=!l),l&&Xn&&fo(n),Ia(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Xn=Y5(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Xn=Y5(n)}else s===27?(s=Xn,Xl(n.type)?(n=Om,Om=null,Xn=n):Xn=s):Xn=nr?la(n.stateNode.nextSibling):null;return!0}function Wo(){Xn=nr=null,tn=!1}function Uh(){var n=Sr;return n!==null&&(gs===null?gs=n:gs.push.apply(gs,n),Sr=null),n}function jl(n){Sr===null?Sr=[n]:Sr.push(n)}var Mu=X(null),po=null,sa=null;function mo(n,s,l){H(Mu,s._currentValue),s._currentValue=l}function hs(n){n._currentValue=Mu.current,T(Mu)}function Rl(n,s,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===l)break;n=n.return}}function Xo(n,s,l,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var b=g.dependencies;if(b!==null){var M=g.child;b=b.firstContext;e:for(;b!==null;){var K=b;b=g;for(var he=0;he<s.length;he++)if(K.context===s[he]){b.lanes|=l,K=b.alternate,K!==null&&(K.lanes|=l),Rl(b.return,l,n),u||(M=null);break e}b=K.next}}else if(g.tag===18){if(M=g.return,M===null)throw Error(r(341));M.lanes|=l,b=M.alternate,b!==null&&(b.lanes|=l),Rl(M,l,n),M=null}else M=g.child;if(M!==null)M.return=g;else for(M=g;M!==null;){if(M===n){M=null;break}if(g=M.sibling,g!==null){g.return=M.return,M=g;break}M=M.return}g=M}}function go(n,s,l,u){n=null;for(var g=s,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var M=g.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var K=g.type;er(g.pendingProps.value,M.value)||(n!==null?n.push(K):n=[K])}}else if(g===pe.current){if(M=g.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(mf):n=[mf])}g=g.return}n!==null&&Xo(s,n,l,u),s.flags|=262144}function Lu(n){for(n=n.firstContext;n!==null;){if(!er(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function vo(n){po=n,sa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function rr(n){return md(po,n)}function Du(n,s){return po===null&&vo(n),md(n,s)}function md(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},sa===null){if(n===null)throw Error(r(308));sa=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else sa=sa.next=s;return l}var k1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},O1=i.unstable_scheduleCallback,M1=i.unstable_NormalPriority,_i={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Il(){return{controller:new k1,data:new Map,refCount:0}}function Pc(n){n.refCount--,n.refCount===0&&O1(M1,function(){n.controller.abort()})}var Uc=null,ju=0,p=0,v=null;function S(n,s){if(Uc===null){var l=Uc=[];ju=0,p=gm(),v={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ju++,s.then(O,O),s}function O(){if(--ju===0&&Uc!==null){v!==null&&(v.status="fulfilled");var n=Uc;Uc=null,p=0,v=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function B(n,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var G=Q.S;Q.S=function(n,s){o5=kt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&S(n,s),G!==null&&G(n,s)};var W=X(null);function te(){var n=W.current;return n!==null?n:Kn.pooledCache}function ne(n,s){s===null?H(W,W.current):H(W,s.pool)}function ae(){var n=te();return n===null?null:{parent:_i._currentValue,pool:n}}var ye=Error(r(460)),Ee=Error(r(474)),se=Error(r(542)),xe={then:function(){}};function Ce(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Be(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(ks,ks),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,$e(n),n;default:if(typeof s.status=="string")s.then(ks,ks);else{if(n=Kn,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,$e(n),n}throw Ie=s,ye}}function Te(n){try{var s=n._init;return s(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ie=l,ye):l}}var Ie=null;function Ue(){if(Ie===null)throw Error(r(459));var n=Ie;return Ie=null,n}function $e(n){if(n===ye||n===se)throw Error(r(483))}var We=null,xt=0;function ft(n){var s=xt;return xt+=1,We===null&&(We=[]),Be(We,n,s)}function Pt(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function mt(n,s){throw s.$$typeof===w?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function en(n){function s(Ae,be){if(n){var ke=Ae.deletions;ke===null?(Ae.deletions=[be],Ae.flags|=16):ke.push(be)}}function l(Ae,be){if(!n)return null;for(;be!==null;)s(Ae,be),be=be.sibling;return null}function u(Ae){for(var be=new Map;Ae!==null;)Ae.key!==null?be.set(Ae.key,Ae):be.set(Ae.index,Ae),Ae=Ae.sibling;return be}function g(Ae,be){return Ae=ss(Ae,be),Ae.index=0,Ae.sibling=null,Ae}function b(Ae,be,ke){return Ae.index=ke,n?(ke=Ae.alternate,ke!==null?(ke=ke.index,ke<be?(Ae.flags|=67108866,be):ke):(Ae.flags|=67108866,be)):(Ae.flags|=1048576,be)}function M(Ae){return n&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function K(Ae,be,ke,Ve){return be===null||be.tag!==6?(be=zc(ke,Ae.mode,Ve),be.return=Ae,be):(be=g(be,ke),be.return=Ae,be)}function he(Ae,be,ke,Ve){var Lt=ke.type;return Lt===A?Fe(Ae,be,ke.props.children,Ve,ke.key):be!==null&&(be.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===D&&Te(Lt)===be.type)?(be=g(be,ke.props),Pt(be,ke),be.return=Ae,be):(be=Ml(ke.type,ke.key,ke.props,null,Ae.mode,Ve),Pt(be,ke),be.return=Ae,be)}function Oe(Ae,be,ke,Ve){return be===null||be.tag!==4||be.stateNode.containerInfo!==ke.containerInfo||be.stateNode.implementation!==ke.implementation?(be=Ll(ke,Ae.mode,Ve),be.return=Ae,be):(be=g(be,ke.children||[]),be.return=Ae,be)}function Fe(Ae,be,ke,Ve,Lt){return be===null||be.tag!==7?(be=uo(ke,Ae.mode,Ve,Lt),be.return=Ae,be):(be=g(be,ke),be.return=Ae,be)}function Ye(Ae,be,ke){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=zc(""+be,Ae.mode,ke),be.return=Ae,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case y:return ke=Ml(be.type,be.key,be.props,null,Ae.mode,ke),Pt(ke,be),ke.return=Ae,ke;case N:return be=Ll(be,Ae.mode,ke),be.return=Ae,be;case D:return be=Te(be),Ye(Ae,be,ke)}if(ue(be)||j(be))return be=uo(be,Ae.mode,ke,null),be.return=Ae,be;if(typeof be.then=="function")return Ye(Ae,ft(be),ke);if(be.$$typeof===F)return Ye(Ae,Du(Ae,be),ke);mt(Ae,be)}return null}function Me(Ae,be,ke,Ve){var Lt=be!==null?be.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return Lt!==null?null:K(Ae,be,""+ke,Ve);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case y:return ke.key===Lt?he(Ae,be,ke,Ve):null;case N:return ke.key===Lt?Oe(Ae,be,ke,Ve):null;case D:return ke=Te(ke),Me(Ae,be,ke,Ve)}if(ue(ke)||j(ke))return Lt!==null?null:Fe(Ae,be,ke,Ve,null);if(typeof ke.then=="function")return Me(Ae,be,ft(ke),Ve);if(ke.$$typeof===F)return Me(Ae,be,Du(Ae,ke),Ve);mt(Ae,ke)}return null}function je(Ae,be,ke,Ve,Lt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ae=Ae.get(ke)||null,K(be,Ae,""+Ve,Lt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case y:return Ae=Ae.get(Ve.key===null?ke:Ve.key)||null,he(be,Ae,Ve,Lt);case N:return Ae=Ae.get(Ve.key===null?ke:Ve.key)||null,Oe(be,Ae,Ve,Lt);case D:return Ve=Te(Ve),je(Ae,be,ke,Ve,Lt)}if(ue(Ve)||j(Ve))return Ae=Ae.get(ke)||null,Fe(be,Ae,Ve,Lt,null);if(typeof Ve.then=="function")return je(Ae,be,ke,ft(Ve),Lt);if(Ve.$$typeof===F)return je(Ae,be,ke,Du(be,Ve),Lt);mt(be,Ve)}return null}function bt(Ae,be,ke,Ve){for(var Lt=null,Sn=null,Nt=be,Kt=be=0,on=null;Nt!==null&&Kt<ke.length;Kt++){Nt.index>Kt?(on=Nt,Nt=null):on=Nt.sibling;var An=Me(Ae,Nt,ke[Kt],Ve);if(An===null){Nt===null&&(Nt=on);break}n&&Nt&&An.alternate===null&&s(Ae,Nt),be=b(An,be,Kt),Sn===null?Lt=An:Sn.sibling=An,Sn=An,Nt=on}if(Kt===ke.length)return l(Ae,Nt),tn&&Kr(Ae,Kt),Lt;if(Nt===null){for(;Kt<ke.length;Kt++)Nt=Ye(Ae,ke[Kt],Ve),Nt!==null&&(be=b(Nt,be,Kt),Sn===null?Lt=Nt:Sn.sibling=Nt,Sn=Nt);return tn&&Kr(Ae,Kt),Lt}for(Nt=u(Nt);Kt<ke.length;Kt++)on=je(Nt,Ae,Kt,ke[Kt],Ve),on!==null&&(n&&on.alternate!==null&&Nt.delete(on.key===null?Kt:on.key),be=b(on,be,Kt),Sn===null?Lt=on:Sn.sibling=on,Sn=on);return n&&Nt.forEach(function(Jl){return s(Ae,Jl)}),tn&&Kr(Ae,Kt),Lt}function It(Ae,be,ke,Ve){if(ke==null)throw Error(r(151));for(var Lt=null,Sn=null,Nt=be,Kt=be=0,on=null,An=ke.next();Nt!==null&&!An.done;Kt++,An=ke.next()){Nt.index>Kt?(on=Nt,Nt=null):on=Nt.sibling;var Jl=Me(Ae,Nt,An.value,Ve);if(Jl===null){Nt===null&&(Nt=on);break}n&&Nt&&Jl.alternate===null&&s(Ae,Nt),be=b(Jl,be,Kt),Sn===null?Lt=Jl:Sn.sibling=Jl,Sn=Jl,Nt=on}if(An.done)return l(Ae,Nt),tn&&Kr(Ae,Kt),Lt;if(Nt===null){for(;!An.done;Kt++,An=ke.next())An=Ye(Ae,An.value,Ve),An!==null&&(be=b(An,be,Kt),Sn===null?Lt=An:Sn.sibling=An,Sn=An);return tn&&Kr(Ae,Kt),Lt}for(Nt=u(Nt);!An.done;Kt++,An=ke.next())An=je(Nt,Ae,Kt,An.value,Ve),An!==null&&(n&&An.alternate!==null&&Nt.delete(An.key===null?Kt:An.key),be=b(An,be,Kt),Sn===null?Lt=An:Sn.sibling=An,Sn=An);return n&&Nt.forEach(function(O3){return s(Ae,O3)}),tn&&Kr(Ae,Kt),Lt}function Hn(Ae,be,ke,Ve){if(typeof ke=="object"&&ke!==null&&ke.type===A&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case y:e:{for(var Lt=ke.key;be!==null;){if(be.key===Lt){if(Lt=ke.type,Lt===A){if(be.tag===7){l(Ae,be.sibling),Ve=g(be,ke.props.children),Ve.return=Ae,Ae=Ve;break e}}else if(be.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===D&&Te(Lt)===be.type){l(Ae,be.sibling),Ve=g(be,ke.props),Pt(Ve,ke),Ve.return=Ae,Ae=Ve;break e}l(Ae,be);break}else s(Ae,be);be=be.sibling}ke.type===A?(Ve=uo(ke.props.children,Ae.mode,Ve,ke.key),Ve.return=Ae,Ae=Ve):(Ve=Ml(ke.type,ke.key,ke.props,null,Ae.mode,Ve),Pt(Ve,ke),Ve.return=Ae,Ae=Ve)}return M(Ae);case N:e:{for(Lt=ke.key;be!==null;){if(be.key===Lt)if(be.tag===4&&be.stateNode.containerInfo===ke.containerInfo&&be.stateNode.implementation===ke.implementation){l(Ae,be.sibling),Ve=g(be,ke.children||[]),Ve.return=Ae,Ae=Ve;break e}else{l(Ae,be);break}else s(Ae,be);be=be.sibling}Ve=Ll(ke,Ae.mode,Ve),Ve.return=Ae,Ae=Ve}return M(Ae);case D:return ke=Te(ke),Hn(Ae,be,ke,Ve)}if(ue(ke))return bt(Ae,be,ke,Ve);if(j(ke)){if(Lt=j(ke),typeof Lt!="function")throw Error(r(150));return ke=Lt.call(ke),It(Ae,be,ke,Ve)}if(typeof ke.then=="function")return Hn(Ae,be,ft(ke),Ve);if(ke.$$typeof===F)return Hn(Ae,be,Du(Ae,ke),Ve);mt(Ae,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,be!==null&&be.tag===6?(l(Ae,be.sibling),Ve=g(be,ke),Ve.return=Ae,Ae=Ve):(l(Ae,be),Ve=zc(ke,Ae.mode,Ve),Ve.return=Ae,Ae=Ve),M(Ae)):l(Ae,be)}return function(Ae,be,ke,Ve){try{xt=0;var Lt=Hn(Ae,be,ke,Ve);return We=null,Lt}catch(Nt){if(Nt===ye||Nt===se)throw Nt;var Sn=fr(29,Nt,null,Ae.mode);return Sn.lanes=Ve,Sn.return=Ae,Sn}finally{}}}var Zn=en(!0),Gt=en(!1),dt=!1;function st(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ni(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Rt(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Xt(n,s,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Mn&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=hr(n),Bc(n,null,l),s}return Ic(n,u,s,l),hr(n)}function kn(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Tn(n,l)}}function Ii(n,s){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var M={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?g=b=M:b=b.next=M,l=l.next}while(l!==null);b===null?g=b=s:b=b.next=s}else g=b=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var sr=!1;function Pn(){if(sr){var n=v;if(n!==null)throw n}}function Ni(n,s,l,u){sr=!1;var g=n.updateQueue;dt=!1;var b=g.firstBaseUpdate,M=g.lastBaseUpdate,K=g.shared.pending;if(K!==null){g.shared.pending=null;var he=K,Oe=he.next;he.next=null,M===null?b=Oe:M.next=Oe,M=he;var Fe=n.alternate;Fe!==null&&(Fe=Fe.updateQueue,K=Fe.lastBaseUpdate,K!==M&&(K===null?Fe.firstBaseUpdate=Oe:K.next=Oe,Fe.lastBaseUpdate=he))}if(b!==null){var Ye=g.baseState;M=0,Fe=Oe=he=null,K=b;do{var Me=K.lane&-536870913,je=Me!==K.lane;if(je?(an&Me)===Me:(u&Me)===Me){Me!==0&&Me===p&&(sr=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var bt=n,It=K;Me=s;var Hn=l;switch(It.tag){case 1:if(bt=It.payload,typeof bt=="function"){Ye=bt.call(Hn,Ye,Me);break e}Ye=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=It.payload,Me=typeof bt=="function"?bt.call(Hn,Ye,Me):bt,Me==null)break e;Ye=x({},Ye,Me);break e;case 2:dt=!0}}Me=K.callback,Me!==null&&(n.flags|=64,je&&(n.flags|=8192),je=g.callbacks,je===null?g.callbacks=[Me]:je.push(Me))}else je={lane:Me,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Fe===null?(Oe=Fe=je,he=Ye):Fe=Fe.next=je,M|=Me;if(K=K.next,K===null){if(K=g.shared.pending,K===null)break;je=K,K=je.next,je.next=null,g.lastBaseUpdate=je,g.shared.pending=null}}while(!0);Fe===null&&(he=Ye),g.baseState=he,g.firstBaseUpdate=Oe,g.lastBaseUpdate=Fe,b===null&&(g.shared.lanes=0),Vl|=M,n.lanes=M,n.memoizedState=Ye}}function dr(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Ci(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)dr(l[n],s)}var Qt=X(null),pn=X(0);function ii(n,s){n=rl,H(pn,n),H(Qt,s),rl=n|s.baseLanes}function _n(){H(pn,rl),H(Qt,Qt.current)}function Bi(){rl=pn.current,T(Qt),T(pn)}var ri=X(null),mn=null;function wi(n){var s=n.alternate;H(fn,fn.current&1),H(ri,n),mn===null&&(s===null||Qt.current!==null||s.memoizedState!==null)&&(mn=n)}function On(n){H(fn,fn.current),H(ri,n),mn===null&&(mn=n)}function Ti(n){n.tag===22?(H(fn,fn.current),H(ri,n),mn===null&&(mn=n)):Ei()}function Ei(){H(fn,fn.current),H(ri,ri.current)}function Rn(n){T(ri),mn===n&&(mn=null),T(fn)}var fn=X(0);function pr(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Em(l)||km(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fi=0,Ot=null,Mt=null,gn=null,Dr=!1,fs=!1,Ar=!1,ki=0,yo=0,bo=null,Ru=0;function Un(){throw Error(r(321))}function Vh(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!er(n[l],s[l]))return!1;return!0}function Hh(n,s,l,u,g,b){return fi=b,Ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=n===null||n.memoizedState===null?y2:z1,Ar=!1,b=l(u,g),Ar=!1,fs&&(b=Ba(s,l,u,g)),Iu(n),b}function Iu(n){Q.H=$h;var s=Mt!==null&&Mt.next!==null;if(fi=0,gn=Mt=Ot=null,Dr=!1,yo=0,bo=null,s)throw Error(r(300));n===null||Gi||(n=n.dependencies,n!==null&&Lu(n)&&(Gi=!0))}function Ba(n,s,l,u){Ot=n;var g=0;do{if(fs&&(bo=null),yo=0,fs=!1,25<=g)throw Error(r(301));if(g+=1,gn=Mt=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Q.H=b2,b=s(l,u)}while(fs);return b}function L1(){var n=Q.H,s=n.useState()[0];return s=typeof s.then=="function"?xo(s):s,n=n.useState()[0],(Mt!==null?Mt.memoizedState:null)!==n&&(Ot.flags|=1024),s}function Gh(){var n=ki!==0;return ki=0,n}function Yh(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function Bu(n){if(Dr){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Dr=!1}fi=0,gn=Mt=Ot=null,fs=!1,yo=ki=0,bo=null}function Hi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Ot.memoizedState=gn=n:gn=gn.next=n,gn}function di(){if(Mt===null){var n=Ot.alternate;n=n!==null?n.memoizedState:null}else n=Mt.next;var s=gn===null?Ot.memoizedState:gn.next;if(s!==null)gn=s,Mt=n;else{if(n===null)throw Ot.alternate===null?Error(r(467)):Error(r(310));Mt=n,n={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},gn===null?Ot.memoizedState=gn=n:gn=gn.next=n}return gn}function Vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(n){var s=yo;return yo+=1,bo===null&&(bo=[]),n=Be(bo,n,s),s=Ot,(gn===null?s.memoizedState:gn.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?y2:z1),n}function Bl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return xo(n);if(n.$$typeof===F)return rr(n)}throw Error(r(438,String(n)))}function Zo(n){var s=null,l=Ot.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Ot.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Vc(),Ot.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),u=0;u<n;u++)l[u]=Z;return s.index++,l}function aa(n,s){return typeof s=="function"?s(n):s}function qu(n){var s=di();return ql(s,Mt,n)}function ql(n,s,l){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=n.baseQueue,b=u.pending;if(b!==null){if(g!==null){var M=g.next;g.next=b.next,b.next=M}s.baseQueue=g=b,u.pending=null}if(b=n.baseState,g===null)n.memoizedState=b;else{s=g.next;var K=M=null,he=null,Oe=s,Fe=!1;do{var Ye=Oe.lane&-536870913;if(Ye!==Oe.lane?(an&Ye)===Ye:(fi&Ye)===Ye){var Me=Oe.revertLane;if(Me===0)he!==null&&(he=he.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Ye===p&&(Fe=!0);else if((fi&Me)===Me){Oe=Oe.next,Me===p&&(Fe=!0);continue}else Ye={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},he===null?(K=he=Ye,M=b):he=he.next=Ye,Ot.lanes|=Me,Vl|=Me;Ye=Oe.action,Ar&&l(b,Ye),b=Oe.hasEagerState?Oe.eagerState:l(b,Ye)}else Me={lane:Ye,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},he===null?(K=he=Me,M=b):he=he.next=Me,Ot.lanes|=Ye,Vl|=Ye;Oe=Oe.next}while(Oe!==null&&Oe!==s);if(he===null?M=b:he.next=K,!er(b,n.memoizedState)&&(Gi=!0,Fe&&(l=v,l!==null)))throw l;n.memoizedState=b,n.baseState=M,n.baseQueue=he,u.lastRenderedState=b}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function zu(n){var s=di(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var u=l.dispatch,g=l.pending,b=s.memoizedState;if(g!==null){l.pending=null;var M=g=g.next;do b=n(b,M.action),M=M.next;while(M!==g);er(b,s.memoizedState)||(Gi=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),l.lastRenderedState=b}return[b,u]}function Fu(n,s,l){var u=Ot,g=di(),b=tn;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=s();var M=!er((Mt||g).memoizedState,l);if(M&&(g.memoizedState=l,Gi=!0),g=g.queue,D1(Xh.bind(null,u,g,n),[n]),g.getSnapshot!==s||M||gn!==null&&gn.memoizedState.tag&1){if(u.flags|=2048,Qo(9,{destroy:void 0},Wh.bind(null,u,g,l,s),null),Kn===null)throw Error(r(349));b||(fi&127)!==0||qa(u,s,l)}return l}function qa(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Ot.updateQueue,s===null?(s=Vc(),Ot.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Wh(n,s,l,u){s.value=l,s.getSnapshot=u,gd(s)&&Zh(n)}function Xh(n,s,l){return l(function(){gd(s)&&Zh(n)})}function gd(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!er(n,l)}catch{return!0}}function Zh(n){var s=Ra(n,2);s!==null&&vs(s,n,2)}function _o(n){var s=Hi();if(typeof n=="function"){var l=n;if(n=l(),Ar){St(!0);try{l()}finally{St(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:n},s}function vd(n,s,l,u){return n.baseState=l,ql(n,Mt,typeof u=="function"?u:aa)}function yd(n,s,l,u,g){if(wd(n))throw Error(r(485));if(n=s.action,n!==null){var b={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){b.listeners.push(M)}};Q.T!==null?l(!0):b.isTransition=!1,u(b),l=s.pending,l===null?(b.next=s.pending=b,bd(s,b)):(b.next=l.next,s.pending=l.next=b)}}function bd(n,s){var l=s.action,u=s.payload,g=n.state;if(s.isTransition){var b=Q.T,M={};Q.T=M;try{var K=l(g,u),he=Q.S;he!==null&&he(M,K),Kh(n,s,K)}catch(Oe){Ko(n,s,Oe)}finally{b!==null&&M.types!==null&&(b.types=M.types),Q.T=b}}else try{b=l(g,u),Kh(n,s,b)}catch(Oe){Ko(n,s,Oe)}}function Kh(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){xd(n,s,u)},function(u){return Ko(n,s,u)}):xd(n,s,l)}function xd(n,s,l){s.status="fulfilled",s.value=l,Pu(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,bd(n,l)))}function Ko(n,s,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Pu(s),s=s.next;while(s!==u)}n.action=null}function Pu(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Hc(n,s){return s}function oa(n,s){if(tn){var l=Kn.formState;if(l!==null){e:{var u=Ot;if(tn){if(Xn){t:{for(var g=Xn,b=hi;g.nodeType!==8;){if(!b){g=null;break t}if(g=la(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){Xn=la(g.nextSibling),u=g.data==="F!";break e}}fo(u)}u=!1}u&&(s=l[0])}}return l=Hi(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:s},l.queue=u,l=m2.bind(null,Ot,u),u.dispatch=l,u=_o(!1),b=q1.bind(null,Ot,!1,u.queue),u=Hi(),g={state:s,dispatch:null,action:n,pending:null},u.queue=g,l=yd.bind(null,Ot,g,b,l),g.dispatch=l,u.memoizedState=n,[s,l,!1]}function za(n){var s=di();return Fa(s,Mt,n)}function Fa(n,s,l){if(s=ql(n,s,Hc)[0],n=qu(aa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=xo(s)}catch(M){throw M===ye?se:M}else u=s;s=di();var g=s.queue,b=g.dispatch;return l!==s.memoizedState&&(Ot.flags|=2048,Qo(9,{destroy:void 0},Uu.bind(null,g,l),null)),[u,b,n]}function Uu(n,s){n.action=s}function Vu(n){var s=di(),l=Mt;if(l!==null)return Fa(s,l,n);di(),s=s.memoizedState,l=di();var u=l.queue.dispatch;return l.memoizedState=n,[s,u,!1]}function Qo(n,s,l,u){return n={tag:n,create:l,deps:u,inst:s,next:null},s=Ot.updateQueue,s===null&&(s=Vc(),Ot.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,s.lastEffect=n),n}function _d(){return di().memoizedState}function zl(n,s,l,u){var g=Hi();Ot.flags|=n,g.memoizedState=Qo(1|s,{destroy:void 0},l,u===void 0?null:u)}function Fl(n,s,l,u){var g=di();u=u===void 0?null:u;var b=g.memoizedState.inst;Mt!==null&&u!==null&&Vh(u,Mt.memoizedState.deps)?g.memoizedState=Qo(s,b,l,u):(Ot.flags|=n,g.memoizedState=Qo(1|s,b,l,u))}function t2(n,s){zl(8390656,8,n,s)}function D1(n,s){Fl(2048,8,n,s)}function Aw(n){Ot.flags|=4;var s=Ot.updateQueue;if(s===null)s=Vc(),Ot.updateQueue=s,s.events=[n];else{var l=s.events;l===null?s.events=[n]:l.push(n)}}function n2(n){var s=di().memoizedState;return Aw({ref:s,nextImpl:n}),function(){if((Mn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function i2(n,s){return Fl(4,2,n,s)}function r2(n,s){return Fl(4,4,n,s)}function s2(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function a2(n,s,l){l=l!=null?l.concat([n]):null,Fl(4,4,s2.bind(null,s,n),l)}function j1(){}function o2(n,s){var l=di();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Vh(s,u[1])?u[0]:(l.memoizedState=[n,s],n)}function l2(n,s){var l=di();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Vh(s,u[1]))return u[0];if(u=n(),Ar){St(!0);try{n()}finally{St(!1)}}return l.memoizedState=[u,s],u}function R1(n,s,l){return l===void 0||(fi&1073741824)!==0&&(an&261930)===0?n.memoizedState=s:(n.memoizedState=l,n=c5(),Ot.lanes|=n,Vl|=n,l)}function c2(n,s,l,u){return er(l,s)?l:Qt.current!==null?(n=R1(n,l,u),er(n,s)||(Gi=!0),n):(fi&42)===0||(fi&1073741824)!==0&&(an&261930)===0?(Gi=!0,n.memoizedState=l):(n=c5(),Ot.lanes|=n,Vl|=n,s)}function u2(n,s,l,u,g){var b=re.p;re.p=b!==0&&8>b?b:8;var M=Q.T,K={};Q.T=K,q1(n,!1,s,l);try{var he=g(),Oe=Q.S;if(Oe!==null&&Oe(K,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var Fe=B(he,u);Qh(n,s,Fe,qs(n))}else Qh(n,s,u,qs(n))}catch(Ye){Qh(n,s,{then:function(){},status:"rejected",reason:Ye},qs())}finally{re.p=b,M!==null&&K.types!==null&&(M.types=K.types),Q.T=M}}function Nw(){}function I1(n,s,l,u){if(n.tag!==5)throw Error(r(476));var g=h2(n).queue;u2(n,g,s,ce,l===null?Nw:function(){return f2(n),l(u)})}function h2(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:ce},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function f2(n){var s=h2(n);s.next===null&&(s=n.alternate.memoizedState),Qh(n,s.next.queue,{},qs())}function B1(){return rr(mf)}function d2(){return di().memoizedState}function p2(){return di().memoizedState}function Cw(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=qs();n=Rt(l);var u=Xt(s,n,l);u!==null&&(vs(u,s,l),kn(u,s,l)),s={cache:Il()},n.payload=s;return}s=s.return}}function Tw(n,s,l){var u=qs();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wd(n)?g2(s,l):(l=Au(n,s,l,u),l!==null&&(vs(l,n,u),v2(l,s,u)))}function m2(n,s,l){var u=qs();Qh(n,s,l,u)}function Qh(n,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(wd(n))g2(s,g);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var M=s.lastRenderedState,K=b(M,l);if(g.hasEagerState=!0,g.eagerState=K,er(K,M))return Ic(n,s,g,0),Kn===null&&Rc(),!1}catch{}finally{}if(l=Au(n,s,g,u),l!==null)return vs(l,n,u),v2(l,s,u),!0}return!1}function q1(n,s,l,u){if(u={lane:2,revertLane:gm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},wd(n)){if(s)throw Error(r(479))}else s=Au(n,l,u,2),s!==null&&vs(s,n,2)}function wd(n){var s=n.alternate;return n===Ot||s!==null&&s===Ot}function g2(n,s){fs=Dr=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function v2(n,s,l){if((l&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Tn(n,l)}}var $h={readContext:rr,use:Bl,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useLayoutEffect:Un,useInsertionEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useSyncExternalStore:Un,useId:Un,useHostTransitionStatus:Un,useFormState:Un,useActionState:Un,useOptimistic:Un,useMemoCache:Un,useCacheRefresh:Un};$h.useEffectEvent=Un;var y2={readContext:rr,use:Bl,useCallback:function(n,s){return Hi().memoizedState=[n,s===void 0?null:s],n},useContext:rr,useEffect:t2,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,zl(4194308,4,s2.bind(null,s,n),l)},useLayoutEffect:function(n,s){return zl(4194308,4,n,s)},useInsertionEffect:function(n,s){zl(4,2,n,s)},useMemo:function(n,s){var l=Hi();s=s===void 0?null:s;var u=n();if(Ar){St(!0);try{n()}finally{St(!1)}}return l.memoizedState=[u,s],u},useReducer:function(n,s,l){var u=Hi();if(l!==void 0){var g=l(s);if(Ar){St(!0);try{l(s)}finally{St(!1)}}}else g=s;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=Tw.bind(null,Ot,n),[u.memoizedState,n]},useRef:function(n){var s=Hi();return n={current:n},s.memoizedState=n},useState:function(n){n=_o(n);var s=n.queue,l=m2.bind(null,Ot,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:j1,useDeferredValue:function(n,s){var l=Hi();return R1(l,n,s)},useTransition:function(){var n=_o(!1);return n=u2.bind(null,Ot,n.queue,!0,!1),Hi().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var u=Ot,g=Hi();if(tn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Kn===null)throw Error(r(349));(an&127)!==0||qa(u,s,l)}g.memoizedState=l;var b={value:l,getSnapshot:s};return g.queue=b,t2(Xh.bind(null,u,b,n),[n]),u.flags|=2048,Qo(9,{destroy:void 0},Wh.bind(null,u,b,l,s),null),l},useId:function(){var n=Hi(),s=Kn.identifierPrefix;if(tn){var l=us,u=cs;l=(u&~(1<<32-Ft(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=ki++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Ru++,s="_"+s+"r_"+l.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:B1,useFormState:oa,useActionState:oa,useOptimistic:function(n){var s=Hi();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=q1.bind(null,Ot,!0,l),l.dispatch=s,[n,s]},useMemoCache:Zo,useCacheRefresh:function(){return Hi().memoizedState=Cw.bind(null,Ot)},useEffectEvent:function(n){var s=Hi(),l={impl:n};return s.memoizedState=l,function(){if((Mn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},z1={readContext:rr,use:Bl,useCallback:o2,useContext:rr,useEffect:D1,useImperativeHandle:a2,useInsertionEffect:i2,useLayoutEffect:r2,useMemo:l2,useReducer:qu,useRef:_d,useState:function(){return qu(aa)},useDebugValue:j1,useDeferredValue:function(n,s){var l=di();return c2(l,Mt.memoizedState,n,s)},useTransition:function(){var n=qu(aa)[0],s=di().memoizedState;return[typeof n=="boolean"?n:xo(n),s]},useSyncExternalStore:Fu,useId:d2,useHostTransitionStatus:B1,useFormState:za,useActionState:za,useOptimistic:function(n,s){var l=di();return vd(l,Mt,n,s)},useMemoCache:Zo,useCacheRefresh:p2};z1.useEffectEvent=n2;var b2={readContext:rr,use:Bl,useCallback:o2,useContext:rr,useEffect:D1,useImperativeHandle:a2,useInsertionEffect:i2,useLayoutEffect:r2,useMemo:l2,useReducer:zu,useRef:_d,useState:function(){return zu(aa)},useDebugValue:j1,useDeferredValue:function(n,s){var l=di();return Mt===null?R1(l,n,s):c2(l,Mt.memoizedState,n,s)},useTransition:function(){var n=zu(aa)[0],s=di().memoizedState;return[typeof n=="boolean"?n:xo(n),s]},useSyncExternalStore:Fu,useId:d2,useHostTransitionStatus:B1,useFormState:Vu,useActionState:Vu,useOptimistic:function(n,s){var l=di();return Mt!==null?vd(l,Mt,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Zo,useCacheRefresh:p2};b2.useEffectEvent=n2;function F1(n,s,l,u){s=n.memoizedState,l=l(u,s),l=l==null?s:x({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var P1={enqueueSetState:function(n,s,l){n=n._reactInternals;var u=qs(),g=Rt(u);g.payload=s,l!=null&&(g.callback=l),s=Xt(n,g,u),s!==null&&(vs(s,n,u),kn(s,n,u))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var u=qs(),g=Rt(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Xt(n,g,u),s!==null&&(vs(s,n,u),kn(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=qs(),u=Rt(l);u.tag=2,s!=null&&(u.callback=s),s=Xt(n,u,l),s!==null&&(vs(s,n,l),kn(s,n,l))}};function x2(n,s,l,u,g,b,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,b,M):s.prototype&&s.prototype.isPureReactComponent?!Ma(l,u)||!Ma(g,b):!0}function _2(n,s,l,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==n&&P1.enqueueReplaceState(s,s.state,null)}function Gc(n,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(n=n.defaultProps){l===s&&(l=x({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function w2(n){jc(n)}function S2(n){console.error(n)}function A2(n){jc(n)}function Sd(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function N2(n,s,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function U1(n,s,l){return l=Rt(l),l.tag=3,l.payload={element:null},l.callback=function(){Sd(n,s)},l}function C2(n){return n=Rt(n),n.tag=3,n}function T2(n,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var b=u.value;n.payload=function(){return g(b)},n.callback=function(){N2(s,l,u)}}var M=l.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(n.callback=function(){N2(s,l,u),typeof g!="function"&&(Hl===null?Hl=new Set([this]):Hl.add(this));var K=u.stack;this.componentDidCatch(u.value,{componentStack:K!==null?K:""})})}function Ew(n,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&go(s,l,g,!0),l=ri.current,l!==null){switch(l.tag){case 31:case 13:return mn===null?Rd():l.alternate===null&&Oi===0&&(Oi=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===xe?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),dm(n,u,g)),!1;case 22:return l.flags|=65536,u===xe?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),dm(n,u,g)),!1}throw Error(r(435,l.tag))}return dm(n,u,g),Rd(),!1}if(tn)return s=ri.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==Rs&&(n=Error(r(422),{cause:u}),jl(as(n,l)))):(u!==Rs&&(s=Error(r(423),{cause:u}),jl(as(s,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=as(u,l),g=U1(n.stateNode,u,g),Ii(n,g),Oi!==4&&(Oi=2)),!1;var b=Error(r(520),{cause:u});if(b=as(b,l),of===null?of=[b]:of.push(b),Oi!==4&&(Oi=2),s===null)return!0;u=as(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=U1(l.stateNode,u,n),Ii(l,n),!1;case 1:if(s=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Hl===null||!Hl.has(b))))return l.flags|=65536,g&=-g,l.lanes|=g,g=C2(g),T2(g,n,l,u),Ii(l,g),!1}l=l.return}while(l!==null);return!1}var V1=Error(r(461)),Gi=!1;function Nr(n,s,l,u){s.child=n===null?Gt(s,null,l,u):Zn(s,n.child,l,u)}function E2(n,s,l,u,g){l=l.render;var b=s.ref;if("ref"in u){var M={};for(var K in u)K!=="ref"&&(M[K]=u[K])}else M=u;return vo(s),u=Hh(n,s,l,M,b,g),K=Gh(),n!==null&&!Gi?(Yh(n,s,g),$o(n,s,g)):(tn&&K&&Fh(s),s.flags|=1,Nr(n,s,u,g),s.child)}function k2(n,s,l,u,g){if(n===null){var b=l.type;return typeof b=="function"&&!Cu(b)&&b.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=b,O2(n,s,b,u,g)):(n=Ml(l.type,null,u,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(b=n.child,!Q1(n,g)){var M=b.memoizedProps;if(l=l.compare,l=l!==null?l:Ma,l(M,u)&&n.ref===s.ref)return $o(n,s,g)}return s.flags|=1,n=ss(b,u),n.ref=s.ref,n.return=s,s.child=n}function O2(n,s,l,u,g){if(n!==null){var b=n.memoizedProps;if(Ma(b,u)&&n.ref===s.ref)if(Gi=!1,s.pendingProps=u=b,Q1(n,g))(n.flags&131072)!==0&&(Gi=!0);else return s.lanes=n.lanes,$o(n,s,g)}return H1(n,s,l,u,g)}function M2(n,s,l,u){var g=u.children,b=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,n!==null){for(u=s.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~b}else u=0,s.child=null;return L2(n,s,b,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ne(s,b!==null?b.cachePool:null),b!==null?ii(s,b):_n(),Ti(s);else return u=s.lanes=536870912,L2(n,s,b!==null?b.baseLanes|l:l,l,u)}else b!==null?(ne(s,b.cachePool),ii(s,b),Ei(),s.memoizedState=null):(n!==null&&ne(s,null),_n(),Ei());return Nr(n,s,g,l),s.child}function Jh(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function L2(n,s,l,u,g){var b=te();return b=b===null?null:{parent:_i._currentValue,pool:b},s.memoizedState={baseLanes:l,cachePool:b},n!==null&&ne(s,null),_n(),Ti(s),n!==null&&go(n,s,u,!0),s.childLanes=g,null}function Ad(n,s){return s=Cd({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function D2(n,s,l){return Zn(s,n.child,null,l),n=Ad(s,s.pendingProps),n.flags|=2,Rn(s),s.memoizedState=null,n}function kw(n,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(tn){if(u.mode==="hidden")return n=Ad(s,u),s.lanes=536870912,Jh(null,n);if(On(s),(n=Xn)?(n=G5(n,hi),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ho!==null?{id:cs,overflow:us}:null,retryLane:536870912,hydrationErrors:null},l=Tu(n),l.return=s,s.child=l,nr=s,Xn=null)):n=null,n===null)throw fo(s);return s.lanes=536870912,null}return Ad(s,u)}var b=n.memoizedState;if(b!==null){var M=b.dehydrated;if(On(s),g)if(s.flags&256)s.flags&=-257,s=D2(n,s,l);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Gi||go(n,s,l,!1),g=(l&n.childLanes)!==0,Gi||g){if(u=Kn,u!==null&&(M=Ln(u,l),M!==0&&M!==b.retryLane))throw b.retryLane=M,Ra(n,M),vs(u,n,M),V1;Rd(),s=D2(n,s,l)}else n=b.treeContext,Xn=la(M.nextSibling),nr=s,tn=!0,Sr=null,hi=!1,n!==null&&pd(s,n),s=Ad(s,u),s.flags|=4096;return s}return n=ss(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Nd(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function H1(n,s,l,u,g){return vo(s),l=Hh(n,s,l,u,void 0,g),u=Gh(),n!==null&&!Gi?(Yh(n,s,g),$o(n,s,g)):(tn&&u&&Fh(s),s.flags|=1,Nr(n,s,l,g),s.child)}function j2(n,s,l,u,g,b){return vo(s),s.updateQueue=null,l=Ba(s,u,l,g),Iu(n),u=Gh(),n!==null&&!Gi?(Yh(n,s,b),$o(n,s,b)):(tn&&u&&Fh(s),s.flags|=1,Nr(n,s,l,b),s.child)}function R2(n,s,l,u,g){if(vo(s),s.stateNode===null){var b=tr,M=l.contextType;typeof M=="object"&&M!==null&&(b=rr(M)),b=new l(u,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=P1,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=u,b.state=s.memoizedState,b.refs={},st(s),M=l.contextType,b.context=typeof M=="object"&&M!==null?rr(M):tr,b.state=s.memoizedState,M=l.getDerivedStateFromProps,typeof M=="function"&&(F1(s,l,M,u),b.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(M=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),M!==b.state&&P1.enqueueReplaceState(b,b.state,null),Ni(s,u,b,g),Pn(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){b=s.stateNode;var K=s.memoizedProps,he=Gc(l,K);b.props=he;var Oe=b.context,Fe=l.contextType;M=tr,typeof Fe=="object"&&Fe!==null&&(M=rr(Fe));var Ye=l.getDerivedStateFromProps;Fe=typeof Ye=="function"||typeof b.getSnapshotBeforeUpdate=="function",K=s.pendingProps!==K,Fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(K||Oe!==M)&&_2(s,b,u,M),dt=!1;var Me=s.memoizedState;b.state=Me,Ni(s,u,b,g),Pn(),Oe=s.memoizedState,K||Me!==Oe||dt?(typeof Ye=="function"&&(F1(s,l,Ye,u),Oe=s.memoizedState),(he=dt||x2(s,l,he,u,Me,Oe,M))?(Fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Oe),b.props=u,b.state=Oe,b.context=M,u=he):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{b=s.stateNode,ni(n,s),M=s.memoizedProps,Fe=Gc(l,M),b.props=Fe,Ye=s.pendingProps,Me=b.context,Oe=l.contextType,he=tr,typeof Oe=="object"&&Oe!==null&&(he=rr(Oe)),K=l.getDerivedStateFromProps,(Oe=typeof K=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==Ye||Me!==he)&&_2(s,b,u,he),dt=!1,Me=s.memoizedState,b.state=Me,Ni(s,u,b,g),Pn();var je=s.memoizedState;M!==Ye||Me!==je||dt||n!==null&&n.dependencies!==null&&Lu(n.dependencies)?(typeof K=="function"&&(F1(s,l,K,u),je=s.memoizedState),(Fe=dt||x2(s,l,Fe,u,Me,je,he)||n!==null&&n.dependencies!==null&&Lu(n.dependencies))?(Oe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,je,he),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,je,he)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===n.memoizedProps&&Me===n.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&Me===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=je),b.props=u,b.state=je,b.context=he,u=Fe):(typeof b.componentDidUpdate!="function"||M===n.memoizedProps&&Me===n.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&Me===n.memoizedState||(s.flags|=1024),u=!1)}return b=u,Nd(n,s),u=(s.flags&128)!==0,b||u?(b=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,n!==null&&u?(s.child=Zn(s,n.child,null,g),s.child=Zn(s,null,l,g)):Nr(n,s,l,g),s.memoizedState=b.state,n=s.child):n=$o(n,s,g),n}function I2(n,s,l,u){return Wo(),s.flags|=256,Nr(n,s,l,u),s.child}var G1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Y1(n){return{baseLanes:n,cachePool:ae()}}function W1(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=Bs),n}function B2(n,s,l){var u=s.pendingProps,g=!1,b=(s.flags&128)!==0,M;if((M=b)||(M=n!==null&&n.memoizedState===null?!1:(fn.current&2)!==0),M&&(g=!0,s.flags&=-129),M=(s.flags&32)!==0,s.flags&=-33,n===null){if(tn){if(g?wi(s):Ei(),(n=Xn)?(n=G5(n,hi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ho!==null?{id:cs,overflow:us}:null,retryLane:536870912,hydrationErrors:null},l=Tu(n),l.return=s,s.child=l,nr=s,Xn=null)):n=null,n===null)throw fo(s);return km(n)?s.lanes=32:s.lanes=536870912,null}var K=u.children;return u=u.fallback,g?(Ei(),g=s.mode,K=Cd({mode:"hidden",children:K},g),u=uo(u,g,l,null),K.return=s,u.return=s,K.sibling=u,s.child=K,u=s.child,u.memoizedState=Y1(l),u.childLanes=W1(n,M,l),s.memoizedState=G1,Jh(null,u)):(wi(s),X1(s,K))}var he=n.memoizedState;if(he!==null&&(K=he.dehydrated,K!==null)){if(b)s.flags&256?(wi(s),s.flags&=-257,s=Z1(n,s,l)):s.memoizedState!==null?(Ei(),s.child=n.child,s.flags|=128,s=null):(Ei(),K=u.fallback,g=s.mode,u=Cd({mode:"visible",children:u.children},g),K=uo(K,g,l,null),K.flags|=2,u.return=s,K.return=s,u.sibling=K,s.child=u,Zn(s,n.child,null,l),u=s.child,u.memoizedState=Y1(l),u.childLanes=W1(n,M,l),s.memoizedState=G1,s=Jh(null,u));else if(wi(s),km(K)){if(M=K.nextSibling&&K.nextSibling.dataset,M)var Oe=M.dgst;M=Oe,u=Error(r(419)),u.stack="",u.digest=M,jl({value:u,source:null,stack:null}),s=Z1(n,s,l)}else if(Gi||go(n,s,l,!1),M=(l&n.childLanes)!==0,Gi||M){if(M=Kn,M!==null&&(u=Ln(M,l),u!==0&&u!==he.retryLane))throw he.retryLane=u,Ra(n,u),vs(M,n,u),V1;Em(K)||Rd(),s=Z1(n,s,l)}else Em(K)?(s.flags|=192,s.child=n.child,s=null):(n=he.treeContext,Xn=la(K.nextSibling),nr=s,tn=!0,Sr=null,hi=!1,n!==null&&pd(s,n),s=X1(s,u.children),s.flags|=4096);return s}return g?(Ei(),K=u.fallback,g=s.mode,he=n.child,Oe=he.sibling,u=ss(he,{mode:"hidden",children:u.children}),u.subtreeFlags=he.subtreeFlags&65011712,Oe!==null?K=ss(Oe,K):(K=uo(K,g,l,null),K.flags|=2),K.return=s,u.return=s,u.sibling=K,s.child=u,Jh(null,u),u=s.child,K=n.child.memoizedState,K===null?K=Y1(l):(g=K.cachePool,g!==null?(he=_i._currentValue,g=g.parent!==he?{parent:he,pool:he}:g):g=ae(),K={baseLanes:K.baseLanes|l,cachePool:g}),u.memoizedState=K,u.childLanes=W1(n,M,l),s.memoizedState=G1,Jh(n.child,u)):(wi(s),l=n.child,n=l.sibling,l=ss(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,n!==null&&(M=s.deletions,M===null?(s.deletions=[n],s.flags|=16):M.push(n)),s.child=l,s.memoizedState=null,l)}function X1(n,s){return s=Cd({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Cd(n,s){return n=fr(22,n,null,s),n.lanes=0,n}function Z1(n,s,l){return Zn(s,n.child,null,l),n=X1(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function q2(n,s,l){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Rl(n.return,s,l)}function K1(n,s,l,u,g,b){var M=n.memoizedState;M===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:b}:(M.isBackwards=s,M.rendering=null,M.renderingStartTime=0,M.last=u,M.tail=l,M.tailMode=g,M.treeForkCount=b)}function z2(n,s,l){var u=s.pendingProps,g=u.revealOrder,b=u.tail;u=u.children;var M=fn.current,K=(M&2)!==0;if(K?(M=M&1|2,s.flags|=128):M&=1,H(fn,M),Nr(n,s,u,l),u=tn?Fc:0,!K&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&q2(n,l,s);else if(n.tag===19)q2(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&pr(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),K1(s,!1,g,l,b,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&pr(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}K1(s,!0,l,null,b,u);break;case"together":K1(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function $o(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Vl|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(go(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=ss(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=ss(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Q1(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Lu(n)))}function Ow(n,s,l){switch(s.tag){case 3:fe(s,s.stateNode.containerInfo),mo(s,_i,n.memoizedState.cache),Wo();break;case 27:case 5:_e(s);break;case 4:fe(s,s.stateNode.containerInfo);break;case 10:mo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,On(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(wi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?B2(n,s,l):(wi(s),n=$o(n,s,l),n!==null?n.sibling:null);wi(s);break;case 19:var g=(n.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(go(n,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return z2(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),H(fn,fn.current),u)break;return null;case 22:return s.lanes=0,M2(n,s,l,s.pendingProps);case 24:mo(s,_i,n.memoizedState.cache)}return $o(n,s,l)}function F2(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)Gi=!0;else{if(!Q1(n,l)&&(s.flags&128)===0)return Gi=!1,Ow(n,s,l);Gi=(n.flags&131072)!==0}else Gi=!1,tn&&(s.flags&1048576)!==0&&dd(s,Fc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Te(s.elementType),s.type=n,typeof n=="function")Cu(n)?(u=Gc(n,u),s.tag=1,s=R2(null,s,n,u,l)):(s.tag=0,s=H1(null,s,n,u,l));else{if(n!=null){var g=n.$$typeof;if(g===z){s.tag=11,s=E2(null,s,n,u,l);break e}else if(g===Y){s.tag=14,s=k2(null,s,n,u,l);break e}}throw s=$(n)||n,Error(r(306,s,""))}}return s;case 0:return H1(n,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=Gc(u,s.pendingProps),R2(n,s,u,g,l);case 3:e:{if(fe(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var b=s.memoizedState;g=b.element,ni(n,s),Ni(s,u,null,l);var M=s.memoizedState;if(u=M.cache,mo(s,_i,u),u!==b.cache&&Xo(s,[_i],l,!0),Pn(),u=M.element,b.isDehydrated)if(b={element:u,isDehydrated:!1,cache:M.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=I2(n,s,u,l);break e}else if(u!==g){g=as(Error(r(424)),s),jl(g),s=I2(n,s,u,l);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Xn=la(n.firstChild),nr=s,tn=!0,Sr=null,hi=!0,l=Gt(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Wo(),u===g){s=$o(n,s,l);break e}Nr(n,s,u,l)}s=s.child}return s;case 26:return Nd(n,s),n===null?(l=Q5(s.type,null,s.pendingProps,null))?s.memoizedState=l:tn||(l=s.type,n=s.pendingProps,u=Ud(oe.current).createElement(l),u[wn]=s,u[Wn]=n,Cr(u,l,n),vi(u),s.stateNode=u):s.memoizedState=Q5(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return _e(s),n===null&&tn&&(u=s.stateNode=X5(s.type,s.pendingProps,oe.current),nr=s,hi=!0,g=Xn,Xl(s.type)?(Om=g,Xn=la(u.firstChild)):Xn=g),Nr(n,s,s.pendingProps.children,l),Nd(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&tn&&((g=u=Xn)&&(u=a3(u,s.type,s.pendingProps,hi),u!==null?(s.stateNode=u,nr=s,Xn=la(u.firstChild),hi=!1,g=!0):g=!1),g||fo(s)),_e(s),g=s.type,b=s.pendingProps,M=n!==null?n.memoizedProps:null,u=b.children,Nm(g,b)?u=null:M!==null&&Nm(g,M)&&(s.flags|=32),s.memoizedState!==null&&(g=Hh(n,s,L1,null,null,l),mf._currentValue=g),Nd(n,s),Nr(n,s,u,l),s.child;case 6:return n===null&&tn&&((n=l=Xn)&&(l=o3(l,s.pendingProps,hi),l!==null?(s.stateNode=l,nr=s,Xn=null,n=!0):n=!1),n||fo(s)),null;case 13:return B2(n,s,l);case 4:return fe(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Zn(s,null,u,l):Nr(n,s,u,l),s.child;case 11:return E2(n,s,s.type,s.pendingProps,l);case 7:return Nr(n,s,s.pendingProps,l),s.child;case 8:return Nr(n,s,s.pendingProps.children,l),s.child;case 12:return Nr(n,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,mo(s,s.type,u.value),Nr(n,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,vo(s),g=rr(g),u=u(g),s.flags|=1,Nr(n,s,u,l),s.child;case 14:return k2(n,s,s.type,s.pendingProps,l);case 15:return O2(n,s,s.type,s.pendingProps,l);case 19:return z2(n,s,l);case 31:return kw(n,s,l);case 22:return M2(n,s,l,s.pendingProps);case 24:return vo(s),u=rr(_i),n===null?(g=te(),g===null&&(g=Kn,b=Il(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=l),g=b),s.memoizedState={parent:u,cache:g},st(s),mo(s,_i,g)):((n.lanes&l)!==0&&(ni(n,s),Ni(s,null,null,l),Pn()),g=n.memoizedState,b=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),mo(s,_i,u)):(u=b.cache,mo(s,_i,u),u!==g.cache&&Xo(s,[_i],l,!0))),Nr(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Jo(n){n.flags|=4}function $1(n,s,l,u,g){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(d5())n.flags|=8192;else throw Ie=xe,Ee}else n.flags&=-16777217}function P2(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!nv(s))if(d5())n.flags|=8192;else throw Ie=xe,Ee}function Td(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?cn():536870912,n.lanes|=s,Wu|=s)}function ef(n,s){if(!tn)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function si(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=l,s}function Mw(n,s,l){var u=s.pendingProps;switch(Ou(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(s),null;case 1:return si(s),null;case 3:return l=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),hs(_i),me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(ir(s)?Jo(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Uh())),si(s),null;case 26:var g=s.type,b=s.memoizedState;return n===null?(Jo(s),b!==null?(si(s),P2(s,b)):(si(s),$1(s,g,null,u,l))):b?b!==n.memoizedState?(Jo(s),si(s),P2(s,b)):(si(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&Jo(s),si(s),$1(s,g,n,u,l)),null;case 27:if(Re(s),l=oe.current,g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Jo(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return si(s),null}n=ee.current,ir(s)?Ph(s):(n=X5(g,u,l),s.stateNode=n,Jo(s))}return si(s),null;case 5:if(Re(s),g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Jo(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return si(s),null}if(b=ee.current,ir(s))Ph(s);else{var M=Ud(oe.current);switch(b){case 1:b=M.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=M.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=M.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof u.is=="string"?M.createElement("select",{is:u.is}):M.createElement("select"),u.multiple?b.multiple=!0:u.size&&(b.size=u.size);break;default:b=typeof u.is=="string"?M.createElement(g,{is:u.is}):M.createElement(g)}}b[wn]=s,b[Wn]=u;e:for(M=s.child;M!==null;){if(M.tag===5||M.tag===6)b.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===s)break e;for(;M.sibling===null;){if(M.return===null||M.return===s)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}s.stateNode=b;e:switch(Cr(b,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Jo(s)}}return si(s),$1(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,l),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Jo(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=oe.current,ir(s)){if(n=s.stateNode,l=s.memoizedProps,u=null,g=nr,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[wn]=s,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||B5(n.nodeValue,l)),n||fo(s,!0)}else n=Ud(n).createTextNode(u),n[wn]=s,s.stateNode=n}return si(s),null;case 31:if(l=s.memoizedState,n===null||n.memoizedState!==null){if(u=ir(s),l!==null){if(n===null){if(!u)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[wn]=s}else Wo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;si(s),n=!1}else l=Uh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return s.flags&256?(Rn(s),s):(Rn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return si(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=ir(s),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[wn]=s}else Wo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;si(s),g=!1}else g=Uh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Rn(s),s):(Rn(s),null)}return Rn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==g&&(u.flags|=2048)),l!==n&&l&&(s.child.flags|=8192),Td(s,s.updateQueue),si(s),null);case 4:return me(),n===null&&xm(s.stateNode.containerInfo),si(s),null;case 10:return hs(s.type),si(s),null;case 19:if(T(fn),u=s.memoizedState,u===null)return si(s),null;if(g=(s.flags&128)!==0,b=u.rendering,b===null)if(g)ef(u,!1);else{if(Oi!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(b=pr(n),b!==null){for(s.flags|=128,ef(u,!1),n=b.updateQueue,s.updateQueue=n,Td(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)qc(l,n),l=l.sibling;return H(fn,fn.current&1|2),tn&&Kr(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&kt()>Ld&&(s.flags|=128,g=!0,ef(u,!1),s.lanes=4194304)}else{if(!g)if(n=pr(b),n!==null){if(s.flags|=128,g=!0,n=n.updateQueue,s.updateQueue=n,Td(s,n),ef(u,!0),u.tail===null&&u.tailMode==="hidden"&&!b.alternate&&!tn)return si(s),null}else 2*kt()-u.renderingStartTime>Ld&&l!==536870912&&(s.flags|=128,g=!0,ef(u,!1),s.lanes=4194304);u.isBackwards?(b.sibling=s.child,s.child=b):(n=u.last,n!==null?n.sibling=b:s.child=b,u.last=b)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=kt(),n.sibling=null,l=fn.current,H(fn,g?l&1|2:l&1),tn&&Kr(s,u.treeForkCount),n):(si(s),null);case 22:case 23:return Rn(s),Bi(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(si(s),s.subtreeFlags&6&&(s.flags|=8192)):si(s),l=s.updateQueue,l!==null&&Td(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),n!==null&&T(W),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),hs(_i),si(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Lw(n,s){switch(Ou(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return hs(_i),me(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Re(s),null;case 31:if(s.memoizedState!==null){if(Rn(s),s.alternate===null)throw Error(r(340));Wo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Rn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Wo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return T(fn),null;case 4:return me(),null;case 10:return hs(s.type),null;case 22:case 23:return Rn(s),Bi(),n!==null&&T(W),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return hs(_i),null;case 25:return null;default:return null}}function U2(n,s){switch(Ou(s),s.tag){case 3:hs(_i),me();break;case 26:case 27:case 5:Re(s);break;case 4:me();break;case 31:s.memoizedState!==null&&Rn(s);break;case 13:Rn(s);break;case 19:T(fn);break;case 10:hs(s.type);break;case 22:case 23:Rn(s),Bi(),n!==null&&T(W);break;case 24:hs(_i)}}function tf(n,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&n)===n){u=void 0;var b=l.create,M=l.inst;u=b(),M.destroy=u}l=l.next}while(l!==g)}}catch(K){Bn(s,s.return,K)}}function Pl(n,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var b=g.next;u=b;do{if((u.tag&n)===n){var M=u.inst,K=M.destroy;if(K!==void 0){M.destroy=void 0,g=s;var he=l,Oe=K;try{Oe()}catch(Fe){Bn(g,he,Fe)}}}u=u.next}while(u!==b)}}catch(Fe){Bn(s,s.return,Fe)}}function V2(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{Ci(s,l)}catch(u){Bn(n,n.return,u)}}}function H2(n,s,l){l.props=Gc(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Bn(n,s,u)}}function nf(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(g){Bn(n,s,g)}}function wo(n,s){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Bn(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Bn(n,s,g)}else l.current=null}function G2(n){var s=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Bn(n,n.return,g)}}function J1(n,s,l){try{var u=n.stateNode;e3(u,n.type,l,s),u[Wn]=s}catch(g){Bn(n,n.return,g)}}function Y2(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Xl(n.type)||n.tag===4}function em(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Y2(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Xl(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function tm(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ks));else if(u!==4&&(u===27&&Xl(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(tm(n,s,l),n=n.sibling;n!==null;)tm(n,s,l),n=n.sibling}function Ed(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(u!==4&&(u===27&&Xl(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Ed(n,s,l),n=n.sibling;n!==null;)Ed(n,s,l),n=n.sibling}function W2(n){var s=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Cr(s,u,l),s[wn]=n,s[Wn]=l}catch(b){Bn(n,n.return,b)}}var el=!1,Yi=!1,nm=!1,X2=typeof WeakSet=="function"?WeakSet:Set,mr=null;function Dw(n,s){if(n=n.containerInfo,Sm=Zd,n=Da(n),ia(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,b=u.focusNode;u=u.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var M=0,K=-1,he=-1,Oe=0,Fe=0,Ye=n,Me=null;t:for(;;){for(var je;Ye!==l||g!==0&&Ye.nodeType!==3||(K=M+g),Ye!==b||u!==0&&Ye.nodeType!==3||(he=M+u),Ye.nodeType===3&&(M+=Ye.nodeValue.length),(je=Ye.firstChild)!==null;)Me=Ye,Ye=je;for(;;){if(Ye===n)break t;if(Me===l&&++Oe===g&&(K=M),Me===b&&++Fe===u&&(he=M),(je=Ye.nextSibling)!==null)break;Ye=Me,Me=Ye.parentNode}Ye=je}l=K===-1||he===-1?null:{start:K,end:he}}else l=null}l=l||{start:0,end:0}}else l=null;for(Am={focusedElem:n,selectionRange:l},Zd=!1,mr=s;mr!==null;)if(s=mr,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,mr=n;else for(;mr!==null;){switch(s=mr,b=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&b!==null){n=void 0,l=s,g=b.memoizedProps,b=b.memoizedState,u=l.stateNode;try{var bt=Gc(l.type,g);n=u.getSnapshotBeforeUpdate(bt,b),u.__reactInternalSnapshotBeforeUpdate=n}catch(It){Bn(l,l.return,It)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)Tm(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Tm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,mr=n;break}mr=s.return}}function Z2(n,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:nl(n,l),u&4&&tf(5,l);break;case 1:if(nl(n,l),u&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(M){Bn(l,l.return,M)}else{var g=Gc(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(M){Bn(l,l.return,M)}}u&64&&V2(l),u&512&&nf(l,l.return);break;case 3:if(nl(n,l),u&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Ci(n,s)}catch(M){Bn(l,l.return,M)}}break;case 27:s===null&&u&4&&W2(l);case 26:case 5:nl(n,l),s===null&&u&4&&G2(l),u&512&&nf(l,l.return);break;case 12:nl(n,l);break;case 31:nl(n,l),u&4&&$2(n,l);break;case 13:nl(n,l),u&4&&J2(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=Uw.bind(null,l),l3(n,l))));break;case 22:if(u=l.memoizedState!==null||el,!u){s=s!==null&&s.memoizedState!==null||Yi,g=el;var b=Yi;el=u,(Yi=s)&&!b?il(n,l,(l.subtreeFlags&8772)!==0):nl(n,l),el=g,Yi=b}break;case 30:break;default:nl(n,l)}}function K2(n){var s=n.alternate;s!==null&&(n.alternate=null,K2(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ys(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pi=null,ds=!1;function tl(n,s,l){for(l=l.child;l!==null;)Q2(n,s,l),l=l.sibling}function Q2(n,s,l){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Dt,l)}catch{}switch(l.tag){case 26:Yi||wo(l,s),tl(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Yi||wo(l,s);var u=pi,g=ds;Xl(l.type)&&(pi=l.stateNode,ds=!1),tl(n,s,l),ff(l.stateNode),pi=u,ds=g;break;case 5:Yi||wo(l,s);case 6:if(u=pi,g=ds,pi=null,tl(n,s,l),pi=u,ds=g,pi!==null)if(ds)try{(pi.nodeType===9?pi.body:pi.nodeName==="HTML"?pi.ownerDocument.body:pi).removeChild(l.stateNode)}catch(b){Bn(l,s,b)}else try{pi.removeChild(l.stateNode)}catch(b){Bn(l,s,b)}break;case 18:pi!==null&&(ds?(n=pi,V5(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),th(n)):V5(pi,l.stateNode));break;case 4:u=pi,g=ds,pi=l.stateNode.containerInfo,ds=!0,tl(n,s,l),pi=u,ds=g;break;case 0:case 11:case 14:case 15:Pl(2,l,s),Yi||Pl(4,l,s),tl(n,s,l);break;case 1:Yi||(wo(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&H2(l,s,u)),tl(n,s,l);break;case 21:tl(n,s,l);break;case 22:Yi=(u=Yi)||l.memoizedState!==null,tl(n,s,l),Yi=u;break;default:tl(n,s,l)}}function $2(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{th(n)}catch(l){Bn(s,s.return,l)}}}function J2(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{th(n)}catch(l){Bn(s,s.return,l)}}function jw(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new X2),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new X2),s;default:throw Error(r(435,n.tag))}}function kd(n,s){var l=jw(n);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=Vw.bind(null,n,u);u.then(g,g)}})}function ps(n,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],b=n,M=s,K=M;e:for(;K!==null;){switch(K.tag){case 27:if(Xl(K.type)){pi=K.stateNode,ds=!1;break e}break;case 5:pi=K.stateNode,ds=!1;break e;case 3:case 4:pi=K.stateNode.containerInfo,ds=!0;break e}K=K.return}if(pi===null)throw Error(r(160));Q2(b,M,g),pi=null,ds=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)e5(s,n),s=s.sibling}var Pa=null;function e5(n,s){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ps(s,n),ms(n),u&4&&(Pl(3,n,n.return),tf(3,n),Pl(5,n,n.return));break;case 1:ps(s,n),ms(n),u&512&&(Yi||l===null||wo(l,l.return)),u&64&&el&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=Pa;if(ps(s,n),ms(n),u&512&&(Yi||l===null||wo(l,l.return)),u&4){var b=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Ur]||b[wn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(u),g.head.insertBefore(b,g.querySelector("head > title"))),Cr(b,u,l),b[wn]=n,vi(b),u=b;break e;case"link":var M=ev("link","href",g).get(u+(l.href||""));if(M){for(var K=0;K<M.length;K++)if(b=M[K],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){M.splice(K,1);break t}}b=g.createElement(u),Cr(b,u,l),g.head.appendChild(b);break;case"meta":if(M=ev("meta","content",g).get(u+(l.content||""))){for(K=0;K<M.length;K++)if(b=M[K],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){M.splice(K,1);break t}}b=g.createElement(u),Cr(b,u,l),g.head.appendChild(b);break;default:throw Error(r(468,u))}b[wn]=n,vi(b),u=b}n.stateNode=u}else tv(g,n.type,n.stateNode);else n.stateNode=J5(g,u,n.memoizedProps);else b!==u?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,u===null?tv(g,n.type,n.stateNode):J5(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&J1(n,n.memoizedProps,l.memoizedProps)}break;case 27:ps(s,n),ms(n),u&512&&(Yi||l===null||wo(l,l.return)),l!==null&&u&4&&J1(n,n.memoizedProps,l.memoizedProps);break;case 5:if(ps(s,n),ms(n),u&512&&(Yi||l===null||wo(l,l.return)),n.flags&32){g=n.stateNode;try{Es(g,"")}catch(bt){Bn(n,n.return,bt)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,J1(n,g,l!==null?l.memoizedProps:g)),u&1024&&(nm=!0);break;case 6:if(ps(s,n),ms(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(bt){Bn(n,n.return,bt)}}break;case 3:if(Gd=null,g=Pa,Pa=Vd(s.containerInfo),ps(s,n),Pa=g,ms(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{th(s.containerInfo)}catch(bt){Bn(n,n.return,bt)}nm&&(nm=!1,t5(n));break;case 4:u=Pa,Pa=Vd(n.stateNode.containerInfo),ps(s,n),ms(n),Pa=u;break;case 12:ps(s,n),ms(n);break;case 31:ps(s,n),ms(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,kd(n,u)));break;case 13:ps(s,n),ms(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Md=kt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,kd(n,u)));break;case 22:g=n.memoizedState!==null;var he=l!==null&&l.memoizedState!==null,Oe=el,Fe=Yi;if(el=Oe||g,Yi=Fe||he,ps(s,n),Yi=Fe,el=Oe,ms(n),u&8192)e:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||he||el||Yi||Yc(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){he=l=s;try{if(b=he.stateNode,g)M=b.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{K=he.stateNode;var Ye=he.memoizedProps.style,Me=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;K.style.display=Me==null||typeof Me=="boolean"?"":(""+Me).trim()}}catch(bt){Bn(he,he.return,bt)}}}else if(s.tag===6){if(l===null){he=s;try{he.stateNode.nodeValue=g?"":he.memoizedProps}catch(bt){Bn(he,he.return,bt)}}}else if(s.tag===18){if(l===null){he=s;try{var je=he.stateNode;g?H5(je,!0):H5(he.stateNode,!1)}catch(bt){Bn(he,he.return,bt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,kd(n,l))));break;case 19:ps(s,n),ms(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,kd(n,u)));break;case 30:break;case 21:break;default:ps(s,n),ms(n)}}function ms(n){var s=n.flags;if(s&2){try{for(var l,u=n.return;u!==null;){if(Y2(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,b=em(n);Ed(n,b,g);break;case 5:var M=l.stateNode;l.flags&32&&(Es(M,""),l.flags&=-33);var K=em(n);Ed(n,K,M);break;case 3:case 4:var he=l.stateNode.containerInfo,Oe=em(n);tm(n,Oe,he);break;default:throw Error(r(161))}}catch(Fe){Bn(n,n.return,Fe)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function t5(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;t5(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function nl(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Z2(n,s.alternate,s),s=s.sibling}function Yc(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Pl(4,s,s.return),Yc(s);break;case 1:wo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&H2(s,s.return,l),Yc(s);break;case 27:ff(s.stateNode);case 26:case 5:wo(s,s.return),Yc(s);break;case 22:s.memoizedState===null&&Yc(s);break;case 30:Yc(s);break;default:Yc(s)}n=n.sibling}}function il(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=n,b=s,M=b.flags;switch(b.tag){case 0:case 11:case 15:il(g,b,l),tf(4,b);break;case 1:if(il(g,b,l),u=b,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Oe){Bn(u,u.return,Oe)}if(u=b,g=u.updateQueue,g!==null){var K=u.stateNode;try{var he=g.shared.hiddenCallbacks;if(he!==null)for(g.shared.hiddenCallbacks=null,g=0;g<he.length;g++)dr(he[g],K)}catch(Oe){Bn(u,u.return,Oe)}}l&&M&64&&V2(b),nf(b,b.return);break;case 27:W2(b);case 26:case 5:il(g,b,l),l&&u===null&&M&4&&G2(b),nf(b,b.return);break;case 12:il(g,b,l);break;case 31:il(g,b,l),l&&M&4&&$2(g,b);break;case 13:il(g,b,l),l&&M&4&&J2(g,b);break;case 22:b.memoizedState===null&&il(g,b,l),nf(b,b.return);break;case 30:break;default:il(g,b,l)}s=s.sibling}}function im(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Pc(l))}function rm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Pc(n))}function Ua(n,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)n5(n,s,l,u),s=s.sibling}function n5(n,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Ua(n,s,l,u),g&2048&&tf(9,s);break;case 1:Ua(n,s,l,u);break;case 3:Ua(n,s,l,u),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Pc(n)));break;case 12:if(g&2048){Ua(n,s,l,u),n=s.stateNode;try{var b=s.memoizedProps,M=b.id,K=b.onPostCommit;typeof K=="function"&&K(M,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(he){Bn(s,s.return,he)}}else Ua(n,s,l,u);break;case 31:Ua(n,s,l,u);break;case 13:Ua(n,s,l,u);break;case 23:break;case 22:b=s.stateNode,M=s.alternate,s.memoizedState!==null?b._visibility&2?Ua(n,s,l,u):rf(n,s):b._visibility&2?Ua(n,s,l,u):(b._visibility|=2,Hu(n,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&im(M,s);break;case 24:Ua(n,s,l,u),g&2048&&rm(s.alternate,s);break;default:Ua(n,s,l,u)}}function Hu(n,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=n,M=s,K=l,he=u,Oe=M.flags;switch(M.tag){case 0:case 11:case 15:Hu(b,M,K,he,g),tf(8,M);break;case 23:break;case 22:var Fe=M.stateNode;M.memoizedState!==null?Fe._visibility&2?Hu(b,M,K,he,g):rf(b,M):(Fe._visibility|=2,Hu(b,M,K,he,g)),g&&Oe&2048&&im(M.alternate,M);break;case 24:Hu(b,M,K,he,g),g&&Oe&2048&&rm(M.alternate,M);break;default:Hu(b,M,K,he,g)}s=s.sibling}}function rf(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,u=s,g=u.flags;switch(u.tag){case 22:rf(l,u),g&2048&&im(u.alternate,u);break;case 24:rf(l,u),g&2048&&rm(u.alternate,u);break;default:rf(l,u)}s=s.sibling}}var sf=8192;function Gu(n,s,l){if(n.subtreeFlags&sf)for(n=n.child;n!==null;)i5(n,s,l),n=n.sibling}function i5(n,s,l){switch(n.tag){case 26:Gu(n,s,l),n.flags&sf&&n.memoizedState!==null&&x3(l,Pa,n.memoizedState,n.memoizedProps);break;case 5:Gu(n,s,l);break;case 3:case 4:var u=Pa;Pa=Vd(n.stateNode.containerInfo),Gu(n,s,l),Pa=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=sf,sf=16777216,Gu(n,s,l),sf=u):Gu(n,s,l));break;default:Gu(n,s,l)}}function r5(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function af(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];mr=u,a5(u,n)}r5(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)s5(n),n=n.sibling}function s5(n){switch(n.tag){case 0:case 11:case 15:af(n),n.flags&2048&&Pl(9,n,n.return);break;case 3:af(n);break;case 12:af(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Od(n)):af(n);break;default:af(n)}}function Od(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];mr=u,a5(u,n)}r5(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Pl(8,s,s.return),Od(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Od(s));break;default:Od(s)}n=n.sibling}}function a5(n,s){for(;mr!==null;){var l=mr;switch(l.tag){case 0:case 11:case 15:Pl(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Pc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,mr=u;else e:for(l=n;mr!==null;){u=mr;var g=u.sibling,b=u.return;if(K2(u),u===l){mr=null;break e}if(g!==null){g.return=b,mr=g;break e}mr=b}}}var Rw={getCacheForType:function(n){var s=rr(_i),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l},cacheSignal:function(){return rr(_i).controller.signal}},Iw=typeof WeakMap=="function"?WeakMap:Map,Mn=0,Kn=null,nn=null,an=0,In=0,Is=null,Ul=!1,Yu=!1,sm=!1,rl=0,Oi=0,Vl=0,Wc=0,am=0,Bs=0,Wu=0,of=null,gs=null,om=!1,Md=0,o5=0,Ld=1/0,Dd=null,Hl=null,ar=0,Gl=null,Xu=null,sl=0,lm=0,cm=null,l5=null,lf=0,um=null;function qs(){return(Mn&2)!==0&&an!==0?an&-an:Q.T!==null?gm():Dn()}function c5(){if(Bs===0)if((an&536870912)===0||tn){var n=Et;Et<<=1,(Et&3932160)===0&&(Et=262144),Bs=n}else Bs=536870912;return n=ri.current,n!==null&&(n.flags|=32),Bs}function vs(n,s,l){(n===Kn&&(In===2||In===9)||n.cancelPendingCommit!==null)&&(Zu(n,0),Yl(n,an,Bs,!1)),ht(n,l),((Mn&2)===0||n!==Kn)&&(n===Kn&&((Mn&2)===0&&(Wc|=l),Oi===4&&Yl(n,an,Bs,!1)),So(n))}function u5(n,s,l){if((Mn&6)!==0)throw Error(r(327));var u=!l&&(s&127)===0&&(s&n.expiredLanes)===0||Nn(n,s),g=u?zw(n,s):fm(n,s,!0),b=u;do{if(g===0){Yu&&!u&&Yl(n,s,0,!1);break}else{if(l=n.current.alternate,b&&!Bw(l)){g=fm(n,s,!1),b=!1;continue}if(g===2){if(b=s,n.errorRecoveryDisabledLanes&b)var M=0;else M=n.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){s=M;e:{var K=n;g=of;var he=K.current.memoizedState.isDehydrated;if(he&&(Zu(K,M).flags|=256),M=fm(K,M,!1),M!==2){if(sm&&!he){K.errorRecoveryDisabledLanes|=b,Wc|=b,g=4;break e}b=gs,gs=g,b!==null&&(gs===null?gs=b:gs.push.apply(gs,b))}g=M}if(b=!1,g!==2)continue}}if(g===1){Zu(n,0),Yl(n,s,0,!0);break}e:{switch(u=n,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Yl(u,s,Bs,!Ul);break e;case 2:gs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Md+300-kt(),10<g)){if(Yl(u,s,Bs,!Ul),vt(u,0,!0)!==0)break e;sl=s,u.timeoutHandle=P5(h5.bind(null,u,l,gs,Dd,om,s,Bs,Wc,Wu,Ul,b,"Throttled",-0,0),g);break e}h5(u,l,gs,Dd,om,s,Bs,Wc,Wu,Ul,b,null,-0,0)}}break}while(!0);So(n)}function h5(n,s,l,u,g,b,M,K,he,Oe,Fe,Ye,Me,je){if(n.timeoutHandle=-1,Ye=s.subtreeFlags,Ye&8192||(Ye&16785408)===16785408){Ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ks},i5(s,b,Ye);var bt=(b&62914560)===b?Md-kt():(b&4194048)===b?o5-kt():0;if(bt=_3(Ye,bt),bt!==null){sl=b,n.cancelPendingCommit=bt(b5.bind(null,n,s,b,l,u,g,M,K,he,Fe,Ye,null,Me,je)),Yl(n,b,M,!Oe);return}}b5(n,s,b,l,u,g,M,K,he)}function Bw(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],b=g.getSnapshot;g=g.value;try{if(!er(b(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yl(n,s,l,u){s&=~am,s&=~Wc,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var g=s;0<g;){var b=31-Ft(g),M=1<<b;u[b]=-1,g&=~M}l!==0&&jn(n,l,s)}function jd(){return(Mn&6)===0?(cf(0),!1):!0}function hm(){if(nn!==null){if(In===0)var n=nn.return;else n=nn,sa=po=null,Bu(n),We=null,xt=0,n=nn;for(;n!==null;)U2(n.alternate,n),n=n.return;nn=null}}function Zu(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,i3(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),sl=0,hm(),Kn=n,nn=l=ss(n.current,null),an=s,In=0,Is=null,Ul=!1,Yu=Nn(n,s),sm=!1,Wu=Bs=am=Wc=Vl=Oi=0,gs=of=null,om=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var g=31-Ft(u),b=1<<g;s|=n[g],u&=~b}return rl=s,Rc(),l}function f5(n,s){Ot=null,Q.H=$h,s===ye||s===se?(s=Ue(),In=3):s===Ee?(s=Ue(),In=4):In=s===V1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Is=s,nn===null&&(Oi=1,Sd(n,as(s,n.current)))}function d5(){var n=ri.current;return n===null?!0:(an&4194048)===an?mn===null:(an&62914560)===an||(an&536870912)!==0?n===mn:!1}function p5(){var n=Q.H;return Q.H=$h,n===null?$h:n}function m5(){var n=Q.A;return Q.A=Rw,n}function Rd(){Oi=4,Ul||(an&4194048)!==an&&ri.current!==null||(Yu=!0),(Vl&134217727)===0&&(Wc&134217727)===0||Kn===null||Yl(Kn,an,Bs,!1)}function fm(n,s,l){var u=Mn;Mn|=2;var g=p5(),b=m5();(Kn!==n||an!==s)&&(Dd=null,Zu(n,s)),s=!1;var M=Oi;e:do try{if(In!==0&&nn!==null){var K=nn,he=Is;switch(In){case 8:hm(),M=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(s=!0);var Oe=In;if(In=0,Is=null,Ku(n,K,he,Oe),l&&Yu){M=0;break e}break;default:Oe=In,In=0,Is=null,Ku(n,K,he,Oe)}}qw(),M=Oi;break}catch(Fe){f5(n,Fe)}while(!0);return s&&n.shellSuspendCounter++,sa=po=null,Mn=u,Q.H=g,Q.A=b,nn===null&&(Kn=null,an=0,Rc()),M}function qw(){for(;nn!==null;)g5(nn)}function zw(n,s){var l=Mn;Mn|=2;var u=p5(),g=m5();Kn!==n||an!==s?(Dd=null,Ld=kt()+500,Zu(n,s)):Yu=Nn(n,s);e:do try{if(In!==0&&nn!==null){s=nn;var b=Is;t:switch(In){case 1:In=0,Is=null,Ku(n,s,b,1);break;case 2:case 9:if(Ce(b)){In=0,Is=null,v5(s);break}s=function(){In!==2&&In!==9||Kn!==n||(In=7),So(n)},b.then(s,s);break e;case 3:In=7;break e;case 4:In=5;break e;case 7:Ce(b)?(In=0,Is=null,v5(s)):(In=0,Is=null,Ku(n,s,b,7));break;case 5:var M=null;switch(nn.tag){case 26:M=nn.memoizedState;case 5:case 27:var K=nn;if(M?nv(M):K.stateNode.complete){In=0,Is=null;var he=K.sibling;if(he!==null)nn=he;else{var Oe=K.return;Oe!==null?(nn=Oe,Id(Oe)):nn=null}break t}}In=0,Is=null,Ku(n,s,b,5);break;case 6:In=0,Is=null,Ku(n,s,b,6);break;case 8:hm(),Oi=6;break e;default:throw Error(r(462))}}Fw();break}catch(Fe){f5(n,Fe)}while(!0);return sa=po=null,Q.H=u,Q.A=g,Mn=l,nn!==null?0:(Kn=null,an=0,Rc(),Oi)}function Fw(){for(;nn!==null&&!lt();)g5(nn)}function g5(n){var s=F2(n.alternate,n,rl);n.memoizedProps=n.pendingProps,s===null?Id(n):nn=s}function v5(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=j2(l,s,s.pendingProps,s.type,void 0,an);break;case 11:s=j2(l,s,s.pendingProps,s.type.render,s.ref,an);break;case 5:Bu(s);default:U2(l,s),s=nn=qc(s,rl),s=F2(l,s,rl)}n.memoizedProps=n.pendingProps,s===null?Id(n):nn=s}function Ku(n,s,l,u){sa=po=null,Bu(s),We=null,xt=0;var g=s.return;try{if(Ew(n,g,s,l,an)){Oi=1,Sd(n,as(l,n.current)),nn=null;return}}catch(b){if(g!==null)throw nn=g,b;Oi=1,Sd(n,as(l,n.current)),nn=null;return}s.flags&32768?(tn||u===1?n=!0:Yu||(an&536870912)!==0?n=!1:(Ul=n=!0,(u===2||u===9||u===3||u===6)&&(u=ri.current,u!==null&&u.tag===13&&(u.flags|=16384))),y5(s,n)):Id(s)}function Id(n){var s=n;do{if((s.flags&32768)!==0){y5(s,Ul);return}n=s.return;var l=Mw(s.alternate,s,rl);if(l!==null){nn=l;return}if(s=s.sibling,s!==null){nn=s;return}nn=s=n}while(s!==null);Oi===0&&(Oi=5)}function y5(n,s){do{var l=Lw(n.alternate,n);if(l!==null){l.flags&=32767,nn=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){nn=n;return}nn=n=l}while(n!==null);Oi=6,nn=null}function b5(n,s,l,u,g,b,M,K,he){n.cancelPendingCommit=null;do Bd();while(ar!==0);if((Mn&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=Su,sn(n,l,b,M,K,he),n===Kn&&(nn=Kn=null,an=0),Xu=s,Gl=n,sl=l,lm=b,cm=g,l5=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Hw(gt,function(){return A5(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,g=re.p,re.p=2,M=Mn,Mn|=4;try{Dw(n,s,l)}finally{Mn=M,re.p=g,Q.T=u}}ar=1,x5(),_5(),w5()}}function x5(){if(ar===1){ar=0;var n=Gl,s=Xu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var u=re.p;re.p=2;var g=Mn;Mn|=4;try{e5(s,n);var b=Am,M=Da(n.containerInfo),K=b.focusedElem,he=b.selectionRange;if(M!==K&&K&&K.ownerDocument&&La(K.ownerDocument.documentElement,K)){if(he!==null&&ia(K)){var Oe=he.start,Fe=he.end;if(Fe===void 0&&(Fe=Oe),"selectionStart"in K)K.selectionStart=Oe,K.selectionEnd=Math.min(Fe,K.value.length);else{var Ye=K.ownerDocument||document,Me=Ye&&Ye.defaultView||window;if(Me.getSelection){var je=Me.getSelection(),bt=K.textContent.length,It=Math.min(he.start,bt),Hn=he.end===void 0?It:Math.min(he.end,bt);!je.extend&&It>Hn&&(M=Hn,Hn=It,It=M);var Ae=Ol(K,It),be=Ol(K,Hn);if(Ae&&be&&(je.rangeCount!==1||je.anchorNode!==Ae.node||je.anchorOffset!==Ae.offset||je.focusNode!==be.node||je.focusOffset!==be.offset)){var ke=Ye.createRange();ke.setStart(Ae.node,Ae.offset),je.removeAllRanges(),It>Hn?(je.addRange(ke),je.extend(be.node,be.offset)):(ke.setEnd(be.node,be.offset),je.addRange(ke))}}}}for(Ye=[],je=K;je=je.parentNode;)je.nodeType===1&&Ye.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Ye.length;K++){var Ve=Ye[K];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}Zd=!!Sm,Am=Sm=null}finally{Mn=g,re.p=u,Q.T=l}}n.current=s,ar=2}}function _5(){if(ar===2){ar=0;var n=Gl,s=Xu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var u=re.p;re.p=2;var g=Mn;Mn|=4;try{Z2(n,s.alternate,s)}finally{Mn=g,re.p=u,Q.T=l}}ar=3}}function w5(){if(ar===4||ar===3){ar=0,pt();var n=Gl,s=Xu,l=sl,u=l5;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ar=5:(ar=0,Xu=Gl=null,S5(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Hl=null),En(l),s=s.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Dt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Q.T,g=re.p,re.p=2,Q.T=null;try{for(var b=n.onRecoverableError,M=0;M<u.length;M++){var K=u[M];b(K.value,{componentStack:K.stack})}}finally{Q.T=s,re.p=g}}(sl&3)!==0&&Bd(),So(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===um?lf++:(lf=0,um=n):lf=0,cf(0)}}function S5(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Pc(s)))}function Bd(){return x5(),_5(),w5(),A5()}function A5(){if(ar!==5)return!1;var n=Gl,s=lm;lm=0;var l=En(sl),u=Q.T,g=re.p;try{re.p=32>l?32:l,Q.T=null,l=cm,cm=null;var b=Gl,M=sl;if(ar=0,Xu=Gl=null,sl=0,(Mn&6)!==0)throw Error(r(331));var K=Mn;if(Mn|=4,s5(b.current),n5(b,b.current,M,l),Mn=K,cf(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Dt,b)}catch{}return!0}finally{re.p=g,Q.T=u,S5(n,s)}}function N5(n,s,l){s=as(l,s),s=U1(n.stateNode,s,2),n=Xt(n,s,2),n!==null&&(ht(n,2),So(n))}function Bn(n,s,l){if(n.tag===3)N5(n,n,l);else for(;s!==null;){if(s.tag===3){N5(s,n,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Hl===null||!Hl.has(u))){n=as(l,n),l=C2(2),u=Xt(s,l,2),u!==null&&(T2(l,u,s,n),ht(u,2),So(u));break}}s=s.return}}function dm(n,s,l){var u=n.pingCache;if(u===null){u=n.pingCache=new Iw;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(sm=!0,g.add(l),n=Pw.bind(null,n,s,l),s.then(n,n))}function Pw(n,s,l){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Kn===n&&(an&l)===l&&(Oi===4||Oi===3&&(an&62914560)===an&&300>kt()-Md?(Mn&2)===0&&Zu(n,0):am|=l,Wu===an&&(Wu=0)),So(n)}function C5(n,s){s===0&&(s=cn()),n=Ra(n,s),n!==null&&(ht(n,s),So(n))}function Uw(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),C5(n,l)}function Vw(n,s){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),C5(n,l)}function Hw(n,s){return tt(n,s)}var qd=null,Qu=null,pm=!1,zd=!1,mm=!1,Wl=0;function So(n){n!==Qu&&n.next===null&&(Qu===null?qd=Qu=n:Qu=Qu.next=n),zd=!0,pm||(pm=!0,Yw())}function cf(n,s){if(!mm&&zd){mm=!0;do for(var l=!1,u=qd;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var b=0;else{var M=u.suspendedLanes,K=u.pingedLanes;b=(1<<31-Ft(42|n)+1)-1,b&=g&~(M&~K),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,O5(u,b))}else b=an,b=vt(u,u===Kn?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(b&3)===0||Nn(u,b)||(l=!0,O5(u,b));u=u.next}while(l);mm=!1}}function Gw(){T5()}function T5(){zd=pm=!1;var n=0;Wl!==0&&n3()&&(n=Wl);for(var s=kt(),l=null,u=qd;u!==null;){var g=u.next,b=E5(u,s);b===0?(u.next=null,l===null?qd=g:l.next=g,g===null&&(Qu=l)):(l=u,(n!==0||(b&3)!==0)&&(zd=!0)),u=g}ar!==0&&ar!==5||cf(n),Wl!==0&&(Wl=0)}function E5(n,s){for(var l=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var M=31-Ft(b),K=1<<M,he=g[M];he===-1?((K&l)===0||(K&u)!==0)&&(g[M]=$t(K,s)):he<=s&&(n.expiredLanes|=K),b&=~K}if(s=Kn,l=an,l=vt(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===s&&(In===2||In===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&it(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Nn(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(u!==null&&it(u),En(l)){case 2:case 8:l=ct;break;case 32:l=gt;break;case 268435456:l=Ct;break;default:l=gt}return u=k5.bind(null,n),l=tt(l,u),n.callbackPriority=s,n.callbackNode=l,s}return u!==null&&u!==null&&it(u),n.callbackPriority=2,n.callbackNode=null,2}function k5(n,s){if(ar!==0&&ar!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Bd()&&n.callbackNode!==l)return null;var u=an;return u=vt(n,n===Kn?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(u5(n,u,s),E5(n,kt()),n.callbackNode!=null&&n.callbackNode===l?k5.bind(null,n):null)}function O5(n,s){if(Bd())return null;u5(n,s,!0)}function Yw(){r3(function(){(Mn&6)!==0?tt(Ke,Gw):T5()})}function gm(){if(Wl===0){var n=p;n===0&&(n=rt,rt<<=1,(rt&261888)===0&&(rt=256)),Wl=n}return Wl}function M5(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Mr(""+n)}function L5(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function Ww(n,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var b=M5((g[Wn]||null).action),M=u.submitter;M&&(s=(s=M[Wn]||null)?M5(s.formAction):M.getAttribute("formAction"),s!==null&&(b=s,M=null));var K=new ns("action","action",null,u,g);n.push({event:K,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Wl!==0){var he=M?L5(g,M):new FormData(g);I1(l,{pending:!0,data:he,method:g.method,action:b},null,he)}}else typeof b=="function"&&(K.preventDefault(),he=M?L5(g,M):new FormData(g),I1(l,{pending:!0,data:he,method:g.method,action:b},b,he))},currentTarget:g}]})}}for(var vm=0;vm<Ho.length;vm++){var ym=Ho[vm],Xw=ym.toLowerCase(),Zw=ym[0].toUpperCase()+ym.slice(1);rs(Xw,"on"+Zw)}rs(Vo,"onAnimationEnd"),rs(Dc,"onAnimationIteration"),rs(Bh,"onAnimationStart"),rs("dblclick","onDoubleClick"),rs("focusin","onFocus"),rs("focusout","onBlur"),rs(ud,"onTransitionRun"),rs(hd,"onTransitionStart"),rs(fd,"onTransitionCancel"),rs(qh,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uf));function D5(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],g=u.event;u=u.listeners;e:{var b=void 0;if(s)for(var M=u.length-1;0<=M;M--){var K=u[M],he=K.instance,Oe=K.currentTarget;if(K=K.listener,he!==b&&g.isPropagationStopped())break e;b=K,g.currentTarget=Oe;try{b(g)}catch(Fe){jc(Fe)}g.currentTarget=null,b=he}else for(M=0;M<u.length;M++){if(K=u[M],he=K.instance,Oe=K.currentTarget,K=K.listener,he!==b&&g.isPropagationStopped())break e;b=K,g.currentTarget=Oe;try{b(g)}catch(Fe){jc(Fe)}g.currentTarget=null,b=he}}}}function rn(n,s){var l=s[cr];l===void 0&&(l=s[cr]=new Set);var u=n+"__bubble";l.has(u)||(j5(s,n,2,!1),l.add(u))}function bm(n,s,l){var u=0;s&&(u|=4),j5(l,n,u,s)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function xm(n){if(!n[Fd]){n[Fd]=!0,gc.forEach(function(l){l!=="selectionchange"&&(Kw.has(l)||bm(l,!1,n),bm(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Fd]||(s[Fd]=!0,bm("selectionchange",!1,s))}}function j5(n,s,l,u){switch(cv(s)){case 2:var g=A3;break;case 8:g=N3;break;default:g=Rm}l=g.bind(null,s,l,n),g=void 0,!Ec||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function _m(n,s,l,u,g){var b=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var M=u.tag;if(M===3||M===4){var K=u.stateNode.containerInfo;if(K===g)break;if(M===4)for(M=u.return;M!==null;){var he=M.tag;if((he===3||he===4)&&M.stateNode.containerInfo===g)return;M=M.return}for(;K!==null;){if(M=As(K),M===null)return;if(he=M.tag,he===5||he===6||he===26||he===27){u=b=M;continue e}K=K.parentNode}}u=u.return}yu(function(){var Oe=b,Fe=Io(l),Ye=[];e:{var Me=zh.get(n);if(Me!==void 0){var je=ns,bt=n;switch(n){case"keypress":if(ts(l)===0)break e;case"keydown":case"keyup":je=un;break;case"focusin":bt="focus",je=Aa;break;case"focusout":bt="blur",je=Aa;break;case"beforeblur":case"afterblur":je=Aa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=Sa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=Ri;break;case Vo:case Dc:case Bh:je=_;break;case qh:je=Ji;break;case"scroll":case"scrollend":je=Sl;break;case"wheel":je=Os;break;case"copy":case"cut":case"paste":je=le;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=yi;break;case"toggle":case"beforetoggle":je=Oc}var It=(s&4)!==0,Hn=!It&&(n==="scroll"||n==="scrollend"),Ae=It?Me!==null?Me+"Capture":null:Me;It=[];for(var be=Oe,ke;be!==null;){var Ve=be;if(ke=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||ke===null||Ae===null||(Ve=Gr(be,Ae),Ve!=null&&It.push(hf(be,Ve,ke))),Hn)break;be=be.return}0<It.length&&(Me=new je(Me,bt,null,l,Fe),Ye.push({event:Me,listeners:It}))}}if((s&7)===0){e:{if(Me=n==="mouseover"||n==="pointerover",je=n==="mouseout"||n==="pointerout",Me&&l!==ya&&(bt=l.relatedTarget||l.fromElement)&&(As(bt)||bt[Di]))break e;if((je||Me)&&(Me=Fe.window===Fe?Fe:(Me=Fe.ownerDocument)?Me.defaultView||Me.parentWindow:window,je?(bt=l.relatedTarget||l.toElement,je=Oe,bt=bt?As(bt):null,bt!==null&&(Hn=o(bt),It=bt.tag,bt!==Hn||It!==5&&It!==27&&It!==6)&&(bt=null)):(je=null,bt=Oe),je!==bt)){if(It=kc,Ve="onMouseLeave",Ae="onMouseEnter",be="mouse",(n==="pointerout"||n==="pointerover")&&(It=yi,Ve="onPointerLeave",Ae="onPointerEnter",be="pointer"),Hn=je==null?Me:jo(je),ke=bt==null?Me:jo(bt),Me=new It(Ve,be+"leave",je,l,Fe),Me.target=Hn,Me.relatedTarget=ke,Ve=null,As(Fe)===Oe&&(It=new It(Ae,be+"enter",bt,l,Fe),It.target=ke,It.relatedTarget=Hn,Ve=It),Hn=Ve,je&&bt)t:{for(It=Qw,Ae=je,be=bt,ke=0,Ve=Ae;Ve;Ve=It(Ve))ke++;Ve=0;for(var Lt=be;Lt;Lt=It(Lt))Ve++;for(;0<ke-Ve;)Ae=It(Ae),ke--;for(;0<Ve-ke;)be=It(be),Ve--;for(;ke--;){if(Ae===be||be!==null&&Ae===be.alternate){It=Ae;break t}Ae=It(Ae),be=It(be)}It=null}else It=null;je!==null&&R5(Ye,Me,je,It,!1),bt!==null&&Hn!==null&&R5(Ye,Hn,bt,It,!0)}}e:{if(Me=Oe?jo(Oe):window,je=Me.nodeName&&Me.nodeName.toLowerCase(),je==="select"||je==="input"&&Me.type==="file")var Sn=co;else if(Mc(Me))if(Lr)Sn=ta;else{Sn=bi;var Nt=El}else je=Me.nodeName,!je||je.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?Oe&&Nc(Oe.elementType)&&(Sn=co):Sn=wu;if(Sn&&(Sn=Sn(n,Oe))){Wr(Ye,Sn,l,Fe);break e}Nt&&Nt(n,Me,Oe),n==="focusout"&&Oe&&Me.type==="number"&&Oe.memoizedProps.value!=null&&wc(Me,"number",Me.value)}switch(Nt=Oe?jo(Oe):window,n){case"focusin":(Mc(Nt)||Nt.contentEditable==="true")&&(Xr=Nt,ja=Oe,ur=null);break;case"focusout":ur=ja=Xr=null;break;case"mousedown":is=!0;break;case"contextmenu":case"mouseup":case"dragend":is=!1,xn(Ye,l,Fe);break;case"selectionchange":if(Uo)break;case"keydown":case"keyup":xn(Ye,l,Fe)}var Kt;if(Qs)e:{switch(n){case"compositionstart":var on="onCompositionStart";break e;case"compositionend":on="onCompositionEnd";break e;case"compositionupdate":on="onCompositionUpdate";break e}on=void 0}else $s?lo(n,l)&&(on="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(on="onCompositionStart");on&&(Ta&&l.locale!=="ko"&&($s||on!=="onCompositionStart"?on==="onCompositionEnd"&&$s&&(Kt=bu()):(Yr=Fe,qo="value"in Yr?Yr.value:Yr.textContent,$s=!0)),Nt=Pd(Oe,on),0<Nt.length&&(on=new Se(on,n,null,l,Fe),Ye.push({event:on,listeners:Nt}),Kt?on.data=Kt:(Kt=Nl(l),Kt!==null&&(on.data=Kt)))),(Kt=Po?_r(n,l):Ea(n,l))&&(on=Pd(Oe,"onBeforeInput"),0<on.length&&(Nt=new Se("onBeforeInput","beforeinput",null,l,Fe),Ye.push({event:Nt,listeners:on}),Nt.data=Kt)),Ww(Ye,n,Oe,l,Fe)}D5(Ye,s)})}function hf(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Pd(n,s){for(var l=s+"Capture",u=[];n!==null;){var g=n,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Gr(n,l),g!=null&&u.unshift(hf(n,g,b)),g=Gr(n,s),g!=null&&u.push(hf(n,g,b))),n.tag===3)return u;n=n.return}return[]}function Qw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function R5(n,s,l,u,g){for(var b=s._reactName,M=[];l!==null&&l!==u;){var K=l,he=K.alternate,Oe=K.stateNode;if(K=K.tag,he!==null&&he===u)break;K!==5&&K!==26&&K!==27||Oe===null||(he=Oe,g?(Oe=Gr(l,b),Oe!=null&&M.unshift(hf(l,Oe,he))):g||(Oe=Gr(l,b),Oe!=null&&M.push(hf(l,Oe,he)))),l=l.return}M.length!==0&&n.push({event:s,listeners:M})}var $w=/\r\n?/g,Jw=/\u0000|\uFFFD/g;function I5(n){return(typeof n=="string"?n:""+n).replace($w,`
`).replace(Jw,"")}function B5(n,s){return s=I5(s),I5(n)===s}function Vn(n,s,l,u,g,b){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Es(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Es(n,""+u);break;case"className":va(n,"class",u);break;case"tabIndex":va(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":va(n,l,u);break;case"style":mu(n,u,b);break;case"data":if(s!=="object"){va(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Mr(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(s!=="input"&&Vn(n,s,"name",g.name,g,null),Vn(n,s,"formEncType",g.formEncType,g,null),Vn(n,s,"formMethod",g.formMethod,g,null),Vn(n,s,"formTarget",g.formTarget,g,null)):(Vn(n,s,"encType",g.encType,g,null),Vn(n,s,"method",g.method,g,null),Vn(n,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Mr(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=ks);break;case"onScroll":u!=null&&rn("scroll",n);break;case"onScrollEnd":u!=null&&rn("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=Mr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":rn("beforetoggle",n),rn("toggle",n),Hr(n,"popover",u);break;case"xlinkActuate":Ts(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ts(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ts(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ts(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ts(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ts(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ts(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ts(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ts(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Hr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Cc.get(l)||l,Hr(n,l,u))}}function wm(n,s,l,u,g,b){switch(l){case"style":mu(n,u,b);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Es(n,u):(typeof u=="number"||typeof u=="bigint")&&Es(n,""+u);break;case"onScroll":u!=null&&rn("scroll",n);break;case"onScrollEnd":u!=null&&rn("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ks);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),b=n[Wn]||null,b=b!=null?b[l]:null,typeof b=="function"&&n.removeEventListener(s,b,g),typeof u=="function")){typeof b!="function"&&b!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,u,g);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):Hr(n,l,u)}}}function Cr(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rn("error",n),rn("load",n);var u=!1,g=!1,b;for(b in l)if(l.hasOwnProperty(b)){var M=l[b];if(M!=null)switch(b){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Vn(n,s,b,M,l,null)}}g&&Vn(n,s,"srcSet",l.srcSet,l,null),u&&Vn(n,s,"src",l.src,l,null);return;case"input":rn("invalid",n);var K=b=M=g=null,he=null,Oe=null;for(u in l)if(l.hasOwnProperty(u)){var Fe=l[u];if(Fe!=null)switch(u){case"name":g=Fe;break;case"type":M=Fe;break;case"checked":he=Fe;break;case"defaultChecked":Oe=Fe;break;case"value":b=Fe;break;case"defaultValue":K=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,s));break;default:Vn(n,s,u,Fe,l,null)}}du(n,b,K,he,Oe,M,g,!1);return;case"select":rn("invalid",n),u=M=b=null;for(g in l)if(l.hasOwnProperty(g)&&(K=l[g],K!=null))switch(g){case"value":b=K;break;case"defaultValue":M=K;break;case"multiple":u=K;default:Vn(n,s,g,K,l,null)}s=b,l=M,n.multiple=!!u,s!=null?xr(n,!!u,s,!1):l!=null&&xr(n,!!u,l,!0);return;case"textarea":rn("invalid",n),b=g=u=null;for(M in l)if(l.hasOwnProperty(M)&&(K=l[M],K!=null))switch(M){case"value":u=K;break;case"defaultValue":g=K;break;case"children":b=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:Vn(n,s,M,K,l,null)}Ac(n,u,g,b);return;case"option":for(he in l)if(l.hasOwnProperty(he)&&(u=l[he],u!=null))switch(he){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Vn(n,s,he,u,l,null)}return;case"dialog":rn("beforetoggle",n),rn("toggle",n),rn("cancel",n),rn("close",n);break;case"iframe":case"object":rn("load",n);break;case"video":case"audio":for(u=0;u<uf.length;u++)rn(uf[u],n);break;case"image":rn("error",n),rn("load",n);break;case"details":rn("toggle",n);break;case"embed":case"source":case"link":rn("error",n),rn("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in l)if(l.hasOwnProperty(Oe)&&(u=l[Oe],u!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Vn(n,s,Oe,u,l,null)}return;default:if(Nc(s)){for(Fe in l)l.hasOwnProperty(Fe)&&(u=l[Fe],u!==void 0&&wm(n,s,Fe,u,l,void 0));return}}for(K in l)l.hasOwnProperty(K)&&(u=l[K],u!=null&&Vn(n,s,K,u,l,null))}function e3(n,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,M=null,K=null,he=null,Oe=null,Fe=null;for(je in l){var Ye=l[je];if(l.hasOwnProperty(je)&&Ye!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":he=Ye;default:u.hasOwnProperty(je)||Vn(n,s,je,null,u,Ye)}}for(var Me in u){var je=u[Me];if(Ye=l[Me],u.hasOwnProperty(Me)&&(je!=null||Ye!=null))switch(Me){case"type":b=je;break;case"name":g=je;break;case"checked":Oe=je;break;case"defaultChecked":Fe=je;break;case"value":M=je;break;case"defaultValue":K=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,s));break;default:je!==Ye&&Vn(n,s,Me,je,u,Ye)}}xl(n,M,K,he,Oe,Fe,b,g);return;case"select":je=M=K=Me=null;for(b in l)if(he=l[b],l.hasOwnProperty(b)&&he!=null)switch(b){case"value":break;case"multiple":je=he;default:u.hasOwnProperty(b)||Vn(n,s,b,null,u,he)}for(g in u)if(b=u[g],he=l[g],u.hasOwnProperty(g)&&(b!=null||he!=null))switch(g){case"value":Me=b;break;case"defaultValue":K=b;break;case"multiple":M=b;default:b!==he&&Vn(n,s,g,b,u,he)}s=K,l=M,u=je,Me!=null?xr(n,!!l,Me,!1):!!u!=!!l&&(s!=null?xr(n,!!l,s,!0):xr(n,!!l,l?[]:"",!1));return;case"textarea":je=Me=null;for(K in l)if(g=l[K],l.hasOwnProperty(K)&&g!=null&&!u.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Vn(n,s,K,null,u,g)}for(M in u)if(g=u[M],b=l[M],u.hasOwnProperty(M)&&(g!=null||b!=null))switch(M){case"value":Me=g;break;case"defaultValue":je=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&Vn(n,s,M,g,u,b)}Sc(n,Me,je);return;case"option":for(var bt in l)if(Me=l[bt],l.hasOwnProperty(bt)&&Me!=null&&!u.hasOwnProperty(bt))switch(bt){case"selected":n.selected=!1;break;default:Vn(n,s,bt,null,u,Me)}for(he in u)if(Me=u[he],je=l[he],u.hasOwnProperty(he)&&Me!==je&&(Me!=null||je!=null))switch(he){case"selected":n.selected=Me&&typeof Me!="function"&&typeof Me!="symbol";break;default:Vn(n,s,he,Me,u,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in l)Me=l[It],l.hasOwnProperty(It)&&Me!=null&&!u.hasOwnProperty(It)&&Vn(n,s,It,null,u,Me);for(Oe in u)if(Me=u[Oe],je=l[Oe],u.hasOwnProperty(Oe)&&Me!==je&&(Me!=null||je!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,s));break;default:Vn(n,s,Oe,Me,u,je)}return;default:if(Nc(s)){for(var Hn in l)Me=l[Hn],l.hasOwnProperty(Hn)&&Me!==void 0&&!u.hasOwnProperty(Hn)&&wm(n,s,Hn,void 0,u,Me);for(Fe in u)Me=u[Fe],je=l[Fe],!u.hasOwnProperty(Fe)||Me===je||Me===void 0&&je===void 0||wm(n,s,Fe,Me,u,je);return}}for(var Ae in l)Me=l[Ae],l.hasOwnProperty(Ae)&&Me!=null&&!u.hasOwnProperty(Ae)&&Vn(n,s,Ae,null,u,Me);for(Ye in u)Me=u[Ye],je=l[Ye],!u.hasOwnProperty(Ye)||Me===je||Me==null&&je==null||Vn(n,s,Ye,Me,u,je)}function q5(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function t3(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],b=g.transferSize,M=g.initiatorType,K=g.duration;if(b&&K&&q5(M)){for(M=0,K=g.responseEnd,u+=1;u<l.length;u++){var he=l[u],Oe=he.startTime;if(Oe>K)break;var Fe=he.transferSize,Ye=he.initiatorType;Fe&&q5(Ye)&&(he=he.responseEnd,M+=Fe*(he<K?1:(K-Oe)/(he-Oe)))}if(--u,s+=8*(b+M)/(g.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Sm=null,Am=null;function Ud(n){return n.nodeType===9?n:n.ownerDocument}function z5(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F5(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Nm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cm=null;function n3(){var n=window.event;return n&&n.type==="popstate"?n===Cm?!1:(Cm=n,!0):(Cm=null,!1)}var P5=typeof setTimeout=="function"?setTimeout:void 0,i3=typeof clearTimeout=="function"?clearTimeout:void 0,U5=typeof Promise=="function"?Promise:void 0,r3=typeof queueMicrotask=="function"?queueMicrotask:typeof U5<"u"?function(n){return U5.resolve(null).then(n).catch(s3)}:P5;function s3(n){setTimeout(function(){throw n})}function Xl(n){return n==="head"}function V5(n,s){var l=s,u=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(g),th(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")ff(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,ff(l);for(var b=l.firstChild;b;){var M=b.nextSibling,K=b.nodeName;b[Ur]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=M}}else l==="body"&&ff(n.ownerDocument.body);l=g}while(l);th(s)}function H5(n,s){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function Tm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Tm(l),Ys(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function a3(n,s,l,u){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ur])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(b=n.getAttribute("rel"),b==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(b!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(b=n.getAttribute("src"),(b!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===b)return n}else return n;if(n=la(n.nextSibling),n===null)break}return null}function o3(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=la(n.nextSibling),n===null))return null;return n}function G5(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=la(n.nextSibling),n===null))return null;return n}function Em(n){return n.data==="$?"||n.data==="$~"}function km(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function l3(n,s){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function la(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Om=null;function Y5(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(s===0)return la(n.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}n=n.nextSibling}return null}function W5(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return n;s--}else l!=="/$"&&l!=="/&"||s++}n=n.previousSibling}return null}function X5(n,s,l){switch(s=Ud(l),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function ff(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ys(n)}var ca=new Map,Z5=new Set;function Vd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var al=re.d;re.d={f:c3,r:u3,D:h3,C:f3,L:d3,m:p3,X:g3,S:m3,M:v3};function c3(){var n=al.f(),s=jd();return n||s}function u3(n){var s=Ns(n);s!==null&&s.tag===5&&s.type==="form"?f2(s):al.r(n)}var $u=typeof document>"u"?null:document;function K5(n,s,l){var u=$u;if(u&&typeof s=="string"&&s){var g=Si(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Z5.has(g)||(Z5.add(g),n={rel:n,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),Cr(s,"link",n),vi(s),u.head.appendChild(s)))}}function h3(n){al.D(n),K5("dns-prefetch",n,null)}function f3(n,s){al.C(n,s),K5("preconnect",n,s)}function d3(n,s,l){al.L(n,s,l);var u=$u;if(u&&n&&s){var g='link[rel="preload"][as="'+Si(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Si(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Si(l.imageSizes)+'"]')):g+='[href="'+Si(n)+'"]';var b=g;switch(s){case"style":b=Ju(n);break;case"script":b=eh(n)}ca.has(b)||(n=x({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),ca.set(b,n),u.querySelector(g)!==null||s==="style"&&u.querySelector(df(b))||s==="script"&&u.querySelector(pf(b))||(s=u.createElement("link"),Cr(s,"link",n),vi(s),u.head.appendChild(s)))}}function p3(n,s){al.m(n,s);var l=$u;if(l&&n){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Si(u)+'"][href="'+Si(n)+'"]',b=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=eh(n)}if(!ca.has(b)&&(n=x({rel:"modulepreload",href:n},s),ca.set(b,n),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(pf(b)))return}u=l.createElement("link"),Cr(u,"link",n),vi(u),l.head.appendChild(u)}}}function m3(n,s,l){al.S(n,s,l);var u=$u;if(u&&n){var g=Ws(u).hoistableStyles,b=Ju(n);s=s||"default";var M=g.get(b);if(!M){var K={loading:0,preload:null};if(M=u.querySelector(df(b)))K.loading=5;else{n=x({rel:"stylesheet",href:n,"data-precedence":s},l),(l=ca.get(b))&&Mm(n,l);var he=M=u.createElement("link");vi(he),Cr(he,"link",n),he._p=new Promise(function(Oe,Fe){he.onload=Oe,he.onerror=Fe}),he.addEventListener("load",function(){K.loading|=1}),he.addEventListener("error",function(){K.loading|=2}),K.loading|=4,Hd(M,s,u)}M={type:"stylesheet",instance:M,count:1,state:K},g.set(b,M)}}}function g3(n,s){al.X(n,s);var l=$u;if(l&&n){var u=Ws(l).hoistableScripts,g=eh(n),b=u.get(g);b||(b=l.querySelector(pf(g)),b||(n=x({src:n,async:!0},s),(s=ca.get(g))&&Lm(n,s),b=l.createElement("script"),vi(b),Cr(b,"link",n),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function v3(n,s){al.M(n,s);var l=$u;if(l&&n){var u=Ws(l).hoistableScripts,g=eh(n),b=u.get(g);b||(b=l.querySelector(pf(g)),b||(n=x({src:n,async:!0,type:"module"},s),(s=ca.get(g))&&Lm(n,s),b=l.createElement("script"),vi(b),Cr(b,"link",n),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function Q5(n,s,l,u){var g=(g=oe.current)?Vd(g):null;if(!g)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Ju(l.href),l=Ws(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Ju(l.href);var b=Ws(g).hoistableStyles,M=b.get(n);if(M||(g=g.ownerDocument||g,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(n,M),(b=g.querySelector(df(n)))&&!b._p&&(M.instance=b,M.state.loading=5),ca.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ca.set(n,l),b||y3(g,n,l,M.state))),s&&u===null)throw Error(r(528,""));return M}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=eh(l),l=Ws(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Ju(n){return'href="'+Si(n)+'"'}function df(n){return'link[rel="stylesheet"]['+n+"]"}function $5(n){return x({},n,{"data-precedence":n.precedence,precedence:null})}function y3(n,s,l,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Cr(s,"link",l),vi(s),n.head.appendChild(s))}function eh(n){return'[src="'+Si(n)+'"]'}function pf(n){return"script[async]"+n}function J5(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Si(l.href)+'"]');if(u)return s.instance=u,vi(u),u;var g=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),vi(u),Cr(u,"style",g),Hd(u,l.precedence,n),s.instance=u;case"stylesheet":g=Ju(l.href);var b=n.querySelector(df(g));if(b)return s.state.loading|=4,s.instance=b,vi(b),b;u=$5(l),(g=ca.get(g))&&Mm(u,g),b=(n.ownerDocument||n).createElement("link"),vi(b);var M=b;return M._p=new Promise(function(K,he){M.onload=K,M.onerror=he}),Cr(b,"link",u),s.state.loading|=4,Hd(b,l.precedence,n),s.instance=b;case"script":return b=eh(l.src),(g=n.querySelector(pf(b)))?(s.instance=g,vi(g),g):(u=l,(g=ca.get(b))&&(u=x({},l),Lm(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),vi(g),Cr(g,"link",u),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Hd(u,l.precedence,n));return s.instance}function Hd(n,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,b=g,M=0;M<u.length;M++){var K=u[M];if(K.dataset.precedence===s)b=K;else if(b!==g)break}b?b.parentNode.insertBefore(n,b.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function Mm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Lm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Gd=null;function ev(n,s,l){if(Gd===null){var u=new Map,g=Gd=new Map;g.set(l,u)}else g=Gd,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var b=l[g];if(!(b[Ur]||b[wn]||n==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var M=b.getAttribute(s)||"";M=n+M;var K=u.get(M);K?K.push(b):u.set(M,[b])}}return u}function tv(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function b3(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function nv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function x3(n,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Ju(u.href),b=s.querySelector(df(g));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Yd.bind(n),s.then(n,n)),l.state.loading|=4,l.instance=b,vi(b);return}b=s.ownerDocument||s,u=$5(u),(g=ca.get(g))&&Mm(u,g),b=b.createElement("link"),vi(b);var M=b;M._p=new Promise(function(K,he){M.onload=K,M.onerror=he}),Cr(b,"link",u),l.instance=b}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Yd.bind(n),s.addEventListener("load",l),s.addEventListener("error",l))}}var Dm=0;function _3(n,s){return n.stylesheets&&n.count===0&&Xd(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&Xd(n,n.stylesheets),n.unsuspend){var b=n.unsuspend;n.unsuspend=null,b()}},6e4+s);0<n.imgBytes&&Dm===0&&(Dm=62500*t3());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Xd(n,n.stylesheets),n.unsuspend)){var b=n.unsuspend;n.unsuspend=null,b()}},(n.imgBytes>Dm?50:800)+s);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Yd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Wd=null;function Xd(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Wd=new Map,s.forEach(w3,n),Wd=null,Yd.call(n))}function w3(n,s){if(!(s.state.loading&4)){var l=Wd.get(n);if(l)var u=l.get(null);else{l=new Map,Wd.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var M=g[b];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(l.set(M.dataset.precedence,M),u=M)}u&&l.set(null,u)}g=s.instance,M=g.getAttribute("data-precedence"),b=l.get(M)||u,b===u&&l.set(null,g),l.set(M,g),this.count++,u=Yd.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),b?b.parentNode.insertBefore(g,b.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var mf={$$typeof:F,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function S3(n,s,l,u,g,b,M,K,he){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cn(0),this.hiddenUpdates=Cn(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function iv(n,s,l,u,g,b,M,K,he,Oe,Fe,Ye){return n=new S3(n,s,l,M,he,Oe,Fe,Ye,K),s=1,b===!0&&(s|=24),b=fr(3,null,null,s),n.current=b,b.stateNode=n,s=Il(),s.refCount++,n.pooledCache=s,s.refCount++,b.memoizedState={element:u,isDehydrated:l,cache:s},st(b),n}function rv(n){return n?(n=tr,n):tr}function sv(n,s,l,u,g,b){g=rv(g),u.context===null?u.context=g:u.pendingContext=g,u=Rt(s),u.payload={element:l},b=b===void 0?null:b,b!==null&&(u.callback=b),l=Xt(n,u,s),l!==null&&(vs(l,n,s),kn(l,n,s))}function av(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function jm(n,s){av(n,s),(n=n.alternate)&&av(n,s)}function ov(n){if(n.tag===13||n.tag===31){var s=Ra(n,67108864);s!==null&&vs(s,n,67108864),jm(n,67108864)}}function lv(n){if(n.tag===13||n.tag===31){var s=qs();s=Jt(s);var l=Ra(n,s);l!==null&&vs(l,n,s),jm(n,s)}}var Zd=!0;function A3(n,s,l,u){var g=Q.T;Q.T=null;var b=re.p;try{re.p=2,Rm(n,s,l,u)}finally{re.p=b,Q.T=g}}function N3(n,s,l,u){var g=Q.T;Q.T=null;var b=re.p;try{re.p=8,Rm(n,s,l,u)}finally{re.p=b,Q.T=g}}function Rm(n,s,l,u){if(Zd){var g=Im(u);if(g===null)_m(n,s,u,Kd,l),uv(n,u);else if(T3(g,n,s,l,u))u.stopPropagation();else if(uv(n,u),s&4&&-1<C3.indexOf(n)){for(;g!==null;){var b=Ns(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var M=Je(b.pendingLanes);if(M!==0){var K=b;for(K.pendingLanes|=2,K.entangledLanes|=2;M;){var he=1<<31-Ft(M);K.entanglements[1]|=he,M&=~he}So(b),(Mn&6)===0&&(Ld=kt()+500,cf(0))}}break;case 31:case 13:K=Ra(b,2),K!==null&&vs(K,b,2),jd(),jm(b,2)}if(b=Im(u),b===null&&_m(n,s,u,Kd,l),b===g)break;g=b}g!==null&&u.stopPropagation()}else _m(n,s,u,null,l)}}function Im(n){return n=Io(n),Bm(n)}var Kd=null;function Bm(n){if(Kd=null,n=As(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=h(s),n!==null)return n;n=null}else if(l===31){if(n=c(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Kd=n,null}function cv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case Ke:return 2;case ct:return 8;case gt:case at:return 32;case Ct:return 268435456;default:return 32}default:return 32}}var qm=!1,Zl=null,Kl=null,Ql=null,gf=new Map,vf=new Map,$l=[],C3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uv(n,s){switch(n){case"focusin":case"focusout":Zl=null;break;case"dragenter":case"dragleave":Kl=null;break;case"mouseover":case"mouseout":Ql=null;break;case"pointerover":case"pointerout":gf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vf.delete(s.pointerId)}}function yf(n,s,l,u,g,b){return n===null||n.nativeEvent!==b?(n={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:b,targetContainers:[g]},s!==null&&(s=Ns(s),s!==null&&ov(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function T3(n,s,l,u,g){switch(s){case"focusin":return Zl=yf(Zl,n,s,l,u,g),!0;case"dragenter":return Kl=yf(Kl,n,s,l,u,g),!0;case"mouseover":return Ql=yf(Ql,n,s,l,u,g),!0;case"pointerover":var b=g.pointerId;return gf.set(b,yf(gf.get(b)||null,n,s,l,u,g)),!0;case"gotpointercapture":return b=g.pointerId,vf.set(b,yf(vf.get(b)||null,n,s,l,u,g)),!0}return!1}function hv(n){var s=As(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=h(l),s!==null){n.blockedOn=s,Qi(n.priority,function(){lv(l)});return}}else if(s===31){if(s=c(l),s!==null){n.blockedOn=s,Qi(n.priority,function(){lv(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Qd(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Im(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);ya=u,l.target.dispatchEvent(u),ya=null}else return s=Ns(l),s!==null&&ov(s),n.blockedOn=l,!1;s.shift()}return!0}function fv(n,s,l){Qd(n)&&l.delete(s)}function E3(){qm=!1,Zl!==null&&Qd(Zl)&&(Zl=null),Kl!==null&&Qd(Kl)&&(Kl=null),Ql!==null&&Qd(Ql)&&(Ql=null),gf.forEach(fv),vf.forEach(fv)}function $d(n,s){n.blockedOn===s&&(n.blockedOn=null,qm||(qm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,E3)))}var Jd=null;function dv(n){Jd!==n&&(Jd=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Jd===n&&(Jd=null);for(var s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],g=n[s+2];if(typeof u!="function"){if(Bm(u||l)===null)continue;break}var b=Ns(l);b!==null&&(n.splice(s,3),s-=3,I1(b,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function th(n){function s(he){return $d(he,n)}Zl!==null&&$d(Zl,n),Kl!==null&&$d(Kl,n),Ql!==null&&$d(Ql,n),gf.forEach(s),vf.forEach(s);for(var l=0;l<$l.length;l++){var u=$l[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<$l.length&&(l=$l[0],l.blockedOn===null);)hv(l),l.blockedOn===null&&$l.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],b=l[u+1],M=g[Wn]||null;if(typeof b=="function")M||dv(l);else if(M){var K=null;if(b&&b.hasAttribute("formAction")){if(g=b,M=b[Wn]||null)K=M.formAction;else if(Bm(g)!==null)continue}else K=M.action;typeof K=="function"?l[u+1]=K:(l.splice(u,3),u-=3),dv(l)}}}function pv(){function n(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(M){return g=M})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function zm(n){this._internalRoot=n}ep.prototype.render=zm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=qs();sv(l,u,n,s,null,null)},ep.prototype.unmount=zm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;sv(n.current,2,null,n,null,null),jd(),s[Di]=null}};function ep(n){this._internalRoot=n}ep.prototype.unstable_scheduleHydration=function(n){if(n){var s=Dn();n={blockedOn:null,target:n,priority:s};for(var l=0;l<$l.length&&s!==0&&s<$l[l].priority;l++);$l.splice(l,0,n),l===0&&hv(n)}};var mv=e.version;if(mv!=="19.2.0")throw Error(r(527,mv,"19.2.0"));re.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=d(s),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var k3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tp.isDisabled&&tp.supportsFiber)try{Dt=tp.inject(k3),wt=tp}catch{}}return xf.createRoot=function(n,s){if(!a(n))throw Error(r(299));var l=!1,u="",g=w2,b=S2,M=A2;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError)),s=iv(n,1,!1,null,null,l,u,null,g,b,M,pv),n[Di]=s.current,xm(n),new zm(s)},xf.hydrateRoot=function(n,s,l){if(!a(n))throw Error(r(299));var u=!1,g="",b=w2,M=S2,K=A2,he=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(M=l.onCaughtError),l.onRecoverableError!==void 0&&(K=l.onRecoverableError),l.formState!==void 0&&(he=l.formState)),s=iv(n,1,!0,s,l??null,u,g,he,b,M,K,pv),s.context=rv(null),l=s.current,u=qs(),u=Jt(u),g=Rt(u),g.callback=null,Xt(l,g,u),l=u,s.current.lanes=l,ht(s,l),So(s),n[Di]=s.current,xm(n),new ep(s)},xf.version="19.2.0",xf}var Nv;function z3(){if(Nv)return Um.exports;Nv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Um.exports=q3(),Um.exports}var F3=z3();const Cv=i=>{let e;const t=new Set,r=(d,m)=>{const x=typeof d=="function"?d(e):d;if(!Object.is(x,e)){const w=e;e=m??(typeof x!="object"||x===null)?x:Object.assign({},e,x),t.forEach(y=>y(e,w))}},a=()=>e,c={setState:r,getState:a,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=i(r,a,c);return c},P3=(i=>i?Cv(i):Cv),U3=i=>i;function V3(i,e=U3){const t=vn.useSyncExternalStore(i.subscribe,vn.useCallback(()=>e(i.getState()),[i,e]),vn.useCallback(()=>e(i.getInitialState()),[i,e]));return vn.useDebugValue(t),t}const H3=i=>{const e=P3(i),t=r=>V3(e,r);return Object.assign(t,e),t},G3=(i=>H3);function Y3(i,e){let t;try{t=i()}catch{return}return{getItem:a=>{var o;const h=f=>f===null?null:JSON.parse(f,void 0),c=(o=t.getItem(a))!=null?o:null;return c instanceof Promise?c.then(h):h(c)},setItem:(a,o)=>t.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>t.removeItem(a)}}const w0=i=>e=>{try{const t=i(e);return t instanceof Promise?t:{then(r){return w0(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return w0(r)(t)}}}},W3=(i,e)=>(t,r,a)=>{let o={storage:Y3(()=>localStorage),partialize:A=>A,version:0,merge:(A,k)=>({...k,...A}),...e},h=!1;const c=new Set,f=new Set;let d=o.storage;if(!d)return i((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...A)},r,a);const m=()=>{const A=o.partialize({...r()});return d.setItem(o.name,{state:A,version:o.version})},x=a.setState;a.setState=(A,k)=>(x(A,k),m());const w=i((...A)=>(t(...A),m()),r,a);a.getInitialState=()=>w;let y;const N=()=>{var A,k;if(!d)return;h=!1,c.forEach(P=>{var F;return P((F=r())!=null?F:w)});const C=((k=o.onRehydrateStorage)==null?void 0:k.call(o,(A=r())!=null?A:w))||void 0;return w0(d.getItem.bind(d))(o.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==o.version){if(o.migrate){const F=o.migrate(P.state,P.version);return F instanceof Promise?F.then(z=>[!0,z]):[!0,F]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var F;const[z,q]=P;if(y=o.merge(q,(F=r())!=null?F:w),t(y,!0),z)return m()}).then(()=>{C?.(y,void 0),y=r(),h=!0,f.forEach(P=>P(y))}).catch(P=>{C?.(void 0,P)})};return a.persist={setOptions:A=>{o={...o,...A},A.storage&&(d=A.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>N(),hasHydrated:()=>h,onHydrate:A=>(c.add(A),()=>{c.delete(A)}),onFinishHydration:A=>(f.add(A),()=>{f.delete(A)})},o.skipHydration||N(),y||w},X3=W3,Kc=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Tf=["C","G","D","A","E","B","F#","Db","Ab","Eb","Bb","F"],Z3=[{major:"C",ii:"Dm",iii:"Em",diminished:"B"},{major:"G",ii:"Am",iii:"Bm",diminished:"F#"},{major:"D",ii:"Em",iii:"F#m",diminished:"C#"},{major:"A",ii:"Bm",iii:"C#m",diminished:"G#"},{major:"E",ii:"F#m",iii:"G#m",diminished:"D#"},{major:"B",ii:"C#m",iii:"D#m",diminished:"A#"},{major:"F#",ii:"G#m",iii:"A#m",diminished:"E#"},{major:"Db",ii:"Ebm",iii:"Fm",diminished:"C"},{major:"Ab",ii:"Bbm",iii:"Cm",diminished:"G"},{major:"Eb",ii:"Fm",iii:"Gm",diminished:"D"},{major:"Bb",ii:"Cm",iii:"Dm",diminished:"A"},{major:"F",ii:"Gm",iii:"Am",diminished:"E"}];function hl(i){return i.includes("b")&&{Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#",Cb:"B",Fb:"E"}[i]||i}const K3={7:"dominant7",9:"dominant9",11:"dominant11",13:"dominant13",maj7:"major7",maj9:"major9",maj11:"major11",maj13:"major13",6:"major6",add9:"add9",m7:"minor7",m9:"minor9",m11:"minor11",m13:"minor13",m6:"minor6",dim:"diminished",dim7:"diminished7",m7b5:"halfDiminished7","m75":"halfDiminished7",7:"halfDiminished7",sus2:"sus2",sus4:"sus4","7sus4":"dominant7sus4"},Q3={major:[0,4,7],minor:[0,3,7],diminished:[0,3,6],augmented:[0,4,8],sus2:[0,2,7],sus4:[0,5,7],major6:[0,4,7,9],minor6:[0,3,7,9],major7:[0,4,7,11],minor7:[0,3,7,10],dominant7:[0,4,7,10],diminished7:[0,3,6,9],halfDiminished7:[0,3,6,10],dominant7sus4:[0,5,7,10],add9:[0,4,7,14],major9:[0,4,7,11,14],minor9:[0,3,7,10,14],dominant9:[0,4,7,10,14],major11:[0,4,7,11,14,17],minor11:[0,3,7,10,14,17],dominant11:[0,4,7,10,14,17],major13:[0,4,7,11,14,21],minor13:[0,3,7,10,14,21],dominant13:[0,4,7,10,14,21]};function ch(i,e){const t=hl(i),r=Kc.indexOf(t);if(r===-1)return[];const a=K3[e]||e,o=Q3[a];return o?o.map(h=>Kc[(r+h)%12]):(console.warn(`Unknown chord quality: ${e} (resolved to ${a})`),Kc.slice(r,r+1).concat([Kc[(r+4)%12],Kc[(r+7)%12]]))}function $3(i){const e=["G","D","A","E","B","F#","C#"],t=["F","Bb","Eb","Ab","Db","Gb","Cb"],r=e.indexOf(i),a=t.indexOf(i);return r>=0?{sharps:r+1,flats:0}:a>=0?{sharps:0,flats:a+1}:{sharps:0,flats:0}}function Q0(){return{C:"hsl(48, 95%, 58%)",G:"hsl(72, 75%, 50%)",D:"hsl(95, 65%, 48%)",A:"hsl(160, 60%, 45%)",E:"hsl(185, 70%, 50%)",B:"hsl(205, 75%, 55%)","F#":"hsl(235, 60%, 58%)",Gb:"hsl(235, 60%, 58%)",Db:"hsl(265, 55%, 55%)",Ab:"hsl(285, 50%, 52%)",Eb:"hsl(315, 60%, 55%)",Bb:"hsl(350, 70%, 58%)",F:"hsl(28, 85%, 55%)"}}function J3(i,e){const t=hl(i),r=hl(e),a=Kc.indexOf(t),o=Kc.indexOf(r);if(a===-1||o===-1)return"?";let h=(o-a+12)%12;return{0:"1",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[h]||"?"}function e4(i){const e=i.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);return e?parseInt(e[3])>55?"#000000":"#ffffff":"#000000"}const Er=[];for(let i=0;i<256;++i)Er.push((i+256).toString(16).slice(1));function t4(i,e=0){return(Er[i[e+0]]+Er[i[e+1]]+Er[i[e+2]]+Er[i[e+3]]+"-"+Er[i[e+4]]+Er[i[e+5]]+"-"+Er[i[e+6]]+Er[i[e+7]]+"-"+Er[i[e+8]]+Er[i[e+9]]+"-"+Er[i[e+10]]+Er[i[e+11]]+Er[i[e+12]]+Er[i[e+13]]+Er[i[e+14]]+Er[i[e+15]]).toLowerCase()}let Ym;const n4=new Uint8Array(16);function i4(){if(!Ym){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ym=crypto.getRandomValues.bind(crypto)}return Ym(n4)}const r4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Tv={randomUUID:r4};function s4(i,e,t){i=i||{};const r=i.random??i.rng?.()??i4();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,t4(r)}function Ha(i,e,t){return Tv.randomUUID&&!i?Tv.randomUUID():s4(i)}const bs=[4,4],S0=(i=bs)=>{const[e,t]=i;return!e||!t?4:e*(4/t)},uh=i=>{const e=S0(i);return{id:Ha(),beats:[{id:Ha(),chord:null,duration:e}]}},Ao=i=>i?`${i.sectionId}:${i.slotId}`:"",$0=i=>{const e=[];return i.forEach(t=>{t.measures.forEach(r=>{r.beats.forEach(a=>{e.push({sectionId:t.id,slotId:a.id,chord:a.chord??null})})})}),e},Xc=(i,e)=>{if(!e)return null;for(const t of i)if(t.id===e.sectionId){for(const r of t.measures)for(const a of r.beats)if(a.id===e.slotId)return a.chord??null}return null},Ev=(i,e)=>e?$0(i).findIndex(r=>r.sectionId===e.sectionId&&r.slotId===e.slotId):-1,a4=(i,e,t)=>{const r=$0(i),a=r.findIndex(f=>f.sectionId===e.sectionId&&f.slotId===e.slotId),o=r.findIndex(f=>f.sectionId===t.sectionId&&f.slotId===t.slotId);if(a===-1||o===-1)return[];const[h,c]=a<=o?[a,o]:[o,a];return r.slice(h,c+1).map(({sectionId:f,slotId:d})=>({sectionId:f,slotId:d}))},yp=(i,e)=>e?i.some(t=>t.id===e.sectionId&&t.measures.some(r=>r.beats.some(a=>a.id===e.slotId))):!1,sh=(i,e,t,r,a)=>{const o=e&&t?{sectionId:e,slotId:t}:null,h=r.filter(m=>yp(i,m)),c=yp(i,o),f=h[h.length-1]||(c?o:null),d=a&&yp(i,a);return{selectedSectionId:f?.sectionId??null,selectedSlotId:f?.slotId??null,selectedSlots:h,selectionAnchor:d?a:h[0]??f??null}},A0=100,Nf=i=>typeof structuredClone=="function"?structuredClone(i):JSON.parse(JSON.stringify(i)),Tr=i=>{const e=Nf(i.currentSong),t=[...i.historyPast,e].slice(-A0);return{historyPast:t,historyFuture:[],canUndo:t.length>0,canRedo:!1}},kv=(i,e,t,r,a)=>{const o=sh(i.sections,e,t,r,a),h=o.selectedSectionId&&o.selectedSlotId?{sectionId:o.selectedSectionId,slotId:o.selectedSlotId}:null,c=h?Xc(i.sections,h):null;return{...o,selectedChord:c}},o4=(i,e,t)=>{let r=!1;for(const a of i)for(const o of a.measures)for(const h of o.beats){if(r)return{sectionId:a.id,slotId:h.id};a.id===e&&h.id===t&&(r=!0)}return null},_f={id:"default",title:"Untitled Song",artist:"",key:"C",tempo:120,timeSignature:[4,4],sections:[{id:"verse-1",name:"Verse 1",type:"verse",timeSignature:bs,measures:Array(4).fill(null).map(()=>uh(bs))},{id:"chorus-1",name:"Chorus",type:"chorus",timeSignature:bs,measures:Array(4).fill(null).map(()=>uh(bs))}],notes:"",createdAt:new Date,updatedAt:new Date},fa=G3()(X3(i=>({currentSong:_f,historyPast:[],historyFuture:[],canUndo:!1,canRedo:!1,selectedKey:"C",wheelRotation:0,wheelMode:"fixed",chordPanelVisible:!0,timelineVisible:!0,collapsedSections:{},selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,isPlaying:!1,tempo:120,volume:.8,instrument:"piano",isMuted:!1,setKey:e=>i({selectedKey:e}),rotateWheel:e=>i(t=>({wheelRotation:t.wheelMode==="rotating"?t.wheelRotation+(e==="cw"?-30:30):0})),toggleWheelMode:()=>i(e=>{const t=e.wheelMode==="rotating"?"fixed":"rotating";let r=0;if(t==="rotating"){const a=Tf.indexOf(e.selectedKey);a!==-1&&(r=-(a*30))}return{wheelMode:t,wheelRotation:r}}),toggleChordPanel:()=>i(e=>({chordPanelVisible:!e.chordPanelVisible})),toggleTimeline:()=>i(e=>({timelineVisible:!e.timelineVisible})),toggleSectionCollapsed:e=>i(t=>{const r={...t.collapsedSections,[e]:!t.collapsedSections?.[e]};return r[e]||delete r[e],{collapsedSections:r}}),setSelectedChord:e=>i({selectedChord:e}),setSelectedSlot:(e,t)=>i(r=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,selectedChord:null};const a={sectionId:e,slotId:t},o=Xc(r.currentSong.sections,a);return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[a],selectionAnchor:a,selectedChord:o??null}}),setSelectedSlots:e=>i(t=>{const r=e.filter(Boolean),a=r[r.length-1]??null,o=Xc(t.currentSong.sections,a);return{selectedSlots:r,selectedSectionId:a?.sectionId??null,selectedSlotId:a?.slotId??null,selectionAnchor:r[0]??a??null,selectedChord:o??null}}),toggleSlotSelection:(e,t)=>i(r=>{const a=r.selectedSlots.some(d=>d.sectionId===e&&d.slotId===t),o=a?r.selectedSlots.filter(d=>!(d.sectionId===e&&d.slotId===t)):[...r.selectedSlots,{sectionId:e,slotId:t}],h=o[o.length-1]??null,c=Xc(r.currentSong.sections,h),f=a&&r.selectionAnchor&&Ao(r.selectionAnchor)===Ao({sectionId:e,slotId:t});return{selectedSlots:o,selectedSectionId:h?.sectionId??null,selectedSlotId:h?.slotId??null,selectionAnchor:f?o[0]??h??null:r.selectionAnchor??h??null,selectedChord:c??null}}),selectRangeTo:(e,t)=>i(r=>{const a={sectionId:e,slotId:t},o=r.selectionAnchor||r.selectedSlots[r.selectedSlots.length-1]||(r.selectedSectionId&&r.selectedSlotId?{sectionId:r.selectedSectionId,slotId:r.selectedSlotId}:a),c=yp(r.currentSong.sections,o)?o:a,f=a4(r.currentSong.sections,c,a),d=f.length?f:[a],m=Xc(r.currentSong.sections,a);return{selectedSlots:d,selectedSectionId:a.sectionId,selectedSlotId:a.slotId,selectionAnchor:c,selectedChord:m??null}}),moveSelection:(e,t,r="move")=>{let a=!1;return i(o=>{const h=$0(o.currentSong.sections),c=Ev(o.currentSong.sections,e),f=Ev(o.currentSong.sections,t);if(c===-1||f===-1)return{};const m=(o.selectedSlots.length?o.selectedSlots:[e]).map(D=>{const R=h.findIndex(Z=>Z.sectionId===D.sectionId&&Z.slotId===D.slotId);return R>=0?{idx:R,slot:h[R]}:null}).filter(D=>!!D).sort((D,R)=>D.idx-R.idx);if(!m.length)return{};const x=f-c,w=m.map(({idx:D})=>D+x);if(w.some(D=>D<0||D>=h.length))return{};const y=w.map(D=>h[D]);if(m.length===1&&r==="move"){const D=m[0].slot,R=y[0],Z=Tr(o),E=o.currentSong.sections.map(Q=>({...Q,measures:Q.measures.map(re=>({...re,beats:re.beats.map(ce=>ce.id===D.slotId&&Q.id===D.sectionId?{...ce,chord:R.chord}:ce.id===R.slotId&&Q.id===R.sectionId?{...ce,chord:D.chord}:ce)}))}));a=!0;const j=o.selectionAnchor&&Ao(o.selectionAnchor)===Ao(e),U=sh(E,t.sectionId,t.slotId,[{sectionId:R.sectionId,slotId:R.slotId}],j?{sectionId:R.sectionId,slotId:R.slotId}:o.selectionAnchor),$=U.selectedSectionId&&U.selectedSlotId?{sectionId:U.selectedSectionId,slotId:U.selectedSlotId}:null,ue=Xc(E,$);return{...Z,currentSong:{...o.currentSong,sections:E},selectedSectionId:U.selectedSectionId,selectedSlotId:U.selectedSlotId,selectedSlots:U.selectedSlots,selectionAnchor:U.selectionAnchor,selectedChord:ue??null}}const N=new Map;m.forEach((D,R)=>{N.set(Ao(y[R]),D.slot.chord??null)});const A=new Set;r==="move"&&m.forEach((D,R)=>{const Z=Ao(D.slot),E=Ao(y[R]);Z!==E&&A.add(Z)});const k=Tr(o),C=o.currentSong.sections.map(D=>({...D,measures:D.measures.map(R=>({...R,beats:R.beats.map(Z=>{const E=Ao({sectionId:D.id,slotId:Z.id});return N.has(E)?{...Z,chord:N.get(E)??null}:A.has(E)?{...Z,chord:null}:Z})}))}));a=!0;const P=Ao(o.selectionAnchor),F=m.find(D=>Ao(D.slot)===P),z=F?{sectionId:y[m.indexOf(F)].sectionId,slotId:y[m.indexOf(F)].slotId}:o.selectionAnchor,q=sh(C,t.sectionId,t.slotId,y.map(D=>({sectionId:D.sectionId,slotId:D.slotId})),z??null),J=q.selectedSectionId&&q.selectedSlotId?{sectionId:q.selectedSectionId,slotId:q.selectedSlotId}:null,Y=Xc(C,J);return{...k,currentSong:{...o.currentSong,sections:C},selectedSectionId:q.selectedSectionId,selectedSlotId:q.selectedSlotId,selectedSlots:q.selectedSlots,selectionAnchor:q.selectionAnchor,selectedChord:Y??null}}),a},selectNextSlotAfter:(e,t)=>{let r=!1;return i(a=>{const o=o4(a.currentSong.sections,e,t);if(!o)return{};const h=a.currentSong.sections.find(c=>c.id===o.sectionId)?.measures.flatMap(c=>c.beats).find(c=>c.id===o.slotId)?.chord??null;return r=!0,{selectedSectionId:o.sectionId,selectedSlotId:o.slotId,selectedChord:h,selectedSlots:[{sectionId:o.sectionId,slotId:o.slotId}],selectionAnchor:{sectionId:o.sectionId,slotId:o.slotId}}}),r},setTempo:e=>i(t=>({...Tr(t),tempo:e,currentSong:{...t.currentSong,tempo:e}})),setVolume:e=>i({volume:e}),setInstrument:e=>i({instrument:e}),setIsPlaying:e=>i({isPlaying:e}),toggleMute:()=>i(e=>({isMuted:!e.isMuted})),setTitle:e=>i(t=>({...Tr(t),currentSong:{...t.currentSong,title:e}})),loadSong:e=>i(t=>{const r=e.key||"C",a=e.tempo??_f.tempo;let o=0;if(t.wheelMode==="rotating"){const c=Tf.indexOf(r);c!==-1&&(o=-(c*30))}return{...Tr(t),currentSong:{...e,tempo:a},selectedKey:r,wheelRotation:o,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:a}}),newSong:()=>i(e=>({...Tr(e),currentSong:{..._f,id:Ha(),title:"Untitled Song",createdAt:new Date,updatedAt:new Date,tempo:_f.tempo,sections:[{id:Ha(),name:"Verse 1",type:"verse",timeSignature:bs,measures:Array(4).fill(null).map(()=>uh(bs))},{id:Ha(),name:"Chorus",type:"chorus",timeSignature:bs,measures:Array(4).fill(null).map(()=>uh(bs))}]},selectedKey:"C",wheelRotation:0,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:_f.tempo})),addSection:e=>i(t=>{const r={id:Ha(),name:e.charAt(0).toUpperCase()+e.slice(1),type:e,timeSignature:t.currentSong.timeSignature||bs,measures:Array(4).fill(null).map(()=>uh(t.currentSong.timeSignature||bs))};return{...Tr(t),currentSong:{...t.currentSong,sections:[...t.currentSong.sections,r]}}}),updateSection:(e,t)=>i(r=>({...Tr(r),currentSong:{...r.currentSong,sections:r.currentSong.sections.map(o=>o.id===e?{...o,...t}:o)}})),removeSection:e=>i(t=>{const r=Tr(t),{[e]:a,...o}=t.collapsedSections||{};return{...r,currentSong:{...t.currentSong,sections:t.currentSong.sections.filter(h=>h.id!==e)},collapsedSections:o}}),duplicateSection:e=>i(t=>{const r=t.currentSong.sections.find(f=>f.id===e);if(!r)return{};const a=Tr(t),o={...r,id:Ha(),name:`${r.name} (Copy)`,timeSignature:r.timeSignature||t.currentSong.timeSignature||bs,measures:r.measures.map(f=>({...f,id:Ha(),beats:f.beats.map(d=>({...d,id:Ha()}))}))},h=t.currentSong.sections.findIndex(f=>f.id===e),c=[...t.currentSong.sections];return c.splice(h+1,0,o),{...a,currentSong:{...t.currentSong,sections:c}}}),reorderSections:e=>i(t=>({...Tr(t),currentSong:{...t.currentSong,sections:e}})),setSectionMeasures:(e,t)=>i(r=>{const a=Math.max(1,Math.min(32,Math.round(t))),o=r.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||r.currentSong.timeSignature||bs;let m=[...f.measures];if(m.length<a)for(;m.length<a;)m.push(uh(d));else m.length>a&&(m=m.slice(0,a));return{...f,measures:m}}),h=sh(o,r.selectedSectionId,r.selectedSlotId,r.selectedSlots,r.selectionAnchor);return{...Tr(r),currentSong:{...r.currentSong,sections:o},...h}}),setSectionTimeSignature:(e,t)=>i(r=>{const a=r.currentSong.sections.map(c=>{if(c.id!==e)return c;const f=S0(t);return{...c,timeSignature:t,measures:c.measures.map(d=>({...d,beats:[{id:Ha(),chord:null,duration:f}]}))}}),o=sh(a,r.selectedSectionId,r.selectedSlotId,r.selectedSlots,r.selectionAnchor);return{...Tr(r),currentSong:{...r.currentSong,sections:a},...o}}),setMeasureSubdivision:(e,t,r)=>i(a=>{const o=Math.max(1,Math.min(16,Math.round(r))),h=a.currentSong.sections.map(d=>{if(d.id!==e)return d;const m=d.timeSignature||a.currentSong.timeSignature||bs,x=S0(m);return{...d,measures:d.measures.map(w=>{if(w.id!==t)return w;const y=x/o,N=Array.from({length:o}).map((A,k)=>{const C=w.beats[k];return{id:C?.id??Ha(),chord:C?.chord??null,duration:y}});return{...w,beats:N}})}}),c=sh(h,a.selectedSectionId,a.selectedSlotId,a.selectedSlots,a.selectionAnchor);return{...Tr(a),currentSong:{...a.currentSong,sections:h},...c}}),addChordToSlot:(e,t,r)=>i(a=>{const o=Tr(a),h=a.currentSong.sections.map(c=>c.id!==t?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==r?d:{...d,chord:e})}))});return{...o,currentSong:{...a.currentSong,sections:h}}}),clearSlot:(e,t)=>i(r=>{if(!r.currentSong.sections.some(c=>c.id===e&&c.measures.some(f=>f.beats.some(d=>d.id===t&&d.chord))))return{};const o=Tr(r),h=r.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==t?d:{...d,chord:null})}))});return{...o,currentSong:{...r.currentSong,sections:h}}}),moveChord:(e,t,r,a)=>i(o=>{let h=null,c=null;if(o.currentSong.sections.forEach(m=>{m.measures.forEach(x=>{x.beats.forEach(w=>{w.id===t&&(h=w.chord),w.id===a&&(c=w.chord)})})}),!h&&!c)return{};const f=Tr(o),d=o.currentSong.sections.map(m=>({...m,measures:m.measures.map(x=>({...x,beats:x.beats.map(w=>w.id===t?{...w,chord:c}:w.id===a?{...w,chord:h}:w)}))}));return{...f,currentSong:{...o.currentSong,sections:d}}}),undo:()=>i(e=>{if(!e.historyPast.length)return{};const t=e.historyPast[e.historyPast.length-1],r=e.historyPast.slice(0,-1),a=[Nf(e.currentSong),...e.historyFuture].slice(0,A0),o=kv(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Nf(t),historyPast:r,historyFuture:a,canUndo:r.length>0,canRedo:a.length>0,tempo:t.tempo??e.tempo,...o}}),redo:()=>i(e=>{if(!e.historyFuture.length)return{};const t=e.historyFuture[0],r=e.historyFuture.slice(1),a=[...e.historyPast,Nf(e.currentSong)].slice(-A0),o=kv(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Nf(t),historyPast:a,historyFuture:r,canUndo:a.length>0,canRedo:r.length>0,tempo:t.tempo??e.tempo,...o}})}),{name:"songwriter-wheel-storage",partialize:i=>({currentSong:i.currentSong,tempo:i.tempo,volume:i.volume,instrument:i.instrument,isMuted:i.isMuted})}));function sc(i,e,t,r){const a=(r-90)*Math.PI/180;return{x:i+t*Math.cos(a),y:e+t*Math.sin(a)}}function l4(i,e,t,r,a){const o=sc(i,e,t,r),h=sc(i,e,t,a),c=a-r<=180?"0":"1";return["M",o.x,o.y,"A",t,t,0,c,1,h.x,h.y].join(" ")}function c4(i,e,t,r,a,o){const h=sc(i,e,r,o),c=sc(i,e,r,a),f=sc(i,e,t,o),d=sc(i,e,t,a),m=o-a<=180?"0":"1";return["M",h.x,h.y,"A",r,r,0,m,0,c.x,c.y,"L",d.x,d.y,"A",t,t,0,m,1,f.x,f.y,"Z"].join(" ")}function Ib(i){var e,t,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(e=0;e<a;e++)i[e]&&(t=Ib(i[e]))&&(r&&(r+=" "),r+=t)}else for(t in i)i[t]&&(r&&(r+=" "),r+=t);return r}function Fs(){for(var i,e,t=0,r="",a=arguments.length;t<a;t++)(i=arguments[t])&&(e=Ib(i))&&(r&&(r+=" "),r+=e);return r}const Bb="15.1.22",Ov=(i,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:i}),Mv=(i,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:i}),N0=(i,e)=>({startTime:e,type:"setValue",value:i}),qb=(i,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:i}),zb=(i,e,{startTime:t,target:r,timeConstant:a})=>r+(e-r)*Math.exp((t-i)/a),hh=i=>i.type==="exponentialRampToValue",kp=i=>i.type==="linearRampToValue",ic=i=>hh(i)||kp(i),J0=i=>i.type==="setValue",cl=i=>i.type==="setValueCurve",Op=(i,e,t,r)=>{const a=i[e];return a===void 0?r:ic(a)||J0(a)?a.value:cl(a)?a.values[a.values.length-1]:zb(t,Op(i,e-1,a.startTime,r),a)},Lv=(i,e,t,r,a)=>t===void 0?[r.insertTime,a]:ic(t)?[t.endTime,t.value]:J0(t)?[t.startTime,t.value]:cl(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,Op(i,e-1,t.startTime,a)],C0=i=>i.type==="cancelAndHold",T0=i=>i.type==="cancelScheduledValues",ec=i=>C0(i)||T0(i)?i.cancelTime:hh(i)||kp(i)?i.endTime:i.startTime,Dv=(i,e,t,{endTime:r,value:a})=>t===a?a:0<t&&0<a||t<0&&a<0?t*(a/t)**((i-e)/(r-e)):0,jv=(i,e,t,{endTime:r,value:a})=>t+(i-e)/(r-e)*(a-t),u4=(i,e)=>{const t=Math.floor(e),r=Math.ceil(e);return t===r?i[t]:(1-(e-t))*i[t]+(1-(r-e))*i[r]},h4=(i,{duration:e,startTime:t,values:r})=>{const a=(i-t)/e*(r.length-1);return u4(r,a)},np=i=>i.type==="setTarget";class f4{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=ec(e);if(C0(e)||T0(e)){const r=this._automationEvents.findIndex(o=>T0(e)&&cl(o)?o.startTime+o.duration>=t:ec(o)>=t),a=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),C0(e)){const o=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&ic(a)){if(o!==void 0&&np(o))throw new Error("The internal list is malformed.");const h=o===void 0?a.insertTime:cl(o)?o.startTime+o.duration:ec(o),c=o===void 0?this._defaultValue:cl(o)?o.values[o.values.length-1]:o.value,f=hh(a)?Dv(t,h,c,a):jv(t,h,c,a),d=hh(a)?Ov(f,t,this._currenTime):Mv(f,t,this._currenTime);this._automationEvents.push(d)}if(o!==void 0&&np(o)&&this._automationEvents.push(N0(this.getValue(t),t)),o!==void 0&&cl(o)&&o.startTime+o.duration>t){const h=t-o.startTime,c=(o.values.length-1)/o.duration,f=Math.max(2,1+Math.ceil(h*c)),d=h/(f-1)*c,m=o.values.slice(0,f);if(d<1)for(let x=1;x<f;x+=1){const w=d*x%1;m[x]=o.values[x-1]*(1-w)+o.values[x]*w}this._automationEvents[this._automationEvents.length-1]=qb(m,o.startTime,h)}}}else{const r=this._automationEvents.findIndex(h=>ec(h)>t),a=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(a!==void 0&&cl(a)&&ec(a)+a.duration>t)return!1;const o=hh(e)?Ov(e.value,e.endTime,this._currenTime):kp(e)?Mv(e.value,t,this._currenTime):e;if(r===-1)this._automationEvents.push(o);else{if(cl(e)&&t+e.duration>ec(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,o)}}return!0}flush(e){const t=this._automationEvents.findIndex(r=>ec(r)>e);if(t>1){const r=this._automationEvents.slice(t-1),a=r[0];np(a)&&r.unshift(N0(Op(this._automationEvents,t-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(h=>ec(h)>e),r=this._automationEvents[t],a=(t===-1?this._automationEvents.length:t)-1,o=this._automationEvents[a];if(o!==void 0&&np(o)&&(r===void 0||!ic(r)||r.insertTime>e))return zb(e,Op(this._automationEvents,a-1,o.startTime,this._defaultValue),o);if(o!==void 0&&J0(o)&&(r===void 0||!ic(r)))return o.value;if(o!==void 0&&cl(o)&&(r===void 0||!ic(r)||o.startTime+o.duration>e))return e<o.startTime+o.duration?h4(e,o):o.values[o.values.length-1];if(o!==void 0&&ic(o)&&(r===void 0||!ic(r)))return o.value;if(r!==void 0&&hh(r)){const[h,c]=Lv(this._automationEvents,a,o,r,this._defaultValue);return Dv(e,h,c,r)}if(r!==void 0&&kp(r)){const[h,c]=Lv(this._automationEvents,a,o,r,this._defaultValue);return jv(e,h,c,r)}return this._defaultValue}}const d4=i=>({cancelTime:i,type:"cancelAndHold"}),p4=i=>({cancelTime:i,type:"cancelScheduledValues"}),m4=(i,e)=>({endTime:e,type:"exponentialRampToValue",value:i}),g4=(i,e)=>({endTime:e,type:"linearRampToValue",value:i}),v4=(i,e,t)=>({startTime:e,target:i,timeConstant:t,type:"setTarget"}),y4=()=>new DOMException("","AbortError"),b4=i=>(e,t,[r,a,o],h)=>{i(e[a],[t,r,o],c=>c[0]===t&&c[1]===r,h)},x4=i=>(e,t,r)=>{const a=[];for(let o=0;o<r.numberOfInputs;o+=1)a.push(new Set);i.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},_4=i=>(e,t)=>{i.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},wh=new WeakSet,Fb=new WeakMap,eg=new WeakMap,Pb=new WeakMap,tg=new WeakMap,t1=new WeakMap,Ub=new WeakMap,E0=new WeakMap,k0=new WeakMap,O0=new WeakMap,Vb={construct(){return Vb}},w4=i=>{try{const e=new Proxy(i,Vb);new e}catch{return!1}return!0},Rv=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Iv=(i,e)=>{const t=[];let r=i.replace(/^[\s]+/,""),a=r.match(Rv);for(;a!==null;){const o=a[1].slice(1,-1),h=a[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,e).toString());t.push(h),r=r.slice(a[0].length).replace(/^[\s]+/,""),a=r.match(Rv)}return[t.join(";"),r]},Bv=i=>{if(i!==void 0&&!Array.isArray(i))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},qv=i=>{if(!w4(i))throw new TypeError("The given value for processorCtor should be a constructor.");if(i.prototype===null||typeof i.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},S4=(i,e,t,r,a,o,h,c,f,d,m,x,w)=>{let y=0;return(N,A,k={credentials:"omit"})=>{const C=m.get(N);if(C!==void 0&&C.has(A))return Promise.resolve();const P=d.get(N);if(P!==void 0){const q=P.get(A);if(q!==void 0)return q}const F=o(N),z=F.audioWorklet===void 0?a(A).then(([q,J])=>{const[Y,D]=Iv(q,J),R=`${Y};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${D}
})})(window,'_AWGS')`;return t(R)}).then(()=>{const q=w._AWGS.pop();if(q===void 0)throw new SyntaxError;r(F.currentTime,F.sampleRate,()=>q(class{},void 0,(J,Y)=>{if(J.trim()==="")throw e();const D=k0.get(F);if(D!==void 0){if(D.has(J))throw e();qv(Y),Bv(Y.parameterDescriptors),D.set(J,Y)}else qv(Y),Bv(Y.parameterDescriptors),k0.set(F,new Map([[J,Y]]))},F.sampleRate,void 0,void 0))}):Promise.all([a(A),Promise.resolve(i(x,x))]).then(([[q,J],Y])=>{const D=y+1;y=D;const[R,Z]=Iv(q,J),$=`${R};((AudioWorkletProcessor,registerProcessor)=>{${Z}
})(${Y?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${Y?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${Y?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${D}',class extends AudioWorkletProcessor{process(){return !1}})`,ue=new Blob([$],{type:"application/javascript; charset=utf-8"}),Q=URL.createObjectURL(ue);return F.audioWorklet.addModule(Q,k).then(()=>{if(c(F))return F;const re=h(F);return re.audioWorklet.addModule(Q,k).then(()=>re)}).then(re=>{if(f===null)throw new SyntaxError;try{new f(re,`__sac${D}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(Q))});return P===void 0?d.set(N,new Map([[A,z]])):P.set(A,z),z.then(()=>{const q=m.get(N);q===void 0?m.set(N,new Set([A])):q.add(A)}).finally(()=>{const q=d.get(N);q!==void 0&&q.delete(A)}),z}},Za=(i,e)=>{const t=i.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},n1=(i,e)=>{const t=Array.from(i).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[r]=t;return i.delete(r),r},Hb=(i,e,t,r)=>{const a=Za(i,e),o=n1(a,h=>h[0]===t&&h[1]===r);return a.size===0&&i.delete(e),o},Wf=i=>Za(Ub,i),Sh=i=>{if(wh.has(i))throw new Error("The AudioNode is already stored.");wh.add(i),Wf(i).forEach(e=>e(!0))},Gb=i=>"port"in i,Xf=i=>{if(!wh.has(i))throw new Error("The AudioNode is not stored.");wh.delete(i),Wf(i).forEach(e=>e(!1))},M0=(i,e)=>{!Gb(i)&&e.every(t=>t.size===0)&&Xf(i)},A4=(i,e,t,r,a,o,h,c,f,d,m,x,w)=>{const y=new WeakMap;return(N,A,k,C,P)=>{const{activeInputs:F,passiveInputs:z}=o(A),{outputs:q}=o(N),J=c(N),Y=D=>{const R=f(A),Z=f(N);if(D){const E=Hb(z,N,k,C);i(F,N,E,!1),!P&&!x(N)&&t(Z,R,k,C),w(A)&&Sh(A)}else{const E=r(F,N,k,C);e(z,C,E,!1),!P&&!x(N)&&a(Z,R,k,C);const j=h(A);if(j===0)m(A)&&M0(A,F);else{const U=y.get(A);U!==void 0&&clearTimeout(U),y.set(A,setTimeout(()=>{m(A)&&M0(A,F)},j*1e3))}}};return d(q,[A,k,C],D=>D[0]===A&&D[1]===k&&D[2]===C,!0)?(J.add(Y),m(N)?i(F,N,[k,C,Y],!0):e(z,C,[N,k,Y],!0),!0):!1}},N4=i=>(e,t,[r,a,o],h)=>{const c=e.get(r);c===void 0?e.set(r,new Set([[a,t,o]])):i(c,[a,t,o],f=>f[0]===a&&f[1]===t,h)},C4=i=>(e,t)=>{const r=i(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(r).connect(e.destination);const a=()=>{t.removeEventListener("ended",a),t.disconnect(r),r.disconnect()};t.addEventListener("ended",a)},T4=i=>(e,t)=>{i(e).add(t)},E4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},k4=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=a(c),m={...E4,...f},x=r(d,m),w=o(d)?e():null;super(c,!1,x,w),this._nativeAnalyserNode=x}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=f,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},Fr=(i,e)=>i.context===e,O4=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Fr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=i(h,d)}return r.set(h,c),await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},Mp=i=>{try{i.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Oo=()=>new DOMException("","IndexSizeError"),ng=i=>{i.getChannelData=(e=>t=>{try{return e.call(i,t)}catch(r){throw r.code===12?Oo():r}})(i.getChannelData)},M4={numberOfChannels:1},L4=(i,e,t,r,a,o,h,c)=>{let f=null;return class Yb{constructor(m){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:x,numberOfChannels:w,sampleRate:y}={...M4,...m};f===null&&(f=new a(1,1,44100));const N=r!==null&&e(o,o)?new r({length:x,numberOfChannels:w,sampleRate:y}):f.createBuffer(w,x,y);if(N.numberOfChannels===0)throw t();return typeof N.copyFromChannel!="function"?(h(N),ng(N)):e(Mp,()=>Mp(N))||c(N),i.add(N),N}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===Yb.prototype||i.has(m)}}},xs=-34028234663852886e22,Qr=-xs,fl=i=>wh.has(i),D4={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},j4=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const x=o(d),w={...D4,...m},y=a(x,w),N=h(x),A=N?e():null;super(d,!1,y,A),this._audioBufferSourceNodeRenderer=A,this._isBufferNullified=!1,this._isBufferSet=w.buffer!==null,this._nativeAudioBufferSourceNode=y,this._onended=null,this._playbackRate=t(this,N,y.playbackRate,Qr,xs)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const m=typeof d=="function"?c(this,d):null;this._nativeAudioBufferSourceNode.onended=m;const x=this._nativeAudioBufferSourceNode.onended;this._onended=x!==null&&x===m?d:x}get playbackRate(){return this._playbackRate}start(d=0,m=0,x){if(this._nativeAudioBufferSourceNode.start(d,m,x),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=x===void 0?[d,m]:[d,m,x]),this.context.state!=="closed"){Sh(this);const w=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",w),fl(this)&&Xf(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",w)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},R4=(i,e,t,r,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let x=t(d);const w=Fr(x,m);if(!w){const y={buffer:x.buffer,channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,loop:x.loop,loopEnd:x.loopEnd,loopStart:x.loopStart,playbackRate:x.playbackRate.value};x=e(m,y),h!==null&&x.start(...h),c!==null&&x.stop(c)}return o.set(m,x),w?await i(m,d.playbackRate,x.playbackRate):await r(m,d.playbackRate,x.playbackRate),await a(d,m,x),x};return{set start(d){h=d},set stop(d){c=d},render(d,m){const x=o.get(m);return x!==void 0?Promise.resolve(x):f(d,m)}}},I4=i=>"playbackRate"in i,B4=i=>"frequency"in i&&"gain"in i,q4=i=>"offset"in i,z4=i=>!("frequency"in i)&&"gain"in i,F4=i=>"detune"in i&&"frequency"in i&&!("gain"in i),P4=i=>"pan"in i,$r=i=>Za(Fb,i),Zf=i=>Za(Pb,i),L0=(i,e)=>{const{activeInputs:t}=$r(i);t.forEach(a=>a.forEach(([o])=>{e.includes(i)||L0(o,[...e,i])}));const r=I4(i)?[i.playbackRate]:Gb(i)?Array.from(i.parameters.values()):B4(i)?[i.Q,i.detune,i.frequency,i.gain]:q4(i)?[i.offset]:z4(i)?[i.gain]:F4(i)?[i.detune,i.frequency]:P4(i)?[i.pan]:[];for(const a of r){const o=Zf(a);o!==void 0&&o.activeInputs.forEach(([h])=>L0(h,e))}fl(i)&&Xf(i)},Wb=i=>{L0(i.destination,[])},U4=i=>i===void 0||typeof i=="number"||typeof i=="string"&&(i==="balanced"||i==="interactive"||i==="playback"),V4=(i,e,t,r,a,o,h,c,f)=>class extends i{constructor(m={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let x;try{x=new f(m)}catch(N){throw N.code===12&&N.message==="sampleRate is not in range"?t():N}if(x===null)throw r();if(!U4(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&x.sampleRate!==m.sampleRate)throw t();super(x,2);const{latencyHint:w}=m,{sampleRate:y}=x;if(this._baseLatency=typeof x.baseLatency=="number"?x.baseLatency:w==="balanced"?512/y:w==="interactive"||w===void 0?256/y:w==="playback"?1024/y:Math.max(2,Math.min(128,Math.round(w*y/128)))*128/y,this._nativeAudioContext=x,f.name==="webkitAudioContext"?(this._nativeGainNode=x.createGain(),this._nativeOscillatorNode=x.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(x.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,x.state==="running"){this._state="suspended";const N=()=>{this._state==="suspended"&&(this._state=null),x.removeEventListener("statechange",N)};x.addEventListener("statechange",N)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Wb(this)}))}createMediaElementSource(m){return new a(this,{mediaElement:m})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(m){return new h(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new c(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,x)=>{const w=()=>{this._nativeAudioContext.removeEventListener("statechange",w),this._nativeAudioContext.state==="running"?m():this.resume().then(m,x)};this._nativeAudioContext.addEventListener("statechange",w)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?e():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?e():m})}},H4=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const x=o(d),w=h(x),y=a(x,m,w),N=w?e(c):null;super(d,!1,y,N),this._isNodeOfNativeOfflineAudioContext=w,this._nativeAudioDestinationNode=y}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},G4=i=>{const e=new WeakMap,t=async(r,a)=>{const o=a.destination;return e.set(a,o),await i(r,a,o),o};return{render(r,a){const o=e.get(a);return o!==void 0?Promise.resolve(o):t(r,a)}}},Y4=(i,e,t,r,a,o,h,c)=>(f,d)=>{const m=d.listener,x=()=>{const q=new Float32Array(1),J=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),Y=h(d);let D=!1,R=[0,0,-1,0,1,0],Z=[0,0,0];const E=()=>{if(D)return;D=!0;const ue=r(d,256,9,0);ue.onaudioprocess=({inputBuffer:Q})=>{const re=[o(Q,q,0),o(Q,q,1),o(Q,q,2),o(Q,q,3),o(Q,q,4),o(Q,q,5)];re.some((de,Ne)=>de!==R[Ne])&&(m.setOrientation(...re),R=re);const ce=[o(Q,q,6),o(Q,q,7),o(Q,q,8)];ce.some((de,Ne)=>de!==Z[Ne])&&(m.setPosition(...ce),Z=ce)},J.connect(ue)},j=ue=>Q=>{Q!==R[ue]&&(R[ue]=Q,m.setOrientation(...R))},U=ue=>Q=>{Q!==Z[ue]&&(Z[ue]=Q,m.setPosition(...Z))},$=(ue,Q,re)=>{const ce=t(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Q});ce.connect(J,0,ue),ce.start(),Object.defineProperty(ce.offset,"defaultValue",{get(){return Q}});const de=i({context:f},Y,ce.offset,Qr,xs);return c(de,"value",Ne=>()=>Ne.call(de),Ne=>X=>{try{Ne.call(de,X)}catch(T){if(T.code!==9)throw T}E(),Y&&re(X)}),de.cancelAndHoldAtTime=(Ne=>Y?()=>{throw a()}:(...X)=>{const T=Ne.apply(de,X);return E(),T})(de.cancelAndHoldAtTime),de.cancelScheduledValues=(Ne=>Y?()=>{throw a()}:(...X)=>{const T=Ne.apply(de,X);return E(),T})(de.cancelScheduledValues),de.exponentialRampToValueAtTime=(Ne=>Y?()=>{throw a()}:(...X)=>{const T=Ne.apply(de,X);return E(),T})(de.exponentialRampToValueAtTime),de.linearRampToValueAtTime=(Ne=>Y?()=>{throw a()}:(...X)=>{const T=Ne.apply(de,X);return E(),T})(de.linearRampToValueAtTime),de.setTargetAtTime=(Ne=>Y?()=>{throw a()}:(...X)=>{const T=Ne.apply(de,X);return E(),T})(de.setTargetAtTime),de.setValueAtTime=(Ne=>Y?()=>{throw a()}:(...X)=>{const T=Ne.apply(de,X);return E(),T})(de.setValueAtTime),de.setValueCurveAtTime=(Ne=>Y?()=>{throw a()}:(...X)=>{const T=Ne.apply(de,X);return E(),T})(de.setValueCurveAtTime),de};return{forwardX:$(0,0,j(0)),forwardY:$(1,0,j(1)),forwardZ:$(2,-1,j(2)),positionX:$(6,0,U(0)),positionY:$(7,0,U(1)),positionZ:$(8,0,U(2)),upX:$(3,0,j(3)),upY:$(4,1,j(4)),upZ:$(5,0,j(5))}},{forwardX:w,forwardY:y,forwardZ:N,positionX:A,positionY:k,positionZ:C,upX:P,upY:F,upZ:z}=m.forwardX===void 0?x():m;return{get forwardX(){return w},get forwardY(){return y},get forwardZ(){return N},get positionX(){return A},get positionY(){return k},get positionZ(){return C},get upX(){return P},get upY(){return F},get upZ(){return z}}},Lp=i=>"context"in i,Kf=i=>Lp(i[0]),ou=(i,e,t,r)=>{for(const a of i)if(t(a)){if(r)return!1;throw Error("The set contains at least one similar element.")}return i.add(e),!0},zv=(i,e,[t,r],a)=>{ou(i,[e,t,r],o=>o[0]===e&&o[1]===t,a)},Fv=(i,[e,t,r],a)=>{const o=i.get(e);o===void 0?i.set(e,new Set([[t,r]])):ou(o,[t,r],h=>h[0]===t,a)},Ch=i=>"inputs"in i,Dp=(i,e,t,r)=>{if(Ch(e)){const a=e.inputs[r];return i.connect(a,t,0),[a,t,0]}return i.connect(e,t,r),[e,t,r]},Xb=(i,e,t)=>{for(const r of i)if(r[0]===e&&r[1]===t)return i.delete(r),r;return null},W4=(i,e,t)=>n1(i,r=>r[0]===e&&r[1]===t),Zb=(i,e)=>{if(!Wf(i).delete(e))throw new Error("Missing the expected event listener.")},Kb=(i,e,t)=>{const r=Za(i,e),a=n1(r,o=>o[0]===t);return r.size===0&&i.delete(e),a},jp=(i,e,t,r)=>{Ch(e)?i.disconnect(e.inputs[r],t,0):i.disconnect(e,t,r)},li=i=>Za(eg,i),If=i=>Za(tg,i),iu=i=>E0.has(i),bp=i=>!wh.has(i),Pv=(i,e)=>new Promise(t=>{if(e!==null)t(!0);else{const r=i.createScriptProcessor(256,1,1),a=i.createGain(),o=i.createBuffer(1,2,44100),h=o.getChannelData(0);h[0]=1,h[1]=1;const c=i.createBufferSource();c.buffer=o,c.loop=!0,c.connect(r).connect(i.destination),c.connect(a),c.disconnect(a),r.onaudioprocess=f=>{const d=f.inputBuffer.getChannelData(0);Array.prototype.some.call(d,m=>m===1)?t(!0):t(!1),c.stop(),r.onaudioprocess=null,c.disconnect(r),r.disconnect(i.destination)},c.start()}}),Wm=(i,e)=>{const t=new Map;for(const r of i)for(const a of r){const o=t.get(a);t.set(a,o===void 0?1:o+1)}t.forEach((r,a)=>e(a,r))},Rp=i=>"context"in i,X4=i=>{const e=new Map;i.connect=(t=>(r,a=0,o=0)=>{const h=Rp(r)?t(r,a,o):t(r,a),c=e.get(r);return c===void 0?e.set(r,[{input:o,output:a}]):c.every(f=>f.input!==o||f.output!==a)&&c.push({input:o,output:a}),h})(i.connect.bind(i)),i.disconnect=(t=>(r,a,o)=>{if(t.apply(i),r===void 0)e.clear();else if(typeof r=="number")for(const[h,c]of e){const f=c.filter(d=>d.output!==r);f.length===0?e.delete(h):e.set(h,f)}else if(e.has(r))if(a===void 0)e.delete(r);else{const h=e.get(r);if(h!==void 0){const c=h.filter(f=>f.output!==a&&(f.input!==o||o===void 0));c.length===0?e.delete(r):e.set(r,c)}}for(const[h,c]of e)c.forEach(f=>{Rp(h)?i.connect(h,f.output,f.input):i.connect(h,f.output)})})(i.disconnect)},Z4=(i,e,t,r)=>{const{activeInputs:a,passiveInputs:o}=Zf(e),{outputs:h}=$r(i),c=Wf(i),f=d=>{const m=li(i),x=If(e);if(d){const w=Kb(o,i,t);zv(a,i,w,!1),!r&&!iu(i)&&m.connect(x,t)}else{const w=W4(a,i,t);Fv(o,w,!1),!r&&!iu(i)&&m.disconnect(x,t)}};return ou(h,[e,t],d=>d[0]===e&&d[1]===t,!0)?(c.add(f),fl(i)?zv(a,i,[t,f],!0):Fv(o,[i,t,f],!0),!0):!1},K4=(i,e,t,r)=>{const{activeInputs:a,passiveInputs:o}=$r(e),h=Xb(a[r],i,t);return h===null?[Hb(o,i,t,r)[2],!1]:[h[2],!0]},Q4=(i,e,t)=>{const{activeInputs:r,passiveInputs:a}=Zf(e),o=Xb(r,i,t);return o===null?[Kb(a,i,t)[1],!1]:[o[2],!0]},ig=(i,e,t,r,a)=>{const[o,h]=K4(i,t,r,a);if(o!==null&&(Zb(i,o),h&&!e&&!iu(i)&&jp(li(i),li(t),r,a)),fl(t)){const{activeInputs:c}=$r(t);M0(t,c)}},rg=(i,e,t,r)=>{const[a,o]=Q4(i,t,r);a!==null&&(Zb(i,a),o&&!e&&!iu(i)&&li(i).disconnect(If(t),r))},$4=(i,e)=>{const t=$r(i),r=[];for(const a of t.outputs)Kf(a)?ig(i,e,...a):rg(i,e,...a),r.push(a[0]);return t.outputs.clear(),r},J4=(i,e,t)=>{const r=$r(i),a=[];for(const o of r.outputs)o[1]===t&&(Kf(o)?ig(i,e,...o):rg(i,e,...o),a.push(o[0]),r.outputs.delete(o));return a},eS=(i,e,t,r,a)=>{const o=$r(i);return Array.from(o.outputs).filter(h=>h[0]===t&&(r===void 0||h[1]===r)&&(a===void 0||h[2]===a)).map(h=>(Kf(h)?ig(i,e,...h):rg(i,e,...h),o.outputs.delete(h),h[0]))},tS=(i,e,t,r,a,o,h,c,f,d,m,x,w,y,N,A)=>class extends d{constructor(C,P,F,z){super(F),this._context=C,this._nativeAudioNode=F;const q=m(C);x(q)&&t(Pv,()=>Pv(q,A))!==!0&&X4(F),eg.set(this,F),Ub.set(this,new Set),C.state!=="closed"&&P&&Sh(this),i(this,z,F)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,P=0,F=0){if(P<0||P>=this._nativeAudioNode.numberOfOutputs)throw a();const z=m(this._context),q=N(z);if(w(C)||y(C))throw o();if(Lp(C)){const D=li(C);try{const Z=Dp(this._nativeAudioNode,D,P,F),E=bp(this);(q||E)&&this._nativeAudioNode.disconnect(...Z),this.context.state!=="closed"&&!E&&bp(C)&&Sh(C)}catch(Z){throw Z.code===12?o():Z}if(e(this,C,P,F,q)){const Z=f([this],C);Wm(Z,r(q))}return C}const J=If(C);if(J.name==="playbackRate"&&J.maxValue===1024)throw h();try{this._nativeAudioNode.connect(J,P),(q||bp(this))&&this._nativeAudioNode.disconnect(J,P)}catch(D){throw D.code===12?o():D}if(Z4(this,C,P,q)){const D=f([this],C);Wm(D,r(q))}}disconnect(C,P,F){let z;const q=m(this._context),J=N(q);if(C===void 0)z=$4(this,J);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw a();z=J4(this,J,C)}else{if(P!==void 0&&(P<0||P>=this.numberOfOutputs)||Lp(C)&&F!==void 0&&(F<0||F>=C.numberOfInputs))throw a();if(z=eS(this,J,C,P,F),z.length===0)throw o()}for(const Y of z){const D=f([this],Y);Wm(D,c)}}},nS=(i,e,t,r,a,o,h,c,f,d,m,x,w)=>(y,N,A,k=null,C=null)=>{const P=A.value,F=new f4(P),z=N?r(F):null,q={get defaultValue(){return P},get maxValue(){return k===null?A.maxValue:k},get minValue(){return C===null?A.minValue:C},get value(){return A.value},set value(J){A.value=J,q.setValueAtTime(J,y.context.currentTime)},cancelAndHoldAtTime(J){if(typeof A.cancelAndHoldAtTime=="function")z===null&&F.flush(y.context.currentTime),F.add(a(J)),A.cancelAndHoldAtTime(J);else{const Y=Array.from(F).pop();z===null&&F.flush(y.context.currentTime),F.add(a(J));const D=Array.from(F).pop();A.cancelScheduledValues(J),Y!==D&&D!==void 0&&(D.type==="exponentialRampToValue"?A.exponentialRampToValueAtTime(D.value,D.endTime):D.type==="linearRampToValue"?A.linearRampToValueAtTime(D.value,D.endTime):D.type==="setValue"?A.setValueAtTime(D.value,D.startTime):D.type==="setValueCurve"&&A.setValueCurveAtTime(D.values,D.startTime,D.duration))}return q},cancelScheduledValues(J){return z===null&&F.flush(y.context.currentTime),F.add(o(J)),A.cancelScheduledValues(J),q},exponentialRampToValueAtTime(J,Y){if(J===0)throw new RangeError;if(!Number.isFinite(Y)||Y<0)throw new RangeError;const D=y.context.currentTime;return z===null&&F.flush(D),Array.from(F).length===0&&(F.add(d(P,D)),A.setValueAtTime(P,D)),F.add(h(J,Y)),A.exponentialRampToValueAtTime(J,Y),q},linearRampToValueAtTime(J,Y){const D=y.context.currentTime;return z===null&&F.flush(D),Array.from(F).length===0&&(F.add(d(P,D)),A.setValueAtTime(P,D)),F.add(c(J,Y)),A.linearRampToValueAtTime(J,Y),q},setTargetAtTime(J,Y,D){return z===null&&F.flush(y.context.currentTime),F.add(f(J,Y,D)),A.setTargetAtTime(J,Y,D),q},setValueAtTime(J,Y){return z===null&&F.flush(y.context.currentTime),F.add(d(J,Y)),A.setValueAtTime(J,Y),q},setValueCurveAtTime(J,Y,D){const R=J instanceof Float32Array?J:new Float32Array(J);if(x!==null&&x.name==="webkitAudioContext"){const Z=Y+D,E=y.context.sampleRate,j=Math.ceil(Y*E),U=Math.floor(Z*E),$=U-j,ue=new Float32Array($);for(let re=0;re<$;re+=1){const ce=(R.length-1)/D*((j+re)/E-Y),de=Math.floor(ce),Ne=Math.ceil(ce);ue[re]=de===Ne?R[de]:(1-(ce-de))*R[de]+(1-(Ne-ce))*R[Ne]}z===null&&F.flush(y.context.currentTime),F.add(m(ue,Y,D)),A.setValueCurveAtTime(ue,Y,D);const Q=U/E;Q<Z&&w(q,ue[ue.length-1],Q),w(q,R[R.length-1],Z)}else z===null&&F.flush(y.context.currentTime),F.add(m(R,Y,D)),A.setValueCurveAtTime(R,Y,D);return q}};return t.set(q,A),e.set(q,y),i(q,z),q},iS=i=>({replay(e){for(const t of i)if(t.type==="exponentialRampToValue"){const{endTime:r,value:a}=t;e.exponentialRampToValueAtTime(a,r)}else if(t.type==="linearRampToValue"){const{endTime:r,value:a}=t;e.linearRampToValueAtTime(a,r)}else if(t.type==="setTarget"){const{startTime:r,target:a,timeConstant:o}=t;e.setTargetAtTime(a,r,o)}else if(t.type==="setValue"){const{startTime:r,value:a}=t;e.setValueAtTime(a,r)}else if(t.type==="setValueCurve"){const{duration:r,startTime:a,values:o}=t;e.setValueCurveAtTime(o,a,r)}else throw new Error("Can't apply an unknown automation.")}});class Qb{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((r,a)=>e.call(t,r,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const rS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},sS=(i,e,t,r,a,o,h,c,f,d,m,x,w,y)=>class extends e{constructor(A,k,C){var P;const F=c(A),z=f(F),q=m({...rS,...C});w(q);const J=k0.get(F),Y=J?.get(k),D=z||F.state!=="closed"?F:(P=h(F))!==null&&P!==void 0?P:F,R=a(D,z?null:A.baseLatency,d,k,Y,q),Z=z?r(k,q,Y):null;super(A,!0,R,Z);const E=[];R.parameters.forEach((U,$)=>{const ue=t(this,z,U);E.push([$,ue])}),this._nativeAudioWorkletNode=R,this._onprocessorerror=null,this._parameters=new Qb(E),z&&i(F,this);const{activeInputs:j}=o(this);x(R,j)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(A){const k=typeof A=="function"?y(this,A):null;this._nativeAudioWorkletNode.onprocessorerror=k;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===k?A:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Ip(i,e,t,r,a){if(typeof i.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),i.copyFromChannel(e[t],r,a);else{const o=i.getChannelData(r);if(e[t].byteLength===0)e[t]=o.slice(a,a+128);else{const h=new Float32Array(o.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(h)}}}const $b=(i,e,t,r,a)=>{typeof i.copyToChannel=="function"?e[t].byteLength!==0&&i.copyToChannel(e[t],r,a):e[t].byteLength!==0&&i.getChannelData(r).set(e[t],a)},Bp=(i,e)=>{const t=[];for(let r=0;r<i;r+=1){const a=[],o=typeof e=="number"?e:e[r];for(let h=0;h<o;h+=1)a.push(new Float32Array(128));t.push(a)}return t},aS=(i,e)=>{const t=Za(O0,i),r=li(e);return Za(t,r)},oS=async(i,e,t,r,a,o,h)=>{const c=e===null?Math.ceil(i.context.length/128)*128:e.length,f=r.channelCount*r.numberOfInputs,d=a.reduce((k,C)=>k+C,0),m=d===0?null:t.createBuffer(d,c,t.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const x=$r(i),w=await aS(t,i),y=Bp(r.numberOfInputs,r.channelCount),N=Bp(r.numberOfOutputs,a),A=Array.from(i.parameters.keys()).reduce((k,C)=>({...k,[C]:new Float32Array(128)}),{});for(let k=0;k<c;k+=128){if(r.numberOfInputs>0&&e!==null)for(let C=0;C<r.numberOfInputs;C+=1)for(let P=0;P<r.channelCount;P+=1)Ip(e,y[C],P,P,k);o.parameterDescriptors!==void 0&&e!==null&&o.parameterDescriptors.forEach(({name:C},P)=>{Ip(e,A,C,f+P,k)});for(let C=0;C<r.numberOfInputs;C+=1)for(let P=0;P<a[C];P+=1)N[C][P].byteLength===0&&(N[C][P]=new Float32Array(128));try{const C=y.map((F,z)=>x.activeInputs[z].size===0?[]:F),P=h(k/t.sampleRate,t.sampleRate,()=>w.process(C,N,A));if(m!==null)for(let F=0,z=0;F<r.numberOfOutputs;F+=1){for(let q=0;q<a[F];q+=1)$b(m,N[F],q,z+q,k);z+=a[F]}if(!P)break}catch(C){i.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return m},lS=(i,e,t,r,a,o,h,c,f,d,m,x,w,y,N,A)=>(k,C,P)=>{const F=new WeakMap;let z=null;const q=async(J,Y)=>{let D=m(J),R=null;const Z=Fr(D,Y),E=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(x===null){const j=E.reduce((Q,re)=>Q+re,0),U=a(Y,{channelCount:Math.max(1,j),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,j)}),$=[];for(let Q=0;Q<J.numberOfOutputs;Q+=1)$.push(r(Y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:E[Q]}));const ue=h(Y,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});ue.connect=e.bind(null,$),ue.disconnect=f.bind(null,$),R=[U,$,ue]}else Z||(D=new x(Y,k));if(F.set(Y,R===null?D:R[2]),R!==null){if(z===null){if(P===void 0)throw new Error("Missing the processor constructor.");if(w===null)throw new Error("Missing the native OfflineAudioContext constructor.");const re=J.channelCount*J.numberOfInputs,ce=P.parameterDescriptors===void 0?0:P.parameterDescriptors.length,de=re+ce;z=oS(J,de===0?null:await(async()=>{const X=new w(de,Math.ceil(J.context.length/128)*128,Y.sampleRate),T=[],H=[];for(let oe=0;oe<C.numberOfInputs;oe+=1)T.push(h(X,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),H.push(a(X,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const ee=await Promise.all(Array.from(J.parameters.values()).map(async oe=>{const pe=o(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:oe.value});return await y(X,oe,pe.offset),pe})),ie=r(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,re+ce)});for(let oe=0;oe<C.numberOfInputs;oe+=1){T[oe].connect(H[oe]);for(let pe=0;pe<C.channelCount;pe+=1)H[oe].connect(ie,pe,oe*C.channelCount+pe)}for(const[oe,pe]of ee.entries())pe.connect(ie,0,re+oe),pe.start(0);return ie.connect(X.destination),await Promise.all(T.map(oe=>N(J,X,oe))),A(X)})(),Y,C,E,P,d)}const j=await z,U=t(Y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[$,ue,Q]=R;j!==null&&(U.buffer=j,U.start(0)),U.connect($);for(let re=0,ce=0;re<J.numberOfOutputs;re+=1){const de=ue[re];for(let Ne=0;Ne<E[re];Ne+=1)$.connect(de,ce+Ne,Ne);ce+=E[re]}return Q}if(Z)for(const[j,U]of J.parameters.entries())await i(Y,U,D.parameters.get(j));else for(const[j,U]of J.parameters.entries())await y(Y,U,D.parameters.get(j));return await N(J,Y,D),D};return{render(J,Y){c(Y,J);const D=F.get(Y);return D!==void 0?Promise.resolve(D):q(J,Y)}}},cS=(i,e,t,r,a,o,h,c,f,d,m,x,w,y,N,A,k,C,P,F)=>class extends N{constructor(q,J){super(q,J),this._nativeContext=q,this._audioWorklet=i===void 0?void 0:{addModule:(Y,D)=>i(this,Y,D)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(q,J,Y){return new t({length:J,numberOfChannels:q,sampleRate:Y})}createBufferSource(){return new r(this)}createChannelMerger(q=6){return new o(this,{numberOfInputs:q})}createChannelSplitter(q=6){return new h(this,{numberOfOutputs:q})}createConstantSource(){return new c(this)}createConvolver(){return new f(this)}createDelay(q=1){return new m(this,{maxDelayTime:q})}createDynamicsCompressor(){return new x(this)}createGain(){return new w(this)}createIIRFilter(q,J){return new y(this,{feedback:J,feedforward:q})}createOscillator(){return new A(this)}createPanner(){return new k(this)}createPeriodicWave(q,J,Y={disableNormalization:!1}){return new C(this,{...Y,imag:J,real:q})}createStereoPanner(){return new P(this)}createWaveShaper(){return new F(this)}decodeAudioData(q,J,Y){return d(this._nativeContext,q).then(D=>(typeof J=="function"&&J(D),D),D=>{throw typeof Y=="function"&&Y(D),D})}},uS={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},hS=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const x=o(d),w={...uS,...m},y=a(x,w),N=h(x),A=N?t():null;super(d,!1,y,A),this._Q=e(this,N,y.Q,Qr,xs),this._detune=e(this,N,y.detune,1200*Math.log2(Qr),-1200*Math.log2(Qr)),this._frequency=e(this,N,y.frequency,d.sampleRate/2,0),this._gain=e(this,N,y.gain,40*Math.log10(Qr),xs),this._nativeBiquadFilterNode=y,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,m,x){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,m,x)}catch(w){throw w.code===11?r():w}if(d.length!==m.length||m.length!==x.length)throw r()}},fS=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Fr(d,f);if(!m){const x={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=e(f,x)}return o.set(f,d),m?(await i(f,c.Q,d.Q),await i(f,c.detune,d.detune),await i(f,c.frequency,d.frequency),await i(f,c.gain,d.gain)):(await r(f,c.Q,d.Q),await r(f,c.detune,d.detune),await r(f,c.frequency,d.frequency),await r(f,c.gain,d.gain)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},dS=(i,e)=>(t,r)=>{const a=e.get(t);if(a!==void 0)return a;const o=i.get(t);if(o!==void 0)return o;try{const h=r();return h instanceof Promise?(i.set(t,h),h.catch(()=>!1).then(c=>(i.delete(t),e.set(t,c),c))):(e.set(t,h),h)}catch{return e.set(t,!1),!1}},pS={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},mS=(i,e,t,r,a)=>class extends i{constructor(h,c){const f=r(h),d={...pS,...c},m=t(f,d),x=a(f)?e():null;super(h,!1,m,x)}},gS=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Fr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=i(h,d)}return r.set(h,c),await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},vS={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},yS=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=r(c),m=o({...vS,...f}),x=t(d,m),w=a(d)?e():null;super(c,!1,x,w)}},bS=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Fr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=i(h,d)}return r.set(h,c),await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},xS=i=>(e,t,r)=>i(t,e,r),_S=i=>(e,t,r=0,a=0)=>{const o=e[r];if(o===void 0)throw i();return Rp(t)?o.connect(t,0,a):o.connect(t,0)},wS=i=>(e,t)=>{const r=i(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return r.buffer=a,r.loop=!0,r.connect(t),r.start(),()=>{r.stop(),r.disconnect(t)}},SS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},AS=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),x={...SS,...d},w=r(m,x),y=o(m),N=y?t():null;super(f,!1,w,N),this._constantSourceNodeRenderer=N,this._nativeConstantSourceNode=w,this._offset=e(this,y,w.offset,Qr,xs),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeConstantSourceNode.onended=d;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===d?f:m}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){Sh(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),fl(this)&&Xf(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},NS=(i,e,t,r,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let x=t(d);const w=Fr(x,m);if(!w){const y={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,offset:x.offset.value};x=e(m,y),h!==null&&x.start(h),c!==null&&x.stop(c)}return o.set(m,x),w?await i(m,d.offset,x.offset):await r(m,d.offset,x.offset),await a(d,m,x),x};return{set start(d){h=d},set stop(d){c=d},render(d,m){const x=o.get(m);return x!==void 0?Promise.resolve(x):f(d,m)}}},CS=i=>e=>(i[0]=e,i[0]),TS={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},ES=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=r(c),m={...TS,...f},x=t(d,m),y=a(d)?e():null;super(c,!1,x,y),this._isBufferNullified=!1,this._nativeConvolverNode=x,m.buffer!==null&&o(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},kS=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Fr(c,h)){const d={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=i(h,d)}return r.set(h,c),Ch(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},OS=(i,e)=>(t,r,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,r,a)}catch(o){throw o.name==="SyntaxError"?i():o}},MS=()=>new DOMException("","DataCloneError"),Uv=i=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(r=>{const a=()=>{t.onmessage=null,e.close(),t.close(),r()};t.onmessage=()=>a();try{e.postMessage(i,[i])}catch{}finally{a()}})},LS=(i,e,t,r,a,o,h,c,f,d,m)=>(x,w)=>{const y=h(x)?x:o(x);if(a.has(w)){const N=t();return Promise.reject(N)}try{a.add(w)}catch{}return e(f,()=>f(y))?y.decodeAudioData(w).then(N=>(Uv(w).catch(()=>{}),e(c,()=>c(N))||m(N),i.add(N),N)):new Promise((N,A)=>{const k=async()=>{try{await Uv(w)}catch{}},C=P=>{A(P),k()};try{y.decodeAudioData(w,P=>{typeof P.copyFromChannel!="function"&&(d(P),ng(P)),i.add(P),k().then(()=>N(P))},P=>{C(P===null?r():P)})}catch(P){C(P)}})},DS=(i,e,t,r,a,o,h,c)=>(f,d)=>{const m=e.get(f);if(m===void 0)throw new Error("Missing the expected cycle count.");const x=o(f.context),w=c(x);if(m===d){if(e.delete(f),!w&&h(f)){const y=r(f),{outputs:N}=t(f);for(const A of N)if(Kf(A)){const k=r(A[0]);i(y,k,A[1],A[2])}else{const k=a(A[0]);y.connect(k,A[1])}}}else e.set(f,m-d)},jS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},RS=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),x={...jS,...d},w=r(m,x),y=o(m),N=y?t(x.maxDelayTime):null;super(f,!1,w,N),this._delayTime=e(this,y,w.delayTime),h(this,x.maxDelayTime)}get delayTime(){return this._delayTime}},IS=(i,e,t,r,a)=>o=>{const h=new WeakMap,c=async(f,d)=>{let m=t(f);const x=Fr(m,d);if(!x){const w={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:o};m=e(d,w)}return h.set(d,m),x?await i(d,f.delayTime,m.delayTime):await r(d,f.delayTime,m.delayTime),await a(f,d,m),m};return{render(f,d){const m=h.get(d);return m!==void 0?Promise.resolve(m):c(f,d)}}},BS=i=>(e,t,r,a)=>i(e[a],o=>o[0]===t&&o[1]===r),qS=i=>(e,t)=>{i(e).delete(t)},zS=i=>"delayTime"in i,FS=(i,e,t)=>function r(a,o){const h=Lp(o)?o:t(i,o);if(zS(h))return[];if(a[0]===h)return[a];if(a.includes(h))return[];const{outputs:c}=e(h);return Array.from(c).map(f=>r([...a,h],f[0])).reduce((f,d)=>f.concat(d),[])},ip=(i,e,t)=>{const r=e[t];if(r===void 0)throw i();return r},PS=i=>(e,t=void 0,r=void 0,a=0)=>t===void 0?e.forEach(o=>o.disconnect()):typeof t=="number"?ip(i,e,t).disconnect():Rp(t)?r===void 0?e.forEach(o=>o.disconnect(t)):a===void 0?ip(i,e,r).disconnect(t,0):ip(i,e,r).disconnect(t,0,a):r===void 0?e.forEach(o=>o.disconnect(t)):ip(i,e,r).disconnect(t,0),US={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},VS=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const x=o(d),w={...US,...m},y=r(x,w),N=h(x),A=N?t():null;super(d,!1,y,A),this._attack=e(this,N,y.attack),this._knee=e(this,N,y.knee),this._nativeDynamicsCompressorNode=y,this._ratio=e(this,N,y.ratio),this._release=e(this,N,y.release),this._threshold=e(this,N,y.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=m,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},HS=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Fr(d,f);if(!m){const x={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=e(f,x)}return o.set(f,d),m?(await i(f,c.attack,d.attack),await i(f,c.knee,d.knee),await i(f,c.ratio,d.ratio),await i(f,c.release,d.release),await i(f,c.threshold,d.threshold)):(await r(f,c.attack,d.attack),await r(f,c.knee,d.knee),await r(f,c.ratio,d.ratio),await r(f,c.release,d.release),await r(f,c.threshold,d.threshold)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},GS=()=>new DOMException("","EncodingError"),YS=i=>e=>new Promise((t,r)=>{if(i===null){r(new SyntaxError);return}const a=i.document.head;if(a===null)r(new SyntaxError);else{const o=i.document.createElement("script"),h=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(h),f=i.onerror,d=()=>{i.onerror=f,URL.revokeObjectURL(c)};i.onerror=(m,x,w,y,N)=>{if(x===c||x===i.location.href&&w===1&&y===1)return d(),r(N),!1;if(f!==null)return f(m,x,w,y,N)},o.onerror=()=>{d(),r(new SyntaxError)},o.onload=()=>{d(),t()},o.src=c,o.type="module",a.appendChild(o)}}),WS=i=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,r,a){if(r!==null){let o=this._listeners.get(r);o===void 0&&(o=i(this,r),typeof r=="function"&&this._listeners.set(r,o)),this._nativeEventTarget.addEventListener(t,o,a)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,r,a){const o=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,a)}},XS=i=>(e,t,r)=>{Object.defineProperties(i,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{i!==null&&(delete i.currentFrame,delete i.currentTime)}},ZS=i=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw i()},KS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},QS=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=a(c),m={...KS,...f},x=r(d,m),w=o(d),y=w?t():null;super(c,!1,x,y),this._gain=e(this,w,x.gain,Qr,xs)}get gain(){return this._gain}},$S=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Fr(d,f);if(!m){const x={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=e(f,x)}return o.set(f,d),m?await i(f,c.gain,d.gain):await r(f,c.gain,d.gain),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},JS=(i,e)=>t=>e(i,t),e6=i=>e=>{const t=i(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},t6=i=>e=>{var t;return(t=i.get(e))!==null&&t!==void 0?t:0},n6=i=>e=>{const t=i(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},i6=i=>e=>i.get(e),yr=()=>new DOMException("","InvalidStateError"),r6=i=>e=>{const t=i.get(e);if(t===void 0)throw yr();return t},s6=(i,e)=>t=>{let r=i.get(t);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),i.set(t,r),r},a6=i=>e=>{const t=i.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},i1=()=>new DOMException("","InvalidAccessError"),o6=i=>{i.getFrequencyResponse=(e=>(t,r,a)=>{if(t.length!==r.length||r.length!==a.length)throw i1();return e.call(i,t,r,a)})(i.getFrequencyResponse)},l6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},c6=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=r(c),m=a(d),x={...l6,...f},w=e(d,m?null:c.baseLatency,x),y=m?t(x.feedback,x.feedforward):null;super(c,!1,w,y),o6(w),this._nativeIIRFilterNode=w,o(this,1)}getFrequencyResponse(c,f,d){return this._nativeIIRFilterNode.getFrequencyResponse(c,f,d)}},Jb=(i,e,t,r,a,o,h,c,f,d,m)=>{const x=d.length;let w=c;for(let y=0;y<x;y+=1){let N=t[0]*d[y];for(let A=1;A<a;A+=1){const k=w-A&f-1;N+=t[A]*o[k],N-=i[A]*h[k]}for(let A=a;A<r;A+=1)N+=t[A]*o[w-A&f-1];for(let A=a;A<e;A+=1)N-=i[A]*h[w-A&f-1];o[w]=d[y],h[w]=N,w=w+1&f-1,m[y]=N}return w},u6=(i,e,t,r)=>{const a=t instanceof Float64Array?t:new Float64Array(t),o=r instanceof Float64Array?r:new Float64Array(r),h=a.length,c=o.length,f=Math.min(h,c);if(a[0]!==1){for(let N=0;N<h;N+=1)o[N]/=a[0];for(let N=1;N<c;N+=1)a[N]/=a[0]}const d=32,m=new Float32Array(d),x=new Float32Array(d),w=e.createBuffer(i.numberOfChannels,i.length,i.sampleRate),y=i.numberOfChannels;for(let N=0;N<y;N+=1){const A=i.getChannelData(N),k=w.getChannelData(N);m.fill(0),x.fill(0),Jb(a,h,o,c,f,m,x,0,d,A,k)}return w},h6=(i,e,t,r,a)=>(o,h)=>{const c=new WeakMap;let f=null;const d=async(m,x)=>{let w=null,y=e(m);const N=Fr(y,x);if(x.createIIRFilter===void 0?w=i(x,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):N||(y=x.createIIRFilter(h,o)),c.set(x,w===null?y:w),w!==null){if(f===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const k=new t(m.context.destination.channelCount,m.context.length,x.sampleRate);f=(async()=>{await r(m,k,k.destination);const C=await a(k);return u6(C,x,o,h)})()}const A=await f;return w.buffer=A,w.start(0),w}return await r(m,x,y),y};return{render(m,x){const w=c.get(x);return w!==void 0?Promise.resolve(w):d(m,x)}}},f6=(i,e,t,r,a,o)=>h=>(c,f)=>{const d=i.get(c);if(d===void 0){if(!h&&o(c)){const m=r(c),{outputs:x}=t(c);for(const w of x)if(Kf(w)){const y=r(w[0]);e(m,y,w[1],w[2])}else{const y=a(w[0]);m.disconnect(y,w[1])}}i.set(c,f)}else i.set(c,d+f)},d6=(i,e)=>t=>{const r=i.get(t);return e(r)||e(t)},p6=(i,e)=>t=>i.has(t)||e(t),m6=(i,e)=>t=>i.has(t)||e(t),g6=(i,e)=>t=>{const r=i.get(t);return e(r)||e(t)},v6=i=>e=>i!==null&&e instanceof i,y6=i=>e=>i!==null&&typeof i.AudioNode=="function"&&e instanceof i.AudioNode,b6=i=>e=>i!==null&&typeof i.AudioParam=="function"&&e instanceof i.AudioParam,x6=(i,e)=>t=>i(t)||e(t),_6=i=>e=>i!==null&&e instanceof i,w6=i=>i!==null&&i.isSecureContext,S6=(i,e,t,r)=>class extends i{constructor(o,h){const c=t(o),f=e(c,h);if(r(c))throw TypeError();super(o,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},A6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},N6=(i,e,t,r)=>class extends i{constructor(o,h){const c=t(o);if(r(c))throw new TypeError;const f={...A6,...h},d=e(c,f);super(o,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},C6=(i,e,t,r)=>class extends i{constructor(o,h){const c=t(o),f=e(c,h);if(r(c))throw new TypeError;super(o,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},T6=(i,e,t)=>class extends i{constructor(a,o){const h=t(a),c=e(h,o);super(a,!0,c,null)}},E6=(i,e,t,r,a,o)=>class extends t{constructor(c,f){super(c),this._nativeContext=c,t1.set(this,c),r(c)&&a.set(c,new Set),this._destination=new i(this,f),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const f=typeof c=="function"?o(this,c):null;this._nativeContext.onstatechange=f;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===f?c:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Bf=i=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=i.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},k6=(i,e)=>(t,r,a)=>{const o=new Set;return t.connect=(h=>(c,f=0,d=0)=>{const m=o.size===0;if(e(c))return h.call(t,c,f,d),i(o,[c,f,d],x=>x[0]===c&&x[1]===f&&x[2]===d,!0),m&&r(),c;h.call(t,c,f),i(o,[c,f],x=>x[0]===c&&x[1]===f,!0),m&&r()})(t.connect),t.disconnect=(h=>(c,f,d)=>{const m=o.size>0;if(c===void 0)h.apply(t),o.clear();else if(typeof c=="number"){h.call(t,c);for(const w of o)w[1]===c&&o.delete(w)}else{e(c)?h.call(t,c,f,d):h.call(t,c,f);for(const w of o)w[0]===c&&(f===void 0||w[1]===f)&&(d===void 0||w[2]===d)&&o.delete(w)}const x=o.size===0;m&&x&&a()})(t.disconnect),t},gi=(i,e,t)=>{const r=e[t];r!==void 0&&r!==i[t]&&(i[t]=r)},lr=(i,e)=>{gi(i,e,"channelCount"),gi(i,e,"channelCountMode"),gi(i,e,"channelInterpretation")},Vv=i=>typeof i.getFloatTimeDomainData=="function",O6=i=>{i.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);i.getByteTimeDomainData(t);const r=Math.max(t.length,i.fftSize);for(let a=0;a<r;a+=1)e[a]=(t[a]-128)*.0078125;return e}},M6=(i,e)=>(t,r)=>{const a=t.createAnalyser();if(lr(a,r),!(r.maxDecibels>r.minDecibels))throw e();return gi(a,r,"fftSize"),gi(a,r,"maxDecibels"),gi(a,r,"minDecibels"),gi(a,r,"smoothingTimeConstant"),i(Vv,()=>Vv(a))||O6(a),a},L6=i=>i===null?null:i.hasOwnProperty("AudioBuffer")?i.AudioBuffer:null,Li=(i,e,t)=>{const r=e[t];r!==void 0&&r!==i[t].value&&(i[t].value=r)},D6=i=>{i.start=(e=>{let t=!1;return(r=0,a=0,o)=>{if(t)throw yr();e.call(i,r,a,o),t=!0}})(i.start)},sg=i=>{i.start=(e=>(t=0,r=0,a)=>{if(typeof a=="number"&&a<0||r<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(i,t,r,a)})(i.start)},ag=i=>{i.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(i,t)})(i.stop)},j6=(i,e,t,r,a,o,h,c,f,d,m)=>(x,w)=>{const y=x.createBufferSource();return lr(y,w),Li(y,w,"playbackRate"),gi(y,w,"buffer"),gi(y,w,"loop"),gi(y,w,"loopEnd"),gi(y,w,"loopStart"),e(t,()=>t(x))||D6(y),e(r,()=>r(x))||f(y),e(a,()=>a(x))||d(y,x),e(o,()=>o(x))||sg(y),e(h,()=>h(x))||m(y,x),e(c,()=>c(x))||ag(y),i(x,y),y},R6=i=>i===null?null:i.hasOwnProperty("AudioContext")?i.AudioContext:i.hasOwnProperty("webkitAudioContext")?i.webkitAudioContext:null,I6=(i,e)=>(t,r,a)=>{const o=t.destination;if(o.channelCount!==r)try{o.channelCount=r}catch{}a&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:r});const h=i(t,{channelCount:r,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(h,"channelCount",c=>()=>c.call(h),c=>f=>{c.call(h,f);try{o.channelCount=f}catch(d){if(f>o.maxChannelCount)throw d}}),e(h,"channelCountMode",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelCountMode=f}),e(h,"channelInterpretation",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelInterpretation=f}),Object.defineProperty(h,"maxChannelCount",{get:()=>o.maxChannelCount}),h.connect(o),h},B6=i=>i===null?null:i.hasOwnProperty("AudioWorkletNode")?i.AudioWorkletNode:null,q6=i=>{const{port1:e}=new MessageChannel;try{e.postMessage(i)}finally{e.close()}},z6=(i,e,t,r,a)=>(o,h,c,f,d,m)=>{if(c!==null)try{const x=new c(o,f,m),w=new Map;let y=null;if(Object.defineProperties(x,{channelCount:{get:()=>m.channelCount,set:()=>{throw i()}},channelCountMode:{get:()=>"explicit",set:()=>{throw i()}},onprocessorerror:{get:()=>y,set:N=>{typeof y=="function"&&x.removeEventListener("processorerror",y),y=typeof N=="function"?N:null,typeof y=="function"&&x.addEventListener("processorerror",y)}}}),x.addEventListener=(N=>(...A)=>{if(A[0]==="processorerror"){const k=typeof A[1]=="function"?A[1]:typeof A[1]=="object"&&A[1]!==null&&typeof A[1].handleEvent=="function"?A[1].handleEvent:null;if(k!==null){const C=w.get(A[1]);C!==void 0?A[1]=C:(A[1]=P=>{P.type==="error"?(Object.defineProperties(P,{type:{value:"processorerror"}}),k(P)):k(new ErrorEvent(A[0],{...P}))},w.set(k,A[1]))}}return N.call(x,"error",A[1],A[2]),N.call(x,...A)})(x.addEventListener),x.removeEventListener=(N=>(...A)=>{if(A[0]==="processorerror"){const k=w.get(A[1]);k!==void 0&&(w.delete(A[1]),A[1]=k)}return N.call(x,"error",A[1],A[2]),N.call(x,A[0],A[1],A[2])})(x.removeEventListener),m.numberOfOutputs!==0){const N=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return x.connect(N).connect(o.destination),a(x,()=>N.disconnect(),()=>N.connect(o.destination))}return x}catch(x){throw x.code===11?r():x}if(d===void 0)throw r();return q6(m),e(o,h,d,m)},ex=(i,e)=>i===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(i*e))))),F6=i=>new Promise((e,t)=>{const{port1:r,port2:a}=new MessageChannel;r.onmessage=({data:o})=>{r.close(),a.close(),e(o)},r.onmessageerror=({data:o})=>{r.close(),a.close(),t(o)},a.postMessage(i)}),P6=async(i,e)=>{const t=await F6(e);return new i(t)},U6=(i,e,t,r)=>{let a=O0.get(i);a===void 0&&(a=new WeakMap,O0.set(i,a));const o=P6(t,r);return a.set(e,o),o},V6=(i,e,t,r,a,o,h,c,f,d,m,x,w)=>(y,N,A,k)=>{if(k.numberOfInputs===0&&k.numberOfOutputs===0)throw f();const C=Array.isArray(k.outputChannelCount)?k.outputChannelCount:Array.from(k.outputChannelCount);if(C.some(V=>V<1))throw f();if(C.length!==k.numberOfOutputs)throw e();if(k.channelCountMode!=="explicit")throw f();const P=k.channelCount*k.numberOfInputs,F=C.reduce((V,De)=>V+De,0),z=A.parameterDescriptors===void 0?0:A.parameterDescriptors.length;if(P+z>6||F>6)throw f();const q=new MessageChannel,J=[],Y=[];for(let V=0;V<k.numberOfInputs;V+=1)J.push(h(y,{channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation,gain:1})),Y.push(a(y,{channelCount:k.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:k.channelCount}));const D=[];if(A.parameterDescriptors!==void 0)for(const{defaultValue:V,maxValue:De,minValue:ut,name:nt}of A.parameterDescriptors){const Le=o(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:k.parameterData[nt]!==void 0?k.parameterData[nt]:V===void 0?0:V});Object.defineProperties(Le.offset,{defaultValue:{get:()=>V===void 0?0:V},maxValue:{get:()=>De===void 0?Qr:De},minValue:{get:()=>ut===void 0?xs:ut}}),D.push(Le)}const R=r(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,P+z)}),Z=ex(N,y.sampleRate),E=c(y,Z,P+z,Math.max(1,F)),j=a(y,{channelCount:Math.max(1,F),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,F)}),U=[];for(let V=0;V<k.numberOfOutputs;V+=1)U.push(r(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[V]}));for(let V=0;V<k.numberOfInputs;V+=1){J[V].connect(Y[V]);for(let De=0;De<k.channelCount;De+=1)Y[V].connect(R,De,V*k.channelCount+De)}const $=new Qb(A.parameterDescriptors===void 0?[]:A.parameterDescriptors.map(({name:V},De)=>{const ut=D[De];return ut.connect(R,0,P+De),ut.start(0),[V,ut.offset]}));R.connect(E);let ue=k.channelInterpretation,Q=null;const re=k.numberOfOutputs===0?[E]:U,ce={get bufferSize(){return Z},get channelCount(){return k.channelCount},set channelCount(V){throw t()},get channelCountMode(){return k.channelCountMode},set channelCountMode(V){throw t()},get channelInterpretation(){return ue},set channelInterpretation(V){for(const De of J)De.channelInterpretation=V;ue=V},get context(){return E.context},get inputs(){return J},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get onprocessorerror(){return Q},set onprocessorerror(V){typeof Q=="function"&&ce.removeEventListener("processorerror",Q),Q=typeof V=="function"?V:null,typeof Q=="function"&&ce.addEventListener("processorerror",Q)},get parameters(){return $},get port(){return q.port2},addEventListener(...V){return E.addEventListener(V[0],V[1],V[2])},connect:i.bind(null,re),disconnect:d.bind(null,re),dispatchEvent(...V){return E.dispatchEvent(V[0])},removeEventListener(...V){return E.removeEventListener(V[0],V[1],V[2])}},de=new Map;q.port1.addEventListener=(V=>(...De)=>{if(De[0]==="message"){const ut=typeof De[1]=="function"?De[1]:typeof De[1]=="object"&&De[1]!==null&&typeof De[1].handleEvent=="function"?De[1].handleEvent:null;if(ut!==null){const nt=de.get(De[1]);nt!==void 0?De[1]=nt:(De[1]=Le=>{m(y.currentTime,y.sampleRate,()=>ut(Le))},de.set(ut,De[1]))}}return V.call(q.port1,De[0],De[1],De[2])})(q.port1.addEventListener),q.port1.removeEventListener=(V=>(...De)=>{if(De[0]==="message"){const ut=de.get(De[1]);ut!==void 0&&(de.delete(De[1]),De[1]=ut)}return V.call(q.port1,De[0],De[1],De[2])})(q.port1.removeEventListener);let Ne=null;Object.defineProperty(q.port1,"onmessage",{get:()=>Ne,set:V=>{typeof Ne=="function"&&q.port1.removeEventListener("message",Ne),Ne=typeof V=="function"?V:null,typeof Ne=="function"&&(q.port1.addEventListener("message",Ne),q.port1.start())}}),A.prototype.port=q.port1;let X=null;U6(y,ce,A,k).then(V=>X=V);const H=Bp(k.numberOfInputs,k.channelCount),ee=Bp(k.numberOfOutputs,C),ie=A.parameterDescriptors===void 0?[]:A.parameterDescriptors.reduce((V,{name:De})=>({...V,[De]:new Float32Array(128)}),{});let oe=!0;const pe=()=>{k.numberOfOutputs>0&&E.disconnect(j);for(let V=0,De=0;V<k.numberOfOutputs;V+=1){const ut=U[V];for(let nt=0;nt<C[V];nt+=1)j.disconnect(ut,De+nt,nt);De+=C[V]}},fe=new Map;E.onaudioprocess=({inputBuffer:V,outputBuffer:De})=>{if(X!==null){const ut=x(ce);for(let nt=0;nt<Z;nt+=128){for(let Le=0;Le<k.numberOfInputs;Le+=1)for(let tt=0;tt<k.channelCount;tt+=1)Ip(V,H[Le],tt,tt,nt);A.parameterDescriptors!==void 0&&A.parameterDescriptors.forEach(({name:Le},tt)=>{Ip(V,ie,Le,P+tt,nt)});for(let Le=0;Le<k.numberOfInputs;Le+=1)for(let tt=0;tt<C[Le];tt+=1)ee[Le][tt].byteLength===0&&(ee[Le][tt]=new Float32Array(128));try{const Le=H.map((it,lt)=>{if(ut[lt].size>0)return fe.set(lt,Z/128),it;const kt=fe.get(lt);return kt===void 0?[]:(it.every(Ge=>Ge.every(Ke=>Ke===0))&&(kt===1?fe.delete(lt):fe.set(lt,kt-1)),it)});oe=m(y.currentTime+nt/y.sampleRate,y.sampleRate,()=>X.process(Le,ee,ie));for(let it=0,lt=0;it<k.numberOfOutputs;it+=1){for(let pt=0;pt<C[it];pt+=1)$b(De,ee[it],pt,lt+pt,nt);lt+=C[it]}}catch(Le){oe=!1,ce.dispatchEvent(new ErrorEvent("processorerror",{colno:Le.colno,filename:Le.filename,lineno:Le.lineno,message:Le.message}))}if(!oe){for(let Le=0;Le<k.numberOfInputs;Le+=1){J[Le].disconnect(Y[Le]);for(let tt=0;tt<k.channelCount;tt+=1)Y[nt].disconnect(R,tt,Le*k.channelCount+tt)}if(A.parameterDescriptors!==void 0){const Le=A.parameterDescriptors.length;for(let tt=0;tt<Le;tt+=1){const it=D[tt];it.disconnect(R,0,P+tt),it.stop()}}R.disconnect(E),E.onaudioprocess=null,me?pe():Xe();break}}}};let me=!1;const _e=h(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Re=()=>E.connect(_e).connect(y.destination),Xe=()=>{E.disconnect(_e),_e.disconnect()},He=()=>{if(oe){Xe(),k.numberOfOutputs>0&&E.connect(j);for(let V=0,De=0;V<k.numberOfOutputs;V+=1){const ut=U[V];for(let nt=0;nt<C[V];nt+=1)j.connect(ut,De+nt,nt);De+=C[V]}}me=!0},Qe=()=>{oe&&(Re(),pe()),me=!1};return Re(),w(ce,He,Qe)},tx=(i,e)=>{const t=i.createBiquadFilter();return lr(t,e),Li(t,e,"Q"),Li(t,e,"detune"),Li(t,e,"frequency"),Li(t,e,"gain"),gi(t,e,"type"),t},H6=(i,e)=>(t,r)=>{const a=t.createChannelMerger(r.numberOfInputs);return i!==null&&i.name==="webkitAudioContext"&&e(t,a),lr(a,r),a},G6=i=>{const e=i.numberOfOutputs;Object.defineProperty(i,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw yr()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw yr()}}),Object.defineProperty(i,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw yr()}})},Qf=(i,e)=>{const t=i.createChannelSplitter(e.numberOfOutputs);return lr(t,e),G6(t),t},Y6=(i,e,t,r,a)=>(o,h)=>{if(o.createConstantSource===void 0)return t(o,h);const c=o.createConstantSource();return lr(c,h),Li(c,h,"offset"),e(r,()=>r(o))||sg(c),e(a,()=>a(o))||ag(c),i(o,c),c},Th=(i,e)=>(i.connect=e.connect.bind(e),i.disconnect=e.disconnect.bind(e),i),W6=(i,e,t,r)=>(a,{offset:o,...h})=>{const c=a.createBuffer(1,2,44100),f=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=t(a,{...h,gain:o}),m=c.getChannelData(0);m[0]=1,m[1]=1,f.buffer=c,f.loop=!0;const x={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(N){d.channelCount=N},get channelCountMode(){return d.channelCountMode},set channelCountMode(N){d.channelCountMode=N},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(N){d.channelInterpretation=N},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return f.onended},set onended(N){f.onended=N},addEventListener(...N){return f.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return f.dispatchEvent(N[0])},removeEventListener(...N){return f.removeEventListener(N[0],N[1],N[2])},start(N=0){f.start.call(f,N)},stop(N=0){f.stop.call(f,N)}},w=()=>f.connect(d),y=()=>f.disconnect(d);return i(a,f),r(Th(x,d),w,y)},X6=(i,e)=>(t,r)=>{const a=t.createConvolver();if(lr(a,r),r.disableNormalization===a.normalize&&(a.normalize=!r.disableNormalization),gi(a,r,"buffer"),r.channelCount>2||(e(a,"channelCount",o=>()=>o.call(a),o=>h=>{if(h>2)throw i();return o.call(a,h)}),r.channelCountMode==="max"))throw i();return e(a,"channelCountMode",o=>()=>o.call(a),o=>h=>{if(h==="max")throw i();return o.call(a,h)}),a},nx=(i,e)=>{const t=i.createDelay(e.maxDelayTime);return lr(t,e),Li(t,e,"delayTime"),t},Z6=i=>(e,t)=>{const r=e.createDynamicsCompressor();if(lr(r,t),t.channelCount>2||t.channelCountMode==="max")throw i();return Li(r,t,"attack"),Li(r,t,"knee"),Li(r,t,"ratio"),Li(r,t,"release"),Li(r,t,"threshold"),r},ws=(i,e)=>{const t=i.createGain();return lr(t,e),Li(t,e,"gain"),t},K6=i=>(e,t,r)=>{if(e.createIIRFilter===void 0)return i(e,t,r);const a=e.createIIRFilter(r.feedforward,r.feedback);return lr(a,r),a};function Q6(i,e){const t=e[0]*e[0]+e[1]*e[1];return[(i[0]*e[0]+i[1]*e[1])/t,(i[1]*e[0]-i[0]*e[1])/t]}function $6(i,e){return[i[0]*e[0]-i[1]*e[1],i[0]*e[1]+i[1]*e[0]]}function Hv(i,e){let t=[0,0];for(let r=i.length-1;r>=0;r-=1)t=$6(t,e),t[0]+=i[r];return t}const J6=(i,e,t,r)=>(a,o,{channelCount:h,channelCountMode:c,channelInterpretation:f,feedback:d,feedforward:m})=>{const x=ex(o,a.sampleRate),w=d instanceof Float64Array?d:new Float64Array(d),y=m instanceof Float64Array?m:new Float64Array(m),N=w.length,A=y.length,k=Math.min(N,A);if(N===0||N>20)throw r();if(w[0]===0)throw e();if(A===0||A>20)throw r();if(y[0]===0)throw e();if(w[0]!==1){for(let D=0;D<A;D+=1)y[D]/=w[0];for(let D=1;D<N;D+=1)w[D]/=w[0]}const C=t(a,x,h,h);C.channelCount=h,C.channelCountMode=c,C.channelInterpretation=f;const P=32,F=[],z=[],q=[];for(let D=0;D<h;D+=1){F.push(0);const R=new Float32Array(P),Z=new Float32Array(P);R.fill(0),Z.fill(0),z.push(R),q.push(Z)}C.onaudioprocess=D=>{const R=D.inputBuffer,Z=D.outputBuffer,E=R.numberOfChannels;for(let j=0;j<E;j+=1){const U=R.getChannelData(j),$=Z.getChannelData(j);F[j]=Jb(w,N,y,A,k,z[j],q[j],F[j],P,U,$)}};const J=a.sampleRate/2;return Th({get bufferSize(){return x},get channelCount(){return C.channelCount},set channelCount(D){C.channelCount=D},get channelCountMode(){return C.channelCountMode},set channelCountMode(D){C.channelCountMode=D},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(D){C.channelInterpretation=D},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...D){return C.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return C.dispatchEvent(D[0])},getFrequencyResponse(D,R,Z){if(D.length!==R.length||R.length!==Z.length)throw i();const E=D.length;for(let j=0;j<E;j+=1){const U=-Math.PI*(D[j]/J),$=[Math.cos(U),Math.sin(U)],ue=Hv(y,$),Q=Hv(w,$),re=Q6(ue,Q);R[j]=Math.sqrt(re[0]*re[0]+re[1]*re[1]),Z[j]=Math.atan2(re[1],re[0])}},removeEventListener(...D){return C.removeEventListener(D[0],D[1],D[2])}},C)},eA=(i,e)=>i.createMediaElementSource(e.mediaElement),tA=(i,e)=>{const t=i.createMediaStreamDestination();return lr(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},nA=(i,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((o,h)=>o.id<h.id?-1:o.id>h.id?1:0);const r=t.slice(0,1),a=i.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(a,"mediaStream",{value:e}),a},iA=(i,e)=>(t,{mediaStreamTrack:r})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(r);const a=new MediaStream([r]),o=t.createMediaStreamSource(a);if(r.kind!=="audio")throw i();if(e(t))throw new TypeError;return o},rA=i=>i===null?null:i.hasOwnProperty("OfflineAudioContext")?i.OfflineAudioContext:i.hasOwnProperty("webkitOfflineAudioContext")?i.webkitOfflineAudioContext:null,sA=(i,e,t,r,a,o)=>(h,c)=>{const f=h.createOscillator();return lr(f,c),Li(f,c,"detune"),Li(f,c,"frequency"),c.periodicWave!==void 0?f.setPeriodicWave(c.periodicWave):gi(f,c,"type"),e(t,()=>t(h))||sg(f),e(r,()=>r(h))||o(f,h),e(a,()=>a(h))||ag(f),i(h,f),f},aA=i=>(e,t)=>{const r=e.createPanner();return r.orientationX===void 0?i(e,t):(lr(r,t),Li(r,t,"orientationX"),Li(r,t,"orientationY"),Li(r,t,"orientationZ"),Li(r,t,"positionX"),Li(r,t,"positionY"),Li(r,t,"positionZ"),gi(r,t,"coneInnerAngle"),gi(r,t,"coneOuterAngle"),gi(r,t,"coneOuterGain"),gi(r,t,"distanceModel"),gi(r,t,"maxDistance"),gi(r,t,"panningModel"),gi(r,t,"refDistance"),gi(r,t,"rolloffFactor"),r)},oA=(i,e,t,r,a,o,h,c,f,d)=>(m,{coneInnerAngle:x,coneOuterAngle:w,coneOuterGain:y,distanceModel:N,maxDistance:A,orientationX:k,orientationY:C,orientationZ:P,panningModel:F,positionX:z,positionY:q,positionZ:J,refDistance:Y,rolloffFactor:D,...R})=>{const Z=m.createPanner();if(R.channelCount>2||R.channelCountMode==="max")throw h();lr(Z,R);const E={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},j=t(m,{...E,channelInterpretation:"speakers",numberOfInputs:6}),U=r(m,{...R,gain:1}),$=r(m,{...E,gain:1}),ue=r(m,{...E,gain:0}),Q=r(m,{...E,gain:0}),re=r(m,{...E,gain:0}),ce=r(m,{...E,gain:0}),de=r(m,{...E,gain:0}),Ne=a(m,256,6,1),X=o(m,{...E,curve:new Float32Array([1,1]),oversample:"none"});let T=[k,C,P],H=[z,q,J];const ee=new Float32Array(1);Ne.onaudioprocess=({inputBuffer:fe})=>{const me=[f(fe,ee,0),f(fe,ee,1),f(fe,ee,2)];me.some((Re,Xe)=>Re!==T[Xe])&&(Z.setOrientation(...me),T=me);const _e=[f(fe,ee,3),f(fe,ee,4),f(fe,ee,5)];_e.some((Re,Xe)=>Re!==H[Xe])&&(Z.setPosition(..._e),H=_e)},Object.defineProperty(ue.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(re.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ce.gain,"defaultValue",{get:()=>0}),Object.defineProperty(de.gain,"defaultValue",{get:()=>0});const ie={get bufferSize(){},get channelCount(){return Z.channelCount},set channelCount(fe){if(fe>2)throw h();U.channelCount=fe,Z.channelCount=fe},get channelCountMode(){return Z.channelCountMode},set channelCountMode(fe){if(fe==="max")throw h();U.channelCountMode=fe,Z.channelCountMode=fe},get channelInterpretation(){return Z.channelInterpretation},set channelInterpretation(fe){U.channelInterpretation=fe,Z.channelInterpretation=fe},get coneInnerAngle(){return Z.coneInnerAngle},set coneInnerAngle(fe){Z.coneInnerAngle=fe},get coneOuterAngle(){return Z.coneOuterAngle},set coneOuterAngle(fe){Z.coneOuterAngle=fe},get coneOuterGain(){return Z.coneOuterGain},set coneOuterGain(fe){if(fe<0||fe>1)throw e();Z.coneOuterGain=fe},get context(){return Z.context},get distanceModel(){return Z.distanceModel},set distanceModel(fe){Z.distanceModel=fe},get inputs(){return[U]},get maxDistance(){return Z.maxDistance},set maxDistance(fe){if(fe<0)throw new RangeError;Z.maxDistance=fe},get numberOfInputs(){return Z.numberOfInputs},get numberOfOutputs(){return Z.numberOfOutputs},get orientationX(){return $.gain},get orientationY(){return ue.gain},get orientationZ(){return Q.gain},get panningModel(){return Z.panningModel},set panningModel(fe){Z.panningModel=fe},get positionX(){return re.gain},get positionY(){return ce.gain},get positionZ(){return de.gain},get refDistance(){return Z.refDistance},set refDistance(fe){if(fe<0)throw new RangeError;Z.refDistance=fe},get rolloffFactor(){return Z.rolloffFactor},set rolloffFactor(fe){if(fe<0)throw new RangeError;Z.rolloffFactor=fe},addEventListener(...fe){return U.addEventListener(fe[0],fe[1],fe[2])},dispatchEvent(...fe){return U.dispatchEvent(fe[0])},removeEventListener(...fe){return U.removeEventListener(fe[0],fe[1],fe[2])}};x!==ie.coneInnerAngle&&(ie.coneInnerAngle=x),w!==ie.coneOuterAngle&&(ie.coneOuterAngle=w),y!==ie.coneOuterGain&&(ie.coneOuterGain=y),N!==ie.distanceModel&&(ie.distanceModel=N),A!==ie.maxDistance&&(ie.maxDistance=A),k!==ie.orientationX.value&&(ie.orientationX.value=k),C!==ie.orientationY.value&&(ie.orientationY.value=C),P!==ie.orientationZ.value&&(ie.orientationZ.value=P),F!==ie.panningModel&&(ie.panningModel=F),z!==ie.positionX.value&&(ie.positionX.value=z),q!==ie.positionY.value&&(ie.positionY.value=q),J!==ie.positionZ.value&&(ie.positionZ.value=J),Y!==ie.refDistance&&(ie.refDistance=Y),D!==ie.rolloffFactor&&(ie.rolloffFactor=D),(T[0]!==1||T[1]!==0||T[2]!==0)&&Z.setOrientation(...T),(H[0]!==0||H[1]!==0||H[2]!==0)&&Z.setPosition(...H);const oe=()=>{U.connect(Z),i(U,X,0,0),X.connect($).connect(j,0,0),X.connect(ue).connect(j,0,1),X.connect(Q).connect(j,0,2),X.connect(re).connect(j,0,3),X.connect(ce).connect(j,0,4),X.connect(de).connect(j,0,5),j.connect(Ne).connect(m.destination)},pe=()=>{U.disconnect(Z),c(U,X,0,0),X.disconnect($),$.disconnect(j),X.disconnect(ue),ue.disconnect(j),X.disconnect(Q),Q.disconnect(j),X.disconnect(re),re.disconnect(j),X.disconnect(ce),ce.disconnect(j),X.disconnect(de),de.disconnect(j),j.disconnect(Ne),Ne.disconnect(m.destination)};return d(Th(ie,Z),oe,pe)},lA=i=>(e,{disableNormalization:t,imag:r,real:a})=>{const o=r instanceof Float32Array?r:new Float32Array(r),h=a instanceof Float32Array?a:new Float32Array(a),c=e.createPeriodicWave(h,o,{disableNormalization:t});if(Array.from(r).length<2)throw i();return c},$f=(i,e,t,r)=>i.createScriptProcessor(e,t,r),cA=(i,e)=>(t,r)=>{const a=r.channelCountMode;if(a==="clamped-max")throw e();if(t.createStereoPanner===void 0)return i(t,r);const o=t.createStereoPanner();return lr(o,r),Li(o,r,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>a,set:h=>{if(h!==a)throw e()}}),o},uA=(i,e,t,r,a,o)=>{const c=new Float32Array([1,1]),f=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...d,oversample:"none"},x=(N,A,k,C)=>{const P=new Float32Array(16385),F=new Float32Array(16385);for(let R=0;R<16385;R+=1){const Z=R/16384*f;P[R]=Math.cos(Z),F[R]=Math.sin(Z)}const z=t(N,{...d,gain:0}),q=r(N,{...m,curve:P}),J=r(N,{...m,curve:c}),Y=t(N,{...d,gain:0}),D=r(N,{...m,curve:F});return{connectGraph(){A.connect(z),A.connect(J.inputs===void 0?J:J.inputs[0]),A.connect(Y),J.connect(k),k.connect(q.inputs===void 0?q:q.inputs[0]),k.connect(D.inputs===void 0?D:D.inputs[0]),q.connect(z.gain),D.connect(Y.gain),z.connect(C,0,0),Y.connect(C,0,1)},disconnectGraph(){A.disconnect(z),A.disconnect(J.inputs===void 0?J:J.inputs[0]),A.disconnect(Y),J.disconnect(k),k.disconnect(q.inputs===void 0?q:q.inputs[0]),k.disconnect(D.inputs===void 0?D:D.inputs[0]),q.disconnect(z.gain),D.disconnect(Y.gain),z.disconnect(C,0,0),Y.disconnect(C,0,1)}}},w=(N,A,k,C)=>{const P=new Float32Array(16385),F=new Float32Array(16385),z=new Float32Array(16385),q=new Float32Array(16385),J=Math.floor(16385/2);for(let re=0;re<16385;re+=1)if(re>J){const ce=(re-J)/(16384-J)*f;P[re]=Math.cos(ce),F[re]=Math.sin(ce),z[re]=0,q[re]=1}else{const ce=re/(16384-J)*f;P[re]=1,F[re]=0,z[re]=Math.cos(ce),q[re]=Math.sin(ce)}const Y=e(N,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),D=t(N,{...d,gain:0}),R=r(N,{...m,curve:P}),Z=t(N,{...d,gain:0}),E=r(N,{...m,curve:F}),j=r(N,{...m,curve:c}),U=t(N,{...d,gain:0}),$=r(N,{...m,curve:z}),ue=t(N,{...d,gain:0}),Q=r(N,{...m,curve:q});return{connectGraph(){A.connect(Y),A.connect(j.inputs===void 0?j:j.inputs[0]),Y.connect(D,0),Y.connect(Z,0),Y.connect(U,1),Y.connect(ue,1),j.connect(k),k.connect(R.inputs===void 0?R:R.inputs[0]),k.connect(E.inputs===void 0?E:E.inputs[0]),k.connect($.inputs===void 0?$:$.inputs[0]),k.connect(Q.inputs===void 0?Q:Q.inputs[0]),R.connect(D.gain),E.connect(Z.gain),$.connect(U.gain),Q.connect(ue.gain),D.connect(C,0,0),U.connect(C,0,0),Z.connect(C,0,1),ue.connect(C,0,1)},disconnectGraph(){A.disconnect(Y),A.disconnect(j.inputs===void 0?j:j.inputs[0]),Y.disconnect(D,0),Y.disconnect(Z,0),Y.disconnect(U,1),Y.disconnect(ue,1),j.disconnect(k),k.disconnect(R.inputs===void 0?R:R.inputs[0]),k.disconnect(E.inputs===void 0?E:E.inputs[0]),k.disconnect($.inputs===void 0?$:$.inputs[0]),k.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),R.disconnect(D.gain),E.disconnect(Z.gain),$.disconnect(U.gain),Q.disconnect(ue.gain),D.disconnect(C,0,0),U.disconnect(C,0,0),Z.disconnect(C,0,1),ue.disconnect(C,0,1)}}},y=(N,A,k,C,P)=>{if(A===1)return x(N,k,C,P);if(A===2)return w(N,k,C,P);throw a()};return(N,{channelCount:A,channelCountMode:k,pan:C,...P})=>{if(k==="max")throw a();const F=i(N,{...P,channelCount:1,channelCountMode:k,numberOfInputs:2}),z=t(N,{...P,channelCount:A,channelCountMode:k,gain:1}),q=t(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:J,disconnectGraph:Y}=y(N,A,z,q,F);Object.defineProperty(q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(q.gain,"maxValue",{get:()=>1}),Object.defineProperty(q.gain,"minValue",{get:()=>-1});const D={get bufferSize(){},get channelCount(){return z.channelCount},set channelCount(j){z.channelCount!==j&&(R&&Y(),{connectGraph:J,disconnectGraph:Y}=y(N,j,z,q,F),R&&J()),z.channelCount=j},get channelCountMode(){return z.channelCountMode},set channelCountMode(j){if(j==="clamped-max"||j==="max")throw a();z.channelCountMode=j},get channelInterpretation(){return z.channelInterpretation},set channelInterpretation(j){z.channelInterpretation=j},get context(){return z.context},get inputs(){return[z]},get numberOfInputs(){return z.numberOfInputs},get numberOfOutputs(){return z.numberOfOutputs},get pan(){return q.gain},addEventListener(...j){return z.addEventListener(j[0],j[1],j[2])},dispatchEvent(...j){return z.dispatchEvent(j[0])},removeEventListener(...j){return z.removeEventListener(j[0],j[1],j[2])}};let R=!1;const Z=()=>{J(),R=!0},E=()=>{Y(),R=!1};return o(Th(D,F),Z,E)}},hA=(i,e,t,r,a,o,h)=>(c,f)=>{const d=c.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,f);lr(d,f);const m=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(m!==null&&m.length<2)throw e();gi(d,{curve:m},"curve"),gi(d,f,"oversample");let x=null,w=!1;return h(d,"curve",A=>()=>A.call(d),A=>k=>(A.call(d,k),w&&(r(k)&&x===null?x=i(c,d):!r(k)&&x!==null&&(x(),x=null)),k)),a(d,()=>{w=!0,r(d.curve)&&(x=i(c,d))},()=>{w=!1,x!==null&&(x(),x=null)})},fA=(i,e,t,r,a)=>(o,{curve:h,oversample:c,...f})=>{const d=o.createWaveShaper(),m=o.createWaveShaper();lr(d,f),lr(m,f);const x=t(o,{...f,gain:1}),w=t(o,{...f,gain:-1}),y=t(o,{...f,gain:1}),N=t(o,{...f,gain:-1});let A=null,k=!1,C=null;const P={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(q){x.channelCount=q,w.channelCount=q,d.channelCount=q,y.channelCount=q,m.channelCount=q,N.channelCount=q},get channelCountMode(){return d.channelCountMode},set channelCountMode(q){x.channelCountMode=q,w.channelCountMode=q,d.channelCountMode=q,y.channelCountMode=q,m.channelCountMode=q,N.channelCountMode=q},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(q){x.channelInterpretation=q,w.channelInterpretation=q,d.channelInterpretation=q,y.channelInterpretation=q,m.channelInterpretation=q,N.channelInterpretation=q},get context(){return d.context},get curve(){return C},set curve(q){if(q!==null&&q.length<2)throw e();if(q===null)d.curve=q,m.curve=q;else{const J=q.length,Y=new Float32Array(J+2-J%2),D=new Float32Array(J+2-J%2);Y[0]=q[0],D[0]=-q[J-1];const R=Math.ceil((J+1)/2),Z=(J+1)/2-1;for(let E=1;E<R;E+=1){const j=E/R*Z,U=Math.floor(j),$=Math.ceil(j);Y[E]=U===$?q[U]:(1-(j-U))*q[U]+(1-($-j))*q[$],D[E]=U===$?-q[J-1-U]:-((1-(j-U))*q[J-1-U])-(1-($-j))*q[J-1-$]}Y[R]=J%2===1?q[R-1]:(q[R-2]+q[R-1])/2,d.curve=Y,m.curve=D}C=q,k&&(r(C)&&A===null?A=i(o,x):A!==null&&(A(),A=null))},get inputs(){return[x]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(q){d.oversample=q,m.oversample=q},addEventListener(...q){return x.addEventListener(q[0],q[1],q[2])},dispatchEvent(...q){return x.dispatchEvent(q[0])},removeEventListener(...q){return x.removeEventListener(q[0],q[1],q[2])}};h!==null&&(P.curve=h instanceof Float32Array?h:new Float32Array(h)),c!==P.oversample&&(P.oversample=c);const F=()=>{x.connect(d).connect(y),x.connect(w).connect(m).connect(N).connect(y),k=!0,r(C)&&(A=i(o,x))},z=()=>{x.disconnect(d),d.disconnect(y),x.disconnect(w),w.disconnect(m),m.disconnect(N),N.disconnect(y),k=!1,A!==null&&(A(),A=null)};return a(Th(P,y),F,z)},Jr=()=>new DOMException("","NotSupportedError"),dA={numberOfChannels:1},pA=(i,e,t,r,a)=>class extends i{constructor(h,c,f){let d;if(typeof h=="number"&&c!==void 0&&f!==void 0)d={length:c,numberOfChannels:h,sampleRate:f};else if(typeof h=="object")d=h;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:x,sampleRate:w}={...dA,...d},y=r(x,m,w);e(Bf,()=>Bf(y))||y.addEventListener("statechange",(()=>{let N=0;const A=k=>{this._state==="running"&&(N>0?(y.removeEventListener("statechange",A),k.stopImmediatePropagation(),this._waitForThePromiseToSettle(k)):N+=1)};return A})()),super(y,x),this._length=m,this._nativeOfflineAudioContext=y,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Wb(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},mA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},gA=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),x={...mA,...d},w=t(m,x),y=o(m),N=y?r():null,A=f.sampleRate/2;super(f,!1,w,N),this._detune=e(this,y,w.detune,153600,-153600),this._frequency=e(this,y,w.frequency,A,-A),this._nativeOscillatorNode=w,this._onended=null,this._oscillatorNodeRenderer=N,this._oscillatorNodeRenderer!==null&&x.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=x.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeOscillatorNode.onended=d;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===d?f:m}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){Sh(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),fl(this)&&Xf(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},vA=(i,e,t,r,a)=>()=>{const o=new WeakMap;let h=null,c=null,f=null;const d=async(m,x)=>{let w=t(m);const y=Fr(w,x);if(!y){const N={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,detune:w.detune.value,frequency:w.frequency.value,periodicWave:h===null?void 0:h,type:w.type};w=e(x,N),c!==null&&w.start(c),f!==null&&w.stop(f)}return o.set(x,w),y?(await i(x,m.detune,w.detune),await i(x,m.frequency,w.frequency)):(await r(x,m.detune,w.detune),await r(x,m.frequency,w.frequency)),await a(m,x,w),w};return{set periodicWave(m){h=m},set start(m){c=m},set stop(m){f=m},render(m,x){const w=o.get(x);return w!==void 0?Promise.resolve(w):d(m,x)}}},yA={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},bA=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),x={...yA,...d},w=t(m,x),y=o(m),N=y?r():null;super(f,!1,w,N),this._nativePannerNode=w,this._orientationX=e(this,y,w.orientationX,Qr,xs),this._orientationY=e(this,y,w.orientationY,Qr,xs),this._orientationZ=e(this,y,w.orientationZ,Qr,xs),this._positionX=e(this,y,w.positionX,Qr,xs),this._positionY=e(this,y,w.positionY,Qr,xs),this._positionZ=e(this,y,w.positionZ,Qr,xs),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},xA=(i,e,t,r,a,o,h,c,f,d)=>()=>{const m=new WeakMap;let x=null;const w=async(y,N)=>{let A=null,k=o(y);const C={channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation},P={...C,coneInnerAngle:k.coneInnerAngle,coneOuterAngle:k.coneOuterAngle,coneOuterGain:k.coneOuterGain,distanceModel:k.distanceModel,maxDistance:k.maxDistance,panningModel:k.panningModel,refDistance:k.refDistance,rolloffFactor:k.rolloffFactor},F=Fr(k,N);if("bufferSize"in k)A=r(N,{...C,gain:1});else if(!F){const z={...P,orientationX:k.orientationX.value,orientationY:k.orientationY.value,orientationZ:k.orientationZ.value,positionX:k.positionX.value,positionY:k.positionY.value,positionZ:k.positionZ.value};k=a(N,z)}if(m.set(N,A===null?k:A),A!==null){if(x===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const E=new h(6,y.context.length,N.sampleRate),j=e(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});j.connect(E.destination),x=(async()=>{const U=await Promise.all([y.orientationX,y.orientationY,y.orientationZ,y.positionX,y.positionY,y.positionZ].map(async($,ue)=>{const Q=t(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ue===0?1:0});return await c(E,$,Q.offset),Q}));for(let $=0;$<6;$+=1)U[$].connect(j,0,$),U[$].start(0);return d(E)})()}const z=await x,q=r(N,{...C,gain:1});await f(y,N,q);const J=[];for(let E=0;E<z.numberOfChannels;E+=1)J.push(z.getChannelData(E));let Y=[J[0][0],J[1][0],J[2][0]],D=[J[3][0],J[4][0],J[5][0]],R=r(N,{...C,gain:1}),Z=a(N,{...P,orientationX:Y[0],orientationY:Y[1],orientationZ:Y[2],positionX:D[0],positionY:D[1],positionZ:D[2]});q.connect(R).connect(Z.inputs[0]),Z.connect(A);for(let E=128;E<z.length;E+=128){const j=[J[0][E],J[1][E],J[2][E]],U=[J[3][E],J[4][E],J[5][E]];if(j.some(($,ue)=>$!==Y[ue])||U.some(($,ue)=>$!==D[ue])){Y=j,D=U;const $=E/N.sampleRate;R.gain.setValueAtTime(0,$),R=r(N,{...C,gain:0}),Z=a(N,{...P,orientationX:Y[0],orientationY:Y[1],orientationZ:Y[2],positionX:D[0],positionY:D[1],positionZ:D[2]}),R.gain.setValueAtTime(1,$),q.connect(R).connect(Z.inputs[0]),Z.connect(A)}}return A}return F?(await i(N,y.orientationX,k.orientationX),await i(N,y.orientationY,k.orientationY),await i(N,y.orientationZ,k.orientationZ),await i(N,y.positionX,k.positionX),await i(N,y.positionY,k.positionY),await i(N,y.positionZ,k.positionZ)):(await c(N,y.orientationX,k.orientationX),await c(N,y.orientationY,k.orientationY),await c(N,y.orientationZ,k.orientationZ),await c(N,y.positionX,k.positionX),await c(N,y.positionY,k.positionY),await c(N,y.positionZ,k.positionZ)),Ch(k)?await f(y,N,k.inputs[0]):await f(y,N,k),k};return{render(y,N){const A=m.get(N);return A!==void 0?Promise.resolve(A):w(y,N)}}},_A={disableNormalization:!1},wA=(i,e,t,r)=>class ix{constructor(o,h){const c=e(o),f=r({..._A,...h}),d=i(c,f);return t.add(d),d}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===ix.prototype||t.has(o)}},SA=(i,e)=>(t,r,a)=>(i(r).replay(a),e(r,t,a)),AA=(i,e,t)=>async(r,a,o)=>{const h=i(r);await Promise.all(h.activeInputs.map((c,f)=>Array.from(c).map(async([d,m])=>{const w=await e(d).render(d,a),y=r.context.destination;!t(d)&&(r!==y||!t(r))&&w.connect(o,m,f)})).reduce((c,f)=>[...c,...f],[]))},NA=(i,e,t)=>async(r,a,o)=>{const h=e(r);await Promise.all(Array.from(h.activeInputs).map(async([c,f])=>{const m=await i(c).render(c,a);t(c)||m.connect(o,f)}))},CA=(i,e,t,r)=>a=>i(Bf,()=>Bf(a))?Promise.resolve(i(r,r)).then(o=>{if(!o){const h=t(a,512,0,1);a.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>a.currentTime,h.connect(a.destination)}return a.startRendering()}):new Promise(o=>{const h=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=c=>{h.disconnect(),o(c.renderedBuffer)},h.connect(a.destination),a.startRendering()}),TA=i=>(e,t)=>{i.set(e,t)},EA=i=>(e,t)=>i.set(e,t),kA=(i,e,t,r,a,o,h,c)=>(f,d)=>t(f).render(f,d).then(()=>Promise.all(Array.from(r(d)).map(m=>t(m).render(m,d)))).then(()=>a(d)).then(m=>(typeof m.copyFromChannel!="function"?(h(m),ng(m)):e(o,()=>o(m))||c(m),i.add(m),m)),OA={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},MA=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=a(c),m={...OA,...f},x=t(d,m),w=o(d),y=w?r():null;super(c,!1,x,y),this._pan=e(this,w,x.pan)}get pan(){return this._pan}},LA=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Fr(d,f);if(!m){const x={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=e(f,x)}return o.set(f,d),m?await i(f,c.pan,d.pan):await r(f,c.pan,d.pan),Ch(d)?await a(c,f,d.inputs[0]):await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},DA=i=>()=>{if(i===null)return!1;try{new i({length:1,sampleRate:44100})}catch{return!1}return!0},jA=(i,e)=>async()=>{if(i===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),a=URL.createObjectURL(t);let o=!1,h=!1;try{await r.audioWorklet.addModule(a);const c=new i(r,"a",{numberOfOutputs:0}),f=r.createOscillator();c.port.onmessage=()=>o=!0,c.onprocessorerror=()=>h=!0,f.connect(c),f.start(0),await r.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(a)}return o&&!h},RA=(i,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),r=i(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{t.oncomplete=()=>{r.disconnect(),a(t.currentTime!==0)},t.startRendering()})},IA=()=>new DOMException("","UnknownError"),BA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},qA=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),x={...BA,...d},w=t(m,x),N=o(m)?r():null;super(f,!0,w,N),this._isCurveNullified=!1,this._nativeWaveShaperNode=w,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},zA=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Fr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=i(h,d)}return r.set(h,c),Ch(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},FA=()=>typeof window>"u"?null:window,PA=(i,e)=>t=>{t.copyFromChannel=(r,a,o=0)=>{const h=i(o),c=i(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=r.length;for(let x=h<0?-h:0;x+h<f&&x<m;x+=1)r[x]=d[x+h]},t.copyToChannel=(r,a,o=0)=>{const h=i(o),c=i(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=r.length;for(let x=h<0?-h:0;x+h<f&&x<m;x+=1)d[x+h]=r[x]}},UA=i=>e=>{e.copyFromChannel=(t=>(r,a,o=0)=>{const h=i(o),c=i(a);if(h<e.length)return t.call(e,r,c,h)})(e.copyFromChannel),e.copyToChannel=(t=>(r,a,o=0)=>{const h=i(o),c=i(a);if(h<e.length)return t.call(e,r,c,h)})(e.copyToChannel)},VA=i=>(e,t)=>{const r=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),i(e,"buffer",a=>()=>{const o=a.call(e);return o===r?null:o},a=>o=>a.call(e,o===null?r:o))},HA=(i,e)=>(t,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw i()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw i()}});const a=t.createBufferSource();e(r,()=>{const c=r.numberOfInputs;for(let f=0;f<c;f+=1)a.connect(r,0,f)},()=>a.disconnect(r))},rx=(i,e,t)=>i.copyFromChannel===void 0?i.getChannelData(t)[0]:(i.copyFromChannel(e,t),e[0]),sx=i=>{if(i===null)return!1;const e=i.length;return e%2!==0?i[Math.floor(e/2)]!==0:i[e/2-1]+i[e/2]!==0},Jf=(i,e,t,r)=>{let a=i;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:o,set:h}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(i,e,{get:t(o),set:r(h)})},GA=i=>({...i,outputChannelCount:i.outputChannelCount!==void 0?i.outputChannelCount:i.numberOfInputs===1&&i.numberOfOutputs===1?[i.channelCount]:Array.from({length:i.numberOfOutputs},()=>1)}),YA=i=>({...i,channelCount:i.numberOfOutputs}),WA=i=>{const{imag:e,real:t}=i;return e===void 0?t===void 0?{...i,imag:[0,0],real:[0,0]}:{...i,imag:Array.from(t,()=>0),real:t}:t===void 0?{...i,imag:e,real:Array.from(e,()=>0)}:{...i,imag:e,real:t}},ax=(i,e,t)=>{try{i.setValueAtTime(e,t)}catch(r){if(r.code!==9)throw r;ax(i,e,t+1e-7)}},XA=i=>{const e=i.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},ZA=i=>{const e=i.createBufferSource(),t=i.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},KA=i=>{const e=i.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},og=i=>{const e=i.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},ox=i=>{const e=i.createBuffer(1,1,44100),t=i.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},lg=i=>{const e=i.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},QA=i=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(i)}finally{e.close(),t.close()}},$A=i=>{i.start=(e=>(t=0,r=0,a)=>{const o=i.buffer,h=o===null?r:Math.min(o.duration,r);o!==null&&h>o.duration-.5/i.context.sampleRate?e.call(i,t,0,0):e.call(i,t,h,a)})(i.start)},lx=(i,e)=>{const t=e.createGain();i.connect(t);const r=(a=>()=>{a.call(i,t),i.removeEventListener("ended",r)})(i.disconnect);i.addEventListener("ended",r),Th(i,t),i.stop=(a=>{let o=!1;return(h=0)=>{if(o)try{a.call(i,h)}catch{t.gain.setValueAtTime(0,h)}else a.call(i,h),o=!0}})(i.stop)},Eh=(i,e)=>t=>{const r={value:i};return Object.defineProperties(t,{currentTarget:r,target:r}),typeof e=="function"?e.call(i,t):e.handleEvent.call(i,t)},JA=b4(ou),eN=N4(ou),tN=BS(n1),cx=new WeakMap,nN=t6(cx),eo=dS(new Map,new WeakMap),ko=FA(),ux=M6(eo,Oo),cg=e6($r),kr=AA($r,cg,iu),iN=O4(ux,li,kr),ei=r6(t1),vl=rA(ko),Yn=_6(vl),hx=new WeakMap,fx=WS(Eh),ed=R6(ko),ug=v6(ed),hg=y6(ko),dx=b6(ko),qf=B6(ko),Pi=tS(x4(Fb),A4(JA,eN,Dp,tN,jp,$r,nN,Wf,li,ou,fl,iu,bp),eo,f6(E0,jp,$r,li,If,fl),Oo,i1,Jr,DS(Dp,E0,$r,li,If,ei,fl,Yn),FS(hx,$r,Za),fx,ei,ug,hg,dx,Yn,qf),rN=k4(Pi,iN,Oo,ux,ei,Yn),fg=new WeakSet,Gv=L6(ko),px=CS(new Uint32Array(1)),dg=PA(px,Oo),pg=UA(px),mx=L4(fg,eo,Jr,Gv,vl,DA(Gv),dg,pg),r1=C4(ws),gx=NA(cg,Zf,iu),Mo=xS(gx),kh=j6(r1,eo,XA,ZA,KA,og,ox,lg,$A,VA(Jf),lx),Lo=SA(n6(Zf),gx),sN=R4(Mo,kh,li,Lo,kr),to=nS(_4(Pb),hx,tg,iS,d4,p4,m4,g4,v4,N0,qb,ed,ax),aN=j4(Pi,sN,to,yr,kh,ei,Yn,Eh),oN=H4(Pi,G4,Oo,yr,I6(ws,Jf),ei,Yn,kr),lN=fS(Mo,tx,li,Lo,kr),lu=EA(cx),cN=hS(Pi,to,lN,i1,tx,ei,Yn,lu),pc=k6(ou,hg),uN=HA(yr,pc),mc=H6(ed,uN),hN=gS(mc,li,kr),fN=mS(Pi,hN,mc,ei,Yn),dN=bS(Qf,li,kr),pN=yS(Pi,dN,Qf,ei,Yn,YA),mN=W6(r1,kh,ws,pc),Oh=Y6(r1,eo,mN,og,lg),gN=NS(Mo,Oh,li,Lo,kr),vN=AS(Pi,to,gN,Oh,ei,Yn,Eh),vx=X6(Jr,Jf),yN=kS(vx,li,kr),bN=ES(Pi,yN,vx,ei,Yn,lu),xN=IS(Mo,nx,li,Lo,kr),_N=RS(Pi,to,xN,nx,ei,Yn,lu),yx=Z6(Jr),wN=HS(Mo,yx,li,Lo,kr),SN=VS(Pi,to,wN,yx,Jr,ei,Yn,lu),AN=$S(Mo,ws,li,Lo,kr),NN=QS(Pi,to,AN,ws,ei,Yn),CN=J6(i1,yr,$f,Jr),s1=CA(eo,ws,$f,RA(ws,vl)),TN=h6(kh,li,vl,kr,s1),EN=K6(CN),kN=c6(Pi,EN,TN,ei,Yn,lu),ON=Y4(to,mc,Oh,$f,Jr,rx,Yn,Jf),bx=new WeakMap,MN=E6(oN,ON,fx,Yn,bx,Eh),xx=sA(r1,eo,og,ox,lg,lx),LN=vA(Mo,xx,li,Lo,kr),DN=gA(Pi,to,xx,LN,ei,Yn,Eh),_x=wS(kh),jN=fA(_x,yr,ws,sx,pc),a1=hA(_x,yr,jN,sx,pc,ed,Jf),RN=oA(Dp,yr,mc,ws,$f,a1,Jr,jp,rx,pc),wx=aA(RN),IN=xA(Mo,mc,Oh,ws,wx,li,vl,Lo,kr,s1),BN=bA(Pi,to,wx,IN,ei,Yn,lu),qN=lA(Oo),zN=wA(qN,ei,new WeakSet,WA),FN=uA(mc,Qf,ws,a1,Jr,pc),Sx=cA(FN,Jr),PN=LA(Mo,Sx,li,Lo,kr),UN=MA(Pi,to,Sx,PN,ei,Yn),VN=zA(a1,li,kr),HN=qA(Pi,yr,a1,VN,ei,Yn,lu),Ax=w6(ko),mg=XS(ko),Nx=new WeakMap,GN=s6(Nx,vl),YN=Ax?S4(eo,Jr,YS(ko),mg,ZS(y4),ei,GN,Yn,qf,new WeakMap,new WeakMap,jA(qf,vl),ko):void 0,WN=x6(ug,Yn),XN=LS(fg,eo,MS,GS,new WeakSet,ei,WN,Mp,Bf,dg,pg),Cx=cS(YN,rN,mx,aN,cN,fN,pN,vN,bN,XN,_N,SN,NN,kN,MN,DN,BN,zN,UN,HN),ZN=S6(Pi,eA,ei,Yn),KN=N6(Pi,tA,ei,Yn),QN=C6(Pi,nA,ei,Yn),$N=iA(yr,Yn),JN=T6(Pi,$N,ei),e8=V4(Cx,yr,Jr,IA,ZN,KN,QN,JN,ed),gg=a6(bx),t8=T4(gg),Tx=_S(Oo),n8=qS(gg),Ex=PS(Oo),kx=new WeakMap,i8=JS(kx,Za),r8=V6(Tx,Oo,yr,mc,Qf,Oh,ws,$f,Jr,Ex,mg,i8,pc),s8=z6(yr,r8,ws,Jr,pc),a8=lS(Mo,Tx,kh,mc,Qf,Oh,ws,n8,Ex,mg,li,qf,vl,Lo,kr,s1),o8=i6(Nx),l8=TA(kx),Yv=Ax?sS(t8,Pi,to,a8,s8,$r,o8,ei,Yn,qf,GA,l8,QA,Eh):void 0,c8=OS(Jr,vl),u8=kA(fg,eo,cg,gg,s1,Mp,dg,pg),h8=pA(Cx,eo,yr,c8,u8),f8=d6(t1,ug),d8=p6(eg,hg),p8=m6(tg,dx),m8=g6(t1,Yn);function da(i){return i===void 0}function ln(i){return i!==void 0}function g8(i){return typeof i=="function"}function dl(i){return typeof i=="number"}function eu(i){return Object.prototype.toString.call(i)==="[object Object]"&&i.constructor===Object}function v8(i){return typeof i=="boolean"}function Hs(i){return Array.isArray(i)}function pl(i){return typeof i=="string"}function rp(i){return pl(i)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(i)}function zt(i,e){if(!i)throw new Error(e)}function ml(i,e,t=1/0){if(!(e<=i&&i<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${i}`)}function Ox(i){!i.isOffline&&i.state!=="running"&&o1('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Mx=!1,Wv=!1;function Xv(i){Mx=i}function y8(i){da(i)&&Mx&&!Wv&&(Wv=!0,o1("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Lx=console;function b8(...i){Lx.log(...i)}function o1(...i){Lx.warn(...i)}function x8(i){return new e8(i)}function _8(i,e,t){return new h8(i,e,t)}const Ps=typeof self=="object"?self:null,w8=Ps&&(Ps.hasOwnProperty("AudioContext")||Ps.hasOwnProperty("webkitAudioContext"));function S8(i,e,t){return zt(ln(Yv),"AudioWorkletNode only works in a secure context (https or localhost)"),new(i instanceof Ps?.BaseAudioContext?Ps?.AudioWorkletNode:Yv)(i,e,t)}function no(i,e,t,r){var a=arguments.length,o=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,r);else for(var c=i.length-1;c>=0;c--)(h=i[c])&&(o=(a<3?h(o):a>3?h(e,t,o):h(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o}function Zi(i,e,t,r){function a(o){return o instanceof t?o:new t(function(h){h(o)})}return new(t||(t=Promise))(function(o,h){function c(m){try{d(r.next(m))}catch(x){h(x)}}function f(m){try{d(r.throw(m))}catch(x){h(x)}}function d(m){m.done?o(m.value):a(m.value).then(c,f)}d((r=r.apply(i,e||[])).next())})}class A8{constructor(e,t,r,a){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),r=new Worker(t);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function ru(i){return p8(i)}function oc(i){return d8(i)}function xp(i){return m8(i)}function ah(i){return f8(i)}function N8(i){return i instanceof mx}function C8(i,e){return i==="value"||ru(e)||oc(e)||N8(e)}function tu(i,...e){if(!e.length)return i;const t=e.shift();if(eu(i)&&eu(t))for(const r in t)C8(r,t[r])?i[r]=t[r]:eu(t[r])?(i[r]||Object.assign(i,{[r]:{}}),tu(i[r],t[r])):Object.assign(i,{[r]:t[r]});return tu(i,...e)}function T8(i,e){return i.length===e.length&&i.every((t,r)=>e[r]===t)}function Bt(i,e,t=[],r){const a={},o=Array.from(e);if(eu(o[0])&&r&&!Reflect.has(o[0],r)&&(Object.keys(o[0]).some(c=>Reflect.has(i,c))||(tu(a,{[r]:o[0]}),t.splice(t.indexOf(r),1),o.shift())),o.length===1&&eu(o[0]))tu(a,o[0]);else for(let h=0;h<t.length;h++)ln(o[h])&&(a[t[h]]=o[h]);return tu(i,a)}function E8(i){return i.constructor.getDefaults()}function mh(i,e){return da(i)?e:i}function Ya(i,e){return e.forEach(t=>{Reflect.has(i,t)&&delete i[t]}),i}class yl{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Ps&&this.toString()===Ps.TONE_DEBUG_CLASS)&&b8(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}yl.version=Bb;const vg=1e-6;function Ah(i,e){return i>e+vg}function D0(i,e){return Ah(i,e)||Ga(i,e)}function qp(i,e){return i+vg<e}function Ga(i,e){return Math.abs(i-e)<vg}function k8(i,e,t){return Math.max(Math.min(i,t),e)}let Eo=class Dx extends yl{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Bt(Dx.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(zt(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];zt(D0(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const r=this._search(e,t);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const r=this._search(e,t);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Ga(this._timeline[t].time,e)){for(let r=t;r>=0&&Ga(this._timeline[r].time,e);r--)t=r;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&D0(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let r=0;const a=this._timeline.length;let o=a;if(a>0&&this._timeline[a-1][t]<=e)return a-1;for(;r<o;){let h=Math.floor(r+(o-r)/2);const c=this._timeline[h],f=this._timeline[h+1];if(Ga(c[t],e)){for(let d=h;d<this._timeline.length;d++){const m=this._timeline[d];if(Ga(m[t],e))h=d;else break}return h}else{if(qp(c[t],e)&&Ah(f[t],e))return h;Ah(c[t],e)?o=h:r=h+1}}return-1}_iterate(e,t=0,r=this._timeline.length-1){this._timeline.slice(t,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const r=this._search(e);return r!==-1&&this._iterate(t,0,r),this}forEachAfter(e,t){const r=this._search(e);return this._iterate(t,r+1),this}forEachBetween(e,t,r){let a=this._search(e),o=this._search(t);return a!==-1&&o!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[o].time===t&&(o-=1),this._iterate(r,a,o)):a===-1&&this._iterate(r,0,o),this}forEachFrom(e,t){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(t,r+1),this}forEachAtTime(e,t){const r=this._search(e);if(r!==-1&&Ga(this._timeline[r].time,e)){let a=r;for(let o=r;o>=0&&Ga(this._timeline[o].time,e);o--)a=o;this._iterate(o=>{t(o)},a,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}};const jx=[];function l1(i){jx.push(i)}function O8(i){jx.forEach(e=>e(i))}const Rx=[];function c1(i){Rx.push(i)}function M8(i){Rx.forEach(e=>e(i))}class td extends yl{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(a=>{da(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(t)}),this}once(e,t){const r=(...a)=>{t(...a),this.off(e,r)};return this.on(e,r),this}off(e,t){return e.split(/\W+/).forEach(a=>{if(da(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(da(t))this._events[a]=[];else{const o=this._events[a];for(let h=o.length-1;h>=0;h--)o[h]===t&&o.splice(h,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let a=0,o=r.length;a<o;a++)r[a].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const r=Object.getOwnPropertyDescriptor(td.prototype,t);Object.defineProperty(e.prototype,t,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class Ix extends td{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}let yg=class Bx extends Ix{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new Eo,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=Bt(Bx.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=x8({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new A8(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(O8(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,r){return this._context.createBuffer(e,t,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,r){return this._context.createPeriodicWave(e,t,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return zt(ah(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return zt(ah(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return zt(ah(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){zt(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){zt(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){zt(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){zt(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return S8(this.rawContext,e,t)}addAudioWorkletModule(e){return Zi(this,void 0,void 0,function*(){zt(ln(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Zi(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ah(this._context)?this._context.resume():Promise.resolve()}close(){return Zi(this,void 0,void 0,function*(){ah(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&M8(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),r=t.getChannelData(0);for(let o=0;o<r.length;o++)r[o]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=t,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,t=>{t.callback(),this._timeouts.remove(t)})}setTimeout(e,t){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const r=++this._timeoutIds,a=()=>{const o=this.now();this._timeouts.add({callback:()=>{e(),a()},id:r,time:o+t})};return a(),r}};class L8 extends Ix{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Zi(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function ci(i,e){Hs(e)?e.forEach(t=>ci(i,t)):Object.defineProperty(i,e,{enumerable:!0,writable:!1})}function bg(i,e){Hs(e)?e.forEach(t=>bg(i,t)):Object.defineProperty(i,e,{writable:!0})}const Gn=()=>{};class ai extends yl{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Gn;const e=Bt(ai.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,pl(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Gn,onload:Gn,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Wa().sampleRate}set(e){return e instanceof ai?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Zi(this,void 0,void 0,function*(){const t=ai.load(e).then(r=>{this.set(r),this.onload(this)});ai.downloads.push(t);try{yield t}finally{const r=ai.downloads.indexOf(t);ai.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=Hs(e)&&e[0].length>0,r=t?e.length:1,a=t?e[0].length:e.length,o=Wa(),h=o.createBuffer(r,a,o.sampleRate),c=!t&&r===1?[e]:e;for(let f=0;f<r;f++)h.copyToChannel(c[f],f);return this._buffer=h,this}toMono(e){if(dl(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const r=this.numberOfChannels;for(let a=0;a<r;a++){const o=this.toArray(a);for(let h=0;h<o.length;h++)t[h]+=o[h]}t=t.map(a=>a/r),this.fromArray(t)}return this}toArray(e){if(dl(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let r=0;r<this.numberOfChannels;r++)t[r]=this.getChannelData(r);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){zt(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),a=Math.floor(t*this.sampleRate);zt(r<a,"The start time must be less than the end time");const o=a-r,h=Wa().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)h.copyToChannel(this.getChannelData(c).subarray(r,a),c);return new ai(h)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new ai().fromArray(e)}static fromUrl(e){return Zi(this,void 0,void 0,function*(){return yield new ai().load(e)})}static load(e){return Zi(this,void 0,void 0,function*(){const t=ai.baseUrl===""||ai.baseUrl.endsWith("/")?ai.baseUrl:ai.baseUrl+"/",r=yield fetch(t+e);if(!r.ok)throw new Error(`could not load url: ${e}`);const a=yield r.arrayBuffer();return yield Wa().decodeAudioData(a)})}static supportsType(e){const t=e.split("."),r=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Zi(this,void 0,void 0,function*(){for(yield Promise.resolve();ai.downloads.length;)yield ai.downloads[0]})}}ai.baseUrl="";ai.downloads=[];class xg extends yg{constructor(){super({clockSource:"offline",context:xp(arguments[0])?arguments[0]:_8(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:xp(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=xp(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Zi(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const r=Math.floor(this.sampleRate/128);e&&t%r===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return Zi(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new ai(t)})}close(){return Promise.resolve()}}const qx=new L8;let $c=qx;function Wa(){return $c===qx&&w8&&D8(new yg),$c}function D8(i,e=!1){e&&$c.dispose(),ah(i)?$c=new yg(i):xp(i)?$c=new xg(i):$c=i}function _g(){return $c.resume()}if(Ps&&!Ps.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Bb} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function j8(i){return Math.pow(10,i/20)}function R8(i){return 20*(Math.log(i)/Math.LN10)}function zx(i){return Math.pow(2,i/12)}let u1=440;function I8(){return u1}function B8(i){u1=i}function Jc(i){return Math.round(Fx(i))}function Fx(i){return 69+12*Math.log2(i/u1)}function Px(i){return u1*Math.pow(2,(i-69)/12)}class wg extends yl{constructor(e,t,r){super(),this.defaultUnits="s",this._val=t,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const r=parseInt(e,10),a=t==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/r)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,r)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a+=this._beatsToUnits(parseFloat(t))),r&&r!=="0"&&(a+=this._beatsToUnits(parseFloat(r)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof wg&&this.fromType(this._val),da(this._val))return this._noArg();if(pl(this._val)&&da(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(eu(this._val)){let e=0;for(const t in this._val)if(ln(this._val[t])){const r=this._val[t],a=new this.constructor(this.context,t).valueOf()*r;e+=a}return e}if(ln(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return pl(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Xa extends wg{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new Xa(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const r=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),c=Math.round(a/r)*r-a;return a+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let o=1;o<9;o++){const h=Math.pow(2,o);t.push(h+"n."),t.push(h+"n"),t.push(h+"t")}t.push("0");let r=t[0],a=new Xa(this.context,t[0]).toSeconds();return t.forEach(o=>{const h=new Xa(this.context,o).toSeconds();Math.abs(h-e)<Math.abs(a-e)&&(r=o,a=h)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const r=Math.floor(t/this._getTimeSignature());let a=t%1*4;t=Math.floor(t)%this._getTimeSignature();const o=a.toString();return o.length>3&&(a=parseFloat(parseFloat(o).toFixed(3))),[r,t,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Jc(this.toFrequency())}_now(){return this.context.now()}}class Us extends Xa{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return I8()}static set A4(e){B8(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Us.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const a=q8[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?a:Us.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,r){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a*=this._beatsToUnits(parseFloat(t))),r&&r!=="0"&&(a*=this._beatsToUnits(parseFloat(r)/4)),a}}})}transpose(e){return new Us(this.context,this.valueOf()*zx(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return Jc(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Us.A4);let r=Math.round(12*t)+57;const a=Math.floor(r/12);return a<0&&(r+=-12*a),z8[r%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Px(e)}static ftom(e){return Jc(e)}}const q8={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},z8=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Ef extends Xa{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class _s extends yl{constructor(){super();const e=Bt(_s.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Wa()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return y8(e),new Xa(this.context,e).toSeconds()}toFrequency(e){return new Us(this.context,e).toFrequency()}toTicks(e){return new Ef(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(r=>{da(e[r])&&delete t[r]}),t}get(){const e=E8(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const r=this[t];ln(r)&&ln(r.value)&&ln(r.setValueAtTime)?e[t]=r.value:r instanceof _s?e[t]=r._getPartialProperties(e[t]):Hs(r)||dl(r)||pl(r)||v8(r)?e[t]=r:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&ln(this[t])&&(this[t]&&ln(this[t].value)&&ln(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof _s?this[t].set(e[t]):this[t]=e[t])}),this}}class Sg extends Eo{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,r){return ml(t,0),this.add(Object.assign({},r,{state:e,time:t})),this}getLastState(e,t){const r=this._search(t);for(let a=r;a>=0;a--){const o=this._timeline[a];if(o.state===e)return o}}getNextState(e,t){const r=this._search(t);if(r!==-1)for(let a=r;a<this._timeline.length;a++){const o=this._timeline[a];if(o.state===e)return o}}}class $n extends _s{constructor(){const e=Bt($n.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,zt(ln(e.param)&&(ru(e.param)||e.param instanceof $n),"param must be an AudioParam");!ru(e.param);)e.param=e.param._param;this._swappable=ln(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Eo(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ln(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(_s.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ln(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ln(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return ln(this.maxValue)&&ln(this.minValue)&&ml(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?j8(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?R8(e):e}setValueAtTime(e,t){const r=this.toSeconds(t),a=this._fromType(e);return zt(isFinite(a)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,r),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),r=this._events.getAfter(t),a=this._events.get(t);let o=this._initialValue;if(a===null)o=this._initialValue;else if(a.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const h=this._events.getBefore(a.time);let c;h===null?c=this._initialValue:c=h.value,a.type==="setTargetAtTime"&&(o=this._exponentialApproach(a.time,c,a.value,a.constant,t))}else if(r===null)o=a.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let h=a.value;if(a.type==="setTargetAtTime"){const c=this._events.getBefore(a.time);c===null?h=this._initialValue:h=c.value}r.type==="linearRampToValueAtTime"?o=this._linearInterpolate(a.time,h,r.time,r.value,t):o=this._exponentialInterpolate(a.time,h,r.time,r.value,t)}else o=a.value;return this._toType(o)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const r=this._fromType(e),a=this.toSeconds(t);return zt(isFinite(r)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(r),this._events.add({time:a,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(r,a),this}exponentialRampToValueAtTime(e,t){let r=this._fromType(e);r=Ga(r,0)?this._minOutput:r,this._assertRange(r);const a=this.toSeconds(t);return zt(isFinite(r)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(r,a),this}exponentialRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(t)),this}linearRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(t)),this}targetRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,t),this}exponentialApproachValueAtTime(e,t,r){t=this.toSeconds(t),r=this.toSeconds(r);const a=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,t,a),this.cancelAndHoldAtTime(t+r*.9),this.linearRampToValueAtTime(e,t+r),this}setTargetAtTime(e,t,r){const a=this._fromType(e);zt(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(t);return this._assertRange(a),zt(isFinite(a)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:r,time:o,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,o,r),this._param.setTargetAtTime(a,o,r),this}setValueCurveAtTime(e,t,r,a=1){r=this.toSeconds(r),t=this.toSeconds(t);const o=this._fromType(e[0])*a;this.setValueAtTime(this._toType(o),t);const h=r/(e.length-1);for(let c=1;c<e.length;c++){const f=this._fromType(e[c])*a;this.linearRampToValueAtTime(this._toType(f),t+c*h)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return zt(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),r=this._fromType(this.getValueAtTime(t));zt(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+r);const a=this._events.get(t),o=this._events.getAfter(t);return a&&Ga(a.time,t)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),t):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),t)),this._events.add({time:t,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,t),this}rampTo(e,t=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,r):this.linearRampTo(e,t,r),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const r=this._events.get(t);if(r&&r.type==="setTargetAtTime"){const a=this._events.getAfter(r.time),o=a?a.time:t+2,h=(o-t)/10;for(let c=t;c<o;c+=h)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){zt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,r,a,o){return r+(t-r)*Math.exp(-(o-e)/a)}_linearInterpolate(e,t,r,a,o){return t+(a-t)*((o-e)/(r-e))}_exponentialInterpolate(e,t,r,a,o){return t*Math.pow(a/t,(o-e)/(r-e))}}class Vt extends _s{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ln(this.input)?ru(this.input)||this.input instanceof $n?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ln(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ln(e)&&(e instanceof Vt||oc(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();zt(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,r=0){return Mh(this,e,t,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return o1("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,r=0){return F8(this,e,t,r),this}chain(...e){return zf(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),ln(this.input)&&(this.input instanceof Vt?this.input.dispose():oc(this.input)&&this.input.disconnect()),ln(this.output)&&(this.output instanceof Vt?this.output.dispose():oc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function zf(...i){const e=i.shift();i.reduce((t,r)=>(t instanceof Vt?t.connect(r):oc(t)&&Mh(t,r),r),e)}function Mh(i,e,t=0,r=0){for(zt(ln(i),"Cannot connect from undefined node"),zt(ln(e),"Cannot connect to undefined node"),(e instanceof Vt||oc(e))&&zt(e.numberOfInputs>0,"Cannot connect to node with no inputs"),zt(i.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Vt||e instanceof $n;)ln(e.input)&&(e=e.input);for(;i instanceof Vt;)ln(i.output)&&(i=i.output);ru(e)?i.connect(e,t):i.connect(e,t,r)}function F8(i,e,t=0,r=0){if(ln(e))for(;e instanceof Vt;)e=e.input;for(;!oc(i);)ln(i.output)&&(i=i.output);ru(e)?i.disconnect(e,t):oc(e)?i.disconnect(e,t,r):i.disconnect()}class Ki extends Vt{constructor(){const e=Bt(Ki.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new $n({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),ci(this,"gain")}static getDefaults(){return Object.assign(Vt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Nh extends Vt{constructor(e){super(e),this.onended=Gn,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ki({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const r=this.toSeconds(t);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Vt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Gn})}_startGain(e,t=1){zt(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+r):this._gainNode.gain.exponentialApproachValueAtTime(t,e,r)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){zt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Gn&&(this.onended(this),this.onended=Gn,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),zt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Gn,this}}class Ag extends Nh{constructor(){const e=Bt(Ag.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Mh(this._source,this._gainNode),this.offset=new $n({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Nh.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Jn extends Vt{constructor(){const e=Bt(Jn.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Ag({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Vt.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,r=0){return Ng(this,e,t,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,r){return this._param.exponentialRampTo(e,t,r),this}linearRampTo(e,t,r){return this._param.linearRampTo(e,t,r),this}targetRampTo(e,t,r){return this._param.targetRampTo(e,t,r),this}exponentialApproachValueAtTime(e,t,r){return this._param.exponentialApproachValueAtTime(e,t,r),this}setTargetAtTime(e,t,r){return this._param.setTargetAtTime(e,t,r),this}setValueCurveAtTime(e,t,r,a){return this._param.setValueCurveAtTime(e,t,r,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,r){return this._param.rampTo(e,t,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Ng(i,e,t,r){(e instanceof $n||ru(e)||e instanceof Jn&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Jn&&(e.overridden=!0)),Mh(i,e,t,r)}class Cg extends $n{constructor(){const e=Bt(Cg.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Eo(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign($n.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,r){t=this.toSeconds(t),this.setRampPoint(t);const a=this._fromType(e),o=this._events.get(t),h=Math.round(Math.max(1/r,1));for(let c=0;c<=h;c++){const f=r*c+t,d=this._exponentialApproach(o.time,o.value,a,r,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}setValueAtTime(e,t){const r=this.toSeconds(t);super.setValueAtTime(e,t);const a=this._events.get(r),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,r);return a.ticks=Math.max(h,0),this}linearRampToValueAtTime(e,t){const r=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const a=this._events.get(r),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,r);return a.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const r=this._fromType(e),a=this._events.get(t),o=Math.round(Math.max((t-a.time)*10,1)),h=(t-a.time)/o;for(let c=0;c<=o;c++){const f=h*c+a.time,d=this._exponentialInterpolate(a.time,a.value,t,r,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(da(e.ticks)){const h=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(h,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(t));const o=this._events.get(t);return o&&o.time===t&&o.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(r+a)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),r=this._events.get(t);return Math.max(this._getTicksUntilEvent(r,t),0)}getDurationOfTicks(e,t){const r=this.toSeconds(t),a=this.getTicksAtTime(t);return this.getTimeOfTick(a+e)-r}getTimeOfTick(e){const t=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&r&&r.type==="linearRampToValueAtTime"&&t.value!==r.value){const a=this._fromType(this.getValueAtTime(t.time)),h=(this._fromType(this.getValueAtTime(r.time))-a)/(r.time-t.time),c=Math.sqrt(Math.pow(a,2)-2*h*(t.ticks-e)),f=(-a+c)/h,d=(-a-c)/h;return(f>0?f:d)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const r=this.toSeconds(t),a=this.toSeconds(e),o=this.getTicksAtTime(r);return this.getTicksAtTime(r+a)-o}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class Tg extends Jn{constructor(){const e=Bt(Tg.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Cg({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Jn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Eg extends _s{constructor(){const e=Bt(Eg.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Sg,this._tickOffset=new Eo,this._ticksAtTime=new Eo,this._secondsAtTime=new Eo,this.frequency=new Tg({context:this.context,units:e.units,value:e.frequency}),ci(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},_s.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),ln(t)&&this.setTicksAtTime(t,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const r=this._state.get(t);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),r=this._state.getLastState("stopped",t),a=this._ticksAtTime.get(t),o={state:"paused",time:t};this._state.add(o);let h=a||r,c=a?a.ticks:0,f=null;return this._state.forEachBetween(h.time,t+this.sampleTime,d=>{let m=h.time;const x=this._tickOffset.get(d.time);x&&x.time>=h.time&&(c=x.ticks,m=x.time),h.state==="started"&&d.state!=="started"&&(c+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(m),d.time!==o.time&&(f={state:d.state,time:d.time,ticks:c})),h=d}),this._state.remove(o),f&&this._ticksAtTime.add(f),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),r=this.frequency.timeToTicks(e,t);this.setTicksAtTime(r,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const a=this._secondsAtTime.get(e);let o=a||t,h=a?a.seconds:0,c=null;return this._state.forEachBetween(o.time,e+this.sampleTime,f=>{let d=o.time;const m=this._tickOffset.get(f.time);m&&m.time>=o.time&&(h=m.seconds,d=m.time),o.state==="started"&&f.state!=="started"&&(h+=f.time-d,f.time!==r.time&&(c={state:f.state,time:f.time,seconds:h})),o=f}),this._state.remove(r),c&&this._secondsAtTime.add(c),h}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const r=this._tickOffset.get(t),a=this._state.get(t),o=Math.max(r.time,a.time),h=this.frequency.getTicksAtTime(o)+e-r.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(e,t,r){let a=this._state.get(e);this._state.forEachBetween(e,t,h=>{a&&a.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),h.time-this.sampleTime,r),a=h});let o=null;if(a&&a.state==="started"){const h=Math.max(a.time,e),c=this.frequency.getTicksAtTime(h),f=this.frequency.getTicksAtTime(a.time),d=c-f;let m=Math.ceil(d)-d;m=Ga(m,1)?0:m;let x=this.frequency.getTimeOfTick(c+m);for(;x<t;){try{r(x,Math.round(this.getTicksAtTime(x)))}catch(w){o=w;break}x+=this.frequency.getDurationOfTicks(1,x)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}let Ux=class Vx extends _s{constructor(){const e=Bt(Vx.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Gn,this._lastUpdate=0,this._state=new Sg("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Eg({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ci(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(_s.getDefaults(),{callback:Gn,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){Ox(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,t),r<this._lastUpdate&&this.emit("start",r,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const r=this.toSeconds(t),a=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(a+e,r)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,r=>{switch(r.state){case"started":const a=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,a);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,t,(r,a)=>{this.callback(r,a)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};td.mixin(Ux);class Lh extends Vt{constructor(){const e=Bt(Lh.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Ki({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,ci(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Vt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class kg extends Vt{constructor(){const e=Bt(kg.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Lh({context:this.context}),this.output=new Ki({context:this.context}),this.volume=this.input.volume,zf(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Vt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),zf(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}l1(i=>{i.destination=new kg({context:i})});c1(i=>{i.destination.dispose()});class P8 extends Vt{constructor(){super(...arguments),this.name="Listener",this.positionX=new $n({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new $n({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new $n({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new $n({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new $n({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new $n({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new $n({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new $n({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new $n({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Vt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}l1(i=>{i.listener=new P8({context:i})});c1(i=>{i.listener.dispose()});class Og extends yl{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Bt(Og.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const r=e.urls[t];this.add(t,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Gn,onload:Gn,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return zt(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,r=Gn,a=Gn){return pl(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new ai(this.baseUrl+t,r,a))):this._buffers.set(e.toString(),new ai(t,r,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class zp extends Us{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return Jc(super._frequencyToUnits(e))}_ticksToUnits(e){return Jc(super._ticksToUnits(e))}_beatsToUnits(e){return Jc(super._beatsToUnits(e))}_secondsToUnits(e){return Jc(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return Px(this.toMidi())}transpose(e){return new zp(this.context,this.toMidi()+e)}}class fh extends Ef{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class U8 extends _s{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Eo,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,t=>{e-t.time<=this.expiration&&t.callback(),this._events.remove(t)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}l1(i=>{i.draw=new U8({context:i})});c1(i=>{i.draw.dispose()});class V8 extends yl{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){zt(ln(e.time),"Events must have a time property"),zt(ln(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new H8(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const r of t)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let r,a=null;if(t>0)if(e.left.right===null)r=e.left,r.right=e.right,a=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,a=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,a=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,a=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const t=e.parent,r=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),t!==null?r?t.left=a:t.right=a:this._setRoot(a)}_rotateRight(e){const t=e.parent,r=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),t!==null?r?t.left=a:t.right=a:this._setRoot(a)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let r=t[0];for(let a=1;a<t.length;a++)t[a].low>r.low&&(r=t[a]);return r.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(r=>t.push(r)),t.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(a=>{a.event&&t(a.event)})}return this}forEachFrom(e,t){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(a=>{a.event&&t(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class H8{constructor(e,t,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class G8 extends yl{constructor(e){super(),this.name="TimelineValue",this._timeline=new Eo({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class lc extends Vt{constructor(){super(Bt(lc.getDefaults(),arguments,["context"]))}connect(e,t=0,r=0){return Ng(this,e,t,r),this}}class nd extends lc{constructor(){const e=Bt(nd.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Hs(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):g8(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Jn.getDefaults(),{length:1024})}setMap(e,t=1024){const r=new Float32Array(t);for(let a=0,o=t;a<o;a++){const h=a/(o-1)*2-1;r[a]=e(h,a)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(r=>r.includes(e));zt(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class h1 extends lc{constructor(){const e=Bt(h1.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new nd({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(lc.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class cc{constructor(e,t){this.id=cc._eventId++,this._remainderTime=0;const r=Object.assign(cc.getDefaults(),t);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Gn,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}cc._eventId=0;class Mg extends cc{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Mg.getDefaults(),t);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},cc.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return qp(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new fh(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){qp(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new fh(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Ah(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class f1 extends _s{constructor(){const e=Bt(f1.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new G8(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Eo,this._repeatedEvents=new V8,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Ux({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),ci(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(_s.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const r=t%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(r*Math.PI)*this._swingAmount;e+=new fh(this.context,this._swingTicks*2/3).toSeconds()*a}Xv(!0),this._timeline.forEachAtTime(t,r=>r.invoke(e)),Xv(!1)}schedule(e,t){const r=new cc(this,{callback:e,time:new Ef(this.context,t).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,t,r,a=1/0){const o=new Mg(this,{callback:e,duration:new Xa(this.context,a).toTicks(),interval:new Xa(this.context,t).toTicks(),time:new Ef(this.context,r).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(e,t){const r=new cc(this,{callback:e,once:!0,time:new Ef(this.context,t).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(t,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new fh(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let r;return ln(t)&&(r=this.toTicks(t)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Hs(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Xa(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Xa(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new fh(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new fh(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),r=this._clock.frequency.timeToTicks(e,t);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(t),a=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,t),o=t+a;this.emit("stop",o),this._clock.setTicksAtTime(e,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),r=this.getTicksAtTime(t),a=e-r%e;return this._clock.nextTickTime(a,t)}}syncSignal(e,t){const r=this.now();let a=this.bpm,o=1/(60/a.getValueAtTime(r)/this.PPQ),h=[];if(e.units==="time"){const f=.015625/o,d=new Ki(f),m=new h1(-1),x=new Ki(f);a.chain(d,m,x),a=x,o=1/o,h=[d,m,x]}t||(e.getValueAtTime(r)!==0?t=e.getValueAtTime(r)/o:t=0);const c=new Ki(t);return a.connect(c),c.connect(e._param),h.push(c),this._syncedSignals.push({initial:e.value,nodes:h,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const r=this._syncedSignals[t];r.signal===e&&(r.nodes.forEach(a=>a.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),bg(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}td.mixin(f1);l1(i=>{i.transport=new f1({context:i})});c1(i=>{i.transport.dispose()});class zr extends Vt{constructor(e){super(e),this.input=void 0,this._state=new Sg("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Gn,this._syncedStop=Gn,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Lh({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,ci(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Vt.getDefaults(),{mute:!1,onstop:Gn,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,r){let a=da(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")zt(Ah(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,t,r);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const o=this._state.get(a);o&&(o.offset=this.toSeconds(mh(t,0)),o.duration=r?this.toSeconds(r):void 0);const h=this.context.transport.schedule(c=>{this._start(c,t,r)},a);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else Ox(this.context),this._start(a,t,r);return this}stop(e){let t=da(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||ln(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const r=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(r)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Ah(t,0)){const r=this._state.get(t);if(r&&r.state==="started"&&r.time!==t){const a=t-this.toSeconds(r.time);let o;r.duration&&(o=this.toSeconds(r.duration)-a),this._start(e,this.toSeconds(r.offset)+a,o)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Gn,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class d1 extends Nh{constructor(){const e=Bt(d1.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Mh(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new $n({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new ai(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Nh.getDefaults(),{url:new ai,loop:!1,loopEnd:0,loopStart:0,onload:Gn,onerror:Gn,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,r,a=1){zt(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(e);this._startGain(o,a),this.loop?t=mh(t,this.loopStart):t=mh(t,0);let h=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),d=c-f;D0(h,c)&&(h=(h-f)%d+f),Ga(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,qp(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,h)),ln(r)){let c=this.toSeconds(r);c=Math.max(c,0),this.stop(o+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function cu(i,e){return Zi(this,void 0,void 0,function*(){const t=e/i.context.sampleRate,r=new xg(1,t,i.context.sampleRate);return new i.constructor(Object.assign(i.get(),{frequency:2/t,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Lg extends Nh{constructor(){const e=Bt(Lg.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Mh(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new $n({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new $n({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),ci(this,["frequency","detune"])}static getDefaults(){return Object.assign(Nh.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Xi extends zr{constructor(){const e=Bt(Xi.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),ci(this,"frequency"),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),ci(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(zr.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),r=new Lg({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Xi._periodicWaveCache.find(t=>t.phase===this._phase&&T8(t.partials,this._partials));{const e=Xi._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(ln(r)){const{partials:a,wave:o}=r;this._wave=o,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,o]=this._getRealImaginary(e,this._phase),h=this.context.createPeriodicWave(a,o);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Xi._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),Xi._periodicWaveCache.length>100&&Xi._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){ml(e,0);let t=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(t=r[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const a=new Float32Array(e);this._partials.forEach((o,h)=>a[h]=o),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,t){let a=2048;const o=new Float32Array(a),h=new Float32Array(a);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,a=c,this._partials.length===0)return[o,h]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);f?(c=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),e=f[1],c=Math.max(c,2),a=c):this._partialCount=0,this._partials=[]}for(let f=1;f<a;++f){const d=2/(f*Math.PI);let m;switch(e){case"sine":m=f<=c?1:0,this._partials[f-1]=m;break;case"square":m=f&1?2*d:0,this._partials[f-1]=m;break;case"sawtooth":m=d*(f&1?1:-1),this._partials[f-1]=m;break;case"triangle":f&1?m=2*(d*d)*(f-1>>1&1?-1:1):m=0,this._partials[f-1]=m;break;case"custom":m=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}m!==0?(o[f]=-m*Math.sin(t*f),h[f]=m*Math.cos(t*f)):(o[f]=0,h[f]=0)}return[o,h]}_inverseFFT(e,t,r){let a=0;const o=e.length;for(let h=0;h<o;h++)a+=e[h]*Math.cos(h*r)+t[h]*Math.sin(h*r);return a}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let r=0;const a=Math.PI*2,o=32;for(let h=0;h<o;h++)r=Math.max(this._inverseFFT(e,t,h/o*a),r);return k8(-this._inverseFFT(e,t,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Zi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Xi._periodicWaveCache=[];class Hx extends lc{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new nd({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class gl extends Jn{constructor(){const e=Bt(gl.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Ki({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Jn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class p1 extends zr{constructor(){const e=Bt(p1.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new Hx({context:this.context}),this._modulationNode=new Ki({context:this.context}),this._carrier=new Xi({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Xi({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new gl({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ci(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Xi.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Zi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class m1 extends zr{constructor(){const e=Bt(m1.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Ki({context:this.context,gain:0}),this._carrier=new Xi({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Xi({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new gl({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new gl({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ci(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Xi.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Zi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class id extends zr{constructor(){const e=Bt(id.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Ki({context:this.context,gain:0}),this._thresh=new nd({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new Jn({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Xi({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ci(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(zr.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Zi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class g1 extends zr{constructor(){const e=Bt(g1.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,ci(this,["frequency","detune"])}static getDefaults(){return Object.assign(Xi.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,r=e/(this._oscillators.length-1);this._forEach((a,o)=>a.detune.value=t+r*o)}}get count(){return this._oscillators.length}set count(e){if(ml(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const r=new Xi({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):Gn});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[t]=r}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,r)=>t.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Zi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class v1 extends zr{constructor(){const e=Bt(v1.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new gl({context:this.context,value:2}),this._pulse=new id({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Xi({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ci(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(zr.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Zi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Zv={am:p1,fat:g1,fm:m1,oscillator:Xi,pulse:id,pwm:v1};class uc extends zr{constructor(){const e=Bt(uc.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),ci(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Xi.getDefaults(),m1.getDefaults(),p1.getDefaults(),g1.getDefaults(),id.getDefaults(),v1.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=Zv[e],r=this.now();if(this._oscillator){const a=this._oscillator;a.stop(r),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof Zv[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&dl(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&dl(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&pl(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Zi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Dg extends Jn{constructor(){super(Bt(Dg.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new Ki({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,zf(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Jn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class jg extends lc{constructor(){const e=Bt(jg.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new gl({context:this.context,value:e.max-e.min}),this._add=this.output=new Dg({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(lc.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function Gx(i,e=1/0){const t=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){ml(o,i,e),t.set(this,o)}})}}function bl(i,e=1/0){const t=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){ml(this.toSeconds(o),i,e),t.set(this,o)}})}}class y1 extends zr{constructor(){const e=Bt(y1.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new ai({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(zr.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Gn,onerror:Gn,playbackRate:1,reverse:!1})}load(e){return Zi(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Gn){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,r){return super.start(e,t,r),this}_start(e,t,r){this._loop?t=mh(t,this._loopStart):t=mh(t,0);const a=this.toSeconds(t),o=r;r=mh(r,Math.max(this._buffer.duration-a,0));let h=this.toSeconds(r);h=h/this._playbackRate,e=this.toSeconds(e);const c=new d1({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+h),this._state.setStateAtTime("stopped",e+h,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&da(o)?c.start(e,a):c.start(e,a,h-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(t))}restart(e,t,r){return super.restart(e,t,r),this}_restart(e,t,r){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,t,r)}seek(e,t){const r=this.toSeconds(t);if(this._state.getValueAtTime(r)==="started"){const a=this.toSeconds(e);this._stop(r),this._start(r,a)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&ml(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&ml(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),r=this._state.getNextState("stopped",t);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}no([bl(0)],y1.prototype,"fadeIn",void 0);no([bl(0)],y1.prototype,"fadeOut",void 0);class Gs extends Vt{constructor(){const e=Bt(Gs.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Jn({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Vt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(pl(e))return e;{let r;for(r in sp)if(sp[r][t]===e)return r;return e}}_setCurve(e,t,r){if(pl(r)&&Reflect.has(sp,r)){const a=sp[r];eu(a)?e!=="_decayCurve"&&(this[e]=a[t]):this[e]=a}else if(Hs(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),h=this.getValueAtTime(e);if(h>0){const c=1/a;a=(1-h)/c}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,a,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let f=1;f<c.length;f++)if(c[f-1]<=h&&h<=c[f]){c=this._attackCurve.slice(f),c[0]=h;break}this._sig.setValueCurveAtTime(c,e,a,t)}if(o&&this.sustain<1){const c=t*this.sustain,f=e+a;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,o+f):this._sig.exponentialApproachValueAtTime(c,f,o)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(zt(Hs(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,r=1){return t=this.toSeconds(t),this.triggerAttack(t,r),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,r=0){return Ng(this,e,t,r),this}asArray(){return Zi(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,r=new xg(1,t,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=a+this.toSeconds(this.release),h=o*.1,c=o+h,f=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:r}));return f._sig.toDestination(),f.triggerAttackRelease(t*(a+h)/c,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}no([bl(0)],Gs.prototype,"attack",void 0);no([bl(0)],Gs.prototype,"decay",void 0);no([Gx(0,1)],Gs.prototype,"sustain",void 0);no([bl(0)],Gs.prototype,"release",void 0);const sp=(()=>{let e,t;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const a=[],o=6.4;for(e=0;e<127;e++){t=e/127;const w=Math.sin(t*(Math.PI*2)*o-Math.PI/2)+1;a[e]=w/10+t*.83}a[127]=1;const h=[],c=5;for(e=0;e<128;e++)h[e]=Math.ceil(e/127*c)/c;const f=[];for(e=0;e<128;e++)t=e/127,f[e]=.5*(1-Math.cos(Math.PI*t));const d=[];for(e=0;e<128;e++){t=e/127;const w=Math.pow(t,3)*4+.2,y=Math.cos(w*Math.PI*2*t);d[e]=Math.abs(y*(1-t))}function m(w){const y=new Array(w.length);for(let N=0;N<w.length;N++)y[N]=1-w[N];return y}function x(w){return w.slice(0).reverse()}return{bounce:{In:m(d),Out:d},cosine:{In:r,Out:x(r)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:m(a)},sine:{In:f,Out:m(f)},step:{In:h,Out:m(h)}}})();class hc extends Vt{constructor(){const e=Bt(hc.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new Lh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,ci(this,"volume")}static getDefaults(){return Object.assign(Vt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const r=this["_original_"+e]=this[e];this[e]=(...a)=>{const o=a[t],h=this.context.transport.schedule(c=>{a[t]=c,r.apply(this,a)},o);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,r,a){const o=this.toSeconds(r),h=this.toSeconds(t);return this.triggerAttack(e,o,a),this.triggerRelease(o+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ka extends hc{constructor(){const e=Bt(Ka.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(hc.getDefaults(),{detune:0,onsilence:Gn,portamento:0})}triggerAttack(e,t,r=1){this.log("triggerAttack",e,t,r);const a=this.toSeconds(t);return this._triggerEnvelopeAttack(a,r),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const r=this.toSeconds(t),a=e instanceof Us?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,o,r)}else this.frequency.setValueAtTime(a,r);return this}}no([bl(0)],Ka.prototype,"portamento",void 0);class b1 extends Gs{constructor(){super(Bt(b1.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Ki({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ha extends Ka{constructor(){const e=Bt(ha.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new uc(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new b1(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),ci(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ka.getDefaults(),{envelope:Object.assign(Ya(Gs.getDefaults(),Object.keys(Vt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Ya(uc.getDefaults(),[...Object.keys(zr.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Ff extends Ka{constructor(){const e=Bt(Ff.getDefaults(),arguments);super(e),this.name="ModulationSynth",this._carrier=new ha({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new ha({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Jn({context:this.context,units:"frequency"}),this.detune=new Jn({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new gl({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new Ki({context:this.context,gain:0}),ci(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Ka.getDefaults(),{harmonicity:3,oscillator:Object.assign(Ya(uc.getDefaults(),[...Object.keys(zr.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Ya(Gs.getDefaults(),Object.keys(Vt.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Ya(uc.getDefaults(),[...Object.keys(zr.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Ya(Gs.getDefaults(),Object.keys(Vt.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class Fp extends Ff{constructor(){super(Bt(Fp.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Hx({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Pp extends Vt{constructor(){const e=Bt(Pp.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new $n({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new $n({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new $n({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new $n({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(Vt.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){zt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let h=0;h<e;h++){const f=Math.pow(h/e,2)*19980+20;t[h]=f}const r=new Float32Array(e),a=new Float32Array(e),o=this.context.createBiquadFilter();return o.type=this.type,o.Q.value=this.Q.value,o.frequency.value=this.frequency.value,o.gain.value=this.gain.value,o.getFrequencyResponse(t,r,a),r}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Up extends Vt{constructor(){const e=Bt(Up.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new Ki({context:this.context}),this.output=new Ki({context:this.context}),this._filters=[],this._filters=[],this.Q=new Jn({context:this.context,units:"positive",value:e.Q}),this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),this.gain=new Jn({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,ci(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Vt.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){zt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(r=>r.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const t=dl(e)?e:parseInt(e,10),r=[-12,-24,-48,-96];let a=r.indexOf(t);zt(a!==-1,`rolloff can only be ${r.join(", ")}`),a+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach(o=>o.disconnect()),this._filters=new Array(a);for(let o=0;o<a;o++){const h=new Pp({context:this.context});h.type=this._type,this.frequency.connect(h.frequency),this.detune.connect(h.detune),this.Q.connect(h.Q),this.gain.connect(h.gain),this._filters[o]=h}this._internalChannels=this._filters,zf(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new Pp({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),r=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{t.getFrequencyResponse(e).forEach((o,h)=>r[h]*=o)}),t.dispose(),r}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),bg(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Vp extends Gs{constructor(){const e=Bt(Vp.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="FrequencyEnvelope",this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new h1({context:this.context,value:e.exponent}),this._scale=this.output=new jg({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Gs.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);ml(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Hp extends Ka{constructor(){const e=Bt(Hp.getDefaults(),arguments);super(e),this.name="MonoSynth",this.oscillator=new uc(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Up(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new Vp(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new b1(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),ci(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Ka.getDefaults(),{envelope:Object.assign(Ya(Gs.getDefaults(),Object.keys(Vt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Ya(Up.getDefaults(),Object.keys(Vt.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Ya(Vp.getDefaults(),Object.keys(Vt.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Ya(uc.getDefaults(),Object.keys(zr.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class kf extends Ff{constructor(){const e=Bt(kf.getDefaults(),arguments);super(e),this.name="FMSynth",this.modulationIndex=new gl({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Ff.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class x1 extends ha{constructor(){const e=Bt(x1.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,ci(this,["oscillator","envelope"])}static getDefaults(){return tu(Ka.getDefaults(),ha.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const r=this.toSeconds(t),a=this.toFrequency(e instanceof Us?e.toFrequency():e),o=a*this.octaves;return this.oscillator.frequency.setValueAtTime(o,r),this.oscillator.frequency.exponentialRampToValueAtTime(a,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}no([Gx(0)],x1.prototype,"octaves",void 0);no([bl(0)],x1.prototype,"pitchDecay",void 0);const Yx=new Set;function Rg(i){Yx.add(i)}function Wx(i,e){const t=`registerProcessor("${i}", ${e})`;Yx.add(t)}const Y8=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Rg(Y8);const W8=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Rg(W8);const X8=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Rg(X8);const Z8="feedback-comb-filter",K8=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Wx(Z8,K8);class ys extends hc{constructor(){const e=Bt(ys.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),zt(!dl(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(hc.getDefaults(),{maxPolyphony:32,options:{},voice:ha})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex(r=>r.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return zt(e instanceof Ka,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else o1("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,r){e.forEach(a=>{const o=new zp(this.context,a).toMidi(),h=this._getNextAvailableVoice();h&&(h.triggerAttack(a,t,r),this._activeVoices.push({midi:o,voice:h,released:!1}),this.log("triggerAttack",a,t))})}_triggerRelease(e,t){e.forEach(r=>{const a=new zp(this.context,r).toMidi(),o=this._activeVoices.find(({midi:h,released:c})=>h===a&&!c);o&&(o.voice.triggerRelease(t),o.released=!0,this.log("triggerRelease",r,t))})}_scheduleEvent(e,t,r,a){zt(!this.disposed,"Synth was already disposed"),r<=this.now()?e==="attack"?this._triggerAttack(t,r,a):this._triggerRelease(t,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,t,r,a)},r-this.now())}triggerAttack(e,t,r){Array.isArray(e)||(e=[e]);const a=this.toSeconds(t);return this._scheduleEvent("attack",e,a,r),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const r=this.toSeconds(t);return this._scheduleEvent("release",e,r),this}triggerAttackRelease(e,t,r,a){const o=this.toSeconds(r);if(this.triggerAttack(e,o,a),Hs(t)){zt(Hs(e),"If the duration is an array, the notes must also be an array"),e=e;for(let h=0;h<e.length;h++){const c=t[Math.min(h,t.length-1)],f=this.toSeconds(c);zt(f>0,"The duration must be greater than 0"),this.triggerRelease(e[h],o+f)}}else{const h=this.toSeconds(t);zt(h>0,"The duration must be greater than 0"),this.triggerRelease(e,o+h)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const t=Ya(e,["onsilence","context"]);return this.options=tu(this.options,t),this._voices.forEach(r=>r.set(t)),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(t)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class rd extends hc{constructor(){const e=Bt(rd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(r=>{const a=parseInt(r,10);if(zt(rp(r)||dl(a)&&isFinite(a),`url key is neither a note or midi pitch: ${r}`),rp(r)){const o=new Us(this.context,r).toMidi();t[o]=e.urls[r]}else dl(a)&&isFinite(a)&&(t[a]=e.urls[a])}),this._buffers=new Og({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(hc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Gn,onerror:Gn,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,r=1){return this.log("triggerAttack",e,t,r),Array.isArray(e)||(e=[e]),e.forEach(a=>{const o=Fx(new Us(this.context,a).toFrequency()),h=Math.round(o),c=o-h,f=this._findClosest(h),d=h-f,m=this._buffers.get(d),x=zx(f+c),w=new d1({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:x}).connect(this.output);w.start(t,0,m.duration/x,r),Hs(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(w),w.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const y=this._activeSources.get(h),N=y.indexOf(w);N!==-1&&y.splice(N,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(r=>{const a=new Us(this.context,r).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const o=this._activeSources.get(a);t=this.toSeconds(t),o.forEach(h=>{h.stop(t)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,r,a=1){const o=this.toSeconds(r);return this.triggerAttack(e,o,a),Hs(t)?(zt(Hs(e),"notes must be an array when duration is array"),e.forEach((h,c)=>{const f=t[Math.min(c,t.length-1)];this.triggerRelease(h,o+this.toSeconds(f))})):this.triggerRelease(e,o+this.toSeconds(t)),this}add(e,t,r){if(zt(rp(e)||isFinite(e),`note must be a pitch or midi: ${e}`),rp(e)){const a=new Us(this.context,e).toMidi();this._buffers.add(a,t,r)}else this._buffers.add(e,t,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}no([bl(0)],rd.prototype,"attack",void 0);no([bl(0)],rd.prototype,"release",void 0);class Ig extends Vt{constructor(){const e=Bt(Ig.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new $n({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",ci(this,"pan")}static getDefaults(){return Object.assign(Vt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const Q8="bit-crusher",$8=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Wx(Q8,$8);class Wi extends Vt{constructor(){const e=Bt(Wi.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Ki({context:this.context}),Wi._allSolos.has(this.context)||Wi._allSolos.set(this.context,new Set),Wi._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Vt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Wi._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Wi._soloed.has(this.context)||Wi._soloed.set(this.context,new Set),Wi._soloed.get(this.context).add(this)}_removeSolo(){Wi._soloed.has(this.context)&&Wi._soloed.get(this.context).delete(this)}_isSoloed(){return Wi._soloed.has(this.context)&&Wi._soloed.get(this.context).has(this)}_noSolos(){return!Wi._soloed.has(this.context)||Wi._soloed.has(this.context)&&Wi._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Wi._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Wi._allSolos=new Map;Wi._soloed=new Map;class Bg extends Vt{constructor(){const e=Bt(Bg.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Ig({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Lh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,ci(this,["pan","volume"])}static getDefaults(){return Object.assign(Vt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class dh extends Vt{constructor(){const e=Bt(dh.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Wi({solo:e.solo,context:this.context}),this._panVol=this.output=new Bg({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ci(this,["pan","volume"])}static getDefaults(){return Object.assign(Vt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return dh.buses.has(e)||dh.buses.set(e,new Ki({context:this.context})),dh.buses.get(e)}send(e,t=0){const r=this._getBus(e),a=new Ki({context:this.context,units:"decibels",gain:t});return this.connect(a),a.connect(r),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}dh.buses=new Map;Wa().transport;const Xx=Wa().destination;Wa().destination;Wa().listener;Wa().draw;const _p=Wa();function J8(){return ai.loaded()}const ap=({cx:i,cy:e,innerRadius:t,outerRadius:r,startAngle:a,endAngle:o,color:h,label:c,chord:f,isSelected:d,isDiatonic:m,isSecondary:x=!1,onClick:w,onDoubleClick:y,ringType:N="major",wheelRotation:A=0,romanNumeral:k,voicingSuggestion:C,segmentId:P="seg"})=>{const F=c4(i,e,t,r,a,o),z=(a+o)/2,q=vn.useRef(0),J=vn.useRef(null),[Y,D]=vn.useState(!1),R=-A,Z=r-t,E=t+Z*.5,j=t+Z*.18,U=sc(i,e,E,z),$=sc(i,e,j,z),ue=r-6,Q=l4(i,e,ue,a+1,o-1),re=`voicing-arc-${P}`,ce=`clip-${P}`,Ne=(()=>{let He=.35,Qe=.5;m?(He=1,Qe=1):x&&(He=.7,Qe=.65);const V=h.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(V){const De=parseInt(V[1]),ut=Math.round(parseInt(V[2])*Qe),nt=parseInt(V[3]);let Le=nt;return N==="minor"?Le=Math.max(nt-8,30):N==="diminished"&&(Le=Math.max(nt-15,25)),{fill:`hsl(${De}, ${ut}%, ${Le}%)`,opacity:He}}return{fill:h,opacity:He}})(),X=()=>N==="diminished"?"10px":N==="minor"?"12px":"14px",T=m||x,H=T?"#000000":"rgba(255,255,255,0.7)",ee=m?"bold":x?"600":"normal",ie=N==="diminished"||N==="minor"?"6px":"8px",oe=N==="major"?T?6:5:N==="minor"?T?4:3.25:T?3.5:3,pe=T?1:.95,fe=()=>{D(!0)},me=async He=>{He.preventDefault(),He.stopPropagation(),D(!1),_p.state!=="running"&&await _g();const Qe=Date.now(),V=Qe-q.current;J.current&&(clearTimeout(J.current),J.current=null),V<300&&V>0?(q.current=0,y&&y(f)):(q.current=Qe,J.current=setTimeout(()=>{w(f),J.current=null},300))},_e=()=>{D(!1),J.current&&(clearTimeout(J.current),J.current=null)},Re=He=>{He.stopPropagation(),w(f)},Xe=He=>{He.stopPropagation(),y&&y(f)};return L.jsxs("g",{className:Fs("cursor-pointer transition-all duration-200",!T&&"hover:opacity-70",Y&&"opacity-80"),onClick:Re,onDoubleClick:Xe,onTouchStart:fe,onTouchEnd:me,onTouchCancel:_e,style:{pointerEvents:"all",WebkitTapHighlightColor:"transparent"},children:[(m||x)&&C&&L.jsx("defs",{children:L.jsx("path",{id:re,d:Q,fill:"none"})}),L.jsx("defs",{children:L.jsx("clipPath",{id:ce,children:L.jsx("path",{d:F})})}),L.jsx("path",{d:F,fill:Ne.fill,opacity:Ne.opacity,stroke:k==="I"?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",strokeWidth:k==="I"?2.5:1,className:Fs("transition-all duration-200 hover:brightness-110",d&&"brightness-125 stroke-white stroke-2",T&&"hover:brightness-105"),style:{pointerEvents:"all"}}),d&&L.jsx("path",{d:F,fill:"none",stroke:"white",strokeWidth:oe,opacity:pe,filter:"url(#segment-glow)",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none",clipPath:`url(#${ce})`}),(m||x)&&C&&N==="major"&&L.jsx("text",{fill:"rgba(0,0,0,0.6)",fontSize:"6px",className:"pointer-events-none select-none",children:L.jsx("textPath",{href:`#${re}`,startOffset:"50%",textAnchor:"middle",children:C})}),m&&C&&N==="minor"&&L.jsx("text",{fill:"rgba(0,0,0,0.55)",fontSize:"5px",className:"pointer-events-none select-none",children:L.jsx("textPath",{href:`#${re}`,startOffset:"50%",textAnchor:"middle",children:C})}),m&&C&&N==="diminished"&&L.jsx("text",{fill:"rgba(0,0,0,0.5)",fontSize:"5px",className:"pointer-events-none select-none",children:L.jsx("textPath",{href:`#${re}`,startOffset:"50%",textAnchor:"middle",children:C})}),L.jsx("text",{x:U.x,y:U.y,textAnchor:"middle",dominantBaseline:"middle",fill:H,fontWeight:ee,fontSize:X(),className:"pointer-events-none select-none",transform:`rotate(${R}, ${U.x}, ${U.y})`,children:c}),(m||x)&&k&&L.jsx("text",{x:$.x,y:$.y,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(0,0,0,0.6)",fontSize:ie,fontStyle:"italic",className:"pointer-events-none select-none",transform:`rotate(${R}, ${$.x}, ${$.y})`,children:k})]})};const eC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tC=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Kv=i=>{const e=tC(i);return e.charAt(0).toUpperCase()+e.slice(1)},Zx=(...i)=>i.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),nC=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var iC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rC=ge.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:h,...c},f)=>ge.createElement("svg",{ref:f,...iC,width:e,height:e,stroke:i,strokeWidth:r?Number(t)*24/Number(e):t,className:Zx("lucide",a),...!o&&!nC(c)&&{"aria-hidden":"true"},...c},[...h.map(([d,m])=>ge.createElement(d,m)),...Array.isArray(o)?o:[o]]));const yn=(i,e)=>{const t=ge.forwardRef(({className:r,...a},o)=>ge.createElement(rC,{ref:o,iconNode:e,className:Zx(`lucide-${eC(Kv(i))}`,`lucide-${i}`,r),...a}));return t.displayName=Kv(i),t};const sC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],aC=yn("arrow-right",sC);const oC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gh=yn("chevron-down",oC);const lC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cC=yn("chevron-right",lC);const uC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hC=yn("chevron-left",uC);const fC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qg=yn("chevron-up",fC);const dC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pC=yn("circle-question-mark",dC);const mC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gC=yn("circle",mC);const vC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yC=yn("clock",vC);const bC=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qv=yn("compass",bC);const xC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_C=yn("copy",xC);const wC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],SC=yn("download",wC);const AC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],NC=yn("file-plus",AC);const CC=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],TC=yn("folder-open",CC);const EC=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],$v=yn("grip-horizontal",EC);const kC=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Kx=yn("grip-vertical",kC);const OC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],MC=yn("hash",OC);const LC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],DC=yn("layers",LC);const jC=[["path",{d:"M5 12h14",key:"1ays0h"}]],RC=yn("minus",jC);const IC=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],j0=yn("music",IC);const BC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],qC=yn("panel-right-close",BC);const zC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],FC=yn("panel-right",zC);const PC=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],UC=yn("pause",PC);const VC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],HC=yn("play",VC);const GC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qx=yn("plus",GC);const YC=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],WC=yn("repeat",YC);const XC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],$x=yn("rotate-ccw",XC);const ZC=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Jx=yn("rotate-cw",ZC);const KC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Jv=yn("save",KC);const QC=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],$C=yn("skip-back",QC);const JC=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],eT=yn("skip-forward",JC);const tT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],e_=yn("trash-2",tT);const nT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],iT=yn("volume-2",nT);const rT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],sT=yn("volume-x",rT);const aT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ey=yn("x",aT);let Pf={piano:null,epiano:null,guitar:null,organ:null,synth:null,strings:null,pad:null,brass:null,marimba:null,bell:null,lead:null,bass:null,choir:null},t_="piano",wf=null;const oT=i=>{i in Pf&&(t_=i)},lT=i=>{const e=i<=0?-1/0:20*Math.log10(i);try{Xx.volume.rampTo(e,.1)}catch(t){console.error("Error setting volume:",t)}},cT=i=>{Xx.mute=i},zg=async()=>{if(wf)return wf;wf=(async()=>{const i="https://tonejs.github.io/audio/salamander/",e=(t,r)=>{if(!Pf[t])try{const a=r();a&&(Pf[t]=a)}catch(a){console.error(`Failed to init instrument "${t}"`,a)}};e("piano",()=>new rd({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:i}).toDestination()),e("guitar",()=>new ys(ha,{oscillator:{type:"triangle"},envelope:{attack:.002,decay:.25,sustain:.3,release:1.2},filter:{type:"lowpass",frequency:2400,rolloff:-12,Q:1.2},filterEnvelope:{attack:.002,decay:.25,sustain:.2,release:.8,baseFrequency:800,octaves:2.5}}).toDestination()),e("organ",()=>new ys(Fp,{harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("synth",()=>new ys(kf,{harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("epiano",()=>new ys(Fp,{harmonicity:2,oscillator:{type:"triangle"},envelope:{attack:.01,decay:.2,sustain:.7,release:.8},modulation:{type:"sine"},modulationEnvelope:{attack:.2,decay:.1,sustain:.6,release:.6}}).toDestination()),e("strings",()=>new ys(ha,{oscillator:{type:"sawtooth"},envelope:{attack:.2,decay:.2,sustain:.8,release:1.2}}).toDestination()),e("pad",()=>new ys(kf,{harmonicity:1.5,modulationIndex:8,oscillator:{type:"sine"},envelope:{attack:.5,decay:.3,sustain:.9,release:1.5},modulation:{type:"triangle"},modulationEnvelope:{attack:.8,decay:.3,sustain:.8,release:1.2}}).toDestination()),e("brass",()=>new ys(Hp,{oscillator:{type:"square"},filter:{Q:2,type:"lowpass",rolloff:-12},envelope:{attack:.02,decay:.25,sustain:.6,release:.7},filterEnvelope:{attack:.01,decay:.2,sustain:.8,release:.4,baseFrequency:200,octaves:2.5}}).toDestination()),e("marimba",()=>new ys(ha,{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.35,sustain:0,release:.6}}).toDestination()),e("bell",()=>new ys(kf,{harmonicity:8,modulationIndex:2,oscillator:{type:"sine"},envelope:{attack:.01,decay:1.2,sustain:0,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.01,decay:.5,sustain:0,release:1.2}}).toDestination()),e("lead",()=>new ys(ha,{oscillator:{type:"sawtooth"},envelope:{attack:.005,decay:.15,sustain:.6,release:.35}}).toDestination()),e("bass",()=>new ys(Hp,{oscillator:{type:"square"},filter:{type:"lowpass",rolloff:-24,Q:2},envelope:{attack:.01,decay:.2,sustain:.6,release:.4},filterEnvelope:{attack:.001,decay:.15,sustain:.4,release:.2,baseFrequency:80,octaves:3}}).toDestination()),e("choir",()=>new ys(ha,{oscillator:{type:"sine"},envelope:{attack:.8,decay:.3,sustain:.9,release:1.8}}).toDestination()),await J8()})();try{await wf}catch(i){wf=null,console.error("Failed to initialize audio",i)}},ty=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n_=async(i,e="1n")=>{if(_p.state!=="running"&&await _g(),_p.state==="suspended"&&await _p.resume(),await zg(),!i||i.length===0)return;const t=i[0],r=ty.indexOf(t.replace(/\d/,"")),a=i.map((h,c)=>{if(h.match(/\d/))return h;const f=h,d=ty.indexOf(f);if(c===0)return`${f}3`;let m=3;return(d<r||d-r>6)&&(m=4),c>=4&&(m=4),c>=5&&(m=5),`${f}${m}`});let o=Pf[t_];if(o||(o=Pf.piano),!o){console.error("No instrument available to play!");return}try{o.triggerAttackRelease(a,e)}catch(h){console.error("Failed to play chord",h)}},ny=768;function Fg(){const[i,e]=ge.useState(()=>typeof window<"u"?window.innerWidth<ny:!1);return ge.useEffect(()=>{const t=()=>e(window.innerWidth<ny);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),i}const uT=({zoomScale:i,zoomOriginY:e,onZoomChange:t})=>{const{selectedKey:r,setKey:a,wheelRotation:o,wheelMode:h,rotateWheel:c,toggleWheelMode:f,addChordToSlot:d,selectedSectionId:m,selectedSlotId:x,currentSong:w,setSelectedChord:y,selectedChord:N,selectNextSlotAfter:A,setSelectedSlot:k}=fa(),C=h==="rotating"?o:0,P=Tf.indexOf(r),F=ge.useRef(null),z=ge.useRef(null),[q,J]=ge.useState(null),[Y,D]=ge.useState({x:0,y:0}),R=Fg();ge.useEffect(()=>{const we=N?.segmentId??null;J(we)},[N]);const Z=ge.useRef(null),E=ge.useRef(null),[j,U]=ge.useState(!1),$=ge.useRef(0),ue=ge.useRef(0),Q=ge.useCallback((we,qe)=>{if(!E.current)return 0;const ze=E.current.getBoundingClientRect(),rt=ze.left+ze.width/2,Et=ze.top+ze.height/2,et=we-rt,Je=qe-Et;return Math.atan2(Je,et)*(180/Math.PI)},[]),re=ge.useCallback(we=>{const qe=Tf.indexOf(r),ze=we==="cw"?(qe+1)%12:(qe-1+12)%12;a(Tf[ze]),c(we)},[r,a,c]),ce=ge.useRef(null),de=ge.useRef(!1),Ne=ge.useCallback(we=>{if(!E.current)return;const qe=E.current.getBoundingClientRect(),ze=qe.width/2,rt=qe.height/2,Et=we.clientX-qe.left-ze,et=we.clientY-qe.top-rt,Je=Math.sqrt(Et*Et+et*et),vt=qe.width/600*70;Je>vt&&(U(!0),$.current=Q(we.clientX,we.clientY),ue.current=o,we.preventDefault())},[Q,o,h]),X=ge.useCallback(we=>{if(we.touches.length!==1)return;const qe=we.touches[0];if(ce.current={x:qe.clientX,y:qe.clientY},de.current=!1,!E.current)return;const ze=E.current.getBoundingClientRect(),rt=ze.width/2,Et=ze.height/2,et=qe.clientX-ze.left-rt,Je=qe.clientY-ze.top-Et,vt=Math.sqrt(et*et+Je*Je),Nn=ze.width/600*70;vt>Nn&&($.current=Q(qe.clientX,qe.clientY),ue.current=o)},[Q,o]),T=ge.useCallback(we=>{if(we.touches.length!==1||!ce.current)return;const qe=we.touches[0],ze=qe.clientX-ce.current.x,rt=qe.clientY-ce.current.y;if(Math.sqrt(ze*ze+rt*rt)>10){if(de.current=!0,we.preventDefault(),!E.current)return;const et=E.current.getBoundingClientRect(),Je=et.width/2,vt=et.height/2,Nn=qe.clientX-et.left,$t=qe.clientY-et.top,cn=Math.sqrt(Math.pow(Nn-Je,2)+Math.pow($t-vt,2)),Cn=et.width/600*70;if(cn>Cn&&$.current!==0){const ht=Q(qe.clientX,qe.clientY),sn=ht-$.current;if(Math.abs(sn)>=15){const jn=Math.round(sn/30);if(jn!==0){const Tn=h==="fixed"?jn>0?"cw":"ccw":jn>0?"ccw":"cw",Ln=Math.abs(jn);for(let Jt=0;Jt<Ln;Jt++)re(Tn);$.current=ht}}}}},[Q,re,h]),H=ge.useCallback(we=>{if(!j)return;const qe=Q(we.clientX,we.clientY),ze=qe-$.current;if(Math.abs(ze)>=15){const rt=Math.round(ze/30);if(rt!==0){let Et;h==="fixed"?Et=rt>0?"cw":"ccw":Et=rt>0?"ccw":"cw";const et=Math.abs(rt);for(let Je=0;Je<et;Je++)re(Et);$.current=qe}}},[j,Q,re,h]),ee=ge.useCallback(()=>{U(!1)},[]);ge.useEffect(()=>{if(j)return document.addEventListener("mousemove",H),document.addEventListener("mouseup",ee),()=>{document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",ee)}},[j,H,ee]);const ie=ge.useCallback((we,qe,ze)=>{if(!Z.current||ze<=1)return{x:0,y:0};const{clientWidth:rt,clientHeight:Et}=Z.current,et=12,Je=rt*(ze-1)/2+et,vt=Et*(ze-1)/2+et;return{x:Math.max(-Je,Math.min(Je,we)),y:Math.max(-vt,Math.min(vt,qe))}},[]);ge.useEffect(()=>{D(we=>ie(we.x,we.y,i))},[i,ie]);const oe=we=>({x:(we[0].clientX+we[1].clientX)/2,y:(we[0].clientY+we[1].clientY)/2}),pe=ge.useCallback(we=>{if(we.touches.length===2){we.preventDefault();const qe=we.touches[0].clientX-we.touches[1].clientX,ze=we.touches[0].clientY-we.touches[1].clientY;F.current=Math.sqrt(qe*qe+ze*ze),z.current=oe(we.touches)}},[]),fe=ge.useCallback(we=>{if(we.touches.length===2&&F.current!==null){we.preventDefault(),we.stopPropagation();const qe=we.touches[0].clientX-we.touches[1].clientX,ze=we.touches[0].clientY-we.touches[1].clientY,rt=Math.sqrt(qe*qe+ze*ze),Et=rt/F.current,et=Math.max(1,Math.min(2.5,i*Et)),Je=et>1.3?38:50,vt=oe(we.touches);if(z.current){const Nn=vt.x-z.current.x,$t=vt.y-z.current.y;D(cn=>ie(cn.x+Nn,cn.y+$t,et))}F.current=rt,z.current=vt,t(et,Je)}},[i,t,ie]),me=ge.useCallback(we=>{F.current=null,z.current=null,we.touches.length===0&&we.preventDefault()},[]),_e=ge.useCallback(we=>{if(we.ctrlKey||we.metaKey){we.preventDefault();const qe=we.deltaY>0?.9:1.1,ze=Math.max(1,Math.min(2.5,i*qe)),rt=ze>1.3?38:50;t(ze,rt)}},[i,t]),Re=Q0(),Xe=600,He=Xe/2,Qe=Xe/2,V=60,De=V+8,ut=145,nt=ut,Le=210,tt=Le,it=250,lt=ge.useMemo(()=>$3(r),[r]),pt=ge.useMemo(()=>lt.sharps>0?`${lt.sharps}`:lt.flats>0?`${lt.flats}`:"",[lt]),kt=ge.useRef(0),Ge=we=>{const qe=we,ze=Date.now();ze-kt.current<300||(kt.current=ze,n_(we.notes),J(qe.segmentId??null),y(we))},Ke=we=>{const qe=we;let ze=null,rt=null;if(m&&x)ze=m,rt=x;else if(m){const Et=w.sections.find(et=>et.id===m);if(Et)for(const et of Et.measures){for(const Je of et.beats)if(!Je.chord){ze=Et.id,rt=Je.id;break}if(rt)break}}if(!ze||!rt)for(const Et of w.sections){for(const et of Et.measures){for(const Je of et.beats)if(!Je.chord){ze=Et.id,rt=Je.id;break}if(rt)break}if(rt)break}ze&&rt&&(d(we,ze,rt),A(ze,rt)||(k(ze,rt),J(qe.segmentId??null),y(we)))},ct=we=>(we-P+12)%12,gt=(we,qe)=>{const ze=ct(we);return qe==="major"?ze===0||ze===1||ze===11:qe==="ii"||qe==="iii"||qe==="dim"?ze===0:!1},at=we=>ct(we)===1,Ct=we=>{const qe=ct(we);return qe===2||qe===4},ot=(we,qe)=>{const ze=ct(we);if(qe==="major"){if(ze===0)return"I";if(ze===1)return"V";if(ze===11)return"IV";if(ze===2)return"II";if(ze===4)return"III"}if(qe==="ii"){if(ze===0)return"ii";if(ze===1)return"vi"}return qe==="iii"&&ze===0?"iii":qe==="dim"&&ze===0?"vii":""},Zt=(we,qe)=>{const ze=ct(we);if(qe==="major"){if(ze===0)return"maj7, maj9, maj13 or 6";if(ze===1)return"7, 9, 11, sus4, 13";if(ze===11)return"maj7, maj9, maj13 or 6";if(ze===2||ze===4)return"7, sus4"}if(qe==="ii"){if(ze===0)return"m7, m9, m11, m6";if(ze===1)return"m7, m9, m11"}return qe==="iii"&&ze===0?"m7":qe==="dim"&&ze===0?"m75 (7)":""},Dt=we=>{if(q)return q===we.segmentId;const qe=N?.segmentId;return qe?qe===we.segmentId:!1},wt=ge.useCallback(we=>{we.touches.length===2?pe(we):we.touches.length===1&&X(we)},[pe,X]),St=ge.useCallback(we=>{we.touches.length===2?fe(we):we.touches.length===1&&T(we)},[fe,T]),Ft=ge.useCallback(we=>{ce.current=null,de.current=!1,me(we)},[me]);return L.jsx("div",{ref:Z,className:"relative flex flex-col items-center justify-center w-full h-full max-w-full max-h-full aspect-square p-1 sm:p-2 select-none",onTouchStart:wt,onTouchMove:St,onTouchEnd:Ft,onWheel:_e,style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",touchAction:"none"},children:L.jsx("div",{className:"w-full h-full transition-transform duration-150 ease-out overflow-hidden",style:{transform:`translate(${Y.x}px, ${Y.y}px) scale(${i})`,transformOrigin:`center ${e}%`},children:L.jsxs("svg",{ref:E,width:"100%",height:"100%",viewBox:`0 0 ${Xe} ${Xe}`,className:`w-full h-full select-none ${j?"cursor-grabbing":"cursor-grab"}`,onMouseDown:Ne,style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},children:[L.jsxs("defs",{children:[L.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[L.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),L.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),L.jsx("filter",{id:"segment-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:L.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#ffffff",floodOpacity:"0.9"})})]}),L.jsx("g",{style:{transform:`rotate(${C}deg)`,transformOrigin:`${He}px ${Qe}px`,transition:"transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:Z3.map((we,qe)=>{const rt=qe*30-15,Et=rt+30,et=Re[we.major]||Re.C,Je=we.ii.replace("m",""),vt=we.iii.replace("m",""),Nn=we.diminished.replace("",""),$t=gt(qe,"major"),cn=Ct(qe),Cn=gt(qe,"ii")||at(qe),ht=gt(qe,"iii"),sn=gt(qe,"dim"),jn={root:we.major,quality:"major",numeral:ot(qe,"major"),notes:ch(we.major,"major"),symbol:we.major,segmentId:`major-${qe}`,ringType:"major",positionIndex:qe},Tn={root:Je,quality:"minor",numeral:ot(qe,"ii"),notes:ch(Je,"minor"),symbol:we.ii,segmentId:`ii-${qe}`,ringType:"minor",positionIndex:qe},Ln={root:vt,quality:"minor",numeral:ot(qe,"iii"),notes:ch(vt,"minor"),symbol:we.iii,segmentId:`iii-${qe}`,ringType:"minor",positionIndex:qe},Jt={root:Nn,quality:"diminished",numeral:ot(qe,"dim"),notes:ch(Nn,"diminished"),symbol:we.diminished,segmentId:`dim-${qe}`,ringType:"diminished",positionIndex:qe},En=15,Qi=rt+-7.5,ui=Qi+En,wn=ui,Wn=wn+En,Di=15,cr=rt+(30-Di)/2,Or=cr+Di,ma=we.major,Pr=we.ii,Ur=we.iii,Ys=we.diminished;return L.jsxs("g",{children:[L.jsx(ap,{cx:He,cy:Qe,innerRadius:De,outerRadius:ut,startAngle:rt,endAngle:Et,color:et,label:ma,chord:jn,isSelected:Dt(jn),isDiatonic:$t,isSecondary:cn,onClick:Ge,onDoubleClick:Ke,ringType:"major",wheelRotation:C,romanNumeral:$t||cn?ot(qe,"major"):void 0,voicingSuggestion:$t||cn?Zt(qe,"major"):void 0,segmentId:`major-${qe}`}),L.jsx(ap,{cx:He,cy:Qe,innerRadius:nt,outerRadius:Le,startAngle:Qi,endAngle:ui,color:et,label:Pr,chord:Tn,isSelected:Dt(Tn),isDiatonic:Cn,onClick:Ge,onDoubleClick:Ke,ringType:"minor",wheelRotation:C,romanNumeral:Cn?ot(qe,"ii"):void 0,voicingSuggestion:Cn?Zt(qe,"ii"):void 0,segmentId:`ii-${qe}`}),L.jsx(ap,{cx:He,cy:Qe,innerRadius:nt,outerRadius:Le,startAngle:wn,endAngle:Wn,color:et,label:Ur,chord:Ln,isSelected:Dt(Ln),isDiatonic:ht,onClick:Ge,onDoubleClick:Ke,ringType:"minor",wheelRotation:C,romanNumeral:ht?ot(qe,"iii"):void 0,voicingSuggestion:ht?Zt(qe,"iii"):void 0,segmentId:`iii-${qe}`}),L.jsx(ap,{cx:He,cy:Qe,innerRadius:tt,outerRadius:it,startAngle:cr,endAngle:Or,color:et,label:Ys,chord:Jt,isSelected:Dt(Jt),isDiatonic:sn,onClick:Ge,onDoubleClick:Ke,ringType:"diminished",wheelRotation:C,romanNumeral:sn?ot(qe,"dim"):void 0,voicingSuggestion:sn?Zt(qe,"dim"):void 0,segmentId:`dim-${qe}`})]},we.major)})}),L.jsx("circle",{cx:He,cy:Qe,r:V,fill:"#1a1a24",stroke:"#3a3a4a",strokeWidth:"2",style:{pointerEvents:"none"}}),L.jsx("text",{x:He,y:Qe-22,textAnchor:"middle",fill:"#6366f1",fontSize:"9",fontWeight:"bold",letterSpacing:"2",children:"KEY"}),L.jsx("text",{x:He,y:Qe+6,textAnchor:"middle",fill:"white",fontSize:"26",fontWeight:"bold",children:r}),L.jsx("text",{x:He,y:Qe+24,textAnchor:"middle",fill:"#9898a6",fontSize:"11",children:pt||"No /"}),L.jsxs("g",{transform:`translate(${He-22}, ${Qe+38})`,onClick:()=>re("ccw"),onTouchEnd:we=>{we.preventDefault(),we.stopPropagation(),re("ccw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[L.jsx("circle",{r:R?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),L.jsx("g",{transform:R?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:L.jsx($x,{size:R?12:9,color:"#9898a6"})})]}),L.jsxs("g",{transform:`translate(${He+22}, ${Qe+38})`,onClick:()=>re("cw"),onTouchEnd:we=>{we.preventDefault(),we.stopPropagation(),re("cw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[L.jsx("circle",{r:R?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),L.jsx("g",{transform:R?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:L.jsx(Jx,{size:R?12:9,color:"#9898a6"})})]}),L.jsxs("g",{transform:`translate(${He}, ${Qe+52})`,onClick:f,onTouchEnd:we=>{we.preventDefault(),we.stopPropagation(),f()},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[L.jsx("rect",{x:R?-24:-18,y:R?-10:-6,width:R?48:36,height:R?20:12,rx:R?10:6,fill:h==="fixed"?"#6366f1":"#282833",className:"hover:brightness-110 transition-all",style:{pointerEvents:"all"}}),L.jsx("g",{style:{pointerEvents:"none"},children:h==="fixed"?L.jsx("g",{transform:R?"translate(-5, -5)":"translate(-4, -4)",children:L.jsx(Qv,{size:R?10:8,color:"white"})}):L.jsx("g",{transform:R?"translate(-5, -5) rotate(-35 5 5)":"translate(-4, -4) rotate(-35 4 4)",children:L.jsx(Qv,{size:R?10:8,color:"#ef4444"})})})]})]})})})};var Cf=Rb();function hT(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return ge.useMemo(()=>r=>{e.forEach(a=>a(r))},e)}const _1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Dh(i){const e=Object.prototype.toString.call(i);return e==="[object Window]"||e==="[object global]"}function Pg(i){return"nodeType"in i}function es(i){var e,t;return i?Dh(i)?i:Pg(i)&&(e=(t=i.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Ug(i){const{Document:e}=es(i);return i instanceof e}function sd(i){return Dh(i)?!1:i instanceof es(i).HTMLElement}function i_(i){return i instanceof es(i).SVGElement}function jh(i){return i?Dh(i)?i.document:Pg(i)?Ug(i)?i:sd(i)||i_(i)?i.ownerDocument:document:document:document}const Qa=_1?ge.useLayoutEffect:ge.useEffect;function w1(i){const e=ge.useRef(i);return Qa(()=>{e.current=i}),ge.useCallback(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function fT(){const i=ge.useRef(null),e=ge.useCallback((r,a)=>{i.current=setInterval(r,a)},[]),t=ge.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[e,t]}function Uf(i,e){e===void 0&&(e=[i]);const t=ge.useRef(i);return Qa(()=>{t.current!==i&&(t.current=i)},e),t}function ad(i,e){const t=ge.useRef();return ge.useMemo(()=>{const r=i(t.current);return t.current=r,r},[...e])}function Gp(i){const e=w1(i),t=ge.useRef(null),r=ge.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,r]}function Yp(i){const e=ge.useRef();return ge.useEffect(()=>{e.current=i},[i]),e.current}let Xm={};function od(i,e){return ge.useMemo(()=>{if(e)return e;const t=Xm[i]==null?0:Xm[i]+1;return Xm[i]=t,i+"-"+t},[i,e])}function r_(i){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.reduce((o,h)=>{const c=Object.entries(h);for(const[f,d]of c){const m=o[f];m!=null&&(o[f]=m+i*d)}return o},{...e})}}const vh=r_(1),Vf=r_(-1);function dT(i){return"clientX"in i&&"clientY"in i}function S1(i){if(!i)return!1;const{KeyboardEvent:e}=es(i.target);return e&&i instanceof e}function pT(i){if(!i)return!1;const{TouchEvent:e}=es(i.target);return e&&i instanceof e}function Wp(i){if(pT(i)){if(i.touches&&i.touches.length){const{clientX:e,clientY:t}=i.touches[0];return{x:e,y:t}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:e,clientY:t}=i.changedTouches[0];return{x:e,y:t}}}return dT(i)?{x:i.clientX,y:i.clientY}:null}const fc=Object.freeze({Translate:{toString(i){if(!i)return;const{x:e,y:t}=i;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:e,scaleY:t}=i;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(i){if(i)return[fc.Translate.toString(i),fc.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:e,duration:t,easing:r}=i;return e+" "+t+"ms "+r}}}),iy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function mT(i){return i.matches(iy)?i:i.querySelector(iy)}const gT={display:"none"};function vT(i){let{id:e,value:t}=i;return vn.createElement("div",{id:e,style:gT},t)}function yT(i){let{id:e,announcement:t,ariaLiveType:r="assertive"}=i;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return vn.createElement("div",{id:e,style:a,role:"status","aria-live":r,"aria-atomic":!0},t)}function bT(){const[i,e]=ge.useState("");return{announce:ge.useCallback(r=>{r!=null&&e(r)},[]),announcement:i}}const s_=ge.createContext(null);function a_(i){const e=ge.useContext(s_);ge.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(i)},[i,e])}function xT(){const[i]=ge.useState(()=>new Set),e=ge.useCallback(r=>(i.add(r),()=>i.delete(r)),[i]);return[ge.useCallback(r=>{let{type:a,event:o}=r;i.forEach(h=>{var c;return(c=h[a])==null?void 0:c.call(h,o)})},[i]),e]}const _T={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},wT={onDragStart(i){let{active:e}=i;return"Picked up draggable item "+e.id+"."},onDragOver(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(i){let{active:e}=i;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function ST(i){let{announcements:e=wT,container:t,hiddenTextDescribedById:r,screenReaderInstructions:a=_T}=i;const{announce:o,announcement:h}=bT(),c=od("DndLiveRegion"),[f,d]=ge.useState(!1);if(ge.useEffect(()=>{d(!0)},[]),a_(ge.useMemo(()=>({onDragStart(x){let{active:w}=x;o(e.onDragStart({active:w}))},onDragMove(x){let{active:w,over:y}=x;e.onDragMove&&o(e.onDragMove({active:w,over:y}))},onDragOver(x){let{active:w,over:y}=x;o(e.onDragOver({active:w,over:y}))},onDragEnd(x){let{active:w,over:y}=x;o(e.onDragEnd({active:w,over:y}))},onDragCancel(x){let{active:w,over:y}=x;o(e.onDragCancel({active:w,over:y}))}}),[o,e])),!f)return null;const m=vn.createElement(vn.Fragment,null,vn.createElement(vT,{id:r,value:a.draggable}),vn.createElement(yT,{id:c,announcement:h}));return t?Cf.createPortal(m,t):m}var or;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(or||(or={}));function Xp(){}function ry(i,e){return ge.useMemo(()=>({sensor:i,options:e??{}}),[i,e])}function AT(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return ge.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const $a=Object.freeze({x:0,y:0});function o_(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function NT(i,e){const t=Wp(i);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function l_(i,e){let{data:{value:t}}=i,{data:{value:r}}=e;return t-r}function CT(i,e){let{data:{value:t}}=i,{data:{value:r}}=e;return r-t}function sy(i){let{left:e,top:t,height:r,width:a}=i;return[{x:e,y:t},{x:e+a,y:t},{x:e,y:t+r},{x:e+a,y:t+r}]}function c_(i,e){if(!i||i.length===0)return null;const[t]=i;return t[e]}function ay(i,e,t){return e===void 0&&(e=i.left),t===void 0&&(t=i.top),{x:e+i.width*.5,y:t+i.height*.5}}const TT=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=i;const a=ay(e,e.left,e.top),o=[];for(const h of r){const{id:c}=h,f=t.get(c);if(f){const d=o_(ay(f),a);o.push({id:c,data:{droppableContainer:h,value:d}})}}return o.sort(l_)},ET=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=i;const a=sy(e),o=[];for(const h of r){const{id:c}=h,f=t.get(c);if(f){const d=sy(f),m=a.reduce((w,y,N)=>w+o_(d[N],y),0),x=Number((m/4).toFixed(4));o.push({id:c,data:{droppableContainer:h,value:x}})}}return o.sort(l_)};function kT(i,e){const t=Math.max(e.top,i.top),r=Math.max(e.left,i.left),a=Math.min(e.left+e.width,i.left+i.width),o=Math.min(e.top+e.height,i.top+i.height),h=a-r,c=o-t;if(r<a&&t<o){const f=e.width*e.height,d=i.width*i.height,m=h*c,x=m/(f+d-m);return Number(x.toFixed(4))}return 0}const OT=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=i;const a=[];for(const o of r){const{id:h}=o,c=t.get(h);if(c){const f=kT(c,e);f>0&&a.push({id:h,data:{droppableContainer:o,value:f}})}}return a.sort(CT)};function MT(i,e,t){return{...i,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function u_(i,e){return i&&e?{x:i.left-e.left,y:i.top-e.top}:$a}function LT(i){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return a.reduce((h,c)=>({...h,top:h.top+i*c.y,bottom:h.bottom+i*c.y,left:h.left+i*c.x,right:h.right+i*c.x}),{...t})}}const DT=LT(1);function h_(i){if(i.startsWith("matrix3d(")){const e=i.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(i.startsWith("matrix(")){const e=i.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function jT(i,e,t){const r=h_(e);if(!r)return i;const{scaleX:a,scaleY:o,x:h,y:c}=r,f=i.left-h-(1-a)*parseFloat(t),d=i.top-c-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),m=a?i.width/a:i.width,x=o?i.height/o:i.height;return{width:m,height:x,top:d,right:f+m,bottom:d+x,left:f}}const RT={ignoreTransform:!1};function Rh(i,e){e===void 0&&(e=RT);let t=i.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:m}=es(i).getComputedStyle(i);d&&(t=jT(t,d,m))}const{top:r,left:a,width:o,height:h,bottom:c,right:f}=t;return{top:r,left:a,width:o,height:h,bottom:c,right:f}}function oy(i){return Rh(i,{ignoreTransform:!0})}function IT(i){const e=i.innerWidth,t=i.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function BT(i,e){return e===void 0&&(e=es(i).getComputedStyle(i)),e.position==="fixed"}function qT(i,e){e===void 0&&(e=es(i).getComputedStyle(i));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?t.test(o):!1})}function A1(i,e){const t=[];function r(a){if(e!=null&&t.length>=e||!a)return t;if(Ug(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!sd(a)||i_(a)||t.includes(a))return t;const o=es(i).getComputedStyle(a);return a!==i&&qT(a,o)&&t.push(a),BT(a,o)?t:r(a.parentNode)}return i?r(i):t}function f_(i){const[e]=A1(i,1);return e??null}function Zm(i){return!_1||!i?null:Dh(i)?i:Pg(i)?Ug(i)||i===jh(i).scrollingElement?window:sd(i)?i:null:null}function d_(i){return Dh(i)?i.scrollX:i.scrollLeft}function p_(i){return Dh(i)?i.scrollY:i.scrollTop}function R0(i){return{x:d_(i),y:p_(i)}}var gr;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(gr||(gr={}));function m_(i){return!_1||!i?!1:i===document.scrollingElement}function g_(i){const e={x:0,y:0},t=m_(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},r={x:i.scrollWidth-t.width,y:i.scrollHeight-t.height},a=i.scrollTop<=e.y,o=i.scrollLeft<=e.x,h=i.scrollTop>=r.y,c=i.scrollLeft>=r.x;return{isTop:a,isLeft:o,isBottom:h,isRight:c,maxScroll:r,minScroll:e}}const zT={x:.2,y:.2};function FT(i,e,t,r,a){let{top:o,left:h,right:c,bottom:f}=t;r===void 0&&(r=10),a===void 0&&(a=zT);const{isTop:d,isBottom:m,isLeft:x,isRight:w}=g_(i),y={x:0,y:0},N={x:0,y:0},A={height:e.height*a.y,width:e.width*a.x};return!d&&o<=e.top+A.height?(y.y=gr.Backward,N.y=r*Math.abs((e.top+A.height-o)/A.height)):!m&&f>=e.bottom-A.height&&(y.y=gr.Forward,N.y=r*Math.abs((e.bottom-A.height-f)/A.height)),!w&&c>=e.right-A.width?(y.x=gr.Forward,N.x=r*Math.abs((e.right-A.width-c)/A.width)):!x&&h<=e.left+A.width&&(y.x=gr.Backward,N.x=r*Math.abs((e.left+A.width-h)/A.width)),{direction:y,speed:N}}function PT(i){if(i===document.scrollingElement){const{innerWidth:o,innerHeight:h}=window;return{top:0,left:0,right:o,bottom:h,width:o,height:h}}const{top:e,left:t,right:r,bottom:a}=i.getBoundingClientRect();return{top:e,left:t,right:r,bottom:a,width:i.clientWidth,height:i.clientHeight}}function v_(i){return i.reduce((e,t)=>vh(e,R0(t)),$a)}function UT(i){return i.reduce((e,t)=>e+d_(t),0)}function VT(i){return i.reduce((e,t)=>e+p_(t),0)}function y_(i,e){if(e===void 0&&(e=Rh),!i)return;const{top:t,left:r,bottom:a,right:o}=e(i);f_(i)&&(a<=0||o<=0||t>=window.innerHeight||r>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const HT=[["x",["left","right"],UT],["y",["top","bottom"],VT]];class Vg{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=A1(t),a=v_(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,h,c]of HT)for(const f of h)Object.defineProperty(this,f,{get:()=>{const d=c(r),m=a[o]-d;return this.rect[f]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Of{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var a;(a=this.target)==null||a.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function GT(i){const{EventTarget:e}=es(i);return i instanceof e?i:jh(i)}function Km(i,e){const t=Math.abs(i.x),r=Math.abs(i.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var ua;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(ua||(ua={}));function ly(i){i.preventDefault()}function YT(i){i.stopPropagation()}var dn;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(dn||(dn={}));const b_={start:[dn.Space,dn.Enter],cancel:[dn.Esc],end:[dn.Space,dn.Enter,dn.Tab]},WT=(i,e)=>{let{currentCoordinates:t}=e;switch(i.code){case dn.Right:return{...t,x:t.x+25};case dn.Left:return{...t,x:t.x-25};case dn.Down:return{...t,y:t.y+25};case dn.Up:return{...t,y:t.y-25}}};class Hg{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Of(jh(t)),this.windowListeners=new Of(es(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ua.Resize,this.handleCancel),this.windowListeners.add(ua.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ua.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&y_(r),t($a)}handleKeyDown(e){if(S1(e)){const{active:t,context:r,options:a}=this.props,{keyboardCodes:o=b_,coordinateGetter:h=WT,scrollBehavior:c="smooth"}=a,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:d}=r.current,m=d?{x:d.left,y:d.top}:$a;this.referenceCoordinates||(this.referenceCoordinates=m);const x=h(e,{active:t,context:r.current,currentCoordinates:m});if(x){const w=Vf(x,m),y={x:0,y:0},{scrollableAncestors:N}=r.current;for(const A of N){const k=e.code,{isTop:C,isRight:P,isLeft:F,isBottom:z,maxScroll:q,minScroll:J}=g_(A),Y=PT(A),D={x:Math.min(k===dn.Right?Y.right-Y.width/2:Y.right,Math.max(k===dn.Right?Y.left:Y.left+Y.width/2,x.x)),y:Math.min(k===dn.Down?Y.bottom-Y.height/2:Y.bottom,Math.max(k===dn.Down?Y.top:Y.top+Y.height/2,x.y))},R=k===dn.Right&&!P||k===dn.Left&&!F,Z=k===dn.Down&&!z||k===dn.Up&&!C;if(R&&D.x!==x.x){const E=A.scrollLeft+w.x,j=k===dn.Right&&E<=q.x||k===dn.Left&&E>=J.x;if(j&&!w.y){A.scrollTo({left:E,behavior:c});return}j?y.x=A.scrollLeft-E:y.x=k===dn.Right?A.scrollLeft-q.x:A.scrollLeft-J.x,y.x&&A.scrollBy({left:-y.x,behavior:c});break}else if(Z&&D.y!==x.y){const E=A.scrollTop+w.y,j=k===dn.Down&&E<=q.y||k===dn.Up&&E>=J.y;if(j&&!w.x){A.scrollTo({top:E,behavior:c});return}j?y.y=A.scrollTop-E:y.y=k===dn.Down?A.scrollTop-q.y:A.scrollTop-J.y,y.y&&A.scrollBy({top:-y.y,behavior:c});break}}this.handleMove(e,vh(Vf(x,this.referenceCoordinates),y))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Hg.activators=[{eventName:"onKeyDown",handler:(i,e,t)=>{let{keyboardCodes:r=b_,onActivation:a}=e,{active:o}=t;const{code:h}=i.nativeEvent;if(r.start.includes(h)){const c=o.activatorNode.current;return c&&i.target!==c?!1:(i.preventDefault(),a?.({event:i.nativeEvent}),!0)}return!1}}];function cy(i){return!!(i&&"distance"in i)}function uy(i){return!!(i&&"delay"in i)}class Gg{constructor(e,t,r){var a;r===void 0&&(r=GT(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:h}=o;this.props=e,this.events=t,this.document=jh(h),this.documentListeners=new Of(this.document),this.listeners=new Of(r),this.windowListeners=new Of(es(h)),this.initialCoordinates=(a=Wp(o))!=null?a:$a,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ua.Resize,this.handleCancel),this.windowListeners.add(ua.DragStart,ly),this.windowListeners.add(ua.VisibilityChange,this.handleCancel),this.windowListeners.add(ua.ContextMenu,ly),this.documentListeners.add(ua.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(uy(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(cy(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ua.Click,YT,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ua.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:a,props:o}=this,{onMove:h,options:{activationConstraint:c}}=o;if(!a)return;const f=(t=Wp(e))!=null?t:$a,d=Vf(a,f);if(!r&&c){if(cy(c)){if(c.tolerance!=null&&Km(d,c.tolerance))return this.handleCancel();if(Km(d,c.distance))return this.handleStart()}if(uy(c)&&Km(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),h(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===dn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const XT={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Yg extends Gg{constructor(e){const{event:t}=e,r=jh(t.target);super(e,XT,r)}}Yg.activators=[{eventName:"onPointerDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r?.({event:t}),!0)}}];const ZT={move:{name:"mousemove"},end:{name:"mouseup"}};var I0;(function(i){i[i.RightClick=2]="RightClick"})(I0||(I0={}));class KT extends Gg{constructor(e){super(e,ZT,jh(e.event.target))}}KT.activators=[{eventName:"onMouseDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:r}=e;return t.button===I0.RightClick?!1:(r?.({event:t}),!0)}}];const Qm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class QT extends Gg{constructor(e){super(e,Qm)}static setup(){return window.addEventListener(Qm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Qm.move.name,e)};function e(){}}}QT.activators=[{eventName:"onTouchStart",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:r}=e;const{touches:a}=t;return a.length>1?!1:(r?.({event:t}),!0)}}];var Mf;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(Mf||(Mf={}));var Zp;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(Zp||(Zp={}));function $T(i){let{acceleration:e,activator:t=Mf.Pointer,canScroll:r,draggingRect:a,enabled:o,interval:h=5,order:c=Zp.TreeOrder,pointerCoordinates:f,scrollableAncestors:d,scrollableAncestorRects:m,delta:x,threshold:w}=i;const y=e7({delta:x,disabled:!o}),[N,A]=fT(),k=ge.useRef({x:0,y:0}),C=ge.useRef({x:0,y:0}),P=ge.useMemo(()=>{switch(t){case Mf.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Mf.DraggableRect:return a}},[t,a,f]),F=ge.useRef(null),z=ge.useCallback(()=>{const J=F.current;if(!J)return;const Y=k.current.x*C.current.x,D=k.current.y*C.current.y;J.scrollBy(Y,D)},[]),q=ge.useMemo(()=>c===Zp.TreeOrder?[...d].reverse():d,[c,d]);ge.useEffect(()=>{if(!o||!d.length||!P){A();return}for(const J of q){if(r?.(J)===!1)continue;const Y=d.indexOf(J),D=m[Y];if(!D)continue;const{direction:R,speed:Z}=FT(J,D,P,e,w);for(const E of["x","y"])y[E][R[E]]||(Z[E]=0,R[E]=0);if(Z.x>0||Z.y>0){A(),F.current=J,N(z,h),k.current=Z,C.current=R;return}}k.current={x:0,y:0},C.current={x:0,y:0},A()},[e,z,r,A,o,h,JSON.stringify(P),JSON.stringify(y),N,d,q,m,JSON.stringify(w)])}const JT={x:{[gr.Backward]:!1,[gr.Forward]:!1},y:{[gr.Backward]:!1,[gr.Forward]:!1}};function e7(i){let{delta:e,disabled:t}=i;const r=Yp(e);return ad(a=>{if(t||!r||!a)return JT;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[gr.Backward]:a.x[gr.Backward]||o.x===-1,[gr.Forward]:a.x[gr.Forward]||o.x===1},y:{[gr.Backward]:a.y[gr.Backward]||o.y===-1,[gr.Forward]:a.y[gr.Forward]||o.y===1}}},[t,e,r])}function t7(i,e){const t=e!=null?i.get(e):void 0,r=t?t.node.current:null;return ad(a=>{var o;return e==null?null:(o=r??a)!=null?o:null},[r,e])}function n7(i,e){return ge.useMemo(()=>i.reduce((t,r)=>{const{sensor:a}=r,o=a.activators.map(h=>({eventName:h.eventName,handler:e(h.handler,r)}));return[...t,...o]},[]),[i,e])}var Hf;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Hf||(Hf={}));var B0;(function(i){i.Optimized="optimized"})(B0||(B0={}));const hy=new Map;function i7(i,e){let{dragging:t,dependencies:r,config:a}=e;const[o,h]=ge.useState(null),{frequency:c,measure:f,strategy:d}=a,m=ge.useRef(i),x=k(),w=Uf(x),y=ge.useCallback(function(C){C===void 0&&(C=[]),!w.current&&h(P=>P===null?C:P.concat(C.filter(F=>!P.includes(F))))},[w]),N=ge.useRef(null),A=ad(C=>{if(x&&!t)return hy;if(!C||C===hy||m.current!==i||o!=null){const P=new Map;for(let F of i){if(!F)continue;if(o&&o.length>0&&!o.includes(F.id)&&F.rect.current){P.set(F.id,F.rect.current);continue}const z=F.node.current,q=z?new Vg(f(z),z):null;F.rect.current=q,q&&P.set(F.id,q)}return P}return C},[i,o,t,x,f]);return ge.useEffect(()=>{m.current=i},[i]),ge.useEffect(()=>{x||y()},[t,x]),ge.useEffect(()=>{o&&o.length>0&&h(null)},[JSON.stringify(o)]),ge.useEffect(()=>{x||typeof c!="number"||N.current!==null||(N.current=setTimeout(()=>{y(),N.current=null},c))},[c,x,y,...r]),{droppableRects:A,measureDroppableContainers:y,measuringScheduled:o!=null};function k(){switch(d){case Hf.Always:return!1;case Hf.BeforeDragging:return t;default:return!t}}}function Wg(i,e){return ad(t=>i?t||(typeof e=="function"?e(i):i):null,[e,i])}function r7(i,e){return Wg(i,e)}function s7(i){let{callback:e,disabled:t}=i;const r=w1(e),a=ge.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,t]);return ge.useEffect(()=>()=>a?.disconnect(),[a]),a}function N1(i){let{callback:e,disabled:t}=i;const r=w1(e),a=ge.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[t]);return ge.useEffect(()=>()=>a?.disconnect(),[a]),a}function a7(i){return new Vg(Rh(i),i)}function fy(i,e,t){e===void 0&&(e=a7);const[r,a]=ge.useState(null);function o(){a(f=>{if(!i)return null;if(i.isConnected===!1){var d;return(d=f??t)!=null?d:null}const m=e(i);return JSON.stringify(f)===JSON.stringify(m)?f:m})}const h=s7({callback(f){if(i)for(const d of f){const{type:m,target:x}=d;if(m==="childList"&&x instanceof HTMLElement&&x.contains(i)){o();break}}}}),c=N1({callback:o});return Qa(()=>{o(),i?(c?.observe(i),h?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),h?.disconnect())},[i]),r}function o7(i){const e=Wg(i);return u_(i,e)}const dy=[];function l7(i){const e=ge.useRef(i),t=ad(r=>i?r&&r!==dy&&i&&e.current&&i.parentNode===e.current.parentNode?r:A1(i):dy,[i]);return ge.useEffect(()=>{e.current=i},[i]),t}function c7(i){const[e,t]=ge.useState(null),r=ge.useRef(i),a=ge.useCallback(o=>{const h=Zm(o.target);h&&t(c=>c?(c.set(h,R0(h)),new Map(c)):null)},[]);return ge.useEffect(()=>{const o=r.current;if(i!==o){h(o);const c=i.map(f=>{const d=Zm(f);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,R0(d)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),r.current=i}return()=>{h(i),h(o)};function h(c){c.forEach(f=>{const d=Zm(f);d?.removeEventListener("scroll",a)})}},[a,i]),ge.useMemo(()=>i.length?e?Array.from(e.values()).reduce((o,h)=>vh(o,h),$a):v_(i):$a,[i,e])}function py(i,e){e===void 0&&(e=[]);const t=ge.useRef(null);return ge.useEffect(()=>{t.current=null},e),ge.useEffect(()=>{const r=i!==$a;r&&!t.current&&(t.current=i),!r&&t.current&&(t.current=null)},[i]),t.current?Vf(i,t.current):$a}function u7(i){ge.useEffect(()=>{if(!_1)return;const e=i.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t?.()}},i.map(e=>{let{sensor:t}=e;return t}))}function h7(i,e){return ge.useMemo(()=>i.reduce((t,r)=>{let{eventName:a,handler:o}=r;return t[a]=h=>{o(h,e)},t},{}),[i,e])}function x_(i){return ge.useMemo(()=>i?IT(i):null,[i])}const my=[];function f7(i,e){e===void 0&&(e=Rh);const[t]=i,r=x_(t?es(t):null),[a,o]=ge.useState(my);function h(){o(()=>i.length?i.map(f=>m_(f)?r:new Vg(e(f),f)):my)}const c=N1({callback:h});return Qa(()=>{c?.disconnect(),h(),i.forEach(f=>c?.observe(f))},[i]),a}function __(i){if(!i)return null;if(i.children.length>1)return i;const e=i.children[0];return sd(e)?e:i}function d7(i){let{measure:e}=i;const[t,r]=ge.useState(null),a=ge.useCallback(d=>{for(const{target:m}of d)if(sd(m)){r(x=>{const w=e(m);return x?{...x,width:w.width,height:w.height}:w});break}},[e]),o=N1({callback:a}),h=ge.useCallback(d=>{const m=__(d);o?.disconnect(),m&&o?.observe(m),r(m?e(m):null)},[e,o]),[c,f]=Gp(h);return ge.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const p7=[{sensor:Yg,options:{}},{sensor:Hg,options:{}}],m7={current:{}},wp={draggable:{measure:oy},droppable:{measure:oy,strategy:Hf.WhileDragging,frequency:B0.Optimized},dragOverlay:{measure:Rh}};class Lf extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const g7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Lf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Xp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:wp,measureDroppableContainers:Xp,windowRect:null,measuringScheduled:!1},w_={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Xp,draggableNodes:new Map,over:null,measureDroppableContainers:Xp},ld=ge.createContext(w_),S_=ge.createContext(g7);function v7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Lf}}}function y7(i,e){switch(e.type){case or.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case or.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:e.coordinates.x-i.draggable.initialCoordinates.x,y:e.coordinates.y-i.draggable.initialCoordinates.y}}};case or.DragEnd:case or.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case or.RegisterDroppable:{const{element:t}=e,{id:r}=t,a=new Lf(i.droppable.containers);return a.set(r,t),{...i,droppable:{...i.droppable,containers:a}}}case or.SetDroppableDisabled:{const{id:t,key:r,disabled:a}=e,o=i.droppable.containers.get(t);if(!o||r!==o.key)return i;const h=new Lf(i.droppable.containers);return h.set(t,{...o,disabled:a}),{...i,droppable:{...i.droppable,containers:h}}}case or.UnregisterDroppable:{const{id:t,key:r}=e,a=i.droppable.containers.get(t);if(!a||r!==a.key)return i;const o=new Lf(i.droppable.containers);return o.delete(t),{...i,droppable:{...i.droppable,containers:o}}}default:return i}}function b7(i){let{disabled:e}=i;const{active:t,activatorEvent:r,draggableNodes:a}=ge.useContext(ld),o=Yp(r),h=Yp(t?.id);return ge.useEffect(()=>{if(!e&&!r&&o&&h!=null){if(!S1(o)||document.activeElement===o.target)return;const c=a.get(h);if(!c)return;const{activatorNode:f,node:d}=c;if(!f.current&&!d.current)return;requestAnimationFrame(()=>{for(const m of[f.current,d.current]){if(!m)continue;const x=mT(m);if(x){x.focus();break}}})}},[r,e,a,h,o]),null}function A_(i,e){let{transform:t,...r}=e;return i!=null&&i.length?i.reduce((a,o)=>o({transform:a,...r}),t):t}function x7(i){return ge.useMemo(()=>({draggable:{...wp.draggable,...i?.draggable},droppable:{...wp.droppable,...i?.droppable},dragOverlay:{...wp.dragOverlay,...i?.dragOverlay}}),[i?.draggable,i?.droppable,i?.dragOverlay])}function _7(i){let{activeNode:e,measure:t,initialRect:r,config:a=!0}=i;const o=ge.useRef(!1),{x:h,y:c}=typeof a=="boolean"?{x:a,y:a}:a;Qa(()=>{if(!h&&!c||!e){o.current=!1;return}if(o.current||!r)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const m=t(d),x=u_(m,r);if(h||(x.x=0),c||(x.y=0),o.current=!0,Math.abs(x.x)>0||Math.abs(x.y)>0){const w=f_(d);w&&w.scrollBy({top:x.y,left:x.x})}},[e,h,c,r,t])}const C1=ge.createContext({...$a,scaleX:1,scaleY:1});var rc;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(rc||(rc={}));const w7=ge.memo(function(e){var t,r,a,o;let{id:h,accessibility:c,autoScroll:f=!0,children:d,sensors:m=p7,collisionDetection:x=OT,measuring:w,modifiers:y,...N}=e;const A=ge.useReducer(y7,void 0,v7),[k,C]=A,[P,F]=xT(),[z,q]=ge.useState(rc.Uninitialized),J=z===rc.Initialized,{draggable:{active:Y,nodes:D,translate:R},droppable:{containers:Z}}=k,E=Y!=null?D.get(Y):null,j=ge.useRef({initial:null,translated:null}),U=ge.useMemo(()=>{var et;return Y!=null?{id:Y,data:(et=E?.data)!=null?et:m7,rect:j}:null},[Y,E]),$=ge.useRef(null),[ue,Q]=ge.useState(null),[re,ce]=ge.useState(null),de=Uf(N,Object.values(N)),Ne=od("DndDescribedBy",h),X=ge.useMemo(()=>Z.getEnabled(),[Z]),T=x7(w),{droppableRects:H,measureDroppableContainers:ee,measuringScheduled:ie}=i7(X,{dragging:J,dependencies:[R.x,R.y],config:T.droppable}),oe=t7(D,Y),pe=ge.useMemo(()=>re?Wp(re):null,[re]),fe=Et(),me=r7(oe,T.draggable.measure);_7({activeNode:Y!=null?D.get(Y):null,config:fe.layoutShiftCompensation,initialRect:me,measure:T.draggable.measure});const _e=fy(oe,T.draggable.measure,me),Re=fy(oe?oe.parentElement:null),Xe=ge.useRef({activatorEvent:null,active:null,activeNode:oe,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),He=Z.getNodeFor((t=Xe.current.over)==null?void 0:t.id),Qe=d7({measure:T.dragOverlay.measure}),V=(r=Qe.nodeRef.current)!=null?r:oe,De=J?(a=Qe.rect)!=null?a:_e:null,ut=!!(Qe.nodeRef.current&&Qe.rect),nt=o7(ut?null:_e),Le=x_(V?es(V):null),tt=l7(J?He??oe:null),it=f7(tt),lt=A_(y,{transform:{x:R.x-nt.x,y:R.y-nt.y,scaleX:1,scaleY:1},activatorEvent:re,active:U,activeNodeRect:_e,containerNodeRect:Re,draggingNodeRect:De,over:Xe.current.over,overlayNodeRect:Qe.rect,scrollableAncestors:tt,scrollableAncestorRects:it,windowRect:Le}),pt=pe?vh(pe,R):null,kt=c7(tt),Ge=py(kt),Ke=py(kt,[_e]),ct=vh(lt,Ge),gt=De?DT(De,lt):null,at=U&&gt?x({active:U,collisionRect:gt,droppableRects:H,droppableContainers:X,pointerCoordinates:pt}):null,Ct=c_(at,"id"),[ot,Zt]=ge.useState(null),Dt=ut?lt:vh(lt,Ke),wt=MT(Dt,(o=ot?.rect)!=null?o:null,_e),St=ge.useRef(null),Ft=ge.useCallback((et,Je)=>{let{sensor:vt,options:Nn}=Je;if($.current==null)return;const $t=D.get($.current);if(!$t)return;const cn=et.nativeEvent,Cn=new vt({active:$.current,activeNode:$t,event:cn,options:Nn,context:Xe,onAbort(sn){if(!D.get(sn))return;const{onDragAbort:Tn}=de.current,Ln={id:sn};Tn?.(Ln),P({type:"onDragAbort",event:Ln})},onPending(sn,jn,Tn,Ln){if(!D.get(sn))return;const{onDragPending:En}=de.current,Dn={id:sn,constraint:jn,initialCoordinates:Tn,offset:Ln};En?.(Dn),P({type:"onDragPending",event:Dn})},onStart(sn){const jn=$.current;if(jn==null)return;const Tn=D.get(jn);if(!Tn)return;const{onDragStart:Ln}=de.current,Jt={activatorEvent:cn,active:{id:jn,data:Tn.data,rect:j}};Cf.unstable_batchedUpdates(()=>{Ln?.(Jt),q(rc.Initializing),C({type:or.DragStart,initialCoordinates:sn,active:jn}),P({type:"onDragStart",event:Jt}),Q(St.current),ce(cn)})},onMove(sn){C({type:or.DragMove,coordinates:sn})},onEnd:ht(or.DragEnd),onCancel:ht(or.DragCancel)});St.current=Cn;function ht(sn){return async function(){const{active:Tn,collisions:Ln,over:Jt,scrollAdjustedTranslate:En}=Xe.current;let Dn=null;if(Tn&&En){const{cancelDrop:Qi}=de.current;Dn={activatorEvent:cn,active:Tn,collisions:Ln,delta:En,over:Jt},sn===or.DragEnd&&typeof Qi=="function"&&await Promise.resolve(Qi(Dn))&&(sn=or.DragCancel)}$.current=null,Cf.unstable_batchedUpdates(()=>{C({type:sn}),q(rc.Uninitialized),Zt(null),Q(null),ce(null),St.current=null;const Qi=sn===or.DragEnd?"onDragEnd":"onDragCancel";if(Dn){const ui=de.current[Qi];ui?.(Dn),P({type:Qi,event:Dn})}})}}},[D]),we=ge.useCallback((et,Je)=>(vt,Nn)=>{const $t=vt.nativeEvent,cn=D.get(Nn);if($.current!==null||!cn||$t.dndKit||$t.defaultPrevented)return;const Cn={active:cn};et(vt,Je.options,Cn)===!0&&($t.dndKit={capturedBy:Je.sensor},$.current=Nn,Ft(vt,Je))},[D,Ft]),qe=n7(m,we);u7(m),Qa(()=>{_e&&z===rc.Initializing&&q(rc.Initialized)},[_e,z]),ge.useEffect(()=>{const{onDragMove:et}=de.current,{active:Je,activatorEvent:vt,collisions:Nn,over:$t}=Xe.current;if(!Je||!vt)return;const cn={active:Je,activatorEvent:vt,collisions:Nn,delta:{x:ct.x,y:ct.y},over:$t};Cf.unstable_batchedUpdates(()=>{et?.(cn),P({type:"onDragMove",event:cn})})},[ct.x,ct.y]),ge.useEffect(()=>{const{active:et,activatorEvent:Je,collisions:vt,droppableContainers:Nn,scrollAdjustedTranslate:$t}=Xe.current;if(!et||$.current==null||!Je||!$t)return;const{onDragOver:cn}=de.current,Cn=Nn.get(Ct),ht=Cn&&Cn.rect.current?{id:Cn.id,rect:Cn.rect.current,data:Cn.data,disabled:Cn.disabled}:null,sn={active:et,activatorEvent:Je,collisions:vt,delta:{x:$t.x,y:$t.y},over:ht};Cf.unstable_batchedUpdates(()=>{Zt(ht),cn?.(sn),P({type:"onDragOver",event:sn})})},[Ct]),Qa(()=>{Xe.current={activatorEvent:re,active:U,activeNode:oe,collisionRect:gt,collisions:at,droppableRects:H,draggableNodes:D,draggingNode:V,draggingNodeRect:De,droppableContainers:Z,over:ot,scrollableAncestors:tt,scrollAdjustedTranslate:ct},j.current={initial:De,translated:gt}},[U,oe,at,gt,D,V,De,H,Z,ot,tt,ct]),$T({...fe,delta:R,draggingRect:gt,pointerCoordinates:pt,scrollableAncestors:tt,scrollableAncestorRects:it});const ze=ge.useMemo(()=>({active:U,activeNode:oe,activeNodeRect:_e,activatorEvent:re,collisions:at,containerNodeRect:Re,dragOverlay:Qe,draggableNodes:D,droppableContainers:Z,droppableRects:H,over:ot,measureDroppableContainers:ee,scrollableAncestors:tt,scrollableAncestorRects:it,measuringConfiguration:T,measuringScheduled:ie,windowRect:Le}),[U,oe,_e,re,at,Re,Qe,D,Z,H,ot,ee,tt,it,T,ie,Le]),rt=ge.useMemo(()=>({activatorEvent:re,activators:qe,active:U,activeNodeRect:_e,ariaDescribedById:{draggable:Ne},dispatch:C,draggableNodes:D,over:ot,measureDroppableContainers:ee}),[re,qe,U,_e,C,Ne,D,ot,ee]);return vn.createElement(s_.Provider,{value:F},vn.createElement(ld.Provider,{value:rt},vn.createElement(S_.Provider,{value:ze},vn.createElement(C1.Provider,{value:wt},d)),vn.createElement(b7,{disabled:c?.restoreFocus===!1})),vn.createElement(ST,{...c,hiddenTextDescribedById:Ne}));function Et(){const et=ue?.autoScrollEnabled===!1,Je=typeof f=="object"?f.enabled===!1:f===!1,vt=J&&!et&&!Je;return typeof f=="object"?{...f,enabled:vt}:{enabled:vt}}}),S7=ge.createContext(null),gy="button",A7="Draggable";function N_(i){let{id:e,data:t,disabled:r=!1,attributes:a}=i;const o=od(A7),{activators:h,activatorEvent:c,active:f,activeNodeRect:d,ariaDescribedById:m,draggableNodes:x,over:w}=ge.useContext(ld),{role:y=gy,roleDescription:N="draggable",tabIndex:A=0}=a??{},k=f?.id===e,C=ge.useContext(k?C1:S7),[P,F]=Gp(),[z,q]=Gp(),J=h7(h,e),Y=Uf(t);Qa(()=>(x.set(e,{id:e,key:o,node:P,activatorNode:z,data:Y}),()=>{const R=x.get(e);R&&R.key===o&&x.delete(e)}),[x,e]);const D=ge.useMemo(()=>({role:y,tabIndex:A,"aria-disabled":r,"aria-pressed":k&&y===gy?!0:void 0,"aria-roledescription":N,"aria-describedby":m.draggable}),[r,y,A,k,N,m.draggable]);return{active:f,activatorEvent:c,activeNodeRect:d,attributes:D,isDragging:k,listeners:r?void 0:J,node:P,over:w,setNodeRef:F,setActivatorNodeRef:q,transform:C}}function C_(){return ge.useContext(S_)}const N7="Droppable",C7={timeout:25};function T_(i){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:a}=i;const o=od(N7),{active:h,dispatch:c,over:f,measureDroppableContainers:d}=ge.useContext(ld),m=ge.useRef({disabled:t}),x=ge.useRef(!1),w=ge.useRef(null),y=ge.useRef(null),{disabled:N,updateMeasurementsFor:A,timeout:k}={...C7,...a},C=Uf(A??r),P=ge.useCallback(()=>{if(!x.current){x.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{d(Array.isArray(C.current)?C.current:[C.current]),y.current=null},k)},[k]),F=N1({callback:P,disabled:N||!h}),z=ge.useCallback((D,R)=>{F&&(R&&(F.unobserve(R),x.current=!1),D&&F.observe(D))},[F]),[q,J]=Gp(z),Y=Uf(e);return ge.useEffect(()=>{!F||!q.current||(F.disconnect(),x.current=!1,F.observe(q.current))},[q,F]),ge.useEffect(()=>(c({type:or.RegisterDroppable,element:{id:r,key:o,disabled:t,node:q,rect:w,data:Y}}),()=>c({type:or.UnregisterDroppable,key:o,id:r})),[r]),ge.useEffect(()=>{t!==m.current.disabled&&(c({type:or.SetDroppableDisabled,id:r,key:o,disabled:t}),m.current.disabled=t)},[r,o,t,c]),{active:h,rect:w,isOver:f?.id===r,node:q,over:f,setNodeRef:J}}function T7(i){let{animation:e,children:t}=i;const[r,a]=ge.useState(null),[o,h]=ge.useState(null),c=Yp(t);return!t&&!r&&c&&a(c),Qa(()=>{if(!o)return;const f=r?.key,d=r?.props.id;if(f==null||d==null){a(null);return}Promise.resolve(e(d,o)).then(()=>{a(null)})},[e,r,o]),vn.createElement(vn.Fragment,null,t,r?ge.cloneElement(r,{ref:h}):null)}const E7={x:0,y:0,scaleX:1,scaleY:1};function k7(i){let{children:e}=i;return vn.createElement(ld.Provider,{value:w_},vn.createElement(C1.Provider,{value:E7},e))}const O7={position:"fixed",touchAction:"none"},M7=i=>S1(i)?"transform 250ms ease":void 0,L7=ge.forwardRef((i,e)=>{let{as:t,activatorEvent:r,adjustScale:a,children:o,className:h,rect:c,style:f,transform:d,transition:m=M7}=i;if(!c)return null;const x=a?d:{...d,scaleX:1,scaleY:1},w={...O7,width:c.width,height:c.height,top:c.top,left:c.left,transform:fc.Transform.toString(x),transformOrigin:a&&r?NT(r,c):void 0,transition:typeof m=="function"?m(r):m,...f};return vn.createElement(t,{className:h,style:w,ref:e},o)}),D7=i=>e=>{let{active:t,dragOverlay:r}=e;const a={},{styles:o,className:h}=i;if(o!=null&&o.active)for(const[c,f]of Object.entries(o.active))f!==void 0&&(a[c]=t.node.style.getPropertyValue(c),t.node.style.setProperty(c,f));if(o!=null&&o.dragOverlay)for(const[c,f]of Object.entries(o.dragOverlay))f!==void 0&&r.node.style.setProperty(c,f);return h!=null&&h.active&&t.node.classList.add(h.active),h!=null&&h.dragOverlay&&r.node.classList.add(h.dragOverlay),function(){for(const[f,d]of Object.entries(a))t.node.style.setProperty(f,d);h!=null&&h.active&&t.node.classList.remove(h.active)}},j7=i=>{let{transform:{initial:e,final:t}}=i;return[{transform:fc.Transform.toString(e)},{transform:fc.Transform.toString(t)}]},R7={duration:250,easing:"ease",keyframes:j7,sideEffects:D7({styles:{active:{opacity:"0"}}})};function I7(i){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:a}=i;return w1((o,h)=>{if(e===null)return;const c=t.get(o);if(!c)return;const f=c.node.current;if(!f)return;const d=__(h);if(!d)return;const{transform:m}=es(h).getComputedStyle(h),x=h_(m);if(!x)return;const w=typeof e=="function"?e:B7(e);return y_(f,a.draggable.measure),w({active:{id:o,data:c.data,node:f,rect:a.draggable.measure(f)},draggableNodes:t,dragOverlay:{node:h,rect:a.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:a,transform:x})})}function B7(i){const{duration:e,easing:t,sideEffects:r,keyframes:a}={...R7,...i};return o=>{let{active:h,dragOverlay:c,transform:f,...d}=o;if(!e)return;const m={x:c.rect.left-h.rect.left,y:c.rect.top-h.rect.top},x={scaleX:f.scaleX!==1?h.rect.width*f.scaleX/c.rect.width:1,scaleY:f.scaleY!==1?h.rect.height*f.scaleY/c.rect.height:1},w={x:f.x-m.x,y:f.y-m.y,...x},y=a({...d,active:h,dragOverlay:c,transform:{initial:f,final:w}}),[N]=y,A=y[y.length-1];if(JSON.stringify(N)===JSON.stringify(A))return;const k=r?.({active:h,dragOverlay:c,...d}),C=c.node.animate(y,{duration:e,easing:t,fill:"forwards"});return new Promise(P=>{C.onfinish=()=>{k?.(),P()}})}}let vy=0;function q7(i){return ge.useMemo(()=>{if(i!=null)return vy++,vy},[i])}const z7=vn.memo(i=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:a,transition:o,modifiers:h,wrapperElement:c="div",className:f,zIndex:d=999}=i;const{activatorEvent:m,active:x,activeNodeRect:w,containerNodeRect:y,draggableNodes:N,droppableContainers:A,dragOverlay:k,over:C,measuringConfiguration:P,scrollableAncestors:F,scrollableAncestorRects:z,windowRect:q}=C_(),J=ge.useContext(C1),Y=q7(x?.id),D=A_(h,{activatorEvent:m,active:x,activeNodeRect:w,containerNodeRect:y,draggingNodeRect:k.rect,over:C,overlayNodeRect:k.rect,scrollableAncestors:F,scrollableAncestorRects:z,transform:J,windowRect:q}),R=Wg(w),Z=I7({config:r,draggableNodes:N,droppableContainers:A,measuringConfiguration:P}),E=R?k.setRef:void 0;return vn.createElement(k7,null,vn.createElement(T7,{animation:Z},x&&Y?vn.createElement(L7,{key:Y,id:x.id,ref:E,as:c,activatorEvent:m,adjustScale:e,className:f,transition:o,rect:R,style:{zIndex:d,...a},transform:D},t):null))});function Xg(i,e,t){const r=i.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function F7(i,e){return i.reduce((t,r,a)=>{const o=e.get(r);return o&&(t[a]=o),t},Array(i.length))}function op(i){return i!==null&&i>=0}function P7(i,e){if(i===e)return!0;if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function U7(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const lp={scaleX:1,scaleY:1},V7=i=>{var e;let{rects:t,activeNodeRect:r,activeIndex:a,overIndex:o,index:h}=i;const c=(e=t[a])!=null?e:r;if(!c)return null;const f=H7(t,h,a);if(h===a){const d=t[o];return d?{x:a<o?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...lp}:null}return h>a&&h<=o?{x:-c.width-f,y:0,...lp}:h<a&&h>=o?{x:c.width+f,y:0,...lp}:{x:0,y:0,...lp}};function H7(i,e,t){const r=i[e],a=i[e-1],o=i[e+1];return!r||!a&&!o?0:t<e?a?r.left-(a.left+a.width):o.left-(r.left+r.width):o?o.left-(r.left+r.width):r.left-(a.left+a.width)}const E_=i=>{let{rects:e,activeIndex:t,overIndex:r,index:a}=i;const o=Xg(e,r,t),h=e[a],c=o[a];return!c||!h?null:{x:c.left-h.left,y:c.top-h.top,scaleX:c.width/h.width,scaleY:c.height/h.height}},k_="Sortable",O_=vn.createContext({activeIndex:-1,containerId:k_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:E_,disabled:{draggable:!1,droppable:!1}});function G7(i){let{children:e,id:t,items:r,strategy:a=E_,disabled:o=!1}=i;const{active:h,dragOverlay:c,droppableRects:f,over:d,measureDroppableContainers:m}=C_(),x=od(k_,t),w=c.rect!==null,y=ge.useMemo(()=>r.map(J=>typeof J=="object"&&"id"in J?J.id:J),[r]),N=h!=null,A=h?y.indexOf(h.id):-1,k=d?y.indexOf(d.id):-1,C=ge.useRef(y),P=!P7(y,C.current),F=k!==-1&&A===-1||P,z=U7(o);Qa(()=>{P&&N&&m(y)},[P,y,N,m]),ge.useEffect(()=>{C.current=y},[y]);const q=ge.useMemo(()=>({activeIndex:A,containerId:x,disabled:z,disableTransforms:F,items:y,overIndex:k,useDragOverlay:w,sortedRects:F7(y,f),strategy:a}),[A,x,z.draggable,z.droppable,F,y,k,f,w,a]);return vn.createElement(O_.Provider,{value:q},e)}const Y7=i=>{let{id:e,items:t,activeIndex:r,overIndex:a}=i;return Xg(t,r,a).indexOf(e)},W7=i=>{let{containerId:e,isSorting:t,wasDragging:r,index:a,items:o,newIndex:h,previousItems:c,previousContainerId:f,transition:d}=i;return!d||!r||c!==o&&a===h?!1:t?!0:h!==a&&e===f},X7={duration:200,easing:"ease"},M_="transform",Z7=fc.Transition.toString({property:M_,duration:0,easing:"linear"}),K7={roleDescription:"sortable"};function Q7(i){let{disabled:e,index:t,node:r,rect:a}=i;const[o,h]=ge.useState(null),c=ge.useRef(t);return Qa(()=>{if(!e&&t!==c.current&&r.current){const f=a.current;if(f){const d=Rh(r.current,{ignoreTransform:!0}),m={x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height};(m.x||m.y)&&h(m)}}t!==c.current&&(c.current=t)},[e,t,r,a]),ge.useEffect(()=>{o&&h(null)},[o]),o}function $7(i){let{animateLayoutChanges:e=W7,attributes:t,disabled:r,data:a,getNewIndex:o=Y7,id:h,strategy:c,resizeObserverConfig:f,transition:d=X7}=i;const{items:m,containerId:x,activeIndex:w,disabled:y,disableTransforms:N,sortedRects:A,overIndex:k,useDragOverlay:C,strategy:P}=ge.useContext(O_),F=J7(r,y),z=m.indexOf(h),q=ge.useMemo(()=>({sortable:{containerId:x,index:z,items:m},...a}),[x,a,z,m]),J=ge.useMemo(()=>m.slice(m.indexOf(h)),[m,h]),{rect:Y,node:D,isOver:R,setNodeRef:Z}=T_({id:h,data:q,disabled:F.droppable,resizeObserverConfig:{updateMeasurementsFor:J,...f}}),{active:E,activatorEvent:j,activeNodeRect:U,attributes:$,setNodeRef:ue,listeners:Q,isDragging:re,over:ce,setActivatorNodeRef:de,transform:Ne}=N_({id:h,data:q,attributes:{...K7,...t},disabled:F.draggable}),X=hT(Z,ue),T=!!E,H=T&&!N&&op(w)&&op(k),ee=!C&&re,ie=ee&&H?Ne:null,pe=H?ie??(c??P)({rects:A,activeNodeRect:U,activeIndex:w,overIndex:k,index:z}):null,fe=op(w)&&op(k)?o({id:h,items:m,activeIndex:w,overIndex:k}):z,me=E?.id,_e=ge.useRef({activeId:me,items:m,newIndex:fe,containerId:x}),Re=m!==_e.current.items,Xe=e({active:E,containerId:x,isDragging:re,isSorting:T,id:h,index:z,items:m,newIndex:_e.current.newIndex,previousItems:_e.current.items,previousContainerId:_e.current.containerId,transition:d,wasDragging:_e.current.activeId!=null}),He=Q7({disabled:!Xe,index:z,node:D,rect:Y});return ge.useEffect(()=>{T&&_e.current.newIndex!==fe&&(_e.current.newIndex=fe),x!==_e.current.containerId&&(_e.current.containerId=x),m!==_e.current.items&&(_e.current.items=m)},[T,fe,x,m]),ge.useEffect(()=>{if(me===_e.current.activeId)return;if(me!=null&&_e.current.activeId==null){_e.current.activeId=me;return}const V=setTimeout(()=>{_e.current.activeId=me},50);return()=>clearTimeout(V)},[me]),{active:E,activeIndex:w,attributes:$,data:q,rect:Y,index:z,newIndex:fe,items:m,isOver:R,isSorting:T,isDragging:re,listeners:Q,node:D,overIndex:k,over:ce,setNodeRef:X,setActivatorNodeRef:de,setDroppableNodeRef:Z,setDraggableNodeRef:ue,transform:He??pe,transition:Qe()};function Qe(){if(He||Re&&_e.current.newIndex===z)return Z7;if(!(ee&&!S1(j)||!d)&&(T||Xe))return fc.Transition.toString({...d,property:M_})}}function J7(i,e){var t,r;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(t=i?.draggable)!=null?t:e.draggable,droppable:(r=i?.droppable)!=null?r:e.droppable}}function Kp(i){if(!i)return!1;const e=i.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const eE=[dn.Down,dn.Right,dn.Up,dn.Left],tE=(i,e)=>{let{context:{active:t,collisionRect:r,droppableRects:a,droppableContainers:o,over:h,scrollableAncestors:c}}=e;if(eE.includes(i.code)){if(i.preventDefault(),!t||!r)return;const f=[];o.getEnabled().forEach(x=>{if(!x||x!=null&&x.disabled)return;const w=a.get(x.id);if(w)switch(i.code){case dn.Down:r.top<w.top&&f.push(x);break;case dn.Up:r.top>w.top&&f.push(x);break;case dn.Left:r.left>w.left&&f.push(x);break;case dn.Right:r.left<w.left&&f.push(x);break}});const d=ET({collisionRect:r,droppableRects:a,droppableContainers:f});let m=c_(d,"id");if(m===h?.id&&d.length>1&&(m=d[1].id),m!=null){const x=o.get(t.id),w=o.get(m),y=w?a.get(w.id):null,N=w?.node.current;if(N&&y&&x&&w){const k=A1(N).some((J,Y)=>c[Y]!==J),C=L_(x,w),P=nE(x,w),F=k||!C?{x:0,y:0}:{x:P?r.width-y.width:0,y:P?r.height-y.height:0},z={x:y.left,y:y.top};return F.x&&F.y?z:Vf(z,F)}}}};function L_(i,e){return!Kp(i)||!Kp(e)?!1:i.data.current.sortable.containerId===e.data.current.sortable.containerId}function nE(i,e){return!Kp(i)||!Kp(e)||!L_(i,e)?!1:i.data.current.sortable.index<e.data.current.sortable.index}const iE=({slot:i,sectionId:e,size:t=48,width:r})=>{const{selectedSlots:a,setSelectedSlot:o,toggleSlotSelection:h,selectRangeTo:c,setSelectedSlots:f}=fa(),d=Q0(),m=r??t,{isOver:x,setNodeRef:w}=T_({id:`slot-${i.id}`,data:{type:"slot",sectionId:e,slotId:i.id}}),{attributes:y,listeners:N,setNodeRef:A,transform:k,isDragging:C}=N_({id:`chord-${i.id}`,data:{type:"chord",chord:i.chord,originSlotId:i.id,originSectionId:e},disabled:!i.chord}),P=a.some(D=>D.slotId===i.id&&D.sectionId===e),F=k?{transform:`translate3d(${k.x}px, ${k.y}px, 0)`,zIndex:999}:void 0,z=D=>{if(D.button===0)if(D.stopPropagation(),D.shiftKey)c(e,i.id);else if(D.metaKey||D.ctrlKey)h(e,i.id);else if(P&&a.length>0){const R=[...a.filter(Z=>!(Z.sectionId===e&&Z.slotId===i.id)),{sectionId:e,slotId:i.id}];f(R)}else o(e,i.id)},J=(()=>{if(!i.chord)return;const D=i.chord.root;if(d[D])return d[D];const R=hl(D);for(const Z of Object.keys(d))if(hl(Z)===R)return d[Z];return"hsl(230, 60%, 50%)"})(),Y=Math.max(8,Math.min(12,t*.22));return L.jsxs("div",{ref:w,onMouseDown:z,onClick:D=>D.stopPropagation(),onDoubleClick:D=>D.stopPropagation(),style:{width:m,height:t},className:Fs("rounded border-2 flex items-center justify-center transition-all relative flex-shrink-0",x?"border-accent-primary bg-accent-glow scale-105":"border-border-medium bg-bg-elevated",P?"ring-2 ring-accent-primary ring-offset-1 ring-offset-bg-primary":"",!i.chord&&"hover:border-text-muted cursor-pointer"),children:[!i.chord&&L.jsx("span",{className:"text-text-muted font-light select-none",style:{fontSize:Y+4},children:"+"}),i.chord&&L.jsx("div",{ref:A,...N,...y,style:{...F,backgroundColor:J},className:Fs("w-full h-full rounded flex items-center justify-center font-bold shadow cursor-grab active:cursor-grabbing select-none overflow-hidden",C?"opacity-50":"opacity-100"),children:L.jsx("span",{style:{fontSize:Y,color:e4(J||"")},className:"truncate px-0.5 text-center font-bold",children:i.chord.symbol})})]})},rE=i=>{const[e,t]=i;return e*(4/t)},sE=({measure:i,sectionId:e,index:t,chordSize:r=48,timeSignature:a,scale:o=1})=>{const{setMeasureSubdivision:h}=fa(),c=Math.max(.1,Math.min(1.6,o)),f=rE(a),d=i.beats.length,m=r*.9,x=Math.max(8,m*c),y=f%3===0?[1,3,6]:[2,4,8],N=A=>{Number.isFinite(A)&&h(e,i.id,A)};return L.jsxs("div",{className:"flex flex-col border-r-2 border-border-medium last:border-r-0 px-1 min-w-[64px]",style:{minWidth:x*Math.max(1,f)+8},children:[L.jsx("div",{className:"text-[8px] text-text-muted mb-0.5 font-mono uppercase tracking-wider text-center",children:t+1}),L.jsx("div",{className:"flex gap-0.5",children:i.beats.map(A=>{const k=Math.max(x*(A.duration||1),x);return L.jsx(iE,{slot:A,sectionId:e,size:r,width:k},A.id)})}),L.jsxs("div",{className:"flex flex-col items-center justify-center gap-0.5 mt-1",children:[L.jsx("span",{className:"text-[8px] uppercase tracking-wider text-text-muted leading-tight",children:"Steps"}),L.jsxs("select",{value:d,onChange:A=>N(parseInt(A.target.value,10)),className:"bg-bg-tertiary text-text-primary text-[10px] rounded px-1 py-0.5 border border-border-subtle focus:outline-none",children:[y.map(A=>L.jsx("option",{value:A,className:"bg-bg-secondary text-text-primary",children:A},A)),!y.includes(d)&&L.jsx("option",{value:d,className:"bg-bg-secondary text-text-primary",children:d})]})]})]})},aE=({section:i,chordSize:e=48,scale:t=1})=>{const{removeSection:r,duplicateSection:a,updateSection:o,selectedSectionId:h,setSelectedSlot:c,setSectionMeasures:f,setSectionTimeSignature:d,currentSong:m,collapsedSections:x,toggleSectionCollapsed:w}=fa(),[y,N]=ge.useState(!1),[A,k]=ge.useState(i.name),C=ge.useRef(null);ge.useEffect(()=>{y&&C.current&&(C.current.focus(),C.current.select())},[y]);const P=T=>{T.stopPropagation(),k(i.name),N(!0)},F=()=>{const T=A.trim();T&&T!==i.name&&o(i.id,{name:T}),N(!1)},z=T=>{T.key==="Enter"?F():T.key==="Escape"&&(k(i.name),N(!1))},{attributes:q,listeners:J,setNodeRef:Y,transform:D,transition:R,isDragging:Z}=$7({id:i.id,data:{type:"section",sectionId:i.id}}),E={transform:fc.Transform.toString(D),transition:R},j=T=>{T.stopPropagation(),confirm(`Delete section "${i.name}"?`)&&r(i.id)},U=()=>{c(i.id,null)},$=(t??1)<=.2,ue=x[i.id]??!1,Q=i.timeSignature||m.timeSignature||[4,4],re=i.measures.length,ce=T=>{const H=Number.isFinite(T)?T:re;f(i.id,H)},de=T=>{const[H,ee]=T.split("/").map(oe=>parseInt(oe,10));!H||!ee||i.measures.some(oe=>oe.beats.some(pe=>!!pe.chord))&&!confirm("Changing the time signature will clear chords in this section. Continue?")||d(i.id,[H,ee])},Ne=`${Q[0]}/${Q[1]}`,X=[[4,4],[3,4],[2,4],[6,8]];return L.jsxs("div",{ref:Y,style:E,className:Fs("flex flex-col bg-bg-secondary rounded-lg overflow-hidden border-2 shadow-[0_0_0_2px_rgba(255,255,255,0.12)] transition-all h-full",h===i.id?"border-accent-primary shadow-[0_0_0_2px_rgba(99,102,241,0.35)]":"border-border-medium",Z?"opacity-50":"opacity-100"),onClick:U,children:[L.jsxs("div",{className:Fs("flex items-center justify-between bg-bg-elevated border-b border-border-subtle group",$?"px-1.5 py-1 gap-1.5":"flex-wrap gap-3 px-2 py-1.5"),children:[L.jsxs("div",{className:Fs("flex items-center min-w-0",$?"gap-1":"gap-1.5"),children:[L.jsx("div",{...q,...J,className:"cursor-grab active:cursor-grabbing text-text-muted hover:text-text-primary shrink-0",title:"Drag section",children:L.jsx(Kx,{size:$?10:12})}),!$&&L.jsx(L.Fragment,{children:y?L.jsx("input",{ref:C,type:"text",value:A,onChange:T=>k(T.target.value),onBlur:F,onKeyDown:z,onClick:T=>T.stopPropagation(),className:"font-medium text-xs text-text-primary bg-bg-tertiary border border-border-medium rounded px-1.5 py-0.5 w-24 focus:outline-none focus:border-accent-primary",maxLength:30}):L.jsx("span",{className:"font-medium text-xs text-text-primary cursor-pointer hover:text-accent-primary transition-colors truncate max-w-[120px]",onDoubleClick:P,title:"Double-click to rename",children:i.name})})]}),!$&&L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded px-1.5 py-0.5",onClick:T=>T.stopPropagation(),children:[L.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Bars"}),L.jsx("input",{type:"number",min:1,max:32,value:re,onChange:T=>ce(parseInt(T.target.value,10)),className:"w-12 bg-transparent text-text-primary text-xs focus:outline-none"})]}),L.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded px-1.5 py-0.5",onClick:T=>T.stopPropagation(),children:[L.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Meter"}),L.jsx("select",{value:Ne,onChange:T=>de(T.target.value),className:"bg-transparent text-text-primary text-xs focus:outline-none",children:X.map(([T,H])=>L.jsxs("option",{value:`${T}/${H}`,className:"bg-bg-secondary text-text-primary",children:[T,"/",H]},`${T}/${H}`))})]})]}),L.jsxs("div",{className:Fs("flex items-center gap-1",$?"":"opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-opacity"),children:[L.jsx("button",{onClick:T=>{T.stopPropagation(),w(i.id)},className:Fs("p-1 rounded text-text-muted hover:text-text-primary",$?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:ue?"Expand section":"Collapse section",children:ue?L.jsx(gh,{size:$?12:11}):L.jsx(qg,{size:$?12:11})}),L.jsx("button",{onClick:T=>{T.stopPropagation(),a(i.id)},className:Fs("p-1 rounded text-text-muted hover:text-text-primary",$?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:"Duplicate section",children:L.jsx(_C,{size:$?12:11})}),L.jsx("button",{onClick:j,className:Fs("p-1 rounded text-text-muted hover:text-red-400",$?"hover:bg-red-500/15":"hover:bg-red-500/10"),title:"Delete section",children:L.jsx(e_,{size:$?12:11})})]})]}),ue?L.jsxs("div",{className:"flex items-center justify-between px-2 py-2 border-t border-border-subtle bg-bg-secondary text-[10px] text-text-muted",children:[L.jsx("span",{className:"font-semibold text-text-secondary truncate pr-2",children:i.name}),L.jsxs("div",{className:"flex items-center gap-2 uppercase tracking-wider",children:[L.jsxs("span",{children:[re," bars"]}),L.jsx("span",{children:Ne})]})]}):L.jsx("div",{className:"flex p-1.5 gap-0 overflow-x-auto flex-1",children:i.measures.map((T,H)=>L.jsx(sE,{measure:T,sectionId:i.id,index:H,chordSize:e,timeSignature:Q,scale:t},T.id))})]})},oE=({onAltChange:i})=>(a_({onDragMove:e=>{const t=e.modifiers?.altKey??!1;i(!!t)},onDragEnd:()=>i(!1),onDragCancel:()=>i(!1)}),null),$m=({height:i=180,scale:e=1})=>{const{currentSong:t,addSection:r,reorderSections:a,addChordToSlot:o,moveChord:h,moveSelection:c}=fa(),f=Math.max(.1,Math.min(1.6,e)),d=i-40,m=Math.max(32,Math.min(64,d-24)),[x,w]=vn.useState(null),[y,N]=vn.useState(null),[A,k]=vn.useState(!1),C=AT(ry(Yg,{activationConstraint:{distance:8}}),ry(Hg,{coordinateGetter:tE})),P=z=>{const q=z.activatorEvent,J=!!(q&&"altKey"in q&&q.altKey);w(z.active.id),N({...z.active.data.current,copyMode:J}),k(J)},F=z=>{const{active:q,over:J}=z;if(w(null),N(null),k(!1),!!J){if(q.data.current?.type==="section"&&J.data.current?.type==="section"){if(q.id!==J.id){const Y=t.sections.findIndex(R=>R.id===q.id),D=t.sections.findIndex(R=>R.id===J.id);a(Xg(t.sections,Y,D))}return}if(q.data.current?.type==="chord"&&J.data.current?.type==="slot"){const Y=q.data.current.originSlotId,D=q.data.current.originSectionId,R=J.data.current.slotId,Z=J.data.current.sectionId,E=q.data.current.chord;if(Y&&D){if(Y===R&&D===Z||c({sectionId:D,slotId:Y},{sectionId:Z,slotId:R},y?.copyMode||A?"copy":"move"))return;const U=fa.getState(),$=U.currentSong.sections.find(ue=>ue.id===Z)?.measures.flatMap(ue=>ue.beats).find(ue=>ue.id===R)?.chord;h(D,Y,Z,R),$?(U.setSelectedSlot(D,Y),U.setSelectedChord($)):E&&(U.setSelectedSlot(Z,R),U.setSelectedChord(E))}else o(E,Z,R),fa.getState().setSelectedSlot(Z,R),fa.getState().setSelectedChord(E)}}};return vn.useEffect(()=>{const z=J=>{J.altKey&&k(!0)},q=J=>{J.altKey||k(!1)};return window.addEventListener("keydown",z),window.addEventListener("keyup",q),()=>{window.removeEventListener("keydown",z),window.removeEventListener("keyup",q)}},[]),L.jsx("div",{className:"w-full h-full flex flex-col",children:L.jsx("div",{className:"flex-1 overflow-x-auto px-3 py-1.5 overflow-y-hidden",ref:z=>{z&&z.addEventListener("wheel",q=>{q.deltaY!==0&&(q.preventDefault(),z.scrollLeft+=q.deltaY)},{passive:!1})},children:L.jsxs(w7,{sensors:C,collisionDetection:TT,onDragStart:P,onDragEnd:F,children:[L.jsx(oE,{onAltChange:k}),L.jsx(G7,{items:t.sections.map(z=>z.id),strategy:V7,children:L.jsxs("div",{className:"flex gap-3 min-w-max h-full items-stretch",children:[t.sections.map(z=>L.jsx(aE,{section:z,chordSize:m,scale:f},z.id)),L.jsxs("button",{onClick:()=>r("chorus"),className:"w-10 rounded-lg border-2 border-dashed border-border-medium hover:border-accent-primary hover:bg-bg-elevated transition-all flex flex-col items-center justify-center text-text-muted hover:text-accent-primary gap-0.5 self-stretch",children:[L.jsx(Qx,{size:12}),L.jsx("span",{className:"text-[6px] font-medium uppercase tracking-wider",children:"Add"})]})]})}),L.jsxs(z7,{children:[x&&y?.type==="section"?L.jsx("div",{className:"opacity-80 rotate-2 scale-105",children:L.jsx("div",{className:"bg-bg-elevated p-4 rounded-xl border border-accent-primary w-[400px] h-[200px] flex items-center justify-center shadow-2xl",children:L.jsx("span",{className:"font-bold text-xl",children:"Moving Section..."})})}):null,x&&y?.type==="chord"?L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"w-24 h-24 rounded-lg bg-accent-primary text-white flex items-center justify-center font-bold text-xl shadow-2xl rotate-6 scale-110 cursor-grabbing",children:y.chord.symbol}),(y?.copyMode||A)&&L.jsx("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white text-[11px] font-bold px-2 py-0.5 rounded-full shadow-md border border-white",children:"+"})]}):null]})]})})})},lE=({highlightedNotes:i,rootNote:e,color:t="#6366f1"})=>{const r=["C","D","E","F","G","A","B"],a=i.map(m=>hl(m)),o=e?hl(e):null,h=m=>{const x=hl(m);return a.includes(x)},c=m=>o?hl(m)===o:!1,f=()=>{const m=[];for(let w=3;w<=4;w++)r.forEach(y=>{const N=h(y),A=c(y);m.push(L.jsx("div",{className:Fs("h-full border border-gray-400 rounded-b-sm relative transition-colors duration-200",!N&&"bg-white hover:bg-gray-100"),style:{width:`${100/14}%`,backgroundColor:N?A?t:`${t}99`:void 0},children:A&&L.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 rounded-full bg-white shadow-sm"})},`white-${w}-${y}`))});return m},d=()=>{const m=[],x=[14.3,28.6,57.1,71.4,85.7];for(let w=0;w<2;w++){const y=w*50;["C#","D#","F#","G#","A#"].forEach((A,k)=>{const C=h(A),P=c(A),F=y+x[k]/2;m.push(L.jsx("div",{className:Fs("absolute top-0 h-[65%] w-[4%] -translate-x-1/2 rounded-b-sm z-10 border border-black/50 transition-colors duration-200",!C&&"bg-gray-900"),style:{left:`${F}%`,backgroundColor:C?t:void 0,boxShadow:C?`0 0 12px ${t}`:"inset 0 -2px 4px rgba(0,0,0,0.3)"},children:P&&L.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-1.5 h-1.5 rounded-full bg-white shadow-sm"})},`black-${w}-${A}`))})}return m};return L.jsxs("div",{className:"relative w-full h-16 bg-gray-700 rounded overflow-hidden select-none shadow-inner",children:[L.jsx("div",{className:"flex w-full h-full",children:f()}),d()]})},yy=()=>L.jsxs(L.Fragment,{children:[L.jsxs("section",{children:[L.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[L.jsx(gC,{size:12,className:"fill-accent-primary"}),"Quick Start"]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-3 text-sm text-gray-300",children:[L.jsx("p",{children:"The Chord Wheel puts chord theory into your hands. No music reading is necessary; simply rotate the transparent disk and analyze any chord progression instantly."}),L.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[L.jsx("li",{children:"Determine which chords belong to a given key"}),L.jsx("li",{children:"Transpose a chord progression to any key"}),L.jsx("li",{children:"Compose your own music"})]})]})]}),L.jsxs("section",{children:[L.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[L.jsx(DC,{size:12}),"Understanding the Rings"]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-bold text-white mb-2",children:"Inner Ring (Major)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Contains the 12 major chords arranged in the Circle of Fifths. Upper-case numerals (I, IV, V) denote major chords."})]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-bold text-white mb-2",children:"Middle Ring (Minor)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Contains 24 minor chords. Lower-case numerals (ii, iii, vi) denote minor chords in a key."})]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-bold text-white mb-2",children:"Outer Ring (Diminished)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"The vii chord for each key. The diminished chord has a harsh, dissonant quality due to the 5."})]})]})]}),L.jsxs("section",{children:[L.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[L.jsx(MC,{size:12}),"Roman Numerals"]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Roman numerals denote the harmonic progression. Upper-case = major, lower-case = minor."}),L.jsxs("div",{className:"grid grid-cols-7 gap-2 text-center text-sm",children:[L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"I"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Tonic"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"ii"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Super"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"iii"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Mediant"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"IV"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Subdom"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"V"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Dominant"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"vi"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Relative"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[L.jsx("span",{className:"font-bold text-white",children:"vii"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"Leading"})]})]})]})]}),L.jsxs("section",{children:[L.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[L.jsx(aC,{size:12}),"The Circle of Fifths"]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[L.jsx("p",{children:'Starting with C and moving clockwise (C  G  D  A  E  B  F#  Db  Ab  Eb  Bb  F), each step is a "dominant" (fifth) progression. This cyclical nature is one of the most fundamental principles in music theory.'}),L.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[L.jsx("li",{children:'Modulations often move one "key" clockwise or counter-clockwise'}),L.jsx("li",{children:"Neighboring keys share many chords in common"}),L.jsx("li",{children:"The strong pull of V  I is why songs resolve satisfyingly"})]})]})]}),L.jsxs("section",{children:[L.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Building Chords"}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-4",children:[L.jsxs("div",{children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"Triads (3 Notes)"}),L.jsx("p",{className:"text-sm text-gray-400 mb-2",children:'Built using "every other note" of the scale: Root, 3rd, 5th'}),L.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Major"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Minor"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Diminished"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]})]})]}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"Seventh Chords (4 Notes)"}),L.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Add the 7th note: 1st, 3rd, 5th, 7th"}),L.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Major 7th (maj7)"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Dominant 7th (7)"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Minor 7th (m7)"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[L.jsx("span",{className:"text-white font-medium",children:"Half-Dim (m75)"}),L.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]})]})]})]})]}),L.jsxs("section",{children:[L.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Common Progressions"}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-IV-V (Pop/Rock)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - F - G"}),L.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The foundation of rock 'n' roll"})]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"ii-V-I (Jazz)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: Dm7 - G7 - Cmaj7"}),L.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The most common jazz progression"})]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-vi-IV-V (50s/Doo-wop)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - Am - F - G"}),L.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Also used in countless pop songs"})]}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[L.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-V-vi-IV (Modern Pop)"}),L.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - G - Am - F"}),L.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'The "4 chord song" progression'})]})]})]}),L.jsxs("section",{children:[L.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Secondary Dominants (II & III)"}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[L.jsxs("p",{children:["The II and III chords (shown with half-highlighting) aren't diatonic but are commonly used. They're called ",L.jsx("strong",{className:"text-white",children:"secondary dominants"}),' because they "act" like dominant V chords:']}),L.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[L.jsxs("li",{children:[L.jsx("strong",{className:"text-white",children:"II"})," (D in key of C) = V of V (leads strongly to G)"]}),L.jsxs("li",{children:[L.jsx("strong",{className:"text-white",children:"III"})," (E in key of C) = V of vi (leads strongly to Am)"]})]}),L.jsx("p",{className:"text-gray-400",children:"Study chord progressions by The Beatles, Rolling Stones, Elvis Costello, and you'll discover these two chords add tremendous variety."})]})]}),L.jsxs("section",{children:[L.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Modes & Relative Minor"}),L.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[L.jsxs("p",{children:["The vi chord (Am in key of C) is special: it's the ",L.jsx("strong",{className:"text-white",children:"relative minor"}),". Songs emphasizing vi as the tonic create a minor mood using the same chords."]}),L.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-[10px] mt-3",children:[L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"I"}),L.jsx("span",{className:"block text-gray-500",children:"Ionian"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"ii"}),L.jsx("span",{className:"block text-gray-500",children:"Dorian"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"iii"}),L.jsx("span",{className:"block text-gray-500",children:"Phrygian"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"IV"}),L.jsx("span",{className:"block text-gray-500",children:"Lydian"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"V"}),L.jsx("span",{className:"block text-gray-500",children:"Mixolyd."})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"vi"}),L.jsx("span",{className:"block text-gray-500",children:"Aeolian"})]}),L.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[L.jsx("span",{className:"font-bold text-white",children:"vii"}),L.jsx("span",{className:"block text-gray-500",children:"Locrian"})]})]})]})]})]}),cE=({isOpen:i,onClose:e,isEmbedded:t=!1})=>i?t?L.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col bg-[#1a1a24]",children:[L.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-[#22222e] shrink-0",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:L.jsx(j0,{size:12,className:"text-white"})}),L.jsx("h2",{className:"text-sm font-bold text-white",children:"Guide"})]}),L.jsx("button",{onClick:e,className:"p-1 hover:bg-bg-tertiary rounded transition-colors text-text-muted hover:text-white",children:L.jsx(ey,{size:16})})]}),L.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-6 sm:py-6 space-y-8",children:L.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:L.jsx(yy,{})})})]}):L.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:[L.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm pointer-events-none"}),L.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-4xl w-full max-h-[85vh] overflow-hidden flex flex-col pointer-events-auto",children:[L.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-subtle bg-[#22222e]",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:L.jsx(j0,{size:16,className:"text-white"})}),L.jsx("h2",{className:"text-lg font-bold text-white",children:"Chord Wheel Guide"})]}),L.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-tertiary rounded-lg transition-colors text-text-muted hover:text-white",children:L.jsx(ey,{size:20})})]}),L.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-8 sm:py-8 space-y-8",children:L.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:L.jsx(yy,{})})}),L.jsx("div",{className:"px-6 py-4 sm:px-8 sm:py-5 border-t border-border-subtle bg-[#22222e] text-center",children:L.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Drag the wheel or use the rotation buttons to change keys. Click any chord to see details."})})]})]}):null,Jm=({variant:i="sidebar"})=>{const{selectedChord:e,selectedKey:t,chordPanelVisible:r,toggleChordPanel:a,selectedSectionId:o,selectedSlotId:h,addChordToSlot:c,setSelectedChord:f,selectNextSlotAfter:d,setSelectedSlot:m}=fa(),x=Q0(),[w,y]=ge.useState(null),[N,A]=ge.useState([]),[k,C]=ge.useState(280),[P,F]=ge.useState(!1),[z,q]=ge.useState(!1),J=ge.useRef(0),Y=i==="drawer",[D,R]=ge.useState(e),Z=e??D,E=Fg(),[j,U]=ge.useState(!1),[$,ue]=ge.useState(!1),[Q,re]=ge.useState(!1),ce={maj:"Bright, stable major triad  home base sound.",7:"Dominant 7: bluesy tension that wants to resolve.",maj7:"Dreamy, smooth major color  great on I or IV.",maj9:"Airy, modern major flavor; adds sparkle without tension.",maj13:"Lush, extended major pad; orchestral/jazz sheen.",6:"Warm vintage major; softer than maj7 for tonic use.",13:"Dominant with a soulful top; funky/jazz turnaround vibe.",m7:"Soulful, laid-back minor  default jazz ii sound.",m9:"Lush, cinematic minor color with extra depth.",m11:"Spacious, modal minor; great for grooves and vamps.",m6:"Bittersweet/film-noir minor; nice tonic minor option.",sus2:"Open and airy with no third; neutral pop/ambient feel.",sus4:"Suspended tension that likes to resolve to major.",dim:"Tense and unstable; classic passing/leading chord.",m7b5:"Half-diminished; dark ii chord in minor keys.",add9:"Sparkly major with no 7th; modern pop shimmer.",9:"Dominant 9: rich funk/jazz tension with color.",11:"Dominant 11: suspended, modal flavor over V."},de=["maj","7","maj7","maj9","maj13","6","13","m7","m9","m11","m6","sus2","sus4","dim","m7b5","add9","9","11"],Ne=me=>{if(!Z?.root)return"-";const _e=De=>De.replace(/[\d]/g,"").replace(//,"b").replace(//,"#"),Re={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},Xe=Re[_e(Z.root)],He=Re[_e(me)];if(Xe===void 0||He===void 0)return"-";const Qe=(He-Xe+12)%12;return{0:"R",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[Qe]??"-"},X=ge.useCallback(me=>{Y||(me.preventDefault(),F(!0))},[Y]);ge.useEffect(()=>{if(!P||Y)return;const me=Re=>{const Xe=window.innerWidth-Re.clientX;C(Math.max(200,Math.min(400,Xe)))},_e=()=>{F(!1)};return document.addEventListener("mousemove",me),document.addEventListener("mouseup",_e),()=>{document.removeEventListener("mousemove",me),document.removeEventListener("mouseup",_e)}},[P,Y]),ge.useEffect(()=>{e&&R(e)},[e]),ge.useEffect(()=>{y(null),A([])},[Z?.root,Z?.quality]);const T=Z&&x[Z.root]||"#6366f1",H=N.length>0?N:Z?.notes||[],ee=me=>{const _e=Date.now();if(_e-J.current<300||(J.current=_e,!Z))return;const Re=ch(Z.root,me);n_(Re),y(me),A(Re)},ie=me=>{if(J.current=0,!Z||!o||!h)return;const _e=ch(Z.root,me),Re={...Z,quality:me,symbol:`${Z.root}${me}`,notes:_e};c(Re,o,h),d(o,h)||(m(o,h),f(Re))},oe=()=>{y(null),A([])},pe=()=>{if(!Z)return"";const me=Z.numeral;return{I:"The tonic chord  your home base. Most songs begin and end here. Try adding maj7 or 6 for a jazzier sound.",ii:"The supertonic  a pre-dominant chord that naturally leads to V. The ii-V-I progression is fundamental in jazz and pop.",iii:"The mediant  shares two notes with I. Can substitute for I or lead to vi. Often used for color.",IV:'The subdominant  creates a "plagal" sound. The IV-I is the "Amen" cadence. Adds warmth to choruses.',V:"The dominant  creates tension that resolves to I. Add a 7th for extra pull toward home.",vi:"The relative minor  shares the same notes as I major. The vi-IV-I-V is hugely popular in pop music.","vii":"The leading tone chord  unstable and wants to resolve to I. Often used as a passing chord.",II:"Secondary dominant (V/V)  borrows dominant function to approach V. Common in jazz.",III:"Secondary dominant (V/vi)  leads strongly to vi. Creates a dramatic shift."}[me||""]||"This chord adds color and interest to your progression."},fe=()=>{if(!Z)return{extensions:[],description:""};let me=Z.numeral;if(me&&me.includes("(")){const Re=me.match(/^(.+?)\s*\(/);Re&&(me=Re[1].trim())}return{I:{extensions:["maj7","maj9","maj13","6"],description:"Major 7th or 6th voicings sound rich and resolved"},IV:{extensions:["maj7","maj9","maj13","6"],description:"Same as I  warm major extensions work beautifully"},V:{extensions:["7","9","11","sus4","13"],description:"Dominant 7th adds tension that pulls to I"},ii:{extensions:["m7","m9","m11","m6"],description:"Minor 7th extensions for a smooth jazz sound"},iii:{extensions:["m7"],description:"Keep it simple  m7 is most common for iii"},vi:{extensions:["m7","m9","m11"],description:"Minor extensions add depth and emotion"},"vii":{extensions:["m75"],description:"Half-diminished (7) is the standard voicing"},II:{extensions:["7","sus4"],description:"Dominant voicing as V/V  leads strongly to V"},III:{extensions:["7","sus4"],description:"Dominant voicing as V/vi  leads strongly to vi"}}[me||""]||{extensions:[],description:`This chord doesn't fit in the key of ${t}, but it may add color and interest to your progression.`}};return r?L.jsxs("div",{className:Y?`${E?"relative w-full":"fixed inset-x-3 bottom-[88px]"} ${E?"max-h-[60vh]":"max-h-[70vh]"} bg-bg-secondary border-2 border-border-subtle rounded-2xl shadow-2xl overflow-hidden ${E?"":"z-40"} flex`:"h-full flex bg-bg-secondary border-l border-border-subtle shrink-0",style:Y?void 0:{width:k,minWidth:k},children:[!Y&&L.jsx("div",{className:`w-2 flex items-center justify-center cursor-ew-resize hover:bg-bg-tertiary transition-colors ${P?"bg-accent-primary/20":""} relative z-[60]`,onMouseDown:X,children:L.jsx(Kx,{size:12,className:"text-text-muted"})}),L.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0 relative",children:[L.jsxs("div",{className:`${E&&Y?"px-4 py-2":"px-3 py-2"} border-b border-border-subtle flex justify-between items-center gap-3 shrink-0 ${Y?"bg-bg-secondary/80 backdrop-blur-md":""}`,children:[L.jsxs("div",{className:"flex items-center gap-2 overflow-hidden flex-1 min-w-0",children:[L.jsxs("span",{className:"flex items-center gap-2 shrink-0",children:[L.jsx("span",{className:`${E?"text-lg":"text-base sm:text-lg"} font-bold text-text-primary leading-none`,children:Z?Z.symbol:"Chord Details"}),Z?.numeral&&L.jsx("span",{className:`${E?"text-xs":"text-[11px]"} font-serif italic text-text-secondary shrink-0`,children:Z.numeral})]}),Z&&L.jsxs("span",{className:`${E?"text-xs":"text-[10px]"} text-text-muted whitespace-nowrap`,children:["Key: ",L.jsx("span",{className:"font-semibold text-text-primary",children:t})]})]}),L.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[Z&&L.jsx("button",{onClick:()=>q(!0),className:`${E?"w-10 h-10 min-w-[40px] min-h-[40px]":"w-8 h-8"} flex items-center justify-center bg-bg-tertiary/60 hover:bg-accent-primary/20 border border-border-subtle rounded-full text-text-muted hover:text-accent-primary transition-colors shadow-sm touch-feedback`,title:"Chord Wheel Guide",children:L.jsx(pC,{size:E?16:14})}),L.jsx("button",{onClick:a,className:`${E?"p-2 min-w-[40px] min-h-[40px]":"p-1"} hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center`,title:"Hide panel",children:L.jsx(qC,{size:E?18:16,className:"text-text-muted"})})]})]}),Z?L.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 overscroll-contain",children:[L.jsxs("div",{className:`${E?"px-4 py-1.5":"px-4 py-3"} border-b border-border-subtle`,children:[L.jsxs("div",{className:"flex items-center justify-between mb-2",children:[L.jsxs("h3",{className:`${E?"text-[11px]":"text-[10px]"} font-semibold text-text-muted uppercase tracking-wide`,children:["Voicing ",w&&L.jsxs("span",{className:"text-accent-primary ml-1",children:["(",w,")"]})]}),w&&L.jsxs("button",{onClick:oe,className:`${E?"text-[10px] px-2 py-1":"text-[9px]"} text-accent-primary hover:text-accent-secondary transition-colors touch-feedback`,children:[" ",Z.symbol]})]}),L.jsx(lE,{highlightedNotes:H,rootNote:Z.root,color:T}),L.jsx("div",{className:`${E?"mt-2":"mt-4"} w-full`,children:L.jsxs("div",{className:"grid w-full items-center gap-y-1",style:{gridTemplateColumns:`auto repeat(${H.length}, minmax(0,1fr))`,columnGap:"6px",rowGap:"4px"},children:[L.jsx("div",{className:"text-[9px] font-semibold uppercase tracking-wide text-text-muted leading-tight",children:"Notes"}),H.map((me,_e)=>L.jsx("div",{className:"text-center text-[12px] font-bold text-text-primary leading-none py-1",style:{minHeight:24},children:me},`note-${_e}`)),L.jsx("div",{className:"text-[9px] font-semibold uppercase tracking-wide text-text-muted leading-tight",children:"Absolute"}),H.map((me,_e)=>L.jsx("div",{className:"text-center text-[11px] text-text-primary font-semibold leading-none py-1",style:{minHeight:24},children:Ne(me)},`abs-${_e}`)),L.jsx("div",{className:"text-[9px] font-semibold uppercase tracking-wide text-text-muted leading-tight",children:"Relative to Key"}),H.map((me,_e)=>L.jsx("div",{className:"text-center text-[11px] text-text-secondary leading-none py-1",style:{minHeight:24},children:J3(t,me).replace(/^1/,"R")},`rel-${_e}`))]})})]}),L.jsxs("div",{className:`${E?"px-4 py-2 mt-2":"px-4 py-3"} border-b border-border-subtle rounded-none`,children:[L.jsxs("button",{onClick:()=>E&&U(!j),className:`w-full flex items-center justify-between ${j&&E?"mb-2":"mb-0"} ${E?"cursor-pointer py-0.5":""}`,children:[L.jsx("h3",{className:`${E?"text-[11px]":"text-[10px]"} font-semibold text-text-muted uppercase tracking-wide`,children:"Variations"}),E&&L.jsx(gh,{size:14,className:`text-text-muted transition-transform ${j?"rotate-180":""}`})]}),(!E||j)&&L.jsx("div",{className:`grid ${E?"grid-cols-3":"grid-cols-2 sm:grid-cols-3"} ${E?"gap-2":"gap-1.5"}`,children:de.map((me,_e)=>{const Xe=_e%2===0?{left:"calc(100% + 10px)"}:{right:"calc(100% + 10px)"};return L.jsxs("button",{className:`relative group ${E?"px-3 py-3 min-h-[48px] text-xs":"px-2 py-1.5 text-[10px]"} rounded font-medium transition-colors border touch-feedback ${w===me?"bg-accent-primary text-white border-accent-primary":"bg-bg-elevated hover:bg-bg-tertiary text-text-secondary hover:text-text-primary border-border-subtle"}`,onClick:()=>ee(me),onDoubleClick:()=>ie(me),children:[me,!E&&ce[me]&&L.jsx("span",{className:"pointer-events-none absolute top-1/2 -translate-y-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-150 z-50 w-44 text-left",style:{...Xe,backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:ce[me]})]},me)})})]}),Z&&L.jsxs("div",{className:`${E?"px-4 py-2 mt-2":"px-4 py-3"} border-b border-border-subtle bg-accent-primary/5 rounded-none`,children:[L.jsxs("button",{onClick:()=>E&&ue(!$),className:`w-full flex items-center justify-between ${$&&E?"mb-2":"mb-0"} ${E?"cursor-pointer py-0.5":""}`,children:[L.jsxs("h3",{className:`${E?"text-[11px]":"text-[10px]"} font-semibold text-accent-primary uppercase tracking-wide`,children:["Suggested for ",Z.numeral||Z.symbol]}),E&&L.jsx(gh,{size:14,className:`text-accent-primary transition-transform ${$?"rotate-180":""}`})]}),(!E||$)&&L.jsxs(L.Fragment,{children:[fe().extensions.length>0?L.jsx("div",{className:`flex flex-wrap ${E?"gap-2.5":"gap-2"} mb-2`,children:fe().extensions.map(me=>L.jsxs("button",{className:`relative group ${E?"px-4 py-2.5 text-sm min-h-[44px]":"px-3 py-1.5 text-xs"} rounded font-semibold transition-colors touch-feedback ${w===me?"bg-accent-primary text-white":"bg-bg-elevated hover:bg-accent-primary/20 text-text-primary border border-border-subtle"}`,onClick:()=>ee(me),onDoubleClick:()=>ie(me),children:[Z.root,me,!E&&ce[me]&&L.jsx("span",{className:"pointer-events-none absolute -top-6 -translate-y-full left-1/2 -translate-x-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-150 z-50 w-44 text-left",style:{backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:ce[me]})]},me))}):L.jsxs("p",{className:`${E?"text-sm py-2":"text-xs py-1.5"} text-text-muted italic`,children:["Not in the key of ",t]}),L.jsx("p",{className:`${E?"text-xs":"text-[10px]"} text-text-muted leading-relaxed`,children:fe().description})]})]}),L.jsxs("div",{className:`${E?"px-4 py-2 mt-2 pb-2":"px-4 py-3"}`,children:[L.jsxs("button",{onClick:()=>E&&re(!Q),className:`w-full flex items-center justify-between ${E?"cursor-pointer py-0.5":"mb-0"} ${Q&&E?"mb-2":"mb-0"}`,children:[L.jsx("h3",{className:`${E?"text-[11px]":"text-[10px]"} font-semibold text-accent-primary uppercase tracking-wide ${E?"":"mb-2"}`,children:"Theory"}),E&&L.jsx(gh,{size:14,className:`text-accent-primary transition-transform ${Q?"rotate-180":""}`})]}),(!E||Q)&&L.jsx("div",{className:`${E?"p-3":"p-4"} bg-bg-elevated border border-border-subtle rounded-none`,children:L.jsx("p",{className:`${E?"text-sm":"text-xs"} text-text-secondary leading-relaxed`,children:pe()})})]})]}):L.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:L.jsx("p",{className:`${E?"text-base":"text-sm"} text-text-muted text-center`,children:"Select a chord from the wheel or timeline"})})]}),L.jsx(cE,{isOpen:z,onClose:()=>q(!1)})]}):Y?L.jsxs("button",{onClick:a,className:`w-full ${E?"h-16 min-h-[64px]":"h-11"} flex items-center justify-center gap-2 bg-bg-secondary border-2 border-border-subtle rounded-2xl ${E?"text-base":"text-[11px]"} font-bold text-text-primary shadow-lg hover:border-accent-primary transition-all touch-feedback active:scale-[0.97]`,title:"Show chord details",children:[L.jsx(qg,{size:E?20:14}),L.jsx("span",{children:"Open Chord Details"})]}):L.jsx("button",{onClick:a,className:"h-full px-2 flex items-center justify-center bg-bg-secondary border-l border-border-subtle hover:bg-bg-tertiary transition-colors shrink-0",title:"Show chord details",children:L.jsx(FC,{size:18,className:"text-text-muted"})})},uE=()=>{const{isPlaying:i,tempo:e,volume:t,setIsPlaying:r,setTempo:a,setVolume:o,instrument:h,setInstrument:c,isMuted:f,toggleMute:d}=fa(),m=Fg(),x=async()=>{i?r(!1):(await zg(),r(!0))},w=[{value:"piano",label:"Piano"},{value:"epiano",label:"Electric Piano"},{value:"organ",label:"Organ"},{value:"pad",label:"Pad"},{value:"guitar",label:"Guitar"}];w.find(N=>N.value===h)||c("piano");const y=N=>{const A=w.findIndex(C=>C.value===h);if(A===-1){c("piano");return}const k=N==="next"?(A+1)%w.length:(A-1+w.length)%w.length;c(w[k].value)};return L.jsxs("div",{className:`${m?"h-16":"h-14"} bg-bg-elevated border-t border-border-subtle flex items-center ${m?"justify-around px-2":"justify-between px-6"}`,children:[L.jsxs("div",{className:`flex items-center ${m?"gap-1":"gap-2"}`,children:[L.jsx("button",{className:`${m?"p-2 min-w-[44px] min-h-[44px]":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:L.jsx($C,{size:m?18:16})}),L.jsx("button",{onClick:x,className:`${m?"w-12 h-12":"w-9 h-9"} rounded-full bg-accent-primary hover:bg-indigo-500 flex items-center justify-center text-white shadow-lg transition-all hover:scale-105 active:scale-95 touch-feedback`,children:i?L.jsx(UC,{size:m?22:18,fill:"currentColor"}):L.jsx(HC,{size:m?22:18,fill:"currentColor",className:"ml-0.5"})}),L.jsx("button",{className:`${m?"p-2 min-w-[44px] min-h-[44px]":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:L.jsx(eT,{size:m?18:16})}),!m&&L.jsx("button",{className:"p-1.5 text-text-secondary hover:text-text-primary transition-colors ml-1",children:L.jsx(WC,{size:14})})]}),!m&&L.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-text-muted",children:[L.jsxs("div",{className:"flex items-center gap-1.5",children:[L.jsx("span",{children:"Tempo"}),L.jsx("input",{type:"number",value:e,onChange:N=>a(Number(N.target.value)),className:"w-10 bg-bg-tertiary border border-border-subtle rounded px-1 py-0.5 text-center text-text-primary text-[10px]"}),L.jsx("span",{children:"BPM"})]}),L.jsx("span",{className:"text-text-muted",children:""}),L.jsx("span",{children:"4/4"})]}),L.jsxs("div",{className:`flex items-center ${m?"gap-2":"gap-4"}`,children:[L.jsxs("div",{className:`flex items-center ${m?"gap-1":"gap-2"}`,children:[!m&&L.jsxs("div",{className:"flex items-center rounded bg-bg-tertiary/60 border border-border-subtle/70 h-8",children:[L.jsx("button",{onClick:()=>y("prev"),className:"px-1.5 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-l transition-colors flex items-center",title:"Previous instrument",children:L.jsx(hC,{size:12})}),L.jsx("button",{onClick:()=>y("next"),className:"px-1.5 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-r transition-colors flex items-center",title:"Next instrument",children:L.jsx(cC,{size:12})})]}),L.jsx("select",{value:h,onChange:N=>c(N.target.value),className:`bg-bg-tertiary border border-border-subtle rounded ${m?"px-2 h-11 text-xs min-w-[90px]":"px-2 h-8 text-[10px] min-w-[140px]"} text-text-secondary focus:outline-none focus:border-accent-primary cursor-pointer`,children:w.map(N=>L.jsx("option",{value:N.value,children:N.label},N.value))})]}),L.jsxs("div",{className:`flex items-center gap-2 ${m?"w-20":"w-32"}`,children:[L.jsx("button",{onClick:d,className:`${m?"min-w-[44px] min-h-[44px] p-2":""} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,title:f?"Unmute":"Mute",children:f||t===0?L.jsx(sT,{size:m?18:14}):L.jsx(iT,{size:m?18:14})}),!m&&L.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f?0:t,onChange:N=>{f&&d(),o(Number(N.target.value))},className:`w-full h-1 bg-bg-tertiary rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2.5 [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:bg-accent-primary [&::-webkit-slider-thumb]:rounded-full ${f?"opacity-50":""}`})]})]})]})},hE="modulepreload",fE=function(i){return"/chord-wheel-writer/"+i},by={},e0=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),c=h?.nonce||h?.getAttribute("nonce");a=f(t.map(d=>{if(d=fE(d),d in by)return;by[d]=!0;const m=d.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${x}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":hE,m||(w.as="script"),w.crossOrigin="",w.href=d,c&&w.setAttribute("nonce",c),document.head.appendChild(w),m)return new Promise((y,N)=>{w.addEventListener("load",y),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(h){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=h,window.dispatchEvent(c),!c.defaultPrevented)throw h}return a.then(h=>{for(const c of h||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function qn(i){"@babel/helpers - typeof";return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(i)}var Ja=Uint8Array,Vs=Uint16Array,Zg=Int32Array,Kg=new Ja([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Qg=new Ja([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xy=new Ja([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),D_=function(i,e){for(var t=new Vs(31),r=0;r<31;++r)t[r]=e+=1<<i[r-1];for(var a=new Zg(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)a[o]=o-t[r]<<5|r;return{b:t,r:a}},j_=D_(Kg,2),dE=j_.b,q0=j_.r;dE[28]=258,q0[258]=28;var pE=D_(Qg,0),_y=pE.r,z0=new Vs(32768);for(var oi=0;oi<32768;++oi){var tc=(oi&43690)>>1|(oi&21845)<<1;tc=(tc&52428)>>2|(tc&13107)<<2,tc=(tc&61680)>>4|(tc&3855)<<4,z0[oi]=((tc&65280)>>8|(tc&255)<<8)>>1}var Df=(function(i,e,t){for(var r=i.length,a=0,o=new Vs(e);a<r;++a)i[a]&&++o[i[a]-1];var h=new Vs(e);for(a=1;a<e;++a)h[a]=h[a-1]+o[a-1]<<1;var c;if(t){c=new Vs(1<<e);var f=15-e;for(a=0;a<r;++a)if(i[a])for(var d=a<<4|i[a],m=e-i[a],x=h[i[a]-1]++<<m,w=x|(1<<m)-1;x<=w;++x)c[z0[x]>>f]=d}else for(c=new Vs(r),a=0;a<r;++a)i[a]&&(c[a]=z0[h[i[a]-1]++]>>15-i[a]);return c}),su=new Ja(288);for(var oi=0;oi<144;++oi)su[oi]=8;for(var oi=144;oi<256;++oi)su[oi]=9;for(var oi=256;oi<280;++oi)su[oi]=7;for(var oi=280;oi<288;++oi)su[oi]=8;var Qp=new Ja(32);for(var oi=0;oi<32;++oi)Qp[oi]=5;var mE=Df(su,9,0),gE=Df(Qp,5,0),R_=function(i){return(i+7)/8|0},vE=function(i,e,t){return(t==null||t>i.length)&&(t=i.length),new Ja(i.subarray(e,t))},ol=function(i,e,t){t<<=e&7;var r=e/8|0;i[r]|=t,i[r+1]|=t>>8},Sf=function(i,e,t){t<<=e&7;var r=e/8|0;i[r]|=t,i[r+1]|=t>>8,i[r+2]|=t>>16},t0=function(i,e){for(var t=[],r=0;r<i.length;++r)i[r]&&t.push({s:r,f:i[r]});var a=t.length,o=t.slice();if(!a)return{t:B_,l:0};if(a==1){var h=new Ja(t[0].s+1);return h[t[0].s]=1,{t:h,l:1}}t.sort(function(q,J){return q.f-J.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,m=1,x=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};m!=a-1;)c=t[t[d].f<t[x].f?d++:x++],f=t[d!=m&&t[d].f<t[x].f?d++:x++],t[m++]={s:-1,f:c.f+f.f,l:c,r:f};for(var w=o[0].s,r=1;r<a;++r)o[r].s>w&&(w=o[r].s);var y=new Vs(w+1),N=F0(t[m-1],y,0);if(N>e){var r=0,A=0,k=N-e,C=1<<k;for(o.sort(function(J,Y){return y[Y.s]-y[J.s]||J.f-Y.f});r<a;++r){var P=o[r].s;if(y[P]>e)A+=C-(1<<N-y[P]),y[P]=e;else break}for(A>>=k;A>0;){var F=o[r].s;y[F]<e?A-=1<<e-y[F]++-1:++r}for(;r>=0&&A;--r){var z=o[r].s;y[z]==e&&(--y[z],++A)}N=e}return{t:new Ja(y),l:N}},F0=function(i,e,t){return i.s==-1?Math.max(F0(i.l,e,t+1),F0(i.r,e,t+1)):e[i.s]=t},wy=function(i){for(var e=i.length;e&&!i[--e];);for(var t=new Vs(++e),r=0,a=i[0],o=1,h=function(f){t[r++]=f},c=1;c<=e;++c)if(i[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)h(32754);o>2&&(h(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(h(a),--o;o>6;o-=6)h(8304);o>2&&(h(o-3<<5|8208),o=0)}for(;o--;)h(a);o=1,a=i[c]}return{c:t.subarray(0,r),n:e}},Af=function(i,e){for(var t=0,r=0;r<e.length;++r)t+=i[r]*e[r];return t},I_=function(i,e,t){var r=t.length,a=R_(e+2);i[a]=r&255,i[a+1]=r>>8,i[a+2]=i[a]^255,i[a+3]=i[a+1]^255;for(var o=0;o<r;++o)i[a+o+4]=t[o];return(a+4+r)*8},Sy=function(i,e,t,r,a,o,h,c,f,d,m){ol(e,m++,t),++a[256];for(var x=t0(a,15),w=x.t,y=x.l,N=t0(o,15),A=N.t,k=N.l,C=wy(w),P=C.c,F=C.n,z=wy(A),q=z.c,J=z.n,Y=new Vs(19),D=0;D<P.length;++D)++Y[P[D]&31];for(var D=0;D<q.length;++D)++Y[q[D]&31];for(var R=t0(Y,7),Z=R.t,E=R.l,j=19;j>4&&!Z[xy[j-1]];--j);var U=d+5<<3,$=Af(a,su)+Af(o,Qp)+h,ue=Af(a,w)+Af(o,A)+h+14+3*j+Af(Y,Z)+2*Y[16]+3*Y[17]+7*Y[18];if(f>=0&&U<=$&&U<=ue)return I_(e,m,i.subarray(f,f+d));var Q,re,ce,de;if(ol(e,m,1+(ue<$)),m+=2,ue<$){Q=Df(w,y,0),re=w,ce=Df(A,k,0),de=A;var Ne=Df(Z,E,0);ol(e,m,F-257),ol(e,m+5,J-1),ol(e,m+10,j-4),m+=14;for(var D=0;D<j;++D)ol(e,m+3*D,Z[xy[D]]);m+=3*j;for(var X=[P,q],T=0;T<2;++T)for(var H=X[T],D=0;D<H.length;++D){var ee=H[D]&31;ol(e,m,Ne[ee]),m+=Z[ee],ee>15&&(ol(e,m,H[D]>>5&127),m+=H[D]>>12)}}else Q=mE,re=su,ce=gE,de=Qp;for(var D=0;D<c;++D){var ie=r[D];if(ie>255){var ee=ie>>18&31;Sf(e,m,Q[ee+257]),m+=re[ee+257],ee>7&&(ol(e,m,ie>>23&31),m+=Kg[ee]);var oe=ie&31;Sf(e,m,ce[oe]),m+=de[oe],oe>3&&(Sf(e,m,ie>>5&8191),m+=Qg[oe])}else Sf(e,m,Q[ie]),m+=re[ie]}return Sf(e,m,Q[256]),m+re[256]},yE=new Zg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),B_=new Ja(0),bE=function(i,e,t,r,a,o){var h=o.z||i.length,c=new Ja(r+h+5*(1+Math.ceil(h/7e3))+a),f=c.subarray(r,c.length-a),d=o.l,m=(o.r||0)&7;if(e){m&&(f[0]=o.r>>3);for(var x=yE[e-1],w=x>>13,y=x&8191,N=(1<<t)-1,A=o.p||new Vs(32768),k=o.h||new Vs(N+1),C=Math.ceil(t/3),P=2*C,F=function(Qe){return(i[Qe]^i[Qe+1]<<C^i[Qe+2]<<P)&N},z=new Zg(25e3),q=new Vs(288),J=new Vs(32),Y=0,D=0,R=o.i||0,Z=0,E=o.w||0,j=0;R+2<h;++R){var U=F(R),$=R&32767,ue=k[U];if(A[$]=ue,k[U]=$,E<=R){var Q=h-R;if((Y>7e3||Z>24576)&&(Q>423||!d)){m=Sy(i,f,0,z,q,J,D,Z,j,R-j,m),Z=Y=D=0,j=R;for(var re=0;re<286;++re)q[re]=0;for(var re=0;re<30;++re)J[re]=0}var ce=2,de=0,Ne=y,X=$-ue&32767;if(Q>2&&U==F(R-X))for(var T=Math.min(w,Q)-1,H=Math.min(32767,R),ee=Math.min(258,Q);X<=H&&--Ne&&$!=ue;){if(i[R+ce]==i[R+ce-X]){for(var ie=0;ie<ee&&i[R+ie]==i[R+ie-X];++ie);if(ie>ce){if(ce=ie,de=X,ie>T)break;for(var oe=Math.min(X,ie-2),pe=0,re=0;re<oe;++re){var fe=R-X+re&32767,me=A[fe],_e=fe-me&32767;_e>pe&&(pe=_e,ue=fe)}}}$=ue,ue=A[$],X+=$-ue&32767}if(de){z[Z++]=268435456|q0[ce]<<18|_y[de];var Re=q0[ce]&31,Xe=_y[de]&31;D+=Kg[Re]+Qg[Xe],++q[257+Re],++J[Xe],E=R+ce,++Y}else z[Z++]=i[R],++q[i[R]]}}for(R=Math.max(R,E);R<h;++R)z[Z++]=i[R],++q[i[R]];m=Sy(i,f,d,z,q,J,D,Z,j,R-j,m),d||(o.r=m&7|f[m/8|0]<<3,m-=7,o.h=k,o.p=A,o.i=R,o.w=E)}else{for(var R=o.w||0;R<h+d;R+=65535){var He=R+65535;He>=h&&(f[m/8|0]=d,He=h),m=I_(f,m+1,i.subarray(R,He))}o.i=h}return vE(c,0,r+R_(m)+a)},q_=function(){var i=1,e=0;return{p:function(t){for(var r=i,a=e,o=t.length|0,h=0;h!=o;){for(var c=Math.min(h+2655,o);h<c;++h)a+=r+=t[h];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}i=r,e=a},d:function(){return i%=65521,e%=65521,(i&255)<<24|(i&65280)<<8|(e&255)<<8|e>>8}}},xE=function(i,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),h=new Ja(o.length+i.length);h.set(o),h.set(i,o.length),i=h,a.w=o.length}return bE(i,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+e.mem,t,r,a)},z_=function(i,e,t){for(;t;++e)i[e]=t,t>>>=8},_E=function(i,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(i[0]=120,i[1]=r<<6|(e.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,e.dictionary){var a=q_();a.p(e.dictionary),z_(i,2,a.d())}};function P0(i,e){e||(e={});var t=q_();t.p(i);var r=xE(i,e,e.dictionary?6:2,4);return _E(r,e),z_(r,r.length-4,t.d()),r}var wE=typeof TextDecoder<"u"&&new TextDecoder,SE=0;try{wE.decode(B_,{stream:!0}),SE=1}catch{}function AE(i){if(Array.isArray(i))return i}function NE(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var r,a,o,h,c=[],f=!0,d=!1;try{if(o=(t=t.call(i)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(m){d=!0,a=m}finally{try{if(!f&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(d)throw a}}return c}}function Ay(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=Array(e);t<e;t++)r[t]=i[t];return r}function CE(i,e){if(i){if(typeof i=="string")return Ay(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ay(i,e):void 0}}function TE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ny(i,e){return AE(i)||NE(i,e)||CE(i,e)||TE()}function Cy(i,e="utf8"){return new TextDecoder(e).decode(i)}const EE=new TextEncoder;function kE(i){return EE.encode(i)}const OE=1024*8,ME=(()=>{const i=new Uint8Array(4),e=new Uint32Array(i.buffer);return!((e[0]=1)&i[0])})(),n0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class $g{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=OE,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let h=a;(ArrayBuffer.isView(e)||e instanceof $g)&&(e.byteLength!==e.buffer.byteLength&&(h=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=h,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,h,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=n0[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===ME&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+r));c.reverse();const f=new n0[t](c.buffer);return this.offset+=r,f.reverse(),f}const h=new n0[t](o);return this.offset+=r,h}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Cy(this.readBytes(e))}decodeText(e=1,t="utf8"){return Cy(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(kE(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ih(i){let e=i.length;for(;--e>=0;)i[e]=0}const LE=3,DE=258,F_=29,jE=256,RE=jE+1+F_,P_=30,IE=512,BE=new Array((RE+2)*2);Ih(BE);const qE=new Array(P_*2);Ih(qE);const zE=new Array(IE);Ih(zE);const FE=new Array(DE-LE+1);Ih(FE);const PE=new Array(F_);Ih(PE);const UE=new Array(P_);Ih(UE);const VE=(i,e,t,r)=>{let a=i&65535|0,o=i>>>16&65535|0,h=0;for(;t!==0;){h=t>2e3?2e3:t,t-=h;do a=a+e[r++]|0,o=o+a|0;while(--h);a%=65521,o%=65521}return a|o<<16|0};var U0=VE;const HE=()=>{let i,e=[];for(var t=0;t<256;t++){i=t;for(var r=0;r<8;r++)i=i&1?3988292384^i>>>1:i>>>1;e[t]=i}return e},GE=new Uint32Array(HE()),YE=(i,e,t,r)=>{const a=GE,o=r+t;i^=-1;for(let h=r;h<o;h++)i=i>>>8^a[(i^e[h])&255];return i^-1};var No=YE,V0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},U_={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const WE=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var XE=function(i){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)WE(t,r)&&(i[r]=t[r])}}return i},ZE=i=>{let e=0;for(let r=0,a=i.length;r<a;r++)e+=i[r].length;const t=new Uint8Array(e);for(let r=0,a=0,o=i.length;r<o;r++){let h=i[r];t.set(h,a),a+=h.length}return t},V_={assign:XE,flattenChunks:ZE};let H_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{H_=!1}const Gf=new Uint8Array(256);for(let i=0;i<256;i++)Gf[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;Gf[254]=Gf[254]=1;var KE=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let e,t,r,a,o,h=i.length,c=0;for(a=0;a<h;a++)t=i.charCodeAt(a),(t&64512)===55296&&a+1<h&&(r=i.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)t=i.charCodeAt(a),(t&64512)===55296&&a+1<h&&(r=i.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const QE=(i,e)=>{if(e<65534&&i.subarray&&H_)return String.fromCharCode.apply(null,i.length===e?i:i.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(i[r]);return t};var $E=(i,e)=>{const t=e||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,e));let r,a;const o=new Array(t*2);for(a=0,r=0;r<t;){let h=i[r++];if(h<128){o[a++]=h;continue}let c=Gf[h];if(c>4){o[a++]=65533,r+=c-1;continue}for(h&=c===2?31:c===3?15:7;c>1&&r<t;)h=h<<6|i[r++]&63,c--;if(c>1){o[a++]=65533;continue}h<65536?o[a++]=h:(h-=65536,o[a++]=55296|h>>10&1023,o[a++]=56320|h&1023)}return QE(o,a)},JE=(i,e)=>{e=e||i.length,e>i.length&&(e=i.length);let t=e-1;for(;t>=0&&(i[t]&192)===128;)t--;return t<0||t===0?e:t+Gf[i[t]]>e?t:e},H0={string2buf:KE,buf2string:$E,utf8border:JE};function ek(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var tk=ek;const cp=16209,nk=16191;var ik=function(e,t){let r,a,o,h,c,f,d,m,x,w,y,N,A,k,C,P,F,z,q,J,Y,D,R,Z;const E=e.state;r=e.next_in,R=e.input,a=r+(e.avail_in-5),o=e.next_out,Z=e.output,h=o-(t-e.avail_out),c=o+(e.avail_out-257),f=E.dmax,d=E.wsize,m=E.whave,x=E.wnext,w=E.window,y=E.hold,N=E.bits,A=E.lencode,k=E.distcode,C=(1<<E.lenbits)-1,P=(1<<E.distbits)-1;e:do{N<15&&(y+=R[r++]<<N,N+=8,y+=R[r++]<<N,N+=8),F=A[y&C];t:for(;;){if(z=F>>>24,y>>>=z,N-=z,z=F>>>16&255,z===0)Z[o++]=F&65535;else if(z&16){q=F&65535,z&=15,z&&(N<z&&(y+=R[r++]<<N,N+=8),q+=y&(1<<z)-1,y>>>=z,N-=z),N<15&&(y+=R[r++]<<N,N+=8,y+=R[r++]<<N,N+=8),F=k[y&P];n:for(;;){if(z=F>>>24,y>>>=z,N-=z,z=F>>>16&255,z&16){if(J=F&65535,z&=15,N<z&&(y+=R[r++]<<N,N+=8,N<z&&(y+=R[r++]<<N,N+=8)),J+=y&(1<<z)-1,J>f){e.msg="invalid distance too far back",E.mode=cp;break e}if(y>>>=z,N-=z,z=o-h,J>z){if(z=J-z,z>m&&E.sane){e.msg="invalid distance too far back",E.mode=cp;break e}if(Y=0,D=w,x===0){if(Y+=d-z,z<q){q-=z;do Z[o++]=w[Y++];while(--z);Y=o-J,D=Z}}else if(x<z){if(Y+=d+x-z,z-=x,z<q){q-=z;do Z[o++]=w[Y++];while(--z);if(Y=0,x<q){z=x,q-=z;do Z[o++]=w[Y++];while(--z);Y=o-J,D=Z}}}else if(Y+=x-z,z<q){q-=z;do Z[o++]=w[Y++];while(--z);Y=o-J,D=Z}for(;q>2;)Z[o++]=D[Y++],Z[o++]=D[Y++],Z[o++]=D[Y++],q-=3;q&&(Z[o++]=D[Y++],q>1&&(Z[o++]=D[Y++]))}else{Y=o-J;do Z[o++]=Z[Y++],Z[o++]=Z[Y++],Z[o++]=Z[Y++],q-=3;while(q>2);q&&(Z[o++]=Z[Y++],q>1&&(Z[o++]=Z[Y++]))}}else if((z&64)===0){F=k[(F&65535)+(y&(1<<z)-1)];continue n}else{e.msg="invalid distance code",E.mode=cp;break e}break}}else if((z&64)===0){F=A[(F&65535)+(y&(1<<z)-1)];continue t}else if(z&32){E.mode=nk;break e}else{e.msg="invalid literal/length code",E.mode=cp;break e}break}}while(r<a&&o<c);q=N>>3,r-=q,N-=q<<3,y&=(1<<N)-1,e.next_in=r,e.next_out=o,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=o<c?257+(c-o):257-(o-c),E.hold=y,E.bits=N};const nh=15,Ty=852,Ey=592,ky=0,i0=1,Oy=2,rk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),sk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ak=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ok=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),lk=(i,e,t,r,a,o,h,c)=>{const f=c.bits;let d=0,m=0,x=0,w=0,y=0,N=0,A=0,k=0,C=0,P=0,F,z,q,J,Y,D=null,R;const Z=new Uint16Array(nh+1),E=new Uint16Array(nh+1);let j=null,U,$,ue;for(d=0;d<=nh;d++)Z[d]=0;for(m=0;m<r;m++)Z[e[t+m]]++;for(y=f,w=nh;w>=1&&Z[w]===0;w--);if(y>w&&(y=w),w===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(x=1;x<w&&Z[x]===0;x++);for(y<x&&(y=x),k=1,d=1;d<=nh;d++)if(k<<=1,k-=Z[d],k<0)return-1;if(k>0&&(i===ky||w!==1))return-1;for(E[1]=0,d=1;d<nh;d++)E[d+1]=E[d]+Z[d];for(m=0;m<r;m++)e[t+m]!==0&&(h[E[e[t+m]]++]=m);if(i===ky?(D=j=h,R=20):i===i0?(D=rk,j=sk,R=257):(D=ak,j=ok,R=0),P=0,m=0,d=x,Y=o,N=y,A=0,q=-1,C=1<<y,J=C-1,i===i0&&C>Ty||i===Oy&&C>Ey)return 1;for(;;){U=d-A,h[m]+1<R?($=0,ue=h[m]):h[m]>=R?($=j[h[m]-R],ue=D[h[m]-R]):($=96,ue=0),F=1<<d-A,z=1<<N,x=z;do z-=F,a[Y+(P>>A)+z]=U<<24|$<<16|ue|0;while(z!==0);for(F=1<<d-1;P&F;)F>>=1;if(F!==0?(P&=F-1,P+=F):P=0,m++,--Z[d]===0){if(d===w)break;d=e[t+h[m]]}if(d>y&&(P&J)!==q){for(A===0&&(A=y),Y+=x,N=d-A,k=1<<N;N+A<w&&(k-=Z[N+A],!(k<=0));)N++,k<<=1;if(C+=1<<N,i===i0&&C>Ty||i===Oy&&C>Ey)return 1;q=P&J,a[q]=y<<24|N<<16|Y-o|0}}return P!==0&&(a[Y+P]=d-A<<24|64<<16|0),c.bits=y,0};var jf=lk;const ck=0,G_=1,Y_=2,{Z_FINISH:My,Z_BLOCK:uk,Z_TREES:up,Z_OK:au,Z_STREAM_END:hk,Z_NEED_DICT:fk,Z_STREAM_ERROR:pa,Z_DATA_ERROR:W_,Z_MEM_ERROR:X_,Z_BUF_ERROR:dk,Z_DEFLATED:Ly}=U_,T1=16180,Dy=16181,jy=16182,Ry=16183,Iy=16184,By=16185,qy=16186,zy=16187,Fy=16188,Py=16189,$p=16190,ll=16191,r0=16192,Uy=16193,s0=16194,Vy=16195,Hy=16196,Gy=16197,Yy=16198,hp=16199,fp=16200,Wy=16201,Xy=16202,Zy=16203,Ky=16204,Qy=16205,a0=16206,$y=16207,Jy=16208,mi=16209,Z_=16210,K_=16211,pk=852,mk=592,gk=15,vk=gk,eb=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function yk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const uu=i=>{if(!i)return 1;const e=i.state;return!e||e.strm!==i||e.mode<T1||e.mode>K_?1:0},Q_=i=>{if(uu(i))return pa;const e=i.state;return i.total_in=i.total_out=e.total=0,i.msg="",e.wrap&&(i.adler=e.wrap&1),e.mode=T1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(pk),e.distcode=e.distdyn=new Int32Array(mk),e.sane=1,e.back=-1,au},$_=i=>{if(uu(i))return pa;const e=i.state;return e.wsize=0,e.whave=0,e.wnext=0,Q_(i)},J_=(i,e)=>{let t;if(uu(i))return pa;const r=i.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?pa:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,$_(i))},ew=(i,e)=>{if(!i)return pa;const t=new yk;i.state=t,t.strm=i,t.window=null,t.mode=T1;const r=J_(i,e);return r!==au&&(i.state=null),r},bk=i=>ew(i,vk);let tb=!0,o0,l0;const xk=i=>{if(tb){o0=new Int32Array(512),l0=new Int32Array(32);let e=0;for(;e<144;)i.lens[e++]=8;for(;e<256;)i.lens[e++]=9;for(;e<280;)i.lens[e++]=7;for(;e<288;)i.lens[e++]=8;for(jf(G_,i.lens,0,288,o0,0,i.work,{bits:9}),e=0;e<32;)i.lens[e++]=5;jf(Y_,i.lens,0,32,l0,0,i.work,{bits:5}),tb=!1}i.lencode=o0,i.lenbits=9,i.distcode=l0,i.distbits=5},tw=(i,e,t,r)=>{let a;const o=i.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(e.subarray(t-r,t-r+a),o.wnext),r-=a,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},_k=(i,e)=>{let t,r,a,o,h,c,f,d,m,x,w,y,N,A,k=0,C,P,F,z,q,J,Y,D;const R=new Uint8Array(4);let Z,E;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(uu(i)||!i.output||!i.input&&i.avail_in!==0)return pa;t=i.state,t.mode===ll&&(t.mode=r0),h=i.next_out,a=i.output,f=i.avail_out,o=i.next_in,r=i.input,c=i.avail_in,d=t.hold,m=t.bits,x=c,w=f,D=au;e:for(;;)switch(t.mode){case T1:if(t.wrap===0){t.mode=r0;break}for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,R[0]=d&255,R[1]=d>>>8&255,t.check=No(t.check,R,2,0),d=0,m=0,t.mode=Dy;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){i.msg="incorrect header check",t.mode=mi;break}if((d&15)!==Ly){i.msg="unknown compression method",t.mode=mi;break}if(d>>>=4,m-=4,Y=(d&15)+8,t.wbits===0&&(t.wbits=Y),Y>15||Y>t.wbits){i.msg="invalid window size",t.mode=mi;break}t.dmax=1<<t.wbits,t.flags=0,i.adler=t.check=1,t.mode=d&512?Py:ll,d=0,m=0;break;case Dy:for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.flags=d,(t.flags&255)!==Ly){i.msg="unknown compression method",t.mode=mi;break}if(t.flags&57344){i.msg="unknown header flags set",t.mode=mi;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=No(t.check,R,2,0)),d=0,m=0,t.mode=jy;case jy:for(;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,R[2]=d>>>16&255,R[3]=d>>>24&255,t.check=No(t.check,R,4,0)),d=0,m=0,t.mode=Ry;case Ry:for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=No(t.check,R,2,0)),d=0,m=0,t.mode=Iy;case Iy:if(t.flags&1024){for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=No(t.check,R,2,0)),d=0,m=0}else t.head&&(t.head.extra=null);t.mode=By;case By:if(t.flags&1024&&(y=t.length,y>c&&(y=c),y&&(t.head&&(Y=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+y),Y)),t.flags&512&&t.wrap&4&&(t.check=No(t.check,r,y,o)),c-=y,o+=y,t.length-=y),t.length))break e;t.length=0,t.mode=qy;case qy:if(t.flags&2048){if(c===0)break e;y=0;do Y=r[o+y++],t.head&&Y&&t.length<65536&&(t.head.name+=String.fromCharCode(Y));while(Y&&y<c);if(t.flags&512&&t.wrap&4&&(t.check=No(t.check,r,y,o)),c-=y,o+=y,Y)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=zy;case zy:if(t.flags&4096){if(c===0)break e;y=0;do Y=r[o+y++],t.head&&Y&&t.length<65536&&(t.head.comment+=String.fromCharCode(Y));while(Y&&y<c);if(t.flags&512&&t.wrap&4&&(t.check=No(t.check,r,y,o)),c-=y,o+=y,Y)break e}else t.head&&(t.head.comment=null);t.mode=Fy;case Fy:if(t.flags&512){for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.check&65535)){i.msg="header crc mismatch",t.mode=mi;break}d=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),i.adler=t.check=0,t.mode=ll;break;case Py:for(;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}i.adler=t.check=eb(d),d=0,m=0,t.mode=$p;case $p:if(t.havedict===0)return i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=c,t.hold=d,t.bits=m,fk;i.adler=t.check=1,t.mode=ll;case ll:if(e===uk||e===up)break e;case r0:if(t.last){d>>>=m&7,m-=m&7,t.mode=a0;break}for(;m<3;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}switch(t.last=d&1,d>>>=1,m-=1,d&3){case 0:t.mode=Uy;break;case 1:if(xk(t),t.mode=hp,e===up){d>>>=2,m-=2;break e}break;case 2:t.mode=Hy;break;case 3:i.msg="invalid block type",t.mode=mi}d>>>=2,m-=2;break;case Uy:for(d>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if((d&65535)!==(d>>>16^65535)){i.msg="invalid stored block lengths",t.mode=mi;break}if(t.length=d&65535,d=0,m=0,t.mode=s0,e===up)break e;case s0:t.mode=Vy;case Vy:if(y=t.length,y){if(y>c&&(y=c),y>f&&(y=f),y===0)break e;a.set(r.subarray(o,o+y),h),c-=y,o+=y,f-=y,h+=y,t.length-=y;break}t.mode=ll;break;case Hy:for(;m<14;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.nlen=(d&31)+257,d>>>=5,m-=5,t.ndist=(d&31)+1,d>>>=5,m-=5,t.ncode=(d&15)+4,d>>>=4,m-=4,t.nlen>286||t.ndist>30){i.msg="too many length or distance symbols",t.mode=mi;break}t.have=0,t.mode=Gy;case Gy:for(;t.have<t.ncode;){for(;m<3;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.lens[j[t.have++]]=d&7,d>>>=3,m-=3}for(;t.have<19;)t.lens[j[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Z={bits:t.lenbits},D=jf(ck,t.lens,0,19,t.lencode,0,t.work,Z),t.lenbits=Z.bits,D){i.msg="invalid code lengths set",t.mode=mi;break}t.have=0,t.mode=Yy;case Yy:for(;t.have<t.nlen+t.ndist;){for(;k=t.lencode[d&(1<<t.lenbits)-1],C=k>>>24,P=k>>>16&255,F=k&65535,!(C<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(F<16)d>>>=C,m-=C,t.lens[t.have++]=F;else{if(F===16){for(E=C+2;m<E;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(d>>>=C,m-=C,t.have===0){i.msg="invalid bit length repeat",t.mode=mi;break}Y=t.lens[t.have-1],y=3+(d&3),d>>>=2,m-=2}else if(F===17){for(E=C+3;m<E;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=C,m-=C,Y=0,y=3+(d&7),d>>>=3,m-=3}else{for(E=C+7;m<E;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=C,m-=C,Y=0,y=11+(d&127),d>>>=7,m-=7}if(t.have+y>t.nlen+t.ndist){i.msg="invalid bit length repeat",t.mode=mi;break}for(;y--;)t.lens[t.have++]=Y}}if(t.mode===mi)break;if(t.lens[256]===0){i.msg="invalid code -- missing end-of-block",t.mode=mi;break}if(t.lenbits=9,Z={bits:t.lenbits},D=jf(G_,t.lens,0,t.nlen,t.lencode,0,t.work,Z),t.lenbits=Z.bits,D){i.msg="invalid literal/lengths set",t.mode=mi;break}if(t.distbits=6,t.distcode=t.distdyn,Z={bits:t.distbits},D=jf(Y_,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Z),t.distbits=Z.bits,D){i.msg="invalid distances set",t.mode=mi;break}if(t.mode=hp,e===up)break e;case hp:t.mode=fp;case fp:if(c>=6&&f>=258){i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=c,t.hold=d,t.bits=m,ik(i,w),h=i.next_out,a=i.output,f=i.avail_out,o=i.next_in,r=i.input,c=i.avail_in,d=t.hold,m=t.bits,t.mode===ll&&(t.back=-1);break}for(t.back=0;k=t.lencode[d&(1<<t.lenbits)-1],C=k>>>24,P=k>>>16&255,F=k&65535,!(C<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(P&&(P&240)===0){for(z=C,q=P,J=F;k=t.lencode[J+((d&(1<<z+q)-1)>>z)],C=k>>>24,P=k>>>16&255,F=k&65535,!(z+C<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=z,m-=z,t.back+=z}if(d>>>=C,m-=C,t.back+=C,t.length=F,P===0){t.mode=Qy;break}if(P&32){t.back=-1,t.mode=ll;break}if(P&64){i.msg="invalid literal/length code",t.mode=mi;break}t.extra=P&15,t.mode=Wy;case Wy:if(t.extra){for(E=t.extra;m<E;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Xy;case Xy:for(;k=t.distcode[d&(1<<t.distbits)-1],C=k>>>24,P=k>>>16&255,F=k&65535,!(C<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if((P&240)===0){for(z=C,q=P,J=F;k=t.distcode[J+((d&(1<<z+q)-1)>>z)],C=k>>>24,P=k>>>16&255,F=k&65535,!(z+C<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=z,m-=z,t.back+=z}if(d>>>=C,m-=C,t.back+=C,P&64){i.msg="invalid distance code",t.mode=mi;break}t.offset=F,t.extra=P&15,t.mode=Zy;case Zy:if(t.extra){for(E=t.extra;m<E;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){i.msg="invalid distance too far back",t.mode=mi;break}t.mode=Ky;case Ky:if(f===0)break e;if(y=w-f,t.offset>y){if(y=t.offset-y,y>t.whave&&t.sane){i.msg="invalid distance too far back",t.mode=mi;break}y>t.wnext?(y-=t.wnext,N=t.wsize-y):N=t.wnext-y,y>t.length&&(y=t.length),A=t.window}else A=a,N=h-t.offset,y=t.length;y>f&&(y=f),f-=y,t.length-=y;do a[h++]=A[N++];while(--y);t.length===0&&(t.mode=fp);break;case Qy:if(f===0)break e;a[h++]=t.length,f--,t.mode=fp;break;case a0:if(t.wrap){for(;m<32;){if(c===0)break e;c--,d|=r[o++]<<m,m+=8}if(w-=f,i.total_out+=w,t.total+=w,t.wrap&4&&w&&(i.adler=t.check=t.flags?No(t.check,a,w,h-w):U0(t.check,a,w,h-w)),w=f,t.wrap&4&&(t.flags?d:eb(d))!==t.check){i.msg="incorrect data check",t.mode=mi;break}d=0,m=0}t.mode=$y;case $y:if(t.wrap&&t.flags){for(;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.total&4294967295)){i.msg="incorrect length check",t.mode=mi;break}d=0,m=0}t.mode=Jy;case Jy:D=hk;break e;case mi:D=W_;break e;case Z_:return X_;case K_:default:return pa}return i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=c,t.hold=d,t.bits=m,(t.wsize||w!==i.avail_out&&t.mode<mi&&(t.mode<a0||e!==My))&&tw(i,i.output,i.next_out,w-i.avail_out),x-=i.avail_in,w-=i.avail_out,i.total_in+=x,i.total_out+=w,t.total+=w,t.wrap&4&&w&&(i.adler=t.check=t.flags?No(t.check,a,w,i.next_out-w):U0(t.check,a,w,i.next_out-w)),i.data_type=t.bits+(t.last?64:0)+(t.mode===ll?128:0)+(t.mode===hp||t.mode===s0?256:0),(x===0&&w===0||e===My)&&D===au&&(D=dk),D},wk=i=>{if(uu(i))return pa;let e=i.state;return e.window&&(e.window=null),i.state=null,au},Sk=(i,e)=>{if(uu(i))return pa;const t=i.state;return(t.wrap&2)===0?pa:(t.head=e,e.done=!1,au)},Ak=(i,e)=>{const t=e.length;let r,a,o;return uu(i)||(r=i.state,r.wrap!==0&&r.mode!==$p)?pa:r.mode===$p&&(a=1,a=U0(a,e,t,0),a!==r.check)?W_:(o=tw(i,e,t,t),o?(r.mode=Z_,X_):(r.havedict=1,au))};var Nk=$_,Ck=J_,Tk=Q_,Ek=bk,kk=ew,Ok=_k,Mk=wk,Lk=Sk,Dk=Ak,jk="pako inflate (from Nodeca project)",ul={inflateReset:Nk,inflateReset2:Ck,inflateResetKeep:Tk,inflateInit:Ek,inflateInit2:kk,inflate:Ok,inflateEnd:Mk,inflateGetHeader:Lk,inflateSetDictionary:Dk,inflateInfo:jk};function Rk(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Ik=Rk;const nw=Object.prototype.toString,{Z_NO_FLUSH:Bk,Z_FINISH:qk,Z_OK:Yf,Z_STREAM_END:c0,Z_NEED_DICT:u0,Z_STREAM_ERROR:zk,Z_DATA_ERROR:nb,Z_MEM_ERROR:Fk}=U_;function cd(i){this.options=V_.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(i&&i.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tk,this.strm.avail_out=0;let t=ul.inflateInit2(this.strm,e.windowBits);if(t!==Yf)throw new Error(V0[t]);if(this.header=new Ik,ul.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=H0.string2buf(e.dictionary):nw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=ul.inflateSetDictionary(this.strm,e.dictionary),t!==Yf)))throw new Error(V0[t])}cd.prototype.push=function(i,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,h,c;if(this.ended)return!1;for(e===~~e?h=e:h=e===!0?qk:Bk,nw.call(i)==="[object ArrayBuffer]"?t.input=new Uint8Array(i):t.input=i,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=ul.inflate(t,h),o===u0&&a&&(o=ul.inflateSetDictionary(t,a),o===Yf?o=ul.inflate(t,h):o===nb&&(o=u0));t.avail_in>0&&o===c0&&t.state.wrap>0&&i[t.next_in]!==0;)ul.inflateReset(t),o=ul.inflate(t,h);switch(o){case zk:case nb:case u0:case Fk:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===c0))if(this.options.to==="string"){let f=H0.utf8border(t.output,t.next_out),d=t.next_out-f,m=H0.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Yf&&c===0)){if(o===c0)return o=ul.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};cd.prototype.onData=function(i){this.chunks.push(i)};cd.prototype.onEnd=function(i){i===Yf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=V_.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function Pk(i,e){const t=new cd(e);if(t.push(i),t.err)throw t.msg||V0[t.err];return t.result}var Uk=cd,Vk=Pk,Hk={Inflate:Uk,inflate:Vk};const{Inflate:Gk,inflate:Yk}=Hk;var ib=Gk,Wk=Yk;const iw=[];for(let i=0;i<256;i++){let e=i;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;iw[i]=e}const rb=4294967295;function Xk(i,e,t){let r=i;for(let a=0;a<t;a++)r=iw[(r^e[a])&255]^r>>>8;return r}function Zk(i,e){return(Xk(rb,i,e)^rb)>>>0}function sb(i,e,t){const r=i.readUint32(),a=Zk(new Uint8Array(i.buffer,i.byteOffset+i.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${a}`)}function rw(i,e,t){for(let r=0;r<t;r++)e[r]=i[r]}function sw(i,e,t,r){let a=0;for(;a<r;a++)e[a]=i[a];for(;a<t;a++)e[a]=i[a]+e[a-r]&255}function aw(i,e,t,r){let a=0;if(t.length===0)for(;a<r;a++)e[a]=i[a];else for(;a<r;a++)e[a]=i[a]+t[a]&255}function ow(i,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=i[o];for(;o<r;o++)e[o]=i[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=i[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=i[o]+(e[o-a]+t[o]>>1)&255}}function lw(i,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=i[o];for(;o<r;o++)e[o]=i[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=i[o]+t[o]&255;for(;o<r;o++)e[o]=i[o]+Kk(e[o-a],t[o],t[o-a])&255}}function Kk(i,e,t){const r=i+e-t,a=Math.abs(r-i),o=Math.abs(r-e),h=Math.abs(r-t);return a<=o&&a<=h?i:o<=h?e:t}function Qk(i,e,t,r,a,o){switch(i){case 0:rw(e,t,a);break;case 1:sw(e,t,a,o);break;case 2:aw(e,t,r,a);break;case 3:ow(e,t,r,a,o);break;case 4:lw(e,t,r,a,o);break;default:throw new Error(`Unsupported filter: ${i}`)}}const $k=new Uint16Array([255]),Jk=new Uint8Array($k.buffer),eO=Jk[0]===255;function tO(i){const{data:e,width:t,height:r,channels:a,depth:o}=i,h=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(r*t*c);let d=0;for(let m=0;m<7;m++){const x=h[m],w=Math.ceil((t-x.x)/x.xStep),y=Math.ceil((r-x.y)/x.yStep);if(w<=0||y<=0)continue;const N=w*c,A=new Uint8Array(N);for(let k=0;k<y;k++){const C=e[d++],P=e.subarray(d,d+N);d+=N;const F=new Uint8Array(N);Qk(C,P,F,A,N,c),A.set(F);for(let z=0;z<w;z++){const q=x.x+z*x.xStep,J=x.y+k*x.yStep;if(!(q>=t||J>=r))for(let Y=0;Y<c;Y++)f[(J*t+q)*c+Y]=F[z*c+Y]}}}if(o===16){const m=new Uint16Array(f.buffer);if(eO)for(let x=0;x<m.length;x++)m[x]=nO(m[x]);return m}else return f}function nO(i){return(i&255)<<8|i>>8&255}const iO=new Uint16Array([255]),rO=new Uint8Array(iO.buffer),sO=rO[0]===255,aO=new Uint8Array(0);function ab(i){const{data:e,width:t,height:r,channels:a,depth:o}=i,h=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*t),f=new Uint8Array(r*c);let d=aO,m=0,x,w;for(let y=0;y<r;y++){switch(x=e.subarray(m+1,m+1+c),w=f.subarray(y*c,(y+1)*c),e[m]){case 0:rw(x,w,c);break;case 1:sw(x,w,c,h);break;case 2:aw(x,w,d,c);break;case 3:ow(x,w,d,c,h);break;case 4:lw(x,w,d,c,h);break;default:throw new Error(`Unsupported filter: ${e[m]}`)}d=w,m+=c+1}if(o===16){const y=new Uint16Array(f.buffer);if(sO)for(let N=0;N<y.length;N++)y[N]=oO(y[N]);return y}else return f}function oO(i){return(i&255)<<8|i>>8&255}const Sp=Uint8Array.of(137,80,78,71,13,10,26,10);function ob(i){if(!lO(i.readBytes(Sp.length)))throw new Error("wrong PNG signature")}function lO(i){if(i.length<Sp.length)return!1;for(let e=0;e<Sp.length;e++)if(i[e]!==Sp[e])return!1;return!0}const cO="tEXt",uO=0,cw=new TextDecoder("latin1");function hO(i){if(dO(i),i.length===0||i.length>79)throw new Error("keyword length must be between 1 and 79")}const fO=/^[\u0000-\u00FF]*$/;function dO(i){if(!fO.test(i))throw new Error("invalid latin1 text")}function pO(i,e,t){const r=uw(e);i[r]=mO(e,t-r.length-1)}function uw(i){for(i.mark();i.readByte()!==uO;);const e=i.offset;i.reset();const t=cw.decode(i.readBytes(e-i.offset-1));return i.skip(1),hO(t),t}function mO(i,e){return cw.decode(i.readBytes(e))}const zs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},h0={UNKNOWN:-1,DEFLATE:0},lb={UNKNOWN:-1,ADAPTIVE:0},f0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},dp={NONE:0,BACKGROUND:1,PREVIOUS:2},d0={SOURCE:0,OVER:1};class gO extends $g{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new ib,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=h0.UNKNOWN,this._filterMethod=lb.UNKNOWN,this._interlaceMethod=f0.UNKNOWN,this._colorType=zs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(ob(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(ob(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case cO:pO(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?sb(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?sb(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=vO(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case zs.GREYSCALE:r=1;break;case zs.TRUECOLOUR:r=3;break;case zs.INDEXED_COLOUR:r=1;break;case zs.GREYSCALE_ALPHA:r=2;break;case zs.TRUECOLOUR_ALPHA:r=4;break;case zs.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==h0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<t;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case zs.GREYSCALE:case zs.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case zs.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case zs.UNKNOWN:case zs.GREYSCALE_ALPHA:case zs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=uw(this),r=this.readUint8();if(r!==h0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:Wk(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=ab({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case dp.NONE:break;case dp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const h=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[h+c]=0}break;case dp.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,a=(o,h)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+h)*this._png.channels,f=(o*t.width+h)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case d0.SOURCE:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case d0.OVER:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++){const m=t.data[f+this._png.channels-1]/r,x=d%(this._png.channels-1)===0?1:t.data[f+d],w=Math.floor(m*x+(1-m)*e.data[c+d]);e.data[c+d]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==lb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===f0.NO_INTERLACE)this._png.data=ab({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===f0.ADAM7)this._png.data=tO({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:dp.NONE,blendOp:d0.SOURCE,data:e}),this._inflator=new ib,this._writingDataChunks=!1}}function vO(i){if(i!==1&&i!==2&&i!==4&&i!==8&&i!==16)throw new Error(`invalid bit depth: ${i}`);return i}var cb;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.METRE=1]="METRE"})(cb||(cb={}));function yO(i,e){return new gO(i,e).decode()}var Ut=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function p0(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var Qn={log:p0,warn:function(i){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):p0.call(null,arguments))},error:function(i){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):p0(i))}};function m0(i,e,t){var r=new XMLHttpRequest;r.open("GET",i),r.responseType="blob",r.onload=function(){Zc(r.response,e,t)},r.onerror=function(){Qn.error("could not download file")},r.send()}function ub(i){var e=new XMLHttpRequest;e.open("HEAD",i,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function pp(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(e)}}var Zc=Ut.saveAs||((typeof window>"u"?"undefined":qn(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,e,t){var r=Ut.URL||Ut.webkitURL,a=document.createElement("a");e=e||i.name||"download",a.download=e,a.rel="noopener",typeof i=="string"?(a.href=i,a.origin!==location.origin?ub(a.href)?m0(i,e,t):pp(a,a.target="_blank"):pp(a)):(a.href=r.createObjectURL(i),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){pp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(i,e,t){if(e=e||i.name||"download",typeof i=="string")if(ub(i))m0(i,e,t);else{var r=document.createElement("a");r.href=i,r.target="_blank",setTimeout(function(){pp(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:qn(o)!=="object"&&(Qn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(i,t),e)}:function(i,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof i=="string")return m0(i,e,t);var a=i.type==="application/octet-stream",o=/constructor/i.test(Ut.HTMLElement)||Ut.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||a&&o)&&(typeof FileReader>"u"?"undefined":qn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=h?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=m:location=m,r=null},c.readAsDataURL(i)}else{var f=Ut.URL||Ut.webkitURL,d=f.createObjectURL(i);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function hw(i){var e;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,o=t[r].process,h=a.exec(i);h&&(e=o(h),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var Ap=Ut.atob.bind(Ut),hb=Ut.btoa.bind(Ut);function g0(i,e){var t=i[0],r=i[1],a=i[2],o=i[3];t=Rr(t,r,a,o,e[0],7,-680876936),o=Rr(o,t,r,a,e[1],12,-389564586),a=Rr(a,o,t,r,e[2],17,606105819),r=Rr(r,a,o,t,e[3],22,-1044525330),t=Rr(t,r,a,o,e[4],7,-176418897),o=Rr(o,t,r,a,e[5],12,1200080426),a=Rr(a,o,t,r,e[6],17,-1473231341),r=Rr(r,a,o,t,e[7],22,-45705983),t=Rr(t,r,a,o,e[8],7,1770035416),o=Rr(o,t,r,a,e[9],12,-1958414417),a=Rr(a,o,t,r,e[10],17,-42063),r=Rr(r,a,o,t,e[11],22,-1990404162),t=Rr(t,r,a,o,e[12],7,1804603682),o=Rr(o,t,r,a,e[13],12,-40341101),a=Rr(a,o,t,r,e[14],17,-1502002290),t=Ir(t,r=Rr(r,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Ir(o,t,r,a,e[6],9,-1069501632),a=Ir(a,o,t,r,e[11],14,643717713),r=Ir(r,a,o,t,e[0],20,-373897302),t=Ir(t,r,a,o,e[5],5,-701558691),o=Ir(o,t,r,a,e[10],9,38016083),a=Ir(a,o,t,r,e[15],14,-660478335),r=Ir(r,a,o,t,e[4],20,-405537848),t=Ir(t,r,a,o,e[9],5,568446438),o=Ir(o,t,r,a,e[14],9,-1019803690),a=Ir(a,o,t,r,e[3],14,-187363961),r=Ir(r,a,o,t,e[8],20,1163531501),t=Ir(t,r,a,o,e[13],5,-1444681467),o=Ir(o,t,r,a,e[2],9,-51403784),a=Ir(a,o,t,r,e[7],14,1735328473),t=Br(t,r=Ir(r,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Br(o,t,r,a,e[8],11,-2022574463),a=Br(a,o,t,r,e[11],16,1839030562),r=Br(r,a,o,t,e[14],23,-35309556),t=Br(t,r,a,o,e[1],4,-1530992060),o=Br(o,t,r,a,e[4],11,1272893353),a=Br(a,o,t,r,e[7],16,-155497632),r=Br(r,a,o,t,e[10],23,-1094730640),t=Br(t,r,a,o,e[13],4,681279174),o=Br(o,t,r,a,e[0],11,-358537222),a=Br(a,o,t,r,e[3],16,-722521979),r=Br(r,a,o,t,e[6],23,76029189),t=Br(t,r,a,o,e[9],4,-640364487),o=Br(o,t,r,a,e[12],11,-421815835),a=Br(a,o,t,r,e[15],16,530742520),t=qr(t,r=Br(r,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=qr(o,t,r,a,e[7],10,1126891415),a=qr(a,o,t,r,e[14],15,-1416354905),r=qr(r,a,o,t,e[5],21,-57434055),t=qr(t,r,a,o,e[12],6,1700485571),o=qr(o,t,r,a,e[3],10,-1894986606),a=qr(a,o,t,r,e[10],15,-1051523),r=qr(r,a,o,t,e[1],21,-2054922799),t=qr(t,r,a,o,e[8],6,1873313359),o=qr(o,t,r,a,e[15],10,-30611744),a=qr(a,o,t,r,e[6],15,-1560198380),r=qr(r,a,o,t,e[13],21,1309151649),t=qr(t,r,a,o,e[4],6,-145523070),o=qr(o,t,r,a,e[11],10,-1120210379),a=qr(a,o,t,r,e[2],15,718787259),r=qr(r,a,o,t,e[9],21,-343485551),i[0]=ac(t,i[0]),i[1]=ac(r,i[1]),i[2]=ac(a,i[2]),i[3]=ac(o,i[3])}function E1(i,e,t,r,a,o){return e=ac(ac(e,i),ac(r,o)),ac(e<<a|e>>>32-a,t)}function Rr(i,e,t,r,a,o,h){return E1(e&t|~e&r,i,e,a,o,h)}function Ir(i,e,t,r,a,o,h){return E1(e&r|t&~r,i,e,a,o,h)}function Br(i,e,t,r,a,o,h){return E1(e^t^r,i,e,a,o,h)}function qr(i,e,t,r,a,o,h){return E1(t^(e|~r),i,e,a,o,h)}function fw(i){var e,t=i.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=i.length;e+=64)g0(r,bO(i.substring(e-64,e)));i=i.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i.length;e++)a[e>>2]|=i.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(g0(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,g0(r,a),r}function bO(i){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=i.charCodeAt(e)+(i.charCodeAt(e+1)<<8)+(i.charCodeAt(e+2)<<16)+(i.charCodeAt(e+3)<<24);return t}var fb="0123456789abcdef".split("");function xO(i){for(var e="",t=0;t<4;t++)e+=fb[i>>8*t+4&15]+fb[i>>8*t&15];return e}function _O(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function G0(i){return fw(i).map(_O).join("")}var wO=(function(i){for(var e=0;e<i.length;e++)i[e]=xO(i[e]);return i.join("")})(fw("hello"))!="5d41402abc4b2a76b9719d911017c592";function ac(i,e){if(wO){var t=(65535&i)+(65535&e);return(i>>16)+(e>>16)+(t>>16)<<16|65535&t}return i+e&4294967295}function Y0(i,e){var t,r,a,o;if(i!==t){for(var h=(a=i,o=1+(256/i.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var m=c[f];d=(d+m+h.charCodeAt(f))%256,c[f]=c[d],c[d]=m}t=i,r=c}else c=r;var x=e.length,w=0,y=0,N="";for(f=0;f<x;f++)y=(y+(m=c[w=(w+1)%256]))%256,c[w]=c[y],c[y]=m,h=c[(c[w]+c[y])%256],N+=String.fromCharCode(e.charCodeAt(f)^h);return N}var db={print:4,modify:8,copy:16,"annot-forms":32};function oh(i,e,t,r){this.v=1,this.r=2;var a=192;i.forEach(function(c){if(db.perm!==void 0)throw new Error("Invalid permission: "+c);a+=db[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),h=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,h),this.P=-(1+(255^a)),this.encryptionKey=G0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Y0(this.encryptionKey,this.padding)}function lh(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var e="",t=i.length,r=0;r<t;r++){var a=i.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):i[r]}return e}function pb(i){if(qn(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!a],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var h=e[t][o];try{h[0].apply(i,r)}catch(c){Ut.console&&Qn.error("jsPDF PubSub Error",c.message,c)}h[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Jp(i){if(!(this instanceof Jp))return new Jp(i);var e="opacity,stroke-opacity".split(",");for(var t in i)i.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=i[t]);this.id="",this.objectNumber=-1}function dw(i,e){this.gState=i,this.matrix=e,this.id="",this.objectNumber=-1}function Qc(i,e,t,r,a){if(!(this instanceof Qc))return new Qc(i,e,t,r,a);this.type=i==="axial"?2:3,this.coords=e,this.colors=t,dw.call(this,r,a)}function ph(i,e,t,r,a){if(!(this instanceof ph))return new ph(i,e,t,r,a);this.boundingBox=i,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,dw.call(this,r,a)}function Tt(i){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],h=[],c=1,f=16,d="S",m=null;qn(i=i||{})==="object"&&(t=i.orientation,r=i.unit||r,a=i.format||a,o=i.compress||i.compressPdf||o,(m=i.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(e=i.precision),i.floatPrecision!==void 0&&(f=i.floatPrecision),d=i.defaultPathOperation||"S"),h=i.filters||(o===!0?["FlateEncode"]:h),r=r||"mm",t=(""+(t||"P")).toLowerCase();var x=i.putOnlyUsedFonts||!1,w={},y={internal:{},__private__:{}};y.__private__.PubSub=pb;var N="1.3",A=y.__private__.getPdfVersion=function(){return N};y.__private__.setPdfVersion=function(_){N=_};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return k};var C=y.__private__.getPageFormat=function(_){return k[_]};a=a||"a4";var P="compat",F="advanced",z=P;function q(){this.saveGraphicsState(),V(new ht(Ct,0,0,-Ct,0,Aa()*Ct).toString()+" cm"),this.setFontSize(this.getFontSize()/Ct),d="n",z=F}function J(){this.restoreGraphicsState(),d="S",z=P}var Y=y.__private__.combineFontStyleAndFontWeight=function(_,I){if(_=="bold"&&I=="normal"||_=="bold"&&I==400||_=="normal"&&I=="italic"||_=="bold"&&I=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return I&&(_=I==400||I==="normal"?_==="italic"?"italic":"normal":I!=700&&I!=="bold"||_!=="normal"?(I==700?"bold":I)+""+_:"bold"),_};y.advancedAPI=function(_){var I=z===P;return I&&q.call(this),typeof _!="function"||(_(this),I&&J.call(this)),this},y.compatAPI=function(_){var I=z===F;return I&&J.call(this),typeof _!="function"||(_(this),I&&q.call(this)),this},y.isAdvancedAPI=function(){return z===F};var D,R=function(_){if(z!==F)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=y.roundToPrecision=y.__private__.roundToPrecision=function(_,I){var le=e||I;if(isNaN(_)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(le).replace(/0+$/,"")};D=y.hpf=y.__private__.hpf=typeof f=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(_,f)}:f==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(_,16)};var E=y.f2=y.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return Z(_,2)},j=y.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return Z(_,3)},U=y.scale=y.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return z===P?_*Ct:z===F?_:void 0},$=function(_){return U((function(I){return z===P?Aa()-I:z===F?I:void 0})(_))};y.__private__.setPrecision=y.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var ue,Q="00000000000000000000000000000000",re=y.__private__.getFileId=function(){return Q},ce=y.__private__.setFileId=function(_){return Q=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(ji=new oh(m.userPermissions,m.userPassword,m.ownerPassword,Q)),Q};y.setFileId=function(_){return ce(_),this},y.getFileId=function(){return re()};var de=y.__private__.convertDateToPDFDate=function(_){var I=_.getTimezoneOffset(),le=I<0?"+":"-",ve=Math.floor(Math.abs(I/60)),Se=Math.abs(I%60),Pe=[le,ee(ve),"'",ee(Se),"'"].join("");return["D:",_.getFullYear(),ee(_.getMonth()+1),ee(_.getDate()),ee(_.getHours()),ee(_.getMinutes()),ee(_.getSeconds()),Pe].join("")},Ne=y.__private__.convertPDFDateToDate=function(_){var I=parseInt(_.substr(2,4),10),le=parseInt(_.substr(6,2),10)-1,ve=parseInt(_.substr(8,2),10),Se=parseInt(_.substr(10,2),10),Pe=parseInt(_.substr(12,2),10),Ze=parseInt(_.substr(14,2),10);return new Date(I,le,ve,Se,Pe,Ze,0)},X=y.__private__.setCreationDate=function(_){var I;if(_===void 0&&(_=new Date),_ instanceof Date)I=de(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");I=_}return ue=I},T=y.__private__.getCreationDate=function(_){var I=ue;return _==="jsDate"&&(I=Ne(ue)),I};y.setCreationDate=function(_){return X(_),this},y.getCreationDate=function(_){return T(_)};var H,ee=y.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ie=y.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},oe=0,pe=[],fe=[],me=0,_e=[],Re=[],Xe=!1,He=fe;y.__private__.setCustomOutputDestination=function(_){Xe=!0,He=_};var Qe=function(_){Xe||(He=_)};y.__private__.resetCustomOutputDestination=function(){Xe=!1,He=fe};var V=y.__private__.out=function(_){return _=_.toString(),me+=_.length+1,He.push(_),He},De=y.__private__.write=function(_){return V(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},ut=y.__private__.getArrayBuffer=function(_){for(var I=_.length,le=new ArrayBuffer(I),ve=new Uint8Array(le);I--;)ve[I]=_.charCodeAt(I);return le},nt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return nt};var Le=i.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(_){return Le=z===F?_/Ct:_,this};var tt,it=y.__private__.getFontSize=y.getFontSize=function(){return z===P?Le:Le*Ct},lt=i.R2L||!1;y.__private__.setR2L=y.setR2L=function(_){return lt=_,this},y.__private__.getR2L=y.getR2L=function(){return lt};var pt,kt=y.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))tt=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');tt=_}else tt=parseInt(_,10)};y.__private__.getZoomMode=function(){return tt};var Ge,Ke=y.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');pt=_};y.__private__.getPageMode=function(){return pt};var ct=y.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Ge=_};y.__private__.getLayoutMode=function(){return Ge},y.__private__.setDisplayMode=y.setDisplayMode=function(_,I,le){return kt(_),ct(I),Ke(le),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(_){if(Object.keys(gt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[_]},y.__private__.getDocumentProperties=function(){return gt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(_){for(var I in gt)gt.hasOwnProperty(I)&&_[I]&&(gt[I]=_[I]);return this},y.__private__.setDocumentProperty=function(_,I){if(Object.keys(gt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[_]=I};var at,Ct,ot,Zt,Dt,wt={},St={},Ft=[],we={},qe={},ze={},rt={},Et=null,et=0,Je=[],vt=new pb(y),Nn=i.hotfixes||[],$t={},cn={},Cn=[],ht=function _(I,le,ve,Se,Pe,Ze){if(!(this instanceof _))return new _(I,le,ve,Se,Pe,Ze);isNaN(I)&&(I=1),isNaN(le)&&(le=0),isNaN(ve)&&(ve=0),isNaN(Se)&&(Se=1),isNaN(Pe)&&(Pe=0),isNaN(Ze)&&(Ze=0),this._matrix=[I,le,ve,Se,Pe,Ze]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(_)},ht.prototype.multiply=function(_){var I=_.sx*this.sx+_.shy*this.shx,le=_.sx*this.shy+_.shy*this.sy,ve=_.shx*this.sx+_.sy*this.shx,Se=_.shx*this.shy+_.sy*this.sy,Pe=_.tx*this.sx+_.ty*this.shx+this.tx,Ze=_.tx*this.shy+_.ty*this.sy+this.ty;return new ht(I,le,ve,Se,Pe,Ze)},ht.prototype.decompose=function(){var _=this.sx,I=this.shy,le=this.shx,ve=this.sy,Se=this.tx,Pe=this.ty,Ze=Math.sqrt(_*_+I*I),yt=(_/=Ze)*le+(I/=Ze)*ve;le-=_*yt,ve-=I*yt;var At=Math.sqrt(le*le+ve*ve);return yt/=At,_*(ve/=At)<I*(le/=At)&&(_=-_,I=-I,yt=-yt,Ze=-Ze),{scale:new ht(Ze,0,0,At,0,0),translate:new ht(1,0,0,1,Se,Pe),rotate:new ht(_,I,-I,_,0,0),skew:new ht(1,0,yt,1,0,0)}},ht.prototype.toString=function(_){return this.join(" ")},ht.prototype.inversed=function(){var _=this.sx,I=this.shy,le=this.shx,ve=this.sy,Se=this.tx,Pe=this.ty,Ze=1/(_*ve-I*le),yt=ve*Ze,At=-I*Ze,qt=-le*Ze,Ht=_*Ze;return new ht(yt,At,qt,Ht,-yt*Se-qt*Pe,-At*Se-Ht*Pe)},ht.prototype.applyToPoint=function(_){var I=_.x*this.sx+_.y*this.shx+this.tx,le=_.x*this.shy+_.y*this.sy+this.ty;return new ns(I,le)},ht.prototype.applyToRectangle=function(_){var I=this.applyToPoint(_),le=this.applyToPoint(new ns(_.x+_.w,_.y+_.h));return new ba(I.x,I.y,le.x-I.x,le.y-I.y)},ht.prototype.clone=function(){var _=this.sx,I=this.shy,le=this.shx,ve=this.sy,Se=this.tx,Pe=this.ty;return new ht(_,I,le,ve,Se,Pe)},y.Matrix=ht;var sn=y.matrixMult=function(_,I){return I.multiply(_)},jn=new ht(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=jn;var Tn=function(_,I){if(!qe[_]){var le=(I instanceof Qc?"Sh":"P")+(Object.keys(we).length+1).toString(10);I.id=le,qe[_]=le,we[le]=I,vt.publish("addPattern",I)}};y.ShadingPattern=Qc,y.TilingPattern=ph,y.addShadingPattern=function(_,I){return R("addShadingPattern()"),Tn(_,I),this},y.beginTilingPattern=function(_){R("beginTilingPattern()"),zo(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},y.endTilingPattern=function(_,I){R("endTilingPattern()"),I.stream=Re[H].join(`
`),Tn(_,I),vt.publish("endTilingPattern",I),Cn.pop().restore()};var Ln,Jt=y.__private__.newObject=function(){var _=En();return Dn(_,!0),_},En=y.__private__.newObjectDeferred=function(){return oe++,pe[oe]=function(){return me},oe},Dn=function(_,I){return I=typeof I=="boolean"&&I,pe[_]=me,I&&V(_+" 0 obj"),_},Qi=y.__private__.newAdditionalObject=function(){var _={objId:En(),content:""};return _e.push(_),_},ui=En(),wn=En(),Wn=y.__private__.decodeColorString=function(_){var I=_.split(" ");if(I.length!==2||I[1]!=="g"&&I[1]!=="G")I.length!==5||I[4]!=="k"&&I[4]!=="K"||(I=[(1-I[0])*(1-I[3]),(1-I[1])*(1-I[3]),(1-I[2])*(1-I[3]),"r"]);else{var le=parseFloat(I[0]);I=[le,le,le,"r"]}for(var ve="#",Se=0;Se<3;Se++)ve+=("0"+Math.floor(255*parseFloat(I[Se])).toString(16)).slice(-2);return ve},Di=y.__private__.encodeColorString=function(_){var I;typeof _=="string"&&(_={ch1:_});var le=_.ch1,ve=_.ch2,Se=_.ch3,Pe=_.ch4,Ze=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var yt=new hw(le);if(yt.ok)le=yt.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var At=parseInt(le.substr(1),16);le=At>>16&255,ve=At>>8&255,Se=255&At}if(ve===void 0||Pe===void 0&&le===ve&&ve===Se)I=typeof le=="string"?le+" "+Ze[0]:_.precision===2?E(le/255)+" "+Ze[0]:j(le/255)+" "+Ze[0];else if(Pe===void 0||qn(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return["1.","1.","1.",Ze[1]].join(" ");I=typeof le=="string"?[le,ve,Se,Ze[1]].join(" "):_.precision===2?[E(le/255),E(ve/255),E(Se/255),Ze[1]].join(" "):[j(le/255),j(ve/255),j(Se/255),Ze[1]].join(" ")}else I=typeof le=="string"?[le,ve,Se,Pe,Ze[2]].join(" "):_.precision===2?[E(le),E(ve),E(Se),E(Pe),Ze[2]].join(" "):[j(le),j(ve),j(Se),j(Pe),Ze[2]].join(" ");return I},cr=y.__private__.getFilters=function(){return h},Or=y.__private__.putStream=function(_){var I=(_=_||{}).data||"",le=_.filters||cr(),ve=_.alreadyAppliedFilters||[],Se=_.addLength1||!1,Pe=I.length,Ze=_.objectId,yt=function(Ri){return Ri};if(m!==null&&Ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(yt=ji.encryptor(Ze,0));var At={};le===!0&&(le=["FlateEncode"]);var qt=_.additionalKeyValues||[],Ht=(At=Tt.API.processDataByFilters!==void 0?Tt.API.processDataByFilters(I,le):{data:I,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(At.data.length!==0&&(qt.push({key:"Length",value:At.data.length}),Se===!0&&qt.push({key:"Length1",value:Pe})),Ht.length!=0)if(Ht.split("/").length-1==1)qt.push({key:"Filter",value:Ht});else{qt.push({key:"Filter",value:"["+Ht+"]"});for(var un=0;un<qt.length;un+=1)if(qt[un].key==="DecodeParms"){for(var ti=[],yi=0;yi<At.reverseChain.split("/").length-1;yi+=1)ti.push("null");ti.push(qt[un].value),qt[un].value="["+ti.join(" ")+"]"}}V("<<");for(var zn=0;zn<qt.length;zn++)V("/"+qt[zn].key+" "+qt[zn].value);V(">>"),At.data.length!==0&&(V("stream"),V(yt(At.data)),V("endstream"))},ma=y.__private__.putPage=function(_){var I=_.number,le=_.data,ve=_.objId,Se=_.contentsObjId;Dn(ve,!0),V("<</Type /Page"),V("/Parent "+_.rootDictionaryObjId+" 0 R"),V("/Resources "+_.resourceDictionaryObjId+" 0 R"),V("/MediaBox ["+parseFloat(D(_.mediaBox.bottomLeftX))+" "+parseFloat(D(_.mediaBox.bottomLeftY))+" "+D(_.mediaBox.topRightX)+" "+D(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&V("/CropBox ["+D(_.cropBox.bottomLeftX)+" "+D(_.cropBox.bottomLeftY)+" "+D(_.cropBox.topRightX)+" "+D(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&V("/BleedBox ["+D(_.bleedBox.bottomLeftX)+" "+D(_.bleedBox.bottomLeftY)+" "+D(_.bleedBox.topRightX)+" "+D(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&V("/TrimBox ["+D(_.trimBox.bottomLeftX)+" "+D(_.trimBox.bottomLeftY)+" "+D(_.trimBox.topRightX)+" "+D(_.trimBox.topRightY)+"]"),_.artBox!==null&&V("/ArtBox ["+D(_.artBox.bottomLeftX)+" "+D(_.artBox.bottomLeftY)+" "+D(_.artBox.topRightX)+" "+D(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&V("/UserUnit "+_.userUnit),vt.publish("putPage",{objId:ve,pageContext:Je[I],pageNumber:I,page:le}),V("/Contents "+Se+" 0 R"),V(">>"),V("endobj");var Pe=le.join(`
`);return z===F&&(Pe+=`
Q`),Dn(Se,!0),Or({data:Pe,filters:cr(),objectId:Se}),V("endobj"),ve},Pr=y.__private__.putPages=function(){var _,I,le=[];for(_=1;_<=et;_++)Je[_].objId=En(),Je[_].contentsObjId=En();for(_=1;_<=et;_++)le.push(ma({number:_,data:Re[_],objId:Je[_].objId,contentsObjId:Je[_].contentsObjId,mediaBox:Je[_].mediaBox,cropBox:Je[_].cropBox,bleedBox:Je[_].bleedBox,trimBox:Je[_].trimBox,artBox:Je[_].artBox,userUnit:Je[_].userUnit,rootDictionaryObjId:ui,resourceDictionaryObjId:wn}));Dn(ui,!0),V("<</Type /Pages");var ve="/Kids [";for(I=0;I<et;I++)ve+=le[I]+" 0 R ";V(ve+"]"),V("/Count "+et),V(">>"),V("endobj"),vt.publish("postPutPages")},Ur=function(_){vt.publish("putFont",{font:_,out:V,newObject:Jt,putStream:Or}),_.isAlreadyPutted!==!0&&(_.objectNumber=Jt(),V("<<"),V("/Type /Font"),V("/BaseFont /"+lh(_.postScriptName)),V("/Subtype /Type1"),typeof _.encoding=="string"&&V("/Encoding /"+_.encoding),V("/FirstChar 32"),V("/LastChar 255"),V(">>"),V("endobj"))},Ys=function(_){_.objectNumber=Jt();var I=[];I.push({key:"Type",value:"/XObject"}),I.push({key:"Subtype",value:"/Form"}),I.push({key:"BBox",value:"["+[D(_.x),D(_.y),D(_.x+_.width),D(_.y+_.height)].join(" ")+"]"}),I.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var le=_.pages[1].join(`
`);Or({data:le,additionalKeyValues:I,objectId:_.objectNumber}),V("endobj")},As=function(_,I){I||(I=21);var le=Jt(),ve=(function(Ze,yt){var At,qt=[],Ht=1/(yt-1);for(At=0;At<1;At+=Ht)qt.push(At);if(qt.push(1),Ze[0].offset!=0){var un={offset:0,color:Ze[0].color};Ze.unshift(un)}if(Ze[Ze.length-1].offset!=1){var ti={offset:1,color:Ze[Ze.length-1].color};Ze.push(ti)}for(var yi="",zn=0,Ri=0;Ri<qt.length;Ri++){for(At=qt[Ri];At>Ze[zn+1].offset;)zn++;var Ai=Ze[zn].offset,Ji=(At-Ai)/(Ze[zn+1].offset-Ai),Na=Ze[zn].color,Os=Ze[zn+1].color;yi+=ie(Math.round((1-Ji)*Na[0]+Ji*Os[0]).toString(16))+ie(Math.round((1-Ji)*Na[1]+Ji*Os[1]).toString(16))+ie(Math.round((1-Ji)*Na[2]+Ji*Os[2]).toString(16))}return yi.trim()})(_.colors,I),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+I+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Or({data:ve,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),V("endobj"),_.objectNumber=Jt(),V("<< /ShadingType "+_.type),V("/ColorSpace /DeviceRGB");var Pe="/Coords ["+D(parseFloat(_.coords[0]))+" "+D(parseFloat(_.coords[1]))+" ";_.type===2?Pe+=D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3])):Pe+=D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3]))+" "+D(parseFloat(_.coords[4]))+" "+D(parseFloat(_.coords[5])),V(Pe+="]"),_.matrix&&V("/Matrix ["+_.matrix.toString()+"]"),V("/Function "+le+" 0 R"),V("/Extend [true true]"),V(">>"),V("endobj")},Ns=function(_,I){var le=En(),ve=Jt();I.push({resourcesOid:le,objectOid:ve}),_.objectNumber=ve;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+_.boundingBox.map(D).join(" ")+"]"}),Se.push({key:"XStep",value:D(_.xStep)}),Se.push({key:"YStep",value:D(_.yStep)}),Se.push({key:"Resources",value:le+" 0 R"}),_.matrix&&Se.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Or({data:_.stream,additionalKeyValues:Se,objectId:_.objectNumber}),V("endobj")},jo=function(_){for(var I in _.objectNumber=Jt(),V("<<"),_)switch(I){case"opacity":V("/ca "+E(_[I]));break;case"stroke-opacity":V("/CA "+E(_[I]))}V(">>"),V("endobj")},Ws=function(_){Dn(_.resourcesOid,!0),V("<<"),V("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var I in V("/Font <<"),wt)wt.hasOwnProperty(I)&&(x===!1||x===!0&&w.hasOwnProperty(I))&&V("/"+I+" "+wt[I].objectNumber+" 0 R");V(">>")})(),(function(){if(Object.keys(we).length>0){for(var I in V("/Shading <<"),we)we.hasOwnProperty(I)&&we[I]instanceof Qc&&we[I].objectNumber>=0&&V("/"+I+" "+we[I].objectNumber+" 0 R");vt.publish("putShadingPatternDict"),V(">>")}})(),(function(I){if(Object.keys(we).length>0){for(var le in V("/Pattern <<"),we)we.hasOwnProperty(le)&&we[le]instanceof y.TilingPattern&&we[le].objectNumber>=0&&we[le].objectNumber<I&&V("/"+le+" "+we[le].objectNumber+" 0 R");vt.publish("putTilingPatternDict"),V(">>")}})(_.objectOid),(function(){if(Object.keys(ze).length>0){var I;for(I in V("/ExtGState <<"),ze)ze.hasOwnProperty(I)&&ze[I].objectNumber>=0&&V("/"+I+" "+ze[I].objectNumber+" 0 R");vt.publish("putGStateDict"),V(">>")}})(),(function(){for(var I in V("/XObject <<"),$t)$t.hasOwnProperty(I)&&$t[I].objectNumber>=0&&V("/"+I+" "+$t[I].objectNumber+" 0 R");vt.publish("putXobjectDict"),V(">>")})(),V(">>"),V("endobj")},vi=function(_){St[_.fontName]=St[_.fontName]||{},St[_.fontName][_.fontStyle]=_.id},gc=function(_,I,le,ve,Se){var Pe={id:"F"+(Object.keys(wt).length+1).toString(10),postScriptName:_,fontName:I,fontStyle:le,encoding:ve,isStandardFont:Se||!1,metadata:{}};return vt.publish("addFont",{font:Pe,instance:this}),wt[Pe.id]=Pe,vi(Pe),Pe.id},Vr=y.__private__.pdfEscape=y.pdfEscape=function(_,I){return(function(le,ve){var Se,Pe,Ze,yt,At,qt,Ht,un,ti;if(Ze=(ve=ve||{}).sourceEncoding||"Unicode",At=ve.outputEncoding,(ve.autoencode||At)&&wt[at].metadata&&wt[at].metadata[Ze]&&wt[at].metadata[Ze].encoding&&(yt=wt[at].metadata[Ze].encoding,!At&&wt[at].encoding&&(At=wt[at].encoding),!At&&yt.codePages&&(At=yt.codePages[0]),typeof At=="string"&&(At=yt[At]),At)){for(Ht=!1,qt=[],Se=0,Pe=le.length;Se<Pe;Se++)(un=At[le.charCodeAt(Se)])?qt.push(String.fromCharCode(un)):qt.push(le[Se]),qt[Se].charCodeAt(0)>>8&&(Ht=!0);le=qt.join("")}for(Se=le.length;Ht===void 0&&Se!==0;)le.charCodeAt(Se-1)>>8&&(Ht=!0),Se--;if(!Ht)return le;for(qt=ve.noBOM?[]:[254,255],Se=0,Pe=le.length;Se<Pe;Se++){if((ti=(un=le.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qt.push(ti),qt.push(un-(ti<<8))}return String.fromCharCode.apply(void 0,qt)})(_,I).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cs=y.__private__.beginPage=function(_){Re[++et]=[],Je[et]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},yc(et),Qe(Re[H])},ga=function(_,I){var le,ve,Se;switch(t=I||t,typeof _=="string"&&(le=C(_.toLowerCase()),Array.isArray(le)&&(ve=le[0],Se=le[1])),Array.isArray(_)&&(ve=_[0]*Ct,Se=_[1]*Ct),isNaN(ve)&&(ve=a[0],Se=a[1]),(ve>14400||Se>14400)&&(Qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Se=Math.min(14400,Se)),a=[ve,Se],t.substr(0,1)){case"l":Se>ve&&(a=[Se,ve]);break;case"p":ve>Se&&(a=[Se,ve])}Cs(a),jt(Io),V(Yr),wl!==0&&V(wl+" J"),Ui!==0&&V(Ui+" j"),vt.publish("addPage",{pageNumber:et})},vc=function(_){_>0&&_<=et&&(Re.splice(_,1),Je.splice(_,1),et--,H>et&&(H=et),this.setPage(H))},yc=function(_){_>0&&_<=et&&(H=_)},bc=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Re.length-1},fu=function(_,I,le){var ve,Se=void 0;return le=le||{},_=_!==void 0?_:wt[at].fontName,I=I!==void 0?I:wt[at].fontStyle,ve=_.toLowerCase(),St[ve]!==void 0&&St[ve][I]!==void 0?Se=St[ve][I]:St[_]!==void 0&&St[_][I]!==void 0?Se=St[_][I]:le.disableWarning===!1&&Qn.warn("Unable to look up font label for font '"+_+"', '"+I+"'. Refer to getFontList() for available fonts."),Se||le.noFallback||(Se=St.times[I])==null&&(Se=St.times.normal),Se},Hr=y.__private__.putInfo=function(){var _=Jt(),I=function(ve){return ve};for(var le in m!==null&&(I=ji.encryptor(_,0)),V("<<"),V("/Producer ("+Vr(I("jsPDF "+Tt.version))+")"),gt)gt.hasOwnProperty(le)&&gt[le]&&V("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+Vr(I(gt[le]))+")");V("/CreationDate ("+Vr(I(ue))+")"),V(">>"),V("endobj")},va=y.__private__.putCatalog=function(_){var I=(_=_||{}).rootDictionaryObjId||ui;switch(Jt(),V("<<"),V("/Type /Catalog"),V("/Pages "+I+" 0 R"),tt||(tt="fullwidth"),tt){case"fullwidth":V("/OpenAction [3 0 R /FitH null]");break;case"fullheight":V("/OpenAction [3 0 R /FitV null]");break;case"fullpage":V("/OpenAction [3 0 R /Fit]");break;case"original":V("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+tt;le.substr(le.length-1)==="%"&&(tt=parseInt(tt)/100),typeof tt=="number"&&V("/OpenAction [3 0 R /XYZ null null "+E(tt)+"]")}switch(Ge||(Ge="continuous"),Ge){case"continuous":V("/PageLayout /OneColumn");break;case"single":V("/PageLayout /SinglePage");break;case"two":case"twoleft":V("/PageLayout /TwoColumnLeft");break;case"tworight":V("/PageLayout /TwoColumnRight")}pt&&V("/PageMode /"+pt),vt.publish("putCatalog"),V(">>"),V("endobj")},Ts=y.__private__.putTrailer=function(){V("trailer"),V("<<"),V("/Size "+(oe+1)),V("/Root "+oe+" 0 R"),V("/Info "+(oe-1)+" 0 R"),m!==null&&V("/Encrypt "+ji.oid+" 0 R"),V("/ID [ <"+Q+"> <"+Q+"> ]"),V(">>")},bn=y.__private__.putHeader=function(){V("%PDF-"+N),V("%")},xc=y.__private__.putXRef=function(){var _="0000000000";V("xref"),V("0 "+(oe+1)),V("0000000000 65535 f ");for(var I=1;I<=oe;I++)typeof pe[I]=="function"?V((_+pe[I]()).slice(-10)+" 00000 n "):pe[I]!==void 0?V((_+pe[I]).slice(-10)+" 00000 n "):V("0000000000 00000 n ")},Xs=y.__private__.buildDocument=function(){var _;oe=0,me=0,fe=[],pe=[],_e=[],ui=En(),wn=En(),Qe(fe),vt.publish("buildDocument"),bn(),Pr(),(function(){vt.publish("putAdditionalObjects");for(var le=0;le<_e.length;le++){var ve=_e[le];Dn(ve.objId,!0),V(ve.content),V("endobj")}vt.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var le in wt)wt.hasOwnProperty(le)&&(x===!1||x===!0&&w.hasOwnProperty(le))&&Ur(wt[le])})(),(function(){var le;for(le in ze)ze.hasOwnProperty(le)&&jo(ze[le])})(),(function(){for(var le in $t)$t.hasOwnProperty(le)&&Ys($t[le])})(),(function(le){var ve;for(ve in we)we.hasOwnProperty(ve)&&(we[ve]instanceof Qc?As(we[ve]):we[ve]instanceof ph&&Ns(we[ve],le))})(_),vt.publish("putResources"),_.forEach(Ws),Ws({resourcesOid:wn,objectOid:Number.MAX_SAFE_INTEGER}),vt.publish("postPutResources"),m!==null&&(ji.oid=Jt(),V("<<"),V("/Filter /Standard"),V("/V "+ji.v),V("/R "+ji.r),V("/U <"+ji.toHexString(ji.U)+">"),V("/O <"+ji.toHexString(ji.O)+">"),V("/P "+ji.P),V(">>"),V("endobj")),Hr(),va();var I=me;return xc(),Ts(),V("startxref"),V(""+I),V("%%EOF"),Qe(Re[H]),fe.join(`
`)},so=y.__private__.getBlob=function(_){return new Blob([ut(_)],{type:"application/pdf"})},_c=y.output=y.__private__.output=(Ln=function(_,I){switch(typeof(I=I||{})=="string"?I={filename:I}:I.filename=I.filename||"generated.pdf",_){case void 0:return Xs();case"save":y.save(I.filename);break;case"arraybuffer":return ut(Xs());case"blob":return so(Xs());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(so(Xs()))||void 0;Qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",ve=Xs();try{le=hb(ve)}catch{le=hb(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+I.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';I.pdfObjectUrl&&(Se=I.pdfObjectUrl,Pe="");var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(I)+");<\/script></body></html>",yt=Ut.open();return yt!==null&&yt.document.write(Ze),yt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(I.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+I.filename+'" width="500px" height="400px" /></body></html>',qt=Ut.open();if(qt!==null){qt.document.write(At);var Ht=this;qt.document.documentElement.querySelector("#pdfViewer").onload=function(){qt.document.title=I.filename,qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",I)+'"></iframe></body></html>',ti=Ut.open();if(ti!==null&&(ti.document.write(un),ti.document.title=I.filename),ti||typeof safari>"u")return ti;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",I);default:return null}},Ln.foo=function(){try{return Ln.apply(this,arguments)}catch(le){var _=le.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var I="Error in function "+_.split(`
`)[0].split("<")[0]+": "+le.message;if(!Ut.console)throw new Error(I);Ut.console.error(I,le),Ut.alert&&alert(I)}},Ln.foo.bar=Ln,Ln.foo),br=function(_){return Array.isArray(Nn)===!0&&Nn.indexOf(_)>-1};switch(r){case"pt":Ct=1;break;case"mm":Ct=72/25.4;break;case"cm":Ct=72/2.54;break;case"in":Ct=72;break;case"px":Ct=br("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ct=12;break;case"ex":Ct=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ct=r}var ji=null;X(),ce();var Si=y.__private__.getPageInfo=y.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Je[_].objId,pageNumber:_,pageContext:Je[_]}},xl=y.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var I in Je)if(Je[I].objId===_)break;return Si(I)},du=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Je[H].objId,pageNumber:H,pageContext:Je[H]}};y.addPage=function(){return ga.apply(this,arguments),this},y.setPage=function(){return yc.apply(this,arguments),Qe.call(this,Re[H]),this},y.insertPage=function(_){return this.addPage(),this.movePage(H,_),this},y.movePage=function(_,I){var le,ve;if(_>I){le=Re[_],ve=Je[_];for(var Se=_;Se>I;Se--)Re[Se]=Re[Se-1],Je[Se]=Je[Se-1];Re[I]=le,Je[I]=ve,this.setPage(I)}else if(_<I){le=Re[_],ve=Je[_];for(var Pe=_;Pe<I;Pe++)Re[Pe]=Re[Pe+1],Je[Pe]=Je[Pe+1];Re[I]=le,Je[I]=ve,this.setPage(I)}return this},y.deletePage=function(){return vc.apply(this,arguments),this},y.__private__.text=y.text=function(_,I,le,ve,Se){var Pe,Ze,yt,At,qt,Ht,un,ti,yi,zn=(ve=ve||{}).scope||this;if(typeof _=="number"&&typeof I=="number"&&(typeof le=="string"||Array.isArray(le))){var Ri=le;le=I,I=_,_=Ri}if(arguments[3]instanceof ht==0?(yt=arguments[4],At=arguments[5],qn(un=arguments[3])==="object"&&un!==null||(typeof yt=="string"&&(At=yt,yt=null),typeof un=="string"&&(At=un,un=null),typeof un=="number"&&(yt=un,un=null),ve={flags:un,angle:yt,align:At})):(R("The transform parameter of text() with a Matrix value"),yi=Se),isNaN(I)||isNaN(le)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return zn;var Ai,Ji="",Na=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:ya,Os=zn.internal.scaleFactor;function Ca(xn){return xn=xn.split("	").join(Array(ve.TabLen||9).join(" ")),Vr(xn,un)}function Oc(xn){for(var hn,Fn=xn.concat(),xi=[],ra=Fn.length;ra--;)typeof(hn=Fn.shift())=="string"?xi.push(hn):Array.isArray(xn)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?xi.push(hn[0]):xi.push([hn[0],hn[1],hn[2]]);return xi}function Al(xn,hn){var Fn;if(typeof xn=="string")Fn=hn(xn)[0];else if(Array.isArray(xn)){for(var xi,ra,js=xn.concat(),Vo=[],Dc=js.length;Dc--;)typeof(xi=js.shift())=="string"?Vo.push(hn(xi)[0]):Array.isArray(xi)&&typeof xi[0]=="string"&&(ra=hn(xi[0],xi[1],xi[2]),Vo.push([ra[0],ra[1],ra[2]]));Fn=Vo}return Fn}var Qs=!1,Ms=!0;if(typeof _=="string")Qs=!0;else if(Array.isArray(_)){var Po=_.concat();Ze=[];for(var Ta,Vi=Po.length;Vi--;)(typeof(Ta=Po.shift())!="string"||Array.isArray(Ta)&&typeof Ta[0]!="string")&&(Ms=!1);Qs=Ms}if(Qs===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var oo=Le/zn.internal.scaleFactor,lo=oo*(Na-1);switch(ve.baseline){case"bottom":le-=lo;break;case"top":le+=oo-lo;break;case"hanging":le+=oo-2*lo;break;case"middle":le+=oo/2-lo}if((Ht=ve.maxWidth||0)>0&&(typeof _=="string"?_=zn.splitTextToSize(_,Ht):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(xn,hn){return xn.concat(zn.splitTextToSize(hn,Ht))},[]))),Pe={text:_,x:I,y:le,options:ve,mutex:{pdfEscape:Vr,activeFontKey:at,fonts:wt,activeFontSize:Le}},vt.publish("preProcessText",Pe),_=Pe.text,yt=(ve=Pe.options).angle,yi instanceof ht==0&&yt&&typeof yt=="number"){yt*=Math.PI/180,ve.rotationDirection===0&&(yt=-yt),z===F&&(yt=-yt);var Nl=Math.cos(yt),$s=Math.sin(yt);yi=new ht(Nl,$s,-$s,Nl,0,0)}else yt&&yt instanceof ht&&(yi=yt);z!==F||yi||(yi=jn),(qt=ve.charSpace||ts)!==void 0&&(Ji+=D(U(qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ti=ve.horizontalScale)!==void 0&&(Ji+=D(100*ti)+` Tz
`),ve.lang;var _r=-1,Ea=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Cl=zn.internal.getCurrentPageInfo().pageContext;switch(Ea){case 0:case!1:case"fill":_r=0;break;case 1:case!0:case"stroke":_r=1;break;case 2:case"fillThenStroke":_r=2;break;case 3:case"invisible":_r=3;break;case 4:case"fillAndAddForClipping":_r=4;break;case 5:case"strokeAndAddPathForClipping":_r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_r=6;break;case 7:case"addToPathForClipping":_r=7}var Mc=Cl.usedRenderingMode!==void 0?Cl.usedRenderingMode:-1;_r!==-1?Ji+=_r+` Tr
`:Mc!==-1&&(Ji+=`0 Tr
`),_r!==-1&&(Cl.usedRenderingMode=_r),At=ve.align||"left";var Wr,Ls=Le*Na,ka=zn.internal.pageSize.getWidth(),Lc=wt[at];qt=ve.charSpace||ts,Ht=ve.maxWidth||0,un=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Ds=[],co=function(xn){return zn.getStringUnitWidth(xn,{font:Lc,charSpace:qt,fontSize:Le,doKerning:!1})*Le/Os};if(Object.prototype.toString.call(_)==="[object Array]"){var Lr;Ze=Oc(_),At!=="left"&&(Wr=Ze.map(co));var wr,Js=0;if(At==="right"){I-=Wr[0],_=[],Vi=Ze.length;for(var ea=0;ea<Vi;ea++)ea===0?(wr=Gr(I),Lr=$i(le)):(wr=U(Js-Wr[ea]),Lr=-Ls),_.push([Ze[ea],wr,Lr]),Js=Wr[ea]}else if(At==="center"){I-=Wr[0]/2,_=[],Vi=Ze.length;for(var Oa=0;Oa<Vi;Oa++)Oa===0?(wr=Gr(I),Lr=$i(le)):(wr=U((Js-Wr[Oa])/2),Lr=-Ls),_.push([Ze[Oa],wr,Lr]),Js=Wr[Oa]}else if(At==="left"){_=[],Vi=Ze.length;for(var Tl=0;Tl<Vi;Tl++)_.push(Ze[Tl])}else if(At==="justify"&&Lc.encoding==="Identity-H"){_=[],Vi=Ze.length,Ht=Ht!==0?Ht:ka;for(var El=0,bi=0;bi<Vi;bi++)if(Lr=bi===0?$i(le):-Ls,wr=bi===0?Gr(I):El,bi<Vi-1){var wu=U((Ht-Wr[bi])/(Ze[bi].split(" ").length-1)),ta=Ze[bi].split(" ");_.push([ta[0]+" ",wr,Lr]),El=0;for(var na=1;na<ta.length;na++){var er=(co(ta[na-1]+" "+ta[na])-co(ta[na]))*Os+wu;na==ta.length-1?_.push([ta[na],er,0]):_.push([ta[na]+" ",er,0]),El-=er}}else _.push([Ze[bi],wr,Lr]);_.push(["",El,0])}else{if(At!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Vi=Ze.length,Ht=Ht!==0?Ht:ka,bi=0;bi<Vi;bi++){Lr=bi===0?$i(le):-Ls,wr=bi===0?Gr(I):0;var Ma=Ze[bi].split(" ").length-1,kl=Ma>0?(Ht-Wr[bi])/Ma:0;bi<Vi-1?Ds.push(D(U(kl))):Ds.push(0),_.push([Ze[bi],wr,Lr])}}}(typeof ve.R2L=="boolean"?ve.R2L:lt)===!0&&(_=Al(_,function(xn,hn,Fn){return[xn.split("").reverse().join(""),hn,Fn]})),Pe={text:_,x:I,y:le,options:ve,mutex:{pdfEscape:Vr,activeFontKey:at,fonts:wt,activeFontSize:Le}},vt.publish("postProcessText",Pe),_=Pe.text,Ai=Pe.mutex.isHex||!1;var Ol=wt[at].encoding;Ol!=="WinAnsiEncoding"&&Ol!=="StandardEncoding"||(_=Al(_,function(xn,hn,Fn){return[Ca(xn),hn,Fn]})),Ze=Oc(_),_=[];for(var La,Da,ia,Uo=Array.isArray(Ze[0])?1:0,Xr="",ja=function(xn,hn,Fn){var xi="";return Fn instanceof ht?(Fn=typeof ve.angle=="number"?sn(Fn,new ht(1,0,0,1,xn,hn)):sn(new ht(1,0,0,1,xn,hn),Fn),z===F&&(Fn=sn(new ht(1,0,0,-1,0,0),Fn)),xi=Fn.join(" ")+` Tm
`):xi=D(xn)+" "+D(hn)+` Td
`,xi},ur=0;ur<Ze.length;ur++){switch(Xr="",Uo){case 1:ia=(Ai?"<":"(")+Ze[ur][0]+(Ai?">":")"),La=parseFloat(Ze[ur][1]),Da=parseFloat(Ze[ur][2]);break;case 0:ia=(Ai?"<":"(")+Ze[ur]+(Ai?">":")"),La=Gr(I),Da=$i(le)}Ds!==void 0&&Ds[ur]!==void 0&&(Xr=Ds[ur]+` Tw
`),ur===0?_.push(Xr+ja(La,Da,yi)+ia):Uo===0?_.push(Xr+ia):Uo===1&&_.push(Xr+ja(La,Da,yi)+ia)}_=Uo===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var is=`BT
/`;return is+=at+" "+Le+` Tf
`,is+=D(Le*Na)+` TL
`,is+=Zs+`
`,is+=Ji,is+=_,V(is+="ET"),w[at]=!0,zn};var wc=y.__private__.clip=y.clip=function(_){return V(_==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return wc("evenodd")},y.__private__.discardPath=y.discardPath=function(){return V("n"),this};var xr=y.__private__.isValidStyle=function(_){var I=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(I=!0),I};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(_){return xr(_)&&(d=_),this};var Sc=y.__private__.getStyle=y.getStyle=function(_){var I=d;switch(_){case"D":case"S":I="S";break;case"F":I="f";break;case"FD":case"DF":I="B";break;case"f":case"f*":case"B":case"B*":I=_}return I},Ac=y.close=function(){return V("h"),this};y.stroke=function(){return V("S"),this},y.fill=function(_){return Es("f",_),this},y.fillEvenOdd=function(_){return Es("f*",_),this},y.fillStroke=function(_){return Es("B",_),this},y.fillStrokeEvenOdd=function(_){return Es("B*",_),this};var Es=function(_,I){qn(I)==="object"?mu(I,_):V(_)},Ro=function(_){_===null||z===F&&_===void 0||(_=Sc(_),V(_))};function pu(_,I,le,ve,Se){var Pe=new ph(I||this.boundingBox,le||this.xStep,ve||this.yStep,this.gState,Se||this.matrix);Pe.stream=this.stream;var Ze=_+"$$"+this.cloneIndex+++"$$";return Tn(Ze,Pe),Pe}var mu=function(_,I){var le=qe[_.key],ve=we[le];if(ve instanceof Qc)V("q"),V(Nc(I)),ve.gState&&y.setGState(ve.gState),V(_.matrix.toString()+" cm"),V("/"+le+" sh"),V("Q");else if(ve instanceof ph){var Se=new ht(1,0,0,-1,0,Aa());_.matrix&&(Se=Se.multiply(_.matrix||jn),le=pu.call(ve,_.key,_.boundingBox,_.xStep,_.yStep,Se).id),V("q"),V("/Pattern cs"),V("/"+le+" scn"),ve.gState&&y.setGState(ve.gState),V(I),V("Q")}},Nc=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cc=y.moveTo=function(_,I){return V(D(U(_))+" "+D($(I))+" m"),this},gu=y.lineTo=function(_,I){return V(D(U(_))+" "+D($(I))+" l"),this},Mr=y.curveTo=function(_,I,le,ve,Se,Pe){return V([D(U(_)),D($(I)),D(U(le)),D($(ve)),D(U(Se)),D($(Pe)),"c"].join(" ")),this};y.__private__.line=y.line=function(_,I,le,ve,Se){if(isNaN(_)||isNaN(I)||isNaN(le)||isNaN(ve)||!xr(Se))throw new Error("Invalid arguments passed to jsPDF.line");return z===P?this.lines([[le-_,ve-I]],_,I,[1,1],Se||"S"):this.lines([[le-_,ve-I]],_,I,[1,1]).stroke()},y.__private__.lines=y.lines=function(_,I,le,ve,Se,Pe){var Ze,yt,At,qt,Ht,un,ti,yi,zn,Ri,Ai,Ji;if(typeof _=="number"&&(Ji=le,le=I,I=_,_=Ji),ve=ve||[1,1],Pe=Pe||!1,isNaN(I)||isNaN(le)||!Array.isArray(_)||!Array.isArray(ve)||!xr(Se)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cc(I,le),Ze=ve[0],yt=ve[1],qt=_.length,Ri=I,Ai=le,At=0;At<qt;At++)(Ht=_[At]).length===2?(Ri=Ht[0]*Ze+Ri,Ai=Ht[1]*yt+Ai,gu(Ri,Ai)):(un=Ht[0]*Ze+Ri,ti=Ht[1]*yt+Ai,yi=Ht[2]*Ze+Ri,zn=Ht[3]*yt+Ai,Ri=Ht[4]*Ze+Ri,Ai=Ht[5]*yt+Ai,Mr(un,ti,yi,zn,Ri,Ai));return Pe&&Ac(),Ro(Se),this},y.path=function(_){for(var I=0;I<_.length;I++){var le=_[I],ve=le.c;switch(le.op){case"m":Cc(ve[0],ve[1]);break;case"l":gu(ve[0],ve[1]);break;case"c":Mr.apply(this,ve);break;case"h":Ac()}}return this},y.__private__.rect=y.rect=function(_,I,le,ve,Se){if(isNaN(_)||isNaN(I)||isNaN(le)||isNaN(ve)||!xr(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return z===P&&(ve=-ve),V([D(U(_)),D($(I)),D(U(le)),D(U(ve)),"re"].join(" ")),Ro(Se),this},y.__private__.triangle=y.triangle=function(_,I,le,ve,Se,Pe,Ze){if(isNaN(_)||isNaN(I)||isNaN(le)||isNaN(ve)||isNaN(Se)||isNaN(Pe)||!xr(Ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-_,ve-I],[Se-le,Pe-ve],[_-Se,I-Pe]],_,I,[1,1],Ze,!0),this},y.__private__.roundedRect=y.roundedRect=function(_,I,le,ve,Se,Pe,Ze){if(isNaN(_)||isNaN(I)||isNaN(le)||isNaN(ve)||isNaN(Se)||isNaN(Pe)||!xr(Ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var yt=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*le),Pe=Math.min(Pe,.5*ve),this.lines([[le-2*Se,0],[Se*yt,0,Se,Pe-Pe*yt,Se,Pe],[0,ve-2*Pe],[0,Pe*yt,-Se*yt,Pe,-Se,Pe],[2*Se-le,0],[-Se*yt,0,-Se,-Pe*yt,-Se,-Pe],[0,2*Pe-ve],[0,-Pe*yt,Se*yt,-Pe,Se,-Pe]],_+Se,I,[1,1],Ze,!0),this},y.__private__.ellipse=y.ellipse=function(_,I,le,ve,Se){if(isNaN(_)||isNaN(I)||isNaN(le)||isNaN(ve)||!xr(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*le,Ze=4/3*(Math.SQRT2-1)*ve;return Cc(_+le,I),Mr(_+le,I-Ze,_+Pe,I-ve,_,I-ve),Mr(_-Pe,I-ve,_-le,I-Ze,_-le,I),Mr(_-le,I+Ze,_-Pe,I+ve,_,I+ve),Mr(_+Pe,I+ve,_+le,I+Ze,_+le,I),Ro(Se),this},y.__private__.circle=y.circle=function(_,I,le,ve){if(isNaN(_)||isNaN(I)||isNaN(le)||!xr(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,I,le,le,ve)},y.setFont=function(_,I,le){return le&&(I=Y(I,le)),at=fu(_,I,{disableWarning:!1}),this};var ks=y.__private__.getFont=y.getFont=function(){return wt[fu.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var _,I,le={};for(_ in St)if(St.hasOwnProperty(_))for(I in le[_]=[],St[_])St[_].hasOwnProperty(I)&&le[_].push(I);return le},y.addFont=function(_,I,le,ve,Se){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(le=Y(le,ve)),gc.call(this,_,I,le,Se=Se||"Identity-H")};var ya,Io=i.lineWidth||.200025,ao=y.__private__.getLineWidth=y.getLineWidth=function(){return Io},jt=y.__private__.setLineWidth=y.setLineWidth=function(_){return Io=_,V(D(U(_))+" w"),this};y.__private__.setLineDash=Tt.API.setLineDash=Tt.API.setLineDashPattern=function(_,I){if(_=_||[],I=I||0,isNaN(I)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(le){return D(U(le))}).join(" "),I=D(U(I)),V("["+_+"] "+I+" d"),this};var vu=y.__private__.getLineHeight=y.getLineHeight=function(){return Le*ya};y.__private__.getLineHeight=y.getLineHeight=function(){return Le*ya};var Tc=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(ya=_),this},yu=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return ya};Tc(i.lineHeight);var Gr=y.__private__.getHorizontalCoordinate=function(_){return U(_)},$i=y.__private__.getVerticalCoordinate=function(_){return z===F?_:Je[H].mediaBox.topRightY-Je[H].mediaBox.bottomLeftY-U(_)},Ec=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(_){return D(Gr(_))},Bo=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(_){return D($i(_))},Yr=i.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Wn(Yr)},y.__private__.setStrokeColor=y.setDrawColor=function(_,I,le,ve){return Yr=Di({ch1:_,ch2:I,ch3:le,ch4:ve,pdfColorType:"draw",precision:2}),V(Yr),this};var qo=i.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Wn(qo)},y.__private__.setFillColor=y.setFillColor=function(_,I,le,ve){return qo=Di({ch1:_,ch2:I,ch3:le,ch4:ve,pdfColorType:"fill",precision:2}),V(qo),this};var Zs=i.textColor||"0 g",bu=y.__private__.getTextColor=y.getTextColor=function(){return Wn(Zs)};y.__private__.setTextColor=y.setTextColor=function(_,I,le,ve){return Zs=Di({ch1:_,ch2:I,ch3:le,ch4:ve,pdfColorType:"text",precision:3}),this};var ts=i.charSpace,_l=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(ts||0)};y.__private__.setCharSpace=y.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ts=_,this};var wl=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(_){var I=y.CapJoinStyles[_];if(I===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wl=I,V(I+" J"),this};var Ui=0;y.__private__.setLineJoin=y.setLineJoin=function(_){var I=y.CapJoinStyles[_];if(I===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ui=I,V(I+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return V(D(U(_))+" M"),this},y.GState=Jp,y.setGState=function(_){(_=typeof _=="string"?ze[rt[_]]:Ks(null,_)).equals(Et)||(V("/"+_.id+" gs"),Et=_)};var Ks=function(_,I){if(!_||!rt[_]){var le=!1;for(var ve in ze)if(ze.hasOwnProperty(ve)&&ze[ve].equals(I)){le=!0;break}if(le)I=ze[ve];else{var Se="GS"+(Object.keys(ze).length+1).toString(10);ze[Se]=I,I.id=Se}return _&&(rt[_]=I.id),vt.publish("addGState",I),I}};y.addGState=function(_,I){return Ks(_,I),this},y.saveGraphicsState=function(){return V("q"),Ft.push({key:at,size:Le,color:Zs}),this},y.restoreGraphicsState=function(){V("Q");var _=Ft.pop();return at=_.key,Le=_.size,Zs=_.color,Et=null,this},y.setCurrentTransformationMatrix=function(_){return V(_.toString()+" cm"),this},y.comment=function(_){return V("#"+_),this};var ns=function(_,I){var le=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Pe){isNaN(Pe)||(le=parseFloat(Pe))}});var ve=I||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Pe){isNaN(Pe)||(ve=parseFloat(Pe))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Pe){Se=Pe.toString()}}),this},ba=function(_,I,le,ve){ns.call(this,_,I),this.type="rect";var Se=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Ze){isNaN(Ze)||(Se=parseFloat(Ze))}});var Pe=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Ze){isNaN(Ze)||(Pe=parseFloat(Ze))}}),this},Sl=function(){this.page=et,this.currentPage=H,this.pages=Re.slice(0),this.pagesContext=Je.slice(0),this.x=ot,this.y=Zt,this.matrix=Dt,this.width=_a(H),this.height=kc(H),this.outputDestination=He,this.id="",this.objectNumber=-1};Sl.prototype.restore=function(){et=this.page,H=this.currentPage,Je=this.pagesContext,Re=this.pages,ot=this.x,Zt=this.y,Dt=this.matrix,Fo(H,this.width),wa(H,this.height),He=this.outputDestination};var zo=function(_,I,le,ve,Se){Cn.push(new Sl),et=H=0,Re=[],ot=_,Zt=I,Dt=Se,Cs([le,ve])};for(var xa in y.beginFormObject=function(_,I,le,ve,Se){return zo(_,I,le,ve,Se),this},y.endFormObject=function(_){return(function(I){if(cn[I])Cn.pop().restore();else{var le=new Sl,ve="Xo"+(Object.keys($t).length+1).toString(10);le.id=ve,cn[I]=ve,$t[ve]=le,vt.publish("addFormObject",le),Cn.pop().restore()}})(_),this},y.doFormObject=function(_,I){var le=$t[cn[_]];return V("q"),V(I.toString()+" cm"),V("/"+le.id+" Do"),V("Q"),this},y.getFormObject=function(_){var I=$t[cn[_]];return{x:I.x,y:I.y,width:I.width,height:I.height,matrix:I.matrix}},y.save=function(_,I){return _=_||"generated.pdf",(I=I||{}).returnPromise=I.returnPromise||!1,I.returnPromise===!1?(Zc(so(Xs()),_),typeof Zc.unload=="function"&&Ut.setTimeout&&setTimeout(Zc.unload,911),this):new Promise(function(le,ve){try{var Se=Zc(so(Xs()),_);typeof Zc.unload=="function"&&Ut.setTimeout&&setTimeout(Zc.unload,911),le(Se)}catch(Pe){ve(Pe.message)}})},Tt.API)Tt.API.hasOwnProperty(xa)&&(xa==="events"&&Tt.API.events.length?(function(_,I){var le,ve,Se;for(Se=I.length-1;Se!==-1;Se--)le=I[Se][0],ve=I[Se][1],_.subscribe.apply(_,[le].concat(typeof ve=="function"?[ve]:ve))})(vt,Tt.API.events):y[xa]=Tt.API[xa]);function _a(_){return Je[_].mediaBox.topRightX-Je[_].mediaBox.bottomLeftX}function Fo(_,I){Je[_].mediaBox.topRightX=I+Je[_].mediaBox.bottomLeftX}function kc(_){return Je[_].mediaBox.topRightY-Je[_].mediaBox.bottomLeftY}function wa(_,I){Je[_].mediaBox.topRightY=I+Je[_].mediaBox.bottomLeftY}var Sa=y.getPageWidth=function(_){return _a(_=_||H)/Ct},xu=y.setPageWidth=function(_,I){Fo(_,I*Ct)},Aa=y.getPageHeight=function(_){return kc(_=_||H)/Ct},_u=y.setPageHeight=function(_,I){wa(_,I*Ct)};return y.internal={pdfEscape:Vr,getStyle:Sc,getFont:ks,getFontSize:it,getCharSpace:_l,getTextColor:bu,getLineHeight:vu,getLineHeightFactor:yu,getLineWidth:ao,write:De,getHorizontalCoordinate:Gr,getVerticalCoordinate:$i,getCoordinateString:Ec,getVerticalCoordinateString:Bo,collections:{},newObject:Jt,newAdditionalObject:Qi,newObjectDeferred:En,newObjectDeferredBegin:Dn,getFilters:cr,putStream:Or,events:vt,scaleFactor:Ct,pageSize:{getWidth:function(){return Sa(H)},setWidth:function(_){xu(H,_)},getHeight:function(){return Aa(H)},setHeight:function(_){_u(H,_)}},encryptionOptions:m,encryption:ji,getEncryptor:function(_){return m!==null?ji.encryptor(_,0):function(I){return I}},output:_c,getNumberOfPages:bc,get pages(){return Re},out:V,f2:E,f3:j,getPageInfo:Si,getPageInfoByObjId:xl,getCurrentPageInfo:du,getPDFVersion:A,Point:ns,Rectangle:ba,Matrix:ht,hasHotfix:br},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Sa(H)},set:function(_){xu(H,_)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Aa(H)},set:function(_){_u(H,_)},enumerable:!0,configurable:!0}),(function(_){for(var I=0,le=nt.length;I<le;I++){var ve=gc.call(this,_[I][0],_[I][1],_[I][2],nt[I][3],!0);x===!1&&(w[ve]=!0);var Se=_[I][0].split("-");vi({id:ve,fontName:Se[0],fontStyle:Se[1]||""})}vt.publish("addFonts",{fonts:wt,dictionary:St})}).call(y,nt),at="F1",ga(a,t),vt.publish("initialized"),y}oh.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},oh.prototype.toHexString=function(i){return i.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},oh.prototype.hexToBytes=function(i){for(var e=[],t=0;t<i.length;t+=2)e.push(String.fromCharCode(parseInt(i.substr(t,2),16)));return e.join("")},oh.prototype.processOwnerPassword=function(i,e){return Y0(G0(e).substr(0,5),i)},oh.prototype.encryptor=function(i,e){var t=G0(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Y0(t,r)}},Jp.prototype.equals=function(i){var e,t="id,objectNumber,equals";if(!i||qn(i)!==qn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!i.hasOwnProperty(e)||this[e]!==i[e])return!1;r++}for(e in i)i.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Tt.API={events:[]},Tt.version="3.0.4";var Mi=Tt.API,Jg=1,hu=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ih=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Wt=function(i){return i.toFixed(2)},nc=function(i){return i.toFixed(5)};Mi.__acroform__={};var Ss=function(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i},mb=function(i){return i*Jg},Co=function(i){var e=new mw,t=_t.internal.getHeight(i)||0,r=_t.internal.getWidth(i)||0;return e.BBox=[0,0,Number(Wt(r)),Number(Wt(t))],e},SO=Mi.__acroform__.setBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<e},AO=Mi.__acroform__.clearBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<e)},NO=Mi.__acroform__.getBit=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<e?1:0},qi=Mi.__acroform__.getBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return NO(i,e-1)},zi=Mi.__acroform__.setBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return SO(i,e-1)},Fi=Mi.__acroform__.clearBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return AO(i,e-1)},CO=Mi.__acroform__.calculateCoordinates=function(i,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=i[0],o=i[1],h=i[2],c=i[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=t(a+h)||0,f.upperRight_Y=r(o)||0,[Number(Wt(f.lowerLeft_X)),Number(Wt(f.lowerLeft_Y)),Number(Wt(f.upperRight_X)),Number(Wt(f.upperRight_Y))]},TO=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var e=[],t=i._V||i.DV,r=W0(i,t),a=i.scope.internal.getFont(i.fontName,i.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(i.scope.__private__.encodeColorString(i.color)),e.push("/"+a+" "+Wt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Co(i);return o.scope=i.scope,o.stream=e.join(`
`),o}},W0=function(i,e){var t=i.fontSize===0?i.maxFontSize:i.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=i.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var o=t,h=_t.internal.getHeight(i)||0;h=h<0?-h:h;var c=_t.internal.getWidth(i)||0;c=c<0?-c:c;var f=function(E,j,U){if(E+1<a.length){var $=j+" "+a[E+1][0];return mp($,i,U).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,m,x=mp("3",i,o).height,w=i.multiline?h-o:(h-x)/2,y=w+=2,N=0,A=0,k=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+mp(e,i,o=12).width+", FieldWidth:"+c+`
`;break}for(var C="",P=0,F=0;F<a.length;F++)if(a.hasOwnProperty(F)){var z=!1;if(a[F].length!==1&&k!==a[F].length-1){if((x+2)*(P+2)+2>h)continue e;C+=a[F][k],z=!0,A=F,F--}else{C=(C+=a[F][k]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var q=parseInt(F),J=f(q,C,o),Y=F>=a.length-1;if(J&&!Y){C+=" ",k=0;continue}if(J||Y){if(Y)A=q;else if(i.multiline&&(x+2)*(P+2)+2>h)continue e}else{if(!i.multiline||(x+2)*(P+2)+2>h)continue e;A=q}}for(var D="",R=N;R<=A;R++){var Z=a[R];if(i.multiline){if(R===A){D+=Z[k]+" ",k=(k+1)%Z.length;continue}if(R===N){D+=Z[Z.length-1]+" ";continue}}D+=Z[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,m=mp(D,i,o).width,i.textAlign){case"right":d=c-m-2;break;case"center":d=(c-m)/2;break;default:d=2}e+=Wt(d)+" "+Wt(y)+` Td
`,e+="("+hu(D)+`) Tj
`,e+=-Wt(d)+` 0 Td
`,y=-(o+2),m=0,N=z?A:A+1,P++,C=""}break}return r.text=e,r.fontSize=o,r},mp=function(i,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(i,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},EO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kO=function(i,e){var t={type:"reference",object:i};e.internal.getPageInfo(i.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(i.page).pageContext.annotations.push(t)},OO=function(i,e){if(e.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(io.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(EO)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Jg=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new gw,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&kO(o,t)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(t){(function(r,a){var o=!r;for(var h in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(h)){var c=r[h],f=[],d=c.Rect;if(c.Rect&&(c.Rect=CO(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=_t.createDefaultAppearanceStream(c),qn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=TO(c);f.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var x="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var y=c.appearanceStreamContent[w];if(x+="/"+w+" ",x+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var h in y)if(y.hasOwnProperty(h)){var N=y[h];typeof N=="function"&&(N=N.call(a,c)),x+="/"+h+" "+N+" ",a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N)}}else typeof(N=y)=="function"&&(N=N.call(a,c)),x+="/"+h+" "+N,a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N);x+=">>"}f.push({key:"AP",value:`<<
`+x+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(A,k){for(var C in A)if(A.hasOwnProperty(C)){var P=C,F=A[C];k.internal.newObjectDeferredBegin(F.objId,!0),qn(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete A[P]}})(a.internal.acroformPlugin.xForms,a)})(t,i)}),i.internal.acroformPlugin.isInitialized=!0}},pw=Mi.__acroform__.arrayToPdfArray=function(i,e,t){var r=function(h){return h};if(Array.isArray(i)){for(var a="[",o=0;o<i.length;o++)switch(o!==0&&(a+=" "),qn(i[o])){case"boolean":case"number":case"object":a+=i[o].toString();break;case"string":i[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+hu(r(i[o].toString()))+")"):a+=i[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},v0=function(i,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(i=i||"").toString(),"("+hu(r(i))+")"},To=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};To.prototype.toString=function(){return this.objId+" 0 R"},To.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},To.prototype.getKeyValueListForStream=function(){var i=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?i.push({key:r,value:pw(a,this.objId,this.scope)}):a instanceof To?(a.scope=this.scope,i.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&i.push({key:r,value:a}))}return i};var mw=function(){To.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){i=t.trim()},get:function(){return i||null}})};Ss(mw,To);var gw=function(){To.call(this);var i,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+hu(t(i))+")"}},set:function(t){i=t}})};Ss(gw,To);var io=function i(){To.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qi(e,3)},set:function(C){C?this.F=zi(e,3):this.F=Fi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof e1)return;o="FieldObject"+i.FieldNum++}var C=function(P){return P};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+hu(C(o))+")"},set:function(C){o=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(C){o=C}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(C){f=C}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Jg:d},set:function(C){d=C}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(C){m=C}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof e1||this instanceof nu))return v0(x,this.objId,this.scope)},set:function(C){C=C.toString(),x=C}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof vr==0?v0(w,this.objId,this.scope):w},set:function(C){C=C.toString(),w=this instanceof vr==0?C.substr(0,1)==="("?ih(C.substr(1,C.length-2)):ih(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof vr==1?ih(w.substr(1,w.length-1)):w},set:function(C){C=C.toString(),w=this instanceof vr==1?"/"+C:C}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof vr==0?v0(y,this.objId,this.scope):y},set:function(C){C=C.toString(),y=this instanceof vr==0?C.substr(0,1)==="("?ih(C.substr(1,C.length-2)):ih(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof vr==1?ih(y.substr(1,y.length-1)):y},set:function(C){C=C.toString(),y=this instanceof vr==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(C){C=!!C,A=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(C){N=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,1)},set:function(C){C?this.Ff=zi(this.Ff,1):this.Ff=Fi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,2)},set:function(C){C?this.Ff=zi(this.Ff,2):this.Ff=Fi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,3)},set:function(C){C?this.Ff=zi(this.Ff,3):this.Ff=Fi(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');k=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(k){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};Ss(io,To);var yh=function(){io.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){i=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pw(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=(function(o,h,c){c||(c=1);for(var f,d=[];f=h.exec(o);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,18)},set:function(t){t?this.Ff=zi(this.Ff,18):this.Ff=Fi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=zi(this.Ff,19):this.Ff=Fi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,20)},set:function(t){t?(this.Ff=zi(this.Ff,20),e.sort()):this.Ff=Fi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,22)},set:function(t){t?this.Ff=zi(this.Ff,22):this.Ff=Fi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,23)},set:function(t){t?this.Ff=zi(this.Ff,23):this.Ff=Fi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,27)},set:function(t){t?this.Ff=zi(this.Ff,27):this.Ff=Fi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ss(yh,io);var bh=function(){yh.call(this),this.fontName="helvetica",this.combo=!1};Ss(bh,yh);var xh=function(){bh.call(this),this.combo=!0};Ss(xh,bh);var Np=function(){xh.call(this),this.edit=!0};Ss(Np,xh);var vr=function(){io.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,15)},set:function(t){t?this.Ff=zi(this.Ff,15):this.Ff=Fi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,16)},set:function(t){t?this.Ff=zi(this.Ff,16):this.Ff=Fi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,17)},set:function(t){t?this.Ff=zi(this.Ff,17):this.Ff=Fi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,26)},set:function(t){t?this.Ff=zi(this.Ff,26):this.Ff=Fi(this.Ff,26)}});var i,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+hu(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){qn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(t){i="/"+t}})};Ss(vr,io);var Cp=function(){vr.call(this),this.pushButton=!0};Ss(Cp,vr);var _h=function(){vr.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e!==void 0?e:[]}})};Ss(_h,vr);var e1=function(){var i,e;io.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(a){i=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,h=[];for(o in h.push("<<"),r)h.push("/"+o+" ("+hu(a(r[o]))+")");return h.push(">>"),h.join(`
`)},set:function(a){qn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ss(e1,io),_h.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=i.createAppearanceStream(t.optionName),t.caption=i.getCA()}},_h.prototype.createOption=function(i){var e=new e1;return e.Parent=this,e.optionName=i,this.Kids.push(e),MO.call(this.scope,e),e};var Tp=function(){vr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_t.CheckBox.createAppearanceStream()};Ss(Tp,vr);var nu=function(){io.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,13)},set:function(e){e?this.Ff=zi(this.Ff,13):this.Ff=Fi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,21)},set:function(e){e?this.Ff=zi(this.Ff,21):this.Ff=Fi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,23)},set:function(e){e?this.Ff=zi(this.Ff,23):this.Ff=Fi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,24)},set:function(e){e?this.Ff=zi(this.Ff,24):this.Ff=Fi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,25)},set:function(e){e?this.Ff=zi(this.Ff,25):this.Ff=Fi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,26)},set:function(e){e?this.Ff=zi(this.Ff,26):this.Ff=Fi(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){Number.isInteger(e)&&(i=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ss(nu,io);var Ep=function(){nu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qi(this.Ff,14)},set:function(i){i?this.Ff=zi(this.Ff,14):this.Ff=Fi(this.Ff,14)}}),this.password=!0};Ss(Ep,nu);var _t={CheckBox:{createAppearanceStream:function(){return{N:{On:_t.CheckBox.YesNormal},D:{On:_t.CheckBox.YesPushDown,Off:_t.CheckBox.OffPushDown}}},YesPushDown:function(i){var e=Co(i);e.scope=i.scope;var t=[],r=i.scope.internal.getFont(i.fontName,i.fontStyle).id,a=i.scope.__private__.encodeColorString(i.color),o=W0(i,i.caption);return t.push("0.749023 g"),t.push("0 0 "+Wt(_t.internal.getWidth(i))+" "+Wt(_t.internal.getHeight(i))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Wt(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(i){var e=Co(i);e.scope=i.scope;var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),a=[],o=_t.internal.getHeight(i),h=_t.internal.getWidth(i),c=W0(i,i.caption);return a.push("1 g"),a.push("0 0 "+Wt(h)+" "+Wt(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Wt(h-1)+" "+Wt(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+Wt(c.fontSize)+" Tf "+r),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(i){var e=Co(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Wt(_t.internal.getWidth(i))+" "+Wt(_t.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(i){var e={D:{Off:_t.RadioButton.Circle.OffPushDown},N:{}};return e.N[i]=_t.RadioButton.Circle.YesNormal,e.D[i]=_t.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(i){var e=Co(i);e.scope=i.scope;var t=[],r=_t.internal.getWidth(i)<=_t.internal.getHeight(i)?_t.internal.getWidth(i)/4:_t.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=_t.internal.Bezier_C,o=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+nc(_t.internal.getWidth(i)/2)+" "+nc(_t.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=Co(i);e.scope=i.scope;var t=[],r=_t.internal.getWidth(i)<=_t.internal.getHeight(i)?_t.internal.getWidth(i)/4:_t.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*_t.internal.Bezier_C).toFixed(5)),h=Number((r*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+nc(_t.internal.getWidth(i)/2)+" "+nc(_t.internal.getHeight(i)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+nc(_t.internal.getWidth(i)/2)+" "+nc(_t.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+h+" "+h+" "+r+" 0 "+r+" c"),t.push("-"+h+" "+r+" -"+r+" "+h+" -"+r+" 0 c"),t.push("-"+r+" -"+h+" -"+h+" -"+r+" 0 -"+r+" c"),t.push(h+" -"+r+" "+r+" -"+h+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(i){var e=Co(i);e.scope=i.scope;var t=[],r=_t.internal.getWidth(i)<=_t.internal.getHeight(i)?_t.internal.getWidth(i)/4:_t.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+nc(_t.internal.getWidth(i)/2)+" "+nc(_t.internal.getHeight(i)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(i){var e={D:{Off:_t.RadioButton.Cross.OffPushDown},N:{}};return e.N[i]=_t.RadioButton.Cross.YesNormal,e.D[i]=_t.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(i){var e=Co(i);e.scope=i.scope;var t=[],r=_t.internal.calculateCross(i);return t.push("q"),t.push("1 1 "+Wt(_t.internal.getWidth(i)-2)+" "+Wt(_t.internal.getHeight(i)-2)+" re"),t.push("W"),t.push("n"),t.push(Wt(r.x1.x)+" "+Wt(r.x1.y)+" m"),t.push(Wt(r.x2.x)+" "+Wt(r.x2.y)+" l"),t.push(Wt(r.x4.x)+" "+Wt(r.x4.y)+" m"),t.push(Wt(r.x3.x)+" "+Wt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=Co(i);e.scope=i.scope;var t=_t.internal.calculateCross(i),r=[];return r.push("0.749023 g"),r.push("0 0 "+Wt(_t.internal.getWidth(i))+" "+Wt(_t.internal.getHeight(i))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Wt(_t.internal.getWidth(i)-2)+" "+Wt(_t.internal.getHeight(i)-2)+" re"),r.push("W"),r.push("n"),r.push(Wt(t.x1.x)+" "+Wt(t.x1.y)+" m"),r.push(Wt(t.x2.x)+" "+Wt(t.x2.y)+" l"),r.push(Wt(t.x4.x)+" "+Wt(t.x4.y)+" m"),r.push(Wt(t.x3.x)+" "+Wt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(i){var e=Co(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Wt(_t.internal.getWidth(i))+" "+Wt(_t.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(i){var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,t=i.scope.__private__.encodeColorString(i.color);return"/"+e+" "+i.fontSize+" Tf "+t}};_t.internal={Bezier_C:.551915024494,calculateCross:function(i){var e=_t.internal.getWidth(i),t=_t.internal.getHeight(i),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},_t.internal.getWidth=function(i){var e=0;return qn(i)==="object"&&(e=mb(i.Rect[2])),e},_t.internal.getHeight=function(i){var e=0;return qn(i)==="object"&&(e=mb(i.Rect[3])),e};var MO=Mi.addField=function(i){if(OO(this,i),!(i instanceof io))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=i).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};Mi.AcroFormChoiceField=yh,Mi.AcroFormListBox=bh,Mi.AcroFormComboBox=xh,Mi.AcroFormEditBox=Np,Mi.AcroFormButton=vr,Mi.AcroFormPushButton=Cp,Mi.AcroFormRadioButton=_h,Mi.AcroFormCheckBox=Tp,Mi.AcroFormTextField=nu,Mi.AcroFormPasswordField=Ep,Mi.AcroFormAppearance=_t,Mi.AcroForm={ChoiceField:yh,ListBox:bh,ComboBox:xh,EditBox:Np,Button:vr,PushButton:Cp,RadioButton:_h,CheckBox:Tp,TextField:nu,PasswordField:Ep,Appearance:_t},Tt.AcroForm={ChoiceField:yh,ListBox:bh,ComboBox:xh,EditBox:Np,Button:vr,PushButton:Cp,RadioButton:_h,CheckBox:Tp,TextField:nu,PasswordField:Ep,Appearance:_t};Tt.AcroForm;function vw(i){return i.reduce(function(e,t,r){return e[t]=r,e},{})}(function(i){var e="addImage_";i.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=i.__addimage__.getImageFileTypeByImageData=function(E,j){var U,$,ue,Q,re,ce=t;if((j=j||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(J(E))for(re in r)for(ue=r[re],U=0;U<ue.length;U+=1){for(Q=!0,$=0;$<ue[U].length;$+=1)if(ue[U][$]!==void 0&&ue[U][$]!==E[$]){Q=!1;break}if(Q===!0){ce=re;break}}else for(re in r)for(ue=r[re],U=0;U<ue.length;U+=1){for(Q=!0,$=0;$<ue[U].length;$+=1)if(ue[U][$]!==void 0&&ue[U][$]!==E.charCodeAt($)){Q=!1;break}if(Q===!0){ce=re;break}}return ce===t&&j!==t&&(ce=j),ce},o=function E(j){for(var U=this.internal.write,$=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:j.width}),Q.push({key:"Height",value:j.height}),j.colorSpace===C.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===C.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)&&j.transparency.length>0){for(var re="",ce=0,de=j.transparency.length;ce<de;ce++)re+=j.transparency[ce]+" "+j.transparency[ce]+" ";Q.push({key:"Mask",value:"["+re+"]"})}j.sMask!==void 0&&Q.push({key:"SMask",value:j.objectId+1+" 0 R"});var Ne=j.filter!==void 0?["/"+j.filter]:void 0;if($({data:j.data,additionalKeyValues:Q,alreadyAppliedFilters:Ne,objectId:j.objectId}),U("endobj"),"sMask"in j&&j.sMask!==void 0){var X,T=(X=j.sMaskBitsPerComponent)!==null&&X!==void 0?X:j.bitsPerComponent,H={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:j.sMask};"filter"in j&&(H.decodeParameters="/Predictor ".concat(j.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(j.width),H.filter=j.filter),E.call(this,H)}if(j.colorSpace===C.INDEXED){var ee=this.internal.newObject();$({data:D(new Uint8Array(j.palette)),objectId:ee}),U("endobj")}},h=function(){var E=this.internal.collections[e+"images"];for(var j in E)o.call(this,E[j])},c=function(){var E,j=this.internal.collections[e+"images"],U=this.internal.write;for(var $ in j)U("/I"+(E=j[$]).index,E.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var E=this.internal.collections[e+"images"];return f.call(this),E},m=function(){return Object.keys(this.internal.collections[e+"images"]).length},x=function(E){return typeof i["process"+E.toUpperCase()]=="function"},w=function(E){return qn(E)==="object"&&E.nodeType===1},y=function(E,j){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var U=""+E.getAttribute("src");if(U.indexOf("data:image/")===0)return Ap(unescape(U).split("base64,").pop());var $=i.loadFile(U,!0);if($!==void 0)return $}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var ue;switch(j){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return Ap(E.toDataURL(ue,1).split("base64,").pop())}},N=function(E){var j=this.internal.collections[e+"images"];if(j){for(var U in j)if(E===j[U].alias)return j[U]}},A=function(E,j,U){return E||j||(E=-96,j=-96),E<0&&(E=-1*U.width*72/E/this.internal.scaleFactor),j<0&&(j=-1*U.height*72/j/this.internal.scaleFactor),E===0&&(E=j*U.width/U.height),j===0&&(j=E*U.height/U.width),[E,j]},k=function(E,j,U,$,ue,Q){var re=A.call(this,U,$,ue),ce=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,Ne=d.call(this);if(U=re[0],$=re[1],Ne[ue.index]=ue,Q){Q*=Math.PI/180;var X=Math.cos(Q),T=Math.sin(Q),H=function(ie){return ie.toFixed(4)},ee=[H(X),H(T),H(-1*T),H(X),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,ce(E),de(j+$),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([ce(U),"0","0",ce($),"0","0","cm"].join(" "))):this.internal.write([ce(U),"0","0",ce($),ce(E),de(j+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},C=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var P=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=i.__addimage__.sHashCode=function(E){var j,U,$=0;if(typeof E=="string")for(U=E.length,j=0;j<U;j++)$=($<<5)-$+E.charCodeAt(j),$|=0;else if(J(E))for(U=E.byteLength/2,j=0;j<U;j++)$=($<<5)-$+E[j],$|=0;return $},z=i.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var j=!0;return E.length===0&&(j=!1),E.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(j=!1),j},q=i.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var j=E.indexOf(",");return j<0?null:E.substring(0,j).trim().endsWith("base64")?E.substring(j+1):null};i.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var J=i.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},Y=i.__addimage__.binaryStringToUint8Array=function(E){for(var j=E.length,U=new Uint8Array(j),$=0;$<j;$++)U[$]=E.charCodeAt($);return U},D=i.__addimage__.arrayBufferToBinaryString=function(E){for(var j="",U=J(E)?E:new Uint8Array(E),$=0;$<U.length;$+=8192)j+=String.fromCharCode.apply(null,U.subarray($,$+8192));return j};i.addImage=function(){var E,j,U,$,ue,Q,re,ce,de;if(typeof arguments[1]=="number"?(j=t,U=arguments[1],$=arguments[2],ue=arguments[3],Q=arguments[4],re=arguments[5],ce=arguments[6],de=arguments[7]):(j=arguments[1],U=arguments[2],$=arguments[3],ue=arguments[4],Q=arguments[5],re=arguments[6],ce=arguments[7],de=arguments[8]),qn(E=arguments[0])==="object"&&!w(E)&&"imageData"in E){var Ne=E;E=Ne.imageData,j=Ne.format||j||t,U=Ne.x||U||0,$=Ne.y||$||0,ue=Ne.w||Ne.width||ue,Q=Ne.h||Ne.height||Q,re=Ne.alias||re,ce=Ne.compression||ce,de=Ne.rotation||Ne.angle||de}var X=this.internal.getFilters();if(ce===void 0&&X.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(U)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var T=R.call(this,E,j,re,ce);return k.call(this,U,$,ue,Q,T,de),this};var R=function(E,j,U,$){var ue,Q,re;if(typeof E=="string"&&a(E)===t){E=unescape(E);var ce=Z(E,!1);(ce!==""||(ce=i.loadFile(E,!0))!==void 0)&&(E=ce)}if(w(E)&&(E=y(E,j)),j=a(E,j),!x(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((re=U)==null||re.length===0)&&(U=(function(de){return typeof de=="string"||J(de)?F(de):J(de.data)?F(de.data):null})(E)),(ue=N.call(this,U))||(E instanceof Uint8Array||j==="RGBA"||(Q=E,E=Y(E)),ue=this["process"+j.toUpperCase()](E,m.call(this),U,(function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in i.image_compression?de:P.NONE})($),Q)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},Z=i.__addimage__.convertBase64ToBinaryString=function(E,j){j=typeof j!="boolean"||j;var U,$="";if(typeof E=="string"){var ue;U=(ue=q(E))!==null&&ue!==void 0?ue:E;try{$=Ap(U)}catch(Q){if(j)throw z(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};i.getImageProperties=function(E){var j,U,$="";if(w(E)&&(E=y(E)),typeof E=="string"&&a(E)===t&&(($=Z(E,!1))===""&&($=i.loadFile(E)||""),E=$),U=a(E),!x(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(E instanceof Uint8Array||(E=Y(E)),!(j=this["process"+U.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=U,j}})(Tt.API),(function(i){var e=function(t){if(t!==void 0&&t!="")return!0};Tt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(t){for(var r,a,o,h=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,m=!1,x=0;x<d.length&&!m;x++)switch((r=d[x]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var w=0;w<d.length;w++){r=d[w];var y=this.internal.pdfEscape,N=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(A.objId),P=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+h(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+h(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+y(C(r.contents))+")",o+=" /Popup "+k.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+y(C(P))+") >>",A.content=o;var F=A.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+h(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+h(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+F,r.open&&(o+=" /Open true"),o+=" >>",k.content=o,this.internal.write(A.objId,"0 R",k.objId,"0 R");break;case"freetext":a="/Rect ["+h(r.bounds.x)+" "+c(r.bounds.y)+" "+h(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var z=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+y(N(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+y(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var J=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+J+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),i.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},i.link=function(t,r,a,o,h){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+a),h:d(r+o)},options:h,type:"link"})},i.textWithLink=function(t,r,a,o){var h,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var m=this.splitTextToSize(t,c).length;h=Math.ceil(d*m)}else c=f,h=d;return this.text(t,r,a,o),a+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-d,c,h,o),f},i.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Tt.API),(function(i){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];i.__arabicParser__={};var o=i.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},h=i.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},c=i.__arabicParser__.isArabicEndLetter=function(A){return h(A)&&o(A)&&e[A.charCodeAt(0)].length<=2},f=i.__arabicParser__.isArabicAlfLetter=function(A){return h(A)&&a.indexOf(A.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return h(A)&&o(A)&&e[A.charCodeAt(0)].length>=1};var d=i.__arabicParser__.arabicLetterHasFinalForm=function(A){return h(A)&&o(A)&&e[A.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(A){return h(A)&&o(A)&&e[A.charCodeAt(0)].length>=3};var m=i.__arabicParser__.arabicLetterHasMedialForm=function(A){return h(A)&&o(A)&&e[A.charCodeAt(0)].length==4},x=i.__arabicParser__.resolveLigatures=function(A){var k=0,C=t,P="",F=0;for(k=0;k<A.length;k+=1)C[A.charCodeAt(k)]!==void 0?(F++,typeof(C=C[A.charCodeAt(k)])=="number"&&(P+=String.fromCharCode(C),C=t,F=0),k===A.length-1&&(C=t,P+=A.charAt(k-(F-1)),k-=F-1,F=0)):(C=t,P+=A.charAt(k-F),k-=F,F=0);return P};i.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&r[A.charCodeAt(0)]!==void 0};var w=i.__arabicParser__.getCorrectForm=function(A,k,C){return h(A)?o(A)===!1?-1:!d(A)||!h(k)&&!h(C)||!h(C)&&c(k)||c(A)&&!h(k)||c(A)&&f(k)||c(A)&&c(k)?0:m(A)&&h(k)&&!c(k)&&h(C)&&d(C)?3:c(A)||!h(C)?1:2:-1},y=function(A){var k=0,C=0,P=0,F="",z="",q="",J=(A=A||"").split("\\s+"),Y=[];for(k=0;k<J.length;k+=1){for(Y.push(""),C=0;C<J[k].length;C+=1)F=J[k][C],z=J[k][C-1],q=J[k][C+1],h(F)?(P=w(F,z,q),Y[k]+=P!==-1?String.fromCharCode(e[F.charCodeAt(0)][P]):F):Y[k]+=F;Y[k]=x(Y[k])}return Y.join(" ")},N=i.__arabicParser__.processArabic=i.processArabic=function(){var A,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(k)){var P=0;for(C=[],P=0;P<k.length;P+=1)Array.isArray(k[P])?C.push([y(k[P][0]),k[P][1],k[P][2]]):C.push([y(k[P])]);A=C}else A=y(k);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};i.events.push(["preProcessText",N])})(Tt.API),Tt.API.autoPrint=function(i){var e;return(i=i||{}).variant=i.variant||"non-conform",i.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(i){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var h={};Object.defineProperty(this,"style",{get:function(){return h},set:function(c){h=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Tt.API),(function(i){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(A){d=A}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(A){m=A}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(A){x=A}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(A){w=A}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(A){N=A}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},i.getTextDimensions=function(f,d){r.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),x=d.font||this.getFont(),w=d.scaleFactor||this.internal.scaleFactor,y=0,N=0,A=0,k=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var C=d.maxWidth;C>0?typeof f=="string"?f=this.splitTextToSize(f,C):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(F,z){return F.concat(k.splitTextToSize(z,C))},[])):f=Array.isArray(f)?f:[f];for(var P=0;P<f.length;P++)y<(A=this.getStringUnitWidth(f[P],{font:x})*m)&&(y=A);return y!==0&&(N=f.length),{w:y/=w,h:Math.max((N*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/w,0)}},i.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var h=i.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=x.top,y&&w&&(this.printHeaderRow(f.lineNumber,!0),f.y+=w[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-m,f.y+m,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+m,{align:"center",baseline:"top",maxWidth:f.width-m-m}):this.text(f.text,f.x+m,f.y+m,{align:"left",baseline:"top",maxWidth:f.width-m-m})),this.internal.__cell__.lastCell=f,this};i.table=function(f,d,m,x,w){if(r.call(this),!m)throw new Error("No data for PDF table.");var y,N,A,k,C=[],P=[],F=[],z={},q={},J=[],Y=[],D=(w=w||{}).autoSize||!1,R=w.printHeaders!==!1,Z=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,E=w.margins||Object.assign({width:this.getPageWidth()},e),j=typeof w.padding=="number"?w.padding:3,U=w.headerBackgroundColor||"#c8c8c8",$=w.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=$,this.setFontSize(Z),x==null)P=C=Object.keys(m[0]),F=C.map(function(){return"left"});else if(Array.isArray(x)&&qn(x[0])==="object")for(C=x.map(function(Ne){return Ne.name}),P=x.map(function(Ne){return Ne.prompt||Ne.name||""}),F=x.map(function(Ne){return Ne.align||"left"}),y=0;y<x.length;y+=1)q[x[y].name]=.7499990551181103*x[y].width;else Array.isArray(x)&&typeof x[0]=="string"&&(P=C=x,F=C.map(function(){return"left"}));if(D||Array.isArray(x)&&typeof x[0]=="string")for(y=0;y<C.length;y+=1){for(z[k=C[y]]=m.map(function(Ne){return Ne[k]}),this.setFont(void 0,"bold"),J.push(this.getTextDimensions(P[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=z[k],this.setFont(void 0,"normal"),A=0;A<N.length;A+=1)J.push(this.getTextDimensions(N[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[k]=Math.max.apply(null,J)+j+j,J=[]}if(R){var ue={};for(y=0;y<C.length;y+=1)ue[C[y]]={},ue[C[y]].text=P[y],ue[C[y]].align=F[y];var Q=c.call(this,ue,q);Y=C.map(function(Ne){return new o(f,d,q[Ne],Q,ue[Ne].text,void 0,ue[Ne].align)}),this.setTableHeaderRow(Y),this.printHeaderRow(1,!1)}var re=x.reduce(function(Ne,X){return Ne[X.name]=X.align,Ne},{});for(y=0;y<m.length;y+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:y,data:m[y]},this);var ce=c.call(this,m[y],q);for(A=0;A<C.length;A+=1){var de=m[y][C[A]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:y,col:A,data:de},this),h.call(this,new o(f,d,q[C[A]],ce,de,y+2,re[C[A]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var m=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(f).map(function(y){var N=f[y];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[y]-m-m)},this).map(function(y){return this.getLineHeightFactor()*y.length*x/w+m+m},this).reduce(function(y,N){return Math.max(y,N)},0)};i.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},i.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){m=this.internal.__cell__.tableHeaderRow[y].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,w.push(m)),m.lineNumber=f;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),h.call(this,m),this.setTextColor(N)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),t=!1}})(Tt.API);var yw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],X0=vw(bw),xw=[100,200,300,400,500,600,700,800,900],LO=vw(xw);function y0(i){var e=i.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return yw[o=o||"normal"]?o:"normal"})(i.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(i.weight),a=(function(o){return typeof X0[o=o||"normal"]=="number"?o:"normal"})(i.stretch);return{family:e,style:t,weight:r,stretch:a,src:i.src||[],ref:i.ref||{name:e,style:[a,t,r].join(" ")}}}function gb(i,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(i[e[a]])return i[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(i[e[a]])return i[e[a]]}var DO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},vb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yb(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function bb(i){return i.trimLeft()}function jO(i,e){for(var t=0;t<i.length;){if(i.charAt(t)===e)return[i.substring(0,t),i.substring(t+1)];t+=1}return null}function RO(i){var e=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],i.substring(e[0].length)]}var gp,xb,_b,rh,vp,wb,Sb,Ab,b0=["times"];function Nb(i,e,t,r,a){var o=4,h=Tb;switch(a){case Tt.API.image_compression.FAST:o=1,h=Cb;break;case Tt.API.image_compression.MEDIUM:o=6,h=Eb;break;case Tt.API.image_compression.SLOW:o=9,h=kb}i=(function(f,d,m,x){for(var w,y=f.length/d,N=new Uint8Array(f.length+y),A=[IO,Cb,Tb,Eb,kb],k=0;k<y;k+=1){var C=k*d,P=f.subarray(C,C+d);if(x)N.set(x(P,m,w),C+k);else{for(var F=A.length,z=[],q=0;q<F;q+=1)z[q]=A[q](P,m,w);var J=qO(z.concat());N.set(z[J],C+k)}w=P}return N})(i,e,Math.ceil(t*r/8),h);var c=P0(i,{level:o});return Tt.API.__addimage__.arrayBufferToBinaryString(c)}function IO(i){var e=Array.apply([],i);return e.unshift(0),e}function Cb(i,e){var t=i.length,r=[];r[0]=1;for(var a=0;a<t;a+=1){var o=i[a-e]||0;r[a+1]=i[a]-o+256&255}return r}function Tb(i,e,t){var r=i.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var h=t&&t[o]||0;a[o+1]=i[o]-h+256&255}return a}function Eb(i,e,t){var r=i.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var h=i[o-e]||0,c=t&&t[o]||0;a[o+1]=i[o]+256-(h+c>>>1)&255}return a}function kb(i,e,t){var r=i.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var h=BO(i[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=i[o]-h+256&255}return a}function BO(i,e,t){if(i===e&&e===t)return i;var r=Math.abs(e-t),a=Math.abs(i-t),o=Math.abs(i+e-t-t);return r<=a&&r<=o?i:a<=o?e:t}function qO(i){var e=i.map(function(t){return t.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function x0(i,e,t){var r=e*t,a=Math.floor(r/8),o=16-(r-8*a+t),h=(1<<t)-1;return _w(i,a)>>o&h}function Ob(i,e,t,r){var a=t*r,o=Math.floor(a/8),h=16-(a-8*o+r),c=(1<<r)-1,f=(e&c)<<h;(function(d,m,x){if(m+1<d.byteLength)d.setUint16(m,x,!1);else{var w=x>>8&255;d.setUint8(m,w)}})(i,o,_w(i,o)&~(c<<h)&65535|f)}function _w(i,e){return e+1<i.byteLength?i.getUint16(e,!1):i.getUint8(e)<<8}function zO(i){var e=0;if(i[e++]!==71||i[e++]!==73||i[e++]!==70||i[e++]!==56||(i[e++]+1&253)!=56||i[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=i[e++]|i[e++]<<8,r=i[e++]|i[e++]<<8,a=i[e++],o=a>>7,h=1<<1+(7&a);i[e++],i[e++];var c=null,f=null;o&&(c=e,f=h,e+=3*h);var d=!0,m=[],x=0,w=null,y=0,N=null;for(this.width=t,this.height=r;d&&e<i.length;)switch(i[e++]){case 33:switch(i[e++]){case 255:if(i[e]!==11||i[e+1]==78&&i[e+2]==69&&i[e+3]==84&&i[e+4]==83&&i[e+5]==67&&i[e+6]==65&&i[e+7]==80&&i[e+8]==69&&i[e+9]==50&&i[e+10]==46&&i[e+11]==48&&i[e+12]==3&&i[e+13]==1&&i[e+16]==0)e+=14,N=i[e++]|i[e++]<<8,e++;else for(e+=12;;){if(!((E=i[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(i[e++]!==4||i[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=i[e++];x=i[e++]|i[e++]<<8,w=i[e++],1&A||(w=null),y=A>>2&7,e++;break;case 254:for(;;){if(!((E=i[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+i[e-1].toString(16))}break;case 44:var k=i[e++]|i[e++]<<8,C=i[e++]|i[e++]<<8,P=i[e++]|i[e++]<<8,F=i[e++]|i[e++]<<8,z=i[e++],q=z>>6&1,J=1<<1+(7&z),Y=c,D=f,R=!1;z>>7&&(R=!0,Y=e,D=J,e+=3*J);var Z=e;for(e++;;){var E;if(!((E=i[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}m.push({x:k,y:C,width:P,height:F,has_local_palette:R,palette_offset:Y,palette_size:D,data_offset:Z,data_length:e-Z,transparent_index:w,interlaced:!!q,delay:x,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+i[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return N},this.frameInfo=function(j){if(j<0||j>=m.length)throw new Error("Frame index out of range.");return m[j]},this.decodeAndBlitFrameBGRA=function(j,U){var $=this.frameInfo(j),ue=$.width*$.height,Q=new Uint8Array(ue);Mb(i,$.data_offset,Q,ue);var re=$.palette_offset,ce=$.transparent_index;ce===null&&(ce=256);var de=$.width,Ne=t-de,X=de,T=4*($.y*t+$.x),H=4*(($.y+$.height)*t+$.x),ee=T,ie=4*Ne;$.interlaced===!0&&(ie+=4*t*7);for(var oe=8,pe=0,fe=Q.length;pe<fe;++pe){var me=Q[pe];if(X===0&&(X=de,(ee+=ie)>=H&&(ie=4*Ne+4*t*(oe-1),ee=T+(de+Ne)*(oe<<1),oe>>=1)),me===ce)ee+=4;else{var _e=i[re+3*me],Re=i[re+3*me+1],Xe=i[re+3*me+2];U[ee++]=Xe,U[ee++]=Re,U[ee++]=_e,U[ee++]=255}--X}},this.decodeAndBlitFrameRGBA=function(j,U){var $=this.frameInfo(j),ue=$.width*$.height,Q=new Uint8Array(ue);Mb(i,$.data_offset,Q,ue);var re=$.palette_offset,ce=$.transparent_index;ce===null&&(ce=256);var de=$.width,Ne=t-de,X=de,T=4*($.y*t+$.x),H=4*(($.y+$.height)*t+$.x),ee=T,ie=4*Ne;$.interlaced===!0&&(ie+=4*t*7);for(var oe=8,pe=0,fe=Q.length;pe<fe;++pe){var me=Q[pe];if(X===0&&(X=de,(ee+=ie)>=H&&(ie=4*Ne+4*t*(oe-1),ee=T+(de+Ne)*(oe<<1),oe>>=1)),me===ce)ee+=4;else{var _e=i[re+3*me],Re=i[re+3*me+1],Xe=i[re+3*me+2];U[ee++]=_e,U[ee++]=Re,U[ee++]=Xe,U[ee++]=255}--X}}}function Mb(i,e,t,r){for(var a=i[e++],o=1<<a,h=o+1,c=h+1,f=a+1,d=(1<<f)-1,m=0,x=0,w=0,y=i[e++],N=new Int32Array(4096),A=null;;){for(;m<16&&y!==0;)x|=i[e++]<<m,m+=8,y===1?y=i[e++]:--y;if(m<f)break;var k=x&d;if(x>>=f,m-=f,k!==o){if(k===h)break;for(var C=k<c?k:A,P=0,F=C;F>o;)F=N[F]>>8,++P;var z=F;if(w+P+(C!==k?1:0)>r)return void Qn.log("Warning, gif stream longer than expected.");t[w++]=z;var q=w+=P;for(C!==k&&(t[w++]=z),F=C;P--;)F=N[F],t[--q]=255&F,F>>=8;A!==null&&c<4096&&(N[c++]=A<<8|z,c>=d+1&&f<12&&(++f,d=d<<1|1)),A=k}else c=h+1,d=(1<<(f=a+1))-1,A=null}return w!==r&&Qn.log("Warning, gif stream shorter than expected."),t}function _0(i){var e,t,r,a,o,h=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),m=new Array(64),x=new Array(65535),w=new Array(65535),y=new Array(64),N=new Array(64),A=[],k=0,C=7,P=new Array(64),F=new Array(64),z=new Array(64),q=new Array(256),J=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(T,H){for(var ee=0,ie=0,oe=new Array,pe=1;pe<=16;pe++){for(var fe=1;fe<=T[pe];fe++)oe[H[ie]]=[],oe[H[ie]][0]=ee,oe[H[ie]][1]=pe,ie++,ee++;ee*=2}return oe}function re(T){for(var H=T[0],ee=T[1]-1;ee>=0;)H&1<<ee&&(k|=1<<C),ee--,--C<0&&(k==255?(ce(255),ce(0)):ce(k),C=7,k=0)}function ce(T){A.push(T)}function de(T){ce(T>>8&255),ce(255&T)}function Ne(T,H,ee,ie,oe){for(var pe,fe=oe[0],me=oe[240],_e=(function(Le,tt){var it,lt,pt,kt,Ge,Ke,ct,gt,at,Ct,ot=0;for(at=0;at<8;++at){it=Le[ot],lt=Le[ot+1],pt=Le[ot+2],kt=Le[ot+3],Ge=Le[ot+4],Ke=Le[ot+5],ct=Le[ot+6];var Zt=it+(gt=Le[ot+7]),Dt=it-gt,wt=lt+ct,St=lt-ct,Ft=pt+Ke,we=pt-Ke,qe=kt+Ge,ze=kt-Ge,rt=Zt+qe,Et=Zt-qe,et=wt+Ft,Je=wt-Ft;Le[ot]=rt+et,Le[ot+4]=rt-et;var vt=.707106781*(Je+Et);Le[ot+2]=Et+vt,Le[ot+6]=Et-vt;var Nn=.382683433*((rt=ze+we)-(Je=St+Dt)),$t=.5411961*rt+Nn,cn=1.306562965*Je+Nn,Cn=.707106781*(et=we+St),ht=Dt+Cn,sn=Dt-Cn;Le[ot+5]=sn+$t,Le[ot+3]=sn-$t,Le[ot+1]=ht+cn,Le[ot+7]=ht-cn,ot+=8}for(ot=0,at=0;at<8;++at){it=Le[ot],lt=Le[ot+8],pt=Le[ot+16],kt=Le[ot+24],Ge=Le[ot+32],Ke=Le[ot+40],ct=Le[ot+48];var jn=it+(gt=Le[ot+56]),Tn=it-gt,Ln=lt+ct,Jt=lt-ct,En=pt+Ke,Dn=pt-Ke,Qi=kt+Ge,ui=kt-Ge,wn=jn+Qi,Wn=jn-Qi,Di=Ln+En,cr=Ln-En;Le[ot]=wn+Di,Le[ot+32]=wn-Di;var Or=.707106781*(cr+Wn);Le[ot+16]=Wn+Or,Le[ot+48]=Wn-Or;var ma=.382683433*((wn=ui+Dn)-(cr=Jt+Tn)),Pr=.5411961*wn+ma,Ur=1.306562965*cr+ma,Ys=.707106781*(Di=Dn+Jt),As=Tn+Ys,Ns=Tn-Ys;Le[ot+40]=Ns+Pr,Le[ot+24]=Ns-Pr,Le[ot+8]=As+Ur,Le[ot+56]=As-Ur,ot++}for(at=0;at<64;++at)Ct=Le[at]*tt[at],y[at]=Ct>0?Ct+.5|0:Ct-.5|0;return y})(T,H),Re=0;Re<64;++Re)N[Y[Re]]=_e[Re];var Xe=N[0]-ee;ee=N[0],Xe==0?re(ie[0]):(re(ie[w[pe=32767+Xe]]),re(x[pe]));for(var He=63;He>0&&N[He]==0;)He--;if(He==0)return re(fe),ee;for(var Qe,V=1;V<=He;){for(var De=V;N[V]==0&&V<=He;)++V;var ut=V-De;if(ut>=16){Qe=ut>>4;for(var nt=1;nt<=Qe;++nt)re(me);ut&=15}pe=32767+N[V],re(oe[(ut<<4)+w[pe]]),re(x[pe]),V++}return He!=63&&re(fe),ee}function X(T){T=Math.min(Math.max(T,1),100),o!=T&&((function(H){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var oe=h((ee[ie]*H+50)/100);oe=Math.min(Math.max(oe,1),255),c[Y[ie]]=oe}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var me=h((pe[fe]*H+50)/100);me=Math.min(Math.max(me,1),255),f[Y[fe]]=me}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,Xe=0;Xe<8;Xe++)for(var He=0;He<8;He++)d[Re]=1/(c[Y[Re]]*_e[Xe]*_e[He]*8),m[Re]=1/(f[Y[Re]]*_e[Xe]*_e[He]*8),Re++})(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),o=T)}this.encode=function(T,H){H&&X(H),A=new Array,k=0,C=7,de(65496),de(65504),de(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),de(1),de(1),ce(0),ce(0),(function(){de(65499),de(132),ce(0);for(var lt=0;lt<64;lt++)ce(c[lt]);ce(1);for(var pt=0;pt<64;pt++)ce(f[pt])})(),(function(lt,pt){de(65472),de(17),ce(8),de(pt),de(lt),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)})(T.width,T.height),(function(){de(65476),de(418),ce(0);for(var lt=0;lt<16;lt++)ce(D[lt+1]);for(var pt=0;pt<=11;pt++)ce(R[pt]);ce(16);for(var kt=0;kt<16;kt++)ce(Z[kt+1]);for(var Ge=0;Ge<=161;Ge++)ce(E[Ge]);ce(1);for(var Ke=0;Ke<16;Ke++)ce(j[Ke+1]);for(var ct=0;ct<=11;ct++)ce(U[ct]);ce(17);for(var gt=0;gt<16;gt++)ce($[gt+1]);for(var at=0;at<=161;at++)ce(ue[at])})(),de(65498),de(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var ee=0,ie=0,oe=0;k=0,C=7,this.encode.displayName="_encode_";for(var pe,fe,me,_e,Re,Xe,He,Qe,V,De=T.data,ut=T.width,nt=T.height,Le=4*ut,tt=0;tt<nt;){for(pe=0;pe<Le;){for(Re=Le*tt+pe,He=-1,Qe=0,V=0;V<64;V++)Xe=Re+(Qe=V>>3)*Le+(He=4*(7&V)),tt+Qe>=nt&&(Xe-=Le*(tt+1+Qe-nt)),pe+He>=Le&&(Xe-=pe+He-Le+4),fe=De[Xe++],me=De[Xe++],_e=De[Xe++],P[V]=(J[fe]+J[me+256|0]+J[_e+512|0]>>16)-128,F[V]=(J[fe+768|0]+J[me+1024|0]+J[_e+1280|0]>>16)-128,z[V]=(J[fe+1280|0]+J[me+1536|0]+J[_e+1792|0]>>16)-128;ee=Ne(P,d,ee,e,r),ie=Ne(F,m,ie,t,a),oe=Ne(z,m,oe,t,a),pe+=32}tt+=8}if(C>=0){var it=[];it[1]=C+1,it[0]=(1<<C+1)-1,re(it)}return de(65497),new Uint8Array(A)},i=i||50,(function(){for(var T=String.fromCharCode,H=0;H<256;H++)q[H]=T(H)})(),e=Q(D,R),t=Q(j,U),r=Q(Z,E),a=Q($,ue),(function(){for(var T=1,H=2,ee=1;ee<=15;ee++){for(var ie=T;ie<H;ie++)w[32767+ie]=ee,x[32767+ie]=[],x[32767+ie][1]=ee,x[32767+ie][0]=ie;for(var oe=-(H-1);oe<=-T;oe++)w[32767+oe]=ee,x[32767+oe]=[],x[32767+oe][1]=ee,x[32767+oe][0]=H-1+oe;T<<=1,H<<=1}})(),(function(){for(var T=0;T<256;T++)J[T]=19595*T,J[T+256|0]=38470*T,J[T+512|0]=7471*T+32768,J[T+768|0]=-11059*T,J[T+1024|0]=-21709*T,J[T+1280|0]=32768*T+8421375,J[T+1536|0]=-27439*T,J[T+1792|0]=-5329*T})(),X(i)}function Va(i,e){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Lb(i){function e(R){if(!R)throw Error("assert :P")}function t(R,Z,E){for(var j=0;4>j;j++)if(R[Z+j]!=E.charCodeAt(j))return!0;return!1}function r(R,Z,E,j,U){for(var $=0;$<U;$++)R[Z+$]=E[j+$]}function a(R,Z,E,j){for(var U=0;U<j;U++)R[Z+U]=E}function o(R){return new Int32Array(R)}function h(R,Z){for(var E=[],j=0;j<R;j++)E.push(new Z);return E}function c(R,Z){var E=[];return(function j(U,$,ue){for(var Q=ue[$],re=0;re<Q&&(U.push(ue.length>$+1?[]:new Z),!(ue.length<$+1));re++)j(U[re],$+1,ue)})(E,0,R),E}var f=function(){var R=this;function Z(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function E(p,v,S,O,B){e(!(O%S));do p[v+(O-=S)]=B;while(0<O)}function j(p,v,S,O,B){if(e(2328>=B),512>=B)var G=o(512);else if((G=o(B))==null)return 0;return(function(W,te,ne,ae,ye,Ee){var se,xe,Ce=te,Be=1<<ne,Te=o(16),Ie=o(16);for(e(ye!=0),e(ae!=null),e(W!=null),e(0<ne),xe=0;xe<ye;++xe){if(15<ae[xe])return 0;++Te[ae[xe]]}if(Te[0]==ye)return 0;for(Ie[1]=0,se=1;15>se;++se){if(Te[se]>1<<se)return 0;Ie[se+1]=Ie[se]+Te[se]}for(xe=0;xe<ye;++xe)se=ae[xe],0<ae[xe]&&(Ee[Ie[se]++]=xe);if(Ie[15]==1)return(ae=new U).g=0,ae.value=Ee[0],E(W,Ce,1,Be,ae),Be;var Ue,$e=-1,We=Be-1,xt=0,ft=1,Pt=1,mt=1<<ne;for(xe=0,se=1,ye=2;se<=ne;++se,ye<<=1){if(ft+=Pt<<=1,0>(Pt-=Te[se]))return 0;for(;0<Te[se];--Te[se])(ae=new U).g=se,ae.value=Ee[xe++],E(W,Ce+xt,ye,mt,ae),xt=Z(xt,se)}for(se=ne+1,ye=2;15>=se;++se,ye<<=1){if(ft+=Pt<<=1,0>(Pt-=Te[se]))return 0;for(;0<Te[se];--Te[se]){if(ae=new U,(xt&We)!=$e){for(Ce+=mt,Ue=1<<($e=se)-ne;15>$e&&!(0>=(Ue-=Te[$e]));)++$e,Ue<<=1;Be+=mt=1<<(Ue=$e-ne),W[te+($e=xt&We)].g=Ue+ne,W[te+$e].value=Ce-te-$e}ae.g=se-ne,ae.value=Ee[xe++],E(W,Ce+(xt>>ne),ye,mt,ae),xt=Z(xt,se)}}return ft!=2*Ie[15]-1?0:Be})(p,v,S,O,B,G)}function U(){this.value=this.g=0}function $(){this.value=this.g=0}function ue(){this.G=h(5,U),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=h(co,$)}function Q(p,v,S,O){e(p!=null),e(v!=null),e(2147483648>O),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+O,p.Zc=4<=O?S+O-4+1:S,fe(p)}function re(p,v){for(var S=0;0<v--;)S|=_e(p,128)<<v;return S}function ce(p,v){var S=re(p,v);return me(p)?-S:S}function de(p,v,S,O){var B,G=0;for(e(p!=null),e(v!=null),e(4294967288>O),p.Sb=O,p.Ra=0,p.u=0,p.h=0,4<O&&(O=4),B=0;B<O;++B)G+=v[S+B]<<8*B;p.Ra=G,p.bb=O,p.oa=v,p.pa=S}function Ne(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Js-8>>>0,++p.bb,p.u-=8;ie(p)&&(p.h=1,p.u=0)}function X(p,v){if(e(0<=v),!p.h&&v<=wr){var S=ee(p)&Lr[v];return p.u+=v,Ne(p),S}return p.h=1,p.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(p){return p.Ra>>>(p.u&Js-1)>>>0}function ie(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Js}function oe(p,v){p.u=v,p.h=ie(p)}function pe(p){p.u>=ea&&(e(p.u>=ea),Ne(p))}function fe(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function me(p){return re(p,1)}function _e(p,v){var S=p.Ca;0>p.b&&fe(p);var O=p.b,B=S*v>>>8,G=(p.I>>>O>B)+0;for(G?(S-=B,p.I-=B+1<<O>>>0):S=B+1,O=S,B=0;256<=O;)B+=8,O>>=8;return O=7^B+Oa[O],p.b-=O,p.Ca=(S<<O)-1,G}function Re(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function Xe(p,v){return p[v+0]|p[v+1]<<8}function He(p,v){return Xe(p,v)|p[v+2]<<16}function Qe(p,v){return Xe(p,v)|Xe(p,v+2)<<16}function V(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=o(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function De(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function ut(){this.X=[],this.Xa=this.Mb=0}function nt(p,v,S,O){e(S!=null),e(O!=null);var B=S[0],G=O[0];return B==0&&(B=(p*G+v/2)/v),G==0&&(G=(v*B+p/2)/p),0>=B||0>=G?0:(S[0]=B,O[0]=G,1)}function Le(p,v){return p+(1<<v)-1>>>v}function tt(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function it(p,v){R[v]=function(S,O,B,G,W,te,ne){var ae;for(ae=0;ae<W;++ae){var ye=R[p](te[ne+ae-1],B,G+ae);te[ne+ae]=tt(S[O+ae],ye)}}}function lt(){this.ud=this.hd=this.jd=0}function pt(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function kt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ge(p,v){return kt(p+(p-v+.5>>1))}function Ke(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function ct(p,v,S,O,B,G,W){for(O=G[W-1],S=0;S<B;++S)G[W+S]=O=tt(p[v+S],O)}function gt(p,v,S,O,B){var G;for(G=0;G<S;++G){var W=p[v+G],te=W>>8&255,ne=16711935&(ne=(ne=16711935&W)+((te<<16)+te));O[B+G]=(4278255360&W)+ne>>>0}}function at(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function Ct(p,v,S,O,B,G){var W;for(W=0;W<O;++W){var te=v[S+W],ne=te>>>8,ae=te,ye=255&(ye=(ye=te>>>16)+((p.jd<<24>>24)*(ne<<24>>24)>>>5));ae=255&(ae=(ae+=(p.hd<<24>>24)*(ne<<24>>24)>>>5)+((p.ud<<24>>24)*(ye<<24>>24)>>>5)),B[G+W]=(4278255360&te)+(ye<<16)+ae}}function ot(p,v,S,O,B){R[v]=function(G,W,te,ne,ae,ye,Ee,se,xe){for(ne=Ee;ne<se;++ne)for(Ee=0;Ee<xe;++Ee)ae[ye++]=B(te[O(G[W++])])},R[p]=function(G,W,te,ne,ae,ye,Ee){var se=8>>G.b,xe=G.Ea,Ce=G.K[0],Be=G.w;if(8>se)for(G=(1<<G.b)-1,Be=(1<<se)-1;W<te;++W){var Te,Ie=0;for(Te=0;Te<xe;++Te)Te&G||(Ie=O(ne[ae++])),ye[Ee++]=B(Ce[Ie&Be]),Ie>>=se}else R["VP8LMapColor"+S](ne,ae,Ce,Be,ye,Ee,W,te,xe)}}function Zt(p,v,S,O,B){for(S=v+S;v<S;){var G=p[v++];O[B++]=G>>16&255,O[B++]=G>>8&255,O[B++]=255&G}}function Dt(p,v,S,O,B){for(S=v+S;v<S;){var G=p[v++];O[B++]=G>>16&255,O[B++]=G>>8&255,O[B++]=255&G,O[B++]=G>>24&255}}function wt(p,v,S,O,B){for(S=v+S;v<S;){var G=(W=p[v++])>>16&240|W>>12&15,W=240&W|W>>28&15;O[B++]=G,O[B++]=W}}function St(p,v,S,O,B){for(S=v+S;v<S;){var G=(W=p[v++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;O[B++]=G,O[B++]=W}}function Ft(p,v,S,O,B){for(S=v+S;v<S;){var G=p[v++];O[B++]=255&G,O[B++]=G>>8&255,O[B++]=G>>16&255}}function we(p,v,S,O,B,G){if(G==0)for(S=v+S;v<S;)Re(O,((G=p[v++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),B+=32;else r(O,B,p,v,S)}function qe(p,v){R[v][0]=R[p+"0"],R[v][1]=R[p+"1"],R[v][2]=R[p+"2"],R[v][3]=R[p+"3"],R[v][4]=R[p+"4"],R[v][5]=R[p+"5"],R[v][6]=R[p+"6"],R[v][7]=R[p+"7"],R[v][8]=R[p+"8"],R[v][9]=R[p+"9"],R[v][10]=R[p+"10"],R[v][11]=R[p+"11"],R[v][12]=R[p+"12"],R[v][13]=R[p+"13"],R[v][14]=R[p+"0"],R[v][15]=R[p+"0"]}function ze(p){return p==zc||p==Tu||p==Ll||p==Eu}function rt(){this.eb=[],this.size=this.A=this.fb=0}function Et(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function et(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new rt,this.f.kb=new Et,this.sd=null}function Je(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Nn(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function $t(p,v){var S=p.T,O=v.ba.f.RGBA,B=O.eb,G=O.fb+p.ka*O.A,W=ir[v.ba.S],te=p.y,ne=p.O,ae=p.f,ye=p.N,Ee=p.ea,se=p.W,xe=v.cc,Ce=v.dc,Be=v.Mc,Te=v.Nc,Ie=p.ka,Ue=p.ka+p.T,$e=p.U,We=$e+1>>1;for(Ie==0?W(te,ne,null,null,ae,ye,Ee,se,ae,ye,Ee,se,B,G,null,null,$e):(W(v.ec,v.fc,te,ne,xe,Ce,Be,Te,ae,ye,Ee,se,B,G-O.A,B,G,$e),++S);Ie+2<Ue;Ie+=2)xe=ae,Ce=ye,Be=Ee,Te=se,ye+=p.Rc,se+=p.Rc,G+=2*O.A,W(te,(ne+=2*p.fa)-p.fa,te,ne,xe,Ce,Be,Te,ae,ye,Ee,se,B,G-O.A,B,G,$e);return ne+=p.fa,p.j+Ue<p.o?(r(v.ec,v.fc,te,ne,$e),r(v.cc,v.dc,ae,ye,We),r(v.Mc,v.Nc,Ee,se,We),S--):1&Ue||W(te,ne,null,null,ae,ye,Ee,se,ae,ye,Ee,se,B,G+O.A,null,null,$e),S}function cn(p,v,S){var O=p.F,B=[p.J];if(O!=null){var G=p.U,W=v.ba.S,te=W==qc||W==Ll;v=v.ba.f.RGBA;var ne=[0],ae=p.ka;ne[0]=p.T,p.Kb&&(ae==0?--ne[0]:(--ae,B[0]-=p.width),p.j+p.ka+p.T==p.o&&(ne[0]=p.o-p.j-ae));var ye=v.eb;ae=v.fb+ae*v.A,p=jc(O,B[0],p.width,G,ne,ye,ae+(te?0:3),v.A),e(S==ne),p&&ze(W)&&Ho(ye,ae,te,G,ne,v.A)}return 0}function Cn(p){var v=p.ma,S=v.ba.S,O=11>S,B=S==fr||S==ss||S==qc||S==Ml||S==12||ze(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!ka(v.Oa,p,B?11:12))return 0;if(B&&ze(S)&&Oc(),p.da)alert("todo:use_scaling");else{if(O){if(v.Ib=Nn,p.Kb){if(S=p.U+1>>1,v.memory=o(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=$t,Oc()}}else alert("todo:EmitYUV");B&&(v.Jb=cn,O&&Os())}if(O&&!vo){for(p=0;256>p;++p)rr[p]=89858*(p-128)+Rl>>hs,k1[p]=-22014*(p-128)+Rl,md[p]=-45773*(p-128),Du[p]=113618*(p-128)+Rl>>hs;for(p=Xo;p<go;++p)v=76283*(p-16)+Rl>>hs,O1[p-Xo]=Hr(v,255),M1[p-Xo]=Hr(v+8>>4,15);vo=1}return 1}function ht(p){var v=p.ma,S=p.U,O=p.T;return e(!(1&p.ka)),0>=S||0>=O?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function sn(p){p.ma.memory=null}function jn(p,v,S,O){return X(p,8)!=47?0:(v[0]=X(p,14)+1,S[0]=X(p,14)+1,O[0]=X(p,1),X(p,3)!=0?0:!p.h)}function Tn(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+X(v,S)+1}function Ln(p,v){return 120<v?v-120:1<=(S=((S=os[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function Jt(p,v,S){var O=ee(S),B=p[v+=255&O].g-8;return 0<B&&(oe(S,S.u+8),O=ee(S),v+=p[v].value,v+=O&(1<<B)-1),oe(S,S.u+p[v].g),p[v].value}function En(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function Dn(p,v,S){var O=p.xc;return e((v=O==0?0:p.vc[p.md*(S>>O)+(v>>O)])<p.Wb),p.Ya[v]}function Qi(p,v,S,O){var B=p.ab,G=p.c*v,W=p.C;v=W+v;var te=S,ne=O;for(O=p.Ta,S=p.Ua;0<B--;){var ae=p.gc[B],ye=W,Ee=v,se=te,xe=ne,Ce=(ne=O,te=S,ae.Ea);switch(e(ye<Ee),e(Ee<=ae.nc),ae.hc){case 2:bi(se,xe,(Ee-ye)*Ce,ne,te);break;case 0:var Be=ye,Te=Ee,Ie=ne,Ue=te,$e=(mt=ae).Ea;Be==0&&(Tl(se,xe,null,null,1,Ie,Ue),ct(se,xe+1,0,0,$e-1,Ie,Ue+1),xe+=$e,Ue+=$e,++Be);for(var We=1<<mt.b,xt=We-1,ft=Le($e,mt.b),Pt=mt.K,mt=mt.w+(Be>>mt.b)*ft;Be<Te;){var en=Pt,Zn=mt,Gt=1;for(El(se,xe,Ie,Ue-$e,1,Ie,Ue);Gt<$e;){var dt=(Gt&~xt)+We;dt>$e&&(dt=$e),(0,Ma[en[Zn++]>>8&15])(se,xe+ +Gt,Ie,Ue+Gt-$e,dt-Gt,Ie,Ue+Gt),Gt=dt}xe+=$e,Ue+=$e,++Be&xt||(mt+=ft)}Ee!=ae.nc&&r(ne,te-Ce,ne,te+(Ee-ye-1)*Ce,Ce);break;case 1:for(Ce=se,Te=xe,$e=(se=ae.Ea)-(Ue=se&~(Ie=(xe=1<<ae.b)-1)),Be=Le(se,ae.b),We=ae.K,ae=ae.w+(ye>>ae.b)*Be;ye<Ee;){for(xt=We,ft=ae,Pt=new lt,mt=Te+Ue,en=Te+se;Te<mt;)at(xt[ft++],Pt),kl(Pt,Ce,Te,xe,ne,te),Te+=xe,te+=xe;Te<en&&(at(xt[ft++],Pt),kl(Pt,Ce,Te,$e,ne,te),Te+=$e,te+=$e),++ye&Ie||(ae+=Be)}break;case 3:if(se==ne&&xe==te&&0<ae.b){for(Te=ne,se=Ce=te+(Ee-ye)*Ce-(Ue=(Ee-ye)*Le(ae.Ea,ae.b)),xe=ne,Ie=te,Be=[],Ue=($e=Ue)-1;0<=Ue;--Ue)Be[Ue]=xe[Ie+Ue];for(Ue=$e-1;0<=Ue;--Ue)Te[se+Ue]=Be[Ue];wu(ae,ye,Ee,ne,Ce,ne,te)}else wu(ae,ye,Ee,se,xe,ne,te)}te=O,ne=S}ne!=S&&r(O,S,te,ne,G)}function ui(p,v){var S=p.V,O=p.Ba+p.c*p.C,B=v-p.C;if(e(v<=p.l.o),e(16>=B),0<B){var G=p.l,W=p.Ta,te=p.Ua,ne=G.width;if(Qi(p,B,S,O),B=te=[te],e((S=p.C)<(O=v)),e(G.v<G.va),O>G.o&&(O=G.o),S<G.j){var ae=G.j-S;S=G.j,B[0]+=ae*ne}if(S>=O?S=0:(B[0]+=4*G.v,G.ka=S-G.j,G.U=G.va-G.v,G.T=O-S,S=1),S){if(te=te[0],11>(S=p.ca).S){var ye=S.f.RGBA,Ee=(O=S.S,B=G.U,G=G.T,ae=ye.eb,ye.A),se=G;for(ye=ye.fb+p.Ma*ye.A;0<se--;){var xe=W,Ce=te,Be=B,Te=ae,Ie=ye;switch(O){case Nu:Ol(xe,Ce,Be,Te,Ie);break;case fr:La(xe,Ce,Be,Te,Ie);break;case zc:La(xe,Ce,Be,Te,Ie),Ho(Te,Ie,0,Be,1,0);break;case Cu:Uo(xe,Ce,Be,Te,Ie);break;case ss:we(xe,Ce,Be,Te,Ie,1);break;case Tu:we(xe,Ce,Be,Te,Ie,1),Ho(Te,Ie,0,Be,1,0);break;case qc:we(xe,Ce,Be,Te,Ie,0);break;case Ll:we(xe,Ce,Be,Te,Ie,0),Ho(Te,Ie,1,Be,1,0);break;case Ml:Da(xe,Ce,Be,Te,Ie);break;case Eu:Da(xe,Ce,Be,Te,Ie),rs(Te,Ie,Be,1,0);break;case uo:ia(xe,Ce,Be,Te,Ie);break;default:e(0)}te+=ne,ye+=Ee}p.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function wn(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,O=p.Ya[v].H;if(0<S[1][O[1]+0].g||0<S[2][O[2]+0].g||0<S[3][O[3]+0].g)return 0}return 1}function Wn(p,v,S,O,B,G){if(p.Z!=0){var W=p.qd,te=p.rd;for(e(Ia[p.Z]!=null);v<S;++v)Ia[p.Z](W,te,O,B,O,B,G),W=O,te=B,B+=G;p.qd=W,p.rd=te}}function Di(p,v){var S=p.l.ma,O=S.Z==0||S.Z==1?p.l.j:p.C;if(O=p.C<O?O:p.C,e(v<=p.l.o),v>O){var B=p.l.width,G=S.ca,W=S.tb+B*O,te=p.V,ne=p.Ba+p.c*O,ae=p.gc;e(p.ab==1),e(ae[0].hc==3),na(ae[0],O,v,te,ne,G,W),Wn(S,O,v,G,W,B)}p.C=p.Ma=v}function cr(p,v,S,O,B,G,W){var te=p.$/O,ne=p.$%O,ae=p.m,ye=p.s,Ee=S+p.$,se=Ee;B=S+O*B;var xe=S+O*G,Ce=280+ye.ua,Be=p.Pb?te:16777216,Te=0<ye.ua?ye.Wa:null,Ie=ye.wc,Ue=Ee<xe?Dn(ye,ne,te):null;e(p.C<G),e(xe<=B);var $e=!1;e:for(;;){for(;$e||Ee<xe;){var We=0;if(te>=Be){var xt=Ee-S;e((Be=p).Pb),Be.wd=Be.m,Be.xd=xt,0<Be.s.ua&&De(Be.s.Wa,Be.s.vb),Be=te+ho}if(ne&Ie||(Ue=Dn(ye,ne,te)),e(Ue!=null),Ue.Qb&&(v[Ee]=Ue.qb,$e=!0),!$e)if(pe(ae),Ue.jc){We=ae,xt=v;var ft=Ee,Pt=Ue.pd[ee(We)&co-1];e(Ue.jc),256>Pt.g?(oe(We,We.u+Pt.g),xt[ft]=Pt.value,We=0):(oe(We,We.u+Pt.g-256),e(256<=Pt.value),We=Pt.value),We==0&&($e=!0)}else We=Jt(Ue.G[0],Ue.H[0],ae);if(ae.h)break;if($e||256>We){if(!$e)if(Ue.nd)v[Ee]=(Ue.qb|We<<8)>>>0;else{if(pe(ae),$e=Jt(Ue.G[1],Ue.H[1],ae),pe(ae),xt=Jt(Ue.G[2],Ue.H[2],ae),ft=Jt(Ue.G[3],Ue.H[3],ae),ae.h)break;v[Ee]=(ft<<24|$e<<16|We<<8|xt)>>>0}if($e=!1,++Ee,++ne>=O&&(ne=0,++te,W!=null&&te<=G&&!(te%16)&&W(p,te),Te!=null))for(;se<Ee;)We=v[se++],Te.X[(506832829*We&4294967295)>>>Te.Mb]=We}else if(280>We){if(We=Tn(We-256,ae),xt=Jt(Ue.G[4],Ue.H[4],ae),pe(ae),xt=Ln(O,xt=Tn(xt,ae)),ae.h)break;if(Ee-S<xt||B-Ee<We)break e;for(ft=0;ft<We;++ft)v[Ee+ft]=v[Ee+ft-xt];for(Ee+=We,ne+=We;ne>=O;)ne-=O,++te,W!=null&&te<=G&&!(te%16)&&W(p,te);if(e(Ee<=B),ne&Ie&&(Ue=Dn(ye,ne,te)),Te!=null)for(;se<Ee;)We=v[se++],Te.X[(506832829*We&4294967295)>>>Te.Mb]=We}else{if(!(We<Ce))break e;for($e=We-280,e(Te!=null);se<Ee;)We=v[se++],Te.X[(506832829*We&4294967295)>>>Te.Mb]=We;We=Ee,e(!($e>>>(xt=Te).Xa)),v[We]=xt.X[$e],$e=!0}$e||e(ae.h==ie(ae))}if(p.Pb&&ae.h&&Ee<B)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&De(p.s.vb,p.s.Wa);else{if(ae.h)break e;W?.(p,te>G?G:te),p.a=0,p.$=Ee-S}return 1}return p.a=3,0}function Or(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function ma(){var p=new qt;return p==null?null:(p.a=0,p.xb=Ph,qe("Predictor","VP8LPredictors"),qe("Predictor","VP8LPredictors_C"),qe("PredictorAdd","VP8LPredictorsAdd"),qe("PredictorAdd","VP8LPredictorsAdd_C"),bi=gt,kl=Ct,Ol=Zt,La=Dt,Da=wt,ia=St,Uo=Ft,R.VP8LMapColor32b=ta,R.VP8LMapColor8b=er,p)}function Pr(p,v,S,O,B){var G=1,W=[p],te=[v],ne=O.m,ae=O.s,ye=null,Ee=0;e:for(;;){if(S)for(;G&&X(ne,1);){var se=W,xe=te,Ce=O,Be=1,Te=Ce.m,Ie=Ce.gc[Ce.ab],Ue=X(Te,2);if(Ce.Oc&1<<Ue)G=0;else{switch(Ce.Oc|=1<<Ue,Ie.hc=Ue,Ie.Ea=se[0],Ie.nc=xe[0],Ie.K=[null],++Ce.ab,e(4>=Ce.ab),Ue){case 0:case 1:Ie.b=X(Te,3)+2,Be=Pr(Le(Ie.Ea,Ie.b),Le(Ie.nc,Ie.b),0,Ce,Ie.K),Ie.K=Ie.K[0];break;case 3:var $e,We=X(Te,8)+1,xt=16<We?0:4<We?1:2<We?2:3;if(se[0]=Le(Ie.Ea,xt),Ie.b=xt,$e=Be=Pr(We,1,0,Ce,Ie.K)){var ft,Pt=We,mt=Ie,en=1<<(8>>mt.b),Zn=o(en);if(Zn==null)$e=0;else{var Gt=mt.K[0],dt=mt.w;for(Zn[0]=mt.K[0][0],ft=1;ft<1*Pt;++ft)Zn[ft]=tt(Gt[dt+ft],Zn[ft-1]);for(;ft<4*en;++ft)Zn[ft]=0;mt.K[0]=null,mt.K[0]=Zn,$e=1}}Be=$e;break;case 2:break;default:e(0)}G=Be}}if(W=W[0],te=te[0],G&&X(ne,1)&&!(G=1<=(Ee=X(ne,4))&&11>=Ee)){O.a=3;break e}var st;if(st=G)t:{var ni,Rt,Xt,kn=O,Ii=W,sr=te,Pn=Ee,Ni=S,dr=kn.m,Ci=kn.s,Qt=[null],pn=1,ii=0,_n=ls[Pn];n:for(;;){if(Ni&&X(dr,1)){var Bi=X(dr,3)+2,ri=Le(Ii,Bi),mn=Le(sr,Bi),wi=ri*mn;if(!Pr(ri,mn,0,kn,Qt))break n;for(Qt=Qt[0],Ci.xc=Bi,ni=0;ni<wi;++ni){var On=Qt[ni]>>8&65535;Qt[ni]=On,On>=pn&&(pn=On+1)}}if(dr.h)break n;for(Rt=0;5>Rt;++Rt){var Ti=Yo[Rt];!Rt&&0<Pn&&(Ti+=1<<Pn),ii<Ti&&(ii=Ti)}var Ei=h(pn*_n,U),Rn=pn,fn=h(Rn,ue);if(fn==null)var pr=null;else e(65536>=Rn),pr=fn;var fi=o(ii);if(pr==null||fi==null||Ei==null){kn.a=1;break n}var Ot=Ei;for(ni=Xt=0;ni<pn;++ni){var Mt=pr[ni],gn=Mt.G,Dr=Mt.H,fs=0,Ar=1,ki=0;for(Rt=0;5>Rt;++Rt){Ti=Yo[Rt],gn[Rt]=Ot,Dr[Rt]=Xt,!Rt&&0<Pn&&(Ti+=1<<Pn);r:{var yo,bo=Ti,Ru=kn,Un=fi,Vh=Ot,Hh=Xt,Iu=0,Ba=Ru.m,L1=X(Ba,1);if(a(Un,0,0,bo),L1){var Gh=X(Ba,1)+1,Yh=X(Ba,1),Bu=X(Ba,Yh==0?1:8);Un[Bu]=1,Gh==2&&(Un[Bu=X(Ba,8)]=1);var Hi=1}else{var di=o(19),Vc=X(Ba,4)+4;if(19<Vc){Ru.a=3;var xo=0;break r}for(yo=0;yo<Vc;++yo)di[Fc[yo]]=X(Ba,3);var Bl=void 0,Zo=void 0,aa=Ru,qu=di,ql=bo,zu=Un,Fu=0,qa=aa.m,Wh=8,Xh=h(128,U);i:for(;j(Xh,0,7,qu,19);){if(X(qa,1)){var gd=2+2*X(qa,3);if((Bl=2+X(qa,gd))>ql)break i}else Bl=ql;for(Zo=0;Zo<ql&&Bl--;){pe(qa);var Zh=Xh[0+(127&ee(qa))];oe(qa,qa.u+Zh.g);var _o=Zh.value;if(16>_o)zu[Zo++]=_o,_o!=0&&(Wh=_o);else{var vd=_o==16,yd=_o-16,bd=Dl[yd],Kh=X(qa,as[yd])+bd;if(Zo+Kh>ql)break i;for(var xd=vd?Wh:0;0<Kh--;)zu[Zo++]=xd}}Fu=1;break i}Fu||(aa.a=3),Hi=Fu}(Hi=Hi&&!Ba.h)&&(Iu=j(Vh,Hh,8,Un,bo)),Hi&&Iu!=0?xo=Iu:(Ru.a=3,xo=0)}if(xo==0)break n;if(Ar&&ku[Rt]==1&&(Ar=Ot[Xt].g==0),fs+=Ot[Xt].g,Xt+=xo,3>=Rt){var Ko,Pu=fi[0];for(Ko=1;Ko<Ti;++Ko)fi[Ko]>Pu&&(Pu=fi[Ko]);ki+=Pu}}if(Mt.nd=Ar,Mt.Qb=0,Ar&&(Mt.qb=(gn[3][Dr[3]+0].value<<24|gn[1][Dr[1]+0].value<<16|gn[2][Dr[2]+0].value)>>>0,fs==0&&256>gn[0][Dr[0]+0].value&&(Mt.Qb=1,Mt.qb+=gn[0][Dr[0]+0].value<<8)),Mt.jc=!Mt.Qb&&6>ki,Mt.jc){var Hc,oa=Mt;for(Hc=0;Hc<co;++Hc){var za=Hc,Fa=oa.pd[za],Uu=oa.G[0][oa.H[0]+za];256<=Uu.value?(Fa.g=Uu.g+256,Fa.value=Uu.value):(Fa.g=0,Fa.value=0,za>>=En(Uu,8,Fa),za>>=En(oa.G[1][oa.H[1]+za],16,Fa),za>>=En(oa.G[2][oa.H[2]+za],0,Fa),En(oa.G[3][oa.H[3]+za],24,Fa))}}}Ci.vc=Qt,Ci.Wb=pn,Ci.Ya=pr,Ci.yc=Ei,st=1;break t}st=0}if(!(G=st)){O.a=3;break e}if(0<Ee){if(ae.ua=1<<Ee,!V(ae.Wa,Ee)){O.a=1,G=0;break e}}else ae.ua=0;var Vu=O,Qo=W,_d=te,zl=Vu.s,Fl=zl.xc;if(Vu.c=Qo,Vu.i=_d,zl.md=Le(Qo,Fl),zl.wc=Fl==0?-1:(1<<Fl)-1,S){O.xb=fo;break e}if((ye=o(W*te))==null){O.a=1,G=0;break e}G=(G=cr(O,ye,0,W,te,te,null))&&!ne.h;break e}return G?(B!=null?B[0]=ye:(e(ye==null),e(S)),O.$=0,S||Or(ae)):Or(ae),G}function Ur(p,v){var S=p.c*p.i,O=S+v+16*v;return e(p.c<=v),p.V=o(O),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function Ys(p,v){var S=p.C,O=v-S,B=p.V,G=p.Ba+p.c*S;for(e(v<=p.l.o);0<O;){var W=16<O?16:O,te=p.l.ma,ne=p.l.width,ae=ne*W,ye=te.ca,Ee=te.tb+ne*S,se=p.Ta,xe=p.Ua;Qi(p,W,B,G),Zr(se,xe,ye,Ee,ae),Wn(te,S,S+W,ye,Ee,ne),O-=W,B+=W*p.c,S+=W}e(S==v),p.C=p.Ma=v}function As(){this.ub=this.yd=this.td=this.Rb=0}function Ns(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function jo(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ws(){this.Yb=(function(){var p=[];return(function v(S,O,B){for(var G=B[O],W=0;W<G&&(S.push(B.length>O+1?[]:0),!(B.length<O+1));W++)v(S[W],O+1,B)})(p,0,[3,11]),p})()}function vi(){this.jb=o(3),this.Wc=c([4,8],Ws),this.Xc=c([4,17],Ws)}function gc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Vr(){this.ld=this.La=this.dd=this.tc=0}function Cs(){this.Na=this.la=0}function ga(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vc(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vr),this.Y=0,this.ya=Array(new vc),this.aa=0,this.l=new va}function bc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function fu(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new As,this.Kc=new Ns,this.ed=new gc,this.Qa=new jo,this.Ic=this.$c=this.Aa=0,this.D=new yc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=h(8,T),this.ia=0,this.pb=h(4,ga),this.Pa=new vi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bc),this.Hd=0,this.rb=Array(new Cs),this.sb=0,this.wa=Array(new Vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vc),this.L=this.aa=0,this.gd=c([4,2],Vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hr(p,v){return 0>p?0:p>v?v:p}function va(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ts(){var p=new fu;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Kr||(Kr=so)),p}function bn(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function xc(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Xs(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return bn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,O=v.w,B=v.ha;if(4>B)return bn(p,7,"Truncated header.");var G=S[O+0]|S[O+1]<<8|S[O+2]<<16,W=p.Od;if(W.Rb=!(1&G),W.td=G>>1&7,W.yd=G>>4&1,W.ub=G>>5,3<W.td)return bn(p,3,"Incorrect keyframe parameters.");if(!W.yd)return bn(p,4,"Frame not displayable.");O+=3,B-=3;var te=p.Kc;if(W.Rb){if(7>B)return bn(p,7,"cannot parse picture header");if(!xc(S,O,B))return bn(p,3,"Bad code word");te.c=16383&(S[O+4]<<8|S[O+3]),te.Td=S[O+4]>>6,te.i=16383&(S[O+6]<<8|S[O+5]),te.Ud=S[O+6]>>6,O+=7,B-=7,p.za=te.c+15>>4,p.Ub=te.i+15>>4,v.width=te.c,v.height=te.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((G=p.Pa).jb,0,255,G.jb.length),e((G=p.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,a(G.Zb,0,0,G.Zb.length),a(G.Lb,0,0,G.Lb)}if(W.ub>B)return bn(p,7,"bad partition length");Q(G=p.m,S,O,W.ub),O+=W.ub,B-=W.ub,W.Rb&&(te.Ld=me(G),te.Kd=me(G)),te=p.Qa;var ne,ae=p.Pa;if(e(G!=null),e(te!=null),te.Cb=me(G),te.Cb){if(te.Bb=me(G),me(G)){for(te.Fb=me(G),ne=0;4>ne;++ne)te.Zb[ne]=me(G)?ce(G,7):0;for(ne=0;4>ne;++ne)te.Lb[ne]=me(G)?ce(G,6):0}if(te.Bb)for(ne=0;3>ne;++ne)ae.jb[ne]=me(G)?re(G,8):255}else te.Bb=0;if(G.Ka)return bn(p,3,"cannot parse segment header");if((te=p.ed).zd=me(G),te.Tb=re(G,6),te.wb=re(G,3),te.Pc=me(G),te.Pc&&me(G)){for(ae=0;4>ae;++ae)me(G)&&(te.vd[ae]=ce(G,6));for(ae=0;4>ae;++ae)me(G)&&(te.od[ae]=ce(G,6))}if(p.L=te.Tb==0?0:te.zd?1:2,G.Ka)return bn(p,3,"cannot parse filter header");var ye=B;if(B=ne=O,O=ne+ye,te=ye,p.Xb=(1<<re(p.m,2))-1,ye<3*(ae=p.Xb))S=7;else{for(ne+=3*ae,te-=3*ae,ye=0;ye<ae;++ye){var Ee=S[B+0]|S[B+1]<<8|S[B+2]<<16;Ee>te&&(Ee=te),Q(p.Jc[+ye],S,ne,Ee),ne+=Ee,te-=Ee,B+=3}Q(p.Jc[+ae],S,ne,te),S=ne<O?0:5}if(S!=0)return bn(p,S,"cannot parse partitions");for(S=re(ne=p.m,7),B=me(ne)?ce(ne,4):0,O=me(ne)?ce(ne,4):0,te=me(ne)?ce(ne,4):0,ae=me(ne)?ce(ne,4):0,ne=me(ne)?ce(ne,4):0,ye=p.Qa,Ee=0;4>Ee;++Ee){if(ye.Cb){var se=ye.Zb[Ee];ye.Fb||(se+=S)}else{if(0<Ee){p.pb[Ee]=p.pb[0];continue}se=S}var xe=p.pb[Ee];xe.Sc[0]=cs[Hr(se+B,127)],xe.Sc[1]=us[Hr(se+0,127)],xe.Eb[0]=2*cs[Hr(se+O,127)],xe.Eb[1]=101581*us[Hr(se+te,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=cs[Hr(se+ae,117)],xe.Qc[1]=us[Hr(se+ne,127)],xe.lc=se+ne}if(!W.Rb)return bn(p,4,"Not a key frame.");for(me(G),W=p.Pa,S=0;4>S;++S){for(B=0;8>B;++B)for(O=0;3>O;++O)for(te=0;11>te;++te)ae=_e(G,Xn[S][B][O][te])?re(G,8):pd[S][B][O][te],W.Wc[S][B].Yb[O][te]=ae;for(B=0;17>B;++B)W.Xc[S][B]=W.Wc[S][tn[B]]}return p.kc=me(G),p.kc&&(p.Bd=re(G,8)),p.cb=1}function so(p,v,S,O,B,G,W){var te=v[B].Yb[S];for(S=0;16>B;++B){if(!_e(p,te[S+0]))return B;for(;!_e(p,te[S+1]);)if(te=v[++B].Yb[0],S=0,B==16)return 16;var ne=v[B+1].Yb;if(_e(p,te[S+2])){var ae=p,ye=0;if(_e(ae,(se=te)[(Ee=S)+3]))if(_e(ae,se[Ee+6])){for(te=0,Ee=2*(ye=_e(ae,se[Ee+8]))+(se=_e(ae,se[Ee+9+ye])),ye=0,se=dd[Ee];se[te];++te)ye+=ye+_e(ae,se[te]);ye+=3+(8<<Ee)}else _e(ae,se[Ee+7])?(ye=7+2*_e(ae,165),ye+=_e(ae,145)):ye=5+_e(ae,159);else ye=_e(ae,se[Ee+4])?3+_e(ae,se[Ee+5]):2;te=ne[2]}else ye=1,te=ne[1];ne=W+Fh[B],0>(ae=p).b&&fe(ae);var Ee,se=ae.b,xe=(Ee=ae.Ca>>1)-(ae.I>>se)>>31;--ae.b,ae.Ca+=xe,ae.Ca|=1,ae.I-=(Ee+1&xe)<<se,G[ne]=((ye^xe)-xe)*O[(0<B)+0]}return 16}function _c(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function br(p,v,S,O,B){B=p[v+S+32*O]+(B>>3),p[v+S+32*O]=-256&B?0>B?0:255:B}function ji(p,v,S,O,B,G){br(p,v,0,S,O+B),br(p,v,1,S,O+G),br(p,v,2,S,O-G),br(p,v,3,S,O-B)}function Si(p){return(20091*p>>16)+p}function xl(p,v,S,O){var B,G=0,W=o(16);for(B=0;4>B;++B){var te=p[v+0]+p[v+8],ne=p[v+0]-p[v+8],ae=(35468*p[v+4]>>16)-Si(p[v+12]),ye=Si(p[v+4])+(35468*p[v+12]>>16);W[G+0]=te+ye,W[G+1]=ne+ae,W[G+2]=ne-ae,W[G+3]=te-ye,G+=4,v++}for(B=G=0;4>B;++B)te=(p=W[G+0]+4)+W[G+8],ne=p-W[G+8],ae=(35468*W[G+4]>>16)-Si(W[G+12]),br(S,O,0,0,te+(ye=Si(W[G+4])+(35468*W[G+12]>>16))),br(S,O,1,0,ne+ae),br(S,O,2,0,ne-ae),br(S,O,3,0,te-ye),G++,O+=32}function du(p,v,S,O){var B=p[v+0]+4,G=35468*p[v+4]>>16,W=Si(p[v+4]),te=35468*p[v+1]>>16;ji(S,O,0,B+W,p=Si(p[v+1]),te),ji(S,O,1,B+G,p,te),ji(S,O,2,B-G,p,te),ji(S,O,3,B-W,p,te)}function wc(p,v,S,O,B){xl(p,v,S,O),B&&xl(p,v+16,S,O+4)}function xr(p,v,S,O){ja(p,v+0,S,O,1),ja(p,v+32,S,O+128,1)}function Sc(p,v,S,O){var B;for(p=p[v+0]+4,B=0;4>B;++B)for(v=0;4>v;++v)br(S,O,v,B,p)}function Ac(p,v,S,O){p[v+0]&&xn(p,v+0,S,O),p[v+16]&&xn(p,v+16,S,O+4),p[v+32]&&xn(p,v+32,S,O+128),p[v+48]&&xn(p,v+48,S,O+128+4)}function Es(p,v,S,O){var B,G=o(16);for(B=0;4>B;++B){var W=p[v+0+B]+p[v+12+B],te=p[v+4+B]+p[v+8+B],ne=p[v+4+B]-p[v+8+B],ae=p[v+0+B]-p[v+12+B];G[0+B]=W+te,G[8+B]=W-te,G[4+B]=ae+ne,G[12+B]=ae-ne}for(B=0;4>B;++B)W=(p=G[0+4*B]+3)+G[3+4*B],te=G[1+4*B]+G[2+4*B],ne=G[1+4*B]-G[2+4*B],ae=p-G[3+4*B],S[O+0]=W+te>>3,S[O+16]=ae+ne>>3,S[O+32]=W-te>>3,S[O+48]=ae-ne>>3,O+=64}function Ro(p,v,S){var O,B=v-32,G=hr,W=255-p[B-1];for(O=0;O<S;++O){var te,ne=G,ae=W+p[v-1];for(te=0;te<S;++te)p[v+te]=ne[ae+p[B+te]];v+=32}}function pu(p,v){Ro(p,v,4)}function mu(p,v){Ro(p,v,8)}function Nc(p,v){Ro(p,v,16)}function Cc(p,v){var S;for(S=0;16>S;++S)r(p,v+32*S,p,v-32,16)}function gu(p,v){var S;for(S=16;0<S;--S)a(p,v,p[v-1],16),v+=32}function Mr(p,v,S){var O;for(O=0;16>O;++O)a(v,S+32*O,p,16)}function ks(p,v){var S,O=16;for(S=0;16>S;++S)O+=p[v-1+32*S]+p[v+S-32];Mr(O>>5,p,v)}function ya(p,v){var S,O=8;for(S=0;16>S;++S)O+=p[v-1+32*S];Mr(O>>4,p,v)}function Io(p,v){var S,O=8;for(S=0;16>S;++S)O+=p[v+S-32];Mr(O>>4,p,v)}function ao(p,v){Mr(128,p,v)}function jt(p,v,S){return p+2*v+S+2>>2}function vu(p,v){var S,O=v-32;for(O=new Uint8Array([jt(p[O-1],p[O+0],p[O+1]),jt(p[O+0],p[O+1],p[O+2]),jt(p[O+1],p[O+2],p[O+3]),jt(p[O+2],p[O+3],p[O+4])]),S=0;4>S;++S)r(p,v+32*S,O,0,O.length)}function Tc(p,v){var S=p[v-1],O=p[v-1+32],B=p[v-1+64],G=p[v-1+96];Re(p,v+0,16843009*jt(p[v-1-32],S,O)),Re(p,v+32,16843009*jt(S,O,B)),Re(p,v+64,16843009*jt(O,B,G)),Re(p,v+96,16843009*jt(B,G,G))}function yu(p,v){var S,O=4;for(S=0;4>S;++S)O+=p[v+S-32]+p[v-1+32*S];for(O>>=3,S=0;4>S;++S)a(p,v+32*S,O,4)}function Gr(p,v){var S=p[v-1+0],O=p[v-1+32],B=p[v-1+64],G=p[v-1-32],W=p[v+0-32],te=p[v+1-32],ne=p[v+2-32],ae=p[v+3-32];p[v+0+96]=jt(O,B,p[v-1+96]),p[v+1+96]=p[v+0+64]=jt(S,O,B),p[v+2+96]=p[v+1+64]=p[v+0+32]=jt(G,S,O),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=jt(W,G,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=jt(te,W,G),p[v+3+32]=p[v+2+0]=jt(ne,te,W),p[v+3+0]=jt(ae,ne,te)}function $i(p,v){var S=p[v+1-32],O=p[v+2-32],B=p[v+3-32],G=p[v+4-32],W=p[v+5-32],te=p[v+6-32],ne=p[v+7-32];p[v+0+0]=jt(p[v+0-32],S,O),p[v+1+0]=p[v+0+32]=jt(S,O,B),p[v+2+0]=p[v+1+32]=p[v+0+64]=jt(O,B,G),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=jt(B,G,W),p[v+3+32]=p[v+2+64]=p[v+1+96]=jt(G,W,te),p[v+3+64]=p[v+2+96]=jt(W,te,ne),p[v+3+96]=jt(te,ne,ne)}function Ec(p,v){var S=p[v-1+0],O=p[v-1+32],B=p[v-1+64],G=p[v-1-32],W=p[v+0-32],te=p[v+1-32],ne=p[v+2-32],ae=p[v+3-32];p[v+0+0]=p[v+1+64]=G+W+1>>1,p[v+1+0]=p[v+2+64]=W+te+1>>1,p[v+2+0]=p[v+3+64]=te+ne+1>>1,p[v+3+0]=ne+ae+1>>1,p[v+0+96]=jt(B,O,S),p[v+0+64]=jt(O,S,G),p[v+0+32]=p[v+1+96]=jt(S,G,W),p[v+1+32]=p[v+2+96]=jt(G,W,te),p[v+2+32]=p[v+3+96]=jt(W,te,ne),p[v+3+32]=jt(te,ne,ae)}function Bo(p,v){var S=p[v+0-32],O=p[v+1-32],B=p[v+2-32],G=p[v+3-32],W=p[v+4-32],te=p[v+5-32],ne=p[v+6-32],ae=p[v+7-32];p[v+0+0]=S+O+1>>1,p[v+1+0]=p[v+0+64]=O+B+1>>1,p[v+2+0]=p[v+1+64]=B+G+1>>1,p[v+3+0]=p[v+2+64]=G+W+1>>1,p[v+0+32]=jt(S,O,B),p[v+1+32]=p[v+0+96]=jt(O,B,G),p[v+2+32]=p[v+1+96]=jt(B,G,W),p[v+3+32]=p[v+2+96]=jt(G,W,te),p[v+3+64]=jt(W,te,ne),p[v+3+96]=jt(te,ne,ae)}function Yr(p,v){var S=p[v-1+0],O=p[v-1+32],B=p[v-1+64],G=p[v-1+96];p[v+0+0]=S+O+1>>1,p[v+2+0]=p[v+0+32]=O+B+1>>1,p[v+2+32]=p[v+0+64]=B+G+1>>1,p[v+1+0]=jt(S,O,B),p[v+3+0]=p[v+1+32]=jt(O,B,G),p[v+3+32]=p[v+1+64]=jt(B,G,G),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=G}function qo(p,v){var S=p[v-1+0],O=p[v-1+32],B=p[v-1+64],G=p[v-1+96],W=p[v-1-32],te=p[v+0-32],ne=p[v+1-32],ae=p[v+2-32];p[v+0+0]=p[v+2+32]=S+W+1>>1,p[v+0+32]=p[v+2+64]=O+S+1>>1,p[v+0+64]=p[v+2+96]=B+O+1>>1,p[v+0+96]=G+B+1>>1,p[v+3+0]=jt(te,ne,ae),p[v+2+0]=jt(W,te,ne),p[v+1+0]=p[v+3+32]=jt(S,W,te),p[v+1+32]=p[v+3+64]=jt(O,S,W),p[v+1+64]=p[v+3+96]=jt(B,O,S),p[v+1+96]=jt(G,B,O)}function Zs(p,v){var S;for(S=0;8>S;++S)r(p,v+32*S,p,v-32,8)}function bu(p,v){var S;for(S=0;8>S;++S)a(p,v,p[v-1],8),v+=32}function ts(p,v,S){var O;for(O=0;8>O;++O)a(v,S+32*O,p,8)}function _l(p,v){var S,O=8;for(S=0;8>S;++S)O+=p[v+S-32]+p[v-1+32*S];ts(O>>4,p,v)}function wl(p,v){var S,O=4;for(S=0;8>S;++S)O+=p[v+S-32];ts(O>>3,p,v)}function Ui(p,v){var S,O=4;for(S=0;8>S;++S)O+=p[v-1+32*S];ts(O>>3,p,v)}function Ks(p,v){ts(128,p,v)}function ns(p,v,S){var O=p[v-S],B=p[v+0],G=3*(B-O)+Ra[1020+p[v-2*S]-p[v+S]],W=Bc[112+(G+4>>3)];p[v-S]=hr[255+O+Bc[112+(G+3>>3)]],p[v+0]=hr[255+B-W]}function ba(p,v,S,O){var B=p[v+0],G=p[v+S];return tr[255+p[v-2*S]-p[v-S]]>O||tr[255+G-B]>O}function Sl(p,v,S,O){return 4*tr[255+p[v-S]-p[v+0]]+tr[255+p[v-2*S]-p[v+S]]<=O}function zo(p,v,S,O,B){var G=p[v-3*S],W=p[v-2*S],te=p[v-S],ne=p[v+0],ae=p[v+S],ye=p[v+2*S],Ee=p[v+3*S];return 4*tr[255+te-ne]+tr[255+W-ae]>O?0:tr[255+p[v-4*S]-G]<=B&&tr[255+G-W]<=B&&tr[255+W-te]<=B&&tr[255+Ee-ye]<=B&&tr[255+ye-ae]<=B&&tr[255+ae-ne]<=B}function xa(p,v,S,O){var B=2*O+1;for(O=0;16>O;++O)Sl(p,v+O,S,B)&&ns(p,v+O,S)}function _a(p,v,S,O){var B=2*O+1;for(O=0;16>O;++O)Sl(p,v+O*S,1,B)&&ns(p,v+O*S,1)}function Fo(p,v,S,O){var B;for(B=3;0<B;--B)xa(p,v+=4*S,S,O)}function kc(p,v,S,O){var B;for(B=3;0<B;--B)_a(p,v+=4,S,O)}function wa(p,v,S,O,B,G,W,te){for(G=2*G+1;0<B--;){if(zo(p,v,S,G,W))if(ba(p,v,S,te))ns(p,v,S);else{var ne=p,ae=v,ye=S,Ee=ne[ae-2*ye],se=ne[ae-ye],xe=ne[ae+0],Ce=ne[ae+ye],Be=ne[ae+2*ye],Te=27*(Ue=Ra[1020+3*(xe-se)+Ra[1020+Ee-Ce]])+63>>7,Ie=18*Ue+63>>7,Ue=9*Ue+63>>7;ne[ae-3*ye]=hr[255+ne[ae-3*ye]+Ue],ne[ae-2*ye]=hr[255+Ee+Ie],ne[ae-ye]=hr[255+se+Te],ne[ae+0]=hr[255+xe-Te],ne[ae+ye]=hr[255+Ce-Ie],ne[ae+2*ye]=hr[255+Be-Ue]}v+=O}}function Sa(p,v,S,O,B,G,W,te){for(G=2*G+1;0<B--;){if(zo(p,v,S,G,W))if(ba(p,v,S,te))ns(p,v,S);else{var ne=p,ae=v,ye=S,Ee=ne[ae-ye],se=ne[ae+0],xe=ne[ae+ye],Ce=Bc[112+(4+(Be=3*(se-Ee))>>3)],Be=Bc[112+(Be+3>>3)],Te=Ce+1>>1;ne[ae-2*ye]=hr[255+ne[ae-2*ye]+Te],ne[ae-ye]=hr[255+Ee+Be],ne[ae+0]=hr[255+se-Ce],ne[ae+ye]=hr[255+xe-Te]}v+=O}}function xu(p,v,S,O,B,G){wa(p,v,S,1,16,O,B,G)}function Aa(p,v,S,O,B,G){wa(p,v,1,S,16,O,B,G)}function _u(p,v,S,O,B,G){var W;for(W=3;0<W;--W)Sa(p,v+=4*S,S,1,16,O,B,G)}function _(p,v,S,O,B,G){var W;for(W=3;0<W;--W)Sa(p,v+=4,1,S,16,O,B,G)}function I(p,v,S,O,B,G,W,te){wa(p,v,B,1,8,G,W,te),wa(S,O,B,1,8,G,W,te)}function le(p,v,S,O,B,G,W,te){wa(p,v,1,B,8,G,W,te),wa(S,O,1,B,8,G,W,te)}function ve(p,v,S,O,B,G,W,te){Sa(p,v+4*B,B,1,8,G,W,te),Sa(S,O+4*B,B,1,8,G,W,te)}function Se(p,v,S,O,B,G,W,te){Sa(p,v+4,1,B,8,G,W,te),Sa(S,O+4,1,B,8,G,W,te)}function Pe(){this.ba=new et,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ze(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function At(){this.ua=0,this.Wa=new ut,this.vb=new ut,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new U}function qt(){this.xb=this.a=0,this.l=new va,this.ca=new et,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new At,this.ab=0,this.gc=h(4,yt),this.Oc=0}function Ht(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new va,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function un(p,v,S,O,B,G,W){for(p=p==null?0:p[v+0],v=0;v<W;++v)B[G+v]=p+S[O+v]&255,p=B[G+v]}function ti(p,v,S,O,B,G,W){var te;if(p==null)un(null,null,S,O,B,G,W);else for(te=0;te<W;++te)B[G+te]=p[v+te]+S[O+te]&255}function yi(p,v,S,O,B,G,W){if(p==null)un(null,null,S,O,B,G,W);else{var te,ne=p[v+0],ae=ne,ye=ne;for(te=0;te<W;++te)ae=ye+(ne=p[v+te])-ae,ye=S[O+te]+(-256&ae?0>ae?0:255:ae)&255,ae=ne,B[G+te]=ye}}function zn(p,v,S,O){var B=v.width,G=v.o;if(e(p!=null&&v!=null),0>S||0>=O||S+O>G)return null;if(!p.Cc){if(p.ga==null){var W;if(p.ga=new Ht,(W=p.ga==null)||(W=v.width*v.o,e(p.Gb.length==0),p.Gb=o(W),p.Uc=0,p.Gb==null?W=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,W=1),W=!W),!W){W=p.ga;var te=p.Fa,ne=p.P,ae=p.qc,ye=p.mb,Ee=p.nb,se=ne+1,xe=ae-1,Ce=W.l;if(e(te!=null&&ye!=null&&v!=null),Ia[0]=null,Ia[1]=un,Ia[2]=ti,Ia[3]=yi,W.ca=ye,W.tb=Ee,W.c=v.width,W.i=v.height,e(0<W.c&&0<W.i),1>=ae)v=0;else if(W.$a=3&te[ne+0],W.Z=te[ne+0]>>2&3,W.Lc=te[ne+0]>>4&3,ne=te[ne+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||ne)v=0;else if(Ce.put=ht,Ce.ac=Cn,Ce.bc=sn,Ce.ma=W,Ce.width=v.width,Ce.height=v.height,Ce.Da=v.Da,Ce.v=v.v,Ce.va=v.va,Ce.j=v.j,Ce.o=v.o,W.$a)e:{e(W.$a==1),v=ma();t:for(;;){if(v==null){v=0;break e}if(e(W!=null),W.mc=v,v.c=W.c,v.i=W.i,v.l=W.l,v.l.ma=W,v.l.width=W.c,v.l.height=W.i,v.a=0,de(v.m,te,se,xe),!Pr(W.c,W.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&wn(v.s)?(W.ic=1,te=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(te),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(W.ic=0,v=Ur(v,W.c)),!v))break t;v=1;break e}W.mc=null,v=0}else v=xe>=W.c*W.i;W=!v}if(W)return null;p.ga.Lc!=1?p.Ga=0:O=G-S}e(p.ga!=null),e(S+O<=G);e:{if(v=(te=p.ga).c,G=te.l.o,te.$a==0){if(se=p.rc,xe=p.Vc,Ce=p.Fa,ne=p.P+1+S*v,ae=p.mb,ye=p.nb+S*v,e(ne<=p.P+p.qc),te.Z!=0)for(e(Ia[te.Z]!=null),W=0;W<O;++W)Ia[te.Z](se,xe,Ce,ne,ae,ye,v),se=ae,xe=ye,ye+=v,ne+=v;else for(W=0;W<O;++W)r(ae,ye,Ce,ne,v),se=ae,xe=ye,ye+=v,ne+=v;p.rc=se,p.Vc=xe}else{if(e(te.mc!=null),v=S+O,e((W=te.mc)!=null),e(v<=W.i),W.C>=v)v=1;else if(te.ic||Os(),te.ic){te=W.V,se=W.Ba,xe=W.c;var Be=W.i,Te=(Ce=1,ne=W.$/xe,ae=W.$%xe,ye=W.m,Ee=W.s,W.$),Ie=xe*Be,Ue=xe*v,$e=Ee.wc,We=Te<Ue?Dn(Ee,ae,ne):null;e(Te<=Ie),e(v<=Be),e(wn(Ee));t:for(;;){for(;!ye.h&&Te<Ue;){if(ae&$e||(We=Dn(Ee,ae,ne)),e(We!=null),pe(ye),256>(Be=Jt(We.G[0],We.H[0],ye)))te[se+Te]=Be,++Te,++ae>=xe&&(ae=0,++ne<=v&&!(ne%16)&&Di(W,ne));else{if(!(280>Be)){Ce=0;break t}Be=Tn(Be-256,ye);var xt,ft=Jt(We.G[4],We.H[4],ye);if(pe(ye),!(Te>=(ft=Ln(xe,ft=Tn(ft,ye)))&&Ie-Te>=Be)){Ce=0;break t}for(xt=0;xt<Be;++xt)te[se+Te+xt]=te[se+Te+xt-ft];for(Te+=Be,ae+=Be;ae>=xe;)ae-=xe,++ne<=v&&!(ne%16)&&Di(W,ne);Te<Ue&&ae&$e&&(We=Dn(Ee,ae,ne))}e(ye.h==ie(ye))}Di(W,ne>v?v:ne);break t}!Ce||ye.h&&Te<Ie?(Ce=0,W.a=ye.h?5:3):W.$=Te,v=Ce}else v=cr(W,W.V,W.Ba,W.c,W.i,v,Ys);if(!v){O=0;break e}}S+O>=G&&(p.Cc=1),O=1}if(!O)return null;if(p.Cc&&((O=p.ga)!=null&&(O.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*B}function Ri(p,v,S,O,B,G){for(;0<B--;){var W,te=p,ne=v+(S?1:0),ae=p,ye=v+(S?0:3);for(W=0;W<O;++W){var Ee=ae[ye+4*W];Ee!=255&&(Ee*=32897,te[ne+4*W+0]=te[ne+4*W+0]*Ee>>23,te[ne+4*W+1]=te[ne+4*W+1]*Ee>>23,te[ne+4*W+2]=te[ne+4*W+2]*Ee>>23)}v+=G}}function Ai(p,v,S,O,B){for(;0<O--;){var G;for(G=0;G<S;++G){var W=p[v+2*G+0],te=15&(ae=p[v+2*G+1]),ne=4369*te,ae=(240&ae|ae>>4)*ne>>16;p[v+2*G+0]=(240&W|W>>4)*ne>>16&240|(15&W|W<<4)*ne>>16>>4&15,p[v+2*G+1]=240&ae|te}v+=B}}function Ji(p,v,S,O,B,G,W,te){var ne,ae,ye=255;for(ae=0;ae<B;++ae){for(ne=0;ne<O;++ne){var Ee=p[v+ne];G[W+4*ne]=Ee,ye&=Ee}v+=S,W+=te}return ye!=255}function Na(p,v,S,O,B){var G;for(G=0;G<B;++G)S[O+G]=p[v+G]>>8}function Os(){Ho=Ri,rs=Ai,jc=Ji,Zr=Na}function Ca(p,v,S){R[p]=function(O,B,G,W,te,ne,ae,ye,Ee,se,xe,Ce,Be,Te,Ie,Ue,$e){var We,xt=$e-1>>1,ft=te[ne+0]|ae[ye+0]<<16,Pt=Ee[se+0]|xe[Ce+0]<<16;e(O!=null);var mt=3*ft+Pt+131074>>2;for(v(O[B+0],255&mt,mt>>16,Be,Te),G!=null&&(mt=3*Pt+ft+131074>>2,v(G[W+0],255&mt,mt>>16,Ie,Ue)),We=1;We<=xt;++We){var en=te[ne+We]|ae[ye+We]<<16,Zn=Ee[se+We]|xe[Ce+We]<<16,Gt=ft+en+Pt+Zn+524296,dt=Gt+2*(en+Pt)>>3;mt=dt+ft>>1,ft=(Gt=Gt+2*(ft+Zn)>>3)+en>>1,v(O[B+2*We-1],255&mt,mt>>16,Be,Te+(2*We-1)*S),v(O[B+2*We-0],255&ft,ft>>16,Be,Te+(2*We-0)*S),G!=null&&(mt=Gt+Pt>>1,ft=dt+Zn>>1,v(G[W+2*We-1],255&mt,mt>>16,Ie,Ue+(2*We-1)*S),v(G[W+2*We+0],255&ft,ft>>16,Ie,Ue+(2*We+0)*S)),ft=en,Pt=Zn}1&$e||(mt=3*ft+Pt+131074>>2,v(O[B+$e-1],255&mt,mt>>16,Be,Te+($e-1)*S),G!=null&&(mt=3*Pt+ft+131074>>2,v(G[W+$e-1],255&mt,mt>>16,Ie,Ue+($e-1)*S)))}}function Oc(){ir[Nu]=Wo,ir[fr]=jl,ir[Cu]=Uh,ir[ss]=Mu,ir[qc]=po,ir[Ml]=sa,ir[uo]=mo,ir[zc]=jl,ir[Tu]=Mu,ir[Ll]=po,ir[Eu]=sa}function Al(p){return p&-16384?0>p?0:255:p>>Lu}function Qs(p,v){return Al((19077*p>>8)+(26149*v>>8)-14234)}function Ms(p,v,S){return Al((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function Po(p,v){return Al((19077*p>>8)+(33050*v>>8)-17685)}function Ta(p,v,S,O,B){O[B+0]=Qs(p,S),O[B+1]=Ms(p,v,S),O[B+2]=Po(p,v)}function Vi(p,v,S,O,B){O[B+0]=Po(p,v),O[B+1]=Ms(p,v,S),O[B+2]=Qs(p,S)}function oo(p,v,S,O,B){var G=Ms(p,v,S);v=G<<3&224|Po(p,v)>>3,O[B+0]=248&Qs(p,S)|G>>5,O[B+1]=v}function lo(p,v,S,O,B){var G=240&Po(p,v)|15;O[B+0]=240&Qs(p,S)|Ms(p,v,S)>>4,O[B+1]=G}function Nl(p,v,S,O,B){O[B+0]=255,Ta(p,v,S,O,B+1)}function $s(p,v,S,O,B){Vi(p,v,S,O,B),O[B+3]=255}function _r(p,v,S,O,B){Ta(p,v,S,O,B),O[B+3]=255}function Ea(p,v,S){R[p]=function(O,B,G,W,te,ne,ae,ye,Ee){for(var se=ye+(-2&Ee)*S;ye!=se;)v(O[B+0],G[W+0],te[ne+0],ae,ye),v(O[B+1],G[W+0],te[ne+0],ae,ye+S),B+=2,++W,++ne,ye+=2*S;1&Ee&&v(O[B+0],G[W+0],te[ne+0],ae,ye)}}function Cl(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function Mc(p,v,S,O,B){switch(p>>>30){case 3:ja(v,S,O,B,0);break;case 2:ur(v,S,O,B);break;case 1:xn(v,S,O,B)}}function Wr(p,v){var S,O,B=v.M,G=v.Nb,W=p.oc,te=p.pc+40,ne=p.oc,ae=p.pc+584,ye=p.oc,Ee=p.pc+600;for(S=0;16>S;++S)W[te+32*S-1]=129;for(S=0;8>S;++S)ne[ae+32*S-1]=129,ye[Ee+32*S-1]=129;for(0<B?W[te-1-32]=ne[ae-1-32]=ye[Ee-1-32]=129:(a(W,te-32-1,127,21),a(ne,ae-32-1,127,9),a(ye,Ee-32-1,127,9)),O=0;O<p.za;++O){var se=v.ya[v.aa+O];if(0<O){for(S=-1;16>S;++S)r(W,te+32*S-4,W,te+32*S+12,4);for(S=-1;8>S;++S)r(ne,ae+32*S-4,ne,ae+32*S+4,4),r(ye,Ee+32*S-4,ye,Ee+32*S+4,4)}var xe=p.Gd,Ce=p.Hd+O,Be=se.ad,Te=se.Hc;if(0<B&&(r(W,te-32,xe[Ce].y,0,16),r(ne,ae-32,xe[Ce].f,0,8),r(ye,Ee-32,xe[Ce].ea,0,8)),se.Za){var Ie=W,Ue=te-32+16;for(0<B&&(O>=p.za-1?a(Ie,Ue,xe[Ce].y[15],4):r(Ie,Ue,xe[Ce+1].y,0,4)),S=0;4>S;S++)Ie[Ue+128+S]=Ie[Ue+256+S]=Ie[Ue+384+S]=Ie[Ue+0+S];for(S=0;16>S;++S,Te<<=2)Ie=W,Ue=te+_i[S],hi[se.Ob[S]](Ie,Ue),Mc(Te,Be,16*+S,Ie,Ue)}else if(Ie=Cl(O,B,se.Ob[0]),Sr[Ie](W,te),Te!=0)for(S=0;16>S;++S,Te<<=2)Mc(Te,Be,16*+S,W,te+_i[S]);for(S=se.Gc,Ie=Cl(O,B,se.Dd),Rs[Ie](ne,ae),Rs[Ie](ye,Ee),Te=Be,Ie=ne,Ue=ae,255&(se=0|S)&&(170&se?is(Te,256,Ie,Ue):hn(Te,256,Ie,Ue)),se=ye,Te=Ee,255&(S>>=8)&&(170&S?is(Be,320,se,Te):hn(Be,320,se,Te)),B<p.Ub-1&&(r(xe[Ce].y,0,W,te+480,16),r(xe[Ce].f,0,ne,ae+224,8),r(xe[Ce].ea,0,ye,Ee+224,8)),S=8*G*p.B,xe=p.sa,Ce=p.ta+16*O+16*G*p.R,Be=p.qa,se=p.ra+8*O+S,Te=p.Ha,Ie=p.Ia+8*O+S,S=0;16>S;++S)r(xe,Ce+S*p.R,W,te+32*S,16);for(S=0;8>S;++S)r(Be,se+S*p.B,ne,ae+32*S,8),r(Te,Ie+S*p.B,ye,Ee+32*S,8)}}function Ls(p,v,S,O,B,G,W,te,ne){var ae=[0],ye=[0],Ee=0,se=ne!=null?ne.kd:0,xe=ne??new Ze;if(p==null||12>S)return 7;xe.data=p,xe.w=v,xe.ha=S,v=[v],S=[S],xe.gb=[xe.gb];e:{var Ce=v,Be=S,Te=xe.gb;if(e(p!=null),e(Be!=null),e(Te!=null),Te[0]=0,12<=Be[0]&&!t(p,Ce[0],"RIFF")){if(t(p,Ce[0]+8,"WEBP")){Te=3;break e}var Ie=Qe(p,Ce[0]+4);if(12>Ie||4294967286<Ie){Te=3;break e}if(se&&Ie>Be[0]-8){Te=7;break e}Te[0]=Ie,Ce[0]+=12,Be[0]-=12}Te=0}if(Te!=0)return Te;for(Ie=0<xe.gb[0],S=S[0];;){e:{var Ue=p;Be=v,Te=S;var $e=ae,We=ye,xt=Ce=[0];if((mt=Ee=[Ee])[0]=0,8>Te[0])Te=7;else{if(!t(Ue,Be[0],"VP8X")){if(Qe(Ue,Be[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var ft=Qe(Ue,Be[0]+8),Pt=1+He(Ue,Be[0]+12);if(2147483648<=Pt*(Ue=1+He(Ue,Be[0]+15))){Te=3;break e}xt!=null&&(xt[0]=ft),$e!=null&&($e[0]=Pt),We!=null&&(We[0]=Ue),Be[0]+=18,Te[0]-=18,mt[0]=1}Te=0}}if(Ee=Ee[0],Ce=Ce[0],Te!=0)return Te;if(Be=!!(2&Ce),!Ie&&Ee)return 3;if(G!=null&&(G[0]=!!(16&Ce)),W!=null&&(W[0]=Be),te!=null&&(te[0]=0),W=ae[0],Ce=ye[0],Ee&&Be&&ne==null){Te=0;break}if(4>S){Te=7;break}if(Ie&&Ee||!Ie&&!Ee&&!t(p,v[0],"ALPH")){S=[S],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{ft=p,Te=v,Ie=S;var mt=xe.gb;$e=xe.na,We=xe.P,xt=xe.Sa,Pt=22,e(ft!=null),e(Ie!=null),Ue=Te[0];var en=Ie[0];for(e($e!=null),e(xt!=null),$e[0]=null,We[0]=null,xt[0]=0;;){if(Te[0]=Ue,Ie[0]=en,8>en){Te=7;break e}var Zn=Qe(ft,Ue+4);if(4294967286<Zn){Te=3;break e}var Gt=8+Zn+1&-2;if(Pt+=Gt,0<mt&&Pt>mt){Te=3;break e}if(!t(ft,Ue,"VP8 ")||!t(ft,Ue,"VP8L")){Te=0;break e}if(en[0]<Gt){Te=7;break e}t(ft,Ue,"ALPH")||($e[0]=ft,We[0]=Ue+8,xt[0]=Zn),Ue+=Gt,en-=Gt}}if(S=S[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],Te!=0)break}S=[S],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(mt=p,Te=v,Ie=S,$e=xe.gb[0],We=xe.Ja,xt=xe.xa,ft=Te[0],Ue=!t(mt,ft,"VP8 "),Pt=!t(mt,ft,"VP8L"),e(mt!=null),e(Ie!=null),e(We!=null),e(xt!=null),8>Ie[0])Te=7;else{if(Ue||Pt){if(mt=Qe(mt,ft+4),12<=$e&&mt>$e-12){Te=3;break e}if(se&&mt>Ie[0]-8){Te=7;break e}We[0]=mt,Te[0]+=8,Ie[0]-=8,xt[0]=Pt}else xt[0]=5<=Ie[0]&&mt[ft+0]==47&&!(mt[ft+4]>>5),We[0]=Ie[0];Te=0}if(S=S[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],v=v[0],Te!=0)break;if(4294967286<xe.Ja)return 3;if(te==null||Be||(te[0]=xe.xa?2:1),W=[W],Ce=[Ce],xe.xa){if(5>S){Te=7;break}te=W,se=Ce,Be=G,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(Ie=[0],mt=[0],$e=[0],de(We=new H,p,v,S),jn(We,Ie,mt,$e)?(te!=null&&(te[0]=Ie[0]),se!=null&&(se[0]=mt[0]),Be!=null&&(Be[0]=$e[0]),p=1):p=0):p=0}else{if(10>S){Te=7;break}te=Ce,p==null||10>S||!xc(p,v+3,S-3)?p=0:(se=p[v+0]|p[v+1]<<8|p[v+2]<<16,Be=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&se||3<(se>>1&7)||!(se>>4&1)||se>>5>=xe.Ja||!Be||!p?p=0:(W&&(W[0]=Be),te&&(te[0]=p),p=1))}if(!p||(W=W[0],Ce=Ce[0],Ee&&(ae[0]!=W||ye[0]!=Ce)))return 3;ne!=null&&(ne[0]=xe,ne.offset=v-ne.w,e(4294967286>v-ne.w),e(ne.offset==ne.ha-S));break}return Te==0||Te==7&&Ee&&ne==null?(G!=null&&(G[0]|=xe.na!=null&&0<xe.na.length),O!=null&&(O[0]=W),B!=null&&(B[0]=Ce),0):Te}function ka(p,v,S){var O=v.width,B=v.height,G=0,W=0,te=O,ne=B;if(v.Da=p!=null&&0<p.Da,v.Da&&(te=p.cd,ne=p.bd,G=p.v,W=p.j,11>S||(G&=-2,W&=-2),0>G||0>W||0>=te||0>=ne||G+te>O||W+ne>B))return 0;if(v.v=G,v.j=W,v.va=G+te,v.o=W+ne,v.U=te,v.T=ne,v.da=p!=null&&0<p.da,v.da){if(!nt(te,ne,S=[p.ib],G=[p.hb]))return 0;v.ib=S[0],v.hb=G[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*O/4&&v.hb<3*B/4,v.Kb=0),1}function Lc(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Ds(p,v,S,O){if(O==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var B=S.cd,G=S.bd,W=-2&S.v,te=-2&S.j;if(0>W||0>te||0>=B||0>=G||W+B>p||te+G>v)return 2;p=B,v=G}if(S.da){if(!nt(p,v,B=[S.ib],G=[S.hb]))return 2;p=B[0],v=G[0]}}O.width=p,O.height=v;e:{var ne=O.width,ae=O.height;if(p=O.S,0>=ne||0>=ae||!(p>=Nu&&13>p))p=2;else{if(0>=O.Rd&&O.sd==null){W=G=B=v=0;var ye=(te=ne*ju[p])*ae;if(11>p||(G=(ae+1)/2*(v=(ne+1)/2),p==12&&(W=(B=ne)*ae)),(ae=o(ye+2*G+W))==null){p=1;break e}O.sd=ae,11>p?((ne=O.f.RGBA).eb=ae,ne.fb=0,ne.A=te,ne.size=ye):((ne=O.f.kb).y=ae,ne.O=0,ne.fa=te,ne.Fd=ye,ne.f=ae,ne.N=0+ye,ne.Ab=v,ne.Cd=G,ne.ea=ae,ne.W=0+ye+G,ne.Db=v,ne.Ed=G,p==12&&(ne.F=ae,ne.J=0+ye+2*G),ne.Tc=W,ne.lb=B)}if(v=1,B=O.S,G=O.width,W=O.height,B>=Nu&&13>B)if(11>B)p=O.f.RGBA,v&=(te=Math.abs(p.A))*(W-1)+G<=p.size,v&=te>=G*ju[B],v&=p.eb!=null;else{p=O.f.kb,te=(G+1)/2,ye=(W+1)/2,ne=Math.abs(p.fa),ae=Math.abs(p.Ab);var Ee=Math.abs(p.Db),se=Math.abs(p.lb),xe=se*(W-1)+G;v&=ne*(W-1)+G<=p.Fd,v&=ae*(ye-1)+te<=p.Cd,v=(v&=Ee*(ye-1)+te<=p.Ed)&ne>=G&ae>=te&Ee>=te,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,B==12&&(v&=se>=G,v&=xe<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=Lc(O)),p}var co=64,Lr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],wr=24,Js=32,ea=8,Oa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(p){return p},R.Predictor2=function(p,v,S){return v[S+0]},R.Predictor3=function(p,v,S){return v[S+1]},R.Predictor4=function(p,v,S){return v[S-1]},R.Predictor5=function(p,v,S){return pt(pt(p,v[S+1]),v[S+0])},R.Predictor6=function(p,v,S){return pt(p,v[S-1])},R.Predictor7=function(p,v,S){return pt(p,v[S+0])},R.Predictor8=function(p,v,S){return pt(v[S-1],v[S+0])},R.Predictor9=function(p,v,S){return pt(v[S+0],v[S+1])},R.Predictor10=function(p,v,S){return pt(pt(p,v[S-1]),pt(v[S+0],v[S+1]))},R.Predictor11=function(p,v,S){var O=v[S+0];return 0>=Ke(O>>24&255,p>>24&255,(v=v[S-1])>>24&255)+Ke(O>>16&255,p>>16&255,v>>16&255)+Ke(O>>8&255,p>>8&255,v>>8&255)+Ke(255&O,255&p,255&v)?O:p},R.Predictor12=function(p,v,S){var O=v[S+0];return(kt((p>>24&255)+(O>>24&255)-((v=v[S-1])>>24&255))<<24|kt((p>>16&255)+(O>>16&255)-(v>>16&255))<<16|kt((p>>8&255)+(O>>8&255)-(v>>8&255))<<8|kt((255&p)+(255&O)-(255&v)))>>>0},R.Predictor13=function(p,v,S){var O=v[S-1];return(Ge((p=pt(p,v[S+0]))>>24&255,O>>24&255)<<24|Ge(p>>16&255,O>>16&255)<<16|Ge(p>>8&255,O>>8&255)<<8|Ge(255&p,255&O))>>>0};var Tl=R.PredictorAdd0;R.PredictorAdd1=ct,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var El=R.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var bi,wu=R.ColorIndexInverseTransform,ta=R.MapARGB,na=R.VP8LColorIndexInverseTransformAlpha,er=R.MapAlpha,Ma=R.VP8LPredictorsAdd=[];Ma.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var kl,Ol,La,Da,ia,Uo,Xr,ja,ur,is,xn,hn,Fn,xi,ra,js,Vo,Dc,Bh,ud,hd,fd,qh,zh,Ho,rs,jc,Zr,Go=o(511),Su=o(2041),Rc=o(225),Ic=o(767),Au=0,Ra=Su,Bc=Rc,hr=Ic,tr=Go,Nu=0,fr=1,Cu=2,ss=3,qc=4,Ml=5,uo=6,zc=7,Tu=8,Ll=9,Eu=10,as=[2,3,7],Dl=[3,3,11],Yo=[280,256,256,256,40],ku=[0,1,1,1,0],Fc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],os=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ls=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ho=8,cs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],us=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Kr=null,dd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Fh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ou=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],pd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],nr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Xn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],tn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Sr=[],hi=[],Rs=[],fo=1,Ph=2,Ia=[],ir=[];Ca("UpsampleRgbLinePair",Ta,3),Ca("UpsampleBgrLinePair",Vi,3),Ca("UpsampleRgbaLinePair",_r,4),Ca("UpsampleBgraLinePair",$s,4),Ca("UpsampleArgbLinePair",Nl,4),Ca("UpsampleRgba4444LinePair",lo,2),Ca("UpsampleRgb565LinePair",oo,2);var Wo=R.UpsampleRgbLinePair,Uh=R.UpsampleBgrLinePair,jl=R.UpsampleRgbaLinePair,Mu=R.UpsampleBgraLinePair,po=R.UpsampleArgbLinePair,sa=R.UpsampleRgba4444LinePair,mo=R.UpsampleRgb565LinePair,hs=16,Rl=1<<hs-1,Xo=-227,go=482,Lu=6,vo=0,rr=o(256),Du=o(256),md=o(256),k1=o(256),O1=o(go-Xo),M1=o(go-Xo);Ea("YuvToRgbRow",Ta,3),Ea("YuvToBgrRow",Vi,3),Ea("YuvToRgbaRow",_r,4),Ea("YuvToBgraRow",$s,4),Ea("YuvToArgbRow",Nl,4),Ea("YuvToRgba4444Row",lo,2),Ea("YuvToRgb565Row",oo,2);var _i=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Il=[0,2,8],Pc=[8,7,6,4,4,2,2,2,1,1,1,1],Uc=1;this.WebPDecodeRGBA=function(p,v,S,O,B){var G=fr,W=new Pe,te=new et;W.ba=te,te.S=G,te.width=[te.width],te.height=[te.height];var ne=te.width,ae=te.height,ye=new Je;if(ye==null||p==null)var Ee=2;else e(ye!=null),Ee=Ls(p,v,S,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Ee!=0?ne=0:(ne!=null&&(ne[0]=ye.width[0]),ae!=null&&(ae[0]=ye.height[0]),ne=1),ne){te.width=te.width[0],te.height=te.height[0],O!=null&&(O[0]=te.width),B!=null&&(B[0]=te.height);e:{if(O=new va,(B=new Ze).data=p,B.w=v,B.ha=S,B.kd=1,v=[0],e(B!=null),((p=Ls(B.data,B.w,B.ha,null,null,null,v,null,B))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(W!=null),O.data=B.data,O.w=B.w+B.offset,O.ha=B.ha-B.offset,O.put=ht,O.ac=Cn,O.bc=sn,O.ma=W,B.xa){if((p=ma())==null){W=1;break e}if((function(se,xe){var Ce=[0],Be=[0],Te=[0];t:for(;;){if(se==null)return 0;if(xe==null)return se.a=2,0;if(se.l=xe,se.a=0,de(se.m,xe.data,xe.w,xe.ha),!jn(se.m,Ce,Be,Te)){se.a=3;break t}if(se.xb=Ph,xe.width=Ce[0],xe.height=Be[0],!Pr(Ce[0],Be[0],1,se,null))break t;return 1}return e(se.a!=0),0})(p,O)){if(O=(v=Ds(O.width,O.height,W.Oa,W.ba))==0){t:{O=p;n:for(;;){if(O==null){O=0;break t}if(e(O.s.yc!=null),e(O.s.Ya!=null),e(0<O.s.Wb),e((S=O.l)!=null),e((B=S.ma)!=null),O.xb!=0){if(O.ca=B.ba,O.tb=B.tb,e(O.ca!=null),!ka(B.Oa,S,ss)){O.a=2;break n}if(!Ur(O,S.width)||S.da)break n;if((S.da||ze(O.ca.S))&&Os(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Os()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!V(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!cr(O,O.V,O.Ba,O.c,O.i,S.o,ui))break n;B.Dc=O.Ma,O=1;break t}e(O.a!=0),O=0}O=!O}O&&(v=p.a)}else v=p.a}else{if((p=new Ts)==null){W=1;break e}if(p.Fa=B.na,p.P=B.P,p.qc=B.Sa,Xs(p,O)){if((v=Ds(O.width,O.height,W.Oa,W.ba))==0){if(p.Aa=0,S=W.Oa,e((B=p)!=null),S!=null){if(0<(ne=0>(ne=S.Md)?0:100<ne?255:255*ne/100)){for(ae=ye=0;4>ae;++ae)12>(Ee=B.pb[ae]).lc&&(Ee.ia=ne*Pc[0>Ee.lc?0:Ee.lc]>>3),ye|=Ee.ia;ye&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=S.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(se,xe){if(se==null)return 0;if(xe==null)return bn(se,2,"NULL VP8Io parameter in VP8Decode().");if(!se.cb&&!Xs(se,xe))return 0;if(e(se.cb),xe.ac==null||xe.ac(xe)){xe.ob&&(se.L=0);var Ce=Il[se.L];if(se.L==2?(se.yb=0,se.zb=0):(se.yb=xe.v-Ce>>4,se.zb=xe.j-Ce>>4,0>se.yb&&(se.yb=0),0>se.zb&&(se.zb=0)),se.Va=xe.o+15+Ce>>4,se.Hb=xe.va+15+Ce>>4,se.Hb>se.za&&(se.Hb=se.za),se.Va>se.Ub&&(se.Va=se.Ub),0<se.L){var Be=se.ed;for(Ce=0;4>Ce;++Ce){var Te;if(se.Qa.Cb){var Ie=se.Qa.Lb[Ce];se.Qa.Fb||(Ie+=Be.Tb)}else Ie=Be.Tb;for(Te=0;1>=Te;++Te){var Ue=se.gd[Ce][Te],$e=Ie;if(Be.Pc&&($e+=Be.vd[0],Te&&($e+=Be.od[0])),0<($e=0>$e?0:63<$e?63:$e)){var We=$e;0<Be.wb&&(We=4<Be.wb?We>>2:We>>1)>9-Be.wb&&(We=9-Be.wb),1>We&&(We=1),Ue.dd=We,Ue.tc=2*$e+We,Ue.ld=40<=$e?2:15<=$e?1:0}else Ue.tc=0;Ue.La=Te}}}Ce=0}else bn(se,6,"Frame setup failed"),Ce=se.a;if(Ce=Ce==0){if(Ce){se.$c=0,0<se.Aa||(se.Ic=Uc);t:{Ce=se.Ic,Be=4*(We=se.za);var xt=32*We,ft=We+1,Pt=0<se.L?We*(0<se.Aa?2:1):0,mt=(se.Aa==2?2:1)*We;if((Ue=Be+832+(Te=3*(16*Ce+Il[se.L])/2*xt)+(Ie=se.Fa!=null&&0<se.Fa.length?se.Kc.c*se.Kc.i:0))!=Ue)Ce=0;else{if(Ue>se.Vb){if(se.Vb=0,se.Ec=o(Ue),se.Fc=0,se.Ec==null){Ce=bn(se,1,"no memory during frame initialization.");break t}se.Vb=Ue}Ue=se.Ec,$e=se.Fc,se.Ac=Ue,se.Bc=$e,$e+=Be,se.Gd=h(xt,bc),se.Hd=0,se.rb=h(ft+1,Cs),se.sb=1,se.wa=Pt?h(Pt,Vr):null,se.Y=0,se.D.Nb=0,se.D.wa=se.wa,se.D.Y=se.Y,0<se.Aa&&(se.D.Y+=We),e(!0),se.oc=Ue,se.pc=$e,$e+=832,se.ya=h(mt,vc),se.aa=0,se.D.ya=se.ya,se.D.aa=se.aa,se.Aa==2&&(se.D.aa+=We),se.R=16*We,se.B=8*We,We=(xt=Il[se.L])*se.R,xt=xt/2*se.B,se.sa=Ue,se.ta=$e+We,se.qa=se.sa,se.ra=se.ta+16*Ce*se.R+xt,se.Ha=se.qa,se.Ia=se.ra+8*Ce*se.B+xt,se.$c=0,$e+=Te,se.mb=Ie?Ue:null,se.nb=Ie?$e:null,e($e+Ie<=se.Fc+se.Vb),_c(se),a(se.Ac,se.Bc,0,Be),Ce=1}}if(Ce){if(xe.ka=0,xe.y=se.sa,xe.O=se.ta,xe.f=se.qa,xe.N=se.ra,xe.ea=se.Ha,xe.Vd=se.Ia,xe.fa=se.R,xe.Rc=se.B,xe.F=null,xe.J=0,!Au){for(Ce=-255;255>=Ce;++Ce)Go[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)Su[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)Rc[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)Ic[255+Ce]=0>Ce?0:255<Ce?255:Ce;Au=1}Xr=Es,ja=wc,is=xr,xn=Sc,hn=Ac,ur=du,Fn=xu,xi=Aa,ra=I,js=le,Vo=_u,Dc=_,Bh=ve,ud=Se,hd=xa,fd=_a,qh=Fo,zh=kc,hi[0]=yu,hi[1]=pu,hi[2]=vu,hi[3]=Tc,hi[4]=Gr,hi[5]=Ec,hi[6]=$i,hi[7]=Bo,hi[8]=qo,hi[9]=Yr,Sr[0]=ks,Sr[1]=Nc,Sr[2]=Cc,Sr[3]=gu,Sr[4]=ya,Sr[5]=Io,Sr[6]=ao,Rs[0]=_l,Rs[1]=mu,Rs[2]=Zs,Rs[3]=bu,Rs[4]=Ui,Rs[5]=wl,Rs[6]=Ks,Ce=1}else Ce=0}Ce&&(Ce=(function(en,Zn){for(en.M=0;en.M<en.Va;++en.M){var Gt,dt=en.Jc[en.M&en.Xb],st=en.m,ni=en;for(Gt=0;Gt<ni.za;++Gt){var Rt=st,Xt=ni,kn=Xt.Ac,Ii=Xt.Bc+4*Gt,sr=Xt.zc,Pn=Xt.ya[Xt.aa+Gt];if(Xt.Qa.Bb?Pn.$b=_e(Rt,Xt.Pa.jb[0])?2+_e(Rt,Xt.Pa.jb[2]):_e(Rt,Xt.Pa.jb[1]):Pn.$b=0,Xt.kc&&(Pn.Ad=_e(Rt,Xt.Bd)),Pn.Za=!_e(Rt,145)+0,Pn.Za){var Ni=Pn.Ob,dr=0;for(Xt=0;4>Xt;++Xt){var Ci,Qt=sr[0+Xt];for(Ci=0;4>Ci;++Ci){Qt=nr[kn[Ii+Ci]][Qt];for(var pn=Ou[_e(Rt,Qt[0])];0<pn;)pn=Ou[2*pn+_e(Rt,Qt[pn])];Qt=-pn,kn[Ii+Ci]=Qt}r(Ni,dr,kn,Ii,4),dr+=4,sr[0+Xt]=Qt}}else Qt=_e(Rt,156)?_e(Rt,128)?1:3:_e(Rt,163)?2:0,Pn.Ob[0]=Qt,a(kn,Ii,Qt,4),a(sr,0,Qt,4);Pn.Dd=_e(Rt,142)?_e(Rt,114)?_e(Rt,183)?1:3:2:0}if(ni.m.Ka)return bn(en,7,"Premature end-of-partition0 encountered.");for(;en.ja<en.za;++en.ja){if(ni=dt,Rt=(st=en).rb[st.sb-1],kn=st.rb[st.sb+st.ja],Gt=st.ya[st.aa+st.ja],Ii=st.kc?Gt.Ad:0)Rt.la=kn.la=0,Gt.Za||(Rt.Na=kn.Na=0),Gt.Hc=0,Gt.Gc=0,Gt.ia=0;else{var ii,_n;if(Rt=kn,kn=ni,Ii=st.Pa.Xc,sr=st.ya[st.aa+st.ja],Pn=st.pb[sr.$b],Xt=sr.ad,Ni=0,dr=st.rb[st.sb-1],Qt=Ci=0,a(Xt,Ni,0,384),sr.Za)var Bi=0,ri=Ii[3];else{pn=o(16);var mn=Rt.Na+dr.Na;if(mn=Kr(kn,Ii[1],mn,Pn.Eb,0,pn,0),Rt.Na=dr.Na=(0<mn)+0,1<mn)Xr(pn,0,Xt,Ni);else{var wi=pn[0]+3>>3;for(pn=0;256>pn;pn+=16)Xt[Ni+pn]=wi}Bi=1,ri=Ii[0]}var On=15&Rt.la,Ti=15&dr.la;for(pn=0;4>pn;++pn){var Ei=1&Ti;for(wi=_n=0;4>wi;++wi)On=On>>1|(Ei=(mn=Kr(kn,ri,mn=Ei+(1&On),Pn.Sc,Bi,Xt,Ni))>Bi)<<7,_n=_n<<2|(3<mn?3:1<mn?2:Xt[Ni+0]!=0),Ni+=16;On>>=4,Ti=Ti>>1|Ei<<7,Ci=(Ci<<8|_n)>>>0}for(ri=On,Bi=Ti>>4,ii=0;4>ii;ii+=2){for(_n=0,On=Rt.la>>4+ii,Ti=dr.la>>4+ii,pn=0;2>pn;++pn){for(Ei=1&Ti,wi=0;2>wi;++wi)mn=Ei+(1&On),On=On>>1|(Ei=0<(mn=Kr(kn,Ii[2],mn,Pn.Qc,0,Xt,Ni)))<<3,_n=_n<<2|(3<mn?3:1<mn?2:Xt[Ni+0]!=0),Ni+=16;On>>=2,Ti=Ti>>1|Ei<<5}Qt|=_n<<4*ii,ri|=On<<4<<ii,Bi|=(240&Ti)<<ii}Rt.la=ri,dr.la=Bi,sr.Hc=Ci,sr.Gc=Qt,sr.ia=43690&Qt?0:Pn.ia,Ii=!(Ci|Qt)}if(0<st.L&&(st.wa[st.Y+st.ja]=st.gd[Gt.$b][Gt.Za],st.wa[st.Y+st.ja].La|=!Ii),ni.Ka)return bn(en,7,"Premature end-of-file encountered.")}if(_c(en),st=Zn,ni=1,Gt=(dt=en).D,Rt=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if(Gt.M=dt.M,Gt.uc=Rt,Wr(dt,Gt),ni=1,Gt=(_n=dt.D).Nb,Rt=(Qt=Il[dt.L])*dt.R,kn=Qt/2*dt.B,pn=16*Gt*dt.R,wi=8*Gt*dt.B,Ii=dt.sa,sr=dt.ta-Rt+pn,Pn=dt.qa,Xt=dt.ra-kn+wi,Ni=dt.Ha,dr=dt.Ia-kn+wi,Ti=(On=_n.M)==0,Ci=On>=dt.Va-1,dt.Aa==2&&Wr(dt,_n),_n.uc)for(Ei=(mn=dt).D.M,e(mn.D.uc),_n=mn.yb;_n<mn.Hb;++_n){Bi=_n,ri=Ei;var Rn=(fn=(ki=mn).D).Nb;ii=ki.R;var fn=fn.wa[fn.Y+Bi],pr=ki.sa,fi=ki.ta+16*Rn*ii+16*Bi,Ot=fn.dd,Mt=fn.tc;if(Mt!=0)if(e(3<=Mt),ki.L==1)0<Bi&&fd(pr,fi,ii,Mt+4),fn.La&&zh(pr,fi,ii,Mt),0<ri&&hd(pr,fi,ii,Mt+4),fn.La&&qh(pr,fi,ii,Mt);else{var gn=ki.B,Dr=ki.qa,fs=ki.ra+8*Rn*gn+8*Bi,Ar=ki.Ha,ki=ki.Ia+8*Rn*gn+8*Bi;Rn=fn.ld,0<Bi&&(xi(pr,fi,ii,Mt+4,Ot,Rn),js(Dr,fs,Ar,ki,gn,Mt+4,Ot,Rn)),fn.La&&(Dc(pr,fi,ii,Mt,Ot,Rn),ud(Dr,fs,Ar,ki,gn,Mt,Ot,Rn)),0<ri&&(Fn(pr,fi,ii,Mt+4,Ot,Rn),ra(Dr,fs,Ar,ki,gn,Mt+4,Ot,Rn)),fn.La&&(Vo(pr,fi,ii,Mt,Ot,Rn),Bh(Dr,fs,Ar,ki,gn,Mt,Ot,Rn))}}if(dt.ia&&alert("todo:DitherRow"),st.put!=null){if(_n=16*On,On=16*(On+1),Ti?(st.y=dt.sa,st.O=dt.ta+pn,st.f=dt.qa,st.N=dt.ra+wi,st.ea=dt.Ha,st.W=dt.Ia+wi):(_n-=Qt,st.y=Ii,st.O=sr,st.f=Pn,st.N=Xt,st.ea=Ni,st.W=dr),Ci||(On-=Qt),On>st.o&&(On=st.o),st.F=null,st.J=null,dt.Fa!=null&&0<dt.Fa.length&&_n<On&&(st.J=zn(dt,st,_n,On-_n),st.F=dt.mb,st.F==null&&st.F.length==0)){ni=bn(dt,3,"Could not decode alpha data.");break t}_n<st.j&&(Qt=st.j-_n,_n=st.j,e(!(1&Qt)),st.O+=dt.R*Qt,st.N+=dt.B*(Qt>>1),st.W+=dt.B*(Qt>>1),st.F!=null&&(st.J+=st.width*Qt)),_n<On&&(st.O+=st.v,st.N+=st.v>>1,st.W+=st.v>>1,st.F!=null&&(st.J+=st.v),st.ka=_n-st.j,st.U=st.va-st.v,st.T=On-_n,ni=st.put(st))}Gt+1!=dt.Ic||Ci||(r(dt.sa,dt.ta-Rt,Ii,sr+16*dt.R,Rt),r(dt.qa,dt.ra-kn,Pn,Xt+8*dt.B,kn),r(dt.Ha,dt.Ia-kn,Ni,dr+8*dt.B,kn))}if(!ni)return bn(en,6,"Output aborted.")}return 1})(se,xe)),xe.bc!=null&&xe.bc(xe),Ce&=1}return Ce?(se.cb=0,Ce):0})(p,O)||(v=p.a)}}else v=p.a}v==0&&W.Oa!=null&&W.Oa.fd&&(v=Lc(W.ba))}W=v}G=W!=0?null:11>G?te.f.RGBA.eb:te.f.kb.y}else G=null;return G};var ju=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(R,Z){for(var E="",j=0;j<4;j++)E+=String.fromCharCode(R[Z++]);return E}function m(R,Z){return R[Z+0]|R[Z+1]<<8}function x(R,Z){return(R[Z+0]|R[Z+1]<<8|R[Z+2]<<16)>>>0}function w(R,Z){return(R[Z+0]|R[Z+1]<<8|R[Z+2]<<16|R[Z+3]<<24)>>>0}new f;var y=[0],N=[0],A=[],k=new f,C=i,P=(function(R,Z){var E={},j=0,U=!1,$=0,ue=0;if(E.frames=[],!(function(T,H){for(var ee=0;ee<4;ee++)if(T[H+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(R,Z)){for(w(R,Z+=4),Z+=8;Z<R.length;){var Q=d(R,Z),re=w(R,Z+=4);Z+=4;var ce=re+(1&re);switch(Q){case"VP8 ":case"VP8L":E.frames[j]===void 0&&(E.frames[j]={}),(X=E.frames[j]).src_off=U?ue:Z-8,X.src_size=$+re+8,j++,U&&(U=!1,$=0,ue=0);break;case"VP8X":(X=E.header={}).feature_flags=R[Z];var de=Z+4;X.canvas_width=1+x(R,de),de+=3,X.canvas_height=1+x(R,de),de+=3;break;case"ALPH":U=!0,$=ce+8,ue=Z-8;break;case"ANIM":(X=E.header).bgcolor=w(R,Z),de=Z+4,X.loop_count=m(R,de),de+=2;break;case"ANMF":var Ne,X;(X=E.frames[j]={}).offset_x=2*x(R,Z),Z+=3,X.offset_y=2*x(R,Z),Z+=3,X.width=1+x(R,Z),Z+=3,X.height=1+x(R,Z),Z+=3,X.duration=x(R,Z),Z+=3,Ne=R[Z++],X.dispose=1&Ne,X.blend=Ne>>1&1}Q!="ANMF"&&(Z+=ce)}return E}})(C,0);P.response=C,P.rgbaoutput=!0,P.dataurl=!1;var F=P.header?P.header:null,z=P.frames?P.frames:null;if(F){F.loop_counter=F.loop_count,y=[F.canvas_height],N=[F.canvas_width];for(var q=0;q<z.length&&z[q].blend!=0;q++);}var J=z[0],Y=k.WebPDecodeRGBA(C,J.src_off,J.src_size,N,y);J.rgba=Y,J.imgwidth=N[0],J.imgheight=y[0];for(var D=0;D<N[0]*y[0]*4;D++)A[D]=Y[D];return this.width=N,this.height=y,this.data=A,this}(function(i){var e,t,r,a,o,h,c,f,d,m=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new f,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new h,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new h,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,h=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new m}]);var x=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=T;Object.defineProperty(this,"pdf",{get:function(){return H}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(V){ee=!!V}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(V){ie=!!V}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(V){isNaN(V)||(oe=V)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(V){isNaN(V)||(pe=V)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(V){var De;typeof V=="number"?De=[V,V,V,V]:((De=new Array(4))[0]=V[0],De[1]=V.length>=2?V[1]:De[0],De[2]=V.length>=3?V[2]:De[0],De[3]=V.length>=4?V[3]:De[1]),d.margin=De}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(V){fe=V}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(V){me=V}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(V){_e=V}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(V){V instanceof m&&(d=V)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(V){d.path=V}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(V){Re=V}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(V){var De;De=w(V),this.ctx.fillStyle=De.style,this.ctx.isFillTransparent=De.a===0,this.ctx.fillOpacity=De.a,this.pdf.setFillColor(De.r,De.g,De.b,{a:De.a}),this.pdf.setTextColor(De.r,De.g,De.b,{a:De.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(V){var De=w(V);this.ctx.strokeStyle=De.style,this.ctx.isStrokeTransparent=De.a===0,this.ctx.strokeOpacity=De.a,De.a===0?this.pdf.setDrawColor(255,255,255):(De.a,this.pdf.setDrawColor(De.r,De.g,De.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(V){["butt","round","square"].indexOf(V)!==-1&&(this.ctx.lineCap=V,this.pdf.setLineCap(V))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(V){isNaN(V)||(this.ctx.lineWidth=V,this.pdf.setLineWidth(V))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(V){["bevel","round","miter"].indexOf(V)!==-1&&(this.ctx.lineJoin=V,this.pdf.setLineJoin(V))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(V){isNaN(V)||(this.ctx.miterLimit=V,this.pdf.setMiterLimit(V))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(V){this.ctx.textBaseline=V}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(V){["right","end","center","left","start"].indexOf(V)!==-1&&(this.ctx.textAlign=V)}});var Xe=null,He=null,Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(V){Xe=null,He=null,Qe=V}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(V){var De;if(this.ctx.font=V,(De=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(V))!==null){var ut=De[1];De[2];var nt=De[3],Le=De[4];De[5];var tt=De[6],it=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(it==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:it==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var lt=(function(ot){var Zt,Dt,wt=[],St=ot.trim();if(St==="")return b0;if(St in vb)return[vb[St]];for(;St!=="";){switch(Dt=null,Zt=(St=bb(St)).charAt(0)){case'"':case"'":Dt=jO(St.substring(1),Zt);break;default:Dt=RO(St)}if(Dt===null||(wt.push(Dt[0]),(St=bb(Dt[1]))!==""&&St.charAt(0)!==","))return b0;St=St.replace(/^,/,"")}return wt})(tt);if(this.fontFaces){var pt=(function(ot,Zt){var Dt=ot.getFontList(),wt=JSON.stringify(Dt);if(Xe===null||He!==wt){var St=(function(Ft){var we=[];return Object.keys(Ft).forEach(function(qe){Ft[qe].forEach(function(ze){var rt=null;switch(ze){case"bold":rt={family:qe,weight:"bold"};break;case"italic":rt={family:qe,style:"italic"};break;case"bolditalic":rt={family:qe,weight:"bold",style:"italic"};break;case"":case"normal":rt={family:qe}}rt!==null&&(rt.ref={name:qe,style:ze},we.push(rt))})}),we})(Dt);Xe=(function(Ft){for(var we={},qe=0;qe<Ft.length;++qe){var ze=y0(Ft[qe]),rt=ze.family,Et=ze.stretch,et=ze.style,Je=ze.weight;we[rt]=we[rt]||{},we[rt][Et]=we[rt][Et]||{},we[rt][Et][et]=we[rt][Et][et]||{},we[rt][Et][et][Je]=ze}return we})(St.concat(Zt)),He=wt}return Xe})(this.pdf,this.fontFaces),kt=lt.map(function(ot){return{family:ot,stretch:"normal",weight:nt,style:ut}}),Ge=(function(ot,Zt,Dt){for(var wt=(Dt=Dt||{}).defaultFontFamily||"times",St=Object.assign({},DO,Dt.genericFontFamilies||{}),Ft=null,we=null,qe=0;qe<Zt.length;++qe)if(St[(Ft=y0(Zt[qe])).family]&&(Ft.family=St[Ft.family]),ot.hasOwnProperty(Ft.family)){we=ot[Ft.family];break}if(!(we=we||ot[wt]))throw new Error("Could not find a font-family for the rule '"+yb(Ft)+"' and default family '"+wt+"'.");if(we=(function(ze,rt){if(rt[ze])return rt[ze];var Et=X0[ze],et=Et<=X0.normal?-1:1,Je=gb(rt,bw,Et,et);if(!Je)throw new Error("Could not find a matching font-stretch value for "+ze);return Je})(Ft.stretch,we),we=(function(ze,rt){if(rt[ze])return rt[ze];for(var Et=yw[ze],et=0;et<Et.length;++et)if(rt[Et[et]])return rt[Et[et]];throw new Error("Could not find a matching font-style for "+ze)})(Ft.style,we),!(we=(function(ze,rt){if(rt[ze])return rt[ze];if(ze===400&&rt[500])return rt[500];if(ze===500&&rt[400])return rt[400];var Et=LO[ze],et=gb(rt,xw,Et,ze<400?-1:1);if(!et)throw new Error("Could not find a matching font-weight for value "+ze);return et})(Ft.weight,we)))throw new Error("Failed to resolve a font for the rule '"+yb(Ft)+"'.");return we})(pt,kt);this.pdf.setFont(Ge.ref.name,Ge.ref.style)}else{var Ke="";(nt==="bold"||parseInt(nt,10)>=700||ut==="bold")&&(Ke="bold"),ut==="italic"&&(Ke+="italic"),Ke.length===0&&(Ke="normal");for(var ct="",gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<lt.length;at++){if(this.pdf.internal.getFont(lt[at],Ke,{noFallback:!0,disableWarning:!0})!==void 0){ct=lt[at];break}if(Ke==="bolditalic"&&this.pdf.internal.getFont(lt[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=lt[at],Ke="bold";else if(this.pdf.internal.getFont(lt[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=lt[at],Ke="normal";break}}if(ct===""){for(var Ct=0;Ct<lt.length;Ct++)if(gt[lt[Ct]]){ct=gt[lt[Ct]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,Ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(V){this.ctx.globalCompositeOperation=V}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(V){this.ctx.globalAlpha=V}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(V){this.ctx.lineDashOffset=V,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(V){this.ctx.lineDash=V,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(V){this.ctx.ignoreClearRect=!!V}})};x.prototype.setLineDash=function(T){this.lineDash=T},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){z.call(this,"fill",!1)},x.prototype.stroke=function(){z.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(T,H){if(isNaN(T)||isNaN(H))throw Qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new h(T,H));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new h(T,H)},x.prototype.closePath=function(){var T=new h(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&qn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){T=new h(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new h(T.x,T.y)},x.prototype.lineTo=function(T,H){if(isNaN(T)||isNaN(H))throw Qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new h(T,H));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new h(ee.x,ee.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},x.prototype.quadraticCurveTo=function(T,H,ee,ie){if(isNaN(ee)||isNaN(ie)||isNaN(T)||isNaN(H))throw Qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new h(ee,ie)),pe=this.ctx.transform.applyToPoint(new h(T,H));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new h(oe.x,oe.y)},x.prototype.bezierCurveTo=function(T,H,ee,ie,oe,pe){if(isNaN(oe)||isNaN(pe)||isNaN(T)||isNaN(H)||isNaN(ee)||isNaN(ie))throw Qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new h(oe,pe)),me=this.ctx.transform.applyToPoint(new h(T,H)),_e=this.ctx.transform.applyToPoint(new h(ee,ie));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:_e.x,y2:_e.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new h(fe.x,fe.y)},x.prototype.arc=function(T,H,ee,ie,oe,pe){if(isNaN(T)||isNaN(H)||isNaN(ee)||isNaN(ie)||isNaN(oe))throw Qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new h(T,H));T=fe.x,H=fe.y;var me=this.ctx.transform.applyToPoint(new h(0,ee)),_e=this.ctx.transform.applyToPoint(new h(0,0));ee=Math.sqrt(Math.pow(me.x-_e.x,2)+Math.pow(me.y-_e.y,2))}Math.abs(oe-ie)>=2*Math.PI&&(ie=0,oe=2*Math.PI),this.path.push({type:"arc",x:T,y:H,radius:ee,startAngle:ie,endAngle:oe,counterclockwise:pe})},x.prototype.arcTo=function(T,H,ee,ie,oe){throw new Error("arcTo not implemented.")},x.prototype.rect=function(T,H,ee,ie){if(isNaN(T)||isNaN(H)||isNaN(ee)||isNaN(ie))throw Qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,H),this.lineTo(T+ee,H),this.lineTo(T+ee,H+ie),this.lineTo(T,H+ie),this.lineTo(T,H),this.lineTo(T+ee,H),this.lineTo(T,H)},x.prototype.fillRect=function(T,H,ee,ie){if(isNaN(T)||isNaN(H)||isNaN(ee)||isNaN(ie))throw Qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,H,ee,ie),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},x.prototype.strokeRect=function(T,H,ee,ie){if(isNaN(T)||isNaN(H)||isNaN(ee)||isNaN(ie))throw Qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(T,H,ee,ie),this.stroke())},x.prototype.clearRect=function(T,H,ee,ie){if(isNaN(T)||isNaN(H)||isNaN(ee)||isNaN(ie))throw Qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,H,ee,ie))},x.prototype.save=function(T){T=typeof T!="boolean"||T;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},x.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(H),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(T){var H,ee,ie,oe;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))H=0,ee=0,ie=0,oe=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(pe!==null)H=parseInt(pe[1]),ee=parseInt(pe[2]),ie=parseInt(pe[3]),oe=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)H=parseInt(pe[1]),ee=parseInt(pe[2]),ie=parseInt(pe[3]),oe=parseFloat(pe[4]);else{if(oe=1,typeof T=="string"&&T.charAt(0)!=="#"){var fe=new hw(T);T=fe.ok?fe.toHex():"#000000"}T.length===4?(H=T.substring(1,2),H+=H,ee=T.substring(2,3),ee+=ee,ie=T.substring(3,4),ie+=ie):(H=T.substring(1,3),ee=T.substring(3,5),ie=T.substring(5,7)),H=parseInt(H,16),ee=parseInt(ee,16),ie=parseInt(ie,16)}}return{r:H,g:ee,b:ie,a:oe,style:T}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(T,H,ee,ie){if(isNaN(H)||isNaN(ee)||typeof T!="string")throw Qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!y.call(this)){var oe=ce(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;j.call(this,{text:T,x:H,y:ee,scale:pe,angle:oe,align:this.textAlign,maxWidth:ie})}},x.prototype.strokeText=function(T,H,ee,ie){if(isNaN(H)||isNaN(ee)||typeof T!="string")throw Qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){ie=isNaN(ie)?void 0:ie;var oe=ce(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;j.call(this,{text:T,x:H,y:ee,scale:pe,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ie})}},x.prototype.measureText=function(T){if(typeof T!="string")throw Qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,ee=this.pdf.internal.scaleFactor,ie=H.internal.getFontSize(),oe=H.getStringUnitWidth(T)*ie/H.internal.scaleFactor;return new function(pe){var fe=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this}({width:oe*=Math.round(96*ee/72*1e4)/1e4})},x.prototype.scale=function(T,H){if(isNaN(T)||isNaN(H))throw Qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new f(T,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},x.prototype.rotate=function(T){if(isNaN(T))throw Qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new f(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},x.prototype.translate=function(T,H){if(isNaN(T)||isNaN(H))throw Qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new f(1,0,0,1,T,H);this.ctx.transform=this.ctx.transform.multiply(ee)},x.prototype.transform=function(T,H,ee,ie,oe,pe){if(isNaN(T)||isNaN(H)||isNaN(ee)||isNaN(ie)||isNaN(oe)||isNaN(pe))throw Qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new f(T,H,ee,ie,oe,pe);this.ctx.transform=this.ctx.transform.multiply(fe)},x.prototype.setTransform=function(T,H,ee,ie,oe,pe){T=isNaN(T)?1:T,H=isNaN(H)?0:H,ee=isNaN(ee)?0:ee,ie=isNaN(ie)?1:ie,oe=isNaN(oe)?0:oe,pe=isNaN(pe)?0:pe,this.ctx.transform=new f(T,H,ee,ie,oe,pe)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(T,H,ee,ie,oe,pe,fe,me,_e){var Re=this.pdf.getImageProperties(T),Xe=1,He=1,Qe=1,V=1;ie!==void 0&&me!==void 0&&(Qe=me/ie,V=_e/oe,Xe=Re.width/ie*me/ie,He=Re.height/oe*_e/oe),pe===void 0&&(pe=H,fe=ee,H=0,ee=0),ie!==void 0&&me===void 0&&(me=ie,_e=oe),ie===void 0&&me===void 0&&(me=Re.width,_e=Re.height);var De=this.ctx.transform.decompose(),ut=ce(De.rotate.shx),nt=new f,Le=(nt=(nt=(nt=nt.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new c(pe-H*Qe,fe-ee*V,ie*Xe,oe*He));if(this.autoPaging){for(var tt,it=k.call(this,Le),lt=[],pt=0;pt<it.length;pt+=1)lt.indexOf(it[pt])===-1&&lt.push(it[pt]);F(lt);for(var kt=lt[0],Ge=lt[lt.length-1],Ke=kt;Ke<Ge+1;Ke++){this.pdf.setPage(Ke);var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=Ke===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Ke===1?0:at+(Ke-2)*Ct;if(this.ctx.clip_path.length!==0){var Zt=this.path;tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(tt,this.posX+this.margin[3],-ot+gt+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=Zt}var Dt=JSON.parse(JSON.stringify(Le));Dt=P([Dt],this.posX+this.margin[3],-ot+gt+this.ctx.prevPageLastElemOffset)[0];var wt=(Ke>kt||Ke<Ge)&&A.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,Ct,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,ut),wt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(T,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,ut)};var k=function(T,H,ee){var ie=[];H=H||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":ie.push(Math.floor((T.y+oe)/ee)+1);break;case"arc":ie.push(Math.floor((T.y+oe-T.radius)/ee)+1),ie.push(Math.floor((T.y+oe+T.radius)/ee)+1);break;case"qct":var pe=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);ie.push(Math.floor((pe.y+oe)/ee)+1),ie.push(Math.floor((pe.y+pe.h+oe)/ee)+1);break;case"bct":var fe=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);ie.push(Math.floor((fe.y+oe)/ee)+1),ie.push(Math.floor((fe.y+fe.h+oe)/ee)+1);break;case"rect":ie.push(Math.floor((T.y+oe)/ee)+1),ie.push(Math.floor((T.y+T.h+oe)/ee)+1)}for(var me=0;me<ie.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<ie[me];)C.call(this);return ie},C=function(){var T=this.fillStyle,H=this.strokeStyle,ee=this.font,ie=this.lineCap,oe=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=H,this.font=ee,this.lineCap=ie,this.lineWidth=oe,this.lineJoin=pe},P=function(T,H,ee){for(var ie=0;ie<T.length;ie++)switch(T[ie].type){case"bct":T[ie].x2+=H,T[ie].y2+=ee;case"qct":T[ie].x1+=H,T[ie].y1+=ee;default:T[ie].x+=H,T[ie].y+=ee}return T},F=function(T){return T.sort(function(H,ee){return H-ee})},z=function(T,H){var ee=this.fillStyle,ie=this.strokeStyle,oe=this.lineCap,pe=this.lineWidth,fe=Math.abs(pe*this.ctx.transform.scaleX),me=this.lineJoin;if(this.autoPaging){for(var _e,Re,Xe=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),Qe=[],V=0;V<He.length;V++)if(He[V].x!==void 0)for(var De=k.call(this,He[V]),ut=0;ut<De.length;ut+=1)Qe.indexOf(De[ut])===-1&&Qe.push(De[ut]);for(var nt=0;nt<Qe.length;nt++)for(;this.pdf.internal.getNumberOfPages()<Qe[nt];)C.call(this);F(Qe);for(var Le=Qe[0],tt=Qe[Qe.length-1],it=Le;it<tt+1;it++){this.pdf.setPage(it),this.fillStyle=ee,this.strokeStyle=ie,this.lineCap=oe,this.lineWidth=fe,this.lineJoin=me;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=it===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=it===1?0:kt+(it-2)*Ge;if(this.ctx.clip_path.length!==0){var ct=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(_e,this.posX+this.margin[3],-Ke+pt+this.ctx.prevPageLastElemOffset),q.call(this,T,!0),this.path=ct}if(Re=JSON.parse(JSON.stringify(Xe)),this.path=P(Re,this.posX+this.margin[3],-Ke+pt+this.ctx.prevPageLastElemOffset),H===!1||it===0){var gt=(it>Le||it<tt)&&A.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Ge,null).clip().discardPath()),q.call(this,T,H),gt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}this.path=Xe}else this.lineWidth=fe,q.call(this,T,H),this.lineWidth=pe},q=function(T,H){if((T!=="stroke"||H||!N.call(this))&&(T==="stroke"||H||!y.call(this))){for(var ee,ie,oe=[],pe=this.path,fe=0;fe<pe.length;fe++){var me=pe[fe];switch(me.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:me,deltas:[],abs:[]});break;case"lt":var _e=oe.length;if(pe[fe-1]&&!isNaN(pe[fe-1].x)&&(ee=[me.x-pe[fe-1].x,me.y-pe[fe-1].y],_e>0)){for(;_e>=0;_e--)if(oe[_e-1].close!==!0&&oe[_e-1].begin!==!0){oe[_e-1].deltas.push(ee),oe[_e-1].abs.push(me);break}}break;case"bct":ee=[me.x1-pe[fe-1].x,me.y1-pe[fe-1].y,me.x2-pe[fe-1].x,me.y2-pe[fe-1].y,me.x-pe[fe-1].x,me.y-pe[fe-1].y],oe[oe.length-1].deltas.push(ee);break;case"qct":var Re=pe[fe-1].x+2/3*(me.x1-pe[fe-1].x),Xe=pe[fe-1].y+2/3*(me.y1-pe[fe-1].y),He=me.x+2/3*(me.x1-me.x),Qe=me.y+2/3*(me.y1-me.y),V=me.x,De=me.y;ee=[Re-pe[fe-1].x,Xe-pe[fe-1].y,He-pe[fe-1].x,Qe-pe[fe-1].y,V-pe[fe-1].x,De-pe[fe-1].y],oe[oe.length-1].deltas.push(ee);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(me)}}ie=H?null:T==="stroke"?"stroke":"fill";for(var ut=!1,nt=0;nt<oe.length;nt++)if(oe[nt].arc)for(var Le=oe[nt].abs,tt=0;tt<Le.length;tt++){var it=Le[tt];it.type==="arc"?D.call(this,it.x,it.y,it.radius,it.startAngle,it.endAngle,it.counterclockwise,void 0,H,!ut):U.call(this,it.x,it.y),ut=!0}else if(oe[nt].close===!0)this.pdf.internal.out("h"),ut=!1;else if(oe[nt].begin!==!0){var lt=oe[nt].start.x,pt=oe[nt].start.y;$.call(this,oe[nt].deltas,lt,pt),ut=!0}ie&&R.call(this,ie),H&&Z.call(this)}},J=function(T){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-ee;case"top":return T+H-ee;case"hanging":return T+H-2*ee;case"middle":return T+H/2-ee;default:return T}},Y=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(H,ee){this.colorStops.push([H,ee])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(T,H,ee,ie,oe,pe,fe,me,_e){for(var Re=Q.call(this,ee,ie,oe,pe),Xe=0;Xe<Re.length;Xe++){var He=Re[Xe];Xe===0&&(_e?E.call(this,He.x1+T,He.y1+H):U.call(this,He.x1+T,He.y1+H)),ue.call(this,T,H,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}me?Z.call(this):R.call(this,fe)},R=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(T,H){this.pdf.internal.out(t(T)+" "+r(H)+" m")},j=function(T){var H;switch(T.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var ee,ie,oe,pe=this.pdf.getTextDimensions(T.text),fe=J.call(this,T.y),me=Y.call(this,fe)-pe.h,_e=this.ctx.transform.applyToPoint(new h(T.x,fe));if(this.autoPaging){var Re=this.ctx.transform.decompose(),Xe=new f;Xe=(Xe=(Xe=Xe.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale);for(var He=this.ctx.transform.applyToRectangle(new c(T.x,fe,pe.w,pe.h)),Qe=Xe.applyToRectangle(new c(T.x,me,pe.w,pe.h)),V=k.call(this,Qe),De=[],ut=0;ut<V.length;ut+=1)De.indexOf(V[ut])===-1&&De.push(V[ut]);F(De);for(var nt=De[0],Le=De[De.length-1],tt=nt;tt<Le+1;tt++){this.pdf.setPage(tt);var it=tt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[2],kt=pt-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],Ke=Ge-this.margin[3],ct=tt===1?0:lt+(tt-2)*kt;if(this.ctx.clip_path.length!==0){var gt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(ee,this.posX+this.margin[3],-1*ct+it),q.call(this,"fill",!0),this.path=gt}var at=P([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-ct+it+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*T.scale),oe=this.lineWidth,this.lineWidth=oe*T.scale);var Ct=this.autoPaging!=="text";if(Ct||at.y+at.h<=pt){if(Ct||at.y>=it&&at.x<=Ge){var ot=Ct?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Ge-at.x)[0],Zt=P([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-ct+it+this.ctx.prevPageLastElemOffset)[0],Dt=Ct&&(tt>nt||tt<Le)&&A.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,kt,null).clip().discardPath()),this.pdf.text(ot,Zt.x,Zt.y,{angle:T.angle,align:H,renderingMode:T.renderingMode}),Dt&&this.pdf.restoreGraphicsState()}}else at.y<pt&&(this.ctx.prevPageLastElemOffset+=pt-at.y);T.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=oe)}}else T.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*T.scale),oe=this.lineWidth,this.lineWidth=oe*T.scale),this.pdf.text(T.text,_e.x+this.posX,_e.y+this.posY,{angle:T.angle,align:H,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=oe)},U=function(T,H,ee,ie){ee=ee||0,ie=ie||0,this.pdf.internal.out(t(T+ee)+" "+r(H+ie)+" l")},$=function(T,H,ee){return this.pdf.lines(T,H,ee,null,null)},ue=function(T,H,ee,ie,oe,pe,fe,me){this.pdf.internal.out([e(a(ee+T)),e(o(ie+H)),e(a(oe+T)),e(o(pe+H)),e(a(fe+T)),e(o(me+H)),"c"].join(" "))},Q=function(T,H,ee,ie){for(var oe=2*Math.PI,pe=Math.PI/2;H>ee;)H-=oe;var fe=Math.abs(ee-H);fe<oe&&ie&&(fe=oe-fe);for(var me=[],_e=ie?-1:1,Re=H;fe>1e-5;){var Xe=Re+_e*Math.min(fe,pe);me.push(re.call(this,T,Re,Xe)),fe-=Math.abs(Xe-Re),Re=Xe}return me},re=function(T,H,ee){var ie=(ee-H)/2,oe=T*Math.cos(ie),pe=T*Math.sin(ie),fe=oe,me=-pe,_e=fe*fe+me*me,Re=_e+fe*oe+me*pe,Xe=4/3*(Math.sqrt(2*_e*Re)-Re)/(fe*pe-me*oe),He=fe-Xe*me,Qe=me+Xe*fe,V=He,De=-Qe,ut=ie+H,nt=Math.cos(ut),Le=Math.sin(ut);return{x1:T*Math.cos(H),y1:T*Math.sin(H),x2:He*nt-Qe*Le,y2:He*Le+Qe*nt,x3:V*nt-De*Le,y3:V*Le+De*nt,x4:T*Math.cos(ee),y4:T*Math.sin(ee)}},ce=function(T){return 180*T/Math.PI},de=function(T,H,ee,ie,oe,pe){var fe=T+.5*(ee-T),me=H+.5*(ie-H),_e=oe+.5*(ee-oe),Re=pe+.5*(ie-pe),Xe=Math.min(T,oe,fe,_e),He=Math.max(T,oe,fe,_e),Qe=Math.min(H,pe,me,Re),V=Math.max(H,pe,me,Re);return new c(Xe,Qe,He-Xe,V-Qe)},Ne=function(T,H,ee,ie,oe,pe,fe,me){var _e,Re,Xe,He,Qe,V,De,ut,nt,Le,tt,it,lt,pt,kt=ee-T,Ge=ie-H,Ke=oe-ee,ct=pe-ie,gt=fe-oe,at=me-pe;for(Re=0;Re<41;Re++)nt=(De=(Xe=T+(_e=Re/40)*kt)+_e*((Qe=ee+_e*Ke)-Xe))+_e*(Qe+_e*(oe+_e*gt-Qe)-De),Le=(ut=(He=H+_e*Ge)+_e*((V=ie+_e*ct)-He))+_e*(V+_e*(pe+_e*at-V)-ut),Re==0?(tt=nt,it=Le,lt=nt,pt=Le):(tt=Math.min(tt,nt),it=Math.min(it,Le),lt=Math.max(lt,nt),pt=Math.max(pt,Le));return new c(Math.round(tt),Math.round(it),Math.round(lt-tt),Math.round(pt-it))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,H,ee=(T=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:H}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Tt.API),(function(i){var e=function(h){var c,f,d,m,x,w,y,N,A,k;for(f=[],d=0,m=(h+=c="\0\0\0\0".slice(h.length%4||4)).length;m>d;d+=4)(x=(h.charCodeAt(d)<<24)+(h.charCodeAt(d+1)<<16)+(h.charCodeAt(d+2)<<8)+h.charCodeAt(d+3))!==0?(w=(x=((x=((x=((x=(x-(k=x%85))/85)-(A=x%85))/85)-(N=x%85))/85)-(y=x%85))/85)%85,f.push(w+33,y+33,N+33,A+33,k+33)):f.push(122);return(function(C,P){for(var F=P;F>0;F--)C.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(h){var c,f,d,m,x,w=String,y="length",N=255,A="charCodeAt",k="slice",C="replace";for(h[k](-2),h=h[k](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),d=[],m=0,x=(h+=c="uuuuu"[k](h[y]%5||5))[y];x>m;m+=5)f=52200625*(h[A](m)-33)+614125*(h[A](m+1)-33)+7225*(h[A](m+2)-33)+85*(h[A](m+3)-33)+(h[A](m+4)-33),d.push(N&f>>24,N&f>>16,N&f>>8,N&f);return(function(P,F){for(var z=F;z>0;z--)P.pop()})(d,c[y]),w.fromCharCode.apply(w,d)},r=function(h){return h.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(h){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((h=h.replace(/\s/g,"")).indexOf(">")!==-1&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),c.test(h)===!1)return"";for(var f="",d=0;d<h.length;d+=2)f+=String.fromCharCode("0x"+(h[d]+h[d+1]));return f},o=function(h){for(var c=new Uint8Array(h.length),f=h.length;f--;)c[f]=h.charCodeAt(f);return(c=P0(c)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};i.processDataByFilters=function(h,c){var f=0,d=h||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}})(Tt.API),(function(i){i.loadFile=function(e,t,r){return(function(a,o,h){o=o!==!1,h=typeof h=="function"?h:function(){};var c=void 0;try{c=(function(f,d,m){var x=new XMLHttpRequest,w=0,y=function(N){var A=N.length,k=[],C=String.fromCharCode;for(w=0;w<A;w+=1)k.push(C(255&N.charCodeAt(w)));return k.join("")};if(x.open("GET",f,!d),x.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(x.onload=function(){x.status===200?m(y(this.responseText)):m(void 0)}),x.send(null),d&&x.status===200)return y(x.responseText)})(a,o,h)}catch{}return c})(e,t,r)},i.loadImageFile=i.loadFile})(Tt.API),(function(i){function e(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):e0(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):e0(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=qn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var m in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[m]=f.style[m];return d},o=function c(f,d){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),x=f.firstChild;x;x=x.nextSibling)d!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||m.appendChild(c(x,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m},h=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),d);return(m=m.setProgress(1,c,1,[c])).set(f)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(c,f){return c.__proto__=f||h.prototype,c},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},h.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,m=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var y=0;y<m.length;++y){var N=m[y],A=N.src.find(function(k){return k.format==="truetype"});A&&d.addFont(A.url,N.ref.name,N.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,d.context2d.save(!0),f(this.prop.container,w)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},h.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},h.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},h.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in h.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},h.prototype.get=function(c,f){return this.then(function(){var d=c in h.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},h.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},h.prototype.setPageSize=function(c){function f(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(c=c||Tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},h.prototype.setProgress=function(c,f,d,m){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(c,f,d,m){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},h.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(m,x){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(w){return d.updateProgress(null,m),w}).then(m,x).then(function(w){return d.updateProgress(1),w})})},h.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),f&&(f=f.bind(m));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:h.convert(Object.assign({},m),Promise.prototype),w=d.call(x,c,f);return h.convert(w,m.__proto__)},h.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},h.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},h.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return h.convert(f,this)},h.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},h.prototype.error=function(c){return this.then(function(){throw new Error(c)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,Tt.getPageSize=function(c,f,d){if(qn(c)==="object"){var m=c;c=m.orientation,f=m.unit||f,d=m.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var x,w=(""+d).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+f}var N,A=0,k=0;if(y.hasOwnProperty(w))A=y[w][1]/x,k=y[w][0]/x;else try{A=d[1],k=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",k>A&&(N=k,k=A,A=N);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",A>k&&(N=k,k=A,A=N)}return{width:k,height:A,unit:f,k:x,orientation:c}},i.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(y0):null;var d=new h(f);return f.worker?d:d.from(c).doCallback()}})(Tt.API),Tt.API.addJS=function(i){return _b=i,this.internal.events.subscribe("postPutResources",function(){gp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_b+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gp!==void 0&&xb!==void 0&&this.internal.out("/Names <</JavaScript "+gp+" 0 R>>")}),this},(function(i){var e;i.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var h=a[o],c=r.exec(h);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(h)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(o=0;o<d;o++){var x=t.internal.newObject();m.push(x);var w=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var y=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<m.length;o++)t.internal.write("(page_"+(o+1)+")"+m[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+y+" 0 R"),t.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),i.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,o){var h={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(h),h},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var h=r.children[o];this.objStart(h),this.line("/Title "+this.makeString(h.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),h.children.length>0&&(this.line("/First "+this.makeRef(h.children[0])),this.line("/Last "+this.makeRef(h.children[h.children.length-1])));var c=this.count=this.count_r({count:0},h);if(c>0&&this.line("/Count "+c),h.options&&h.options.pageNumber){var f=t.internal.getPageInfo(h.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(Tt.API),(function(i){var e=[192,193,194,195,196,197,198,199];i.processJPEG=function(t,r,a,o,h,c){var f,d=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=h||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(x){for(var w,y=256*x.charCodeAt(4)+x.charCodeAt(5),N=x.length,A={width:0,height:0,numcomponents:1},k=4;k<N;k+=2){if(k+=y,e.indexOf(x.charCodeAt(k+1))!==-1){w=256*x.charCodeAt(k+5)+x.charCodeAt(k+6),A={width:256*x.charCodeAt(k+7)+x.charCodeAt(k+8),height:w,numcomponents:x.charCodeAt(k+9)};break}y=256*x.charCodeAt(k+2)+x.charCodeAt(k+3)}return A})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:a}}return m}})(Tt.API),Tt.API.processPNG=function(i,e,t,r){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var a,o=yO(i,{checkCrc:!0}),h=o.width,c=o.height,f=o.channels,d=o.palette,m=o.depth;a=d&&f===1?(function(D){for(var R=D.width,Z=D.height,E=D.data,j=D.palette,U=D.depth,$=!1,ue=[],Q=[],re=void 0,ce=!1,de=0,Ne=0;Ne<j.length;Ne++){var X=Ny(j[Ne],4),T=X[0],H=X[1],ee=X[2],ie=X[3];ue.push(T,H,ee),ie!=null&&(ie===0?(de++,Q.length<1&&Q.push(Ne)):ie<255&&(ce=!0))}if(ce||de>1){$=!0,Q=void 0;var oe=R*Z;re=new Uint8Array(oe);for(var pe=new DataView(E.buffer),fe=0;fe<oe;fe++){var me=x0(pe,fe,U),_e=Ny(j[me],4)[3];re[fe]=_e}}else de===0&&(Q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:E,alphaBytes:re,needSMask:$,palette:ue,mask:Q}})(o):f===2||f===4?(function(D){for(var R=D.data,Z=D.width,E=D.height,j=D.channels,U=D.depth,$=j===2?"DeviceGray":"DeviceRGB",ue=j-1,Q=Z*E,re=ue,ce=Q*re,de=1*Q,Ne=Math.ceil(ce*U/8),X=Math.ceil(de*U/8),T=new Uint8Array(Ne),H=new Uint8Array(X),ee=new DataView(R.buffer),ie=new DataView(T.buffer),oe=new DataView(H.buffer),pe=!1,fe=0;fe<Q;fe++){for(var me=fe*j,_e=0;_e<re;_e++)Ob(ie,x0(ee,me+_e,U),fe*re+_e,U);var Re=x0(ee,me+re,U);Re<(1<<U)-1&&(pe=!0),Ob(oe,Re,1*fe,U)}return{colorSpace:$,colorsPerPixel:ue,sMaskBitsPerComponent:pe?U:void 0,colorBytes:T,alphaBytes:H,needSMask:pe}})(o):(function(D){var R=D.data,Z=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Z,colorsPerPixel:Z==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(E){for(var j=E.length,U=new Uint8Array(2*j),$=new DataView(U.buffer,U.byteOffset,U.byteLength),ue=0;ue<j;ue++)$.setUint16(2*ue,E[ue],!1);return U})(R):R,needSMask:!1}})(o);var x,w,y,N=a,A=N.colorSpace,k=N.colorsPerPixel,C=N.sMaskBitsPerComponent,P=N.colorBytes,F=N.alphaBytes,z=N.needSMask,q=N.palette,J=N.mask,Y=null;return r!==Tt.API.image_compression.NONE&&typeof P0=="function"?(Y=(function(D){var R;switch(D){case Tt.API.image_compression.FAST:R=11;break;case Tt.API.image_compression.MEDIUM:R=13;break;case Tt.API.image_compression.SLOW:R=14;break;default:R=12}return R})(r),x=this.decode.FLATE_DECODE,w="/Predictor ".concat(Y," /Colors ").concat(k," /BitsPerComponent ").concat(m," /Columns ").concat(h),i=Nb(P,Math.ceil(h*k*m/8),k,m,r),z&&(y=Nb(F,Math.ceil(h*C/8),1,C,r))):(x=void 0,w=void 0,i=P,z&&(y=F)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:t,data:i,index:e,filter:x,decodeParameters:w,transparency:J,palette:q,sMask:y,predictor:Y,width:h,height:c,bitsPerComponent:m,sMaskBitsPerComponent:C,colorSpace:A}}},(function(i){i.processGIF89A=function(e,t,r,a){var o=new zO(e),h=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:h,height:c},m=new _0(100).encode(d,100);return i.processJPEG.call(this,m,t,r,a)},i.processGIF87A=i.processGIF89A})(Tt.API),Va.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var e=0;e<i;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Va.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[i]()}catch(t){Qn.log("bit decode error:"+t)}},Va.prototype.bit1=function(){var i,e=Math.ceil(this.width/8),t=e%4;for(i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[h+4*c]=f.blue,this.data[h+4*c+1]=f.green,this.data[h+4*c+2]=f.red,this.data[h+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Va.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),e=i%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<i;a++){var o=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[h]=d.blue,this.data[h+1]=d.green,this.data[h+2]=d.red,this.data[h+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[h+4]=d.blue,this.data[h+4+1]=d.green,this.data[h+4+2]=d.red,this.data[h+4+3]=255}e!==0&&(this.pos+=4-e)}},Va.prototype.bit8=function(){for(var i=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(a<this.palette.length){var h=this.palette[a];this.data[o]=h.red,this.data[o+1]=h.green,this.data[o+2]=h.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}i!==0&&(this.pos+=4-i)}},Va.prototype.bit15=function(){for(var i=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,m=r*this.width*4+4*a;this.data[m]=f,this.data[m+1]=c,this.data[m+2]=h,this.data[m+3]=d}this.pos+=i}},Va.prototype.bit16=function(){for(var i=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(h&e)/e*255|0,f=(h>>5&t)/t*255|0,d=(h>>11)/e*255|0,m=a*this.width*4+4*o;this.data[m]=d,this.data[m+1]=f,this.data[m+2]=c,this.data[m+3]=255}this.pos+=i}},Va.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=r,this.data[h+3]=255}this.pos+=this.width%4}},Va.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=h}},Va.prototype.getData=function(){return this.data},(function(i){i.processBMP=function(e,t,r,a){var o=new Va(e,!1),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new _0(100).encode(f,100);return i.processJPEG.call(this,d,t,r,a)}})(Tt.API),Lb.prototype.getData=function(){return this.data},(function(i){i.processWEBP=function(e,t,r,a){var o=new Lb(e),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new _0(100).encode(f,100);return i.processJPEG.call(this,d,t,r,a)}})(Tt.API),Tt.API.processRGBA=function(i,e,t){for(var r=i.data,a=r.length,o=new Uint8Array(a/4*3),h=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var m=r[d],x=r[d+1],w=r[d+2],y=r[d+3];o[c++]=m,o[c++]=x,o[c++]=w,h[f++]=y}var N=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(h),data:N,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Tt.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rh=Tt.API,vp=rh.getCharWidthsArray=function(i,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),h=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,m=d.fof?d.fof:1,x=e.doKerning!==!1,w=0,y=i.length,N=0,A=c[0]||f,k=[];for(t=0;t<y;t++)r=i.charCodeAt(t),typeof a.metadata.widthOfString=="function"?k.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+h*(1e3/o)||0)/1e3):(w=x&&qn(d[r])==="object"&&!isNaN(parseInt(d[r][N],10))?d[r][N]/m:0,k.push((c[r]||A)/f+w)),N=r;return k},wb=rh.getStringUnitWidth=function(i,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return rh.processArabic&&(i=rh.processArabic(i)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(i,t,a)/t:vp.apply(this,arguments).reduce(function(o,h){return o+h},0)},Sb=function(i,e,t,r){for(var a=[],o=0,h=i.length,c=0;o!==h&&c+e[o]<t;)c+=e[o],o++;a.push(i.slice(0,o));var f=o;for(c=0;o!==h;)c+e[o]>r&&(a.push(i.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(i.slice(f,o)),a},Ab=function(i,e,t){t||(t={});var r,a,o,h,c,f,d,m=[],x=[m],w=t.textIndent||0,y=0,N=0,A=i.split(" "),k=vp.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?A[0].length+2:t.lineIndent||0){var C=Array(f).join(" "),P=[];A.map(function(z){(z=z.split(/\s*\n/)).length>1?P=P.concat(z.map(function(q,J){return(J&&q.length?`
`:"")+q})):P.push(z[0])}),A=P,f=wb.apply(this,[C,t])}for(o=0,h=A.length;o<h;o++){var F=0;if(r=A[o],f&&r[0]==`
`&&(r=r.substr(1),F=1),w+y+(N=(a=vp.apply(this,[r,t])).reduce(function(z,q){return z+q},0))>e||F){if(N>e){for(c=Sb.apply(this,[r,a,e-(w+y),e]),m.push(c.shift()),m=[c.pop()];c.length;)x.push([c.shift()]);N=a.slice(r.length-(m[0]?m[0].length:0)).reduce(function(z,q){return z+q},0)}else m=[r];x.push(m),w=N+f,y=k}else m.push(r),w+=y+N,y=k}return d=f?function(z,q){return(q?C:"")+z.join(" ")}:function(z){return z.join(" ")},x.map(d)},rh.splitTextToSize=function(i,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var x=this.internal.getFont(m.fontName,m.fontStyle),w="Unicode";return x.metadata[w]?{widths:x.metadata[w].widths||{0:1},kerning:x.metadata[w].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(i)?i:String(i).split(/\r?\n/);var h=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(Ab.apply(this,[r[c],h,o]));return d},(function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[t[o]]=e[o],a[e[o]]=t[o];var h=function(w){return"0x"+parseInt(w,10).toString(16)},c=i.__fontmetrics__.compress=function(w){var y,N,A,k,C=["{"];for(var P in w){if(y=w[P],isNaN(parseInt(P,10))?N="'"+P+"'":(P=parseInt(P,10),N=(N=h(P).slice(2)).slice(0,-1)+a[N.slice(-1)]),typeof y=="number")y<0?(A=h(y).slice(3),k="-"):(A=h(y).slice(2),k=""),A=k+A.slice(0,-1)+a[A.slice(-1)];else{if(qn(y)!=="object")throw new Error("Don't know what to do with value type "+qn(y)+".");A=c(y)}C.push(N+A)}return C.push("}"),C.join("")},f=i.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,N,A,k,C={},P=1,F=C,z=[],q="",J="",Y=w.length-1,D=1;D<Y;D+=1)(k=w[D])=="'"?y?(A=y.join(""),y=void 0):y=[]:y?y.push(k):k=="{"?(z.push([F,A]),F={},A=void 0):k=="}"?((N=z.pop())[0][N[1]]=F,A=void 0,F=N[0]):k=="-"?P=-1:A===void 0?r.hasOwnProperty(k)?(q+=r[k],A=parseInt(q,16)*P,P=1,q=""):q+=k:r.hasOwnProperty(k)?(J+=r[k],F[A]=parseInt(J,16)*P,P=1,A=void 0,J=""):J+=k;return C},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},x={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(w){var y=w.font,N=x.Unicode[y.postScriptName];N&&(y.metadata.Unicode={},y.metadata.Unicode.widths=N.widths,y.metadata.Unicode.kerning=N.kerning);var A=m.Unicode[y.postScriptName];A&&(y.metadata.Unicode.encoding=A,y.encoding=A.codePages[0])}])})(Tt.API),(function(i){var e=function(t){for(var r=t.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=t.charCodeAt(o);return a};i.API.events.push(["addFont",function(t){var r=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(h,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Ap(c)),h.metadata=i.API.TTFFont.open(c),h.metadata.Unicode=h.metadata.Unicode||{encoding:{},kerning:{},widths:[]},h.metadata.glyIdsUsed=[0]})(a,r)}}])})(Tt),Tt.API.addSvgAsImage=function(i,e,t,r,a,o,h,c){if(isNaN(e)||isNaN(t))throw Qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw Qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(Ut.canvg?Promise.resolve(Ut.canvg):e0(()=>import("./index.es-CObQEeCi.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(d,i,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(m)}).then(function(){x.addImage(f.toDataURL("image/jpeg",1),e,t,r,a,h,c)})},Tt.API.putTotalPages=function(i){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(i,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},Tt.API.viewerPreferences=function(i,e){var t;i=i||{},e=e||!1;var r,a,o,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(h),f=[],d=0,m=0,x=0;function w(N,A){var k,C=!1;for(k=0;k<N.length;k+=1)N[k]===A&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,i==="reset"||e===!0){var y=c.length;for(x=0;x<y;x+=1)t[c[x]].value=t[c[x]].defaultValue,t[c[x]].explicitSet=!1}if(qn(i)==="object"){for(a in i)if(o=i[a],w(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&w(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(m=0;m<o[d].length;m+=1)typeof o[d][m]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,A=[];for(N in t)t[N].explicitSet===!0&&(t[N].type==="name"?A.push("/"+N+" /"+t[N].value):A.push("/"+N+" "+t[N].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(i){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),h=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+h.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+h+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Tt.API),(function(i){var e=i.API,t=e.pdfEscape16=function(o,h){for(var c,f=h.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],x=0,w=o.length;x<w;++x){if(c=h.metadata.characterToGlyph(o.charCodeAt(x)),h.metadata.glyIdsUsed.push(c),h.metadata.toUnicode[c]=o.charCodeAt(x),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(h.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(d[4-c.length],c)}return m.join("")},r=function(o){var h,c,f,d,m,x,w;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],x=0,w=(c=Object.keys(o).sort(function(y,N){return y-N})).length;x<w;x++)h=c[x],f.length>=100&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[h]!==void 0&&o[h]!==null&&typeof o[h].toString=="function"&&(d=("0000"+o[h].toString(16)).slice(-4),h=("0000"+(+h).toString(16)).slice(-4),f.push("<"+h+"><"+d+">"));return f.length&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof i.API.TTFFont&&c.encoding==="Identity-H"){for(var x=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",N=0;N<w.length;N++)y+=String.fromCharCode(w[N]);var A=d();m({data:y,addLength1:!0,objectId:A}),f("endobj");var k=d();m({data:r(c.metadata.toUnicode),addLength1:!0,objectId:k}),f("endobj");var C=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+lh(c.fontName)),f("/FontFile2 "+A+" 0 R"),f("/FontBBox "+i.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var P=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+lh(c.fontName)),f("/FontDescriptor "+C+" 0 R"),f("/W "+i.API.PDFObject.convert(x)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+k+" 0 R"),f("/BaseFont /"+lh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+P+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof i.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var x=c.metadata.rawData,w="",y=0;y<x.length;y++)w+=String.fromCharCode(x[y]);var N=d();m({data:w,addLength1:!0,objectId:N}),f("endobj");var A=d();m({data:r(c.metadata.toUnicode),addLength1:!0,objectId:A}),f("endobj");var k=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+N+" 0 R"),f("/Flags 96"),f("/FontBBox "+i.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+lh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var C=0;C<c.metadata.hmtx.widths.length;C++)c.metadata.hmtx.widths[C]=parseInt(c.metadata.hmtx.widths[C]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+lh(c.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var h,c=o.text||"",f=o.x,d=o.y,m=o.options||{},x=o.mutex||{},w=x.pdfEscape,y=x.activeFontKey,N=x.fonts,A=y,k="",C=0,P="",F=N[A].encoding;if(N[A].encoding!=="Identity-H")return{text:c,x:f,y:d,options:m,mutex:x};for(P=c,A=y,Array.isArray(c)&&(P=c[0]),C=0;C<P.length;C+=1)N[A].metadata.hasOwnProperty("cmap")&&(h=N[A].metadata.cmap.unicode.codeMap[P[C].charCodeAt(0)]),h||P[C].charCodeAt(0)<256&&N[A].metadata.hasOwnProperty("Unicode")?k+=P[C]:k+="";var z="";return parseInt(A.slice(1))<14||F==="WinAnsiEncoding"?z=w(k,A).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(z=t(k,N[A])),x.isHex=!0,{text:z,x:f,y:d,options:m,mutex:x}};e.events.push(["postProcessText",function(o){var h=o.text||"",c=[],f={text:h,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(h)){var d=0;for(d=0;d<h.length;d+=1)Array.isArray(h[d])&&h[d].length===3?c.push([a(Object.assign({},f,{text:h[d][0]})).text,h[d][1],h[d][2]]):c.push(a(Object.assign({},f,{text:h[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:h})).text}])})(Tt),(function(i){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},i.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},i.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Tt.API),(function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(r){var a,o,h,c,f,d,m,x=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,F=0;this.__bidiEngine__={};var z=function(E){var j=E.charCodeAt(),U=j>>8,$=A[U];return $!==void 0?x[256*$+(255&j)]:U===252||U===253?"AL":C.test(U)?"L":U===8?"R":"N"},q=function(E){for(var j,U=0;U<E.length;U++){if((j=z(E.charAt(U)))==="L")return!1;if(j==="R")return!0}return!1},J=function(E,j,U,$){var ue,Q,re,ce,de=j[$];switch(de){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"N":case"AN":break;case"EN":P&&(de="AN");break;case"AL":P=!0,de="R";break;case"WS":case"BN":de="N";break;case"CS":$<1||$+1>=j.length||(ue=U[$-1])!=="EN"&&ue!=="AN"||(Q=j[$+1])!=="EN"&&Q!=="AN"?de="N":P&&(Q="AN"),de=Q===ue?Q:"N";break;case"ES":de=(ue=$>0?U[$-1]:"B")==="EN"&&$+1<j.length&&j[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&U[$-1]==="EN"){de="EN";break}if(P){de="N";break}for(re=$+1,ce=j.length;re<ce&&j[re]==="ET";)re++;de=re<ce&&j[re]==="EN"?"EN":"N";break;case"NSM":if(h&&!c){for(ce=j.length,re=$+1;re<ce&&j[re]==="NSM";)re++;if(re<ce){var Ne=E[$],X=Ne>=1425&&Ne<=2303||Ne===64286;if(ue=j[re],X&&(ue==="R"||ue==="AL")){de="R";break}}}de=$<1||(ue=j[$-1])==="B"?"N":U[$-1];break;case"B":P=!1,a=!0,de=F;break;case"S":o=!0,de="N"}return de},Y=function(E,j,U){var $=E.split("");return U&&D($,U,{hiLevel:F}),$.reverse(),j&&j.reverse(),$.join("")},D=function(E,j,U){var $,ue,Q,re,ce,de=-1,Ne=E.length,X=0,T=[],H=F?y:w,ee=[];for(P=!1,a=!1,o=!1,ue=0;ue<Ne;ue++)ee[ue]=z(E[ue]);for(Q=0;Q<Ne;Q++){if(ce=X,T[Q]=J(E,ee,T,Q),$=240&(X=H[ce][N[T[Q]]]),X&=15,j[Q]=re=H[X][5],$>0)if($===16){for(ue=de;ue<Q;ue++)j[ue]=1;de=-1}else de=-1;if(H[X][6])de===-1&&(de=Q);else if(de>-1){for(ue=de;ue<Q;ue++)j[ue]=re;de=-1}ee[Q]==="B"&&(j[Q]=0),U.hiLevel|=re}o&&(function(ie,oe,pe){for(var fe=0;fe<pe;fe++)if(ie[fe]==="S"){oe[fe]=F;for(var me=fe-1;me>=0&&ie[me]==="WS";me--)oe[me]=F}})(ee,j,Ne)},R=function(E,j,U,$,ue){if(!(ue.hiLevel<E)){if(E===1&&F===1&&!a)return j.reverse(),void(U&&U.reverse());for(var Q,re,ce,de,Ne=j.length,X=0;X<Ne;){if($[X]>=E){for(ce=X+1;ce<Ne&&$[ce]>=E;)ce++;for(de=X,re=ce-1;de<re;de++,re--)Q=j[de],j[de]=j[re],j[re]=Q,U&&(Q=U[de],U[de]=U[re],U[re]=Q);X=ce}X++}}},Z=function(E,j,U){var $=E.split(""),ue={hiLevel:F};return U||(U=[]),D($,U,ue),(function(Q,re,ce){if(ce.hiLevel!==0&&m)for(var de,Ne=0;Ne<Q.length;Ne++)re[Ne]===1&&(de=k.indexOf(Q[Ne]))>=0&&(Q[Ne]=k[de+1])})($,U,ue),R(2,$,j,U,ue),R(1,$,j,U,ue),$.join("")};return this.__bidiEngine__.doBidiReorder=function(E,j,U){if((function(ue,Q){if(Q)for(var re=0;re<ue.length;re++)Q[re]=re;c===void 0&&(c=q(ue)),d===void 0&&(d=q(ue))})(E,j),h||!f||d)if(h&&f&&c^d)F=c?1:0,E=Y(E,j,U);else if(!h&&f&&d)F=c?1:0,E=Z(E,j,U),E=Y(E,j);else if(!h||c||f||d){if(h&&!f&&c^d)E=Y(E,j),c?(F=0,E=Z(E,j,U)):(F=1,E=Z(E,j,U),E=Y(E,j));else if(h&&c&&!f&&d)F=1,E=Z(E,j,U),E=Y(E,j);else if(!h&&!f&&c^d){var $=m;c?(F=1,E=Z(E,j,U),F=0,m=!1,E=Z(E,j,U),m=$):(F=0,E=Z(E,j,U),E=Y(E,j),F=1,m=!1,E=Z(E,j,U),m=$,E=Y(E,j))}}else F=0,E=Z(E,j,U);else F=c?1:0,E=Z(E,j,U);return E},this.__bidiEngine__.setOptions=function(E){E&&(h=E.isInputVisual,f=E.isOutputVisual,c=E.isInputRtl,d=E.isOutputRtl,m=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var h=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(h=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?h.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):h.push([t.doBidiReorder(a[c])]);r.text=h}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Tt),Tt.API.TTFFont=(function(){function i(e){var t;if(this.rawData=e,t=this.contents=new dc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new eM(this),this.registerTTF()}return i.open=function(e){return new i(e)},i.prototype.parse=function(){return this.directory=new FO(this.contents),this.head=new UO(this),this.name=new WO(this),this.cmap=new ww(this),this.toUnicode={},this.hhea=new VO(this),this.maxp=new XO(this),this.hmtx=new ZO(this),this.post=new GO(this),this.os2=new HO(this),this.loca=new JO(this),this.glyf=new KO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var e,t,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var h,c,f,d;for(d=[],h=0,c=(f=this.bbox).length;h<c;h++)e=f[h],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},i.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},i.prototype.widthOfString=function(e,t,r){var a,o,h,c;for(h=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),h+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return h*(t/1e3)},i.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},i})();var ro,dc=(function(){function i(e){this.data=e??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(e){return this.data[this.pos++]=e},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},i.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},i.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},i.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},i.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(e){return this.writeInt16(e)},i.prototype.readLongLong=function(){var e,t,r,a,o,h,c,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),h=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^h)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*o+65536*h+256*c+f},i.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(e){return this.writeInt32(e)},i.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},i.prototype.write=function(e){var t,r,a,o;for(o=[],r=0,a=e.length;r<a;r++)t=e[r],o.push(this.writeByte(t));return o},i})(),FO=(function(){var i;function e(t){var r,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,o,h,c,f,d,m,x,w,y,N,A;for(A in y=Object.keys(t).length,f=Math.log(2),x=16*Math.floor(Math.log(y)/f),h=Math.floor(x/f),m=16*y-x,(a=new dc).writeInt(this.scalarType),a.writeShort(y),a.writeShort(x),a.writeShort(h),a.writeShort(m),o=16*y,d=a.pos+o,c=null,N=[],t)for(w=t[A],a.writeString(A),a.writeInt(i(w)),a.writeInt(d),a.writeInt(w.length),N=N.concat(w),A==="head"&&(c=d),d+=w.length;d%4;)N.push(0),d++;return a.write(N),r=2981146554-i(a.data),a.pos=c+8,a.writeUInt32(r),a.data},i=function(t){var r,a,o,h;for(t=Sw.call(t);t.length%4;)t.push(0);for(o=new dc(t),a=0,r=0,h=t.length;r<h;r=r+=4)a+=o.readUInt32();return 4294967295&a},e})(),PO={}.hasOwnProperty,Do=function(i,e){for(var t in e)PO.call(e,t)&&(i[t]=e[t]);function r(){this.constructor=i}return r.prototype=e.prototype,i.prototype=new r,i.__super__=e.prototype,i};ro=(function(){function i(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i})();var UO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="head",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},i.prototype.encode=function(e){var t;return(t=new dc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},i})(),Db=(function(){function i(e,t){var r,a,o,h,c,f,d,m,x,w,y,N,A,k,C,P,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(y=e.readUInt16(),w=y/2,e.pos+=6,o=(function(){var z,q;for(q=[],f=z=0;0<=w?z<w:z>w;f=0<=w?++z:--z)q.push(e.readUInt16());return q})(),e.pos+=2,A=(function(){var z,q;for(q=[],f=z=0;0<=w?z<w:z>w;f=0<=w?++z:--z)q.push(e.readUInt16());return q})(),d=(function(){var z,q;for(q=[],f=z=0;0<=w?z<w:z>w;f=0<=w?++z:--z)q.push(e.readUInt16());return q})(),m=(function(){var z,q;for(q=[],f=z=0;0<=w?z<w:z>w;f=0<=w?++z:--z)q.push(e.readUInt16());return q})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var z,q;for(q=[],f=z=0;0<=a?z<a:z>a;f=0<=a?++z:--z)q.push(e.readUInt16());return q})(),f=C=0,F=o.length;C<F;f=++C)for(k=o[f],r=P=N=A[f];N<=k?P<=k:P>=k;r=N<=k?++P:--P)m[f]===0?h=r+d[f]:(h=c[m[f]/2+(r-N)-(w-f)]||0)!==0&&(h+=d[f]),this.codeMap[r]=65535&h}e.pos=x}return i.encode=function(e,t){var r,a,o,h,c,f,d,m,x,w,y,N,A,k,C,P,F,z,q,J,Y,D,R,Z,E,j,U,$,ue,Q,re,ce,de,Ne,X,T,H,ee,ie,oe,pe,fe,me,_e,Re,Xe;switch($=new dc,h=Object.keys(e).sort(function(He,Qe){return He-Qe}),t){case"macroman":for(A=0,k=(function(){var He=[];for(N=0;N<256;++N)He.push(0);return He})(),P={0:0},o={},ue=0,de=h.length;ue<de;ue++)P[me=e[a=h[ue]]]==null&&(P[me]=++A),o[a]={old:e[a],new:P[e[a]]},k[a]=P[e[a]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(k),{charMap:o,subtable:$.data,maxGlyphID:A+1};case"unicode":for(j=[],x=[],F=0,P={},r={},C=d=null,Q=0,Ne=h.length;Q<Ne;Q++)P[q=e[a=h[Q]]]==null&&(P[q]=++F),r[a]={old:q,new:P[q]},c=P[q]-a,C!=null&&c===d||(C&&x.push(C),j.push(a),d=c),C=a;for(C&&x.push(C),x.push(65535),j.push(65535),Z=2*(R=j.length),D=2*Math.pow(Math.log(R)/Math.LN2,2),w=Math.log(D/2)/Math.LN2,Y=2*R-D,f=[],J=[],y=[],N=re=0,X=j.length;re<X;N=++re){if(E=j[N],m=x[N],E===65535){f.push(0),J.push(0);break}if(E-(U=r[E].new)>=32768)for(f.push(0),J.push(2*(y.length+R-N)),a=ce=E;E<=m?ce<=m:ce>=m;a=E<=m?++ce:--ce)y.push(r[a].new);else f.push(U-E),J.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*R+2*y.length),$.writeUInt16(0),$.writeUInt16(Z),$.writeUInt16(D),$.writeUInt16(w),$.writeUInt16(Y),pe=0,T=x.length;pe<T;pe++)a=x[pe],$.writeUInt16(a);for($.writeUInt16(0),fe=0,H=j.length;fe<H;fe++)a=j[fe],$.writeUInt16(a);for(_e=0,ee=f.length;_e<ee;_e++)c=f[_e],$.writeUInt16(c);for(Re=0,ie=J.length;Re<ie;Re++)z=J[Re],$.writeUInt16(z);for(Xe=0,oe=y.length;Xe<oe;Xe++)A=y[Xe],$.writeUInt16(A);return{charMap:r,subtable:$.data,maxGlyphID:F+1}}},i})(),ww=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="cmap",i.prototype.parse=function(e){var t,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)t=new Db(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},i.encode=function(e,t){var r,a;return t==null&&(t="macroman"),r=Db.encode(e,t),(a=new dc).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},i})(),VO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="hhea",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},i})(),HO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="OS/2",i.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},i})(),GO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="post",i.prototype.parse=function(e){var t,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var h,c,f;for(f=[],o=h=0,c=this.file.maxp.numGlyphs;0<=c?h<c:h>c;o=0<=c?++h:--h)f.push(e.readUInt32());return f}).call(this)}},i})(),YO=function(i,e){this.raw=i,this.length=i.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},WO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="name",i.prototype.parse=function(e){var t,r,a,o,h,c,f,d,m,x,w;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=m=0,x=r.length;m<x;o=++m)a=r[o],e.pos=a.offset,d=e.readString(a.length),h=new YO(d,a),f[w=a.nameID]==null&&(f[w]=[]),f[a.nameID].push(h);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},i})(),XO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="maxp",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},i})(),ZO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="hmtx",i.prototype.parse=function(e){var t,r,a,o,h,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,m;for(m=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)m.push(e.readInt16());return m})(),this.widths=(function(){var d,m,x,w;for(w=[],d=0,m=(x=this.metrics).length;d<m;d++)o=x[d],w.push(o.advance);return w}).call(this),r=this.widths[this.widths.length-1],f=[],t=h=0;0<=a?h<a:h>a;t=0<=a?++h:--h)f.push(this.widths.push(r));return f},i.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},i})(),Sw=[].slice,KO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(e){var t,r,a,o,h,c,f,d,m,x;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,h=(c=new dc(t.read(a))).readShort(),d=c.readShort(),x=c.readShort(),f=c.readShort(),m=c.readShort(),this.cache[e]=h===-1?new $O(c,d,x,f,m):new QO(c,h,d,x,f,m),this.cache[e]))},i.prototype.encode=function(e,t,r){var a,o,h,c,f;for(h=[],o=[],c=0,f=t.length;c<f;c++)a=e[t[c]],o.push(h.length),a&&(h=h.concat(a.encode(r)));return o.push(h.length),{table:h,offsets:o}},i})(),QO=(function(){function i(e,t,r,a,o,h){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=h,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i})(),$O=(function(){function i(e,t,r,a,o){var h,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],h=this.raw;c=h.readShort(),this.glyphOffsets.push(h.pos),this.glyphIDs.push(h.readUInt16()),32&c;)h.pos+=1&c?4:2,128&c?h.pos+=8:64&c?h.pos+=4:8&c&&(h.pos+=2)}return i.prototype.encode=function(){var e,t,r;for(t=new dc(Sw.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},i})(),JO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Do(i,ro),i.prototype.tag="loca",i.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(e.readUInt32());return o}).call(this)},i.prototype.indexOf=function(e){return this.offsets[e]},i.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},i.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,h=0;h<r.length;++h)if(r[h]=a,o<t.length&&t[o]==h){++o,r[h]=a;var c=this.offsets[h],f=this.offsets[h+1]-c;f>0&&(a+=f)}for(var d=new Array(4*r.length),m=0;m<r.length;++m)d[4*m+3]=255&r[m],d[4*m+2]=(65280&r[m])>>8,d[4*m+1]=(16711680&r[m])>>16,d[4*m]=(4278190080&r[m])>>24;return d},i})(),eM=(function(){function i(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var e,t,r,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=a[r];return e},i.prototype.glyphsFor=function(e){var t,r,a,o,h,c,f;for(a={},h=0,c=e.length;h<c;h++)a[o=e[h]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(r=a[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],a[o]=r;return a},i.prototype.encode=function(e,t){var r,a,o,h,c,f,d,m,x,w,y,N,A,k,C;for(a in r=ww.encode(this.generateCmap(),"unicode"),h=this.glyphsFor(e),y={0:0},C=r.charMap)y[(f=C[a]).old]=f.new;for(N in w=r.maxGlyphID,h)N in y||(y[N]=w++);return m=(function(P){var F,z;for(F in z={},P)z[P[F]]=F;return z})(y),x=Object.keys(m).sort(function(P,F){return P-F}),A=(function(){var P,F,z;for(z=[],P=0,F=x.length;P<F;P++)c=x[P],z.push(m[c]);return z})(),o=this.font.glyf.encode(h,A,y),d=this.font.loca.encode(o.offsets,A),k={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},i})();Tt.API.PDFObject=(function(){var i;function e(){}return i=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,o,h;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+i(t.getUTCFullYear(),4)+i(t.getUTCMonth(),2)+i(t.getUTCDate(),2)+i(t.getUTCHours(),2)+i(t.getUTCMinutes(),2)+i(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)h=t[a],o.push("/"+a+" "+e.convert(h));return o.push(">>"),o.join(`
`)}return""+t},e})();const e2="chordWheelSongs",Z0="chordWheelCurrentSongId",Rf=()=>{try{const i=localStorage.getItem(e2);return i?JSON.parse(i).map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})):[]}catch(i){return console.error("Error loading saved songs:",i),[]}},jb=i=>{try{const e=Rf(),t=e.findIndex(a=>a.id===i.id),r={...i,updatedAt:new Date().toISOString(),createdAt:i.createdAt instanceof Date?i.createdAt.toISOString():i.createdAt};t>=0?e[t]=r:e.push({...r,createdAt:new Date().toISOString()}),localStorage.setItem(e2,JSON.stringify(e)),localStorage.setItem(Z0,i.id)}catch(e){console.error("Error saving song:",e)}},tM=i=>{try{const t=Rf().filter(r=>r.id!==i);localStorage.setItem(e2,JSON.stringify(t)),localStorage.getItem(Z0)===i&&localStorage.removeItem(Z0)}catch(e){console.error("Error deleting song:",e)}};function nM(){const{currentSong:i,selectedKey:e,timelineVisible:t,toggleTimeline:r,selectedSectionId:a,selectedSlotId:o,clearSlot:h,setTitle:c,loadSong:f,newSong:d,instrument:m,volume:x,isMuted:w,undo:y,redo:N,canUndo:A,canRedo:k}=fa();ge.useEffect(()=>{oT(m)},[m]),ge.useEffect(()=>{lT(x)},[x]),ge.useEffect(()=>{cT(w)},[w]);const[C,P]=ge.useState(180),[F,z]=ge.useState(!1),[q,J]=ge.useState(1),[Y,D]=ge.useState(1),[R,Z]=ge.useState(50),[E,j]=ge.useState(720),[U,$]=ge.useState(()=>typeof window<"u"?window.innerWidth<768:!1),[ue,Q]=ge.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerWidth<1024:!1),re=ge.useRef(!1),ce=ge.useRef(!1),de=ge.useRef(!1);ge.useEffect(()=>{const Ge=()=>{const Ke=window.innerWidth,ct=window.innerHeight,gt=Ke<768,at=ct<Ke&&Ke<1024&&gt;if($(gt),Q(at),gt){if(at){const Zt=Ke*.5,Dt=16,wt=Math.min(560,Math.max(280,Zt-Dt,ct-120)),St=Math.min(wt*1.2,Zt-Dt+12,ct-120+12,560);j(St)}else{const we=(ct-56-64-80)*.8,qe=Math.min(Math.min(Ke-12,we),560),ze=Math.min(qe*1.2,Ke-12+12,we+24,560);j(Math.max(260,ze))}if(!de.current&&Y===1){const Zt=Math.min(1.2,2.5);D(Zt),Z(Zt>1.3?45:50),de.current=!0}}else{const St=Math.max(360,ct-48-56-140),Ft=Math.min(720,Math.max(320,Math.min(Ke-120,St)));j(Ft)}const Ct=fa.getState();gt&&!ce.current&&(Ct.timelineVisible&&Ct.toggleTimeline(),Ct.chordPanelVisible&&Ct.toggleChordPanel(),ce.current=!0),!gt&&re.current&&!Ct.chordPanelVisible&&(Ct.toggleChordPanel(),re.current=!1)};return Ge(),window.addEventListener("resize",Ge),window.addEventListener("orientationchange",Ge),()=>{window.removeEventListener("resize",Ge),window.removeEventListener("orientationchange",Ge)}},[]);const Ne=ge.useCallback((Ge,Ke)=>{D(Ge),Z(Ke)},[]),X=ge.useCallback(()=>{const Ge=Math.min(2.5,Y+.3);D(Ge),Z(Ge>1.3?38:50)},[Y]),T=ge.useCallback(()=>{const Ge=Math.max(1,Y-.3);D(Ge),Z(Ge>1.3?38:50)},[Y]),[H,ee]=ge.useState(!1),[ie,oe]=ge.useState(i.title),pe=ge.useMemo(()=>{const Ge=i.sections.reduce((Ct,ot)=>{const Zt=ot.measures.reduce((Dt,wt)=>Dt+wt.beats.reduce((St,Ft)=>St+Ft.duration,0),0);return Ct+Zt},0),Ke=i.tempo/60,ct=Ge/Ke,gt=Math.floor(ct/60),at=Math.floor(ct%60);return`${gt}:${at.toString().padStart(2,"0")}`},[i.sections,i.tempo]),[fe,me]=ge.useState(!1);ge.useEffect(()=>{const Ge=async()=>{try{await _g(),await zg(),me(!0)}catch(ct){console.error("Audio initialization failed:",ct)}},Ke=()=>{fe||Ge()};return document.addEventListener("touchstart",Ke,{once:!0}),document.addEventListener("click",Ke,{once:!0}),()=>{document.removeEventListener("touchstart",Ke),document.removeEventListener("click",Ke)}},[fe]),ge.useEffect(()=>{const Ge=Ke=>{if((Ke.key==="Delete"||Ke.key==="Backspace")&&a&&o){if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;Ke.preventDefault(),h(a,o)}};return window.addEventListener("keydown",Ge),()=>window.removeEventListener("keydown",Ge)},[a,o,h]),ge.useEffect(()=>{const Ge=Ke=>{const ct=Ke.target;ct?.tagName==="INPUT"||ct?.tagName==="TEXTAREA"||ct?.isContentEditable||Ke.metaKey&&Ke.key.toLowerCase()==="z"&&(Ke.preventDefault(),Ke.shiftKey?k&&N():A&&y())};return window.addEventListener("keydown",Ge),()=>window.removeEventListener("keydown",Ge)},[y,N,A,k]);const _e=()=>{oe(i.title),ee(!0)},Re=()=>{c(ie.trim()||"Untitled Song"),ee(!1)},[Xe,He]=ge.useState(!1),[Qe,V]=ge.useState([]),De=ge.useRef(null);ge.useEffect(()=>{V(Rf())},[]),ge.useEffect(()=>{const Ge=Ke=>{De.current&&!De.current.contains(Ke.target)&&He(!1)};return document.addEventListener("mousedown",Ge),()=>document.removeEventListener("mousedown",Ge)},[]);const ut=()=>{if(i.title==="Untitled Song"||!i.title.trim()){const Ge=prompt("Please name your song:",i.title);if(Ge===null)return;const Ke=Ge.trim()||"Untitled Song";c(Ke);const ct={...i,title:Ke};jb(ct)}else jb(i);V(Rf()),He(!1)},nt=Ge=>{f(Ge),He(!1)},Le=()=>{confirm("Start a new song? Unsaved changes will be lost.")&&(d(),He(!1))},tt=(Ge,Ke,ct)=>{ct.stopPropagation(),confirm(`Delete "${Ke}"?`)&&(tM(Ge),V(Rf()))},it=Ge=>{Ge.key==="Enter"?Re():Ge.key==="Escape"&&(oe(i.title),ee(!1))},lt=ge.useCallback(Ge=>{Ge.preventDefault(),z(!0)},[]);ge.useEffect(()=>{if(!F)return;const Ge=ct=>{const at=window.innerHeight-ct.clientY-56;P(Math.max(100,Math.min(350,at)))},Ke=()=>{z(!1)};return document.addEventListener("mousemove",Ge),document.addEventListener("mouseup",Ke),()=>{document.removeEventListener("mousemove",Ge),document.removeEventListener("mouseup",Ke)}},[F]);const pt=()=>{const Ge=new Tt;Ge.setFontSize(24),Ge.setFont("helvetica","bold"),Ge.text(i.title,20,20),Ge.setFontSize(12),Ge.setFont("helvetica","normal"),Ge.text(`Key: ${e} | Tempo: ${i.tempo} BPM`,20,30);let Ke=50;i.sections.forEach(ct=>{Ke>270&&(Ge.addPage(),Ke=20),Ge.setFontSize(14),Ge.setFont("helvetica","bold"),Ge.text(`[${ct.name}]`,20,Ke),Ke+=10;const gt=ct.measures.flatMap(at=>at.beats).filter(at=>at.chord).map(at=>at.chord?.symbol).join("  |  ");Ge.setFontSize(12),Ge.setFont("helvetica","normal"),Ge.text(gt||"(No chords)",20,Ke),Ke+=15}),Ge.save(`${i.title.replace(/\s+/g,"-").toLowerCase()}.pdf`)},kt=Math.max(80,C-42);return L.jsxs("div",{className:"h-full w-full flex flex-col bg-bg-primary text-text-primary overflow-hidden",children:[L.jsxs("header",{className:`${U?"h-14":"h-12"} border-b border-border-subtle grid grid-cols-[1fr_auto_1fr] items-center ${U?"px-4":"px-3"} bg-bg-secondary shrink-0 z-20 sticky top-0`,children:[L.jsx("div",{className:"flex items-center gap-2 shrink-0",children:L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsxs("div",{className:`${U?"w-8 h-8":"w-6 h-6"} rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center shadow-lg relative`,children:[L.jsx(j0,{size:U?16:12,className:"text-white"}),fe&&L.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full",title:"Audio Ready"})]}),L.jsx("span",{className:`font-bold ${U?"text-xs":"text-sm"} tracking-tight hidden sm:block text-text-muted`,children:"Songwriter's Wheel"})]})}),L.jsx("div",{className:"flex items-center justify-center overflow-hidden",children:H?L.jsx("input",{type:"text",value:ie,onChange:Ge=>oe(Ge.target.value),onBlur:Re,onKeyDown:it,autoFocus:!0,className:`bg-bg-tertiary border border-border-medium rounded px-3 py-1 ${U?"text-xs":"text-sm"} font-medium text-text-primary focus:outline-none focus:border-accent-primary text-center ${U?"w-40":"w-56"} max-w-[70vw]`,maxLength:50}):L.jsx("span",{onDoubleClick:_e,className:`${U?"text-xs":"text-sm"} font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors px-2 py-1 rounded text-center truncate max-w-[70vw]`,title:"Double-click to edit title",children:i.title})}),L.jsxs("div",{className:`flex items-center ${U?"gap-2":"gap-[20px]"} shrink-0 justify-self-end ${U?"mr-0":"mr-2"}`,children:[U&&!ue&&L.jsxs("button",{onClick:r,className:`flex items-center gap-1 px-3 py-2 min-h-[48px] rounded-lg ${t?"bg-accent-primary text-white":"bg-bg-tertiary text-text-muted"} hover:bg-accent-primary/80 hover:text-white transition-all border border-border-subtle shadow-md active:scale-95`,title:t?"Hide Timeline":"Show Timeline",children:[L.jsx($v,{size:16,className:"shrink-0"}),L.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:t?"Hide":"Show"})]}),!U&&L.jsxs("div",{className:"flex items-center gap-[6px] text-[10px] text-text-muted",children:[L.jsx(yC,{size:11,className:"shrink-0"}),L.jsx("span",{className:"leading-none",children:pe})]}),L.jsxs("div",{className:`flex items-center gap-[6px] ${U?"text-xs":"text-[10px]"} text-text-muted`,children:[L.jsx("span",{className:"uppercase font-bold",children:"Key"}),L.jsx("span",{className:`font-bold text-accent-primary ${U?"text-base":"text-sm"}`,children:e})]}),L.jsxs("div",{className:"relative",ref:De,children:[L.jsxs("button",{onClick:()=>He(!Xe),className:`flex items-center ${U?"gap-1":"gap-[20px]"} ${U?"text-xs":"text-[11px]"} text-text-secondary hover:text-text-primary transition-colors ${U?"px-1 py-1.5 min-w-[44px]":"px-2 py-1"} touch-feedback`,children:[L.jsx(Jv,{size:U?16:12}),L.jsx("span",{className:"hidden sm:inline",children:"Save"}),L.jsx(gh,{size:U?12:10,className:`transition-transform ${Xe?"rotate-180":""}`})]}),Xe&&L.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-[#1a1a24] border border-border-medium rounded-lg shadow-2xl z-50 overflow-hidden",children:[L.jsxs("div",{className:"p-1.5 border-b border-border-subtle bg-[#22222e]",children:[L.jsxs("button",{onClick:ut,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[L.jsx(Jv,{size:14,className:"text-accent-primary"}),"Save Current Song"]}),L.jsxs("button",{onClick:Le,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[L.jsx(NC,{size:14,className:"text-green-400"}),"New Song"]})]}),L.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#1a1a24]",children:Qe.length===0?L.jsx("p",{className:"px-3 py-4 text-[10px] text-gray-500 text-center",children:"No saved songs yet"}):L.jsxs("div",{className:"p-1.5",children:[L.jsx("p",{className:"px-2 py-1 text-[9px] text-gray-500 uppercase tracking-wider",children:"Saved Songs"}),Qe.map(Ge=>L.jsxs("div",{onClick:()=>nt(Ge),className:`flex items-center justify-between px-3 py-2 text-xs rounded cursor-pointer transition-colors ${Ge.id===i.id?"bg-accent-primary/20 text-accent-primary":"text-gray-300 hover:bg-[#2a2a3a]"}`,children:[L.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.jsx(TC,{size:12,className:"shrink-0"}),L.jsx("span",{className:"truncate",children:Ge.title})]}),L.jsx("button",{onClick:Ke=>tt(Ge.id,Ge.title,Ke),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400 shrink-0",children:L.jsx(e_,{size:10})})]},Ge.id))]})})]})]}),L.jsxs("button",{onClick:pt,className:`flex items-center ${U?"gap-1":"gap-[20px]"} ${U?"text-xs":"text-[11px]"} bg-text-primary text-bg-primary ${U?"px-2 py-1.5 min-w-[44px]":"px-2 py-1"} rounded font-medium hover:bg-white transition-colors touch-feedback`,children:[L.jsx(SC,{size:U?16:12}),L.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]}),L.jsxs("div",{className:`flex-1 flex ${U?ue?"flex-row":"flex-col":"flex-row"} overflow-hidden min-h-0`,children:[L.jsxs("div",{className:`flex flex-col min-w-0 min-h-0 ${U&&ue?"w-1/2":"flex-1"} overflow-hidden bg-gradient-to-b from-bg-primary to-bg-secondary/30`,children:[L.jsxs("div",{className:`flex-1 flex flex-col ${U&&!ue?"justify-center":""} overflow-hidden`,children:[!U||ue?L.jsx("div",{className:`flex justify-end ${U?"px-4 py-2":"px-3 py-2 md:py-1.5"} shrink-0 w-full`,children:L.jsxs("div",{className:`flex items-center ${U?"gap-2":"gap-1"} bg-bg-secondary/80 backdrop-blur-sm rounded-full ${U?"px-3 py-2":"px-2 py-1"} border border-border-subtle shadow-lg`,children:[L.jsx("button",{onClick:T,disabled:Y<=1,className:`${U?"w-11 h-11":"w-6 h-6"} flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95`,title:"Zoom out",children:L.jsx(RC,{size:U?18:12})}),L.jsxs("span",{className:`${U?"text-xs w-12":"text-[9px] w-8"} text-text-muted text-center font-medium`,children:[Math.round(Y*100),"%"]}),L.jsx("button",{onClick:X,disabled:Y>=2.5,className:`${U?"w-11 h-11":"w-6 h-6"} flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95`,title:"Zoom in",children:L.jsx(Qx,{size:U?18:12})})]})}):null,L.jsx("div",{className:`flex-1 flex items-center justify-center ${U&&!ue?"overflow-hidden":"overflow-auto"} ${U&&!ue?"px-2 py-0":"px-3 pb-3"}`,children:L.jsx("div",{className:"relative flex items-center justify-center",style:{width:`${E}px`,height:`${E}px`,maxWidth:"100%",maxHeight:U&&!ue?"100%":void 0},children:L.jsx(uT,{zoomScale:Y,zoomOriginY:R,onZoomChange:Ne})})})]}),!U||ue?t?L.jsxs(L.Fragment,{children:[L.jsx("div",{className:`h-7 bg-bg-secondary border-t border-border-subtle flex items-center justify-center group transition-colors ${F?"bg-accent-primary/20":""}`,children:L.jsx("div",{className:"flex-1 h-full cursor-ns-resize flex items-center justify-center hover:bg-bg-tertiary transition-colors",onMouseDown:lt,children:L.jsx($v,{size:14,className:"text-text-muted group-hover:text-text-secondary"})})}),L.jsxs("div",{className:"shrink-0 bg-bg-secondary overflow-hidden",style:{height:C},children:[L.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-bg-secondary/90 backdrop-blur-sm",children:[L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[L.jsx("span",{className:"uppercase font-bold tracking-wider text-[9px]",children:"Scale"}),L.jsx("input",{type:"range",min:.01,max:1.6,step:.01,value:q,onChange:Ge=>J(parseFloat(Ge.target.value)),className:"w-32",style:{accentColor:"#8b5cf6"},"aria-label":"Timeline scale"}),L.jsxs("span",{className:"text-[10px] text-text-secondary w-12 text-right",children:[Math.round(q*100),"%"]})]}),L.jsxs("div",{className:"flex items-center gap-1",children:[L.jsxs("button",{onClick:y,disabled:!A,className:`flex items-center gap-1 ${U?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Undo (Z)",children:[L.jsx($x,{size:U?14:12}),L.jsx("span",{className:"uppercase font-bold tracking-wider",children:U?"":"Undo"})]}),L.jsxs("button",{onClick:N,disabled:!k,className:`flex items-center gap-1 ${U?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Redo (Z)",children:[L.jsx(Jx,{size:U?14:12}),L.jsx("span",{className:"uppercase font-bold tracking-wider",children:U?"":"Redo"})]})]})]}),L.jsxs("button",{onClick:r,className:`${U?"text-xs min-h-[44px] px-3":"text-[10px] px-2 py-1"} text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors flex items-center gap-1 touch-feedback`,title:"Hide timeline",children:[L.jsx(gh,{size:U?14:12}),L.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Hide"})]})]}),L.jsx($m,{height:kt,scale:q})]})]}):L.jsx("div",{className:`${U?"h-12":"h-7"} bg-bg-secondary border-t border-border-subtle flex items-center justify-center shrink-0`,children:L.jsxs("button",{onClick:r,className:`${U?"px-4 min-h-[48px]":"px-3 h-full"} flex items-center gap-1 ${U?"text-xs":"text-[9px]"} text-text-muted hover:text-text-primary hover:bg-bg-tertiary transition-colors touch-feedback`,title:"Show timeline",children:[L.jsx(qg,{size:U?14:12}),L.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Timeline"})]})}):null]}),U&&ue?L.jsxs("div",{className:"w-1/2 flex flex-col overflow-hidden border-l border-border-subtle",children:[t&&L.jsxs("div",{className:"flex-1 overflow-hidden bg-bg-secondary border-b border-border-subtle",children:[L.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-bg-secondary/90",children:[L.jsx("span",{className:"text-xs font-bold text-text-primary uppercase tracking-wider",children:"Timeline"}),L.jsx("button",{onClick:r,className:"text-xs px-2 py-1 text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors",children:"Hide"})]}),L.jsx($m,{height:150,scale:.8})]}),L.jsx("div",{className:"flex-1 overflow-auto",children:L.jsx(Jm,{variant:"drawer"})})]}):U?null:L.jsx(Jm,{variant:"sidebar"})]}),U&&!ue&&!t&&L.jsx("div",{className:"shrink-0 px-4 pb-3 bg-bg-primary border-t border-border-subtle",children:L.jsx(Jm,{variant:"drawer"})}),U&&!ue&&t&&L.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-bg-secondary border-t-2 border-accent-primary shadow-2xl",style:{height:"45vh",maxHeight:"350px",zIndex:50,paddingBottom:"env(safe-area-inset-bottom)"},children:[L.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-bg-secondary/95 backdrop-blur-sm",children:[L.jsx("span",{className:"text-sm font-bold text-text-primary uppercase tracking-wider",children:"Timeline"}),L.jsx("button",{onClick:r,className:"text-sm px-4 py-2 min-h-[44px] bg-bg-tertiary hover:bg-bg-elevated text-text-primary rounded-lg transition-colors font-semibold",children:"Hide"})]}),L.jsx($m,{height:200,scale:.8})]}),(!U||t)&&L.jsx("div",{className:"shrink-0 z-30 relative",style:{paddingBottom:U?"env(safe-area-inset-bottom)":void 0},children:L.jsx(uE,{})})]})}F3.createRoot(document.getElementById("root")).render(L.jsx(ge.StrictMode,{children:L.jsx(nM,{})}));export{qn as _,iM as c,M3 as g};
