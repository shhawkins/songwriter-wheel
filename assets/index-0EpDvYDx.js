(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var b1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _4(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cm={exports:{}},jf={};var Qv;function S4(){if(Qv)return jf;Qv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:r,type:s,key:u,ref:a!==void 0?a:null,props:o}}return jf.Fragment=e,jf.jsx=t,jf.jsxs=t,jf}var Kv;function N4(){return Kv||(Kv=1,cm.exports=S4()),cm.exports}var w=N4(),um={exports:{}},un={};var Jv;function A4(){if(Jv)return un;Jv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function b(G){return G===null||typeof G!="object"?null:(G=_&&G[_]||G["@@iterator"],typeof G=="function"?G:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function T(G,j,z){this.props=G,this.context=j,this.refs=E,this.updater=z||N}T.prototype.isReactComponent={},T.prototype.setState=function(G,j){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,j,"setState")},T.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function R(){}R.prototype=T.prototype;function I(G,j,z){this.props=G,this.context=j,this.refs=E,this.updater=z||N}var q=I.prototype=new R;q.constructor=I,A(q,T.prototype),q.isPureReactComponent=!0;var V=Array.isArray;function W(){}var H={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function F(G,j,z){var ee=z.ref;return{$$typeof:r,type:G,key:j,ref:ee!==void 0?ee:null,props:z}}function J(G,j){return F(G.type,j,G.props)}function k(G){return typeof G=="object"&&G!==null&&G.$$typeof===r}function D(G){var j={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(z){return j[z]})}var Q=/\/+/g;function $(G,j){return typeof G=="object"&&G!==null&&G.key!=null?D(""+G.key):j.toString(36)}function le(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(W,W):(G.status="pending",G.then(function(j){G.status==="pending"&&(G.status="fulfilled",G.value=j)},function(j){G.status==="pending"&&(G.status="rejected",G.reason=j)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function B(G,j,z,ee,te){var oe=typeof G;(oe==="undefined"||oe==="boolean")&&(G=null);var de=!1;if(G===null)de=!0;else switch(oe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(G.$$typeof){case r:case e:de=!0;break;case m:return de=G._init,B(de(G._payload),j,z,ee,te)}}if(de)return te=te(G),de=ee===""?"."+$(G,0):ee,V(te)?(z="",de!=null&&(z=de.replace(Q,"$&/")+"/"),B(te,j,z,"",function(_e){return _e})):te!=null&&(k(te)&&(te=J(te,z+(te.key==null||G&&G.key===te.key?"":(""+te.key).replace(Q,"$&/")+"/")+de)),j.push(te)),1;de=0;var pe=ee===""?".":ee+":";if(V(G))for(var ve=0;ve<G.length;ve++)ee=G[ve],oe=pe+$(ee,ve),de+=B(ee,j,z,oe,te);else if(ve=b(G),typeof ve=="function")for(G=ve.call(G),ve=0;!(ee=G.next()).done;)ee=ee.value,oe=pe+$(ee,ve++),de+=B(ee,j,z,oe,te);else if(oe==="object"){if(typeof G.then=="function")return B(le(G),j,z,ee,te);throw j=String(G),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return de}function ie(G,j,z){if(G==null)return G;var ee=[],te=0;return B(G,ee,"","",function(oe){return j.call(z,oe,te++)}),ee}function re(G){if(G._status===-1){var j=G._result;j=j(),j.then(function(z){(G._status===0||G._status===-1)&&(G._status=1,G._result=z)},function(z){(G._status===0||G._status===-1)&&(G._status=2,G._result=z)}),G._status===-1&&(G._status=0,G._result=j)}if(G._status===1)return G._result.default;throw G._result}var fe=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},me={map:ie,forEach:function(G,j,z){ie(G,function(){j.apply(this,arguments)},z)},count:function(G){var j=0;return ie(G,function(){j++}),j},toArray:function(G){return ie(G,function(j){return j})||[]},only:function(G){if(!k(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return un.Activity=y,un.Children=me,un.Component=T,un.Fragment=t,un.Profiler=a,un.PureComponent=I,un.StrictMode=s,un.Suspense=f,un.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,un.__COMPILER_RUNTIME={__proto__:null,c:function(G){return H.H.useMemoCache(G)}},un.cache=function(G){return function(){return G.apply(null,arguments)}},un.cacheSignal=function(){return null},un.cloneElement=function(G,j,z){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ee=A({},G.props),te=G.key;if(j!=null)for(oe in j.key!==void 0&&(te=""+j.key),j)!O.call(j,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&j.ref===void 0||(ee[oe]=j[oe]);var oe=arguments.length-2;if(oe===1)ee.children=z;else if(1<oe){for(var de=Array(oe),pe=0;pe<oe;pe++)de[pe]=arguments[pe+2];ee.children=de}return F(G.type,te,ee)},un.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},un.createElement=function(G,j,z){var ee,te={},oe=null;if(j!=null)for(ee in j.key!==void 0&&(oe=""+j.key),j)O.call(j,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(te[ee]=j[ee]);var de=arguments.length-2;if(de===1)te.children=z;else if(1<de){for(var pe=Array(de),ve=0;ve<de;ve++)pe[ve]=arguments[ve+2];te.children=pe}if(G&&G.defaultProps)for(ee in de=G.defaultProps,de)te[ee]===void 0&&(te[ee]=de[ee]);return F(G,oe,te)},un.createRef=function(){return{current:null}},un.forwardRef=function(G){return{$$typeof:c,render:G}},un.isValidElement=k,un.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:re}},un.memo=function(G,j){return{$$typeof:d,type:G,compare:j===void 0?null:j}},un.startTransition=function(G){var j=H.T,z={};H.T=z;try{var ee=G(),te=H.S;te!==null&&te(z,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(W,fe)}catch(oe){fe(oe)}finally{j!==null&&z.types!==null&&(j.types=z.types),H.T=j}},un.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},un.use=function(G){return H.H.use(G)},un.useActionState=function(G,j,z){return H.H.useActionState(G,j,z)},un.useCallback=function(G,j){return H.H.useCallback(G,j)},un.useContext=function(G){return H.H.useContext(G)},un.useDebugValue=function(){},un.useDeferredValue=function(G,j){return H.H.useDeferredValue(G,j)},un.useEffect=function(G,j){return H.H.useEffect(G,j)},un.useEffectEvent=function(G){return H.H.useEffectEvent(G)},un.useId=function(){return H.H.useId()},un.useImperativeHandle=function(G,j,z){return H.H.useImperativeHandle(G,j,z)},un.useInsertionEffect=function(G,j){return H.H.useInsertionEffect(G,j)},un.useLayoutEffect=function(G,j){return H.H.useLayoutEffect(G,j)},un.useMemo=function(G,j){return H.H.useMemo(G,j)},un.useOptimistic=function(G,j){return H.H.useOptimistic(G,j)},un.useReducer=function(G,j,z){return H.H.useReducer(G,j,z)},un.useRef=function(G){return H.H.useRef(G)},un.useState=function(G){return H.H.useState(G)},un.useSyncExternalStore=function(G,j,z){return H.H.useSyncExternalStore(G,j,z)},un.useTransition=function(){return H.H.useTransition()},un.version="19.2.0",un}var e5;function Ag(){return e5||(e5=1,um.exports=A4()),um.exports}var ae=Ag();const Xn=_4(ae);var hm={exports:{}},Mf={},fm={exports:{}},dm={};var t5;function C4(){return t5||(t5=1,(function(r){function e(B,ie){var re=B.length;B.push(ie);e:for(;0<re;){var fe=re-1>>>1,me=B[fe];if(0<a(me,ie))B[fe]=ie,B[re]=me,re=fe;else break e}}function t(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var ie=B[0],re=B.pop();if(re!==ie){B[0]=re;e:for(var fe=0,me=B.length,G=me>>>1;fe<G;){var j=2*(fe+1)-1,z=B[j],ee=j+1,te=B[ee];if(0>a(z,re))ee<me&&0>a(te,z)?(B[fe]=te,B[ee]=re,fe=ee):(B[fe]=z,B[j]=re,fe=j);else if(ee<me&&0>a(te,re))B[fe]=te,B[ee]=re,fe=ee;else break e}}return ie}function a(B,ie){var re=B.sortIndex-ie.sortIndex;return re!==0?re:B.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();r.unstable_now=function(){return u.now()-c}}var f=[],d=[],m=1,y=null,_=3,b=!1,N=!1,A=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function q(B){for(var ie=t(d);ie!==null;){if(ie.callback===null)s(d);else if(ie.startTime<=B)s(d),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=t(d)}}function V(B){if(A=!1,q(B),!N)if(t(f)!==null)N=!0,W||(W=!0,D());else{var ie=t(d);ie!==null&&le(V,ie.startTime-B)}}var W=!1,H=-1,O=5,F=-1;function J(){return E?!0:!(r.unstable_now()-F<O)}function k(){if(E=!1,W){var B=r.unstable_now();F=B;var ie=!0;try{e:{N=!1,A&&(A=!1,R(H),H=-1),b=!0;var re=_;try{t:{for(q(B),y=t(f);y!==null&&!(y.expirationTime>B&&J());){var fe=y.callback;if(typeof fe=="function"){y.callback=null,_=y.priorityLevel;var me=fe(y.expirationTime<=B);if(B=r.unstable_now(),typeof me=="function"){y.callback=me,q(B),ie=!0;break t}y===t(f)&&s(f),q(B)}else s(f);y=t(f)}if(y!==null)ie=!0;else{var G=t(d);G!==null&&le(V,G.startTime-B),ie=!1}}break e}finally{y=null,_=re,b=!1}ie=void 0}}finally{ie?D():W=!1}}}var D;if(typeof I=="function")D=function(){I(k)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,$=Q.port2;Q.port1.onmessage=k,D=function(){$.postMessage(null)}}else D=function(){T(k,0)};function le(B,ie){H=T(function(){B(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_next=function(B){switch(_){case 1:case 2:case 3:var ie=3;break;default:ie=_}var re=_;_=ie;try{return B()}finally{_=re}},r.unstable_requestPaint=function(){E=!0},r.unstable_runWithPriority=function(B,ie){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var re=_;_=B;try{return ie()}finally{_=re}},r.unstable_scheduleCallback=function(B,ie,re){var fe=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?fe+re:fe):re=fe,B){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=re+me,B={id:m++,callback:ie,priorityLevel:B,startTime:re,expirationTime:me,sortIndex:-1},re>fe?(B.sortIndex=re,e(d,B),t(f)===null&&B===t(d)&&(A?(R(H),H=-1):A=!0,le(V,re-fe))):(B.sortIndex=me,e(f,B),N||b||(N=!0,W||(W=!0,D()))),B},r.unstable_shouldYield=J,r.unstable_wrapCallback=function(B){var ie=_;return function(){var re=_;_=ie;try{return B.apply(this,arguments)}finally{_=re}}}})(dm)),dm}var n5;function T4(){return n5||(n5=1,fm.exports=C4()),fm.exports}var pm={exports:{}},Ks={};var r5;function k4(){if(r5)return Ks;r5=1;var r=Ag();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:d,implementation:m}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ks.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ks.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,m)},Ks.flushSync=function(f){var d=u.T,m=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=d,s.p=m,s.d.f()}},Ks.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(f,d))},Ks.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Ks.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?s.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):m==="script"&&s.d.X(f,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ks.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);s.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(f)},Ks.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);s.d.L(f,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ks.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);s.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(f)},Ks.requestFormReset=function(f){s.d.r(f)},Ks.unstable_batchedUpdates=function(f,d){return f(d)},Ks.useFormState=function(f,d,m){return u.H.useFormState(f,d,m)},Ks.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ks.version="19.2.0",Ks}var s5;function _x(){if(s5)return pm.exports;s5=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=k4(),pm.exports}var i5;function E4(){if(i5)return Mf;i5=1;var r=T4(),e=Ag(),t=_x();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function c(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(o(n)!==n)throw Error(s(188))}function d(n){var i=n.alternate;if(!i){if(i=o(n),i===null)throw Error(s(188));return i!==n?null:n}for(var l=n,h=i;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return f(g),n;if(x===h)return f(g),i;x=x.sibling}throw Error(s(188))}if(l.return!==h.return)l=g,h=x;else{for(var L=!1,K=g.child;K;){if(K===l){L=!0,l=g,h=x;break}if(K===h){L=!0,h=g,l=x;break}K=K.sibling}if(!L){for(K=x.child;K;){if(K===l){L=!0,l=x,h=g;break}if(K===h){L=!0,h=x,l=g;break}K=K.sibling}if(!L)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),I=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function D(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var Q=Symbol.for("react.client.reference");function $(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Q?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case V:return"Suspense";case W:return"SuspenseList";case F:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case I:return n.displayName||"Context";case R:return(n._context.displayName||"Context")+".Consumer";case q:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case H:return i=n.displayName||null,i!==null?i:$(n.type)||"Memo";case O:i=n._payload,n=n._init;try{return $(n(i))}catch{}}return null}var le=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},fe=[],me=-1;function G(n){return{current:n}}function j(n){0>me||(n.current=fe[me],fe[me]=null,me--)}function z(n,i){me++,fe[me]=n.current,n.current=i}var ee=G(null),te=G(null),oe=G(null),de=G(null);function pe(n,i){switch(z(oe,i),z(te,n),z(ee,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?xv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=xv(i),n=wv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}j(ee),z(ee,n)}function ve(){j(ee),j(te),j(oe)}function _e(n){n.memoizedState!==null&&z(de,n);var i=ee.current,l=wv(i,n.type);i!==l&&(z(te,n),z(ee,l))}function qe(n){te.current===n&&(j(ee),j(te)),de.current===n&&(j(de),Cf._currentValue=re)}var Xe,et;function ut(n){if(Xe===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Xe=i&&i[1]||"",et=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+n+et}var Y=!1;function Ie(n,i){if(!n||Y)return"";Y=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(Ve){var Re=Ve}Reflect.construct(n,[],Ye)}else{try{Ye.call()}catch(Ve){Re=Ve}n.call(Ye.prototype)}}else{try{throw Error()}catch(Ve){Re=Ve}(Ye=n())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(Ve){if(Ve&&Re&&typeof Ve.stack=="string")return[Ve.stack,Re.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),L=x[0],K=x[1];if(L&&K){var ge=L.split(`
`),Le=K.split(`
`);for(g=h=0;h<ge.length&&!ge[h].includes("DetermineComponentFrameRoot");)h++;for(;g<Le.length&&!Le[g].includes("DetermineComponentFrameRoot");)g++;if(h===ge.length||g===Le.length)for(h=ge.length-1,g=Le.length-1;1<=h&&0<=g&&ge[h]!==Le[g];)g--;for(;1<=h&&0<=g;h--,g--)if(ge[h]!==Le[g]){if(h!==1||g!==1)do if(h--,g--,0>g||ge[h]!==Le[g]){var Pe=`
`+ge[h].replace(" at new "," at ");return n.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",n.displayName)),Pe}while(1<=h&&0<=g);break}}}finally{Y=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?ut(l):""}function pt(n,i){switch(n.tag){case 26:case 27:case 5:return ut(n.type);case 16:return ut("Lazy");case 13:return n.child!==i&&i!==null?ut("Suspense Fallback"):ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return Ie(n.type,!1);case 11:return Ie(n.type.render,!1);case 1:return Ie(n.type,!0);case 31:return ut("Activity");default:return""}}function Je(n){try{var i="",l=null;do i+=pt(n,l),l=n,n=n.return;while(n);return i}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var je=Object.prototype.hasOwnProperty,st=r.unstable_scheduleCallback,Ue=r.unstable_cancelCallback,nt=r.unstable_shouldYield,Oe=r.unstable_requestPaint,$e=r.unstable_now,tt=r.unstable_getCurrentPriorityLevel,at=r.unstable_ImmediatePriority,mt=r.unstable_UserBlockingPriority,yt=r.unstable_NormalPriority,ot=r.unstable_LowPriority,kt=r.unstable_IdlePriority,ft=r.log,mn=r.unstable_setDisableYieldValue,Gt=null,Nt=null;function Lt(n){if(typeof ft=="function"&&mn(n),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Gt,n)}catch{}}var It=Math.clz32?Math.clz32:ct,Se=Math.log,lt=Math.LN2;function ct(n){return n>>>=0,n===0?32:31-(Se(n)/lt|0)|0}var gt=256,en=262144,St=4194304;function bt(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function qt(n,i,l){var h=n.pendingLanes;if(h===0)return 0;var g=0,x=n.suspendedLanes,L=n.pingedLanes;n=n.warmLanes;var K=h&134217727;return K!==0?(h=K&~x,h!==0?g=bt(h):(L&=K,L!==0?g=bt(L):l||(l=K&~n,l!==0&&(g=bt(l))))):(K=h&~x,K!==0?g=bt(K):L!==0?g=bt(L):l||(l=h&~n,l!==0&&(g=bt(l)))),g===0?0:i!==0&&i!==g&&(i&x)===0&&(x=g&-g,l=i&-i,x>=l||x===32&&(l&4194048)!==0)?i:g}function De(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ht(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vt(){var n=St;return St<<=1,(St&62914560)===0&&(St=4194304),n}function Ot(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function it(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Kt(n,i,l,h,g,x){var L=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var K=n.entanglements,ge=n.expirationTimes,Le=n.hiddenUpdates;for(l=L&~l;0<l;){var Pe=31-It(l),Ye=1<<Pe;K[Pe]=0,ge[Pe]=-1;var Re=Le[Pe];if(Re!==null)for(Le[Pe]=null,Pe=0;Pe<Re.length;Pe++){var Ve=Re[Pe];Ve!==null&&(Ve.lane&=-536870913)}l&=~Ye}h!==0&&gn(n,h,0),x!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=x&~(L&~i))}function gn(n,i,l){n.pendingLanes|=i,n.suspendedLanes&=~i;var h=31-It(i);n.entangledLanes|=i,n.entanglements[h]=n.entanglements[h]|1073741824|l&261930}function bn(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var h=31-It(l),g=1<<h;g&i|n[h]&i&&(n[h]|=i),l&=~g}}function dn(n,i){var l=i&-i;return l=(l&42)!==0?1:sn(l),(l&(n.suspendedLanes|i))!==0?0:l}function sn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Te(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Fe(){var n=ie.p;return n!==0?n:(n=window.event,n===void 0?32:Hv(n.type))}function Qe(n,i){var l=ie.p;try{return ie.p=n,i()}finally{ie.p=l}}var xt=Math.random().toString(36).slice(2),Ft="__reactFiber$"+xt,Et="__reactProps$"+xt,Xt="__reactContainer$"+xt,tn="__reactEvents$"+xt,Ht="__reactListeners$"+xt,on="__reactHandles$"+xt,zn="__reactResources$"+xt,kn="__reactMarker$"+xt;function En(n){delete n[Ft],delete n[Et],delete n[tn],delete n[Ht],delete n[on]}function Vn(n){var i=n[Ft];if(i)return i;for(var l=n.parentNode;l;){if(i=l[Xt]||l[Ft]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=kv(n);n!==null;){if(l=n[Ft])return l;n=kv(n)}return i}n=l,l=n.parentNode}return null}function $n(n){if(n=n[Ft]||n[Xt]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function Ys(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function es(n){var i=n[zn];return i||(i=n[zn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Pn(n){n[kn]=!0}var ii=new Set,Ss={};function Ns(n,i){Xs(n,i),Xs(n+"Capture",i)}function Xs(n,i){for(Ss[n]=i,n=0;n<i.length;n++)ii.add(i[n])}var Pi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ui={},Hi={};function ca(n){return je.call(Hi,n)?!0:je.call(Ui,n)?!1:Pi.test(n)?Hi[n]=!0:(Ui[n]=!0,!1)}function us(n,i,l){if(ca(i))if(l===null)n.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+l)}}function Gi(n,i,l){if(l===null)n.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+l)}}function ai(n,i,l,h){if(h===null)n.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(i,l,""+h)}}function jn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Go(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ua(n,i,l){var h=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,x=h.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(L){l=""+L,x.call(this,L)}}),Object.defineProperty(n,i,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(L){l=""+L},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function bo(n){if(!n._valueTracker){var i=Go(n)?"checked":"value";n._valueTracker=ua(n,i,""+n[i])}}function Ec(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return n&&(h=Go(n)?n.checked?"true":"false":n.value),n=h,n!==l?(i.setValue(n),!0):!1}function Is(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Wr=/[\n"\\]/g;function Rr(n){return n.replace(Wr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ll(n,i,l,h,g,x,L,K){n.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?n.type=L:n.removeAttribute("type"),i!=null?L==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+jn(i)):n.value!==""+jn(i)&&(n.value=""+jn(i)):L!=="submit"&&L!=="reset"||n.removeAttribute("value"),i!=null?jc(n,L,jn(i)):l!=null?jc(n,L,jn(l)):h!=null&&n.removeAttribute("value"),g==null&&x!=null&&(n.defaultChecked=!!x),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?n.name=""+jn(K):n.removeAttribute("name")}function Nu(n,i,l,h,g,x,L,K){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),i!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||i!=null)){bo(n);return}l=l!=null?""+jn(l):"",i=i!=null?""+jn(i):l,K||i===n.value||(n.value=i),n.defaultValue=i}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,n.checked=K?n.checked:!!h,n.defaultChecked=!!h,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(n.name=L),bo(n)}function jc(n,i,l){i==="number"&&Is(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Fs(n,i,l,h){if(n=n.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=i.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&h&&(n[l].defaultSelected=!0)}else{for(l=""+jn(l),i=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,h&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function Mc(n,i,l){if(i!=null&&(i=""+jn(i),i!==n.value&&(n.value=i),l==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=l!=null?""+jn(l):""}function Lc(n,i,l,h){if(i==null){if(h!=null){if(l!=null)throw Error(s(92));if(le(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),i=l}l=jn(i),n.defaultValue=l,h=n.textContent,h===l&&h!==""&&h!==null&&(n.value=h),bo(n)}function Wi(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var Wo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Au(n,i,l){var h=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":h?n.setProperty(i,l):typeof l!="number"||l===0||Wo.has(i)?i==="float"?n.cssFloat=l:n[i]=(""+l).trim():n[i]=l+"px"}function Cu(n,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?n.setProperty(h,""):h==="float"?n.cssFloat="":n[h]="");for(var g in i)h=i[g],i.hasOwnProperty(g)&&l[g]!==h&&Au(n,g,h)}else for(var x in i)i.hasOwnProperty(x)&&Au(n,x,i[x])}function Oc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $s(n){return Tu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Yi(){}var Ma=null;function Yo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var vo=null,Wt=null;function ku(n){var i=$n(n);if(i&&(n=i.stateNode)){var l=n[Et]||null;e:switch(n=i.stateNode,i.type){case"input":if(Ll(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Rr(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==n&&h.form===n.form){var g=h[Et]||null;if(!g)throw Error(s(90));Ll(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)h=l[i],h.form===n.form&&Ec(h)}break e;case"textarea":Mc(n,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Fs(n,!!l.multiple,i,!1)}}}var Rc=!1;function Eu(n,i,l){if(Rc)return n(i,l);Rc=!0;try{var h=n(i);return h}finally{if(Rc=!1,(vo!==null||Wt!==null)&&($d(),vo&&(i=vo,n=Wt,Wt=vo=null,ku(i),n)))for(i=0;i<n.length;i++)ku(n[i])}}function oi(n,i){var l=n.stateNode;if(l===null)return null;var h=l[Et]||null;if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ic=!1;if(hs)try{var Xo={};Object.defineProperty(Xo,"passive",{get:function(){Ic=!0}}),window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch{Ic=!1}var li=null,$o=null,ha=null;function ju(){if(ha)return ha;var n,i=$o,l=i.length,h,g="value"in li?li.value:li.textContent,x=g.length;for(n=0;n<l&&i[n]===g[n];n++);var L=l-n;for(h=1;h<=L&&i[l-h]===g[x-h];h++);return ha=g.slice(n,1<h?1-h:void 0)}function bi(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ol(){return!0}function Dl(){return!1}function ts(n){function i(l,h,g,x,L){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=x,this.target=L,this.currentTarget=null;for(var K in n)n.hasOwnProperty(K)&&(l=n[K],this[K]=l?l(x):x[K]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ol:Dl,this.isPropagationStopped=Dl,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),i}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=ts(fa),La=y({},fa,{view:0,detail:0}),Rl=ts(La),Zo,Oa,Da,Qo=y({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qt,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Da&&(Da&&n.type==="mousemove"?(Zo=n.screenX-Da.screenX,Oa=n.screenY-Da.screenY):Oa=Zo=0,Da=n),Zo)},movementY:function(n){return"movementY"in n?n.movementY:Oa}}),Fc=ts(Qo),Ra=y({},Qo,{dataTransfer:0}),Ia=ts(Ra),Mu=y({},La,{relatedTarget:0}),Fa=ts(Mu),Lu=y({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),S=ts(Lu),P=y({},fa,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),he=ts(P),be=y({},fa,{data:0}),Ne=ts(be),He={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ke={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ct={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dt(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Ct[n])?!!i[n]:!1}function Qt(){return Dt}var ln=y({},La,{key:function(n){if(n.key){var i=He[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=bi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ke[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qt,charCode:function(n){return n.type==="keypress"?bi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?bi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Mn=ts(ln),mr=y({},Qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jr=ts(mr),er=y({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qt}),Yr=ts(er),Ir=y({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),fs=ts(Ir),Va=y({},Qo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Xi=ts(Va),Ba=y({},fa,{newState:0,oldState:0}),Vc=ts(Ba),Il=[9,13,27,32],da=hs&&"CompositionEvent"in window,$i=null;hs&&"documentMode"in document&&($i=document.documentMode);var Ko=hs&&"TextEvent"in window&&!$i,qa=hs&&(!da||$i&&8<$i&&11>=$i),ns=" ",yo=!1;function xo(n,i){switch(n){case"keyup":return Il.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fl(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var pa=!1;function Vs(n,i){switch(n){case"compositionend":return Fl(i);case"keypress":return i.which!==32?null:(yo=!0,ns);case"textInput":return n=i.data,n===ns&&yo?null:n;default:return null}}function za(n,i){if(pa)return n==="compositionend"||!da&&xo(n,i)?(n=ju(),ha=$o=li=null,pa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return qa&&i.locale!=="ko"?null:i.data;default:return null}}var Vl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Vl[n.type]:i==="textarea"}function ci(n,i,l,h){vo?Wt?Wt.push(h):Wt=[h]:vo=h,i=n1(i,"onChange"),0<i.length&&(l=new vi("onChange","change",null,l,h),n.push({event:l,listeners:i}))}var Zi=null,Pa=null;function qc(n){pv(n,0)}function Qi(n){var i=Ys(n);if(Ec(i))return n}function wo(n,i){if(n==="change")return i}var Zs=!1;if(hs){var Bs;if(hs){var ma="oninput"in document;if(!ma){var ga=document.createElement("div");ga.setAttribute("oninput","return;"),ma=typeof ga.oninput=="function"}Bs=ma}else Bs=!1;Zs=Bs&&(!document.documentMode||9<document.documentMode)}function Ua(){Zi&&(Zi.detachEvent("onpropertychange",Bl),Pa=Zi=null)}function Bl(n){if(n.propertyName==="value"&&Qi(Pa)){var i=[];ci(i,Pa,n,Yo(n)),Eu(qc,i)}}function ql(n,i,l){n==="focusin"?(Ua(),Zi=i,Pa=l,Zi.attachEvent("onpropertychange",Bl)):n==="focusout"&&Ua()}function Mr(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Qi(Pa)}function Ou(n,i){if(n==="click")return Qi(i)}function ba(n,i){if(n==="input"||n==="change")return Qi(i)}function va(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var ds=typeof Object.is=="function"?Object.is:va;function Ha(n,i){if(ds(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!je.call(i,g)||!ds(n[g],i[g]))return!1}return!0}function zl(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Pl(n,i){var l=zl(n);n=0;for(var h;l;){if(l.nodeType===3){if(h=n+l.textContent.length,n<=i&&h>=i)return{node:l,offset:i-n};n=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zl(l)}}function Ga(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Ga(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Wa(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Is(n.document);i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=Is(n.document)}return i}function ya(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var Jo=hs&&"documentMode"in document&&11>=document.documentMode,ui=null,Ya=null,As=null,yi=!1;function Bn(n,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yi||ui==null||ui!==Is(h)||(h=ui,"selectionStart"in h&&ya(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),As&&Ha(As,h)||(As=h,h=n1(Ya,"onSelect"),0<h.length&&(i=new vi("onSelect","select",null,i,l),n.push({event:i,listeners:h}),i.target=ui)))}function Ln(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var tr={animationend:Ln("Animation","AnimationEnd"),animationiteration:Ln("Animation","AnimationIteration"),animationstart:Ln("Animation","AnimationStart"),transitionrun:Ln("Transition","TransitionRun"),transitionstart:Ln("Transition","TransitionStart"),transitioncancel:Ln("Transition","TransitionCancel"),transitionend:Ln("Transition","TransitionEnd")},Lr={},xa={};hs&&(xa=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function Ki(n){if(Lr[n])return Lr[n];if(!tr[n])return n;var i=tr[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in xa)return Lr[n]=i[l];return n}var el=Ki("animationend"),zc=Ki("animationiteration"),Xh=Ki("animationstart"),Ad=Ki("transitionrun"),Cd=Ki("transitionstart"),Td=Ki("transitioncancel"),$h=Ki("transitionend"),Zh=new Map,tl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tl.push("scrollEnd");function xi(n,i){Zh.set(n,i),Ns(i,[n])}var Pc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},hi=[],nl=0,Du=0;function Uc(){for(var n=nl,i=Du=nl=0;i<n;){var l=hi[i];hi[i++]=null;var h=hi[i];hi[i++]=null;var g=hi[i];hi[i++]=null;var x=hi[i];if(hi[i++]=null,h!==null&&g!==null){var L=h.pending;L===null?g.next=g:(g.next=L.next,L.next=g),h.pending=g}x!==0&&Gc(l,g,x)}}function Hc(n,i,l,h){hi[nl++]=n,hi[nl++]=i,hi[nl++]=l,hi[nl++]=h,Du|=h,n.lanes|=h,n=n.alternate,n!==null&&(n.lanes|=h)}function Ru(n,i,l,h){return Hc(n,i,l,h),Cs(n)}function Xa(n,i){return Hc(n,null,null,i),Cs(n)}function Gc(n,i,l){n.lanes|=l;var h=n.alternate;h!==null&&(h.lanes|=l);for(var g=!1,x=n.return;x!==null;)x.childLanes|=l,h=x.alternate,h!==null&&(h.childLanes|=l),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(g=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,g&&i!==null&&(g=31-It(l),n=x.hiddenUpdates,h=n[g],h===null?n[g]=[i]:h.push(i),i.lane=l|536870912),x):null}function Cs(n){if(50<yf)throw yf=0,O0=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ps={};function Iu(n,i,l,h){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(n,i,l,h){return new Iu(n,i,l,h)}function Fu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wi(n,i){var l=n.alternate;return l===null?(l=Ts(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Wc(n,i){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,i=l.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Ul(n,i,l,h,g,x){var L=0;if(h=n,typeof n=="function")Fu(n)&&(L=1);else if(typeof n=="string")L=u4(n,l,ee.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case F:return n=Ts(31,l,i,g),n.elementType=F,n.lanes=x,n;case A:return _o(l.children,g,x,i);case E:L=8,g|=24;break;case T:return n=Ts(12,l,i,g|2),n.elementType=T,n.lanes=x,n;case V:return n=Ts(13,l,i,g),n.elementType=V,n.lanes=x,n;case W:return n=Ts(19,l,i,g),n.elementType=W,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case I:L=10;break e;case R:L=9;break e;case q:L=11;break e;case H:L=14;break e;case O:L=16,h=null;break e}L=29,l=Error(s(130,n===null?"null":typeof n,"")),h=null}return i=Ts(L,l,i,g),i.elementType=n,i.type=h,i.lanes=x,i}function _o(n,i,l,h){return n=Ts(7,n,h,i),n.lanes=l,n}function Yc(n,i,l){return n=Ts(6,n,null,i),n.lanes=l,n}function Vu(n){var i=Ts(18,null,null,0);return i.stateNode=n,i}function Hl(n,i,l){return i=Ts(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Bu=new WeakMap;function _i(n,i){if(typeof n=="object"&&n!==null){var l=Bu.get(n);return l!==void 0?l:(i={value:n,source:i,stack:Je(i)},Bu.set(n,i),i)}return{value:n,source:i,stack:Je(i)}}var Gl=[],rl=0,qu=null,Xc=0,Si=[],Ni=0,So=null,Ai=1,Ci="";function fi(n,i){Gl[rl++]=Xc,Gl[rl++]=qu,qu=n,Xc=i}function kd(n,i,l){Si[Ni++]=Ai,Si[Ni++]=Ci,Si[Ni++]=So,So=n;var h=Ai;n=Ci;var g=32-It(h)-1;h&=~(1<<g),l+=1;var x=32-It(i)+g;if(30<x){var L=g-g%5;x=(h&(1<<L)-1).toString(32),h>>=L,g-=L,Ai=1<<32-It(i)+g|l<<g|h,Ci=x+n}else Ai=1<<x|l<<g|h,Ci=n}function Qh(n){n.return!==null&&(fi(n,1),kd(n,1,0))}function zu(n){for(;n===qu;)qu=Gl[--rl],Gl[rl]=null,Xc=Gl[--rl],Gl[rl]=null;for(;n===So;)So=Si[--Ni],Si[Ni]=null,Ci=Si[--Ni],Si[Ni]=null,Ai=Si[--Ni],Si[Ni]=null}function Ed(n,i){Si[Ni++]=Ai,Si[Ni++]=Ci,Si[Ni++]=So,Ai=i.id,Ci=i.overflow,So=n}var ms=null,lr=null,xn=!1,qs=null,Nr=!1,Ji=Error(s(519));function No(n){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(_i(i,n)),Ji}function Kh(n){var i=n.stateNode,l=n.type,h=n.memoizedProps;switch(i[Ft]=n,i[Et]=h,l){case"dialog":_n("cancel",i),_n("close",i);break;case"iframe":case"object":case"embed":_n("load",i);break;case"video":case"audio":for(l=0;l<wf.length;l++)_n(wf[l],i);break;case"source":_n("error",i);break;case"img":case"image":case"link":_n("error",i),_n("load",i);break;case"details":_n("toggle",i);break;case"input":_n("invalid",i),Nu(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":_n("invalid",i);break;case"textarea":_n("invalid",i),Lc(i,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||h.suppressHydrationWarning===!0||vv(i.textContent,l)?(h.popover!=null&&(_n("beforetoggle",i),_n("toggle",i)),h.onScroll!=null&&_n("scroll",i),h.onScrollEnd!=null&&_n("scrollend",i),h.onClick!=null&&(i.onclick=Yi),i=!0):i=!1,i||No(n,!0)}function $a(n){for(ms=n.return;ms;)switch(ms.tag){case 5:case 31:case 13:Nr=!1;return;case 27:case 3:Nr=!0;return;default:ms=ms.return}}function gs(n){if(n!==ms)return!1;if(!xn)return $a(n),xn=!0,!1;var i=n.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||X0(n.type,n.memoizedProps)),l=!l),l&&lr&&No(n),$a(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));lr=Tv(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));lr=Tv(n)}else i===27?(i=lr,ac(n.type)?(n=J0,J0=null,lr=n):lr=i):lr=ms?Na(n.stateNode.nextSibling):null;return!0}function sl(){lr=ms=null,xn=!1}function Jh(){var n=qs;return n!==null&&(Li===null?Li=n:Li.push.apply(Li,n),qs=null),n}function Wl(n){qs===null?qs=[n]:qs.push(n)}var Pu=G(null),Ao=null,wa=null;function Co(n,i,l){z(Pu,i._currentValue),i._currentValue=l}function Ti(n){n._currentValue=Pu.current,j(Pu)}function Yl(n,i,l){for(;n!==null;){var h=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),n===l)break;n=n.return}}function il(n,i,l,h){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var x=g.dependencies;if(x!==null){var L=g.child;x=x.firstContext;e:for(;x!==null;){var K=x;x=g;for(var ge=0;ge<i.length;ge++)if(K.context===i[ge]){x.lanes|=l,K=x.alternate,K!==null&&(K.lanes|=l),Yl(x.return,l,n),h||(L=null);break e}x=K.next}}else if(g.tag===18){if(L=g.return,L===null)throw Error(s(341));L.lanes|=l,x=L.alternate,x!==null&&(x.lanes|=l),Yl(L,l,n),L=null}else L=g.child;if(L!==null)L.return=g;else for(L=g;L!==null;){if(L===n){L=null;break}if(g=L.sibling,g!==null){g.return=L.return,L=g;break}L=L.return}g=L}}function To(n,i,l,h){n=null;for(var g=i,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var L=g.alternate;if(L===null)throw Error(s(387));if(L=L.memoizedProps,L!==null){var K=g.type;ds(g.pendingProps.value,L.value)||(n!==null?n.push(K):n=[K])}}else if(g===de.current){if(L=g.alternate,L===null)throw Error(s(387));L.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Cf):n=[Cf])}g=g.return}n!==null&&il(i,n,l,h),i.flags|=262144}function Uu(n){for(n=n.firstContext;n!==null;){if(!ds(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ko(n){Ao=n,wa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function bs(n){return jd(Ao,n)}function Hu(n,i){return Ao===null&&ko(n),jd(n,i)}function jd(n,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},wa===null){if(n===null)throw Error(s(308));wa=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else wa=wa.next=i;return l}var Kp=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(l,h){n.push(h)}};this.abort=function(){i.aborted=!0,n.forEach(function(l){return l()})}},Jp=r.unstable_scheduleCallback,e0=r.unstable_NormalPriority,Or={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xl(){return{controller:new Kp,data:new Map,refCount:0}}function $c(n){n.refCount--,n.refCount===0&&Jp(e0,function(){n.controller.abort()})}var Zc=null,Gu=0,p=0,v=null;function C(n,i){if(Zc===null){var l=Zc=[];Gu=0,p=B0(),v={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Gu++,i.then(M,M),i}function M(){if(--Gu===0&&Zc!==null){v!==null&&(v.status="fulfilled");var n=Zc;Zc=null,p=0,v=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function U(n,i){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){h.status="fulfilled",h.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var X=B.S;B.S=function(n,i){Pb=$e(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&C(n,i),X!==null&&X(n,i)};var Z=G(null);function ne(){var n=Z.current;return n!==null?n:ur.pooledCache}function se(n,i){i===null?z(Z,Z.current):z(Z,i.pool)}function ue(){var n=ne();return n===null?null:{parent:Or._currentValue,pool:n}}var ye=Error(s(460)),Ee=Error(s(474)),ce=Error(s(542)),we={then:function(){}};function Ce(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ze(n,i,l){switch(l=n[l],l===void 0?n.push(i):l!==i&&(i.then(Yi,Yi),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,rt(n),n;default:if(typeof i.status=="string")i.then(Yi,Yi);else{if(n=ur,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(h){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=h}},function(h){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,rt(n),n}throw Be=i,ye}}function ke(n){try{var i=n._init;return i(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Be=l,ye):l}}var Be=null;function Ge(){if(Be===null)throw Error(s(459));var n=Be;return Be=null,n}function rt(n){if(n===ye||n===ce)throw Error(s(483))}var Ze=null,jt=0;function wt(n){var i=jt;return jt+=1,Ze===null&&(Ze=[]),ze(Ze,n,i)}function nn(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function At(n,i){throw i.$$typeof===_?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function yn(n){function i(Ae,xe){if(n){var Me=Ae.deletions;Me===null?(Ae.deletions=[xe],Ae.flags|=16):Me.push(xe)}}function l(Ae,xe){if(!n)return null;for(;xe!==null;)i(Ae,xe),xe=xe.sibling;return null}function h(Ae){for(var xe=new Map;Ae!==null;)Ae.key!==null?xe.set(Ae.key,Ae):xe.set(Ae.index,Ae),Ae=Ae.sibling;return xe}function g(Ae,xe){return Ae=wi(Ae,xe),Ae.index=0,Ae.sibling=null,Ae}function x(Ae,xe,Me){return Ae.index=Me,n?(Me=Ae.alternate,Me!==null?(Me=Me.index,Me<xe?(Ae.flags|=67108866,xe):Me):(Ae.flags|=67108866,xe)):(Ae.flags|=1048576,xe)}function L(Ae){return n&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function K(Ae,xe,Me,We){return xe===null||xe.tag!==6?(xe=Yc(Me,Ae.mode,We),xe.return=Ae,xe):(xe=g(xe,Me),xe.return=Ae,xe)}function ge(Ae,xe,Me,We){var Pt=Me.type;return Pt===A?Pe(Ae,xe,Me.props.children,We,Me.key):xe!==null&&(xe.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===O&&ke(Pt)===xe.type)?(xe=g(xe,Me.props),nn(xe,Me),xe.return=Ae,xe):(xe=Ul(Me.type,Me.key,Me.props,null,Ae.mode,We),nn(xe,Me),xe.return=Ae,xe)}function Le(Ae,xe,Me,We){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Me.containerInfo||xe.stateNode.implementation!==Me.implementation?(xe=Hl(Me,Ae.mode,We),xe.return=Ae,xe):(xe=g(xe,Me.children||[]),xe.return=Ae,xe)}function Pe(Ae,xe,Me,We,Pt){return xe===null||xe.tag!==7?(xe=_o(Me,Ae.mode,We,Pt),xe.return=Ae,xe):(xe=g(xe,Me),xe.return=Ae,xe)}function Ye(Ae,xe,Me){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return xe=Yc(""+xe,Ae.mode,Me),xe.return=Ae,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case b:return Me=Ul(xe.type,xe.key,xe.props,null,Ae.mode,Me),nn(Me,xe),Me.return=Ae,Me;case N:return xe=Hl(xe,Ae.mode,Me),xe.return=Ae,xe;case O:return xe=ke(xe),Ye(Ae,xe,Me)}if(le(xe)||D(xe))return xe=_o(xe,Ae.mode,Me,null),xe.return=Ae,xe;if(typeof xe.then=="function")return Ye(Ae,wt(xe),Me);if(xe.$$typeof===I)return Ye(Ae,Hu(Ae,xe),Me);At(Ae,xe)}return null}function Re(Ae,xe,Me,We){var Pt=xe!==null?xe.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Pt!==null?null:K(Ae,xe,""+Me,We);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case b:return Me.key===Pt?ge(Ae,xe,Me,We):null;case N:return Me.key===Pt?Le(Ae,xe,Me,We):null;case O:return Me=ke(Me),Re(Ae,xe,Me,We)}if(le(Me)||D(Me))return Pt!==null?null:Pe(Ae,xe,Me,We,null);if(typeof Me.then=="function")return Re(Ae,xe,wt(Me),We);if(Me.$$typeof===I)return Re(Ae,xe,Hu(Ae,Me),We);At(Ae,Me)}return null}function Ve(Ae,xe,Me,We,Pt){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return Ae=Ae.get(Me)||null,K(xe,Ae,""+We,Pt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case b:return Ae=Ae.get(We.key===null?Me:We.key)||null,ge(xe,Ae,We,Pt);case N:return Ae=Ae.get(We.key===null?Me:We.key)||null,Le(xe,Ae,We,Pt);case O:return We=ke(We),Ve(Ae,xe,Me,We,Pt)}if(le(We)||D(We))return Ae=Ae.get(Me)||null,Pe(xe,Ae,We,Pt,null);if(typeof We.then=="function")return Ve(Ae,xe,Me,wt(We),Pt);if(We.$$typeof===I)return Ve(Ae,xe,Me,Hu(xe,We),Pt);At(xe,We)}return null}function Tt(Ae,xe,Me,We){for(var Pt=null,Un=null,Rt=xe,pn=xe=0,Nn=null;Rt!==null&&pn<Me.length;pn++){Rt.index>pn?(Nn=Rt,Rt=null):Nn=Rt.sibling;var Hn=Re(Ae,Rt,Me[pn],We);if(Hn===null){Rt===null&&(Rt=Nn);break}n&&Rt&&Hn.alternate===null&&i(Ae,Rt),xe=x(Hn,xe,pn),Un===null?Pt=Hn:Un.sibling=Hn,Un=Hn,Rt=Nn}if(pn===Me.length)return l(Ae,Rt),xn&&fi(Ae,pn),Pt;if(Rt===null){for(;pn<Me.length;pn++)Rt=Ye(Ae,Me[pn],We),Rt!==null&&(xe=x(Rt,xe,pn),Un===null?Pt=Rt:Un.sibling=Rt,Un=Rt);return xn&&fi(Ae,pn),Pt}for(Rt=h(Rt);pn<Me.length;pn++)Nn=Ve(Rt,Ae,pn,Me[pn],We),Nn!==null&&(n&&Nn.alternate!==null&&Rt.delete(Nn.key===null?pn:Nn.key),xe=x(Nn,xe,pn),Un===null?Pt=Nn:Un.sibling=Nn,Un=Nn);return n&&Rt.forEach(function(hc){return i(Ae,hc)}),xn&&fi(Ae,pn),Pt}function $t(Ae,xe,Me,We){if(Me==null)throw Error(s(151));for(var Pt=null,Un=null,Rt=xe,pn=xe=0,Nn=null,Hn=Me.next();Rt!==null&&!Hn.done;pn++,Hn=Me.next()){Rt.index>pn?(Nn=Rt,Rt=null):Nn=Rt.sibling;var hc=Re(Ae,Rt,Hn.value,We);if(hc===null){Rt===null&&(Rt=Nn);break}n&&Rt&&hc.alternate===null&&i(Ae,Rt),xe=x(hc,xe,pn),Un===null?Pt=hc:Un.sibling=hc,Un=hc,Rt=Nn}if(Hn.done)return l(Ae,Rt),xn&&fi(Ae,pn),Pt;if(Rt===null){for(;!Hn.done;pn++,Hn=Me.next())Hn=Ye(Ae,Hn.value,We),Hn!==null&&(xe=x(Hn,xe,pn),Un===null?Pt=Hn:Un.sibling=Hn,Un=Hn);return xn&&fi(Ae,pn),Pt}for(Rt=h(Rt);!Hn.done;pn++,Hn=Me.next())Hn=Ve(Rt,Ae,pn,Hn.value,We),Hn!==null&&(n&&Hn.alternate!==null&&Rt.delete(Hn.key===null?pn:Hn.key),xe=x(Hn,xe,pn),Un===null?Pt=Hn:Un.sibling=Hn,Un=Hn);return n&&Rt.forEach(function(w4){return i(Ae,w4)}),xn&&fi(Ae,pn),Pt}function ir(Ae,xe,Me,We){if(typeof Me=="object"&&Me!==null&&Me.type===A&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case b:e:{for(var Pt=Me.key;xe!==null;){if(xe.key===Pt){if(Pt=Me.type,Pt===A){if(xe.tag===7){l(Ae,xe.sibling),We=g(xe,Me.props.children),We.return=Ae,Ae=We;break e}}else if(xe.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===O&&ke(Pt)===xe.type){l(Ae,xe.sibling),We=g(xe,Me.props),nn(We,Me),We.return=Ae,Ae=We;break e}l(Ae,xe);break}else i(Ae,xe);xe=xe.sibling}Me.type===A?(We=_o(Me.props.children,Ae.mode,We,Me.key),We.return=Ae,Ae=We):(We=Ul(Me.type,Me.key,Me.props,null,Ae.mode,We),nn(We,Me),We.return=Ae,Ae=We)}return L(Ae);case N:e:{for(Pt=Me.key;xe!==null;){if(xe.key===Pt)if(xe.tag===4&&xe.stateNode.containerInfo===Me.containerInfo&&xe.stateNode.implementation===Me.implementation){l(Ae,xe.sibling),We=g(xe,Me.children||[]),We.return=Ae,Ae=We;break e}else{l(Ae,xe);break}else i(Ae,xe);xe=xe.sibling}We=Hl(Me,Ae.mode,We),We.return=Ae,Ae=We}return L(Ae);case O:return Me=ke(Me),ir(Ae,xe,Me,We)}if(le(Me))return Tt(Ae,xe,Me,We);if(D(Me)){if(Pt=D(Me),typeof Pt!="function")throw Error(s(150));return Me=Pt.call(Me),$t(Ae,xe,Me,We)}if(typeof Me.then=="function")return ir(Ae,xe,wt(Me),We);if(Me.$$typeof===I)return ir(Ae,xe,Hu(Ae,Me),We);At(Ae,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,xe!==null&&xe.tag===6?(l(Ae,xe.sibling),We=g(xe,Me),We.return=Ae,Ae=We):(l(Ae,xe),We=Yc(Me,Ae.mode,We),We.return=Ae,Ae=We),L(Ae)):l(Ae,xe)}return function(Ae,xe,Me,We){try{jt=0;var Pt=ir(Ae,xe,Me,We);return Ze=null,Pt}catch(Rt){if(Rt===ye||Rt===ce)throw Rt;var Un=Ts(29,Rt,null,Ae.mode);return Un.lanes=We,Un.return=Ae,Un}finally{}}}var cr=yn(!0),cn=yn(!1),_t=!1;function dt(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gr(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Yt(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function fn(n,i,l){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Yn&2)!==0){var g=h.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),h.pending=i,i=Cs(n),Gc(n,null,l),i}return Hc(n,h,i,l),Cs(n)}function Gn(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var h=i.lanes;h&=n.pendingLanes,l|=h,i.lanes=l,bn(n,l)}}function Xr(n,i){var l=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var L={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?g=x=L:x=x.next=L,l=l.next}while(l!==null);x===null?g=x=i:x=x.next=i}else g=x=i;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}var vs=!1;function nr(){if(vs){var n=v;if(n!==null)throw n}}function Fr(n,i,l,h){vs=!1;var g=n.updateQueue;_t=!1;var x=g.firstBaseUpdate,L=g.lastBaseUpdate,K=g.shared.pending;if(K!==null){g.shared.pending=null;var ge=K,Le=ge.next;ge.next=null,L===null?x=Le:L.next=Le,L=ge;var Pe=n.alternate;Pe!==null&&(Pe=Pe.updateQueue,K=Pe.lastBaseUpdate,K!==L&&(K===null?Pe.firstBaseUpdate=Le:K.next=Le,Pe.lastBaseUpdate=ge))}if(x!==null){var Ye=g.baseState;L=0,Pe=Le=ge=null,K=x;do{var Re=K.lane&-536870913,Ve=Re!==K.lane;if(Ve?(Sn&Re)===Re:(h&Re)===Re){Re!==0&&Re===p&&(vs=!0),Pe!==null&&(Pe=Pe.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var Tt=n,$t=K;Re=i;var ir=l;switch($t.tag){case 1:if(Tt=$t.payload,typeof Tt=="function"){Ye=Tt.call(ir,Ye,Re);break e}Ye=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=$t.payload,Re=typeof Tt=="function"?Tt.call(ir,Ye,Re):Tt,Re==null)break e;Ye=y({},Ye,Re);break e;case 2:_t=!0}}Re=K.callback,Re!==null&&(n.flags|=64,Ve&&(n.flags|=8192),Ve=g.callbacks,Ve===null?g.callbacks=[Re]:Ve.push(Re))}else Ve={lane:Re,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Pe===null?(Le=Pe=Ve,ge=Ye):Pe=Pe.next=Ve,L|=Re;if(K=K.next,K===null){if(K=g.shared.pending,K===null)break;Ve=K,K=Ve.next,Ve.next=null,g.lastBaseUpdate=Ve,g.shared.pending=null}}while(!0);Pe===null&&(ge=Ye),g.baseState=ge,g.firstBaseUpdate=Le,g.lastBaseUpdate=Pe,x===null&&(g.shared.lanes=0),tc|=L,n.lanes=L,n.memoizedState=Ye}}function ks(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Vr(n,i){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)ks(l[n],i)}var vn=G(null),Rn=G(0);function br(n,i){n=ml,z(Rn,n),z(vn,i),ml=n|i.baseLanes}function qn(){z(Rn,ml),z(vn,vn.current)}function $r(){ml=Rn.current,j(vn),j(Rn)}var vr=G(null),In=null;function Dr(n){var i=n.alternate;z(On,On.current&1),z(vr,n),In===null&&(i===null||vn.current!==null||i.memoizedState!==null)&&(In=n)}function Wn(n){z(On,On.current),z(vr,n),In===null&&(In=n)}function Br(n){n.tag===22?(z(On,On.current),z(vr,n),In===null&&(In=n)):qr()}function qr(){z(On,On.current),z(vr,vr.current)}function Zn(n){j(vr),In===n&&(In=null),j(On)}var On=G(0);function Es(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Q0(l)||K0(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ar=0,Bt=null,zt=null,Fn=null,Qs=!1,ki=!1,zs=!1,zr=0,Eo=0,jo=null,Wu=0;function rr(){throw Error(s(321))}function ef(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!ds(n[l],i[l]))return!1;return!0}function tf(n,i,l,h,g,x){return Ar=x,Bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=n===null||n.memoizedState===null?J2:l0,zs=!1,x=l(h,g),zs=!1,ki&&(x=Za(i,l,h,g)),Yu(n),x}function Yu(n){B.H=uf;var i=zt!==null&&zt.next!==null;if(Ar=0,Fn=zt=Bt=null,Qs=!1,Eo=0,jo=null,i)throw Error(s(300));n===null||ss||(n=n.dependencies,n!==null&&Uu(n)&&(ss=!0))}function Za(n,i,l,h){Bt=n;var g=0;do{if(ki&&(jo=null),Eo=0,ki=!1,25<=g)throw Error(s(301));if(g+=1,Fn=zt=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=eb,x=i(l,h)}while(ki);return x}function t0(){var n=B.H,i=n.useState()[0];return i=typeof i.then=="function"?Mo(i):i,n=n.useState()[0],(zt!==null?zt.memoizedState:null)!==n&&(Bt.flags|=1024),i}function nf(){var n=zr!==0;return zr=0,n}function rf(n,i,l){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~l}function Xu(n){if(Qs){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Qs=!1}Ar=0,Fn=zt=Bt=null,ki=!1,Eo=zr=0,jo=null}function rs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?Bt.memoizedState=Fn=n:Fn=Fn.next=n,Fn}function Cr(){if(zt===null){var n=Bt.alternate;n=n!==null?n.memoizedState:null}else n=zt.next;var i=Fn===null?Bt.memoizedState:Fn.next;if(i!==null)Fn=i,zt=n;else{if(n===null)throw Bt.alternate===null?Error(s(467)):Error(s(310));zt=n,n={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Fn===null?Bt.memoizedState=Fn=n:Fn=Fn.next=n}return Fn}function Qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(n){var i=Eo;return Eo+=1,jo===null&&(jo=[]),n=ze(jo,n,i),i=Bt,(Fn===null?i.memoizedState:Fn.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?J2:l0),n}function $l(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Mo(n);if(n.$$typeof===I)return bs(n)}throw Error(s(438,String(n)))}function al(n){var i=null,l=Bt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var h=Bt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Qc(),Bt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(n),h=0;h<n;h++)l[h]=J;return i.index++,l}function _a(n,i){return typeof i=="function"?i(n):i}function $u(n){var i=Cr();return Zl(i,zt,n)}function Zl(n,i,l){var h=n.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var g=n.baseQueue,x=h.pending;if(x!==null){if(g!==null){var L=g.next;g.next=x.next,x.next=L}i.baseQueue=g=x,h.pending=null}if(x=n.baseState,g===null)n.memoizedState=x;else{i=g.next;var K=L=null,ge=null,Le=i,Pe=!1;do{var Ye=Le.lane&-536870913;if(Ye!==Le.lane?(Sn&Ye)===Ye:(Ar&Ye)===Ye){var Re=Le.revertLane;if(Re===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),Ye===p&&(Pe=!0);else if((Ar&Re)===Re){Le=Le.next,Re===p&&(Pe=!0);continue}else Ye={lane:0,revertLane:Le.revertLane,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ge===null?(K=ge=Ye,L=x):ge=ge.next=Ye,Bt.lanes|=Re,tc|=Re;Ye=Le.action,zs&&l(x,Ye),x=Le.hasEagerState?Le.eagerState:l(x,Ye)}else Re={lane:Ye,revertLane:Le.revertLane,gesture:Le.gesture,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ge===null?(K=ge=Re,L=x):ge=ge.next=Re,Bt.lanes|=Ye,tc|=Ye;Le=Le.next}while(Le!==null&&Le!==i);if(ge===null?L=x:ge.next=K,!ds(x,n.memoizedState)&&(ss=!0,Pe&&(l=v,l!==null)))throw l;n.memoizedState=x,n.baseState=L,n.baseQueue=ge,h.lastRenderedState=x}return g===null&&(h.lanes=0),[n.memoizedState,h.dispatch]}function Zu(n){var i=Cr(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var h=l.dispatch,g=l.pending,x=i.memoizedState;if(g!==null){l.pending=null;var L=g=g.next;do x=n(x,L.action),L=L.next;while(L!==g);ds(x,i.memoizedState)||(ss=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),l.lastRenderedState=x}return[x,h]}function Qu(n,i,l){var h=Bt,g=Cr(),x=xn;if(x){if(l===void 0)throw Error(s(407));l=l()}else l=i();var L=!ds((zt||g).memoizedState,l);if(L&&(g.memoizedState=l,ss=!0),g=g.queue,n0(af.bind(null,h,g,n),[n]),g.getSnapshot!==i||L||Fn!==null&&Fn.memoizedState.tag&1){if(h.flags|=2048,ll(9,{destroy:void 0},sf.bind(null,h,g,l,i),null),ur===null)throw Error(s(349));x||(Ar&127)!==0||Qa(h,i,l)}return l}function Qa(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=Bt.updateQueue,i===null?(i=Qc(),Bt.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function sf(n,i,l,h){i.value=l,i.getSnapshot=h,Md(i)&&of(n)}function af(n,i,l){return l(function(){Md(i)&&of(n)})}function Md(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!ds(n,l)}catch{return!0}}function of(n){var i=Xa(n,2);i!==null&&Oi(i,n,2)}function Lo(n){var i=rs();if(typeof n=="function"){var l=n;if(n=l(),zs){Lt(!0);try{l()}finally{Lt(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:n},i}function Ld(n,i,l,h){return n.baseState=l,Zl(n,zt,typeof h=="function"?h:_a)}function Od(n,i,l,h,g){if(Fd(n))throw Error(s(485));if(n=i.action,n!==null){var x={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){x.listeners.push(L)}};B.T!==null?l(!0):x.isTransition=!1,h(x),l=i.pending,l===null?(x.next=i.pending=x,Dd(i,x)):(x.next=l.next,i.pending=l.next=x)}}function Dd(n,i){var l=i.action,h=i.payload,g=n.state;if(i.isTransition){var x=B.T,L={};B.T=L;try{var K=l(g,h),ge=B.S;ge!==null&&ge(L,K),lf(n,i,K)}catch(Le){ol(n,i,Le)}finally{x!==null&&L.types!==null&&(x.types=L.types),B.T=x}}else try{x=l(g,h),lf(n,i,x)}catch(Le){ol(n,i,Le)}}function lf(n,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Rd(n,i,h)},function(h){return ol(n,i,h)}):Rd(n,i,l)}function Rd(n,i,l){i.status="fulfilled",i.value=l,Ku(i),n.state=l,i=n.pending,i!==null&&(l=i.next,l===i?n.pending=null:(l=l.next,i.next=l,Dd(n,l)))}function ol(n,i,l){var h=n.pending;if(n.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=l,Ku(i),i=i.next;while(i!==h)}n.action=null}function Ku(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Kc(n,i){return i}function Sa(n,i){if(xn){var l=ur.formState;if(l!==null){e:{var h=Bt;if(xn){if(lr){t:{for(var g=lr,x=Nr;g.nodeType!==8;){if(!x){g=null;break t}if(g=Na(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){lr=Na(g.nextSibling),h=g.data==="F!";break e}}No(h)}h=!1}h&&(i=l[0])}}return l=rs(),l.memoizedState=l.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:i},l.queue=h,l=Z2.bind(null,Bt,h),h.dispatch=l,h=Lo(!1),x=o0.bind(null,Bt,!1,h.queue),h=rs(),g={state:i,dispatch:null,action:n,pending:null},h.queue=g,l=Od.bind(null,Bt,g,x,l),g.dispatch=l,h.memoizedState=n,[i,l,!1]}function Ka(n){var i=Cr();return Ja(i,zt,n)}function Ja(n,i,l){if(i=Zl(n,i,Kc)[0],n=$u(_a)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var h=Mo(i)}catch(L){throw L===ye?ce:L}else h=i;i=Cr();var g=i.queue,x=g.dispatch;return l!==i.memoizedState&&(Bt.flags|=2048,ll(9,{destroy:void 0},Ju.bind(null,g,l),null)),[h,x,n]}function Ju(n,i){n.action=i}function eh(n){var i=Cr(),l=zt;if(l!==null)return Ja(i,l,n);Cr(),i=i.memoizedState,l=Cr();var h=l.queue.dispatch;return l.memoizedState=n,[i,h,!1]}function ll(n,i,l,h){return n={tag:n,create:l,deps:h,inst:i,next:null},i=Bt.updateQueue,i===null&&(i=Qc(),Bt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=n.next=n:(h=l.next,l.next=n,n.next=h,i.lastEffect=n),n}function Id(){return Cr().memoizedState}function Ql(n,i,l,h){var g=rs();Bt.flags|=n,g.memoizedState=ll(1|i,{destroy:void 0},l,h===void 0?null:h)}function Kl(n,i,l,h){var g=Cr();h=h===void 0?null:h;var x=g.memoizedState.inst;zt!==null&&h!==null&&ef(h,zt.memoizedState.deps)?g.memoizedState=ll(i,x,l,h):(Bt.flags|=n,g.memoizedState=ll(1|i,x,l,h))}function I2(n,i){Ql(8390656,8,n,i)}function n0(n,i){Kl(2048,8,n,i)}function m_(n){Bt.flags|=4;var i=Bt.updateQueue;if(i===null)i=Qc(),Bt.updateQueue=i,i.events=[n];else{var l=i.events;l===null?i.events=[n]:l.push(n)}}function F2(n){var i=Cr().memoizedState;return m_({ref:i,nextImpl:n}),function(){if((Yn&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function V2(n,i){return Kl(4,2,n,i)}function B2(n,i){return Kl(4,4,n,i)}function q2(n,i){if(typeof i=="function"){n=n();var l=i(n);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function z2(n,i,l){l=l!=null?l.concat([n]):null,Kl(4,4,q2.bind(null,i,n),l)}function r0(){}function P2(n,i){var l=Cr();i=i===void 0?null:i;var h=l.memoizedState;return i!==null&&ef(i,h[1])?h[0]:(l.memoizedState=[n,i],n)}function U2(n,i){var l=Cr();i=i===void 0?null:i;var h=l.memoizedState;if(i!==null&&ef(i,h[1]))return h[0];if(h=n(),zs){Lt(!0);try{n()}finally{Lt(!1)}}return l.memoizedState=[h,i],h}function s0(n,i,l){return l===void 0||(Ar&1073741824)!==0&&(Sn&261930)===0?n.memoizedState=i:(n.memoizedState=l,n=Hb(),Bt.lanes|=n,tc|=n,l)}function H2(n,i,l,h){return ds(l,i)?l:vn.current!==null?(n=s0(n,l,h),ds(n,i)||(ss=!0),n):(Ar&42)===0||(Ar&1073741824)!==0&&(Sn&261930)===0?(ss=!0,n.memoizedState=l):(n=Hb(),Bt.lanes|=n,tc|=n,i)}function G2(n,i,l,h,g){var x=ie.p;ie.p=x!==0&&8>x?x:8;var L=B.T,K={};B.T=K,o0(n,!1,i,l);try{var ge=g(),Le=B.S;if(Le!==null&&Le(K,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Pe=U(ge,h);cf(n,i,Pe,na(n))}else cf(n,i,h,na(n))}catch(Ye){cf(n,i,{then:function(){},status:"rejected",reason:Ye},na())}finally{ie.p=x,L!==null&&K.types!==null&&(L.types=K.types),B.T=L}}function g_(){}function i0(n,i,l,h){if(n.tag!==5)throw Error(s(476));var g=W2(n).queue;G2(n,g,i,re,l===null?g_:function(){return Y2(n),l(h)})}function W2(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:re},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:l},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Y2(n){var i=W2(n);i.next===null&&(i=n.alternate.memoizedState),cf(n,i.next.queue,{},na())}function a0(){return bs(Cf)}function X2(){return Cr().memoizedState}function $2(){return Cr().memoizedState}function b_(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var l=na();n=Yt(l);var h=fn(i,n,l);h!==null&&(Oi(h,i,l),Gn(h,i,l)),i={cache:Xl()},n.payload=i;return}i=i.return}}function v_(n,i,l){var h=na();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fd(n)?Q2(i,l):(l=Ru(n,i,l,h),l!==null&&(Oi(l,n,h),K2(l,i,h)))}function Z2(n,i,l){var h=na();cf(n,i,l,h)}function cf(n,i,l,h){var g={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fd(n))Q2(i,g);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var L=i.lastRenderedState,K=x(L,l);if(g.hasEagerState=!0,g.eagerState=K,ds(K,L))return Hc(n,i,g,0),ur===null&&Uc(),!1}catch{}finally{}if(l=Ru(n,i,g,h),l!==null)return Oi(l,n,h),K2(l,i,h),!0}return!1}function o0(n,i,l,h){if(h={lane:2,revertLane:B0(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Fd(n)){if(i)throw Error(s(479))}else i=Ru(n,l,h,2),i!==null&&Oi(i,n,2)}function Fd(n){var i=n.alternate;return n===Bt||i!==null&&i===Bt}function Q2(n,i){ki=Qs=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function K2(n,i,l){if((l&4194048)!==0){var h=i.lanes;h&=n.pendingLanes,l|=h,i.lanes=l,bn(n,l)}}var uf={readContext:bs,use:$l,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useLayoutEffect:rr,useInsertionEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useSyncExternalStore:rr,useId:rr,useHostTransitionStatus:rr,useFormState:rr,useActionState:rr,useOptimistic:rr,useMemoCache:rr,useCacheRefresh:rr};uf.useEffectEvent=rr;var J2={readContext:bs,use:$l,useCallback:function(n,i){return rs().memoizedState=[n,i===void 0?null:i],n},useContext:bs,useEffect:I2,useImperativeHandle:function(n,i,l){l=l!=null?l.concat([n]):null,Ql(4194308,4,q2.bind(null,i,n),l)},useLayoutEffect:function(n,i){return Ql(4194308,4,n,i)},useInsertionEffect:function(n,i){Ql(4,2,n,i)},useMemo:function(n,i){var l=rs();i=i===void 0?null:i;var h=n();if(zs){Lt(!0);try{n()}finally{Lt(!1)}}return l.memoizedState=[h,i],h},useReducer:function(n,i,l){var h=rs();if(l!==void 0){var g=l(i);if(zs){Lt(!0);try{l(i)}finally{Lt(!1)}}}else g=i;return h.memoizedState=h.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},h.queue=n,n=n.dispatch=v_.bind(null,Bt,n),[h.memoizedState,n]},useRef:function(n){var i=rs();return n={current:n},i.memoizedState=n},useState:function(n){n=Lo(n);var i=n.queue,l=Z2.bind(null,Bt,i);return i.dispatch=l,[n.memoizedState,l]},useDebugValue:r0,useDeferredValue:function(n,i){var l=rs();return s0(l,n,i)},useTransition:function(){var n=Lo(!1);return n=G2.bind(null,Bt,n.queue,!0,!1),rs().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,l){var h=Bt,g=rs();if(xn){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),ur===null)throw Error(s(349));(Sn&127)!==0||Qa(h,i,l)}g.memoizedState=l;var x={value:l,getSnapshot:i};return g.queue=x,I2(af.bind(null,h,x,n),[n]),h.flags|=2048,ll(9,{destroy:void 0},sf.bind(null,h,x,l,i),null),l},useId:function(){var n=rs(),i=ur.identifierPrefix;if(xn){var l=Ci,h=Ai;l=(h&~(1<<32-It(h)-1)).toString(32)+l,i="_"+i+"R_"+l,l=zr++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=Wu++,i="_"+i+"r_"+l.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:a0,useFormState:Sa,useActionState:Sa,useOptimistic:function(n){var i=rs();i.memoizedState=i.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=o0.bind(null,Bt,!0,l),l.dispatch=i,[n,i]},useMemoCache:al,useCacheRefresh:function(){return rs().memoizedState=b_.bind(null,Bt)},useEffectEvent:function(n){var i=rs(),l={impl:n};return i.memoizedState=l,function(){if((Yn&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},l0={readContext:bs,use:$l,useCallback:P2,useContext:bs,useEffect:n0,useImperativeHandle:z2,useInsertionEffect:V2,useLayoutEffect:B2,useMemo:U2,useReducer:$u,useRef:Id,useState:function(){return $u(_a)},useDebugValue:r0,useDeferredValue:function(n,i){var l=Cr();return H2(l,zt.memoizedState,n,i)},useTransition:function(){var n=$u(_a)[0],i=Cr().memoizedState;return[typeof n=="boolean"?n:Mo(n),i]},useSyncExternalStore:Qu,useId:X2,useHostTransitionStatus:a0,useFormState:Ka,useActionState:Ka,useOptimistic:function(n,i){var l=Cr();return Ld(l,zt,n,i)},useMemoCache:al,useCacheRefresh:$2};l0.useEffectEvent=F2;var eb={readContext:bs,use:$l,useCallback:P2,useContext:bs,useEffect:n0,useImperativeHandle:z2,useInsertionEffect:V2,useLayoutEffect:B2,useMemo:U2,useReducer:Zu,useRef:Id,useState:function(){return Zu(_a)},useDebugValue:r0,useDeferredValue:function(n,i){var l=Cr();return zt===null?s0(l,n,i):H2(l,zt.memoizedState,n,i)},useTransition:function(){var n=Zu(_a)[0],i=Cr().memoizedState;return[typeof n=="boolean"?n:Mo(n),i]},useSyncExternalStore:Qu,useId:X2,useHostTransitionStatus:a0,useFormState:eh,useActionState:eh,useOptimistic:function(n,i){var l=Cr();return zt!==null?Ld(l,zt,n,i):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:al,useCacheRefresh:$2};eb.useEffectEvent=F2;function c0(n,i,l,h){i=n.memoizedState,l=l(h,i),l=l==null?i:y({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var u0={enqueueSetState:function(n,i,l){n=n._reactInternals;var h=na(),g=Yt(h);g.payload=i,l!=null&&(g.callback=l),i=fn(n,g,h),i!==null&&(Oi(i,n,h),Gn(i,n,h))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var h=na(),g=Yt(h);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=fn(n,g,h),i!==null&&(Oi(i,n,h),Gn(i,n,h))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=na(),h=Yt(l);h.tag=2,i!=null&&(h.callback=i),i=fn(n,h,l),i!==null&&(Oi(i,n,l),Gn(i,n,l))}};function tb(n,i,l,h,g,x,L){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,x,L):i.prototype&&i.prototype.isPureReactComponent?!Ha(l,h)||!Ha(g,x):!0}function nb(n,i,l,h){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==n&&u0.enqueueReplaceState(i,i.state,null)}function Jc(n,i){var l=i;if("ref"in i){l={};for(var h in i)h!=="ref"&&(l[h]=i[h])}if(n=n.defaultProps){l===i&&(l=y({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function rb(n){Pc(n)}function sb(n){console.error(n)}function ib(n){Pc(n)}function Vd(n,i){try{var l=n.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function ab(n,i,l){try{var h=n.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function h0(n,i,l){return l=Yt(l),l.tag=3,l.payload={element:null},l.callback=function(){Vd(n,i)},l}function ob(n){return n=Yt(n),n.tag=3,n}function lb(n,i,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var x=h.value;n.payload=function(){return g(x)},n.callback=function(){ab(i,l,h)}}var L=l.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(n.callback=function(){ab(i,l,h),typeof g!="function"&&(nc===null?nc=new Set([this]):nc.add(this));var K=h.stack;this.componentDidCatch(h.value,{componentStack:K!==null?K:""})})}function y_(n,i,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=l.alternate,i!==null&&To(i,l,g,!0),l=vr.current,l!==null){switch(l.tag){case 31:case 13:return In===null?Zd():l.alternate===null&&Pr===0&&(Pr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===we?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([h]):i.add(h),I0(n,h,g)),!1;case 22:return l.flags|=65536,h===we?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([h]):l.add(h)),I0(n,h,g)),!1}throw Error(s(435,l.tag))}return I0(n,h,g),Zd(),!1}if(xn)return i=vr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,h!==Ji&&(n=Error(s(422),{cause:h}),Wl(_i(n,l)))):(h!==Ji&&(i=Error(s(423),{cause:h}),Wl(_i(i,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,h=_i(h,l),g=h0(n.stateNode,h,g),Xr(n,g),Pr!==4&&(Pr=2)),!1;var x=Error(s(520),{cause:h});if(x=_i(x,l),vf===null?vf=[x]:vf.push(x),Pr!==4&&(Pr=2),i===null)return!0;h=_i(h,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=h0(l.stateNode,h,n),Xr(l,n),!1;case 1:if(i=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(nc===null||!nc.has(x))))return l.flags|=65536,g&=-g,l.lanes|=g,g=ob(g),lb(g,n,l,h),Xr(l,g),!1}l=l.return}while(l!==null);return!1}var f0=Error(s(461)),ss=!1;function Ps(n,i,l,h){i.child=n===null?cn(i,null,l,h):cr(i,n.child,l,h)}function cb(n,i,l,h,g){l=l.render;var x=i.ref;if("ref"in h){var L={};for(var K in h)K!=="ref"&&(L[K]=h[K])}else L=h;return ko(i),h=tf(n,i,l,L,x,g),K=nf(),n!==null&&!ss?(rf(n,i,g),cl(n,i,g)):(xn&&K&&Qh(i),i.flags|=1,Ps(n,i,h,g),i.child)}function ub(n,i,l,h,g){if(n===null){var x=l.type;return typeof x=="function"&&!Fu(x)&&x.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=x,hb(n,i,x,h,g)):(n=Ul(l.type,null,h,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(x=n.child,!x0(n,g)){var L=x.memoizedProps;if(l=l.compare,l=l!==null?l:Ha,l(L,h)&&n.ref===i.ref)return cl(n,i,g)}return i.flags|=1,n=wi(x,h),n.ref=i.ref,n.return=i,i.child=n}function hb(n,i,l,h,g){if(n!==null){var x=n.memoizedProps;if(Ha(x,h)&&n.ref===i.ref)if(ss=!1,i.pendingProps=h=x,x0(n,g))(n.flags&131072)!==0&&(ss=!0);else return i.lanes=n.lanes,cl(n,i,g)}return d0(n,i,l,h,g)}function fb(n,i,l,h){var g=h.children,x=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((i.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,n!==null){for(h=i.child=n.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~x}else h=0,i.child=null;return db(n,i,x,l,h)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&se(i,x!==null?x.cachePool:null),x!==null?br(i,x):qn(),Br(i);else return h=i.lanes=536870912,db(n,i,x!==null?x.baseLanes|l:l,l,h)}else x!==null?(se(i,x.cachePool),br(i,x),qr(),i.memoizedState=null):(n!==null&&se(i,null),qn(),qr());return Ps(n,i,g,l),i.child}function hf(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function db(n,i,l,h,g){var x=ne();return x=x===null?null:{parent:Or._currentValue,pool:x},i.memoizedState={baseLanes:l,cachePool:x},n!==null&&se(i,null),qn(),Br(i),n!==null&&To(n,i,h,!0),i.childLanes=g,null}function Bd(n,i){return i=zd({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function pb(n,i,l){return cr(i,n.child,null,l),n=Bd(i,i.pendingProps),n.flags|=2,Zn(i),i.memoizedState=null,n}function x_(n,i,l){var h=i.pendingProps,g=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(xn){if(h.mode==="hidden")return n=Bd(i,h),i.lanes=536870912,hf(null,n);if(Wn(i),(n=lr)?(n=Cv(n,Nr),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:So!==null?{id:Ai,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},l=Vu(n),l.return=i,i.child=l,ms=i,lr=null)):n=null,n===null)throw No(i);return i.lanes=536870912,null}return Bd(i,h)}var x=n.memoizedState;if(x!==null){var L=x.dehydrated;if(Wn(i),g)if(i.flags&256)i.flags&=-257,i=pb(n,i,l);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(s(558));else if(ss||To(n,i,l,!1),g=(l&n.childLanes)!==0,ss||g){if(h=ur,h!==null&&(L=dn(h,l),L!==0&&L!==x.retryLane))throw x.retryLane=L,Xa(n,L),Oi(h,n,L),f0;Zd(),i=pb(n,i,l)}else n=x.treeContext,lr=Na(L.nextSibling),ms=i,xn=!0,qs=null,Nr=!1,n!==null&&Ed(i,n),i=Bd(i,h),i.flags|=4096;return i}return n=wi(n.child,{mode:h.mode,children:h.children}),n.ref=i.ref,i.child=n,n.return=i,n}function qd(n,i){var l=i.ref;if(l===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(n===null||n.ref!==l)&&(i.flags|=4194816)}}function d0(n,i,l,h,g){return ko(i),l=tf(n,i,l,h,void 0,g),h=nf(),n!==null&&!ss?(rf(n,i,g),cl(n,i,g)):(xn&&h&&Qh(i),i.flags|=1,Ps(n,i,l,g),i.child)}function mb(n,i,l,h,g,x){return ko(i),i.updateQueue=null,l=Za(i,h,l,g),Yu(n),h=nf(),n!==null&&!ss?(rf(n,i,x),cl(n,i,x)):(xn&&h&&Qh(i),i.flags|=1,Ps(n,i,l,x),i.child)}function gb(n,i,l,h,g){if(ko(i),i.stateNode===null){var x=ps,L=l.contextType;typeof L=="object"&&L!==null&&(x=bs(L)),x=new l(h,x),i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=u0,i.stateNode=x,x._reactInternals=i,x=i.stateNode,x.props=h,x.state=i.memoizedState,x.refs={},dt(i),L=l.contextType,x.context=typeof L=="object"&&L!==null?bs(L):ps,x.state=i.memoizedState,L=l.getDerivedStateFromProps,typeof L=="function"&&(c0(i,l,L,h),x.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(L=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),L!==x.state&&u0.enqueueReplaceState(x,x.state,null),Fr(i,h,x,g),nr(),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(n===null){x=i.stateNode;var K=i.memoizedProps,ge=Jc(l,K);x.props=ge;var Le=x.context,Pe=l.contextType;L=ps,typeof Pe=="object"&&Pe!==null&&(L=bs(Pe));var Ye=l.getDerivedStateFromProps;Pe=typeof Ye=="function"||typeof x.getSnapshotBeforeUpdate=="function",K=i.pendingProps!==K,Pe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(K||Le!==L)&&nb(i,x,h,L),_t=!1;var Re=i.memoizedState;x.state=Re,Fr(i,h,x,g),nr(),Le=i.memoizedState,K||Re!==Le||_t?(typeof Ye=="function"&&(c0(i,l,Ye,h),Le=i.memoizedState),(ge=_t||tb(i,l,ge,h,Re,Le,L))?(Pe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=Le),x.props=h,x.state=Le,x.context=L,h=ge):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{x=i.stateNode,gr(n,i),L=i.memoizedProps,Pe=Jc(l,L),x.props=Pe,Ye=i.pendingProps,Re=x.context,Le=l.contextType,ge=ps,typeof Le=="object"&&Le!==null&&(ge=bs(Le)),K=l.getDerivedStateFromProps,(Le=typeof K=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==Ye||Re!==ge)&&nb(i,x,h,ge),_t=!1,Re=i.memoizedState,x.state=Re,Fr(i,h,x,g),nr();var Ve=i.memoizedState;L!==Ye||Re!==Ve||_t||n!==null&&n.dependencies!==null&&Uu(n.dependencies)?(typeof K=="function"&&(c0(i,l,K,h),Ve=i.memoizedState),(Pe=_t||tb(i,l,Pe,h,Re,Ve,ge)||n!==null&&n.dependencies!==null&&Uu(n.dependencies))?(Le||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,Ve,ge),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,Ve,ge)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===n.memoizedProps&&Re===n.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&Re===n.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Ve),x.props=h,x.state=Ve,x.context=ge,h=Pe):(typeof x.componentDidUpdate!="function"||L===n.memoizedProps&&Re===n.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&Re===n.memoizedState||(i.flags|=1024),h=!1)}return x=h,qd(n,i),h=(i.flags&128)!==0,x||h?(x=i.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:x.render(),i.flags|=1,n!==null&&h?(i.child=cr(i,n.child,null,g),i.child=cr(i,null,l,g)):Ps(n,i,l,g),i.memoizedState=x.state,n=i.child):n=cl(n,i,g),n}function bb(n,i,l,h){return sl(),i.flags|=256,Ps(n,i,l,h),i.child}var p0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function m0(n){return{baseLanes:n,cachePool:ue()}}function g0(n,i,l){return n=n!==null?n.childLanes&~l:0,i&&(n|=ta),n}function vb(n,i,l){var h=i.pendingProps,g=!1,x=(i.flags&128)!==0,L;if((L=x)||(L=n!==null&&n.memoizedState===null?!1:(On.current&2)!==0),L&&(g=!0,i.flags&=-129),L=(i.flags&32)!==0,i.flags&=-33,n===null){if(xn){if(g?Dr(i):qr(),(n=lr)?(n=Cv(n,Nr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:So!==null?{id:Ai,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},l=Vu(n),l.return=i,i.child=l,ms=i,lr=null)):n=null,n===null)throw No(i);return K0(n)?i.lanes=32:i.lanes=536870912,null}var K=h.children;return h=h.fallback,g?(qr(),g=i.mode,K=zd({mode:"hidden",children:K},g),h=_o(h,g,l,null),K.return=i,h.return=i,K.sibling=h,i.child=K,h=i.child,h.memoizedState=m0(l),h.childLanes=g0(n,L,l),i.memoizedState=p0,hf(null,h)):(Dr(i),b0(i,K))}var ge=n.memoizedState;if(ge!==null&&(K=ge.dehydrated,K!==null)){if(x)i.flags&256?(Dr(i),i.flags&=-257,i=v0(n,i,l)):i.memoizedState!==null?(qr(),i.child=n.child,i.flags|=128,i=null):(qr(),K=h.fallback,g=i.mode,h=zd({mode:"visible",children:h.children},g),K=_o(K,g,l,null),K.flags|=2,h.return=i,K.return=i,h.sibling=K,i.child=h,cr(i,n.child,null,l),h=i.child,h.memoizedState=m0(l),h.childLanes=g0(n,L,l),i.memoizedState=p0,i=hf(null,h));else if(Dr(i),K0(K)){if(L=K.nextSibling&&K.nextSibling.dataset,L)var Le=L.dgst;L=Le,h=Error(s(419)),h.stack="",h.digest=L,Wl({value:h,source:null,stack:null}),i=v0(n,i,l)}else if(ss||To(n,i,l,!1),L=(l&n.childLanes)!==0,ss||L){if(L=ur,L!==null&&(h=dn(L,l),h!==0&&h!==ge.retryLane))throw ge.retryLane=h,Xa(n,h),Oi(L,n,h),f0;Q0(K)||Zd(),i=v0(n,i,l)}else Q0(K)?(i.flags|=192,i.child=n.child,i=null):(n=ge.treeContext,lr=Na(K.nextSibling),ms=i,xn=!0,qs=null,Nr=!1,n!==null&&Ed(i,n),i=b0(i,h.children),i.flags|=4096);return i}return g?(qr(),K=h.fallback,g=i.mode,ge=n.child,Le=ge.sibling,h=wi(ge,{mode:"hidden",children:h.children}),h.subtreeFlags=ge.subtreeFlags&65011712,Le!==null?K=wi(Le,K):(K=_o(K,g,l,null),K.flags|=2),K.return=i,h.return=i,h.sibling=K,i.child=h,hf(null,h),h=i.child,K=n.child.memoizedState,K===null?K=m0(l):(g=K.cachePool,g!==null?(ge=Or._currentValue,g=g.parent!==ge?{parent:ge,pool:ge}:g):g=ue(),K={baseLanes:K.baseLanes|l,cachePool:g}),h.memoizedState=K,h.childLanes=g0(n,L,l),i.memoizedState=p0,hf(n.child,h)):(Dr(i),l=n.child,n=l.sibling,l=wi(l,{mode:"visible",children:h.children}),l.return=i,l.sibling=null,n!==null&&(L=i.deletions,L===null?(i.deletions=[n],i.flags|=16):L.push(n)),i.child=l,i.memoizedState=null,l)}function b0(n,i){return i=zd({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function zd(n,i){return n=Ts(22,n,null,i),n.lanes=0,n}function v0(n,i,l){return cr(i,n.child,null,l),n=b0(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function yb(n,i,l){n.lanes|=i;var h=n.alternate;h!==null&&(h.lanes|=i),Yl(n.return,i,l)}function y0(n,i,l,h,g,x){var L=n.memoizedState;L===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g,treeForkCount:x}:(L.isBackwards=i,L.rendering=null,L.renderingStartTime=0,L.last=h,L.tail=l,L.tailMode=g,L.treeForkCount=x)}function xb(n,i,l){var h=i.pendingProps,g=h.revealOrder,x=h.tail;h=h.children;var L=On.current,K=(L&2)!==0;if(K?(L=L&1|2,i.flags|=128):L&=1,z(On,L),Ps(n,i,h,l),h=xn?Xc:0,!K&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&yb(n,l,i);else if(n.tag===19)yb(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=i.child,g=null;l!==null;)n=l.alternate,n!==null&&Es(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),y0(i,!1,g,l,x,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&Es(n)===null){i.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}y0(i,!0,l,null,x,h);break;case"together":y0(i,!1,null,null,void 0,h);break;default:i.memoizedState=null}return i.child}function cl(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),tc|=i.lanes,(l&i.childLanes)===0)if(n!==null){if(To(n,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,l=wi(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=wi(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function x0(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Uu(n)))}function w_(n,i,l){switch(i.tag){case 3:pe(i,i.stateNode.containerInfo),Co(i,Or,n.memoizedState.cache),sl();break;case 27:case 5:_e(i);break;case 4:pe(i,i.stateNode.containerInfo);break;case 10:Co(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Wn(i),null;break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(Dr(i),i.flags|=128,null):(l&i.child.childLanes)!==0?vb(n,i,l):(Dr(i),n=cl(n,i,l),n!==null?n.sibling:null);Dr(i);break;case 19:var g=(n.flags&128)!==0;if(h=(l&i.childLanes)!==0,h||(To(n,i,l,!1),h=(l&i.childLanes)!==0),g){if(h)return xb(n,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),z(On,On.current),h)break;return null;case 22:return i.lanes=0,fb(n,i,l,i.pendingProps);case 24:Co(i,Or,n.memoizedState.cache)}return cl(n,i,l)}function wb(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps)ss=!0;else{if(!x0(n,l)&&(i.flags&128)===0)return ss=!1,w_(n,i,l);ss=(n.flags&131072)!==0}else ss=!1,xn&&(i.flags&1048576)!==0&&kd(i,Xc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var h=i.pendingProps;if(n=ke(i.elementType),i.type=n,typeof n=="function")Fu(n)?(h=Jc(n,h),i.tag=1,i=gb(null,i,n,h,l)):(i.tag=0,i=d0(null,i,n,h,l));else{if(n!=null){var g=n.$$typeof;if(g===q){i.tag=11,i=cb(null,i,n,h,l);break e}else if(g===H){i.tag=14,i=ub(null,i,n,h,l);break e}}throw i=$(n)||n,Error(s(306,i,""))}}return i;case 0:return d0(n,i,i.type,i.pendingProps,l);case 1:return h=i.type,g=Jc(h,i.pendingProps),gb(n,i,h,g,l);case 3:e:{if(pe(i,i.stateNode.containerInfo),n===null)throw Error(s(387));h=i.pendingProps;var x=i.memoizedState;g=x.element,gr(n,i),Fr(i,h,null,l);var L=i.memoizedState;if(h=L.cache,Co(i,Or,h),h!==x.cache&&il(i,[Or],l,!0),nr(),h=L.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:L.cache},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){i=bb(n,i,h,l);break e}else if(h!==g){g=_i(Error(s(424)),i),Wl(g),i=bb(n,i,h,l);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(lr=Na(n.firstChild),ms=i,xn=!0,qs=null,Nr=!0,l=cn(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(sl(),h===g){i=cl(n,i,l);break e}Ps(n,i,h,l)}i=i.child}return i;case 26:return qd(n,i),n===null?(l=Lv(i.type,null,i.pendingProps,null))?i.memoizedState=l:xn||(l=i.type,n=i.pendingProps,h=r1(oe.current).createElement(l),h[Ft]=i,h[Et]=n,Us(h,l,n),Pn(h),i.stateNode=h):i.memoizedState=Lv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return _e(i),n===null&&xn&&(h=i.stateNode=Ev(i.type,i.pendingProps,oe.current),ms=i,Nr=!0,g=lr,ac(i.type)?(J0=g,lr=Na(h.firstChild)):lr=g),Ps(n,i,i.pendingProps.children,l),qd(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&xn&&((g=h=lr)&&(h=Q_(h,i.type,i.pendingProps,Nr),h!==null?(i.stateNode=h,ms=i,lr=Na(h.firstChild),Nr=!1,g=!0):g=!1),g||No(i)),_e(i),g=i.type,x=i.pendingProps,L=n!==null?n.memoizedProps:null,h=x.children,X0(g,x)?h=null:L!==null&&X0(g,L)&&(i.flags|=32),i.memoizedState!==null&&(g=tf(n,i,t0,null,null,l),Cf._currentValue=g),qd(n,i),Ps(n,i,h,l),i.child;case 6:return n===null&&xn&&((n=l=lr)&&(l=K_(l,i.pendingProps,Nr),l!==null?(i.stateNode=l,ms=i,lr=null,n=!0):n=!1),n||No(i)),null;case 13:return vb(n,i,l);case 4:return pe(i,i.stateNode.containerInfo),h=i.pendingProps,n===null?i.child=cr(i,null,h,l):Ps(n,i,h,l),i.child;case 11:return cb(n,i,i.type,i.pendingProps,l);case 7:return Ps(n,i,i.pendingProps,l),i.child;case 8:return Ps(n,i,i.pendingProps.children,l),i.child;case 12:return Ps(n,i,i.pendingProps.children,l),i.child;case 10:return h=i.pendingProps,Co(i,i.type,h.value),Ps(n,i,h.children,l),i.child;case 9:return g=i.type._context,h=i.pendingProps.children,ko(i),g=bs(g),h=h(g),i.flags|=1,Ps(n,i,h,l),i.child;case 14:return ub(n,i,i.type,i.pendingProps,l);case 15:return hb(n,i,i.type,i.pendingProps,l);case 19:return xb(n,i,l);case 31:return x_(n,i,l);case 22:return fb(n,i,l,i.pendingProps);case 24:return ko(i),h=bs(Or),n===null?(g=ne(),g===null&&(g=ur,x=Xl(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=l),g=x),i.memoizedState={parent:h,cache:g},dt(i),Co(i,Or,g)):((n.lanes&l)!==0&&(gr(n,i),Fr(i,null,null,l),nr()),g=n.memoizedState,x=i.memoizedState,g.parent!==h?(g={parent:h,cache:h},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Co(i,Or,h)):(h=x.cache,Co(i,Or,h),h!==g.cache&&il(i,[Or],l,!0))),Ps(n,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ul(n){n.flags|=4}function w0(n,i,l,h,g){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(Xb())n.flags|=8192;else throw Be=we,Ee}else n.flags&=-16777217}function _b(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Fv(i))if(Xb())n.flags|=8192;else throw Be=we,Ee}function Pd(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?vt():536870912,n.lanes|=i,sh|=i)}function ff(n,i){if(!xn)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function yr(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,h=0;if(i)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=h,n.childLanes=l,i}function __(n,i,l){var h=i.pendingProps;switch(zu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(i),null;case 1:return yr(i),null;case 3:return l=i.stateNode,h=null,n!==null&&(h=n.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),Ti(Or),ve(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(gs(i)?ul(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Jh())),yr(i),null;case 26:var g=i.type,x=i.memoizedState;return n===null?(ul(i),x!==null?(yr(i),_b(i,x)):(yr(i),w0(i,g,null,h,l))):x?x!==n.memoizedState?(ul(i),yr(i),_b(i,x)):(yr(i),i.flags&=-16777217):(n=n.memoizedProps,n!==h&&ul(i),yr(i),w0(i,g,n,h,l)),null;case 27:if(qe(i),l=oe.current,g=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==h&&ul(i);else{if(!h){if(i.stateNode===null)throw Error(s(166));return yr(i),null}n=ee.current,gs(i)?Kh(i):(n=Ev(g,h,l),i.stateNode=n,ul(i))}return yr(i),null;case 5:if(qe(i),g=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==h&&ul(i);else{if(!h){if(i.stateNode===null)throw Error(s(166));return yr(i),null}if(x=ee.current,gs(i))Kh(i);else{var L=r1(oe.current);switch(x){case 1:x=L.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:x=L.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":x=L.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":x=L.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":x=L.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?L.createElement("select",{is:h.is}):L.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?L.createElement(g,{is:h.is}):L.createElement(g)}}x[Ft]=i,x[Et]=h;e:for(L=i.child;L!==null;){if(L.tag===5||L.tag===6)x.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===i)break e;for(;L.sibling===null;){if(L.return===null||L.return===i)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}i.stateNode=x;e:switch(Us(x,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ul(i)}}return yr(i),w0(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,l),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==h&&ul(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(s(166));if(n=oe.current,gs(i)){if(n=i.stateNode,l=i.memoizedProps,h=null,g=ms,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}n[Ft]=i,n=!!(n.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||vv(n.nodeValue,l)),n||No(i,!0)}else n=r1(n).createTextNode(h),n[Ft]=i,i.stateNode=n}return yr(i),null;case 31:if(l=i.memoizedState,n===null||n.memoizedState!==null){if(h=gs(i),l!==null){if(n===null){if(!h)throw Error(s(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[Ft]=i}else sl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yr(i),n=!1}else l=Jh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return i.flags&256?(Zn(i),i):(Zn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return yr(i),null;case 13:if(h=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=gs(i),h!==null&&h.dehydrated!==null){if(n===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Ft]=i}else sl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yr(i),g=!1}else g=Jh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Zn(i),i):(Zn(i),null)}return Zn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=h!==null,n=n!==null&&n.memoizedState!==null,l&&(h=i.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==g&&(h.flags|=2048)),l!==n&&l&&(i.child.flags|=8192),Pd(i,i.updateQueue),yr(i),null);case 4:return ve(),n===null&&U0(i.stateNode.containerInfo),yr(i),null;case 10:return Ti(i.type),yr(i),null;case 19:if(j(On),h=i.memoizedState,h===null)return yr(i),null;if(g=(i.flags&128)!==0,x=h.rendering,x===null)if(g)ff(h,!1);else{if(Pr!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(x=Es(n),x!==null){for(i.flags|=128,ff(h,!1),n=x.updateQueue,i.updateQueue=n,Pd(i,n),i.subtreeFlags=0,n=l,l=i.child;l!==null;)Wc(l,n),l=l.sibling;return z(On,On.current&1|2),xn&&fi(i,h.treeForkCount),i.child}n=n.sibling}h.tail!==null&&$e()>Yd&&(i.flags|=128,g=!0,ff(h,!1),i.lanes=4194304)}else{if(!g)if(n=Es(x),n!==null){if(i.flags|=128,g=!0,n=n.updateQueue,i.updateQueue=n,Pd(i,n),ff(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!xn)return yr(i),null}else 2*$e()-h.renderingStartTime>Yd&&l!==536870912&&(i.flags|=128,g=!0,ff(h,!1),i.lanes=4194304);h.isBackwards?(x.sibling=i.child,i.child=x):(n=h.last,n!==null?n.sibling=x:i.child=x,h.last=x)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=$e(),n.sibling=null,l=On.current,z(On,g?l&1|2:l&1),xn&&fi(i,h.treeForkCount),n):(yr(i),null);case 22:case 23:return Zn(i),$r(),h=i.memoizedState!==null,n!==null?n.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(l&536870912)!==0&&(i.flags&128)===0&&(yr(i),i.subtreeFlags&6&&(i.flags|=8192)):yr(i),l=i.updateQueue,l!==null&&Pd(i,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==l&&(i.flags|=2048),n!==null&&j(Z),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ti(Or),yr(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function S_(n,i){switch(zu(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ti(Or),ve(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return qe(i),null;case 31:if(i.memoizedState!==null){if(Zn(i),i.alternate===null)throw Error(s(340));sl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(Zn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));sl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return j(On),null;case 4:return ve(),null;case 10:return Ti(i.type),null;case 22:case 23:return Zn(i),$r(),n!==null&&j(Z),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ti(Or),null;case 25:return null;default:return null}}function Sb(n,i){switch(zu(i),i.tag){case 3:Ti(Or),ve();break;case 26:case 27:case 5:qe(i);break;case 4:ve();break;case 31:i.memoizedState!==null&&Zn(i);break;case 13:Zn(i);break;case 19:j(On);break;case 10:Ti(i.type);break;case 22:case 23:Zn(i),$r(),n!==null&&j(Z);break;case 24:Ti(Or)}}function df(n,i){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&n)===n){h=void 0;var x=l.create,L=l.inst;h=x(),L.destroy=h}l=l.next}while(l!==g)}}catch(K){Kn(i,i.return,K)}}function Jl(n,i,l){try{var h=i.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var x=g.next;h=x;do{if((h.tag&n)===n){var L=h.inst,K=L.destroy;if(K!==void 0){L.destroy=void 0,g=i;var ge=l,Le=K;try{Le()}catch(Pe){Kn(g,ge,Pe)}}}h=h.next}while(h!==x)}}catch(Pe){Kn(i,i.return,Pe)}}function Nb(n){var i=n.updateQueue;if(i!==null){var l=n.stateNode;try{Vr(i,l)}catch(h){Kn(n,n.return,h)}}}function Ab(n,i,l){l.props=Jc(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(h){Kn(n,i,h)}}function pf(n,i){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var h=n.stateNode;break;case 30:h=n.stateNode;break;default:h=n.stateNode}typeof l=="function"?n.refCleanup=l(h):l.current=h}}catch(g){Kn(n,i,g)}}function Oo(n,i){var l=n.ref,h=n.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Kn(n,i,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Kn(n,i,g)}else l.current=null}function Cb(n){var i=n.type,l=n.memoizedProps,h=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Kn(n,n.return,g)}}function _0(n,i,l){try{var h=n.stateNode;G_(h,n.type,l,i),h[Et]=i}catch(g){Kn(n,n.return,g)}}function Tb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ac(n.type)||n.tag===4}function S0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Tb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ac(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function N0(n,i,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(n),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Yi));else if(h!==4&&(h===27&&ac(n.type)&&(l=n.stateNode,i=null),n=n.child,n!==null))for(N0(n,i,l),n=n.sibling;n!==null;)N0(n,i,l),n=n.sibling}function Ud(n,i,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(h!==4&&(h===27&&ac(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Ud(n,i,l),n=n.sibling;n!==null;)Ud(n,i,l),n=n.sibling}function kb(n){var i=n.stateNode,l=n.memoizedProps;try{for(var h=n.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Us(i,h,l),i[Ft]=n,i[Et]=l}catch(x){Kn(n,n.return,x)}}var hl=!1,is=!1,A0=!1,Eb=typeof WeakSet=="function"?WeakSet:Set,js=null;function N_(n,i){if(n=n.containerInfo,W0=u1,n=Wa(n),ya(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var L=0,K=-1,ge=-1,Le=0,Pe=0,Ye=n,Re=null;t:for(;;){for(var Ve;Ye!==l||g!==0&&Ye.nodeType!==3||(K=L+g),Ye!==x||h!==0&&Ye.nodeType!==3||(ge=L+h),Ye.nodeType===3&&(L+=Ye.nodeValue.length),(Ve=Ye.firstChild)!==null;)Re=Ye,Ye=Ve;for(;;){if(Ye===n)break t;if(Re===l&&++Le===g&&(K=L),Re===x&&++Pe===h&&(ge=L),(Ve=Ye.nextSibling)!==null)break;Ye=Re,Re=Ye.parentNode}Ye=Ve}l=K===-1||ge===-1?null:{start:K,end:ge}}else l=null}l=l||{start:0,end:0}}else l=null;for(Y0={focusedElem:n,selectionRange:l},u1=!1,js=i;js!==null;)if(i=js,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,js=n;else for(;js!==null;){switch(i=js,x=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,l=i,g=x.memoizedProps,x=x.memoizedState,h=l.stateNode;try{var Tt=Jc(l.type,g);n=h.getSnapshotBeforeUpdate(Tt,x),h.__reactInternalSnapshotBeforeUpdate=n}catch($t){Kn(l,l.return,$t)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,l=n.nodeType,l===9)Z0(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Z0(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,js=n;break}js=i.return}}function jb(n,i,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:dl(n,l),h&4&&df(5,l);break;case 1:if(dl(n,l),h&4)if(n=l.stateNode,i===null)try{n.componentDidMount()}catch(L){Kn(l,l.return,L)}else{var g=Jc(l.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(g,i,n.__reactInternalSnapshotBeforeUpdate)}catch(L){Kn(l,l.return,L)}}h&64&&Nb(l),h&512&&pf(l,l.return);break;case 3:if(dl(n,l),h&64&&(n=l.updateQueue,n!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Vr(n,i)}catch(L){Kn(l,l.return,L)}}break;case 27:i===null&&h&4&&kb(l);case 26:case 5:dl(n,l),i===null&&h&4&&Cb(l),h&512&&pf(l,l.return);break;case 12:dl(n,l);break;case 31:dl(n,l),h&4&&Ob(n,l);break;case 13:dl(n,l),h&4&&Db(n,l),h&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=O_.bind(null,l),J_(n,l))));break;case 22:if(h=l.memoizedState!==null||hl,!h){i=i!==null&&i.memoizedState!==null||is,g=hl;var x=is;hl=h,(is=i)&&!x?pl(n,l,(l.subtreeFlags&8772)!==0):dl(n,l),hl=g,is=x}break;case 30:break;default:dl(n,l)}}function Mb(n){var i=n.alternate;i!==null&&(n.alternate=null,Mb(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&En(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Tr=null,Ei=!1;function fl(n,i,l){for(l=l.child;l!==null;)Lb(n,i,l),l=l.sibling}function Lb(n,i,l){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Gt,l)}catch{}switch(l.tag){case 26:is||Oo(l,i),fl(n,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:is||Oo(l,i);var h=Tr,g=Ei;ac(l.type)&&(Tr=l.stateNode,Ei=!1),fl(n,i,l),Sf(l.stateNode),Tr=h,Ei=g;break;case 5:is||Oo(l,i);case 6:if(h=Tr,g=Ei,Tr=null,fl(n,i,l),Tr=h,Ei=g,Tr!==null)if(Ei)try{(Tr.nodeType===9?Tr.body:Tr.nodeName==="HTML"?Tr.ownerDocument.body:Tr).removeChild(l.stateNode)}catch(x){Kn(l,i,x)}else try{Tr.removeChild(l.stateNode)}catch(x){Kn(l,i,x)}break;case 18:Tr!==null&&(Ei?(n=Tr,Nv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),fh(n)):Nv(Tr,l.stateNode));break;case 4:h=Tr,g=Ei,Tr=l.stateNode.containerInfo,Ei=!0,fl(n,i,l),Tr=h,Ei=g;break;case 0:case 11:case 14:case 15:Jl(2,l,i),is||Jl(4,l,i),fl(n,i,l);break;case 1:is||(Oo(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Ab(l,i,h)),fl(n,i,l);break;case 21:fl(n,i,l);break;case 22:is=(h=is)||l.memoizedState!==null,fl(n,i,l),is=h;break;default:fl(n,i,l)}}function Ob(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{fh(n)}catch(l){Kn(i,i.return,l)}}}function Db(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{fh(n)}catch(l){Kn(i,i.return,l)}}function A_(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Eb),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Eb),i;default:throw Error(s(435,n.tag))}}function Hd(n,i){var l=A_(n);i.forEach(function(h){if(!l.has(h)){l.add(h);var g=D_.bind(null,n,h);h.then(g,g)}})}function ji(n,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],x=n,L=i,K=L;e:for(;K!==null;){switch(K.tag){case 27:if(ac(K.type)){Tr=K.stateNode,Ei=!1;break e}break;case 5:Tr=K.stateNode,Ei=!1;break e;case 3:case 4:Tr=K.stateNode.containerInfo,Ei=!0;break e}K=K.return}if(Tr===null)throw Error(s(160));Lb(x,L,g),Tr=null,Ei=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Rb(i,n),i=i.sibling}var eo=null;function Rb(n,i){var l=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ji(i,n),Mi(n),h&4&&(Jl(3,n,n.return),df(3,n),Jl(5,n,n.return));break;case 1:ji(i,n),Mi(n),h&512&&(is||l===null||Oo(l,l.return)),h&64&&hl&&(n=n.updateQueue,n!==null&&(h=n.callbacks,h!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=eo;if(ji(i,n),Mi(n),h&512&&(is||l===null||Oo(l,l.return)),h&4){var x=l!==null?l.memoizedState:null;if(h=n.memoizedState,l===null)if(h===null)if(n.stateNode===null){e:{h=n.type,l=n.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":x=g.getElementsByTagName("title")[0],(!x||x[kn]||x[Ft]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(h),g.head.insertBefore(x,g.querySelector("head > title"))),Us(x,h,l),x[Ft]=n,Pn(x),h=x;break e;case"link":var L=Rv("link","href",g).get(h+(l.href||""));if(L){for(var K=0;K<L.length;K++)if(x=L[K],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){L.splice(K,1);break t}}x=g.createElement(h),Us(x,h,l),g.head.appendChild(x);break;case"meta":if(L=Rv("meta","content",g).get(h+(l.content||""))){for(K=0;K<L.length;K++)if(x=L[K],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){L.splice(K,1);break t}}x=g.createElement(h),Us(x,h,l),g.head.appendChild(x);break;default:throw Error(s(468,h))}x[Ft]=n,Pn(x),h=x}n.stateNode=h}else Iv(g,n.type,n.stateNode);else n.stateNode=Dv(g,h,n.memoizedProps);else x!==h?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,h===null?Iv(g,n.type,n.stateNode):Dv(g,h,n.memoizedProps)):h===null&&n.stateNode!==null&&_0(n,n.memoizedProps,l.memoizedProps)}break;case 27:ji(i,n),Mi(n),h&512&&(is||l===null||Oo(l,l.return)),l!==null&&h&4&&_0(n,n.memoizedProps,l.memoizedProps);break;case 5:if(ji(i,n),Mi(n),h&512&&(is||l===null||Oo(l,l.return)),n.flags&32){g=n.stateNode;try{Wi(g,"")}catch(Tt){Kn(n,n.return,Tt)}}h&4&&n.stateNode!=null&&(g=n.memoizedProps,_0(n,g,l!==null?l.memoizedProps:g)),h&1024&&(A0=!0);break;case 6:if(ji(i,n),Mi(n),h&4){if(n.stateNode===null)throw Error(s(162));h=n.memoizedProps,l=n.stateNode;try{l.nodeValue=h}catch(Tt){Kn(n,n.return,Tt)}}break;case 3:if(a1=null,g=eo,eo=s1(i.containerInfo),ji(i,n),eo=g,Mi(n),h&4&&l!==null&&l.memoizedState.isDehydrated)try{fh(i.containerInfo)}catch(Tt){Kn(n,n.return,Tt)}A0&&(A0=!1,Ib(n));break;case 4:h=eo,eo=s1(n.stateNode.containerInfo),ji(i,n),Mi(n),eo=h;break;case 12:ji(i,n),Mi(n);break;case 31:ji(i,n),Mi(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,Hd(n,h)));break;case 13:ji(i,n),Mi(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Wd=$e()),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,Hd(n,h)));break;case 22:g=n.memoizedState!==null;var ge=l!==null&&l.memoizedState!==null,Le=hl,Pe=is;if(hl=Le||g,is=Pe||ge,ji(i,n),is=Pe,hl=Le,Mi(n),h&8192)e:for(i=n.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||ge||hl||is||eu(n)),l=null,i=n;;){if(i.tag===5||i.tag===26){if(l===null){ge=l=i;try{if(x=ge.stateNode,g)L=x.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{K=ge.stateNode;var Ye=ge.memoizedProps.style,Re=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;K.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(Tt){Kn(ge,ge.return,Tt)}}}else if(i.tag===6){if(l===null){ge=i;try{ge.stateNode.nodeValue=g?"":ge.memoizedProps}catch(Tt){Kn(ge,ge.return,Tt)}}}else if(i.tag===18){if(l===null){ge=i;try{var Ve=ge.stateNode;g?Av(Ve,!0):Av(ge.stateNode,!1)}catch(Tt){Kn(ge,ge.return,Tt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=n.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Hd(n,l))));break;case 19:ji(i,n),Mi(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,Hd(n,h)));break;case 30:break;case 21:break;default:ji(i,n),Mi(n)}}function Mi(n){var i=n.flags;if(i&2){try{for(var l,h=n.return;h!==null;){if(Tb(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,x=S0(n);Ud(n,x,g);break;case 5:var L=l.stateNode;l.flags&32&&(Wi(L,""),l.flags&=-33);var K=S0(n);Ud(n,K,L);break;case 3:case 4:var ge=l.stateNode.containerInfo,Le=S0(n);N0(n,Le,ge);break;default:throw Error(s(161))}}catch(Pe){Kn(n,n.return,Pe)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Ib(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Ib(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function dl(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)jb(n,i.alternate,i),i=i.sibling}function eu(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Jl(4,i,i.return),eu(i);break;case 1:Oo(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Ab(i,i.return,l),eu(i);break;case 27:Sf(i.stateNode);case 26:case 5:Oo(i,i.return),eu(i);break;case 22:i.memoizedState===null&&eu(i);break;case 30:eu(i);break;default:eu(i)}n=n.sibling}}function pl(n,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,g=n,x=i,L=x.flags;switch(x.tag){case 0:case 11:case 15:pl(g,x,l),df(4,x);break;case 1:if(pl(g,x,l),h=x,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Le){Kn(h,h.return,Le)}if(h=x,g=h.updateQueue,g!==null){var K=h.stateNode;try{var ge=g.shared.hiddenCallbacks;if(ge!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ge.length;g++)ks(ge[g],K)}catch(Le){Kn(h,h.return,Le)}}l&&L&64&&Nb(x),pf(x,x.return);break;case 27:kb(x);case 26:case 5:pl(g,x,l),l&&h===null&&L&4&&Cb(x),pf(x,x.return);break;case 12:pl(g,x,l);break;case 31:pl(g,x,l),l&&L&4&&Ob(g,x);break;case 13:pl(g,x,l),l&&L&4&&Db(g,x);break;case 22:x.memoizedState===null&&pl(g,x,l),pf(x,x.return);break;case 30:break;default:pl(g,x,l)}i=i.sibling}}function C0(n,i){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&$c(l))}function T0(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&$c(n))}function to(n,i,l,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fb(n,i,l,h),i=i.sibling}function Fb(n,i,l,h){var g=i.flags;switch(i.tag){case 0:case 11:case 15:to(n,i,l,h),g&2048&&df(9,i);break;case 1:to(n,i,l,h);break;case 3:to(n,i,l,h),g&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&$c(n)));break;case 12:if(g&2048){to(n,i,l,h),n=i.stateNode;try{var x=i.memoizedProps,L=x.id,K=x.onPostCommit;typeof K=="function"&&K(L,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(ge){Kn(i,i.return,ge)}}else to(n,i,l,h);break;case 31:to(n,i,l,h);break;case 13:to(n,i,l,h);break;case 23:break;case 22:x=i.stateNode,L=i.alternate,i.memoizedState!==null?x._visibility&2?to(n,i,l,h):mf(n,i):x._visibility&2?to(n,i,l,h):(x._visibility|=2,th(n,i,l,h,(i.subtreeFlags&10256)!==0||!1)),g&2048&&C0(L,i);break;case 24:to(n,i,l,h),g&2048&&T0(i.alternate,i);break;default:to(n,i,l,h)}}function th(n,i,l,h,g){for(g=g&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var x=n,L=i,K=l,ge=h,Le=L.flags;switch(L.tag){case 0:case 11:case 15:th(x,L,K,ge,g),df(8,L);break;case 23:break;case 22:var Pe=L.stateNode;L.memoizedState!==null?Pe._visibility&2?th(x,L,K,ge,g):mf(x,L):(Pe._visibility|=2,th(x,L,K,ge,g)),g&&Le&2048&&C0(L.alternate,L);break;case 24:th(x,L,K,ge,g),g&&Le&2048&&T0(L.alternate,L);break;default:th(x,L,K,ge,g)}i=i.sibling}}function mf(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=n,h=i,g=h.flags;switch(h.tag){case 22:mf(l,h),g&2048&&C0(h.alternate,h);break;case 24:mf(l,h),g&2048&&T0(h.alternate,h);break;default:mf(l,h)}i=i.sibling}}var gf=8192;function nh(n,i,l){if(n.subtreeFlags&gf)for(n=n.child;n!==null;)Vb(n,i,l),n=n.sibling}function Vb(n,i,l){switch(n.tag){case 26:nh(n,i,l),n.flags&gf&&n.memoizedState!==null&&h4(l,eo,n.memoizedState,n.memoizedProps);break;case 5:nh(n,i,l);break;case 3:case 4:var h=eo;eo=s1(n.stateNode.containerInfo),nh(n,i,l),eo=h;break;case 22:n.memoizedState===null&&(h=n.alternate,h!==null&&h.memoizedState!==null?(h=gf,gf=16777216,nh(n,i,l),gf=h):nh(n,i,l));break;default:nh(n,i,l)}}function Bb(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function bf(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];js=h,zb(h,n)}Bb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qb(n),n=n.sibling}function qb(n){switch(n.tag){case 0:case 11:case 15:bf(n),n.flags&2048&&Jl(9,n,n.return);break;case 3:bf(n);break;case 12:bf(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Gd(n)):bf(n);break;default:bf(n)}}function Gd(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];js=h,zb(h,n)}Bb(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Jl(8,i,i.return),Gd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Gd(i));break;default:Gd(i)}n=n.sibling}}function zb(n,i){for(;js!==null;){var l=js;switch(l.tag){case 0:case 11:case 15:Jl(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:$c(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,js=h;else e:for(l=n;js!==null;){h=js;var g=h.sibling,x=h.return;if(Mb(h),h===l){js=null;break e}if(g!==null){g.return=x,js=g;break e}js=x}}}var C_={getCacheForType:function(n){var i=bs(Or),l=i.data.get(n);return l===void 0&&(l=n(),i.data.set(n,l)),l},cacheSignal:function(){return bs(Or).controller.signal}},T_=typeof WeakMap=="function"?WeakMap:Map,Yn=0,ur=null,wn=null,Sn=0,Qn=0,ea=null,ec=!1,rh=!1,k0=!1,ml=0,Pr=0,tc=0,tu=0,E0=0,ta=0,sh=0,vf=null,Li=null,j0=!1,Wd=0,Pb=0,Yd=1/0,Xd=null,nc=null,ys=0,rc=null,ih=null,gl=0,M0=0,L0=null,Ub=null,yf=0,O0=null;function na(){return(Yn&2)!==0&&Sn!==0?Sn&-Sn:B.T!==null?B0():Fe()}function Hb(){if(ta===0)if((Sn&536870912)===0||xn){var n=en;en<<=1,(en&3932160)===0&&(en=262144),ta=n}else ta=536870912;return n=vr.current,n!==null&&(n.flags|=32),ta}function Oi(n,i,l){(n===ur&&(Qn===2||Qn===9)||n.cancelPendingCommit!==null)&&(ah(n,0),sc(n,Sn,ta,!1)),it(n,l),((Yn&2)===0||n!==ur)&&(n===ur&&((Yn&2)===0&&(tu|=l),Pr===4&&sc(n,Sn,ta,!1)),Do(n))}function Gb(n,i,l){if((Yn&6)!==0)throw Error(s(327));var h=!l&&(i&127)===0&&(i&n.expiredLanes)===0||De(n,i),g=h?j_(n,i):R0(n,i,!0),x=h;do{if(g===0){rh&&!h&&sc(n,i,0,!1);break}else{if(l=n.current.alternate,x&&!k_(l)){g=R0(n,i,!1),x=!1;continue}if(g===2){if(x=i,n.errorRecoveryDisabledLanes&x)var L=0;else L=n.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){i=L;e:{var K=n;g=vf;var ge=K.current.memoizedState.isDehydrated;if(ge&&(ah(K,L).flags|=256),L=R0(K,L,!1),L!==2){if(k0&&!ge){K.errorRecoveryDisabledLanes|=x,tu|=x,g=4;break e}x=Li,Li=g,x!==null&&(Li===null?Li=x:Li.push.apply(Li,x))}g=L}if(x=!1,g!==2)continue}}if(g===1){ah(n,0),sc(n,i,0,!0);break}e:{switch(h=n,x=g,x){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:sc(h,i,ta,!ec);break e;case 2:Li=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=Wd+300-$e(),10<g)){if(sc(h,i,ta,!ec),qt(h,0,!0)!==0)break e;gl=i,h.timeoutHandle=_v(Wb.bind(null,h,l,Li,Xd,j0,i,ta,tu,sh,ec,x,"Throttled",-0,0),g);break e}Wb(h,l,Li,Xd,j0,i,ta,tu,sh,ec,x,null,-0,0)}}break}while(!0);Do(n)}function Wb(n,i,l,h,g,x,L,K,ge,Le,Pe,Ye,Re,Ve){if(n.timeoutHandle=-1,Ye=i.subtreeFlags,Ye&8192||(Ye&16785408)===16785408){Ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yi},Vb(i,x,Ye);var Tt=(x&62914560)===x?Wd-$e():(x&4194048)===x?Pb-$e():0;if(Tt=f4(Ye,Tt),Tt!==null){gl=x,n.cancelPendingCommit=Tt(ev.bind(null,n,i,x,l,h,g,L,K,ge,Pe,Ye,null,Re,Ve)),sc(n,x,L,!Le);return}}ev(n,i,x,l,h,g,L,K,ge)}function k_(n){for(var i=n;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],x=g.getSnapshot;g=g.value;try{if(!ds(x(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function sc(n,i,l,h){i&=~E0,i&=~tu,n.suspendedLanes|=i,n.pingedLanes&=~i,h&&(n.warmLanes|=i),h=n.expirationTimes;for(var g=i;0<g;){var x=31-It(g),L=1<<x;h[x]=-1,g&=~L}l!==0&&gn(n,l,i)}function $d(){return(Yn&6)===0?(xf(0),!1):!0}function D0(){if(wn!==null){if(Qn===0)var n=wn.return;else n=wn,wa=Ao=null,Xu(n),Ze=null,jt=0,n=wn;for(;n!==null;)Sb(n.alternate,n),n=n.return;wn=null}}function ah(n,i){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,X_(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),gl=0,D0(),ur=n,wn=l=wi(n.current,null),Sn=i,Qn=0,ea=null,ec=!1,rh=De(n,i),k0=!1,sh=ta=E0=tu=tc=Pr=0,Li=vf=null,j0=!1,(i&8)!==0&&(i|=i&32);var h=n.entangledLanes;if(h!==0)for(n=n.entanglements,h&=i;0<h;){var g=31-It(h),x=1<<g;i|=n[g],h&=~x}return ml=i,Uc(),l}function Yb(n,i){Bt=null,B.H=uf,i===ye||i===ce?(i=Ge(),Qn=3):i===Ee?(i=Ge(),Qn=4):Qn=i===f0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ea=i,wn===null&&(Pr=1,Vd(n,_i(i,n.current)))}function Xb(){var n=vr.current;return n===null?!0:(Sn&4194048)===Sn?In===null:(Sn&62914560)===Sn||(Sn&536870912)!==0?n===In:!1}function $b(){var n=B.H;return B.H=uf,n===null?uf:n}function Zb(){var n=B.A;return B.A=C_,n}function Zd(){Pr=4,ec||(Sn&4194048)!==Sn&&vr.current!==null||(rh=!0),(tc&134217727)===0&&(tu&134217727)===0||ur===null||sc(ur,Sn,ta,!1)}function R0(n,i,l){var h=Yn;Yn|=2;var g=$b(),x=Zb();(ur!==n||Sn!==i)&&(Xd=null,ah(n,i)),i=!1;var L=Pr;e:do try{if(Qn!==0&&wn!==null){var K=wn,ge=ea;switch(Qn){case 8:D0(),L=6;break e;case 3:case 2:case 9:case 6:vr.current===null&&(i=!0);var Le=Qn;if(Qn=0,ea=null,oh(n,K,ge,Le),l&&rh){L=0;break e}break;default:Le=Qn,Qn=0,ea=null,oh(n,K,ge,Le)}}E_(),L=Pr;break}catch(Pe){Yb(n,Pe)}while(!0);return i&&n.shellSuspendCounter++,wa=Ao=null,Yn=h,B.H=g,B.A=x,wn===null&&(ur=null,Sn=0,Uc()),L}function E_(){for(;wn!==null;)Qb(wn)}function j_(n,i){var l=Yn;Yn|=2;var h=$b(),g=Zb();ur!==n||Sn!==i?(Xd=null,Yd=$e()+500,ah(n,i)):rh=De(n,i);e:do try{if(Qn!==0&&wn!==null){i=wn;var x=ea;t:switch(Qn){case 1:Qn=0,ea=null,oh(n,i,x,1);break;case 2:case 9:if(Ce(x)){Qn=0,ea=null,Kb(i);break}i=function(){Qn!==2&&Qn!==9||ur!==n||(Qn=7),Do(n)},x.then(i,i);break e;case 3:Qn=7;break e;case 4:Qn=5;break e;case 7:Ce(x)?(Qn=0,ea=null,Kb(i)):(Qn=0,ea=null,oh(n,i,x,7));break;case 5:var L=null;switch(wn.tag){case 26:L=wn.memoizedState;case 5:case 27:var K=wn;if(L?Fv(L):K.stateNode.complete){Qn=0,ea=null;var ge=K.sibling;if(ge!==null)wn=ge;else{var Le=K.return;Le!==null?(wn=Le,Qd(Le)):wn=null}break t}}Qn=0,ea=null,oh(n,i,x,5);break;case 6:Qn=0,ea=null,oh(n,i,x,6);break;case 8:D0(),Pr=6;break e;default:throw Error(s(462))}}M_();break}catch(Pe){Yb(n,Pe)}while(!0);return wa=Ao=null,B.H=h,B.A=g,Yn=l,wn!==null?0:(ur=null,Sn=0,Uc(),Pr)}function M_(){for(;wn!==null&&!nt();)Qb(wn)}function Qb(n){var i=wb(n.alternate,n,ml);n.memoizedProps=n.pendingProps,i===null?Qd(n):wn=i}function Kb(n){var i=n,l=i.alternate;switch(i.tag){case 15:case 0:i=mb(l,i,i.pendingProps,i.type,void 0,Sn);break;case 11:i=mb(l,i,i.pendingProps,i.type.render,i.ref,Sn);break;case 5:Xu(i);default:Sb(l,i),i=wn=Wc(i,ml),i=wb(l,i,ml)}n.memoizedProps=n.pendingProps,i===null?Qd(n):wn=i}function oh(n,i,l,h){wa=Ao=null,Xu(i),Ze=null,jt=0;var g=i.return;try{if(y_(n,g,i,l,Sn)){Pr=1,Vd(n,_i(l,n.current)),wn=null;return}}catch(x){if(g!==null)throw wn=g,x;Pr=1,Vd(n,_i(l,n.current)),wn=null;return}i.flags&32768?(xn||h===1?n=!0:rh||(Sn&536870912)!==0?n=!1:(ec=n=!0,(h===2||h===9||h===3||h===6)&&(h=vr.current,h!==null&&h.tag===13&&(h.flags|=16384))),Jb(i,n)):Qd(i)}function Qd(n){var i=n;do{if((i.flags&32768)!==0){Jb(i,ec);return}n=i.return;var l=__(i.alternate,i,ml);if(l!==null){wn=l;return}if(i=i.sibling,i!==null){wn=i;return}wn=i=n}while(i!==null);Pr===0&&(Pr=5)}function Jb(n,i){do{var l=S_(n.alternate,n);if(l!==null){l.flags&=32767,wn=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(n=n.sibling,n!==null)){wn=n;return}wn=n=l}while(n!==null);Pr=6,wn=null}function ev(n,i,l,h,g,x,L,K,ge){n.cancelPendingCommit=null;do Kd();while(ys!==0);if((Yn&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(x=i.lanes|i.childLanes,x|=Du,Kt(n,l,x,L,K,ge),n===ur&&(wn=ur=null,Sn=0),ih=i,rc=n,gl=l,M0=x,L0=g,Ub=h,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,R_(yt,function(){return iv(),null})):(n.callbackNode=null,n.callbackPriority=0),h=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,g=ie.p,ie.p=2,L=Yn,Yn|=4;try{N_(n,i,l)}finally{Yn=L,ie.p=g,B.T=h}}ys=1,tv(),nv(),rv()}}function tv(){if(ys===1){ys=0;var n=rc,i=ih,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var h=ie.p;ie.p=2;var g=Yn;Yn|=4;try{Rb(i,n);var x=Y0,L=Wa(n.containerInfo),K=x.focusedElem,ge=x.selectionRange;if(L!==K&&K&&K.ownerDocument&&Ga(K.ownerDocument.documentElement,K)){if(ge!==null&&ya(K)){var Le=ge.start,Pe=ge.end;if(Pe===void 0&&(Pe=Le),"selectionStart"in K)K.selectionStart=Le,K.selectionEnd=Math.min(Pe,K.value.length);else{var Ye=K.ownerDocument||document,Re=Ye&&Ye.defaultView||window;if(Re.getSelection){var Ve=Re.getSelection(),Tt=K.textContent.length,$t=Math.min(ge.start,Tt),ir=ge.end===void 0?$t:Math.min(ge.end,Tt);!Ve.extend&&$t>ir&&(L=ir,ir=$t,$t=L);var Ae=Pl(K,$t),xe=Pl(K,ir);if(Ae&&xe&&(Ve.rangeCount!==1||Ve.anchorNode!==Ae.node||Ve.anchorOffset!==Ae.offset||Ve.focusNode!==xe.node||Ve.focusOffset!==xe.offset)){var Me=Ye.createRange();Me.setStart(Ae.node,Ae.offset),Ve.removeAllRanges(),$t>ir?(Ve.addRange(Me),Ve.extend(xe.node,xe.offset)):(Me.setEnd(xe.node,xe.offset),Ve.addRange(Me))}}}}for(Ye=[],Ve=K;Ve=Ve.parentNode;)Ve.nodeType===1&&Ye.push({element:Ve,left:Ve.scrollLeft,top:Ve.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Ye.length;K++){var We=Ye[K];We.element.scrollLeft=We.left,We.element.scrollTop=We.top}}u1=!!W0,Y0=W0=null}finally{Yn=g,ie.p=h,B.T=l}}n.current=i,ys=2}}function nv(){if(ys===2){ys=0;var n=rc,i=ih,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var h=ie.p;ie.p=2;var g=Yn;Yn|=4;try{jb(n,i.alternate,i)}finally{Yn=g,ie.p=h,B.T=l}}ys=3}}function rv(){if(ys===4||ys===3){ys=0,Oe();var n=rc,i=ih,l=gl,h=Ub;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ys=5:(ys=0,ih=rc=null,sv(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(nc=null),Te(l),i=i.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Gt,i,void 0,(i.current.flags&128)===128)}catch{}if(h!==null){i=B.T,g=ie.p,ie.p=2,B.T=null;try{for(var x=n.onRecoverableError,L=0;L<h.length;L++){var K=h[L];x(K.value,{componentStack:K.stack})}}finally{B.T=i,ie.p=g}}(gl&3)!==0&&Kd(),Do(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===O0?yf++:(yf=0,O0=n):yf=0,xf(0)}}function sv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,$c(i)))}function Kd(){return tv(),nv(),rv(),iv()}function iv(){if(ys!==5)return!1;var n=rc,i=M0;M0=0;var l=Te(gl),h=B.T,g=ie.p;try{ie.p=32>l?32:l,B.T=null,l=L0,L0=null;var x=rc,L=gl;if(ys=0,ih=rc=null,gl=0,(Yn&6)!==0)throw Error(s(331));var K=Yn;if(Yn|=4,qb(x.current),Fb(x,x.current,L,l),Yn=K,xf(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Gt,x)}catch{}return!0}finally{ie.p=g,B.T=h,sv(n,i)}}function av(n,i,l){i=_i(l,i),i=h0(n.stateNode,i,2),n=fn(n,i,2),n!==null&&(it(n,2),Do(n))}function Kn(n,i,l){if(n.tag===3)av(n,n,l);else for(;i!==null;){if(i.tag===3){av(i,n,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(nc===null||!nc.has(h))){n=_i(l,n),l=ob(2),h=fn(i,l,2),h!==null&&(lb(l,h,i,n),it(h,2),Do(h));break}}i=i.return}}function I0(n,i,l){var h=n.pingCache;if(h===null){h=n.pingCache=new T_;var g=new Set;h.set(i,g)}else g=h.get(i),g===void 0&&(g=new Set,h.set(i,g));g.has(l)||(k0=!0,g.add(l),n=L_.bind(null,n,i,l),i.then(n,n))}function L_(n,i,l){var h=n.pingCache;h!==null&&h.delete(i),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,ur===n&&(Sn&l)===l&&(Pr===4||Pr===3&&(Sn&62914560)===Sn&&300>$e()-Wd?(Yn&2)===0&&ah(n,0):E0|=l,sh===Sn&&(sh=0)),Do(n)}function ov(n,i){i===0&&(i=vt()),n=Xa(n,i),n!==null&&(it(n,i),Do(n))}function O_(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),ov(n,l)}function D_(n,i){var l=0;switch(n.tag){case 31:case 13:var h=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=n.stateNode;break;case 22:h=n.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(i),ov(n,l)}function R_(n,i){return st(n,i)}var Jd=null,lh=null,F0=!1,e1=!1,V0=!1,ic=0;function Do(n){n!==lh&&n.next===null&&(lh===null?Jd=lh=n:lh=lh.next=n),e1=!0,F0||(F0=!0,F_())}function xf(n,i){if(!V0&&e1){V0=!0;do for(var l=!1,h=Jd;h!==null;){if(n!==0){var g=h.pendingLanes;if(g===0)var x=0;else{var L=h.suspendedLanes,K=h.pingedLanes;x=(1<<31-It(42|n)+1)-1,x&=g&~(L&~K),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,hv(h,x))}else x=Sn,x=qt(h,h===ur?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||De(h,x)||(l=!0,hv(h,x));h=h.next}while(l);V0=!1}}function I_(){lv()}function lv(){e1=F0=!1;var n=0;ic!==0&&Y_()&&(n=ic);for(var i=$e(),l=null,h=Jd;h!==null;){var g=h.next,x=cv(h,i);x===0?(h.next=null,l===null?Jd=g:l.next=g,g===null&&(lh=l)):(l=h,(n!==0||(x&3)!==0)&&(e1=!0)),h=g}ys!==0&&ys!==5||xf(n),ic!==0&&(ic=0)}function cv(n,i){for(var l=n.suspendedLanes,h=n.pingedLanes,g=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var L=31-It(x),K=1<<L,ge=g[L];ge===-1?((K&l)===0||(K&h)!==0)&&(g[L]=ht(K,i)):ge<=i&&(n.expiredLanes|=K),x&=~K}if(i=ur,l=Sn,l=qt(n,n===i?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h=n.callbackNode,l===0||n===i&&(Qn===2||Qn===9)||n.cancelPendingCommit!==null)return h!==null&&h!==null&&Ue(h),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||De(n,l)){if(i=l&-l,i===n.callbackPriority)return i;switch(h!==null&&Ue(h),Te(l)){case 2:case 8:l=mt;break;case 32:l=yt;break;case 268435456:l=kt;break;default:l=yt}return h=uv.bind(null,n),l=st(l,h),n.callbackPriority=i,n.callbackNode=l,i}return h!==null&&h!==null&&Ue(h),n.callbackPriority=2,n.callbackNode=null,2}function uv(n,i){if(ys!==0&&ys!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Kd()&&n.callbackNode!==l)return null;var h=Sn;return h=qt(n,n===ur?h:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h===0?null:(Gb(n,h,i),cv(n,$e()),n.callbackNode!=null&&n.callbackNode===l?uv.bind(null,n):null)}function hv(n,i){if(Kd())return null;Gb(n,i,!0)}function F_(){$_(function(){(Yn&6)!==0?st(at,I_):lv()})}function B0(){if(ic===0){var n=p;n===0&&(n=gt,gt<<=1,(gt&261888)===0&&(gt=256)),ic=n}return ic}function fv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:$s(""+n)}function dv(n,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,n.id&&l.setAttribute("form",n.id),i.parentNode.insertBefore(l,i),n=new FormData(n),l.parentNode.removeChild(l),n}function V_(n,i,l,h,g){if(i==="submit"&&l&&l.stateNode===g){var x=fv((g[Et]||null).action),L=h.submitter;L&&(i=(i=L[Et]||null)?fv(i.formAction):L.getAttribute("formAction"),i!==null&&(x=i,L=null));var K=new vi("action","action",null,h,g);n.push({event:K,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ic!==0){var ge=L?dv(g,L):new FormData(g);i0(l,{pending:!0,data:ge,method:g.method,action:x},null,ge)}}else typeof x=="function"&&(K.preventDefault(),ge=L?dv(g,L):new FormData(g),i0(l,{pending:!0,data:ge,method:g.method,action:x},x,ge))},currentTarget:g}]})}}for(var q0=0;q0<tl.length;q0++){var z0=tl[q0],B_=z0.toLowerCase(),q_=z0[0].toUpperCase()+z0.slice(1);xi(B_,"on"+q_)}xi(el,"onAnimationEnd"),xi(zc,"onAnimationIteration"),xi(Xh,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(Ad,"onTransitionRun"),xi(Cd,"onTransitionStart"),xi(Td,"onTransitionCancel"),xi($h,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wf));function pv(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var h=n[l],g=h.event;h=h.listeners;e:{var x=void 0;if(i)for(var L=h.length-1;0<=L;L--){var K=h[L],ge=K.instance,Le=K.currentTarget;if(K=K.listener,ge!==x&&g.isPropagationStopped())break e;x=K,g.currentTarget=Le;try{x(g)}catch(Pe){Pc(Pe)}g.currentTarget=null,x=ge}else for(L=0;L<h.length;L++){if(K=h[L],ge=K.instance,Le=K.currentTarget,K=K.listener,ge!==x&&g.isPropagationStopped())break e;x=K,g.currentTarget=Le;try{x(g)}catch(Pe){Pc(Pe)}g.currentTarget=null,x=ge}}}}function _n(n,i){var l=i[tn];l===void 0&&(l=i[tn]=new Set);var h=n+"__bubble";l.has(h)||(mv(i,n,2,!1),l.add(h))}function P0(n,i,l){var h=0;i&&(h|=4),mv(l,n,h,i)}var t1="_reactListening"+Math.random().toString(36).slice(2);function U0(n){if(!n[t1]){n[t1]=!0,ii.forEach(function(l){l!=="selectionchange"&&(z_.has(l)||P0(l,!1,n),P0(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[t1]||(i[t1]=!0,P0("selectionchange",!1,i))}}function mv(n,i,l,h){switch(Hv(i)){case 2:var g=m4;break;case 8:g=g4;break;default:g=sm}l=g.bind(null,i,l,n),g=void 0,!Ic||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),h?g!==void 0?n.addEventListener(i,l,{capture:!0,passive:g}):n.addEventListener(i,l,!0):g!==void 0?n.addEventListener(i,l,{passive:g}):n.addEventListener(i,l,!1)}function H0(n,i,l,h,g){var x=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var L=h.tag;if(L===3||L===4){var K=h.stateNode.containerInfo;if(K===g)break;if(L===4)for(L=h.return;L!==null;){var ge=L.tag;if((ge===3||ge===4)&&L.stateNode.containerInfo===g)return;L=L.return}for(;K!==null;){if(L=Vn(K),L===null)return;if(ge=L.tag,ge===5||ge===6||ge===26||ge===27){h=x=L;continue e}K=K.parentNode}}h=h.return}Eu(function(){var Le=x,Pe=Yo(l),Ye=[];e:{var Re=Zh.get(n);if(Re!==void 0){var Ve=vi,Tt=n;switch(n){case"keypress":if(bi(l)===0)break e;case"keydown":case"keyup":Ve=Mn;break;case"focusin":Tt="focus",Ve=Fa;break;case"focusout":Tt="blur",Ve=Fa;break;case"beforeblur":case"afterblur":Ve=Fa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=Ia;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=Yr;break;case el:case zc:case Xh:Ve=S;break;case $h:Ve=fs;break;case"scroll":case"scrollend":Ve=Rl;break;case"wheel":Ve=Xi;break;case"copy":case"cut":case"paste":Ve=he;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=jr;break;case"toggle":case"beforetoggle":Ve=Vc}var $t=(i&4)!==0,ir=!$t&&(n==="scroll"||n==="scrollend"),Ae=$t?Re!==null?Re+"Capture":null:Re;$t=[];for(var xe=Le,Me;xe!==null;){var We=xe;if(Me=We.stateNode,We=We.tag,We!==5&&We!==26&&We!==27||Me===null||Ae===null||(We=oi(xe,Ae),We!=null&&$t.push(_f(xe,We,Me))),ir)break;xe=xe.return}0<$t.length&&(Re=new Ve(Re,Tt,null,l,Pe),Ye.push({event:Re,listeners:$t}))}}if((i&7)===0){e:{if(Re=n==="mouseover"||n==="pointerover",Ve=n==="mouseout"||n==="pointerout",Re&&l!==Ma&&(Tt=l.relatedTarget||l.fromElement)&&(Vn(Tt)||Tt[Xt]))break e;if((Ve||Re)&&(Re=Pe.window===Pe?Pe:(Re=Pe.ownerDocument)?Re.defaultView||Re.parentWindow:window,Ve?(Tt=l.relatedTarget||l.toElement,Ve=Le,Tt=Tt?Vn(Tt):null,Tt!==null&&(ir=o(Tt),$t=Tt.tag,Tt!==ir||$t!==5&&$t!==27&&$t!==6)&&(Tt=null)):(Ve=null,Tt=Le),Ve!==Tt)){if($t=Fc,We="onMouseLeave",Ae="onMouseEnter",xe="mouse",(n==="pointerout"||n==="pointerover")&&($t=jr,We="onPointerLeave",Ae="onPointerEnter",xe="pointer"),ir=Ve==null?Re:Ys(Ve),Me=Tt==null?Re:Ys(Tt),Re=new $t(We,xe+"leave",Ve,l,Pe),Re.target=ir,Re.relatedTarget=Me,We=null,Vn(Pe)===Le&&($t=new $t(Ae,xe+"enter",Tt,l,Pe),$t.target=Me,$t.relatedTarget=ir,We=$t),ir=We,Ve&&Tt)t:{for($t=P_,Ae=Ve,xe=Tt,Me=0,We=Ae;We;We=$t(We))Me++;We=0;for(var Pt=xe;Pt;Pt=$t(Pt))We++;for(;0<Me-We;)Ae=$t(Ae),Me--;for(;0<We-Me;)xe=$t(xe),We--;for(;Me--;){if(Ae===xe||xe!==null&&Ae===xe.alternate){$t=Ae;break t}Ae=$t(Ae),xe=$t(xe)}$t=null}else $t=null;Ve!==null&&gv(Ye,Re,Ve,$t,!1),Tt!==null&&ir!==null&&gv(Ye,ir,Tt,$t,!0)}}e:{if(Re=Le?Ys(Le):window,Ve=Re.nodeName&&Re.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Re.type==="file")var Un=wo;else if(Bc(Re))if(Zs)Un=ba;else{Un=Mr;var Rt=ql}else Ve=Re.nodeName,!Ve||Ve.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Le&&Oc(Le.elementType)&&(Un=wo):Un=Ou;if(Un&&(Un=Un(n,Le))){ci(Ye,Un,l,Pe);break e}Rt&&Rt(n,Re,Le),n==="focusout"&&Le&&Re.type==="number"&&Le.memoizedProps.value!=null&&jc(Re,"number",Re.value)}switch(Rt=Le?Ys(Le):window,n){case"focusin":(Bc(Rt)||Rt.contentEditable==="true")&&(ui=Rt,Ya=Le,As=null);break;case"focusout":As=Ya=ui=null;break;case"mousedown":yi=!0;break;case"contextmenu":case"mouseup":case"dragend":yi=!1,Bn(Ye,l,Pe);break;case"selectionchange":if(Jo)break;case"keydown":case"keyup":Bn(Ye,l,Pe)}var pn;if(da)e:{switch(n){case"compositionstart":var Nn="onCompositionStart";break e;case"compositionend":Nn="onCompositionEnd";break e;case"compositionupdate":Nn="onCompositionUpdate";break e}Nn=void 0}else pa?xo(n,l)&&(Nn="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Nn="onCompositionStart");Nn&&(qa&&l.locale!=="ko"&&(pa||Nn!=="onCompositionStart"?Nn==="onCompositionEnd"&&pa&&(pn=ju()):(li=Pe,$o="value"in li?li.value:li.textContent,pa=!0)),Rt=n1(Le,Nn),0<Rt.length&&(Nn=new Ne(Nn,n,null,l,Pe),Ye.push({event:Nn,listeners:Rt}),pn?Nn.data=pn:(pn=Fl(l),pn!==null&&(Nn.data=pn)))),(pn=Ko?Vs(n,l):za(n,l))&&(Nn=n1(Le,"onBeforeInput"),0<Nn.length&&(Rt=new Ne("onBeforeInput","beforeinput",null,l,Pe),Ye.push({event:Rt,listeners:Nn}),Rt.data=pn)),V_(Ye,n,Le,l,Pe)}pv(Ye,i)})}function _f(n,i,l){return{instance:n,listener:i,currentTarget:l}}function n1(n,i){for(var l=i+"Capture",h=[];n!==null;){var g=n,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=oi(n,l),g!=null&&h.unshift(_f(n,g,x)),g=oi(n,i),g!=null&&h.push(_f(n,g,x))),n.tag===3)return h;n=n.return}return[]}function P_(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function gv(n,i,l,h,g){for(var x=i._reactName,L=[];l!==null&&l!==h;){var K=l,ge=K.alternate,Le=K.stateNode;if(K=K.tag,ge!==null&&ge===h)break;K!==5&&K!==26&&K!==27||Le===null||(ge=Le,g?(Le=oi(l,x),Le!=null&&L.unshift(_f(l,Le,ge))):g||(Le=oi(l,x),Le!=null&&L.push(_f(l,Le,ge)))),l=l.return}L.length!==0&&n.push({event:i,listeners:L})}var U_=/\r\n?/g,H_=/\u0000|\uFFFD/g;function bv(n){return(typeof n=="string"?n:""+n).replace(U_,`
`).replace(H_,"")}function vv(n,i){return i=bv(i),bv(n)===i}function sr(n,i,l,h,g,x){switch(l){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||Wi(n,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&Wi(n,""+h);break;case"className":Gi(n,"class",h);break;case"tabIndex":Gi(n,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Gi(n,l,h);break;case"style":Cu(n,h,x);break;case"data":if(i!=="object"){Gi(n,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||l!=="href")){n.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(l);break}h=$s(""+h),n.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(i!=="input"&&sr(n,i,"name",g.name,g,null),sr(n,i,"formEncType",g.formEncType,g,null),sr(n,i,"formMethod",g.formMethod,g,null),sr(n,i,"formTarget",g.formTarget,g,null)):(sr(n,i,"encType",g.encType,g,null),sr(n,i,"method",g.method,g,null),sr(n,i,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(l);break}h=$s(""+h),n.setAttribute(l,h);break;case"onClick":h!=null&&(n.onclick=Yi);break;case"onScroll":h!=null&&_n("scroll",n);break;case"onScrollEnd":h!=null&&_n("scrollend",n);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"multiple":n.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":n.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){n.removeAttribute("xlink:href");break}l=$s(""+h),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(l,""+h):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":h===!0?n.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(l,h):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?n.setAttribute(l,h):n.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?n.removeAttribute(l):n.setAttribute(l,h);break;case"popover":_n("beforetoggle",n),_n("toggle",n),us(n,"popover",h);break;case"xlinkActuate":ai(n,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ai(n,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ai(n,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ai(n,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ai(n,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ai(n,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ai(n,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ai(n,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ai(n,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":us(n,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Dc.get(l)||l,us(n,l,h))}}function G0(n,i,l,h,g,x){switch(l){case"style":Cu(n,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"children":typeof h=="string"?Wi(n,h):(typeof h=="number"||typeof h=="bigint")&&Wi(n,""+h);break;case"onScroll":h!=null&&_n("scroll",n);break;case"onScrollEnd":h!=null&&_n("scrollend",n);break;case"onClick":h!=null&&(n.onclick=Yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ss.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),x=n[Et]||null,x=x!=null?x[l]:null,typeof x=="function"&&n.removeEventListener(i,x,g),typeof h=="function")){typeof x!="function"&&x!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(i,h,g);break e}l in n?n[l]=h:h===!0?n.setAttribute(l,""):us(n,l,h)}}}function Us(n,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_n("error",n),_n("load",n);var h=!1,g=!1,x;for(x in l)if(l.hasOwnProperty(x)){var L=l[x];if(L!=null)switch(x){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:sr(n,i,x,L,l,null)}}g&&sr(n,i,"srcSet",l.srcSet,l,null),h&&sr(n,i,"src",l.src,l,null);return;case"input":_n("invalid",n);var K=x=L=g=null,ge=null,Le=null;for(h in l)if(l.hasOwnProperty(h)){var Pe=l[h];if(Pe!=null)switch(h){case"name":g=Pe;break;case"type":L=Pe;break;case"checked":ge=Pe;break;case"defaultChecked":Le=Pe;break;case"value":x=Pe;break;case"defaultValue":K=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(s(137,i));break;default:sr(n,i,h,Pe,l,null)}}Nu(n,x,K,ge,Le,L,g,!1);return;case"select":_n("invalid",n),h=L=x=null;for(g in l)if(l.hasOwnProperty(g)&&(K=l[g],K!=null))switch(g){case"value":x=K;break;case"defaultValue":L=K;break;case"multiple":h=K;default:sr(n,i,g,K,l,null)}i=x,l=L,n.multiple=!!h,i!=null?Fs(n,!!h,i,!1):l!=null&&Fs(n,!!h,l,!0);return;case"textarea":_n("invalid",n),x=g=h=null;for(L in l)if(l.hasOwnProperty(L)&&(K=l[L],K!=null))switch(L){case"value":h=K;break;case"defaultValue":g=K;break;case"children":x=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(91));break;default:sr(n,i,L,K,l,null)}Lc(n,h,g,x);return;case"option":for(ge in l)if(l.hasOwnProperty(ge)&&(h=l[ge],h!=null))switch(ge){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:sr(n,i,ge,h,l,null)}return;case"dialog":_n("beforetoggle",n),_n("toggle",n),_n("cancel",n),_n("close",n);break;case"iframe":case"object":_n("load",n);break;case"video":case"audio":for(h=0;h<wf.length;h++)_n(wf[h],n);break;case"image":_n("error",n),_n("load",n);break;case"details":_n("toggle",n);break;case"embed":case"source":case"link":_n("error",n),_n("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in l)if(l.hasOwnProperty(Le)&&(h=l[Le],h!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:sr(n,i,Le,h,l,null)}return;default:if(Oc(i)){for(Pe in l)l.hasOwnProperty(Pe)&&(h=l[Pe],h!==void 0&&G0(n,i,Pe,h,l,void 0));return}}for(K in l)l.hasOwnProperty(K)&&(h=l[K],h!=null&&sr(n,i,K,h,l,null))}function G_(n,i,l,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,L=null,K=null,ge=null,Le=null,Pe=null;for(Ve in l){var Ye=l[Ve];if(l.hasOwnProperty(Ve)&&Ye!=null)switch(Ve){case"checked":break;case"value":break;case"defaultValue":ge=Ye;default:h.hasOwnProperty(Ve)||sr(n,i,Ve,null,h,Ye)}}for(var Re in h){var Ve=h[Re];if(Ye=l[Re],h.hasOwnProperty(Re)&&(Ve!=null||Ye!=null))switch(Re){case"type":x=Ve;break;case"name":g=Ve;break;case"checked":Le=Ve;break;case"defaultChecked":Pe=Ve;break;case"value":L=Ve;break;case"defaultValue":K=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(s(137,i));break;default:Ve!==Ye&&sr(n,i,Re,Ve,h,Ye)}}Ll(n,L,K,ge,Le,Pe,x,g);return;case"select":Ve=L=K=Re=null;for(x in l)if(ge=l[x],l.hasOwnProperty(x)&&ge!=null)switch(x){case"value":break;case"multiple":Ve=ge;default:h.hasOwnProperty(x)||sr(n,i,x,null,h,ge)}for(g in h)if(x=h[g],ge=l[g],h.hasOwnProperty(g)&&(x!=null||ge!=null))switch(g){case"value":Re=x;break;case"defaultValue":K=x;break;case"multiple":L=x;default:x!==ge&&sr(n,i,g,x,h,ge)}i=K,l=L,h=Ve,Re!=null?Fs(n,!!l,Re,!1):!!h!=!!l&&(i!=null?Fs(n,!!l,i,!0):Fs(n,!!l,l?[]:"",!1));return;case"textarea":Ve=Re=null;for(K in l)if(g=l[K],l.hasOwnProperty(K)&&g!=null&&!h.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:sr(n,i,K,null,h,g)}for(L in h)if(g=h[L],x=l[L],h.hasOwnProperty(L)&&(g!=null||x!=null))switch(L){case"value":Re=g;break;case"defaultValue":Ve=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==x&&sr(n,i,L,g,h,x)}Mc(n,Re,Ve);return;case"option":for(var Tt in l)if(Re=l[Tt],l.hasOwnProperty(Tt)&&Re!=null&&!h.hasOwnProperty(Tt))switch(Tt){case"selected":n.selected=!1;break;default:sr(n,i,Tt,null,h,Re)}for(ge in h)if(Re=h[ge],Ve=l[ge],h.hasOwnProperty(ge)&&Re!==Ve&&(Re!=null||Ve!=null))switch(ge){case"selected":n.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:sr(n,i,ge,Re,h,Ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $t in l)Re=l[$t],l.hasOwnProperty($t)&&Re!=null&&!h.hasOwnProperty($t)&&sr(n,i,$t,null,h,Re);for(Le in h)if(Re=h[Le],Ve=l[Le],h.hasOwnProperty(Le)&&Re!==Ve&&(Re!=null||Ve!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(s(137,i));break;default:sr(n,i,Le,Re,h,Ve)}return;default:if(Oc(i)){for(var ir in l)Re=l[ir],l.hasOwnProperty(ir)&&Re!==void 0&&!h.hasOwnProperty(ir)&&G0(n,i,ir,void 0,h,Re);for(Pe in h)Re=h[Pe],Ve=l[Pe],!h.hasOwnProperty(Pe)||Re===Ve||Re===void 0&&Ve===void 0||G0(n,i,Pe,Re,h,Ve);return}}for(var Ae in l)Re=l[Ae],l.hasOwnProperty(Ae)&&Re!=null&&!h.hasOwnProperty(Ae)&&sr(n,i,Ae,null,h,Re);for(Ye in h)Re=h[Ye],Ve=l[Ye],!h.hasOwnProperty(Ye)||Re===Ve||Re==null&&Ve==null||sr(n,i,Ye,Re,h,Ve)}function yv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function W_(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var g=l[h],x=g.transferSize,L=g.initiatorType,K=g.duration;if(x&&K&&yv(L)){for(L=0,K=g.responseEnd,h+=1;h<l.length;h++){var ge=l[h],Le=ge.startTime;if(Le>K)break;var Pe=ge.transferSize,Ye=ge.initiatorType;Pe&&yv(Ye)&&(ge=ge.responseEnd,L+=Pe*(ge<K?1:(K-Le)/(ge-Le)))}if(--h,i+=8*(x+L)/(g.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var W0=null,Y0=null;function r1(n){return n.nodeType===9?n:n.ownerDocument}function xv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function X0(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $0=null;function Y_(){var n=window.event;return n&&n.type==="popstate"?n===$0?!1:($0=n,!0):($0=null,!1)}var _v=typeof setTimeout=="function"?setTimeout:void 0,X_=typeof clearTimeout=="function"?clearTimeout:void 0,Sv=typeof Promise=="function"?Promise:void 0,$_=typeof queueMicrotask=="function"?queueMicrotask:typeof Sv<"u"?function(n){return Sv.resolve(null).then(n).catch(Z_)}:_v;function Z_(n){setTimeout(function(){throw n})}function ac(n){return n==="head"}function Nv(n,i){var l=i,h=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(h===0){n.removeChild(g),fh(i);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Sf(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,Sf(l);for(var x=l.firstChild;x;){var L=x.nextSibling,K=x.nodeName;x[kn]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=L}}else l==="body"&&Sf(n.ownerDocument.body);l=g}while(l);fh(i)}function Av(n,i){var l=n;n=0;do{var h=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=h}while(l)}function Z0(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Z0(l),En(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function Q_(n,i,l,h){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(h){if(!n[kn])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=Na(n.nextSibling),n===null)break}return null}function K_(n,i,l){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Na(n.nextSibling),n===null))return null;return n}function Cv(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=Na(n.nextSibling),n===null))return null;return n}function Q0(n){return n.data==="$?"||n.data==="$~"}function K0(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function J_(n,i){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||l.readyState!=="loading")i();else{var h=function(){i(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),n._reactRetry=h}}function Na(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var J0=null;function Tv(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(i===0)return Na(n.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}n=n.nextSibling}return null}function kv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return n;i--}else l!=="/$"&&l!=="/&"||i++}n=n.previousSibling}return null}function Ev(n,i,l){switch(i=r1(l),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Sf(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);En(n)}var Aa=new Map,jv=new Set;function s1(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var bl=ie.d;ie.d={f:e4,r:t4,D:n4,C:r4,L:s4,m:i4,X:o4,S:a4,M:l4};function e4(){var n=bl.f(),i=$d();return n||i}function t4(n){var i=$n(n);i!==null&&i.tag===5&&i.type==="form"?Y2(i):bl.r(n)}var ch=typeof document>"u"?null:document;function Mv(n,i,l){var h=ch;if(h&&typeof i=="string"&&i){var g=Rr(i);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),jv.has(g)||(jv.add(g),n={rel:n,crossOrigin:l,href:i},h.querySelector(g)===null&&(i=h.createElement("link"),Us(i,"link",n),Pn(i),h.head.appendChild(i)))}}function n4(n){bl.D(n),Mv("dns-prefetch",n,null)}function r4(n,i){bl.C(n,i),Mv("preconnect",n,i)}function s4(n,i,l){bl.L(n,i,l);var h=ch;if(h&&n&&i){var g='link[rel="preload"][as="'+Rr(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Rr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Rr(l.imageSizes)+'"]')):g+='[href="'+Rr(n)+'"]';var x=g;switch(i){case"style":x=uh(n);break;case"script":x=hh(n)}Aa.has(x)||(n=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:n,as:i},l),Aa.set(x,n),h.querySelector(g)!==null||i==="style"&&h.querySelector(Nf(x))||i==="script"&&h.querySelector(Af(x))||(i=h.createElement("link"),Us(i,"link",n),Pn(i),h.head.appendChild(i)))}}function i4(n,i){bl.m(n,i);var l=ch;if(l&&n){var h=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+Rr(h)+'"][href="'+Rr(n)+'"]',x=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=hh(n)}if(!Aa.has(x)&&(n=y({rel:"modulepreload",href:n},i),Aa.set(x,n),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Af(x)))return}h=l.createElement("link"),Us(h,"link",n),Pn(h),l.head.appendChild(h)}}}function a4(n,i,l){bl.S(n,i,l);var h=ch;if(h&&n){var g=es(h).hoistableStyles,x=uh(n);i=i||"default";var L=g.get(x);if(!L){var K={loading:0,preload:null};if(L=h.querySelector(Nf(x)))K.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},l),(l=Aa.get(x))&&em(n,l);var ge=L=h.createElement("link");Pn(ge),Us(ge,"link",n),ge._p=new Promise(function(Le,Pe){ge.onload=Le,ge.onerror=Pe}),ge.addEventListener("load",function(){K.loading|=1}),ge.addEventListener("error",function(){K.loading|=2}),K.loading|=4,i1(L,i,h)}L={type:"stylesheet",instance:L,count:1,state:K},g.set(x,L)}}}function o4(n,i){bl.X(n,i);var l=ch;if(l&&n){var h=es(l).hoistableScripts,g=hh(n),x=h.get(g);x||(x=l.querySelector(Af(g)),x||(n=y({src:n,async:!0},i),(i=Aa.get(g))&&tm(n,i),x=l.createElement("script"),Pn(x),Us(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(g,x))}}function l4(n,i){bl.M(n,i);var l=ch;if(l&&n){var h=es(l).hoistableScripts,g=hh(n),x=h.get(g);x||(x=l.querySelector(Af(g)),x||(n=y({src:n,async:!0,type:"module"},i),(i=Aa.get(g))&&tm(n,i),x=l.createElement("script"),Pn(x),Us(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(g,x))}}function Lv(n,i,l,h){var g=(g=oe.current)?s1(g):null;if(!g)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=uh(l.href),l=es(g).hoistableStyles,h=l.get(i),h||(h={type:"style",instance:null,count:0,state:null},l.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=uh(l.href);var x=es(g).hoistableStyles,L=x.get(n);if(L||(g=g.ownerDocument||g,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,L),(x=g.querySelector(Nf(n)))&&!x._p&&(L.instance=x,L.state.loading=5),Aa.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Aa.set(n,l),x||c4(g,n,l,L.state))),i&&h===null)throw Error(s(528,""));return L}if(i&&h!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=hh(l),l=es(g).hoistableScripts,h=l.get(i),h||(h={type:"script",instance:null,count:0,state:null},l.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function uh(n){return'href="'+Rr(n)+'"'}function Nf(n){return'link[rel="stylesheet"]['+n+"]"}function Ov(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function c4(n,i,l,h){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=n.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),Us(i,"link",l),Pn(i),n.head.appendChild(i))}function hh(n){return'[src="'+Rr(n)+'"]'}function Af(n){return"script[async]"+n}function Dv(n,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var h=n.querySelector('style[data-href~="'+Rr(l.href)+'"]');if(h)return i.instance=h,Pn(h),h;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(n.ownerDocument||n).createElement("style"),Pn(h),Us(h,"style",g),i1(h,l.precedence,n),i.instance=h;case"stylesheet":g=uh(l.href);var x=n.querySelector(Nf(g));if(x)return i.state.loading|=4,i.instance=x,Pn(x),x;h=Ov(l),(g=Aa.get(g))&&em(h,g),x=(n.ownerDocument||n).createElement("link"),Pn(x);var L=x;return L._p=new Promise(function(K,ge){L.onload=K,L.onerror=ge}),Us(x,"link",h),i.state.loading|=4,i1(x,l.precedence,n),i.instance=x;case"script":return x=hh(l.src),(g=n.querySelector(Af(x)))?(i.instance=g,Pn(g),g):(h=l,(g=Aa.get(x))&&(h=y({},l),tm(h,g)),n=n.ownerDocument||n,g=n.createElement("script"),Pn(g),Us(g,"link",h),n.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,i1(h,l.precedence,n));return i.instance}function i1(n,i,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,x=g,L=0;L<h.length;L++){var K=h[L];if(K.dataset.precedence===i)x=K;else if(x!==g)break}x?x.parentNode.insertBefore(n,x.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(n,i.firstChild))}function em(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function tm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var a1=null;function Rv(n,i,l){if(a1===null){var h=new Map,g=a1=new Map;g.set(l,h)}else g=a1,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(n))return h;for(h.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var x=l[g];if(!(x[kn]||x[Ft]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var L=x.getAttribute(i)||"";L=n+L;var K=h.get(L);K?K.push(x):h.set(L,[x])}}return h}function Iv(n,i,l){n=n.ownerDocument||n,n.head.insertBefore(l,i==="title"?n.querySelector("head > title"):null)}function u4(n,i,l){if(l===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Fv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function h4(n,i,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=uh(h.href),x=i.querySelector(Nf(g));if(x){i=x._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=o1.bind(n),i.then(n,n)),l.state.loading|=4,l.instance=x,Pn(x);return}x=i.ownerDocument||i,h=Ov(h),(g=Aa.get(g))&&em(h,g),x=x.createElement("link"),Pn(x);var L=x;L._p=new Promise(function(K,ge){L.onload=K,L.onerror=ge}),Us(x,"link",h),l.instance=x}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=o1.bind(n),i.addEventListener("load",l),i.addEventListener("error",l))}}var nm=0;function f4(n,i){return n.stylesheets&&n.count===0&&c1(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var h=setTimeout(function(){if(n.stylesheets&&c1(n,n.stylesheets),n.unsuspend){var x=n.unsuspend;n.unsuspend=null,x()}},6e4+i);0<n.imgBytes&&nm===0&&(nm=62500*W_());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&c1(n,n.stylesheets),n.unsuspend)){var x=n.unsuspend;n.unsuspend=null,x()}},(n.imgBytes>nm?50:800)+i);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function o1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)c1(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var l1=null;function c1(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,l1=new Map,i.forEach(d4,n),l1=null,o1.call(n))}function d4(n,i){if(!(i.state.loading&4)){var l=l1.get(n);if(l)var h=l.get(null);else{l=new Map,l1.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var L=g[x];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(l.set(L.dataset.precedence,L),h=L)}h&&l.set(null,h)}g=i.instance,L=g.getAttribute("data-precedence"),x=l.get(L)||h,x===h&&l.set(null,g),l.set(L,g),this.count++,h=o1.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),x?x.parentNode.insertBefore(g,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),i.state.loading|=4}}var Cf={$$typeof:I,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function p4(n,i,l,h,g,x,L,K,ge){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ot(0),this.hiddenUpdates=Ot(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function Vv(n,i,l,h,g,x,L,K,ge,Le,Pe,Ye){return n=new p4(n,i,l,L,ge,Le,Pe,Ye,K),i=1,x===!0&&(i|=24),x=Ts(3,null,null,i),n.current=x,x.stateNode=n,i=Xl(),i.refCount++,n.pooledCache=i,i.refCount++,x.memoizedState={element:h,isDehydrated:l,cache:i},dt(x),n}function Bv(n){return n?(n=ps,n):ps}function qv(n,i,l,h,g,x){g=Bv(g),h.context===null?h.context=g:h.pendingContext=g,h=Yt(i),h.payload={element:l},x=x===void 0?null:x,x!==null&&(h.callback=x),l=fn(n,h,i),l!==null&&(Oi(l,n,i),Gn(l,n,i))}function zv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function rm(n,i){zv(n,i),(n=n.alternate)&&zv(n,i)}function Pv(n){if(n.tag===13||n.tag===31){var i=Xa(n,67108864);i!==null&&Oi(i,n,67108864),rm(n,67108864)}}function Uv(n){if(n.tag===13||n.tag===31){var i=na();i=sn(i);var l=Xa(n,i);l!==null&&Oi(l,n,i),rm(n,i)}}var u1=!0;function m4(n,i,l,h){var g=B.T;B.T=null;var x=ie.p;try{ie.p=2,sm(n,i,l,h)}finally{ie.p=x,B.T=g}}function g4(n,i,l,h){var g=B.T;B.T=null;var x=ie.p;try{ie.p=8,sm(n,i,l,h)}finally{ie.p=x,B.T=g}}function sm(n,i,l,h){if(u1){var g=im(h);if(g===null)H0(n,i,h,h1,l),Gv(n,h);else if(v4(g,n,i,l,h))h.stopPropagation();else if(Gv(n,h),i&4&&-1<b4.indexOf(n)){for(;g!==null;){var x=$n(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var L=bt(x.pendingLanes);if(L!==0){var K=x;for(K.pendingLanes|=2,K.entangledLanes|=2;L;){var ge=1<<31-It(L);K.entanglements[1]|=ge,L&=~ge}Do(x),(Yn&6)===0&&(Yd=$e()+500,xf(0))}}break;case 31:case 13:K=Xa(x,2),K!==null&&Oi(K,x,2),$d(),rm(x,2)}if(x=im(h),x===null&&H0(n,i,h,h1,l),x===g)break;g=x}g!==null&&h.stopPropagation()}else H0(n,i,h,null,l)}}function im(n){return n=Yo(n),am(n)}var h1=null;function am(n){if(h1=null,n=Vn(n),n!==null){var i=o(n);if(i===null)n=null;else{var l=i.tag;if(l===13){if(n=u(i),n!==null)return n;n=null}else if(l===31){if(n=c(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return h1=n,null}function Hv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tt()){case at:return 2;case mt:return 8;case yt:case ot:return 32;case kt:return 268435456;default:return 32}default:return 32}}var om=!1,oc=null,lc=null,cc=null,Tf=new Map,kf=new Map,uc=[],b4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gv(n,i){switch(n){case"focusin":case"focusout":oc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":cc=null;break;case"pointerover":case"pointerout":Tf.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kf.delete(i.pointerId)}}function Ef(n,i,l,h,g,x){return n===null||n.nativeEvent!==x?(n={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:x,targetContainers:[g]},i!==null&&(i=$n(i),i!==null&&Pv(i)),n):(n.eventSystemFlags|=h,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function v4(n,i,l,h,g){switch(i){case"focusin":return oc=Ef(oc,n,i,l,h,g),!0;case"dragenter":return lc=Ef(lc,n,i,l,h,g),!0;case"mouseover":return cc=Ef(cc,n,i,l,h,g),!0;case"pointerover":var x=g.pointerId;return Tf.set(x,Ef(Tf.get(x)||null,n,i,l,h,g)),!0;case"gotpointercapture":return x=g.pointerId,kf.set(x,Ef(kf.get(x)||null,n,i,l,h,g)),!0}return!1}function Wv(n){var i=Vn(n.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){n.blockedOn=i,Qe(n.priority,function(){Uv(l)});return}}else if(i===31){if(i=c(l),i!==null){n.blockedOn=i,Qe(n.priority,function(){Uv(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function f1(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=im(n.nativeEvent);if(l===null){l=n.nativeEvent;var h=new l.constructor(l.type,l);Ma=h,l.target.dispatchEvent(h),Ma=null}else return i=$n(l),i!==null&&Pv(i),n.blockedOn=l,!1;i.shift()}return!0}function Yv(n,i,l){f1(n)&&l.delete(i)}function y4(){om=!1,oc!==null&&f1(oc)&&(oc=null),lc!==null&&f1(lc)&&(lc=null),cc!==null&&f1(cc)&&(cc=null),Tf.forEach(Yv),kf.forEach(Yv)}function d1(n,i){n.blockedOn===i&&(n.blockedOn=null,om||(om=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,y4)))}var p1=null;function Xv(n){p1!==n&&(p1=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){p1===n&&(p1=null);for(var i=0;i<n.length;i+=3){var l=n[i],h=n[i+1],g=n[i+2];if(typeof h!="function"){if(am(h||l)===null)continue;break}var x=$n(l);x!==null&&(n.splice(i,3),i-=3,i0(x,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function fh(n){function i(ge){return d1(ge,n)}oc!==null&&d1(oc,n),lc!==null&&d1(lc,n),cc!==null&&d1(cc,n),Tf.forEach(i),kf.forEach(i);for(var l=0;l<uc.length;l++){var h=uc[l];h.blockedOn===n&&(h.blockedOn=null)}for(;0<uc.length&&(l=uc[0],l.blockedOn===null);)Wv(l),l.blockedOn===null&&uc.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],x=l[h+1],L=g[Et]||null;if(typeof x=="function")L||Xv(l);else if(L){var K=null;if(x&&x.hasAttribute("formAction")){if(g=x,L=x[Et]||null)K=L.formAction;else if(am(g)!==null)continue}else K=L.action;typeof K=="function"?l[h+1]=K:(l.splice(h,3),h-=3),Xv(l)}}}function $v(){function n(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(L){return g=L})},focusReset:"manual",scroll:"manual"})}function i(){g!==null&&(g(),g=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),g!==null&&(g(),g=null)}}}function lm(n){this._internalRoot=n}m1.prototype.render=lm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,h=na();qv(l,h,n,i,null,null)},m1.prototype.unmount=lm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;qv(n.current,2,null,n,null,null),$d(),i[Xt]=null}};function m1(n){this._internalRoot=n}m1.prototype.unstable_scheduleHydration=function(n){if(n){var i=Fe();n={blockedOn:null,target:n,priority:i};for(var l=0;l<uc.length&&i!==0&&i<uc[l].priority;l++);uc.splice(l,0,n),l===0&&Wv(n)}};var Zv=e.version;if(Zv!=="19.2.0")throw Error(s(527,Zv,"19.2.0"));ie.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=d(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var x4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var g1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!g1.isDisabled&&g1.supportsFiber)try{Gt=g1.inject(x4),Nt=g1}catch{}}return Mf.createRoot=function(n,i){if(!a(n))throw Error(s(299));var l=!1,h="",g=rb,x=sb,L=ib;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(L=i.onRecoverableError)),i=Vv(n,1,!1,null,null,l,h,null,g,x,L,$v),n[Xt]=i.current,U0(n),new lm(i)},Mf.hydrateRoot=function(n,i,l){if(!a(n))throw Error(s(299));var h=!1,g="",x=rb,L=sb,K=ib,ge=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(L=l.onCaughtError),l.onRecoverableError!==void 0&&(K=l.onRecoverableError),l.formState!==void 0&&(ge=l.formState)),i=Vv(n,1,!0,i,l??null,h,g,ge,x,L,K,$v),i.context=Bv(null),l=i.current,h=na(),h=sn(h),g=Yt(h),g.callback=null,fn(l,g,h),l=h,i.current.lanes=l,it(i,l),Do(i),n[Xt]=i.current,U0(n),new m1(i)},Mf.version="19.2.0",Mf}var a5;function j4(){if(a5)return hm.exports;a5=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hm.exports=E4(),hm.exports}var M4=j4();const o5=r=>{let e;const t=new Set,s=(d,m)=>{const y=typeof d=="function"?d(e):d;if(!Object.is(y,e)){const _=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(b=>b(e,_))}},a=()=>e,c={setState:s,getState:a,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=r(s,a,c);return c},L4=(r=>r?o5(r):o5),O4=r=>r;function D4(r,e=O4){const t=Xn.useSyncExternalStore(r.subscribe,Xn.useCallback(()=>e(r.getState()),[r,e]),Xn.useCallback(()=>e(r.getInitialState()),[r,e]));return Xn.useDebugValue(t),t}const R4=r=>{const e=L4(r),t=s=>D4(e,s);return Object.assign(t,e),t},I4=(r=>R4);function F4(r,e){let t;try{t=r()}catch{return}return{getItem:a=>{var o;const u=f=>f===null?null:JSON.parse(f,void 0),c=(o=t.getItem(a))!=null?o:null;return c instanceof Promise?c.then(u):u(c)},setItem:(a,o)=>t.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>t.removeItem(a)}}const Gm=r=>e=>{try{const t=r(e);return t instanceof Promise?t:{then(s){return Gm(s)(t)},catch(s){return this}}}catch(t){return{then(s){return this},catch(s){return Gm(s)(t)}}}},V4=(r,e)=>(t,s,a)=>{let o={storage:F4(()=>localStorage),partialize:A=>A,version:0,merge:(A,E)=>({...E,...A}),...e},u=!1;const c=new Set,f=new Set;let d=o.storage;if(!d)return r((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...A)},s,a);const m=()=>{const A=o.partialize({...s()});return d.setItem(o.name,{state:A,version:o.version})},y=a.setState;a.setState=(A,E)=>(y(A,E),m());const _=r((...A)=>(t(...A),m()),s,a);a.getInitialState=()=>_;let b;const N=()=>{var A,E;if(!d)return;u=!1,c.forEach(R=>{var I;return R((I=s())!=null?I:_)});const T=((E=o.onRehydrateStorage)==null?void 0:E.call(o,(A=s())!=null?A:_))||void 0;return Gm(d.getItem.bind(d))(o.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==o.version){if(o.migrate){const I=o.migrate(R.state,R.version);return I instanceof Promise?I.then(q=>[!0,q]):[!0,I]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var I;const[q,V]=R;if(b=o.merge(V,(I=s())!=null?I:_),t(b,!0),q)return m()}).then(()=>{T?.(b,void 0),b=s(),u=!0,f.forEach(R=>R(b))}).catch(R=>{T?.(void 0,R)})};return a.persist={setOptions:A=>{o={...o,...A},A.storage&&(d=A.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>N(),hasHydrated:()=>u,onHydrate:A=>(c.add(A),()=>{c.delete(A)}),onFinishHydration:A=>(f.add(A),()=>{f.delete(A)})},o.skipHydration||N(),b||_},B4=V4,_l=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Vf=["C","G","D","A","E","B","F#","Db","Ab","Eb","Bb","F"],q4=[{major:"C",ii:"Dm",iii:"Em",diminished:"B"},{major:"G",ii:"Am",iii:"Bm",diminished:"F#"},{major:"D",ii:"Em",iii:"F#m",diminished:"C#"},{major:"A",ii:"Bm",iii:"C#m",diminished:"G#"},{major:"E",ii:"F#m",iii:"G#m",diminished:"D#"},{major:"B",ii:"C#m",iii:"D#m",diminished:"A#"},{major:"F#",ii:"G#m",iii:"A#m",diminished:"E#"},{major:"Db",ii:"Ebm",iii:"Fm",diminished:"C"},{major:"Ab",ii:"Bbm",iii:"Cm",diminished:"G"},{major:"Eb",ii:"Fm",iii:"Gm",diminished:"D"},{major:"Bb",ii:"Cm",iii:"Dm",diminished:"A"},{major:"F",ii:"Gm",iii:"Am",diminished:"E"}];function Eh(r){return r.includes("b")&&{Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#",Cb:"B",Fb:"E"}[r]||r}const z4={7:"dominant7",9:"dominant9",11:"dominant11",13:"dominant13",maj7:"major7",maj9:"major9",maj11:"major11",maj13:"major13",6:"major6",add9:"add9",m7:"minor7",m9:"minor9",m11:"minor11",m13:"minor13",m6:"minor6",dim:"diminished",dim7:"diminished7",m7b5:"halfDiminished7","m75":"halfDiminished7",7:"halfDiminished7",sus2:"sus2",sus4:"sus4","7sus4":"dominant7sus4"},P4={major:[0,4,7],minor:[0,3,7],diminished:[0,3,6],augmented:[0,4,8],sus2:[0,2,7],sus4:[0,5,7],major6:[0,4,7,9],minor6:[0,3,7,9],major7:[0,4,7,11],minor7:[0,3,7,10],dominant7:[0,4,7,10],diminished7:[0,3,6,9],halfDiminished7:[0,3,6,10],dominant7sus4:[0,5,7,10],add9:[0,4,7,14],major9:[0,4,7,11,14],minor9:[0,3,7,10,14],dominant9:[0,4,7,10,14],major11:[0,4,7,11,14,17],minor11:[0,3,7,10,14,17],dominant11:[0,4,7,10,14,17],major13:[0,4,7,11,14,21],minor13:[0,3,7,10,14,21],dominant13:[0,4,7,10,14,21]};function Sl(r,e){const t=Eh(r),s=_l.indexOf(t);if(s===-1)return[];const a=z4[e]||e,o=P4[a];return o?o.map(u=>_l[(s+u)%12]):(console.warn(`Unknown chord quality: ${e} (resolved to ${a})`),_l.slice(s,s+1).concat([_l[(s+4)%12],_l[(s+7)%12]]))}function nu(r,e){if(!r||r.length===0)return r;const t=r.length-1,s=Math.max(0,Math.min(e,t));return s===0?r:[...r.slice(s),...r.slice(0,s)]}function U4(r){return Math.max(0,(r?.length||1)-1)}function H4(r){return["Root","1st","2nd","3rd","4th","5th","6th"][r]||`${r}th`}function l5(r,e,t,s){const o=`${r}${e==="major"||e==="maj"?"":e}`;if(!s||s===0||!t||t.length===0)return o;const u=t[s%t.length];return`${o}/${u}`}function G4(r){const e=["G","D","A","E","B","F#","C#"],t=["F","Bb","Eb","Ab","Db","Gb","Cb"],s=e.indexOf(r),a=t.indexOf(r);return s>=0?{sharps:s+1,flats:0}:a>=0?{sharps:0,flats:a+1}:{sharps:0,flats:0}}function ld(){return{C:"hsl(48, 95%, 58%)",G:"hsl(72, 75%, 50%)",D:"hsl(95, 65%, 48%)",A:"hsl(160, 60%, 45%)",E:"hsl(185, 70%, 50%)",B:"hsl(205, 75%, 55%)","F#":"hsl(235, 60%, 58%)",Gb:"hsl(235, 60%, 58%)",Db:"hsl(265, 55%, 55%)",Ab:"hsl(285, 50%, 52%)",Eb:"hsl(315, 60%, 55%)",Bb:"hsl(350, 70%, 58%)",F:"hsl(28, 85%, 55%)"}}function W4(r,e){const t=Eh(r),s=Eh(e),a=_l.indexOf(t),o=_l.indexOf(s);if(a===-1||o===-1)return"?";let u=(o-a+12)%12;return{0:"1",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[u]||"?"}function Gs(r){return r&&r.replace(/([A-G])b/g,"$1")}const Hs=[];for(let r=0;r<256;++r)Hs.push((r+256).toString(16).slice(1));function Y4(r,e=0){return(Hs[r[e+0]]+Hs[r[e+1]]+Hs[r[e+2]]+Hs[r[e+3]]+"-"+Hs[r[e+4]]+Hs[r[e+5]]+"-"+Hs[r[e+6]]+Hs[r[e+7]]+"-"+Hs[r[e+8]]+Hs[r[e+9]]+"-"+Hs[r[e+10]]+Hs[r[e+11]]+Hs[r[e+12]]+Hs[r[e+13]]+Hs[r[e+14]]+Hs[r[e+15]]).toLowerCase()}let mm;const X4=new Uint8Array(16);function $4(){if(!mm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");mm=crypto.getRandomValues.bind(crypto)}return mm(X4)}const Z4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),c5={randomUUID:Z4};function Q4(r,e,t){r=r||{};const s=r.random??r.rng?.()??$4();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Y4(s)}function Ms(r,e,t){return c5.randomUUID&&!r?c5.randomUUID():Q4(r)}function u5(r){if(r.length===0)return"intro";const e=r.map(o=>o.type),t=e[e.length-1],s=e.slice(-4),a=e.reduce((o,u)=>(o[u]=(o[u]||0)+1,o),{});if(t==="intro")return"verse";if(s.length>=4){const[o,u,c,f]=s;if(o==="verse"&&u==="chorus"&&c==="verse"&&f==="chorus"||o==="chorus"&&u==="verse"&&c==="chorus"&&f==="verse")return"bridge"}if(t==="bridge"||t==="verse")return"chorus";if(t==="chorus"){const o=e.includes("bridge"),u=a.chorus||0;return o&&u>=3?"outro":"verse"}return t==="outro"?"verse":t==="pre-chorus"||t==="custom"?"chorus":"verse"}const Ls=[4,4],If=(r=Ls)=>{const[e,t]=r;return!e||!t?4:e*(4/t)},au=r=>{const e=If(r);return{id:Ms(),beats:[{id:Ms(),chord:null,duration:e}]}},Ro=r=>r?`${r.sectionId}:${r.slotId}`:"",Cg=r=>{const e=[];return r.forEach(t=>{t.measures.forEach(s=>{s.beats.forEach(a=>{e.push({sectionId:t.id,slotId:a.id,chord:a.chord??null})})})}),e},ru=(r,e)=>{if(!e)return null;for(const t of r)if(t.id===e.sectionId){for(const s of t.measures)for(const a of s.beats)if(a.id===e.slotId)return a.chord??null}return null},h5=(r,e)=>e?Cg(r).findIndex(s=>s.sectionId===e.sectionId&&s.slotId===e.slotId):-1,K4=(r,e,t)=>{const s=Cg(r),a=s.findIndex(f=>f.sectionId===e.sectionId&&f.slotId===e.slotId),o=s.findIndex(f=>f.sectionId===t.sectionId&&f.slotId===t.slotId);if(a===-1||o===-1)return[];const[u,c]=a<=o?[a,o]:[o,a];return s.slice(u,c+1).map(({sectionId:f,slotId:d})=>({sectionId:f,slotId:d}))},D1=(r,e)=>e?r.some(t=>t.id===e.sectionId&&t.measures.some(s=>s.beats.some(a=>a.id===e.slotId))):!1,su=(r,e,t,s,a)=>{const o=e&&t?{sectionId:e,slotId:t}:null,u=s.filter(m=>D1(r,m)),c=D1(r,o),f=u[u.length-1]||(c?o:null),d=a&&D1(r,a);return{selectedSectionId:f?.sectionId??null,selectedSlotId:f?.slotId??null,selectedSlots:u,selectionAnchor:d?a:u[0]??f??null}},Wm=100,Ff=r=>typeof structuredClone=="function"?structuredClone(r):JSON.parse(JSON.stringify(r)),Ur=r=>{const e=Ff(r.currentSong),t=[...r.historyPast,e].slice(-Wm);return{historyPast:t,historyFuture:[],canUndo:t.length>0,canRedo:!1}},f5=(r,e,t,s,a)=>{const o=su(r.sections,e,t,s,a),u=o.selectedSectionId&&o.selectedSlotId?{sectionId:o.selectedSectionId,slotId:o.selectedSlotId}:null,c=u?ru(r.sections,u):null;return{...o,selectedChord:c}},J4=(r,e,t)=>{let s=!1;for(const a of r)for(const o of a.measures)for(const u of o.beats){if(s)return{sectionId:a.id,slotId:u.id};a.id===e&&u.id===t&&(s=!0)}return null},Lf={id:"default",title:"Untitled Song",artist:"",key:"C",tempo:120,timeSignature:[4,4],sections:[{id:"verse-1",name:"Verse 1",type:"verse",timeSignature:Ls,measures:Array(4).fill(null).map(()=>au(Ls))},{id:"chorus-1",name:"Chorus",type:"chorus",timeSignature:Ls,measures:Array(4).fill(null).map(()=>au(Ls))}],notes:"",createdAt:new Date,updatedAt:new Date},gm={root:"C",quality:"major",numeral:"I",notes:["C","E","G"],symbol:"C"},An=I4()(B4(r=>({currentSong:Lf,historyPast:[],historyFuture:[],canUndo:!1,canRedo:!1,selectedKey:"C",wheelRotation:0,wheelMode:"fixed",chordPanelVisible:!0,timelineVisible:!0,songMapVisible:!1,collapsedSections:{},selectedChord:gm,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,isPlaying:!1,playingSectionId:null,playingSlotId:null,isLooping:!1,tempo:120,volume:.8,instrument:"piano",isMuted:!1,setKey:e=>r({selectedKey:e}),rotateWheel:e=>r(t=>({wheelRotation:t.wheelMode==="rotating"?t.wheelRotation+(e==="cw"?-30:30):0})),toggleWheelMode:()=>r(e=>{const t=e.wheelMode==="rotating"?"fixed":"rotating";let s=0;if(t==="rotating"){const a=Vf.indexOf(e.selectedKey);a!==-1&&(s=-(a*30))}return{wheelMode:t,wheelRotation:s}}),toggleChordPanel:()=>r(e=>({chordPanelVisible:!e.chordPanelVisible})),toggleTimeline:()=>r(e=>({timelineVisible:!e.timelineVisible})),openTimeline:()=>r(e=>{if(typeof window<"u"&&window.dispatchEvent(new CustomEvent("openMobileTimeline")),!e.selectedSectionId||!e.selectedSlotId){const t=e.currentSong.sections[0],s=t?.measures[0]?.beats[0];if(t&&s)return{timelineVisible:!0,selectedSectionId:t.id,selectedSlotId:s.id,selectedSlots:[{sectionId:t.id,slotId:s.id}],selectionAnchor:{sectionId:t.id,slotId:s.id}}}return{timelineVisible:!0}}),toggleSongMap:e=>r(t=>({songMapVisible:e!==void 0?e:!t.songMapVisible})),toggleSectionCollapsed:e=>r(t=>{const s={...t.collapsedSections,[e]:!t.collapsedSections?.[e]};return s[e]||delete s[e],{collapsedSections:s}}),setSelectedChord:e=>r({selectedChord:e}),setSelectedSlot:(e,t)=>r(s=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,selectedChord:null};const a={sectionId:e,slotId:t},o=ru(s.currentSong.sections,a);return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[a],selectionAnchor:a,selectedChord:o??null}}),selectSlotOnly:(e,t)=>r(()=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null};const s={sectionId:e,slotId:t};return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[s],selectionAnchor:s}}),setSelectedSlots:e=>r(t=>{const s=e.filter(Boolean),a=s[s.length-1]??null,o=ru(t.currentSong.sections,a);return{selectedSlots:s,selectedSectionId:a?.sectionId??null,selectedSlotId:a?.slotId??null,selectionAnchor:s[0]??a??null,selectedChord:o??null}}),toggleSlotSelection:(e,t)=>r(s=>{const a=s.selectedSlots.some(d=>d.sectionId===e&&d.slotId===t),o=a?s.selectedSlots.filter(d=>!(d.sectionId===e&&d.slotId===t)):[...s.selectedSlots,{sectionId:e,slotId:t}],u=o[o.length-1]??null,c=ru(s.currentSong.sections,u),f=a&&s.selectionAnchor&&Ro(s.selectionAnchor)===Ro({sectionId:e,slotId:t});return{selectedSlots:o,selectedSectionId:u?.sectionId??null,selectedSlotId:u?.slotId??null,selectionAnchor:f?o[0]??u??null:s.selectionAnchor??u??null,selectedChord:c??null}}),selectRangeTo:(e,t)=>r(s=>{const a={sectionId:e,slotId:t},o=s.selectionAnchor||s.selectedSlots[s.selectedSlots.length-1]||(s.selectedSectionId&&s.selectedSlotId?{sectionId:s.selectedSectionId,slotId:s.selectedSlotId}:a),c=D1(s.currentSong.sections,o)?o:a,f=K4(s.currentSong.sections,c,a),d=f.length?f:[a],m=ru(s.currentSong.sections,a);return{selectedSlots:d,selectedSectionId:a.sectionId,selectedSlotId:a.slotId,selectionAnchor:c,selectedChord:m??null}}),moveSelection:(e,t,s="move")=>{let a=!1;return r(o=>{const u=Cg(o.currentSong.sections),c=h5(o.currentSong.sections,e),f=h5(o.currentSong.sections,t);if(c===-1||f===-1)return{};const m=(o.selectedSlots.length?o.selectedSlots:[e]).map(O=>{const F=u.findIndex(J=>J.sectionId===O.sectionId&&J.slotId===O.slotId);return F>=0?{idx:F,slot:u[F]}:null}).filter(O=>!!O).sort((O,F)=>O.idx-F.idx);if(!m.length)return{};const y=f-c,_=m.map(({idx:O})=>O+y);if(_.some(O=>O<0||O>=u.length))return{};const b=_.map(O=>u[O]);if(m.length===1&&s==="move"){const O=m[0].slot,F=b[0],J=Ur(o),k=o.currentSong.sections.map(B=>({...B,measures:B.measures.map(ie=>({...ie,beats:ie.beats.map(re=>re.id===O.slotId&&B.id===O.sectionId?{...re,chord:F.chord}:re.id===F.slotId&&B.id===F.sectionId?{...re,chord:O.chord}:re)}))}));a=!0;const D=o.selectionAnchor&&Ro(o.selectionAnchor)===Ro(e),Q=su(k,t.sectionId,t.slotId,[{sectionId:F.sectionId,slotId:F.slotId}],D?{sectionId:F.sectionId,slotId:F.slotId}:o.selectionAnchor),$=Q.selectedSectionId&&Q.selectedSlotId?{sectionId:Q.selectedSectionId,slotId:Q.selectedSlotId}:null,le=ru(k,$);return{...J,currentSong:{...o.currentSong,sections:k},selectedSectionId:Q.selectedSectionId,selectedSlotId:Q.selectedSlotId,selectedSlots:Q.selectedSlots,selectionAnchor:Q.selectionAnchor,selectedChord:le??null}}const N=new Map;m.forEach((O,F)=>{N.set(Ro(b[F]),O.slot.chord??null)});const A=new Set;s==="move"&&m.forEach((O,F)=>{const J=Ro(O.slot),k=Ro(b[F]);J!==k&&A.add(J)});const E=Ur(o),T=o.currentSong.sections.map(O=>({...O,measures:O.measures.map(F=>({...F,beats:F.beats.map(J=>{const k=Ro({sectionId:O.id,slotId:J.id});return N.has(k)?{...J,chord:N.get(k)??null}:A.has(k)?{...J,chord:null}:J})}))}));a=!0;const R=Ro(o.selectionAnchor),I=m.find(O=>Ro(O.slot)===R),q=I?{sectionId:b[m.indexOf(I)].sectionId,slotId:b[m.indexOf(I)].slotId}:o.selectionAnchor,V=su(T,t.sectionId,t.slotId,b.map(O=>({sectionId:O.sectionId,slotId:O.slotId})),q??null),W=V.selectedSectionId&&V.selectedSlotId?{sectionId:V.selectedSectionId,slotId:V.selectedSlotId}:null,H=ru(T,W);return{...E,currentSong:{...o.currentSong,sections:T},selectedSectionId:V.selectedSectionId,selectedSlotId:V.selectedSlotId,selectedSlots:V.selectedSlots,selectionAnchor:V.selectionAnchor,selectedChord:H??null}}),a},selectNextSlotAfter:(e,t)=>{let s=!1;return r(a=>{const o=J4(a.currentSong.sections,e,t);if(!o)return{};const u=a.currentSong.sections.find(c=>c.id===o.sectionId)?.measures.flatMap(c=>c.beats).find(c=>c.id===o.slotId)?.chord??null;return s=!0,{selectedSectionId:o.sectionId,selectedSlotId:o.slotId,selectedChord:u,selectedSlots:[{sectionId:o.sectionId,slotId:o.slotId}],selectionAnchor:{sectionId:o.sectionId,slotId:o.slotId}}}),s},setTempo:e=>r(t=>({...Ur(t),tempo:e,currentSong:{...t.currentSong,tempo:e}})),setVolume:e=>r({volume:e}),setInstrument:e=>r({instrument:e}),setIsPlaying:e=>r({isPlaying:e}),setPlayingSlot:(e,t)=>r({playingSectionId:e,playingSlotId:t}),toggleLoop:()=>r(e=>({isLooping:!e.isLooping})),toggleMute:()=>r(e=>({isMuted:!e.isMuted})),setTitle:e=>r(t=>({...Ur(t),currentSong:{...t.currentSong,title:e}})),loadSong:e=>r(t=>{const s=e.key||"C",a=e.tempo??Lf.tempo;let o=0;if(t.wheelMode==="rotating"){const c=Vf.indexOf(s);c!==-1&&(o=-(c*30))}return{...Ur(t),currentSong:{...e,tempo:a},selectedKey:s,wheelRotation:o,selectedChord:gm,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:a}}),newSong:()=>r(e=>({...Ur(e),currentSong:{...Lf,id:Ms(),title:"Untitled Song",createdAt:new Date,updatedAt:new Date,tempo:Lf.tempo,sections:[{id:Ms(),name:"Verse 1",type:"verse",timeSignature:Ls,measures:Array(4).fill(null).map(()=>au(Ls))},{id:Ms(),name:"Chorus",type:"chorus",timeSignature:Ls,measures:Array(4).fill(null).map(()=>au(Ls))}]},selectedKey:"C",wheelRotation:0,selectedChord:gm,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:Lf.tempo})),addSection:e=>r(t=>{const s={id:Ms(),name:e.charAt(0).toUpperCase()+e.slice(1),type:e,timeSignature:t.currentSong.timeSignature||Ls,measures:Array(4).fill(null).map(()=>au(t.currentSong.timeSignature||Ls))};return{...Ur(t),currentSong:{...t.currentSong,sections:[...t.currentSong.sections,s]}}}),addSuggestedSection:()=>r(e=>{const t=u5(e.currentSong.sections),s={id:Ms(),name:t.charAt(0).toUpperCase()+t.slice(1),type:t,timeSignature:e.currentSong.timeSignature||Ls,measures:Array(4).fill(null).map(()=>au(e.currentSong.timeSignature||Ls))};return{...Ur(e),currentSong:{...e.currentSong,sections:[...e.currentSong.sections,s]}}}),addCustomSection:(e,t,s,a)=>r(o=>{const u=o.currentSong.timeSignature||Ls,c=If(u),f=a?.beatsPerChord??4,d=c/f;let m;a?.totalBars?m=a.totalBars:d>=1?m=Math.ceil(s.length/d):m=s.length*Math.ceil(1/d);const y=[];if(d>=1)for(let E=0;E<m;E++){const T=[];for(let R=0;R<d;R++){const I=Math.floor(E*d+R);T.push({id:Ms(),chord:s[I]||null,duration:f})}y.push({id:Ms(),beats:T})}else for(let E=0;E<m;E++)y.push({id:Ms(),beats:[{id:Ms(),chord:s[E]||null,duration:c}]});const _={id:Ms(),name:e,type:t,timeSignature:u,measures:y},b=Ur(o),N=y[0]?.beats[0]?.id,A=y[0]?.beats[0]?.chord??null;return{...b,currentSong:{...o.currentSong,sections:[...o.currentSong.sections,_]},selectedSectionId:_.id,selectedSlotId:N??null,selectedSlots:N?[{sectionId:_.id,slotId:N}]:[],selectionAnchor:N?{sectionId:_.id,slotId:N}:null,selectedChord:A}}),getSuggestedSectionType:()=>{const e=An.getState();return u5(e.currentSong.sections)},updateSection:(e,t)=>r(s=>({...Ur(s),currentSong:{...s.currentSong,sections:s.currentSong.sections.map(o=>o.id===e?{...o,...t}:o)}})),removeSection:e=>r(t=>{const s=Ur(t),{[e]:a,...o}=t.collapsedSections||{};return{...s,currentSong:{...t.currentSong,sections:t.currentSong.sections.filter(u=>u.id!==e)},collapsedSections:o}}),clearSection:e=>r(t=>{const s=t.currentSong.sections.find(c=>c.id===e);if(!s)return{};if(!s.measures.some(c=>c.beats.some(f=>f.chord!==null)))return{};const o=Ur(t),u=t.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>({...d,chord:null}))}))});return{...o,currentSong:{...t.currentSong,sections:u}}}),duplicateSection:e=>r(t=>{const s=t.currentSong.sections.find(f=>f.id===e);if(!s)return{};const a=Ur(t),o={...s,id:Ms(),name:`${s.name} (Copy)`,timeSignature:s.timeSignature||t.currentSong.timeSignature||Ls,measures:s.measures.map(f=>({...f,id:Ms(),beats:f.beats.map(d=>({...d,id:Ms()}))}))},u=t.currentSong.sections.findIndex(f=>f.id===e),c=[...t.currentSong.sections];return c.splice(u+1,0,o),{...a,currentSong:{...t.currentSong,sections:c}}}),reorderSections:e=>r(t=>({...Ur(t),currentSong:{...t.currentSong,sections:e}})),setSectionMeasures:(e,t)=>r(s=>{const a=Math.max(1,Math.min(16,Math.round(t))),o=s.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||s.currentSong.timeSignature||Ls;let m=[...f.measures];if(m.length<a)for(;m.length<a;)m.push(au(d));else m.length>a&&(m=m.slice(0,a));return{...f,measures:m}}),u=su(o,s.selectedSectionId,s.selectedSlotId,s.selectedSlots,s.selectionAnchor);return{...Ur(s),currentSong:{...s.currentSong,sections:o},...u}}),setSectionTimeSignature:(e,t)=>r(s=>{const a=s.currentSong.sections.map(c=>{if(c.id!==e)return c;const f=If(t);return{...c,timeSignature:t,measures:c.measures.map(d=>({...d,beats:[{id:Ms(),chord:null,duration:f}]}))}}),o=su(a,s.selectedSectionId,s.selectedSlotId,s.selectedSlots,s.selectionAnchor);return{...Ur(s),currentSong:{...s.currentSong,sections:a},...o}}),setMeasureSubdivision:(e,t,s)=>r(a=>{const o=Math.max(1,Math.min(16,Math.round(s))),u=a.currentSong.sections.map(d=>{if(d.id!==e)return d;const m=d.timeSignature||a.currentSong.timeSignature||Ls,y=If(m);return{...d,measures:d.measures.map(_=>{if(_.id!==t)return _;const b=y/o,N=Array.from({length:o}).map((A,E)=>{const T=_.beats[E];return{id:T?.id??Ms(),chord:T?.chord??null,duration:b}});return{..._,beats:N}})}}),c=su(u,a.selectedSectionId,a.selectedSlotId,a.selectedSlots,a.selectionAnchor);return{...Ur(a),currentSong:{...a.currentSong,sections:u},...c}}),setSectionSubdivision:(e,t)=>r(s=>{const a=Math.max(1,Math.min(16,Math.round(t))),o=s.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||s.currentSong.timeSignature||Ls,y=If(d)/a;return{...f,measures:f.measures.map(_=>{const b=Array.from({length:a}).map((N,A)=>{const E=_.beats[A];return{id:E?.id??Ms(),chord:E?.chord??null,duration:y}});return{..._,beats:b}})}}),u=su(o,s.selectedSectionId,s.selectedSlotId,s.selectedSlots,s.selectionAnchor);return{...Ur(s),currentSong:{...s.currentSong,sections:o},...u}}),addChordToSlot:(e,t,s)=>r(a=>{const o=Ur(a),u=a.currentSong.sections.map(c=>c.id!==t?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==s?d:{...d,chord:e})}))});return{...o,currentSong:{...a.currentSong,sections:u}}}),clearSlot:(e,t)=>r(s=>{if(!s.currentSong.sections.some(c=>c.id===e&&c.measures.some(f=>f.beats.some(d=>d.id===t&&d.chord))))return{};const o=Ur(s),u=s.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==t?d:{...d,chord:null})}))});return{...o,currentSong:{...s.currentSong,sections:u}}}),clearTimeline:()=>r(e=>{if(!e.currentSong.sections.some(o=>o.measures.some(u=>u.beats.some(c=>c.chord!==null))))return{};const s=Ur(e),a=e.currentSong.sections.map(o=>({...o,measures:o.measures.map(u=>({...u,beats:u.beats.map(c=>({...c,chord:null}))}))}));return{...s,currentSong:{...e.currentSong,sections:a},selectedChord:null}}),moveChord:(e,t,s,a)=>r(o=>{let u=null,c=null;if(o.currentSong.sections.forEach(m=>{m.measures.forEach(y=>{y.beats.forEach(_=>{_.id===t&&(u=_.chord),_.id===a&&(c=_.chord)})})}),!u&&!c)return{};const f=Ur(o),d=o.currentSong.sections.map(m=>({...m,measures:m.measures.map(y=>({...y,beats:y.beats.map(_=>_.id===t?{..._,chord:c}:_.id===a?{..._,chord:u}:_)}))}));return{...f,currentSong:{...o.currentSong,sections:d}}}),undo:()=>r(e=>{if(!e.historyPast.length)return{};const t=e.historyPast[e.historyPast.length-1],s=e.historyPast.slice(0,-1),a=[Ff(e.currentSong),...e.historyFuture].slice(0,Wm),o=f5(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Ff(t),historyPast:s,historyFuture:a,canUndo:s.length>0,canRedo:a.length>0,tempo:t.tempo??e.tempo,...o}}),redo:()=>r(e=>{if(!e.historyFuture.length)return{};const t=e.historyFuture[0],s=e.historyFuture.slice(1),a=[...e.historyPast,Ff(e.currentSong)].slice(-Wm),o=f5(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Ff(t),historyPast:a,historyFuture:s,canUndo:a.length>0,canRedo:s.length>0,tempo:t.tempo??e.tempo,...o}})}),{name:"songwriter-wheel-storage",partialize:r=>({currentSong:r.currentSong,tempo:r.tempo,volume:r.volume,instrument:r.instrument,isMuted:r.isMuted})}));function bc(r,e,t,s){const a=(s-90)*Math.PI/180;return{x:r+t*Math.cos(a),y:e+t*Math.sin(a)}}function eS(r,e,t,s,a){const o=bc(r,e,t,s),u=bc(r,e,t,a),c=a-s<=180?"0":"1";return["M",o.x,o.y,"A",t,t,0,c,1,u.x,u.y].join(" ")}function tS(r,e,t,s,a,o){const u=bc(r,e,s,o),c=bc(r,e,s,a),f=bc(r,e,t,o),d=bc(r,e,t,a),m=o-a<=180?"0":"1";return["M",u.x,u.y,"A",s,s,0,m,0,c.x,c.y,"L",d.x,d.y,"A",t,t,0,m,1,f.x,f.y,"Z"].join(" ")}function Sx(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=Sx(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function Ut(){for(var r,e,t=0,s="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=Sx(r))&&(s&&(s+=" "),s+=e);return s}const Nx="15.1.22",d5=(r,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:r}),p5=(r,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:r}),Ym=(r,e)=>({startTime:e,type:"setValue",value:r}),Ax=(r,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:r}),Cx=(r,e,{startTime:t,target:s,timeConstant:a})=>s+(e-s)*Math.exp((t-r)/a),yh=r=>r.type==="exponentialRampToValue",X1=r=>r.type==="linearRampToValue",mc=r=>yh(r)||X1(r),Tg=r=>r.type==="setValue",xl=r=>r.type==="setValueCurve",$1=(r,e,t,s)=>{const a=r[e];return a===void 0?s:mc(a)||Tg(a)?a.value:xl(a)?a.values[a.values.length-1]:Cx(t,$1(r,e-1,a.startTime,s),a)},m5=(r,e,t,s,a)=>t===void 0?[s.insertTime,a]:mc(t)?[t.endTime,t.value]:Tg(t)?[t.startTime,t.value]:xl(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,$1(r,e-1,t.startTime,a)],Xm=r=>r.type==="cancelAndHold",$m=r=>r.type==="cancelScheduledValues",fc=r=>Xm(r)||$m(r)?r.cancelTime:yh(r)||X1(r)?r.endTime:r.startTime,g5=(r,e,t,{endTime:s,value:a})=>t===a?a:0<t&&0<a||t<0&&a<0?t*(a/t)**((r-e)/(s-e)):0,b5=(r,e,t,{endTime:s,value:a})=>t+(r-e)/(s-e)*(a-t),nS=(r,e)=>{const t=Math.floor(e),s=Math.ceil(e);return t===s?r[t]:(1-(e-t))*r[t]+(1-(s-e))*r[s]},rS=(r,{duration:e,startTime:t,values:s})=>{const a=(r-t)/e*(s.length-1);return nS(s,a)},v1=r=>r.type==="setTarget";class sS{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=fc(e);if(Xm(e)||$m(e)){const s=this._automationEvents.findIndex(o=>$m(e)&&xl(o)?o.startTime+o.duration>=t:fc(o)>=t),a=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),Xm(e)){const o=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&mc(a)){if(o!==void 0&&v1(o))throw new Error("The internal list is malformed.");const u=o===void 0?a.insertTime:xl(o)?o.startTime+o.duration:fc(o),c=o===void 0?this._defaultValue:xl(o)?o.values[o.values.length-1]:o.value,f=yh(a)?g5(t,u,c,a):b5(t,u,c,a),d=yh(a)?d5(f,t,this._currenTime):p5(f,t,this._currenTime);this._automationEvents.push(d)}if(o!==void 0&&v1(o)&&this._automationEvents.push(Ym(this.getValue(t),t)),o!==void 0&&xl(o)&&o.startTime+o.duration>t){const u=t-o.startTime,c=(o.values.length-1)/o.duration,f=Math.max(2,1+Math.ceil(u*c)),d=u/(f-1)*c,m=o.values.slice(0,f);if(d<1)for(let y=1;y<f;y+=1){const _=d*y%1;m[y]=o.values[y-1]*(1-_)+o.values[y]*_}this._automationEvents[this._automationEvents.length-1]=Ax(m,o.startTime,u)}}}else{const s=this._automationEvents.findIndex(u=>fc(u)>t),a=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(a!==void 0&&xl(a)&&fc(a)+a.duration>t)return!1;const o=yh(e)?d5(e.value,e.endTime,this._currenTime):X1(e)?p5(e.value,t,this._currenTime):e;if(s===-1)this._automationEvents.push(o);else{if(xl(e)&&t+e.duration>fc(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,o)}}return!0}flush(e){const t=this._automationEvents.findIndex(s=>fc(s)>e);if(t>1){const s=this._automationEvents.slice(t-1),a=s[0];v1(a)&&s.unshift(Ym($1(this._automationEvents,t-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(u=>fc(u)>e),s=this._automationEvents[t],a=(t===-1?this._automationEvents.length:t)-1,o=this._automationEvents[a];if(o!==void 0&&v1(o)&&(s===void 0||!mc(s)||s.insertTime>e))return Cx(e,$1(this._automationEvents,a-1,o.startTime,this._defaultValue),o);if(o!==void 0&&Tg(o)&&(s===void 0||!mc(s)))return o.value;if(o!==void 0&&xl(o)&&(s===void 0||!mc(s)||o.startTime+o.duration>e))return e<o.startTime+o.duration?rS(e,o):o.values[o.values.length-1];if(o!==void 0&&mc(o)&&(s===void 0||!mc(s)))return o.value;if(s!==void 0&&yh(s)){const[u,c]=m5(this._automationEvents,a,o,s,this._defaultValue);return g5(e,u,c,s)}if(s!==void 0&&X1(s)){const[u,c]=m5(this._automationEvents,a,o,s,this._defaultValue);return b5(e,u,c,s)}return this._defaultValue}}const iS=r=>({cancelTime:r,type:"cancelAndHold"}),aS=r=>({cancelTime:r,type:"cancelScheduledValues"}),oS=(r,e)=>({endTime:e,type:"exponentialRampToValue",value:r}),lS=(r,e)=>({endTime:e,type:"linearRampToValue",value:r}),cS=(r,e,t)=>({startTime:e,target:r,timeConstant:t,type:"setTarget"}),uS=()=>new DOMException("","AbortError"),hS=r=>(e,t,[s,a,o],u)=>{r(e[a],[t,s,o],c=>c[0]===t&&c[1]===s,u)},fS=r=>(e,t,s)=>{const a=[];for(let o=0;o<s.numberOfInputs;o+=1)a.push(new Set);r.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},dS=r=>(e,t)=>{r.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},jh=new WeakSet,Tx=new WeakMap,kg=new WeakMap,kx=new WeakMap,Eg=new WeakMap,Np=new WeakMap,Ex=new WeakMap,Zm=new WeakMap,Qm=new WeakMap,Km=new WeakMap,jx={construct(){return jx}},pS=r=>{try{const e=new Proxy(r,jx);new e}catch{return!1}return!0},v5=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,y5=(r,e)=>{const t=[];let s=r.replace(/^[\s]+/,""),a=s.match(v5);for(;a!==null;){const o=a[1].slice(1,-1),u=a[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,e).toString());t.push(u),s=s.slice(a[0].length).replace(/^[\s]+/,""),a=s.match(v5)}return[t.join(";"),s]},x5=r=>{if(r!==void 0&&!Array.isArray(r))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},w5=r=>{if(!pS(r))throw new TypeError("The given value for processorCtor should be a constructor.");if(r.prototype===null||typeof r.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},mS=(r,e,t,s,a,o,u,c,f,d,m,y,_)=>{let b=0;return(N,A,E={credentials:"omit"})=>{const T=m.get(N);if(T!==void 0&&T.has(A))return Promise.resolve();const R=d.get(N);if(R!==void 0){const V=R.get(A);if(V!==void 0)return V}const I=o(N),q=I.audioWorklet===void 0?a(A).then(([V,W])=>{const[H,O]=y5(V,W),F=`${H};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${O}
})})(window,'_AWGS')`;return t(F)}).then(()=>{const V=_._AWGS.pop();if(V===void 0)throw new SyntaxError;s(I.currentTime,I.sampleRate,()=>V(class{},void 0,(W,H)=>{if(W.trim()==="")throw e();const O=Qm.get(I);if(O!==void 0){if(O.has(W))throw e();w5(H),x5(H.parameterDescriptors),O.set(W,H)}else w5(H),x5(H.parameterDescriptors),Qm.set(I,new Map([[W,H]]))},I.sampleRate,void 0,void 0))}):Promise.all([a(A),Promise.resolve(r(y,y))]).then(([[V,W],H])=>{const O=b+1;b=O;const[F,J]=y5(V,W),$=`${F};((AudioWorkletProcessor,registerProcessor)=>{${J}
})(${H?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${H?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${H?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${O}',class extends AudioWorkletProcessor{process(){return !1}})`,le=new Blob([$],{type:"application/javascript; charset=utf-8"}),B=URL.createObjectURL(le);return I.audioWorklet.addModule(B,E).then(()=>{if(c(I))return I;const ie=u(I);return ie.audioWorklet.addModule(B,E).then(()=>ie)}).then(ie=>{if(f===null)throw new SyntaxError;try{new f(ie,`__sac${O}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(B))});return R===void 0?d.set(N,new Map([[A,q]])):R.set(A,q),q.then(()=>{const V=m.get(N);V===void 0?m.set(N,new Set([A])):V.add(A)}).finally(()=>{const V=d.get(N);V!==void 0&&V.delete(A)}),q}},oo=(r,e)=>{const t=r.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},Ap=(r,e)=>{const t=Array.from(r).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[s]=t;return r.delete(s),s},Mx=(r,e,t,s)=>{const a=oo(r,e),o=Ap(a,u=>u[0]===t&&u[1]===s);return a.size===0&&r.delete(e),o},cd=r=>oo(Ex,r),Mh=r=>{if(jh.has(r))throw new Error("The AudioNode is already stored.");jh.add(r),cd(r).forEach(e=>e(!0))},Lx=r=>"port"in r,ud=r=>{if(!jh.has(r))throw new Error("The AudioNode is not stored.");jh.delete(r),cd(r).forEach(e=>e(!1))},Jm=(r,e)=>{!Lx(r)&&e.every(t=>t.size===0)&&ud(r)},gS=(r,e,t,s,a,o,u,c,f,d,m,y,_)=>{const b=new WeakMap;return(N,A,E,T,R)=>{const{activeInputs:I,passiveInputs:q}=o(A),{outputs:V}=o(N),W=c(N),H=O=>{const F=f(A),J=f(N);if(O){const k=Mx(q,N,E,T);r(I,N,k,!1),!R&&!y(N)&&t(J,F,E,T),_(A)&&Mh(A)}else{const k=s(I,N,E,T);e(q,T,k,!1),!R&&!y(N)&&a(J,F,E,T);const D=u(A);if(D===0)m(A)&&Jm(A,I);else{const Q=b.get(A);Q!==void 0&&clearTimeout(Q),b.set(A,setTimeout(()=>{m(A)&&Jm(A,I)},D*1e3))}}};return d(V,[A,E,T],O=>O[0]===A&&O[1]===E&&O[2]===T,!0)?(W.add(H),m(N)?r(I,N,[E,T,H],!0):e(q,T,[N,E,H],!0),!0):!1}},bS=r=>(e,t,[s,a,o],u)=>{const c=e.get(s);c===void 0?e.set(s,new Set([[a,t,o]])):r(c,[a,t,o],f=>f[0]===a&&f[1]===t,u)},vS=r=>(e,t)=>{const s=r(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(s).connect(e.destination);const a=()=>{t.removeEventListener("ended",a),t.disconnect(s),s.disconnect()};t.addEventListener("ended",a)},yS=r=>(e,t)=>{r(e).add(t)},xS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},wS=(r,e,t,s,a,o)=>class extends r{constructor(c,f){const d=a(c),m={...xS,...f},y=s(d,m),_=o(d)?e():null;super(c,!1,y,_),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=f,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},si=(r,e)=>r.context===e,_S=(r,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!si(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=r(u,d)}return s.set(u,c),await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},Z1=r=>{try{r.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},zo=()=>new DOMException("","IndexSizeError"),jg=r=>{r.getChannelData=(e=>t=>{try{return e.call(r,t)}catch(s){throw s.code===12?zo():s}})(r.getChannelData)},SS={numberOfChannels:1},NS=(r,e,t,s,a,o,u,c)=>{let f=null;return class Ox{constructor(m){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:_,sampleRate:b}={...SS,...m};f===null&&(f=new a(1,1,44100));const N=s!==null&&e(o,o)?new s({length:y,numberOfChannels:_,sampleRate:b}):f.createBuffer(_,y,b);if(N.numberOfChannels===0)throw t();return typeof N.copyFromChannel!="function"?(u(N),jg(N)):e(Z1,()=>Z1(N))||c(N),r.add(N),N}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===Ox.prototype||r.has(m)}}},Ii=-34028234663852886e22,di=-Ii,Nl=r=>jh.has(r),AS={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},CS=(r,e,t,s,a,o,u,c)=>class extends r{constructor(d,m){const y=o(d),_={...AS,...m},b=a(y,_),N=u(y),A=N?e():null;super(d,!1,b,A),this._audioBufferSourceNodeRenderer=A,this._isBufferNullified=!1,this._isBufferSet=_.buffer!==null,this._nativeAudioBufferSourceNode=b,this._onended=null,this._playbackRate=t(this,N,b.playbackRate,di,Ii)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const m=typeof d=="function"?c(this,d):null;this._nativeAudioBufferSourceNode.onended=m;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===m?d:y}get playbackRate(){return this._playbackRate}start(d=0,m=0,y){if(this._nativeAudioBufferSourceNode.start(d,m,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[d,m]:[d,m,y]),this.context.state!=="closed"){Mh(this);const _=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",_),Nl(this)&&ud(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",_)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},TS=(r,e,t,s,a)=>()=>{const o=new WeakMap;let u=null,c=null;const f=async(d,m)=>{let y=t(d);const _=si(y,m);if(!_){const b={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=e(m,b),u!==null&&y.start(...u),c!==null&&y.stop(c)}return o.set(m,y),_?await r(m,d.playbackRate,y.playbackRate):await s(m,d.playbackRate,y.playbackRate),await a(d,m,y),y};return{set start(d){u=d},set stop(d){c=d},render(d,m){const y=o.get(m);return y!==void 0?Promise.resolve(y):f(d,m)}}},kS=r=>"playbackRate"in r,ES=r=>"frequency"in r&&"gain"in r,jS=r=>"offset"in r,MS=r=>!("frequency"in r)&&"gain"in r,LS=r=>"detune"in r&&"frequency"in r&&!("gain"in r),OS=r=>"pan"in r,pi=r=>oo(Tx,r),hd=r=>oo(kx,r),eg=(r,e)=>{const{activeInputs:t}=pi(r);t.forEach(a=>a.forEach(([o])=>{e.includes(r)||eg(o,[...e,r])}));const s=kS(r)?[r.playbackRate]:Lx(r)?Array.from(r.parameters.values()):ES(r)?[r.Q,r.detune,r.frequency,r.gain]:jS(r)?[r.offset]:MS(r)?[r.gain]:LS(r)?[r.detune,r.frequency]:OS(r)?[r.pan]:[];for(const a of s){const o=hd(a);o!==void 0&&o.activeInputs.forEach(([u])=>eg(u,e))}Nl(r)&&ud(r)},Dx=r=>{eg(r.destination,[])},DS=r=>r===void 0||typeof r=="number"||typeof r=="string"&&(r==="balanced"||r==="interactive"||r==="playback"),RS=(r,e,t,s,a,o,u,c,f)=>class extends r{constructor(m={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new f(m)}catch(N){throw N.code===12&&N.message==="sampleRate is not in range"?t():N}if(y===null)throw s();if(!DS(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&y.sampleRate!==m.sampleRate)throw t();super(y,2);const{latencyHint:_}=m,{sampleRate:b}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:_==="balanced"?512/b:_==="interactive"||_===void 0?256/b:_==="playback"?1024/b:Math.max(2,Math.min(128,Math.round(_*b/128)))*128/b,this._nativeAudioContext=y,f.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const N=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",N)};y.addEventListener("statechange",N)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Dx(this)}))}createMediaElementSource(m){return new a(this,{mediaElement:m})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(m){return new u(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new c(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,y)=>{const _=()=>{this._nativeAudioContext.removeEventListener("statechange",_),this._nativeAudioContext.state==="running"?m():this.resume().then(m,y)};this._nativeAudioContext.addEventListener("statechange",_)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?e():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?e():m})}},IS=(r,e,t,s,a,o,u,c)=>class extends r{constructor(d,m){const y=o(d),_=u(y),b=a(y,m,_),N=_?e(c):null;super(d,!1,b,N),this._isNodeOfNativeOfflineAudioContext=_,this._nativeAudioDestinationNode=b}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},FS=r=>{const e=new WeakMap,t=async(s,a)=>{const o=a.destination;return e.set(a,o),await r(s,a,o),o};return{render(s,a){const o=e.get(a);return o!==void 0?Promise.resolve(o):t(s,a)}}},VS=(r,e,t,s,a,o,u,c)=>(f,d)=>{const m=d.listener,y=()=>{const V=new Float32Array(1),W=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),H=u(d);let O=!1,F=[0,0,-1,0,1,0],J=[0,0,0];const k=()=>{if(O)return;O=!0;const le=s(d,256,9,0);le.onaudioprocess=({inputBuffer:B})=>{const ie=[o(B,V,0),o(B,V,1),o(B,V,2),o(B,V,3),o(B,V,4),o(B,V,5)];ie.some((fe,me)=>fe!==F[me])&&(m.setOrientation(...ie),F=ie);const re=[o(B,V,6),o(B,V,7),o(B,V,8)];re.some((fe,me)=>fe!==J[me])&&(m.setPosition(...re),J=re)},W.connect(le)},D=le=>B=>{B!==F[le]&&(F[le]=B,m.setOrientation(...F))},Q=le=>B=>{B!==J[le]&&(J[le]=B,m.setPosition(...J))},$=(le,B,ie)=>{const re=t(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:B});re.connect(W,0,le),re.start(),Object.defineProperty(re.offset,"defaultValue",{get(){return B}});const fe=r({context:f},H,re.offset,di,Ii);return c(fe,"value",me=>()=>me.call(fe),me=>G=>{try{me.call(fe,G)}catch(j){if(j.code!==9)throw j}k(),H&&ie(G)}),fe.cancelAndHoldAtTime=(me=>H?()=>{throw a()}:(...G)=>{const j=me.apply(fe,G);return k(),j})(fe.cancelAndHoldAtTime),fe.cancelScheduledValues=(me=>H?()=>{throw a()}:(...G)=>{const j=me.apply(fe,G);return k(),j})(fe.cancelScheduledValues),fe.exponentialRampToValueAtTime=(me=>H?()=>{throw a()}:(...G)=>{const j=me.apply(fe,G);return k(),j})(fe.exponentialRampToValueAtTime),fe.linearRampToValueAtTime=(me=>H?()=>{throw a()}:(...G)=>{const j=me.apply(fe,G);return k(),j})(fe.linearRampToValueAtTime),fe.setTargetAtTime=(me=>H?()=>{throw a()}:(...G)=>{const j=me.apply(fe,G);return k(),j})(fe.setTargetAtTime),fe.setValueAtTime=(me=>H?()=>{throw a()}:(...G)=>{const j=me.apply(fe,G);return k(),j})(fe.setValueAtTime),fe.setValueCurveAtTime=(me=>H?()=>{throw a()}:(...G)=>{const j=me.apply(fe,G);return k(),j})(fe.setValueCurveAtTime),fe};return{forwardX:$(0,0,D(0)),forwardY:$(1,0,D(1)),forwardZ:$(2,-1,D(2)),positionX:$(6,0,Q(0)),positionY:$(7,0,Q(1)),positionZ:$(8,0,Q(2)),upX:$(3,0,D(3)),upY:$(4,1,D(4)),upZ:$(5,0,D(5))}},{forwardX:_,forwardY:b,forwardZ:N,positionX:A,positionY:E,positionZ:T,upX:R,upY:I,upZ:q}=m.forwardX===void 0?y():m;return{get forwardX(){return _},get forwardY(){return b},get forwardZ(){return N},get positionX(){return A},get positionY(){return E},get positionZ(){return T},get upX(){return R},get upY(){return I},get upZ(){return q}}},Q1=r=>"context"in r,fd=r=>Q1(r[0]),vu=(r,e,t,s)=>{for(const a of r)if(t(a)){if(s)return!1;throw Error("The set contains at least one similar element.")}return r.add(e),!0},_5=(r,e,[t,s],a)=>{vu(r,[e,t,s],o=>o[0]===e&&o[1]===t,a)},S5=(r,[e,t,s],a)=>{const o=r.get(e);o===void 0?r.set(e,new Set([[t,s]])):vu(o,[t,s],u=>u[0]===t,a)},Ih=r=>"inputs"in r,K1=(r,e,t,s)=>{if(Ih(e)){const a=e.inputs[s];return r.connect(a,t,0),[a,t,0]}return r.connect(e,t,s),[e,t,s]},Rx=(r,e,t)=>{for(const s of r)if(s[0]===e&&s[1]===t)return r.delete(s),s;return null},BS=(r,e,t)=>Ap(r,s=>s[0]===e&&s[1]===t),Ix=(r,e)=>{if(!cd(r).delete(e))throw new Error("Missing the expected event listener.")},Fx=(r,e,t)=>{const s=oo(r,e),a=Ap(s,o=>o[0]===t);return s.size===0&&r.delete(e),a},J1=(r,e,t,s)=>{Ih(e)?r.disconnect(e.inputs[s],t,0):r.disconnect(e,t,s)},_r=r=>oo(kg,r),Xf=r=>oo(Eg,r),pu=r=>Zm.has(r),R1=r=>!jh.has(r),N5=(r,e)=>new Promise(t=>{if(e!==null)t(!0);else{const s=r.createScriptProcessor(256,1,1),a=r.createGain(),o=r.createBuffer(1,2,44100),u=o.getChannelData(0);u[0]=1,u[1]=1;const c=r.createBufferSource();c.buffer=o,c.loop=!0,c.connect(s).connect(r.destination),c.connect(a),c.disconnect(a),s.onaudioprocess=f=>{const d=f.inputBuffer.getChannelData(0);Array.prototype.some.call(d,m=>m===1)?t(!0):t(!1),c.stop(),s.onaudioprocess=null,c.disconnect(s),s.disconnect(r.destination)},c.start()}}),bm=(r,e)=>{const t=new Map;for(const s of r)for(const a of s){const o=t.get(a);t.set(a,o===void 0?1:o+1)}t.forEach((s,a)=>e(a,s))},ep=r=>"context"in r,qS=r=>{const e=new Map;r.connect=(t=>(s,a=0,o=0)=>{const u=ep(s)?t(s,a,o):t(s,a),c=e.get(s);return c===void 0?e.set(s,[{input:o,output:a}]):c.every(f=>f.input!==o||f.output!==a)&&c.push({input:o,output:a}),u})(r.connect.bind(r)),r.disconnect=(t=>(s,a,o)=>{if(t.apply(r),s===void 0)e.clear();else if(typeof s=="number")for(const[u,c]of e){const f=c.filter(d=>d.output!==s);f.length===0?e.delete(u):e.set(u,f)}else if(e.has(s))if(a===void 0)e.delete(s);else{const u=e.get(s);if(u!==void 0){const c=u.filter(f=>f.output!==a&&(f.input!==o||o===void 0));c.length===0?e.delete(s):e.set(s,c)}}for(const[u,c]of e)c.forEach(f=>{ep(u)?r.connect(u,f.output,f.input):r.connect(u,f.output)})})(r.disconnect)},zS=(r,e,t,s)=>{const{activeInputs:a,passiveInputs:o}=hd(e),{outputs:u}=pi(r),c=cd(r),f=d=>{const m=_r(r),y=Xf(e);if(d){const _=Fx(o,r,t);_5(a,r,_,!1),!s&&!pu(r)&&m.connect(y,t)}else{const _=BS(a,r,t);S5(o,_,!1),!s&&!pu(r)&&m.disconnect(y,t)}};return vu(u,[e,t],d=>d[0]===e&&d[1]===t,!0)?(c.add(f),Nl(r)?_5(a,r,[t,f],!0):S5(o,[r,t,f],!0),!0):!1},PS=(r,e,t,s)=>{const{activeInputs:a,passiveInputs:o}=pi(e),u=Rx(a[s],r,t);return u===null?[Mx(o,r,t,s)[2],!1]:[u[2],!0]},US=(r,e,t)=>{const{activeInputs:s,passiveInputs:a}=hd(e),o=Rx(s,r,t);return o===null?[Fx(a,r,t)[1],!1]:[o[2],!0]},Mg=(r,e,t,s,a)=>{const[o,u]=PS(r,t,s,a);if(o!==null&&(Ix(r,o),u&&!e&&!pu(r)&&J1(_r(r),_r(t),s,a)),Nl(t)){const{activeInputs:c}=pi(t);Jm(t,c)}},Lg=(r,e,t,s)=>{const[a,o]=US(r,t,s);a!==null&&(Ix(r,a),o&&!e&&!pu(r)&&_r(r).disconnect(Xf(t),s))},HS=(r,e)=>{const t=pi(r),s=[];for(const a of t.outputs)fd(a)?Mg(r,e,...a):Lg(r,e,...a),s.push(a[0]);return t.outputs.clear(),s},GS=(r,e,t)=>{const s=pi(r),a=[];for(const o of s.outputs)o[1]===t&&(fd(o)?Mg(r,e,...o):Lg(r,e,...o),a.push(o[0]),s.outputs.delete(o));return a},WS=(r,e,t,s,a)=>{const o=pi(r);return Array.from(o.outputs).filter(u=>u[0]===t&&(s===void 0||u[1]===s)&&(a===void 0||u[2]===a)).map(u=>(fd(u)?Mg(r,e,...u):Lg(r,e,...u),o.outputs.delete(u),u[0]))},YS=(r,e,t,s,a,o,u,c,f,d,m,y,_,b,N,A)=>class extends d{constructor(T,R,I,q){super(I),this._context=T,this._nativeAudioNode=I;const V=m(T);y(V)&&t(N5,()=>N5(V,A))!==!0&&qS(I),kg.set(this,I),Ex.set(this,new Set),T.state!=="closed"&&R&&Mh(this),r(this,q,I)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(T){this._nativeAudioNode.channelCount=T}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(T){this._nativeAudioNode.channelCountMode=T}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(T){this._nativeAudioNode.channelInterpretation=T}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(T,R=0,I=0){if(R<0||R>=this._nativeAudioNode.numberOfOutputs)throw a();const q=m(this._context),V=N(q);if(_(T)||b(T))throw o();if(Q1(T)){const O=_r(T);try{const J=K1(this._nativeAudioNode,O,R,I),k=R1(this);(V||k)&&this._nativeAudioNode.disconnect(...J),this.context.state!=="closed"&&!k&&R1(T)&&Mh(T)}catch(J){throw J.code===12?o():J}if(e(this,T,R,I,V)){const J=f([this],T);bm(J,s(V))}return T}const W=Xf(T);if(W.name==="playbackRate"&&W.maxValue===1024)throw u();try{this._nativeAudioNode.connect(W,R),(V||R1(this))&&this._nativeAudioNode.disconnect(W,R)}catch(O){throw O.code===12?o():O}if(zS(this,T,R,V)){const O=f([this],T);bm(O,s(V))}}disconnect(T,R,I){let q;const V=m(this._context),W=N(V);if(T===void 0)q=HS(this,W);else if(typeof T=="number"){if(T<0||T>=this.numberOfOutputs)throw a();q=GS(this,W,T)}else{if(R!==void 0&&(R<0||R>=this.numberOfOutputs)||Q1(T)&&I!==void 0&&(I<0||I>=T.numberOfInputs))throw a();if(q=WS(this,W,T,R,I),q.length===0)throw o()}for(const H of q){const O=f([this],H);bm(O,c)}}},XS=(r,e,t,s,a,o,u,c,f,d,m,y,_)=>(b,N,A,E=null,T=null)=>{const R=A.value,I=new sS(R),q=N?s(I):null,V={get defaultValue(){return R},get maxValue(){return E===null?A.maxValue:E},get minValue(){return T===null?A.minValue:T},get value(){return A.value},set value(W){A.value=W,V.setValueAtTime(W,b.context.currentTime)},cancelAndHoldAtTime(W){if(typeof A.cancelAndHoldAtTime=="function")q===null&&I.flush(b.context.currentTime),I.add(a(W)),A.cancelAndHoldAtTime(W);else{const H=Array.from(I).pop();q===null&&I.flush(b.context.currentTime),I.add(a(W));const O=Array.from(I).pop();A.cancelScheduledValues(W),H!==O&&O!==void 0&&(O.type==="exponentialRampToValue"?A.exponentialRampToValueAtTime(O.value,O.endTime):O.type==="linearRampToValue"?A.linearRampToValueAtTime(O.value,O.endTime):O.type==="setValue"?A.setValueAtTime(O.value,O.startTime):O.type==="setValueCurve"&&A.setValueCurveAtTime(O.values,O.startTime,O.duration))}return V},cancelScheduledValues(W){return q===null&&I.flush(b.context.currentTime),I.add(o(W)),A.cancelScheduledValues(W),V},exponentialRampToValueAtTime(W,H){if(W===0)throw new RangeError;if(!Number.isFinite(H)||H<0)throw new RangeError;const O=b.context.currentTime;return q===null&&I.flush(O),Array.from(I).length===0&&(I.add(d(R,O)),A.setValueAtTime(R,O)),I.add(u(W,H)),A.exponentialRampToValueAtTime(W,H),V},linearRampToValueAtTime(W,H){const O=b.context.currentTime;return q===null&&I.flush(O),Array.from(I).length===0&&(I.add(d(R,O)),A.setValueAtTime(R,O)),I.add(c(W,H)),A.linearRampToValueAtTime(W,H),V},setTargetAtTime(W,H,O){return q===null&&I.flush(b.context.currentTime),I.add(f(W,H,O)),A.setTargetAtTime(W,H,O),V},setValueAtTime(W,H){return q===null&&I.flush(b.context.currentTime),I.add(d(W,H)),A.setValueAtTime(W,H),V},setValueCurveAtTime(W,H,O){const F=W instanceof Float32Array?W:new Float32Array(W);if(y!==null&&y.name==="webkitAudioContext"){const J=H+O,k=b.context.sampleRate,D=Math.ceil(H*k),Q=Math.floor(J*k),$=Q-D,le=new Float32Array($);for(let ie=0;ie<$;ie+=1){const re=(F.length-1)/O*((D+ie)/k-H),fe=Math.floor(re),me=Math.ceil(re);le[ie]=fe===me?F[fe]:(1-(re-fe))*F[fe]+(1-(me-re))*F[me]}q===null&&I.flush(b.context.currentTime),I.add(m(le,H,O)),A.setValueCurveAtTime(le,H,O);const B=Q/k;B<J&&_(V,le[le.length-1],B),_(V,F[F.length-1],J)}else q===null&&I.flush(b.context.currentTime),I.add(m(F,H,O)),A.setValueCurveAtTime(F,H,O);return V}};return t.set(V,A),e.set(V,b),r(V,q),V},$S=r=>({replay(e){for(const t of r)if(t.type==="exponentialRampToValue"){const{endTime:s,value:a}=t;e.exponentialRampToValueAtTime(a,s)}else if(t.type==="linearRampToValue"){const{endTime:s,value:a}=t;e.linearRampToValueAtTime(a,s)}else if(t.type==="setTarget"){const{startTime:s,target:a,timeConstant:o}=t;e.setTargetAtTime(a,s,o)}else if(t.type==="setValue"){const{startTime:s,value:a}=t;e.setValueAtTime(a,s)}else if(t.type==="setValueCurve"){const{duration:s,startTime:a,values:o}=t;e.setValueCurveAtTime(o,a,s)}else throw new Error("Can't apply an unknown automation.")}});class Vx{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((s,a)=>e.call(t,s,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const ZS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},QS=(r,e,t,s,a,o,u,c,f,d,m,y,_,b)=>class extends e{constructor(A,E,T){var R;const I=c(A),q=f(I),V=m({...ZS,...T});_(V);const W=Qm.get(I),H=W?.get(E),O=q||I.state!=="closed"?I:(R=u(I))!==null&&R!==void 0?R:I,F=a(O,q?null:A.baseLatency,d,E,H,V),J=q?s(E,V,H):null;super(A,!0,F,J);const k=[];F.parameters.forEach((Q,$)=>{const le=t(this,q,Q);k.push([$,le])}),this._nativeAudioWorkletNode=F,this._onprocessorerror=null,this._parameters=new Vx(k),q&&r(I,this);const{activeInputs:D}=o(this);y(F,D)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(A){const E=typeof A=="function"?b(this,A):null;this._nativeAudioWorkletNode.onprocessorerror=E;const T=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=T!==null&&T===E?A:T}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function tp(r,e,t,s,a){if(typeof r.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),r.copyFromChannel(e[t],s,a);else{const o=r.getChannelData(s);if(e[t].byteLength===0)e[t]=o.slice(a,a+128);else{const u=new Float32Array(o.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(u)}}}const Bx=(r,e,t,s,a)=>{typeof r.copyToChannel=="function"?e[t].byteLength!==0&&r.copyToChannel(e[t],s,a):e[t].byteLength!==0&&r.getChannelData(s).set(e[t],a)},np=(r,e)=>{const t=[];for(let s=0;s<r;s+=1){const a=[],o=typeof e=="number"?e:e[s];for(let u=0;u<o;u+=1)a.push(new Float32Array(128));t.push(a)}return t},KS=(r,e)=>{const t=oo(Km,r),s=_r(e);return oo(t,s)},JS=async(r,e,t,s,a,o,u)=>{const c=e===null?Math.ceil(r.context.length/128)*128:e.length,f=s.channelCount*s.numberOfInputs,d=a.reduce((E,T)=>E+T,0),m=d===0?null:t.createBuffer(d,c,t.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const y=pi(r),_=await KS(t,r),b=np(s.numberOfInputs,s.channelCount),N=np(s.numberOfOutputs,a),A=Array.from(r.parameters.keys()).reduce((E,T)=>({...E,[T]:new Float32Array(128)}),{});for(let E=0;E<c;E+=128){if(s.numberOfInputs>0&&e!==null)for(let T=0;T<s.numberOfInputs;T+=1)for(let R=0;R<s.channelCount;R+=1)tp(e,b[T],R,R,E);o.parameterDescriptors!==void 0&&e!==null&&o.parameterDescriptors.forEach(({name:T},R)=>{tp(e,A,T,f+R,E)});for(let T=0;T<s.numberOfInputs;T+=1)for(let R=0;R<a[T];R+=1)N[T][R].byteLength===0&&(N[T][R]=new Float32Array(128));try{const T=b.map((I,q)=>y.activeInputs[q].size===0?[]:I),R=u(E/t.sampleRate,t.sampleRate,()=>_.process(T,N,A));if(m!==null)for(let I=0,q=0;I<s.numberOfOutputs;I+=1){for(let V=0;V<a[I];V+=1)Bx(m,N[I],V,q+V,E);q+=a[I]}if(!R)break}catch(T){r.dispatchEvent(new ErrorEvent("processorerror",{colno:T.colno,filename:T.filename,lineno:T.lineno,message:T.message}));break}}return m},e6=(r,e,t,s,a,o,u,c,f,d,m,y,_,b,N,A)=>(E,T,R)=>{const I=new WeakMap;let q=null;const V=async(W,H)=>{let O=m(W),F=null;const J=si(O,H),k=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(y===null){const D=k.reduce((B,ie)=>B+ie,0),Q=a(H,{channelCount:Math.max(1,D),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,D)}),$=[];for(let B=0;B<W.numberOfOutputs;B+=1)$.push(s(H,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:k[B]}));const le=u(H,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1});le.connect=e.bind(null,$),le.disconnect=f.bind(null,$),F=[Q,$,le]}else J||(O=new y(H,E));if(I.set(H,F===null?O:F[2]),F!==null){if(q===null){if(R===void 0)throw new Error("Missing the processor constructor.");if(_===null)throw new Error("Missing the native OfflineAudioContext constructor.");const ie=W.channelCount*W.numberOfInputs,re=R.parameterDescriptors===void 0?0:R.parameterDescriptors.length,fe=ie+re;q=JS(W,fe===0?null:await(async()=>{const G=new _(fe,Math.ceil(W.context.length/128)*128,H.sampleRate),j=[],z=[];for(let oe=0;oe<T.numberOfInputs;oe+=1)j.push(u(G,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),z.push(a(G,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const ee=await Promise.all(Array.from(W.parameters.values()).map(async oe=>{const de=o(G,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:oe.value});return await b(G,oe,de.offset),de})),te=s(G,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,ie+re)});for(let oe=0;oe<T.numberOfInputs;oe+=1){j[oe].connect(z[oe]);for(let de=0;de<T.channelCount;de+=1)z[oe].connect(te,de,oe*T.channelCount+de)}for(const[oe,de]of ee.entries())de.connect(te,0,ie+oe),de.start(0);return te.connect(G.destination),await Promise.all(j.map(oe=>N(W,G,oe))),A(G)})(),H,T,k,R,d)}const D=await q,Q=t(H,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[$,le,B]=F;D!==null&&(Q.buffer=D,Q.start(0)),Q.connect($);for(let ie=0,re=0;ie<W.numberOfOutputs;ie+=1){const fe=le[ie];for(let me=0;me<k[ie];me+=1)$.connect(fe,re+me,me);re+=k[ie]}return B}if(J)for(const[D,Q]of W.parameters.entries())await r(H,Q,O.parameters.get(D));else for(const[D,Q]of W.parameters.entries())await b(H,Q,O.parameters.get(D));return await N(W,H,O),O};return{render(W,H){c(H,W);const O=I.get(H);return O!==void 0?Promise.resolve(O):V(W,H)}}},t6=(r,e,t,s,a,o,u,c,f,d,m,y,_,b,N,A,E,T,R,I)=>class extends N{constructor(V,W){super(V,W),this._nativeContext=V,this._audioWorklet=r===void 0?void 0:{addModule:(H,O)=>r(this,H,O)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(V,W,H){return new t({length:W,numberOfChannels:V,sampleRate:H})}createBufferSource(){return new s(this)}createChannelMerger(V=6){return new o(this,{numberOfInputs:V})}createChannelSplitter(V=6){return new u(this,{numberOfOutputs:V})}createConstantSource(){return new c(this)}createConvolver(){return new f(this)}createDelay(V=1){return new m(this,{maxDelayTime:V})}createDynamicsCompressor(){return new y(this)}createGain(){return new _(this)}createIIRFilter(V,W){return new b(this,{feedback:W,feedforward:V})}createOscillator(){return new A(this)}createPanner(){return new E(this)}createPeriodicWave(V,W,H={disableNormalization:!1}){return new T(this,{...H,imag:W,real:V})}createStereoPanner(){return new R(this)}createWaveShaper(){return new I(this)}decodeAudioData(V,W,H){return d(this._nativeContext,V).then(O=>(typeof W=="function"&&W(O),O),O=>{throw typeof H=="function"&&H(O),O})}},n6={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},r6=(r,e,t,s,a,o,u,c)=>class extends r{constructor(d,m){const y=o(d),_={...n6,...m},b=a(y,_),N=u(y),A=N?t():null;super(d,!1,b,A),this._Q=e(this,N,b.Q,di,Ii),this._detune=e(this,N,b.detune,1200*Math.log2(di),-1200*Math.log2(di)),this._frequency=e(this,N,b.frequency,d.sampleRate/2,0),this._gain=e(this,N,b.gain,40*Math.log10(di),Ii),this._nativeBiquadFilterNode=b,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,m,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,m,y)}catch(_){throw _.code===11?s():_}if(d.length!==m.length||m.length!==y.length)throw s()}},s6=(r,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const m=si(d,f);if(!m){const y={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=e(f,y)}return o.set(f,d),m?(await r(f,c.Q,d.Q),await r(f,c.detune,d.detune),await r(f,c.frequency,d.frequency),await r(f,c.gain,d.gain)):(await s(f,c.Q,d.Q),await s(f,c.detune,d.detune),await s(f,c.frequency,d.frequency),await s(f,c.gain,d.gain)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},i6=(r,e)=>(t,s)=>{const a=e.get(t);if(a!==void 0)return a;const o=r.get(t);if(o!==void 0)return o;try{const u=s();return u instanceof Promise?(r.set(t,u),u.catch(()=>!1).then(c=>(r.delete(t),e.set(t,c),c))):(e.set(t,u),u)}catch{return e.set(t,!1),!1}},a6={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},o6=(r,e,t,s,a)=>class extends r{constructor(u,c){const f=s(u),d={...a6,...c},m=t(f,d),y=a(f)?e():null;super(u,!1,m,y)}},l6=(r,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!si(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=r(u,d)}return s.set(u,c),await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},c6={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},u6=(r,e,t,s,a,o)=>class extends r{constructor(c,f){const d=s(c),m=o({...c6,...f}),y=t(d,m),_=a(d)?e():null;super(c,!1,y,_)}},h6=(r,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!si(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=r(u,d)}return s.set(u,c),await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},f6=r=>(e,t,s)=>r(t,e,s),d6=r=>(e,t,s=0,a=0)=>{const o=e[s];if(o===void 0)throw r();return ep(t)?o.connect(t,0,a):o.connect(t,0)},p6=r=>(e,t)=>{const s=r(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return s.buffer=a,s.loop=!0,s.connect(t),s.start(),()=>{s.stop(),s.disconnect(t)}},m6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},g6=(r,e,t,s,a,o,u)=>class extends r{constructor(f,d){const m=a(f),y={...m6,...d},_=s(m,y),b=o(m),N=b?t():null;super(f,!1,_,N),this._constantSourceNodeRenderer=N,this._nativeConstantSourceNode=_,this._offset=e(this,b,_.offset,di,Ii),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?u(this,f):null;this._nativeConstantSourceNode.onended=d;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===d?f:m}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){Mh(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),Nl(this)&&ud(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},b6=(r,e,t,s,a)=>()=>{const o=new WeakMap;let u=null,c=null;const f=async(d,m)=>{let y=t(d);const _=si(y,m);if(!_){const b={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=e(m,b),u!==null&&y.start(u),c!==null&&y.stop(c)}return o.set(m,y),_?await r(m,d.offset,y.offset):await s(m,d.offset,y.offset),await a(d,m,y),y};return{set start(d){u=d},set stop(d){c=d},render(d,m){const y=o.get(m);return y!==void 0?Promise.resolve(y):f(d,m)}}},v6=r=>e=>(r[0]=e,r[0]),y6={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},x6=(r,e,t,s,a,o)=>class extends r{constructor(c,f){const d=s(c),m={...y6,...f},y=t(d,m),b=a(d)?e():null;super(c,!1,y,b),this._isBufferNullified=!1,this._nativeConvolverNode=y,m.buffer!==null&&o(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},w6=(r,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!si(c,u)){const d={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=r(u,d)}return s.set(u,c),Ih(c)?await t(o,u,c.inputs[0]):await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},_6=(r,e)=>(t,s,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,s,a)}catch(o){throw o.name==="SyntaxError"?r():o}},S6=()=>new DOMException("","DataCloneError"),A5=r=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(s=>{const a=()=>{t.onmessage=null,e.close(),t.close(),s()};t.onmessage=()=>a();try{e.postMessage(r,[r])}catch{}finally{a()}})},N6=(r,e,t,s,a,o,u,c,f,d,m)=>(y,_)=>{const b=u(y)?y:o(y);if(a.has(_)){const N=t();return Promise.reject(N)}try{a.add(_)}catch{}return e(f,()=>f(b))?b.decodeAudioData(_).then(N=>(A5(_).catch(()=>{}),e(c,()=>c(N))||m(N),r.add(N),N)):new Promise((N,A)=>{const E=async()=>{try{await A5(_)}catch{}},T=R=>{A(R),E()};try{b.decodeAudioData(_,R=>{typeof R.copyFromChannel!="function"&&(d(R),jg(R)),r.add(R),E().then(()=>N(R))},R=>{T(R===null?s():R)})}catch(R){T(R)}})},A6=(r,e,t,s,a,o,u,c)=>(f,d)=>{const m=e.get(f);if(m===void 0)throw new Error("Missing the expected cycle count.");const y=o(f.context),_=c(y);if(m===d){if(e.delete(f),!_&&u(f)){const b=s(f),{outputs:N}=t(f);for(const A of N)if(fd(A)){const E=s(A[0]);r(b,E,A[1],A[2])}else{const E=a(A[0]);b.connect(E,A[1])}}}else e.set(f,m-d)},C6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},T6=(r,e,t,s,a,o,u)=>class extends r{constructor(f,d){const m=a(f),y={...C6,...d},_=s(m,y),b=o(m),N=b?t(y.maxDelayTime):null;super(f,!1,_,N),this._delayTime=e(this,b,_.delayTime),u(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},k6=(r,e,t,s,a)=>o=>{const u=new WeakMap,c=async(f,d)=>{let m=t(f);const y=si(m,d);if(!y){const _={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:o};m=e(d,_)}return u.set(d,m),y?await r(d,f.delayTime,m.delayTime):await s(d,f.delayTime,m.delayTime),await a(f,d,m),m};return{render(f,d){const m=u.get(d);return m!==void 0?Promise.resolve(m):c(f,d)}}},E6=r=>(e,t,s,a)=>r(e[a],o=>o[0]===t&&o[1]===s),j6=r=>(e,t)=>{r(e).delete(t)},M6=r=>"delayTime"in r,L6=(r,e,t)=>function s(a,o){const u=Q1(o)?o:t(r,o);if(M6(u))return[];if(a[0]===u)return[a];if(a.includes(u))return[];const{outputs:c}=e(u);return Array.from(c).map(f=>s([...a,u],f[0])).reduce((f,d)=>f.concat(d),[])},y1=(r,e,t)=>{const s=e[t];if(s===void 0)throw r();return s},O6=r=>(e,t=void 0,s=void 0,a=0)=>t===void 0?e.forEach(o=>o.disconnect()):typeof t=="number"?y1(r,e,t).disconnect():ep(t)?s===void 0?e.forEach(o=>o.disconnect(t)):a===void 0?y1(r,e,s).disconnect(t,0):y1(r,e,s).disconnect(t,0,a):s===void 0?e.forEach(o=>o.disconnect(t)):y1(r,e,s).disconnect(t,0),D6={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},R6=(r,e,t,s,a,o,u,c)=>class extends r{constructor(d,m){const y=o(d),_={...D6,...m},b=s(y,_),N=u(y),A=N?t():null;super(d,!1,b,A),this._attack=e(this,N,b.attack),this._knee=e(this,N,b.knee),this._nativeDynamicsCompressorNode=b,this._ratio=e(this,N,b.ratio),this._release=e(this,N,b.release),this._threshold=e(this,N,b.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=m,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},I6=(r,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const m=si(d,f);if(!m){const y={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=e(f,y)}return o.set(f,d),m?(await r(f,c.attack,d.attack),await r(f,c.knee,d.knee),await r(f,c.ratio,d.ratio),await r(f,c.release,d.release),await r(f,c.threshold,d.threshold)):(await s(f,c.attack,d.attack),await s(f,c.knee,d.knee),await s(f,c.ratio,d.ratio),await s(f,c.release,d.release),await s(f,c.threshold,d.threshold)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},F6=()=>new DOMException("","EncodingError"),V6=r=>e=>new Promise((t,s)=>{if(r===null){s(new SyntaxError);return}const a=r.document.head;if(a===null)s(new SyntaxError);else{const o=r.document.createElement("script"),u=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(u),f=r.onerror,d=()=>{r.onerror=f,URL.revokeObjectURL(c)};r.onerror=(m,y,_,b,N)=>{if(y===c||y===r.location.href&&_===1&&b===1)return d(),s(N),!1;if(f!==null)return f(m,y,_,b,N)},o.onerror=()=>{d(),s(new SyntaxError)},o.onload=()=>{d(),t()},o.src=c,o.type="module",a.appendChild(o)}}),B6=r=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,s,a){if(s!==null){let o=this._listeners.get(s);o===void 0&&(o=r(this,s),typeof s=="function"&&this._listeners.set(s,o)),this._nativeEventTarget.addEventListener(t,o,a)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,s,a){const o=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,a)}},q6=r=>(e,t,s)=>{Object.defineProperties(r,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{r!==null&&(delete r.currentFrame,delete r.currentTime)}},z6=r=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw r()},P6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},U6=(r,e,t,s,a,o)=>class extends r{constructor(c,f){const d=a(c),m={...P6,...f},y=s(d,m),_=o(d),b=_?t():null;super(c,!1,y,b),this._gain=e(this,_,y.gain,di,Ii)}get gain(){return this._gain}},H6=(r,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const m=si(d,f);if(!m){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=e(f,y)}return o.set(f,d),m?await r(f,c.gain,d.gain):await s(f,c.gain,d.gain),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},G6=(r,e)=>t=>e(r,t),W6=r=>e=>{const t=r(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},Y6=r=>e=>{var t;return(t=r.get(e))!==null&&t!==void 0?t:0},X6=r=>e=>{const t=r(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},$6=r=>e=>r.get(e),Rs=()=>new DOMException("","InvalidStateError"),Z6=r=>e=>{const t=r.get(e);if(t===void 0)throw Rs();return t},Q6=(r,e)=>t=>{let s=r.get(t);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),r.set(t,s),s},K6=r=>e=>{const t=r.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},Cp=()=>new DOMException("","InvalidAccessError"),J6=r=>{r.getFrequencyResponse=(e=>(t,s,a)=>{if(t.length!==s.length||s.length!==a.length)throw Cp();return e.call(r,t,s,a)})(r.getFrequencyResponse)},eN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},tN=(r,e,t,s,a,o)=>class extends r{constructor(c,f){const d=s(c),m=a(d),y={...eN,...f},_=e(d,m?null:c.baseLatency,y),b=m?t(y.feedback,y.feedforward):null;super(c,!1,_,b),J6(_),this._nativeIIRFilterNode=_,o(this,1)}getFrequencyResponse(c,f,d){return this._nativeIIRFilterNode.getFrequencyResponse(c,f,d)}},qx=(r,e,t,s,a,o,u,c,f,d,m)=>{const y=d.length;let _=c;for(let b=0;b<y;b+=1){let N=t[0]*d[b];for(let A=1;A<a;A+=1){const E=_-A&f-1;N+=t[A]*o[E],N-=r[A]*u[E]}for(let A=a;A<s;A+=1)N+=t[A]*o[_-A&f-1];for(let A=a;A<e;A+=1)N-=r[A]*u[_-A&f-1];o[_]=d[b],u[_]=N,_=_+1&f-1,m[b]=N}return _},nN=(r,e,t,s)=>{const a=t instanceof Float64Array?t:new Float64Array(t),o=s instanceof Float64Array?s:new Float64Array(s),u=a.length,c=o.length,f=Math.min(u,c);if(a[0]!==1){for(let N=0;N<u;N+=1)o[N]/=a[0];for(let N=1;N<c;N+=1)a[N]/=a[0]}const d=32,m=new Float32Array(d),y=new Float32Array(d),_=e.createBuffer(r.numberOfChannels,r.length,r.sampleRate),b=r.numberOfChannels;for(let N=0;N<b;N+=1){const A=r.getChannelData(N),E=_.getChannelData(N);m.fill(0),y.fill(0),qx(a,u,o,c,f,m,y,0,d,A,E)}return _},rN=(r,e,t,s,a)=>(o,u)=>{const c=new WeakMap;let f=null;const d=async(m,y)=>{let _=null,b=e(m);const N=si(b,y);if(y.createIIRFilter===void 0?_=r(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):N||(b=y.createIIRFilter(u,o)),c.set(y,_===null?b:_),_!==null){if(f===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const E=new t(m.context.destination.channelCount,m.context.length,y.sampleRate);f=(async()=>{await s(m,E,E.destination);const T=await a(E);return nN(T,y,o,u)})()}const A=await f;return _.buffer=A,_.start(0),_}return await s(m,y,b),b};return{render(m,y){const _=c.get(y);return _!==void 0?Promise.resolve(_):d(m,y)}}},sN=(r,e,t,s,a,o)=>u=>(c,f)=>{const d=r.get(c);if(d===void 0){if(!u&&o(c)){const m=s(c),{outputs:y}=t(c);for(const _ of y)if(fd(_)){const b=s(_[0]);e(m,b,_[1],_[2])}else{const b=a(_[0]);m.disconnect(b,_[1])}}r.set(c,f)}else r.set(c,d+f)},iN=(r,e)=>t=>{const s=r.get(t);return e(s)||e(t)},aN=(r,e)=>t=>r.has(t)||e(t),oN=(r,e)=>t=>r.has(t)||e(t),lN=(r,e)=>t=>{const s=r.get(t);return e(s)||e(t)},cN=r=>e=>r!==null&&e instanceof r,uN=r=>e=>r!==null&&typeof r.AudioNode=="function"&&e instanceof r.AudioNode,hN=r=>e=>r!==null&&typeof r.AudioParam=="function"&&e instanceof r.AudioParam,fN=(r,e)=>t=>r(t)||e(t),dN=r=>e=>r!==null&&e instanceof r,pN=r=>r!==null&&r.isSecureContext,mN=(r,e,t,s)=>class extends r{constructor(o,u){const c=t(o),f=e(c,u);if(s(c))throw TypeError();super(o,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},gN={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},bN=(r,e,t,s)=>class extends r{constructor(o,u){const c=t(o);if(s(c))throw new TypeError;const f={...gN,...u},d=e(c,f);super(o,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},vN=(r,e,t,s)=>class extends r{constructor(o,u){const c=t(o),f=e(c,u);if(s(c))throw new TypeError;super(o,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},yN=(r,e,t)=>class extends r{constructor(a,o){const u=t(a),c=e(u,o);super(a,!0,c,null)}},xN=(r,e,t,s,a,o)=>class extends t{constructor(c,f){super(c),this._nativeContext=c,Np.set(this,c),s(c)&&a.set(c,new Set),this._destination=new r(this,f),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const f=typeof c=="function"?o(this,c):null;this._nativeContext.onstatechange=f;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===f?c:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},$f=r=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=r.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},wN=(r,e)=>(t,s,a)=>{const o=new Set;return t.connect=(u=>(c,f=0,d=0)=>{const m=o.size===0;if(e(c))return u.call(t,c,f,d),r(o,[c,f,d],y=>y[0]===c&&y[1]===f&&y[2]===d,!0),m&&s(),c;u.call(t,c,f),r(o,[c,f],y=>y[0]===c&&y[1]===f,!0),m&&s()})(t.connect),t.disconnect=(u=>(c,f,d)=>{const m=o.size>0;if(c===void 0)u.apply(t),o.clear();else if(typeof c=="number"){u.call(t,c);for(const _ of o)_[1]===c&&o.delete(_)}else{e(c)?u.call(t,c,f,d):u.call(t,c,f);for(const _ of o)_[0]===c&&(f===void 0||_[1]===f)&&(d===void 0||_[2]===d)&&o.delete(_)}const y=o.size===0;m&&y&&a()})(t.disconnect),t},Er=(r,e,t)=>{const s=e[t];s!==void 0&&s!==r[t]&&(r[t]=s)},_s=(r,e)=>{Er(r,e,"channelCount"),Er(r,e,"channelCountMode"),Er(r,e,"channelInterpretation")},C5=r=>typeof r.getFloatTimeDomainData=="function",_N=r=>{r.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);r.getByteTimeDomainData(t);const s=Math.max(t.length,r.fftSize);for(let a=0;a<s;a+=1)e[a]=(t[a]-128)*.0078125;return e}},SN=(r,e)=>(t,s)=>{const a=t.createAnalyser();if(_s(a,s),!(s.maxDecibels>s.minDecibels))throw e();return Er(a,s,"fftSize"),Er(a,s,"maxDecibels"),Er(a,s,"minDecibels"),Er(a,s,"smoothingTimeConstant"),r(C5,()=>C5(a))||_N(a),a},NN=r=>r===null?null:r.hasOwnProperty("AudioBuffer")?r.AudioBuffer:null,Gr=(r,e,t)=>{const s=e[t];s!==void 0&&s!==r[t].value&&(r[t].value=s)},AN=r=>{r.start=(e=>{let t=!1;return(s=0,a=0,o)=>{if(t)throw Rs();e.call(r,s,a,o),t=!0}})(r.start)},Og=r=>{r.start=(e=>(t=0,s=0,a)=>{if(typeof a=="number"&&a<0||s<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(r,t,s,a)})(r.start)},Dg=r=>{r.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(r,t)})(r.stop)},CN=(r,e,t,s,a,o,u,c,f,d,m)=>(y,_)=>{const b=y.createBufferSource();return _s(b,_),Gr(b,_,"playbackRate"),Er(b,_,"buffer"),Er(b,_,"loop"),Er(b,_,"loopEnd"),Er(b,_,"loopStart"),e(t,()=>t(y))||AN(b),e(s,()=>s(y))||f(b),e(a,()=>a(y))||d(b,y),e(o,()=>o(y))||Og(b),e(u,()=>u(y))||m(b,y),e(c,()=>c(y))||Dg(b),r(y,b),b},TN=r=>r===null?null:r.hasOwnProperty("AudioContext")?r.AudioContext:r.hasOwnProperty("webkitAudioContext")?r.webkitAudioContext:null,kN=(r,e)=>(t,s,a)=>{const o=t.destination;if(o.channelCount!==s)try{o.channelCount=s}catch{}a&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:s});const u=r(t,{channelCount:s,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(u,"channelCount",c=>()=>c.call(u),c=>f=>{c.call(u,f);try{o.channelCount=f}catch(d){if(f>o.maxChannelCount)throw d}}),e(u,"channelCountMode",c=>()=>c.call(u),c=>f=>{c.call(u,f),o.channelCountMode=f}),e(u,"channelInterpretation",c=>()=>c.call(u),c=>f=>{c.call(u,f),o.channelInterpretation=f}),Object.defineProperty(u,"maxChannelCount",{get:()=>o.maxChannelCount}),u.connect(o),u},EN=r=>r===null?null:r.hasOwnProperty("AudioWorkletNode")?r.AudioWorkletNode:null,jN=r=>{const{port1:e}=new MessageChannel;try{e.postMessage(r)}finally{e.close()}},MN=(r,e,t,s,a)=>(o,u,c,f,d,m)=>{if(c!==null)try{const y=new c(o,f,m),_=new Map;let b=null;if(Object.defineProperties(y,{channelCount:{get:()=>m.channelCount,set:()=>{throw r()}},channelCountMode:{get:()=>"explicit",set:()=>{throw r()}},onprocessorerror:{get:()=>b,set:N=>{typeof b=="function"&&y.removeEventListener("processorerror",b),b=typeof N=="function"?N:null,typeof b=="function"&&y.addEventListener("processorerror",b)}}}),y.addEventListener=(N=>(...A)=>{if(A[0]==="processorerror"){const E=typeof A[1]=="function"?A[1]:typeof A[1]=="object"&&A[1]!==null&&typeof A[1].handleEvent=="function"?A[1].handleEvent:null;if(E!==null){const T=_.get(A[1]);T!==void 0?A[1]=T:(A[1]=R=>{R.type==="error"?(Object.defineProperties(R,{type:{value:"processorerror"}}),E(R)):E(new ErrorEvent(A[0],{...R}))},_.set(E,A[1]))}}return N.call(y,"error",A[1],A[2]),N.call(y,...A)})(y.addEventListener),y.removeEventListener=(N=>(...A)=>{if(A[0]==="processorerror"){const E=_.get(A[1]);E!==void 0&&(_.delete(A[1]),A[1]=E)}return N.call(y,"error",A[1],A[2]),N.call(y,A[0],A[1],A[2])})(y.removeEventListener),m.numberOfOutputs!==0){const N=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(N).connect(o.destination),a(y,()=>N.disconnect(),()=>N.connect(o.destination))}return y}catch(y){throw y.code===11?s():y}if(d===void 0)throw s();return jN(m),e(o,u,d,m)},zx=(r,e)=>r===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(r*e))))),LN=r=>new Promise((e,t)=>{const{port1:s,port2:a}=new MessageChannel;s.onmessage=({data:o})=>{s.close(),a.close(),e(o)},s.onmessageerror=({data:o})=>{s.close(),a.close(),t(o)},a.postMessage(r)}),ON=async(r,e)=>{const t=await LN(e);return new r(t)},DN=(r,e,t,s)=>{let a=Km.get(r);a===void 0&&(a=new WeakMap,Km.set(r,a));const o=ON(t,s);return a.set(e,o),o},RN=(r,e,t,s,a,o,u,c,f,d,m,y,_)=>(b,N,A,E)=>{if(E.numberOfInputs===0&&E.numberOfOutputs===0)throw f();const T=Array.isArray(E.outputChannelCount)?E.outputChannelCount:Array.from(E.outputChannelCount);if(T.some(Y=>Y<1))throw f();if(T.length!==E.numberOfOutputs)throw e();if(E.channelCountMode!=="explicit")throw f();const R=E.channelCount*E.numberOfInputs,I=T.reduce((Y,Ie)=>Y+Ie,0),q=A.parameterDescriptors===void 0?0:A.parameterDescriptors.length;if(R+q>6||I>6)throw f();const V=new MessageChannel,W=[],H=[];for(let Y=0;Y<E.numberOfInputs;Y+=1)W.push(u(b,{channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,gain:1})),H.push(a(b,{channelCount:E.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:E.channelCount}));const O=[];if(A.parameterDescriptors!==void 0)for(const{defaultValue:Y,maxValue:Ie,minValue:pt,name:Je}of A.parameterDescriptors){const je=o(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:E.parameterData[Je]!==void 0?E.parameterData[Je]:Y===void 0?0:Y});Object.defineProperties(je.offset,{defaultValue:{get:()=>Y===void 0?0:Y},maxValue:{get:()=>Ie===void 0?di:Ie},minValue:{get:()=>pt===void 0?Ii:pt}}),O.push(je)}const F=s(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,R+q)}),J=zx(N,b.sampleRate),k=c(b,J,R+q,Math.max(1,I)),D=a(b,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),Q=[];for(let Y=0;Y<E.numberOfOutputs;Y+=1)Q.push(s(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:T[Y]}));for(let Y=0;Y<E.numberOfInputs;Y+=1){W[Y].connect(H[Y]);for(let Ie=0;Ie<E.channelCount;Ie+=1)H[Y].connect(F,Ie,Y*E.channelCount+Ie)}const $=new Vx(A.parameterDescriptors===void 0?[]:A.parameterDescriptors.map(({name:Y},Ie)=>{const pt=O[Ie];return pt.connect(F,0,R+Ie),pt.start(0),[Y,pt.offset]}));F.connect(k);let le=E.channelInterpretation,B=null;const ie=E.numberOfOutputs===0?[k]:Q,re={get bufferSize(){return J},get channelCount(){return E.channelCount},set channelCount(Y){throw t()},get channelCountMode(){return E.channelCountMode},set channelCountMode(Y){throw t()},get channelInterpretation(){return le},set channelInterpretation(Y){for(const Ie of W)Ie.channelInterpretation=Y;le=Y},get context(){return k.context},get inputs(){return W},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get onprocessorerror(){return B},set onprocessorerror(Y){typeof B=="function"&&re.removeEventListener("processorerror",B),B=typeof Y=="function"?Y:null,typeof B=="function"&&re.addEventListener("processorerror",B)},get parameters(){return $},get port(){return V.port2},addEventListener(...Y){return k.addEventListener(Y[0],Y[1],Y[2])},connect:r.bind(null,ie),disconnect:d.bind(null,ie),dispatchEvent(...Y){return k.dispatchEvent(Y[0])},removeEventListener(...Y){return k.removeEventListener(Y[0],Y[1],Y[2])}},fe=new Map;V.port1.addEventListener=(Y=>(...Ie)=>{if(Ie[0]==="message"){const pt=typeof Ie[1]=="function"?Ie[1]:typeof Ie[1]=="object"&&Ie[1]!==null&&typeof Ie[1].handleEvent=="function"?Ie[1].handleEvent:null;if(pt!==null){const Je=fe.get(Ie[1]);Je!==void 0?Ie[1]=Je:(Ie[1]=je=>{m(b.currentTime,b.sampleRate,()=>pt(je))},fe.set(pt,Ie[1]))}}return Y.call(V.port1,Ie[0],Ie[1],Ie[2])})(V.port1.addEventListener),V.port1.removeEventListener=(Y=>(...Ie)=>{if(Ie[0]==="message"){const pt=fe.get(Ie[1]);pt!==void 0&&(fe.delete(Ie[1]),Ie[1]=pt)}return Y.call(V.port1,Ie[0],Ie[1],Ie[2])})(V.port1.removeEventListener);let me=null;Object.defineProperty(V.port1,"onmessage",{get:()=>me,set:Y=>{typeof me=="function"&&V.port1.removeEventListener("message",me),me=typeof Y=="function"?Y:null,typeof me=="function"&&(V.port1.addEventListener("message",me),V.port1.start())}}),A.prototype.port=V.port1;let G=null;DN(b,re,A,E).then(Y=>G=Y);const z=np(E.numberOfInputs,E.channelCount),ee=np(E.numberOfOutputs,T),te=A.parameterDescriptors===void 0?[]:A.parameterDescriptors.reduce((Y,{name:Ie})=>({...Y,[Ie]:new Float32Array(128)}),{});let oe=!0;const de=()=>{E.numberOfOutputs>0&&k.disconnect(D);for(let Y=0,Ie=0;Y<E.numberOfOutputs;Y+=1){const pt=Q[Y];for(let Je=0;Je<T[Y];Je+=1)D.disconnect(pt,Ie+Je,Je);Ie+=T[Y]}},pe=new Map;k.onaudioprocess=({inputBuffer:Y,outputBuffer:Ie})=>{if(G!==null){const pt=y(re);for(let Je=0;Je<J;Je+=128){for(let je=0;je<E.numberOfInputs;je+=1)for(let st=0;st<E.channelCount;st+=1)tp(Y,z[je],st,st,Je);A.parameterDescriptors!==void 0&&A.parameterDescriptors.forEach(({name:je},st)=>{tp(Y,te,je,R+st,Je)});for(let je=0;je<E.numberOfInputs;je+=1)for(let st=0;st<T[je];st+=1)ee[je][st].byteLength===0&&(ee[je][st]=new Float32Array(128));try{const je=z.map((Ue,nt)=>{if(pt[nt].size>0)return pe.set(nt,J/128),Ue;const $e=pe.get(nt);return $e===void 0?[]:(Ue.every(tt=>tt.every(at=>at===0))&&($e===1?pe.delete(nt):pe.set(nt,$e-1)),Ue)});oe=m(b.currentTime+Je/b.sampleRate,b.sampleRate,()=>G.process(je,ee,te));for(let Ue=0,nt=0;Ue<E.numberOfOutputs;Ue+=1){for(let Oe=0;Oe<T[Ue];Oe+=1)Bx(Ie,ee[Ue],Oe,nt+Oe,Je);nt+=T[Ue]}}catch(je){oe=!1,re.dispatchEvent(new ErrorEvent("processorerror",{colno:je.colno,filename:je.filename,lineno:je.lineno,message:je.message}))}if(!oe){for(let je=0;je<E.numberOfInputs;je+=1){W[je].disconnect(H[je]);for(let st=0;st<E.channelCount;st+=1)H[Je].disconnect(F,st,je*E.channelCount+st)}if(A.parameterDescriptors!==void 0){const je=A.parameterDescriptors.length;for(let st=0;st<je;st+=1){const Ue=O[st];Ue.disconnect(F,0,R+st),Ue.stop()}}F.disconnect(k),k.onaudioprocess=null,ve?de():Xe();break}}}};let ve=!1;const _e=u(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),qe=()=>k.connect(_e).connect(b.destination),Xe=()=>{k.disconnect(_e),_e.disconnect()},et=()=>{if(oe){Xe(),E.numberOfOutputs>0&&k.connect(D);for(let Y=0,Ie=0;Y<E.numberOfOutputs;Y+=1){const pt=Q[Y];for(let Je=0;Je<T[Y];Je+=1)D.connect(pt,Ie+Je,Je);Ie+=T[Y]}}ve=!0},ut=()=>{oe&&(qe(),de()),ve=!1};return qe(),_(re,et,ut)},Px=(r,e)=>{const t=r.createBiquadFilter();return _s(t,e),Gr(t,e,"Q"),Gr(t,e,"detune"),Gr(t,e,"frequency"),Gr(t,e,"gain"),Er(t,e,"type"),t},IN=(r,e)=>(t,s)=>{const a=t.createChannelMerger(s.numberOfInputs);return r!==null&&r.name==="webkitAudioContext"&&e(t,a),_s(a,s),a},FN=r=>{const e=r.numberOfOutputs;Object.defineProperty(r,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Rs()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw Rs()}}),Object.defineProperty(r,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw Rs()}})},dd=(r,e)=>{const t=r.createChannelSplitter(e.numberOfOutputs);return _s(t,e),FN(t),t},VN=(r,e,t,s,a)=>(o,u)=>{if(o.createConstantSource===void 0)return t(o,u);const c=o.createConstantSource();return _s(c,u),Gr(c,u,"offset"),e(s,()=>s(o))||Og(c),e(a,()=>a(o))||Dg(c),r(o,c),c},Fh=(r,e)=>(r.connect=e.connect.bind(e),r.disconnect=e.disconnect.bind(e),r),BN=(r,e,t,s)=>(a,{offset:o,...u})=>{const c=a.createBuffer(1,2,44100),f=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=t(a,{...u,gain:o}),m=c.getChannelData(0);m[0]=1,m[1]=1,f.buffer=c,f.loop=!0;const y={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(N){d.channelCount=N},get channelCountMode(){return d.channelCountMode},set channelCountMode(N){d.channelCountMode=N},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(N){d.channelInterpretation=N},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return f.onended},set onended(N){f.onended=N},addEventListener(...N){return f.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return f.dispatchEvent(N[0])},removeEventListener(...N){return f.removeEventListener(N[0],N[1],N[2])},start(N=0){f.start.call(f,N)},stop(N=0){f.stop.call(f,N)}},_=()=>f.connect(d),b=()=>f.disconnect(d);return r(a,f),s(Fh(y,d),_,b)},qN=(r,e)=>(t,s)=>{const a=t.createConvolver();if(_s(a,s),s.disableNormalization===a.normalize&&(a.normalize=!s.disableNormalization),Er(a,s,"buffer"),s.channelCount>2||(e(a,"channelCount",o=>()=>o.call(a),o=>u=>{if(u>2)throw r();return o.call(a,u)}),s.channelCountMode==="max"))throw r();return e(a,"channelCountMode",o=>()=>o.call(a),o=>u=>{if(u==="max")throw r();return o.call(a,u)}),a},Ux=(r,e)=>{const t=r.createDelay(e.maxDelayTime);return _s(t,e),Gr(t,e,"delayTime"),t},zN=r=>(e,t)=>{const s=e.createDynamicsCompressor();if(_s(s,t),t.channelCount>2||t.channelCountMode==="max")throw r();return Gr(s,t,"attack"),Gr(s,t,"knee"),Gr(s,t,"ratio"),Gr(s,t,"release"),Gr(s,t,"threshold"),s},Bi=(r,e)=>{const t=r.createGain();return _s(t,e),Gr(t,e,"gain"),t},PN=r=>(e,t,s)=>{if(e.createIIRFilter===void 0)return r(e,t,s);const a=e.createIIRFilter(s.feedforward,s.feedback);return _s(a,s),a};function UN(r,e){const t=e[0]*e[0]+e[1]*e[1];return[(r[0]*e[0]+r[1]*e[1])/t,(r[1]*e[0]-r[0]*e[1])/t]}function HN(r,e){return[r[0]*e[0]-r[1]*e[1],r[0]*e[1]+r[1]*e[0]]}function T5(r,e){let t=[0,0];for(let s=r.length-1;s>=0;s-=1)t=HN(t,e),t[0]+=r[s];return t}const GN=(r,e,t,s)=>(a,o,{channelCount:u,channelCountMode:c,channelInterpretation:f,feedback:d,feedforward:m})=>{const y=zx(o,a.sampleRate),_=d instanceof Float64Array?d:new Float64Array(d),b=m instanceof Float64Array?m:new Float64Array(m),N=_.length,A=b.length,E=Math.min(N,A);if(N===0||N>20)throw s();if(_[0]===0)throw e();if(A===0||A>20)throw s();if(b[0]===0)throw e();if(_[0]!==1){for(let O=0;O<A;O+=1)b[O]/=_[0];for(let O=1;O<N;O+=1)_[O]/=_[0]}const T=t(a,y,u,u);T.channelCount=u,T.channelCountMode=c,T.channelInterpretation=f;const R=32,I=[],q=[],V=[];for(let O=0;O<u;O+=1){I.push(0);const F=new Float32Array(R),J=new Float32Array(R);F.fill(0),J.fill(0),q.push(F),V.push(J)}T.onaudioprocess=O=>{const F=O.inputBuffer,J=O.outputBuffer,k=F.numberOfChannels;for(let D=0;D<k;D+=1){const Q=F.getChannelData(D),$=J.getChannelData(D);I[D]=qx(_,N,b,A,E,q[D],V[D],I[D],R,Q,$)}};const W=a.sampleRate/2;return Fh({get bufferSize(){return y},get channelCount(){return T.channelCount},set channelCount(O){T.channelCount=O},get channelCountMode(){return T.channelCountMode},set channelCountMode(O){T.channelCountMode=O},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(O){T.channelInterpretation=O},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},addEventListener(...O){return T.addEventListener(O[0],O[1],O[2])},dispatchEvent(...O){return T.dispatchEvent(O[0])},getFrequencyResponse(O,F,J){if(O.length!==F.length||F.length!==J.length)throw r();const k=O.length;for(let D=0;D<k;D+=1){const Q=-Math.PI*(O[D]/W),$=[Math.cos(Q),Math.sin(Q)],le=T5(b,$),B=T5(_,$),ie=UN(le,B);F[D]=Math.sqrt(ie[0]*ie[0]+ie[1]*ie[1]),J[D]=Math.atan2(ie[1],ie[0])}},removeEventListener(...O){return T.removeEventListener(O[0],O[1],O[2])}},T)},WN=(r,e)=>r.createMediaElementSource(e.mediaElement),YN=(r,e)=>{const t=r.createMediaStreamDestination();return _s(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},XN=(r,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((o,u)=>o.id<u.id?-1:o.id>u.id?1:0);const s=t.slice(0,1),a=r.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(a,"mediaStream",{value:e}),a},$N=(r,e)=>(t,{mediaStreamTrack:s})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(s);const a=new MediaStream([s]),o=t.createMediaStreamSource(a);if(s.kind!=="audio")throw r();if(e(t))throw new TypeError;return o},ZN=r=>r===null?null:r.hasOwnProperty("OfflineAudioContext")?r.OfflineAudioContext:r.hasOwnProperty("webkitOfflineAudioContext")?r.webkitOfflineAudioContext:null,QN=(r,e,t,s,a,o)=>(u,c)=>{const f=u.createOscillator();return _s(f,c),Gr(f,c,"detune"),Gr(f,c,"frequency"),c.periodicWave!==void 0?f.setPeriodicWave(c.periodicWave):Er(f,c,"type"),e(t,()=>t(u))||Og(f),e(s,()=>s(u))||o(f,u),e(a,()=>a(u))||Dg(f),r(u,f),f},KN=r=>(e,t)=>{const s=e.createPanner();return s.orientationX===void 0?r(e,t):(_s(s,t),Gr(s,t,"orientationX"),Gr(s,t,"orientationY"),Gr(s,t,"orientationZ"),Gr(s,t,"positionX"),Gr(s,t,"positionY"),Gr(s,t,"positionZ"),Er(s,t,"coneInnerAngle"),Er(s,t,"coneOuterAngle"),Er(s,t,"coneOuterGain"),Er(s,t,"distanceModel"),Er(s,t,"maxDistance"),Er(s,t,"panningModel"),Er(s,t,"refDistance"),Er(s,t,"rolloffFactor"),s)},JN=(r,e,t,s,a,o,u,c,f,d)=>(m,{coneInnerAngle:y,coneOuterAngle:_,coneOuterGain:b,distanceModel:N,maxDistance:A,orientationX:E,orientationY:T,orientationZ:R,panningModel:I,positionX:q,positionY:V,positionZ:W,refDistance:H,rolloffFactor:O,...F})=>{const J=m.createPanner();if(F.channelCount>2||F.channelCountMode==="max")throw u();_s(J,F);const k={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},D=t(m,{...k,channelInterpretation:"speakers",numberOfInputs:6}),Q=s(m,{...F,gain:1}),$=s(m,{...k,gain:1}),le=s(m,{...k,gain:0}),B=s(m,{...k,gain:0}),ie=s(m,{...k,gain:0}),re=s(m,{...k,gain:0}),fe=s(m,{...k,gain:0}),me=a(m,256,6,1),G=o(m,{...k,curve:new Float32Array([1,1]),oversample:"none"});let j=[E,T,R],z=[q,V,W];const ee=new Float32Array(1);me.onaudioprocess=({inputBuffer:pe})=>{const ve=[f(pe,ee,0),f(pe,ee,1),f(pe,ee,2)];ve.some((qe,Xe)=>qe!==j[Xe])&&(J.setOrientation(...ve),j=ve);const _e=[f(pe,ee,3),f(pe,ee,4),f(pe,ee,5)];_e.some((qe,Xe)=>qe!==z[Xe])&&(J.setPosition(..._e),z=_e)},Object.defineProperty(le.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ie.gain,"defaultValue",{get:()=>0}),Object.defineProperty(re.gain,"defaultValue",{get:()=>0}),Object.defineProperty(fe.gain,"defaultValue",{get:()=>0});const te={get bufferSize(){},get channelCount(){return J.channelCount},set channelCount(pe){if(pe>2)throw u();Q.channelCount=pe,J.channelCount=pe},get channelCountMode(){return J.channelCountMode},set channelCountMode(pe){if(pe==="max")throw u();Q.channelCountMode=pe,J.channelCountMode=pe},get channelInterpretation(){return J.channelInterpretation},set channelInterpretation(pe){Q.channelInterpretation=pe,J.channelInterpretation=pe},get coneInnerAngle(){return J.coneInnerAngle},set coneInnerAngle(pe){J.coneInnerAngle=pe},get coneOuterAngle(){return J.coneOuterAngle},set coneOuterAngle(pe){J.coneOuterAngle=pe},get coneOuterGain(){return J.coneOuterGain},set coneOuterGain(pe){if(pe<0||pe>1)throw e();J.coneOuterGain=pe},get context(){return J.context},get distanceModel(){return J.distanceModel},set distanceModel(pe){J.distanceModel=pe},get inputs(){return[Q]},get maxDistance(){return J.maxDistance},set maxDistance(pe){if(pe<0)throw new RangeError;J.maxDistance=pe},get numberOfInputs(){return J.numberOfInputs},get numberOfOutputs(){return J.numberOfOutputs},get orientationX(){return $.gain},get orientationY(){return le.gain},get orientationZ(){return B.gain},get panningModel(){return J.panningModel},set panningModel(pe){J.panningModel=pe},get positionX(){return ie.gain},get positionY(){return re.gain},get positionZ(){return fe.gain},get refDistance(){return J.refDistance},set refDistance(pe){if(pe<0)throw new RangeError;J.refDistance=pe},get rolloffFactor(){return J.rolloffFactor},set rolloffFactor(pe){if(pe<0)throw new RangeError;J.rolloffFactor=pe},addEventListener(...pe){return Q.addEventListener(pe[0],pe[1],pe[2])},dispatchEvent(...pe){return Q.dispatchEvent(pe[0])},removeEventListener(...pe){return Q.removeEventListener(pe[0],pe[1],pe[2])}};y!==te.coneInnerAngle&&(te.coneInnerAngle=y),_!==te.coneOuterAngle&&(te.coneOuterAngle=_),b!==te.coneOuterGain&&(te.coneOuterGain=b),N!==te.distanceModel&&(te.distanceModel=N),A!==te.maxDistance&&(te.maxDistance=A),E!==te.orientationX.value&&(te.orientationX.value=E),T!==te.orientationY.value&&(te.orientationY.value=T),R!==te.orientationZ.value&&(te.orientationZ.value=R),I!==te.panningModel&&(te.panningModel=I),q!==te.positionX.value&&(te.positionX.value=q),V!==te.positionY.value&&(te.positionY.value=V),W!==te.positionZ.value&&(te.positionZ.value=W),H!==te.refDistance&&(te.refDistance=H),O!==te.rolloffFactor&&(te.rolloffFactor=O),(j[0]!==1||j[1]!==0||j[2]!==0)&&J.setOrientation(...j),(z[0]!==0||z[1]!==0||z[2]!==0)&&J.setPosition(...z);const oe=()=>{Q.connect(J),r(Q,G,0,0),G.connect($).connect(D,0,0),G.connect(le).connect(D,0,1),G.connect(B).connect(D,0,2),G.connect(ie).connect(D,0,3),G.connect(re).connect(D,0,4),G.connect(fe).connect(D,0,5),D.connect(me).connect(m.destination)},de=()=>{Q.disconnect(J),c(Q,G,0,0),G.disconnect($),$.disconnect(D),G.disconnect(le),le.disconnect(D),G.disconnect(B),B.disconnect(D),G.disconnect(ie),ie.disconnect(D),G.disconnect(re),re.disconnect(D),G.disconnect(fe),fe.disconnect(D),D.disconnect(me),me.disconnect(m.destination)};return d(Fh(te,J),oe,de)},eA=r=>(e,{disableNormalization:t,imag:s,real:a})=>{const o=s instanceof Float32Array?s:new Float32Array(s),u=a instanceof Float32Array?a:new Float32Array(a),c=e.createPeriodicWave(u,o,{disableNormalization:t});if(Array.from(s).length<2)throw r();return c},pd=(r,e,t,s)=>r.createScriptProcessor(e,t,s),tA=(r,e)=>(t,s)=>{const a=s.channelCountMode;if(a==="clamped-max")throw e();if(t.createStereoPanner===void 0)return r(t,s);const o=t.createStereoPanner();return _s(o,s),Gr(o,s,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>a,set:u=>{if(u!==a)throw e()}}),o},nA=(r,e,t,s,a,o)=>{const c=new Float32Array([1,1]),f=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...d,oversample:"none"},y=(N,A,E,T)=>{const R=new Float32Array(16385),I=new Float32Array(16385);for(let F=0;F<16385;F+=1){const J=F/16384*f;R[F]=Math.cos(J),I[F]=Math.sin(J)}const q=t(N,{...d,gain:0}),V=s(N,{...m,curve:R}),W=s(N,{...m,curve:c}),H=t(N,{...d,gain:0}),O=s(N,{...m,curve:I});return{connectGraph(){A.connect(q),A.connect(W.inputs===void 0?W:W.inputs[0]),A.connect(H),W.connect(E),E.connect(V.inputs===void 0?V:V.inputs[0]),E.connect(O.inputs===void 0?O:O.inputs[0]),V.connect(q.gain),O.connect(H.gain),q.connect(T,0,0),H.connect(T,0,1)},disconnectGraph(){A.disconnect(q),A.disconnect(W.inputs===void 0?W:W.inputs[0]),A.disconnect(H),W.disconnect(E),E.disconnect(V.inputs===void 0?V:V.inputs[0]),E.disconnect(O.inputs===void 0?O:O.inputs[0]),V.disconnect(q.gain),O.disconnect(H.gain),q.disconnect(T,0,0),H.disconnect(T,0,1)}}},_=(N,A,E,T)=>{const R=new Float32Array(16385),I=new Float32Array(16385),q=new Float32Array(16385),V=new Float32Array(16385),W=Math.floor(16385/2);for(let ie=0;ie<16385;ie+=1)if(ie>W){const re=(ie-W)/(16384-W)*f;R[ie]=Math.cos(re),I[ie]=Math.sin(re),q[ie]=0,V[ie]=1}else{const re=ie/(16384-W)*f;R[ie]=1,I[ie]=0,q[ie]=Math.cos(re),V[ie]=Math.sin(re)}const H=e(N,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),O=t(N,{...d,gain:0}),F=s(N,{...m,curve:R}),J=t(N,{...d,gain:0}),k=s(N,{...m,curve:I}),D=s(N,{...m,curve:c}),Q=t(N,{...d,gain:0}),$=s(N,{...m,curve:q}),le=t(N,{...d,gain:0}),B=s(N,{...m,curve:V});return{connectGraph(){A.connect(H),A.connect(D.inputs===void 0?D:D.inputs[0]),H.connect(O,0),H.connect(J,0),H.connect(Q,1),H.connect(le,1),D.connect(E),E.connect(F.inputs===void 0?F:F.inputs[0]),E.connect(k.inputs===void 0?k:k.inputs[0]),E.connect($.inputs===void 0?$:$.inputs[0]),E.connect(B.inputs===void 0?B:B.inputs[0]),F.connect(O.gain),k.connect(J.gain),$.connect(Q.gain),B.connect(le.gain),O.connect(T,0,0),Q.connect(T,0,0),J.connect(T,0,1),le.connect(T,0,1)},disconnectGraph(){A.disconnect(H),A.disconnect(D.inputs===void 0?D:D.inputs[0]),H.disconnect(O,0),H.disconnect(J,0),H.disconnect(Q,1),H.disconnect(le,1),D.disconnect(E),E.disconnect(F.inputs===void 0?F:F.inputs[0]),E.disconnect(k.inputs===void 0?k:k.inputs[0]),E.disconnect($.inputs===void 0?$:$.inputs[0]),E.disconnect(B.inputs===void 0?B:B.inputs[0]),F.disconnect(O.gain),k.disconnect(J.gain),$.disconnect(Q.gain),B.disconnect(le.gain),O.disconnect(T,0,0),Q.disconnect(T,0,0),J.disconnect(T,0,1),le.disconnect(T,0,1)}}},b=(N,A,E,T,R)=>{if(A===1)return y(N,E,T,R);if(A===2)return _(N,E,T,R);throw a()};return(N,{channelCount:A,channelCountMode:E,pan:T,...R})=>{if(E==="max")throw a();const I=r(N,{...R,channelCount:1,channelCountMode:E,numberOfInputs:2}),q=t(N,{...R,channelCount:A,channelCountMode:E,gain:1}),V=t(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:T});let{connectGraph:W,disconnectGraph:H}=b(N,A,q,V,I);Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"maxValue",{get:()=>1}),Object.defineProperty(V.gain,"minValue",{get:()=>-1});const O={get bufferSize(){},get channelCount(){return q.channelCount},set channelCount(D){q.channelCount!==D&&(F&&H(),{connectGraph:W,disconnectGraph:H}=b(N,D,q,V,I),F&&W()),q.channelCount=D},get channelCountMode(){return q.channelCountMode},set channelCountMode(D){if(D==="clamped-max"||D==="max")throw a();q.channelCountMode=D},get channelInterpretation(){return q.channelInterpretation},set channelInterpretation(D){q.channelInterpretation=D},get context(){return q.context},get inputs(){return[q]},get numberOfInputs(){return q.numberOfInputs},get numberOfOutputs(){return q.numberOfOutputs},get pan(){return V.gain},addEventListener(...D){return q.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return q.dispatchEvent(D[0])},removeEventListener(...D){return q.removeEventListener(D[0],D[1],D[2])}};let F=!1;const J=()=>{W(),F=!0},k=()=>{H(),F=!1};return o(Fh(O,I),J,k)}},rA=(r,e,t,s,a,o,u)=>(c,f)=>{const d=c.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,f);_s(d,f);const m=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(m!==null&&m.length<2)throw e();Er(d,{curve:m},"curve"),Er(d,f,"oversample");let y=null,_=!1;return u(d,"curve",A=>()=>A.call(d),A=>E=>(A.call(d,E),_&&(s(E)&&y===null?y=r(c,d):!s(E)&&y!==null&&(y(),y=null)),E)),a(d,()=>{_=!0,s(d.curve)&&(y=r(c,d))},()=>{_=!1,y!==null&&(y(),y=null)})},sA=(r,e,t,s,a)=>(o,{curve:u,oversample:c,...f})=>{const d=o.createWaveShaper(),m=o.createWaveShaper();_s(d,f),_s(m,f);const y=t(o,{...f,gain:1}),_=t(o,{...f,gain:-1}),b=t(o,{...f,gain:1}),N=t(o,{...f,gain:-1});let A=null,E=!1,T=null;const R={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(V){y.channelCount=V,_.channelCount=V,d.channelCount=V,b.channelCount=V,m.channelCount=V,N.channelCount=V},get channelCountMode(){return d.channelCountMode},set channelCountMode(V){y.channelCountMode=V,_.channelCountMode=V,d.channelCountMode=V,b.channelCountMode=V,m.channelCountMode=V,N.channelCountMode=V},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(V){y.channelInterpretation=V,_.channelInterpretation=V,d.channelInterpretation=V,b.channelInterpretation=V,m.channelInterpretation=V,N.channelInterpretation=V},get context(){return d.context},get curve(){return T},set curve(V){if(V!==null&&V.length<2)throw e();if(V===null)d.curve=V,m.curve=V;else{const W=V.length,H=new Float32Array(W+2-W%2),O=new Float32Array(W+2-W%2);H[0]=V[0],O[0]=-V[W-1];const F=Math.ceil((W+1)/2),J=(W+1)/2-1;for(let k=1;k<F;k+=1){const D=k/F*J,Q=Math.floor(D),$=Math.ceil(D);H[k]=Q===$?V[Q]:(1-(D-Q))*V[Q]+(1-($-D))*V[$],O[k]=Q===$?-V[W-1-Q]:-((1-(D-Q))*V[W-1-Q])-(1-($-D))*V[W-1-$]}H[F]=W%2===1?V[F-1]:(V[F-2]+V[F-1])/2,d.curve=H,m.curve=O}T=V,E&&(s(T)&&A===null?A=r(o,y):A!==null&&(A(),A=null))},get inputs(){return[y]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(V){d.oversample=V,m.oversample=V},addEventListener(...V){return y.addEventListener(V[0],V[1],V[2])},dispatchEvent(...V){return y.dispatchEvent(V[0])},removeEventListener(...V){return y.removeEventListener(V[0],V[1],V[2])}};u!==null&&(R.curve=u instanceof Float32Array?u:new Float32Array(u)),c!==R.oversample&&(R.oversample=c);const I=()=>{y.connect(d).connect(b),y.connect(_).connect(m).connect(N).connect(b),E=!0,s(T)&&(A=r(o,y))},q=()=>{y.disconnect(d),d.disconnect(b),y.disconnect(_),_.disconnect(m),m.disconnect(N),N.disconnect(b),E=!1,A!==null&&(A(),A=null)};return a(Fh(R,b),I,q)},gi=()=>new DOMException("","NotSupportedError"),iA={numberOfChannels:1},aA=(r,e,t,s,a)=>class extends r{constructor(u,c,f){let d;if(typeof u=="number"&&c!==void 0&&f!==void 0)d={length:c,numberOfChannels:u,sampleRate:f};else if(typeof u=="object")d=u;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:y,sampleRate:_}={...iA,...d},b=s(y,m,_);e($f,()=>$f(b))||b.addEventListener("statechange",(()=>{let N=0;const A=E=>{this._state==="running"&&(N>0?(b.removeEventListener("statechange",A),E.stopImmediatePropagation(),this._waitForThePromiseToSettle(E)):N+=1)};return A})()),super(b,y),this._length=m,this._nativeOfflineAudioContext=b,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Dx(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}},oA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},lA=(r,e,t,s,a,o,u)=>class extends r{constructor(f,d){const m=a(f),y={...oA,...d},_=t(m,y),b=o(m),N=b?s():null,A=f.sampleRate/2;super(f,!1,_,N),this._detune=e(this,b,_.detune,153600,-153600),this._frequency=e(this,b,_.frequency,A,-A),this._nativeOscillatorNode=_,this._onended=null,this._oscillatorNodeRenderer=N,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?u(this,f):null;this._nativeOscillatorNode.onended=d;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===d?f:m}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){Mh(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),Nl(this)&&ud(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},cA=(r,e,t,s,a)=>()=>{const o=new WeakMap;let u=null,c=null,f=null;const d=async(m,y)=>{let _=t(m);const b=si(_,y);if(!b){const N={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,detune:_.detune.value,frequency:_.frequency.value,periodicWave:u===null?void 0:u,type:_.type};_=e(y,N),c!==null&&_.start(c),f!==null&&_.stop(f)}return o.set(y,_),b?(await r(y,m.detune,_.detune),await r(y,m.frequency,_.frequency)):(await s(y,m.detune,_.detune),await s(y,m.frequency,_.frequency)),await a(m,y,_),_};return{set periodicWave(m){u=m},set start(m){c=m},set stop(m){f=m},render(m,y){const _=o.get(y);return _!==void 0?Promise.resolve(_):d(m,y)}}},uA={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},hA=(r,e,t,s,a,o,u)=>class extends r{constructor(f,d){const m=a(f),y={...uA,...d},_=t(m,y),b=o(m),N=b?s():null;super(f,!1,_,N),this._nativePannerNode=_,this._orientationX=e(this,b,_.orientationX,di,Ii),this._orientationY=e(this,b,_.orientationY,di,Ii),this._orientationZ=e(this,b,_.orientationZ,di,Ii),this._positionX=e(this,b,_.positionX,di,Ii),this._positionY=e(this,b,_.positionY,di,Ii),this._positionZ=e(this,b,_.positionZ,di,Ii),u(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},fA=(r,e,t,s,a,o,u,c,f,d)=>()=>{const m=new WeakMap;let y=null;const _=async(b,N)=>{let A=null,E=o(b);const T={channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation},R={...T,coneInnerAngle:E.coneInnerAngle,coneOuterAngle:E.coneOuterAngle,coneOuterGain:E.coneOuterGain,distanceModel:E.distanceModel,maxDistance:E.maxDistance,panningModel:E.panningModel,refDistance:E.refDistance,rolloffFactor:E.rolloffFactor},I=si(E,N);if("bufferSize"in E)A=s(N,{...T,gain:1});else if(!I){const q={...R,orientationX:E.orientationX.value,orientationY:E.orientationY.value,orientationZ:E.orientationZ.value,positionX:E.positionX.value,positionY:E.positionY.value,positionZ:E.positionZ.value};E=a(N,q)}if(m.set(N,A===null?E:A),A!==null){if(y===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const k=new u(6,b.context.length,N.sampleRate),D=e(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});D.connect(k.destination),y=(async()=>{const Q=await Promise.all([b.orientationX,b.orientationY,b.orientationZ,b.positionX,b.positionY,b.positionZ].map(async($,le)=>{const B=t(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:le===0?1:0});return await c(k,$,B.offset),B}));for(let $=0;$<6;$+=1)Q[$].connect(D,0,$),Q[$].start(0);return d(k)})()}const q=await y,V=s(N,{...T,gain:1});await f(b,N,V);const W=[];for(let k=0;k<q.numberOfChannels;k+=1)W.push(q.getChannelData(k));let H=[W[0][0],W[1][0],W[2][0]],O=[W[3][0],W[4][0],W[5][0]],F=s(N,{...T,gain:1}),J=a(N,{...R,orientationX:H[0],orientationY:H[1],orientationZ:H[2],positionX:O[0],positionY:O[1],positionZ:O[2]});V.connect(F).connect(J.inputs[0]),J.connect(A);for(let k=128;k<q.length;k+=128){const D=[W[0][k],W[1][k],W[2][k]],Q=[W[3][k],W[4][k],W[5][k]];if(D.some(($,le)=>$!==H[le])||Q.some(($,le)=>$!==O[le])){H=D,O=Q;const $=k/N.sampleRate;F.gain.setValueAtTime(0,$),F=s(N,{...T,gain:0}),J=a(N,{...R,orientationX:H[0],orientationY:H[1],orientationZ:H[2],positionX:O[0],positionY:O[1],positionZ:O[2]}),F.gain.setValueAtTime(1,$),V.connect(F).connect(J.inputs[0]),J.connect(A)}}return A}return I?(await r(N,b.orientationX,E.orientationX),await r(N,b.orientationY,E.orientationY),await r(N,b.orientationZ,E.orientationZ),await r(N,b.positionX,E.positionX),await r(N,b.positionY,E.positionY),await r(N,b.positionZ,E.positionZ)):(await c(N,b.orientationX,E.orientationX),await c(N,b.orientationY,E.orientationY),await c(N,b.orientationZ,E.orientationZ),await c(N,b.positionX,E.positionX),await c(N,b.positionY,E.positionY),await c(N,b.positionZ,E.positionZ)),Ih(E)?await f(b,N,E.inputs[0]):await f(b,N,E),E};return{render(b,N){const A=m.get(N);return A!==void 0?Promise.resolve(A):_(b,N)}}},dA={disableNormalization:!1},pA=(r,e,t,s)=>class Hx{constructor(o,u){const c=e(o),f=s({...dA,...u}),d=r(c,f);return t.add(d),d}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===Hx.prototype||t.has(o)}},mA=(r,e)=>(t,s,a)=>(r(s).replay(a),e(s,t,a)),gA=(r,e,t)=>async(s,a,o)=>{const u=r(s);await Promise.all(u.activeInputs.map((c,f)=>Array.from(c).map(async([d,m])=>{const _=await e(d).render(d,a),b=s.context.destination;!t(d)&&(s!==b||!t(s))&&_.connect(o,m,f)})).reduce((c,f)=>[...c,...f],[]))},bA=(r,e,t)=>async(s,a,o)=>{const u=e(s);await Promise.all(Array.from(u.activeInputs).map(async([c,f])=>{const m=await r(c).render(c,a);t(c)||m.connect(o,f)}))},vA=(r,e,t,s)=>a=>r($f,()=>$f(a))?Promise.resolve(r(s,s)).then(o=>{if(!o){const u=t(a,512,0,1);a.oncomplete=()=>{u.onaudioprocess=null,u.disconnect()},u.onaudioprocess=()=>a.currentTime,u.connect(a.destination)}return a.startRendering()}):new Promise(o=>{const u=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=c=>{u.disconnect(),o(c.renderedBuffer)},u.connect(a.destination),a.startRendering()}),yA=r=>(e,t)=>{r.set(e,t)},xA=r=>(e,t)=>r.set(e,t),wA=(r,e,t,s,a,o,u,c)=>(f,d)=>t(f).render(f,d).then(()=>Promise.all(Array.from(s(d)).map(m=>t(m).render(m,d)))).then(()=>a(d)).then(m=>(typeof m.copyFromChannel!="function"?(u(m),jg(m)):e(o,()=>o(m))||c(m),r.add(m),m)),_A={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},SA=(r,e,t,s,a,o)=>class extends r{constructor(c,f){const d=a(c),m={..._A,...f},y=t(d,m),_=o(d),b=_?s():null;super(c,!1,y,b),this._pan=e(this,_,y.pan)}get pan(){return this._pan}},NA=(r,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const m=si(d,f);if(!m){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=e(f,y)}return o.set(f,d),m?await r(f,c.pan,d.pan):await s(f,c.pan,d.pan),Ih(d)?await a(c,f,d.inputs[0]):await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},AA=r=>()=>{if(r===null)return!1;try{new r({length:1,sampleRate:44100})}catch{return!1}return!0},CA=(r,e)=>async()=>{if(r===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),a=URL.createObjectURL(t);let o=!1,u=!1;try{await s.audioWorklet.addModule(a);const c=new r(s,"a",{numberOfOutputs:0}),f=s.createOscillator();c.port.onmessage=()=>o=!0,c.onprocessorerror=()=>u=!0,f.connect(c),f.start(0),await s.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(a)}return o&&!u},TA=(r,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),s=r(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{t.oncomplete=()=>{s.disconnect(),a(t.currentTime!==0)},t.startRendering()})},kA=()=>new DOMException("","UnknownError"),EA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},jA=(r,e,t,s,a,o,u)=>class extends r{constructor(f,d){const m=a(f),y={...EA,...d},_=t(m,y),N=o(m)?s():null;super(f,!0,_,N),this._isCurveNullified=!1,this._nativeWaveShaperNode=_,u(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},MA=(r,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!si(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=r(u,d)}return s.set(u,c),Ih(c)?await t(o,u,c.inputs[0]):await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},LA=()=>typeof window>"u"?null:window,OA=(r,e)=>t=>{t.copyFromChannel=(s,a,o=0)=>{const u=r(o),c=r(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=s.length;for(let y=u<0?-u:0;y+u<f&&y<m;y+=1)s[y]=d[y+u]},t.copyToChannel=(s,a,o=0)=>{const u=r(o),c=r(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=s.length;for(let y=u<0?-u:0;y+u<f&&y<m;y+=1)d[y+u]=s[y]}},DA=r=>e=>{e.copyFromChannel=(t=>(s,a,o=0)=>{const u=r(o),c=r(a);if(u<e.length)return t.call(e,s,c,u)})(e.copyFromChannel),e.copyToChannel=(t=>(s,a,o=0)=>{const u=r(o),c=r(a);if(u<e.length)return t.call(e,s,c,u)})(e.copyToChannel)},RA=r=>(e,t)=>{const s=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),r(e,"buffer",a=>()=>{const o=a.call(e);return o===s?null:o},a=>o=>a.call(e,o===null?s:o))},IA=(r,e)=>(t,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw r()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw r()}});const a=t.createBufferSource();e(s,()=>{const c=s.numberOfInputs;for(let f=0;f<c;f+=1)a.connect(s,0,f)},()=>a.disconnect(s))},Gx=(r,e,t)=>r.copyFromChannel===void 0?r.getChannelData(t)[0]:(r.copyFromChannel(e,t),e[0]),Wx=r=>{if(r===null)return!1;const e=r.length;return e%2!==0?r[Math.floor(e/2)]!==0:r[e/2-1]+r[e/2]!==0},md=(r,e,t,s)=>{let a=r;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:o,set:u}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(r,e,{get:t(o),set:s(u)})},FA=r=>({...r,outputChannelCount:r.outputChannelCount!==void 0?r.outputChannelCount:r.numberOfInputs===1&&r.numberOfOutputs===1?[r.channelCount]:Array.from({length:r.numberOfOutputs},()=>1)}),VA=r=>({...r,channelCount:r.numberOfOutputs}),BA=r=>{const{imag:e,real:t}=r;return e===void 0?t===void 0?{...r,imag:[0,0],real:[0,0]}:{...r,imag:Array.from(t,()=>0),real:t}:t===void 0?{...r,imag:e,real:Array.from(e,()=>0)}:{...r,imag:e,real:t}},Yx=(r,e,t)=>{try{r.setValueAtTime(e,t)}catch(s){if(s.code!==9)throw s;Yx(r,e,t+1e-7)}},qA=r=>{const e=r.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},zA=r=>{const e=r.createBufferSource(),t=r.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},PA=r=>{const e=r.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Rg=r=>{const e=r.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},Xx=r=>{const e=r.createBuffer(1,1,44100),t=r.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},Ig=r=>{const e=r.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},UA=r=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(r)}finally{e.close(),t.close()}},HA=r=>{r.start=(e=>(t=0,s=0,a)=>{const o=r.buffer,u=o===null?s:Math.min(o.duration,s);o!==null&&u>o.duration-.5/r.context.sampleRate?e.call(r,t,0,0):e.call(r,t,u,a)})(r.start)},$x=(r,e)=>{const t=e.createGain();r.connect(t);const s=(a=>()=>{a.call(r,t),r.removeEventListener("ended",s)})(r.disconnect);r.addEventListener("ended",s),Fh(r,t),r.stop=(a=>{let o=!1;return(u=0)=>{if(o)try{a.call(r,u)}catch{t.gain.setValueAtTime(0,u)}else a.call(r,u),o=!0}})(r.stop)},Vh=(r,e)=>t=>{const s={value:r};return Object.defineProperties(t,{currentTarget:s,target:s}),typeof e=="function"?e.call(r,t):e.handleEvent.call(r,t)},GA=hS(vu),WA=bS(vu),YA=E6(Ap),Zx=new WeakMap,XA=Y6(Zx),ho=i6(new Map,new WeakMap),Bo=LA(),Qx=SN(ho,zo),Fg=W6(pi),Ws=gA(pi,Fg,pu),$A=_S(Qx,_r,Ws),pr=Z6(Np),El=ZN(Bo),or=dN(El),Kx=new WeakMap,Jx=B6(Vh),gd=TN(Bo),Vg=cN(gd),Bg=uN(Bo),e3=hN(Bo),Zf=EN(Bo),Jr=YS(fS(Tx),gS(GA,WA,K1,YA,J1,pi,XA,cd,_r,vu,Nl,pu,R1),ho,sN(Zm,J1,pi,_r,Xf,Nl),zo,Cp,gi,A6(K1,Zm,pi,_r,Xf,pr,Nl,or),L6(Kx,pi,oo),Jx,pr,Vg,Bg,e3,or,Zf),ZA=wS(Jr,$A,zo,Qx,pr,or),qg=new WeakSet,k5=NN(Bo),t3=v6(new Uint32Array(1)),zg=OA(t3,zo),Pg=DA(t3),n3=NS(qg,ho,gi,k5,El,AA(k5),zg,Pg),Tp=vS(Bi),r3=bA(Fg,hd,pu),Po=f6(r3),Bh=CN(Tp,ho,qA,zA,PA,Rg,Xx,Ig,HA,RA(md),$x),Uo=mA(X6(hd),r3),QA=TS(Po,Bh,_r,Uo,Ws),fo=XS(dS(kx),Kx,Eg,$S,iS,aS,oS,lS,cS,Ym,Ax,gd,Yx),KA=CS(Jr,QA,fo,Rs,Bh,pr,or,Vh),JA=IS(Jr,FS,zo,Rs,kN(Bi,md),pr,or,Ws),e8=s6(Po,Px,_r,Uo,Ws),yu=xA(Zx),t8=r6(Jr,fo,e8,Cp,Px,pr,or,yu),Cc=wN(vu,Bg),n8=IA(Rs,Cc),Tc=IN(gd,n8),r8=l6(Tc,_r,Ws),s8=o6(Jr,r8,Tc,pr,or),i8=h6(dd,_r,Ws),a8=u6(Jr,i8,dd,pr,or,VA),o8=BN(Tp,Bh,Bi,Cc),qh=VN(Tp,ho,o8,Rg,Ig),l8=b6(Po,qh,_r,Uo,Ws),c8=g6(Jr,fo,l8,qh,pr,or,Vh),s3=qN(gi,md),u8=w6(s3,_r,Ws),h8=x6(Jr,u8,s3,pr,or,yu),f8=k6(Po,Ux,_r,Uo,Ws),d8=T6(Jr,fo,f8,Ux,pr,or,yu),i3=zN(gi),p8=I6(Po,i3,_r,Uo,Ws),m8=R6(Jr,fo,p8,i3,gi,pr,or,yu),g8=H6(Po,Bi,_r,Uo,Ws),b8=U6(Jr,fo,g8,Bi,pr,or),v8=GN(Cp,Rs,pd,gi),kp=vA(ho,Bi,pd,TA(Bi,El)),y8=rN(Bh,_r,El,Ws,kp),x8=PN(v8),w8=tN(Jr,x8,y8,pr,or,yu),_8=VS(fo,Tc,qh,pd,gi,Gx,or,md),a3=new WeakMap,S8=xN(JA,_8,Jx,or,a3,Vh),o3=QN(Tp,ho,Rg,Xx,Ig,$x),N8=cA(Po,o3,_r,Uo,Ws),A8=lA(Jr,fo,o3,N8,pr,or,Vh),l3=p6(Bh),C8=sA(l3,Rs,Bi,Wx,Cc),Ep=rA(l3,Rs,C8,Wx,Cc,gd,md),T8=JN(K1,Rs,Tc,Bi,pd,Ep,gi,J1,Gx,Cc),c3=KN(T8),k8=fA(Po,Tc,qh,Bi,c3,_r,El,Uo,Ws,kp),E8=hA(Jr,fo,c3,k8,pr,or,yu),j8=eA(zo),M8=pA(j8,pr,new WeakSet,BA),L8=nA(Tc,dd,Bi,Ep,gi,Cc),u3=tA(L8,gi),O8=NA(Po,u3,_r,Uo,Ws),D8=SA(Jr,fo,u3,O8,pr,or),R8=MA(Ep,_r,Ws),I8=jA(Jr,Rs,Ep,R8,pr,or,yu),h3=pN(Bo),Ug=q6(Bo),f3=new WeakMap,F8=Q6(f3,El),V8=h3?mS(ho,gi,V6(Bo),Ug,z6(uS),pr,F8,or,Zf,new WeakMap,new WeakMap,CA(Zf,El),Bo):void 0,B8=fN(Vg,or),q8=N6(qg,ho,S6,F6,new WeakSet,pr,B8,Z1,$f,zg,Pg),d3=t6(V8,ZA,n3,KA,t8,s8,a8,c8,h8,q8,d8,m8,b8,w8,S8,A8,E8,M8,D8,I8),z8=mN(Jr,WN,pr,or),P8=bN(Jr,YN,pr,or),U8=vN(Jr,XN,pr,or),H8=$N(Rs,or),G8=yN(Jr,H8,pr),W8=RS(d3,Rs,gi,kA,z8,P8,U8,G8,gd),Hg=K6(a3),Y8=yS(Hg),p3=d6(zo),X8=j6(Hg),m3=O6(zo),g3=new WeakMap,$8=G6(g3,oo),Z8=RN(p3,zo,Rs,Tc,dd,qh,Bi,pd,gi,m3,Ug,$8,Cc),Q8=MN(Rs,Z8,Bi,gi,Cc),K8=e6(Po,p3,Bh,Tc,dd,qh,Bi,X8,m3,Ug,_r,Zf,El,Uo,Ws,kp),J8=$6(f3),eC=yA(g3),E5=h3?QS(Y8,Jr,fo,K8,Q8,pi,J8,pr,or,Zf,FA,eC,UA,Vh):void 0,tC=_6(gi,El),nC=wA(qg,ho,Fg,Hg,kp,Z1,zg,Pg),rC=aA(d3,ho,Rs,tC,nC),sC=iN(Np,Vg),iC=aN(kg,Bg),aC=oN(Eg,e3),oC=lN(Np,or);function ka(r){return r===void 0}function Cn(r){return r!==void 0}function lC(r){return typeof r=="function"}function Al(r){return typeof r=="number"}function hu(r){return Object.prototype.toString.call(r)==="[object Object]"&&r.constructor===Object}function cC(r){return typeof r=="boolean"}function oa(r){return Array.isArray(r)}function Cl(r){return typeof r=="string"}function x1(r){return Cl(r)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(r)}function Jt(r,e){if(!r)throw new Error(e)}function Tl(r,e,t=1/0){if(!(e<=r&&r<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${r}`)}function b3(r){!r.isOffline&&r.state!=="running"&&jp('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let v3=!1,j5=!1;function M5(r){v3=r}function uC(r){ka(r)&&v3&&!j5&&(j5=!0,jp("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let y3=console;function hC(...r){y3.log(...r)}function jp(...r){y3.warn(...r)}function fC(r){return new W8(r)}function dC(r,e,t){return new rC(r,e,t)}const sa=typeof self=="object"?self:null,pC=sa&&(sa.hasOwnProperty("AudioContext")||sa.hasOwnProperty("webkitAudioContext"));function mC(r,e,t){return Jt(Cn(E5),"AudioWorkletNode only works in a secure context (https or localhost)"),new(r instanceof sa?.BaseAudioContext?sa?.AudioWorkletNode:E5)(r,e,t)}function po(r,e,t,s){var a=arguments.length,o=a<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,s);else for(var c=r.length-1;c>=0;c--)(u=r[c])&&(o=(a<3?u(o):a>3?u(e,t,o):u(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o}function ls(r,e,t,s){function a(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function c(m){try{d(s.next(m))}catch(y){u(y)}}function f(m){try{d(s.throw(m))}catch(y){u(y)}}function d(m){m.done?o(m.value):a(m.value).then(c,f)}d((s=s.apply(r,e||[])).next())})}class gC{constructor(e,t,s,a){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),s=new Worker(t);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function mu(r){return aC(r)}function yc(r){return iC(r)}function I1(r){return oC(r)}function gh(r){return sC(r)}function bC(r){return r instanceof n3}function vC(r,e){return r==="value"||mu(e)||yc(e)||bC(e)}function fu(r,...e){if(!e.length)return r;const t=e.shift();if(hu(r)&&hu(t))for(const s in t)vC(s,t[s])?r[s]=t[s]:hu(t[s])?(r[s]||Object.assign(r,{[s]:{}}),fu(r[s],t[s])):Object.assign(r,{[s]:t[s]});return fu(r,...e)}function yC(r,e){return r.length===e.length&&r.every((t,s)=>e[s]===t)}function Zt(r,e,t=[],s){const a={},o=Array.from(e);if(hu(o[0])&&s&&!Reflect.has(o[0],s)&&(Object.keys(o[0]).some(c=>Reflect.has(r,c))||(fu(a,{[s]:o[0]}),t.splice(t.indexOf(s),1),o.shift())),o.length===1&&hu(o[0]))fu(a,o[0]);else for(let u=0;u<t.length;u++)Cn(o[u])&&(a[t[u]]=o[u]);return fu(r,a)}function xC(r){return r.constructor.getDefaults()}function Sh(r,e){return ka(r)?e:r}function so(r,e){return e.forEach(t=>{Reflect.has(r,t)&&delete r[t]}),r}class jl{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||sa&&this.toString()===sa.TONE_DEBUG_CLASS)&&hC(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}jl.version=Nx;const Gg=1e-6;function Lh(r,e){return r>e+Gg}function tg(r,e){return Lh(r,e)||ro(r,e)}function rp(r,e){return r+Gg<e}function ro(r,e){return Math.abs(r-e)<Gg}function wC(r,e,t){return Math.max(Math.min(r,t),e)}class Ea extends jl{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Zt(Ea.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Jt(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];Jt(tg(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const s=this._search(e,t);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const s=this._search(e,t);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(ro(this._timeline[t].time,e)){for(let s=t;s>=0&&ro(this._timeline[s].time,e);s--)t=s;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&tg(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let s=0;const a=this._timeline.length;let o=a;if(a>0&&this._timeline[a-1][t]<=e)return a-1;for(;s<o;){let u=Math.floor(s+(o-s)/2);const c=this._timeline[u],f=this._timeline[u+1];if(ro(c[t],e)){for(let d=u;d<this._timeline.length;d++){const m=this._timeline[d];if(ro(m[t],e))u=d;else break}return u}else{if(rp(c[t],e)&&Lh(f[t],e))return u;Lh(c[t],e)?o=u:s=u+1}}return-1}_iterate(e,t=0,s=this._timeline.length-1){this._timeline.slice(t,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const s=this._search(e);return s!==-1&&this._iterate(t,0,s),this}forEachAfter(e,t){const s=this._search(e);return this._iterate(t,s+1),this}forEachBetween(e,t,s){let a=this._search(e),o=this._search(t);return a!==-1&&o!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[o].time===t&&(o-=1),this._iterate(s,a,o)):a===-1&&this._iterate(s,0,o),this}forEachFrom(e,t){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(t,s+1),this}forEachAtTime(e,t){const s=this._search(e);if(s!==-1&&ro(this._timeline[s].time,e)){let a=s;for(let o=s;o>=0&&ro(this._timeline[o].time,e);o--)a=o;this._iterate(o=>{t(o)},a,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const x3=[];function Mp(r){x3.push(r)}function _C(r){x3.forEach(e=>e(r))}const w3=[];function Lp(r){w3.push(r)}function SC(r){w3.forEach(e=>e(r))}class bd extends jl{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(a=>{ka(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(t)}),this}once(e,t){const s=(...a)=>{t(...a),this.off(e,s)};return this.on(e,s),this}off(e,t){return e.split(/\W+/).forEach(a=>{if(ka(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(ka(t))this._events[a]=[];else{const o=this._events[a];for(let u=o.length-1;u>=0;u--)o[u]===t&&o.splice(u,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let a=0,o=s.length;a<o;a++)s[a].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const s=Object.getOwnPropertyDescriptor(bd.prototype,t);Object.defineProperty(e.prototype,t,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class _3 extends bd{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}let Wg=class S3 extends _3{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new Ea,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const s=Zt(S3.getDefaults(),arguments,["context"]);s.context?(this._context=s.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=fC({latencyHint:s.latencyHint}),this._latencyHint=s.latencyHint),this._ticker=new gC(this.emit.bind(this,"tick"),s.clockSource,s.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=s.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(_C(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,s){return this._context.createBuffer(e,t,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,s){return this._context.createPeriodicWave(e,t,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Jt(gh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Jt(gh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Jt(gh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Jt(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Jt(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Jt(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Jt(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return mC(this.rawContext,e,t)}addAudioWorkletModule(e){return ls(this,void 0,void 0,function*(){Jt(Cn(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return ls(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return gh(this._context)?this._context.resume():Promise.resolve()}close(){return ls(this,void 0,void 0,function*(){gh(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&SC(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),s=t.getChannelData(0);for(let o=0;o<s.length;o++)s[o]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=t,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,t=>{t.callback(),this._timeouts.remove(t)})}setTimeout(e,t){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const s=++this._timeoutIds,a=()=>{const o=this.now();this._timeouts.add({callback:()=>{e(),a()},id:s,time:o+t})};return a(),s}};class NC extends _3{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return ls(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Sr(r,e){oa(e)?e.forEach(t=>Sr(r,t)):Object.defineProperty(r,e,{enumerable:!0,writable:!1})}function Yg(r,e){oa(e)?e.forEach(t=>Yg(r,t)):Object.defineProperty(r,e,{writable:!0})}const ar=()=>{};class xr extends jl{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ar;const e=Zt(xr.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Cl(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:ar,onload:ar,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:io().sampleRate}set(e){return e instanceof xr?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return ls(this,void 0,void 0,function*(){const t=xr.load(e).then(s=>{this.set(s),this.onload(this)});xr.downloads.push(t);try{yield t}finally{const s=xr.downloads.indexOf(t);xr.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=oa(e)&&e[0].length>0,s=t?e.length:1,a=t?e[0].length:e.length,o=io(),u=o.createBuffer(s,a,o.sampleRate),c=!t&&s===1?[e]:e;for(let f=0;f<s;f++)u.copyToChannel(c[f],f);return this._buffer=u,this}toMono(e){if(Al(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const s=this.numberOfChannels;for(let a=0;a<s;a++){const o=this.toArray(a);for(let u=0;u<o.length;u++)t[u]+=o[u]}t=t.map(a=>a/s),this.fromArray(t)}return this}toArray(e){if(Al(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let s=0;s<this.numberOfChannels;s++)t[s]=this.getChannelData(s);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){Jt(this.loaded,"Buffer is not loaded");const s=Math.floor(e*this.sampleRate),a=Math.floor(t*this.sampleRate);Jt(s<a,"The start time must be less than the end time");const o=a-s,u=io().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)u.copyToChannel(this.getChannelData(c).subarray(s,a),c);return new xr(u)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new xr().fromArray(e)}static fromUrl(e){return ls(this,void 0,void 0,function*(){return yield new xr().load(e)})}static load(e){return ls(this,void 0,void 0,function*(){const t=xr.baseUrl===""||xr.baseUrl.endsWith("/")?xr.baseUrl:xr.baseUrl+"/",s=yield fetch(t+e);if(!s.ok)throw new Error(`could not load url: ${e}`);const a=yield s.arrayBuffer();return yield io().decodeAudioData(a)})}static supportsType(e){const t=e.split("."),s=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return ls(this,void 0,void 0,function*(){for(yield Promise.resolve();xr.downloads.length;)yield xr.downloads[0]})}}xr.baseUrl="";xr.downloads=[];class Xg extends Wg{constructor(){super({clockSource:"offline",context:I1(arguments[0])?arguments[0]:dC(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:I1(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=I1(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return ls(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const s=Math.floor(this.sampleRate/128);e&&t%s===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return ls(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new xr(t)})}close(){return Promise.resolve()}}const N3=new NC;let lu=N3;function io(){return lu===N3&&pC&&AC(new Wg),lu}function AC(r,e=!1){e&&lu.dispose(),gh(r)?lu=new Wg(r):I1(r)?lu=new Xg(r):lu=r}function xu(){return lu.resume()}if(sa&&!sa.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Nx} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function CC(r){return Math.pow(10,r/20)}function TC(r){return 20*(Math.log(r)/Math.LN10)}function A3(r){return Math.pow(2,r/12)}let Op=440;function kC(){return Op}function EC(r){Op=r}function cu(r){return Math.round(C3(r))}function C3(r){return 69+12*Math.log2(r/Op)}function T3(r){return Op*Math.pow(2,(r-69)/12)}class $g extends jl{constructor(e,t,s){super(),this.defaultUnits="s",this._val=t,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const s=parseInt(e,10),a=t==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/s)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,s)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a+=this._beatsToUnits(parseFloat(t))),s&&s!=="0"&&(a+=this._beatsToUnits(parseFloat(s)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof $g&&this.fromType(this._val),ka(this._val))return this._noArg();if(Cl(this._val)&&ka(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(hu(this._val)){let e=0;for(const t in this._val)if(Cn(this._val[t])){const s=this._val[t],a=new this.constructor(this.context,t).valueOf()*s;e+=a}return e}if(Cn(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return Cl(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class ao extends $g{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new ao(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const s=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),c=Math.round(a/s)*s-a;return a+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let o=1;o<9;o++){const u=Math.pow(2,o);t.push(u+"n."),t.push(u+"n"),t.push(u+"t")}t.push("0");let s=t[0],a=new ao(this.context,t[0]).toSeconds();return t.forEach(o=>{const u=new ao(this.context,o).toSeconds();Math.abs(u-e)<Math.abs(a-e)&&(s=o,a=u)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const s=Math.floor(t/this._getTimeSignature());let a=t%1*4;t=Math.floor(t)%this._getTimeSignature();const o=a.toString();return o.length>3&&(a=parseFloat(parseFloat(o).toFixed(3))),[s,t,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return cu(this.toFrequency())}_now(){return this.context.now()}}class ia extends ao{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return kC()}static set A4(e){EC(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:ia.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const a=jC[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?a:ia.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,s){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a*=this._beatsToUnits(parseFloat(t))),s&&s!=="0"&&(a*=this._beatsToUnits(parseFloat(s)/4)),a}}})}transpose(e){return new ia(this.context,this.valueOf()*A3(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return cu(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/ia.A4);let s=Math.round(12*t)+57;const a=Math.floor(s/12);return a<0&&(s+=-12*a),MC[s%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return T3(e)}static ftom(e){return cu(e)}}const jC={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},MC=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Bf extends ao{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Vi extends jl{constructor(){super();const e=Zt(Vi.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:io()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return uC(e),new ao(this.context,e).toSeconds()}toFrequency(e){return new ia(this.context,e).toFrequency()}toTicks(e){return new Bf(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(s=>{ka(e[s])&&delete t[s]}),t}get(){const e=xC(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const s=this[t];Cn(s)&&Cn(s.value)&&Cn(s.setValueAtTime)?e[t]=s.value:s instanceof Vi?e[t]=s._getPartialProperties(e[t]):oa(s)||Al(s)||Cl(s)||cC(s)?e[t]=s:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&Cn(this[t])&&(this[t]&&Cn(this[t].value)&&Cn(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Vi?this[t].set(e[t]):this[t]=e[t])}),this}}class Zg extends Ea{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,s){return Tl(t,0),this.add(Object.assign({},s,{state:e,time:t})),this}getLastState(e,t){const s=this._search(t);for(let a=s;a>=0;a--){const o=this._timeline[a];if(o.state===e)return o}}getNextState(e,t){const s=this._search(t);if(s!==-1)for(let a=s;a<this._timeline.length;a++){const o=this._timeline[a];if(o.state===e)return o}}}class fr extends Vi{constructor(){const e=Zt(fr.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Jt(Cn(e.param)&&(mu(e.param)||e.param instanceof fr),"param must be an AudioParam");!mu(e.param);)e.param=e.param._param;this._swappable=Cn(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Ea(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Cn(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Vi.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Cn(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Cn(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return Cn(this.maxValue)&&Cn(this.minValue)&&Tl(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?CC(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?TC(e):e}setValueAtTime(e,t){const s=this.toSeconds(t),a=this._fromType(e);return Jt(isFinite(a)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,s),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),s=this._events.getAfter(t),a=this._events.get(t);let o=this._initialValue;if(a===null)o=this._initialValue;else if(a.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const u=this._events.getBefore(a.time);let c;u===null?c=this._initialValue:c=u.value,a.type==="setTargetAtTime"&&(o=this._exponentialApproach(a.time,c,a.value,a.constant,t))}else if(s===null)o=a.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let u=a.value;if(a.type==="setTargetAtTime"){const c=this._events.getBefore(a.time);c===null?u=this._initialValue:u=c.value}s.type==="linearRampToValueAtTime"?o=this._linearInterpolate(a.time,u,s.time,s.value,t):o=this._exponentialInterpolate(a.time,u,s.time,s.value,t)}else o=a.value;return this._toType(o)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const s=this._fromType(e),a=this.toSeconds(t);return Jt(isFinite(s)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(s),this._events.add({time:a,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(s,a),this}exponentialRampToValueAtTime(e,t){let s=this._fromType(e);s=ro(s,0)?this._minOutput:s,this._assertRange(s);const a=this.toSeconds(t);return Jt(isFinite(s)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(s,a),this}exponentialRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(t)),this}linearRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(t)),this}targetRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,t),this}exponentialApproachValueAtTime(e,t,s){t=this.toSeconds(t),s=this.toSeconds(s);const a=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,t,a),this.cancelAndHoldAtTime(t+s*.9),this.linearRampToValueAtTime(e,t+s),this}setTargetAtTime(e,t,s){const a=this._fromType(e);Jt(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(t);return this._assertRange(a),Jt(isFinite(a)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:s,time:o,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,o,s),this._param.setTargetAtTime(a,o,s),this}setValueCurveAtTime(e,t,s,a=1){s=this.toSeconds(s),t=this.toSeconds(t);const o=this._fromType(e[0])*a;this.setValueAtTime(this._toType(o),t);const u=s/(e.length-1);for(let c=1;c<e.length;c++){const f=this._fromType(e[c])*a;this.linearRampToValueAtTime(this._toType(f),t+c*u)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return Jt(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),s=this._fromType(this.getValueAtTime(t));Jt(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+s);const a=this._events.get(t),o=this._events.getAfter(t);return a&&ro(a.time,t)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),t):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),t)),this._events.add({time:t,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,t),this}rampTo(e,t=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,s):this.linearRampTo(e,t,s),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const s=this._events.get(t);if(s&&s.type==="setTargetAtTime"){const a=this._events.getAfter(s.time),o=a?a.time:t+2,u=(o-t)/10;for(let c=t;c<o;c+=u)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){Jt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,s,a,o){return s+(t-s)*Math.exp(-(o-e)/a)}_linearInterpolate(e,t,s,a,o){return t+(a-t)*((o-e)/(s-e))}_exponentialInterpolate(e,t,s,a,o){return t*Math.pow(a/t,(o-e)/(s-e))}}class an extends Vi{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Cn(this.input)?mu(this.input)||this.input instanceof fr?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Cn(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Cn(e)&&(e instanceof an||yc(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Jt(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,s=0){return zh(this,e,t,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return jp("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,s=0){return LC(this,e,t,s),this}chain(...e){return Qf(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),Cn(this.input)&&(this.input instanceof an?this.input.dispose():yc(this.input)&&this.input.disconnect()),Cn(this.output)&&(this.output instanceof an?this.output.dispose():yc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Qf(...r){const e=r.shift();r.reduce((t,s)=>(t instanceof an?t.connect(s):yc(t)&&zh(t,s),s),e)}function zh(r,e,t=0,s=0){for(Jt(Cn(r),"Cannot connect from undefined node"),Jt(Cn(e),"Cannot connect to undefined node"),(e instanceof an||yc(e))&&Jt(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Jt(r.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof an||e instanceof fr;)Cn(e.input)&&(e=e.input);for(;r instanceof an;)Cn(r.output)&&(r=r.output);mu(e)?r.connect(e,t):r.connect(e,t,s)}function LC(r,e,t=0,s=0){if(Cn(e))for(;e instanceof an;)e=e.input;for(;!yc(r);)Cn(r.output)&&(r=r.output);mu(e)?r.disconnect(e,t):yc(e)?r.disconnect(e,t,s):r.disconnect()}class cs extends an{constructor(){const e=Zt(cs.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new fr({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Sr(this,"gain")}static getDefaults(){return Object.assign(an.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Oh extends an{constructor(e){super(e),this.onended=ar,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new cs({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const s=this.toSeconds(t);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(an.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ar})}_startGain(e,t=1){Jt(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+s):this._gainNode.gain.exponentialApproachValueAtTime(t,e,s)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Jt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ar&&(this.onended(this),this.onended=ar,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Jt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=ar,this}}class Qg extends Oh{constructor(){const e=Zt(Qg.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),zh(this._source,this._gainNode),this.offset=new fr({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Oh.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class dr extends an{constructor(){const e=Zt(dr.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Qg({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(an.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,s=0){return Kg(this,e,t,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,s){return this._param.exponentialRampTo(e,t,s),this}linearRampTo(e,t,s){return this._param.linearRampTo(e,t,s),this}targetRampTo(e,t,s){return this._param.targetRampTo(e,t,s),this}exponentialApproachValueAtTime(e,t,s){return this._param.exponentialApproachValueAtTime(e,t,s),this}setTargetAtTime(e,t,s){return this._param.setTargetAtTime(e,t,s),this}setValueCurveAtTime(e,t,s,a){return this._param.setValueCurveAtTime(e,t,s,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,s){return this._param.rampTo(e,t,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Kg(r,e,t,s){(e instanceof fr||mu(e)||e instanceof dr&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof dr&&(e.overridden=!0)),zh(r,e,t,s)}class Jg extends fr{constructor(){const e=Zt(Jg.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Ea(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(fr.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,s){t=this.toSeconds(t),this.setRampPoint(t);const a=this._fromType(e),o=this._events.get(t),u=Math.round(Math.max(1/s,1));for(let c=0;c<=u;c++){const f=s*c+t,d=this._exponentialApproach(o.time,o.value,a,s,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}setValueAtTime(e,t){const s=this.toSeconds(t);super.setValueAtTime(e,t);const a=this._events.get(s),o=this._events.previousEvent(a),u=this._getTicksUntilEvent(o,s);return a.ticks=Math.max(u,0),this}linearRampToValueAtTime(e,t){const s=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const a=this._events.get(s),o=this._events.previousEvent(a),u=this._getTicksUntilEvent(o,s);return a.ticks=Math.max(u,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const s=this._fromType(e),a=this._events.get(t),o=Math.round(Math.max((t-a.time)*10,1)),u=(t-a.time)/o;for(let c=0;c<=o;c++){const f=u*c+a.time,d=this._exponentialInterpolate(a.time,a.value,t,s,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ka(e.ticks)){const u=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(u,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(t));const o=this._events.get(t);return o&&o.time===t&&o.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(s+a)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),s=this._events.get(t);return Math.max(this._getTicksUntilEvent(s,t),0)}getDurationOfTicks(e,t){const s=this.toSeconds(t),a=this.getTicksAtTime(t);return this.getTimeOfTick(a+e)-s}getTimeOfTick(e){const t=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&s&&s.type==="linearRampToValueAtTime"&&t.value!==s.value){const a=this._fromType(this.getValueAtTime(t.time)),u=(this._fromType(this.getValueAtTime(s.time))-a)/(s.time-t.time),c=Math.sqrt(Math.pow(a,2)-2*u*(t.ticks-e)),f=(-a+c)/u,d=(-a-c)/u;return(f>0?f:d)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const s=this.toSeconds(t),a=this.toSeconds(e),o=this.getTicksAtTime(s);return this.getTicksAtTime(s+a)-o}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class e2 extends dr{constructor(){const e=Zt(e2.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Jg({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(dr.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class t2 extends Vi{constructor(){const e=Zt(t2.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Zg,this._tickOffset=new Ea,this._ticksAtTime=new Ea,this._secondsAtTime=new Ea,this.frequency=new e2({context:this.context,units:e.units,value:e.frequency}),Sr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Vi.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),Cn(t)&&this.setTicksAtTime(t,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const s=this._state.get(t);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),s=this._state.getLastState("stopped",t),a=this._ticksAtTime.get(t),o={state:"paused",time:t};this._state.add(o);let u=a||s,c=a?a.ticks:0,f=null;return this._state.forEachBetween(u.time,t+this.sampleTime,d=>{let m=u.time;const y=this._tickOffset.get(d.time);y&&y.time>=u.time&&(c=y.ticks,m=y.time),u.state==="started"&&d.state!=="started"&&(c+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(m),d.time!==o.time&&(f={state:d.state,time:d.time,ticks:c})),u=d}),this._state.remove(o),f&&this._ticksAtTime.add(f),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),s=this.frequency.timeToTicks(e,t);this.setTicksAtTime(s,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);const a=this._secondsAtTime.get(e);let o=a||t,u=a?a.seconds:0,c=null;return this._state.forEachBetween(o.time,e+this.sampleTime,f=>{let d=o.time;const m=this._tickOffset.get(f.time);m&&m.time>=o.time&&(u=m.seconds,d=m.time),o.state==="started"&&f.state!=="started"&&(u+=f.time-d,f.time!==s.time&&(c={state:f.state,time:f.time,seconds:u})),o=f}),this._state.remove(s),c&&this._secondsAtTime.add(c),u}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const s=this._tickOffset.get(t),a=this._state.get(t),o=Math.max(s.time,a.time),u=this.frequency.getTicksAtTime(o)+e-s.ticks;return this.frequency.getTimeOfTick(u)}forEachTickBetween(e,t,s){let a=this._state.get(e);this._state.forEachBetween(e,t,u=>{a&&a.state==="started"&&u.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),u.time-this.sampleTime,s),a=u});let o=null;if(a&&a.state==="started"){const u=Math.max(a.time,e),c=this.frequency.getTicksAtTime(u),f=this.frequency.getTicksAtTime(a.time),d=c-f;let m=Math.ceil(d)-d;m=ro(m,1)?0:m;let y=this.frequency.getTimeOfTick(c+m);for(;y<t;){try{s(y,Math.round(this.getTicksAtTime(y)))}catch(_){o=_;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}let k3=class E3 extends Vi{constructor(){const e=Zt(E3.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=ar,this._lastUpdate=0,this._state=new Zg("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new t2({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Sr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Vi.getDefaults(),{callback:ar,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){b3(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,t),s<this._lastUpdate&&this.emit("start",s,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const s=this.toSeconds(t),a=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(a+e,s)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,s=>{switch(s.state){case"started":const a=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,a);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,t,(s,a)=>{this.callback(s,a)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};bd.mixin(k3);class Ph extends an{constructor(){const e=Zt(Ph.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new cs({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Sr(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(an.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class n2 extends an{constructor(){const e=Zt(n2.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Ph({context:this.context}),this.output=new cs({context:this.context}),this.volume=this.input.volume,Qf(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(an.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Qf(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Mp(r=>{r.destination=new n2({context:r})});Lp(r=>{r.destination.dispose()});class OC extends an{constructor(){super(...arguments),this.name="Listener",this.positionX=new fr({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new fr({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new fr({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new fr({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new fr({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new fr({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new fr({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new fr({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new fr({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(an.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Mp(r=>{r.listener=new OC({context:r})});Lp(r=>{r.listener.dispose()});class r2 extends jl{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Zt(r2.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const s=e.urls[t];this.add(t,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:ar,onload:ar,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Jt(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,s=ar,a=ar){return Cl(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new xr(this.baseUrl+t,s,a))):this._buffers.set(e.toString(),new xr(t,s,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class sp extends ia{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return cu(super._frequencyToUnits(e))}_ticksToUnits(e){return cu(super._ticksToUnits(e))}_beatsToUnits(e){return cu(super._beatsToUnits(e))}_secondsToUnits(e){return cu(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return T3(this.toMidi())}transpose(e){return new sp(this.context,this.toMidi()+e)}}class xh extends Bf{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class DC extends Vi{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Ea,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,t=>{e-t.time<=this.expiration&&t.callback(),this._events.remove(t)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Mp(r=>{r.draw=new DC({context:r})});Lp(r=>{r.draw.dispose()});class RC extends jl{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Jt(Cn(e.time),"Events must have a time property"),Jt(Cn(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new IC(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const s of t)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let s,a=null;if(t>0)if(e.left.right===null)s=e.left,s.right=e.right,a=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,a=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,a=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,a=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const t=e.parent,s=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),t!==null?s?t.left=a:t.right=a:this._setRoot(a)}_rotateRight(e){const t=e.parent,s=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),t!==null?s?t.left=a:t.right=a:this._setRoot(a)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let s=t[0];for(let a=1;a<t.length;a++)t[a].low>s.low&&(s=t[a]);return s.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(s=>t.push(s)),t.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(a=>{a.event&&t(a.event)})}return this}forEachFrom(e,t){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(a=>{a.event&&t(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class IC{constructor(e,t,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class FC extends jl{constructor(e){super(),this.name="TimelineValue",this._timeline=new Ea({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class xc extends an{constructor(){super(Zt(xc.getDefaults(),arguments,["context"]))}connect(e,t=0,s=0){return Kg(this,e,t,s),this}}class vd extends xc{constructor(){const e=Zt(vd.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,oa(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):lC(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(dr.getDefaults(),{length:1024})}setMap(e,t=1024){const s=new Float32Array(t);for(let a=0,o=t;a<o;a++){const u=a/(o-1)*2-1;s[a]=e(u,a)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(s=>s.includes(e));Jt(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Dp extends xc{constructor(){const e=Zt(Dp.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new vd({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(xc.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class wc{constructor(e,t){this.id=wc._eventId++,this._remainderTime=0;const s=Object.assign(wc.getDefaults(),t);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:ar,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}wc._eventId=0;class s2 extends wc{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(s2.getDefaults(),t);this.duration=s.duration,this._interval=s.interval,this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},wc.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return rp(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new xh(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){rp(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new xh(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Lh(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Rp extends Vi{constructor(){const e=Zt(Rp.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new FC(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Ea,this._repeatedEvents=new RC,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new k3({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Sr(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Vi.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const s=t%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(s*Math.PI)*this._swingAmount;e+=new xh(this.context,this._swingTicks*2/3).toSeconds()*a}M5(!0),this._timeline.forEachAtTime(t,s=>s.invoke(e)),M5(!1)}schedule(e,t){const s=new wc(this,{callback:e,time:new Bf(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,t,s,a=1/0){const o=new s2(this,{callback:e,duration:new ao(this.context,a).toTicks(),interval:new ao(this.context,t).toTicks(),time:new Bf(this.context,s).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(e,t){const s=new wc(this,{callback:e,once:!0,time:new Bf(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(t,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new xh(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let s;return Cn(t)&&(s=this.toTicks(t)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){oa(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new ao(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new ao(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new xh(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new xh(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),s=this._clock.frequency.timeToTicks(e,t);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(t),a=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,t),o=t+a;this.emit("stop",o),this._clock.setTicksAtTime(e,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),s=this.getTicksAtTime(t),a=e-s%e;return this._clock.nextTickTime(a,t)}}syncSignal(e,t){const s=this.now();let a=this.bpm,o=1/(60/a.getValueAtTime(s)/this.PPQ),u=[];if(e.units==="time"){const f=.015625/o,d=new cs(f),m=new Dp(-1),y=new cs(f);a.chain(d,m,y),a=y,o=1/o,u=[d,m,y]}t||(e.getValueAtTime(s)!==0?t=e.getValueAtTime(s)/o:t=0);const c=new cs(t);return a.connect(c),c.connect(e._param),u.push(c),this._syncedSignals.push({initial:e.value,nodes:u,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const s=this._syncedSignals[t];s.signal===e&&(s.nodes.forEach(a=>a.dispose()),s.signal.value=s.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Yg(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}bd.mixin(Rp);Mp(r=>{r.transport=new Rp({context:r})});Lp(r=>{r.transport.dispose()});class ri extends an{constructor(e){super(e),this.input=void 0,this._state=new Zg("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ar,this._syncedStop=ar,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ph({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Sr(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(an.getDefaults(),{mute:!1,onstop:ar,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,s){let a=ka(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")Jt(Lh(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,t,s);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const o=this._state.get(a);o&&(o.offset=this.toSeconds(Sh(t,0)),o.duration=s?this.toSeconds(s):void 0);const u=this.context.transport.schedule(c=>{this._start(c,t,s)},a);this._scheduled.push(u),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else b3(this.context),this._start(a,t,s);return this}stop(e){let t=ka(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||Cn(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const s=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(s)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Lh(t,0)){const s=this._state.get(t);if(s&&s.state==="started"&&s.time!==t){const a=t-this.toSeconds(s.time);let o;s.duration&&(o=this.toSeconds(s.duration)-a),this._start(e,this.toSeconds(s.offset)+a,o)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ar,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Ip extends Oh{constructor(){const e=Zt(Ip.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,zh(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new fr({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new xr(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Oh.getDefaults(),{url:new xr,loop:!1,loopEnd:0,loopStart:0,onload:ar,onerror:ar,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,s,a=1){Jt(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(e);this._startGain(o,a),this.loop?t=Sh(t,this.loopStart):t=Sh(t,0);let u=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),d=c-f;tg(u,c)&&(u=(u-f)%d+f),ro(u,this.buffer.duration)&&(u=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,rp(u,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,u)),Cn(s)){let c=this.toSeconds(s);c=Math.max(c,0),this.stop(o+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function wu(r,e){return ls(this,void 0,void 0,function*(){const t=e/r.context.sampleRate,s=new Xg(1,t,r.context.sampleRate);return new r.constructor(Object.assign(r.get(),{frequency:2/t,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class i2 extends Oh{constructor(){const e=Zt(i2.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],zh(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new fr({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new fr({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Sr(this,["frequency","detune"])}static getDefaults(){return Object.assign(Oh.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class os extends ri{constructor(){const e=Zt(os.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new dr({context:this.context,units:"frequency",value:e.frequency}),Sr(this,"frequency"),this.detune=new dr({context:this.context,units:"cents",value:e.detune}),Sr(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(ri.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),s=new i2({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return os._periodicWaveCache.find(t=>t.phase===this._phase&&yC(t.partials,this._partials));{const e=os._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(Cn(s)){const{partials:a,wave:o}=s;this._wave=o,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,o]=this._getRealImaginary(e,this._phase),u=this.context.createPeriodicWave(a,o);this._wave=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),os._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),os._periodicWaveCache.length>100&&os._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Tl(e,0);let t=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(t=s[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const a=new Float32Array(e);this._partials.forEach((o,u)=>a[u]=o),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,t){let a=2048;const o=new Float32Array(a),u=new Float32Array(a);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,a=c,this._partials.length===0)return[o,u]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);f?(c=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),e=f[1],c=Math.max(c,2),a=c):this._partialCount=0,this._partials=[]}for(let f=1;f<a;++f){const d=2/(f*Math.PI);let m;switch(e){case"sine":m=f<=c?1:0,this._partials[f-1]=m;break;case"square":m=f&1?2*d:0,this._partials[f-1]=m;break;case"sawtooth":m=d*(f&1?1:-1),this._partials[f-1]=m;break;case"triangle":f&1?m=2*(d*d)*(f-1>>1&1?-1:1):m=0,this._partials[f-1]=m;break;case"custom":m=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}m!==0?(o[f]=-m*Math.sin(t*f),u[f]=m*Math.cos(t*f)):(o[f]=0,u[f]=0)}return[o,u]}_inverseFFT(e,t,s){let a=0;const o=e.length;for(let u=0;u<o;u++)a+=e[u]*Math.cos(u*s)+t[u]*Math.sin(u*s);return a}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let s=0;const a=Math.PI*2,o=32;for(let u=0;u<o;u++)s=Math.max(this._inverseFFT(e,t,u/o*a),s);return wC(-this._inverseFFT(e,t,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return ls(this,arguments,void 0,function*(e=1024){return wu(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}os._periodicWaveCache=[];class j3 extends xc{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new vd({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class kl extends dr{constructor(){const e=Zt(kl.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new cs({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(dr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Fp extends ri{constructor(){const e=Zt(Fp.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new j3({context:this.context}),this._modulationNode=new cs({context:this.context}),this._carrier=new os({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new os({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new kl({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Sr(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(os.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return ls(this,arguments,void 0,function*(e=1024){return wu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Vp extends ri{constructor(){const e=Zt(Vp.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new cs({context:this.context,gain:0}),this._carrier=new os({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new dr({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new os({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new kl({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new kl({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Sr(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(os.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return ls(this,arguments,void 0,function*(e=1024){return wu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class yd extends ri{constructor(){const e=Zt(yd.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new cs({context:this.context,gain:0}),this._thresh=new vd({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new dr({context:this.context,units:"audioRange",value:e.width}),this._triangle=new os({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Sr(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(ri.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return ls(this,arguments,void 0,function*(e=1024){return wu(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Bp extends ri{constructor(){const e=Zt(Bp.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new dr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new dr({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Sr(this,["frequency","detune"])}static getDefaults(){return Object.assign(os.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,s=e/(this._oscillators.length-1);this._forEach((a,o)=>a.detune.value=t+s*o)}}get count(){return this._oscillators.length}set count(e){if(Tl(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const s=new os({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):ar});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[t]=s}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,s)=>t.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return ls(this,arguments,void 0,function*(e=1024){return wu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class qp extends ri{constructor(){const e=Zt(qp.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new kl({context:this.context,value:2}),this._pulse=new yd({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new os({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Sr(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(ri.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return ls(this,arguments,void 0,function*(e=1024){return wu(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const L5={am:Fp,fat:Bp,fm:Vp,oscillator:os,pulse:yd,pwm:qp};class _c extends ri{constructor(){const e=Zt(_c.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new dr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new dr({context:this.context,units:"cents",value:e.detune}),Sr(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(os.getDefaults(),Vp.getDefaults(),Fp.getDefaults(),Bp.getDefaults(),yd.getDefaults(),qp.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=L5[e],s=this.now();if(this._oscillator){const a=this._oscillator;a.stop(s),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof L5[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Al(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Al(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Cl(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return ls(this,arguments,void 0,function*(e=1024){return wu(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class a2 extends dr{constructor(){super(Zt(a2.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new cs({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Qf(this._constantSource,this._sum)}static getDefaults(){return Object.assign(dr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class o2 extends xc{constructor(){const e=Zt(o2.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new kl({context:this.context,value:e.max-e.min}),this._add=this.output=new a2({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(xc.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function M3(r,e=1/0){const t=new WeakMap;return function(s,a){Reflect.defineProperty(s,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){Tl(o,r,e),t.set(this,o)}})}}function Ml(r,e=1/0){const t=new WeakMap;return function(s,a){Reflect.defineProperty(s,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){Tl(this.toSeconds(o),r,e),t.set(this,o)}})}}class zp extends ri{constructor(){const e=Zt(zp.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new xr({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(ri.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ar,onerror:ar,playbackRate:1,reverse:!1})}load(e){return ls(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=ar){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,s){return super.start(e,t,s),this}_start(e,t,s){this._loop?t=Sh(t,this._loopStart):t=Sh(t,0);const a=this.toSeconds(t),o=s;s=Sh(s,Math.max(this._buffer.duration-a,0));let u=this.toSeconds(s);u=u/this._playbackRate,e=this.toSeconds(e);const c=new Ip({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+u),this._state.setStateAtTime("stopped",e+u,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&ka(o)?c.start(e,a):c.start(e,a,u-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(t))}restart(e,t,s){return super.restart(e,t,s),this}_restart(e,t,s){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,t,s)}seek(e,t){const s=this.toSeconds(t);if(this._state.getValueAtTime(s)==="started"){const a=this.toSeconds(e);this._stop(s),this._start(s,a)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Tl(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Tl(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),s=this._state.getNextState("stopped",t);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}po([Ml(0)],zp.prototype,"fadeIn",void 0);po([Ml(0)],zp.prototype,"fadeOut",void 0);class la extends an{constructor(){const e=Zt(la.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new dr({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(an.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(Cl(e))return e;{let s;for(s in w1)if(w1[s][t]===e)return s;return e}}_setCurve(e,t,s){if(Cl(s)&&Reflect.has(w1,s)){const a=w1[s];hu(a)?e!=="_decayCurve"&&(this[e]=a[t]):this[e]=a}else if(oa(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),u=this.getValueAtTime(e);if(u>0){const c=1/a;a=(1-u)/c}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,a,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let f=1;f<c.length;f++)if(c[f-1]<=u&&u<=c[f]){c=this._attackCurve.slice(f),c[0]=u;break}this._sig.setValueCurveAtTime(c,e,a,t)}if(o&&this.sustain<1){const c=t*this.sustain,f=e+a;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,o+f):this._sig.exponentialApproachValueAtTime(c,f,o)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(Jt(oa(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,s=1){return t=this.toSeconds(t),this.triggerAttack(t,s),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,s=0){return Kg(this,e,t,s),this}asArray(){return ls(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,s=new Xg(1,t,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=a+this.toSeconds(this.release),u=o*.1,c=o+u,f=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:s}));return f._sig.toDestination(),f.triggerAttackRelease(t*(a+u)/c,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}po([Ml(0)],la.prototype,"attack",void 0);po([Ml(0)],la.prototype,"decay",void 0);po([M3(0,1)],la.prototype,"sustain",void 0);po([Ml(0)],la.prototype,"release",void 0);const w1=(()=>{let e,t;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/127*(Math.PI/2));const a=[],o=6.4;for(e=0;e<127;e++){t=e/127;const _=Math.sin(t*(Math.PI*2)*o-Math.PI/2)+1;a[e]=_/10+t*.83}a[127]=1;const u=[],c=5;for(e=0;e<128;e++)u[e]=Math.ceil(e/127*c)/c;const f=[];for(e=0;e<128;e++)t=e/127,f[e]=.5*(1-Math.cos(Math.PI*t));const d=[];for(e=0;e<128;e++){t=e/127;const _=Math.pow(t,3)*4+.2,b=Math.cos(_*Math.PI*2*t);d[e]=Math.abs(b*(1-t))}function m(_){const b=new Array(_.length);for(let N=0;N<_.length;N++)b[N]=1-_[N];return b}function y(_){return _.slice(0).reverse()}return{bounce:{In:m(d),Out:d},cosine:{In:s,Out:y(s)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:m(a)},sine:{In:f,Out:m(f)},step:{In:u,Out:m(u)}}})();class Sc extends an{constructor(){const e=Zt(Sc.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new Ph({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Sr(this,"volume")}static getDefaults(){return Object.assign(an.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const s=this["_original_"+e]=this[e];this[e]=(...a)=>{const o=a[t],u=this.context.transport.schedule(c=>{a[t]=c,s.apply(this,a)},o);this._scheduledEvents.push(u)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,s,a){const o=this.toSeconds(s),u=this.toSeconds(t);return this.triggerAttack(e,o,a),this.triggerRelease(o+u),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class lo extends Sc{constructor(){const e=Zt(lo.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Sc.getDefaults(),{detune:0,onsilence:ar,portamento:0})}triggerAttack(e,t,s=1){this.log("triggerAttack",e,t,s);const a=this.toSeconds(t);return this._triggerEnvelopeAttack(a,s),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const s=this.toSeconds(t),a=e instanceof ia?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,o,s)}else this.frequency.setValueAtTime(a,s);return this}}po([Ml(0)],lo.prototype,"portamento",void 0);class Pp extends la{constructor(){super(Zt(Pp.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new cs({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ta extends lo{constructor(){const e=Zt(Ta.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new _c(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Pp(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Sr(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(lo.getDefaults(),{envelope:Object.assign(so(la.getDefaults(),Object.keys(an.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(so(_c.getDefaults(),[...Object.keys(ri.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Kf extends lo{constructor(){const e=Zt(Kf.getDefaults(),arguments);super(e),this.name="ModulationSynth",this._carrier=new Ta({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new Ta({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new dr({context:this.context,units:"frequency"}),this.detune=new dr({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new kl({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new cs({context:this.context,gain:0}),Sr(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(lo.getDefaults(),{harmonicity:3,oscillator:Object.assign(so(_c.getDefaults(),[...Object.keys(ri.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(so(la.getDefaults(),Object.keys(an.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(so(_c.getDefaults(),[...Object.keys(ri.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(so(la.getDefaults(),Object.keys(an.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class ip extends Kf{constructor(){super(Zt(ip.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new j3({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class ap extends an{constructor(){const e=Zt(ap.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new fr({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new fr({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new fr({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new fr({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(an.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){Jt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let u=0;u<e;u++){const f=Math.pow(u/e,2)*19980+20;t[u]=f}const s=new Float32Array(e),a=new Float32Array(e),o=this.context.createBiquadFilter();return o.type=this.type,o.Q.value=this.Q.value,o.frequency.value=this.frequency.value,o.gain.value=this.gain.value,o.getFrequencyResponse(t,s,a),s}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class op extends an{constructor(){const e=Zt(op.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new cs({context:this.context}),this.output=new cs({context:this.context}),this._filters=[],this._filters=[],this.Q=new dr({context:this.context,units:"positive",value:e.Q}),this.frequency=new dr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new dr({context:this.context,units:"cents",value:e.detune}),this.gain=new dr({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Sr(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(an.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){Jt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(s=>s.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const t=Al(e)?e:parseInt(e,10),s=[-12,-24,-48,-96];let a=s.indexOf(t);Jt(a!==-1,`rolloff can only be ${s.join(", ")}`),a+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach(o=>o.disconnect()),this._filters=new Array(a);for(let o=0;o<a;o++){const u=new ap({context:this.context});u.type=this._type,this.frequency.connect(u.frequency),this.detune.connect(u.detune),this.Q.connect(u.Q),this.gain.connect(u.gain),this._filters[o]=u}this._internalChannels=this._filters,Qf(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new ap({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),s=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{t.getFrequencyResponse(e).forEach((o,u)=>s[u]*=o)}),t.dispose(),s}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Yg(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class lp extends la{constructor(){const e=Zt(lp.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="FrequencyEnvelope",this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new Dp({context:this.context,value:e.exponent}),this._scale=this.output=new o2({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(la.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);Tl(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class cp extends lo{constructor(){const e=Zt(cp.getDefaults(),arguments);super(e),this.name="MonoSynth",this.oscillator=new _c(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new op(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new lp(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new Pp(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Sr(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(lo.getDefaults(),{envelope:Object.assign(so(la.getDefaults(),Object.keys(an.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(so(op.getDefaults(),Object.keys(an.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(so(lp.getDefaults(),Object.keys(an.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(so(_c.getDefaults(),Object.keys(ri.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class qf extends Kf{constructor(){const e=Zt(qf.getDefaults(),arguments);super(e),this.name="FMSynth",this.modulationIndex=new kl({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Kf.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class Up extends Ta{constructor(){const e=Zt(Up.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Sr(this,["oscillator","envelope"])}static getDefaults(){return fu(lo.getDefaults(),Ta.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const s=this.toSeconds(t),a=this.toFrequency(e instanceof ia?e.toFrequency():e),o=a*this.octaves;return this.oscillator.frequency.setValueAtTime(o,s),this.oscillator.frequency.exponentialRampToValueAtTime(a,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}po([M3(0)],Up.prototype,"octaves",void 0);po([Ml(0)],Up.prototype,"pitchDecay",void 0);const L3=new Set;function l2(r){L3.add(r)}function O3(r,e){const t=`registerProcessor("${r}", ${e})`;L3.add(t)}const VC=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;l2(VC);const BC=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;l2(BC);const qC=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;l2(qC);const zC="feedback-comb-filter",PC=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;O3(zC,PC);class Di extends Sc{constructor(){const e=Zt(Di.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),Jt(!Al(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const s=this._voices.indexOf(this._dummyVoice);this._voices.splice(s,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Sc.getDefaults(),{maxPolyphony:32,options:{},voice:Ta})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex(s=>s.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Jt(e instanceof lo,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else jp("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,s){e.forEach(a=>{const o=new sp(this.context,a).toMidi(),u=this._getNextAvailableVoice();u&&(u.triggerAttack(a,t,s),this._activeVoices.push({midi:o,voice:u,released:!1}),this.log("triggerAttack",a,t))})}_triggerRelease(e,t){e.forEach(s=>{const a=new sp(this.context,s).toMidi(),o=this._activeVoices.find(({midi:u,released:c})=>u===a&&!c);o&&(o.voice.triggerRelease(t),o.released=!0,this.log("triggerRelease",s,t))})}_scheduleEvent(e,t,s,a){Jt(!this.disposed,"Synth was already disposed"),s<=this.now()?e==="attack"?this._triggerAttack(t,s,a):this._triggerRelease(t,s):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,t,s,a)},s-this.now())}triggerAttack(e,t,s){Array.isArray(e)||(e=[e]);const a=this.toSeconds(t);return this._scheduleEvent("attack",e,a,s),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const s=this.toSeconds(t);return this._scheduleEvent("release",e,s),this}triggerAttackRelease(e,t,s,a){const o=this.toSeconds(s);if(this.triggerAttack(e,o,a),oa(t)){Jt(oa(e),"If the duration is an array, the notes must also be an array"),e=e;for(let u=0;u<e.length;u++){const c=t[Math.min(u,t.length-1)],f=this.toSeconds(c);Jt(f>0,"The duration must be greater than 0"),this.triggerRelease(e[u],o+f)}}else{const u=this.toSeconds(t);Jt(u>0,"The duration must be greater than 0"),this.triggerRelease(e,o+u)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const t=so(e,["onsilence","context"]);return this.options=fu(this.options,t),this._voices.forEach(s=>s.set(t)),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach(({voice:s})=>{s.triggerRelease(t)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class xd extends Sc{constructor(){const e=Zt(xd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(s=>{const a=parseInt(s,10);if(Jt(x1(s)||Al(a)&&isFinite(a),`url key is neither a note or midi pitch: ${s}`),x1(s)){const o=new ia(this.context,s).toMidi();t[o]=e.urls[s]}else Al(a)&&isFinite(a)&&(t[a]=e.urls[a])}),this._buffers=new r2({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Sc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ar,onerror:ar,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,s=1){return this.log("triggerAttack",e,t,s),Array.isArray(e)||(e=[e]),e.forEach(a=>{const o=C3(new ia(this.context,a).toFrequency()),u=Math.round(o),c=o-u,f=this._findClosest(u),d=u-f,m=this._buffers.get(d),y=A3(f+c),_=new Ip({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);_.start(t,0,m.duration/y,s),oa(this._activeSources.get(u))||this._activeSources.set(u,[]),this._activeSources.get(u).push(_),_.onended=()=>{if(this._activeSources&&this._activeSources.has(u)){const b=this._activeSources.get(u),N=b.indexOf(_);N!==-1&&b.splice(N,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(s=>{const a=new ia(this.context,s).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const o=this._activeSources.get(a);t=this.toSeconds(t),o.forEach(u=>{u.stop(t)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,s,a=1){const o=this.toSeconds(s);return this.triggerAttack(e,o,a),oa(t)?(Jt(oa(e),"notes must be an array when duration is array"),e.forEach((u,c)=>{const f=t[Math.min(c,t.length-1)];this.triggerRelease(u,o+this.toSeconds(f))})):this.triggerRelease(e,o+this.toSeconds(t)),this}add(e,t,s){if(Jt(x1(e)||isFinite(e),`note must be a pitch or midi: ${e}`),x1(e)){const a=new ia(this.context,e).toMidi();this._buffers.add(a,t,s)}else this._buffers.add(e,t,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}po([Ml(0)],xd.prototype,"attack",void 0);po([Ml(0)],xd.prototype,"release",void 0);class c2 extends an{constructor(){const e=Zt(c2.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new fr({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Sr(this,"pan")}static getDefaults(){return Object.assign(an.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const UC="bit-crusher",HC=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;O3(UC,HC);class as extends an{constructor(){const e=Zt(as.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new cs({context:this.context}),as._allSolos.has(this.context)||as._allSolos.set(this.context,new Set),as._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(an.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),as._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){as._soloed.has(this.context)||as._soloed.set(this.context,new Set),as._soloed.get(this.context).add(this)}_removeSolo(){as._soloed.has(this.context)&&as._soloed.get(this.context).delete(this)}_isSoloed(){return as._soloed.has(this.context)&&as._soloed.get(this.context).has(this)}_noSolos(){return!as._soloed.has(this.context)||as._soloed.has(this.context)&&as._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),as._allSolos.get(this.context).delete(this),this._removeSolo(),this}}as._allSolos=new Map;as._soloed=new Map;class u2 extends an{constructor(){const e=Zt(u2.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new c2({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ph({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Sr(this,["pan","volume"])}static getDefaults(){return Object.assign(an.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class wh extends an{constructor(){const e=Zt(wh.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new as({solo:e.solo,context:this.context}),this._panVol=this.output=new u2({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Sr(this,["pan","volume"])}static getDefaults(){return Object.assign(an.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return wh.buses.has(e)||wh.buses.set(e,new cs({context:this.context})),wh.buses.get(e)}send(e,t=0){const s=this._getBus(e),a=new cs({context:this.context,units:"decibels",gain:t});return this.connect(a),a.connect(s),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}wh.buses=new Map;const mi=io().transport,D3=io().destination;io().destination;io().listener;const GC=io().draw,ws=io();function WC(){return xr.loaded()}const _1=({cx:r,cy:e,innerRadius:t,outerRadius:s,startAngle:a,endAngle:o,color:u,label:c,chord:f,isSelected:d,isDiatonic:m,isSecondary:y=!1,onClick:_,onDoubleClick:b,ringType:N="major",wheelRotation:A=0,romanNumeral:E,voicingSuggestion:T,segmentId:R="seg",onHover:I})=>{const q=tS(r,e,t,s,a,o),V=(a+o)/2,W=Xn.useRef(0),H=Xn.useRef(null),[O,F]=Xn.useState(!1),J=Xn.useRef(null),k=Xn.useRef(!1),D=Xn.useRef(!1),Q=-A,$=s-t,le=t+$*.5,B=t+$*.18,ie=bc(r,e,le,V),re=bc(r,e,B,V),fe=s-6,me=eS(r,e,fe,a+1,o-1),G=`voicing-arc-${R}`,j=`clip-${R}`,ee=(()=>{let Ue=.35,nt=.5;m?(Ue=1,nt=1):y&&(Ue=.7,nt=.65);const Oe=u.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(Oe){const $e=parseInt(Oe[1]),tt=Math.round(parseInt(Oe[2])*nt),at=parseInt(Oe[3]);let mt=at;return N==="minor"?mt=Math.max(at-8,30):N==="diminished"&&(mt=Math.max(at-15,25)),{fill:`hsl(${$e}, ${tt}%, ${mt}%)`,opacity:Ue}}return{fill:u,opacity:Ue}})(),te=()=>N==="diminished"?"10px":N==="minor"?"12px":"14px",oe=m||y,de=oe?"#000000":"rgba(255,255,255,0.7)",pe=m?"bold":y?"600":"normal",ve=N==="diminished"||N==="minor"?"6px":"8px",_e=N==="major"?oe?6:5:N==="minor"?oe?4:3.25:oe?3.5:3,qe=oe?1:.95,Xe=Ue=>{if(F(!0),Ue.touches.length>=2){D.current=!0,J.current=null;return}Ue.touches.length===1&&!D.current&&(J.current={x:Ue.touches[0].clientX,y:Ue.touches[0].clientY},k.current=!1)},et=Ue=>{if(Ue.touches.length>=2){D.current=!0,k.current=!0;return}if(J.current&&Ue.touches.length===1&&!D.current){const nt=Ue.touches[0],Oe=nt.clientX-J.current.x,$e=nt.clientY-J.current.y;Math.sqrt(Oe*Oe+$e*$e)>15&&(k.current=!0)}},ut=async Ue=>{Ue.preventDefault(),Ue.stopPropagation(),F(!1);const nt=D.current,Oe=k.current;if(J.current=null,k.current=!1,Ue.touches.length===0&&(D.current=!1),nt||Oe)return;ws.state!=="running"&&await xu();const $e=Date.now(),tt=$e-W.current;H.current&&(clearTimeout(H.current),H.current=null),tt<300&&tt>0?(W.current=0,b&&b(f)):(W.current=$e,H.current=setTimeout(()=>{_(f),H.current=null},300))},Y=()=>{F(!1),J.current=null,k.current=!1,D.current=!1,H.current&&(clearTimeout(H.current),H.current=null)},Ie=Ue=>{Ue.stopPropagation(),Je.current&&(clearTimeout(Je.current),Je.current=null),I&&I(null,0,0),_(f)},pt=Ue=>{Ue.stopPropagation(),Je.current&&(clearTimeout(Je.current),Je.current=null),I&&I(null,0,0),b&&b(f)},Je=Xn.useRef(null),je=Ue=>{if(!I)return;const nt=Ue.clientX,Oe=Ue.clientY;Je.current=setTimeout(()=>{I("Select a chord slot in the timeline, then double-click a chord or chord voicing to add to the timeline.",nt,Oe)},3e3)},st=()=>{Je.current&&(clearTimeout(Je.current),Je.current=null),I&&I(null,0,0)};return w.jsxs("g",{className:Ut("cursor-pointer transition-all duration-200",!oe&&"hover:opacity-70",O&&"opacity-80"),onClick:Ie,onDoubleClick:pt,onTouchStart:Xe,onTouchMove:et,onTouchEnd:ut,onTouchCancel:Y,onMouseEnter:je,onMouseLeave:st,style:{pointerEvents:"all",WebkitTapHighlightColor:"transparent"},children:[(m||y)&&T&&w.jsx("defs",{children:w.jsx("path",{id:G,d:me,fill:"none"})}),w.jsx("defs",{children:w.jsx("clipPath",{id:j,children:w.jsx("path",{d:q})})}),w.jsx("path",{d:q,fill:ee.fill,opacity:ee.opacity,stroke:E==="I"?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",strokeWidth:E==="I"?2.5:1,className:Ut("transition-all duration-200 hover:brightness-110",d&&"brightness-125 stroke-white stroke-2",oe&&"hover:brightness-105"),style:{pointerEvents:"all"}}),d&&w.jsx("path",{d:q,fill:"none",stroke:"white",strokeWidth:_e,opacity:qe,filter:"url(#segment-glow)",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none",clipPath:`url(#${j})`}),(m||y)&&T&&N==="major"&&w.jsx("text",{fill:"rgba(0,0,0,0.6)",fontSize:"6px",className:"pointer-events-none select-none",children:w.jsx("textPath",{href:`#${G}`,startOffset:"50%",textAnchor:"middle",children:T})}),m&&T&&N==="minor"&&w.jsx("text",{fill:"rgba(0,0,0,0.55)",fontSize:"5px",className:"pointer-events-none select-none",children:w.jsx("textPath",{href:`#${G}`,startOffset:"50%",textAnchor:"middle",children:T})}),m&&T&&N==="diminished"&&w.jsx("text",{fill:"rgba(0,0,0,0.5)",fontSize:"5px",className:"pointer-events-none select-none",children:w.jsx("textPath",{href:`#${G}`,startOffset:"50%",textAnchor:"middle",children:T})}),w.jsx("text",{x:ie.x,y:ie.y,textAnchor:"middle",dominantBaseline:"middle",fill:de,fontWeight:pe,fontSize:te(),className:"pointer-events-none select-none",transform:`rotate(${Q}, ${ie.x}, ${ie.y})`,children:Gs(c)}),(m||y)&&E&&w.jsx("text",{x:re.x,y:re.y,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(0,0,0,0.6)",fontSize:ve,fontStyle:"italic",className:"pointer-events-none select-none",transform:`rotate(${Q}, ${re.x}, ${re.y})`,children:E})]})};const YC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),O5=r=>{const e=XC(r);return e.charAt(0).toUpperCase()+e.slice(1)},R3=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),$C=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var ZC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QC=ae.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:u,...c},f)=>ae.createElement("svg",{ref:f,...ZC,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:R3("lucide",a),...!o&&!$C(c)&&{"aria-hidden":"true"},...c},[...u.map(([d,m])=>ae.createElement(d,m)),...Array.isArray(o)?o:[o]]));const Tn=(r,e)=>{const t=ae.forwardRef(({className:s,...a},o)=>ae.createElement(QC,{ref:o,iconNode:e,className:R3(`lucide-${YC(O5(r))}`,`lucide-${r}`,s),...a}));return t.displayName=O5(r),t};const KC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zf=Tn("chevron-down",KC);const JC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Dh=Tn("chevron-right",JC);const eT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Rh=Tn("chevron-left",eT);const tT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],nT=Tn("chevron-up",tT);const rT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],D5=Tn("circle-question-mark",rT);const sT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iT=Tn("circle",sT);const aT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oT=Tn("clock",aT);const lT=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],cT=Tn("copy",lT);const uT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],hT=Tn("download",uT);const fT=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],dT=Tn("eraser",fT);const pT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],mT=Tn("file-plus",pT);const gT=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],bT=Tn("folder-open",gT);const vT=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],I3=Tn("grip-vertical",vT);const yT=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],xT=Tn("hash",yT);const wT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],_T=Tn("layers",wT);const ST=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],F3=Tn("loader-circle",ST);const NT=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],R5=Tn("map",NT);const AT=[["path",{d:"M5 12h14",key:"1ays0h"}]],ng=Tn("minus",AT);const CT=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Jf=Tn("music",CT);const TT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],V3=Tn("panel-right-close",TT);const kT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],ET=Tn("panel-right",kT);const jT=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],B3=Tn("pause",jT);const MT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Uh=Tn("play",MT);const LT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ed=Tn("plus",LT);const OT=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],q3=Tn("repeat",OT);const DT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],up=Tn("rotate-ccw",DT);const RT=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],hp=Tn("rotate-cw",RT);const IT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],I5=Tn("save",IT);const FT=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],F5=Tn("settings-2",FT);const VT=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],z3=Tn("skip-back",VT);const BT=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],P3=Tn("skip-forward",BT);const qT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],U3=Tn("square",qT);const zT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rg=Tn("trash-2",zT);const PT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],sg=Tn("volume-2",PT);const UT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],HT=Tn("volume-x",UT);const GT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fp=Tn("x",GT);let Nc={piano:null,epiano:null,guitar:null,organ:null,synth:null,strings:null,pad:null,brass:null,marimba:null,bell:null,lead:null,bass:null,choir:null},h2="piano",Of=null,F1=[],dp={},V5=!1,Ri=null;const f2=()=>{if(Ri)return;if("audioSession"in navigator)try{navigator.audioSession.type="playback",console.log("[iOS Audio] Set audioSession.type to playback")}catch(t){console.warn("[iOS Audio] Could not set audioSession type:",t)}const r=["/+NIxAAAAAANIAAAAAExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/","40jEAA8AAAANIAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU"].join("");Ri=document.createElement("audio"),Ri.src="data:audio/mpeg;base64,"+r,Ri.loop=!0,Ri.volume=.001,Ri.muted=!1,Ri.setAttribute("playsinline","true"),Ri.setAttribute("x-webkit-airplay","deny"),Ri.preload="auto",document.body.appendChild(Ri);const e=Ri.play();e!==void 0&&e.then(()=>{console.log("[iOS Audio] Silent media started - ringer switch workaround active")}).catch(t=>{console.log("[iOS Audio] Silent audio deferred until user gesture:",t.message)})},Hp=async()=>{if(!V5){if(console.log("[iOS Audio] Starting unlock sequence..."),f2(),Ri&&Ri.paused)try{await Ri.play(),console.log("[iOS Audio] Silent audio now playing")}catch(r){console.warn("[iOS Audio] Silent audio play failed:",r)}try{await xu(),console.log("[iOS Audio] Tone.start() completed, state:",ws.state)}catch(r){console.warn("[iOS Audio] Tone.start() failed:",r)}if(ws.state!=="running")try{await ws.resume(),console.log("[iOS Audio] Context resumed, state:",ws.state)}catch(r){console.warn("[iOS Audio] Context resume failed:",r)}V5=!0,console.log("[iOS Audio] Unlock sequence complete")}},d2=r=>{r in Nc&&(h2=r)},H3=r=>{const e=r<=0?-1/0:20*Math.log10(r);try{D3.volume.rampTo(e,.1)}catch(t){console.error("Error setting volume:",t)}},G3=r=>{D3.mute=r},kc=async()=>{if(Of)return Of;Of=(async()=>{const r="https://tonejs.github.io/audio/salamander/",e=(t,s)=>{if(!Nc[t])try{const a=s();a&&(Nc[t]=a)}catch(a){console.error(`Failed to init instrument "${t}"`,a)}};e("piano",()=>new xd({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:r}).toDestination()),e("guitar",()=>new Di(Ta,{oscillator:{type:"triangle"},envelope:{attack:.002,decay:.25,sustain:.3,release:1.2},filter:{type:"lowpass",frequency:2400,rolloff:-12,Q:1.2},filterEnvelope:{attack:.002,decay:.25,sustain:.2,release:.8,baseFrequency:800,octaves:2.5}}).toDestination()),e("organ",()=>new Di(ip,{harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("synth",()=>new Di(qf,{harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("epiano",()=>new Di(ip,{harmonicity:2,oscillator:{type:"triangle"},envelope:{attack:.01,decay:.2,sustain:.7,release:.8},modulation:{type:"sine"},modulationEnvelope:{attack:.2,decay:.1,sustain:.6,release:.6}}).toDestination()),e("strings",()=>new Di(Ta,{oscillator:{type:"sawtooth"},envelope:{attack:.2,decay:.2,sustain:.8,release:1.2}}).toDestination()),e("pad",()=>new Di(qf,{harmonicity:1.5,modulationIndex:8,oscillator:{type:"sine"},envelope:{attack:.5,decay:.3,sustain:.9,release:1.5},modulation:{type:"triangle"},modulationEnvelope:{attack:.8,decay:.3,sustain:.8,release:1.2}}).toDestination()),e("brass",()=>new Di(cp,{oscillator:{type:"square"},filter:{Q:2,type:"lowpass",rolloff:-12},envelope:{attack:.02,decay:.25,sustain:.6,release:.7},filterEnvelope:{attack:.01,decay:.2,sustain:.8,release:.4,baseFrequency:200,octaves:2.5}}).toDestination()),e("marimba",()=>new Di(Ta,{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.35,sustain:0,release:.6}}).toDestination()),e("bell",()=>new Di(qf,{harmonicity:8,modulationIndex:2,oscillator:{type:"sine"},envelope:{attack:.01,decay:1.2,sustain:0,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.01,decay:.5,sustain:0,release:1.2}}).toDestination()),e("lead",()=>new Di(Ta,{oscillator:{type:"sawtooth"},envelope:{attack:.005,decay:.15,sustain:.6,release:.35}}).toDestination()),e("bass",()=>new Di(cp,{oscillator:{type:"square"},filter:{type:"lowpass",rolloff:-24,Q:2},envelope:{attack:.01,decay:.2,sustain:.6,release:.4},filterEnvelope:{attack:.001,decay:.15,sustain:.4,release:.2,baseFrequency:80,octaves:3}}).toDestination()),e("choir",()=>new Di(Ta,{oscillator:{type:"sine"},envelope:{attack:.8,decay:.3,sustain:.9,release:1.8}}).toDestination()),await WC()})();try{await Of}catch(r){Of=null,console.error("Failed to initialize audio",r)}},B5=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Fi=async(r,e="1n",t)=>{if(ws.state!=="running"&&await xu(),ws.state==="suspended"&&await ws.resume(),await kc(),!r||r.length===0)return;const s=r[0],a=B5.indexOf(s.replace(/\d/,"")),o=r.map((c,f)=>{if(c.match(/\d/))return c;const d=c,m=B5.indexOf(d);if(f===0)return`${d}3`;let y=3;return(m<a||m-a>6)&&(y=4),f>=4&&(y=4),f>=5&&(y=5),`${d}${y}`});let u=Nc[h2];if(u||(u=Nc.piano),!u){console.error("No instrument available to play!");return}try{u.triggerAttackRelease(o,e,t)}catch(c){console.error("Failed to play chord",c)}},W3=async(r,e=4,t="8n")=>{ws.state!=="running"&&await xu(),ws.state==="suspended"&&await ws.resume(),await kc();let s=Nc[h2];if(s||(s=Nc.piano),!s){console.error("No instrument available to play!");return}const a=`${r}${e}`;try{s.triggerAttackRelease(a,t)}catch(o){console.error(`Failed to play note ${a}`,o)}},Y3=()=>{Object.values(Nc).forEach(t=>t?.releaseAll()),mi.stop();const{setPlayingSlot:r,setIsPlaying:e}=An.getState();r(null,null),e(!1)},td=r=>{const e=Math.floor(r/4),t=Math.floor(r%4),s=Math.floor(r%1*4);return`${e}:${t}:${s}`},p2=r=>{mi.cancel(0),F1=[],dp={},mi.timeSignature=4;let e=0;r.sections.forEach(s=>{dp[s.id]=e,s.measures.forEach(a=>{a.beats.forEach(o=>{const u=td(e),c=o.duration,f=c*4,d=`${Math.floor(f/16)}:${Math.floor(f%16/4)}:${f%4}`,m=mi.schedule(y=>{GC.schedule(()=>{An.getState().setPlayingSlot(s.id,o.id)},y),o.chord&&Fi(o.chord.notes,d,y)},u);F1.push(m),e+=c})})});const t=mi.schedule(()=>{An.getState().isLooping||Y3()},td(e));F1.push(t)},WT=async()=>{await kc()},m2=async()=>{await kc(),ws.state!=="running"&&await ws.resume();const{tempo:r,currentSong:e}=An.getState();mi.bpm.value=r,F1.length===0&&p2(e),mi.start()},g2=()=>{mi.pause()},X3=r=>{mi.bpm.value=r},b2=r=>{const{currentSong:e,playingSectionId:t}=An.getState(),s=e.sections.map(m=>m.id);let a=t?s.indexOf(t):-1;a===-1&&(a=0);let o=r==="next"?a+1:a-1;o>=s.length&&(o=0),o<0&&(o=0);const u=s[o],c=dp[u]||0,f=td(c);mi.position=f;const d=e.sections[o].measures[0]?.beats[0];d&&An.getState().setPlayingSlot(u,d.id)},$3=()=>{const{isLooping:r,playingSectionId:e,selectedSectionId:t,currentSong:s}=An.getState();if(r){const a=e||t,o=s.sections.find(u=>u.id===a);if(o){const u=dp[o.id]??0;let c=0;o.measures.forEach(d=>d.beats.forEach(m=>c+=m.duration));const f=u+c;mi.loopStart=td(u),mi.loopEnd=td(f),mi.loop=!0;return}}mi.loop=!1},YT=Object.freeze(Object.defineProperty({__proto__:null,initAudio:kc,pauseSong:g2,playChord:Fi,playNote:W3,playSong:m2,preloadAudio:WT,scheduleSong:p2,setInstrument:d2,setMute:G3,setTempo:X3,setVolume:H3,skipToSection:b2,startSilentAudioForIOS:f2,stopAudio:Y3,toggleLoopMode:$3,unlockAudioForIOS:Hp},Symbol.toStringTag,{value:"Module"})),pp=768;function v2(){const[r,e]=ae.useState(()=>typeof window<"u"?window.innerWidth<pp:!1);return ae.useEffect(()=>{const t=()=>e(window.innerWidth<pp);return window.addEventListener("resize",t),window.addEventListener("orientationchange",t),()=>{window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]),r}function Gp(){const[r,e]=ae.useState(()=>typeof window<"u"?window.innerWidth<pp||window.innerHeight<500&&window.innerHeight<window.innerWidth:!1),[t,s]=ae.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerHeight<500:!1);return ae.useEffect(()=>{const a=()=>{const o=window.innerWidth,u=window.innerHeight,c=o<pp||u<500&&u<o,f=u<o&&u<500;e(c),s(f)};return window.addEventListener("resize",a),window.addEventListener("orientationchange",a),()=>{window.removeEventListener("resize",a),window.removeEventListener("orientationchange",a)}},[]),{isMobile:r,isLandscape:t}}const XT=({zoomScale:r,zoomOriginY:e,onZoomChange:t,panOffset:s,onPanChange:a,rotationOffset:o=0,disableModeToggle:u=!1})=>{const{selectedKey:c,setKey:f,wheelRotation:d,wheelMode:m,rotateWheel:y,toggleWheelMode:_,addChordToSlot:b,selectedSectionId:N,selectedSlotId:A,currentSong:E,setSelectedChord:T,selectedChord:R,selectNextSlotAfter:I,setSelectedSlot:q,timelineVisible:V,openTimeline:W}=An(),H=Vf.indexOf(c),O=-(H*30);let F;o!==0?F=O+o:m==="rotating"?F=d:F=0;const J=ae.useRef(null),k=ae.useRef(null),[D,Q]=ae.useState(null),[$,le]=ae.useState({x:0,y:0}),B=s??$,ie=ae.useCallback(Te=>{a?a(Te):le(Te)},[a]),re=v2();ae.useEffect(()=>{const Te=R?.segmentId??null;Q(Te)},[R]);const fe=ae.useRef(null),me=ae.useRef(null),[G,j]=ae.useState(!1),z=ae.useRef(0),ee=ae.useRef(0),[te,oe]=ae.useState(!1),de=ae.useRef(null),pe=ae.useCallback((Te,Fe)=>{if(!me.current)return 0;const Qe=me.current.getBoundingClientRect(),xt=Qe.left+Qe.width/2,Ft=Qe.top+Qe.height/2,Et=Te-xt,Xt=Fe-Ft;return Math.atan2(Xt,Et)*(180/Math.PI)},[]),ve=ae.useCallback(Te=>{const Fe=Vf.indexOf(c),Qe=Te==="cw"?(Fe+1)%12:(Fe-1+12)%12;f(Vf[Qe]),y(Te)},[c,f,y]),_e=ae.useRef(null),qe=ae.useRef(!1),Xe=ae.useCallback(Te=>{if(re||!me.current||!fe.current)return;const Fe=me.current.getBoundingClientRect(),Qe=Fe.width/2,xt=Fe.height/2,Ft=Te.clientX-Fe.left-Qe,Et=Te.clientY-Fe.top-xt,Xt=Math.sqrt(Ft*Ft+Et*Et),tn=Fe.width/600*70,Ht=Fe.width/600*250;Xt>tn&&Xt<=Ht?(j(!0),z.current=pe(Te.clientX,Te.clientY),ee.current=d,Te.preventDefault()):Xt>Ht&&r>1&&(oe(!0),de.current={x:Te.clientX,y:Te.clientY},Te.preventDefault())},[pe,d,re,r]),et=ae.useCallback(Te=>{if(Te.touches.length!==1)return;const Fe=Te.touches[0];if(_e.current={x:Fe.clientX,y:Fe.clientY},qe.current=!1,!me.current)return;const Qe=me.current.getBoundingClientRect(),xt=Qe.width/2,Ft=Qe.height/2,Et=Fe.clientX-Qe.left-xt,Xt=Fe.clientY-Qe.top-Ft,tn=Math.sqrt(Et*Et+Xt*Xt),Ht=Qe.width/600*70;tn>Ht&&(z.current=pe(Fe.clientX,Fe.clientY),ee.current=d)},[pe,d]),ut=ae.useCallback(Te=>{if(Te.touches.length!==1||!_e.current)return;const Fe=Te.touches[0],Qe=Fe.clientX-_e.current.x,xt=Fe.clientY-_e.current.y;if(Math.sqrt(Qe*Qe+xt*xt)>10){if(qe.current=!0,Te.preventDefault(),!me.current)return;const Et=me.current.getBoundingClientRect(),Xt=Et.width/2,tn=Et.height/2,Ht=Fe.clientX-Et.left,on=Fe.clientY-Et.top,zn=Math.sqrt(Math.pow(Ht-Xt,2)+Math.pow(on-tn,2)),kn=Et.width/600*70;if(zn>kn&&z.current!==0){const En=pe(Fe.clientX,Fe.clientY),Vn=En-z.current;if(Math.abs(Vn)>=15){const $n=Math.round(Vn/30);if($n!==0){const Ys=m==="fixed"?$n>0?"cw":"ccw":$n>0?"ccw":"cw",es=Math.abs($n);for(let Pn=0;Pn<es;Pn++)ve(Ys);z.current=En}}}}},[pe,ve,m]),Y=ae.useCallback(Te=>{if(!G)return;const Fe=pe(Te.clientX,Te.clientY),Qe=Fe-z.current;if(Math.abs(Qe)>=15){const xt=Math.round(Qe/30);if(xt!==0){let Ft;m==="fixed"?Ft=xt>0?"cw":"ccw":Ft=xt>0?"ccw":"cw";const Et=Math.abs(xt);for(let Xt=0;Xt<Et;Xt++)ve(Ft);z.current=Fe}}},[G,pe,ve,m]),Ie=ae.useCallback(()=>{j(!1)},[]);ae.useEffect(()=>{if(G)return document.addEventListener("mousemove",Y),document.addEventListener("mouseup",Ie),()=>{document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",Ie)}},[G,Y,Ie]);const pt=ae.useCallback((Te,Fe,Qe)=>{if(!fe.current||Qe<=1)return{x:0,y:0};const{clientWidth:xt,clientHeight:Ft}=fe.current,Et=12,Xt=xt*(Qe-1)/2+Et,tn=Ft*(Qe-1)/2+Et;return{x:Math.max(-Xt,Math.min(Xt,Te)),y:Math.max(-tn,Math.min(tn,Fe))}},[]);ae.useEffect(()=>{ie(pt(B.x,B.y,r))},[r,pt,B.x,B.y,ie]);const Je=ae.useCallback(Te=>{if(!te||!de.current)return;const Fe=Te.clientX-de.current.x,Qe=Te.clientY-de.current.y;ie(pt(B.x+Fe,B.y+Qe,r)),de.current={x:Te.clientX,y:Te.clientY}},[te,r,pt,B,ie]),je=ae.useCallback(()=>{oe(!1),de.current=null},[]);ae.useEffect(()=>{if(te)return document.addEventListener("mousemove",Je),document.addEventListener("mouseup",je),()=>{document.removeEventListener("mousemove",Je),document.removeEventListener("mouseup",je)}},[te,Je,je]);const st=Te=>({x:(Te[0].clientX+Te[1].clientX)/2,y:(Te[0].clientY+Te[1].clientY)/2}),Ue=ae.useCallback(Te=>{if(Te.touches.length===2){Te.preventDefault();const Fe=Te.touches[0].clientX-Te.touches[1].clientX,Qe=Te.touches[0].clientY-Te.touches[1].clientY;J.current=Math.sqrt(Fe*Fe+Qe*Qe),k.current=st(Te.touches)}},[]),nt=ae.useCallback(Te=>{if(Te.touches.length===2&&J.current!==null){Te.preventDefault(),Te.stopPropagation();const Fe=Te.touches[0].clientX-Te.touches[1].clientX,Qe=Te.touches[0].clientY-Te.touches[1].clientY,xt=Math.sqrt(Fe*Fe+Qe*Qe),Ft=xt/J.current,Et=Math.max(1,Math.min(2.5,r*Ft)),Xt=Et>1.3?38:50,tn=st(Te.touches);if(k.current){const Ht=tn.x-k.current.x,on=tn.y-k.current.y;ie(pt(B.x+Ht,B.y+on,Et))}J.current=xt,k.current=tn,t(Et,Xt)}},[r,t,pt,B,ie]),Oe=ae.useCallback(Te=>{J.current=null,k.current=null,Te.touches.length===0&&Te.preventDefault()},[]),$e=ae.useCallback(Te=>{if(Te.ctrlKey||Te.metaKey){Te.preventDefault();const Fe=Te.deltaY>0?.9:1.1,Qe=Math.max(1,Math.min(2.5,r*Fe)),xt=Qe>1.3?38:50;t(Qe,xt)}},[r,t]),tt=ld(),at=600,mt=at/2,yt=at/2,ot=60,kt=ot+8,ft=145,mn=ft,Gt=210,Nt=Gt,Lt=250,It=ae.useMemo(()=>G4(c),[c]),Se=ae.useMemo(()=>It.sharps>0?`${It.sharps}`:It.flats>0?`${It.flats}`:"",[It]),lt=ae.useRef(0),ct=Te=>{const Fe=Te,Qe=Date.now();Qe-lt.current<300||(lt.current=Qe,Fi(Te.notes),Q(Fe.segmentId??null),T(Te))},gt=Te=>{if(!V){W();return}const Fe=Te;let Qe=null,xt=null;if(N&&A)Qe=N,xt=A;else if(N){const Ft=E.sections.find(Et=>Et.id===N);if(Ft)for(const Et of Ft.measures){for(const Xt of Et.beats)if(!Xt.chord){Qe=Ft.id,xt=Xt.id;break}if(xt)break}}if(!Qe||!xt)for(const Ft of E.sections){for(const Et of Ft.measures){for(const Xt of Et.beats)if(!Xt.chord){Qe=Ft.id,xt=Xt.id;break}if(xt)break}if(xt)break}Qe&&xt&&(b(Te,Qe,xt),I(Qe,xt)||(q(Qe,xt),Q(Fe.segmentId??null),T(Te)))},en=Te=>(Te-H+12)%12,St=(Te,Fe)=>{const Qe=en(Te);return Fe==="major"?Qe===0||Qe===1||Qe===11:Fe==="ii"||Fe==="iii"||Fe==="dim"?Qe===0:!1},bt=Te=>en(Te)===1,qt=Te=>{const Fe=en(Te);return Fe===2||Fe===4},De=(Te,Fe)=>{const Qe=en(Te);if(Fe==="major"){if(Qe===0)return"I";if(Qe===1)return"V";if(Qe===11)return"IV";if(Qe===2)return"II";if(Qe===4)return"III"}if(Fe==="ii"){if(Qe===0)return"ii";if(Qe===1)return"vi"}return Fe==="iii"&&Qe===0?"iii":Fe==="dim"&&Qe===0?"vii":""},ht=(Te,Fe)=>{const Qe=en(Te);if(Fe==="major"){if(Qe===0)return"maj7, maj9, maj13 or 6";if(Qe===1)return"7, 9, 11, sus4, 13";if(Qe===11)return"maj7, maj9, maj13 or 6";if(Qe===2||Qe===4)return"7, sus4"}if(Fe==="ii"){if(Qe===0)return"m7, m9, m11, m6";if(Qe===1)return"m7, m9, m11"}return Fe==="iii"&&Qe===0?"m7":Fe==="dim"&&Qe===0?"m75 (7)":""},vt=Te=>{if(D)return D===Te.segmentId;const Fe=R?.segmentId;return Fe?Fe===Te.segmentId:R&&!Fe?R.root===Te.root&&R.quality===Te.quality:!1},Ot=ae.useCallback(Te=>{Te.touches.length===2?Ue(Te):Te.touches.length===1&&et(Te)},[Ue,et]),it=ae.useCallback(Te=>{Te.touches.length===2?nt(Te):Te.touches.length===1&&ut(Te)},[nt,ut]),Kt=ae.useCallback(Te=>{_e.current=null,qe.current=!1,Oe(Te)},[Oe]),[gn,bn]=ae.useState(null),dn=ae.useCallback((Te,Fe,Qe)=>{bn(Te?{text:Te,x:Fe,y:Qe}:null)},[]),sn=gn?{position:"fixed",left:gn.x,top:gn.y,transform:"translate(-50%, -100%) translateY(-12px)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"11px",pointerEvents:"none",zIndex:9999,whiteSpace:"normal",textAlign:"center",maxWidth:"220px",lineHeight:"1.4",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"}:{};return w.jsxs("div",{ref:fe,"data-chord-wheel":!0,className:`relative flex flex-col items-center justify-center w-full h-full p-1 sm:p-2 select-none ${te?"cursor-grabbing":r>1&&!re?"cursor-grab":""}`,onTouchStart:Ot,onTouchMove:it,onTouchEnd:Kt,onWheel:$e,onMouseDown:Xe,style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",touchAction:"none"},children:[gn&&w.jsx("div",{style:sn,children:gn.text}),w.jsx("div",{className:"w-full h-full transition-transform duration-150 ease-out overflow-hidden",style:{transform:`translate(${B.x}px, ${B.y}px) scale(${r})`,transformOrigin:`center ${e}%`},children:w.jsxs("svg",{ref:me,width:"100%",height:"100%",viewBox:`0 0 ${at} ${at}`,className:`w-full h-full select-none ${G?"cursor-grabbing":"cursor-grab"}`,onMouseDown:Xe,style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},children:[w.jsxs("defs",{children:[w.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[w.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),w.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),w.jsx("filter",{id:"segment-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:w.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#ffffff",floodOpacity:"0.9"})})]}),w.jsx("g",{style:{transform:`rotate(${F}deg)`,transformOrigin:`${mt}px ${yt}px`,transition:"transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:q4.map((Te,Fe)=>{const xt=Fe*30-15,Ft=xt+30,Et=tt[Te.major]||tt.C,Xt=Te.ii.replace("m",""),tn=Te.iii.replace("m",""),Ht=Te.diminished.replace("",""),on=St(Fe,"major"),zn=qt(Fe),kn=St(Fe,"ii")||bt(Fe),En=St(Fe,"iii"),Vn=St(Fe,"dim"),$n={root:Te.major,quality:"major",numeral:De(Fe,"major"),notes:Sl(Te.major,"major"),symbol:Te.major,segmentId:`major-${Fe}`,ringType:"major",positionIndex:Fe},Ys={root:Xt,quality:"minor",numeral:De(Fe,"ii"),notes:Sl(Xt,"minor"),symbol:Te.ii,segmentId:`ii-${Fe}`,ringType:"minor",positionIndex:Fe},es={root:tn,quality:"minor",numeral:De(Fe,"iii"),notes:Sl(tn,"minor"),symbol:Te.iii,segmentId:`iii-${Fe}`,ringType:"minor",positionIndex:Fe},Pn={root:Ht,quality:"diminished",numeral:De(Fe,"dim"),notes:Sl(Ht,"diminished"),symbol:Te.diminished,segmentId:`dim-${Fe}`,ringType:"diminished",positionIndex:Fe},ii=15,Ns=xt+-7.5,Xs=Ns+ii,Pi=Xs,Ui=Pi+ii,Hi=15,ca=xt+(30-Hi)/2,us=ca+Hi,Gi=Te.major,ai=Te.ii,jn=Te.iii,Go=Te.diminished;return w.jsxs("g",{children:[w.jsx(_1,{cx:mt,cy:yt,innerRadius:kt,outerRadius:ft,startAngle:xt,endAngle:Ft,color:Et,label:Gi,chord:$n,isSelected:vt($n),isDiatonic:on,isSecondary:zn,onClick:ct,onDoubleClick:gt,ringType:"major",wheelRotation:F,romanNumeral:on||zn?De(Fe,"major"):void 0,voicingSuggestion:on||zn?ht(Fe,"major"):void 0,segmentId:`major-${Fe}`,onHover:dn}),w.jsx(_1,{cx:mt,cy:yt,innerRadius:mn,outerRadius:Gt,startAngle:Ns,endAngle:Xs,color:Et,label:ai,chord:Ys,isSelected:vt(Ys),isDiatonic:kn,onClick:ct,onDoubleClick:gt,ringType:"minor",wheelRotation:F,romanNumeral:kn?De(Fe,"ii"):void 0,voicingSuggestion:kn?ht(Fe,"ii"):void 0,segmentId:`ii-${Fe}`,onHover:dn}),w.jsx(_1,{cx:mt,cy:yt,innerRadius:mn,outerRadius:Gt,startAngle:Pi,endAngle:Ui,color:Et,label:jn,chord:es,isSelected:vt(es),isDiatonic:En,onClick:ct,onDoubleClick:gt,ringType:"minor",wheelRotation:F,romanNumeral:En?De(Fe,"iii"):void 0,voicingSuggestion:En?ht(Fe,"iii"):void 0,segmentId:`iii-${Fe}`,onHover:dn}),w.jsx(_1,{cx:mt,cy:yt,innerRadius:Nt,outerRadius:Lt,startAngle:ca,endAngle:us,color:Et,label:Go,chord:Pn,isSelected:vt(Pn),isDiatonic:Vn,onClick:ct,onDoubleClick:gt,ringType:"diminished",wheelRotation:F,romanNumeral:Vn?De(Fe,"dim"):void 0,voicingSuggestion:Vn?ht(Fe,"dim"):void 0,segmentId:`dim-${Fe}`,onHover:dn})]},Te.major)})}),w.jsx("circle",{cx:mt,cy:yt,r:ot,fill:"#1a1a24",stroke:"#3a3a4a",strokeWidth:"2",style:{pointerEvents:"none"}}),w.jsx("text",{x:mt,y:yt-25,textAnchor:"middle",fill:"#6366f1",fontSize:"9",fontWeight:"bold",letterSpacing:"2",children:"KEY"}),w.jsx("text",{x:mt,y:yt+3,textAnchor:"middle",fill:"white",fontSize:"26",fontWeight:"bold",children:Gs(c)}),w.jsx("text",{x:mt,y:yt+21,textAnchor:"middle",fill:"#9898a6",fontSize:"11",children:Se||"No /"}),w.jsxs("g",{transform:`translate(${mt-22}, ${yt+40})`,onClick:()=>ve("ccw"),onTouchEnd:Te=>{Te.preventDefault(),Te.stopPropagation(),ve("ccw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[w.jsx("circle",{r:re?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),w.jsx("g",{transform:re?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:w.jsx(up,{size:re?12:9,color:"#9898a6"})})]}),w.jsxs("g",{transform:`translate(${mt+22}, ${yt+40})`,onClick:()=>ve("cw"),onTouchEnd:Te=>{Te.preventDefault(),Te.stopPropagation(),ve("cw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[w.jsx("circle",{r:re?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),w.jsx("g",{transform:re?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:w.jsx(hp,{size:re?12:9,color:"#9898a6"})})]}),w.jsxs("g",{transform:`translate(${mt}, ${yt+40})`,onClick:u?void 0:_,onTouchEnd:u?void 0:Te=>{Te.preventDefault(),Te.stopPropagation(),_()},className:u?"":"cursor-pointer",style:{pointerEvents:u?"none":"all",cursor:u?"default":"pointer",opacity:u?.5:1},children:[w.jsx("circle",{r:re?16:11,fill:u||m==="rotating"?"#252535":"#3f2e2e",className:"transition-colors",style:{pointerEvents:u?"none":"all",transition:"fill 0.3s ease"},children:w.jsx("title",{children:u?"Mode locked in this view":m==="rotating"?"Lock wheel (C at top)":"Pin current key to top"})}),w.jsxs("g",{style:{pointerEvents:"none",transition:"transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",transform:o!==0?`rotate(${o}deg)`:m==="rotating"?"rotate(0deg)":`rotate(${H*30}deg)`,transformOrigin:"0px 0px"},children:[w.jsx("polygon",{points:re?"0,-10 4,0 0,1.5 -4,0":"0,-7 2.5,0 0,1 -2.5,0",fill:"#ef4444",stroke:"#b91c1c",strokeWidth:"0.5"}),w.jsx("polygon",{points:re?"0,10 4,0 0,-1.5 -4,0":"0,7 2.5,0 0,-1 -2.5,0",fill:"#f1f5f9",stroke:"#94a3b8",strokeWidth:"0.5"}),w.jsx("circle",{cx:0,cy:0,r:re?2:1.5,fill:m==="rotating"?"#fef2f2":"#6b7280"})]})]})]})})]})};var uu=_x();const ig=({type:r,size:e=20,className:t})=>{const s=e>16?1.5:1;switch(r){case"whole":return w.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:w.jsx("ellipse",{cx:"12",cy:"12",rx:"6",ry:"4",fill:"none",stroke:"currentColor",strokeWidth:s*1.5})});case"half":return w.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[w.jsx("ellipse",{cx:"10",cy:"16",rx:"5",ry:"3.5",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,transform:"rotate(-20, 10, 16)"}),w.jsx("line",{x1:"14.5",y1:"14",x2:"14.5",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]});case"dotted-half":return w.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[w.jsx("ellipse",{cx:"8",cy:"16",rx:"4.5",ry:"3",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,transform:"rotate(-20, 8, 16)"}),w.jsx("line",{x1:"12",y1:"14",x2:"12",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),w.jsx("circle",{cx:"17",cy:"16",r:"1.5",fill:"currentColor"})]});case"quarter":return w.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[w.jsx("ellipse",{cx:"10",cy:"16",rx:"5",ry:"3.5",fill:"currentColor",transform:"rotate(-20, 10, 16)"}),w.jsx("line",{x1:"14.5",y1:"14",x2:"14.5",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]});case"dotted-quarter":return w.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[w.jsx("ellipse",{cx:"8",cy:"16",rx:"4.5",ry:"3",fill:"currentColor",transform:"rotate(-20, 8, 16)"}),w.jsx("line",{x1:"12",y1:"14",x2:"12",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),w.jsx("circle",{cx:"17",cy:"16",r:"1.5",fill:"currentColor"})]});case"eighth":return w.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[w.jsx("ellipse",{cx:"9",cy:"17",rx:"4.5",ry:"3",fill:"currentColor",transform:"rotate(-20, 9, 17)"}),w.jsx("line",{x1:"13",y1:"15",x2:"13",y2:"4",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),w.jsx("path",{d:"M13 4 Q18 6 16 11",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]});case"sixteenth":return w.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[w.jsx("ellipse",{cx:"9",cy:"17",rx:"4.5",ry:"3",fill:"currentColor",transform:"rotate(-20, 9, 17)"}),w.jsx("line",{x1:"13",y1:"15",x2:"13",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),w.jsx("path",{d:"M13 3 Q18 5 16 9",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),w.jsx("path",{d:"M13 7 Q18 9 16 13",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]})}};function ag(r,e){const[t]=e;if(t%3===0&&t>3){if(r===1)return"dotted-half";if(r===2)return"dotted-quarter";if(r===3)return"quarter";if(r===6)return"eighth";if(r===12)return"sixteenth"}if(t===3){if(r===1)return"dotted-half";if(r===3)return"quarter";if(r===6)return"eighth";if(r===12)return"sixteenth"}return r===1?"whole":r===2?"half":r===4?"quarter":r===8?"eighth":r===16?"sixteenth":r<=1?"whole":r<=2?"half":r<=4?"quarter":r<=8?"eighth":"sixteenth"}function Z3(r){const[e]=r;return e%3===0?[1,3,6].filter(t=>t<=8):[1,2,4,8]}const $T=({value:r,onChange:e,timeSignature:t,isCompact:s=!1})=>{const[a,o]=ae.useState(!1),u=ae.useRef(null),c=ae.useRef(null),f=Z3(t);ae.useEffect(()=>{const y=_=>{u.current&&!u.current.contains(_.target)&&c.current&&!c.current.contains(_.target)&&o(!1)};if(a)return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[a]),ae.useEffect(()=>{if(a){const y=()=>o(!1);return window.addEventListener("scroll",y,!0),()=>window.removeEventListener("scroll",y,!0)}},[a]);const d=ag(r,t),m=s?12:16;return w.jsxs("div",{className:"relative",children:[w.jsx("button",{ref:u,onClick:()=>o(!a),className:Ut("flex items-center justify-center rounded transition-all","hover:bg-accent-primary/20 active:scale-95","text-text-muted hover:text-accent-primary",s?"w-4 h-5":"w-5 h-6",a&&"bg-accent-primary/20 text-accent-primary"),title:`${r} step${r>1?"s":""} per measure`,children:w.jsx(ig,{type:d,size:m})}),a&&uu.createPortal(w.jsx("div",{ref:c,className:Ut("fixed bg-bg-elevated border border-border-medium rounded-xl shadow-xl","flex flex-row gap-2 p-2","animate-in fade-in zoom-in-95 duration-150"),style:{top:"60%",left:"50%",transform:"translate(-50%, -50%)",zIndex:99999},children:f.map(y=>{const _=ag(y,t),b=y===r;return w.jsx("button",{onClick:()=>{e(y),o(!1)},className:Ut("flex items-center justify-center rounded-lg transition-all","w-12 h-12",b?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-text-primary hover:bg-bg-tertiary"),title:`${y} step${y>1?"s":""}`,children:w.jsx(ig,{type:_,size:26})},y)})}),document.body)]})},q5={intro:{bg:"bg-purple-500/15",border:"border-purple-500/40",accent:"bg-purple-500"},verse:{bg:"bg-blue-500/15",border:"border-blue-500/40",accent:"bg-blue-500"},"pre-chorus":{bg:"bg-cyan-500/15",border:"border-cyan-500/40",accent:"bg-cyan-500"},chorus:{bg:"bg-amber-500/15",border:"border-amber-500/40",accent:"bg-amber-500"},bridge:{bg:"bg-emerald-500/15",border:"border-emerald-500/40",accent:"bg-emerald-500"},outro:{bg:"bg-rose-500/15",border:"border-rose-500/40",accent:"bg-rose-500"},custom:{bg:"bg-slate-500/15",border:"border-slate-500/40",accent:"bg-slate-500"}},ZT=({section:r,songTimeSignature:e,className:t})=>{const{tempo:s}=An(),a=ld(),o=q5[r.type]||q5.custom,u=r.timeSignature||e,c=u[0],f=r.measures.length,[d,m]=ae.useState(!1),[y,_]=ae.useState(null),b=ae.useRef([]),N=252,A=15,E=52,T=Math.floor(N/f),R=Math.max(A,Math.min(E,T)),I=f>8,q=f>12,V=()=>{b.current.forEach(H=>clearTimeout(H)),b.current=[],m(!1),_(null)};ae.useEffect(()=>(V(),()=>{b.current.forEach(H=>clearTimeout(H)),b.current=[]}),[r.id]);const W=async()=>{if(d){V();return}ws.state!=="running"&&await xu(),ws.state==="suspended"&&await ws.resume(),await kc(),m(!0);const H=60/s*1e3,O=r.measures[0]?.beats.length||c,F=c/O,J=F*H;let k=0;r.measures.forEach($=>{$.beats.forEach(le=>{const B=k*J,ie=window.setTimeout(()=>{_(le.id)},B);if(b.current.push(ie),le.chord&&le.chord.notes&&le.chord.notes.length>0){const re=window.setTimeout(()=>{const G=`${4/Math.min(F,c)}n`;Fi(le.chord.notes,G)},B);b.current.push(re)}k++})});const D=r.measures.reduce(($,le)=>$+le.beats.length,0),Q=window.setTimeout(()=>{m(!1),_(null),b.current=[]},D*J);b.current.push(Q)};return w.jsx("div",{className:Ut("w-full",t),children:w.jsxs("div",{className:Ut("rounded-lg border overflow-hidden transition-all",o.bg,o.border),children:[w.jsx("div",{className:Ut("h-1 w-full",o.accent)}),w.jsx("div",{className:"pl-2 pr-3 py-2 overflow-hidden",style:{maxHeight:q?"80px":I?"100px":"120px"},children:w.jsx("div",{className:"flex gap-0.5",style:{minWidth:"min-content",width:"100%"},children:r.measures.map((H,O)=>{const F=H.beats.length;return w.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-0.5",style:{minWidth:`${R}px`,maxWidth:`${R}px`},children:[!q&&w.jsxs("div",{className:"h-3 flex items-center justify-between px-0.5",children:[w.jsx("span",{className:Ut("font-mono text-white/30",I?"text-[6px]":"text-[8px]"),children:O+1}),!I&&w.jsx("div",{className:"flex gap-px",children:Array.from({length:Math.min(F,c)}).map((J,k)=>w.jsx("div",{className:"w-0.5 h-1 bg-white/15 rounded-full"},k))})]}),w.jsx("div",{className:"flex-1 rounded overflow-hidden flex gap-px",style:{minHeight:q?"28px":I?"36px":"48px"},children:H.beats.map(J=>{const k=J.chord&&J.chord.notes&&J.chord.notes.length>0,D=J.chord,Q=k&&a[D.root]||"#666",$=y===J.id,le=H.beats.length;let B="9px";return q?B=le>2?"5px":"6px":I?B=le>2?"6px":"7px":B=le>2?"7px":le>1?"8px":"9px",k?w.jsx("div",{className:Ut("flex-1 min-w-0 rounded-sm flex items-center justify-center font-bold truncate transition-all duration-150",$&&"scale-105 z-10"),style:{backgroundColor:$?Q:"rgba(0, 0, 0, 0.35)",border:`1.5px solid ${Q}`,color:$?"#fff":Q,fontSize:B,padding:"0 2px",textShadow:$?"0 1px 3px rgba(0,0,0,0.7)":"0 1px 2px rgba(0,0,0,0.5)",boxShadow:$?`0 0 12px ${Q}, 0 0 4px ${Q}`:"none"},title:D.symbol,children:Gs(D.symbol)},J.id):w.jsx("div",{className:Ut("flex-1 min-w-0 rounded-sm flex items-center justify-center transition-all duration-150",$&&"scale-105 z-10"),style:{backgroundColor:$?"rgba(99, 102, 241, 0.5)":"rgba(255, 255, 255, 0.03)",border:$?"1.5px solid rgba(99, 102, 241, 0.8)":"1px dashed rgba(255, 255, 255, 0.1)",boxShadow:$?"0 0 8px rgba(99, 102, 241, 0.5)":"none"},children:w.jsx("span",{className:Ut("transition-colors duration-150",$?"text-white/60":"text-white/10",I?"text-[6px]":"text-[8px]"),children:""})},J.id)})})]},H.id)})})}),w.jsxs("div",{className:"px-2 py-1.5 bg-black/20 border-t border-white/5 flex items-center gap-2",children:[w.jsx("button",{onClick:W,className:Ut("w-5 h-5 rounded-full flex items-center justify-center transition-all","hover:scale-110 active:scale-95",d?"bg-red-500/80 text-white":"bg-accent-primary/20 text-accent-primary hover:bg-accent-primary/30"),title:d?"Stop":"Play section once",children:d?w.jsx(U3,{size:8}):w.jsx(Uh,{size:10,className:"ml-0.5"})}),w.jsxs("div",{className:"flex-1 flex items-center justify-center gap-3",children:[w.jsxs("span",{className:"text-[9px] font-mono text-white/40",children:[u[0],"/",u[1]]}),w.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-white/20"}),w.jsxs("span",{className:"text-[9px] font-mono text-white/40",children:[f," bar",f!==1?"s":""]}),w.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-white/20"}),w.jsxs("span",{className:"text-[9px] font-mono text-white/40",children:[r.measures[0]?.beats.length||c," step",(r.measures[0]?.beats.length||c)!==1?"s":"","/bar"]})]})]})]})})},QT=[[4,4],[3,4],[5,4],[2,4],[6,8]],og=[{name:"Intro",type:"intro"},{name:"Verse",type:"verse"},{name:"Chorus",type:"chorus"},{name:"Bridge",type:"bridge"},{name:"Outro",type:"outro"},{name:"Custom",type:"custom"}],KT=r=>og.some(e=>e.name===r&&e.type!=="custom"),JT=({section:r,isOpen:e,onClose:t,onTimeSignatureChange:s,onBarsChange:a,onStepCountChange:o,onNameChange:u,onCopy:c,onClear:f,onDelete:d,songTimeSignature:m,onNavigatePrev:y,onNavigateNext:_,hasPrev:b=!1,hasNext:N=!1,sectionIndex:A,totalSections:E})=>{const T=ae.useRef(null),R=ae.useRef(null),I=r.timeSignature||m,q=`${I[0]}/${I[1]}`,V=r.measures.length,W=r.measures[0]?.beats.length??1,H=Z3(I),[O,F]=ae.useState(!1),[J,k]=ae.useState(r.name),D=r.type==="custom"||!KT(r.name),Q=D?"Custom":r.name;ae.useEffect(()=>{O&&R.current&&(R.current.focus(),R.current.select())},[O]),ae.useEffect(()=>{if(!e)return;const le=B=>{B.key==="Escape"&&(O?F(!1):t())};return document.addEventListener("keydown",le),()=>document.removeEventListener("keydown",le)},[e,t,O]);const $=()=>{const le=J.trim();le&&u&&u(le,"custom"),F(!1)};return e?uu.createPortal(w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 z-[99998] bg-black/40 backdrop-blur-[2px] animate-in fade-in duration-200",onClick:t}),y&&w.jsx("button",{onClick:y,disabled:!b,className:Ut("fixed top-1/2 -translate-y-1/2 z-[100000]","w-10 h-10 rounded-full flex items-center justify-center","transition-all duration-200",b?"bg-accent-primary/20 text-accent-primary hover:bg-accent-primary/30 hover:scale-110 active:scale-95":"bg-white/5 text-white/20 cursor-not-allowed"),style:{left:"calc(50% - min(150px, 45vw) - 52px)"},title:"Previous Section",children:w.jsx(Rh,{size:24})}),_&&w.jsx("button",{onClick:_,disabled:!N,className:Ut("fixed top-1/2 -translate-y-1/2 z-[100000]","w-10 h-10 rounded-full flex items-center justify-center","transition-all duration-200",N?"bg-accent-primary/20 text-accent-primary hover:bg-accent-primary/30 hover:scale-110 active:scale-95":"bg-white/5 text-white/20 cursor-not-allowed"),style:{right:"calc(50% - min(150px, 45vw) - 52px)"},title:"Next Section",children:w.jsx(Dh,{size:24})}),w.jsxs("div",{ref:T,className:`fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[99999]
                           bg-bg-elevated border border-border-medium rounded-xl 
                           shadow-2xl shadow-black/50
                           animate-in fade-in zoom-in-95 duration-200`,style:{minWidth:"260px",maxWidth:"300px",width:"90vw"},children:[w.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-bg-secondary/50 rounded-t-xl",children:[w.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[A!==void 0&&E!==void 0&&w.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold text-white shrink-0",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)",boxShadow:"0 0 8px rgba(99,102,241,0.4)"},title:`Section ${A+1} of ${E}`,children:A+1}),(A===void 0||E===void 0)&&w.jsx("div",{className:"w-2 h-2 rounded-full shadow-[0_0_8px_rgba(99,102,241,0.5)] shrink-0",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)"}}),u?O?w.jsx("input",{ref:R,type:"text",value:J,onChange:le=>k(le.target.value),onBlur:$,onKeyDown:le=>{le.key==="Enter"&&$()},placeholder:"Section name...",className:`bg-bg-tertiary text-sm font-bold text-text-primary 
                                               px-2 py-1 rounded-md border border-border-subtle
                                               focus:outline-none focus:ring-1 focus:ring-accent-primary/50
                                               w-full max-w-[140px]`,maxLength:20}):w.jsx("select",{value:Q,onChange:le=>{const B=le.target.value;if(B==="Custom")k(D?r.name:""),F(!0);else{const ie=og.find(re=>re.name===B);ie&&u(ie.name,ie.type)}},className:`bg-transparent text-sm font-bold text-text-primary 
                                               focus:outline-none focus:ring-1 focus:ring-accent-primary/50
                                               appearance-none cursor-pointer pr-5`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0 center"},children:og.map(le=>w.jsx("option",{value:le.name,className:"bg-bg-secondary",children:le.name},le.type))}):w.jsx("span",{className:"text-sm font-bold text-text-primary",children:r.name}),u&&!O&&D&&r.name!=="Custom"&&w.jsx("button",{onClick:()=>{k(r.name),F(!0)},className:`text-xs text-accent-primary hover:text-accent-primary/80 
                                           px-1.5 py-0.5 rounded bg-accent-primary/10 truncate max-w-[80px]`,title:`Edit: ${r.name}`,children:r.name})]}),w.jsx("button",{onClick:t,className:"p-1.5 rounded-full hover:bg-bg-tertiary text-text-muted hover:text-text-primary transition-colors shrink-0",children:w.jsx(fp,{size:14})})]}),w.jsxs("div",{className:"p-4 space-y-4",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Time Sig"}),w.jsx("div",{className:"relative",children:w.jsx("select",{value:q,onChange:le=>s(le.target.value),className:`w-full h-8 bg-bg-tertiary text-text-primary text-xs font-bold rounded-lg 
                                               px-3 border border-border-subtle 
                                               focus:outline-none focus:ring-1 focus:ring-accent-primary/50
                                               appearance-none cursor-pointer`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 8px center",paddingRight:"24px"},children:QT.map(([le,B])=>w.jsxs("option",{value:`${le}/${B}`,className:"bg-bg-secondary",children:[le,"/",B]},`${le}/${B}`))})})]}),w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Length"}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("button",{onClick:()=>a(Math.max(1,V-1)),disabled:V<=1,className:`h-8 w-8 flex items-center justify-center rounded-lg
                                               bg-bg-tertiary border border-border-subtle
                                               text-text-muted hover:text-text-primary hover:bg-bg-secondary
                                               disabled:opacity-30 disabled:cursor-not-allowed
                                               transition-all text-base font-bold active:scale-95`,children:""}),w.jsx("span",{className:"flex-1 text-center text-sm font-bold text-text-primary tabular-nums",children:V}),w.jsx("button",{onClick:()=>a(Math.min(16,V+1)),disabled:V>=16,className:`h-8 w-8 flex items-center justify-center rounded-lg
                                               bg-bg-tertiary border border-border-subtle
                                               text-text-muted hover:text-text-primary hover:bg-bg-secondary
                                               disabled:opacity-30 disabled:cursor-not-allowed
                                               transition-all text-base font-bold active:scale-95`,children:"+"})]})]})]}),o&&w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"block text-center text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Steps Per Bar"}),w.jsx("div",{className:"flex items-center gap-1.5 justify-center",children:H.map(le=>{const B=ag(le,I),ie=le===W;return w.jsx("button",{onClick:()=>o(le),className:Ut("flex items-center justify-center rounded-lg transition-all","w-11 h-11 active:scale-95",ie?"bg-accent-primary text-white shadow-lg border-2 border-accent-primary":"bg-bg-tertiary border border-border-subtle text-text-muted hover:text-text-primary hover:bg-bg-secondary"),title:`${le} step${le>1?"s":""} per measure`,children:w.jsx(ig,{type:B,size:24})},le)})})]}),w.jsx(ZT,{section:r,songTimeSignature:m,className:"pt-1"}),w.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[w.jsxs("button",{onClick:()=>{c(),t()},className:`flex items-center justify-center gap-1.5
                                       px-2 py-2.5 rounded-lg
                                       bg-accent-primary/10 border border-accent-primary/30
                                       text-accent-primary hover:bg-accent-primary/20
                                       transition-all text-xs font-bold active:scale-95`,children:[w.jsx(cT,{size:14}),"Duplicate"]}),w.jsxs("button",{onClick:()=>{f(),t()},className:`flex items-center justify-center gap-1.5
                                       px-2 py-2.5 rounded-lg
                                       bg-yellow-500/10 border border-yellow-500/30
                                       text-yellow-400 hover:bg-yellow-500/20
                                       transition-all text-xs font-bold active:scale-95`,children:[w.jsx(dT,{size:14}),"Clear"]}),w.jsxs("button",{onClick:()=>{d(),t()},className:`flex items-center justify-center gap-1.5
                                       px-2 py-2.5 rounded-lg
                                       bg-red-500/10 border border-red-500/30
                                       text-red-400 hover:bg-red-500/20
                                       transition-all text-xs font-bold active:scale-95`,children:[w.jsx(rg,{size:14}),"Remove"]})]})]})]})]}),document.body):null},vm=({isOpen:r,onToggle:e,hideCloseButton:t=!1,isCompact:s=!1,isLandscape:a=!1})=>{const{currentSong:o,selectedSectionId:u,selectedSlotId:c,setSelectedSlot:f,selectSlotOnly:d,setSelectedChord:m,playingSectionId:y,playingSlotId:_,isPlaying:b,addSuggestedSection:N,setSectionTimeSignature:A,setSectionMeasures:E,setSectionSubdivision:T,removeSection:R,duplicateSection:I,clearSection:q,setMeasureSubdivision:V,selectedChord:W,addChordToSlot:H,toggleSongMap:O,updateSection:F,undo:J,redo:k,canUndo:D,canRedo:Q}=An(),$=o.timeSignature,le=ld(),B=ae.useRef(null),ie=ae.useRef(null),{isMobile:re}=Gp(),fe=!re,[me,G]=Xn.useState(0),j=ae.useRef(0),[z,ee]=Xn.useState(0),te=ae.useRef(0),[oe,de]=Xn.useState(0),pe=ae.useRef(!1),[ve,_e]=Xn.useState(null),qe=ae.useRef(null);ae.useEffect(()=>{if(!b&&u&&ie.current){const Oe=o.sections.findIndex($e=>$e.id===u);Oe!==-1&&(G(Oe),setTimeout(()=>{if(ie.current){const $e=ie.current.querySelector(`[data-section-id="${u}"]`);$e&&$e.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},100))}},[u,o.sections,b]),ae.useEffect(()=>{if(b&&y){const Oe=o.sections.findIndex($e=>$e.id===y);Oe!==-1&&Oe!==me&&G(Oe)}},[b,y,o.sections,me]),ae.useEffect(()=>{if(_&&B.current){const Oe=B.current.querySelector(`[data-slot-id="${_}"]`);Oe&&Oe.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[_]),ae.useEffect(()=>{if(!r||!c||b)return;const Oe=setTimeout(()=>{if(B.current){const $e=B.current.querySelector(`[data-slot-id="${c}"]`);$e&&$e.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},250);return()=>clearTimeout(Oe)},[c,b,r]);const Xe=Oe=>{j.current=Oe.touches[0].clientY},et=Oe=>{const $e=Oe.touches[0].clientY-j.current;$e>0&&ee(Math.min($e,100))},ut=()=>{z>50&&e(),ee(0)},Y=Oe=>{te.current=Oe.touches[0].clientY},Ie=Oe=>{const $e=te.current-Oe.touches[0].clientY;$e>0&&de(Math.min($e,60))},pt=()=>{oe>30&&e(),de(0)},Je=Oe=>{pe.current=!0,te.current=Oe.clientY,Oe.preventDefault()};ae.useEffect(()=>{const Oe=tt=>{if(!pe.current)return;const at=te.current-tt.clientY;at>0&&de(Math.min(at,60))},$e=()=>{pe.current&&(oe>30&&e(),de(0),pe.current=!1)};return document.addEventListener("mousemove",Oe),document.addEventListener("mouseup",$e),()=>{document.removeEventListener("mousemove",Oe),document.removeEventListener("mouseup",$e)}},[oe,e]);const je=Oe=>{if(le[Oe])return le[Oe];const $e=Eh(Oe);for(const tt of Object.keys(le))if(Eh(tt)===$e)return le[tt];return"hsl(230, 60%, 50%)"},st=(Oe,$e,tt)=>{const at=u===Oe&&c===$e,mt=Date.now();if(qe.current&&qe.current.slotId===$e&&mt-qe.current.time<400){W&&(H(W,Oe,$e),d(Oe,$e)),qe.current=null;return}tt?(tt.notes&&tt.notes.length>0&&Fi(tt.notes),at?m(tt):d(Oe,$e)):d(Oe,$e),qe.current={slotId:$e,time:mt}},Ue=Oe=>{const $e=Oe==="prev"?Math.max(0,me-1):Math.min(o.sections.length-1,me+1);G($e);const tt=o.sections[$e];tt&&tt.measures[0]?.beats[0]&&f(tt.id,tt.measures[0].beats[0].id)},nt=o.sections[me];return r?w.jsxs("div",{"data-mobile-timeline":!0,className:Ut("relative w-full bg-bg-secondary border-t-2 border-border-subtle overflow-hidden flex flex-col mobile-timeline-drawer",a&&"h-full",t&&"h-full border-t-0"),style:{maxHeight:a||t?void 0:"140px",transform:z>0?`translateY(${z}px)`:void 0,opacity:z>0?Math.max(.5,1-z/150):1,transition:z===0?"all 0.2s ease-out":"none"},children:[!t&&w.jsx("div",{className:"flex flex-col items-center pt-1.5 pb-2 cursor-grab active:cursor-grabbing shrink-0",onTouchStart:Xe,onTouchMove:et,onTouchEnd:ut,children:w.jsx("div",{className:"w-10 h-1 rounded-full bg-text-muted/40"})}),s?w.jsxs("div",{className:"relative flex items-center justify-center shrink-0 px-1 py-1",children:[w.jsx("button",{onClick:()=>O(!0),className:"absolute left-1 rounded text-text-muted hover:text-accent-primary touch-feedback flex items-center justify-center w-5 h-5",title:"Song Overview",children:w.jsx(R5,{size:12})}),w.jsxs("div",{className:"flex items-center justify-center gap-1",children:[w.jsx("button",{onClick:()=>Ue("prev"),disabled:me===0,className:"rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback p-1",children:w.jsx(Rh,{size:14})}),w.jsxs("button",{onClick:()=>nt&&_e(nt.id),className:"flex items-center justify-center gap-0.5 px-2 py-1 rounded-full text-white font-semibold text-[10px]",style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #6366f1 100%)",boxShadow:"0 0 8px rgba(99, 102, 241, 0.4)",border:"1px solid rgba(255,255,255,0.2)"},title:nt?.name||"Section",children:[w.jsxs("span",{className:"flex items-baseline",children:[w.jsx("span",{children:nt?.name.charAt(0).toUpperCase()||"S"}),w.jsx("span",{className:"text-[7px] opacity-60 ml-0.5",children:me+1})]}),w.jsx(F5,{size:10,className:"opacity-70 shrink-0"})]}),w.jsx("button",{onClick:()=>Ue("next"),disabled:me===o.sections.length-1,className:"rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback p-1",children:w.jsx(Dh,{size:14})})]}),w.jsxs("div",{className:"absolute right-1 flex items-center gap-0.5",children:[w.jsx("button",{onClick:J,disabled:!D,className:"no-touch-enlarge w-6 h-6 flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Undo",children:w.jsx(up,{size:10})}),w.jsx("button",{onClick:k,disabled:!Q,className:"no-touch-enlarge w-6 h-6 flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Redo",children:w.jsx(hp,{size:10})})]})]}):w.jsxs("div",{className:Ut("flex items-center justify-between shrink-0",fe?"px-3 py-1":"px-2 pb-1.5"),children:[w.jsxs("div",{className:"flex items-center shrink-0",children:[w.jsx("button",{onClick:()=>O(!0),className:Ut("no-touch-enlarge rounded text-text-muted hover:text-accent-primary touch-feedback shrink-0 mr-0.5",fe?"p-2":"p-1.5"),title:"Song Overview",children:w.jsx(R5,{size:fe?18:16})}),w.jsxs("div",{className:"flex items-center gap-0.5 ml-1",children:[w.jsx("button",{onClick:J,disabled:!D,className:Ut("no-touch-enlarge flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",fe?"w-8 h-8":"w-7 h-7"),title:"Undo",children:w.jsx(up,{size:fe?14:12})}),w.jsx("button",{onClick:k,disabled:!Q,className:Ut("no-touch-enlarge flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",fe?"w-8 h-8":"w-7 h-7"),title:"Redo",children:w.jsx(hp,{size:fe?14:12})})]})]}),w.jsx("button",{onClick:()=>Ue("prev"),disabled:me===0,className:Ut("no-touch-enlarge rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback",fe?"p-2":"p-1.5"),children:w.jsx(Rh,{size:fe?18:16})}),w.jsxs("div",{ref:ie,className:Ut("flex-1 flex items-center overflow-x-auto scrollbar-hide px-1 mx-1",fe?"gap-2":"gap-1.5"),children:[o.sections.map((Oe,$e)=>{const tt=$e===me,at=Oe.name.charAt(0).toUpperCase();return w.jsx("button",{"data-section-id":Oe.id,onClick:()=>{if(tt){_e(Oe.id);return}G($e),Oe.measures[0]?.beats[0]&&f(Oe.id,Oe.measures[0].beats[0].id)},className:Ut("no-touch-enlarge relative font-semibold transition-all touch-feedback shrink-0","flex items-center justify-center",tt?Ut("rounded-full text-white shadow-lg whitespace-nowrap overflow-hidden",fe?"w-32 h-9 text-xs":"w-24 h-8 text-[11px]"):Ut("rounded-full text-text-secondary hover:text-text-primary border border-border-medium hover:border-border-subtle hover:bg-bg-tertiary",fe?"w-9 h-9 text-sm":"w-8 h-8 text-xs")),style:tt?{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #6366f1 100%)",boxShadow:"0 0 16px rgba(99, 102, 241, 0.5), inset 0 1px 0 rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.2)"}:void 0,title:Oe.name,children:tt?w.jsxs("span",{className:"flex items-center gap-1 px-2 truncate",children:[w.jsx("span",{className:"truncate",children:Oe.name}),w.jsx(F5,{size:fe?14:12,className:"opacity-70 shrink-0"})]}):at},Oe.id)}),w.jsx("button",{onClick:()=>N(),className:Ut("no-touch-enlarge rounded-full text-text-muted hover:text-accent-primary touch-feedback shrink-0 border border-dashed border-border-medium hover:border-accent-primary/50 transition-all hover:bg-accent-primary/10 flex items-center justify-center",fe?"w-9 h-9":"w-8 h-8"),title:"Add section",children:w.jsx(ed,{size:fe?14:12})})]}),w.jsx("button",{onClick:()=>Ue("next"),disabled:me===o.sections.length-1,className:Ut("no-touch-enlarge rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback",fe?"p-2":"p-1.5"),children:w.jsx(Dh,{size:fe?18:16})}),!t&&w.jsx("button",{onClick:e,className:"p-2 min-w-[40px] min-h-[40px] hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center ml-1",title:"Close timeline",children:w.jsx(V3,{size:18,className:"text-text-muted rotate-90"})})]}),w.jsx("div",{ref:B,className:Ut("flex-1",fe?"px-3 pb-2 pt-1":"px-1 pb-1 pt-1",a?"overflow-y-auto overflow-x-hidden":"overflow-x-auto overflow-y-hidden"),children:nt&&w.jsx("div",{className:Ut(a?"flex flex-col gap-0":Ut("flex flex-row items-center",fe?"gap-1.5":"gap-0.5")),children:nt.measures.map((Oe,$e)=>w.jsxs(Xn.Fragment,{children:[w.jsxs("div",{className:Ut("flex items-center",a?"gap-0.5 w-full min-w-0":fe?"gap-1 shrink-0":"gap-0.5 shrink-0"),children:[w.jsxs("div",{className:Ut("flex flex-col items-center justify-center shrink-0",a?"gap-0 w-4":fe?"gap-0 w-6":"gap-0 w-5"),children:[w.jsx("span",{className:Ut("font-mono text-text-muted text-center leading-none",fe?"text-[9px]":a?"text-[7px]":"text-[8px]"),children:$e+1}),w.jsx($T,{value:Oe.beats.length,onChange:tt=>V(nt.id,Oe.id,tt),timeSignature:nt.timeSignature||[4,4],isCompact:a})]}),w.jsx("div",{className:Ut("flex items-center",a?`flex-1 gap-0.5 min-w-0 ${Oe.beats.length>4?"overflow-x-auto scrollbar-hide":"overflow-hidden"}`:"gap-0.5"),children:Oe.beats.map(tt=>{const at=u===nt.id&&c===tt.id,mt=y===nt.id&&_===tt.id,yt=tt.chord?je(tt.chord.root):void 0,ot=Oe.beats.length;let kt,ft;a&&ot>4&&(kt=Math.max(22,Math.floor(160/ot)),ft=Math.max(18,Math.floor(120/ot)));const mn=fe?48:36,Gt=4/ot,Nt=Math.round(mn*Gt),Lt=Math.max(fe?36:28,Math.min(fe?192:144,Nt)),It=fe?40:a?ot<=4?26:24:32;return w.jsxs("button",{"data-slot-id":tt.id,onClick:()=>st(nt.id,tt.id,tt.chord),className:Ut("no-touch-enlarge relative flex items-center justify-center rounded-md transition-all touch-feedback",a&&ot<=4?"flex-1 min-w-0":"shrink-0",mt&&"ring-2 ring-green-500 ring-offset-1 ring-offset-bg-primary shadow-[0_0_12px_rgba(34,197,94,0.5)] scale-105 z-10",at&&!mt&&"ring-2 ring-accent-primary ring-offset-1 ring-offset-bg-primary",!tt.chord&&"border-2 border-dashed border-border-medium bg-bg-elevated hover:border-text-muted"),style:{height:`${It}px`,...a&&kt?{width:`${kt}px`,minWidth:`${ft}px`}:{},...a?{}:{width:`${Lt}px`,minWidth:`${Lt}px`},...tt.chord?{backgroundColor:"rgba(0, 0, 0, 0.3)",border:`2px solid ${yt}`}:{}},children:[tt.chord?w.jsx("span",{className:Ut("font-bold px-0.5 truncate",fe?"text-xs":a?ot>=8?"text-[7px]":ot>=4?"text-[8px]":"text-[9px]":"text-[10px]"),style:{color:yt},children:Gs(tt.chord.symbol)}):w.jsx("span",{className:Ut("text-text-muted font-light",a?ot>=8?"text-xs":"text-sm":"text-base"),children:"+"}),mt&&w.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full bg-green-500 flex items-center justify-center",children:w.jsx(Uh,{size:6,fill:"white",className:"text-white"})})]},tt.id)})})]}),!s&&!a&&$e<nt.measures.length-1&&w.jsx("div",{className:"w-px h-5 bg-border-medium shrink-0"})]},Oe.id))})}),ve&&(()=>{const Oe=o.sections.findIndex(at=>at.id===ve),$e=Oe>0,tt=Oe<o.sections.length-1;return w.jsx(JT,{section:o.sections.find(at=>at.id===ve),isOpen:!0,onClose:()=>_e(null),onTimeSignatureChange:at=>{const[mt,yt]=at.split("/").map(ot=>parseInt(ot,10));mt&&yt&&ve&&A(ve,[mt,yt])},onBarsChange:at=>{ve&&E(ve,at)},onStepCountChange:at=>{ve&&T(ve,at)},onNameChange:(at,mt)=>{ve&&F(ve,{name:at,type:mt})},onCopy:()=>{ve&&I(ve)},onClear:()=>{ve&&q(ve)},onDelete:()=>{ve&&R(ve)},songTimeSignature:$||[4,4],onNavigatePrev:()=>{if($e){const at=o.sections[Oe-1];_e(at.id),G(Oe-1)}},onNavigateNext:()=>{if(tt){const at=o.sections[Oe+1];_e(at.id),G(Oe+1)}},hasPrev:$e,hasNext:tt,sectionIndex:Oe,totalSections:o.sections.length})})()]}):w.jsxs("div",{"data-mobile-timeline":!0,className:"w-full h-9 flex flex-col items-center justify-center bg-bg-secondary border-t border-border-subtle cursor-grab active:cursor-grabbing touch-feedback select-none",onClick:()=>{!pe.current&&oe===0&&e()},onTouchStart:Y,onTouchMove:Ie,onTouchEnd:pt,onMouseDown:Je,style:{transform:oe>0?`translateY(-${oe}px)`:void 0,opacity:oe>0?Math.min(1,.7+oe/100):1,transition:oe===0?"all 0.2s ease-out":"none"},children:[w.jsx("div",{className:"w-10 h-1 rounded-full bg-text-muted/40 mb-1.5"}),w.jsx("span",{className:"text-[9px] font-medium text-text-muted uppercase tracking-wider",children:"Timeline"})]})},e7=({highlightedNotes:r,rootNote:e,bassNote:t,color:s="#6366f1",octave:a=4,onNotePlay:o})=>{const u=["C","D","E","F","G","A","B"],c=T=>{const R={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},I=T.replace(/\d+/g,"");return R[I]??-1},f=r.map(T=>c(T)),d=e?c(e):-1,m=t?c(t):-1,y=T=>{const R=c(T);return R!==-1&&f.includes(R)},_=T=>d===-1?!1:c(T)===d,b=T=>m===-1?!1:c(T)===m,N=(T,R)=>{o&&o(T,R)},A=()=>{const T=[];for(let I=0;I<2;I++){const q=a+I;u.forEach(V=>{const W=y(V),H=_(V),O=b(V);T.push(w.jsx("div",{className:"h-full rounded-b-md relative border-x border-b border-gray-400 cursor-pointer hover:brightness-95 active:brightness-90 transition-all",style:{width:`${100/14}%`,background:"linear-gradient(180deg, #fafafa 0%, #e8e8e8 70%, #d0d0d0 100%)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.9), inset 0 -2px 4px rgba(0,0,0,0.08)"},onClick:()=>N(V,q),children:W&&w.jsxs(w.Fragment,{children:[H&&w.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none animate-pulse",style:{bottom:"3px",transform:"translateX(-50%)",width:"18px",height:"18px",background:"transparent",border:`2px solid ${s}`,boxShadow:`0 0 8px ${s}, 0 0 12px ${s}60`,opacity:.9}}),w.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"6px",transform:"translateX(-50%)",width:O?"14px":H?"12px":"9px",height:O?"14px":H?"12px":"9px",background:s,border:O?"3px solid #000":"2px solid #000",boxShadow:O?`0 0 10px ${s}, 0 0 4px ${s}`:`0 0 6px ${s}80`}})]})},`white-${I}-${V}`))})}return T},E=()=>{const T=[],R=[{note:"C#",offset:7.14},{note:"D#",offset:14.28},{note:"F#",offset:28.57},{note:"G#",offset:35.71},{note:"A#",offset:42.85}];for(let I=0;I<2;I++){const q=I*50,V=a+I;R.forEach(({note:W,offset:H})=>{const O=y(W),F=_(W),J=b(W),k=q+H;T.push(w.jsx("div",{className:"absolute top-0 rounded-b-md cursor-pointer hover:brightness-125 active:brightness-150 transition-all",style:{left:`${k}%`,width:"5.5%",height:"58%",transform:"translateX(-50%)",background:"linear-gradient(180deg, #333 0%, #1a1a1a 70%, #0a0a0a 100%)",boxShadow:"0 3px 6px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.08)",pointerEvents:"auto"},onClick:()=>N(W,V),children:O&&w.jsxs(w.Fragment,{children:[F&&w.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none animate-pulse",style:{bottom:"1px",transform:"translateX(-50%)",width:"16px",height:"16px",background:"transparent",border:`2px solid ${s}`,boxShadow:`0 0 8px ${s}, 0 0 12px ${s}60`,opacity:.9}}),w.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"4px",transform:"translateX(-50%)",width:J?"12px":F?"10px":"8px",height:J?"12px":F?"10px":"8px",background:s,border:J?"3px solid #fff":"2px solid #fff",boxShadow:J?`0 0 10px ${s}, 0 0 4px ${s}`:`0 0 6px ${s}80`}})]})},`black-${I}-${W}`))})}return T};return w.jsx("div",{className:"relative w-full rounded-lg select-none overflow-hidden",style:{height:"80px",minHeight:"80px",background:"#1a1a22",boxShadow:"inset 0 2px 8px rgba(0,0,0,0.6)",padding:"3px 2px 2px 2px"},children:w.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[w.jsx("div",{className:"flex w-full h-full gap-[1px]",style:{position:"relative",zIndex:0},children:A()}),w.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,pointerEvents:"none"},children:E()})]})})},t7={C:{maj:[{frets:[-1,3,2,0,1,0],fingers:[0,3,2,0,1,0],barres:[],baseFret:1}],m:[{frets:[-1,3,1,0,1,3],fingers:[0,3,1,0,2,4],barres:[],baseFret:1}],7:[{frets:[-1,3,2,3,1,0],fingers:[0,3,2,4,1,0],barres:[],baseFret:1}],maj7:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj9:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,3,2,2,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],m7:[{frets:[-1,3,1,3,1,3],fingers:[0,2,1,3,1,4],barres:[1],baseFret:3}],m9:[{frets:[-1,3,1,3,3,3],fingers:[0,2,1,3,4,4],barres:[],baseFret:3}],m11:[{frets:[-1,3,1,3,3,1],fingers:[0,2,1,3,4,1],barres:[1],baseFret:3}],m6:[{frets:[-1,3,1,2,1,3],fingers:[0,3,1,2,1,4],barres:[1],baseFret:1}],sus2:[{frets:[-1,3,0,0,1,3],fingers:[0,2,0,0,1,3],barres:[],baseFret:1}],sus4:[{frets:[-1,3,3,0,1,1],fingers:[0,3,4,0,1,1],barres:[1],baseFret:1}],dim:[{frets:[-1,3,1,-1,1,2],fingers:[0,4,1,0,2,3],barres:[],baseFret:1}],6:[{frets:[-1,3,2,2,1,0],fingers:[0,4,2,3,1,0],barres:[],baseFret:1}],add9:[{frets:[-1,3,2,0,3,0],fingers:[0,2,1,0,3,0],barres:[],baseFret:1}],9:[{frets:[-1,3,2,3,3,0],fingers:[0,2,1,3,4,0],barres:[],baseFret:1}],11:[{frets:[-1,3,2,3,3,3],fingers:[0,2,1,3,3,3],barres:[],baseFret:1}],13:[{frets:[-1,3,2,3,3,5],fingers:[0,2,1,3,3,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,3,4,3,4,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},"C#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},Db:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},D:{maj:[{frets:[-1,-1,0,2,3,2],fingers:[0,0,0,1,3,2],barres:[],baseFret:1}],m:[{frets:[-1,-1,0,2,3,1],fingers:[0,0,0,2,3,1],barres:[],baseFret:1}],7:[{frets:[-1,-1,0,2,1,2],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],maj7:[{frets:[-1,-1,0,2,2,2],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],maj9:[{frets:[-1,-1,0,2,2,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],maj13:[{frets:[-1,-1,0,2,2,4],fingers:[0,0,0,1,1,3],barres:[2],baseFret:1}],m7:[{frets:[-1,-1,0,2,1,1],fingers:[0,0,0,2,1,1],barres:[1],baseFret:1}],m9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],m11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m6:[{frets:[-1,-1,0,2,0,1],fingers:[0,0,0,2,0,1],barres:[],baseFret:1}],sus2:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],sus4:[{frets:[-1,-1,0,2,3,3],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,1,3,1],fingers:[0,0,0,1,4,2],barres:[],baseFret:1}],6:[{frets:[-1,-1,0,2,0,2],fingers:[0,0,0,1,0,2],barres:[],baseFret:1}],add9:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],13:[{frets:[-1,-1,0,2,1,4],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,1,1,1],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}]},"D#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},Eb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},E:{maj:[{frets:[0,2,2,1,0,0],fingers:[0,2,3,1,0,0],barres:[],baseFret:1}],m:[{frets:[0,2,2,0,0,0],fingers:[0,2,3,0,0,0],barres:[],baseFret:1}],7:[{frets:[0,2,0,1,0,0],fingers:[0,2,0,1,0,0],barres:[],baseFret:1}],maj7:[{frets:[0,2,1,1,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],maj9:[{frets:[0,2,1,1,0,2],fingers:[0,2,1,1,0,3],barres:[1],baseFret:1}],maj13:[{frets:[0,2,1,1,2,2],fingers:[0,2,1,1,3,3],barres:[],baseFret:1}],m7:[{frets:[0,2,0,0,0,0],fingers:[0,1,0,0,0,0],barres:[],baseFret:1}],m9:[{frets:[0,2,0,0,0,2],fingers:[0,2,0,0,0,3],barres:[],baseFret:1}],m11:[{frets:[0,2,0,0,3,0],fingers:[0,2,0,0,4,0],barres:[],baseFret:1}],m6:[{frets:[0,2,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],sus2:[{frets:[0,2,4,4,0,0],fingers:[0,1,3,4,0,0],barres:[],baseFret:1}],sus4:[{frets:[0,2,2,2,0,0],fingers:[0,2,3,4,0,0],barres:[],baseFret:1}],dim:[{frets:[0,1,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],6:[{frets:[0,2,2,1,2,0],fingers:[0,2,3,1,4,0],barres:[],baseFret:1}],add9:[{frets:[0,2,2,1,0,2],fingers:[0,2,3,1,0,4],barres:[],baseFret:1}],9:[{frets:[0,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],11:[{frets:[0,2,0,1,3,0],fingers:[0,2,0,1,4,0],barres:[],baseFret:1}],13:[{frets:[0,2,0,1,2,2],fingers:[0,2,0,1,3,4],barres:[],baseFret:1}],m7b5:[{frets:[0,1,0,0,2,0],fingers:[0,1,0,0,2,0],barres:[],baseFret:1}]},F:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:1}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:1}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,-1,3,2,1,0],fingers:[0,0,3,2,1,0],barres:[],baseFret:1}],maj9:[{frets:[1,0,3,0,1,0],fingers:[1,0,3,0,2,0],barres:[],baseFret:1}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:1}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:1}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:1}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,-1,3,0,1,1],fingers:[0,0,3,0,1,1],barres:[1],baseFret:1}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:1}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:1}],6:[{frets:[1,-1,0,2,1,1],fingers:[1,0,0,3,1,1],barres:[1],baseFret:1}],add9:[{frets:[-1,-1,3,2,1,3],fingers:[0,0,3,2,1,4],barres:[],baseFret:1}],9:[{frets:[1,3,1,2,1,3],fingers:[1,3,1,2,1,4],barres:[1],baseFret:1}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:1}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:1}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}]},"F#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},Gb:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},G:{maj:[{frets:[3,2,0,0,0,3],fingers:[2,1,0,0,0,3],barres:[],baseFret:1}],m:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],7:[{frets:[3,2,0,0,0,1],fingers:[3,2,0,0,0,1],barres:[],baseFret:1}],maj7:[{frets:[3,2,0,0,0,2],fingers:[3,1,0,0,0,2],barres:[],baseFret:1}],maj9:[{frets:[3,0,0,0,0,2],fingers:[2,0,0,0,0,1],barres:[],baseFret:1}],maj13:[{frets:[3,2,0,0,2,2],fingers:[3,1,0,0,2,2],barres:[2],baseFret:1}],m7:[{frets:[3,1,0,0,3,0],fingers:[2,1,0,0,3,0],barres:[],baseFret:1}],m9:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],m11:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],m6:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],sus2:[{frets:[3,0,0,0,3,3],fingers:[1,0,0,0,2,3],barres:[],baseFret:1}],sus4:[{frets:[3,3,0,0,1,3],fingers:[2,3,0,0,1,4],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],6:[{frets:[3,2,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],add9:[{frets:[3,0,0,0,0,3],fingers:[2,0,0,0,0,3],barres:[],baseFret:1}],9:[{frets:[3,2,0,1,0,1],fingers:[3,2,0,1,0,1],barres:[1],baseFret:1}],11:[{frets:[3,2,0,1,3,1],fingers:[3,2,0,1,4,1],barres:[1],baseFret:1}],13:[{frets:[3,2,0,1,0,5],fingers:[2,1,0,1,0,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}]},"G#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},Ab:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},A:{maj:[{frets:[-1,0,2,2,2,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],m:[{frets:[-1,0,2,2,1,0],fingers:[0,0,2,3,1,0],barres:[],baseFret:1}],7:[{frets:[-1,0,2,0,2,0],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}],maj7:[{frets:[-1,0,2,1,2,0],fingers:[0,0,2,1,3,0],barres:[],baseFret:1}],maj9:[{frets:[-1,0,2,1,0,0],fingers:[0,0,2,1,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,0,2,1,2,4],fingers:[0,0,2,1,3,4],barres:[],baseFret:1}],m7:[{frets:[-1,0,2,0,1,0],fingers:[0,0,2,0,1,0],barres:[],baseFret:1}],m9:[{frets:[-1,0,2,0,1,3],fingers:[0,0,2,0,1,4],barres:[],baseFret:1}],m11:[{frets:[-1,0,0,0,1,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],m6:[{frets:[-1,0,2,2,1,2],fingers:[0,0,2,3,1,4],barres:[],baseFret:1}],sus2:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],sus4:[{frets:[-1,0,2,2,3,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],dim:[{frets:[-1,0,1,2,1,-1],fingers:[0,0,1,3,2,0],barres:[],baseFret:1}],6:[{frets:[-1,0,2,2,2,2],fingers:[0,0,1,1,1,1],barres:[2],baseFret:1}],add9:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],9:[{frets:[-1,0,2,4,2,3],fingers:[0,0,1,3,1,2],barres:[2],baseFret:1}],11:[{frets:[-1,0,0,0,2,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],13:[{frets:[-1,0,2,0,2,4],fingers:[0,0,1,0,2,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,0,1,0,1,-1],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}]},"A#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},Bb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},B:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:2}],7:[{frets:[-1,2,1,2,0,2],fingers:[0,2,1,3,0,4],barres:[],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:2}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:2}],m7:[{frets:[-1,2,0,2,0,2],fingers:[0,1,0,2,0,3],barres:[],baseFret:1}],m9:[{frets:[-1,2,0,2,2,2],fingers:[0,1,0,2,3,4],barres:[],baseFret:1}],m11:[{frets:[-1,2,0,2,0,0],fingers:[0,1,0,2,0,0],barres:[],baseFret:1}],m6:[{frets:[-1,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:2}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:2}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,2,1,2,2,2],fingers:[0,2,1,3,3,3],barres:[],baseFret:1}],11:[{frets:[-1,2,1,2,0,0],fingers:[0,2,1,3,0,0],barres:[],baseFret:1}],13:[{frets:[-1,2,1,2,2,4],fingers:[0,2,1,3,3,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:2}]}};function n7(r){return{"C":"C#","D":"Db","D":"D#","E":"Eb","F":"F#","G":"Gb","G":"G#","A":"Ab","A":"A#","B":"Bb"}[r]||r.replace("","#").replace("","b")}function r7(r){return{major:"maj",minor:"m",min:"m",dom7:"7",dominant7:"7",major7:"maj7",minor7:"m7",min7:"m7",suspended2:"sus2",suspended4:"sus4",diminished:"dim","half-diminished":"m7b5","m75":"m7b5",sixth:"6",ninth:"9",added9:"add9"}[r]||r}function Q3(r,e){const t=n7(r),s=r7(e),a=t7[t];if(!a)return null;const o=a[s];return!o||o.length===0?null:o[0]}const s7=({root:r,quality:e,color:t="#6366f1",onClick:s,onDoubleClick:a})=>{const o=v2(),u=Q3(r,e),c=ae.useRef(0),f=ae.useRef(null),d=Gs(`${r}${e==="maj"?"":e}`),m=()=>{const A=Date.now(),E=A-c.current;f.current&&(clearTimeout(f.current),f.current=null),E<300&&E>0?(c.current=0,a&&a()):(c.current=A,f.current=setTimeout(()=>{s&&s(),f.current=null},300))},y=ae.useRef(0),_=ae.useRef(null),b=A=>{A.preventDefault(),A.stopPropagation();const E=Date.now(),T=E-y.current;_.current&&(clearTimeout(_.current),_.current=null),T<300&&T>0?(y.current=0,a&&a()):(y.current=E,_.current=setTimeout(()=>{s&&s(),_.current=null},300))};if(!u)return w.jsxs("div",{className:"flex items-center justify-center text-text-muted text-xs py-4",children:["No guitar diagram available for ",r,e]});const N=s||a;return w.jsxs("div",{className:`flex flex-col items-center ${N?"cursor-pointer touch-feedback hover:opacity-80 active:scale-95 transition-all":""}`,onClick:N?m:void 0,onTouchEnd:N?b:void 0,onTouchStart:N?A=>A.stopPropagation():void 0,children:[w.jsx("span",{className:`${o?"text-xs":"text-[11px]"} font-bold mb-1 text-center`,style:{backgroundColor:"transparent",color:t,padding:"4px 12px",borderRadius:"10px",border:`2px solid ${t}`},children:d}),w.jsx("svg",{viewBox:"0 0 100 120",className:`w-full ${o?"max-w-[110px]":"max-w-[120px]"}`,style:{minHeight:o?110:120,pointerEvents:"none"},children:w.jsx(i7,{chord:u,color:t})})]})},i7=({chord:r,color:e})=>{const{frets:t,fingers:s,barres:a,baseFret:o}=r,u=20,c=25,f=12,d=18,m=4,y=6,_=4.5,b=Array.from({length:y},(R,I)=>u+I*f),N=Array.from({length:m+1},(R,I)=>c+I*d),A=o===1,E=f*(y-1)+16,T=d*m+8;return w.jsxs(w.Fragment,{children:[w.jsx("rect",{x:u-8,y:c-4,width:E,height:T,fill:"#3d2817",rx:3}),A?w.jsx("rect",{x:u-2,y:c-3,width:f*(y-1)+4,height:4,fill:"#f5f5f5",rx:1}):w.jsx("text",{x:u-14,y:c+d/2+4,fontSize:"12",fill:"#e0e0e0",textAnchor:"middle",fontWeight:"700",children:o}),N.map((R,I)=>w.jsx("line",{x1:u,y1:R,x2:u+f*(y-1),y2:R,stroke:"#b8b8b8",strokeWidth:I===0&&!A?2:1},`fret-${I}`)),b.map((R,I)=>w.jsx("line",{x1:R,y1:c,x2:R,y2:c+d*m,stroke:"#d4d4d4",strokeWidth:1.2+(5-I)*.25},`string-${I}`)),a.map((R,I)=>{const q=t.map((O,F)=>({fret:O,idx:F})).filter(({fret:O})=>O===R);if(q.length<2)return null;const V=Math.min(...q.map(O=>O.idx)),W=Math.max(...q.map(O=>O.idx)),H=c+(R-.5)*d;return w.jsx("rect",{x:b[V]-_,y:H-_,width:b[W]-b[V]+_*2,height:_*2,fill:"white",stroke:e,strokeWidth:2,rx:_},`barre-${I}`)}),t.map((R,I)=>{const q=b[I];if(R===-1)return w.jsx("text",{x:q,y:c-10,fontSize:"14",fill:"#ff6b6b",textAnchor:"middle",fontWeight:"bold",children:""},`mute-${I}`);if(R===0)return w.jsx("circle",{cx:q,cy:c-8,r:4,fill:"none",stroke:"var(--color-text-secondary)",strokeWidth:1.5},`open-${I}`);const V=a.includes(R),W=s[I];if(V){const O=t.findIndex(F=>F===R);if(I!==O)return null}const H=c+(R-.5)*d;return w.jsxs("g",{children:[w.jsx("circle",{cx:q,cy:H,r:_,fill:"white",stroke:e,strokeWidth:2}),W>0&&!V&&w.jsx("text",{x:q,y:H+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:W})]},`finger-${I}`)}),a.map((R,I)=>{const q=t.map((O,F)=>({fret:O,idx:F})).filter(({fret:O})=>O===R);if(q.length<2)return null;const V=Math.min(...q.map(O=>O.idx)),W=c+(R-.5)*d,H=s[V];return H>0?w.jsx("text",{x:b[V],y:W+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:H},`barre-finger-${I}`):null})]})},z5=({notes:r,rootNote:e,color:t="#6366f1",width:s,numerals:a,onNotePlay:o,compact:u=!1})=>{const c=v2(),f=W=>{const H=W.replace(/[0-9]/g,"");let O=H[0],F="";H.includes("")||H.includes("#")?F="":(H.includes("")||H.includes("b"))&&(F="");let k={C:-6,D:-5,E:-4,F:-3,G:-2,A:-1,B:0}[O]??0;const D="CDEFGAB".indexOf(O),Q="CDEFGAB".indexOf(e[0]);return D<Q&&Q-D>3&&(k+=7),{line:k,accidental:F}},d=W=>{o&&o(W,4)},y=s||(u?180:c?280:340),_=u?70:c?110:115,b=u?6:12,N=b,A=_*(u?.28:.22),E=u?7:10,T=Math.max(80,y-b*2),R=A+(u?32:50),I=A+(u?42:62),q=r.map((W,H)=>{const{line:O,accidental:F}=f(W),J=u?40:60,k=T-J-15,D=u?18:25,Q=k/Math.max(r.length-1,1),$=Math.max(Q,D),le=$*Math.max(r.length-1,0),B=(k-le)/2,ie=N+J+B+H*$,re=A-O*E/2;return{note:W,x:ie,y:re,line:O,accidental:F,needsLedgerLines:O<-4||O>4}}),V=W=>{const H=[];if(W.line<-4)for(let F=-6;F>=W.line;F-=2)F<-4&&H.push(w.jsx("line",{x1:W.x-28/2,y1:A-F*E/2,x2:W.x+28/2,y2:A-F*E/2,stroke:"#888",strokeWidth:"1.5"},`ledger-below-${F}`));else if(W.line>4)for(let F=6;F<=W.line;F+=2)F>4&&H.push(w.jsx("line",{x1:W.x-28/2,y1:A-F*E/2,x2:W.x+28/2,y2:A-F*E/2,stroke:"#888",strokeWidth:"1.5"},`ledger-above-${F}`));return H};return w.jsx("div",{className:`flex justify-center items-center ${u?"":"w-full"}`,children:w.jsxs("svg",{viewBox:`0 0 ${y} ${_}`,className:u?"":"w-full",style:{minHeight:u?60:c?95:100,width:u?y:void 0},children:[[-2,-1,0,1,2].map(W=>w.jsx("line",{x1:N,y1:A-W*E,x2:N+T,y2:A-W*E,stroke:"#777",strokeWidth:u?1.5:2},`staff-${W}`)),w.jsx("text",{x:N-(u?2:3),y:A+(u?14:20),fontSize:u?"38":c?"56":"62",fill:t,fontFamily:"serif",fontWeight:"bold",children:""}),q.map(W=>V(W)),q.map((W,H)=>w.jsxs("g",{children:[W.accidental&&w.jsx("text",{x:W.x-(u?12:20),y:W.y+(u?3:5),fontSize:u?"12":c?"18":"20",fill:"#ccc",fontFamily:"serif",fontWeight:"bold",children:W.accidental}),o&&w.jsx("circle",{cx:W.x,cy:W.y,r:16,fill:"transparent",style:{cursor:"pointer"},onClick:()=>d(W.note),onTouchEnd:O=>{O.preventDefault(),d(W.note)}}),w.jsx("ellipse",{cx:W.x,cy:W.y,rx:u?5:7,ry:u?4:5.5,fill:H===0?t:"#ddd",stroke:H===0?t:"#ddd",strokeWidth:1,style:o?{cursor:"pointer"}:void 0,className:o?"hover:opacity-80 active:scale-110 transition-transform":""}),w.jsx("text",{x:W.x,y:R,fontSize:u?"7":c?"10":"11",fill:"#999",textAnchor:"middle",fontWeight:"600",children:W.note}),a&&a[H]&&w.jsx("text",{x:W.x,y:I,fontSize:u?"7":c?"9":"10",fill:H===0?t:"#777",textAnchor:"middle",fontWeight:"700",children:a[H]})]},`note-${H}`))]})})},ym=({variant:r="sidebar",onScrollChange:e})=>{const{selectedChord:t,selectedKey:s,chordPanelVisible:a,toggleChordPanel:o,selectedSectionId:u,selectedSlotId:c,addChordToSlot:f,setSelectedChord:d,selectNextSlotAfter:m,setSelectedSlot:y,timelineVisible:_,openTimeline:b}=An(),N=ld(),[A,E]=ae.useState(null),[T,R]=ae.useState([]),[I,q]=ae.useState(320),[V,W]=ae.useState(!1),H=ae.useRef(0),O=r==="drawer",[F,J]=ae.useState(t),k=t??F,{isMobile:D}=Gp(),Q=r==="landscape-panel"||r==="landscape-expanded",$=r==="landscape-panel",le=!O&&!Q&&I<360,[B,ie]=ae.useState(!1),[re,fe]=ae.useState(!1),[me,G]=ae.useState(!D||Q),[j,z]=ae.useState(0),ee=4,te=ae.useRef(0),oe=ae.useRef(0),[de,pe]=ae.useState(0),ve=ae.useRef(null),_e=ae.useRef(null),qe=ae.useRef(null),Xe=ae.useRef(null),et=Se=>{if(Se.current&&Xe.current){const lt=Xe.current,gt=Se.current.offsetTop-lt.offsetTop;lt.scrollTo({top:gt,behavior:"smooth"})}},ut=ae.useCallback(Se=>{!O||!D||(te.current=Se.touches[0].clientY,oe.current=Se.touches[0].clientY)},[O,D]),Y=ae.useCallback(Se=>{if(!O||!D)return;oe.current=Se.touches[0].clientY;const lt=oe.current-te.current;lt>0&&pe(Math.min(lt,150))},[O,D]),Ie=ae.useCallback(()=>{!O||!D||(de>80?(pe(300),setTimeout(()=>{o(),pe(0)},200)):pe(0))},[O,D,de,o]),pt=()=>{if(!k)return"Chord Details";const Se=A||k.quality;return Gs(Se==="major"||Se==="maj"?k.root:Se==="minor"||Se==="m"?`${k.root}m`:Se==="diminished"||Se==="dim"?`${k.root}dim`:`${k.root}${Se}`)},Je=ae.useCallback((Se,lt)=>{W3(Se,lt)},[]),je={maj:'The classic major triad: bright, stable, and universally resolved. The foundation of Western harmony and the sound of "home."',major:'The classic major triad: bright, stable, and universally resolved. The foundation of Western harmony and the sound of "home."',maj7:"Smooth and sophisticated, the major 7th adds a dreamy, floating quality. Think Burt Bacharach, neo-soul, and late-night jazz.",maj9:"Builds on maj7 with a crystalline 9th. Modern, airy, and introspective  perfect for R&B ballads and ambient textures.",maj13:"The full major palette: lush, orchestral, and complex. Great for endings or when you want maximum harmonic richness.",6:"Warm and vintage  the major 6th has an old-Hollywood or country sweetness. Softer resolution than maj7.",add9:"A major triad with added sparkle from the 9th, but no 7th. Clean, modern, and ubiquitous in pop and worship music.",7:"The dominant 7th creates bluesy tension begging for resolution. The engine behind the ii-V-I and the soul of rock & blues.",9:"Dominant 7 with a colorful 9th. Funky, jazzy, and sophisticated  think Stevie Wonder, Earth Wind & Fire, and neo-soul.",11:"Suspended, modal quality over dominant function. Creates an open, unresolved tension that floats before landing.",13:"The dominant chord at its richest: soulful 13th on top of bluesy 7th. Perfect for jazz turnarounds and R&B grooves.",m7:"The workhorse minor chord: soulful, laid-back, and endlessly versatile. The default for jazz ii chords and R&B grooves.",minor:"The basic minor triad: melancholic, introspective, and emotionally direct. Minor keys are built on this sound.",m9:"Lush and cinematic  adds depth and width to the minor sound. Evokes late-night cityscapes and emotional introspection.",m11:"Spacious and modal, with an open 11th suspension. Great for grooves, vamps, and creating atmospheric tension.",m6:"Bittersweet with a film-noir quality. The 6th adds sophistication to minor  a nice alternative to m7 for tonic chords.",sus2:"Neither major nor minor  the open 2nd creates an ambient, neutral quality. Ubiquitous in pop, rock, and modern worship.",sus4:"Suspended tension from the 4th wants to fall to the 3rd. Creates expectation and movement  classic resolution technique.",dim:"Highly unstable and tense  every note pushes somewhere else. Perfect as a passing chord or chromatic approach.",diminished:"Highly unstable and tense  every note pushes somewhere else. Perfect as a passing chord or chromatic approach.",m7b5:"Half-diminished: dark and sophisticated. The natural ii chord in minor keys, essential for minor ii-V-i progressions."},st=["maj","7","maj7","maj9","maj13","6","13","m7","m9","m11","m6","sus2","sus4","dim","m7b5","add9","9","11"],Ue=Se=>{if(!k?.root)return"-";const lt=qt=>qt.replace(/[\d]/g,"").replace(//,"b").replace(//,"#"),ct={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},gt=ct[lt(k.root)],en=ct[lt(Se)];if(gt===void 0||en===void 0)return"-";const St=(en-gt+12)%12;return{0:"R",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[St]??"-"},nt=ae.useCallback(Se=>{O||(Se.preventDefault(),W(!0))},[O]);ae.useEffect(()=>{if(!V||O)return;const Se=gt=>{const en=window.innerWidth-gt.clientX;q(Math.max(280,Math.min(500,en)))},lt=gt=>{if(gt.touches.length===1){const en=window.innerWidth-gt.touches[0].clientX;q(Math.max(280,Math.min(500,en)))}},ct=()=>{W(!1)};return document.addEventListener("mousemove",Se),document.addEventListener("mouseup",ct),document.addEventListener("touchmove",lt),document.addEventListener("touchend",ct),()=>{document.removeEventListener("mousemove",Se),document.removeEventListener("mouseup",ct),document.removeEventListener("touchmove",lt),document.removeEventListener("touchend",ct)}},[V,O]),ae.useEffect(()=>{t&&J(t)},[t]),ae.useEffect(()=>{E(null),R([]),z(0)},[k?.root,k?.quality]),ae.useEffect(()=>{Q&&me&&ve.current&&Xe.current&&setTimeout(()=>{if(ve.current&&Xe.current){const Se=ve.current,lt=Xe.current,ct=Se.offsetTop-lt.offsetTop;lt.scrollTo({top:ct+35,behavior:"smooth"})}},100)},[Q,me]),ae.useEffect(()=>{if(!O||!e)return;const Se=Xe.current;if(!Se)return;const lt=()=>{const ct=Se.scrollHeight-Se.scrollTop-Se.clientHeight<20;e(ct)};return Se.addEventListener("scroll",lt),lt(),()=>Se.removeEventListener("scroll",lt)},[O,e]);const Oe=k&&N[k.root]||"#6366f1",$e=T.length>0?T:k?.notes||[],tt=nu($e,j),at=U4($e),mt=Se=>{const lt=Date.now();if(lt-H.current<300||(H.current=lt,!k))return;const ct=Sl(k.root,Se),gt=nu(ct,j);Fi(gt),E(Se),R(ct)},yt=Se=>{if(H.current=0,!_){b();return}if(!k||!u||!c)return;const lt=Sl(k.root,Se),ct=l5(k.root,Se,lt,j),gt={...k,quality:Se,symbol:ct,notes:lt,inversion:j};f(gt,u,c),m(u,c)||(y(u,c),d(gt))},ot=ae.useCallback(()=>{if(!k)return;const Se=A||k.quality,lt=Sl(k.root,Se),ct=nu(lt,j);Fi(ct)},[k,A,j]),kt=ae.useCallback(()=>{if(!_){b();return}if(!k||!u||!c)return;const Se=A||k.quality,lt=Sl(k.root,Se),ct=l5(k.root,Se,lt,j),gt={...k,quality:Se,symbol:ct,notes:lt,inversion:j};f(gt,u,c),m(u,c)||(y(u,c),d(gt))},[k,A,j,u,c,f,m,y,d,_,b]),ft=ae.useRef(0),mn=ae.useRef(null),Gt=ae.useCallback(Se=>{if(!k)return;Se.preventDefault(),Se.stopPropagation();const lt=Date.now(),ct=lt-ft.current;mn.current&&(clearTimeout(mn.current),mn.current=null),ct<300&&ct>0?(ft.current=0,kt()):(ft.current=lt,mn.current=setTimeout(()=>{ot(),mn.current=null},300))},[k,ot,kt]),Nt=()=>{if(!k)return{extensions:[],description:""};let Se=k.numeral;if(Se&&Se.includes("(")){const ct=Se.match(/^(.+?)\s*\(/);ct&&(Se=ct[1].trim())}return{I:{extensions:["maj","maj7","maj9","maj13","6"],description:"The tonic  your home base and resting point. This is where phrases resolve and songs often begin and end. Its stability makes it perfect for choruses and moments of arrival."},IV:{extensions:["maj","maj7","maj9","maj13","6"],description:'The subdominant  warm, hopeful, and slightly floating. It gently pulls away from home without creating urgency. Great for pre-choruses and that "lifting" feeling before a chorus.'},V:{extensions:["maj","7","9","11","sus4","13"],description:`The dominant  maximum tension wanting to resolve back to I. This chord creates expectation and forward motion. It's the "question" that begs for an "answer."`},ii:{extensions:["m","m7","m9","m11","m6"],description:"The supertonic  a natural setup chord that leads smoothly to V or IV. It's the workhorse of the ii-V-I progression and adds sophistication to any verse."},iii:{extensions:["m","m7"],description:"The mediant  mysterious and chameleon-like. It can substitute for I (they share two notes) or lead to vi. Use it for unexpected color and emotional complexity."},vi:{extensions:["m","m7","m9","m11"],description:'The relative minor  emotional depth and melancholy without leaving the key. This is the "sad" chord in major keys and the foundation of countless pop progressions (vi-IV-I-V).'},"vii":{extensions:["dim","m75"],description:"The leading tone chord  highly unstable and restless. Every note wants to move somewhere, making it a powerful passing chord that pulls strongly toward I."},II:{extensions:["maj","7","sus4"],description:"A secondary dominant (V of V)  borrowed tension that points toward V. Use it to create a dramatic runway before landing on V."},III:{extensions:["maj","7","sus4"],description:"A secondary dominant (V of vi)  creates an unexpected dramatic pull toward vi. Perfect for adding tension before a minor chord moment."}}[Se||""]||{extensions:[],description:`This chord doesn't fit in the key of ${s}, but it may add color and interest to your progression.`}};if(!a)return O?w.jsxs("div",{className:`w-full ${D?"h-10":"h-9"} flex flex-col items-center justify-center bg-bg-secondary border-t border-border-subtle cursor-pointer touch-feedback active:bg-bg-tertiary`,onClick:o,onTouchStart:Se=>{te.current=Se.touches[0].clientY,oe.current=Se.touches[0].clientY},onTouchMove:Se=>{oe.current=Se.touches[0].clientY},onTouchEnd:()=>{te.current-oe.current>30&&o()},title:"Swipe up or tap to open",children:[w.jsx("div",{className:"w-10 h-1 rounded-full bg-text-muted/40 mb-1.5"}),w.jsx("span",{className:`${D?"text-[10px]":"text-[9px]"} font-medium text-text-muted uppercase tracking-wider`,children:"Chord Details"})]}):w.jsx("button",{onClick:o,className:"h-full px-2 flex items-center justify-center bg-bg-secondary border-l border-border-subtle hover:bg-bg-tertiary transition-colors shrink-0",title:"Show chord details",children:w.jsx(ET,{size:18,className:"text-text-muted"})});const Lt=r==="landscape-panel",It=r==="landscape-expanded";return w.jsxs("div",{className:It||Lt?"h-full w-full flex flex-col bg-bg-secondary overflow-hidden":O?`${D?"relative w-full":"fixed inset-x-3 bottom-[88px]"} ${D?"max-h-[60vh]":"max-h-[70vh]"} bg-bg-secondary ${D?"border-t-2 border-border-subtle":"border-2 border-border-subtle rounded-2xl"} shadow-2xl overflow-hidden ${D?"":"z-40"} flex`:"h-full flex bg-bg-secondary border-l border-border-subtle overflow-x-hidden",style:!O&&!Lt&&!It?{width:I,minWidth:0,maxWidth:"100%"}:O?{transform:de>0?`translateY(${de}px)`:void 0,opacity:de>0?Math.max(0,1-de/300):1,transition:de===0||de>=150?"all 0.2s ease-out":"none"}:void 0,children:[!O&&!Lt&&w.jsx("div",{className:`w-3 flex items-center justify-center cursor-ew-resize hover:bg-bg-tertiary active:bg-accent-primary/20 transition-colors ${V?"bg-accent-primary/20":""} relative z-[60] touch-none`,onMouseDown:nt,onTouchStart:nt,children:w.jsx(I3,{size:12,className:"text-text-muted"})}),w.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0 relative",children:[O&&D&&w.jsx("div",{className:"flex flex-col items-center shrink-0 cursor-grab active:cursor-grabbing",onTouchStart:ut,onTouchMove:Y,onTouchEnd:Ie,children:w.jsx("div",{className:"pt-2 pb-0.5 flex flex-col items-center",children:w.jsx("div",{className:"w-10 h-1 rounded-full bg-text-muted/40"})})}),w.jsxs("div",{className:`${Q?"px-3 py-2":D&&O?"px-2 py-2":"px-4 py-3"} border-b border-border-subtle grid grid-cols-[1fr_auto_1fr] items-center gap-2 shrink-0 ${O?"bg-bg-secondary/80 backdrop-blur-md":""}`,children:[w.jsx("div",{className:"flex items-center min-w-0",style:{gap:"8px"},children:$&&k?w.jsx(w.Fragment,{children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-xs font-bold cursor-pointer touch-feedback hover:opacity-80 active:scale-95 transition-all",style:{backgroundColor:"transparent",color:Oe,padding:"4px 10px",borderRadius:"8px",border:`2px solid ${Oe}`},onClick:ot,onDoubleClick:kt,children:pt()}),k.numeral&&w.jsx("span",{className:"text-sm font-serif italic text-text-muted shrink-0",children:Gs(k.numeral)}),w.jsxs("div",{className:"flex items-center shrink-0",title:"Chord inversion",children:[w.jsx("button",{onClick:()=>{const Se=Math.max(0,j-1);z(Se);const lt=nu($e,Se);Fi(lt)},disabled:j<=0,className:"w-3 h-3 flex items-center justify-center text-text-muted hover:text-accent-primary transition-colors disabled:opacity-20",children:w.jsx(Rh,{size:10})}),w.jsx("span",{className:"text-[9px] font-bold text-text-secondary w-3 text-center",children:j}),w.jsx("button",{onClick:()=>{const Se=Math.min(at,j+1);z(Se);const lt=nu($e,Se);Fi(lt)},disabled:j>=at,className:"w-3 h-3 flex items-center justify-center text-text-muted hover:text-accent-primary transition-colors disabled:opacity-20",children:w.jsx(Dh,{size:10})})]})]})}):w.jsx(w.Fragment,{children:w.jsxs("span",{className:`flex items-center shrink-0 min-w-0 ${k?"cursor-pointer touch-feedback hover:opacity-80 active:scale-95 transition-all":""}`,style:k?{gap:"4px",backgroundColor:"transparent",color:Oe,padding:"3px 8px",borderRadius:"6px",border:`1.5px solid ${Oe}`}:{gap:"4px"},onClick:k?ot:void 0,onDoubleClick:k?kt:void 0,onTouchEnd:k?Gt:void 0,onTouchStart:k?Se=>Se.stopPropagation():void 0,children:[w.jsx("span",{className:`${Q?"text-lg":D?"text-sm":"text-xs sm:text-sm"} font-bold leading-none truncate`,children:D&&O?pt():k?Gs(`${k.root}${(A||k.quality)==="maj"?"":" "+(A||k.quality)}`):"Chord Details"}),k?.numeral&&w.jsx("span",{className:`${Q?"text-sm":"text-[10px]"} font-serif italic opacity-70 shrink-0`,children:Gs(k.numeral)})]})})}),w.jsx("div",{className:"flex items-center justify-center",children:k&&!$&&w.jsxs("div",{className:"flex items-center bg-bg-tertiary/40 rounded-full px-0.5 ml-3",title:"Chord inversion - which note is in the bass",children:[w.jsx("button",{onClick:()=>{const Se=Math.max(0,j-1);z(Se);const lt=nu($e,Se);Fi(lt)},disabled:j<=0,className:"w-4 h-4 flex items-center justify-center hover:bg-accent-primary/20 rounded-full text-text-muted hover:text-accent-primary transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Previous inversion",children:w.jsx(Rh,{size:8})}),w.jsx("span",{className:"text-[11px] font-semibold text-text-secondary min-w-[20px] text-center",children:H4(j)}),w.jsx("button",{onClick:()=>{const Se=Math.min(at,j+1);z(Se);const lt=nu($e,Se);Fi(lt)},disabled:j>=at,className:"w-4 h-4 flex items-center justify-center hover:bg-accent-primary/20 rounded-full text-text-muted hover:text-accent-primary transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Next inversion",children:w.jsx(Dh,{size:8})})]})}),w.jsx("div",{className:"flex items-center justify-end gap-3 shrink-0",children:!Q&&w.jsx("button",{onClick:o,className:`${D?"p-2 min-w-[40px] min-h-[40px]":"p-1"} hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center`,title:"Hide panel",children:w.jsx(V3,{size:D?18:16,className:`text-text-muted ${D&&O?"rotate-90":""}`})})})]}),k?w.jsxs("div",{ref:Xe,className:`flex-1 ${It?"flex flex-row overflow-hidden":"overflow-y-auto overflow-x-hidden"} min-h-0 overscroll-contain`,children:[!It&&w.jsxs("div",{className:`${D?"px-5 pt-4 pb-4":"px-5 py-4"} border-b border-border-subtle`,children:[w.jsx(e7,{highlightedNotes:tt,rootNote:k.root,bassNote:tt[0],color:Oe,octave:ee,onNotePlay:Je}),w.jsx("div",{className:`${D?"mt-4":"mt-5"} w-full`,children:w.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:`${D?"56px":"72px"} repeat(${tt.length}, minmax(0, 1fr))`},children:[w.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Notes"}),tt.map((Se,lt)=>w.jsx("div",{className:`text-center ${D?"text-xs":"text-sm"} font-bold text-text-primary flex items-center justify-center`,style:{height:"16px"},children:Se},`note-${lt}`)),w.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Absolute"}),tt.map((Se,lt)=>w.jsx("div",{className:`text-center ${D?"text-[11px]":"text-xs"} text-text-primary font-semibold flex items-center justify-center`,style:{height:"16px"},children:Ue(Se)},`abs-${lt}`)),w.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Relative"}),tt.map((Se,lt)=>w.jsx("div",{className:`text-center ${D?"text-[11px]":"text-xs"} text-text-secondary flex items-center justify-center`,style:{height:"16px"},children:W4(s,Se).replace(/^1/,"R")},`rel-${lt}`))]})})]}),w.jsxs("div",{className:`flex flex-col ${It?"flex-1 overflow-y-auto":""}`,children:[w.jsxs("div",{ref:ve,className:`${Q?"px-2 py-1":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[w.jsxs("button",{onClick:()=>{const Se=!me;G(Se),Se&&setTimeout(()=>et(ve),50)},className:`w-full flex items-center justify-between ${me?"mb-2":"mb-0"} cursor-pointer rounded-none`,style:{backgroundColor:"transparent"},children:[w.jsx("h3",{className:`${$?"text-[9px]":D?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide whitespace-nowrap`,children:$?"Guitar & Suggested":`Guitar & Suggested Voicings for ${Gs(k.numeral||k.symbol)}`}),w.jsx(zf,{size:$?8:D?14:12,className:`text-text-secondary transition-transform ${me?"rotate-180":""}`})]}),me&&w.jsx(w.Fragment,{children:w.jsxs("div",{className:`flex items-start ${$?"gap-1":"gap-2"} px-3`,style:{marginTop:$?"4px":"8px"},children:[w.jsxs("div",{className:"flex flex-col items-center shrink-0",style:{minWidth:$?"70px":"100px"},children:[w.jsx(s7,{root:k.root,quality:A||k.quality,color:Oe,onClick:ot,onDoubleClick:kt}),!$&&w.jsx("p",{className:`${D?"text-[10px]":"text-[9px]"} text-text-muted leading-relaxed text-center ${D?"mb-1 px-1":"mb-1 px-0.5"}`,style:{maxWidth:$?"70px":"100px"},children:je[A||k.quality]||"Select a voicing to see its description."})]}),w.jsx("div",{className:"w-px bg-border-subtle self-stretch"}),w.jsx("div",{className:"flex-1 flex flex-col justify-start pl-1",children:Nt().extensions.length>0?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:`grid ${$||le?"grid-cols-1":"grid-cols-2"}`,style:{gap:$?"3px":le?"4px":D?"6px":"5px",marginBottom:$?"2px":"4px",marginRight:le?"12px":void 0},children:Nt().extensions.map(Se=>w.jsxs("button",{className:`relative group ${$?"px-1 py-0.5 text-[8px] min-h-[20px]":le?"px-2 py-1.5 text-[9px] min-h-[26px]":D?"px-2 py-2 text-xs min-h-[36px]":"px-1.5 py-1 text-[10px]"} rounded font-semibold transition-colors touch-feedback text-center`,style:{width:$?"60px":le?"70px":D?"80px":"70px",...A===Se?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#f0f0f5",border:"1px solid rgba(255,255,255,0.08)"}},onClick:()=>mt(Se),onDoubleClick:()=>yt(Se),children:[Gs(`${k.root}${Se}`),!D&&je[Se]&&w.jsxs("span",{className:"pointer-events-none absolute -top-6 -translate-y-full left-1/2 -translate-x-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-1000 z-50 w-44 text-left",style:{backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[je[Se]?w.jsxs(w.Fragment,{children:[je[Se],w.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},Se))}),!le&&w.jsx("div",{style:{marginTop:$?"2px":"6px"},children:w.jsx(z5,{notes:tt,rootNote:k.root,color:Oe,numerals:tt.map(Se=>Ue(Se)),onNotePlay:Je,compact:!0})})]}):w.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[w.jsx(z5,{notes:tt,rootNote:k.root,color:Oe,numerals:tt.map(Se=>Ue(Se)),onNotePlay:Je,compact:!1}),w.jsxs("p",{className:`${$?"text-[8px]":D?"text-[10px]":"text-[9px]"} text-text-muted italic text-center mt-1`,children:["Out of key  see ",w.jsx("span",{className:"font-semibold text-text-secondary",children:"Voicings"})," below"]})]})})]})})]}),w.jsxs("div",{ref:_e,className:`${It?"px-3 py-1":D?"px-5 py-1 mt-2":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[w.jsxs("button",{onClick:()=>{const Se=!B;ie(Se),Se&&setTimeout(()=>et(_e),50)},className:`w-full flex items-center justify-between ${B?"mb-2":"mb-0"} cursor-pointer rounded-none`,style:{backgroundColor:"transparent"},children:[w.jsx("h3",{className:`${$?"text-[9px]":D?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide`,children:"Voicings"}),w.jsx(zf,{size:$?8:D?14:12,className:`text-text-secondary transition-transform ${B?"rotate-180":""}`})]}),B&&w.jsx("div",{className:`grid ${$?"grid-cols-4":D?"grid-cols-3":"grid-cols-2 sm:grid-cols-3"} ${$?"gap-2":D?"gap-3":"gap-2.5"}`,children:st.map((Se,lt)=>{const gt=lt%2===0?{left:"calc(100% + 10px)"}:{right:"calc(100% + 10px)"};return w.jsxs("button",{className:`relative group ${$?"px-1.5 py-1 min-h-[22px] text-[8px]":D?"px-3 py-3 min-h-[48px] text-xs":"px-2 py-1.5 text-[10px]"} rounded font-medium transition-colors touch-feedback`,style:A===Se?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#9898a6",border:"1px solid rgba(255,255,255,0.08)"},onClick:()=>mt(Se),onDoubleClick:()=>yt(Se),children:[Se,!D&&je[Se]&&w.jsxs("span",{className:"pointer-events-none absolute top-1/2 -translate-y-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-1000 z-50 w-44 text-left",style:{...gt,backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[je[Se]?w.jsxs(w.Fragment,{children:[je[Se],w.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},Se)})})]}),w.jsxs("div",{ref:qe,className:`${It?"px-3 py-1":D?"px-5 py-1 mt-2":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[w.jsxs("button",{onClick:()=>{const Se=!re;fe(Se),Se&&setTimeout(()=>et(qe),50)},className:`w-full flex items-center justify-between cursor-pointer ${re?"mb-3":"mb-0"} rounded-none`,style:{backgroundColor:"transparent"},children:[w.jsx("h3",{className:`${$?"text-[9px]":D?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide`,children:"Theory"}),w.jsx(zf,{size:$?8:D?14:12,className:`text-text-secondary transition-transform ${re?"rotate-180":""}`})]}),re&&w.jsx("div",{className:`${D?"p-3":"p-4"} bg-bg-elevated rounded-none`,children:w.jsx("p",{className:`${D?"text-sm":"text-xs"} text-text-secondary leading-relaxed`,children:Nt().description})})]})]}),D&&w.jsx("div",{className:"h-12 shrink-0"})]}):w.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:w.jsx("p",{className:`${D?"text-base":"text-sm"} text-text-muted text-center`,children:"Select a chord from the wheel or timeline"})})]})]})},a7="modulepreload",o7=function(r){return"/chord-wheel-writer/"+r},P5={},V1=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");a=f(t.map(d=>{if(d=o7(d),d in P5)return;P5[d]=!0;const m=d.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":a7,m||(_.as="script"),_.crossOrigin="",_.href=d,c&&_.setAttribute("nonce",c),document.head.appendChild(_),m)return new Promise((b,N)=>{_.addEventListener("load",b),_.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},K3=()=>{const{currentSong:r,isPlaying:e,tempo:t,volume:s,setTempo:a,setVolume:o,instrument:u,setInstrument:c,isMuted:f,toggleMute:d,toggleLoop:m,isLooping:y,playingSectionId:_,selectedSectionId:b}=An(),{isMobile:N,isLandscape:A}=Gp(),[E,T]=ae.useState(!1),[R,I]=ae.useState(!1),[q,V]=ae.useState(t.toString()),W=ae.useRef(null),[H,O]=ae.useState(!1),F=ae.useRef(null),J=ae.useRef(t),k=ae.useRef(null);ae.useEffect(()=>{p2(r)},[r]),ae.useEffect(()=>{X3(t)},[t]),ae.useEffect(()=>{d2(u)},[u]),ae.useEffect(()=>{$3()},[y,r,_,b]),ae.useEffect(()=>{V1(()=>Promise.resolve().then(()=>YT),void 0).then(z=>{T(!0),z.preloadAudio().finally(()=>T(!1))})},[]);const D=async()=>{try{await Hp(),e?(g2(),An.getState().setIsPlaying(!1)):(T(!0),await m2(),An.getState().setIsPlaying(!0))}catch(z){console.error("Playback error:",z)}finally{T(!1)}},Q=z=>{b2(z)},$=()=>{m()},le=[{value:"piano",label:"Piano"},{value:"epiano",label:"Electric Piano"},{value:"organ",label:"Organ"},{value:"pad",label:"Pad"},{value:"guitar",label:"Guitar"}];le.find(z=>z.value===u)||c("piano");const B=z=>{const ee=le.findIndex(oe=>oe.value===u);if(ee===-1){c("piano");return}const te=z==="next"?(ee+1)%le.length:(ee-1+le.length)%le.length;c(le[te].value)},ie=()=>{V(t.toString()),I(!0),setTimeout(()=>W.current?.focus(),0)},re=()=>{const z=parseInt(q,10);!isNaN(z)&&z>=40&&z<=240?a(z):V(t.toString()),I(!1)},fe=z=>{z.key==="Enter"?re():z.key==="Escape"&&(V(t.toString()),I(!1))},me=z=>{F.current=z.touches[0].clientX,J.current=t,O(!1),k.current=setTimeout(()=>{k.current=null},150)},G=z=>{if(F.current===null)return;const te=z.touches[0].clientX-F.current;if(Math.abs(te)>10){O(!0),k.current&&(clearTimeout(k.current),k.current=null);const oe=Math.round(te/3),de=Math.min(240,Math.max(40,J.current+oe));a(de)}},j=()=>{!H&&k.current&&(clearTimeout(k.current),ie()),F.current=null,O(!1),k.current=null};return w.jsxs("div",{"data-playback-controls":!0,className:`${N&&A?"h-8":N?"h-11":"h-12"} bg-bg-elevated border-t border-border-subtle flex items-center justify-between ${N?"px-2 gap-1":"px-6"}`,children:[w.jsxs("div",{className:"flex items-center gap-0.5",children:[w.jsx("button",{onClick:()=>Q("prev"),className:`${N&&A?"p-1":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:w.jsx(z3,{size:N&&A?12:16})}),w.jsx("button",{onClick:D,disabled:E,className:`${N&&A?"w-6 h-6":N?"w-8 h-8":"w-9 h-9"} rounded-full bg-accent-primary hover:bg-indigo-500 disabled:bg-accent-primary/50 flex items-center justify-center text-white shadow-md transition-all hover:scale-105 active:scale-95 touch-feedback`,children:E?w.jsx(F3,{size:N&&A?12:N?16:18,className:"animate-spin"}):e?w.jsx(B3,{size:N&&A?12:N?16:18,fill:"currentColor"}):w.jsx(Uh,{size:N&&A?12:N?16:18,fill:"currentColor",className:"ml-0.5"})}),w.jsx("button",{onClick:()=>Q("next"),className:`${N&&A?"p-1":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:w.jsx(P3,{size:N&&A?12:16})}),!N&&w.jsx("button",{onClick:$,className:`p-1.5 transition-colors ml-1 ${y?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,title:"Loop Section",children:w.jsx(q3,{size:14})})]}),w.jsx("div",{className:"flex items-center",children:N?R?w.jsx("input",{ref:W,type:"number",inputMode:"numeric",value:q,onChange:z=>V(z.target.value),onBlur:re,onKeyDown:fe,className:`${A?"w-10 text-[9px] h-4":"w-12 text-[11px] h-5"} bg-bg-tertiary border border-accent-primary rounded-sm px-1 text-center text-text-primary font-medium focus:outline-none`,min:40,max:240}):w.jsxs("div",{onTouchStart:me,onTouchMove:G,onTouchEnd:j,onClick:ie,className:`${A?"text-[9px] px-1.5 h-4":"text-[11px] px-2 h-5"} font-medium ${H?"text-accent-primary":"text-text-secondary"} hover:text-text-primary transition-colors touch-feedback whitespace-nowrap flex items-center cursor-ew-resize select-none`,children:[t," ",w.jsx("span",{className:`${H?"text-accent-primary/70":"text-text-muted"} ml-0.5`,children:"BPM"})]}):w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-text-secondary font-medium",children:"Tempo"}),w.jsx("input",{type:"number",value:t,onChange:z=>a(Number(z.target.value)),className:"w-14 bg-bg-tertiary border border-border-subtle rounded px-2 py-1 text-center text-text-primary text-[11px] font-medium",min:40,max:240}),w.jsx("span",{className:"text-text-muted",children:"BPM"})]})}),w.jsxs("div",{className:`flex items-center ${N?"gap-1.5":"gap-4"}`,children:[w.jsxs("div",{className:"flex items-center gap-1",children:[!N&&w.jsxs("div",{className:"flex items-center rounded bg-bg-tertiary/60 border border-border-subtle/70 h-7",children:[w.jsx("button",{onClick:()=>B("prev"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-l transition-colors flex items-center",title:"Previous instrument",children:w.jsx(Rh,{size:12})}),w.jsx("button",{onClick:()=>B("next"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-r transition-colors flex items-center",title:"Next instrument",children:w.jsx(Dh,{size:12})})]}),N&&!A&&w.jsx(Jf,{size:14,className:"text-text-muted"}),w.jsx("select",{value:u,onChange:z=>c(z.target.value),className:`bg-bg-tertiary border border-border-subtle rounded ${N&&A?"px-3 py-1 h-6 text-[7px] min-w-[60px]":N?"px-1.5 h-7 text-[11px] min-w-[70px]":"px-2 h-7 text-[10px] min-w-[130px]"} text-text-secondary focus:outline-none focus:border-accent-primary cursor-pointer`,children:le.map(z=>w.jsx("option",{value:z.value,children:z.label},z.value))})]}),w.jsxs("div",{className:`flex items-center ${N?"":"gap-2 w-28"}`,children:[w.jsx("button",{onClick:d,className:`${N?"p-1.5":"p-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center rounded`,title:f?"Unmute":"Mute",children:f||s===0?w.jsx(HT,{size:N?16:14}):w.jsx(sg,{size:N?16:14})}),!N&&w.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f?0:s,onChange:z=>{f&&d(),o(Number(z.target.value))},className:`w-full h-1 bg-bg-tertiary rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2.5 [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:bg-accent-primary [&::-webkit-slider-thumb]:rounded-full ${f?"opacity-50":""}`})]})]})]})};function l7(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return ae.useMemo(()=>s=>{e.forEach(a=>a(s))},e)}const Wp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Hh(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function y2(r){return"nodeType"in r}function qi(r){var e,t;return r?Hh(r)?r:y2(r)&&(e=(t=r.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function x2(r){const{Document:e}=qi(r);return r instanceof e}function wd(r){return Hh(r)?!1:r instanceof qi(r).HTMLElement}function J3(r){return r instanceof qi(r).SVGElement}function Gh(r){return r?Hh(r)?r.document:y2(r)?x2(r)?r:wd(r)||J3(r)?r.ownerDocument:document:document:document}const qo=Wp?ae.useLayoutEffect:ae.useEffect;function w2(r){const e=ae.useRef(r);return qo(()=>{e.current=r}),ae.useCallback(function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e.current==null?void 0:e.current(...s)},[])}function c7(){const r=ae.useRef(null),e=ae.useCallback((s,a)=>{r.current=setInterval(s,a)},[]),t=ae.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,t]}function nd(r,e){e===void 0&&(e=[r]);const t=ae.useRef(r);return qo(()=>{t.current!==r&&(t.current=r)},e),t}function _d(r,e){const t=ae.useRef();return ae.useMemo(()=>{const s=r(t.current);return t.current=s,s},[...e])}function mp(r){const e=w2(r),t=ae.useRef(null),s=ae.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,s]}function lg(r){const e=ae.useRef();return ae.useEffect(()=>{e.current=r},[r]),e.current}let xm={};function Sd(r,e){return ae.useMemo(()=>{if(e)return e;const t=xm[r]==null?0:xm[r]+1;return xm[r]=t,r+"-"+t},[r,e])}function ew(r){return function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return s.reduce((o,u)=>{const c=Object.entries(u);for(const[f,d]of c){const m=o[f];m!=null&&(o[f]=m+r*d)}return o},{...e})}}const Nh=ew(1),rd=ew(-1);function u7(r){return"clientX"in r&&"clientY"in r}function _2(r){if(!r)return!1;const{KeyboardEvent:e}=qi(r.target);return e&&r instanceof e}function h7(r){if(!r)return!1;const{TouchEvent:e}=qi(r.target);return e&&r instanceof e}function cg(r){if(h7(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:t}=r.touches[0];return{x:e,y:t}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:t}=r.changedTouches[0];return{x:e,y:t}}}return u7(r)?{x:r.clientX,y:r.clientY}:null}const sd=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:t}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:t}=r;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(r){if(r)return[sd.Translate.toString(r),sd.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:t,easing:s}=r;return e+" "+t+"ms "+s}}}),U5="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function f7(r){return r.matches(U5)?r:r.querySelector(U5)}const d7={display:"none"};function p7(r){let{id:e,value:t}=r;return Xn.createElement("div",{id:e,style:d7},t)}function m7(r){let{id:e,announcement:t,ariaLiveType:s="assertive"}=r;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Xn.createElement("div",{id:e,style:a,role:"status","aria-live":s,"aria-atomic":!0},t)}function g7(){const[r,e]=ae.useState("");return{announce:ae.useCallback(s=>{s!=null&&e(s)},[]),announcement:r}}const tw=ae.createContext(null);function b7(r){const e=ae.useContext(tw);ae.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function v7(){const[r]=ae.useState(()=>new Set),e=ae.useCallback(s=>(r.add(s),()=>r.delete(s)),[r]);return[ae.useCallback(s=>{let{type:a,event:o}=s;r.forEach(u=>{var c;return(c=u[a])==null?void 0:c.call(u,o)})},[r]),e]}const y7={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},x7={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function w7(r){let{announcements:e=x7,container:t,hiddenTextDescribedById:s,screenReaderInstructions:a=y7}=r;const{announce:o,announcement:u}=g7(),c=Sd("DndLiveRegion"),[f,d]=ae.useState(!1);if(ae.useEffect(()=>{d(!0)},[]),b7(ae.useMemo(()=>({onDragStart(y){let{active:_}=y;o(e.onDragStart({active:_}))},onDragMove(y){let{active:_,over:b}=y;e.onDragMove&&o(e.onDragMove({active:_,over:b}))},onDragOver(y){let{active:_,over:b}=y;o(e.onDragOver({active:_,over:b}))},onDragEnd(y){let{active:_,over:b}=y;o(e.onDragEnd({active:_,over:b}))},onDragCancel(y){let{active:_,over:b}=y;o(e.onDragCancel({active:_,over:b}))}}),[o,e])),!f)return null;const m=Xn.createElement(Xn.Fragment,null,Xn.createElement(p7,{id:s,value:a.draggable}),Xn.createElement(m7,{id:c,announcement:u}));return t?uu.createPortal(m,t):m}var xs;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(xs||(xs={}));function gp(){}function H5(r,e){return ae.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function _7(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return ae.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const co=Object.freeze({x:0,y:0});function nw(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function rw(r,e){let{data:{value:t}}=r,{data:{value:s}}=e;return t-s}function S7(r,e){let{data:{value:t}}=r,{data:{value:s}}=e;return s-t}function G5(r){let{left:e,top:t,height:s,width:a}=r;return[{x:e,y:t},{x:e+a,y:t},{x:e,y:t+s},{x:e+a,y:t+s}]}function sw(r,e){if(!r||r.length===0)return null;const[t]=r;return t[e]}function W5(r,e,t){return e===void 0&&(e=r.left),t===void 0&&(t=r.top),{x:e+r.width*.5,y:t+r.height*.5}}const N7=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=r;const a=W5(e,e.left,e.top),o=[];for(const u of s){const{id:c}=u,f=t.get(c);if(f){const d=nw(W5(f),a);o.push({id:c,data:{droppableContainer:u,value:d}})}}return o.sort(rw)},A7=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=r;const a=G5(e),o=[];for(const u of s){const{id:c}=u,f=t.get(c);if(f){const d=G5(f),m=a.reduce((_,b,N)=>_+nw(d[N],b),0),y=Number((m/4).toFixed(4));o.push({id:c,data:{droppableContainer:u,value:y}})}}return o.sort(rw)};function C7(r,e){const t=Math.max(e.top,r.top),s=Math.max(e.left,r.left),a=Math.min(e.left+e.width,r.left+r.width),o=Math.min(e.top+e.height,r.top+r.height),u=a-s,c=o-t;if(s<a&&t<o){const f=e.width*e.height,d=r.width*r.height,m=u*c,y=m/(f+d-m);return Number(y.toFixed(4))}return 0}const T7=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=r;const a=[];for(const o of s){const{id:u}=o,c=t.get(u);if(c){const f=C7(c,e);f>0&&a.push({id:u,data:{droppableContainer:o,value:f}})}}return a.sort(S7)};function k7(r,e,t){return{...r,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function iw(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:co}function E7(r){return function(t){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];return a.reduce((u,c)=>({...u,top:u.top+r*c.y,bottom:u.bottom+r*c.y,left:u.left+r*c.x,right:u.right+r*c.x}),{...t})}}const j7=E7(1);function M7(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function L7(r,e,t){const s=M7(e);if(!s)return r;const{scaleX:a,scaleY:o,x:u,y:c}=s,f=r.left-u-(1-a)*parseFloat(t),d=r.top-c-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),m=a?r.width/a:r.width,y=o?r.height/o:r.height;return{width:m,height:y,top:d,right:f+m,bottom:d+y,left:f}}const O7={ignoreTransform:!1};function Wh(r,e){e===void 0&&(e=O7);let t=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:m}=qi(r).getComputedStyle(r);d&&(t=L7(t,d,m))}const{top:s,left:a,width:o,height:u,bottom:c,right:f}=t;return{top:s,left:a,width:o,height:u,bottom:c,right:f}}function Y5(r){return Wh(r,{ignoreTransform:!0})}function D7(r){const e=r.innerWidth,t=r.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function R7(r,e){return e===void 0&&(e=qi(r).getComputedStyle(r)),e.position==="fixed"}function I7(r,e){e===void 0&&(e=qi(r).getComputedStyle(r));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?t.test(o):!1})}function Yp(r,e){const t=[];function s(a){if(e!=null&&t.length>=e||!a)return t;if(x2(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!wd(a)||J3(a)||t.includes(a))return t;const o=qi(r).getComputedStyle(a);return a!==r&&I7(a,o)&&t.push(a),R7(a,o)?t:s(a.parentNode)}return r?s(r):t}function aw(r){const[e]=Yp(r,1);return e??null}function wm(r){return!Wp||!r?null:Hh(r)?r:y2(r)?x2(r)||r===Gh(r).scrollingElement?window:wd(r)?r:null:null}function ow(r){return Hh(r)?r.scrollX:r.scrollLeft}function lw(r){return Hh(r)?r.scrollY:r.scrollTop}function ug(r){return{x:ow(r),y:lw(r)}}var Os;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(Os||(Os={}));function cw(r){return!Wp||!r?!1:r===document.scrollingElement}function uw(r){const e={x:0,y:0},t=cw(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},s={x:r.scrollWidth-t.width,y:r.scrollHeight-t.height},a=r.scrollTop<=e.y,o=r.scrollLeft<=e.x,u=r.scrollTop>=s.y,c=r.scrollLeft>=s.x;return{isTop:a,isLeft:o,isBottom:u,isRight:c,maxScroll:s,minScroll:e}}const F7={x:.2,y:.2};function V7(r,e,t,s,a){let{top:o,left:u,right:c,bottom:f}=t;s===void 0&&(s=10),a===void 0&&(a=F7);const{isTop:d,isBottom:m,isLeft:y,isRight:_}=uw(r),b={x:0,y:0},N={x:0,y:0},A={height:e.height*a.y,width:e.width*a.x};return!d&&o<=e.top+A.height?(b.y=Os.Backward,N.y=s*Math.abs((e.top+A.height-o)/A.height)):!m&&f>=e.bottom-A.height&&(b.y=Os.Forward,N.y=s*Math.abs((e.bottom-A.height-f)/A.height)),!_&&c>=e.right-A.width?(b.x=Os.Forward,N.x=s*Math.abs((e.right-A.width-c)/A.width)):!y&&u<=e.left+A.width&&(b.x=Os.Backward,N.x=s*Math.abs((e.left+A.width-u)/A.width)),{direction:b,speed:N}}function B7(r){if(r===document.scrollingElement){const{innerWidth:o,innerHeight:u}=window;return{top:0,left:0,right:o,bottom:u,width:o,height:u}}const{top:e,left:t,right:s,bottom:a}=r.getBoundingClientRect();return{top:e,left:t,right:s,bottom:a,width:r.clientWidth,height:r.clientHeight}}function hw(r){return r.reduce((e,t)=>Nh(e,ug(t)),co)}function q7(r){return r.reduce((e,t)=>e+ow(t),0)}function z7(r){return r.reduce((e,t)=>e+lw(t),0)}function P7(r,e){if(e===void 0&&(e=Wh),!r)return;const{top:t,left:s,bottom:a,right:o}=e(r);aw(r)&&(a<=0||o<=0||t>=window.innerHeight||s>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const U7=[["x",["left","right"],q7],["y",["top","bottom"],z7]];class S2{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Yp(t),a=hw(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,u,c]of U7)for(const f of u)Object.defineProperty(this,f,{get:()=>{const d=c(s),m=a[o]-d;return this.rect[f]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Pf{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...t)})},this.target=e}add(e,t,s){var a;(a=this.target)==null||a.addEventListener(e,t,s),this.listeners.push([e,t,s])}}function H7(r){const{EventTarget:e}=qi(r);return r instanceof e?r:Gh(r)}function _m(r,e){const t=Math.abs(r.x),s=Math.abs(r.y);return typeof e=="number"?Math.sqrt(t**2+s**2)>e:"x"in e&&"y"in e?t>e.x&&s>e.y:"x"in e?t>e.x:"y"in e?s>e.y:!1}var Ca;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(Ca||(Ca={}));function X5(r){r.preventDefault()}function G7(r){r.stopPropagation()}var Dn;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Dn||(Dn={}));const fw={start:[Dn.Space,Dn.Enter],cancel:[Dn.Esc],end:[Dn.Space,Dn.Enter,Dn.Tab]},W7=(r,e)=>{let{currentCoordinates:t}=e;switch(r.code){case Dn.Right:return{...t,x:t.x+25};case Dn.Left:return{...t,x:t.x-25};case Dn.Down:return{...t,y:t.y+25};case Dn.Up:return{...t,y:t.y-25}}};class N2{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Pf(Gh(t)),this.windowListeners=new Pf(qi(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ca.Resize,this.handleCancel),this.windowListeners.add(Ca.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ca.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,s=e.node.current;s&&P7(s),t(co)}handleKeyDown(e){if(_2(e)){const{active:t,context:s,options:a}=this.props,{keyboardCodes:o=fw,coordinateGetter:u=W7,scrollBehavior:c="smooth"}=a,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:d}=s.current,m=d?{x:d.left,y:d.top}:co;this.referenceCoordinates||(this.referenceCoordinates=m);const y=u(e,{active:t,context:s.current,currentCoordinates:m});if(y){const _=rd(y,m),b={x:0,y:0},{scrollableAncestors:N}=s.current;for(const A of N){const E=e.code,{isTop:T,isRight:R,isLeft:I,isBottom:q,maxScroll:V,minScroll:W}=uw(A),H=B7(A),O={x:Math.min(E===Dn.Right?H.right-H.width/2:H.right,Math.max(E===Dn.Right?H.left:H.left+H.width/2,y.x)),y:Math.min(E===Dn.Down?H.bottom-H.height/2:H.bottom,Math.max(E===Dn.Down?H.top:H.top+H.height/2,y.y))},F=E===Dn.Right&&!R||E===Dn.Left&&!I,J=E===Dn.Down&&!q||E===Dn.Up&&!T;if(F&&O.x!==y.x){const k=A.scrollLeft+_.x,D=E===Dn.Right&&k<=V.x||E===Dn.Left&&k>=W.x;if(D&&!_.y){A.scrollTo({left:k,behavior:c});return}D?b.x=A.scrollLeft-k:b.x=E===Dn.Right?A.scrollLeft-V.x:A.scrollLeft-W.x,b.x&&A.scrollBy({left:-b.x,behavior:c});break}else if(J&&O.y!==y.y){const k=A.scrollTop+_.y,D=E===Dn.Down&&k<=V.y||E===Dn.Up&&k>=W.y;if(D&&!_.x){A.scrollTo({top:k,behavior:c});return}D?b.y=A.scrollTop-k:b.y=E===Dn.Down?A.scrollTop-V.y:A.scrollTop-W.y,b.y&&A.scrollBy({top:-b.y,behavior:c});break}}this.handleMove(e,Nh(rd(y,this.referenceCoordinates),b))}}}handleMove(e,t){const{onMove:s}=this.props;e.preventDefault(),s(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}N2.activators=[{eventName:"onKeyDown",handler:(r,e,t)=>{let{keyboardCodes:s=fw,onActivation:a}=e,{active:o}=t;const{code:u}=r.nativeEvent;if(s.start.includes(u)){const c=o.activatorNode.current;return c&&r.target!==c?!1:(r.preventDefault(),a?.({event:r.nativeEvent}),!0)}return!1}}];function $5(r){return!!(r&&"distance"in r)}function Z5(r){return!!(r&&"delay"in r)}class A2{constructor(e,t,s){var a;s===void 0&&(s=H7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:u}=o;this.props=e,this.events=t,this.document=Gh(u),this.documentListeners=new Pf(this.document),this.listeners=new Pf(s),this.windowListeners=new Pf(qi(u)),this.initialCoordinates=(a=cg(o))!=null?a:co,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ca.Resize,this.handleCancel),this.windowListeners.add(Ca.DragStart,X5),this.windowListeners.add(Ca.VisibilityChange,this.handleCancel),this.windowListeners.add(Ca.ContextMenu,X5),this.documentListeners.add(Ca.Keydown,this.handleKeydown),t){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Z5(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if($5(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:s,onPending:a}=this.props;a(s,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ca.Click,G7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ca.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:s,initialCoordinates:a,props:o}=this,{onMove:u,options:{activationConstraint:c}}=o;if(!a)return;const f=(t=cg(e))!=null?t:co,d=rd(a,f);if(!s&&c){if($5(c)){if(c.tolerance!=null&&_m(d,c.tolerance))return this.handleCancel();if(_m(d,c.distance))return this.handleStart()}if(Z5(c)&&_m(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),u(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Dn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Y7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class C2 extends A2{constructor(e){const{event:t}=e,s=Gh(t.target);super(e,Y7,s)}}C2.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:s}=e;return!t.isPrimary||t.button!==0?!1:(s?.({event:t}),!0)}}];const X7={move:{name:"mousemove"},end:{name:"mouseup"}};var hg;(function(r){r[r.RightClick=2]="RightClick"})(hg||(hg={}));class $7 extends A2{constructor(e){super(e,X7,Gh(e.event.target))}}$7.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:s}=e;return t.button===hg.RightClick?!1:(s?.({event:t}),!0)}}];const Sm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Z7 extends A2{constructor(e){super(e,Sm)}static setup(){return window.addEventListener(Sm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Sm.move.name,e)};function e(){}}}Z7.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:s}=e;const{touches:a}=t;return a.length>1?!1:(s?.({event:t}),!0)}}];var Uf;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(Uf||(Uf={}));var bp;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(bp||(bp={}));function Q7(r){let{acceleration:e,activator:t=Uf.Pointer,canScroll:s,draggingRect:a,enabled:o,interval:u=5,order:c=bp.TreeOrder,pointerCoordinates:f,scrollableAncestors:d,scrollableAncestorRects:m,delta:y,threshold:_}=r;const b=J7({delta:y,disabled:!o}),[N,A]=c7(),E=ae.useRef({x:0,y:0}),T=ae.useRef({x:0,y:0}),R=ae.useMemo(()=>{switch(t){case Uf.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Uf.DraggableRect:return a}},[t,a,f]),I=ae.useRef(null),q=ae.useCallback(()=>{const W=I.current;if(!W)return;const H=E.current.x*T.current.x,O=E.current.y*T.current.y;W.scrollBy(H,O)},[]),V=ae.useMemo(()=>c===bp.TreeOrder?[...d].reverse():d,[c,d]);ae.useEffect(()=>{if(!o||!d.length||!R){A();return}for(const W of V){if(s?.(W)===!1)continue;const H=d.indexOf(W),O=m[H];if(!O)continue;const{direction:F,speed:J}=V7(W,O,R,e,_);for(const k of["x","y"])b[k][F[k]]||(J[k]=0,F[k]=0);if(J.x>0||J.y>0){A(),I.current=W,N(q,u),E.current=J,T.current=F;return}}E.current={x:0,y:0},T.current={x:0,y:0},A()},[e,q,s,A,o,u,JSON.stringify(R),JSON.stringify(b),N,d,V,m,JSON.stringify(_)])}const K7={x:{[Os.Backward]:!1,[Os.Forward]:!1},y:{[Os.Backward]:!1,[Os.Forward]:!1}};function J7(r){let{delta:e,disabled:t}=r;const s=lg(e);return _d(a=>{if(t||!s||!a)return K7;const o={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Os.Backward]:a.x[Os.Backward]||o.x===-1,[Os.Forward]:a.x[Os.Forward]||o.x===1},y:{[Os.Backward]:a.y[Os.Backward]||o.y===-1,[Os.Forward]:a.y[Os.Forward]||o.y===1}}},[t,e,s])}function ek(r,e){const t=e!=null?r.get(e):void 0,s=t?t.node.current:null;return _d(a=>{var o;return e==null?null:(o=s??a)!=null?o:null},[s,e])}function tk(r,e){return ae.useMemo(()=>r.reduce((t,s)=>{const{sensor:a}=s,o=a.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,s)}));return[...t,...o]},[]),[r,e])}var id;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(id||(id={}));var fg;(function(r){r.Optimized="optimized"})(fg||(fg={}));const Q5=new Map;function nk(r,e){let{dragging:t,dependencies:s,config:a}=e;const[o,u]=ae.useState(null),{frequency:c,measure:f,strategy:d}=a,m=ae.useRef(r),y=E(),_=nd(y),b=ae.useCallback(function(T){T===void 0&&(T=[]),!_.current&&u(R=>R===null?T:R.concat(T.filter(I=>!R.includes(I))))},[_]),N=ae.useRef(null),A=_d(T=>{if(y&&!t)return Q5;if(!T||T===Q5||m.current!==r||o!=null){const R=new Map;for(let I of r){if(!I)continue;if(o&&o.length>0&&!o.includes(I.id)&&I.rect.current){R.set(I.id,I.rect.current);continue}const q=I.node.current,V=q?new S2(f(q),q):null;I.rect.current=V,V&&R.set(I.id,V)}return R}return T},[r,o,t,y,f]);return ae.useEffect(()=>{m.current=r},[r]),ae.useEffect(()=>{y||b()},[t,y]),ae.useEffect(()=>{o&&o.length>0&&u(null)},[JSON.stringify(o)]),ae.useEffect(()=>{y||typeof c!="number"||N.current!==null||(N.current=setTimeout(()=>{b(),N.current=null},c))},[c,y,b,...s]),{droppableRects:A,measureDroppableContainers:b,measuringScheduled:o!=null};function E(){switch(d){case id.Always:return!1;case id.BeforeDragging:return t;default:return!t}}}function dw(r,e){return _d(t=>r?t||(typeof e=="function"?e(r):r):null,[e,r])}function rk(r,e){return dw(r,e)}function sk(r){let{callback:e,disabled:t}=r;const s=w2(e),a=ae.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(s)},[s,t]);return ae.useEffect(()=>()=>a?.disconnect(),[a]),a}function Xp(r){let{callback:e,disabled:t}=r;const s=w2(e),a=ae.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(s)},[t]);return ae.useEffect(()=>()=>a?.disconnect(),[a]),a}function ik(r){return new S2(Wh(r),r)}function K5(r,e,t){e===void 0&&(e=ik);const[s,a]=ae.useState(null);function o(){a(f=>{if(!r)return null;if(r.isConnected===!1){var d;return(d=f??t)!=null?d:null}const m=e(r);return JSON.stringify(f)===JSON.stringify(m)?f:m})}const u=sk({callback(f){if(r)for(const d of f){const{type:m,target:y}=d;if(m==="childList"&&y instanceof HTMLElement&&y.contains(r)){o();break}}}}),c=Xp({callback:o});return qo(()=>{o(),r?(c?.observe(r),u?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),u?.disconnect())},[r]),s}function ak(r){const e=dw(r);return iw(r,e)}const J5=[];function ok(r){const e=ae.useRef(r),t=_d(s=>r?s&&s!==J5&&r&&e.current&&r.parentNode===e.current.parentNode?s:Yp(r):J5,[r]);return ae.useEffect(()=>{e.current=r},[r]),t}function lk(r){const[e,t]=ae.useState(null),s=ae.useRef(r),a=ae.useCallback(o=>{const u=wm(o.target);u&&t(c=>c?(c.set(u,ug(u)),new Map(c)):null)},[]);return ae.useEffect(()=>{const o=s.current;if(r!==o){u(o);const c=r.map(f=>{const d=wm(f);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,ug(d)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),s.current=r}return()=>{u(r),u(o)};function u(c){c.forEach(f=>{const d=wm(f);d?.removeEventListener("scroll",a)})}},[a,r]),ae.useMemo(()=>r.length?e?Array.from(e.values()).reduce((o,u)=>Nh(o,u),co):hw(r):co,[r,e])}function ey(r,e){e===void 0&&(e=[]);const t=ae.useRef(null);return ae.useEffect(()=>{t.current=null},e),ae.useEffect(()=>{const s=r!==co;s&&!t.current&&(t.current=r),!s&&t.current&&(t.current=null)},[r]),t.current?rd(r,t.current):co}function ck(r){ae.useEffect(()=>{if(!Wp)return;const e=r.map(t=>{let{sensor:s}=t;return s.setup==null?void 0:s.setup()});return()=>{for(const t of e)t?.()}},r.map(e=>{let{sensor:t}=e;return t}))}function uk(r,e){return ae.useMemo(()=>r.reduce((t,s)=>{let{eventName:a,handler:o}=s;return t[a]=u=>{o(u,e)},t},{}),[r,e])}function pw(r){return ae.useMemo(()=>r?D7(r):null,[r])}const ty=[];function hk(r,e){e===void 0&&(e=Wh);const[t]=r,s=pw(t?qi(t):null),[a,o]=ae.useState(ty);function u(){o(()=>r.length?r.map(f=>cw(f)?s:new S2(e(f),f)):ty)}const c=Xp({callback:u});return qo(()=>{c?.disconnect(),u(),r.forEach(f=>c?.observe(f))},[r]),a}function fk(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return wd(e)?e:r}function dk(r){let{measure:e}=r;const[t,s]=ae.useState(null),a=ae.useCallback(d=>{for(const{target:m}of d)if(wd(m)){s(y=>{const _=e(m);return y?{...y,width:_.width,height:_.height}:_});break}},[e]),o=Xp({callback:a}),u=ae.useCallback(d=>{const m=fk(d);o?.disconnect(),m&&o?.observe(m),s(m?e(m):null)},[e,o]),[c,f]=mp(u);return ae.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const pk=[{sensor:C2,options:{}},{sensor:N2,options:{}}],mk={current:{}},B1={draggable:{measure:Y5},droppable:{measure:Y5,strategy:id.WhileDragging,frequency:fg.Optimized},dragOverlay:{measure:Wh}};class Hf extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,s;return(t=(s=this.get(e))==null?void 0:s.node.current)!=null?t:void 0}}const gk={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Hf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:gp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:B1,measureDroppableContainers:gp,windowRect:null,measuringScheduled:!1},bk={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:gp,draggableNodes:new Map,over:null,measureDroppableContainers:gp},$p=ae.createContext(bk),mw=ae.createContext(gk);function vk(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Hf}}}function yk(r,e){switch(e.type){case xs.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case xs.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case xs.DragEnd:case xs.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case xs.RegisterDroppable:{const{element:t}=e,{id:s}=t,a=new Hf(r.droppable.containers);return a.set(s,t),{...r,droppable:{...r.droppable,containers:a}}}case xs.SetDroppableDisabled:{const{id:t,key:s,disabled:a}=e,o=r.droppable.containers.get(t);if(!o||s!==o.key)return r;const u=new Hf(r.droppable.containers);return u.set(t,{...o,disabled:a}),{...r,droppable:{...r.droppable,containers:u}}}case xs.UnregisterDroppable:{const{id:t,key:s}=e,a=r.droppable.containers.get(t);if(!a||s!==a.key)return r;const o=new Hf(r.droppable.containers);return o.delete(t),{...r,droppable:{...r.droppable,containers:o}}}default:return r}}function xk(r){let{disabled:e}=r;const{active:t,activatorEvent:s,draggableNodes:a}=ae.useContext($p),o=lg(s),u=lg(t?.id);return ae.useEffect(()=>{if(!e&&!s&&o&&u!=null){if(!_2(o)||document.activeElement===o.target)return;const c=a.get(u);if(!c)return;const{activatorNode:f,node:d}=c;if(!f.current&&!d.current)return;requestAnimationFrame(()=>{for(const m of[f.current,d.current]){if(!m)continue;const y=f7(m);if(y){y.focus();break}}})}},[s,e,a,u,o]),null}function wk(r,e){let{transform:t,...s}=e;return r!=null&&r.length?r.reduce((a,o)=>o({transform:a,...s}),t):t}function _k(r){return ae.useMemo(()=>({draggable:{...B1.draggable,...r?.draggable},droppable:{...B1.droppable,...r?.droppable},dragOverlay:{...B1.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function Sk(r){let{activeNode:e,measure:t,initialRect:s,config:a=!0}=r;const o=ae.useRef(!1),{x:u,y:c}=typeof a=="boolean"?{x:a,y:a}:a;qo(()=>{if(!u&&!c||!e){o.current=!1;return}if(o.current||!s)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const m=t(d),y=iw(m,s);if(u||(y.x=0),c||(y.y=0),o.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const _=aw(d);_&&_.scrollBy({top:y.y,left:y.x})}},[e,u,c,s,t])}const gw=ae.createContext({...co,scaleX:1,scaleY:1});var gc;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(gc||(gc={}));const Nk=ae.memo(function(e){var t,s,a,o;let{id:u,accessibility:c,autoScroll:f=!0,children:d,sensors:m=pk,collisionDetection:y=T7,measuring:_,modifiers:b,...N}=e;const A=ae.useReducer(yk,void 0,vk),[E,T]=A,[R,I]=v7(),[q,V]=ae.useState(gc.Uninitialized),W=q===gc.Initialized,{draggable:{active:H,nodes:O,translate:F},droppable:{containers:J}}=E,k=H!=null?O.get(H):null,D=ae.useRef({initial:null,translated:null}),Q=ae.useMemo(()=>{var St;return H!=null?{id:H,data:(St=k?.data)!=null?St:mk,rect:D}:null},[H,k]),$=ae.useRef(null),[le,B]=ae.useState(null),[ie,re]=ae.useState(null),fe=nd(N,Object.values(N)),me=Sd("DndDescribedBy",u),G=ae.useMemo(()=>J.getEnabled(),[J]),j=_k(_),{droppableRects:z,measureDroppableContainers:ee,measuringScheduled:te}=nk(G,{dragging:W,dependencies:[F.x,F.y],config:j.droppable}),oe=ek(O,H),de=ae.useMemo(()=>ie?cg(ie):null,[ie]),pe=en(),ve=rk(oe,j.draggable.measure);Sk({activeNode:H!=null?O.get(H):null,config:pe.layoutShiftCompensation,initialRect:ve,measure:j.draggable.measure});const _e=K5(oe,j.draggable.measure,ve),qe=K5(oe?oe.parentElement:null),Xe=ae.useRef({activatorEvent:null,active:null,activeNode:oe,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:J,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),et=J.getNodeFor((t=Xe.current.over)==null?void 0:t.id),ut=dk({measure:j.dragOverlay.measure}),Y=(s=ut.nodeRef.current)!=null?s:oe,Ie=W?(a=ut.rect)!=null?a:_e:null,pt=!!(ut.nodeRef.current&&ut.rect),Je=ak(pt?null:_e),je=pw(Y?qi(Y):null),st=ok(W?et??oe:null),Ue=hk(st),nt=wk(b,{transform:{x:F.x-Je.x,y:F.y-Je.y,scaleX:1,scaleY:1},activatorEvent:ie,active:Q,activeNodeRect:_e,containerNodeRect:qe,draggingNodeRect:Ie,over:Xe.current.over,overlayNodeRect:ut.rect,scrollableAncestors:st,scrollableAncestorRects:Ue,windowRect:je}),Oe=de?Nh(de,F):null,$e=lk(st),tt=ey($e),at=ey($e,[_e]),mt=Nh(nt,tt),yt=Ie?j7(Ie,nt):null,ot=Q&&yt?y({active:Q,collisionRect:yt,droppableRects:z,droppableContainers:G,pointerCoordinates:Oe}):null,kt=sw(ot,"id"),[ft,mn]=ae.useState(null),Gt=pt?nt:Nh(nt,at),Nt=k7(Gt,(o=ft?.rect)!=null?o:null,_e),Lt=ae.useRef(null),It=ae.useCallback((St,bt)=>{let{sensor:qt,options:De}=bt;if($.current==null)return;const ht=O.get($.current);if(!ht)return;const vt=St.nativeEvent,Ot=new qt({active:$.current,activeNode:ht,event:vt,options:De,context:Xe,onAbort(Kt){if(!O.get(Kt))return;const{onDragAbort:bn}=fe.current,dn={id:Kt};bn?.(dn),R({type:"onDragAbort",event:dn})},onPending(Kt,gn,bn,dn){if(!O.get(Kt))return;const{onDragPending:Te}=fe.current,Fe={id:Kt,constraint:gn,initialCoordinates:bn,offset:dn};Te?.(Fe),R({type:"onDragPending",event:Fe})},onStart(Kt){const gn=$.current;if(gn==null)return;const bn=O.get(gn);if(!bn)return;const{onDragStart:dn}=fe.current,sn={activatorEvent:vt,active:{id:gn,data:bn.data,rect:D}};uu.unstable_batchedUpdates(()=>{dn?.(sn),V(gc.Initializing),T({type:xs.DragStart,initialCoordinates:Kt,active:gn}),R({type:"onDragStart",event:sn}),B(Lt.current),re(vt)})},onMove(Kt){T({type:xs.DragMove,coordinates:Kt})},onEnd:it(xs.DragEnd),onCancel:it(xs.DragCancel)});Lt.current=Ot;function it(Kt){return async function(){const{active:bn,collisions:dn,over:sn,scrollAdjustedTranslate:Te}=Xe.current;let Fe=null;if(bn&&Te){const{cancelDrop:Qe}=fe.current;Fe={activatorEvent:vt,active:bn,collisions:dn,delta:Te,over:sn},Kt===xs.DragEnd&&typeof Qe=="function"&&await Promise.resolve(Qe(Fe))&&(Kt=xs.DragCancel)}$.current=null,uu.unstable_batchedUpdates(()=>{T({type:Kt}),V(gc.Uninitialized),mn(null),B(null),re(null),Lt.current=null;const Qe=Kt===xs.DragEnd?"onDragEnd":"onDragCancel";if(Fe){const xt=fe.current[Qe];xt?.(Fe),R({type:Qe,event:Fe})}})}}},[O]),Se=ae.useCallback((St,bt)=>(qt,De)=>{const ht=qt.nativeEvent,vt=O.get(De);if($.current!==null||!vt||ht.dndKit||ht.defaultPrevented)return;const Ot={active:vt};St(qt,bt.options,Ot)===!0&&(ht.dndKit={capturedBy:bt.sensor},$.current=De,It(qt,bt))},[O,It]),lt=tk(m,Se);ck(m),qo(()=>{_e&&q===gc.Initializing&&V(gc.Initialized)},[_e,q]),ae.useEffect(()=>{const{onDragMove:St}=fe.current,{active:bt,activatorEvent:qt,collisions:De,over:ht}=Xe.current;if(!bt||!qt)return;const vt={active:bt,activatorEvent:qt,collisions:De,delta:{x:mt.x,y:mt.y},over:ht};uu.unstable_batchedUpdates(()=>{St?.(vt),R({type:"onDragMove",event:vt})})},[mt.x,mt.y]),ae.useEffect(()=>{const{active:St,activatorEvent:bt,collisions:qt,droppableContainers:De,scrollAdjustedTranslate:ht}=Xe.current;if(!St||$.current==null||!bt||!ht)return;const{onDragOver:vt}=fe.current,Ot=De.get(kt),it=Ot&&Ot.rect.current?{id:Ot.id,rect:Ot.rect.current,data:Ot.data,disabled:Ot.disabled}:null,Kt={active:St,activatorEvent:bt,collisions:qt,delta:{x:ht.x,y:ht.y},over:it};uu.unstable_batchedUpdates(()=>{mn(it),vt?.(Kt),R({type:"onDragOver",event:Kt})})},[kt]),qo(()=>{Xe.current={activatorEvent:ie,active:Q,activeNode:oe,collisionRect:yt,collisions:ot,droppableRects:z,draggableNodes:O,draggingNode:Y,draggingNodeRect:Ie,droppableContainers:J,over:ft,scrollableAncestors:st,scrollAdjustedTranslate:mt},D.current={initial:Ie,translated:yt}},[Q,oe,ot,yt,O,Y,Ie,z,J,ft,st,mt]),Q7({...pe,delta:F,draggingRect:yt,pointerCoordinates:Oe,scrollableAncestors:st,scrollableAncestorRects:Ue});const ct=ae.useMemo(()=>({active:Q,activeNode:oe,activeNodeRect:_e,activatorEvent:ie,collisions:ot,containerNodeRect:qe,dragOverlay:ut,draggableNodes:O,droppableContainers:J,droppableRects:z,over:ft,measureDroppableContainers:ee,scrollableAncestors:st,scrollableAncestorRects:Ue,measuringConfiguration:j,measuringScheduled:te,windowRect:je}),[Q,oe,_e,ie,ot,qe,ut,O,J,z,ft,ee,st,Ue,j,te,je]),gt=ae.useMemo(()=>({activatorEvent:ie,activators:lt,active:Q,activeNodeRect:_e,ariaDescribedById:{draggable:me},dispatch:T,draggableNodes:O,over:ft,measureDroppableContainers:ee}),[ie,lt,Q,_e,T,me,O,ft,ee]);return Xn.createElement(tw.Provider,{value:I},Xn.createElement($p.Provider,{value:gt},Xn.createElement(mw.Provider,{value:ct},Xn.createElement(gw.Provider,{value:Nt},d)),Xn.createElement(xk,{disabled:c?.restoreFocus===!1})),Xn.createElement(w7,{...c,hiddenTextDescribedById:me}));function en(){const St=le?.autoScrollEnabled===!1,bt=typeof f=="object"?f.enabled===!1:f===!1,qt=W&&!St&&!bt;return typeof f=="object"?{...f,enabled:qt}:{enabled:qt}}}),Ak=ae.createContext(null),ny="button",Ck="Draggable";function Tk(r){let{id:e,data:t,disabled:s=!1,attributes:a}=r;const o=Sd(Ck),{activators:u,activatorEvent:c,active:f,activeNodeRect:d,ariaDescribedById:m,draggableNodes:y,over:_}=ae.useContext($p),{role:b=ny,roleDescription:N="draggable",tabIndex:A=0}=a??{},E=f?.id===e,T=ae.useContext(E?gw:Ak),[R,I]=mp(),[q,V]=mp(),W=uk(u,e),H=nd(t);qo(()=>(y.set(e,{id:e,key:o,node:R,activatorNode:q,data:H}),()=>{const F=y.get(e);F&&F.key===o&&y.delete(e)}),[y,e]);const O=ae.useMemo(()=>({role:b,tabIndex:A,"aria-disabled":s,"aria-pressed":E&&b===ny?!0:void 0,"aria-roledescription":N,"aria-describedby":m.draggable}),[s,b,A,E,N,m.draggable]);return{active:f,activatorEvent:c,activeNodeRect:d,attributes:O,isDragging:E,listeners:s?void 0:W,node:R,over:_,setNodeRef:I,setActivatorNodeRef:V,transform:T}}function kk(){return ae.useContext(mw)}const Ek="Droppable",jk={timeout:25};function Mk(r){let{data:e,disabled:t=!1,id:s,resizeObserverConfig:a}=r;const o=Sd(Ek),{active:u,dispatch:c,over:f,measureDroppableContainers:d}=ae.useContext($p),m=ae.useRef({disabled:t}),y=ae.useRef(!1),_=ae.useRef(null),b=ae.useRef(null),{disabled:N,updateMeasurementsFor:A,timeout:E}={...jk,...a},T=nd(A??s),R=ae.useCallback(()=>{if(!y.current){y.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{d(Array.isArray(T.current)?T.current:[T.current]),b.current=null},E)},[E]),I=Xp({callback:R,disabled:N||!u}),q=ae.useCallback((O,F)=>{I&&(F&&(I.unobserve(F),y.current=!1),O&&I.observe(O))},[I]),[V,W]=mp(q),H=nd(e);return ae.useEffect(()=>{!I||!V.current||(I.disconnect(),y.current=!1,I.observe(V.current))},[V,I]),ae.useEffect(()=>(c({type:xs.RegisterDroppable,element:{id:s,key:o,disabled:t,node:V,rect:_,data:H}}),()=>c({type:xs.UnregisterDroppable,key:o,id:s})),[s]),ae.useEffect(()=>{t!==m.current.disabled&&(c({type:xs.SetDroppableDisabled,id:s,key:o,disabled:t}),m.current.disabled=t)},[s,o,t,c]),{active:u,rect:_,isOver:f?.id===s,node:V,over:f,setNodeRef:W}}function T2(r,e,t){const s=r.slice();return s.splice(t<0?s.length+t:t,0,s.splice(e,1)[0]),s}function Lk(r,e){return r.reduce((t,s,a)=>{const o=e.get(s);return o&&(t[a]=o),t},Array(r.length))}function S1(r){return r!==null&&r>=0}function Ok(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Dk(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const N1={scaleX:1,scaleY:1},Rk=r=>{var e;let{rects:t,activeNodeRect:s,activeIndex:a,overIndex:o,index:u}=r;const c=(e=t[a])!=null?e:s;if(!c)return null;const f=Ik(t,u,a);if(u===a){const d=t[o];return d?{x:a<o?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...N1}:null}return u>a&&u<=o?{x:-c.width-f,y:0,...N1}:u<a&&u>=o?{x:c.width+f,y:0,...N1}:{x:0,y:0,...N1}};function Ik(r,e,t){const s=r[e],a=r[e-1],o=r[e+1];return!s||!a&&!o?0:t<e?a?s.left-(a.left+a.width):o.left-(s.left+s.width):o?o.left-(s.left+s.width):s.left-(a.left+a.width)}const bw=r=>{let{rects:e,activeIndex:t,overIndex:s,index:a}=r;const o=T2(e,s,t),u=e[a],c=o[a];return!c||!u?null:{x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height}},vw="Sortable",yw=Xn.createContext({activeIndex:-1,containerId:vw,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:bw,disabled:{draggable:!1,droppable:!1}});function Fk(r){let{children:e,id:t,items:s,strategy:a=bw,disabled:o=!1}=r;const{active:u,dragOverlay:c,droppableRects:f,over:d,measureDroppableContainers:m}=kk(),y=Sd(vw,t),_=c.rect!==null,b=ae.useMemo(()=>s.map(W=>typeof W=="object"&&"id"in W?W.id:W),[s]),N=u!=null,A=u?b.indexOf(u.id):-1,E=d?b.indexOf(d.id):-1,T=ae.useRef(b),R=!Ok(b,T.current),I=E!==-1&&A===-1||R,q=Dk(o);qo(()=>{R&&N&&m(b)},[R,b,N,m]),ae.useEffect(()=>{T.current=b},[b]);const V=ae.useMemo(()=>({activeIndex:A,containerId:y,disabled:q,disableTransforms:I,items:b,overIndex:E,useDragOverlay:_,sortedRects:Lk(b,f),strategy:a}),[A,y,q.draggable,q.droppable,I,b,E,f,_,a]);return Xn.createElement(yw.Provider,{value:V},e)}const Vk=r=>{let{id:e,items:t,activeIndex:s,overIndex:a}=r;return T2(t,s,a).indexOf(e)},Bk=r=>{let{containerId:e,isSorting:t,wasDragging:s,index:a,items:o,newIndex:u,previousItems:c,previousContainerId:f,transition:d}=r;return!d||!s||c!==o&&a===u?!1:t?!0:u!==a&&e===f},qk={duration:200,easing:"ease"},xw="transform",zk=sd.Transition.toString({property:xw,duration:0,easing:"linear"}),Pk={roleDescription:"sortable"};function Uk(r){let{disabled:e,index:t,node:s,rect:a}=r;const[o,u]=ae.useState(null),c=ae.useRef(t);return qo(()=>{if(!e&&t!==c.current&&s.current){const f=a.current;if(f){const d=Wh(s.current,{ignoreTransform:!0}),m={x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height};(m.x||m.y)&&u(m)}}t!==c.current&&(c.current=t)},[e,t,s,a]),ae.useEffect(()=>{o&&u(null)},[o]),o}function Hk(r){let{animateLayoutChanges:e=Bk,attributes:t,disabled:s,data:a,getNewIndex:o=Vk,id:u,strategy:c,resizeObserverConfig:f,transition:d=qk}=r;const{items:m,containerId:y,activeIndex:_,disabled:b,disableTransforms:N,sortedRects:A,overIndex:E,useDragOverlay:T,strategy:R}=ae.useContext(yw),I=Gk(s,b),q=m.indexOf(u),V=ae.useMemo(()=>({sortable:{containerId:y,index:q,items:m},...a}),[y,a,q,m]),W=ae.useMemo(()=>m.slice(m.indexOf(u)),[m,u]),{rect:H,node:O,isOver:F,setNodeRef:J}=Mk({id:u,data:V,disabled:I.droppable,resizeObserverConfig:{updateMeasurementsFor:W,...f}}),{active:k,activatorEvent:D,activeNodeRect:Q,attributes:$,setNodeRef:le,listeners:B,isDragging:ie,over:re,setActivatorNodeRef:fe,transform:me}=Tk({id:u,data:V,attributes:{...Pk,...t},disabled:I.draggable}),G=l7(J,le),j=!!k,z=j&&!N&&S1(_)&&S1(E),ee=!T&&ie,te=ee&&z?me:null,de=z?te??(c??R)({rects:A,activeNodeRect:Q,activeIndex:_,overIndex:E,index:q}):null,pe=S1(_)&&S1(E)?o({id:u,items:m,activeIndex:_,overIndex:E}):q,ve=k?.id,_e=ae.useRef({activeId:ve,items:m,newIndex:pe,containerId:y}),qe=m!==_e.current.items,Xe=e({active:k,containerId:y,isDragging:ie,isSorting:j,id:u,index:q,items:m,newIndex:_e.current.newIndex,previousItems:_e.current.items,previousContainerId:_e.current.containerId,transition:d,wasDragging:_e.current.activeId!=null}),et=Uk({disabled:!Xe,index:q,node:O,rect:H});return ae.useEffect(()=>{j&&_e.current.newIndex!==pe&&(_e.current.newIndex=pe),y!==_e.current.containerId&&(_e.current.containerId=y),m!==_e.current.items&&(_e.current.items=m)},[j,pe,y,m]),ae.useEffect(()=>{if(ve===_e.current.activeId)return;if(ve!=null&&_e.current.activeId==null){_e.current.activeId=ve;return}const Y=setTimeout(()=>{_e.current.activeId=ve},50);return()=>clearTimeout(Y)},[ve]),{active:k,activeIndex:_,attributes:$,data:V,rect:H,index:q,newIndex:pe,items:m,isOver:F,isSorting:j,isDragging:ie,listeners:B,node:O,overIndex:E,over:re,setNodeRef:G,setActivatorNodeRef:fe,setDroppableNodeRef:J,setDraggableNodeRef:le,transform:et??de,transition:ut()};function ut(){if(et||qe&&_e.current.newIndex===q)return zk;if(!(ee&&!_2(D)||!d)&&(j||Xe))return sd.Transition.toString({...d,property:xw})}}function Gk(r,e){var t,s;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(t=r?.draggable)!=null?t:e.draggable,droppable:(s=r?.droppable)!=null?s:e.droppable}}function vp(r){if(!r)return!1;const e=r.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Wk=[Dn.Down,Dn.Right,Dn.Up,Dn.Left],Yk=(r,e)=>{let{context:{active:t,collisionRect:s,droppableRects:a,droppableContainers:o,over:u,scrollableAncestors:c}}=e;if(Wk.includes(r.code)){if(r.preventDefault(),!t||!s)return;const f=[];o.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const _=a.get(y.id);if(_)switch(r.code){case Dn.Down:s.top<_.top&&f.push(y);break;case Dn.Up:s.top>_.top&&f.push(y);break;case Dn.Left:s.left>_.left&&f.push(y);break;case Dn.Right:s.left<_.left&&f.push(y);break}});const d=A7({collisionRect:s,droppableRects:a,droppableContainers:f});let m=sw(d,"id");if(m===u?.id&&d.length>1&&(m=d[1].id),m!=null){const y=o.get(t.id),_=o.get(m),b=_?a.get(_.id):null,N=_?.node.current;if(N&&b&&y&&_){const E=Yp(N).some((W,H)=>c[H]!==W),T=ww(y,_),R=Xk(y,_),I=E||!T?{x:0,y:0}:{x:R?s.width-b.width:0,y:R?s.height-b.height:0},q={x:b.left,y:b.top};return I.x&&I.y?q:rd(q,I)}}}};function ww(r,e){return!vp(r)||!vp(e)?!1:r.data.current.sortable.containerId===e.data.current.sortable.containerId}function Xk(r,e){return!vp(r)||!vp(e)||!ww(r,e)?!1:r.data.current.sortable.index<e.data.current.sortable.index}const ry={intro:{bg:"bg-purple-500/10",headers:"bg-purple-500/30 text-purple-100",border:"border-purple-500/30",accent:"bg-purple-500"},verse:{bg:"bg-blue-500/10",headers:"bg-blue-500/30 text-blue-100",border:"border-blue-500/30",accent:"bg-blue-500"},"pre-chorus":{bg:"bg-cyan-500/10",headers:"bg-cyan-500/30 text-cyan-100",border:"border-cyan-500/30",accent:"bg-cyan-500"},chorus:{bg:"bg-amber-500/10",headers:"bg-amber-500/30 text-amber-100",border:"border-amber-500/30",accent:"bg-amber-500"},bridge:{bg:"bg-emerald-500/10",headers:"bg-emerald-500/30 text-emerald-100",border:"border-emerald-500/30",accent:"bg-emerald-500"},outro:{bg:"bg-rose-500/10",headers:"bg-rose-500/30 text-rose-100",border:"border-rose-500/30",accent:"bg-rose-500"},custom:{bg:"bg-slate-500/10",headers:"bg-slate-500/30 text-slate-100",border:"border-slate-500/30",accent:"bg-slate-500"}},$k=60,sy=.35,Zk=({section:r,onSelect:e,isActive:t,chordColors:s,measureWidth:a,isCompact:o})=>{const{attributes:u,listeners:c,setNodeRef:f,transform:d,transition:m,isDragging:y}=Hk({id:r.id}),_={transform:sd.Transform.toString(d),transition:m},b=ry[r.type]||ry.custom,N=r.measures,E=Math.max(o?40:100,N.length*a),T=o?60:140;return o?w.jsxs("div",{ref:f,style:{..._,width:E,height:T},className:Ut("relative flex flex-col rounded-lg overflow-hidden shrink-0 transition-all border cursor-pointer",b.bg,b.border,y?"opacity-50 z-50 ring-2 ring-accent-primary":"hover:border-opacity-70 hover:scale-[1.02]",t?"ring-2 ring-white/30":""),onClick:e,...u,...c,children:[w.jsx("div",{className:Ut("h-1.5 w-full",b.accent)}),w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-1 py-1",children:[w.jsx("span",{className:"font-bold uppercase tracking-wide text-center leading-tight text-sm",children:r.type.charAt(0).toUpperCase()}),w.jsxs("span",{className:"text-[8px] font-mono text-white/40 mt-0.5",children:[N.length,"b"]})]})]}):w.jsxs("div",{ref:f,style:{..._,width:E,height:T},className:Ut("relative flex flex-col pt-8 pb-2 rounded-xl overflow-hidden shrink-0 transition-all border group",b.bg,b.border,y?"opacity-50 z-50 ring-2 ring-accent-primary":"hover:border-opacity-50",t?"ring-2 ring-white/20":""),children:[w.jsxs("div",{className:Ut("absolute top-0 left-0 right-0 h-8 flex items-center justify-between px-3 select-none border-b border-white/5",b.headers,"cursor-grab active:cursor-grabbing"),...u,...c,children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(I3,{size:14,className:"opacity-50"}),w.jsx("span",{className:"font-bold text-xs uppercase tracking-wider truncate max-w-[100px]",children:r.name})]}),a>=70&&w.jsx("div",{className:"flex items-center gap-2 text-[10px] font-mono opacity-80",children:w.jsxs("span",{children:[N.length," bars"]})})]}),w.jsx("div",{className:"flex-1 flex px-2 pt-2 gap-1 overflow-hidden",onClick:e,children:N.map((R,I)=>w.jsxs("div",{className:"flex-1 min-w-[32px] h-full flex flex-col gap-1",children:[w.jsxs("div",{className:"h-4 flex items-end justify-between px-0.5 border-b border-white/10 pb-0.5",children:[w.jsx("span",{className:"text-[9px] font-mono text-white/30",children:I+1}),w.jsx("div",{className:"flex gap-0.5",children:R.beats.map((q,V)=>w.jsx("div",{className:"w-0.5 h-1.5 bg-white/20 rounded-full"},V))})]}),(()=>{const q=R.beats.filter(W=>W.chord),V=q.length;return V===0?w.jsx("div",{className:"flex-1 rounded bg-white/5 border border-dashed border-white/10 flex items-center justify-center",children:w.jsx("span",{className:"text-[10px] text-white/10",children:"-"})}):w.jsx("div",{className:"flex gap-0.5 flex-1 items-stretch",children:q.map(W=>{const H=s[W.chord.root]||"#666",O=V<=2?"10px":V<=4?"8px":"7px",F=V<=2?"0 4px":"0 2px";return w.jsx("div",{className:"flex-1 min-w-0 rounded flex items-center justify-center font-bold shadow-sm truncate transition-all",style:{backgroundColor:"rgba(0, 0, 0, 0.3)",border:`2px solid ${H}`,color:H,fontSize:O,padding:F,minHeight:"24px"},title:W.chord.symbol,children:Gs(W.chord.symbol)},W.id)})})})()]},R.id))}),w.jsx("div",{className:"absolute inset-0 top-8 bg-black/0 hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 hover:opacity-100 pointer-events-none",children:w.jsx("span",{className:"text-[10px] uppercase font-bold tracking-widest text-white/80 bg-black/50 px-2 py-1 rounded backdrop-blur-sm",children:"Go to Section"})})]})},Qk=()=>{const{currentSong:r,songMapVisible:e,toggleSongMap:t,setSelectedSlot:s,reorderSections:a,isPlaying:o,tempo:u,setTempo:c,instrument:f,setInstrument:d,isLooping:m,toggleLoop:y,playingSectionId:_}=An(),[b,N]=ae.useState(!1),[A,E]=ae.useState(1),{isMobile:T,isLandscape:R}=Gp(),I=ld(),q=r.sections.reduce((me,G)=>me+G.measures.length,0),W=r.sections.reduce((me,G)=>{const z=(G.timeSignature||r.timeSignature)[0];return me+G.measures.length*z},0)/u*60,H=Math.floor(W/60),O=Math.floor(W%60),F=`${H}:${O.toString().padStart(2,"0")}`,J=$k*A,k=me=>{E(Number(me.target.value))},D=async()=>{try{await Hp(),o?(g2(),An.getState().setIsPlaying(!1)):(N(!0),await m2(),An.getState().setIsPlaying(!0))}catch(me){console.error("Playback error:",me)}finally{N(!1)}},Q=me=>{b2(me)},$=()=>{y()},le=[{value:"piano",label:"Piano"},{value:"epiano",label:"E.Piano"},{value:"organ",label:"Organ"},{value:"pad",label:"Pad"},{value:"guitar",label:"Guitar"}],B=_7(H5(C2,{activationConstraint:{distance:8}}),H5(N2,{coordinateGetter:Yk})),ie=me=>{const{active:G,over:j}=me;if(j&&G.id!==j.id){const z=r.sections.findIndex(te=>te.id===G.id),ee=r.sections.findIndex(te=>te.id===j.id);a(T2(r.sections,z,ee))}},[re,fe]=ae.useState(0);return ae.useEffect(()=>{if(!e||!o)return;const me=()=>{const j=mi.position.toString().split(":"),z=parseFloat(j[0]),ee=parseFloat(j[1]),te=parseFloat(j[2]),oe=z*4+ee+te/4;let de=0,pe=0;const ve=16;for(const _e of r.sections){const qe=_e.measures.length*4;if(oe<pe+qe){const et=(oe-pe)/qe,ut=_e.measures.length*J;de+=et*ut;break}else{const Xe=_e.measures.length*J;de+=Xe+ve,pe+=qe}}fe(de),requestAnimationFrame(me)},G=requestAnimationFrame(me);return()=>cancelAnimationFrame(G)},[e,o,r,J]),ae.useEffect(()=>{const me=G=>{G.key==="Escape"&&t(!1)};return e&&window.addEventListener("keydown",me),()=>window.removeEventListener("keydown",me)},[e,t]),e?w.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col bg-black/80 backdrop-blur-md animate-in fade-in duration-200",style:{paddingTop:"max(20px, env(safe-area-inset-top))",paddingLeft:"max(16px, env(safe-area-inset-left))",paddingRight:"max(16px, env(safe-area-inset-right))",paddingBottom:"max(16px, env(safe-area-inset-bottom))"},onClick:()=>t(!1),children:[w.jsxs("div",{className:Ut("shrink-0 bg-transparent text-white transition-all",R?"px-4 py-1.5":"px-4 py-2"),onClick:me=>me.stopPropagation(),children:[w.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("h2",{className:Ut("font-bold tracking-tight",R?"text-base":"text-lg"),children:"Song Map"}),w.jsx("span",{className:"text-white/40",children:""}),w.jsx("span",{className:Ut("text-white/60 font-medium",R?"text-xs":"text-sm"),children:r.title})]}),w.jsx("button",{onClick:()=>t(!1),className:Ut("bg-white/10 hover:bg-white/20 active:bg-white/30 rounded-full transition-all flex items-center justify-center active:scale-95",R?"w-7 h-7":"w-8 h-8"),children:w.jsx(fp,{size:R?14:16})})]}),w.jsx("div",{className:"flex justify-center mb-2",children:w.jsxs("div",{className:Ut("flex items-center gap-2 text-white/50 bg-white/5 rounded-full px-3 py-1",R?"text-[9px]":"text-[10px]"),children:[w.jsx("span",{className:"font-mono",children:F}),w.jsx("span",{className:"w-1 h-1 rounded-full bg-white/30"}),w.jsxs("span",{children:[r.sections.length," sections"]}),w.jsx("span",{className:"w-1 h-1 rounded-full bg-white/30"}),w.jsxs("span",{children:[q," bars"]}),w.jsx("span",{className:"w-1 h-1 rounded-full bg-white/30"}),w.jsxs("span",{children:[r.tempo," BPM"]})]})}),w.jsx("div",{className:"flex justify-center",children:w.jsxs("div",{className:"flex items-center gap-2 bg-white/5 rounded-full px-2 py-1",children:[w.jsx("button",{onClick:()=>E(Math.max(.15,A-.1)),className:Ut("flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 active:bg-white/30 text-white/70 hover:text-white transition-all active:scale-95",R?"w-5 h-5":"w-6 h-6"),children:w.jsx(ng,{size:R?10:12})}),w.jsx("div",{className:Ut("relative flex items-center",R?"w-28 h-5":"w-32 h-6"),children:w.jsx("input",{type:"range",min:"0.15",max:"2",step:"0.05",value:A,onChange:k,className:Ut("w-full bg-white/20 rounded-full appearance-none cursor-pointer h-1.5",`[&::-webkit-slider-thumb]:appearance-none
                                    [&::-webkit-slider-thumb]:bg-white
                                    [&::-webkit-slider-thumb]:rounded-full
                                    [&::-webkit-slider-thumb]:shadow-md
                                    [&::-webkit-slider-thumb]:shadow-black/30
                                    [&::-webkit-slider-thumb]:cursor-grab
                                    [&::-webkit-slider-thumb]:active:cursor-grabbing
                                    [&::-webkit-slider-thumb]:active:scale-110
                                    [&::-webkit-slider-thumb]:transition-transform
                                    [&::-webkit-slider-thumb]:hover:scale-110
                                    [&::-moz-range-thumb]:appearance-none
                                    [&::-moz-range-thumb]:bg-white
                                    [&::-moz-range-thumb]:rounded-full
                                    [&::-moz-range-thumb]:border-none
                                    [&::-moz-range-thumb]:shadow-md
                                    [&::-moz-range-thumb]:cursor-grab
                                    focus:outline-none`,R?"[&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4":"[&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:h-5"),style:{touchAction:"manipulation"}})}),w.jsx("button",{onClick:()=>E(Math.min(2,A+.1)),className:Ut("flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 active:bg-white/30 text-white/70 hover:text-white transition-all active:scale-95",R?"w-5 h-5":"w-6 h-6"),children:w.jsx(ed,{size:R?10:12})}),w.jsxs("span",{className:Ut("text-white/50 font-mono ml-1",R?"text-[9px]":"text-[10px]"),children:[Math.round(A*100),"%"]})]})})]}),w.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden px-4 flex items-center relative scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",onClick:me=>me.stopPropagation(),children:w.jsxs("div",{className:Ut("flex relative h-full items-center pt-2 pb-2 transition-all",A<sy?"gap-2 min-h-[80px]":"gap-4 min-h-[156px]"),children:[o&&w.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-[60] shadow-[0_0_12px_#ef4444] transition-transform duration-75 will-change-transform pointer-events-none",style:{transform:`translateX(${re}px)`},children:w.jsx("div",{className:"absolute -top-1.5 -left-1.5 w-3.5 h-3.5 bg-red-500 rounded-full shadow-sm"})}),w.jsx(Nk,{sensors:B,collisionDetection:N7,onDragEnd:ie,children:w.jsx(Fk,{items:r.sections.map(me=>me.id),strategy:Rk,children:r.sections.map(me=>w.jsx(Zk,{section:me,onSelect:()=>{me.measures[0]?.beats[0]&&s(me.id,me.measures[0].beats[0].id),t(!1)},isActive:o&&r.sections.findIndex(G=>G.id===me.id)===r.sections.findIndex(G=>G.id===_),chordColors:I,measureWidth:J,isCompact:A<sy},me.id))})})]})}),w.jsx("div",{className:Ut("shrink-0 bg-bg-elevated border-t border-border-subtle z-[110] flex flex-col justify-center",R?"pb-0":T?"px-4 py-3 pb-6 gap-3":"px-6 py-3 pb-6"),onClick:me=>me.stopPropagation(),children:T&&!R?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"flex items-center justify-between",children:w.jsxs("div",{className:"flex items-center gap-3 mx-auto",children:[w.jsx("button",{onClick:()=>Q("prev"),className:"p-2 text-text-secondary hover:text-text-primary transition-colors",children:w.jsx(z3,{size:22})}),w.jsx("button",{onClick:D,disabled:b,className:"w-12 h-12 rounded-full bg-accent-primary hover:bg-indigo-500 disabled:bg-accent-primary/50 flex items-center justify-center text-white shadow-md transition-all hover:scale-105 active:scale-95",children:b?w.jsx(F3,{size:24,className:"animate-spin"}):o?w.jsx(B3,{size:24,fill:"currentColor"}):w.jsx(Uh,{size:24,fill:"currentColor",className:"ml-0.5"})}),w.jsx("button",{onClick:()=>Q("next"),className:"p-2 text-text-secondary hover:text-text-primary transition-colors",children:w.jsx(P3,{size:22})})]})}),w.jsxs("div",{className:"flex items-center justify-between gap-3",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("button",{onClick:$,className:Ut("p-2 rounded-full transition-colors",m?"text-accent-primary bg-accent-primary/10":"text-text-secondary hover:text-text-primary"),children:w.jsx(q3,{size:18})}),w.jsxs("div",{className:"flex items-center gap-1 bg-bg-tertiary rounded-lg border border-border-subtle p-1 pr-2",children:[w.jsx("button",{onClick:()=>c(Math.max(40,u-5)),className:"p-1 px-2 text-text-secondary hover:text-text-primary",children:w.jsx(ng,{size:14})}),w.jsxs("div",{className:"flex flex-col items-center min-w-[32px]",children:[w.jsx("span",{className:"text-[9px] uppercase tracking-wider text-text-muted font-bold leading-none",children:"BPM"}),w.jsx("span",{className:"text-sm font-mono font-medium text-text-primary leading-none",children:u})]}),w.jsx("button",{onClick:()=>c(Math.min(240,u+5)),className:"p-1 px-2 text-text-secondary hover:text-text-primary",children:w.jsx(ed,{size:14})})]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-7 h-7 rounded bg-bg-tertiary flex items-center justify-center text-text-muted shrink-0",children:w.jsx(Jf,{size:14})}),w.jsx("select",{value:f,onChange:me=>d(me.target.value),className:"bg-bg-tertiary border border-border-subtle rounded-lg px-3 py-1.5 text-xs text-text-primary focus:outline-none focus:border-accent-primary cursor-pointer",children:le.map(me=>w.jsx("option",{value:me.value,children:me.label},me.value))})]})]})]}):w.jsx(K3,{})})]}):null},Kk=({className:r="",size:e=24})=>w.jsx("div",{className:`relative flex items-center justify-center ${r}`,style:{width:e,height:e},children:w.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-full h-full overflow-visible",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("defs",{children:w.jsxs("linearGradient",{id:"rainbow-style",x1:"0%",y1:"100%",x2:"100%",y2:"0%",children:[w.jsx("stop",{offset:"0%",stopColor:"hsl(0, 90%, 65%)"}),"    ",w.jsx("stop",{offset:"20%",stopColor:"hsl(35, 95%, 60%)"}),"   ",w.jsx("stop",{offset:"40%",stopColor:"hsl(55, 95%, 55%)"}),"   ",w.jsx("stop",{offset:"60%",stopColor:"hsl(140, 90%, 50%)"}),"  ",w.jsx("stop",{offset:"80%",stopColor:"hsl(210, 90%, 55%)"}),"  ",w.jsx("stop",{offset:"100%",stopColor:"hsl(280, 85%, 60%)"})," "]})}),w.jsx("circle",{cx:"6",cy:"18",r:"3.5",fill:"url(#rainbow-style)",stroke:"none"}),w.jsx("circle",{cx:"18",cy:"16",r:"3.5",fill:"url(#rainbow-style)",stroke:"none"}),w.jsx("path",{d:"M9 18 V5 L21 3 V16",stroke:"url(#rainbow-style)",fill:"none"})]})});function Jn(r){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(r)}var uo=Uint8Array,aa=Uint16Array,k2=Int32Array,E2=new uo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),j2=new uo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),iy=new uo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_w=function(r,e){for(var t=new aa(31),s=0;s<31;++s)t[s]=e+=1<<r[s-1];for(var a=new k2(t[30]),s=1;s<30;++s)for(var o=t[s];o<t[s+1];++o)a[o]=o-t[s]<<5|s;return{b:t,r:a}},Sw=_w(E2,2),Jk=Sw.b,dg=Sw.r;Jk[28]=258,dg[258]=28;var eE=_w(j2,0),ay=eE.r,pg=new aa(32768);for(var wr=0;wr<32768;++wr){var dc=(wr&43690)>>1|(wr&21845)<<1;dc=(dc&52428)>>2|(dc&13107)<<2,dc=(dc&61680)>>4|(dc&3855)<<4,pg[wr]=((dc&65280)>>8|(dc&255)<<8)>>1}var Gf=(function(r,e,t){for(var s=r.length,a=0,o=new aa(e);a<s;++a)r[a]&&++o[r[a]-1];var u=new aa(e);for(a=1;a<e;++a)u[a]=u[a-1]+o[a-1]<<1;var c;if(t){c=new aa(1<<e);var f=15-e;for(a=0;a<s;++a)if(r[a])for(var d=a<<4|r[a],m=e-r[a],y=u[r[a]-1]++<<m,_=y|(1<<m)-1;y<=_;++y)c[pg[y]>>f]=d}else for(c=new aa(s),a=0;a<s;++a)r[a]&&(c[a]=pg[u[r[a]-1]++]>>15-r[a]);return c}),gu=new uo(288);for(var wr=0;wr<144;++wr)gu[wr]=8;for(var wr=144;wr<256;++wr)gu[wr]=9;for(var wr=256;wr<280;++wr)gu[wr]=7;for(var wr=280;wr<288;++wr)gu[wr]=8;var yp=new uo(32);for(var wr=0;wr<32;++wr)yp[wr]=5;var tE=Gf(gu,9,0),nE=Gf(yp,5,0),Nw=function(r){return(r+7)/8|0},rE=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new uo(r.subarray(e,t))},vl=function(r,e,t){t<<=e&7;var s=e/8|0;r[s]|=t,r[s+1]|=t>>8},Df=function(r,e,t){t<<=e&7;var s=e/8|0;r[s]|=t,r[s+1]|=t>>8,r[s+2]|=t>>16},Nm=function(r,e){for(var t=[],s=0;s<r.length;++s)r[s]&&t.push({s,f:r[s]});var a=t.length,o=t.slice();if(!a)return{t:Cw,l:0};if(a==1){var u=new uo(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(V,W){return V.f-W.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,m=1,y=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};m!=a-1;)c=t[t[d].f<t[y].f?d++:y++],f=t[d!=m&&t[d].f<t[y].f?d++:y++],t[m++]={s:-1,f:c.f+f.f,l:c,r:f};for(var _=o[0].s,s=1;s<a;++s)o[s].s>_&&(_=o[s].s);var b=new aa(_+1),N=mg(t[m-1],b,0);if(N>e){var s=0,A=0,E=N-e,T=1<<E;for(o.sort(function(W,H){return b[H.s]-b[W.s]||W.f-H.f});s<a;++s){var R=o[s].s;if(b[R]>e)A+=T-(1<<N-b[R]),b[R]=e;else break}for(A>>=E;A>0;){var I=o[s].s;b[I]<e?A-=1<<e-b[I]++-1:++s}for(;s>=0&&A;--s){var q=o[s].s;b[q]==e&&(--b[q],++A)}N=e}return{t:new uo(b),l:N}},mg=function(r,e,t){return r.s==-1?Math.max(mg(r.l,e,t+1),mg(r.r,e,t+1)):e[r.s]=t},oy=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new aa(++e),s=0,a=r[0],o=1,u=function(f){t[s++]=f},c=1;c<=e;++c)if(r[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(a),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(a);o=1,a=r[c]}return{c:t.subarray(0,s),n:e}},Rf=function(r,e){for(var t=0,s=0;s<e.length;++s)t+=r[s]*e[s];return t},Aw=function(r,e,t){var s=t.length,a=Nw(e+2);r[a]=s&255,r[a+1]=s>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var o=0;o<s;++o)r[a+o+4]=t[o];return(a+4+s)*8},ly=function(r,e,t,s,a,o,u,c,f,d,m){vl(e,m++,t),++a[256];for(var y=Nm(a,15),_=y.t,b=y.l,N=Nm(o,15),A=N.t,E=N.l,T=oy(_),R=T.c,I=T.n,q=oy(A),V=q.c,W=q.n,H=new aa(19),O=0;O<R.length;++O)++H[R[O]&31];for(var O=0;O<V.length;++O)++H[V[O]&31];for(var F=Nm(H,7),J=F.t,k=F.l,D=19;D>4&&!J[iy[D-1]];--D);var Q=d+5<<3,$=Rf(a,gu)+Rf(o,yp)+u,le=Rf(a,_)+Rf(o,A)+u+14+3*D+Rf(H,J)+2*H[16]+3*H[17]+7*H[18];if(f>=0&&Q<=$&&Q<=le)return Aw(e,m,r.subarray(f,f+d));var B,ie,re,fe;if(vl(e,m,1+(le<$)),m+=2,le<$){B=Gf(_,b,0),ie=_,re=Gf(A,E,0),fe=A;var me=Gf(J,k,0);vl(e,m,I-257),vl(e,m+5,W-1),vl(e,m+10,D-4),m+=14;for(var O=0;O<D;++O)vl(e,m+3*O,J[iy[O]]);m+=3*D;for(var G=[R,V],j=0;j<2;++j)for(var z=G[j],O=0;O<z.length;++O){var ee=z[O]&31;vl(e,m,me[ee]),m+=J[ee],ee>15&&(vl(e,m,z[O]>>5&127),m+=z[O]>>12)}}else B=tE,ie=gu,re=nE,fe=yp;for(var O=0;O<c;++O){var te=s[O];if(te>255){var ee=te>>18&31;Df(e,m,B[ee+257]),m+=ie[ee+257],ee>7&&(vl(e,m,te>>23&31),m+=E2[ee]);var oe=te&31;Df(e,m,re[oe]),m+=fe[oe],oe>3&&(Df(e,m,te>>5&8191),m+=j2[oe])}else Df(e,m,B[te]),m+=ie[te]}return Df(e,m,B[256]),m+ie[256]},sE=new k2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Cw=new uo(0),iE=function(r,e,t,s,a,o){var u=o.z||r.length,c=new uo(s+u+5*(1+Math.ceil(u/7e3))+a),f=c.subarray(s,c.length-a),d=o.l,m=(o.r||0)&7;if(e){m&&(f[0]=o.r>>3);for(var y=sE[e-1],_=y>>13,b=y&8191,N=(1<<t)-1,A=o.p||new aa(32768),E=o.h||new aa(N+1),T=Math.ceil(t/3),R=2*T,I=function(ut){return(r[ut]^r[ut+1]<<T^r[ut+2]<<R)&N},q=new k2(25e3),V=new aa(288),W=new aa(32),H=0,O=0,F=o.i||0,J=0,k=o.w||0,D=0;F+2<u;++F){var Q=I(F),$=F&32767,le=E[Q];if(A[$]=le,E[Q]=$,k<=F){var B=u-F;if((H>7e3||J>24576)&&(B>423||!d)){m=ly(r,f,0,q,V,W,O,J,D,F-D,m),J=H=O=0,D=F;for(var ie=0;ie<286;++ie)V[ie]=0;for(var ie=0;ie<30;++ie)W[ie]=0}var re=2,fe=0,me=b,G=$-le&32767;if(B>2&&Q==I(F-G))for(var j=Math.min(_,B)-1,z=Math.min(32767,F),ee=Math.min(258,B);G<=z&&--me&&$!=le;){if(r[F+re]==r[F+re-G]){for(var te=0;te<ee&&r[F+te]==r[F+te-G];++te);if(te>re){if(re=te,fe=G,te>j)break;for(var oe=Math.min(G,te-2),de=0,ie=0;ie<oe;++ie){var pe=F-G+ie&32767,ve=A[pe],_e=pe-ve&32767;_e>de&&(de=_e,le=pe)}}}$=le,le=A[$],G+=$-le&32767}if(fe){q[J++]=268435456|dg[re]<<18|ay[fe];var qe=dg[re]&31,Xe=ay[fe]&31;O+=E2[qe]+j2[Xe],++V[257+qe],++W[Xe],k=F+re,++H}else q[J++]=r[F],++V[r[F]]}}for(F=Math.max(F,k);F<u;++F)q[J++]=r[F],++V[r[F]];m=ly(r,f,d,q,V,W,O,J,D,F-D,m),d||(o.r=m&7|f[m/8|0]<<3,m-=7,o.h=E,o.p=A,o.i=F,o.w=k)}else{for(var F=o.w||0;F<u+d;F+=65535){var et=F+65535;et>=u&&(f[m/8|0]=d,et=u),m=Aw(f,m+1,r.subarray(F,et))}o.i=u}return rE(c,0,s+Nw(m)+a)},Tw=function(){var r=1,e=0;return{p:function(t){for(var s=r,a=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)a+=s+=t[u];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}r=s,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},aE=function(r,e,t,s,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new uo(o.length+r.length);u.set(o),u.set(r,o.length),r=u,a.w=o.length}return iE(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,s,a)},kw=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},oE=function(r,e){var t=e.level,s=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=s<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=Tw();a.p(e.dictionary),kw(r,2,a.d())}};function gg(r,e){e||(e={});var t=Tw();t.p(r);var s=aE(r,e,e.dictionary?6:2,4);return oE(s,e),kw(s,s.length-4,t.d()),s}var lE=typeof TextDecoder<"u"&&new TextDecoder,cE=0;try{lE.decode(Cw,{stream:!0}),cE=1}catch{}function uE(r){if(Array.isArray(r))return r}function hE(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var s,a,o,u,c=[],f=!0,d=!1;try{if(o=(t=t.call(r)).next,e!==0)for(;!(f=(s=o.call(t)).done)&&(c.push(s.value),c.length!==e);f=!0);}catch(m){d=!0,a=m}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw a}}return c}}function cy(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,s=Array(e);t<e;t++)s[t]=r[t];return s}function fE(r,e){if(r){if(typeof r=="string")return cy(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?cy(r,e):void 0}}function dE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uy(r,e){return uE(r)||hE(r,e)||fE(r,e)||dE()}function hy(r,e="utf8"){return new TextDecoder(e).decode(r)}const pE=new TextEncoder;function mE(r){return pE.encode(r)}const gE=1024*8,bE=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),Am={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class M2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=gE,t={}){let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let u=a;(ArrayBuffer.isView(e)||e instanceof M2)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+a),e=e.buffer),s?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const s=Am[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+s);if(this.littleEndian===bE&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+s));c.reverse();const f=new Am[t](c.buffer);return this.offset+=s,f.reverse(),f}const u=new Am[t](o);return this.offset+=s,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let s=0;s<e;s++)t+=this.readChar();return t}readUtf8(e=1){return hy(this.readBytes(e))}decodeText(e=1,t="utf8"){return hy(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(mE(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Yh(r){let e=r.length;for(;--e>=0;)r[e]=0}const vE=3,yE=258,Ew=29,xE=256,wE=xE+1+Ew,jw=30,_E=512,SE=new Array((wE+2)*2);Yh(SE);const NE=new Array(jw*2);Yh(NE);const AE=new Array(_E);Yh(AE);const CE=new Array(yE-vE+1);Yh(CE);const TE=new Array(Ew);Yh(TE);const kE=new Array(jw);Yh(kE);const EE=(r,e,t,s)=>{let a=r&65535|0,o=r>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do a=a+e[s++]|0,o=o+a|0;while(--u);a%=65521,o%=65521}return a|o<<16|0};var bg=EE;const jE=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var s=0;s<8;s++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},ME=new Uint32Array(jE()),LE=(r,e,t,s)=>{const a=ME,o=s+t;r^=-1;for(let u=s;u<o;u++)r=r>>>8^a[(r^e[u])&255];return r^-1};var Io=LE,vg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Mw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const OE=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var DE=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const s in t)OE(t,s)&&(r[s]=t[s])}}return r},RE=r=>{let e=0;for(let s=0,a=r.length;s<a;s++)e+=r[s].length;const t=new Uint8Array(e);for(let s=0,a=0,o=r.length;s<o;s++){let u=r[s];t.set(u,a),a+=u.length}return t},Lw={assign:DE,flattenChunks:RE};let Ow=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ow=!1}const ad=new Uint8Array(256);for(let r=0;r<256;r++)ad[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;ad[254]=ad[254]=1;var IE=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,s,a,o,u=r.length,c=0;for(a=0;a<u;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<u&&(s=r.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<u&&(s=r.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const FE=(r,e)=>{if(e<65534&&r.subarray&&Ow)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let s=0;s<e;s++)t+=String.fromCharCode(r[s]);return t};var VE=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let s,a;const o=new Array(t*2);for(a=0,s=0;s<t;){let u=r[s++];if(u<128){o[a++]=u;continue}let c=ad[u];if(c>4){o[a++]=65533,s+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&s<t;)u=u<<6|r[s++]&63,c--;if(c>1){o[a++]=65533;continue}u<65536?o[a++]=u:(u-=65536,o[a++]=55296|u>>10&1023,o[a++]=56320|u&1023)}return FE(o,a)},BE=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+ad[r[t]]>e?t:e},yg={string2buf:IE,buf2string:VE,utf8border:BE};function qE(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zE=qE;const A1=16209,PE=16191;var UE=function(e,t){let s,a,o,u,c,f,d,m,y,_,b,N,A,E,T,R,I,q,V,W,H,O,F,J;const k=e.state;s=e.next_in,F=e.input,a=s+(e.avail_in-5),o=e.next_out,J=e.output,u=o-(t-e.avail_out),c=o+(e.avail_out-257),f=k.dmax,d=k.wsize,m=k.whave,y=k.wnext,_=k.window,b=k.hold,N=k.bits,A=k.lencode,E=k.distcode,T=(1<<k.lenbits)-1,R=(1<<k.distbits)-1;e:do{N<15&&(b+=F[s++]<<N,N+=8,b+=F[s++]<<N,N+=8),I=A[b&T];t:for(;;){if(q=I>>>24,b>>>=q,N-=q,q=I>>>16&255,q===0)J[o++]=I&65535;else if(q&16){V=I&65535,q&=15,q&&(N<q&&(b+=F[s++]<<N,N+=8),V+=b&(1<<q)-1,b>>>=q,N-=q),N<15&&(b+=F[s++]<<N,N+=8,b+=F[s++]<<N,N+=8),I=E[b&R];n:for(;;){if(q=I>>>24,b>>>=q,N-=q,q=I>>>16&255,q&16){if(W=I&65535,q&=15,N<q&&(b+=F[s++]<<N,N+=8,N<q&&(b+=F[s++]<<N,N+=8)),W+=b&(1<<q)-1,W>f){e.msg="invalid distance too far back",k.mode=A1;break e}if(b>>>=q,N-=q,q=o-u,W>q){if(q=W-q,q>m&&k.sane){e.msg="invalid distance too far back",k.mode=A1;break e}if(H=0,O=_,y===0){if(H+=d-q,q<V){V-=q;do J[o++]=_[H++];while(--q);H=o-W,O=J}}else if(y<q){if(H+=d+y-q,q-=y,q<V){V-=q;do J[o++]=_[H++];while(--q);if(H=0,y<V){q=y,V-=q;do J[o++]=_[H++];while(--q);H=o-W,O=J}}}else if(H+=y-q,q<V){V-=q;do J[o++]=_[H++];while(--q);H=o-W,O=J}for(;V>2;)J[o++]=O[H++],J[o++]=O[H++],J[o++]=O[H++],V-=3;V&&(J[o++]=O[H++],V>1&&(J[o++]=O[H++]))}else{H=o-W;do J[o++]=J[H++],J[o++]=J[H++],J[o++]=J[H++],V-=3;while(V>2);V&&(J[o++]=J[H++],V>1&&(J[o++]=J[H++]))}}else if((q&64)===0){I=E[(I&65535)+(b&(1<<q)-1)];continue n}else{e.msg="invalid distance code",k.mode=A1;break e}break}}else if((q&64)===0){I=A[(I&65535)+(b&(1<<q)-1)];continue t}else if(q&32){k.mode=PE;break e}else{e.msg="invalid literal/length code",k.mode=A1;break e}break}}while(s<a&&o<c);V=N>>3,s-=V,N-=V<<3,b&=(1<<N)-1,e.next_in=s,e.next_out=o,e.avail_in=s<a?5+(a-s):5-(s-a),e.avail_out=o<c?257+(c-o):257-(o-c),k.hold=b,k.bits=N};const dh=15,fy=852,dy=592,py=0,Cm=1,my=2,HE=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),GE=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),WE=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),YE=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),XE=(r,e,t,s,a,o,u,c)=>{const f=c.bits;let d=0,m=0,y=0,_=0,b=0,N=0,A=0,E=0,T=0,R=0,I,q,V,W,H,O=null,F;const J=new Uint16Array(dh+1),k=new Uint16Array(dh+1);let D=null,Q,$,le;for(d=0;d<=dh;d++)J[d]=0;for(m=0;m<s;m++)J[e[t+m]]++;for(b=f,_=dh;_>=1&&J[_]===0;_--);if(b>_&&(b=_),_===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(y=1;y<_&&J[y]===0;y++);for(b<y&&(b=y),E=1,d=1;d<=dh;d++)if(E<<=1,E-=J[d],E<0)return-1;if(E>0&&(r===py||_!==1))return-1;for(k[1]=0,d=1;d<dh;d++)k[d+1]=k[d]+J[d];for(m=0;m<s;m++)e[t+m]!==0&&(u[k[e[t+m]]++]=m);if(r===py?(O=D=u,F=20):r===Cm?(O=HE,D=GE,F=257):(O=WE,D=YE,F=0),R=0,m=0,d=y,H=o,N=b,A=0,V=-1,T=1<<b,W=T-1,r===Cm&&T>fy||r===my&&T>dy)return 1;for(;;){Q=d-A,u[m]+1<F?($=0,le=u[m]):u[m]>=F?($=D[u[m]-F],le=O[u[m]-F]):($=96,le=0),I=1<<d-A,q=1<<N,y=q;do q-=I,a[H+(R>>A)+q]=Q<<24|$<<16|le|0;while(q!==0);for(I=1<<d-1;R&I;)I>>=1;if(I!==0?(R&=I-1,R+=I):R=0,m++,--J[d]===0){if(d===_)break;d=e[t+u[m]]}if(d>b&&(R&W)!==V){for(A===0&&(A=b),H+=y,N=d-A,E=1<<N;N+A<_&&(E-=J[N+A],!(E<=0));)N++,E<<=1;if(T+=1<<N,r===Cm&&T>fy||r===my&&T>dy)return 1;V=R&W,a[V]=b<<24|N<<16|H-o|0}}return R!==0&&(a[H+R]=d-A<<24|64<<16|0),c.bits=b,0};var Wf=XE;const $E=0,Dw=1,Rw=2,{Z_FINISH:gy,Z_BLOCK:ZE,Z_TREES:C1,Z_OK:bu,Z_STREAM_END:QE,Z_NEED_DICT:KE,Z_STREAM_ERROR:ja,Z_DATA_ERROR:Iw,Z_MEM_ERROR:Fw,Z_BUF_ERROR:JE,Z_DEFLATED:by}=Mw,Zp=16180,vy=16181,yy=16182,xy=16183,wy=16184,_y=16185,Sy=16186,Ny=16187,Ay=16188,Cy=16189,xp=16190,yl=16191,Tm=16192,Ty=16193,km=16194,ky=16195,Ey=16196,jy=16197,My=16198,T1=16199,k1=16200,Ly=16201,Oy=16202,Dy=16203,Ry=16204,Iy=16205,Em=16206,Fy=16207,Vy=16208,kr=16209,Vw=16210,Bw=16211,ej=852,tj=592,nj=15,rj=nj,By=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function sj(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _u=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Zp||e.mode>Bw?1:0},qw=r=>{if(_u(r))return ja;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Zp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ej),e.distcode=e.distdyn=new Int32Array(tj),e.sane=1,e.back=-1,bu},zw=r=>{if(_u(r))return ja;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,qw(r)},Pw=(r,e)=>{let t;if(_u(r))return ja;const s=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ja:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=t,s.wbits=e,zw(r))},Uw=(r,e)=>{if(!r)return ja;const t=new sj;r.state=t,t.strm=r,t.window=null,t.mode=Zp;const s=Pw(r,e);return s!==bu&&(r.state=null),s},ij=r=>Uw(r,rj);let qy=!0,jm,Mm;const aj=r=>{if(qy){jm=new Int32Array(512),Mm=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(Wf(Dw,r.lens,0,288,jm,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;Wf(Rw,r.lens,0,32,Mm,0,r.work,{bits:5}),qy=!1}r.lencode=jm,r.lenbits=9,r.distcode=Mm,r.distbits=5},Hw=(r,e,t,s)=>{let a;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),s>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>s&&(a=s),o.window.set(e.subarray(t-s,t-s+a),o.wnext),s-=a,s?(o.window.set(e.subarray(t-s,t),0),o.wnext=s,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},oj=(r,e)=>{let t,s,a,o,u,c,f,d,m,y,_,b,N,A,E=0,T,R,I,q,V,W,H,O;const F=new Uint8Array(4);let J,k;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_u(r)||!r.output||!r.input&&r.avail_in!==0)return ja;t=r.state,t.mode===yl&&(t.mode=Tm),u=r.next_out,a=r.output,f=r.avail_out,o=r.next_in,s=r.input,c=r.avail_in,d=t.hold,m=t.bits,y=c,_=f,O=bu;e:for(;;)switch(t.mode){case Zp:if(t.wrap===0){t.mode=Tm;break}for(;m<16;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,F[0]=d&255,F[1]=d>>>8&255,t.check=Io(t.check,F,2,0),d=0,m=0,t.mode=vy;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){r.msg="incorrect header check",t.mode=kr;break}if((d&15)!==by){r.msg="unknown compression method",t.mode=kr;break}if(d>>>=4,m-=4,H=(d&15)+8,t.wbits===0&&(t.wbits=H),H>15||H>t.wbits){r.msg="invalid window size",t.mode=kr;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=d&512?Cy:yl,d=0,m=0;break;case vy:for(;m<16;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}if(t.flags=d,(t.flags&255)!==by){r.msg="unknown compression method",t.mode=kr;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=kr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,t.check=Io(t.check,F,2,0)),d=0,m=0,t.mode=yy;case yy:for(;m<32;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,F[2]=d>>>16&255,F[3]=d>>>24&255,t.check=Io(t.check,F,4,0)),d=0,m=0,t.mode=xy;case xy:for(;m<16;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,t.check=Io(t.check,F,2,0)),d=0,m=0,t.mode=wy;case wy:if(t.flags&1024){for(;m<16;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,t.check=Io(t.check,F,2,0)),d=0,m=0}else t.head&&(t.head.extra=null);t.mode=_y;case _y:if(t.flags&1024&&(b=t.length,b>c&&(b=c),b&&(t.head&&(H=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(s.subarray(o,o+b),H)),t.flags&512&&t.wrap&4&&(t.check=Io(t.check,s,b,o)),c-=b,o+=b,t.length-=b),t.length))break e;t.length=0,t.mode=Sy;case Sy:if(t.flags&2048){if(c===0)break e;b=0;do H=s[o+b++],t.head&&H&&t.length<65536&&(t.head.name+=String.fromCharCode(H));while(H&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=Io(t.check,s,b,o)),c-=b,o+=b,H)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ny;case Ny:if(t.flags&4096){if(c===0)break e;b=0;do H=s[o+b++],t.head&&H&&t.length<65536&&(t.head.comment+=String.fromCharCode(H));while(H&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=Io(t.check,s,b,o)),c-=b,o+=b,H)break e}else t.head&&(t.head.comment=null);t.mode=Ay;case Ay:if(t.flags&512){for(;m<16;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.check&65535)){r.msg="header crc mismatch",t.mode=kr;break}d=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=yl;break;case Cy:for(;m<32;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}r.adler=t.check=By(d),d=0,m=0,t.mode=xp;case xp:if(t.havedict===0)return r.next_out=u,r.avail_out=f,r.next_in=o,r.avail_in=c,t.hold=d,t.bits=m,KE;r.adler=t.check=1,t.mode=yl;case yl:if(e===ZE||e===C1)break e;case Tm:if(t.last){d>>>=m&7,m-=m&7,t.mode=Em;break}for(;m<3;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}switch(t.last=d&1,d>>>=1,m-=1,d&3){case 0:t.mode=Ty;break;case 1:if(aj(t),t.mode=T1,e===C1){d>>>=2,m-=2;break e}break;case 2:t.mode=Ey;break;case 3:r.msg="invalid block type",t.mode=kr}d>>>=2,m-=2;break;case Ty:for(d>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}if((d&65535)!==(d>>>16^65535)){r.msg="invalid stored block lengths",t.mode=kr;break}if(t.length=d&65535,d=0,m=0,t.mode=km,e===C1)break e;case km:t.mode=ky;case ky:if(b=t.length,b){if(b>c&&(b=c),b>f&&(b=f),b===0)break e;a.set(s.subarray(o,o+b),u),c-=b,o+=b,f-=b,u+=b,t.length-=b;break}t.mode=yl;break;case Ey:for(;m<14;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}if(t.nlen=(d&31)+257,d>>>=5,m-=5,t.ndist=(d&31)+1,d>>>=5,m-=5,t.ncode=(d&15)+4,d>>>=4,m-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=kr;break}t.have=0,t.mode=jy;case jy:for(;t.have<t.ncode;){for(;m<3;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}t.lens[D[t.have++]]=d&7,d>>>=3,m-=3}for(;t.have<19;)t.lens[D[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,J={bits:t.lenbits},O=Wf($E,t.lens,0,19,t.lencode,0,t.work,J),t.lenbits=J.bits,O){r.msg="invalid code lengths set",t.mode=kr;break}t.have=0,t.mode=My;case My:for(;t.have<t.nlen+t.ndist;){for(;E=t.lencode[d&(1<<t.lenbits)-1],T=E>>>24,R=E>>>16&255,I=E&65535,!(T<=m);){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}if(I<16)d>>>=T,m-=T,t.lens[t.have++]=I;else{if(I===16){for(k=T+2;m<k;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}if(d>>>=T,m-=T,t.have===0){r.msg="invalid bit length repeat",t.mode=kr;break}H=t.lens[t.have-1],b=3+(d&3),d>>>=2,m-=2}else if(I===17){for(k=T+3;m<k;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}d>>>=T,m-=T,H=0,b=3+(d&7),d>>>=3,m-=3}else{for(k=T+7;m<k;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}d>>>=T,m-=T,H=0,b=11+(d&127),d>>>=7,m-=7}if(t.have+b>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=kr;break}for(;b--;)t.lens[t.have++]=H}}if(t.mode===kr)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=kr;break}if(t.lenbits=9,J={bits:t.lenbits},O=Wf(Dw,t.lens,0,t.nlen,t.lencode,0,t.work,J),t.lenbits=J.bits,O){r.msg="invalid literal/lengths set",t.mode=kr;break}if(t.distbits=6,t.distcode=t.distdyn,J={bits:t.distbits},O=Wf(Rw,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,J),t.distbits=J.bits,O){r.msg="invalid distances set",t.mode=kr;break}if(t.mode=T1,e===C1)break e;case T1:t.mode=k1;case k1:if(c>=6&&f>=258){r.next_out=u,r.avail_out=f,r.next_in=o,r.avail_in=c,t.hold=d,t.bits=m,UE(r,_),u=r.next_out,a=r.output,f=r.avail_out,o=r.next_in,s=r.input,c=r.avail_in,d=t.hold,m=t.bits,t.mode===yl&&(t.back=-1);break}for(t.back=0;E=t.lencode[d&(1<<t.lenbits)-1],T=E>>>24,R=E>>>16&255,I=E&65535,!(T<=m);){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}if(R&&(R&240)===0){for(q=T,V=R,W=I;E=t.lencode[W+((d&(1<<q+V)-1)>>q)],T=E>>>24,R=E>>>16&255,I=E&65535,!(q+T<=m);){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}d>>>=q,m-=q,t.back+=q}if(d>>>=T,m-=T,t.back+=T,t.length=I,R===0){t.mode=Iy;break}if(R&32){t.back=-1,t.mode=yl;break}if(R&64){r.msg="invalid literal/length code",t.mode=kr;break}t.extra=R&15,t.mode=Ly;case Ly:if(t.extra){for(k=t.extra;m<k;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Oy;case Oy:for(;E=t.distcode[d&(1<<t.distbits)-1],T=E>>>24,R=E>>>16&255,I=E&65535,!(T<=m);){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}if((R&240)===0){for(q=T,V=R,W=I;E=t.distcode[W+((d&(1<<q+V)-1)>>q)],T=E>>>24,R=E>>>16&255,I=E&65535,!(q+T<=m);){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}d>>>=q,m-=q,t.back+=q}if(d>>>=T,m-=T,t.back+=T,R&64){r.msg="invalid distance code",t.mode=kr;break}t.offset=I,t.extra=R&15,t.mode=Dy;case Dy:if(t.extra){for(k=t.extra;m<k;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=kr;break}t.mode=Ry;case Ry:if(f===0)break e;if(b=_-f,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=kr;break}b>t.wnext?(b-=t.wnext,N=t.wsize-b):N=t.wnext-b,b>t.length&&(b=t.length),A=t.window}else A=a,N=u-t.offset,b=t.length;b>f&&(b=f),f-=b,t.length-=b;do a[u++]=A[N++];while(--b);t.length===0&&(t.mode=k1);break;case Iy:if(f===0)break e;a[u++]=t.length,f--,t.mode=k1;break;case Em:if(t.wrap){for(;m<32;){if(c===0)break e;c--,d|=s[o++]<<m,m+=8}if(_-=f,r.total_out+=_,t.total+=_,t.wrap&4&&_&&(r.adler=t.check=t.flags?Io(t.check,a,_,u-_):bg(t.check,a,_,u-_)),_=f,t.wrap&4&&(t.flags?d:By(d))!==t.check){r.msg="incorrect data check",t.mode=kr;break}d=0,m=0}t.mode=Fy;case Fy:if(t.wrap&&t.flags){for(;m<32;){if(c===0)break e;c--,d+=s[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=kr;break}d=0,m=0}t.mode=Vy;case Vy:O=QE;break e;case kr:O=Iw;break e;case Vw:return Fw;case Bw:default:return ja}return r.next_out=u,r.avail_out=f,r.next_in=o,r.avail_in=c,t.hold=d,t.bits=m,(t.wsize||_!==r.avail_out&&t.mode<kr&&(t.mode<Em||e!==gy))&&Hw(r,r.output,r.next_out,_-r.avail_out),y-=r.avail_in,_-=r.avail_out,r.total_in+=y,r.total_out+=_,t.total+=_,t.wrap&4&&_&&(r.adler=t.check=t.flags?Io(t.check,a,_,r.next_out-_):bg(t.check,a,_,r.next_out-_)),r.data_type=t.bits+(t.last?64:0)+(t.mode===yl?128:0)+(t.mode===T1||t.mode===km?256:0),(y===0&&_===0||e===gy)&&O===bu&&(O=JE),O},lj=r=>{if(_u(r))return ja;let e=r.state;return e.window&&(e.window=null),r.state=null,bu},cj=(r,e)=>{if(_u(r))return ja;const t=r.state;return(t.wrap&2)===0?ja:(t.head=e,e.done=!1,bu)},uj=(r,e)=>{const t=e.length;let s,a,o;return _u(r)||(s=r.state,s.wrap!==0&&s.mode!==xp)?ja:s.mode===xp&&(a=1,a=bg(a,e,t,0),a!==s.check)?Iw:(o=Hw(r,e,t,t),o?(s.mode=Vw,Fw):(s.havedict=1,bu))};var hj=zw,fj=Pw,dj=qw,pj=ij,mj=Uw,gj=oj,bj=lj,vj=cj,yj=uj,xj="pako inflate (from Nodeca project)",wl={inflateReset:hj,inflateReset2:fj,inflateResetKeep:dj,inflateInit:pj,inflateInit2:mj,inflate:gj,inflateEnd:bj,inflateGetHeader:vj,inflateSetDictionary:yj,inflateInfo:xj};function wj(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var _j=wj;const Gw=Object.prototype.toString,{Z_NO_FLUSH:Sj,Z_FINISH:Nj,Z_OK:od,Z_STREAM_END:Lm,Z_NEED_DICT:Om,Z_STREAM_ERROR:Aj,Z_DATA_ERROR:zy,Z_MEM_ERROR:Cj}=Mw;function Nd(r){this.options=Lw.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zE,this.strm.avail_out=0;let t=wl.inflateInit2(this.strm,e.windowBits);if(t!==od)throw new Error(vg[t]);if(this.header=new _j,wl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=yg.string2buf(e.dictionary):Gw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=wl.inflateSetDictionary(this.strm,e.dictionary),t!==od)))throw new Error(vg[t])}Nd.prototype.push=function(r,e){const t=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?Nj:Sj,Gw.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(s),t.next_out=0,t.avail_out=s),o=wl.inflate(t,u),o===Om&&a&&(o=wl.inflateSetDictionary(t,a),o===od?o=wl.inflate(t,u):o===zy&&(o=Om));t.avail_in>0&&o===Lm&&t.state.wrap>0&&r[t.next_in]!==0;)wl.inflateReset(t),o=wl.inflate(t,u);switch(o){case Aj:case zy:case Om:case Cj:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===Lm))if(this.options.to==="string"){let f=yg.utf8border(t.output,t.next_out),d=t.next_out-f,m=yg.buf2string(t.output,f);t.next_out=d,t.avail_out=s-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===od&&c===0)){if(o===Lm)return o=wl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Nd.prototype.onData=function(r){this.chunks.push(r)};Nd.prototype.onEnd=function(r){r===od&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Lw.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function Tj(r,e){const t=new Nd(e);if(t.push(r),t.err)throw t.msg||vg[t.err];return t.result}var kj=Nd,Ej=Tj,jj={Inflate:kj,inflate:Ej};const{Inflate:Mj,inflate:Lj}=jj;var Py=Mj,Oj=Lj;const Ww=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Ww[r]=e}const Uy=4294967295;function Dj(r,e,t){let s=r;for(let a=0;a<t;a++)s=Ww[(s^e[a])&255]^s>>>8;return s}function Rj(r,e){return(Dj(Uy,r,e)^Uy)>>>0}function Hy(r,e,t){const s=r.readUint32(),a=Rj(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==s)throw new Error(`CRC mismatch for chunk ${t}. Expected ${s}, found ${a}`)}function Yw(r,e,t){for(let s=0;s<t;s++)e[s]=r[s]}function Xw(r,e,t,s){let a=0;for(;a<s;a++)e[a]=r[a];for(;a<t;a++)e[a]=r[a]+e[a-s]&255}function $w(r,e,t,s){let a=0;if(t.length===0)for(;a<s;a++)e[a]=r[a];else for(;a<s;a++)e[a]=r[a]+t[a]&255}function Zw(r,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<s;o++)e[o]=r[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=r[o]+(t[o]>>1)&255;for(;o<s;o++)e[o]=r[o]+(e[o-a]+t[o]>>1)&255}}function Qw(r,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<s;o++)e[o]=r[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=r[o]+t[o]&255;for(;o<s;o++)e[o]=r[o]+Ij(e[o-a],t[o],t[o-a])&255}}function Ij(r,e,t){const s=r+e-t,a=Math.abs(s-r),o=Math.abs(s-e),u=Math.abs(s-t);return a<=o&&a<=u?r:o<=u?e:t}function Fj(r,e,t,s,a,o){switch(r){case 0:Yw(e,t,a);break;case 1:Xw(e,t,a,o);break;case 2:$w(e,t,s,a);break;case 3:Zw(e,t,s,a,o);break;case 4:Qw(e,t,s,a,o);break;default:throw new Error(`Unsupported filter: ${r}`)}}const Vj=new Uint16Array([255]),Bj=new Uint8Array(Vj.buffer),qj=Bj[0]===255;function zj(r){const{data:e,width:t,height:s,channels:a,depth:o}=r,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(s*t*c);let d=0;for(let m=0;m<7;m++){const y=u[m],_=Math.ceil((t-y.x)/y.xStep),b=Math.ceil((s-y.y)/y.yStep);if(_<=0||b<=0)continue;const N=_*c,A=new Uint8Array(N);for(let E=0;E<b;E++){const T=e[d++],R=e.subarray(d,d+N);d+=N;const I=new Uint8Array(N);Fj(T,R,I,A,N,c),A.set(I);for(let q=0;q<_;q++){const V=y.x+q*y.xStep,W=y.y+E*y.yStep;if(!(V>=t||W>=s))for(let H=0;H<c;H++)f[(W*t+V)*c+H]=I[q*c+H]}}}if(o===16){const m=new Uint16Array(f.buffer);if(qj)for(let y=0;y<m.length;y++)m[y]=Pj(m[y]);return m}else return f}function Pj(r){return(r&255)<<8|r>>8&255}const Uj=new Uint16Array([255]),Hj=new Uint8Array(Uj.buffer),Gj=Hj[0]===255,Wj=new Uint8Array(0);function Gy(r){const{data:e,width:t,height:s,channels:a,depth:o}=r,u=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*t),f=new Uint8Array(s*c);let d=Wj,m=0,y,_;for(let b=0;b<s;b++){switch(y=e.subarray(m+1,m+1+c),_=f.subarray(b*c,(b+1)*c),e[m]){case 0:Yw(y,_,c);break;case 1:Xw(y,_,c,u);break;case 2:$w(y,_,d,c);break;case 3:Zw(y,_,d,c,u);break;case 4:Qw(y,_,d,c,u);break;default:throw new Error(`Unsupported filter: ${e[m]}`)}d=_,m+=c+1}if(o===16){const b=new Uint16Array(f.buffer);if(Gj)for(let N=0;N<b.length;N++)b[N]=Yj(b[N]);return b}else return f}function Yj(r){return(r&255)<<8|r>>8&255}const q1=Uint8Array.of(137,80,78,71,13,10,26,10);function Wy(r){if(!Xj(r.readBytes(q1.length)))throw new Error("wrong PNG signature")}function Xj(r){if(r.length<q1.length)return!1;for(let e=0;e<q1.length;e++)if(r[e]!==q1[e])return!1;return!0}const $j="tEXt",Zj=0,Kw=new TextDecoder("latin1");function Qj(r){if(Jj(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const Kj=/^[\u0000-\u00FF]*$/;function Jj(r){if(!Kj.test(r))throw new Error("invalid latin1 text")}function eM(r,e,t){const s=Jw(e);r[s]=tM(e,t-s.length-1)}function Jw(r){for(r.mark();r.readByte()!==Zj;);const e=r.offset;r.reset();const t=Kw.decode(r.readBytes(e-r.offset-1));return r.skip(1),Qj(t),t}function tM(r,e){return Kw.decode(r.readBytes(e))}const ra={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Dm={UNKNOWN:-1,DEFLATE:0},Yy={UNKNOWN:-1,ADAPTIVE:0},Rm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},E1={NONE:0,BACKGROUND:1,PREVIOUS:2},Im={SOURCE:0,OVER:1};class nM extends M2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:s=!1}=t;this._checkCrc=s,this._inflator=new Py,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Dm.UNKNOWN,this._filterMethod=Yy.UNKNOWN,this._interlaceMethod=Rm.UNKNOWN,this._colorType=ra.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Wy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Wy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const s=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case $j:eM(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Hy(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const s=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=s+e;break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Hy(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=rM(this.readUint8());const t=this.readUint8();this._colorType=t;let s;switch(t){case ra.GREYSCALE:s=1;break;case ra.TRUECOLOUR:s=3;break;case ra.INDEXED_COLOUR:s=1;break;case ra.GREYSCALE_ALPHA:s=2;break;case ra.TRUECOLOUR_ALPHA:s=4;break;case ra.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Dm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const s=[];this._palette=s;for(let a=0;a<t;a++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,s=this.offset+this.byteOffset;if(s+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,s,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ra.GREYSCALE:case ra.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case ra.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const s=this.readByte();this._palette[t].push(s)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case ra.UNKNOWN:case ra.GREYSCALE_ALPHA:case ra.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=Jw(this),s=this.readUint8();if(s!==Dm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:Oj(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),s=this.readByte();this._png.resolution={x:e,y:t,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(e);if(s){if(s.data=Gy({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)t.data=s.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(s,a,t),this.addFrameDataToCanvas(t,s)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,s){switch(e.disposeOp){case E1.NONE:break;case E1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const u=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[u+c]=0}break;case E1.PREVIOUS:s.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const s=1<<this._png.depth,a=(o,u)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+u)*this._png.channels,f=(o*t.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case Im.SOURCE:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case Im.OVER:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++){const m=t.data[f+this._png.channels-1]/s,y=d%(this._png.channels-1)===0?1:t.data[f+d],_=Math.floor(m*y+(1-m)*e.data[c+d]);e.data[c+d]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Yy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Rm.NO_INTERLACE)this._png.data=Gy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Rm.ADAM7)this._png.data=zj({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:E1.NONE,blendOp:Im.SOURCE,data:e}),this._inflator=new Py,this._writingDataChunks=!1}}function rM(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var Xy;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(Xy||(Xy={}));function sM(r,e){return new nM(r,e).decode()}var rn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Fm(){rn.console&&typeof rn.console.log=="function"&&rn.console.log.apply(rn.console,arguments)}var hr={log:Fm,warn:function(r){rn.console&&(typeof rn.console.warn=="function"?rn.console.warn.apply(rn.console,arguments):Fm.call(null,arguments))},error:function(r){rn.console&&(typeof rn.console.error=="function"?rn.console.error.apply(rn.console,arguments):Fm(r))}};function Vm(r,e,t){var s=new XMLHttpRequest;s.open("GET",r),s.responseType="blob",s.onload=function(){iu(s.response,e,t)},s.onerror=function(){hr.error("could not download file")},s.send()}function $y(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function j1(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var iu=rn.saveAs||((typeof window>"u"?"undefined":Jn(window))!=="object"||window!==rn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var s=rn.URL||rn.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?$y(a.href)?Vm(r,e,t):j1(a,a.target="_blank"):j1(a)):(a.href=s.createObjectURL(r),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){j1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if($y(r))Vm(r,e,t);else{var s=document.createElement("a");s.href=r,s.target="_blank",setTimeout(function(){j1(s)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Jn(o)!=="object"&&(hr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(r,t),e)}:function(r,e,t,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof r=="string")return Vm(r,e,t);var a=r.type==="application/octet-stream",o=/constructor/i.test(rn.HTMLElement)||rn.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&o)&&(typeof FileReader>"u"?"undefined":Jn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=u?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=m:location=m,s=null},c.readAsDataURL(r)}else{var f=rn.URL||rn.webkitURL,d=f.createObjectURL(r);s?s.location=d:location.href=d,s=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function e_(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],s=0;s<t.length;s++){var a=t[s].re,o=t[s].process,u=a.exec(r);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var z1=rn.atob.bind(rn),Zy=rn.btoa.bind(rn);function Bm(r,e){var t=r[0],s=r[1],a=r[2],o=r[3];t=Js(t,s,a,o,e[0],7,-680876936),o=Js(o,t,s,a,e[1],12,-389564586),a=Js(a,o,t,s,e[2],17,606105819),s=Js(s,a,o,t,e[3],22,-1044525330),t=Js(t,s,a,o,e[4],7,-176418897),o=Js(o,t,s,a,e[5],12,1200080426),a=Js(a,o,t,s,e[6],17,-1473231341),s=Js(s,a,o,t,e[7],22,-45705983),t=Js(t,s,a,o,e[8],7,1770035416),o=Js(o,t,s,a,e[9],12,-1958414417),a=Js(a,o,t,s,e[10],17,-42063),s=Js(s,a,o,t,e[11],22,-1990404162),t=Js(t,s,a,o,e[12],7,1804603682),o=Js(o,t,s,a,e[13],12,-40341101),a=Js(a,o,t,s,e[14],17,-1502002290),t=ei(t,s=Js(s,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=ei(o,t,s,a,e[6],9,-1069501632),a=ei(a,o,t,s,e[11],14,643717713),s=ei(s,a,o,t,e[0],20,-373897302),t=ei(t,s,a,o,e[5],5,-701558691),o=ei(o,t,s,a,e[10],9,38016083),a=ei(a,o,t,s,e[15],14,-660478335),s=ei(s,a,o,t,e[4],20,-405537848),t=ei(t,s,a,o,e[9],5,568446438),o=ei(o,t,s,a,e[14],9,-1019803690),a=ei(a,o,t,s,e[3],14,-187363961),s=ei(s,a,o,t,e[8],20,1163531501),t=ei(t,s,a,o,e[13],5,-1444681467),o=ei(o,t,s,a,e[2],9,-51403784),a=ei(a,o,t,s,e[7],14,1735328473),t=ti(t,s=ei(s,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=ti(o,t,s,a,e[8],11,-2022574463),a=ti(a,o,t,s,e[11],16,1839030562),s=ti(s,a,o,t,e[14],23,-35309556),t=ti(t,s,a,o,e[1],4,-1530992060),o=ti(o,t,s,a,e[4],11,1272893353),a=ti(a,o,t,s,e[7],16,-155497632),s=ti(s,a,o,t,e[10],23,-1094730640),t=ti(t,s,a,o,e[13],4,681279174),o=ti(o,t,s,a,e[0],11,-358537222),a=ti(a,o,t,s,e[3],16,-722521979),s=ti(s,a,o,t,e[6],23,76029189),t=ti(t,s,a,o,e[9],4,-640364487),o=ti(o,t,s,a,e[12],11,-421815835),a=ti(a,o,t,s,e[15],16,530742520),t=ni(t,s=ti(s,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=ni(o,t,s,a,e[7],10,1126891415),a=ni(a,o,t,s,e[14],15,-1416354905),s=ni(s,a,o,t,e[5],21,-57434055),t=ni(t,s,a,o,e[12],6,1700485571),o=ni(o,t,s,a,e[3],10,-1894986606),a=ni(a,o,t,s,e[10],15,-1051523),s=ni(s,a,o,t,e[1],21,-2054922799),t=ni(t,s,a,o,e[8],6,1873313359),o=ni(o,t,s,a,e[15],10,-30611744),a=ni(a,o,t,s,e[6],15,-1560198380),s=ni(s,a,o,t,e[13],21,1309151649),t=ni(t,s,a,o,e[4],6,-145523070),o=ni(o,t,s,a,e[11],10,-1120210379),a=ni(a,o,t,s,e[2],15,718787259),s=ni(s,a,o,t,e[9],21,-343485551),r[0]=vc(t,r[0]),r[1]=vc(s,r[1]),r[2]=vc(a,r[2]),r[3]=vc(o,r[3])}function Qp(r,e,t,s,a,o){return e=vc(vc(e,r),vc(s,o)),vc(e<<a|e>>>32-a,t)}function Js(r,e,t,s,a,o,u){return Qp(e&t|~e&s,r,e,a,o,u)}function ei(r,e,t,s,a,o,u){return Qp(e&s|t&~s,r,e,a,o,u)}function ti(r,e,t,s,a,o,u){return Qp(e^t^s,r,e,a,o,u)}function ni(r,e,t,s,a,o,u){return Qp(t^(e|~s),r,e,a,o,u)}function t_(r){var e,t=r.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Bm(s,iM(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Bm(s,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,Bm(s,a),s}function iM(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var Qy="0123456789abcdef".split("");function aM(r){for(var e="",t=0;t<4;t++)e+=Qy[r>>8*t+4&15]+Qy[r>>8*t&15];return e}function oM(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function xg(r){return t_(r).map(oM).join("")}var lM=(function(r){for(var e=0;e<r.length;e++)r[e]=aM(r[e]);return r.join("")})(t_("hello"))!="5d41402abc4b2a76b9719d911017c592";function vc(r,e){if(lM){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}function wg(r,e){var t,s,a,o;if(r!==t){for(var u=(a=r,o=1+(256/r.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var m=c[f];d=(d+m+u.charCodeAt(f))%256,c[f]=c[d],c[d]=m}t=r,s=c}else c=s;var y=e.length,_=0,b=0,N="";for(f=0;f<y;f++)b=(b+(m=c[_=(_+1)%256]))%256,c[_]=c[b],c[b]=m,u=c[(c[_]+c[b])%256],N+=String.fromCharCode(e.charCodeAt(f)^u);return N}var Ky={print:4,modify:8,copy:16,"annot-forms":32};function bh(r,e,t,s){this.v=1,this.r=2;var a=192;r.forEach(function(c){if(Ky.perm!==void 0)throw new Error("Invalid permission: "+c);a+=Ky[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^a)),this.encryptionKey=xg(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=wg(this.encryptionKey,this.padding)}function vh(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,s=0;s<t;s++){var a=r.charCodeAt(s);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[s]}return e}function Jy(r){if(Jn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,s,a){if(a=a||!1,typeof t!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[s,!!a],o},this.unsubscribe=function(t){for(var s in e)if(e[s][t])return delete e[s][t],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(r,s)}catch(c){rn.console&&hr.error("jsPDF PubSub Error",c.message,c)}u[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function wp(r){if(!(this instanceof wp))return new wp(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function n_(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function ou(r,e,t,s,a){if(!(this instanceof ou))return new ou(r,e,t,s,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,n_.call(this,s,a)}function _h(r,e,t,s,a){if(!(this instanceof _h))return new _h(r,e,t,s,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,n_.call(this,s,a)}function Vt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",m=null;Jn(r=r||{})==="object"&&(t=r.orientation,s=r.unit||s,a=r.format||a,o=r.compress||r.compressPdf||o,(m=r.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(f=r.floatPrecision),d=r.defaultPathOperation||"S"),u=r.filters||(o===!0?["FlateEncode"]:u),s=s||"mm",t=(""+(t||"P")).toLowerCase();var y=r.putOnlyUsedFonts||!1,_={},b={internal:{},__private__:{}};b.__private__.PubSub=Jy;var N="1.3",A=b.__private__.getPdfVersion=function(){return N};b.__private__.setPdfVersion=function(S){N=S};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return E};var T=b.__private__.getPageFormat=function(S){return E[S]};a=a||"a4";var R="compat",I="advanced",q=R;function V(){this.saveGraphicsState(),Y(new it(kt,0,0,-kt,0,Fa()*kt).toString()+" cm"),this.setFontSize(this.getFontSize()/kt),d="n",q=I}function W(){this.restoreGraphicsState(),d="S",q=R}var H=b.__private__.combineFontStyleAndFontWeight=function(S,P){if(S=="bold"&&P=="normal"||S=="bold"&&P==400||S=="normal"&&P=="italic"||S=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(S=P==400||P==="normal"?S==="italic"?"italic":"normal":P!=700&&P!=="bold"||S!=="normal"?(P==700?"bold":P)+""+S:"bold"),S};b.advancedAPI=function(S){var P=q===R;return P&&V.call(this),typeof S!="function"||(S(this),P&&W.call(this)),this},b.compatAPI=function(S){var P=q===I;return P&&W.call(this),typeof S!="function"||(S(this),P&&V.call(this)),this},b.isAdvancedAPI=function(){return q===I};var O,F=function(S){if(q!==I)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},J=b.roundToPrecision=b.__private__.roundToPrecision=function(S,P){var he=e||P;if(isNaN(S)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(he).replace(/0+$/,"")};O=b.hpf=b.__private__.hpf=typeof f=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return J(S,f)}:f==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return J(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return J(S,16)};var k=b.f2=b.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return J(S,2)},D=b.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return J(S,3)},Q=b.scale=b.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return q===R?S*kt:q===I?S:void 0},$=function(S){return Q((function(P){return q===R?Fa()-P:q===I?P:void 0})(S))};b.__private__.setPrecision=b.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var le,B="00000000000000000000000000000000",ie=b.__private__.getFileId=function(){return B},re=b.__private__.setFileId=function(S){return B=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():B.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Wr=new bh(m.userPermissions,m.userPassword,m.ownerPassword,B)),B};b.setFileId=function(S){return re(S),this},b.getFileId=function(){return ie()};var fe=b.__private__.convertDateToPDFDate=function(S){var P=S.getTimezoneOffset(),he=P<0?"+":"-",be=Math.floor(Math.abs(P/60)),Ne=Math.abs(P%60),He=[he,ee(be),"'",ee(Ne),"'"].join("");return["D:",S.getFullYear(),ee(S.getMonth()+1),ee(S.getDate()),ee(S.getHours()),ee(S.getMinutes()),ee(S.getSeconds()),He].join("")},me=b.__private__.convertPDFDateToDate=function(S){var P=parseInt(S.substr(2,4),10),he=parseInt(S.substr(6,2),10)-1,be=parseInt(S.substr(8,2),10),Ne=parseInt(S.substr(10,2),10),He=parseInt(S.substr(12,2),10),Ke=parseInt(S.substr(14,2),10);return new Date(P,he,be,Ne,He,Ke,0)},G=b.__private__.setCreationDate=function(S){var P;if(S===void 0&&(S=new Date),S instanceof Date)P=fe(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=S}return le=P},j=b.__private__.getCreationDate=function(S){var P=le;return S==="jsDate"&&(P=me(le)),P};b.setCreationDate=function(S){return G(S),this},b.getCreationDate=function(S){return j(S)};var z,ee=b.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},te=b.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},oe=0,de=[],pe=[],ve=0,_e=[],qe=[],Xe=!1,et=pe;b.__private__.setCustomOutputDestination=function(S){Xe=!0,et=S};var ut=function(S){Xe||(et=S)};b.__private__.resetCustomOutputDestination=function(){Xe=!1,et=pe};var Y=b.__private__.out=function(S){return S=S.toString(),ve+=S.length+1,et.push(S),et},Ie=b.__private__.write=function(S){return Y(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},pt=b.__private__.getArrayBuffer=function(S){for(var P=S.length,he=new ArrayBuffer(P),be=new Uint8Array(he);P--;)be[P]=S.charCodeAt(P);return he},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Je};var je=r.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(S){return je=q===I?S/kt:S,this};var st,Ue=b.__private__.getFontSize=b.getFontSize=function(){return q===R?je:je*kt},nt=r.R2L||!1;b.__private__.setR2L=b.setR2L=function(S){return nt=S,this},b.__private__.getR2L=b.getR2L=function(){return nt};var Oe,$e=b.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))st=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');st=S}else st=parseInt(S,10)};b.__private__.getZoomMode=function(){return st};var tt,at=b.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Oe=S};b.__private__.getPageMode=function(){return Oe};var mt=b.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');tt=S};b.__private__.getLayoutMode=function(){return tt},b.__private__.setDisplayMode=b.setDisplayMode=function(S,P,he){return $e(S),mt(P),at(he),this};var yt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(S){if(Object.keys(yt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return yt[S]},b.__private__.getDocumentProperties=function(){return yt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(S){for(var P in yt)yt.hasOwnProperty(P)&&S[P]&&(yt[P]=S[P]);return this},b.__private__.setDocumentProperty=function(S,P){if(Object.keys(yt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return yt[S]=P};var ot,kt,ft,mn,Gt,Nt={},Lt={},It=[],Se={},lt={},ct={},gt={},en=null,St=0,bt=[],qt=new Jy(b),De=r.hotfixes||[],ht={},vt={},Ot=[],it=function S(P,he,be,Ne,He,Ke){if(!(this instanceof S))return new S(P,he,be,Ne,He,Ke);isNaN(P)&&(P=1),isNaN(he)&&(he=0),isNaN(be)&&(be=0),isNaN(Ne)&&(Ne=1),isNaN(He)&&(He=0),isNaN(Ke)&&(Ke=0),this._matrix=[P,he,be,Ne,He,Ke]};Object.defineProperty(it.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(it.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(it.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(it.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(it.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(it.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(it.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(it.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(it.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(it.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(it.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(it.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(it.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(it.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(it.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(it.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),it.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(S)},it.prototype.multiply=function(S){var P=S.sx*this.sx+S.shy*this.shx,he=S.sx*this.shy+S.shy*this.sy,be=S.shx*this.sx+S.sy*this.shx,Ne=S.shx*this.shy+S.sy*this.sy,He=S.tx*this.sx+S.ty*this.shx+this.tx,Ke=S.tx*this.shy+S.ty*this.sy+this.ty;return new it(P,he,be,Ne,He,Ke)},it.prototype.decompose=function(){var S=this.sx,P=this.shy,he=this.shx,be=this.sy,Ne=this.tx,He=this.ty,Ke=Math.sqrt(S*S+P*P),Ct=(S/=Ke)*he+(P/=Ke)*be;he-=S*Ct,be-=P*Ct;var Dt=Math.sqrt(he*he+be*be);return Ct/=Dt,S*(be/=Dt)<P*(he/=Dt)&&(S=-S,P=-P,Ct=-Ct,Ke=-Ke),{scale:new it(Ke,0,0,Dt,0,0),translate:new it(1,0,0,1,Ne,He),rotate:new it(S,P,-P,S,0,0),skew:new it(1,0,Ct,1,0,0)}},it.prototype.toString=function(S){return this.join(" ")},it.prototype.inversed=function(){var S=this.sx,P=this.shy,he=this.shx,be=this.sy,Ne=this.tx,He=this.ty,Ke=1/(S*be-P*he),Ct=be*Ke,Dt=-P*Ke,Qt=-he*Ke,ln=S*Ke;return new it(Ct,Dt,Qt,ln,-Ct*Ne-Qt*He,-Dt*Ne-ln*He)},it.prototype.applyToPoint=function(S){var P=S.x*this.sx+S.y*this.shx+this.tx,he=S.x*this.shy+S.y*this.sy+this.ty;return new vi(P,he)},it.prototype.applyToRectangle=function(S){var P=this.applyToPoint(S),he=this.applyToPoint(new vi(S.x+S.w,S.y+S.h));return new La(P.x,P.y,he.x-P.x,he.y-P.y)},it.prototype.clone=function(){var S=this.sx,P=this.shy,he=this.shx,be=this.sy,Ne=this.tx,He=this.ty;return new it(S,P,he,be,Ne,He)},b.Matrix=it;var Kt=b.matrixMult=function(S,P){return P.multiply(S)},gn=new it(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=gn;var bn=function(S,P){if(!lt[S]){var he=(P instanceof ou?"Sh":"P")+(Object.keys(Se).length+1).toString(10);P.id=he,lt[S]=he,Se[he]=P,qt.publish("addPattern",P)}};b.ShadingPattern=ou,b.TilingPattern=_h,b.addShadingPattern=function(S,P){return F("addShadingPattern()"),bn(S,P),this},b.beginTilingPattern=function(S){F("beginTilingPattern()"),Zo(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},b.endTilingPattern=function(S,P){F("endTilingPattern()"),P.stream=qe[z].join(`
`),bn(S,P),qt.publish("endTilingPattern",P),Ot.pop().restore()};var dn,sn=b.__private__.newObject=function(){var S=Te();return Fe(S,!0),S},Te=b.__private__.newObjectDeferred=function(){return oe++,de[oe]=function(){return ve},oe},Fe=function(S,P){return P=typeof P=="boolean"&&P,de[S]=ve,P&&Y(S+" 0 obj"),S},Qe=b.__private__.newAdditionalObject=function(){var S={objId:Te(),content:""};return _e.push(S),S},xt=Te(),Ft=Te(),Et=b.__private__.decodeColorString=function(S){var P=S.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var he=parseFloat(P[0]);P=[he,he,he,"r"]}for(var be="#",Ne=0;Ne<3;Ne++)be+=("0"+Math.floor(255*parseFloat(P[Ne])).toString(16)).slice(-2);return be},Xt=b.__private__.encodeColorString=function(S){var P;typeof S=="string"&&(S={ch1:S});var he=S.ch1,be=S.ch2,Ne=S.ch3,He=S.ch4,Ke=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var Ct=new e_(he);if(Ct.ok)he=Ct.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var Dt=parseInt(he.substr(1),16);he=Dt>>16&255,be=Dt>>8&255,Ne=255&Dt}if(be===void 0||He===void 0&&he===be&&be===Ne)P=typeof he=="string"?he+" "+Ke[0]:S.precision===2?k(he/255)+" "+Ke[0]:D(he/255)+" "+Ke[0];else if(He===void 0||Jn(He)==="object"){if(He&&!isNaN(He.a)&&He.a===0)return["1.","1.","1.",Ke[1]].join(" ");P=typeof he=="string"?[he,be,Ne,Ke[1]].join(" "):S.precision===2?[k(he/255),k(be/255),k(Ne/255),Ke[1]].join(" "):[D(he/255),D(be/255),D(Ne/255),Ke[1]].join(" ")}else P=typeof he=="string"?[he,be,Ne,He,Ke[2]].join(" "):S.precision===2?[k(he),k(be),k(Ne),k(He),Ke[2]].join(" "):[D(he),D(be),D(Ne),D(He),Ke[2]].join(" ");return P},tn=b.__private__.getFilters=function(){return u},Ht=b.__private__.putStream=function(S){var P=(S=S||{}).data||"",he=S.filters||tn(),be=S.alreadyAppliedFilters||[],Ne=S.addLength1||!1,He=P.length,Ke=S.objectId,Ct=function(Yr){return Yr};if(m!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(Ct=Wr.encryptor(Ke,0));var Dt={};he===!0&&(he=["FlateEncode"]);var Qt=S.additionalKeyValues||[],ln=(Dt=Vt.API.processDataByFilters!==void 0?Vt.API.processDataByFilters(P,he):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(Dt.data.length!==0&&(Qt.push({key:"Length",value:Dt.data.length}),Ne===!0&&Qt.push({key:"Length1",value:He})),ln.length!=0)if(ln.split("/").length-1==1)Qt.push({key:"Filter",value:ln});else{Qt.push({key:"Filter",value:"["+ln+"]"});for(var Mn=0;Mn<Qt.length;Mn+=1)if(Qt[Mn].key==="DecodeParms"){for(var mr=[],jr=0;jr<Dt.reverseChain.split("/").length-1;jr+=1)mr.push("null");mr.push(Qt[Mn].value),Qt[Mn].value="["+mr.join(" ")+"]"}}Y("<<");for(var er=0;er<Qt.length;er++)Y("/"+Qt[er].key+" "+Qt[er].value);Y(">>"),Dt.data.length!==0&&(Y("stream"),Y(Ct(Dt.data)),Y("endstream"))},on=b.__private__.putPage=function(S){var P=S.number,he=S.data,be=S.objId,Ne=S.contentsObjId;Fe(be,!0),Y("<</Type /Page"),Y("/Parent "+S.rootDictionaryObjId+" 0 R"),Y("/Resources "+S.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(O(S.mediaBox.bottomLeftX))+" "+parseFloat(O(S.mediaBox.bottomLeftY))+" "+O(S.mediaBox.topRightX)+" "+O(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&Y("/CropBox ["+O(S.cropBox.bottomLeftX)+" "+O(S.cropBox.bottomLeftY)+" "+O(S.cropBox.topRightX)+" "+O(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&Y("/BleedBox ["+O(S.bleedBox.bottomLeftX)+" "+O(S.bleedBox.bottomLeftY)+" "+O(S.bleedBox.topRightX)+" "+O(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&Y("/TrimBox ["+O(S.trimBox.bottomLeftX)+" "+O(S.trimBox.bottomLeftY)+" "+O(S.trimBox.topRightX)+" "+O(S.trimBox.topRightY)+"]"),S.artBox!==null&&Y("/ArtBox ["+O(S.artBox.bottomLeftX)+" "+O(S.artBox.bottomLeftY)+" "+O(S.artBox.topRightX)+" "+O(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&Y("/UserUnit "+S.userUnit),qt.publish("putPage",{objId:be,pageContext:bt[P],pageNumber:P,page:he}),Y("/Contents "+Ne+" 0 R"),Y(">>"),Y("endobj");var He=he.join(`
`);return q===I&&(He+=`
Q`),Fe(Ne,!0),Ht({data:He,filters:tn(),objectId:Ne}),Y("endobj"),be},zn=b.__private__.putPages=function(){var S,P,he=[];for(S=1;S<=St;S++)bt[S].objId=Te(),bt[S].contentsObjId=Te();for(S=1;S<=St;S++)he.push(on({number:S,data:qe[S],objId:bt[S].objId,contentsObjId:bt[S].contentsObjId,mediaBox:bt[S].mediaBox,cropBox:bt[S].cropBox,bleedBox:bt[S].bleedBox,trimBox:bt[S].trimBox,artBox:bt[S].artBox,userUnit:bt[S].userUnit,rootDictionaryObjId:xt,resourceDictionaryObjId:Ft}));Fe(xt,!0),Y("<</Type /Pages");var be="/Kids [";for(P=0;P<St;P++)be+=he[P]+" 0 R ";Y(be+"]"),Y("/Count "+St),Y(">>"),Y("endobj"),qt.publish("postPutPages")},kn=function(S){qt.publish("putFont",{font:S,out:Y,newObject:sn,putStream:Ht}),S.isAlreadyPutted!==!0&&(S.objectNumber=sn(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+vh(S.postScriptName)),Y("/Subtype /Type1"),typeof S.encoding=="string"&&Y("/Encoding /"+S.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},En=function(S){S.objectNumber=sn();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[O(S.x),O(S.y),O(S.x+S.width),O(S.y+S.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var he=S.pages[1].join(`
`);Ht({data:he,additionalKeyValues:P,objectId:S.objectNumber}),Y("endobj")},Vn=function(S,P){P||(P=21);var he=sn(),be=(function(Ke,Ct){var Dt,Qt=[],ln=1/(Ct-1);for(Dt=0;Dt<1;Dt+=ln)Qt.push(Dt);if(Qt.push(1),Ke[0].offset!=0){var Mn={offset:0,color:Ke[0].color};Ke.unshift(Mn)}if(Ke[Ke.length-1].offset!=1){var mr={offset:1,color:Ke[Ke.length-1].color};Ke.push(mr)}for(var jr="",er=0,Yr=0;Yr<Qt.length;Yr++){for(Dt=Qt[Yr];Dt>Ke[er+1].offset;)er++;var Ir=Ke[er].offset,fs=(Dt-Ir)/(Ke[er+1].offset-Ir),Va=Ke[er].color,Xi=Ke[er+1].color;jr+=te(Math.round((1-fs)*Va[0]+fs*Xi[0]).toString(16))+te(Math.round((1-fs)*Va[1]+fs*Xi[1]).toString(16))+te(Math.round((1-fs)*Va[2]+fs*Xi[2]).toString(16))}return jr.trim()})(S.colors,P),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+P+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ht({data:be,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),Y("endobj"),S.objectNumber=sn(),Y("<< /ShadingType "+S.type),Y("/ColorSpace /DeviceRGB");var He="/Coords ["+O(parseFloat(S.coords[0]))+" "+O(parseFloat(S.coords[1]))+" ";S.type===2?He+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3])):He+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3]))+" "+O(parseFloat(S.coords[4]))+" "+O(parseFloat(S.coords[5])),Y(He+="]"),S.matrix&&Y("/Matrix ["+S.matrix.toString()+"]"),Y("/Function "+he+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},$n=function(S,P){var he=Te(),be=sn();P.push({resourcesOid:he,objectOid:be}),S.objectNumber=be;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+S.boundingBox.map(O).join(" ")+"]"}),Ne.push({key:"XStep",value:O(S.xStep)}),Ne.push({key:"YStep",value:O(S.yStep)}),Ne.push({key:"Resources",value:he+" 0 R"}),S.matrix&&Ne.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Ht({data:S.stream,additionalKeyValues:Ne,objectId:S.objectNumber}),Y("endobj")},Ys=function(S){for(var P in S.objectNumber=sn(),Y("<<"),S)switch(P){case"opacity":Y("/ca "+k(S[P]));break;case"stroke-opacity":Y("/CA "+k(S[P]))}Y(">>"),Y("endobj")},es=function(S){Fe(S.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var P in Y("/Font <<"),Nt)Nt.hasOwnProperty(P)&&(y===!1||y===!0&&_.hasOwnProperty(P))&&Y("/"+P+" "+Nt[P].objectNumber+" 0 R");Y(">>")})(),(function(){if(Object.keys(Se).length>0){for(var P in Y("/Shading <<"),Se)Se.hasOwnProperty(P)&&Se[P]instanceof ou&&Se[P].objectNumber>=0&&Y("/"+P+" "+Se[P].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),Y(">>")}})(),(function(P){if(Object.keys(Se).length>0){for(var he in Y("/Pattern <<"),Se)Se.hasOwnProperty(he)&&Se[he]instanceof b.TilingPattern&&Se[he].objectNumber>=0&&Se[he].objectNumber<P&&Y("/"+he+" "+Se[he].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),Y(">>")}})(S.objectOid),(function(){if(Object.keys(ct).length>0){var P;for(P in Y("/ExtGState <<"),ct)ct.hasOwnProperty(P)&&ct[P].objectNumber>=0&&Y("/"+P+" "+ct[P].objectNumber+" 0 R");qt.publish("putGStateDict"),Y(">>")}})(),(function(){for(var P in Y("/XObject <<"),ht)ht.hasOwnProperty(P)&&ht[P].objectNumber>=0&&Y("/"+P+" "+ht[P].objectNumber+" 0 R");qt.publish("putXobjectDict"),Y(">>")})(),Y(">>"),Y("endobj")},Pn=function(S){Lt[S.fontName]=Lt[S.fontName]||{},Lt[S.fontName][S.fontStyle]=S.id},ii=function(S,P,he,be,Ne){var He={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:S,fontName:P,fontStyle:he,encoding:be,isStandardFont:Ne||!1,metadata:{}};return qt.publish("addFont",{font:He,instance:this}),Nt[He.id]=He,Pn(He),He.id},Ss=b.__private__.pdfEscape=b.pdfEscape=function(S,P){return(function(he,be){var Ne,He,Ke,Ct,Dt,Qt,ln,Mn,mr;if(Ke=(be=be||{}).sourceEncoding||"Unicode",Dt=be.outputEncoding,(be.autoencode||Dt)&&Nt[ot].metadata&&Nt[ot].metadata[Ke]&&Nt[ot].metadata[Ke].encoding&&(Ct=Nt[ot].metadata[Ke].encoding,!Dt&&Nt[ot].encoding&&(Dt=Nt[ot].encoding),!Dt&&Ct.codePages&&(Dt=Ct.codePages[0]),typeof Dt=="string"&&(Dt=Ct[Dt]),Dt)){for(ln=!1,Qt=[],Ne=0,He=he.length;Ne<He;Ne++)(Mn=Dt[he.charCodeAt(Ne)])?Qt.push(String.fromCharCode(Mn)):Qt.push(he[Ne]),Qt[Ne].charCodeAt(0)>>8&&(ln=!0);he=Qt.join("")}for(Ne=he.length;ln===void 0&&Ne!==0;)he.charCodeAt(Ne-1)>>8&&(ln=!0),Ne--;if(!ln)return he;for(Qt=be.noBOM?[]:[254,255],Ne=0,He=he.length;Ne<He;Ne++){if((mr=(Mn=he.charCodeAt(Ne))>>8)>>8)throw new Error("Character at position "+Ne+" of string '"+he+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qt.push(mr),Qt.push(Mn-(mr<<8))}return String.fromCharCode.apply(void 0,Qt)})(S,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ns=b.__private__.beginPage=function(S){qe[++St]=[],bt[St]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Ui(St),ut(qe[z])},Xs=function(S,P){var he,be,Ne;switch(t=P||t,typeof S=="string"&&(he=T(S.toLowerCase()),Array.isArray(he)&&(be=he[0],Ne=he[1])),Array.isArray(S)&&(be=S[0]*kt,Ne=S[1]*kt),isNaN(be)&&(be=a[0],Ne=a[1]),(be>14400||Ne>14400)&&(hr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),Ne=Math.min(14400,Ne)),a=[be,Ne],t.substr(0,1)){case"l":Ne>be&&(a=[Ne,be]);break;case"p":be>Ne&&(a=[Ne,be])}Ns(a),Wt(Yo),Y(li),Dl!==0&&Y(Dl+" J"),ts!==0&&Y(ts+" j"),qt.publish("addPage",{pageNumber:St})},Pi=function(S){S>0&&S<=St&&(qe.splice(S,1),bt.splice(S,1),St--,z>St&&(z=St),this.setPage(z))},Ui=function(S){S>0&&S<=St&&(z=S)},Hi=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return qe.length-1},ca=function(S,P,he){var be,Ne=void 0;return he=he||{},S=S!==void 0?S:Nt[ot].fontName,P=P!==void 0?P:Nt[ot].fontStyle,be=S.toLowerCase(),Lt[be]!==void 0&&Lt[be][P]!==void 0?Ne=Lt[be][P]:Lt[S]!==void 0&&Lt[S][P]!==void 0?Ne=Lt[S][P]:he.disableWarning===!1&&hr.warn("Unable to look up font label for font '"+S+"', '"+P+"'. Refer to getFontList() for available fonts."),Ne||he.noFallback||(Ne=Lt.times[P])==null&&(Ne=Lt.times.normal),Ne},us=b.__private__.putInfo=function(){var S=sn(),P=function(be){return be};for(var he in m!==null&&(P=Wr.encryptor(S,0)),Y("<<"),Y("/Producer ("+Ss(P("jsPDF "+Vt.version))+")"),yt)yt.hasOwnProperty(he)&&yt[he]&&Y("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+Ss(P(yt[he]))+")");Y("/CreationDate ("+Ss(P(le))+")"),Y(">>"),Y("endobj")},Gi=b.__private__.putCatalog=function(S){var P=(S=S||{}).rootDictionaryObjId||xt;switch(sn(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+P+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+st;he.substr(he.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+k(st)+"]")}switch(tt||(tt="continuous"),tt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}Oe&&Y("/PageMode /"+Oe),qt.publish("putCatalog"),Y(">>"),Y("endobj")},ai=b.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(oe+1)),Y("/Root "+oe+" 0 R"),Y("/Info "+(oe-1)+" 0 R"),m!==null&&Y("/Encrypt "+Wr.oid+" 0 R"),Y("/ID [ <"+B+"> <"+B+"> ]"),Y(">>")},jn=b.__private__.putHeader=function(){Y("%PDF-"+N),Y("%")},Go=b.__private__.putXRef=function(){var S="0000000000";Y("xref"),Y("0 "+(oe+1)),Y("0000000000 65535 f ");for(var P=1;P<=oe;P++)typeof de[P]=="function"?Y((S+de[P]()).slice(-10)+" 00000 n "):de[P]!==void 0?Y((S+de[P]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},ua=b.__private__.buildDocument=function(){var S;oe=0,ve=0,pe=[],de=[],_e=[],xt=Te(),Ft=Te(),ut(pe),qt.publish("buildDocument"),jn(),zn(),(function(){qt.publish("putAdditionalObjects");for(var he=0;he<_e.length;he++){var be=_e[he];Fe(be.objId,!0),Y(be.content),Y("endobj")}qt.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var he in Nt)Nt.hasOwnProperty(he)&&(y===!1||y===!0&&_.hasOwnProperty(he))&&kn(Nt[he])})(),(function(){var he;for(he in ct)ct.hasOwnProperty(he)&&Ys(ct[he])})(),(function(){for(var he in ht)ht.hasOwnProperty(he)&&En(ht[he])})(),(function(he){var be;for(be in Se)Se.hasOwnProperty(be)&&(Se[be]instanceof ou?Vn(Se[be]):Se[be]instanceof _h&&$n(Se[be],he))})(S),qt.publish("putResources"),S.forEach(es),es({resourcesOid:Ft,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources"),m!==null&&(Wr.oid=sn(),Y("<<"),Y("/Filter /Standard"),Y("/V "+Wr.v),Y("/R "+Wr.r),Y("/U <"+Wr.toHexString(Wr.U)+">"),Y("/O <"+Wr.toHexString(Wr.O)+">"),Y("/P "+Wr.P),Y(">>"),Y("endobj")),us(),Gi();var P=ve;return Go(),ai(),Y("startxref"),Y(""+P),Y("%%EOF"),ut(qe[z]),pe.join(`
`)},bo=b.__private__.getBlob=function(S){return new Blob([pt(S)],{type:"application/pdf"})},Ec=b.output=b.__private__.output=(dn=function(S,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",S){case void 0:return ua();case"save":b.save(P.filename);break;case"arraybuffer":return pt(ua());case"blob":return bo(ua());case"bloburi":case"bloburl":if(rn.URL!==void 0&&typeof rn.URL.createObjectURL=="function")return rn.URL&&rn.URL.createObjectURL(bo(ua()))||void 0;hr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",be=ua();try{he=Zy(be)}catch{he=Zy(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+P.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",He=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(Ne=P.pdfObjectUrl,He="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+He+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",Ct=rn.open();return Ct!==null&&Ct.document.write(Ke),Ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Qt=rn.open();if(Qt!==null){Qt.document.write(Dt);var ln=this;Qt.document.documentElement.querySelector("#pdfViewer").onload=function(){Qt.document.title=P.filename,Qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ln.output("bloburl"))}}return Qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',mr=rn.open();if(mr!==null&&(mr.document.write(Mn),mr.document.title=P.filename),mr||typeof safari>"u")return mr;break;case"datauri":case"dataurl":return rn.document.location.href=this.output("datauristring",P);default:return null}},dn.foo=function(){try{return dn.apply(this,arguments)}catch(he){var S=he.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var P="Error in function "+S.split(`
`)[0].split("<")[0]+": "+he.message;if(!rn.console)throw new Error(P);rn.console.error(P,he),rn.alert&&alert(P)}},dn.foo.bar=dn,dn.foo),Is=function(S){return Array.isArray(De)===!0&&De.indexOf(S)>-1};switch(s){case"pt":kt=1;break;case"mm":kt=72/25.4;break;case"cm":kt=72/2.54;break;case"in":kt=72;break;case"px":kt=Is("px_scaling")==1?.75:96/72;break;case"pc":case"em":kt=12;break;case"ex":kt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);kt=s}var Wr=null;G(),re();var Rr=b.__private__.getPageInfo=b.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:bt[S].objId,pageNumber:S,pageContext:bt[S]}},Ll=b.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in bt)if(bt[P].objId===S)break;return Rr(P)},Nu=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:bt[z].objId,pageNumber:z,pageContext:bt[z]}};b.addPage=function(){return Xs.apply(this,arguments),this},b.setPage=function(){return Ui.apply(this,arguments),ut.call(this,qe[z]),this},b.insertPage=function(S){return this.addPage(),this.movePage(z,S),this},b.movePage=function(S,P){var he,be;if(S>P){he=qe[S],be=bt[S];for(var Ne=S;Ne>P;Ne--)qe[Ne]=qe[Ne-1],bt[Ne]=bt[Ne-1];qe[P]=he,bt[P]=be,this.setPage(P)}else if(S<P){he=qe[S],be=bt[S];for(var He=S;He<P;He++)qe[He]=qe[He+1],bt[He]=bt[He+1];qe[P]=he,bt[P]=be,this.setPage(P)}return this},b.deletePage=function(){return Pi.apply(this,arguments),this},b.__private__.text=b.text=function(S,P,he,be,Ne){var He,Ke,Ct,Dt,Qt,ln,Mn,mr,jr,er=(be=be||{}).scope||this;if(typeof S=="number"&&typeof P=="number"&&(typeof he=="string"||Array.isArray(he))){var Yr=he;he=P,P=S,S=Yr}if(arguments[3]instanceof it==0?(Ct=arguments[4],Dt=arguments[5],Jn(Mn=arguments[3])==="object"&&Mn!==null||(typeof Ct=="string"&&(Dt=Ct,Ct=null),typeof Mn=="string"&&(Dt=Mn,Mn=null),typeof Mn=="number"&&(Ct=Mn,Mn=null),be={flags:Mn,angle:Ct,align:Dt})):(F("The transform parameter of text() with a Matrix value"),jr=Ne),isNaN(P)||isNaN(he)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return er;var Ir,fs="",Va=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:Ma,Xi=er.internal.scaleFactor;function Ba(Bn){return Bn=Bn.split("	").join(Array(be.TabLen||9).join(" ")),Ss(Bn,Mn)}function Vc(Bn){for(var Ln,tr=Bn.concat(),Lr=[],xa=tr.length;xa--;)typeof(Ln=tr.shift())=="string"?Lr.push(Ln):Array.isArray(Bn)&&(Ln.length===1||Ln[1]===void 0&&Ln[2]===void 0)?Lr.push(Ln[0]):Lr.push([Ln[0],Ln[1],Ln[2]]);return Lr}function Il(Bn,Ln){var tr;if(typeof Bn=="string")tr=Ln(Bn)[0];else if(Array.isArray(Bn)){for(var Lr,xa,Ki=Bn.concat(),el=[],zc=Ki.length;zc--;)typeof(Lr=Ki.shift())=="string"?el.push(Ln(Lr)[0]):Array.isArray(Lr)&&typeof Lr[0]=="string"&&(xa=Ln(Lr[0],Lr[1],Lr[2]),el.push([xa[0],xa[1],xa[2]]));tr=el}return tr}var da=!1,$i=!0;if(typeof S=="string")da=!0;else if(Array.isArray(S)){var Ko=S.concat();Ke=[];for(var qa,ns=Ko.length;ns--;)(typeof(qa=Ko.shift())!="string"||Array.isArray(qa)&&typeof qa[0]!="string")&&($i=!1);da=$i}if(da===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var yo=je/er.internal.scaleFactor,xo=yo*(Va-1);switch(be.baseline){case"bottom":he-=xo;break;case"top":he+=yo-xo;break;case"hanging":he+=yo-2*xo;break;case"middle":he+=yo/2-xo}if((ln=be.maxWidth||0)>0&&(typeof S=="string"?S=er.splitTextToSize(S,ln):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Bn,Ln){return Bn.concat(er.splitTextToSize(Ln,ln))},[]))),He={text:S,x:P,y:he,options:be,mutex:{pdfEscape:Ss,activeFontKey:ot,fonts:Nt,activeFontSize:je}},qt.publish("preProcessText",He),S=He.text,Ct=(be=He.options).angle,jr instanceof it==0&&Ct&&typeof Ct=="number"){Ct*=Math.PI/180,be.rotationDirection===0&&(Ct=-Ct),q===I&&(Ct=-Ct);var Fl=Math.cos(Ct),pa=Math.sin(Ct);jr=new it(Fl,pa,-pa,Fl,0,0)}else Ct&&Ct instanceof it&&(jr=Ct);q!==I||jr||(jr=gn),(Qt=be.charSpace||bi)!==void 0&&(fs+=O(Q(Qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(mr=be.horizontalScale)!==void 0&&(fs+=O(100*mr)+` Tz
`),be.lang;var Vs=-1,za=be.renderingMode!==void 0?be.renderingMode:be.stroke,Vl=er.internal.getCurrentPageInfo().pageContext;switch(za){case 0:case!1:case"fill":Vs=0;break;case 1:case!0:case"stroke":Vs=1;break;case 2:case"fillThenStroke":Vs=2;break;case 3:case"invisible":Vs=3;break;case 4:case"fillAndAddForClipping":Vs=4;break;case 5:case"strokeAndAddPathForClipping":Vs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vs=6;break;case 7:case"addToPathForClipping":Vs=7}var Bc=Vl.usedRenderingMode!==void 0?Vl.usedRenderingMode:-1;Vs!==-1?fs+=Vs+` Tr
`:Bc!==-1&&(fs+=`0 Tr
`),Vs!==-1&&(Vl.usedRenderingMode=Vs),Dt=be.align||"left";var ci,Zi=je*Va,Pa=er.internal.pageSize.getWidth(),qc=Nt[ot];Qt=be.charSpace||bi,ln=be.maxWidth||0,Mn=Object.assign({autoencode:!0,noBOM:!0},be.flags);var Qi=[],wo=function(Bn){return er.getStringUnitWidth(Bn,{font:qc,charSpace:Qt,fontSize:je,doKerning:!1})*je/Xi};if(Object.prototype.toString.call(S)==="[object Array]"){var Zs;Ke=Vc(S),Dt!=="left"&&(ci=Ke.map(wo));var Bs,ma=0;if(Dt==="right"){P-=ci[0],S=[],ns=Ke.length;for(var ga=0;ga<ns;ga++)ga===0?(Bs=oi(P),Zs=hs(he)):(Bs=Q(ma-ci[ga]),Zs=-Zi),S.push([Ke[ga],Bs,Zs]),ma=ci[ga]}else if(Dt==="center"){P-=ci[0]/2,S=[],ns=Ke.length;for(var Ua=0;Ua<ns;Ua++)Ua===0?(Bs=oi(P),Zs=hs(he)):(Bs=Q((ma-ci[Ua])/2),Zs=-Zi),S.push([Ke[Ua],Bs,Zs]),ma=ci[Ua]}else if(Dt==="left"){S=[],ns=Ke.length;for(var Bl=0;Bl<ns;Bl++)S.push(Ke[Bl])}else if(Dt==="justify"&&qc.encoding==="Identity-H"){S=[],ns=Ke.length,ln=ln!==0?ln:Pa;for(var ql=0,Mr=0;Mr<ns;Mr++)if(Zs=Mr===0?hs(he):-Zi,Bs=Mr===0?oi(P):ql,Mr<ns-1){var Ou=Q((ln-ci[Mr])/(Ke[Mr].split(" ").length-1)),ba=Ke[Mr].split(" ");S.push([ba[0]+" ",Bs,Zs]),ql=0;for(var va=1;va<ba.length;va++){var ds=(wo(ba[va-1]+" "+ba[va])-wo(ba[va]))*Xi+Ou;va==ba.length-1?S.push([ba[va],ds,0]):S.push([ba[va]+" ",ds,0]),ql-=ds}}else S.push([Ke[Mr],Bs,Zs]);S.push(["",ql,0])}else{if(Dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],ns=Ke.length,ln=ln!==0?ln:Pa,Mr=0;Mr<ns;Mr++){Zs=Mr===0?hs(he):-Zi,Bs=Mr===0?oi(P):0;var Ha=Ke[Mr].split(" ").length-1,zl=Ha>0?(ln-ci[Mr])/Ha:0;Mr<ns-1?Qi.push(O(Q(zl))):Qi.push(0),S.push([Ke[Mr],Bs,Zs])}}}(typeof be.R2L=="boolean"?be.R2L:nt)===!0&&(S=Il(S,function(Bn,Ln,tr){return[Bn.split("").reverse().join(""),Ln,tr]})),He={text:S,x:P,y:he,options:be,mutex:{pdfEscape:Ss,activeFontKey:ot,fonts:Nt,activeFontSize:je}},qt.publish("postProcessText",He),S=He.text,Ir=He.mutex.isHex||!1;var Pl=Nt[ot].encoding;Pl!=="WinAnsiEncoding"&&Pl!=="StandardEncoding"||(S=Il(S,function(Bn,Ln,tr){return[Ba(Bn),Ln,tr]})),Ke=Vc(S),S=[];for(var Ga,Wa,ya,Jo=Array.isArray(Ke[0])?1:0,ui="",Ya=function(Bn,Ln,tr){var Lr="";return tr instanceof it?(tr=typeof be.angle=="number"?Kt(tr,new it(1,0,0,1,Bn,Ln)):Kt(new it(1,0,0,1,Bn,Ln),tr),q===I&&(tr=Kt(new it(1,0,0,-1,0,0),tr)),Lr=tr.join(" ")+` Tm
`):Lr=O(Bn)+" "+O(Ln)+` Td
`,Lr},As=0;As<Ke.length;As++){switch(ui="",Jo){case 1:ya=(Ir?"<":"(")+Ke[As][0]+(Ir?">":")"),Ga=parseFloat(Ke[As][1]),Wa=parseFloat(Ke[As][2]);break;case 0:ya=(Ir?"<":"(")+Ke[As]+(Ir?">":")"),Ga=oi(P),Wa=hs(he)}Qi!==void 0&&Qi[As]!==void 0&&(ui=Qi[As]+` Tw
`),As===0?S.push(ui+Ya(Ga,Wa,jr)+ya):Jo===0?S.push(ui+ya):Jo===1&&S.push(ui+Ya(Ga,Wa,jr)+ya)}S=Jo===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var yi=`BT
/`;return yi+=ot+" "+je+` Tf
`,yi+=O(je*Va)+` TL
`,yi+=ha+`
`,yi+=fs,yi+=S,Y(yi+="ET"),_[ot]=!0,er};var jc=b.__private__.clip=b.clip=function(S){return Y(S==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return jc("evenodd")},b.__private__.discardPath=b.discardPath=function(){return Y("n"),this};var Fs=b.__private__.isValidStyle=function(S){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(P=!0),P};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(S){return Fs(S)&&(d=S),this};var Mc=b.__private__.getStyle=b.getStyle=function(S){var P=d;switch(S){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=S}return P},Lc=b.close=function(){return Y("h"),this};b.stroke=function(){return Y("S"),this},b.fill=function(S){return Wi("f",S),this},b.fillEvenOdd=function(S){return Wi("f*",S),this},b.fillStroke=function(S){return Wi("B",S),this},b.fillStrokeEvenOdd=function(S){return Wi("B*",S),this};var Wi=function(S,P){Jn(P)==="object"?Cu(P,S):Y(S)},Wo=function(S){S===null||q===I&&S===void 0||(S=Mc(S),Y(S))};function Au(S,P,he,be,Ne){var He=new _h(P||this.boundingBox,he||this.xStep,be||this.yStep,this.gState,Ne||this.matrix);He.stream=this.stream;var Ke=S+"$$"+this.cloneIndex+++"$$";return bn(Ke,He),He}var Cu=function(S,P){var he=lt[S.key],be=Se[he];if(be instanceof ou)Y("q"),Y(Oc(P)),be.gState&&b.setGState(be.gState),Y(S.matrix.toString()+" cm"),Y("/"+he+" sh"),Y("Q");else if(be instanceof _h){var Ne=new it(1,0,0,-1,0,Fa());S.matrix&&(Ne=Ne.multiply(S.matrix||gn),he=Au.call(be,S.key,S.boundingBox,S.xStep,S.yStep,Ne).id),Y("q"),Y("/Pattern cs"),Y("/"+he+" scn"),be.gState&&b.setGState(be.gState),Y(P),Y("Q")}},Oc=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Dc=b.moveTo=function(S,P){return Y(O(Q(S))+" "+O($(P))+" m"),this},Tu=b.lineTo=function(S,P){return Y(O(Q(S))+" "+O($(P))+" l"),this},$s=b.curveTo=function(S,P,he,be,Ne,He){return Y([O(Q(S)),O($(P)),O(Q(he)),O($(be)),O(Q(Ne)),O($(He)),"c"].join(" ")),this};b.__private__.line=b.line=function(S,P,he,be,Ne){if(isNaN(S)||isNaN(P)||isNaN(he)||isNaN(be)||!Fs(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return q===R?this.lines([[he-S,be-P]],S,P,[1,1],Ne||"S"):this.lines([[he-S,be-P]],S,P,[1,1]).stroke()},b.__private__.lines=b.lines=function(S,P,he,be,Ne,He){var Ke,Ct,Dt,Qt,ln,Mn,mr,jr,er,Yr,Ir,fs;if(typeof S=="number"&&(fs=he,he=P,P=S,S=fs),be=be||[1,1],He=He||!1,isNaN(P)||isNaN(he)||!Array.isArray(S)||!Array.isArray(be)||!Fs(Ne)||typeof He!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Dc(P,he),Ke=be[0],Ct=be[1],Qt=S.length,Yr=P,Ir=he,Dt=0;Dt<Qt;Dt++)(ln=S[Dt]).length===2?(Yr=ln[0]*Ke+Yr,Ir=ln[1]*Ct+Ir,Tu(Yr,Ir)):(Mn=ln[0]*Ke+Yr,mr=ln[1]*Ct+Ir,jr=ln[2]*Ke+Yr,er=ln[3]*Ct+Ir,Yr=ln[4]*Ke+Yr,Ir=ln[5]*Ct+Ir,$s(Mn,mr,jr,er,Yr,Ir));return He&&Lc(),Wo(Ne),this},b.path=function(S){for(var P=0;P<S.length;P++){var he=S[P],be=he.c;switch(he.op){case"m":Dc(be[0],be[1]);break;case"l":Tu(be[0],be[1]);break;case"c":$s.apply(this,be);break;case"h":Lc()}}return this},b.__private__.rect=b.rect=function(S,P,he,be,Ne){if(isNaN(S)||isNaN(P)||isNaN(he)||isNaN(be)||!Fs(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return q===R&&(be=-be),Y([O(Q(S)),O($(P)),O(Q(he)),O(Q(be)),"re"].join(" ")),Wo(Ne),this},b.__private__.triangle=b.triangle=function(S,P,he,be,Ne,He,Ke){if(isNaN(S)||isNaN(P)||isNaN(he)||isNaN(be)||isNaN(Ne)||isNaN(He)||!Fs(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-S,be-P],[Ne-he,He-be],[S-Ne,P-He]],S,P,[1,1],Ke,!0),this},b.__private__.roundedRect=b.roundedRect=function(S,P,he,be,Ne,He,Ke){if(isNaN(S)||isNaN(P)||isNaN(he)||isNaN(be)||isNaN(Ne)||isNaN(He)||!Fs(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ct=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*he),He=Math.min(He,.5*be),this.lines([[he-2*Ne,0],[Ne*Ct,0,Ne,He-He*Ct,Ne,He],[0,be-2*He],[0,He*Ct,-Ne*Ct,He,-Ne,He],[2*Ne-he,0],[-Ne*Ct,0,-Ne,-He*Ct,-Ne,-He],[0,2*He-be],[0,-He*Ct,Ne*Ct,-He,Ne,-He]],S+Ne,P,[1,1],Ke,!0),this},b.__private__.ellipse=b.ellipse=function(S,P,he,be,Ne){if(isNaN(S)||isNaN(P)||isNaN(he)||isNaN(be)||!Fs(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var He=4/3*(Math.SQRT2-1)*he,Ke=4/3*(Math.SQRT2-1)*be;return Dc(S+he,P),$s(S+he,P-Ke,S+He,P-be,S,P-be),$s(S-He,P-be,S-he,P-Ke,S-he,P),$s(S-he,P+Ke,S-He,P+be,S,P+be),$s(S+He,P+be,S+he,P+Ke,S+he,P),Wo(Ne),this},b.__private__.circle=b.circle=function(S,P,he,be){if(isNaN(S)||isNaN(P)||isNaN(he)||!Fs(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,P,he,he,be)},b.setFont=function(S,P,he){return he&&(P=H(P,he)),ot=ca(S,P,{disableWarning:!1}),this};var Yi=b.__private__.getFont=b.getFont=function(){return Nt[ca.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var S,P,he={};for(S in Lt)if(Lt.hasOwnProperty(S))for(P in he[S]=[],Lt[S])Lt[S].hasOwnProperty(P)&&he[S].push(P);return he},b.addFont=function(S,P,he,be,Ne){var He=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&He.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&He.indexOf(arguments[3])==-1&&(he=H(he,be)),ii.call(this,S,P,he,Ne=Ne||"Identity-H")};var Ma,Yo=r.lineWidth||.200025,vo=b.__private__.getLineWidth=b.getLineWidth=function(){return Yo},Wt=b.__private__.setLineWidth=b.setLineWidth=function(S){return Yo=S,Y(O(Q(S))+" w"),this};b.__private__.setLineDash=Vt.API.setLineDash=Vt.API.setLineDashPattern=function(S,P){if(S=S||[],P=P||0,isNaN(P)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(he){return O(Q(he))}).join(" "),P=O(Q(P)),Y("["+S+"] "+P+" d"),this};var ku=b.__private__.getLineHeight=b.getLineHeight=function(){return je*Ma};b.__private__.getLineHeight=b.getLineHeight=function(){return je*Ma};var Rc=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Ma=S),this},Eu=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Ma};Rc(r.lineHeight);var oi=b.__private__.getHorizontalCoordinate=function(S){return Q(S)},hs=b.__private__.getVerticalCoordinate=function(S){return q===I?S:bt[z].mediaBox.topRightY-bt[z].mediaBox.bottomLeftY-Q(S)},Ic=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(S){return O(oi(S))},Xo=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(S){return O(hs(S))},li=r.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Et(li)},b.__private__.setStrokeColor=b.setDrawColor=function(S,P,he,be){return li=Xt({ch1:S,ch2:P,ch3:he,ch4:be,pdfColorType:"draw",precision:2}),Y(li),this};var $o=r.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Et($o)},b.__private__.setFillColor=b.setFillColor=function(S,P,he,be){return $o=Xt({ch1:S,ch2:P,ch3:he,ch4:be,pdfColorType:"fill",precision:2}),Y($o),this};var ha=r.textColor||"0 g",ju=b.__private__.getTextColor=b.getTextColor=function(){return Et(ha)};b.__private__.setTextColor=b.setTextColor=function(S,P,he,be){return ha=Xt({ch1:S,ch2:P,ch3:he,ch4:be,pdfColorType:"text",precision:3}),this};var bi=r.charSpace,Ol=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(bi||0)};b.__private__.setCharSpace=b.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return bi=S,this};var Dl=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(S){var P=b.CapJoinStyles[S];if(P===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dl=P,Y(P+" J"),this};var ts=0;b.__private__.setLineJoin=b.setLineJoin=function(S){var P=b.CapJoinStyles[S];if(P===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ts=P,Y(P+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(O(Q(S))+" M"),this},b.GState=wp,b.setGState=function(S){(S=typeof S=="string"?ct[gt[S]]:fa(null,S)).equals(en)||(Y("/"+S.id+" gs"),en=S)};var fa=function(S,P){if(!S||!gt[S]){var he=!1;for(var be in ct)if(ct.hasOwnProperty(be)&&ct[be].equals(P)){he=!0;break}if(he)P=ct[be];else{var Ne="GS"+(Object.keys(ct).length+1).toString(10);ct[Ne]=P,P.id=Ne}return S&&(gt[S]=P.id),qt.publish("addGState",P),P}};b.addGState=function(S,P){return fa(S,P),this},b.saveGraphicsState=function(){return Y("q"),It.push({key:ot,size:je,color:ha}),this},b.restoreGraphicsState=function(){Y("Q");var S=It.pop();return ot=S.key,je=S.size,ha=S.color,en=null,this},b.setCurrentTransformationMatrix=function(S){return Y(S.toString()+" cm"),this},b.comment=function(S){return Y("#"+S),this};var vi=function(S,P){var he=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(He){isNaN(He)||(he=parseFloat(He))}});var be=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(He){isNaN(He)||(be=parseFloat(He))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(He){Ne=He.toString()}}),this},La=function(S,P,he,be){vi.call(this,S,P),this.type="rect";var Ne=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(Ke){isNaN(Ke)||(Ne=parseFloat(Ke))}});var He=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return He},set:function(Ke){isNaN(Ke)||(He=parseFloat(Ke))}}),this},Rl=function(){this.page=St,this.currentPage=z,this.pages=qe.slice(0),this.pagesContext=bt.slice(0),this.x=ft,this.y=mn,this.matrix=Gt,this.width=Da(z),this.height=Fc(z),this.outputDestination=et,this.id="",this.objectNumber=-1};Rl.prototype.restore=function(){St=this.page,z=this.currentPage,bt=this.pagesContext,qe=this.pages,ft=this.x,mn=this.y,Gt=this.matrix,Qo(z,this.width),Ra(z,this.height),et=this.outputDestination};var Zo=function(S,P,he,be,Ne){Ot.push(new Rl),St=z=0,qe=[],ft=S,mn=P,Gt=Ne,Ns([he,be])};for(var Oa in b.beginFormObject=function(S,P,he,be,Ne){return Zo(S,P,he,be,Ne),this},b.endFormObject=function(S){return(function(P){if(vt[P])Ot.pop().restore();else{var he=new Rl,be="Xo"+(Object.keys(ht).length+1).toString(10);he.id=be,vt[P]=be,ht[be]=he,qt.publish("addFormObject",he),Ot.pop().restore()}})(S),this},b.doFormObject=function(S,P){var he=ht[vt[S]];return Y("q"),Y(P.toString()+" cm"),Y("/"+he.id+" Do"),Y("Q"),this},b.getFormObject=function(S){var P=ht[vt[S]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},b.save=function(S,P){return S=S||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(iu(bo(ua()),S),typeof iu.unload=="function"&&rn.setTimeout&&setTimeout(iu.unload,911),this):new Promise(function(he,be){try{var Ne=iu(bo(ua()),S);typeof iu.unload=="function"&&rn.setTimeout&&setTimeout(iu.unload,911),he(Ne)}catch(He){be(He.message)}})},Vt.API)Vt.API.hasOwnProperty(Oa)&&(Oa==="events"&&Vt.API.events.length?(function(S,P){var he,be,Ne;for(Ne=P.length-1;Ne!==-1;Ne--)he=P[Ne][0],be=P[Ne][1],S.subscribe.apply(S,[he].concat(typeof be=="function"?[be]:be))})(qt,Vt.API.events):b[Oa]=Vt.API[Oa]);function Da(S){return bt[S].mediaBox.topRightX-bt[S].mediaBox.bottomLeftX}function Qo(S,P){bt[S].mediaBox.topRightX=P+bt[S].mediaBox.bottomLeftX}function Fc(S){return bt[S].mediaBox.topRightY-bt[S].mediaBox.bottomLeftY}function Ra(S,P){bt[S].mediaBox.topRightY=P+bt[S].mediaBox.bottomLeftY}var Ia=b.getPageWidth=function(S){return Da(S=S||z)/kt},Mu=b.setPageWidth=function(S,P){Qo(S,P*kt)},Fa=b.getPageHeight=function(S){return Fc(S=S||z)/kt},Lu=b.setPageHeight=function(S,P){Ra(S,P*kt)};return b.internal={pdfEscape:Ss,getStyle:Mc,getFont:Yi,getFontSize:Ue,getCharSpace:Ol,getTextColor:ju,getLineHeight:ku,getLineHeightFactor:Eu,getLineWidth:vo,write:Ie,getHorizontalCoordinate:oi,getVerticalCoordinate:hs,getCoordinateString:Ic,getVerticalCoordinateString:Xo,collections:{},newObject:sn,newAdditionalObject:Qe,newObjectDeferred:Te,newObjectDeferredBegin:Fe,getFilters:tn,putStream:Ht,events:qt,scaleFactor:kt,pageSize:{getWidth:function(){return Ia(z)},setWidth:function(S){Mu(z,S)},getHeight:function(){return Fa(z)},setHeight:function(S){Lu(z,S)}},encryptionOptions:m,encryption:Wr,getEncryptor:function(S){return m!==null?Wr.encryptor(S,0):function(P){return P}},output:Ec,getNumberOfPages:Hi,get pages(){return qe},out:Y,f2:k,f3:D,getPageInfo:Rr,getPageInfoByObjId:Ll,getCurrentPageInfo:Nu,getPDFVersion:A,Point:vi,Rectangle:La,Matrix:it,hasHotfix:Is},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ia(z)},set:function(S){Mu(z,S)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Fa(z)},set:function(S){Lu(z,S)},enumerable:!0,configurable:!0}),(function(S){for(var P=0,he=Je.length;P<he;P++){var be=ii.call(this,S[P][0],S[P][1],S[P][2],Je[P][3],!0);y===!1&&(_[be]=!0);var Ne=S[P][0].split("-");Pn({id:be,fontName:Ne[0],fontStyle:Ne[1]||""})}qt.publish("addFonts",{fonts:Nt,dictionary:Lt})}).call(b,Je),ot="F1",Xs(a,t),qt.publish("initialized"),b}bh.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},bh.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},bh.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},bh.prototype.processOwnerPassword=function(r,e){return wg(xg(e).substr(0,5),r)},bh.prototype.encryptor=function(r,e){var t=xg(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return wg(t,s)}},wp.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Jn(r)!==Jn(this))return!1;var s=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;s++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&s--;return s===0},Vt.API={events:[]},Vt.version="3.0.4";var Hr=Vt.API,L2=1,Su=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ph=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},hn=function(r){return r.toFixed(2)},pc=function(r){return r.toFixed(5)};Hr.__acroform__={};var zi=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},ex=function(r){return r*L2},Fo=function(r){var e=new s_,t=Mt.internal.getHeight(r)||0,s=Mt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(hn(s)),Number(hn(t))],e},cM=Hr.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},uM=Hr.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},hM=Hr.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Zr=Hr.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hM(r,e-1)},Qr=Hr.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return cM(r,e-1)},Kr=Hr.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return uM(r,e-1)},fM=Hr.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,a=r[0],o=r[1],u=r[2],c=r[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=s(o+c)||0,f.upperRight_X=t(a+u)||0,f.upperRight_Y=s(o)||0,[Number(hn(f.lowerLeft_X)),Number(hn(f.lowerLeft_Y)),Number(hn(f.upperRight_X)),Number(hn(f.upperRight_Y))]},dM=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,s=_g(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+hn(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Fo(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},_g=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,s={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var o=t,u=Mt.internal.getHeight(r)||0;u=u<0?-u:u;var c=Mt.internal.getWidth(r)||0;c=c<0?-c:c;var f=function(k,D,Q){if(k+1<a.length){var $=D+" "+a[k+1][0];return M1($,r,Q).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,m,y=M1("3",r,o).height,_=r.multiline?u-o:(u-y)/2,b=_+=2,N=0,A=0,E=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+M1(e,r,o=12).width+", FieldWidth:"+c+`
`;break}for(var T="",R=0,I=0;I<a.length;I++)if(a.hasOwnProperty(I)){var q=!1;if(a[I].length!==1&&E!==a[I].length-1){if((y+2)*(R+2)+2>u)continue e;T+=a[I][E],q=!0,A=I,I--}else{T=(T+=a[I][E]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var V=parseInt(I),W=f(V,T,o),H=I>=a.length-1;if(W&&!H){T+=" ",E=0;continue}if(W||H){if(H)A=V;else if(r.multiline&&(y+2)*(R+2)+2>u)continue e}else{if(!r.multiline||(y+2)*(R+2)+2>u)continue e;A=V}}for(var O="",F=N;F<=A;F++){var J=a[F];if(r.multiline){if(F===A){O+=J[E]+" ",E=(E+1)%J.length;continue}if(F===N){O+=J[J.length-1]+" ";continue}}O+=J[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,m=M1(O,r,o).width,r.textAlign){case"right":d=c-m-2;break;case"center":d=(c-m)/2;break;default:d=2}e+=hn(d)+" "+hn(b)+` Td
`,e+="("+Su(O)+`) Tj
`,e+=-hn(d)+` 0 Td
`,b=-(o+2),m=0,N=q?A:A+1,R++,T=""}break}return s.text=e,s.fontSize=o,s},M1=function(r,e,t){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},pM={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mM=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(s){return s.type===t.type&&s.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},gM=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(mo.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(pM)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");L2=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new i_,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];o.objId=void 0,o.hasAnnotation&&mM(o,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(s,a){var o=!s;for(var u in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(u)){var c=s[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=fM(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Mt.createDefaultAppearanceStream(c),Jn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=dM(c);f.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var y="";for(var _ in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(_)){var b=c.appearanceStreamContent[_];if(y+="/"+_+" ",y+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var u in b)if(b.hasOwnProperty(u)){var N=b[u];typeof N=="function"&&(N=N.call(a,c)),y+="/"+u+" "+N+" ",a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N)}}else typeof(N=b)=="function"&&(N=N.call(a,c)),y+="/"+u+" "+N,a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N);y+=">>"}f.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(A,E){for(var T in A)if(A.hasOwnProperty(T)){var R=T,I=A[T];E.internal.newObjectDeferredBegin(I.objId,!0),Jn(I)==="object"&&typeof I.putStream=="function"&&I.putStream(),delete A[R]}})(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},r_=Hr.__acroform__.arrayToPdfArray=function(r,e,t){var s=function(u){return u};if(Array.isArray(r)){for(var a="[",o=0;o<r.length;o++)switch(o!==0&&(a+=" "),Jn(r[o])){case"boolean":case"number":case"object":a+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(e!==void 0&&t&&(s=t.internal.getEncryptor(e)),a+="("+Su(s(r[o].toString()))+")"):a+=r[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},qm=function(r,e,t){var s=function(a){return a};return e!==void 0&&t&&(s=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+Su(s(r))+")"},Vo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vo.prototype.toString=function(){return this.objId+" 0 R"},Vo.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Vo.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var s=e[t],a=this[s];a&&(Array.isArray(a)?r.push({key:s,value:r_(a,this.objId,this.scope)}):a instanceof Vo?(a.scope=this.scope,r.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:s,value:a}))}return r};var s_=function(){Vo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};zi(s_,Vo);var i_=function(){Vo.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(s){return s};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Su(t(r))+")"}},set:function(t){r=t}})};zi(i_,Vo);var mo=function r(){Vo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zr(e,3)},set:function(T){T?this.F=Qr(e,3):this.F=Kr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');t=T}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(T){s=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(T){s[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(T){s[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(T){s[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(T){s[3]=T}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof _p)return;o="FieldObject"+r.FieldNum++}var T=function(R){return R};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+Su(T(o))+")"},set:function(T){o=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(T){o=T}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(T){u=T}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(T){c=T}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(T){f=T}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/L2:d},set:function(T){d=T}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(T){m=T}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof _p||this instanceof du))return qm(y,this.objId,this.scope)},set:function(T){T=T.toString(),y=T}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Ds==0?qm(_,this.objId,this.scope):_},set:function(T){T=T.toString(),_=this instanceof Ds==0?T.substr(0,1)==="("?ph(T.substr(1,T.length-2)):ph(T):T}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ds==1?ph(_.substr(1,_.length-1)):_},set:function(T){T=T.toString(),_=this instanceof Ds==1?"/"+T:T}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ds==0?qm(b,this.objId,this.scope):b},set:function(T){T=T.toString(),b=this instanceof Ds==0?T.substr(0,1)==="("?ph(T.substr(1,T.length-2)):ph(T):T}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ds==1?ph(b.substr(1,b.length-1)):b},set:function(T){T=T.toString(),b=this instanceof Ds==1?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(T){T=!!T,A=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(T){N=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,1)},set:function(T){T?this.Ff=Qr(this.Ff,1):this.Ff=Kr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,2)},set:function(T){T?this.Ff=Qr(this.Ff,2):this.Ff=Kr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,3)},set:function(T){T?this.Ff=Qr(this.Ff,3):this.Ff=Kr(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');E=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(E){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};zi(mo,Vo);var Ah=function(){mo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return r_(e,this.objId,this.scope)},set:function(t){var s,a;a=[],typeof(s=t)=="string"&&(a=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(s,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,s){for(s=s||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,18)},set:function(t){t?this.Ff=Qr(this.Ff,18):this.Ff=Kr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Qr(this.Ff,19):this.Ff=Kr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,20)},set:function(t){t?(this.Ff=Qr(this.Ff,20),e.sort()):this.Ff=Kr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,22)},set:function(t){t?this.Ff=Qr(this.Ff,22):this.Ff=Kr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,23)},set:function(t){t?this.Ff=Qr(this.Ff,23):this.Ff=Kr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,27)},set:function(t){t?this.Ff=Qr(this.Ff,27):this.Ff=Kr(this.Ff,27)}}),this.hasAppearanceStream=!1};zi(Ah,mo);var Ch=function(){Ah.call(this),this.fontName="helvetica",this.combo=!1};zi(Ch,Ah);var Th=function(){Ch.call(this),this.combo=!0};zi(Th,Ch);var P1=function(){Th.call(this),this.edit=!0};zi(P1,Th);var Ds=function(){mo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,15)},set:function(t){t?this.Ff=Qr(this.Ff,15):this.Ff=Kr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,16)},set:function(t){t?this.Ff=Qr(this.Ff,16):this.Ff=Kr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,17)},set:function(t){t?this.Ff=Qr(this.Ff,17):this.Ff=Kr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,26)},set:function(t){t?this.Ff=Qr(this.Ff,26):this.Ff=Kr(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,a=[];for(s in a.push("<<"),e)a.push("/"+s+" ("+Su(t(e[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Jn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};zi(Ds,mo);var U1=function(){Ds.call(this),this.pushButton=!0};zi(U1,Ds);var kh=function(){Ds.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};zi(kh,Ds);var _p=function(){var r,e;mo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),s)u.push("/"+o+" ("+Su(a(s[o]))+")");return u.push(">>"),u.join(`
`)},set:function(a){Jn(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};zi(_p,mo),kh.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},kh.prototype.createOption=function(r){var e=new _p;return e.Parent=this,e.optionName=r,this.Kids.push(e),bM.call(this.scope,e),e};var H1=function(){Ds.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Mt.CheckBox.createAppearanceStream()};zi(H1,Ds);var du=function(){mo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,13)},set:function(e){e?this.Ff=Qr(this.Ff,13):this.Ff=Kr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,21)},set:function(e){e?this.Ff=Qr(this.Ff,21):this.Ff=Kr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,23)},set:function(e){e?this.Ff=Qr(this.Ff,23):this.Ff=Kr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,24)},set:function(e){e?this.Ff=Qr(this.Ff,24):this.Ff=Kr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,25)},set:function(e){e?this.Ff=Qr(this.Ff,25):this.Ff=Kr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,26)},set:function(e){e?this.Ff=Qr(this.Ff,26):this.Ff=Kr(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};zi(du,mo);var G1=function(){du.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,14)},set:function(r){r?this.Ff=Qr(this.Ff,14):this.Ff=Kr(this.Ff,14)}}),this.password=!0};zi(G1,du);var Mt={CheckBox:{createAppearanceStream:function(){return{N:{On:Mt.CheckBox.YesNormal},D:{On:Mt.CheckBox.YesPushDown,Off:Mt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Fo(r);e.scope=r.scope;var t=[],s=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),o=_g(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+hn(Mt.internal.getWidth(r))+" "+hn(Mt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+s+" "+hn(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Fo(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),a=[],o=Mt.internal.getHeight(r),u=Mt.internal.getWidth(r),c=_g(r,r.caption);return a.push("1 g"),a.push("0 0 "+hn(u)+" "+hn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+hn(u-1)+" "+hn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+hn(c.fontSize)+" Tf "+s),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=Fo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+hn(Mt.internal.getWidth(r))+" "+hn(Mt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Mt.RadioButton.Circle.YesNormal,e.D[r]=Mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Fo(r);e.scope=r.scope;var t=[],s=Mt.internal.getWidth(r)<=Mt.internal.getHeight(r)?Mt.internal.getWidth(r)/4:Mt.internal.getHeight(r)/4;s=Number((.9*s).toFixed(5));var a=Mt.internal.Bezier_C,o=Number((s*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+pc(Mt.internal.getWidth(r)/2)+" "+pc(Mt.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Fo(r);e.scope=r.scope;var t=[],s=Mt.internal.getWidth(r)<=Mt.internal.getHeight(r)?Mt.internal.getWidth(r)/4:Mt.internal.getHeight(r)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*Mt.internal.Bezier_C).toFixed(5)),u=Number((s*Mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+pc(Mt.internal.getWidth(r)/2)+" "+pc(Mt.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+pc(Mt.internal.getWidth(r)/2)+" "+pc(Mt.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+u+" "+u+" "+s+" 0 "+s+" c"),t.push("-"+u+" "+s+" -"+s+" "+u+" -"+s+" 0 c"),t.push("-"+s+" -"+u+" -"+u+" -"+s+" 0 -"+s+" c"),t.push(u+" -"+s+" "+s+" -"+u+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Fo(r);e.scope=r.scope;var t=[],s=Mt.internal.getWidth(r)<=Mt.internal.getHeight(r)?Mt.internal.getWidth(r)/4:Mt.internal.getHeight(r)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*Mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+pc(Mt.internal.getWidth(r)/2)+" "+pc(Mt.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Mt.RadioButton.Cross.YesNormal,e.D[r]=Mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Fo(r);e.scope=r.scope;var t=[],s=Mt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+hn(Mt.internal.getWidth(r)-2)+" "+hn(Mt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(hn(s.x1.x)+" "+hn(s.x1.y)+" m"),t.push(hn(s.x2.x)+" "+hn(s.x2.y)+" l"),t.push(hn(s.x4.x)+" "+hn(s.x4.y)+" m"),t.push(hn(s.x3.x)+" "+hn(s.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Fo(r);e.scope=r.scope;var t=Mt.internal.calculateCross(r),s=[];return s.push("0.749023 g"),s.push("0 0 "+hn(Mt.internal.getWidth(r))+" "+hn(Mt.internal.getHeight(r))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+hn(Mt.internal.getWidth(r)-2)+" "+hn(Mt.internal.getHeight(r)-2)+" re"),s.push("W"),s.push("n"),s.push(hn(t.x1.x)+" "+hn(t.x1.y)+" m"),s.push(hn(t.x2.x)+" "+hn(t.x2.y)+" l"),s.push(hn(t.x4.x)+" "+hn(t.x4.y)+" m"),s.push(hn(t.x3.x)+" "+hn(t.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(r){var e=Fo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+hn(Mt.internal.getWidth(r))+" "+hn(Mt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Mt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Mt.internal.getWidth(r),t=Mt.internal.getHeight(r),s=Math.min(e,t);return{x1:{x:(e-s)/2,y:(t-s)/2+s},x2:{x:(e-s)/2+s,y:(t-s)/2},x3:{x:(e-s)/2,y:(t-s)/2},x4:{x:(e-s)/2+s,y:(t-s)/2+s}}}},Mt.internal.getWidth=function(r){var e=0;return Jn(r)==="object"&&(e=ex(r.Rect[2])),e},Mt.internal.getHeight=function(r){var e=0;return Jn(r)==="object"&&(e=ex(r.Rect[3])),e};var bM=Hr.addField=function(r){if(gM(this,r),!(r instanceof mo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Hr.AcroFormChoiceField=Ah,Hr.AcroFormListBox=Ch,Hr.AcroFormComboBox=Th,Hr.AcroFormEditBox=P1,Hr.AcroFormButton=Ds,Hr.AcroFormPushButton=U1,Hr.AcroFormRadioButton=kh,Hr.AcroFormCheckBox=H1,Hr.AcroFormTextField=du,Hr.AcroFormPasswordField=G1,Hr.AcroFormAppearance=Mt,Hr.AcroForm={ChoiceField:Ah,ListBox:Ch,ComboBox:Th,EditBox:P1,Button:Ds,PushButton:U1,RadioButton:kh,CheckBox:H1,TextField:du,PasswordField:G1,Appearance:Mt},Vt.AcroForm={ChoiceField:Ah,ListBox:Ch,ComboBox:Th,EditBox:P1,Button:Ds,PushButton:U1,RadioButton:kh,CheckBox:H1,TextField:du,PasswordField:G1,Appearance:Mt};Vt.AcroForm;function a_(r){return r.reduce(function(e,t,s){return e[t]=s,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(k,D){var Q,$,le,B,ie,re=t;if((D=D||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(W(k))for(ie in s)for(le=s[ie],Q=0;Q<le.length;Q+=1){for(B=!0,$=0;$<le[Q].length;$+=1)if(le[Q][$]!==void 0&&le[Q][$]!==k[$]){B=!1;break}if(B===!0){re=ie;break}}else for(ie in s)for(le=s[ie],Q=0;Q<le.length;Q+=1){for(B=!0,$=0;$<le[Q].length;$+=1)if(le[Q][$]!==void 0&&le[Q][$]!==k.charCodeAt($)){B=!1;break}if(B===!0){re=ie;break}}return re===t&&D!==t&&(re=D),re},o=function k(D){for(var Q=this.internal.write,$=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var B=[];if(B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Image"}),B.push({key:"Width",value:D.width}),B.push({key:"Height",value:D.height}),D.colorSpace===T.INDEXED?B.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(B.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===T.DEVICE_CMYK&&B.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),B.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&B.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var ie="",re=0,fe=D.transparency.length;re<fe;re++)ie+=D.transparency[re]+" "+D.transparency[re]+" ";B.push({key:"Mask",value:"["+ie+"]"})}D.sMask!==void 0&&B.push({key:"SMask",value:D.objectId+1+" 0 R"});var me=D.filter!==void 0?["/"+D.filter]:void 0;if($({data:D.data,additionalKeyValues:B,alreadyAppliedFilters:me,objectId:D.objectId}),Q("endobj"),"sMask"in D&&D.sMask!==void 0){var G,j=(G=D.sMaskBitsPerComponent)!==null&&G!==void 0?G:D.bitsPerComponent,z={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:D.sMask};"filter"in D&&(z.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(D.width),z.filter=D.filter),k.call(this,z)}if(D.colorSpace===T.INDEXED){var ee=this.internal.newObject();$({data:O(new Uint8Array(D.palette)),objectId:ee}),Q("endobj")}},u=function(){var k=this.internal.collections[e+"images"];for(var D in k)o.call(this,k[D])},c=function(){var k,D=this.internal.collections[e+"images"],Q=this.internal.write;for(var $ in D)Q("/I"+(k=D[$]).index,k.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var k=this.internal.collections[e+"images"];return f.call(this),k},m=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(k){return typeof r["process"+k.toUpperCase()]=="function"},_=function(k){return Jn(k)==="object"&&k.nodeType===1},b=function(k,D){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var Q=""+k.getAttribute("src");if(Q.indexOf("data:image/")===0)return z1(unescape(Q).split("base64,").pop());var $=r.loadFile(Q,!0);if($!==void 0)return $}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var le;switch(D){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;default:le="image/jpeg"}return z1(k.toDataURL(le,1).split("base64,").pop())}},N=function(k){var D=this.internal.collections[e+"images"];if(D){for(var Q in D)if(k===D[Q].alias)return D[Q]}},A=function(k,D,Q){return k||D||(k=-96,D=-96),k<0&&(k=-1*Q.width*72/k/this.internal.scaleFactor),D<0&&(D=-1*Q.height*72/D/this.internal.scaleFactor),k===0&&(k=D*Q.width/Q.height),D===0&&(D=k*Q.height/Q.width),[k,D]},E=function(k,D,Q,$,le,B){var ie=A.call(this,Q,$,le),re=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,me=d.call(this);if(Q=ie[0],$=ie[1],me[le.index]=le,B){B*=Math.PI/180;var G=Math.cos(B),j=Math.sin(B),z=function(te){return te.toFixed(4)},ee=[z(G),z(j),z(-1*j),z(G),0,0,"cm"]}this.internal.write("q"),B?(this.internal.write([1,"0","0",1,re(k),fe(D+$),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([re(Q),"0","0",re($),"0","0","cm"].join(" "))):this.internal.write([re(Q),"0","0",re($),re(k),fe(D+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},T=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=r.__addimage__.sHashCode=function(k){var D,Q,$=0;if(typeof k=="string")for(Q=k.length,D=0;D<Q;D++)$=($<<5)-$+k.charCodeAt(D),$|=0;else if(W(k))for(Q=k.byteLength/2,D=0;D<Q;D++)$=($<<5)-$+k[D],$|=0;return $},q=r.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var D=!0;return k.length===0&&(D=!1),k.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(D=!1),D},V=r.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var D=k.indexOf(",");return D<0?null:k.substring(0,D).trim().endsWith("base64")?k.substring(D+1):null};r.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var W=r.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},H=r.__addimage__.binaryStringToUint8Array=function(k){for(var D=k.length,Q=new Uint8Array(D),$=0;$<D;$++)Q[$]=k.charCodeAt($);return Q},O=r.__addimage__.arrayBufferToBinaryString=function(k){for(var D="",Q=W(k)?k:new Uint8Array(k),$=0;$<Q.length;$+=8192)D+=String.fromCharCode.apply(null,Q.subarray($,$+8192));return D};r.addImage=function(){var k,D,Q,$,le,B,ie,re,fe;if(typeof arguments[1]=="number"?(D=t,Q=arguments[1],$=arguments[2],le=arguments[3],B=arguments[4],ie=arguments[5],re=arguments[6],fe=arguments[7]):(D=arguments[1],Q=arguments[2],$=arguments[3],le=arguments[4],B=arguments[5],ie=arguments[6],re=arguments[7],fe=arguments[8]),Jn(k=arguments[0])==="object"&&!_(k)&&"imageData"in k){var me=k;k=me.imageData,D=me.format||D||t,Q=me.x||Q||0,$=me.y||$||0,le=me.w||me.width||le,B=me.h||me.height||B,ie=me.alias||ie,re=me.compression||re,fe=me.rotation||me.angle||fe}var G=this.internal.getFilters();if(re===void 0&&G.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(Q)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var j=F.call(this,k,D,ie,re);return E.call(this,Q,$,le,B,j,fe),this};var F=function(k,D,Q,$){var le,B,ie;if(typeof k=="string"&&a(k)===t){k=unescape(k);var re=J(k,!1);(re!==""||(re=r.loadFile(k,!0))!==void 0)&&(k=re)}if(_(k)&&(k=b(k,D)),D=a(k,D),!y(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((ie=Q)==null||ie.length===0)&&(Q=(function(fe){return typeof fe=="string"||W(fe)?I(fe):W(fe.data)?I(fe.data):null})(k)),(le=N.call(this,Q))||(k instanceof Uint8Array||D==="RGBA"||(B=k,k=H(k)),le=this["process"+D.toUpperCase()](k,m.call(this),Q,(function(fe){return fe&&typeof fe=="string"&&(fe=fe.toUpperCase()),fe in r.image_compression?fe:R.NONE})($),B)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},J=r.__addimage__.convertBase64ToBinaryString=function(k,D){D=typeof D!="boolean"||D;var Q,$="";if(typeof k=="string"){var le;Q=(le=V(k))!==null&&le!==void 0?le:k;try{$=z1(Q)}catch(B){if(D)throw q(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+B.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};r.getImageProperties=function(k){var D,Q,$="";if(_(k)&&(k=b(k)),typeof k=="string"&&a(k)===t&&(($=J(k,!1))===""&&($=r.loadFile(k)||""),k=$),Q=a(k),!y(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(k instanceof Uint8Array||(k=H(k)),!(D=this["process"+Q.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=Q,D}})(Vt.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Vt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var s,a,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,m=!1,y=0;y<d.length&&!m;y++)switch((s=d[y]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var _=0;_<d.length;_++){s=d[_];var b=this.internal.pdfEscape,N=this.internal.getEncryptor(t.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(A.objId),R=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(s.bounds.x)+" "+c(s.bounds.y+s.bounds.h)+" "+u(s.bounds.x+s.bounds.w)+" "+c(s.bounds.y)+"] ")+"/Contents ("+b(T(s.contents))+")",o+=" /Popup "+E.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(T(R))+") >>",A.content=o;var I=A.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(s.bounds.x+30)+" "+c(s.bounds.y+s.bounds.h)+" "+u(s.bounds.x+s.bounds.w+30)+" "+c(s.bounds.y)+"] ")+" /Parent "+I,s.open&&(o+=" /Open true"),o+=" >>",E.content=o,this.internal.write(A.objId,"0 R",E.objId,"0 R");break;case"freetext":a="/Rect ["+u(s.bounds.x)+" "+c(s.bounds.y)+" "+u(s.bounds.x+s.bounds.w)+" "+c(s.bounds.y+s.bounds.h)+"] ";var q=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(N(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var V=this.annotations._nameMap[s.options.name];s.options.pageNumber=V.page,s.options.top=V.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(N(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;default:var W=c(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+W+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var s=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":s.pageContext.annotations.push(t)}},r.link=function(t,s,a,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(s),w:f(t+a),h:d(s+o)},options:u,type:"link"})},r.textWithLink=function(t,s,a,o){var u,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var m=this.splitTextToSize(t,c).length;u=Math.ceil(d*m)}else c=f,u=d;return this.text(t,s,a,o),a+=.2*d,o.align==="center"&&(s-=f/2),o.align==="right"&&(s-=f),this.link(s,a-d,c,u,o),f},r.getTextWidth=function(t){var s=this.internal.getFontSize();return this.getStringUnitWidth(t)*s/this.internal.scaleFactor}})(Vt.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},u=r.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},c=r.__arabicParser__.isArabicEndLetter=function(A){return u(A)&&o(A)&&e[A.charCodeAt(0)].length<=2},f=r.__arabicParser__.isArabicAlfLetter=function(A){return u(A)&&a.indexOf(A.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return u(A)&&o(A)&&e[A.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(A){return u(A)&&o(A)&&e[A.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(A){return u(A)&&o(A)&&e[A.charCodeAt(0)].length>=3};var m=r.__arabicParser__.arabicLetterHasMedialForm=function(A){return u(A)&&o(A)&&e[A.charCodeAt(0)].length==4},y=r.__arabicParser__.resolveLigatures=function(A){var E=0,T=t,R="",I=0;for(E=0;E<A.length;E+=1)T[A.charCodeAt(E)]!==void 0?(I++,typeof(T=T[A.charCodeAt(E)])=="number"&&(R+=String.fromCharCode(T),T=t,I=0),E===A.length-1&&(T=t,R+=A.charAt(E-(I-1)),E-=I-1,I=0)):(T=t,R+=A.charAt(E-I),E-=I,I=0);return R};r.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&s[A.charCodeAt(0)]!==void 0};var _=r.__arabicParser__.getCorrectForm=function(A,E,T){return u(A)?o(A)===!1?-1:!d(A)||!u(E)&&!u(T)||!u(T)&&c(E)||c(A)&&!u(E)||c(A)&&f(E)||c(A)&&c(E)?0:m(A)&&u(E)&&!c(E)&&u(T)&&d(T)?3:c(A)||!u(T)?1:2:-1},b=function(A){var E=0,T=0,R=0,I="",q="",V="",W=(A=A||"").split("\\s+"),H=[];for(E=0;E<W.length;E+=1){for(H.push(""),T=0;T<W[E].length;T+=1)I=W[E][T],q=W[E][T-1],V=W[E][T+1],u(I)?(R=_(I,q,V),H[E]+=R!==-1?String.fromCharCode(e[I.charCodeAt(0)][R]):I):H[E]+=I;H[E]=y(H[E])}return H.join(" ")},N=r.__arabicParser__.processArabic=r.processArabic=function(){var A,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(E)){var R=0;for(T=[],R=0;R<E.length;R+=1)Array.isArray(E[R])?T.push([b(E[R][0]),E[R][1],E[R][2]]):T.push([b(E[R])]);A=T}else A=b(E);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};r.events.push(["preProcessText",N])})(Vt.API),Vt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,s){var a;if((t=t||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Vt.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(A){d=A}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(A){m=A}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(A){_=A}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(A){b=A}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(A){N=A}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(f){return s.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},r.getTextDimensions=function(f,d){s.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),_=d.scaleFactor||this.internal.scaleFactor,b=0,N=0,A=0,E=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var T=d.maxWidth;T>0?typeof f=="string"?f=this.splitTextToSize(f,T):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(I,q){return I.concat(E.splitTextToSize(q,T))},[])):f=Array.isArray(f)?f:[f];for(var R=0;R<f.length;R++)b<(A=this.getStringUnitWidth(f[R],{font:y})*m)&&(b=A);return b!==0&&(N=f.length),{w:b/=_,h:Math.max((N*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/_,0)}},r.cellAddPage=function(){s.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=r.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=y.top,b&&_&&(this.printHeaderRow(f.lineNumber,!0),f.y+=_[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-m,f.y+m,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+m,{align:"center",baseline:"top",maxWidth:f.width-m-m}):this.text(f.text,f.x+m,f.y+m,{align:"left",baseline:"top",maxWidth:f.width-m-m})),this.internal.__cell__.lastCell=f,this};r.table=function(f,d,m,y,_){if(s.call(this),!m)throw new Error("No data for PDF table.");var b,N,A,E,T=[],R=[],I=[],q={},V={},W=[],H=[],O=(_=_||{}).autoSize||!1,F=_.printHeaders!==!1,J=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,k=_.margins||Object.assign({width:this.getPageWidth()},e),D=typeof _.padding=="number"?_.padding:3,Q=_.headerBackgroundColor||"#c8c8c8",$=_.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=J,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=$,this.setFontSize(J),y==null)R=T=Object.keys(m[0]),I=T.map(function(){return"left"});else if(Array.isArray(y)&&Jn(y[0])==="object")for(T=y.map(function(me){return me.name}),R=y.map(function(me){return me.prompt||me.name||""}),I=y.map(function(me){return me.align||"left"}),b=0;b<y.length;b+=1)V[y[b].name]=.7499990551181103*y[b].width;else Array.isArray(y)&&typeof y[0]=="string"&&(R=T=y,I=T.map(function(){return"left"}));if(O||Array.isArray(y)&&typeof y[0]=="string")for(b=0;b<T.length;b+=1){for(q[E=T[b]]=m.map(function(me){return me[E]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(R[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=q[E],this.setFont(void 0,"normal"),A=0;A<N.length;A+=1)W.push(this.getTextDimensions(N[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[E]=Math.max.apply(null,W)+D+D,W=[]}if(F){var le={};for(b=0;b<T.length;b+=1)le[T[b]]={},le[T[b]].text=R[b],le[T[b]].align=I[b];var B=c.call(this,le,V);H=T.map(function(me){return new o(f,d,V[me],B,le[me].text,void 0,le[me].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var ie=y.reduce(function(me,G){return me[G.name]=G.align,me},{});for(b=0;b<m.length;b+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:b,data:m[b]},this);var re=c.call(this,m[b],V);for(A=0;A<T.length;A+=1){var fe=m[b][T[A]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:b,col:A,data:fe},this),u.call(this,new o(f,d,V[T[A]],re,fe,b+2,ie[T[A]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var m=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(f).map(function(b){var N=f[b];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[b]-m-m)},this).map(function(b){return this.getLineHeightFactor()*b.length*y/_+m+m},this).reduce(function(b,N){return Math.max(b,N)},0)};r.setTableHeaderRow=function(f){s.call(this),this.internal.__cell__.tableHeaderRow=f},r.printHeaderRow=function(f,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){m=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,_.push(m)),m.lineNumber=f;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,m),this.setTextColor(N)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}})(Vt.API);var o_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},l_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Sg=a_(l_),c_=[100,200,300,400,500,600,700,800,900],vM=a_(c_);function zm(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return o_[o=o||"normal"]?o:"normal"})(r.style),s=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(r.weight),a=(function(o){return typeof Sg[o=o||"normal"]=="number"?o:"normal"})(r.stretch);return{family:e,style:t,weight:s,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,s].join(" ")}}}function tx(r,e,t,s){var a;for(a=t;a>=0&&a<e.length;a+=s)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=s)if(r[e[a]])return r[e[a]]}var yM={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},nx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function rx(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function sx(r){return r.trimLeft()}function xM(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function wM(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var L1,ix,ax,mh,O1,ox,lx,cx,Pm=["times"];function ux(r,e,t,s,a){var o=4,u=fx;switch(a){case Vt.API.image_compression.FAST:o=1,u=hx;break;case Vt.API.image_compression.MEDIUM:o=6,u=dx;break;case Vt.API.image_compression.SLOW:o=9,u=px}r=(function(f,d,m,y){for(var _,b=f.length/d,N=new Uint8Array(f.length+b),A=[_M,hx,fx,dx,px],E=0;E<b;E+=1){var T=E*d,R=f.subarray(T,T+d);if(y)N.set(y(R,m,_),T+E);else{for(var I=A.length,q=[],V=0;V<I;V+=1)q[V]=A[V](R,m,_);var W=NM(q.concat());N.set(q[W],T+E)}_=R}return N})(r,e,Math.ceil(t*s/8),u);var c=gg(r,{level:o});return Vt.API.__addimage__.arrayBufferToBinaryString(c)}function _M(r){var e=Array.apply([],r);return e.unshift(0),e}function hx(r,e){var t=r.length,s=[];s[0]=1;for(var a=0;a<t;a+=1){var o=r[a-e]||0;s[a+1]=r[a]-o+256&255}return s}function fx(r,e,t){var s=r.length,a=[];a[0]=2;for(var o=0;o<s;o+=1){var u=t&&t[o]||0;a[o+1]=r[o]-u+256&255}return a}function dx(r,e,t){var s=r.length,a=[];a[0]=3;for(var o=0;o<s;o+=1){var u=r[o-e]||0,c=t&&t[o]||0;a[o+1]=r[o]+256-(u+c>>>1)&255}return a}function px(r,e,t){var s=r.length,a=[];a[0]=4;for(var o=0;o<s;o+=1){var u=SM(r[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=r[o]-u+256&255}return a}function SM(r,e,t){if(r===e&&e===t)return r;var s=Math.abs(e-t),a=Math.abs(r-t),o=Math.abs(r+e-t-t);return s<=a&&s<=o?r:a<=o?e:t}function NM(r){var e=r.map(function(t){return t.reduce(function(s,a){return s+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Um(r,e,t){var s=e*t,a=Math.floor(s/8),o=16-(s-8*a+t),u=(1<<t)-1;return u_(r,a)>>o&u}function mx(r,e,t,s){var a=t*s,o=Math.floor(a/8),u=16-(a-8*o+s),c=(1<<s)-1,f=(e&c)<<u;(function(d,m,y){if(m+1<d.byteLength)d.setUint16(m,y,!1);else{var _=y>>8&255;d.setUint8(m,_)}})(r,o,u_(r,o)&~(c<<u)&65535|f)}function u_(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function AM(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,s=r[e++]|r[e++]<<8,a=r[e++],o=a>>7,u=1<<1+(7&a);r[e++],r[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var d=!0,m=[],y=0,_=null,b=0,N=null;for(this.width=t,this.height=s;d&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,N=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((k=r[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=r[e++];y=r[e++]|r[e++]<<8,_=r[e++],1&A||(_=null),b=A>>2&7,e++;break;case 254:for(;;){if(!((k=r[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var E=r[e++]|r[e++]<<8,T=r[e++]|r[e++]<<8,R=r[e++]|r[e++]<<8,I=r[e++]|r[e++]<<8,q=r[e++],V=q>>6&1,W=1<<1+(7&q),H=c,O=f,F=!1;q>>7&&(F=!0,H=e,O=W,e+=3*W);var J=e;for(e++;;){var k;if(!((k=r[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}m.push({x:E,y:T,width:R,height:I,has_local_palette:F,palette_offset:H,palette_size:O,data_offset:J,data_length:e-J,transparent_index:_,interlaced:!!V,delay:y,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return N},this.frameInfo=function(D){if(D<0||D>=m.length)throw new Error("Frame index out of range.");return m[D]},this.decodeAndBlitFrameBGRA=function(D,Q){var $=this.frameInfo(D),le=$.width*$.height,B=new Uint8Array(le);gx(r,$.data_offset,B,le);var ie=$.palette_offset,re=$.transparent_index;re===null&&(re=256);var fe=$.width,me=t-fe,G=fe,j=4*($.y*t+$.x),z=4*(($.y+$.height)*t+$.x),ee=j,te=4*me;$.interlaced===!0&&(te+=4*t*7);for(var oe=8,de=0,pe=B.length;de<pe;++de){var ve=B[de];if(G===0&&(G=fe,(ee+=te)>=z&&(te=4*me+4*t*(oe-1),ee=j+(fe+me)*(oe<<1),oe>>=1)),ve===re)ee+=4;else{var _e=r[ie+3*ve],qe=r[ie+3*ve+1],Xe=r[ie+3*ve+2];Q[ee++]=Xe,Q[ee++]=qe,Q[ee++]=_e,Q[ee++]=255}--G}},this.decodeAndBlitFrameRGBA=function(D,Q){var $=this.frameInfo(D),le=$.width*$.height,B=new Uint8Array(le);gx(r,$.data_offset,B,le);var ie=$.palette_offset,re=$.transparent_index;re===null&&(re=256);var fe=$.width,me=t-fe,G=fe,j=4*($.y*t+$.x),z=4*(($.y+$.height)*t+$.x),ee=j,te=4*me;$.interlaced===!0&&(te+=4*t*7);for(var oe=8,de=0,pe=B.length;de<pe;++de){var ve=B[de];if(G===0&&(G=fe,(ee+=te)>=z&&(te=4*me+4*t*(oe-1),ee=j+(fe+me)*(oe<<1),oe>>=1)),ve===re)ee+=4;else{var _e=r[ie+3*ve],qe=r[ie+3*ve+1],Xe=r[ie+3*ve+2];Q[ee++]=_e,Q[ee++]=qe,Q[ee++]=Xe,Q[ee++]=255}--G}}}function gx(r,e,t,s){for(var a=r[e++],o=1<<a,u=o+1,c=u+1,f=a+1,d=(1<<f)-1,m=0,y=0,_=0,b=r[e++],N=new Int32Array(4096),A=null;;){for(;m<16&&b!==0;)y|=r[e++]<<m,m+=8,b===1?b=r[e++]:--b;if(m<f)break;var E=y&d;if(y>>=f,m-=f,E!==o){if(E===u)break;for(var T=E<c?E:A,R=0,I=T;I>o;)I=N[I]>>8,++R;var q=I;if(_+R+(T!==E?1:0)>s)return void hr.log("Warning, gif stream longer than expected.");t[_++]=q;var V=_+=R;for(T!==E&&(t[_++]=q),I=T;R--;)I=N[I],t[--V]=255&I,I>>=8;A!==null&&c<4096&&(N[c++]=A<<8|q,c>=d+1&&f<12&&(++f,d=d<<1|1)),A=E}else c=u+1,d=(1<<(f=a+1))-1,A=null}return _!==s&&hr.log("Warning, gif stream shorter than expected."),t}function Hm(r){var e,t,s,a,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),m=new Array(64),y=new Array(65535),_=new Array(65535),b=new Array(64),N=new Array(64),A=[],E=0,T=7,R=new Array(64),I=new Array(64),q=new Array(64),V=new Array(256),W=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function B(j,z){for(var ee=0,te=0,oe=new Array,de=1;de<=16;de++){for(var pe=1;pe<=j[de];pe++)oe[z[te]]=[],oe[z[te]][0]=ee,oe[z[te]][1]=de,te++,ee++;ee*=2}return oe}function ie(j){for(var z=j[0],ee=j[1]-1;ee>=0;)z&1<<ee&&(E|=1<<T),ee--,--T<0&&(E==255?(re(255),re(0)):re(E),T=7,E=0)}function re(j){A.push(j)}function fe(j){re(j>>8&255),re(255&j)}function me(j,z,ee,te,oe){for(var de,pe=oe[0],ve=oe[240],_e=(function(je,st){var Ue,nt,Oe,$e,tt,at,mt,yt,ot,kt,ft=0;for(ot=0;ot<8;++ot){Ue=je[ft],nt=je[ft+1],Oe=je[ft+2],$e=je[ft+3],tt=je[ft+4],at=je[ft+5],mt=je[ft+6];var mn=Ue+(yt=je[ft+7]),Gt=Ue-yt,Nt=nt+mt,Lt=nt-mt,It=Oe+at,Se=Oe-at,lt=$e+tt,ct=$e-tt,gt=mn+lt,en=mn-lt,St=Nt+It,bt=Nt-It;je[ft]=gt+St,je[ft+4]=gt-St;var qt=.707106781*(bt+en);je[ft+2]=en+qt,je[ft+6]=en-qt;var De=.382683433*((gt=ct+Se)-(bt=Lt+Gt)),ht=.5411961*gt+De,vt=1.306562965*bt+De,Ot=.707106781*(St=Se+Lt),it=Gt+Ot,Kt=Gt-Ot;je[ft+5]=Kt+ht,je[ft+3]=Kt-ht,je[ft+1]=it+vt,je[ft+7]=it-vt,ft+=8}for(ft=0,ot=0;ot<8;++ot){Ue=je[ft],nt=je[ft+8],Oe=je[ft+16],$e=je[ft+24],tt=je[ft+32],at=je[ft+40],mt=je[ft+48];var gn=Ue+(yt=je[ft+56]),bn=Ue-yt,dn=nt+mt,sn=nt-mt,Te=Oe+at,Fe=Oe-at,Qe=$e+tt,xt=$e-tt,Ft=gn+Qe,Et=gn-Qe,Xt=dn+Te,tn=dn-Te;je[ft]=Ft+Xt,je[ft+32]=Ft-Xt;var Ht=.707106781*(tn+Et);je[ft+16]=Et+Ht,je[ft+48]=Et-Ht;var on=.382683433*((Ft=xt+Fe)-(tn=sn+bn)),zn=.5411961*Ft+on,kn=1.306562965*tn+on,En=.707106781*(Xt=Fe+sn),Vn=bn+En,$n=bn-En;je[ft+40]=$n+zn,je[ft+24]=$n-zn,je[ft+8]=Vn+kn,je[ft+56]=Vn-kn,ft++}for(ot=0;ot<64;++ot)kt=je[ot]*st[ot],b[ot]=kt>0?kt+.5|0:kt-.5|0;return b})(j,z),qe=0;qe<64;++qe)N[H[qe]]=_e[qe];var Xe=N[0]-ee;ee=N[0],Xe==0?ie(te[0]):(ie(te[_[de=32767+Xe]]),ie(y[de]));for(var et=63;et>0&&N[et]==0;)et--;if(et==0)return ie(pe),ee;for(var ut,Y=1;Y<=et;){for(var Ie=Y;N[Y]==0&&Y<=et;)++Y;var pt=Y-Ie;if(pt>=16){ut=pt>>4;for(var Je=1;Je<=ut;++Je)ie(ve);pt&=15}de=32767+N[Y],ie(oe[(pt<<4)+_[de]]),ie(y[de]),Y++}return et!=63&&ie(pe),ee}function G(j){j=Math.min(Math.max(j,1),100),o!=j&&((function(z){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var oe=u((ee[te]*z+50)/100);oe=Math.min(Math.max(oe,1),255),c[H[te]]=oe}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var ve=u((de[pe]*z+50)/100);ve=Math.min(Math.max(ve,1),255),f[H[pe]]=ve}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],qe=0,Xe=0;Xe<8;Xe++)for(var et=0;et<8;et++)d[qe]=1/(c[H[qe]]*_e[Xe]*_e[et]*8),m[qe]=1/(f[H[qe]]*_e[Xe]*_e[et]*8),qe++})(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),o=j)}this.encode=function(j,z){z&&G(z),A=new Array,E=0,T=7,fe(65496),fe(65504),fe(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),fe(1),fe(1),re(0),re(0),(function(){fe(65499),fe(132),re(0);for(var nt=0;nt<64;nt++)re(c[nt]);re(1);for(var Oe=0;Oe<64;Oe++)re(f[Oe])})(),(function(nt,Oe){fe(65472),fe(17),re(8),fe(Oe),fe(nt),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)})(j.width,j.height),(function(){fe(65476),fe(418),re(0);for(var nt=0;nt<16;nt++)re(O[nt+1]);for(var Oe=0;Oe<=11;Oe++)re(F[Oe]);re(16);for(var $e=0;$e<16;$e++)re(J[$e+1]);for(var tt=0;tt<=161;tt++)re(k[tt]);re(1);for(var at=0;at<16;at++)re(D[at+1]);for(var mt=0;mt<=11;mt++)re(Q[mt]);re(17);for(var yt=0;yt<16;yt++)re($[yt+1]);for(var ot=0;ot<=161;ot++)re(le[ot])})(),fe(65498),fe(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var ee=0,te=0,oe=0;E=0,T=7,this.encode.displayName="_encode_";for(var de,pe,ve,_e,qe,Xe,et,ut,Y,Ie=j.data,pt=j.width,Je=j.height,je=4*pt,st=0;st<Je;){for(de=0;de<je;){for(qe=je*st+de,et=-1,ut=0,Y=0;Y<64;Y++)Xe=qe+(ut=Y>>3)*je+(et=4*(7&Y)),st+ut>=Je&&(Xe-=je*(st+1+ut-Je)),de+et>=je&&(Xe-=de+et-je+4),pe=Ie[Xe++],ve=Ie[Xe++],_e=Ie[Xe++],R[Y]=(W[pe]+W[ve+256|0]+W[_e+512|0]>>16)-128,I[Y]=(W[pe+768|0]+W[ve+1024|0]+W[_e+1280|0]>>16)-128,q[Y]=(W[pe+1280|0]+W[ve+1536|0]+W[_e+1792|0]>>16)-128;ee=me(R,d,ee,e,s),te=me(I,m,te,t,a),oe=me(q,m,oe,t,a),de+=32}st+=8}if(T>=0){var Ue=[];Ue[1]=T+1,Ue[0]=(1<<T+1)-1,ie(Ue)}return fe(65497),new Uint8Array(A)},r=r||50,(function(){for(var j=String.fromCharCode,z=0;z<256;z++)V[z]=j(z)})(),e=B(O,F),t=B(D,Q),s=B(J,k),a=B($,le),(function(){for(var j=1,z=2,ee=1;ee<=15;ee++){for(var te=j;te<z;te++)_[32767+te]=ee,y[32767+te]=[],y[32767+te][1]=ee,y[32767+te][0]=te;for(var oe=-(z-1);oe<=-j;oe++)_[32767+oe]=ee,y[32767+oe]=[],y[32767+oe][1]=ee,y[32767+oe][0]=z-1+oe;j<<=1,z<<=1}})(),(function(){for(var j=0;j<256;j++)W[j]=19595*j,W[j+256|0]=38470*j,W[j+512|0]=7471*j+32768,W[j+768|0]=-11059*j,W[j+1024|0]=-21709*j,W[j+1280|0]=32768*j+8421375,W[j+1536|0]=-27439*j,W[j+1792|0]=-5329*j})(),G(r)}function no(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function bx(r){function e(F){if(!F)throw Error("assert :P")}function t(F,J,k){for(var D=0;4>D;D++)if(F[J+D]!=k.charCodeAt(D))return!0;return!1}function s(F,J,k,D,Q){for(var $=0;$<Q;$++)F[J+$]=k[D+$]}function a(F,J,k,D){for(var Q=0;Q<D;Q++)F[J+Q]=k}function o(F){return new Int32Array(F)}function u(F,J){for(var k=[],D=0;D<F;D++)k.push(new J);return k}function c(F,J){var k=[];return(function D(Q,$,le){for(var B=le[$],ie=0;ie<B&&(Q.push(le.length>$+1?[]:new J),!(le.length<$+1));ie++)D(Q[ie],$+1,le)})(k,0,F),k}var f=function(){var F=this;function J(p,v){for(var C=1<<v-1>>>0;p&C;)C>>>=1;return C?(p&C-1)+C:p}function k(p,v,C,M,U){e(!(M%C));do p[v+(M-=C)]=U;while(0<M)}function D(p,v,C,M,U){if(e(2328>=U),512>=U)var X=o(512);else if((X=o(U))==null)return 0;return(function(Z,ne,se,ue,ye,Ee){var ce,we,Ce=ne,ze=1<<se,ke=o(16),Be=o(16);for(e(ye!=0),e(ue!=null),e(Z!=null),e(0<se),we=0;we<ye;++we){if(15<ue[we])return 0;++ke[ue[we]]}if(ke[0]==ye)return 0;for(Be[1]=0,ce=1;15>ce;++ce){if(ke[ce]>1<<ce)return 0;Be[ce+1]=Be[ce]+ke[ce]}for(we=0;we<ye;++we)ce=ue[we],0<ue[we]&&(Ee[Be[ce]++]=we);if(Be[15]==1)return(ue=new Q).g=0,ue.value=Ee[0],k(Z,Ce,1,ze,ue),ze;var Ge,rt=-1,Ze=ze-1,jt=0,wt=1,nn=1,At=1<<se;for(we=0,ce=1,ye=2;ce<=se;++ce,ye<<=1){if(wt+=nn<<=1,0>(nn-=ke[ce]))return 0;for(;0<ke[ce];--ke[ce])(ue=new Q).g=ce,ue.value=Ee[we++],k(Z,Ce+jt,ye,At,ue),jt=J(jt,ce)}for(ce=se+1,ye=2;15>=ce;++ce,ye<<=1){if(wt+=nn<<=1,0>(nn-=ke[ce]))return 0;for(;0<ke[ce];--ke[ce]){if(ue=new Q,(jt&Ze)!=rt){for(Ce+=At,Ge=1<<(rt=ce)-se;15>rt&&!(0>=(Ge-=ke[rt]));)++rt,Ge<<=1;ze+=At=1<<(Ge=rt-se),Z[ne+(rt=jt&Ze)].g=Ge+se,Z[ne+rt].value=Ce-ne-rt}ue.g=ce-se,ue.value=Ee[we++],k(Z,Ce+(jt>>se),ye,At,ue),jt=J(jt,ce)}}return wt!=2*Be[15]-1?0:ze})(p,v,C,M,U,X)}function Q(){this.value=this.g=0}function $(){this.value=this.g=0}function le(){this.G=u(5,Q),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(wo,$)}function B(p,v,C,M){e(p!=null),e(v!=null),e(2147483648>M),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=C,p.Jd=v,p.Yc=C+M,p.Zc=4<=M?C+M-4+1:C,pe(p)}function ie(p,v){for(var C=0;0<v--;)C|=_e(p,128)<<v;return C}function re(p,v){var C=ie(p,v);return ve(p)?-C:C}function fe(p,v,C,M){var U,X=0;for(e(p!=null),e(v!=null),e(4294967288>M),p.Sb=M,p.Ra=0,p.u=0,p.h=0,4<M&&(M=4),U=0;U<M;++U)X+=v[C+U]<<8*U;p.Ra=X,p.bb=M,p.oa=v,p.pa=C}function me(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<ma-8>>>0,++p.bb,p.u-=8;te(p)&&(p.h=1,p.u=0)}function G(p,v){if(e(0<=v),!p.h&&v<=Bs){var C=ee(p)&Zs[v];return p.u+=v,me(p),C}return p.h=1,p.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(p){return p.Ra>>>(p.u&ma-1)>>>0}function te(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>ma}function oe(p,v){p.u=v,p.h=te(p)}function de(p){p.u>=ga&&(e(p.u>=ga),me(p))}function pe(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ve(p){return ie(p,1)}function _e(p,v){var C=p.Ca;0>p.b&&pe(p);var M=p.b,U=C*v>>>8,X=(p.I>>>M>U)+0;for(X?(C-=U,p.I-=U+1<<M>>>0):C=U+1,M=C,U=0;256<=M;)U+=8,M>>=8;return M=7^U+Ua[M],p.b-=M,p.Ca=(C<<M)-1,X}function qe(p,v,C){p[v+0]=C>>24&255,p[v+1]=C>>16&255,p[v+2]=C>>8&255,p[v+3]=255&C}function Xe(p,v){return p[v+0]|p[v+1]<<8}function et(p,v){return Xe(p,v)|p[v+2]<<16}function ut(p,v){return Xe(p,v)|Xe(p,v+2)<<16}function Y(p,v){var C=1<<v;return e(p!=null),e(0<v),p.X=o(C),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function Ie(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),s(v.X,0,p.X,0,1<<v.Xa)}function pt(){this.X=[],this.Xa=this.Mb=0}function Je(p,v,C,M){e(C!=null),e(M!=null);var U=C[0],X=M[0];return U==0&&(U=(p*X+v/2)/v),X==0&&(X=(v*U+p/2)/p),0>=U||0>=X?0:(C[0]=U,M[0]=X,1)}function je(p,v){return p+(1<<v)-1>>>v}function st(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function Ue(p,v){F[v]=function(C,M,U,X,Z,ne,se){var ue;for(ue=0;ue<Z;++ue){var ye=F[p](ne[se+ue-1],U,X+ue);ne[se+ue]=st(C[M+ue],ye)}}}function nt(){this.ud=this.hd=this.jd=0}function Oe(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function $e(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function tt(p,v){return $e(p+(p-v+.5>>1))}function at(p,v,C){return Math.abs(v-C)-Math.abs(p-C)}function mt(p,v,C,M,U,X,Z){for(M=X[Z-1],C=0;C<U;++C)X[Z+C]=M=st(p[v+C],M)}function yt(p,v,C,M,U){var X;for(X=0;X<C;++X){var Z=p[v+X],ne=Z>>8&255,se=16711935&(se=(se=16711935&Z)+((ne<<16)+ne));M[U+X]=(4278255360&Z)+se>>>0}}function ot(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function kt(p,v,C,M,U,X){var Z;for(Z=0;Z<M;++Z){var ne=v[C+Z],se=ne>>>8,ue=ne,ye=255&(ye=(ye=ne>>>16)+((p.jd<<24>>24)*(se<<24>>24)>>>5));ue=255&(ue=(ue+=(p.hd<<24>>24)*(se<<24>>24)>>>5)+((p.ud<<24>>24)*(ye<<24>>24)>>>5)),U[X+Z]=(4278255360&ne)+(ye<<16)+ue}}function ft(p,v,C,M,U){F[v]=function(X,Z,ne,se,ue,ye,Ee,ce,we){for(se=Ee;se<ce;++se)for(Ee=0;Ee<we;++Ee)ue[ye++]=U(ne[M(X[Z++])])},F[p]=function(X,Z,ne,se,ue,ye,Ee){var ce=8>>X.b,we=X.Ea,Ce=X.K[0],ze=X.w;if(8>ce)for(X=(1<<X.b)-1,ze=(1<<ce)-1;Z<ne;++Z){var ke,Be=0;for(ke=0;ke<we;++ke)ke&X||(Be=M(se[ue++])),ye[Ee++]=U(Ce[Be&ze]),Be>>=ce}else F["VP8LMapColor"+C](se,ue,Ce,ze,ye,Ee,Z,ne,we)}}function mn(p,v,C,M,U){for(C=v+C;v<C;){var X=p[v++];M[U++]=X>>16&255,M[U++]=X>>8&255,M[U++]=255&X}}function Gt(p,v,C,M,U){for(C=v+C;v<C;){var X=p[v++];M[U++]=X>>16&255,M[U++]=X>>8&255,M[U++]=255&X,M[U++]=X>>24&255}}function Nt(p,v,C,M,U){for(C=v+C;v<C;){var X=(Z=p[v++])>>16&240|Z>>12&15,Z=240&Z|Z>>28&15;M[U++]=X,M[U++]=Z}}function Lt(p,v,C,M,U){for(C=v+C;v<C;){var X=(Z=p[v++])>>16&248|Z>>13&7,Z=Z>>5&224|Z>>3&31;M[U++]=X,M[U++]=Z}}function It(p,v,C,M,U){for(C=v+C;v<C;){var X=p[v++];M[U++]=255&X,M[U++]=X>>8&255,M[U++]=X>>16&255}}function Se(p,v,C,M,U,X){if(X==0)for(C=v+C;v<C;)qe(M,((X=p[v++])[0]>>24|X[1]>>8&65280|X[2]<<8&16711680|X[3]<<24)>>>0),U+=32;else s(M,U,p,v,C)}function lt(p,v){F[v][0]=F[p+"0"],F[v][1]=F[p+"1"],F[v][2]=F[p+"2"],F[v][3]=F[p+"3"],F[v][4]=F[p+"4"],F[v][5]=F[p+"5"],F[v][6]=F[p+"6"],F[v][7]=F[p+"7"],F[v][8]=F[p+"8"],F[v][9]=F[p+"9"],F[v][10]=F[p+"10"],F[v][11]=F[p+"11"],F[v][12]=F[p+"12"],F[v][13]=F[p+"13"],F[v][14]=F[p+"0"],F[v][15]=F[p+"0"]}function ct(p){return p==Yc||p==Vu||p==Hl||p==Bu}function gt(){this.eb=[],this.size=this.A=this.fb=0}function en(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function St(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gt,this.f.kb=new en,this.sd=null}function bt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function De(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function ht(p,v){var C=p.T,M=v.ba.f.RGBA,U=M.eb,X=M.fb+p.ka*M.A,Z=gs[v.ba.S],ne=p.y,se=p.O,ue=p.f,ye=p.N,Ee=p.ea,ce=p.W,we=v.cc,Ce=v.dc,ze=v.Mc,ke=v.Nc,Be=p.ka,Ge=p.ka+p.T,rt=p.U,Ze=rt+1>>1;for(Be==0?Z(ne,se,null,null,ue,ye,Ee,ce,ue,ye,Ee,ce,U,X,null,null,rt):(Z(v.ec,v.fc,ne,se,we,Ce,ze,ke,ue,ye,Ee,ce,U,X-M.A,U,X,rt),++C);Be+2<Ge;Be+=2)we=ue,Ce=ye,ze=Ee,ke=ce,ye+=p.Rc,ce+=p.Rc,X+=2*M.A,Z(ne,(se+=2*p.fa)-p.fa,ne,se,we,Ce,ze,ke,ue,ye,Ee,ce,U,X-M.A,U,X,rt);return se+=p.fa,p.j+Ge<p.o?(s(v.ec,v.fc,ne,se,rt),s(v.cc,v.dc,ue,ye,Ze),s(v.Mc,v.Nc,Ee,ce,Ze),C--):1&Ge||Z(ne,se,null,null,ue,ye,Ee,ce,ue,ye,Ee,ce,U,X+M.A,null,null,rt),C}function vt(p,v,C){var M=p.F,U=[p.J];if(M!=null){var X=p.U,Z=v.ba.S,ne=Z==Wc||Z==Hl;v=v.ba.f.RGBA;var se=[0],ue=p.ka;se[0]=p.T,p.Kb&&(ue==0?--se[0]:(--ue,U[0]-=p.width),p.j+p.ka+p.T==p.o&&(se[0]=p.o-p.j-ue));var ye=v.eb;ue=v.fb+ue*v.A,p=Pc(M,U[0],p.width,X,se,ye,ue+(ne?0:3),v.A),e(C==se),p&&ct(Z)&&tl(ye,ue,ne,X,se,v.A)}return 0}function Ot(p){var v=p.ma,C=v.ba.S,M=11>C,U=C==Ts||C==wi||C==Wc||C==Ul||C==12||ct(C);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Pa(v.Oa,p,U?11:12))return 0;if(U&&ct(C)&&Vc(),p.da)alert("todo:use_scaling");else{if(M){if(v.Ib=De,p.Kb){if(C=p.U+1>>1,v.memory=o(p.U+2*C),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+C,v.Ib=ht,Vc()}}else alert("todo:EmitYUV");U&&(v.Jb=vt,M&&Xi())}if(M&&!ko){for(p=0;256>p;++p)bs[p]=89858*(p-128)+Yl>>Ti,Kp[p]=-22014*(p-128)+Yl,jd[p]=-45773*(p-128),Hu[p]=113618*(p-128)+Yl>>Ti;for(p=il;p<To;++p)v=76283*(p-16)+Yl>>Ti,Jp[p-il]=us(v,255),e0[p-il]=us(v+8>>4,15);ko=1}return 1}function it(p){var v=p.ma,C=p.U,M=p.T;return e(!(1&p.ka)),0>=C||0>=M?0:(C=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,C),v.Dc+=C,1)}function Kt(p){p.ma.memory=null}function gn(p,v,C,M){return G(p,8)!=47?0:(v[0]=G(p,14)+1,C[0]=G(p,14)+1,M[0]=G(p,1),G(p,3)!=0?0:!p.h)}function bn(p,v){if(4>p)return p+1;var C=p-2>>1;return(2+(1&p)<<C)+G(v,C)+1}function dn(p,v){return 120<v?v-120:1<=(C=((C=Si[v-1])>>4)*p+(8-(15&C)))?C:1;var C}function sn(p,v,C){var M=ee(C),U=p[v+=255&M].g-8;return 0<U&&(oe(C,C.u+8),M=ee(C),v+=p[v].value,v+=M&(1<<U)-1),oe(C,C.u+p[v].g),p[v].value}function Te(p,v,C){return C.g+=p.g,C.value+=p.value<<v>>>0,e(8>=C.g),p.g}function Fe(p,v,C){var M=p.xc;return e((v=M==0?0:p.vc[p.md*(C>>M)+(v>>M)])<p.Wb),p.Ya[v]}function Qe(p,v,C,M){var U=p.ab,X=p.c*v,Z=p.C;v=Z+v;var ne=C,se=M;for(M=p.Ta,C=p.Ua;0<U--;){var ue=p.gc[U],ye=Z,Ee=v,ce=ne,we=se,Ce=(se=M,ne=C,ue.Ea);switch(e(ye<Ee),e(Ee<=ue.nc),ue.hc){case 2:Mr(ce,we,(Ee-ye)*Ce,se,ne);break;case 0:var ze=ye,ke=Ee,Be=se,Ge=ne,rt=(At=ue).Ea;ze==0&&(Bl(ce,we,null,null,1,Be,Ge),mt(ce,we+1,0,0,rt-1,Be,Ge+1),we+=rt,Ge+=rt,++ze);for(var Ze=1<<At.b,jt=Ze-1,wt=je(rt,At.b),nn=At.K,At=At.w+(ze>>At.b)*wt;ze<ke;){var yn=nn,cr=At,cn=1;for(ql(ce,we,Be,Ge-rt,1,Be,Ge);cn<rt;){var _t=(cn&~jt)+Ze;_t>rt&&(_t=rt),(0,Ha[yn[cr++]>>8&15])(ce,we+ +cn,Be,Ge+cn-rt,_t-cn,Be,Ge+cn),cn=_t}we+=rt,Ge+=rt,++ze&jt||(At+=wt)}Ee!=ue.nc&&s(se,ne-Ce,se,ne+(Ee-ye-1)*Ce,Ce);break;case 1:for(Ce=ce,ke=we,rt=(ce=ue.Ea)-(Ge=ce&~(Be=(we=1<<ue.b)-1)),ze=je(ce,ue.b),Ze=ue.K,ue=ue.w+(ye>>ue.b)*ze;ye<Ee;){for(jt=Ze,wt=ue,nn=new nt,At=ke+Ge,yn=ke+ce;ke<At;)ot(jt[wt++],nn),zl(nn,Ce,ke,we,se,ne),ke+=we,ne+=we;ke<yn&&(ot(jt[wt++],nn),zl(nn,Ce,ke,rt,se,ne),ke+=rt,ne+=rt),++ye&Be||(ue+=ze)}break;case 3:if(ce==se&&we==ne&&0<ue.b){for(ke=se,ce=Ce=ne+(Ee-ye)*Ce-(Ge=(Ee-ye)*je(ue.Ea,ue.b)),we=se,Be=ne,ze=[],Ge=(rt=Ge)-1;0<=Ge;--Ge)ze[Ge]=we[Be+Ge];for(Ge=rt-1;0<=Ge;--Ge)ke[ce+Ge]=ze[Ge];Ou(ue,ye,Ee,se,Ce,se,ne)}else Ou(ue,ye,Ee,ce,we,se,ne)}ne=M,se=C}se!=C&&s(M,C,ne,se,X)}function xt(p,v){var C=p.V,M=p.Ba+p.c*p.C,U=v-p.C;if(e(v<=p.l.o),e(16>=U),0<U){var X=p.l,Z=p.Ta,ne=p.Ua,se=X.width;if(Qe(p,U,C,M),U=ne=[ne],e((C=p.C)<(M=v)),e(X.v<X.va),M>X.o&&(M=X.o),C<X.j){var ue=X.j-C;C=X.j,U[0]+=ue*se}if(C>=M?C=0:(U[0]+=4*X.v,X.ka=C-X.j,X.U=X.va-X.v,X.T=M-C,C=1),C){if(ne=ne[0],11>(C=p.ca).S){var ye=C.f.RGBA,Ee=(M=C.S,U=X.U,X=X.T,ue=ye.eb,ye.A),ce=X;for(ye=ye.fb+p.Ma*ye.A;0<ce--;){var we=Z,Ce=ne,ze=U,ke=ue,Be=ye;switch(M){case Iu:Pl(we,Ce,ze,ke,Be);break;case Ts:Ga(we,Ce,ze,ke,Be);break;case Yc:Ga(we,Ce,ze,ke,Be),tl(ke,Be,0,ze,1,0);break;case Fu:Jo(we,Ce,ze,ke,Be);break;case wi:Se(we,Ce,ze,ke,Be,1);break;case Vu:Se(we,Ce,ze,ke,Be,1),tl(ke,Be,0,ze,1,0);break;case Wc:Se(we,Ce,ze,ke,Be,0);break;case Hl:Se(we,Ce,ze,ke,Be,0),tl(ke,Be,1,ze,1,0);break;case Ul:Wa(we,Ce,ze,ke,Be);break;case Bu:Wa(we,Ce,ze,ke,Be),xi(ke,Be,ze,1,0);break;case _o:ya(we,Ce,ze,ke,Be);break;default:e(0)}ne+=se,ye+=Ee}p.Ma+=X}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=C.height)}}p.C=v,e(p.C<=p.i)}function Ft(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var C=p.Ya[v].G,M=p.Ya[v].H;if(0<C[1][M[1]+0].g||0<C[2][M[2]+0].g||0<C[3][M[3]+0].g)return 0}return 1}function Et(p,v,C,M,U,X){if(p.Z!=0){var Z=p.qd,ne=p.rd;for(e($a[p.Z]!=null);v<C;++v)$a[p.Z](Z,ne,M,U,M,U,X),Z=M,ne=U,U+=X;p.qd=Z,p.rd=ne}}function Xt(p,v){var C=p.l.ma,M=C.Z==0||C.Z==1?p.l.j:p.C;if(M=p.C<M?M:p.C,e(v<=p.l.o),v>M){var U=p.l.width,X=C.ca,Z=C.tb+U*M,ne=p.V,se=p.Ba+p.c*M,ue=p.gc;e(p.ab==1),e(ue[0].hc==3),va(ue[0],M,v,ne,se,X,Z),Et(C,M,v,X,Z,U)}p.C=p.Ma=v}function tn(p,v,C,M,U,X,Z){var ne=p.$/M,se=p.$%M,ue=p.m,ye=p.s,Ee=C+p.$,ce=Ee;U=C+M*U;var we=C+M*X,Ce=280+ye.ua,ze=p.Pb?ne:16777216,ke=0<ye.ua?ye.Wa:null,Be=ye.wc,Ge=Ee<we?Fe(ye,se,ne):null;e(p.C<X),e(we<=U);var rt=!1;e:for(;;){for(;rt||Ee<we;){var Ze=0;if(ne>=ze){var jt=Ee-C;e((ze=p).Pb),ze.wd=ze.m,ze.xd=jt,0<ze.s.ua&&Ie(ze.s.Wa,ze.s.vb),ze=ne+So}if(se&Be||(Ge=Fe(ye,se,ne)),e(Ge!=null),Ge.Qb&&(v[Ee]=Ge.qb,rt=!0),!rt)if(de(ue),Ge.jc){Ze=ue,jt=v;var wt=Ee,nn=Ge.pd[ee(Ze)&wo-1];e(Ge.jc),256>nn.g?(oe(Ze,Ze.u+nn.g),jt[wt]=nn.value,Ze=0):(oe(Ze,Ze.u+nn.g-256),e(256<=nn.value),Ze=nn.value),Ze==0&&(rt=!0)}else Ze=sn(Ge.G[0],Ge.H[0],ue);if(ue.h)break;if(rt||256>Ze){if(!rt)if(Ge.nd)v[Ee]=(Ge.qb|Ze<<8)>>>0;else{if(de(ue),rt=sn(Ge.G[1],Ge.H[1],ue),de(ue),jt=sn(Ge.G[2],Ge.H[2],ue),wt=sn(Ge.G[3],Ge.H[3],ue),ue.h)break;v[Ee]=(wt<<24|rt<<16|Ze<<8|jt)>>>0}if(rt=!1,++Ee,++se>=M&&(se=0,++ne,Z!=null&&ne<=X&&!(ne%16)&&Z(p,ne),ke!=null))for(;ce<Ee;)Ze=v[ce++],ke.X[(506832829*Ze&4294967295)>>>ke.Mb]=Ze}else if(280>Ze){if(Ze=bn(Ze-256,ue),jt=sn(Ge.G[4],Ge.H[4],ue),de(ue),jt=dn(M,jt=bn(jt,ue)),ue.h)break;if(Ee-C<jt||U-Ee<Ze)break e;for(wt=0;wt<Ze;++wt)v[Ee+wt]=v[Ee+wt-jt];for(Ee+=Ze,se+=Ze;se>=M;)se-=M,++ne,Z!=null&&ne<=X&&!(ne%16)&&Z(p,ne);if(e(Ee<=U),se&Be&&(Ge=Fe(ye,se,ne)),ke!=null)for(;ce<Ee;)Ze=v[ce++],ke.X[(506832829*Ze&4294967295)>>>ke.Mb]=Ze}else{if(!(Ze<Ce))break e;for(rt=Ze-280,e(ke!=null);ce<Ee;)Ze=v[ce++],ke.X[(506832829*Ze&4294967295)>>>ke.Mb]=Ze;Ze=Ee,e(!(rt>>>(jt=ke).Xa)),v[Ze]=jt.X[rt],rt=!0}rt||e(ue.h==te(ue))}if(p.Pb&&ue.h&&Ee<U)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Ie(p.s.vb,p.s.Wa);else{if(ue.h)break e;Z?.(p,ne>X?X:ne),p.a=0,p.$=Ee-C}return 1}return p.a=3,0}function Ht(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function on(){var p=new Qt;return p==null?null:(p.a=0,p.xb=Kh,lt("Predictor","VP8LPredictors"),lt("Predictor","VP8LPredictors_C"),lt("PredictorAdd","VP8LPredictorsAdd"),lt("PredictorAdd","VP8LPredictorsAdd_C"),Mr=yt,zl=kt,Pl=mn,Ga=Gt,Wa=Nt,ya=Lt,Jo=It,F.VP8LMapColor32b=ba,F.VP8LMapColor8b=ds,p)}function zn(p,v,C,M,U){var X=1,Z=[p],ne=[v],se=M.m,ue=M.s,ye=null,Ee=0;e:for(;;){if(C)for(;X&&G(se,1);){var ce=Z,we=ne,Ce=M,ze=1,ke=Ce.m,Be=Ce.gc[Ce.ab],Ge=G(ke,2);if(Ce.Oc&1<<Ge)X=0;else{switch(Ce.Oc|=1<<Ge,Be.hc=Ge,Be.Ea=ce[0],Be.nc=we[0],Be.K=[null],++Ce.ab,e(4>=Ce.ab),Ge){case 0:case 1:Be.b=G(ke,3)+2,ze=zn(je(Be.Ea,Be.b),je(Be.nc,Be.b),0,Ce,Be.K),Be.K=Be.K[0];break;case 3:var rt,Ze=G(ke,8)+1,jt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(ce[0]=je(Be.Ea,jt),Be.b=jt,rt=ze=zn(Ze,1,0,Ce,Be.K)){var wt,nn=Ze,At=Be,yn=1<<(8>>At.b),cr=o(yn);if(cr==null)rt=0;else{var cn=At.K[0],_t=At.w;for(cr[0]=At.K[0][0],wt=1;wt<1*nn;++wt)cr[wt]=st(cn[_t+wt],cr[wt-1]);for(;wt<4*yn;++wt)cr[wt]=0;At.K[0]=null,At.K[0]=cr,rt=1}}ze=rt;break;case 2:break;default:e(0)}X=ze}}if(Z=Z[0],ne=ne[0],X&&G(se,1)&&!(X=1<=(Ee=G(se,4))&&11>=Ee)){M.a=3;break e}var dt;if(dt=X)t:{var gr,Yt,fn,Gn=M,Xr=Z,vs=ne,nr=Ee,Fr=C,ks=Gn.m,Vr=Gn.s,vn=[null],Rn=1,br=0,qn=Ni[nr];n:for(;;){if(Fr&&G(ks,1)){var $r=G(ks,3)+2,vr=je(Xr,$r),In=je(vs,$r),Dr=vr*In;if(!zn(vr,In,0,Gn,vn))break n;for(vn=vn[0],Vr.xc=$r,gr=0;gr<Dr;++gr){var Wn=vn[gr]>>8&65535;vn[gr]=Wn,Wn>=Rn&&(Rn=Wn+1)}}if(ks.h)break n;for(Yt=0;5>Yt;++Yt){var Br=rl[Yt];!Yt&&0<nr&&(Br+=1<<nr),br<Br&&(br=Br)}var qr=u(Rn*qn,Q),Zn=Rn,On=u(Zn,le);if(On==null)var Es=null;else e(65536>=Zn),Es=On;var Ar=o(br);if(Es==null||Ar==null||qr==null){Gn.a=1;break n}var Bt=qr;for(gr=fn=0;gr<Rn;++gr){var zt=Es[gr],Fn=zt.G,Qs=zt.H,ki=0,zs=1,zr=0;for(Yt=0;5>Yt;++Yt){Br=rl[Yt],Fn[Yt]=Bt,Qs[Yt]=fn,!Yt&&0<nr&&(Br+=1<<nr);s:{var Eo,jo=Br,Wu=Gn,rr=Ar,ef=Bt,tf=fn,Yu=0,Za=Wu.m,t0=G(Za,1);if(a(rr,0,0,jo),t0){var nf=G(Za,1)+1,rf=G(Za,1),Xu=G(Za,rf==0?1:8);rr[Xu]=1,nf==2&&(rr[Xu=G(Za,8)]=1);var rs=1}else{var Cr=o(19),Qc=G(Za,4)+4;if(19<Qc){Wu.a=3;var Mo=0;break s}for(Eo=0;Eo<Qc;++Eo)Cr[Xc[Eo]]=G(Za,3);var $l=void 0,al=void 0,_a=Wu,$u=Cr,Zl=jo,Zu=rr,Qu=0,Qa=_a.m,sf=8,af=u(128,Q);r:for(;D(af,0,7,$u,19);){if(G(Qa,1)){var Md=2+2*G(Qa,3);if(($l=2+G(Qa,Md))>Zl)break r}else $l=Zl;for(al=0;al<Zl&&$l--;){de(Qa);var of=af[0+(127&ee(Qa))];oe(Qa,Qa.u+of.g);var Lo=of.value;if(16>Lo)Zu[al++]=Lo,Lo!=0&&(sf=Lo);else{var Ld=Lo==16,Od=Lo-16,Dd=Gl[Od],lf=G(Qa,_i[Od])+Dd;if(al+lf>Zl)break r;for(var Rd=Ld?sf:0;0<lf--;)Zu[al++]=Rd}}Qu=1;break r}Qu||(_a.a=3),rs=Qu}(rs=rs&&!Za.h)&&(Yu=D(ef,tf,8,rr,jo)),rs&&Yu!=0?Mo=Yu:(Wu.a=3,Mo=0)}if(Mo==0)break n;if(zs&&qu[Yt]==1&&(zs=Bt[fn].g==0),ki+=Bt[fn].g,fn+=Mo,3>=Yt){var ol,Ku=Ar[0];for(ol=1;ol<Br;++ol)Ar[ol]>Ku&&(Ku=Ar[ol]);zr+=Ku}}if(zt.nd=zs,zt.Qb=0,zs&&(zt.qb=(Fn[3][Qs[3]+0].value<<24|Fn[1][Qs[1]+0].value<<16|Fn[2][Qs[2]+0].value)>>>0,ki==0&&256>Fn[0][Qs[0]+0].value&&(zt.Qb=1,zt.qb+=Fn[0][Qs[0]+0].value<<8)),zt.jc=!zt.Qb&&6>zr,zt.jc){var Kc,Sa=zt;for(Kc=0;Kc<wo;++Kc){var Ka=Kc,Ja=Sa.pd[Ka],Ju=Sa.G[0][Sa.H[0]+Ka];256<=Ju.value?(Ja.g=Ju.g+256,Ja.value=Ju.value):(Ja.g=0,Ja.value=0,Ka>>=Te(Ju,8,Ja),Ka>>=Te(Sa.G[1][Sa.H[1]+Ka],16,Ja),Ka>>=Te(Sa.G[2][Sa.H[2]+Ka],0,Ja),Te(Sa.G[3][Sa.H[3]+Ka],24,Ja))}}}Vr.vc=vn,Vr.Wb=Rn,Vr.Ya=Es,Vr.yc=qr,dt=1;break t}dt=0}if(!(X=dt)){M.a=3;break e}if(0<Ee){if(ue.ua=1<<Ee,!Y(ue.Wa,Ee)){M.a=1,X=0;break e}}else ue.ua=0;var eh=M,ll=Z,Id=ne,Ql=eh.s,Kl=Ql.xc;if(eh.c=ll,eh.i=Id,Ql.md=je(ll,Kl),Ql.wc=Kl==0?-1:(1<<Kl)-1,C){M.xb=No;break e}if((ye=o(Z*ne))==null){M.a=1,X=0;break e}X=(X=tn(M,ye,0,Z,ne,ne,null))&&!se.h;break e}return X?(U!=null?U[0]=ye:(e(ye==null),e(C)),M.$=0,C||Ht(ue)):Ht(ue),X}function kn(p,v){var C=p.c*p.i,M=C+v+16*v;return e(p.c<=v),p.V=o(M),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+C+v,1)}function En(p,v){var C=p.C,M=v-C,U=p.V,X=p.Ba+p.c*C;for(e(v<=p.l.o);0<M;){var Z=16<M?16:M,ne=p.l.ma,se=p.l.width,ue=se*Z,ye=ne.ca,Ee=ne.tb+se*C,ce=p.Ta,we=p.Ua;Qe(p,Z,U,X),hi(ce,we,ye,Ee,ue),Et(ne,C,C+Z,ye,Ee,se),M-=Z,U+=Z*p.c,C+=Z}e(C==v),p.C=p.Ma=v}function Vn(){this.ub=this.yd=this.td=this.Rb=0}function $n(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ys(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function es(){this.Yb=(function(){var p=[];return(function v(C,M,U){for(var X=U[M],Z=0;Z<X&&(C.push(U.length>M+1?[]:0),!(U.length<M+1));Z++)v(C[Z],M+1,U)})(p,0,[3,11]),p})()}function Pn(){this.jb=o(3),this.Wc=c([4,8],es),this.Xc=c([4,17],es)}function ii(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ss(){this.ld=this.La=this.dd=this.tc=0}function Ns(){this.Na=this.la=0}function Xs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pi(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ui(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ss),this.Y=0,this.ya=Array(new Pi),this.aa=0,this.l=new Gi}function Hi(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ca(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new Vn,this.Kc=new $n,this.ed=new ii,this.Qa=new Ys,this.Ic=this.$c=this.Aa=0,this.D=new Ui,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,j),this.ia=0,this.pb=u(4,Xs),this.Pa=new Pn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Hi),this.Hd=0,this.rb=Array(new Ns),this.sb=0,this.wa=Array(new Ss),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pi),this.L=this.aa=0,this.gd=c([4,2],Ss),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function us(p,v){return 0>p?0:p>v?v:p}function Gi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ai(){var p=new ca;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,fi||(fi=bo)),p}function jn(p,v,C){return p.a==0&&(p.a=v,p.sc=C,p.cb=0),0}function Go(p,v,C){return 3<=C&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function ua(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return jn(p,2,"null VP8Io passed to VP8GetHeaders()");var C=v.data,M=v.w,U=v.ha;if(4>U)return jn(p,7,"Truncated header.");var X=C[M+0]|C[M+1]<<8|C[M+2]<<16,Z=p.Od;if(Z.Rb=!(1&X),Z.td=X>>1&7,Z.yd=X>>4&1,Z.ub=X>>5,3<Z.td)return jn(p,3,"Incorrect keyframe parameters.");if(!Z.yd)return jn(p,4,"Frame not displayable.");M+=3,U-=3;var ne=p.Kc;if(Z.Rb){if(7>U)return jn(p,7,"cannot parse picture header");if(!Go(C,M,U))return jn(p,3,"Bad code word");ne.c=16383&(C[M+4]<<8|C[M+3]),ne.Td=C[M+4]>>6,ne.i=16383&(C[M+6]<<8|C[M+5]),ne.Ud=C[M+6]>>6,M+=7,U-=7,p.za=ne.c+15>>4,p.Ub=ne.i+15>>4,v.width=ne.c,v.height=ne.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((X=p.Pa).jb,0,255,X.jb.length),e((X=p.Qa)!=null),X.Cb=0,X.Bb=0,X.Fb=1,a(X.Zb,0,0,X.Zb.length),a(X.Lb,0,0,X.Lb)}if(Z.ub>U)return jn(p,7,"bad partition length");B(X=p.m,C,M,Z.ub),M+=Z.ub,U-=Z.ub,Z.Rb&&(ne.Ld=ve(X),ne.Kd=ve(X)),ne=p.Qa;var se,ue=p.Pa;if(e(X!=null),e(ne!=null),ne.Cb=ve(X),ne.Cb){if(ne.Bb=ve(X),ve(X)){for(ne.Fb=ve(X),se=0;4>se;++se)ne.Zb[se]=ve(X)?re(X,7):0;for(se=0;4>se;++se)ne.Lb[se]=ve(X)?re(X,6):0}if(ne.Bb)for(se=0;3>se;++se)ue.jb[se]=ve(X)?ie(X,8):255}else ne.Bb=0;if(X.Ka)return jn(p,3,"cannot parse segment header");if((ne=p.ed).zd=ve(X),ne.Tb=ie(X,6),ne.wb=ie(X,3),ne.Pc=ve(X),ne.Pc&&ve(X)){for(ue=0;4>ue;++ue)ve(X)&&(ne.vd[ue]=re(X,6));for(ue=0;4>ue;++ue)ve(X)&&(ne.od[ue]=re(X,6))}if(p.L=ne.Tb==0?0:ne.zd?1:2,X.Ka)return jn(p,3,"cannot parse filter header");var ye=U;if(U=se=M,M=se+ye,ne=ye,p.Xb=(1<<ie(p.m,2))-1,ye<3*(ue=p.Xb))C=7;else{for(se+=3*ue,ne-=3*ue,ye=0;ye<ue;++ye){var Ee=C[U+0]|C[U+1]<<8|C[U+2]<<16;Ee>ne&&(Ee=ne),B(p.Jc[+ye],C,se,Ee),se+=Ee,ne-=Ee,U+=3}B(p.Jc[+ue],C,se,ne),C=se<M?0:5}if(C!=0)return jn(p,C,"cannot parse partitions");for(C=ie(se=p.m,7),U=ve(se)?re(se,4):0,M=ve(se)?re(se,4):0,ne=ve(se)?re(se,4):0,ue=ve(se)?re(se,4):0,se=ve(se)?re(se,4):0,ye=p.Qa,Ee=0;4>Ee;++Ee){if(ye.Cb){var ce=ye.Zb[Ee];ye.Fb||(ce+=C)}else{if(0<Ee){p.pb[Ee]=p.pb[0];continue}ce=C}var we=p.pb[Ee];we.Sc[0]=Ai[us(ce+U,127)],we.Sc[1]=Ci[us(ce+0,127)],we.Eb[0]=2*Ai[us(ce+M,127)],we.Eb[1]=101581*Ci[us(ce+ne,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=Ai[us(ce+ue,117)],we.Qc[1]=Ci[us(ce+se,127)],we.lc=ce+se}if(!Z.Rb)return jn(p,4,"Not a key frame.");for(ve(X),Z=p.Pa,C=0;4>C;++C){for(U=0;8>U;++U)for(M=0;3>M;++M)for(ne=0;11>ne;++ne)ue=_e(X,lr[C][U][M][ne])?ie(X,8):Ed[C][U][M][ne],Z.Wc[C][U].Yb[M][ne]=ue;for(U=0;17>U;++U)Z.Xc[C][U]=Z.Wc[C][xn[U]]}return p.kc=ve(X),p.kc&&(p.Bd=ie(X,8)),p.cb=1}function bo(p,v,C,M,U,X,Z){var ne=v[U].Yb[C];for(C=0;16>U;++U){if(!_e(p,ne[C+0]))return U;for(;!_e(p,ne[C+1]);)if(ne=v[++U].Yb[0],C=0,U==16)return 16;var se=v[U+1].Yb;if(_e(p,ne[C+2])){var ue=p,ye=0;if(_e(ue,(ce=ne)[(Ee=C)+3]))if(_e(ue,ce[Ee+6])){for(ne=0,Ee=2*(ye=_e(ue,ce[Ee+8]))+(ce=_e(ue,ce[Ee+9+ye])),ye=0,ce=kd[Ee];ce[ne];++ne)ye+=ye+_e(ue,ce[ne]);ye+=3+(8<<Ee)}else _e(ue,ce[Ee+7])?(ye=7+2*_e(ue,165),ye+=_e(ue,145)):ye=5+_e(ue,159);else ye=_e(ue,ce[Ee+4])?3+_e(ue,ce[Ee+5]):2;ne=se[2]}else ye=1,ne=se[1];se=Z+Qh[U],0>(ue=p).b&&pe(ue);var Ee,ce=ue.b,we=(Ee=ue.Ca>>1)-(ue.I>>ce)>>31;--ue.b,ue.Ca+=we,ue.Ca|=1,ue.I-=(Ee+1&we)<<ce,X[se]=((ye^we)-we)*M[(0<U)+0]}return 16}function Ec(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function Is(p,v,C,M,U){U=p[v+C+32*M]+(U>>3),p[v+C+32*M]=-256&U?0>U?0:255:U}function Wr(p,v,C,M,U,X){Is(p,v,0,C,M+U),Is(p,v,1,C,M+X),Is(p,v,2,C,M-X),Is(p,v,3,C,M-U)}function Rr(p){return(20091*p>>16)+p}function Ll(p,v,C,M){var U,X=0,Z=o(16);for(U=0;4>U;++U){var ne=p[v+0]+p[v+8],se=p[v+0]-p[v+8],ue=(35468*p[v+4]>>16)-Rr(p[v+12]),ye=Rr(p[v+4])+(35468*p[v+12]>>16);Z[X+0]=ne+ye,Z[X+1]=se+ue,Z[X+2]=se-ue,Z[X+3]=ne-ye,X+=4,v++}for(U=X=0;4>U;++U)ne=(p=Z[X+0]+4)+Z[X+8],se=p-Z[X+8],ue=(35468*Z[X+4]>>16)-Rr(Z[X+12]),Is(C,M,0,0,ne+(ye=Rr(Z[X+4])+(35468*Z[X+12]>>16))),Is(C,M,1,0,se+ue),Is(C,M,2,0,se-ue),Is(C,M,3,0,ne-ye),X++,M+=32}function Nu(p,v,C,M){var U=p[v+0]+4,X=35468*p[v+4]>>16,Z=Rr(p[v+4]),ne=35468*p[v+1]>>16;Wr(C,M,0,U+Z,p=Rr(p[v+1]),ne),Wr(C,M,1,U+X,p,ne),Wr(C,M,2,U-X,p,ne),Wr(C,M,3,U-Z,p,ne)}function jc(p,v,C,M,U){Ll(p,v,C,M),U&&Ll(p,v+16,C,M+4)}function Fs(p,v,C,M){Ya(p,v+0,C,M,1),Ya(p,v+32,C,M+128,1)}function Mc(p,v,C,M){var U;for(p=p[v+0]+4,U=0;4>U;++U)for(v=0;4>v;++v)Is(C,M,v,U,p)}function Lc(p,v,C,M){p[v+0]&&Bn(p,v+0,C,M),p[v+16]&&Bn(p,v+16,C,M+4),p[v+32]&&Bn(p,v+32,C,M+128),p[v+48]&&Bn(p,v+48,C,M+128+4)}function Wi(p,v,C,M){var U,X=o(16);for(U=0;4>U;++U){var Z=p[v+0+U]+p[v+12+U],ne=p[v+4+U]+p[v+8+U],se=p[v+4+U]-p[v+8+U],ue=p[v+0+U]-p[v+12+U];X[0+U]=Z+ne,X[8+U]=Z-ne,X[4+U]=ue+se,X[12+U]=ue-se}for(U=0;4>U;++U)Z=(p=X[0+4*U]+3)+X[3+4*U],ne=X[1+4*U]+X[2+4*U],se=X[1+4*U]-X[2+4*U],ue=p-X[3+4*U],C[M+0]=Z+ne>>3,C[M+16]=ue+se>>3,C[M+32]=Z-ne>>3,C[M+48]=ue-se>>3,M+=64}function Wo(p,v,C){var M,U=v-32,X=Cs,Z=255-p[U-1];for(M=0;M<C;++M){var ne,se=X,ue=Z+p[v-1];for(ne=0;ne<C;++ne)p[v+ne]=se[ue+p[U+ne]];v+=32}}function Au(p,v){Wo(p,v,4)}function Cu(p,v){Wo(p,v,8)}function Oc(p,v){Wo(p,v,16)}function Dc(p,v){var C;for(C=0;16>C;++C)s(p,v+32*C,p,v-32,16)}function Tu(p,v){var C;for(C=16;0<C;--C)a(p,v,p[v-1],16),v+=32}function $s(p,v,C){var M;for(M=0;16>M;++M)a(v,C+32*M,p,16)}function Yi(p,v){var C,M=16;for(C=0;16>C;++C)M+=p[v-1+32*C]+p[v+C-32];$s(M>>5,p,v)}function Ma(p,v){var C,M=8;for(C=0;16>C;++C)M+=p[v-1+32*C];$s(M>>4,p,v)}function Yo(p,v){var C,M=8;for(C=0;16>C;++C)M+=p[v+C-32];$s(M>>4,p,v)}function vo(p,v){$s(128,p,v)}function Wt(p,v,C){return p+2*v+C+2>>2}function ku(p,v){var C,M=v-32;for(M=new Uint8Array([Wt(p[M-1],p[M+0],p[M+1]),Wt(p[M+0],p[M+1],p[M+2]),Wt(p[M+1],p[M+2],p[M+3]),Wt(p[M+2],p[M+3],p[M+4])]),C=0;4>C;++C)s(p,v+32*C,M,0,M.length)}function Rc(p,v){var C=p[v-1],M=p[v-1+32],U=p[v-1+64],X=p[v-1+96];qe(p,v+0,16843009*Wt(p[v-1-32],C,M)),qe(p,v+32,16843009*Wt(C,M,U)),qe(p,v+64,16843009*Wt(M,U,X)),qe(p,v+96,16843009*Wt(U,X,X))}function Eu(p,v){var C,M=4;for(C=0;4>C;++C)M+=p[v+C-32]+p[v-1+32*C];for(M>>=3,C=0;4>C;++C)a(p,v+32*C,M,4)}function oi(p,v){var C=p[v-1+0],M=p[v-1+32],U=p[v-1+64],X=p[v-1-32],Z=p[v+0-32],ne=p[v+1-32],se=p[v+2-32],ue=p[v+3-32];p[v+0+96]=Wt(M,U,p[v-1+96]),p[v+1+96]=p[v+0+64]=Wt(C,M,U),p[v+2+96]=p[v+1+64]=p[v+0+32]=Wt(X,C,M),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=Wt(Z,X,C),p[v+3+64]=p[v+2+32]=p[v+1+0]=Wt(ne,Z,X),p[v+3+32]=p[v+2+0]=Wt(se,ne,Z),p[v+3+0]=Wt(ue,se,ne)}function hs(p,v){var C=p[v+1-32],M=p[v+2-32],U=p[v+3-32],X=p[v+4-32],Z=p[v+5-32],ne=p[v+6-32],se=p[v+7-32];p[v+0+0]=Wt(p[v+0-32],C,M),p[v+1+0]=p[v+0+32]=Wt(C,M,U),p[v+2+0]=p[v+1+32]=p[v+0+64]=Wt(M,U,X),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=Wt(U,X,Z),p[v+3+32]=p[v+2+64]=p[v+1+96]=Wt(X,Z,ne),p[v+3+64]=p[v+2+96]=Wt(Z,ne,se),p[v+3+96]=Wt(ne,se,se)}function Ic(p,v){var C=p[v-1+0],M=p[v-1+32],U=p[v-1+64],X=p[v-1-32],Z=p[v+0-32],ne=p[v+1-32],se=p[v+2-32],ue=p[v+3-32];p[v+0+0]=p[v+1+64]=X+Z+1>>1,p[v+1+0]=p[v+2+64]=Z+ne+1>>1,p[v+2+0]=p[v+3+64]=ne+se+1>>1,p[v+3+0]=se+ue+1>>1,p[v+0+96]=Wt(U,M,C),p[v+0+64]=Wt(M,C,X),p[v+0+32]=p[v+1+96]=Wt(C,X,Z),p[v+1+32]=p[v+2+96]=Wt(X,Z,ne),p[v+2+32]=p[v+3+96]=Wt(Z,ne,se),p[v+3+32]=Wt(ne,se,ue)}function Xo(p,v){var C=p[v+0-32],M=p[v+1-32],U=p[v+2-32],X=p[v+3-32],Z=p[v+4-32],ne=p[v+5-32],se=p[v+6-32],ue=p[v+7-32];p[v+0+0]=C+M+1>>1,p[v+1+0]=p[v+0+64]=M+U+1>>1,p[v+2+0]=p[v+1+64]=U+X+1>>1,p[v+3+0]=p[v+2+64]=X+Z+1>>1,p[v+0+32]=Wt(C,M,U),p[v+1+32]=p[v+0+96]=Wt(M,U,X),p[v+2+32]=p[v+1+96]=Wt(U,X,Z),p[v+3+32]=p[v+2+96]=Wt(X,Z,ne),p[v+3+64]=Wt(Z,ne,se),p[v+3+96]=Wt(ne,se,ue)}function li(p,v){var C=p[v-1+0],M=p[v-1+32],U=p[v-1+64],X=p[v-1+96];p[v+0+0]=C+M+1>>1,p[v+2+0]=p[v+0+32]=M+U+1>>1,p[v+2+32]=p[v+0+64]=U+X+1>>1,p[v+1+0]=Wt(C,M,U),p[v+3+0]=p[v+1+32]=Wt(M,U,X),p[v+3+32]=p[v+1+64]=Wt(U,X,X),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=X}function $o(p,v){var C=p[v-1+0],M=p[v-1+32],U=p[v-1+64],X=p[v-1+96],Z=p[v-1-32],ne=p[v+0-32],se=p[v+1-32],ue=p[v+2-32];p[v+0+0]=p[v+2+32]=C+Z+1>>1,p[v+0+32]=p[v+2+64]=M+C+1>>1,p[v+0+64]=p[v+2+96]=U+M+1>>1,p[v+0+96]=X+U+1>>1,p[v+3+0]=Wt(ne,se,ue),p[v+2+0]=Wt(Z,ne,se),p[v+1+0]=p[v+3+32]=Wt(C,Z,ne),p[v+1+32]=p[v+3+64]=Wt(M,C,Z),p[v+1+64]=p[v+3+96]=Wt(U,M,C),p[v+1+96]=Wt(X,U,M)}function ha(p,v){var C;for(C=0;8>C;++C)s(p,v+32*C,p,v-32,8)}function ju(p,v){var C;for(C=0;8>C;++C)a(p,v,p[v-1],8),v+=32}function bi(p,v,C){var M;for(M=0;8>M;++M)a(v,C+32*M,p,8)}function Ol(p,v){var C,M=8;for(C=0;8>C;++C)M+=p[v+C-32]+p[v-1+32*C];bi(M>>4,p,v)}function Dl(p,v){var C,M=4;for(C=0;8>C;++C)M+=p[v+C-32];bi(M>>3,p,v)}function ts(p,v){var C,M=4;for(C=0;8>C;++C)M+=p[v-1+32*C];bi(M>>3,p,v)}function fa(p,v){bi(128,p,v)}function vi(p,v,C){var M=p[v-C],U=p[v+0],X=3*(U-M)+Xa[1020+p[v-2*C]-p[v+C]],Z=Gc[112+(X+4>>3)];p[v-C]=Cs[255+M+Gc[112+(X+3>>3)]],p[v+0]=Cs[255+U-Z]}function La(p,v,C,M){var U=p[v+0],X=p[v+C];return ps[255+p[v-2*C]-p[v-C]]>M||ps[255+X-U]>M}function Rl(p,v,C,M){return 4*ps[255+p[v-C]-p[v+0]]+ps[255+p[v-2*C]-p[v+C]]<=M}function Zo(p,v,C,M,U){var X=p[v-3*C],Z=p[v-2*C],ne=p[v-C],se=p[v+0],ue=p[v+C],ye=p[v+2*C],Ee=p[v+3*C];return 4*ps[255+ne-se]+ps[255+Z-ue]>M?0:ps[255+p[v-4*C]-X]<=U&&ps[255+X-Z]<=U&&ps[255+Z-ne]<=U&&ps[255+Ee-ye]<=U&&ps[255+ye-ue]<=U&&ps[255+ue-se]<=U}function Oa(p,v,C,M){var U=2*M+1;for(M=0;16>M;++M)Rl(p,v+M,C,U)&&vi(p,v+M,C)}function Da(p,v,C,M){var U=2*M+1;for(M=0;16>M;++M)Rl(p,v+M*C,1,U)&&vi(p,v+M*C,1)}function Qo(p,v,C,M){var U;for(U=3;0<U;--U)Oa(p,v+=4*C,C,M)}function Fc(p,v,C,M){var U;for(U=3;0<U;--U)Da(p,v+=4,C,M)}function Ra(p,v,C,M,U,X,Z,ne){for(X=2*X+1;0<U--;){if(Zo(p,v,C,X,Z))if(La(p,v,C,ne))vi(p,v,C);else{var se=p,ue=v,ye=C,Ee=se[ue-2*ye],ce=se[ue-ye],we=se[ue+0],Ce=se[ue+ye],ze=se[ue+2*ye],ke=27*(Ge=Xa[1020+3*(we-ce)+Xa[1020+Ee-Ce]])+63>>7,Be=18*Ge+63>>7,Ge=9*Ge+63>>7;se[ue-3*ye]=Cs[255+se[ue-3*ye]+Ge],se[ue-2*ye]=Cs[255+Ee+Be],se[ue-ye]=Cs[255+ce+ke],se[ue+0]=Cs[255+we-ke],se[ue+ye]=Cs[255+Ce-Be],se[ue+2*ye]=Cs[255+ze-Ge]}v+=M}}function Ia(p,v,C,M,U,X,Z,ne){for(X=2*X+1;0<U--;){if(Zo(p,v,C,X,Z))if(La(p,v,C,ne))vi(p,v,C);else{var se=p,ue=v,ye=C,Ee=se[ue-ye],ce=se[ue+0],we=se[ue+ye],Ce=Gc[112+(4+(ze=3*(ce-Ee))>>3)],ze=Gc[112+(ze+3>>3)],ke=Ce+1>>1;se[ue-2*ye]=Cs[255+se[ue-2*ye]+ke],se[ue-ye]=Cs[255+Ee+ze],se[ue+0]=Cs[255+ce-Ce],se[ue+ye]=Cs[255+we-ke]}v+=M}}function Mu(p,v,C,M,U,X){Ra(p,v,C,1,16,M,U,X)}function Fa(p,v,C,M,U,X){Ra(p,v,1,C,16,M,U,X)}function Lu(p,v,C,M,U,X){var Z;for(Z=3;0<Z;--Z)Ia(p,v+=4*C,C,1,16,M,U,X)}function S(p,v,C,M,U,X){var Z;for(Z=3;0<Z;--Z)Ia(p,v+=4,1,C,16,M,U,X)}function P(p,v,C,M,U,X,Z,ne){Ra(p,v,U,1,8,X,Z,ne),Ra(C,M,U,1,8,X,Z,ne)}function he(p,v,C,M,U,X,Z,ne){Ra(p,v,1,U,8,X,Z,ne),Ra(C,M,1,U,8,X,Z,ne)}function be(p,v,C,M,U,X,Z,ne){Ia(p,v+4*U,U,1,8,X,Z,ne),Ia(C,M+4*U,U,1,8,X,Z,ne)}function Ne(p,v,C,M,U,X,Z,ne){Ia(p,v+4,1,U,8,X,Z,ne),Ia(C,M+4,1,U,8,X,Z,ne)}function He(){this.ba=new St,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ct(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dt(){this.ua=0,this.Wa=new pt,this.vb=new pt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new le,this.yc=new Q}function Qt(){this.xb=this.a=0,this.l=new Gi,this.ca=new St,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dt,this.ab=0,this.gc=u(4,Ct),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Mn(p,v,C,M,U,X,Z){for(p=p==null?0:p[v+0],v=0;v<Z;++v)U[X+v]=p+C[M+v]&255,p=U[X+v]}function mr(p,v,C,M,U,X,Z){var ne;if(p==null)Mn(null,null,C,M,U,X,Z);else for(ne=0;ne<Z;++ne)U[X+ne]=p[v+ne]+C[M+ne]&255}function jr(p,v,C,M,U,X,Z){if(p==null)Mn(null,null,C,M,U,X,Z);else{var ne,se=p[v+0],ue=se,ye=se;for(ne=0;ne<Z;++ne)ue=ye+(se=p[v+ne])-ue,ye=C[M+ne]+(-256&ue?0>ue?0:255:ue)&255,ue=se,U[X+ne]=ye}}function er(p,v,C,M){var U=v.width,X=v.o;if(e(p!=null&&v!=null),0>C||0>=M||C+M>X)return null;if(!p.Cc){if(p.ga==null){var Z;if(p.ga=new ln,(Z=p.ga==null)||(Z=v.width*v.o,e(p.Gb.length==0),p.Gb=o(Z),p.Uc=0,p.Gb==null?Z=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,Z=1),Z=!Z),!Z){Z=p.ga;var ne=p.Fa,se=p.P,ue=p.qc,ye=p.mb,Ee=p.nb,ce=se+1,we=ue-1,Ce=Z.l;if(e(ne!=null&&ye!=null&&v!=null),$a[0]=null,$a[1]=Mn,$a[2]=mr,$a[3]=jr,Z.ca=ye,Z.tb=Ee,Z.c=v.width,Z.i=v.height,e(0<Z.c&&0<Z.i),1>=ue)v=0;else if(Z.$a=3&ne[se+0],Z.Z=ne[se+0]>>2&3,Z.Lc=ne[se+0]>>4&3,se=ne[se+0]>>6&3,0>Z.$a||1<Z.$a||4<=Z.Z||1<Z.Lc||se)v=0;else if(Ce.put=it,Ce.ac=Ot,Ce.bc=Kt,Ce.ma=Z,Ce.width=v.width,Ce.height=v.height,Ce.Da=v.Da,Ce.v=v.v,Ce.va=v.va,Ce.j=v.j,Ce.o=v.o,Z.$a)e:{e(Z.$a==1),v=on();t:for(;;){if(v==null){v=0;break e}if(e(Z!=null),Z.mc=v,v.c=Z.c,v.i=Z.i,v.l=Z.l,v.l.ma=Z,v.l.width=Z.c,v.l.height=Z.i,v.a=0,fe(v.m,ne,ce,we),!zn(Z.c,Z.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Ft(v.s)?(Z.ic=1,ne=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(ne),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(Z.ic=0,v=kn(v,Z.c)),!v))break t;v=1;break e}Z.mc=null,v=0}else v=we>=Z.c*Z.i;Z=!v}if(Z)return null;p.ga.Lc!=1?p.Ga=0:M=X-C}e(p.ga!=null),e(C+M<=X);e:{if(v=(ne=p.ga).c,X=ne.l.o,ne.$a==0){if(ce=p.rc,we=p.Vc,Ce=p.Fa,se=p.P+1+C*v,ue=p.mb,ye=p.nb+C*v,e(se<=p.P+p.qc),ne.Z!=0)for(e($a[ne.Z]!=null),Z=0;Z<M;++Z)$a[ne.Z](ce,we,Ce,se,ue,ye,v),ce=ue,we=ye,ye+=v,se+=v;else for(Z=0;Z<M;++Z)s(ue,ye,Ce,se,v),ce=ue,we=ye,ye+=v,se+=v;p.rc=ce,p.Vc=we}else{if(e(ne.mc!=null),v=C+M,e((Z=ne.mc)!=null),e(v<=Z.i),Z.C>=v)v=1;else if(ne.ic||Xi(),ne.ic){ne=Z.V,ce=Z.Ba,we=Z.c;var ze=Z.i,ke=(Ce=1,se=Z.$/we,ue=Z.$%we,ye=Z.m,Ee=Z.s,Z.$),Be=we*ze,Ge=we*v,rt=Ee.wc,Ze=ke<Ge?Fe(Ee,ue,se):null;e(ke<=Be),e(v<=ze),e(Ft(Ee));t:for(;;){for(;!ye.h&&ke<Ge;){if(ue&rt||(Ze=Fe(Ee,ue,se)),e(Ze!=null),de(ye),256>(ze=sn(Ze.G[0],Ze.H[0],ye)))ne[ce+ke]=ze,++ke,++ue>=we&&(ue=0,++se<=v&&!(se%16)&&Xt(Z,se));else{if(!(280>ze)){Ce=0;break t}ze=bn(ze-256,ye);var jt,wt=sn(Ze.G[4],Ze.H[4],ye);if(de(ye),!(ke>=(wt=dn(we,wt=bn(wt,ye)))&&Be-ke>=ze)){Ce=0;break t}for(jt=0;jt<ze;++jt)ne[ce+ke+jt]=ne[ce+ke+jt-wt];for(ke+=ze,ue+=ze;ue>=we;)ue-=we,++se<=v&&!(se%16)&&Xt(Z,se);ke<Ge&&ue&rt&&(Ze=Fe(Ee,ue,se))}e(ye.h==te(ye))}Xt(Z,se>v?v:se);break t}!Ce||ye.h&&ke<Be?(Ce=0,Z.a=ye.h?5:3):Z.$=ke,v=Ce}else v=tn(Z,Z.V,Z.Ba,Z.c,Z.i,v,En);if(!v){M=0;break e}}C+M>=X&&(p.Cc=1),M=1}if(!M)return null;if(p.Cc&&((M=p.ga)!=null&&(M.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+C*U}function Yr(p,v,C,M,U,X){for(;0<U--;){var Z,ne=p,se=v+(C?1:0),ue=p,ye=v+(C?0:3);for(Z=0;Z<M;++Z){var Ee=ue[ye+4*Z];Ee!=255&&(Ee*=32897,ne[se+4*Z+0]=ne[se+4*Z+0]*Ee>>23,ne[se+4*Z+1]=ne[se+4*Z+1]*Ee>>23,ne[se+4*Z+2]=ne[se+4*Z+2]*Ee>>23)}v+=X}}function Ir(p,v,C,M,U){for(;0<M--;){var X;for(X=0;X<C;++X){var Z=p[v+2*X+0],ne=15&(ue=p[v+2*X+1]),se=4369*ne,ue=(240&ue|ue>>4)*se>>16;p[v+2*X+0]=(240&Z|Z>>4)*se>>16&240|(15&Z|Z<<4)*se>>16>>4&15,p[v+2*X+1]=240&ue|ne}v+=U}}function fs(p,v,C,M,U,X,Z,ne){var se,ue,ye=255;for(ue=0;ue<U;++ue){for(se=0;se<M;++se){var Ee=p[v+se];X[Z+4*se]=Ee,ye&=Ee}v+=C,Z+=ne}return ye!=255}function Va(p,v,C,M,U){var X;for(X=0;X<U;++X)C[M+X]=p[v+X]>>8}function Xi(){tl=Yr,xi=Ir,Pc=fs,hi=Va}function Ba(p,v,C){F[p]=function(M,U,X,Z,ne,se,ue,ye,Ee,ce,we,Ce,ze,ke,Be,Ge,rt){var Ze,jt=rt-1>>1,wt=ne[se+0]|ue[ye+0]<<16,nn=Ee[ce+0]|we[Ce+0]<<16;e(M!=null);var At=3*wt+nn+131074>>2;for(v(M[U+0],255&At,At>>16,ze,ke),X!=null&&(At=3*nn+wt+131074>>2,v(X[Z+0],255&At,At>>16,Be,Ge)),Ze=1;Ze<=jt;++Ze){var yn=ne[se+Ze]|ue[ye+Ze]<<16,cr=Ee[ce+Ze]|we[Ce+Ze]<<16,cn=wt+yn+nn+cr+524296,_t=cn+2*(yn+nn)>>3;At=_t+wt>>1,wt=(cn=cn+2*(wt+cr)>>3)+yn>>1,v(M[U+2*Ze-1],255&At,At>>16,ze,ke+(2*Ze-1)*C),v(M[U+2*Ze-0],255&wt,wt>>16,ze,ke+(2*Ze-0)*C),X!=null&&(At=cn+nn>>1,wt=_t+cr>>1,v(X[Z+2*Ze-1],255&At,At>>16,Be,Ge+(2*Ze-1)*C),v(X[Z+2*Ze+0],255&wt,wt>>16,Be,Ge+(2*Ze+0)*C)),wt=yn,nn=cr}1&rt||(At=3*wt+nn+131074>>2,v(M[U+rt-1],255&At,At>>16,ze,ke+(rt-1)*C),X!=null&&(At=3*nn+wt+131074>>2,v(X[Z+rt-1],255&At,At>>16,Be,Ge+(rt-1)*C)))}}function Vc(){gs[Iu]=sl,gs[Ts]=Wl,gs[Fu]=Jh,gs[wi]=Pu,gs[Wc]=Ao,gs[Ul]=wa,gs[_o]=Co,gs[Yc]=Wl,gs[Vu]=Pu,gs[Hl]=Ao,gs[Bu]=wa}function Il(p){return p&-16384?0>p?0:255:p>>Uu}function da(p,v){return Il((19077*p>>8)+(26149*v>>8)-14234)}function $i(p,v,C){return Il((19077*p>>8)-(6419*v>>8)-(13320*C>>8)+8708)}function Ko(p,v){return Il((19077*p>>8)+(33050*v>>8)-17685)}function qa(p,v,C,M,U){M[U+0]=da(p,C),M[U+1]=$i(p,v,C),M[U+2]=Ko(p,v)}function ns(p,v,C,M,U){M[U+0]=Ko(p,v),M[U+1]=$i(p,v,C),M[U+2]=da(p,C)}function yo(p,v,C,M,U){var X=$i(p,v,C);v=X<<3&224|Ko(p,v)>>3,M[U+0]=248&da(p,C)|X>>5,M[U+1]=v}function xo(p,v,C,M,U){var X=240&Ko(p,v)|15;M[U+0]=240&da(p,C)|$i(p,v,C)>>4,M[U+1]=X}function Fl(p,v,C,M,U){M[U+0]=255,qa(p,v,C,M,U+1)}function pa(p,v,C,M,U){ns(p,v,C,M,U),M[U+3]=255}function Vs(p,v,C,M,U){qa(p,v,C,M,U),M[U+3]=255}function za(p,v,C){F[p]=function(M,U,X,Z,ne,se,ue,ye,Ee){for(var ce=ye+(-2&Ee)*C;ye!=ce;)v(M[U+0],X[Z+0],ne[se+0],ue,ye),v(M[U+1],X[Z+0],ne[se+0],ue,ye+C),U+=2,++Z,++se,ye+=2*C;1&Ee&&v(M[U+0],X[Z+0],ne[se+0],ue,ye)}}function Vl(p,v,C){return C==0?p==0?v==0?6:5:v==0?4:0:C}function Bc(p,v,C,M,U){switch(p>>>30){case 3:Ya(v,C,M,U,0);break;case 2:As(v,C,M,U);break;case 1:Bn(v,C,M,U)}}function ci(p,v){var C,M,U=v.M,X=v.Nb,Z=p.oc,ne=p.pc+40,se=p.oc,ue=p.pc+584,ye=p.oc,Ee=p.pc+600;for(C=0;16>C;++C)Z[ne+32*C-1]=129;for(C=0;8>C;++C)se[ue+32*C-1]=129,ye[Ee+32*C-1]=129;for(0<U?Z[ne-1-32]=se[ue-1-32]=ye[Ee-1-32]=129:(a(Z,ne-32-1,127,21),a(se,ue-32-1,127,9),a(ye,Ee-32-1,127,9)),M=0;M<p.za;++M){var ce=v.ya[v.aa+M];if(0<M){for(C=-1;16>C;++C)s(Z,ne+32*C-4,Z,ne+32*C+12,4);for(C=-1;8>C;++C)s(se,ue+32*C-4,se,ue+32*C+4,4),s(ye,Ee+32*C-4,ye,Ee+32*C+4,4)}var we=p.Gd,Ce=p.Hd+M,ze=ce.ad,ke=ce.Hc;if(0<U&&(s(Z,ne-32,we[Ce].y,0,16),s(se,ue-32,we[Ce].f,0,8),s(ye,Ee-32,we[Ce].ea,0,8)),ce.Za){var Be=Z,Ge=ne-32+16;for(0<U&&(M>=p.za-1?a(Be,Ge,we[Ce].y[15],4):s(Be,Ge,we[Ce+1].y,0,4)),C=0;4>C;C++)Be[Ge+128+C]=Be[Ge+256+C]=Be[Ge+384+C]=Be[Ge+0+C];for(C=0;16>C;++C,ke<<=2)Be=Z,Ge=ne+Or[C],Nr[ce.Ob[C]](Be,Ge),Bc(ke,ze,16*+C,Be,Ge)}else if(Be=Vl(M,U,ce.Ob[0]),qs[Be](Z,ne),ke!=0)for(C=0;16>C;++C,ke<<=2)Bc(ke,ze,16*+C,Z,ne+Or[C]);for(C=ce.Gc,Be=Vl(M,U,ce.Dd),Ji[Be](se,ue),Ji[Be](ye,Ee),ke=ze,Be=se,Ge=ue,255&(ce=0|C)&&(170&ce?yi(ke,256,Be,Ge):Ln(ke,256,Be,Ge)),ce=ye,ke=Ee,255&(C>>=8)&&(170&C?yi(ze,320,ce,ke):Ln(ze,320,ce,ke)),U<p.Ub-1&&(s(we[Ce].y,0,Z,ne+480,16),s(we[Ce].f,0,se,ue+224,8),s(we[Ce].ea,0,ye,Ee+224,8)),C=8*X*p.B,we=p.sa,Ce=p.ta+16*M+16*X*p.R,ze=p.qa,ce=p.ra+8*M+C,ke=p.Ha,Be=p.Ia+8*M+C,C=0;16>C;++C)s(we,Ce+C*p.R,Z,ne+32*C,16);for(C=0;8>C;++C)s(ze,ce+C*p.B,se,ue+32*C,8),s(ke,Be+C*p.B,ye,Ee+32*C,8)}}function Zi(p,v,C,M,U,X,Z,ne,se){var ue=[0],ye=[0],Ee=0,ce=se!=null?se.kd:0,we=se??new Ke;if(p==null||12>C)return 7;we.data=p,we.w=v,we.ha=C,v=[v],C=[C],we.gb=[we.gb];e:{var Ce=v,ze=C,ke=we.gb;if(e(p!=null),e(ze!=null),e(ke!=null),ke[0]=0,12<=ze[0]&&!t(p,Ce[0],"RIFF")){if(t(p,Ce[0]+8,"WEBP")){ke=3;break e}var Be=ut(p,Ce[0]+4);if(12>Be||4294967286<Be){ke=3;break e}if(ce&&Be>ze[0]-8){ke=7;break e}ke[0]=Be,Ce[0]+=12,ze[0]-=12}ke=0}if(ke!=0)return ke;for(Be=0<we.gb[0],C=C[0];;){e:{var Ge=p;ze=v,ke=C;var rt=ue,Ze=ye,jt=Ce=[0];if((At=Ee=[Ee])[0]=0,8>ke[0])ke=7;else{if(!t(Ge,ze[0],"VP8X")){if(ut(Ge,ze[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var wt=ut(Ge,ze[0]+8),nn=1+et(Ge,ze[0]+12);if(2147483648<=nn*(Ge=1+et(Ge,ze[0]+15))){ke=3;break e}jt!=null&&(jt[0]=wt),rt!=null&&(rt[0]=nn),Ze!=null&&(Ze[0]=Ge),ze[0]+=18,ke[0]-=18,At[0]=1}ke=0}}if(Ee=Ee[0],Ce=Ce[0],ke!=0)return ke;if(ze=!!(2&Ce),!Be&&Ee)return 3;if(X!=null&&(X[0]=!!(16&Ce)),Z!=null&&(Z[0]=ze),ne!=null&&(ne[0]=0),Z=ue[0],Ce=ye[0],Ee&&ze&&se==null){ke=0;break}if(4>C){ke=7;break}if(Be&&Ee||!Be&&!Ee&&!t(p,v[0],"ALPH")){C=[C],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{wt=p,ke=v,Be=C;var At=we.gb;rt=we.na,Ze=we.P,jt=we.Sa,nn=22,e(wt!=null),e(Be!=null),Ge=ke[0];var yn=Be[0];for(e(rt!=null),e(jt!=null),rt[0]=null,Ze[0]=null,jt[0]=0;;){if(ke[0]=Ge,Be[0]=yn,8>yn){ke=7;break e}var cr=ut(wt,Ge+4);if(4294967286<cr){ke=3;break e}var cn=8+cr+1&-2;if(nn+=cn,0<At&&nn>At){ke=3;break e}if(!t(wt,Ge,"VP8 ")||!t(wt,Ge,"VP8L")){ke=0;break e}if(yn[0]<cn){ke=7;break e}t(wt,Ge,"ALPH")||(rt[0]=wt,Ze[0]=Ge+8,jt[0]=cr),Ge+=cn,yn-=cn}}if(C=C[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],ke!=0)break}C=[C],we.Ja=[we.Ja],we.xa=[we.xa];e:if(At=p,ke=v,Be=C,rt=we.gb[0],Ze=we.Ja,jt=we.xa,wt=ke[0],Ge=!t(At,wt,"VP8 "),nn=!t(At,wt,"VP8L"),e(At!=null),e(Be!=null),e(Ze!=null),e(jt!=null),8>Be[0])ke=7;else{if(Ge||nn){if(At=ut(At,wt+4),12<=rt&&At>rt-12){ke=3;break e}if(ce&&At>Be[0]-8){ke=7;break e}Ze[0]=At,ke[0]+=8,Be[0]-=8,jt[0]=nn}else jt[0]=5<=Be[0]&&At[wt+0]==47&&!(At[wt+4]>>5),Ze[0]=Be[0];ke=0}if(C=C[0],we.Ja=we.Ja[0],we.xa=we.xa[0],v=v[0],ke!=0)break;if(4294967286<we.Ja)return 3;if(ne==null||ze||(ne[0]=we.xa?2:1),Z=[Z],Ce=[Ce],we.xa){if(5>C){ke=7;break}ne=Z,ce=Ce,ze=X,p==null||5>C?p=0:5<=C&&p[v+0]==47&&!(p[v+4]>>5)?(Be=[0],At=[0],rt=[0],fe(Ze=new z,p,v,C),gn(Ze,Be,At,rt)?(ne!=null&&(ne[0]=Be[0]),ce!=null&&(ce[0]=At[0]),ze!=null&&(ze[0]=rt[0]),p=1):p=0):p=0}else{if(10>C){ke=7;break}ne=Ce,p==null||10>C||!Go(p,v+3,C-3)?p=0:(ce=p[v+0]|p[v+1]<<8|p[v+2]<<16,ze=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&ce||3<(ce>>1&7)||!(ce>>4&1)||ce>>5>=we.Ja||!ze||!p?p=0:(Z&&(Z[0]=ze),ne&&(ne[0]=p),p=1))}if(!p||(Z=Z[0],Ce=Ce[0],Ee&&(ue[0]!=Z||ye[0]!=Ce)))return 3;se!=null&&(se[0]=we,se.offset=v-se.w,e(4294967286>v-se.w),e(se.offset==se.ha-C));break}return ke==0||ke==7&&Ee&&se==null?(X!=null&&(X[0]|=we.na!=null&&0<we.na.length),M!=null&&(M[0]=Z),U!=null&&(U[0]=Ce),0):ke}function Pa(p,v,C){var M=v.width,U=v.height,X=0,Z=0,ne=M,se=U;if(v.Da=p!=null&&0<p.Da,v.Da&&(ne=p.cd,se=p.bd,X=p.v,Z=p.j,11>C||(X&=-2,Z&=-2),0>X||0>Z||0>=ne||0>=se||X+ne>M||Z+se>U))return 0;if(v.v=X,v.j=Z,v.va=X+ne,v.o=Z+se,v.U=ne,v.T=se,v.da=p!=null&&0<p.da,v.da){if(!Je(ne,se,C=[p.ib],X=[p.hb]))return 0;v.ib=C[0],v.hb=X[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*M/4&&v.hb<3*U/4,v.Kb=0),1}function qc(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Qi(p,v,C,M){if(M==null||0>=p||0>=v)return 2;if(C!=null){if(C.Da){var U=C.cd,X=C.bd,Z=-2&C.v,ne=-2&C.j;if(0>Z||0>ne||0>=U||0>=X||Z+U>p||ne+X>v)return 2;p=U,v=X}if(C.da){if(!Je(p,v,U=[C.ib],X=[C.hb]))return 2;p=U[0],v=X[0]}}M.width=p,M.height=v;e:{var se=M.width,ue=M.height;if(p=M.S,0>=se||0>=ue||!(p>=Iu&&13>p))p=2;else{if(0>=M.Rd&&M.sd==null){Z=X=U=v=0;var ye=(ne=se*Gu[p])*ue;if(11>p||(X=(ue+1)/2*(v=(se+1)/2),p==12&&(Z=(U=se)*ue)),(ue=o(ye+2*X+Z))==null){p=1;break e}M.sd=ue,11>p?((se=M.f.RGBA).eb=ue,se.fb=0,se.A=ne,se.size=ye):((se=M.f.kb).y=ue,se.O=0,se.fa=ne,se.Fd=ye,se.f=ue,se.N=0+ye,se.Ab=v,se.Cd=X,se.ea=ue,se.W=0+ye+X,se.Db=v,se.Ed=X,p==12&&(se.F=ue,se.J=0+ye+2*X),se.Tc=Z,se.lb=U)}if(v=1,U=M.S,X=M.width,Z=M.height,U>=Iu&&13>U)if(11>U)p=M.f.RGBA,v&=(ne=Math.abs(p.A))*(Z-1)+X<=p.size,v&=ne>=X*Gu[U],v&=p.eb!=null;else{p=M.f.kb,ne=(X+1)/2,ye=(Z+1)/2,se=Math.abs(p.fa),ue=Math.abs(p.Ab);var Ee=Math.abs(p.Db),ce=Math.abs(p.lb),we=ce*(Z-1)+X;v&=se*(Z-1)+X<=p.Fd,v&=ue*(ye-1)+ne<=p.Cd,v=(v&=Ee*(ye-1)+ne<=p.Ed)&se>=X&ue>=ne&Ee>=ne,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,U==12&&(v&=ce>=X,v&=we<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||C!=null&&C.fd&&(p=qc(M)),p}var wo=64,Zs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bs=24,ma=32,ga=8,Ua=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(p){return p},F.Predictor2=function(p,v,C){return v[C+0]},F.Predictor3=function(p,v,C){return v[C+1]},F.Predictor4=function(p,v,C){return v[C-1]},F.Predictor5=function(p,v,C){return Oe(Oe(p,v[C+1]),v[C+0])},F.Predictor6=function(p,v,C){return Oe(p,v[C-1])},F.Predictor7=function(p,v,C){return Oe(p,v[C+0])},F.Predictor8=function(p,v,C){return Oe(v[C-1],v[C+0])},F.Predictor9=function(p,v,C){return Oe(v[C+0],v[C+1])},F.Predictor10=function(p,v,C){return Oe(Oe(p,v[C-1]),Oe(v[C+0],v[C+1]))},F.Predictor11=function(p,v,C){var M=v[C+0];return 0>=at(M>>24&255,p>>24&255,(v=v[C-1])>>24&255)+at(M>>16&255,p>>16&255,v>>16&255)+at(M>>8&255,p>>8&255,v>>8&255)+at(255&M,255&p,255&v)?M:p},F.Predictor12=function(p,v,C){var M=v[C+0];return($e((p>>24&255)+(M>>24&255)-((v=v[C-1])>>24&255))<<24|$e((p>>16&255)+(M>>16&255)-(v>>16&255))<<16|$e((p>>8&255)+(M>>8&255)-(v>>8&255))<<8|$e((255&p)+(255&M)-(255&v)))>>>0},F.Predictor13=function(p,v,C){var M=v[C-1];return(tt((p=Oe(p,v[C+0]))>>24&255,M>>24&255)<<24|tt(p>>16&255,M>>16&255)<<16|tt(p>>8&255,M>>8&255)<<8|tt(255&p,255&M))>>>0};var Bl=F.PredictorAdd0;F.PredictorAdd1=mt,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var ql=F.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Mr,Ou=F.ColorIndexInverseTransform,ba=F.MapARGB,va=F.VP8LColorIndexInverseTransformAlpha,ds=F.MapAlpha,Ha=F.VP8LPredictorsAdd=[];Ha.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var zl,Pl,Ga,Wa,ya,Jo,ui,Ya,As,yi,Bn,Ln,tr,Lr,xa,Ki,el,zc,Xh,Ad,Cd,Td,$h,Zh,tl,xi,Pc,hi,nl=o(511),Du=o(2041),Uc=o(225),Hc=o(767),Ru=0,Xa=Du,Gc=Uc,Cs=Hc,ps=nl,Iu=0,Ts=1,Fu=2,wi=3,Wc=4,Ul=5,_o=6,Yc=7,Vu=8,Hl=9,Bu=10,_i=[2,3,7],Gl=[3,3,11],rl=[280,256,256,256,40],qu=[0,1,1,1,0],Xc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Si=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ni=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],So=8,Ai=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ci=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],fi=null,kd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],zu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ed=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ms=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qs=[],Nr=[],Ji=[],No=1,Kh=2,$a=[],gs=[];Ba("UpsampleRgbLinePair",qa,3),Ba("UpsampleBgrLinePair",ns,3),Ba("UpsampleRgbaLinePair",Vs,4),Ba("UpsampleBgraLinePair",pa,4),Ba("UpsampleArgbLinePair",Fl,4),Ba("UpsampleRgba4444LinePair",xo,2),Ba("UpsampleRgb565LinePair",yo,2);var sl=F.UpsampleRgbLinePair,Jh=F.UpsampleBgrLinePair,Wl=F.UpsampleRgbaLinePair,Pu=F.UpsampleBgraLinePair,Ao=F.UpsampleArgbLinePair,wa=F.UpsampleRgba4444LinePair,Co=F.UpsampleRgb565LinePair,Ti=16,Yl=1<<Ti-1,il=-227,To=482,Uu=6,ko=0,bs=o(256),Hu=o(256),jd=o(256),Kp=o(256),Jp=o(To-il),e0=o(To-il);za("YuvToRgbRow",qa,3),za("YuvToBgrRow",ns,3),za("YuvToRgbaRow",Vs,4),za("YuvToBgraRow",pa,4),za("YuvToArgbRow",Fl,4),za("YuvToRgba4444Row",xo,2),za("YuvToRgb565Row",yo,2);var Or=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xl=[0,2,8],$c=[8,7,6,4,4,2,2,2,1,1,1,1],Zc=1;this.WebPDecodeRGBA=function(p,v,C,M,U){var X=Ts,Z=new He,ne=new St;Z.ba=ne,ne.S=X,ne.width=[ne.width],ne.height=[ne.height];var se=ne.width,ue=ne.height,ye=new bt;if(ye==null||p==null)var Ee=2;else e(ye!=null),Ee=Zi(p,v,C,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Ee!=0?se=0:(se!=null&&(se[0]=ye.width[0]),ue!=null&&(ue[0]=ye.height[0]),se=1),se){ne.width=ne.width[0],ne.height=ne.height[0],M!=null&&(M[0]=ne.width),U!=null&&(U[0]=ne.height);e:{if(M=new Gi,(U=new Ke).data=p,U.w=v,U.ha=C,U.kd=1,v=[0],e(U!=null),((p=Zi(U.data,U.w,U.ha,null,null,null,v,null,U))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(Z!=null),M.data=U.data,M.w=U.w+U.offset,M.ha=U.ha-U.offset,M.put=it,M.ac=Ot,M.bc=Kt,M.ma=Z,U.xa){if((p=on())==null){Z=1;break e}if((function(ce,we){var Ce=[0],ze=[0],ke=[0];t:for(;;){if(ce==null)return 0;if(we==null)return ce.a=2,0;if(ce.l=we,ce.a=0,fe(ce.m,we.data,we.w,we.ha),!gn(ce.m,Ce,ze,ke)){ce.a=3;break t}if(ce.xb=Kh,we.width=Ce[0],we.height=ze[0],!zn(Ce[0],ze[0],1,ce,null))break t;return 1}return e(ce.a!=0),0})(p,M)){if(M=(v=Qi(M.width,M.height,Z.Oa,Z.ba))==0){t:{M=p;n:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((C=M.l)!=null),e((U=C.ma)!=null),M.xb!=0){if(M.ca=U.ba,M.tb=U.tb,e(M.ca!=null),!Pa(U.Oa,C,wi)){M.a=2;break n}if(!kn(M,C.width)||C.da)break n;if((C.da||ct(M.ca.S))&&Xi(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&Xi()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!Y(M.s.vb,M.s.Wa.Xa)){M.a=1;break n}M.xb=0}if(!tn(M,M.V,M.Ba,M.c,M.i,C.o,xt))break n;U.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(v=p.a)}else v=p.a}else{if((p=new ai)==null){Z=1;break e}if(p.Fa=U.na,p.P=U.P,p.qc=U.Sa,ua(p,M)){if((v=Qi(M.width,M.height,Z.Oa,Z.ba))==0){if(p.Aa=0,C=Z.Oa,e((U=p)!=null),C!=null){if(0<(se=0>(se=C.Md)?0:100<se?255:255*se/100)){for(ue=ye=0;4>ue;++ue)12>(Ee=U.pb[ue]).lc&&(Ee.ia=se*$c[0>Ee.lc?0:Ee.lc]>>3),ye|=Ee.ia;ye&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=C.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(ce,we){if(ce==null)return 0;if(we==null)return jn(ce,2,"NULL VP8Io parameter in VP8Decode().");if(!ce.cb&&!ua(ce,we))return 0;if(e(ce.cb),we.ac==null||we.ac(we)){we.ob&&(ce.L=0);var Ce=Xl[ce.L];if(ce.L==2?(ce.yb=0,ce.zb=0):(ce.yb=we.v-Ce>>4,ce.zb=we.j-Ce>>4,0>ce.yb&&(ce.yb=0),0>ce.zb&&(ce.zb=0)),ce.Va=we.o+15+Ce>>4,ce.Hb=we.va+15+Ce>>4,ce.Hb>ce.za&&(ce.Hb=ce.za),ce.Va>ce.Ub&&(ce.Va=ce.Ub),0<ce.L){var ze=ce.ed;for(Ce=0;4>Ce;++Ce){var ke;if(ce.Qa.Cb){var Be=ce.Qa.Lb[Ce];ce.Qa.Fb||(Be+=ze.Tb)}else Be=ze.Tb;for(ke=0;1>=ke;++ke){var Ge=ce.gd[Ce][ke],rt=Be;if(ze.Pc&&(rt+=ze.vd[0],ke&&(rt+=ze.od[0])),0<(rt=0>rt?0:63<rt?63:rt)){var Ze=rt;0<ze.wb&&(Ze=4<ze.wb?Ze>>2:Ze>>1)>9-ze.wb&&(Ze=9-ze.wb),1>Ze&&(Ze=1),Ge.dd=Ze,Ge.tc=2*rt+Ze,Ge.ld=40<=rt?2:15<=rt?1:0}else Ge.tc=0;Ge.La=ke}}}Ce=0}else jn(ce,6,"Frame setup failed"),Ce=ce.a;if(Ce=Ce==0){if(Ce){ce.$c=0,0<ce.Aa||(ce.Ic=Zc);t:{Ce=ce.Ic,ze=4*(Ze=ce.za);var jt=32*Ze,wt=Ze+1,nn=0<ce.L?Ze*(0<ce.Aa?2:1):0,At=(ce.Aa==2?2:1)*Ze;if((Ge=ze+832+(ke=3*(16*Ce+Xl[ce.L])/2*jt)+(Be=ce.Fa!=null&&0<ce.Fa.length?ce.Kc.c*ce.Kc.i:0))!=Ge)Ce=0;else{if(Ge>ce.Vb){if(ce.Vb=0,ce.Ec=o(Ge),ce.Fc=0,ce.Ec==null){Ce=jn(ce,1,"no memory during frame initialization.");break t}ce.Vb=Ge}Ge=ce.Ec,rt=ce.Fc,ce.Ac=Ge,ce.Bc=rt,rt+=ze,ce.Gd=u(jt,Hi),ce.Hd=0,ce.rb=u(wt+1,Ns),ce.sb=1,ce.wa=nn?u(nn,Ss):null,ce.Y=0,ce.D.Nb=0,ce.D.wa=ce.wa,ce.D.Y=ce.Y,0<ce.Aa&&(ce.D.Y+=Ze),e(!0),ce.oc=Ge,ce.pc=rt,rt+=832,ce.ya=u(At,Pi),ce.aa=0,ce.D.ya=ce.ya,ce.D.aa=ce.aa,ce.Aa==2&&(ce.D.aa+=Ze),ce.R=16*Ze,ce.B=8*Ze,Ze=(jt=Xl[ce.L])*ce.R,jt=jt/2*ce.B,ce.sa=Ge,ce.ta=rt+Ze,ce.qa=ce.sa,ce.ra=ce.ta+16*Ce*ce.R+jt,ce.Ha=ce.qa,ce.Ia=ce.ra+8*Ce*ce.B+jt,ce.$c=0,rt+=ke,ce.mb=Be?Ge:null,ce.nb=Be?rt:null,e(rt+Be<=ce.Fc+ce.Vb),Ec(ce),a(ce.Ac,ce.Bc,0,ze),Ce=1}}if(Ce){if(we.ka=0,we.y=ce.sa,we.O=ce.ta,we.f=ce.qa,we.N=ce.ra,we.ea=ce.Ha,we.Vd=ce.Ia,we.fa=ce.R,we.Rc=ce.B,we.F=null,we.J=0,!Ru){for(Ce=-255;255>=Ce;++Ce)nl[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)Du[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)Uc[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)Hc[255+Ce]=0>Ce?0:255<Ce?255:Ce;Ru=1}ui=Wi,Ya=jc,yi=Fs,Bn=Mc,Ln=Lc,As=Nu,tr=Mu,Lr=Fa,xa=P,Ki=he,el=Lu,zc=S,Xh=be,Ad=Ne,Cd=Oa,Td=Da,$h=Qo,Zh=Fc,Nr[0]=Eu,Nr[1]=Au,Nr[2]=ku,Nr[3]=Rc,Nr[4]=oi,Nr[5]=Ic,Nr[6]=hs,Nr[7]=Xo,Nr[8]=$o,Nr[9]=li,qs[0]=Yi,qs[1]=Oc,qs[2]=Dc,qs[3]=Tu,qs[4]=Ma,qs[5]=Yo,qs[6]=vo,Ji[0]=Ol,Ji[1]=Cu,Ji[2]=ha,Ji[3]=ju,Ji[4]=ts,Ji[5]=Dl,Ji[6]=fa,Ce=1}else Ce=0}Ce&&(Ce=(function(yn,cr){for(yn.M=0;yn.M<yn.Va;++yn.M){var cn,_t=yn.Jc[yn.M&yn.Xb],dt=yn.m,gr=yn;for(cn=0;cn<gr.za;++cn){var Yt=dt,fn=gr,Gn=fn.Ac,Xr=fn.Bc+4*cn,vs=fn.zc,nr=fn.ya[fn.aa+cn];if(fn.Qa.Bb?nr.$b=_e(Yt,fn.Pa.jb[0])?2+_e(Yt,fn.Pa.jb[2]):_e(Yt,fn.Pa.jb[1]):nr.$b=0,fn.kc&&(nr.Ad=_e(Yt,fn.Bd)),nr.Za=!_e(Yt,145)+0,nr.Za){var Fr=nr.Ob,ks=0;for(fn=0;4>fn;++fn){var Vr,vn=vs[0+fn];for(Vr=0;4>Vr;++Vr){vn=ms[Gn[Xr+Vr]][vn];for(var Rn=zu[_e(Yt,vn[0])];0<Rn;)Rn=zu[2*Rn+_e(Yt,vn[Rn])];vn=-Rn,Gn[Xr+Vr]=vn}s(Fr,ks,Gn,Xr,4),ks+=4,vs[0+fn]=vn}}else vn=_e(Yt,156)?_e(Yt,128)?1:3:_e(Yt,163)?2:0,nr.Ob[0]=vn,a(Gn,Xr,vn,4),a(vs,0,vn,4);nr.Dd=_e(Yt,142)?_e(Yt,114)?_e(Yt,183)?1:3:2:0}if(gr.m.Ka)return jn(yn,7,"Premature end-of-partition0 encountered.");for(;yn.ja<yn.za;++yn.ja){if(gr=_t,Yt=(dt=yn).rb[dt.sb-1],Gn=dt.rb[dt.sb+dt.ja],cn=dt.ya[dt.aa+dt.ja],Xr=dt.kc?cn.Ad:0)Yt.la=Gn.la=0,cn.Za||(Yt.Na=Gn.Na=0),cn.Hc=0,cn.Gc=0,cn.ia=0;else{var br,qn;if(Yt=Gn,Gn=gr,Xr=dt.Pa.Xc,vs=dt.ya[dt.aa+dt.ja],nr=dt.pb[vs.$b],fn=vs.ad,Fr=0,ks=dt.rb[dt.sb-1],vn=Vr=0,a(fn,Fr,0,384),vs.Za)var $r=0,vr=Xr[3];else{Rn=o(16);var In=Yt.Na+ks.Na;if(In=fi(Gn,Xr[1],In,nr.Eb,0,Rn,0),Yt.Na=ks.Na=(0<In)+0,1<In)ui(Rn,0,fn,Fr);else{var Dr=Rn[0]+3>>3;for(Rn=0;256>Rn;Rn+=16)fn[Fr+Rn]=Dr}$r=1,vr=Xr[0]}var Wn=15&Yt.la,Br=15&ks.la;for(Rn=0;4>Rn;++Rn){var qr=1&Br;for(Dr=qn=0;4>Dr;++Dr)Wn=Wn>>1|(qr=(In=fi(Gn,vr,In=qr+(1&Wn),nr.Sc,$r,fn,Fr))>$r)<<7,qn=qn<<2|(3<In?3:1<In?2:fn[Fr+0]!=0),Fr+=16;Wn>>=4,Br=Br>>1|qr<<7,Vr=(Vr<<8|qn)>>>0}for(vr=Wn,$r=Br>>4,br=0;4>br;br+=2){for(qn=0,Wn=Yt.la>>4+br,Br=ks.la>>4+br,Rn=0;2>Rn;++Rn){for(qr=1&Br,Dr=0;2>Dr;++Dr)In=qr+(1&Wn),Wn=Wn>>1|(qr=0<(In=fi(Gn,Xr[2],In,nr.Qc,0,fn,Fr)))<<3,qn=qn<<2|(3<In?3:1<In?2:fn[Fr+0]!=0),Fr+=16;Wn>>=2,Br=Br>>1|qr<<5}vn|=qn<<4*br,vr|=Wn<<4<<br,$r|=(240&Br)<<br}Yt.la=vr,ks.la=$r,vs.Hc=Vr,vs.Gc=vn,vs.ia=43690&vn?0:nr.ia,Xr=!(Vr|vn)}if(0<dt.L&&(dt.wa[dt.Y+dt.ja]=dt.gd[cn.$b][cn.Za],dt.wa[dt.Y+dt.ja].La|=!Xr),gr.Ka)return jn(yn,7,"Premature end-of-file encountered.")}if(Ec(yn),dt=cr,gr=1,cn=(_t=yn).D,Yt=0<_t.L&&_t.M>=_t.zb&&_t.M<=_t.Va,_t.Aa==0)t:{if(cn.M=_t.M,cn.uc=Yt,ci(_t,cn),gr=1,cn=(qn=_t.D).Nb,Yt=(vn=Xl[_t.L])*_t.R,Gn=vn/2*_t.B,Rn=16*cn*_t.R,Dr=8*cn*_t.B,Xr=_t.sa,vs=_t.ta-Yt+Rn,nr=_t.qa,fn=_t.ra-Gn+Dr,Fr=_t.Ha,ks=_t.Ia-Gn+Dr,Br=(Wn=qn.M)==0,Vr=Wn>=_t.Va-1,_t.Aa==2&&ci(_t,qn),qn.uc)for(qr=(In=_t).D.M,e(In.D.uc),qn=In.yb;qn<In.Hb;++qn){$r=qn,vr=qr;var Zn=(On=(zr=In).D).Nb;br=zr.R;var On=On.wa[On.Y+$r],Es=zr.sa,Ar=zr.ta+16*Zn*br+16*$r,Bt=On.dd,zt=On.tc;if(zt!=0)if(e(3<=zt),zr.L==1)0<$r&&Td(Es,Ar,br,zt+4),On.La&&Zh(Es,Ar,br,zt),0<vr&&Cd(Es,Ar,br,zt+4),On.La&&$h(Es,Ar,br,zt);else{var Fn=zr.B,Qs=zr.qa,ki=zr.ra+8*Zn*Fn+8*$r,zs=zr.Ha,zr=zr.Ia+8*Zn*Fn+8*$r;Zn=On.ld,0<$r&&(Lr(Es,Ar,br,zt+4,Bt,Zn),Ki(Qs,ki,zs,zr,Fn,zt+4,Bt,Zn)),On.La&&(zc(Es,Ar,br,zt,Bt,Zn),Ad(Qs,ki,zs,zr,Fn,zt,Bt,Zn)),0<vr&&(tr(Es,Ar,br,zt+4,Bt,Zn),xa(Qs,ki,zs,zr,Fn,zt+4,Bt,Zn)),On.La&&(el(Es,Ar,br,zt,Bt,Zn),Xh(Qs,ki,zs,zr,Fn,zt,Bt,Zn))}}if(_t.ia&&alert("todo:DitherRow"),dt.put!=null){if(qn=16*Wn,Wn=16*(Wn+1),Br?(dt.y=_t.sa,dt.O=_t.ta+Rn,dt.f=_t.qa,dt.N=_t.ra+Dr,dt.ea=_t.Ha,dt.W=_t.Ia+Dr):(qn-=vn,dt.y=Xr,dt.O=vs,dt.f=nr,dt.N=fn,dt.ea=Fr,dt.W=ks),Vr||(Wn-=vn),Wn>dt.o&&(Wn=dt.o),dt.F=null,dt.J=null,_t.Fa!=null&&0<_t.Fa.length&&qn<Wn&&(dt.J=er(_t,dt,qn,Wn-qn),dt.F=_t.mb,dt.F==null&&dt.F.length==0)){gr=jn(_t,3,"Could not decode alpha data.");break t}qn<dt.j&&(vn=dt.j-qn,qn=dt.j,e(!(1&vn)),dt.O+=_t.R*vn,dt.N+=_t.B*(vn>>1),dt.W+=_t.B*(vn>>1),dt.F!=null&&(dt.J+=dt.width*vn)),qn<Wn&&(dt.O+=dt.v,dt.N+=dt.v>>1,dt.W+=dt.v>>1,dt.F!=null&&(dt.J+=dt.v),dt.ka=qn-dt.j,dt.U=dt.va-dt.v,dt.T=Wn-qn,gr=dt.put(dt))}cn+1!=_t.Ic||Vr||(s(_t.sa,_t.ta-Yt,Xr,vs+16*_t.R,Yt),s(_t.qa,_t.ra-Gn,nr,fn+8*_t.B,Gn),s(_t.Ha,_t.Ia-Gn,Fr,ks+8*_t.B,Gn))}if(!gr)return jn(yn,6,"Output aborted.")}return 1})(ce,we)),we.bc!=null&&we.bc(we),Ce&=1}return Ce?(ce.cb=0,Ce):0})(p,M)||(v=p.a)}}else v=p.a}v==0&&Z.Oa!=null&&Z.Oa.fd&&(v=qc(Z.ba))}Z=v}X=Z!=0?null:11>X?ne.f.RGBA.eb:ne.f.kb.y}else X=null;return X};var Gu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(F,J){for(var k="",D=0;D<4;D++)k+=String.fromCharCode(F[J++]);return k}function m(F,J){return F[J+0]|F[J+1]<<8}function y(F,J){return(F[J+0]|F[J+1]<<8|F[J+2]<<16)>>>0}function _(F,J){return(F[J+0]|F[J+1]<<8|F[J+2]<<16|F[J+3]<<24)>>>0}new f;var b=[0],N=[0],A=[],E=new f,T=r,R=(function(F,J){var k={},D=0,Q=!1,$=0,le=0;if(k.frames=[],!(function(j,z){for(var ee=0;ee<4;ee++)if(j[z+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(F,J)){for(_(F,J+=4),J+=8;J<F.length;){var B=d(F,J),ie=_(F,J+=4);J+=4;var re=ie+(1&ie);switch(B){case"VP8 ":case"VP8L":k.frames[D]===void 0&&(k.frames[D]={}),(G=k.frames[D]).src_off=Q?le:J-8,G.src_size=$+ie+8,D++,Q&&(Q=!1,$=0,le=0);break;case"VP8X":(G=k.header={}).feature_flags=F[J];var fe=J+4;G.canvas_width=1+y(F,fe),fe+=3,G.canvas_height=1+y(F,fe),fe+=3;break;case"ALPH":Q=!0,$=re+8,le=J-8;break;case"ANIM":(G=k.header).bgcolor=_(F,J),fe=J+4,G.loop_count=m(F,fe),fe+=2;break;case"ANMF":var me,G;(G=k.frames[D]={}).offset_x=2*y(F,J),J+=3,G.offset_y=2*y(F,J),J+=3,G.width=1+y(F,J),J+=3,G.height=1+y(F,J),J+=3,G.duration=y(F,J),J+=3,me=F[J++],G.dispose=1&me,G.blend=me>>1&1}B!="ANMF"&&(J+=re)}return k}})(T,0);R.response=T,R.rgbaoutput=!0,R.dataurl=!1;var I=R.header?R.header:null,q=R.frames?R.frames:null;if(I){I.loop_counter=I.loop_count,b=[I.canvas_height],N=[I.canvas_width];for(var V=0;V<q.length&&q[V].blend!=0;V++);}var W=q[0],H=E.WebPDecodeRGBA(T,W.src_off,W.src_size,N,b);W.rgba=H,W.imgwidth=N[0],W.imgheight=b[0];for(var O=0;O<N[0]*b[0]*4;O++)A[O]=H[O];return this.width=N,this.height=b,this.data=A,this}(function(r){var e,t,s,a,o,u,c,f,d,m=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new f,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new u,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new u,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new m}]);var y=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=j;Object.defineProperty(this,"pdf",{get:function(){return z}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(Y){ee=!!Y}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Y){te=!!Y}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(Y){isNaN(Y)||(oe=Y)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Y){isNaN(Y)||(de=Y)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Y){var Ie;typeof Y=="number"?Ie=[Y,Y,Y,Y]:((Ie=new Array(4))[0]=Y[0],Ie[1]=Y.length>=2?Y[1]:Ie[0],Ie[2]=Y.length>=3?Y[2]:Ie[0],Ie[3]=Y.length>=4?Y[3]:Ie[1]),d.margin=Ie}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(Y){pe=Y}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(Y){ve=Y}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(Y){_e=Y}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Y){Y instanceof m&&(d=Y)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Y){d.path=Y}});var qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return qe},set:function(Y){qe=Y}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Y){var Ie;Ie=_(Y),this.ctx.fillStyle=Ie.style,this.ctx.isFillTransparent=Ie.a===0,this.ctx.fillOpacity=Ie.a,this.pdf.setFillColor(Ie.r,Ie.g,Ie.b,{a:Ie.a}),this.pdf.setTextColor(Ie.r,Ie.g,Ie.b,{a:Ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Y){var Ie=_(Y);this.ctx.strokeStyle=Ie.style,this.ctx.isStrokeTransparent=Ie.a===0,this.ctx.strokeOpacity=Ie.a,Ie.a===0?this.pdf.setDrawColor(255,255,255):(Ie.a,this.pdf.setDrawColor(Ie.r,Ie.g,Ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Y){["butt","round","square"].indexOf(Y)!==-1&&(this.ctx.lineCap=Y,this.pdf.setLineCap(Y))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Y){isNaN(Y)||(this.ctx.lineWidth=Y,this.pdf.setLineWidth(Y))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Y){["bevel","round","miter"].indexOf(Y)!==-1&&(this.ctx.lineJoin=Y,this.pdf.setLineJoin(Y))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Y){isNaN(Y)||(this.ctx.miterLimit=Y,this.pdf.setMiterLimit(Y))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Y){this.ctx.textBaseline=Y}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Y){["right","end","center","left","start"].indexOf(Y)!==-1&&(this.ctx.textAlign=Y)}});var Xe=null,et=null,ut=null;Object.defineProperty(this,"fontFaces",{get:function(){return ut},set:function(Y){Xe=null,et=null,ut=Y}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Y){var Ie;if(this.ctx.font=Y,(Ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Y))!==null){var pt=Ie[1];Ie[2];var Je=Ie[3],je=Ie[4];Ie[5];var st=Ie[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(Ue==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var nt=(function(ft){var mn,Gt,Nt=[],Lt=ft.trim();if(Lt==="")return Pm;if(Lt in nx)return[nx[Lt]];for(;Lt!=="";){switch(Gt=null,mn=(Lt=sx(Lt)).charAt(0)){case'"':case"'":Gt=xM(Lt.substring(1),mn);break;default:Gt=wM(Lt)}if(Gt===null||(Nt.push(Gt[0]),(Lt=sx(Gt[1]))!==""&&Lt.charAt(0)!==","))return Pm;Lt=Lt.replace(/^,/,"")}return Nt})(st);if(this.fontFaces){var Oe=(function(ft,mn){var Gt=ft.getFontList(),Nt=JSON.stringify(Gt);if(Xe===null||et!==Nt){var Lt=(function(It){var Se=[];return Object.keys(It).forEach(function(lt){It[lt].forEach(function(ct){var gt=null;switch(ct){case"bold":gt={family:lt,weight:"bold"};break;case"italic":gt={family:lt,style:"italic"};break;case"bolditalic":gt={family:lt,weight:"bold",style:"italic"};break;case"":case"normal":gt={family:lt}}gt!==null&&(gt.ref={name:lt,style:ct},Se.push(gt))})}),Se})(Gt);Xe=(function(It){for(var Se={},lt=0;lt<It.length;++lt){var ct=zm(It[lt]),gt=ct.family,en=ct.stretch,St=ct.style,bt=ct.weight;Se[gt]=Se[gt]||{},Se[gt][en]=Se[gt][en]||{},Se[gt][en][St]=Se[gt][en][St]||{},Se[gt][en][St][bt]=ct}return Se})(Lt.concat(mn)),et=Nt}return Xe})(this.pdf,this.fontFaces),$e=nt.map(function(ft){return{family:ft,stretch:"normal",weight:Je,style:pt}}),tt=(function(ft,mn,Gt){for(var Nt=(Gt=Gt||{}).defaultFontFamily||"times",Lt=Object.assign({},yM,Gt.genericFontFamilies||{}),It=null,Se=null,lt=0;lt<mn.length;++lt)if(Lt[(It=zm(mn[lt])).family]&&(It.family=Lt[It.family]),ft.hasOwnProperty(It.family)){Se=ft[It.family];break}if(!(Se=Se||ft[Nt]))throw new Error("Could not find a font-family for the rule '"+rx(It)+"' and default family '"+Nt+"'.");if(Se=(function(ct,gt){if(gt[ct])return gt[ct];var en=Sg[ct],St=en<=Sg.normal?-1:1,bt=tx(gt,l_,en,St);if(!bt)throw new Error("Could not find a matching font-stretch value for "+ct);return bt})(It.stretch,Se),Se=(function(ct,gt){if(gt[ct])return gt[ct];for(var en=o_[ct],St=0;St<en.length;++St)if(gt[en[St]])return gt[en[St]];throw new Error("Could not find a matching font-style for "+ct)})(It.style,Se),!(Se=(function(ct,gt){if(gt[ct])return gt[ct];if(ct===400&&gt[500])return gt[500];if(ct===500&&gt[400])return gt[400];var en=vM[ct],St=tx(gt,c_,en,ct<400?-1:1);if(!St)throw new Error("Could not find a matching font-weight for value "+ct);return St})(It.weight,Se)))throw new Error("Failed to resolve a font for the rule '"+rx(It)+"'.");return Se})(Oe,$e);this.pdf.setFont(tt.ref.name,tt.ref.style)}else{var at="";(Je==="bold"||parseInt(Je,10)>=700||pt==="bold")&&(at="bold"),pt==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var mt="",yt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ot=0;ot<nt.length;ot++){if(this.pdf.internal.getFont(nt[ot],at,{noFallback:!0,disableWarning:!0})!==void 0){mt=nt[ot];break}if(at==="bolditalic"&&this.pdf.internal.getFont(nt[ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)mt=nt[ot],at="bold";else if(this.pdf.internal.getFont(nt[ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){mt=nt[ot],at="normal";break}}if(mt===""){for(var kt=0;kt<nt.length;kt++)if(yt[nt[kt]]){mt=yt[nt[kt]];break}}mt=mt===""?"Times":mt,this.pdf.setFont(mt,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Y){this.ctx.globalCompositeOperation=Y}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Y){this.ctx.globalAlpha=Y}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Y){this.ctx.lineDashOffset=Y,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Y){this.ctx.lineDash=Y,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Y){this.ctx.ignoreClearRect=!!Y}})};y.prototype.setLineDash=function(j){this.lineDash=j},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){q.call(this,"fill",!1)},y.prototype.stroke=function(){q.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(j,z){if(isNaN(j)||isNaN(z))throw hr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new u(j,z));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new u(j,z)},y.prototype.closePath=function(){var j=new u(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Jn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){j=new u(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(j.x,j.y)},y.prototype.lineTo=function(j,z){if(isNaN(j)||isNaN(z))throw hr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new u(j,z));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new u(ee.x,ee.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},y.prototype.quadraticCurveTo=function(j,z,ee,te){if(isNaN(ee)||isNaN(te)||isNaN(j)||isNaN(z))throw hr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new u(ee,te)),de=this.ctx.transform.applyToPoint(new u(j,z));this.path.push({type:"qct",x1:de.x,y1:de.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new u(oe.x,oe.y)},y.prototype.bezierCurveTo=function(j,z,ee,te,oe,de){if(isNaN(oe)||isNaN(de)||isNaN(j)||isNaN(z)||isNaN(ee)||isNaN(te))throw hr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new u(oe,de)),ve=this.ctx.transform.applyToPoint(new u(j,z)),_e=this.ctx.transform.applyToPoint(new u(ee,te));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:_e.x,y2:_e.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new u(pe.x,pe.y)},y.prototype.arc=function(j,z,ee,te,oe,de){if(isNaN(j)||isNaN(z)||isNaN(ee)||isNaN(te)||isNaN(oe))throw hr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new u(j,z));j=pe.x,z=pe.y;var ve=this.ctx.transform.applyToPoint(new u(0,ee)),_e=this.ctx.transform.applyToPoint(new u(0,0));ee=Math.sqrt(Math.pow(ve.x-_e.x,2)+Math.pow(ve.y-_e.y,2))}Math.abs(oe-te)>=2*Math.PI&&(te=0,oe=2*Math.PI),this.path.push({type:"arc",x:j,y:z,radius:ee,startAngle:te,endAngle:oe,counterclockwise:de})},y.prototype.arcTo=function(j,z,ee,te,oe){throw new Error("arcTo not implemented.")},y.prototype.rect=function(j,z,ee,te){if(isNaN(j)||isNaN(z)||isNaN(ee)||isNaN(te))throw hr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,z),this.lineTo(j+ee,z),this.lineTo(j+ee,z+te),this.lineTo(j,z+te),this.lineTo(j,z),this.lineTo(j+ee,z),this.lineTo(j,z)},y.prototype.fillRect=function(j,z,ee,te){if(isNaN(j)||isNaN(z)||isNaN(ee)||isNaN(te))throw hr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,z,ee,te),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},y.prototype.strokeRect=function(j,z,ee,te){if(isNaN(j)||isNaN(z)||isNaN(ee)||isNaN(te))throw hr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(j,z,ee,te),this.stroke())},y.prototype.clearRect=function(j,z,ee,te){if(isNaN(j)||isNaN(z)||isNaN(ee)||isNaN(te))throw hr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,z,ee,te))},y.prototype.save=function(j){j=typeof j!="boolean"||j;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},y.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(z),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(j){var z,ee,te,oe;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))z=0,ee=0,te=0,oe=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(de!==null)z=parseInt(de[1]),ee=parseInt(de[2]),te=parseInt(de[3]),oe=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)z=parseInt(de[1]),ee=parseInt(de[2]),te=parseInt(de[3]),oe=parseFloat(de[4]);else{if(oe=1,typeof j=="string"&&j.charAt(0)!=="#"){var pe=new e_(j);j=pe.ok?pe.toHex():"#000000"}j.length===4?(z=j.substring(1,2),z+=z,ee=j.substring(2,3),ee+=ee,te=j.substring(3,4),te+=te):(z=j.substring(1,3),ee=j.substring(3,5),te=j.substring(5,7)),z=parseInt(z,16),ee=parseInt(ee,16),te=parseInt(te,16)}}return{r:z,g:ee,b:te,a:oe,style:j}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(j,z,ee,te){if(isNaN(z)||isNaN(ee)||typeof j!="string")throw hr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!b.call(this)){var oe=re(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;D.call(this,{text:j,x:z,y:ee,scale:de,angle:oe,align:this.textAlign,maxWidth:te})}},y.prototype.strokeText=function(j,z,ee,te){if(isNaN(z)||isNaN(ee)||typeof j!="string")throw hr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){te=isNaN(te)?void 0:te;var oe=re(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;D.call(this,{text:j,x:z,y:ee,scale:de,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:te})}},y.prototype.measureText=function(j){if(typeof j!="string")throw hr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,ee=this.pdf.internal.scaleFactor,te=z.internal.getFontSize(),oe=z.getStringUnitWidth(j)*te/z.internal.scaleFactor;return new function(de){var pe=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:oe*=Math.round(96*ee/72*1e4)/1e4})},y.prototype.scale=function(j,z){if(isNaN(j)||isNaN(z))throw hr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new f(j,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},y.prototype.rotate=function(j){if(isNaN(j))throw hr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new f(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},y.prototype.translate=function(j,z){if(isNaN(j)||isNaN(z))throw hr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new f(1,0,0,1,j,z);this.ctx.transform=this.ctx.transform.multiply(ee)},y.prototype.transform=function(j,z,ee,te,oe,de){if(isNaN(j)||isNaN(z)||isNaN(ee)||isNaN(te)||isNaN(oe)||isNaN(de))throw hr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new f(j,z,ee,te,oe,de);this.ctx.transform=this.ctx.transform.multiply(pe)},y.prototype.setTransform=function(j,z,ee,te,oe,de){j=isNaN(j)?1:j,z=isNaN(z)?0:z,ee=isNaN(ee)?0:ee,te=isNaN(te)?1:te,oe=isNaN(oe)?0:oe,de=isNaN(de)?0:de,this.ctx.transform=new f(j,z,ee,te,oe,de)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(j,z,ee,te,oe,de,pe,ve,_e){var qe=this.pdf.getImageProperties(j),Xe=1,et=1,ut=1,Y=1;te!==void 0&&ve!==void 0&&(ut=ve/te,Y=_e/oe,Xe=qe.width/te*ve/te,et=qe.height/oe*_e/oe),de===void 0&&(de=z,pe=ee,z=0,ee=0),te!==void 0&&ve===void 0&&(ve=te,_e=oe),te===void 0&&ve===void 0&&(ve=qe.width,_e=qe.height);var Ie=this.ctx.transform.decompose(),pt=re(Ie.rotate.shx),Je=new f,je=(Je=(Je=(Je=Je.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale)).applyToRectangle(new c(de-z*ut,pe-ee*Y,te*Xe,oe*et));if(this.autoPaging){for(var st,Ue=E.call(this,je),nt=[],Oe=0;Oe<Ue.length;Oe+=1)nt.indexOf(Ue[Oe])===-1&&nt.push(Ue[Oe]);I(nt);for(var $e=nt[0],tt=nt[nt.length-1],at=$e;at<tt+1;at++){this.pdf.setPage(at);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=at===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=at===1?0:ot+(at-2)*kt;if(this.ctx.clip_path.length!==0){var mn=this.path;st=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(st,this.posX+this.margin[3],-ft+yt+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=mn}var Gt=JSON.parse(JSON.stringify(je));Gt=R([Gt],this.posX+this.margin[3],-ft+yt+this.ctx.prevPageLastElemOffset)[0];var Nt=(at>$e||at<tt)&&A.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,kt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,pt),Nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(j,"JPEG",je.x,je.y,je.w,je.h,null,null,pt)};var E=function(j,z,ee){var te=[];z=z||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":te.push(Math.floor((j.y+oe)/ee)+1);break;case"arc":te.push(Math.floor((j.y+oe-j.radius)/ee)+1),te.push(Math.floor((j.y+oe+j.radius)/ee)+1);break;case"qct":var de=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);te.push(Math.floor((de.y+oe)/ee)+1),te.push(Math.floor((de.y+de.h+oe)/ee)+1);break;case"bct":var pe=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);te.push(Math.floor((pe.y+oe)/ee)+1),te.push(Math.floor((pe.y+pe.h+oe)/ee)+1);break;case"rect":te.push(Math.floor((j.y+oe)/ee)+1),te.push(Math.floor((j.y+j.h+oe)/ee)+1)}for(var ve=0;ve<te.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<te[ve];)T.call(this);return te},T=function(){var j=this.fillStyle,z=this.strokeStyle,ee=this.font,te=this.lineCap,oe=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=z,this.font=ee,this.lineCap=te,this.lineWidth=oe,this.lineJoin=de},R=function(j,z,ee){for(var te=0;te<j.length;te++)switch(j[te].type){case"bct":j[te].x2+=z,j[te].y2+=ee;case"qct":j[te].x1+=z,j[te].y1+=ee;default:j[te].x+=z,j[te].y+=ee}return j},I=function(j){return j.sort(function(z,ee){return z-ee})},q=function(j,z){var ee=this.fillStyle,te=this.strokeStyle,oe=this.lineCap,de=this.lineWidth,pe=Math.abs(de*this.ctx.transform.scaleX),ve=this.lineJoin;if(this.autoPaging){for(var _e,qe,Xe=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),ut=[],Y=0;Y<et.length;Y++)if(et[Y].x!==void 0)for(var Ie=E.call(this,et[Y]),pt=0;pt<Ie.length;pt+=1)ut.indexOf(Ie[pt])===-1&&ut.push(Ie[pt]);for(var Je=0;Je<ut.length;Je++)for(;this.pdf.internal.getNumberOfPages()<ut[Je];)T.call(this);I(ut);for(var je=ut[0],st=ut[ut.length-1],Ue=je;Ue<st+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=ee,this.strokeStyle=te,this.lineCap=oe,this.lineWidth=pe,this.lineJoin=ve;var nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Oe=Ue===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=Ue===1?0:$e+(Ue-2)*tt;if(this.ctx.clip_path.length!==0){var mt=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(_e,this.posX+this.margin[3],-at+Oe+this.ctx.prevPageLastElemOffset),V.call(this,j,!0),this.path=mt}if(qe=JSON.parse(JSON.stringify(Xe)),this.path=R(qe,this.posX+this.margin[3],-at+Oe+this.ctx.prevPageLastElemOffset),z===!1||Ue===0){var yt=(Ue>je||Ue<st)&&A.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,tt,null).clip().discardPath()),V.call(this,j,z),yt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}this.path=Xe}else this.lineWidth=pe,V.call(this,j,z),this.lineWidth=de},V=function(j,z){if((j!=="stroke"||z||!N.call(this))&&(j==="stroke"||z||!b.call(this))){for(var ee,te,oe=[],de=this.path,pe=0;pe<de.length;pe++){var ve=de[pe];switch(ve.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:ve,deltas:[],abs:[]});break;case"lt":var _e=oe.length;if(de[pe-1]&&!isNaN(de[pe-1].x)&&(ee=[ve.x-de[pe-1].x,ve.y-de[pe-1].y],_e>0)){for(;_e>=0;_e--)if(oe[_e-1].close!==!0&&oe[_e-1].begin!==!0){oe[_e-1].deltas.push(ee),oe[_e-1].abs.push(ve);break}}break;case"bct":ee=[ve.x1-de[pe-1].x,ve.y1-de[pe-1].y,ve.x2-de[pe-1].x,ve.y2-de[pe-1].y,ve.x-de[pe-1].x,ve.y-de[pe-1].y],oe[oe.length-1].deltas.push(ee);break;case"qct":var qe=de[pe-1].x+2/3*(ve.x1-de[pe-1].x),Xe=de[pe-1].y+2/3*(ve.y1-de[pe-1].y),et=ve.x+2/3*(ve.x1-ve.x),ut=ve.y+2/3*(ve.y1-ve.y),Y=ve.x,Ie=ve.y;ee=[qe-de[pe-1].x,Xe-de[pe-1].y,et-de[pe-1].x,ut-de[pe-1].y,Y-de[pe-1].x,Ie-de[pe-1].y],oe[oe.length-1].deltas.push(ee);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(ve)}}te=z?null:j==="stroke"?"stroke":"fill";for(var pt=!1,Je=0;Je<oe.length;Je++)if(oe[Je].arc)for(var je=oe[Je].abs,st=0;st<je.length;st++){var Ue=je[st];Ue.type==="arc"?O.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,z,!pt):Q.call(this,Ue.x,Ue.y),pt=!0}else if(oe[Je].close===!0)this.pdf.internal.out("h"),pt=!1;else if(oe[Je].begin!==!0){var nt=oe[Je].start.x,Oe=oe[Je].start.y;$.call(this,oe[Je].deltas,nt,Oe),pt=!0}te&&F.call(this,te),z&&J.call(this)}},W=function(j){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-ee;case"top":return j+z-ee;case"hanging":return j+z-2*ee;case"middle":return j+z/2-ee;default:return j}},H=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(z,ee){this.colorStops.push([z,ee])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(j,z,ee,te,oe,de,pe,ve,_e){for(var qe=B.call(this,ee,te,oe,de),Xe=0;Xe<qe.length;Xe++){var et=qe[Xe];Xe===0&&(_e?k.call(this,et.x1+j,et.y1+z):Q.call(this,et.x1+j,et.y1+z)),le.call(this,j,z,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}ve?J.call(this):F.call(this,pe)},F=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},J=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(j,z){this.pdf.internal.out(t(j)+" "+s(z)+" m")},D=function(j){var z;switch(j.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var ee,te,oe,de=this.pdf.getTextDimensions(j.text),pe=W.call(this,j.y),ve=H.call(this,pe)-de.h,_e=this.ctx.transform.applyToPoint(new u(j.x,pe));if(this.autoPaging){var qe=this.ctx.transform.decompose(),Xe=new f;Xe=(Xe=(Xe=Xe.multiply(qe.translate)).multiply(qe.skew)).multiply(qe.scale);for(var et=this.ctx.transform.applyToRectangle(new c(j.x,pe,de.w,de.h)),ut=Xe.applyToRectangle(new c(j.x,ve,de.w,de.h)),Y=E.call(this,ut),Ie=[],pt=0;pt<Y.length;pt+=1)Ie.indexOf(Y[pt])===-1&&Ie.push(Y[pt]);I(Ie);for(var Je=Ie[0],je=Ie[Ie.length-1],st=Je;st<je+1;st++){this.pdf.setPage(st);var Ue=st===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[2],$e=Oe-this.margin[0],tt=this.pdf.internal.pageSize.width-this.margin[1],at=tt-this.margin[3],mt=st===1?0:nt+(st-2)*$e;if(this.ctx.clip_path.length!==0){var yt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(ee,this.posX+this.margin[3],-1*mt+Ue),V.call(this,"fill",!0),this.path=yt}var ot=R([JSON.parse(JSON.stringify(ut))],this.posX+this.margin[3],-mt+Ue+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*j.scale),oe=this.lineWidth,this.lineWidth=oe*j.scale);var kt=this.autoPaging!=="text";if(kt||ot.y+ot.h<=Oe){if(kt||ot.y>=Ue&&ot.x<=tt){var ft=kt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||tt-ot.x)[0],mn=R([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-mt+Ue+this.ctx.prevPageLastElemOffset)[0],Gt=kt&&(st>Je||st<je)&&A.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,$e,null).clip().discardPath()),this.pdf.text(ft,mn.x,mn.y,{angle:j.angle,align:z,renderingMode:j.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else ot.y<Oe&&(this.ctx.prevPageLastElemOffset+=Oe-ot.y);j.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=oe)}}else j.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*j.scale),oe=this.lineWidth,this.lineWidth=oe*j.scale),this.pdf.text(j.text,_e.x+this.posX,_e.y+this.posY,{angle:j.angle,align:z,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=oe)},Q=function(j,z,ee,te){ee=ee||0,te=te||0,this.pdf.internal.out(t(j+ee)+" "+s(z+te)+" l")},$=function(j,z,ee){return this.pdf.lines(j,z,ee,null,null)},le=function(j,z,ee,te,oe,de,pe,ve){this.pdf.internal.out([e(a(ee+j)),e(o(te+z)),e(a(oe+j)),e(o(de+z)),e(a(pe+j)),e(o(ve+z)),"c"].join(" "))},B=function(j,z,ee,te){for(var oe=2*Math.PI,de=Math.PI/2;z>ee;)z-=oe;var pe=Math.abs(ee-z);pe<oe&&te&&(pe=oe-pe);for(var ve=[],_e=te?-1:1,qe=z;pe>1e-5;){var Xe=qe+_e*Math.min(pe,de);ve.push(ie.call(this,j,qe,Xe)),pe-=Math.abs(Xe-qe),qe=Xe}return ve},ie=function(j,z,ee){var te=(ee-z)/2,oe=j*Math.cos(te),de=j*Math.sin(te),pe=oe,ve=-de,_e=pe*pe+ve*ve,qe=_e+pe*oe+ve*de,Xe=4/3*(Math.sqrt(2*_e*qe)-qe)/(pe*de-ve*oe),et=pe-Xe*ve,ut=ve+Xe*pe,Y=et,Ie=-ut,pt=te+z,Je=Math.cos(pt),je=Math.sin(pt);return{x1:j*Math.cos(z),y1:j*Math.sin(z),x2:et*Je-ut*je,y2:et*je+ut*Je,x3:Y*Je-Ie*je,y3:Y*je+Ie*Je,x4:j*Math.cos(ee),y4:j*Math.sin(ee)}},re=function(j){return 180*j/Math.PI},fe=function(j,z,ee,te,oe,de){var pe=j+.5*(ee-j),ve=z+.5*(te-z),_e=oe+.5*(ee-oe),qe=de+.5*(te-de),Xe=Math.min(j,oe,pe,_e),et=Math.max(j,oe,pe,_e),ut=Math.min(z,de,ve,qe),Y=Math.max(z,de,ve,qe);return new c(Xe,ut,et-Xe,Y-ut)},me=function(j,z,ee,te,oe,de,pe,ve){var _e,qe,Xe,et,ut,Y,Ie,pt,Je,je,st,Ue,nt,Oe,$e=ee-j,tt=te-z,at=oe-ee,mt=de-te,yt=pe-oe,ot=ve-de;for(qe=0;qe<41;qe++)Je=(Ie=(Xe=j+(_e=qe/40)*$e)+_e*((ut=ee+_e*at)-Xe))+_e*(ut+_e*(oe+_e*yt-ut)-Ie),je=(pt=(et=z+_e*tt)+_e*((Y=te+_e*mt)-et))+_e*(Y+_e*(de+_e*ot-Y)-pt),qe==0?(st=Je,Ue=je,nt=Je,Oe=je):(st=Math.min(st,Je),Ue=Math.min(Ue,je),nt=Math.max(nt,Je),Oe=Math.max(Oe,je));return new c(Math.round(st),Math.round(Ue),Math.round(nt-st),Math.round(Oe-Ue))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,z,ee=(j=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:z}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Vt.API),(function(r){var e=function(u){var c,f,d,m,y,_,b,N,A,E;for(f=[],d=0,m=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;m>d;d+=4)(y=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(_=(y=((y=((y=((y=(y-(E=y%85))/85)-(A=y%85))/85)-(N=y%85))/85)-(b=y%85))/85)%85,f.push(_+33,b+33,N+33,A+33,E+33)):f.push(122);return(function(T,R){for(var I=R;I>0;I--)T.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var c,f,d,m,y,_=String,b="length",N=255,A="charCodeAt",E="slice",T="replace";for(u[E](-2),u=u[E](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),d=[],m=0,y=(u+=c="uuuuu"[E](u[b]%5||5))[b];y>m;m+=5)f=52200625*(u[A](m)-33)+614125*(u[A](m+1)-33)+7225*(u[A](m+2)-33)+85*(u[A](m+3)-33)+(u[A](m+4)-33),d.push(N&f>>24,N&f>>16,N&f>>8,N&f);return(function(R,I){for(var q=I;q>0;q--)R.pop()})(d,c[b]),_.fromCharCode.apply(_,d)},s=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=gg(c)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};r.processDataByFilters=function(u,c){var f=0,d=u||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=s(d),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}})(Vt.API),(function(r){r.loadFile=function(e,t,s){return(function(a,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,m){var y=new XMLHttpRequest,_=0,b=function(N){var A=N.length,E=[],T=String.fromCharCode;for(_=0;_<A;_+=1)E.push(T(255&N.charCodeAt(_)));return E.join("")};if(y.open("GET",f,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?m(b(this.responseText)):m(void 0)}),y.send(null),d&&y.status===200)return b(y.responseText)})(a,o,u)}catch{}return c})(e,t,s)},r.loadImageFile=r.loadFile})(Vt.API),(function(r){function e(){return(rn.html2canvas?Promise.resolve(rn.html2canvas):V1(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(rn.DOMPurify?Promise.resolve(rn.DOMPurify):V1(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var s=function(c){var f=Jn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var m in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[m]=f.style[m];return d},o=function c(f,d){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),y=f.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||m.appendChild(c(y,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),d);return(m=m.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(s(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,m=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var b=0;b<m.length;++b){var N=m[b],A=N.src.find(function(E){return E.format==="truetype"});A&&d.addFont(A.url,N.ref.name,N.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,d.context2d.save(!0),f(this.prop.container,_)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(s(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(s(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(c=c||Vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,m){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,m){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(m,y){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(_){return d.updateProgress(null,m),_}).then(m,y).then(function(_){return d.updateProgress(1),_})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),f&&(f=f.bind(m));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:u.convert(Object.assign({},m),Promise.prototype),_=d.call(y,c,f);return u.convert(_,m.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Vt.getPageSize=function(c,f,d){if(Jn(c)==="object"){var m=c;c=m.orientation,f=m.unit||f,d=m.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var y,_=(""+d).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+f}var N,A=0,E=0;if(b.hasOwnProperty(_))A=b[_][1]/y,E=b[_][0]/y;else try{A=d[1],E=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",E>A&&(N=E,E=A,A=N);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",A>E&&(N=E,E=A,A=N)}return{width:E,height:A,unit:f,k:y,orientation:c}},r.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(zm):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(Vt.API),Vt.API.addJS=function(r){return ax=r,this.internal.events.subscribe("postPutResources",function(){L1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(L1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ix=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ax+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){L1!==void 0&&ix!==void 0&&this.internal.out("/Names <</JavaScript "+L1+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var u=a[o],c=s.exec(u);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(o=0;o<d;o++){var y=t.internal.newObject();m.push(y);var _=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<m.length;o++)t.internal.write("(page_"+(o+1)+")"+m[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(s,a,o){var u={title:a,options:o,children:[]};return s==null&&(s=this.root),s.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(s){s.id=t.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},t.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},t.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var u=s.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},t.outline.line=function(s){this.ctx.val+=s+`\r
`},t.outline.makeRef=function(s){return s.id+" 0 R"},t.outline.makeString=function(s){return"("+t.internal.pdfEscape(s)+")"},t.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(s,a){for(var o=0;o<a.children.length;o++)s.count++,this.count_r(s,a.children[o]);return s.count}}])})(Vt.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,s,a,o,u,c){var f,d=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(y){for(var _,b=256*y.charCodeAt(4)+y.charCodeAt(5),N=y.length,A={width:0,height:0,numcomponents:1},E=4;E<N;E+=2){if(E+=b,e.indexOf(y.charCodeAt(E+1))!==-1){_=256*y.charCodeAt(E+5)+y.charCodeAt(E+6),A={width:256*y.charCodeAt(E+7)+y.charCodeAt(E+8),height:_,numcomponents:y.charCodeAt(E+9)};break}b=256*y.charCodeAt(E+2)+y.charCodeAt(E+3)}return A})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:s,alias:a}}return m}})(Vt.API),Vt.API.processPNG=function(r,e,t,s){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,o=sM(r,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,m=o.depth;a=d&&f===1?(function(O){for(var F=O.width,J=O.height,k=O.data,D=O.palette,Q=O.depth,$=!1,le=[],B=[],ie=void 0,re=!1,fe=0,me=0;me<D.length;me++){var G=uy(D[me],4),j=G[0],z=G[1],ee=G[2],te=G[3];le.push(j,z,ee),te!=null&&(te===0?(fe++,B.length<1&&B.push(me)):te<255&&(re=!0))}if(re||fe>1){$=!0,B=void 0;var oe=F*J;ie=new Uint8Array(oe);for(var de=new DataView(k.buffer),pe=0;pe<oe;pe++){var ve=Um(de,pe,Q),_e=uy(D[ve],4)[3];ie[pe]=_e}}else fe===0&&(B=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:k,alphaBytes:ie,needSMask:$,palette:le,mask:B}})(o):f===2||f===4?(function(O){for(var F=O.data,J=O.width,k=O.height,D=O.channels,Q=O.depth,$=D===2?"DeviceGray":"DeviceRGB",le=D-1,B=J*k,ie=le,re=B*ie,fe=1*B,me=Math.ceil(re*Q/8),G=Math.ceil(fe*Q/8),j=new Uint8Array(me),z=new Uint8Array(G),ee=new DataView(F.buffer),te=new DataView(j.buffer),oe=new DataView(z.buffer),de=!1,pe=0;pe<B;pe++){for(var ve=pe*D,_e=0;_e<ie;_e++)mx(te,Um(ee,ve+_e,Q),pe*ie+_e,Q);var qe=Um(ee,ve+ie,Q);qe<(1<<Q)-1&&(de=!0),mx(oe,qe,1*pe,Q)}return{colorSpace:$,colorsPerPixel:le,sMaskBitsPerComponent:de?Q:void 0,colorBytes:j,alphaBytes:z,needSMask:de}})(o):(function(O){var F=O.data,J=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:J,colorsPerPixel:J==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?(function(k){for(var D=k.length,Q=new Uint8Array(2*D),$=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),le=0;le<D;le++)$.setUint16(2*le,k[le],!1);return Q})(F):F,needSMask:!1}})(o);var y,_,b,N=a,A=N.colorSpace,E=N.colorsPerPixel,T=N.sMaskBitsPerComponent,R=N.colorBytes,I=N.alphaBytes,q=N.needSMask,V=N.palette,W=N.mask,H=null;return s!==Vt.API.image_compression.NONE&&typeof gg=="function"?(H=(function(O){var F;switch(O){case Vt.API.image_compression.FAST:F=11;break;case Vt.API.image_compression.MEDIUM:F=13;break;case Vt.API.image_compression.SLOW:F=14;break;default:F=12}return F})(s),y=this.decode.FLATE_DECODE,_="/Predictor ".concat(H," /Colors ").concat(E," /BitsPerComponent ").concat(m," /Columns ").concat(u),r=ux(R,Math.ceil(u*E*m/8),E,m,s),q&&(b=ux(I,Math.ceil(u*T/8),1,T,s))):(y=void 0,_=void 0,r=R,q&&(b=I)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:r,index:e,filter:y,decodeParameters:_,transparency:W,palette:V,sMask:b,predictor:H,width:u,height:c,bitsPerComponent:m,sMaskBitsPerComponent:T,colorSpace:A}}},(function(r){r.processGIF89A=function(e,t,s,a){var o=new AM(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},m=new Hm(100).encode(d,100);return r.processJPEG.call(this,m,t,s,a)},r.processGIF87A=r.processGIF89A})(Vt.API),no.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:s,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},no.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){hr.log("bit decode error:"+t)}},no.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),u=s*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},no.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var o=this.datav.getUint8(this.pos++,!0),u=s*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},no.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;if(a<this.palette.length){var u=this.palette[a];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},no.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,m=s*this.width*4+4*a;this.data[m]=f,this.data[m+1]=c,this.data[m+2]=u,this.data[m+3]=d}this.pos+=r}},no.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,m=a*this.width*4+4*o;this.data[m]=d,this.data[m+1]=f,this.data[m+2]=c,this.data[m+3]=255}this.pos+=r}},no.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=s,this.data[u+3]=255}this.pos+=this.width%4}},no.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=u}},no.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,s,a){var o=new no(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new Hm(100).encode(f,100);return r.processJPEG.call(this,d,t,s,a)}})(Vt.API),bx.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,s,a){var o=new bx(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new Hm(100).encode(f,100);return r.processJPEG.call(this,d,t,s,a)}})(Vt.API),Vt.API.processRGBA=function(r,e,t){for(var s=r.data,a=s.length,o=new Uint8Array(a/4*3),u=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var m=s[d],y=s[d+1],_=s[d+2],b=s[d+3];o[c++]=m,o[c++]=y,o[c++]=_,u[f++]=b}var N=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:N,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Vt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},mh=Vt.API,O1=mh.getCharWidthsArray=function(r,e){var t,s,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,m=d.fof?d.fof:1,y=e.doKerning!==!1,_=0,b=r.length,N=0,A=c[0]||f,E=[];for(t=0;t<b;t++)s=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?E.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+u*(1e3/o)||0)/1e3):(_=y&&Jn(d[s])==="object"&&!isNaN(parseInt(d[s][N],10))?d[s][N]/m:0,E.push((c[s]||A)/f+_)),N=s;return E},ox=mh.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return mh.processArabic&&(r=mh.processArabic(r)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(r,t,a)/t:O1.apply(this,arguments).reduce(function(o,u){return o+u},0)},lx=function(r,e,t,s){for(var a=[],o=0,u=r.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;a.push(r.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>s&&(a.push(r.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(r.slice(f,o)),a},cx=function(r,e,t){t||(t={});var s,a,o,u,c,f,d,m=[],y=[m],_=t.textIndent||0,b=0,N=0,A=r.split(" "),E=O1.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?A[0].length+2:t.lineIndent||0){var T=Array(f).join(" "),R=[];A.map(function(q){(q=q.split(/\s*\n/)).length>1?R=R.concat(q.map(function(V,W){return(W&&V.length?`
`:"")+V})):R.push(q[0])}),A=R,f=ox.apply(this,[T,t])}for(o=0,u=A.length;o<u;o++){var I=0;if(s=A[o],f&&s[0]==`
`&&(s=s.substr(1),I=1),_+b+(N=(a=O1.apply(this,[s,t])).reduce(function(q,V){return q+V},0))>e||I){if(N>e){for(c=lx.apply(this,[s,a,e-(_+b),e]),m.push(c.shift()),m=[c.pop()];c.length;)y.push([c.shift()]);N=a.slice(s.length-(m[0]?m[0].length:0)).reduce(function(q,V){return q+V},0)}else m=[s];y.push(m),_=N+f,b=E}else m.push(s),_+=b+N,b=E}return d=f?function(q,V){return(V?T:"")+q.join(" ")}:function(q){return q.join(" ")},y.map(d)},mh.splitTextToSize=function(r,e,t){var s,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var y=this.internal.getFont(m.fontName,m.fontStyle),_="Unicode";return y.metadata[_]?{widths:y.metadata[_].widths||{0:1},kerning:y.metadata[_].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);s=Array.isArray(r)?r:String(r).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=s.length;c<f;c++)d=d.concat(cx.apply(this,[s[c],u,o]));return d},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",s={},a={},o=0;o<16;o++)s[t[o]]=e[o],a[e[o]]=t[o];var u=function(_){return"0x"+parseInt(_,10).toString(16)},c=r.__fontmetrics__.compress=function(_){var b,N,A,E,T=["{"];for(var R in _){if(b=_[R],isNaN(parseInt(R,10))?N="'"+R+"'":(R=parseInt(R,10),N=(N=u(R).slice(2)).slice(0,-1)+a[N.slice(-1)]),typeof b=="number")b<0?(A=u(b).slice(3),E="-"):(A=u(b).slice(2),E=""),A=E+A.slice(0,-1)+a[A.slice(-1)];else{if(Jn(b)!=="object")throw new Error("Don't know what to do with value type "+Jn(b)+".");A=c(b)}T.push(N+A)}return T.push("}"),T.join("")},f=r.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,N,A,E,T={},R=1,I=T,q=[],V="",W="",H=_.length-1,O=1;O<H;O+=1)(E=_[O])=="'"?b?(A=b.join(""),b=void 0):b=[]:b?b.push(E):E=="{"?(q.push([I,A]),I={},A=void 0):E=="}"?((N=q.pop())[0][N[1]]=I,A=void 0,I=N[0]):E=="-"?R=-1:A===void 0?s.hasOwnProperty(E)?(V+=s[E],A=parseInt(V,16)*R,R=1,V=""):V+=E:s.hasOwnProperty(E)?(W+=s[E],I[A]=parseInt(W,16)*R,R=1,A=void 0,W=""):W+=E;return T},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},y={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(_){var b=_.font,N=y.Unicode[b.postScriptName];N&&(b.metadata.Unicode={},b.metadata.Unicode.widths=N.widths,b.metadata.Unicode.kerning=N.kerning);var A=m.Unicode[b.postScriptName];A&&(b.metadata.Unicode.encoding=A,b.encoding=A.codePages[0])}])})(Vt.API),(function(r){var e=function(t){for(var s=t.length,a=new Uint8Array(s),o=0;o<s;o++)a[o]=t.charCodeAt(o);return a};r.API.events.push(["addFont",function(t){var s=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(z1(c)),u.metadata=r.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,s)}}])})(Vt),Vt.API.addSvgAsImage=function(r,e,t,s,a,o,u,c){if(isNaN(e)||isNaN(t))throw hr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw hr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(rn.canvg?Promise.resolve(rn.canvg):V1(()=>import("./index.es-nolcVVCX.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(d,r,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(m)}).then(function(){y.addImage(f.toDataURL("image/jpeg",1),e,t,s,a,u,c)})},Vt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(e,t);return this},Vt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var s,a,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,m=0,y=0;function _(N,A){var E,T=!1;for(E=0;E<N.length;E+=1)N[E]===A&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var b=c.length;for(y=0;y<b;y+=1)t[c[y]].value=t[c[y]].defaultValue,t[c[y]].explicitSet=!1}if(Jn(r)==="object"){for(a in r)if(o=r[a],_(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&_(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(s=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(m=0;m<o[d].length;m+=1)typeof o[d][m]!="number"&&(s=!1);s===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,A=[];for(N in t)t[N].explicitSet===!0&&(t[N].type==="name"?A.push("/"+N+" /"+t[N].value):A.push("/"+N+" "+t[N].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+u+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Vt.API),(function(r){var e=r.API,t=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],y=0,_=o.length;y<_;++y){if(c=u.metadata.characterToGlyph(o.charCodeAt(y)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(y),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(d[4-c.length],c)}return m.join("")},s=function(o){var u,c,f,d,m,y,_;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],y=0,_=(c=Object.keys(o).sort(function(b,N){return b-N})).length;y<_;y++)u=c[y],f.length>=100&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,m=u.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,_=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",N=0;N<_.length;N++)b+=String.fromCharCode(_[N]);var A=d();m({data:b,addLength1:!0,objectId:A}),f("endobj");var E=d();m({data:s(c.metadata.toUnicode),addLength1:!0,objectId:E}),f("endobj");var T=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+vh(c.fontName)),f("/FontFile2 "+A+" 0 R"),f("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var R=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+vh(c.fontName)),f("/FontDescriptor "+T+" 0 R"),f("/W "+r.API.PDFObject.convert(y)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+E+" 0 R"),f("/BaseFont /"+vh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+R+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,m=u.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,_="",b=0;b<y.length;b++)_+=String.fromCharCode(y[b]);var N=d();m({data:_,addLength1:!0,objectId:N}),f("endobj");var A=d();m({data:s(c.metadata.toUnicode),addLength1:!0,objectId:A}),f("endobj");var E=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+N+" 0 R"),f("/Flags 96"),f("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+vh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var T=0;T<c.metadata.hmtx.widths.length;T++)c.metadata.hmtx.widths[T]=parseInt(c.metadata.hmtx.widths[T]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+vh(c.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var u,c=o.text||"",f=o.x,d=o.y,m=o.options||{},y=o.mutex||{},_=y.pdfEscape,b=y.activeFontKey,N=y.fonts,A=b,E="",T=0,R="",I=N[A].encoding;if(N[A].encoding!=="Identity-H")return{text:c,x:f,y:d,options:m,mutex:y};for(R=c,A=b,Array.isArray(c)&&(R=c[0]),T=0;T<R.length;T+=1)N[A].metadata.hasOwnProperty("cmap")&&(u=N[A].metadata.cmap.unicode.codeMap[R[T].charCodeAt(0)]),u||R[T].charCodeAt(0)<256&&N[A].metadata.hasOwnProperty("Unicode")?E+=R[T]:E+="";var q="";return parseInt(A.slice(1))<14||I==="WinAnsiEncoding"?q=_(E,A).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(q=t(E,N[A])),y.isHex=!0,{text:q,x:f,y:d,options:m,mutex:y}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([a(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(a(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:u})).text}])})(Vt),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,s){return e.call(this),this.internal.vFS[t]=s,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Vt.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(s){var a,o,u,c,f,d,m,y=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,I=0;this.__bidiEngine__={};var q=function(k){var D=k.charCodeAt(),Q=D>>8,$=A[Q];return $!==void 0?y[256*$+(255&D)]:Q===252||Q===253?"AL":T.test(Q)?"L":Q===8?"R":"N"},V=function(k){for(var D,Q=0;Q<k.length;Q++){if((D=q(k.charAt(Q)))==="L")return!1;if(D==="R")return!0}return!1},W=function(k,D,Q,$){var le,B,ie,re,fe=D[$];switch(fe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(fe="AN");break;case"AL":R=!0,fe="R";break;case"WS":case"BN":fe="N";break;case"CS":$<1||$+1>=D.length||(le=Q[$-1])!=="EN"&&le!=="AN"||(B=D[$+1])!=="EN"&&B!=="AN"?fe="N":R&&(B="AN"),fe=B===le?B:"N";break;case"ES":fe=(le=$>0?Q[$-1]:"B")==="EN"&&$+1<D.length&&D[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&Q[$-1]==="EN"){fe="EN";break}if(R){fe="N";break}for(ie=$+1,re=D.length;ie<re&&D[ie]==="ET";)ie++;fe=ie<re&&D[ie]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(re=D.length,ie=$+1;ie<re&&D[ie]==="NSM";)ie++;if(ie<re){var me=k[$],G=me>=1425&&me<=2303||me===64286;if(le=D[ie],G&&(le==="R"||le==="AL")){fe="R";break}}}fe=$<1||(le=D[$-1])==="B"?"N":Q[$-1];break;case"B":R=!1,a=!0,fe=I;break;case"S":o=!0,fe="N"}return fe},H=function(k,D,Q){var $=k.split("");return Q&&O($,Q,{hiLevel:I}),$.reverse(),D&&D.reverse(),$.join("")},O=function(k,D,Q){var $,le,B,ie,re,fe=-1,me=k.length,G=0,j=[],z=I?b:_,ee=[];for(R=!1,a=!1,o=!1,le=0;le<me;le++)ee[le]=q(k[le]);for(B=0;B<me;B++){if(re=G,j[B]=W(k,ee,j,B),$=240&(G=z[re][N[j[B]]]),G&=15,D[B]=ie=z[G][5],$>0)if($===16){for(le=fe;le<B;le++)D[le]=1;fe=-1}else fe=-1;if(z[G][6])fe===-1&&(fe=B);else if(fe>-1){for(le=fe;le<B;le++)D[le]=ie;fe=-1}ee[B]==="B"&&(D[B]=0),Q.hiLevel|=ie}o&&(function(te,oe,de){for(var pe=0;pe<de;pe++)if(te[pe]==="S"){oe[pe]=I;for(var ve=pe-1;ve>=0&&te[ve]==="WS";ve--)oe[ve]=I}})(ee,D,me)},F=function(k,D,Q,$,le){if(!(le.hiLevel<k)){if(k===1&&I===1&&!a)return D.reverse(),void(Q&&Q.reverse());for(var B,ie,re,fe,me=D.length,G=0;G<me;){if($[G]>=k){for(re=G+1;re<me&&$[re]>=k;)re++;for(fe=G,ie=re-1;fe<ie;fe++,ie--)B=D[fe],D[fe]=D[ie],D[ie]=B,Q&&(B=Q[fe],Q[fe]=Q[ie],Q[ie]=B);G=re}G++}}},J=function(k,D,Q){var $=k.split(""),le={hiLevel:I};return Q||(Q=[]),O($,Q,le),(function(B,ie,re){if(re.hiLevel!==0&&m)for(var fe,me=0;me<B.length;me++)ie[me]===1&&(fe=E.indexOf(B[me]))>=0&&(B[me]=E[fe+1])})($,Q,le),F(2,$,D,Q,le),F(1,$,D,Q,le),$.join("")};return this.__bidiEngine__.doBidiReorder=function(k,D,Q){if((function(le,B){if(B)for(var ie=0;ie<le.length;ie++)B[ie]=ie;c===void 0&&(c=V(le)),d===void 0&&(d=V(le))})(k,D),u||!f||d)if(u&&f&&c^d)I=c?1:0,k=H(k,D,Q);else if(!u&&f&&d)I=c?1:0,k=J(k,D,Q),k=H(k,D);else if(!u||c||f||d){if(u&&!f&&c^d)k=H(k,D),c?(I=0,k=J(k,D,Q)):(I=1,k=J(k,D,Q),k=H(k,D));else if(u&&c&&!f&&d)I=1,k=J(k,D,Q),k=H(k,D);else if(!u&&!f&&c^d){var $=m;c?(I=1,k=J(k,D,Q),I=0,m=!1,k=J(k,D,Q),m=$):(I=0,k=J(k,D,Q),k=H(k,D),I=1,m=!1,k=J(k,D,Q),m=$,k=H(k,D))}}else I=0,k=J(k,D,Q);else I=c?1:0,k=J(k,D,Q);return k},this.__bidiEngine__.setOptions=function(k){k&&(u=k.isInputVisual,f=k.isOutputVisual,c=k.isInputRtl,d=k.isOutputRtl,m=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(u=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?u.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):u.push([t.doBidiReorder(a[c])]);s.text=u}else s.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Vt),Vt.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Ac(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new qM(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new CM(this.contents),this.head=new kM(this),this.name=new OM(this),this.cmap=new h_(this),this.toUnicode={},this.hhea=new EM(this),this.maxp=new DM(this),this.hmtx=new RM(this),this.post=new MM(this),this.os2=new jM(this),this.loca=new BM(this),this.glyf=new IM(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,s,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,s){var a,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/t)||0;return u*(t/1e3)},r.prototype.lineHeight=function(e,t){var s;return t==null&&(t=!1),s=t?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},r})();var go,Ac=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,s;for(s=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)s[t]=String.fromCharCode(this.readByte());return s.join("")},r.prototype.writeString=function(e){var t,s,a;for(a=[],t=0,s=e.length;0<=s?t<s:t>s;t=0<=s?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,s,a,o,u,c,f;return e=this.readByte(),t=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*s+4294967296*a+16777216*o+65536*u+256*c+f},r.prototype.writeLongLong=function(e){var t,s;return t=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,s;for(t=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)t.push(this.readByte());return t},r.prototype.write=function(e){var t,s,a,o;for(o=[],s=0,a=e.length;s<a;s++)t=e[s],o.push(this.writeByte(t));return o},r})(),CM=(function(){var r;function e(t){var s,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)s={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(t){var s,a,o,u,c,f,d,m,y,_,b,N,A;for(A in b=Object.keys(t).length,f=Math.log(2),y=16*Math.floor(Math.log(b)/f),u=Math.floor(y/f),m=16*b-y,(a=new Ac).writeInt(this.scalarType),a.writeShort(b),a.writeShort(y),a.writeShort(u),a.writeShort(m),o=16*b,d=a.pos+o,c=null,N=[],t)for(_=t[A],a.writeString(A),a.writeInt(r(_)),a.writeInt(d),a.writeInt(_.length),N=N.concat(_),A==="head"&&(c=d),d+=_.length;d%4;)N.push(0),d++;return a.write(N),s=2981146554-r(a.data),a.pos=c+8,a.writeUInt32(s),a.data},r=function(t){var s,a,o,u;for(t=f_.call(t);t.length%4;)t.push(0);for(o=new Ac(t),a=0,s=0,u=t.length;s<u;s=s+=4)a+=o.readUInt32();return 4294967295&a},e})(),TM={}.hasOwnProperty,Ho=function(r,e){for(var t in e)TM.call(e,t)&&(r[t]=e[t]);function s(){this.constructor=r}return s.prototype=e.prototype,r.prototype=new s,r.__super__=e.prototype,r};go=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var kM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Ac).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),vx=(function(){function r(e,t){var s,a,o,u,c,f,d,m,y,_,b,N,A,E,T,R,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(b=e.readUInt16(),_=b/2,e.pos+=6,o=(function(){var q,V;for(V=[],f=q=0;0<=_?q<_:q>_;f=0<=_?++q:--q)V.push(e.readUInt16());return V})(),e.pos+=2,A=(function(){var q,V;for(V=[],f=q=0;0<=_?q<_:q>_;f=0<=_?++q:--q)V.push(e.readUInt16());return V})(),d=(function(){var q,V;for(V=[],f=q=0;0<=_?q<_:q>_;f=0<=_?++q:--q)V.push(e.readUInt16());return V})(),m=(function(){var q,V;for(V=[],f=q=0;0<=_?q<_:q>_;f=0<=_?++q:--q)V.push(e.readUInt16());return V})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var q,V;for(V=[],f=q=0;0<=a?q<a:q>a;f=0<=a?++q:--q)V.push(e.readUInt16());return V})(),f=T=0,I=o.length;T<I;f=++T)for(E=o[f],s=R=N=A[f];N<=E?R<=E:R>=E;s=N<=E?++R:--R)m[f]===0?u=s+d[f]:(u=c[m[f]/2+(s-N)-(_-f)]||0)!==0&&(u+=d[f]),this.codeMap[s]=65535&u}e.pos=y}return r.encode=function(e,t){var s,a,o,u,c,f,d,m,y,_,b,N,A,E,T,R,I,q,V,W,H,O,F,J,k,D,Q,$,le,B,ie,re,fe,me,G,j,z,ee,te,oe,de,pe,ve,_e,qe,Xe;switch($=new Ac,u=Object.keys(e).sort(function(et,ut){return et-ut}),t){case"macroman":for(A=0,E=(function(){var et=[];for(N=0;N<256;++N)et.push(0);return et})(),R={0:0},o={},le=0,fe=u.length;le<fe;le++)R[ve=e[a=u[le]]]==null&&(R[ve]=++A),o[a]={old:e[a],new:R[e[a]]},E[a]=R[e[a]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(E),{charMap:o,subtable:$.data,maxGlyphID:A+1};case"unicode":for(D=[],y=[],I=0,R={},s={},T=d=null,B=0,me=u.length;B<me;B++)R[V=e[a=u[B]]]==null&&(R[V]=++I),s[a]={old:V,new:R[V]},c=R[V]-a,T!=null&&c===d||(T&&y.push(T),D.push(a),d=c),T=a;for(T&&y.push(T),y.push(65535),D.push(65535),J=2*(F=D.length),O=2*Math.pow(Math.log(F)/Math.LN2,2),_=Math.log(O/2)/Math.LN2,H=2*F-O,f=[],W=[],b=[],N=ie=0,G=D.length;ie<G;N=++ie){if(k=D[N],m=y[N],k===65535){f.push(0),W.push(0);break}if(k-(Q=s[k].new)>=32768)for(f.push(0),W.push(2*(b.length+F-N)),a=re=k;k<=m?re<=m:re>=m;a=k<=m?++re:--re)b.push(s[a].new);else f.push(Q-k),W.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*F+2*b.length),$.writeUInt16(0),$.writeUInt16(J),$.writeUInt16(O),$.writeUInt16(_),$.writeUInt16(H),de=0,j=y.length;de<j;de++)a=y[de],$.writeUInt16(a);for($.writeUInt16(0),pe=0,z=D.length;pe<z;pe++)a=D[pe],$.writeUInt16(a);for(_e=0,ee=f.length;_e<ee;_e++)c=f[_e],$.writeUInt16(c);for(qe=0,te=W.length;qe<te;qe++)q=W[qe],$.writeUInt16(q);for(Xe=0,oe=b.length;Xe<oe;Xe++)A=b[Xe],$.writeUInt16(A);return{charMap:s,subtable:$.data,maxGlyphID:I+1}}},r})(),h_=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,s,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)t=new vx(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var s,a;return t==null&&(t="macroman"),s=vx.encode(e,t),(a=new Ac).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},r})(),EM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),jM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,s;for(s=[],t=0;t<10;++t)s.push(e.readByte());return s})(),this.charRange=(function(){var t,s;for(s=[],t=0;t<4;++t)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,s;for(s=[],t=0;t<2;t=++t)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),MM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="post",r.prototype.parse=function(e){var t,s,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(s=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},r})(),LM=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},OM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="name",r.prototype.parse=function(e){var t,s,a,o,u,c,f,d,m,y,_;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),s=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=m=0,y=s.length;m<y;o=++m)a=s[o],e.pos=a.offset,d=e.readString(a.length),u=new LM(d,a),f[_=a.nameID]==null&&(f[_]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},r})(),DM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),RM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,s,a,o,u,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,m;for(m=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)m.push(e.readInt16());return m})(),this.widths=(function(){var d,m,y,_;for(_=[],d=0,m=(y=this.metrics).length;d<m;d++)o=y[d],_.push(o.advance);return _}).call(this),s=this.widths[this.widths.length-1],f=[],t=u=0;0<=a?u<a:u>a;t=0<=a?++u:--u)f.push(this.widths.push(s));return f},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),f_=[].slice,IM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,s,a,o,u,c,f,d,m,y;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,s=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+s,u=(c=new Ac(t.read(a))).readShort(),d=c.readShort(),y=c.readShort(),f=c.readShort(),m=c.readShort(),this.cache[e]=u===-1?new VM(c,d,y,f,m):new FM(c,u,d,y,f,m),this.cache[e]))},r.prototype.encode=function(e,t,s){var a,o,u,c,f;for(u=[],o=[],c=0,f=t.length;c<f;c++)a=e[t[c]],o.push(u.length),a&&(u=u.concat(a.encode(s)));return o.push(u.length),{table:u,offsets:o}},r})(),FM=(function(){function r(e,t,s,a,o,u){this.raw=e,this.numberOfContours=t,this.xMin=s,this.yMin=a,this.xMax=o,this.yMax=u,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),VM=(function(){function r(e,t,s,a,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return r.prototype.encode=function(){var e,t,s;for(t=new Ac(f_.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),BM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="loca",r.prototype.parse=function(e){var t,s;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=4)o.push(e.readUInt32());return o}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var s=new Uint32Array(this.offsets.length),a=0,o=0,u=0;u<s.length;++u)if(s[u]=a,o<t.length&&t[o]==u){++o,s[u]=a;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(a+=f)}for(var d=new Array(4*s.length),m=0;m<s.length;++m)d[4*m+3]=255&s[m],d[4*m+2]=(65280&s[m])>>8,d[4*m+1]=(16711680&s[m])>>16,d[4*m]=(4278190080&s[m])>>24;return d},r})(),qM=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,s,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)s=o[t],e[t]=a[s];return e},r.prototype.glyphsFor=function(e){var t,s,a,o,u,c,f;for(a={},u=0,c=e.length;u<c;u++)a[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(s=a[o])!=null&&s.compound&&t.push.apply(t,s.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))s=f[o],a[o]=s;return a},r.prototype.encode=function(e,t){var s,a,o,u,c,f,d,m,y,_,b,N,A,E,T;for(a in s=h_.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),b={0:0},T=s.charMap)b[(f=T[a]).old]=f.new;for(N in _=s.maxGlyphID,u)N in b||(b[N]=_++);return m=(function(R){var I,q;for(I in q={},R)q[R[I]]=I;return q})(b),y=Object.keys(m).sort(function(R,I){return R-I}),A=(function(){var R,I,q;for(q=[],R=0,I=y.length;R<I;R++)c=y[R],q.push(m[c]);return q})(),o=this.font.glyf.encode(u,A,b),d=this.font.loca.encode(o.offsets,A),E={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},r})();Vt.API.PDFObject=(function(){var r;function e(){}return r=function(t,s){return(Array(s+1).join("0")+t).slice(-s)},e.convert=function(t){var s,a,o,u;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)s=t[c],d.push(e.convert(s));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)u=t[a],o.push("/"+a+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();var W1={exports:{}},zM=W1.exports,yx;function PM(){return yx||(yx=1,(function(r,e){(function(t,s){s()})(zM,function(){function t(d,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function s(d,m,y){var _=new XMLHttpRequest;_.open("GET",d),_.responseType="blob",_.onload=function(){f(_.response,m,y)},_.onerror=function(){console.error("could not download file")},_.send()}function a(d){var m=new XMLHttpRequest;m.open("HEAD",d,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function o(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(m)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof b1=="object"&&b1.global===b1?b1:void 0,c=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(d,m,y){var _=u.URL||u.webkitURL,b=document.createElement("a");m=m||d.name||"download",b.download=m,b.rel="noopener",typeof d=="string"?(b.href=d,b.origin===location.origin?o(b):a(b.href)?s(d,m,y):o(b,b.target="_blank")):(b.href=_.createObjectURL(d),setTimeout(function(){_.revokeObjectURL(b.href)},4e4),setTimeout(function(){o(b)},0))}:"msSaveOrOpenBlob"in navigator?function(d,m,y){if(m=m||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(t(d,y),m);else if(a(d))s(d,m,y);else{var _=document.createElement("a");_.href=d,_.target="_blank",setTimeout(function(){o(_)})}}:function(d,m,y,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof d=="string")return s(d,m,y);var b=d.type==="application/octet-stream",N=/constructor/i.test(u.HTMLElement)||u.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||b&&N||c)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var I=E.result;I=A?I:I.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=I:location=I,_=null},E.readAsDataURL(d)}else{var T=u.URL||u.webkitURL,R=T.createObjectURL(d);_?_.location=R:location.href=R,_=null,setTimeout(function(){T.revokeObjectURL(R)},4e4)}});u.saveAs=f.saveAs=f,r.exports=f})})(W1)),W1.exports}var UM=PM();const O2="chordWheelSongs",Ng="chordWheelCurrentSongId",Yf=()=>{try{const r=localStorage.getItem(O2);return r?JSON.parse(r).map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})):[]}catch(r){return console.error("Error loading saved songs:",r),[]}},xx=r=>{try{const e=Yf(),t=e.findIndex(a=>a.id===r.id),s={...r,updatedAt:new Date().toISOString(),createdAt:r.createdAt instanceof Date?r.createdAt.toISOString():r.createdAt};t>=0?e[t]=s:e.push({...s,createdAt:new Date().toISOString()}),localStorage.setItem(O2,JSON.stringify(e)),localStorage.setItem(Ng,r.id)}catch(e){console.error("Error saving song:",e)}},HM=r=>{try{const t=Yf().filter(s=>s.id!==r);localStorage.setItem(O2,JSON.stringify(t)),localStorage.getItem(Ng)===r&&localStorage.removeItem(Ng)}catch(e){console.error("Error deleting song:",e)}},GM=({isOpen:r,onClose:e,onConfirm:t,title:s,message:a,confirmLabel:o="Confirm",cancelLabel:u="Cancel",isDestructive:c=!1})=>(ae.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),ae.useEffect(()=>{const f=d=>{d.key==="Escape"&&r&&e()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[r,e]),r?w.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[w.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:e}),w.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-sm w-full overflow-hidden flex flex-col scale-100 opacity-100 transition-all",children:[w.jsxs("div",{className:"p-6",children:[w.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:s}),w.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:a})]}),w.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 bg-[#22222e] border-t border-border-subtle",children:[w.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:u}),w.jsx("button",{onClick:()=>{t(),e()},className:`px-4 py-2 text-sm font-bold text-white rounded-lg shadow-lg transition-transform active:scale-95 ${c?"bg-red-500 hover:bg-red-600":"bg-accent-primary hover:bg-accent-secondary"}`,children:o})]})]})]}):null),d_={I:{degree:0,quality:"major"},ii:{degree:1,quality:"minor"},iii:{degree:2,quality:"minor"},IV:{degree:3,quality:"major"},V:{degree:4,quality:"major"},vi:{degree:5,quality:"minor"},"vii":{degree:6,quality:"diminished"},iv:{degree:3,quality:"minor"},"VI":{degree:8,quality:"major"},bVI:{degree:8,quality:"major"},"VII":{degree:10,quality:"major"},bVII:{degree:10,quality:"major"}},WM=[0,2,4,5,7,9,11];function YM(r,e){const t=Eh(e),s=_l.indexOf(t);if(s===-1)return e;const a=d_[r];if(!a)return console.warn(`Unknown roman numeral: ${r}`),e;let o;a.degree<7?o=WM[a.degree]:o=a.degree;const u=(s+o)%12;return _l[u]}function XM(r,e){const t=d_[r]||{quality:"major"},s=YM(r,e),a=Sl(s,t.quality);return{root:s,quality:t.quality,numeral:r,notes:a,symbol:`${s}${t.quality==="major"?"":t.quality==="minor"?"m":""}`}}function D2(r,e){return r.map(t=>XM(t,e))}let Y1=!1,Sp=[];function R2(){Y1=!1,Sp.forEach(r=>clearTimeout(r)),Sp=[]}async function p_(r,e,t=120,s=2,a){R2(),Y1=!0,ws.state!=="running"&&await xu(),ws.state==="suspended"&&await ws.resume(),await kc();const o=D2(r,e),c=60/t*1e3*s,d=`${4/s}n`;return new Promise(m=>{o.forEach((y,_)=>{const b=window.setTimeout(()=>{if(Y1&&(a?.(_,y),Fi(y.notes,d),_===o.length-1)){const N=window.setTimeout(()=>{Y1=!1,m()},c);Sp.push(N)}},_*c);Sp.push(b)})})}const $M=[{id:"pop-anthem",name:"Pop/Rock Anthem",description:"The most popular progression in modern music. Uplifting and anthemic.",numerals:["I","V","vi","IV"],genre:"Pop/Rock",artists:"U2, The Beatles, Blink-182",color:"accent-primary",sectionType:"chorus",sectionName:"Anthem",beatsPerChord:4},{id:"emotional-ballad",name:"Emotional Ballad",description:"Starts on the minor chord for a melancholic, emotional feel.",numerals:["vi","IV","I","V"],genre:"Ballad",artists:"Adele, John Legend",color:"purple-400",sectionType:"verse",sectionName:"Ballad",beatsPerChord:4},{id:"jazz-ii-v-i",name:"Jazz / R&B",description:"The foundation of jazz harmony. Smooth and sophisticated.",numerals:["ii","V","I"],genre:"Jazz/R&B",artists:"Maroon 5, Jazz Standards",color:"blue-400",sectionType:"verse",sectionName:"ii-V-I",beatsPerChord:4,totalBars:4},{id:"50s-progression",name:"50s Doo-Wop",description:"Classic rock and roll. Nostalgic and feel-good.",numerals:["I","vi","IV","V"],genre:"Oldies",artists:"Stand By Me, Earth Angel",color:"yellow-400",sectionType:"verse",sectionName:"Doo-Wop",beatsPerChord:4},{id:"andalusian",name:"Andalusian Cadence",description:"Dramatic descending progression. Spanish/Flamenco influenced.",numerals:["vi","V","IV","III"],genre:"Dramatic",artists:"Hit the Road Jack, Sultans of Swing",color:"red-400",sectionType:"verse",sectionName:"Andal.",beatsPerChord:4},{id:"pachelbel",name:"Pachelbel Canon",description:"The classical progression that influenced centuries of music.",numerals:["I","V","vi","iii","IV","I","IV","V"],genre:"Classical/Pop",artists:"Canon in D, Basket Case",color:"green-400",sectionType:"verse",sectionName:"Canon",beatsPerChord:2}],ZM=[{id:"perfect",name:"Perfect Cadence",description:'The "Full Stop". Strongest resolution.',numerals:["V","I"],color:"green-500",emotion:"Conclusive"},{id:"plagal",name:"Plagal Cadence",description:'The "Amen". Softer, church-like resolution.',numerals:["IV","I"],color:"blue-500",emotion:"Peaceful"},{id:"half",name:"Half Cadence",description:'The "Comma". Leaves listeners wanting more.',numerals:["I","V"],color:"yellow-500",emotion:"Suspenseful"},{id:"deceptive",name:"Deceptive Cadence",description:'The "Surprise". Expecting I, getting vi.',numerals:["V","vi"],color:"purple-500",emotion:"Unexpected"}],QM=({preset:r,showAddButton:e=!0,compact:t=!1,onAddToTimeline:s})=>{const{selectedKey:a,currentSong:o,openTimeline:u}=An(),c=An(R=>R.addCustomSection),[f,d]=ae.useState(!1),[m,y]=ae.useState(null),[_,b]=ae.useState(!1),N=D2(r.numerals,a),A=async()=>{if(f){R2(),d(!1),y(null);return}d(!0),y(0);try{await p_(r.numerals,a,o.tempo,r.beatsPerChord,R=>{y(R)})}finally{d(!1),y(null)}},E=async(R,I)=>{if(f)return;y(I);const q=r.beatsPerChord>=4?"1n":"2n";await Fi(R.notes,q),setTimeout(()=>y(null),400)},T=()=>{c&&(c(r.sectionName,r.sectionType,N,{beatsPerChord:r.beatsPerChord,totalBars:r.totalBars}),u(),b(!0),setTimeout(()=>b(!1),1500),s?.())};return w.jsxs("div",{className:`
                p-2.5 rounded bg-bg-tertiary transition-all duration-300 overflow-hidden
                ${t?"text-xs":"text-sm"}
                ${_?"ring-2 ring-green-500 bg-green-500/10":""}
            `,children:[w.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[w.jsxs("div",{className:"min-w-0",children:[w.jsx("span",{className:"font-bold text-white",children:r.name}),r.artists&&w.jsx("span",{className:"block text-xs text-gray-500 truncate",children:r.artists})]}),e&&w.jsxs("button",{onClick:T,className:`
                            flex items-center gap-1 px-2 py-1 rounded text-xs font-medium shrink-0
                            transition-all duration-200
                            ${_?"bg-green-500 text-white":"bg-bg-elevated hover:bg-accent-primary/20 text-gray-400 hover:text-accent-primary"}
                        `,title:"Add to timeline",children:[w.jsx(ed,{size:12}),w.jsx("span",{className:"hidden sm:inline",children:_?"Added!":"Add"})]})]}),w.jsxs("div",{className:"grid gap-1.5",style:{gridTemplateColumns:"auto repeat(4, minmax(0, max-content))",justifyContent:"start"},children:[w.jsx("button",{onClick:A,className:`
                        flex items-center justify-center w-7 h-7 rounded-full shrink-0
                        transition-all duration-200
                        ${f?"bg-red-500 hover:bg-red-600 text-white":"bg-accent-primary/20 hover:bg-accent-primary/40 text-accent-primary"}
                    `,title:f?"Stop":"Play progression",children:f?w.jsx(U3,{size:12}):w.jsx(Uh,{size:12,className:"ml-0.5"})}),r.numerals.map((R,I)=>{const q=N[I],V=m===I,W=I<4?void 0:I%4+2;return w.jsx("button",{onClick:()=>E(q,I),disabled:f,className:`
                                text-xs px-2 py-1 rounded font-medium
                                transition-all duration-150
                                ${V?`bg-${r.color} text-white scale-110 shadow-lg shadow-${r.color}/30`:`bg-black/40 text-${r.color} hover:bg-black/60 hover:scale-105`}
                                ${f&&!V?"opacity-50":""}
                                disabled:cursor-not-allowed
                            `,style:{...V?{backgroundColor:`var(--color-${r.color})`}:{},...W?{gridColumn:W}:{}},title:`Play ${q.symbol}`,children:R},`${R}-${I}`)})]})]})},KM=({preset:r})=>{const{selectedKey:e,currentSong:t}=An(),[s,a]=ae.useState(!1),[o,u]=ae.useState(null),c=D2(r.numerals,e),f=async()=>{if(s){R2(),a(!1),u(null);return}a(!0),u(0);try{await p_(r.numerals,e,t.tempo,2,y=>{u(y)})}finally{a(!1),u(null)}},d=async(y,_)=>{s||(u(_),await Fi(y.notes,"2n"),setTimeout(()=>u(null),400))},m=`text-${r.color.replace("-500","-400")}`;return w.jsxs("div",{className:`
                group p-3 rounded bg-bg-tertiary hover:bg-bg-tertiary/80 
                transition-all duration-200 border-l-2
            `,style:{borderColor:`var(--color-${r.color}, currentColor)`},children:[w.jsxs("div",{className:"flex justify-between items-center mb-1 gap-2",children:[w.jsx("span",{className:"font-bold text-white",children:r.name}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("button",{onClick:f,className:`
                            w-6 h-6 rounded-full flex items-center justify-center
                            transition-all duration-200
                            ${s?"bg-red-500 text-white":"bg-white/10 hover:bg-white/20 text-white/70 hover:text-white"}
                        `,title:s?"Stop":"Play cadence",children:s?w.jsx("div",{className:"w-2 h-2 bg-white rounded-sm"}):w.jsx(Uh,{size:10,className:"ml-0.5"})}),w.jsx("div",{className:"flex gap-0.5",children:r.numerals.map((y,_)=>{const b=c[_],N=o===_;return w.jsxs(Xn.Fragment,{children:[w.jsx("button",{onClick:()=>d(b,_),disabled:s,className:`
                                            text-xs px-1.5 py-0.5 rounded
                                            transition-all duration-150
                                            ${N?"bg-white text-black scale-110":`bg-black/30 ${m} hover:bg-black/50 hover:scale-105`}
                                        `,style:N?{backgroundColor:`var(--color-${r.color})`,color:"white"}:void 0,title:`Play ${b.symbol}`,children:y}),_<r.numerals.length-1&&w.jsx("span",{className:"text-gray-500 text-xs flex items-center",children:""})]},`${y}-${_}`)})})]})]}),w.jsx("p",{className:"text-gray-400 text-xs",children:r.description})]})},wx=({onClose:r})=>{const{selectedKey:e}=An();return w.jsxs(w.Fragment,{children:[w.jsxs("section",{children:[w.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[w.jsx(iT,{size:12,className:"fill-accent-primary"}),"Quick Start"]}),w.jsx("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-4 text-sm",children:w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"shrink-0 w-5 h-5 rounded-full bg-accent-primary/20 text-accent-primary text-xs font-bold flex items-center justify-center",children:"1"}),w.jsxs("p",{className:"text-gray-300",children:[w.jsx("strong",{className:"text-white",children:"Tap a chord"})," on the wheel to hear it and see details."]})]}),w.jsxs("div",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"shrink-0 w-5 h-5 rounded-full bg-accent-primary/20 text-accent-primary text-xs font-bold flex items-center justify-center",children:"2"}),w.jsxs("p",{className:"text-gray-300",children:[w.jsx("strong",{className:"text-white",children:"Double-tap"})," a chord to add it to your timeline."]})]}),w.jsxs("div",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"shrink-0 w-5 h-5 rounded-full bg-accent-primary/20 text-accent-primary text-xs font-bold flex items-center justify-center",children:"3"}),w.jsxs("p",{className:"text-gray-300",children:[w.jsx("strong",{className:"text-white",children:"Drag the wheel"})," to change keys  your selected key stays at the top."]})]}),w.jsxs("div",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"shrink-0 w-5 h-5 rounded-full bg-accent-primary/20 text-accent-primary text-xs font-bold flex items-center justify-center",children:"4"}),w.jsxs("p",{className:"text-gray-300",children:[w.jsx("strong",{className:"text-white",children:"Tap the compass"})," in the center to pin/unpin the wheel (pinned = C stays at top)."]})]})]}),w.jsxs("div",{className:"bg-bg-tertiary/60 rounded-lg p-3 border-l-2 border-accent-primary",children:[w.jsx("p",{className:"text-xs text-gray-400 mb-2",children:w.jsx("strong",{className:"text-white",children:"Understanding the Wheel"})}),w.jsxs("ul",{className:"space-y-1 text-xs text-gray-400",children:[w.jsxs("li",{children:[" ",w.jsx("strong",{className:"text-gray-300",children:"Highlighted chords"})," = sound good together in your key"]}),w.jsxs("li",{children:[" ",w.jsx("strong",{className:"text-gray-300",children:"Outer ring"})," = Major chords (I, IV, V)"]}),w.jsxs("li",{children:[" ",w.jsx("strong",{className:"text-gray-300",children:"Middle ring"})," = Minor chords (ii, iii, vi)"]}),w.jsxs("li",{children:[" ",w.jsx("strong",{className:"text-gray-300",children:"Inner ring"})," = Diminished (vii)"]})]})]})]})})]}),w.jsxs("section",{children:[w.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[w.jsx(xT,{size:12}),"The Language of Music (Roman Numerals)"]}),w.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-4",children:[w.jsx("p",{className:"text-sm text-gray-300",children:'Musicians use roman numerals to talk about chords regardless of the specific key. This reveals the "DNA" of a song.'}),w.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:["I","ii","iii","IV","V","vi","vii"].map((t,s)=>w.jsxs("div",{className:`rounded p-2 flex flex-col items-center justify-between h-20 ${["I","IV","V"].includes(t)?"bg-accent-primary/20 border border-accent-primary/30":t==="vii"?"bg-red-500/10 border border-red-500/20":"bg-violet-500/15 border border-violet-500/25"}`,children:[w.jsx("span",{className:"font-bold text-white mb-1",children:t}),w.jsx("span",{className:"text-[10px] text-gray-400 leading-tight",children:s===0?"Tonic (Home)":s===3?"Subdom. (Away)":s===4?"Dominant (Tension)":s===5?"Rel. Minor":s===6?"Leading Tone":"Mediant"})]},t))}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs text-gray-400",children:[w.jsxs("div",{className:"p-2 rounded bg-bg-tertiary/50",children:[w.jsx("strong",{className:"text-accent-primary block mb-1",children:"Tonic (I, vi, iii)"}),"Stable, home base. Where songs usually start and end."]}),w.jsxs("div",{className:"p-2 rounded bg-bg-tertiary/50",children:[w.jsx("strong",{className:"text-accent-primary block mb-1",children:"Subdominant (IV, ii)"}),"Movement, drifting away from home. Creates interest."]}),w.jsxs("div",{className:"p-2 rounded bg-bg-tertiary/50",children:[w.jsx("strong",{className:"text-accent-primary block mb-1",children:"Dominant (V, vii)"}),"Tension, needing resolution. Pulls strongly back to I."]})]})]})]}),w.jsxs("section",{children:[w.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[w.jsx(_T,{size:12}),"Songwriting Toolkit"]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[w.jsxs("h4",{className:"font-bold text-white mb-3 text-sm flex items-center gap-2",children:["Emotional Cadences (How Phrases End)",w.jsx(sg,{size:12,className:"text-accent-primary/50"}),w.jsxs("span",{className:"text-xs font-normal text-gray-500",children:["in ",e]})]}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:ZM.map(t=>w.jsx(KM,{preset:t},t.id))})]}),w.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[w.jsxs("h4",{className:"font-bold text-white mb-3 text-sm flex items-center gap-2",children:["Famous Progressions",w.jsx(sg,{size:12,className:"text-accent-primary/50"}),w.jsxs("span",{className:"text-xs font-normal text-gray-500",children:["in ",e,"  tap to play  click + to add"]})]}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:$M.map(t=>w.jsx(QM,{preset:t,onAddToTimeline:r},t.id))})]})]})]}),w.jsxs("section",{children:[w.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[w.jsx(Jf,{size:12}),"Adding Spice (Advanced)"]}),w.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-6",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-white mb-2 text-sm flex items-center gap-2",children:"1. Modal Interchange (Borrowed Chords)"}),w.jsx("p",{className:"text-sm text-gray-400 mb-3",children:'Steal chords from the parallel minor key to add "cinematic" emotion.'}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-xs",children:[w.jsxs("div",{className:"bg-bg-tertiary p-2 rounded border-l-2 border-indigo-500",children:[w.jsx("strong",{className:"text-white block",children:"Minor IV (iv)"}),w.jsx("span",{className:"text-gray-500",children:'"The Beatles Cadence". Gives a nostalgic, bittersweet ending. (Fm in key of C).'})]}),w.jsxs("div",{className:"bg-bg-tertiary p-2 rounded border-l-2 border-indigo-500",children:[w.jsx("strong",{className:"text-white block",children:"Flat VI (VI)"}),w.jsx("span",{className:"text-gray-500",children:'Epic, heroic, fantasy feeling. "Lord of the Rings" sound. (Ab in key of C).'})]}),w.jsxs("div",{className:"bg-bg-tertiary p-2 rounded border-l-2 border-indigo-500",children:[w.jsx("strong",{className:"text-white block",children:"Picardy Third"}),w.jsx("span",{className:"text-gray-500",children:"Ending a sad, minor song on a happy Major I chord. Pure sunshine."})]})]})]}),w.jsx("div",{className:"w-full h-px bg-white/5"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-white mb-2 text-sm",children:"2. Secondary Dominants"}),w.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Make a minor chord Major to create a magnetic pull to another chord."}),w.jsxs("div",{className:"bg-bg-tertiary p-3 rounded text-xs text-gray-300 italic",children:['"In C Major, play ',w.jsx("strong",{className:"text-white",children:"E Major (III)"}),". It pulls hard to ",w.jsx("strong",{className:"text-white",children:"Am"}),'. (Radiohead - Creep)"']})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-white mb-2 text-sm",children:"3. Tritone Substitution"}),w.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Jazz trick: Replace the V chord with a dominant chord exactly halfway around the circle (a tritone away)."}),w.jsxs("div",{className:"bg-bg-tertiary p-3 rounded text-xs text-gray-300 italic",children:['"Instead of G7  C, try ',w.jsx("strong",{className:"text-white",children:"Db7  C"}),'. Smooth chromatic slide."']})]})]}),w.jsx("div",{className:"w-full h-px bg-white/5"}),w.jsxs("div",{children:[w.jsxs("h4",{className:"font-bold text-white mb-3 text-sm flex items-center gap-2",children:["4. Secrets of the Pros",w.jsx("span",{className:"text-[10px] bg-purple-500/20 text-purple-400 px-1.5 py-0.5 rounded uppercase font-bold",children:"Expert"})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"p-3 rounded bg-bg-tertiary flex gap-3",children:[w.jsx("div",{className:"shrink-0 w-8 h-8 rounded bg-bg-elevated flex items-center justify-center font-bold text-accent-primary",children:"A"}),w.jsxs("div",{children:[w.jsx("strong",{className:"text-white text-sm block",children:"Pedal Point"}),w.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Keep the bass note the same while changing chords on top. Creates massive tension and "floaty" feelings. (e.g., C/C  F/C  G/C).'})]})]}),w.jsxs("div",{className:"p-3 rounded bg-bg-tertiary flex gap-3",children:[w.jsx("div",{className:"shrink-0 w-8 h-8 rounded bg-bg-elevated flex items-center justify-center font-bold text-accent-primary",children:"B"}),w.jsxs("div",{children:[w.jsx("strong",{className:"text-white text-sm block",children:"Line Clich"}),w.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'A single note moving down chromatically inside a static chord. think "Stairway to Heaven" or James Bond theme (Am  Am(maj7)  Am7  Am6).'})]})]}),w.jsxs("div",{className:"p-3 rounded bg-bg-tertiary flex gap-3",children:[w.jsx("div",{className:"shrink-0 w-8 h-8 rounded bg-bg-elevated flex items-center justify-center font-bold text-accent-primary",children:"C"}),w.jsxs("div",{children:[w.jsx("strong",{className:"text-white text-sm block",children:"Relative Major/Minor Modulation"}),w.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Switching focus between I and vi. Use the exact same notes, but center your melody around Am instead of C to instantly change the mood from happy to sad."})]})]})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-white mb-2 text-sm",children:"5. Building Better Chords (Extensions)"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs text-center",children:[w.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[w.jsx("strong",{className:"text-white block",children:"maj7"}),w.jsx("span",{className:"text-gray-500",children:"Dreamy, Jazz, Lo-fi"})]}),w.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[w.jsx("strong",{className:"text-white block",children:"dom7"}),w.jsx("span",{className:"text-gray-500",children:"Blues, Funk, Tension"})]}),w.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[w.jsx("strong",{className:"text-white block",children:"sus4"}),w.jsx("span",{className:"text-gray-500",children:"Open, airy, delayed"})]}),w.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[w.jsx("strong",{className:"text-white block",children:"add9"}),w.jsx("span",{className:"text-gray-500",children:"Rich, cinematic pop"})]})]})]})]})]})]})},JM=({isOpen:r,onClose:e,isEmbedded:t=!1})=>r?t?w.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col bg-[#1a1a24]",children:[w.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-[#22222e] shrink-0",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:w.jsx(Jf,{size:12,className:"text-white"})}),w.jsx("h2",{className:"text-sm font-bold text-white",children:"Guide"})]}),w.jsx("button",{onClick:e,className:"p-1 hover:bg-bg-tertiary rounded transition-colors text-text-muted hover:text-white",children:w.jsx(fp,{size:16})})]}),w.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-6 sm:py-6 space-y-8",children:w.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:w.jsx(wx,{onClose:e})})})]}):w.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center pointer-events-none",style:{paddingTop:"max(16px, env(safe-area-inset-top))",paddingBottom:"max(16px, env(safe-area-inset-bottom))",paddingLeft:"max(16px, env(safe-area-inset-left))",paddingRight:"max(16px, env(safe-area-inset-right))"},children:[w.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm pointer-events-none"}),w.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-4xl w-full max-h-full overflow-hidden flex flex-col pointer-events-auto",children:[w.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-subtle bg-[#22222e]",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:w.jsx(Jf,{size:16,className:"text-white"})}),w.jsx("h2",{className:"text-lg font-bold text-white",children:"Chord Wheel Guide"})]}),w.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-tertiary rounded-lg transition-colors text-text-muted hover:text-white",children:w.jsx(fp,{size:20})})]}),w.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-8 sm:py-8 space-y-8",children:w.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:w.jsx(wx,{onClose:e})})})]})]}):null;function eL(){const{currentSong:r,selectedKey:e,timelineVisible:t,toggleTimeline:s,selectedSectionId:a,selectedSlotId:o,clearSlot:u,clearTimeline:c,setTitle:f,loadSong:d,newSong:m,instrument:y,volume:_,isMuted:b,undo:N,redo:A,canUndo:E,canRedo:T,chordPanelVisible:R}=An();ae.useEffect(()=>{d2(y)},[y]),ae.useEffect(()=>{H3(_)},[_]),ae.useEffect(()=>{G3(b)},[b]);const[I,q]=ae.useState(!1),[V,W]=ae.useState(()=>{if(typeof window>"u")return 1;const De=window.innerWidth,ht=window.innerHeight;return De<768||ht<500&&ht<De?1.25:1}),[H,O]=ae.useState(50),[F,J]=ae.useState({x:0,y:0}),k=ae.useRef(null),[D,Q]=ae.useState(()=>typeof window>"u"?200:Math.max(200,Math.floor(window.innerWidth*.33))),[$,le]=ae.useState(()=>{if(typeof window>"u")return 500;const De=window.innerWidth,vt=window.innerHeight-48-56-152-32,Ot=De-380-40;return Math.max(300,Math.min(Ot,vt))}),[B,ie]=ae.useState(()=>typeof window<"u"?window.innerWidth<768||window.innerHeight<500&&window.innerHeight<window.innerWidth:!1),[re,fe]=ae.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerHeight<500:!1),me=ae.useRef(!1),G=ae.useRef(!1),[j,z]=ae.useState(!1),ee=ae.useRef(null),[te,oe]=ae.useState(!1),[de,pe]=ae.useState(!1),ve=ae.useRef(null),_e=ae.useRef(!1);ae.useEffect(()=>{if(!B)return;if(re&&!_e.current)_e.current=!0,ve.current=An.getState().chordPanelVisible,z(!0),oe(!0),An.getState().chordPanelVisible||An.getState().toggleChordPanel();else if(!re&&_e.current){_e.current=!1;const Ot=An.getState().chordPanelVisible,it=ve.current;it!==null&&Ot!==it&&An.getState().toggleChordPanel(),oe(!1),ve.current=null}const De=()=>{z(!0)},ht=()=>{ee.current&&clearTimeout(ee.current),ee.current=setTimeout(De,1e4)},vt=Ot=>{const it=Ot.target,Kt=it.closest("[data-chord-details]"),gn=it.closest("[data-playback-controls]"),bn=it.closest("[data-mobile-timeline]"),dn=it.closest("header"),sn=it.closest("[data-wheel-background]"),Te=it.closest("button"),Fe=it.tagName==="path"||it.tagName==="circle"||it.tagName==="text"||it.tagName==="polygon"||it.tagName==="g"&&it.style.cursor==="pointer"||it.closest('g[style*="cursor: pointer"]')||it.closest('g[class*="cursor-pointer"]'),Qe=!re&&An.getState().chordPanelVisible;sn&&!Kt&&!gn&&!bn&&!dn&&!Te&&!Fe&&!Qe&&(z(xt=>!xt),ee.current&&clearTimeout(ee.current),ht())};return document.addEventListener("touchstart",vt),ht(),()=>{document.removeEventListener("touchstart",vt),ee.current&&clearTimeout(ee.current)}},[B,re]);const[qe,Xe]=ae.useState(!1),et=ae.useRef(null),ut=ae.useCallback(()=>{!B||!re||(Xe(!0),et.current&&clearTimeout(et.current),et.current=setTimeout(()=>{Xe(!1)},3e3))},[B,re]);ae.useEffect(()=>()=>{et.current&&clearTimeout(et.current)},[]),ae.useEffect(()=>{if(!B)return;const De=()=>{oe(!0)};return window.addEventListener("openMobileTimeline",De),()=>window.removeEventListener("openMobileTimeline",De)},[B]),ae.useEffect(()=>{if(!B)return;const De=An.getState();te&&!De.timelineVisible?An.setState({timelineVisible:!0}):!te&&De.timelineVisible&&An.setState({timelineVisible:!1})},[B,te]),ae.useEffect(()=>{const De=()=>{const ht=window.innerWidth,vt=window.innerHeight,Ot=ht<768||vt<500&&vt<ht,it=vt<ht&&vt<500;if(ie(Ot),fe(it),Ot&&it){const gn=Math.max(200,Math.floor(ht*.33));Q(gn)}if(!Ot){const gn=An.getState().timelineVisible?152:24,bn=vt-48-56-gn-32,dn=ht-380-40;le(Math.max(300,Math.min(dn,bn)))}const Kt=An.getState();Ot&&!G.current&&(Kt.timelineVisible&&Kt.toggleTimeline(),Kt.chordPanelVisible&&Kt.toggleChordPanel(),G.current=!0),!Ot&&me.current&&!Kt.chordPanelVisible&&(Kt.toggleChordPanel(),me.current=!1)};return De(),window.addEventListener("resize",De),window.addEventListener("orientationchange",De),()=>{window.removeEventListener("resize",De),window.removeEventListener("orientationchange",De)}},[]),ae.useEffect(()=>{if(B)return;const De=window.innerWidth,ht=window.innerHeight,vt=t?152:24,Ot=ht-48-56-vt-32,it=De-380-40;le(Math.max(300,Math.min(it,Ot)))},[t,B]);const Y=ae.useCallback((De,ht)=>{W(De),O(ht)},[]),Ie=ae.useCallback(()=>{const De=Math.min(2.5,V+.2);W(De),O(De>1.3?38:50)},[V]),pt=ae.useCallback(()=>{const De=Math.max(.2,V-.2);W(De),O(De>1.3?38:50)},[V]),Je=ae.useCallback(De=>{J(De)},[]),je=ae.useMemo(()=>B&&(re||R)?90:0,[B,re,R]),st=B&&(re||R);ae.useEffect(()=>{if(B)if(st)if(k.current||(k.current={zoom:V,origin:H,pan:{...F}}),re){const De=window.innerHeight,ht=1.65,vt=Math.max(.9,Math.min(1.1,De/400)),Ot=ht*vt;W(Ot),O(48),J({x:-35,y:0})}else W(1.42),O(42),J({x:-35,y:-30});else k.current&&(W(k.current.zoom),O(k.current.origin),J(k.current.pan),k.current=null)},[st,re,B]);const[Ue,nt]=ae.useState(!1),[Oe,$e]=ae.useState(r.title),tt=ae.useMemo(()=>{const De=r.sections.reduce((Kt,gn)=>{const bn=gn.measures.reduce((dn,sn)=>dn+sn.beats.reduce((Te,Fe)=>Te+Fe.duration,0),0);return Kt+bn},0),ht=r.tempo/60,vt=De/ht,Ot=Math.floor(vt/60),it=Math.floor(vt%60);return`${Ot}:${it.toString().padStart(2,"0")}`},[r.sections,r.tempo]),[at,mt]=ae.useState(!1);ae.useEffect(()=>{const De=async()=>{try{f2(),await xu(),await kc(),mt(!0)}catch(vt){console.error("Audio initialization failed:",vt)}},ht=async()=>{at||(await Hp(),De())};return document.addEventListener("touchstart",ht,{once:!0}),document.addEventListener("click",ht,{once:!0}),()=>{document.removeEventListener("touchstart",ht),document.removeEventListener("click",ht)}},[at]),ae.useEffect(()=>{const De=ht=>{if((ht.key==="Delete"||ht.key==="Backspace")&&a&&o){if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;ht.preventDefault(),u(a,o)}};return window.addEventListener("keydown",De),()=>window.removeEventListener("keydown",De)},[a,o,u]),ae.useEffect(()=>{const De=ht=>{const vt=ht.target;vt?.tagName==="INPUT"||vt?.tagName==="TEXTAREA"||vt?.isContentEditable||ht.metaKey&&ht.key.toLowerCase()==="z"&&(ht.preventDefault(),ht.shiftKey?T&&A():E&&N())};return window.addEventListener("keydown",De),()=>window.removeEventListener("keydown",De)},[N,A,E,T]);const yt=()=>{$e(r.title),nt(!0)},ot=()=>{f(Oe.trim()||"Untitled Song"),nt(!1)},[kt,ft]=ae.useState(!1),[mn,Gt]=ae.useState([]),Nt=ae.useRef(null);ae.useEffect(()=>{Gt(Yf())},[]),ae.useEffect(()=>{const De=ht=>{Nt.current&&!Nt.current.contains(ht.target)&&ft(!1)};return document.addEventListener("mousedown",De),()=>document.removeEventListener("mousedown",De)},[]);const Lt=()=>{if(r.title==="Untitled Song"||!r.title.trim()){const De=prompt("Please name your song:",r.title);if(De===null)return;const ht=De.trim()||"Untitled Song";f(ht);const vt={...r,title:ht};xx(vt)}else xx(r);Gt(Yf()),ft(!1)},It=De=>{d(De),ft(!1)},[Se,lt]=ae.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),ct=()=>{lt({isOpen:!0,title:"New Song",message:"Start a new song? Unsaved changes will be lost.",confirmLabel:"Start New",isDestructive:!0,onConfirm:()=>{m(),ft(!1)}})},gt=(De,ht,vt)=>{vt.stopPropagation(),lt({isOpen:!0,title:"Delete Song",message:`Are you sure you want to delete "${ht}"? This cannot be undone.`,confirmLabel:"Delete",isDestructive:!0,onConfirm:()=>{HM(De),Gt(Yf())}})},en=De=>{De.key==="Enter"?ot():De.key==="Escape"&&($e(r.title),nt(!1))},St=152,bt=()=>{const De=new Vt,ht=De.internal.pageSize.getWidth(),vt=20,Ot=4,Kt=r.sections.reduce((tn,Ht)=>{const zn=(Ht.timeSignature||r.timeSignature)[0];return tn+Ht.measures.length*zn},0)/r.tempo*60,gn=Math.floor(Kt/60),bn=Math.floor(Kt%60),dn=`${gn}:${bn.toString().padStart(2,"0")}`,sn=r.sections.reduce((tn,Ht)=>tn+Ht.measures.length,0),Te=r.sections.length;De.setFontSize(22),De.setFont("helvetica","bold"),De.setTextColor(0,0,0),De.text(r.title,vt,18),De.setDrawColor(0,0,0),De.setLineWidth(.5),De.line(vt,22,ht-vt,22),De.setFontSize(10),De.setFont("helvetica","normal");const Fe=[`Key: ${Gs(e)}`,`Tempo: ${r.tempo} BPM`,`Duration: ${dn}`,`${Te} sections`,`${sn} bars`];De.text(Fe.join("      "),vt,30);let Qe=42;const xt=new Set;if(r.sections.forEach(tn=>{Qe>260&&(De.addPage(),Qe=20),De.setFontSize(12),De.setFont("helvetica","bold"),De.setTextColor(0,0,0),De.text(`[${tn.name}]`,vt,Qe),Qe+=8;const Ht=tn.measures.map(on=>{const zn=on.beats.length;return on.beats.forEach(kn=>{if(kn.chord){const En=kn.chord.root,$n={major:"maj",minor:"m",diminished:"dim",augmented:"aug",major7:"maj7",minor7:"m7",dominant7:"7",halfDiminished7:"m7b5",sus2:"sus2",sus4:"sus4"}[kn.chord.quality]||kn.chord.quality||"maj";xt.add(`${En}|${$n}`)}}),zn===1?on.beats[0]?.chord?.symbol||"":zn===2?on.beats.map(kn=>kn.chord?.symbol||"").join(" "):on.beats.map(kn=>kn.chord?.symbol||"").join(" ")});if(De.setFontSize(11),De.setFont("helvetica","normal"),Ht.length===0)De.text("(No chords)",vt,Qe),Qe+=10;else for(let on=0;on<Ht.length;on+=Ot){Qe>275&&(De.addPage(),Qe=20);const kn=Ht.slice(on,on+Ot).join("  |  "),En=on>0?"    ":"";De.text(En+kn,vt,Qe),Qe+=8}Qe+=6}),xt.size>0){const tn=Array.from(xt),Ht=245,on=5,En=tn.length*(22+on)>Ht,Vn=En?18:22,$n=En?18:20,Ys=En?22:25,es=En?155:170;let Pn=0,ii=35;const Ss=En?Math.ceil(tn.length/2):tn.length;De.setPage(1),tn.forEach((Ns,Xs)=>{const[Pi,Ui]=Ns.split("|"),Hi=Q3(Pi,Ui);if(!Hi)return;En&&Xs===Ss&&(Pn=1,ii=35);const ca=Pn*Ys,us=`${Pi}${Ui==="maj"?"":Ui}`;De.setFontSize(En?6:7),De.setFont("helvetica","bold"),De.setTextColor(0,0,0),De.text(us,es+ca+$n/2+2,ii,{align:"center"}),qt(De,Hi,es+ca,ii+3,En),ii+=Vn+on})}const Ft=`${r.title.replace(/\s+/g,"-").toLowerCase()}.pdf`,Et=De.output("blob");if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const tn=URL.createObjectURL(Et);window.open(tn,"_blank"),setTimeout(()=>URL.revokeObjectURL(tn),1e4)}else UM.saveAs(Et,Ft)},qt=(De,ht,vt,Ot,it=!1)=>{const{frets:Kt,barres:gn,baseFret:bn}=ht,dn=it?2.5:3,sn=it?3:4,Te=4,Fe=6,Qe=it?1:1.2,xt=Array.from({length:Fe},(Ht,on)=>vt+on*dn),Ft=Array.from({length:Te+1},(Ht,on)=>Ot+on*sn),Et=bn===1,Xt=dn*(Fe-1),tn=sn*Te;De.setDrawColor(0,0,0),Et?(De.setLineWidth(1),De.line(vt,Ot,vt+Xt,Ot)):(De.setLineWidth(.3),De.line(vt,Ot,vt+Xt,Ot),De.setFontSize(it?6:7),De.setFont("helvetica","bold"),De.text(bn.toString(),vt-3,Ot+sn/2+1)),De.setLineWidth(.2),Ft.slice(1).forEach(Ht=>{De.line(vt,Ht,vt+Xt,Ht)}),xt.forEach(Ht=>{De.line(Ht,Ot,Ht,Ot+tn)}),gn.forEach(Ht=>{const on=Kt.map((Vn,$n)=>({fret:Vn,idx:$n})).filter(({fret:Vn})=>Vn===Ht);if(on.length<2)return;const zn=Math.min(...on.map(Vn=>Vn.idx)),kn=Math.max(...on.map(Vn=>Vn.idx)),En=Ot+(Ht-.5)*sn;De.setLineWidth(Qe*1.4),De.line(xt[zn],En,xt[kn],En),De.setLineWidth(.2)}),Kt.forEach((Ht,on)=>{const zn=xt[on];if(Ht===-1){De.setFontSize(it?6:7),De.setFont("helvetica","bold"),De.text("x",zn,Ot-1,{align:"center"});return}if(Ht===0){De.setLineWidth(.3),De.circle(zn,Ot-1.5,.8,"S");return}if(gn.includes(Ht)){const Vn=Kt.findIndex($n=>$n===Ht);if(on!==Vn)return}const En=Ot+(Ht-.5)*sn;De.setFillColor(0,0,0),De.circle(zn,En,Qe,"F")})};return w.jsxs("div",{className:"h-full w-full flex flex-col bg-bg-primary text-text-primary overflow-hidden",children:[w.jsxs("header",{className:`${B?"h-14":"h-12"} border-b border-border-subtle grid grid-cols-[1fr_auto_1fr] items-center ${B?"px-4":"px-3"} bg-bg-secondary shrink-0 z-20 transition-all duration-300 ease-out ${B&&!re&&(j||R)||B&&re&&!qe?"opacity-0 -translate-y-full pointer-events-none absolute top-0 left-0 right-0":"relative"}`,children:[w.jsx("div",{className:"flex items-center gap-2 shrink-0",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"relative",children:w.jsx(Kk,{size:B?32:24})}),w.jsx("span",{className:`font-bold ${B?"text-xs":"text-sm"} tracking-tight hidden sm:block text-text-muted`,children:"Songwriter's Wheel"})]})}),w.jsx("div",{className:"flex items-center justify-center overflow-hidden",children:Ue?w.jsx("input",{type:"text",value:Oe,onChange:De=>$e(De.target.value),onBlur:ot,onKeyDown:en,autoFocus:!0,className:`bg-bg-tertiary border border-border-medium rounded px-3 py-1 ${B?"text-xs":"text-sm"} font-medium text-text-primary focus:outline-none focus:border-accent-primary text-center ${B?"w-40":"w-56"} max-w-[70vw]`,maxLength:50}):w.jsx("span",{onDoubleClick:yt,className:`${B?"text-xs":"text-sm"} font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors px-2 py-1 rounded text-center truncate max-w-[70vw]`,title:"Double-click to edit title",children:r.title})}),w.jsxs("div",{className:`flex items-center ${B?"gap-3":"gap-4"} shrink-0 justify-self-end`,children:[!B&&w.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[w.jsx(oT,{size:11,className:"shrink-0"}),w.jsx("span",{className:"leading-none",children:tt})]}),w.jsxs("div",{className:`flex items-center gap-2 p-[10px] ${B?"text-xs":"text-[10px]"} text-text-muted`,children:[w.jsx("span",{className:"uppercase font-bold",children:"Key"}),w.jsx("span",{className:`font-bold text-accent-primary ${B?"text-base":"text-sm"} min-w-[1.5rem] text-center inline-block`,children:Gs(e)})]}),w.jsxs("div",{className:"relative",ref:Nt,children:[w.jsxs("button",{onClick:()=>ft(!kt),className:`flex items-center gap-1.5 ${B?"text-xs px-2 py-1.5 min-w-[44px]":"text-[11px] px-2 py-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback`,children:[w.jsx(I5,{size:B?16:12}),w.jsx("span",{className:"hidden sm:inline",children:"Save"}),w.jsx(zf,{size:B?12:10,className:`transition-transform ${kt?"rotate-180":""}`})]}),kt&&w.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-[#1a1a24] border border-border-medium rounded-lg shadow-2xl z-50 overflow-hidden",children:[w.jsxs("div",{className:"p-1.5 border-b border-border-subtle bg-[#22222e]",children:[w.jsxs("button",{onClick:Lt,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[w.jsx(I5,{size:14,className:"text-accent-primary"}),"Save Current Song"]}),w.jsxs("button",{onClick:ct,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[w.jsx(mT,{size:14,className:"text-green-400"}),"New Song"]})]}),w.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#1a1a24]",children:mn.length===0?w.jsx("p",{className:"px-3 py-4 text-[10px] text-gray-500 text-center",children:"No saved songs yet"}):w.jsxs("div",{className:"p-1.5",children:[w.jsx("p",{className:"px-2 py-1 text-[9px] text-gray-500 uppercase tracking-wider",children:"Saved Songs"}),mn.map(De=>w.jsxs("div",{onClick:()=>It(De),className:`flex items-center justify-between px-3 py-2 text-xs rounded cursor-pointer transition-colors ${De.id===r.id?"bg-accent-primary/20 text-accent-primary":"text-gray-300 hover:bg-[#2a2a3a]"}`,children:[w.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[w.jsx(bT,{size:12,className:"shrink-0"}),w.jsx("span",{className:"truncate",children:De.title})]}),w.jsx("button",{onClick:ht=>gt(De.id,De.title,ht),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400 shrink-0",children:w.jsx(rg,{size:10})})]},De.id))]})})]})]}),w.jsxs("button",{onClick:bt,className:`flex items-center justify-center ${B?"text-xs px-3 py-1.5 min-w-[44px] min-h-[44px]":"text-[11px] px-2.5 py-1 gap-1.5"} bg-text-primary text-bg-primary rounded font-medium hover:bg-white transition-colors touch-feedback`,children:[w.jsx(hT,{size:B?16:12}),w.jsx("span",{className:"hidden sm:inline sm:ml-1.5",children:"Export"})]})]})]}),w.jsxs("div",{className:`flex-1 flex ${B?re?"flex-row":"flex-col":"flex-row"} overflow-hidden min-h-0`,children:[w.jsxs("div",{"data-wheel-background":!0,className:`flex flex-col min-w-0 min-h-0 bg-gradient-to-b from-bg-primary to-bg-secondary/30 ${B&&re?"shrink-0":"flex-1"} ${B?"overflow-hidden":""} relative`,style:B&&re?{width:`${D}px`,minWidth:"200px",height:"100%"}:void 0,children:[w.jsxs("div",{className:`flex-1 flex flex-col ${B&&!re?"justify-center":B&&re?"justify-center items-center":"justify-center items-center pt-2"} ${B?"overflow-hidden":"overflow-visible"}`,children:[B?null:w.jsxs("div",{className:"flex justify-between px-2 shrink-0 w-full",children:[w.jsx("button",{onClick:()=>q(!0),className:"no-touch-enlarge w-8 h-8 flex items-center justify-center bg-bg-secondary/60 hover:bg-bg-tertiary backdrop-blur-sm rounded-full text-text-muted hover:text-accent-primary transition-colors border border-border-subtle/40",title:"Chord Wheel Guide",children:w.jsx(D5,{size:16})}),w.jsxs("div",{className:"flex items-center bg-bg-secondary/60 backdrop-blur-sm rounded-full px-0.5 border border-border-subtle/40",children:[w.jsx("button",{onClick:pt,disabled:V<=.2,className:"no-touch-enlarge w-4 h-4 flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors",title:"Zoom out",children:w.jsx(ng,{size:8})}),w.jsxs("span",{className:"text-[7px] w-5 text-text-muted text-center font-medium",children:[Math.round(V*100),"%"]}),w.jsx("button",{onClick:Ie,disabled:V>=2.5,className:"no-touch-enlarge w-4 h-4 flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors",title:"Zoom in",children:w.jsx(ed,{size:8})})]})]}),w.jsx("div",{className:`flex-1 flex justify-center ${B?"items-center":""} ${B&&re?"p-1 overflow-hidden":B&&!re?"px-0 py-0":"p-2 overflow-visible"}`,onClick:ut,children:w.jsx("div",{className:"relative flex items-center justify-center",style:B&&re?{width:"calc(100dvh - 60px)",height:"calc(100dvh - 60px)",maxWidth:"100%",maxHeight:"100%",aspectRatio:"1 / 1"}:B&&!re?{width:j?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",height:j?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",maxWidth:j?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",maxHeight:j?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",aspectRatio:"1 / 1"}:{width:`${$}px`,height:`${$}px`,aspectRatio:"1 / 1"},children:w.jsx(XT,{zoomScale:V,zoomOriginY:H,onZoomChange:Y,panOffset:F,onPanChange:Je,rotationOffset:je,disableModeToggle:je!==0})})})]}),B&&w.jsx("button",{onClick:()=>q(!0),onTouchEnd:De=>{De.preventDefault(),De.stopPropagation(),q(!0)},className:`absolute ${re?"top-2 left-2 w-8 h-8":"top-3 left-3 w-11 h-11"} flex items-center justify-center bg-bg-secondary/90 hover:bg-bg-tertiary backdrop-blur-sm rounded-full text-text-muted hover:text-accent-primary transition-colors shadow-lg border border-border-subtle z-50`,style:{touchAction:"auto",pointerEvents:"auto"},title:"Chord Wheel Guide",children:w.jsx(D5,{size:re?14:20})}),B?null:t?w.jsx(w.Fragment,{children:w.jsxs("div",{className:"shrink-0 bg-bg-secondary border-t border-border-subtle overflow-hidden flex flex-col",style:{height:St},children:[w.jsxs("div",{className:"shrink-0 flex items-center justify-between px-2 py-1 border-b border-border-subtle/50 bg-bg-elevated/80",children:[w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsxs("button",{onClick:N,disabled:!E,className:"no-touch-enlarge flex items-center gap-1 px-2 py-1 rounded-md bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Undo (Z)",children:[w.jsx(up,{size:12}),w.jsx("span",{className:"text-[9px] font-medium uppercase tracking-wide",children:"Undo"})]}),w.jsxs("button",{onClick:A,disabled:!T,className:"no-touch-enlarge flex items-center gap-1 px-2 py-1 rounded-md bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Redo (Z)",children:[w.jsx(hp,{size:12}),w.jsx("span",{className:"text-[9px] font-medium uppercase tracking-wide",children:"Redo"})]})]}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsxs("button",{onClick:()=>{lt({isOpen:!0,title:"Clear Timeline",message:"Are you sure you want to clear all chords from the timeline? This action cannot be undone.",confirmLabel:"Clear",isDestructive:!0,onConfirm:c})},className:"no-touch-enlarge text-[8px] px-1 py-0.5 text-text-muted hover:text-red-400 rounded hover:bg-red-400/10 transition-colors flex items-center gap-0.5",title:"Clear all chords from timeline",children:[w.jsx(rg,{size:8}),w.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Clear"})]}),w.jsxs("button",{onClick:s,className:"no-touch-enlarge text-[8px] px-1 py-0.5 text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors flex items-center gap-0.5",title:"Hide timeline",children:[w.jsx(zf,{size:8}),w.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Hide"})]})]})]}),w.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:w.jsx(vm,{isOpen:!0,onToggle:s,hideCloseButton:!0,isCompact:!1,isLandscape:!1})})]})}):w.jsx("div",{className:"h-6 bg-bg-secondary border-t border-border-subtle flex items-center justify-center shrink-0",children:w.jsxs("button",{onClick:s,className:"px-3 h-full flex items-center gap-1 text-[8px] text-text-muted hover:text-text-primary hover:bg-bg-tertiary transition-colors",title:"Show timeline",children:[w.jsx(nT,{size:10}),w.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Timeline"})]})})]}),B&&re?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:`flex h-full ${te?"flex-1":"justify-end"} shrink-0`,style:{minWidth:te?"100px":"28px",transition:"all 0.25s ease-out"},children:[w.jsxs("div",{className:`h-full flex flex-col items-center justify-center cursor-pointer touch-feedback active:bg-bg-tertiary border-l border-border-subtle shrink-0 ${te?"bg-bg-elevated":"bg-bg-secondary"}`,style:{width:"28px"},onClick:()=>{te&&!R&&An.getState().toggleChordPanel(),oe(!te)},children:[w.jsx("div",{className:"h-10 w-1 rounded-full bg-text-muted/50 mb-2"}),w.jsx("span",{className:"text-[9px] font-bold text-text-muted uppercase tracking-wide",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:te?"":"Timeline"})]}),te&&w.jsx("div",{className:"flex-1 h-full bg-bg-secondary overflow-hidden border-l border-border-subtle",children:w.jsx(vm,{isOpen:!0,onToggle:()=>oe(!1),hideCloseButton:!0,isCompact:R,isLandscape:!0})})]}),w.jsxs("div",{className:`flex h-full ${R?"flex-1":""} shrink-0`,style:{minWidth:R?"100px":"28px",transition:"all 0.25s ease-out"},children:[R&&w.jsx("div",{className:"flex-1 h-full bg-bg-secondary overflow-hidden border-l border-border-subtle","data-chord-details":!0,children:w.jsx(ym,{variant:te?"landscape-panel":"landscape-expanded"})}),w.jsxs("div",{className:`h-full flex flex-col items-center justify-center cursor-pointer touch-feedback active:bg-bg-tertiary border-l border-border-subtle shrink-0 ${R?"bg-bg-elevated":"bg-bg-secondary"}`,style:{width:"28px"},onClick:()=>{R&&!te&&oe(!0),An.getState().toggleChordPanel()},children:[w.jsx("div",{className:"h-10 w-1 rounded-full bg-text-muted/50 mb-2"}),w.jsx("span",{className:"text-[9px] font-bold text-text-muted uppercase tracking-wide",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:R?"":"Details"})]})]})]}):B?null:w.jsx(ym,{variant:"sidebar"})]}),B&&!re&&w.jsxs("div",{className:"shrink-0 flex flex-col overflow-hidden",style:{maxHeight:"65vh"},children:[w.jsx(vm,{isOpen:te,onToggle:()=>oe(!te)}),w.jsx("div",{"data-chord-details":!0,className:"shrink-0 bg-bg-primary overflow-hidden",style:{maxHeight:te?"45vh":"55vh"},children:w.jsx(ym,{variant:"drawer",onScrollChange:pe})})]}),!(B&&!re&&(j||R&&!de))&&w.jsx("div",{className:"shrink-0 z-30 relative",style:{paddingBottom:B?"env(safe-area-inset-bottom)":void 0},children:w.jsx(K3,{})}),w.jsx(GM,{isOpen:Se.isOpen,onClose:()=>lt(De=>({...De,isOpen:!1})),onConfirm:Se.onConfirm,title:Se.title,message:Se.message,confirmLabel:Se.confirmLabel,isDestructive:Se.isDestructive}),w.jsx(Qk,{}),w.jsx(JM,{isOpen:I,onClose:()=>q(!1)})]})}M4.createRoot(document.getElementById("root")).render(w.jsx(ae.StrictMode,{children:w.jsx(eL,{})}));export{Jn as _,b1 as c,_4 as g};
